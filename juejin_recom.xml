<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä¸­æ–‡ç¦»çº¿CPUç¯å¢ƒä¸‹ASRæ¨¡å‹æŠ€æœ¯é€‰å‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599474528238452776</link>    <guid>https://juejin.cn/post/7599474528238452776</guid>    <pubDate>2026-01-26T08:47:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599474528238452776" data-draft-id="7599474528238239784" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸­æ–‡ç¦»çº¿CPUç¯å¢ƒä¸‹ASRæ¨¡å‹æŠ€æœ¯é€‰å‹æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2026-01-26T08:47:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬å†œå¯å¤«"/> <meta itemprop="url" content="https://juejin.cn/user/2541726616262061"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸­æ–‡ç¦»çº¿CPUç¯å¢ƒä¸‹ASRæ¨¡å‹æŠ€æœ¯é€‰å‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726616262061/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬å†œå¯å¤«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:47:02.000Z" title="Mon Jan 26 2026 08:47:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸­æ–‡ç¦»çº¿CPUç¯å¢ƒä¸‹ASRæ¨¡å‹æŠ€æœ¯é€‰å‹æŒ‡å—</h2>
<p>åœ¨è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰è½åœ°åœºæ™¯ä¸­ï¼Œä¸­æ–‡é€‚é…æ€§ã€ç¦»çº¿éƒ¨ç½²èƒ½åŠ›åŠCPUç¯å¢ƒå…¼å®¹æ€§æ˜¯æ ¸å¿ƒè¯‰æ±‚ï¼Œå°¤å…¶å¯¹äºæ”¿åŠ¡ã€å®¢æœã€åµŒå…¥å¼ç»ˆç«¯ç­‰æ— GPUæ”¯æŒã€éœ€æœ¬åœ°é—­ç¯è¿è¡Œçš„åœºæ™¯ï¼Œé€‰å‹ç›´æ¥å†³å®šé¡¹ç›®è½åœ°æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡åŸºäºPaddleSpeechã€FunASRã€Whisper V3ç­‰9æ¬¾ä¸»æµå¼€æºASRæ¨¡å‹ï¼Œç»“åˆç¦»çº¿CPUéƒ¨ç½²éœ€æ±‚ï¼Œä»é€‚é…æ€§ã€æ•ˆæœã€éƒ¨ç½²éš¾åº¦ç­‰ç»´åº¦å±•å¼€åˆ†æï¼Œæä¾›ç²¾å‡†é€‰å‹æ–¹æ¡ˆä¸è½åœ°å»ºè®®ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€é€‰å‹æ ¸å¿ƒè¯„ä¼°ç»´åº¦</h3>
<p>é’ˆå¯¹ä¸­æ–‡ç¦»çº¿CPUåœºæ™¯ï¼Œéœ€èšç„¦å››å¤§æ ¸å¿ƒç»´åº¦ï¼Œé¿å…å› èµ„æºä¸åŒ¹é…å¯¼è‡´æ¨ç†å¡é¡¿ã€ç²¾åº¦ä¸è¶³ç­‰é—®é¢˜ï¼š</p>
<ol>
<li><strong>CPUé€‚é…æ€§</strong>ï¼šæ ¸å¿ƒå…³æ³¨æ¨¡å‹é‡åŒ–èƒ½åŠ›ï¼ˆint8/int4ï¼‰ã€å†…å­˜å ç”¨ã€æ¨ç†é€Ÿåº¦ï¼Œä¼˜å…ˆé€‰æ‹©å¯¹CPUçº¿ç¨‹ä¼˜åŒ–ã€æ”¯æŒè½»é‡æ¨ç†æ¡†æ¶çš„æ¨¡å‹ï¼›</li>
<li><strong>ä¸­æ–‡æ•ˆæœ</strong>ï¼šåŒ…æ‹¬æ™®é€šè¯è¯†åˆ«å‡†ç¡®ç‡ã€é€†æ–‡æœ¬æ­£åˆ™åŒ–ï¼ˆæ•°å­—ã€æ—¥æœŸã€ä¸“æœ‰åè¯è½¬æ¢ï¼‰ã€æ–¹è¨€é€‚é…æ€§ï¼ˆå¯é€‰ï¼‰ï¼Œéœ€è´´åˆä¸­æ–‡å£è¯­åœºæ™¯ç‰¹ç‚¹ï¼›</li>
<li><strong>éƒ¨ç½²éš¾åº¦</strong>ï¼šä¾èµ–åº“å¤æ‚åº¦ã€æ˜¯å¦æä¾›é¢„ç¼–è¯‘åŒ…/APIã€è·¨å¹³å°æ”¯æŒï¼ˆWindows/Linuxï¼‰ï¼Œé™ä½é¡¹ç›®é›†æˆæˆæœ¬ï¼›</li>
<li><strong>åŠŸèƒ½é€‚é…</strong>ï¼šæ˜¯å¦æ”¯æŒæµå¼è¯†åˆ«ï¼ˆå®æ—¶å¯¹è¯ï¼‰ã€æ‰¹é‡è½¬å†™ã€VADï¼ˆè¯­éŸ³æ´»æ€§æ£€æµ‹ï¼‰ä¸€ä½“åŒ–ï¼ŒåŒ¹é…å…·ä½“ä¸šåŠ¡åœºæ™¯ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99d0fbce84764a18a675b8e28b798222~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ams5Yac5Y-v5aSr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022021&amp;x-signature=j%2BWExdhW7PJ9MwsLCmQq3P%2FdKr8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€ä¸»æµæ¨¡å‹åˆ†é¡¹è¯„ä¼°ä¸é€‚é…åœºæ™¯</h3>
<p>ç»“åˆä¸Šè¿°ç»´åº¦ï¼Œå¯¹9æ¬¾æ¨¡å‹è¿›è¡Œåˆ†çº§è¯„ä¼°ï¼ŒæŒ‰â€œä¼˜å…ˆæ¨è-å¯å¤‡é€‰-ä¸æ¨èâ€åˆ†ç±»ï¼Œæ˜ç¡®å„æ¨¡å‹çš„é€‚ç”¨è¾¹ç•Œã€‚</p>
<h4 data-id="heading-3">ï¼ˆä¸€ï¼‰ä¼˜å…ˆæ¨èæ¨¡å‹ï¼ˆCPUç¦»çº¿åœºæ™¯æœ€ä½³é€‚é…ï¼‰</h4>
<p>æ­¤ç±»æ¨¡å‹åœ¨ä¸­æ–‡æ•ˆæœã€CPUæ¨ç†æ•ˆç‡ã€éƒ¨ç½²ä¾¿æ·æ€§ä¸Šè¾¾åˆ°å¹³è¡¡ï¼Œå¯ç›´æ¥è½åœ°å·¥ä¸šçº§åœºæ™¯ã€‚</p>
<h5 data-id="heading-4">1. FunASRï¼ˆé˜¿é‡Œè¾¾æ‘©é™¢ï¼‰</h5>
<p>ä½œä¸ºé˜¿é‡Œè¾¾æ‘©é™¢é¢å‘ä¸­æ–‡åœºæ™¯ä¼˜åŒ–çš„å¼€æºASRå·¥å…·åŒ…ï¼ŒFunASRæ˜¯CPUç¦»çº¿éƒ¨ç½²çš„é¦–é€‰æ–¹æ¡ˆã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿çš„åœ¨äºä¸­æ–‡é€‚é…æ·±åº¦ä¸è½»é‡é‡åŒ–èƒ½åŠ›ï¼šæä¾›ä¸“ä¸ºCPUä¼˜åŒ–çš„Nanoæ¨¡å‹ï¼Œint8é‡åŒ–åä½“ç§¯ä»…100MBå·¦å³ï¼Œå†…å­˜å ç”¨ä½è‡³500MBä»¥ä¸‹ï¼Œå•CPUï¼ˆ4çº¿ç¨‹ï¼‰æ¨ç†é€Ÿåº¦å¯è¾¾å®æ—¶1.5å€ä»¥ä¸Šï¼Œæ»¡è¶³æ‰¹é‡è½¬å†™ä¸æµå¼è¯†åˆ«åŒé‡éœ€æ±‚ã€‚</p>
<p>éƒ¨ç½²å±‚é¢ï¼ŒFunASRåŸºäºonnxruntimeå®ç°çº¯CPUç¦»çº¿è¿è¡Œï¼Œæ— éœ€å¤æ‚ä¾èµ–ï¼Œæ”¯æŒPython/C++åŒæ¥å£ï¼ŒWindowsä¸Linuxç³»ç»Ÿå‡èƒ½å¿«é€Ÿé›†æˆï¼ŒåŒæ—¶æä¾›ä¸°å¯Œçš„é¢„è®­ç»ƒæ¨¡å‹ï¼ˆè¦†ç›–é€šç”¨åœºæ™¯ã€æ”¿åŠ¡ã€å®¢æœç­‰å‚ç›´é¢†åŸŸï¼‰ï¼Œå¯ç›´æ¥è°ƒç”¨æ— éœ€é¢å¤–å¾®è°ƒã€‚é€‚åˆæ”¿åŠ¡è¯­éŸ³è½¬å†™ã€å®¢æœè´¨æ£€ã€æœ¬åœ°æ¡Œé¢åº”ç”¨ç­‰å¯¹ç²¾åº¦ä¸æ•ˆç‡å‡æœ‰è¦æ±‚çš„åœºæ™¯ã€‚</p>
<h5 data-id="heading-5">2. WeNetï¼ˆç™¾åº¦&amp;æ¸…åå¤§å­¦ï¼‰</h5>
<p>WeNetæ˜¯å·¥ä¸šçº§ç«¯åˆ°ç«¯ASRå·¥å…·åŒ…ï¼Œä»¥ä½å»¶è¿Ÿæµå¼è¯†åˆ«ä¸ºæ ¸å¿ƒä¼˜åŠ¿ï¼Œå®Œç¾é€‚é…CPUç¦»çº¿å®æ—¶åœºæ™¯ã€‚å…¶ä¸­æ–‡é¢„è®­ç»ƒæ¨¡å‹åŸºäºå¤§è§„æ¨¡ä¸­æ–‡è¯­æ–™è®­ç»ƒï¼Œæ™®é€šè¯è¯†åˆ«å‡†ç¡®ç‡ä¼˜å¼‚ï¼Œæ”¯æŒint8é‡åŒ–ä¼˜åŒ–ï¼ŒCPUæ¨ç†å»¶è¿Ÿå¯æ§åˆ¶åœ¨100msä»¥å†…ï¼Œä¸”å†…å­˜å ç”¨ç¨³å®šï¼Œä¸ä¼šå› é•¿éŸ³é¢‘æ¨ç†å‡ºç°å†…å­˜æº¢å‡ºé—®é¢˜ã€‚</p>
<p>éƒ¨ç½²ä¸Šï¼ŒWeNetæä¾›è½»é‡C++æ¨ç†åº“ä¸Python SDKï¼Œæ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²ä¸è¾¹ç¼˜è®¾å¤‡é›†æˆï¼Œå¯çµæ´»é…ç½®çº¿ç¨‹æ•°ä¸é‡åŒ–ç­–ç•¥ï¼Œé€‚é…ä¸åŒCPUèµ„æºåœºæ™¯ã€‚ç›¸è¾ƒäºFunASRï¼ŒWeNetåœ¨å®æ—¶å¯¹è¯è½¬å†™åœºæ™¯æ›´å…·ä¼˜åŠ¿ï¼Œé€‚åˆæ”¿åŠ¡å®æ—¶äº¤äº’ç»ˆç«¯ã€æ™ºèƒ½å®¢æœè¯æœ¯å®æ—¶è®°å½•ç­‰åœºæ™¯ã€‚</p>
<h5 data-id="heading-6">3. SenseVoiceï¼ˆé˜¿é‡Œè¾¾æ‘©é™¢ï¼ŒåŸºäºsherpa-onnxï¼‰</h5>
<p>SenseVoiceä»¥â€œè½»é‡åŒ–ä¸€ä½“åŒ–â€ä¸ºæ ¸å¿ƒäº®ç‚¹ï¼Œint8é‡åŒ–åæ¨¡å‹ä½“ç§¯229MBï¼Œå†…ç½®VAD+ASR+æ ‡ç‚¹é¢„æµ‹å…¨é“¾è·¯èƒ½åŠ›ï¼Œæ— éœ€é¢å¤–é›†æˆç¬¬ä¸‰æ–¹VADå·¥å…·ï¼Œæå¤§ç®€åŒ–ç¦»çº¿éƒ¨ç½²æµç¨‹ã€‚å…¶é€†æ–‡æœ¬æ­£åˆ™åŒ–èƒ½åŠ›çªå‡ºï¼Œå¯ç²¾å‡†è½¬æ¢æ•°å­—ã€æ—¥æœŸã€é‡‘é¢ç­‰ä¸­æ–‡ç‰¹æ®Šè¡¨è¿°ï¼Œè´´åˆå®é™…ä¸šåŠ¡åœºæ™¯éœ€æ±‚ã€‚</p>
<p>è¯¥æ¨¡å‹åŸºäºonnxæ ¼å¼åˆ†å‘ï¼Œæ”¯æŒçº¯CPUç¦»çº¿è¿è¡Œï¼Œé€‚é…Windowsã€macOSã€Linuxå¤šç³»ç»Ÿï¼Œç”šè‡³å¯éƒ¨ç½²è‡³åµŒå…¥å¼è®¾å¤‡ï¼ˆå¦‚ARMæ¶æ„CPUï¼‰ã€‚æ¨ç†é€Ÿåº¦åœ¨å•CPUç¯å¢ƒä¸‹å¯æ»¡è¶³å®æ—¶éœ€æ±‚ï¼Œé€‚åˆè½»é‡åŒ–ç¦»çº¿è½¬å†™ã€ç§»åŠ¨æ”¿åŠ¡ç»ˆç«¯ã€åµŒå…¥å¼è¯­éŸ³è®¾å¤‡ç­‰èµ„æºå—é™ä½†éœ€å…¨é“¾è·¯èƒ½åŠ›çš„åœºæ™¯ã€‚</p>
<h4 data-id="heading-7">ï¼ˆäºŒï¼‰å¯å¤‡é€‰æ¨¡å‹ï¼ˆéœ€æƒè¡¡èµ„æºä¸æ•ˆæœï¼‰</h4>
<p>æ­¤ç±»æ¨¡å‹å­˜åœ¨éƒ¨åˆ†çŸ­æ¿ï¼Œéœ€æ ¹æ®å…·ä½“åœºæ™¯å–èˆï¼Œä»…åœ¨ç‰¹å®šéœ€æ±‚ä¸‹è€ƒè™‘é€‰ç”¨ã€‚</p>
<h5 data-id="heading-8">1. PaddleSpeechï¼ˆç™¾åº¦ï¼‰</h5>
<p>PaddleSpeechä¸­æ–‡è¯†åˆ«å‡†ç¡®ç‡æä½³ï¼Œä¸”æ”¯æŒASR+TTS+è¯­éŸ³åˆæˆä¸€ä½“åŒ–èƒ½åŠ›ï¼Œè‹¥é¡¹ç›®éœ€å¤šè¯­éŸ³åŠŸèƒ½è”åŠ¨ï¼Œå¯ä½œä¸ºå¤‡é€‰ã€‚ä½†å…¶ä¾èµ–PaddlePaddleæ¡†æ¶ï¼ŒCPUç¯å¢ƒä¸‹éƒ¨ç½²ä¾èµ–é¡¹ç•¥å¤šï¼Œæ¨¡å‹é‡åŒ–åçš„ä½“ç§¯ä¸æ¨ç†é€Ÿåº¦ç•¥é€ŠäºFunASRï¼Œå•CPUæ¨ç†å®æ—¶æ€§ä¸€èˆ¬ï¼Œé€‚åˆç»“åˆé£æ¡¨ç”Ÿæ€ã€å¯¹å¤šè¯­éŸ³èƒ½åŠ›æœ‰éœ€æ±‚çš„æ”¿åŠ¡æˆ–ä¼ä¸šçº§é¡¹ç›®ã€‚</p>
<h5 data-id="heading-9">2. Faster-whisper</h5>
<p>ä½œä¸ºWhisper V3çš„ä¼˜åŒ–ç‰ˆæœ¬ï¼ŒFaster-whisperé€šè¿‡é‡åŒ–ä¸æ¨ç†å¼•æ“ä¼˜åŒ–ï¼Œæå‡äº†CPUé€‚é…æ€§ï¼Œæ”¯æŒint8é‡åŒ–åæ¨¡å‹ä½“ç§¯ç¼©å°è‡³åŸç‰ˆæœ¬çš„1/4ã€‚å…¶ä¼˜åŠ¿åœ¨äºå¤šè¯­ç§æ”¯æŒä¸ä¸­è‹±æ··è¯»èƒ½åŠ›ï¼Œè‹¥åœºæ™¯æ¶‰åŠå°‘é‡è‹±æ–‡å†…å®¹ï¼Œå¯ä½œä¸ºå¤‡é€‰ã€‚ä½†CPUç¯å¢ƒä¸‹æ¨ç†é€Ÿåº¦ä»è¾ƒæ…¢ï¼Œä»…é€‚åˆçŸ­éŸ³é¢‘è½¬å†™ï¼Œé•¿éŸ³é¢‘æ‰¹é‡å¤„ç†æ•ˆç‡ä¸è¶³ï¼Œä¸”ä¸­æ–‡ä¸“æœ‰åè¯è¯†åˆ«å‡†ç¡®ç‡ç•¥ä½äºFunASRã€WeNetã€‚</p>
<h5 data-id="heading-10">3. Voskï¼ˆAlpha Cepheiï¼‰</h5>
<p>Voskæ˜¯æè‡´è½»é‡åŒ–çš„ç¦»çº¿ASRå·¥å…·ï¼Œä¸­æ–‡å°æ¨¡å‹ä½“ç§¯ä»…40MBï¼Œå†…å­˜å ç”¨ä½äº500MBï¼Œæ”¯æŒæ ‘è“æ´¾ç­‰ä½é…ç½®CPUè®¾å¤‡ï¼Œå¼€ç®±å³ç”¨æ— éœ€å¤æ‚é…ç½®ï¼Œéƒ¨ç½²éš¾åº¦æä½ã€‚ä½†å…¶ä¸­æ–‡è¯†åˆ«å‡†ç¡®ç‡ä¸€èˆ¬ï¼Œä»…èƒ½æ»¡è¶³æ—¥å¸¸ç®€å•è¯­éŸ³è½¬å†™éœ€æ±‚ï¼Œä¸é€‚åˆå¯¹ç²¾åº¦è¦æ±‚è¾ƒé«˜çš„æ”¿åŠ¡ã€å®¢æœåœºæ™¯ï¼Œä»…æ¨èç”¨äºèµ„æºæåº¦å—é™çš„è½»é‡åµŒå…¥å¼è®¾å¤‡ã€‚</p>
<h5 data-id="heading-11">4. DeepSpeechï¼ˆMozillaï¼‰</h5>
<p>DeepSpeechåŸºäºCTCæ¶æ„ï¼Œæ¨¡å‹è½»é‡åŒ–ä¸”æ–‡æ¡£å®Œå–„ï¼Œé€‚åˆæ–°æ‰‹å…¥é—¨å­¦ä¹ æˆ–å°å‹ç¦»çº¿é¡¹ç›®ã€‚å…¶CPUé€‚é…æ€§è‰¯å¥½ï¼Œæ”¯æŒå¤šç³»ç»Ÿéƒ¨ç½²ï¼Œä½†ä¸­æ–‡é¢„è®­ç»ƒè¯­æ–™ä¸è¶³ï¼Œè¯†åˆ«å‡†ç¡®ç‡ä¸é€†æ–‡æœ¬æ­£åˆ™åŒ–èƒ½åŠ›è¾ƒå¼±ï¼Œæ¨ç†é€Ÿåº¦ä¸­ç­‰ï¼Œä»…æ¨èç”¨äºå­¦ä¹ ç ”ç©¶ã€åŸå‹éªŒè¯ç­‰éå·¥ä¸šçº§åœºæ™¯ã€‚</p>
<h4 data-id="heading-12">ï¼ˆä¸‰ï¼‰ä¸æ¨èæ¨¡å‹ï¼ˆCPUç¯å¢ƒé€‚é…æ€§æå·®ï¼‰</h4>
<p>æ­¤ç±»æ¨¡å‹å› ä½“ç§¯è¿‡å¤§ã€ä¾èµ–GPUåŠ é€Ÿï¼Œåœ¨çº¯CPUç¯å¢ƒä¸‹æ— æ³•æ­£å¸¸è½åœ°ï¼Œç›´æ¥æ’é™¤ã€‚</p>
<ul>
<li><strong>GLM-ASR-Nano-2512</strong>ï¼šæ¨¡å‹ä½“ç§¯çº¦4.5GBï¼Œçº¯CPUç¯å¢ƒä¸‹æ¨ç†ææ…¢ï¼ˆå•å¥10ç§’éŸ³é¢‘éœ€æ•°ç§’æ¨ç†æ—¶é—´ï¼‰ï¼Œä¸”å†…å­˜å ç”¨æé«˜ï¼Œæ˜“å‡ºç°å¡é¡¿ä¸å†…å­˜æº¢å‡ºï¼Œä»…é€‚åˆGPUç¯å¢ƒä½¿ç”¨ã€‚</li>
<li><strong>Whisper V3</strong>ï¼šåŸç”Ÿæ¨¡å‹ä½“ç§¯å¤§ï¼ŒCPUæ¨ç†è€—æ—¶ä¹…ï¼Œå³ä½¿ç»è¿‡é‡åŒ–ä¼˜åŒ–ï¼Œæ•ˆç‡ä»è¿œä½äºFunASRã€WeNetï¼Œçº¯CPUåœºæ™¯æ— ç«äº‰ä¼˜åŠ¿ã€‚</li>
<li><strong>VibeVoice-ASR</strong>ï¼šæ¨¡å‹å‚æ•°è¾¾9Bï¼Œä¸¥é‡ä¾èµ–CUDA GPUåŠ é€Ÿï¼Œçº¯CPUç¯å¢ƒä¸‹æ¨ç†å‡ ä¹ä¸å¯ç”¨ï¼Œä¸”éƒ¨ç½²å¤æ‚åº¦æé«˜ï¼Œä¸é€‚åˆCPUç¦»çº¿åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-13">ä¸‰ã€è½åœ°é€‰å‹å†³ç­–è·¯å¾„ä¸ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-14">ï¼ˆä¸€ï¼‰é€‰å‹å†³ç­–è·¯å¾„</h4>
<p>ç»“åˆä¸šåŠ¡åœºæ™¯å¿«é€Ÿé”å®šæ¨¡å‹ï¼Œå¯éµå¾ªä»¥ä¸‹å†³ç­–é€»è¾‘ï¼š</p>
<ol>
<li>è‹¥éœ€<strong>é«˜ç²¾åº¦+é«˜æ•ˆç‡+æ˜“éƒ¨ç½²</strong>ï¼ˆé€šç”¨å·¥ä¸šçº§åœºæ™¯ï¼‰ï¼šä¼˜å…ˆé€‰FunASRï¼›</li>
<li>è‹¥éœ€<strong>å®æ—¶æµå¼è¯†åˆ«</strong>ï¼ˆå¦‚å®æ—¶å¯¹è¯ã€æ™ºèƒ½ç»ˆç«¯ï¼‰ï¼šä¼˜å…ˆé€‰WeNetï¼›</li>
<li>è‹¥éœ€<strong>æè‡´è½»é‡åŒ–+å…¨é“¾è·¯èƒ½åŠ›</strong>ï¼ˆåµŒå…¥å¼/è¾¹ç¼˜è®¾å¤‡ï¼‰ï¼šé€‰SenseVoiceï¼›</li>
<li>è‹¥éœ€<strong>å¤šè¯­ç§/ä¸­è‹±æ··è¯»</strong>ï¼ˆçŸ­éŸ³é¢‘åœºæ™¯ï¼‰ï¼šå¯å¤‡é€‰Faster-whisperï¼›</li>
<li>è‹¥ä¸º<strong>èµ„æºæåº¦å—é™çš„è½»é‡åœºæ™¯</strong>ï¼ˆéé«˜ç²¾åº¦éœ€æ±‚ï¼‰ï¼šå¤‡é€‰Voskã€‚</li>
</ol>
<h4 data-id="heading-15">ï¼ˆäºŒï¼‰CPUç¦»çº¿éƒ¨ç½²ä¼˜åŒ–å»ºè®®</h4>
<p>ä¸ºè¿›ä¸€æ­¥æå‡CPUç¯å¢ƒä¸‹çš„æ¨ç†æ•ˆç‡ï¼Œå¯é‡‡ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ol>
<li><strong>æ¨¡å‹é‡åŒ–</strong>ï¼šä¼˜å…ˆé€‰ç”¨int8é‡åŒ–æ¨¡å‹ï¼Œç›¸è¾ƒäºFP32æ¨¡å‹ï¼Œä½“ç§¯ç¼©å°4å€ï¼Œæ¨ç†é€Ÿåº¦æå‡2-3å€ï¼Œä¸”ç²¾åº¦æŸå¤±æ§åˆ¶åœ¨1%-2%ä»¥å†…ï¼Œå‡ ä¹ä¸å½±å“ä¸šåŠ¡ä½¿ç”¨ï¼›</li>
<li><strong>çº¿ç¨‹é…ç½®</strong>ï¼šæ ¹æ®CPUæ ¸å¿ƒæ•°åˆç†è®¾ç½®æ¨ç†çº¿ç¨‹ï¼ˆå»ºè®®4-8çº¿ç¨‹ï¼‰ï¼Œé¿å…çº¿ç¨‹è¿‡å¤šå¯¼è‡´èµ„æºç«äº‰ï¼Œçº¿ç¨‹è¿‡å°‘å½±å“æ¨ç†é€Ÿåº¦ï¼›</li>
<li><strong>æ¨ç†æ¡†æ¶</strong>ï¼šä¼˜å…ˆä½¿ç”¨onnxruntimeæ¡†æ¶ï¼Œå¯ç”¨CPUä¼˜åŒ–é€‰é¡¹ï¼ˆå¦‚MKLDNNåŠ é€Ÿï¼‰ï¼Œè¿›ä¸€æ­¥æå‡æ¨ç†æ•ˆç‡ï¼›</li>
<li><strong>éŸ³é¢‘é¢„å¤„ç†</strong>ï¼šç»Ÿä¸€éŸ³é¢‘æ ¼å¼ä¸º16kHzã€å•å£°é“ã€16bitï¼Œå‡å°‘æ¨¡å‹é¢„å¤„ç†è€—æ—¶ï¼Œæå‡æ¨ç†æµç•…åº¦ã€‚</li>
</ol>
<h3 data-id="heading-16">å››ã€æ€»ç»“</h3>
<p>ä¸­æ–‡ç¦»çº¿CPUç¯å¢ƒä¸‹çš„ASRé€‰å‹ï¼Œæ ¸å¿ƒæ˜¯å¹³è¡¡â€œç²¾åº¦ã€æ•ˆç‡ã€éƒ¨ç½²æˆæœ¬â€ä¸‰è€…å…³ç³»ã€‚FunASRã€WeNetã€SenseVoiceä¸‰æ¬¾æ¨¡å‹è¦†ç›–äº†ç»å¤§å¤šæ•°å·¥ä¸šçº§åœºæ™¯ï¼Œå…¶ä¸­FunASRç»¼åˆè¡¨ç°æœ€ä¼˜ï¼Œå¯ä½œä¸ºé¦–é€‰ï¼›WeNetä¸SenseVoiceåˆ†åˆ«åœ¨æµå¼è¯†åˆ«ã€è½»é‡åŒ–åœºæ™¯ä¸­å…·å¤‡ç‹¬ç‰¹ä¼˜åŠ¿ï¼Œå¯é’ˆå¯¹æ€§é€‰ç”¨ã€‚</p>
<p>é€‰å‹æ—¶éœ€åšå†³æ’é™¤GPUä¾èµ–å‹æ¨¡å‹ï¼ŒåŒæ—¶æ ¹æ®ä¸šåŠ¡åœºæ™¯çš„ç²¾åº¦éœ€æ±‚ã€èµ„æºé™åˆ¶ã€åŠŸèƒ½è¯‰æ±‚ï¼Œçµæ´»è°ƒæ•´æ¨¡å‹ä¸ä¼˜åŒ–ç­–ç•¥ï¼Œç¡®ä¿é¡¹ç›®é«˜æ•ˆè½åœ°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€šè¿‡é‡æ–°ç”Ÿæˆæ¥ä¿®å¤å­—ä½“æ–‡ä»¶é—®é¢˜]]></title>    <link>https://juejin.cn/post/7599155566298071083</link>    <guid>https://juejin.cn/post/7599155566298071083</guid>    <pubDate>2026-01-26T09:43:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599155566298071083" data-draft-id="7594627998839423018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€šè¿‡é‡æ–°ç”Ÿæˆæ¥ä¿®å¤å­—ä½“æ–‡ä»¶é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T09:43:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹˜é£è½¬èˆµ"/> <meta itemprop="url" content="https://juejin.cn/user/2260251640086279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€šè¿‡é‡æ–°ç”Ÿæˆæ¥ä¿®å¤å­—ä½“æ–‡ä»¶é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2260251640086279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹˜é£è½¬èˆµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:43:38.000Z" title="Mon Jan 26 2026 09:43:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æœ‰æ²¡æœ‰é‡åˆ°è¿™ç§æƒ…å†µï¼Œ</h2>
<blockquote>
<p>ç¾æœ¯å¯¼å‡ºçš„å­—ä½“ï¼Œå¥¹ç”¨ç€å¯ä»¥ï¼Œä½†æ˜¯å‰ç«¯é¡µé¢å¼•ç”¨å°±ä¸ç”Ÿæ•ˆ</p>
</blockquote>
<h2 data-id="heading-1">å¯èƒ½çš„åŸå› </h2>
<h3 data-id="heading-2">1. æµè§ˆå™¨çš„â€œå®‰æ£€æœºåˆ¶â€ï¼šOTS æ‹¦æˆª</h3>
<p>ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariï¼‰åœ¨åŠ è½½ Web å­—ä½“æ—¶ï¼Œéƒ½ä¼šè¿è¡Œä¸€ä¸ªå«ä½œ <strong>OTS (OpenType Sanitizer)</strong> çš„ç¨‹åºã€‚</p>
<ul>
<li><strong>å®ƒçš„èŒè´£ï¼š</strong> é˜²æ­¢æ¶æ„å­—ä½“åˆ©ç”¨è§£ææ¼æ´æ”»å‡»ç”¨æˆ·çš„ç³»ç»Ÿã€‚å®ƒä¼šå¯¹å­—ä½“çš„æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ Tableï¼ˆæ•°æ®è¡¨ï¼‰è¿›è¡Œæå…¶ä¸¥æ ¼çš„æ ¡éªŒã€‚</li>
<li><strong>åæœï¼š</strong> å¦‚æœå­—ä½“æ–‡ä»¶çš„æ ¡éªŒå’Œï¼ˆChecksumï¼‰å¯¹ä¸ä¸Šï¼Œæˆ–è€…å†…éƒ¨ç´¢å¼•è¡¨æœ‰ 1 å­—èŠ‚çš„åç§»é”™è¯¯ï¼Œæµè§ˆå™¨ä¼š<strong>ç›´æ¥æ‹’ç»åŠ è½½</strong>è¯¥æ–‡ä»¶ï¼Œå¹¶åœ¨æ§åˆ¶å°æŠ¥é”™ã€‚</li>
<li><strong>Photoshop çš„åšæ³•ï¼š</strong> PS è°ƒç”¨çš„æ˜¯æ“ä½œç³»ç»Ÿçš„å­—ä½“å¼•æ“ï¼ˆæˆ–è€…æ˜¯ Adobe è‡ªå®¶çš„å¼•æ“ï¼‰ã€‚è¿™äº›å¼•æ“ä¸ºäº†å…¼å®¹è€æ—§å­—ä½“ï¼Œé€šå¸¸éå¸¸â€œå®½å®¹â€ã€‚å³ä½¿æ–‡ä»¶ç»“æ„æœ‰ç‘•ç–µï¼Œåªè¦å®ƒèƒ½æ‰¾åˆ°ç¬”ç”»æ•°æ®ï¼Œå®ƒå°±èƒ½å¼ºè¡Œç”»å‡ºæ¥ã€‚</li>
</ul>
<h3 data-id="heading-3">2. æƒé™ä¸ç‰ˆæƒä½ï¼ˆEmbedding Bitsï¼‰</h3>
<p>å­—ä½“æ–‡ä»¶å†…éƒ¨æœ‰ä¸€ä¸ªå­—æ®µå« <code>fsType</code>ï¼Œä¸“é—¨æ ‡è®°è¯¥å­—ä½“æ˜¯å¦å…è®¸â€œåµŒå…¥â€ã€‚</p>
<ul>
<li><strong>ç½‘é¡µç«¯çš„é™åˆ¶ï¼š</strong> å¦‚æœè¿™ä¸ªä½è¢«è®¾ç½®ä¸ºâ€œå—é™ï¼ˆRestrictedï¼‰â€ï¼Œæµè§ˆå™¨ä¼šéµå¾ªç‰ˆæƒåè®®ï¼Œæ‹’ç»åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºè¯¥å­—ä½“ã€‚</li>
<li><strong>Photoshop çš„åšæ³•ï¼š</strong> æ—¢ç„¶è®¾è®¡å¸ˆèƒ½æŠŠå­—ä½“è£…è¿›ç³»ç»Ÿï¼ŒPS å°±è®¤ä¸ºä½ å·²ç»æ‹¥æœ‰äº†ä½¿ç”¨æƒï¼Œæ‰€ä»¥å®ƒä¸ä¼šé™åˆ¶ä½ åœ¨è®¾è®¡ç¨¿é‡Œä½¿ç”¨å®ƒã€‚</li>
<li><strong>FontForge çš„ä½œç”¨ï¼š</strong> å½“ä½ åœ¨ FontForge é‡Œå¯¼å‡ºæ–°å­—ä½“æ—¶ï¼Œé»˜è®¤è®¾ç½®é€šå¸¸ä¼šé‡ç½®è¿™äº›æƒé™ä½ï¼Œä½¿å…¶å˜ä¸ºâ€œå¯åµŒå…¥ï¼ˆInstallable Embeddingï¼‰â€ï¼Œä»è€Œè§£å¼€äº†æµè§ˆå™¨çš„æ·é”ã€‚</li>
</ul>
<h3 data-id="heading-4">3. å‘½åç©ºé—´ä¸è·¨åŸŸï¼ˆCORSï¼‰</h3>
<p>è™½ç„¶è¿™ä¸å­—ä½“å†…éƒ¨ç»“æ„å…³ç³»è¾ƒå°ï¼Œä½†ä¹Ÿæ˜¯å‰ç«¯å¸¸é‡åˆ°çš„å‘ï¼š</p>
<ul>
<li><strong>æ–‡ä»¶å¤´ä¿¡æ¯ï¼š</strong> æœ‰äº›å­—ä½“å†…éƒ¨çš„ <code>PostScript Name</code> åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–ä¸­æ–‡å­—ç¬¦ï¼ŒPS èƒ½å¤Ÿè¯†åˆ«ï¼Œä½† CSS å¼•ç”¨æ—¶å¦‚æœåç§°ä¸åŒ¹é…æˆ–åŒ…å«éæ³•å­—ç¬¦ï¼Œæµè§ˆå™¨å°±æ‰¾ä¸åˆ°ã€‚</li>
<li><strong>FontForge çš„ä½œç”¨ï¼š</strong> å¯¼å‡ºè¿‡ç¨‹ä¼šæ ¹æ®è§„èŒƒé‡æ–°æ ¼å¼åŒ–å­—ä½“çš„â€œåå­—è¡¨ï¼ˆNaming Tableï¼‰â€ï¼Œæ¶ˆé™¤äº†å‘½åçš„æ­§ä¹‰ã€‚</li>
<li/>
</ul>
<h2 data-id="heading-5">è§£å†³æ–¹æ³•</h2>
<h3 data-id="heading-6">ä½¿ç”¨FontForgeè¿™ç±»å­—ä½“ç¼–è¾‘å™¨é‡æ–°ç”Ÿæˆä¸€ä¸‹å­—ä½“æ–‡ä»¶æ¥è§£å†³</h3>
<p>é‡æ–°ç”Ÿæˆä¼šåšå¦‚ä¸‹çš„äº‹æƒ…</p>
<ol>
<li><strong>æ¸…ç†å†—ä½™æ•°æ®ï¼š</strong> FontForge ä¼šä¸¢å¼ƒåŸæ–‡ä»¶ä¸­ä¸è§„èŒƒçš„è‡ªå®šä¹‰æ•°æ®ã€‚</li>
<li><strong>é‡æ–°è®¡ç®—æ ¡éªŒï¼š</strong> å®ƒä¼šä¸ºæ‰€æœ‰çš„ Table é‡æ–°è®¡ç®—æ­£ç¡®çš„æ ¡éªŒå’Œï¼ˆChecksumï¼‰ï¼Œè¿™ç›´æ¥é€šè¿‡äº†æµè§ˆå™¨çš„ <strong>OTS å®‰æ£€</strong>ã€‚</li>
<li><strong>æ ‡å‡†åŒ–æ ¼å¼ï¼š</strong> å®ƒå¼ºåˆ¶æŒ‰ç…§ OpenType/TrueType æœ€æ–°çš„æ ‡å‡†åè®®æ¥æ’åˆ—æ–‡ä»¶çš„äºŒè¿›åˆ¶ç»“æ„ã€‚</li>
</ol>
<blockquote>
</blockquote>
<h3 data-id="heading-7">FontForgeä¸‹è½½</h3>
<ul>
<li>å¼€æºå…è´¹</li>
<li>è·¨å¹³å°ï¼ˆWindows/macOS/Linuxï¼‰</li>
<li>æ”¯æŒ TTF/OTF/WOFF/WOFF2/SVG/BDF ç­‰äº’è½¬</li>
</ul>
<p>å®˜ç½‘  <a href="https://link.juejin.cn?target=https%3A%2F%2Ffontforge.org" target="_blank" title="https://fontforge.org" ref="nofollow noopener noreferrer">fontforge.org</a></p>
<p>ä½¿ç”¨æ–‡æ¡£  <a href="https://link.juejin.cn?target=https%3A%2F%2Ffontforge.org%2Fdocs%2Fui%2Fmenus.html" target="_blank" title="https://fontforge.org/docs/ui/menus.html" ref="nofollow noopener noreferrer">fontforge.org/docs/ui/menâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/814ae29c63e8410c95c4ea6cef551c10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=MjP4lFPe5Mpz88gfaWBT2RBTXbo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">å¯¼å…¥å­—ä½“</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd6750de6cc4dbeb6f6956ae7a86931~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=i5PLeLJcFGrPhV4d3e9RdRZ6flg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">è¿™é‡Œå¯ä»¥æŸ¥çœ‹å­—ä½“çš„æŠ¥é”™</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83b3a0db54914b2dadee1243797e72f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=%2FzFlAOVrsNz7yNdEJaizqN8HS2I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4a871797ae14a02926b69751cab4608~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=jVxWVmdVXz9WsBsRQ9QF7jx3kNk%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><code>Missing Points at Extrema</code>ï¼ˆæå€¼ç‚¹ç¼ºå¤±ï¼‰ï¼šè¿™ä¸»è¦å½±å“å­—ä½“åœ¨ç‰¹å®šå°ºå¯¸ä¸‹çš„æ¸²æŸ“æ¸…æ™°åº¦ï¼ˆHintingï¼‰ã€‚</p>
</li>
<li>
<p><code>Self Intersecting</code>ï¼ˆè·¯å¾„è‡ªç›¸äº¤ï¼‰ï¼šè¿™å¯èƒ½å¯¼è‡´æŸäº›è½¯ä»¶é‡Œå¡«å……è‰²å—å¼‚å¸¸ã€‚</p>
</li>
<li>
<p><strong>ç»“è®ºï¼š</strong> è¿™äº›å±äºâ€œç»˜å›¾è§„èŒƒâ€é—®é¢˜ï¼Œ<strong>å®ƒä»¬é€šå¸¸ä¸ä¼šå¯¼è‡´å­—ä½“æ— æ³•åŠ è½½</strong>ï¼Œåªä¼šè®©å­—çœ‹èµ·æ¥å¯èƒ½æœ‰ç‚¹ä¸‘æˆ–æ¸²æŸ“ä¸å®Œç¾</p>
</li>
</ul>
<h3 data-id="heading-10">é‡æ–°ç”Ÿæˆå­—ä½“æ–‡ä»¶</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44c4714fb62f46178fe0c64843627e83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=9ttgk76eIytWsOCX%2Fnae%2FObj8Xw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">é€‰æ‹©å¯¼å‡ºçš„æ–‡ä»¶æ ¼å¼</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d66250a8de4492aaa75f4bd18b53ae1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025417&amp;x-signature=gNbqhh9T2AKCS9xOar%2FWs2O5%2Bkw%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><strong>åŸå§‹æ–‡ä»¶å¯èƒ½å­˜åœ¨çš„é—®é¢˜ï¼š</strong> åŸå§‹å­—ä½“å¯èƒ½å­˜åœ¨æŸåçš„åç§»é‡ã€é”™è¯¯çš„æ ¡éªŒå’Œï¼ˆChecksumï¼‰ã€æˆ–è€…ä¸ç¬¦åˆè§„èŒƒçš„ Headerï¼ˆå¤´éƒ¨ä¿¡æ¯ï¼‰ã€‚æµè§ˆå™¨ï¼ˆå°¤å…¶æ˜¯ Chrome/Firefoxï¼‰å¯¹ Web å­—ä½“çš„å®‰å…¨æ€§æ£€æŸ¥éå¸¸ä¸¥æ ¼ï¼Œåªè¦ç»“æ„æœ‰ä¸€ç‚¹ä¸åˆè§„ï¼Œå°±ä¼šæ‹’ç»åŠ è½½ã€‚</p>
</li>
<li>
<p><strong>FontForge çš„ä½œç”¨ï¼š</strong> å½“ä½ ç‚¹å‡»â€œGenerateâ€æ—¶ï¼ŒFontForge å¹¶ä¸æ˜¯ç®€å•åœ°â€œå¤åˆ¶â€æ—§æ–‡ä»¶ï¼Œè€Œæ˜¯æ ¹æ®å®ƒå†…å­˜ä¸­çš„æ•°æ®æ¨¡å‹ï¼Œ<strong>é‡æ–°ä»é›¶å¼€å§‹æ„å»º</strong>äº†ä¸€ä¸ªå…¨æ–°çš„ <code>.ttf</code> æ–‡ä»¶ã€‚å®ƒä¼šè‡ªåŠ¨ç”Ÿæˆç¬¦åˆæ ‡å‡†çš„æ–° Tableï¼ˆå¦‚ <code>head</code>, <code>hhea</code>, <code>maxp</code>, <code>OS/2</code> ç­‰ï¼‰ã€‚è¿™ä¸ªâ€œé‡å†™â€è¿‡ç¨‹è‡ªåŠ¨ä¿®å¤äº†å¯¼è‡´æµè§ˆå™¨æŠ¥é”™çš„åº•å±‚ç»“æ„é—®é¢˜ã€‚</p>
</li>
</ul>
<p><strong>å¯¼å‡ºä¹‹åæ–°çš„å­—ä½“æ–‡ä»¶å°±å¯ä»¥ç”¨äº†ï¼Œå¯¹äºå‰ç«¯æ¥è¯´äº†è§£åˆ°è¿™å°±å¤Ÿç”¨äº†</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Three.js è‰²å½©ç©ºé—´çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼]]></title>    <link>https://juejin.cn/post/7599155566298087467</link>    <guid>https://juejin.cn/post/7599155566298087467</guid>    <pubDate>2026-01-26T09:44:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599155566298087467" data-draft-id="7599299048302575659" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Three.js è‰²å½©ç©ºé—´çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-26T09:44:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹˜é£è½¬èˆµ"/> <meta itemprop="url" content="https://juejin.cn/user/2260251640086279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Three.js è‰²å½©ç©ºé—´çš„æ­£ç¡®ä½¿ç”¨æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2260251640086279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹˜é£è½¬èˆµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:44:34.000Z" title="Mon Jan 26 2026 09:44:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">threeä¸­è‰²å½©ç©ºé—´å¸¸è§ç”¨å¤„</h2>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç»™æè´¨è®¾ç½®è‰²å½©ç©ºé—´</span>
material1.map.colorSpace = THREE.SRGBColorSpace;

<span class="hljs-comment">// ç»™æ¸²æŸ“å™¨çš„è¾“å‡ºè‰²å½©ç©ºé—´, ä¸è®¾ç½®çš„è¯é»˜è®¤å€¼ä¹Ÿæ˜¯SRGBColorSpace</span>
<span class="hljs-keyword">new</span> THREE.<span class="hljs-built_in">WebGLRenderer</span>( { outputColorSpace: THREE.SRGBColorSpace } );
</code></pre>
<blockquote>
<p>three.js r152+ ä¹‹åé»˜è®¤å°±æ˜¯ <code>SRGBColorSpace</code>ï¼Œè€ç‰ˆæœ¬ï¼ˆ<code>outputEncoding</code> æ—¶ä»£ï¼‰è¡Œä¸ºä¸åŒ</p>
</blockquote>
<h2 data-id="heading-1">è‰²å½©ç©ºé—´çš„é€‰é¡¹</h2>
<ul>
<li>
<p>SRGBColorSpace-sRGB è‰²å½©ç©ºé—´</p>
</li>
<li>
<p>LinearSRGBColorSpace-çº¿æ€§sRGBè‰²å½©ç©ºé—´</p>
</li>
</ul>
<h2 data-id="heading-2">åŒºåˆ«ï¼Ÿ</h2>
<p><strong>SRGBColorSpaceè¿›è¡Œäº†ä¼½é©¬æ ¡æ­£</strong></p>
<h2 data-id="heading-3">ä¸ºä»€ä¹ˆä¼šæœ‰ä¼½é©¬æ ¡æ­£ï¼Ÿ</h2>
<ol>
<li>
<h3 data-id="heading-4">çº æ­£ç¡¬ä»¶çš„é—®é¢˜</h3>
</li>
</ol>
<p>åœ¨æ¶²æ™¶æ˜¾ç¤ºå™¨æ™®åŠä¹‹å‰ï¼Œä½¿ç”¨çš„æ˜¯ç¬¨é‡çš„ <strong>CRT</strong> <strong>ï¼ˆé˜´å½±</strong> <strong>æ …æ ¼</strong> <strong>æ˜¾åƒç®¡</strong> <strong>ï¼‰</strong> ç”µè§†ã€‚CRT çš„å·¥ä½œåŸç†æ˜¯ç”¨ç”µå­æªå°„å‡ºç”µå­æŸè½°å‡»å±å¹•ï¼Œç§‘å­¦å®¶å‘ç°ï¼Œç”µå­æªçš„ç”µå‹å€¼å’Œå±å¹•äº§ç”Ÿçš„äº®åº¦ä¹‹é—´å¹¶ä¸æ˜¯ 1:1 çš„çº¿æ€§å…³ç³»ï¼Œè€Œæ˜¯ä¸€ä¸ªå¹‚å‡½æ•°å…³ç³»ï¼š</p>
<p>ä¹Ÿå°±æ˜¯å¦‚ä¸‹å›¾ä¸­çº¢è‰²æ›²çº¿æ‰€ç¤ºï¼Œè·ŸåŸæœ¬è“è‰²è™šçº¿æ¯”è¾ƒï¼Œäº®åº¦æ˜¯åä½çš„</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64c5ad22775e4c8bbe15f0becd4349ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=g614mGmcGMEw7bKVH55AlavzE5Q%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥ä¸ºäº†è¿˜åŸçœŸå®æ•ˆæœï¼ŒæŠµæ¶ˆè°ƒ <strong>CRT</strong>å‹ä½çš„äº®åº¦ï¼Œé‚£å°±æŠŠçœŸå®äº®åº¦æ•°æ®æé«˜ï¼Œæé«˜æˆç»¿è‰²æ›²çº¿é‚£æ ·ï¼Œè¿™æ ·ä¸€æŠµæ¶ˆï¼Œæ˜¾ç¤ºå°±æ­£å¸¸äº†ï¼Œè¿™ä¸ªæé«˜çš„è¿‡ç¨‹å°±æ˜¯ä¼½é©¬æ ¡æ­£</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14fe97c5b3f2465fbe306f521e83eaaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=dXN9kq9iDejcOrQzG%2FaxZDpDx5Q%3D" alt="" loading="lazy"/></p>
<ol start="2">
<li>
<h3 data-id="heading-5">ä¹Ÿèƒ½æ»¡è¶³å­˜å‚¨ç©ºé—´åˆç†åˆ†é…</h3>
</li>
</ol>
<ul>
<li>
<p><strong>äººçœ¼ç‰¹æ€§</strong>ï¼šæˆ‘ä»¬å¯¹æš—éƒ¨çš„å˜åŒ–éå¸¸æ•æ„Ÿï¼Œè€Œå¯¹äº®éƒ¨çš„å˜åŒ–æ¯”è¾ƒè¿Ÿé’ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åˆ†é…çš„çŸ›ç›¾</strong>ï¼šå¦‚æœæˆ‘ä»¬åœ¨ç”µè„‘é‡Œç”¨â€œçº¿æ€§â€æ–¹å¼å­˜å‚¨äº®åº¦ï¼ˆæ¯”å¦‚ 0 ä»£è¡¨é»‘ï¼Œ128 ä»£è¡¨åŠäº®ï¼Œ255 ä»£è¡¨å…¨äº®ï¼‰ï¼š</p>
<ul>
<li>åœ¨ 0 åˆ° 10 ä¹‹é—´ï¼ˆæš—éƒ¨ï¼‰ï¼Œåªæœ‰ 10 ä¸ªæ¡£ä½ã€‚å› ä¸ºæˆ‘ä»¬çœ¼ç›å¤ªæ•æ„Ÿï¼Œè¿™ 10 ä¸ªæ¡£ä½ä¹‹é—´çš„è·³å˜çœ‹èµ·æ¥ä¼šåƒé˜¶æ¢¯ä¸€æ ·ï¼Œéå¸¸ä¸è‡ªç„¶ï¼ˆè¿™å°±æ˜¯â€œè‰²å½©æ–­å±‚â€ï¼‰ã€‚</li>
<li>åœ¨ 200 åˆ° 250 ä¹‹é—´ï¼ˆäº®éƒ¨ï¼‰ï¼Œè™½ç„¶æœ‰ 50 ä¸ªæ¡£ä½ï¼Œä½†æˆ‘ä»¬çš„çœ¼ç›æ ¹æœ¬åˆ†ä¸å‡ºè¿™ 50 ç§äº®åº¦çš„åŒºåˆ«ã€‚è¿™éƒ¨åˆ†æ˜‚è´µçš„å­˜å‚¨ç©ºé—´ï¼ˆä½æ·±ï¼‰å°±è¢«<strong>æµªè´¹</strong>äº†ã€‚</li>
</ul>
</li>
<li>
<p><strong>è§£å†³æ–¹æ¡ˆï¼ˆä¼½é©¬ç¼–ç ï¼‰</strong> ï¼š æ•…æ„æŠŠ 256 ä¸ªæ¡£ä½ä¸­çš„å¤§éƒ¨åˆ†éƒ½åˆ†ç»™â€œæš—éƒ¨â€ï¼Œåªç•™å°‘éƒ¨åˆ†ç»™â€œäº®éƒ¨â€ã€‚è¿™æ ·æ—¢ç…§é¡¾äº†äººçœ¼çš„æ•æ„Ÿåº¦ï¼Œåˆæ²¡æœ‰æµªè´¹å­˜å‚¨ç©ºé—´ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ 8 ä½ï¼ˆ0-255ï¼‰çš„ç©ºé—´é‡Œï¼ŒæŠŠæ›´å¤šæ•°å€¼åˆ†é…ç»™æ•æ„Ÿçš„æš—éƒ¨ï¼Œè®©æœ‰é™çš„èµ„æºå‘æŒ¥æœ€å¤§æ•ˆç”¨ã€‚å¦‚å›¾æ‰€ç¤ºï¼ˆéšä¾¿æ‰¾ä¸€ä¸ªä»¥å‰çš„æš—éƒ¨åŒºåŸŸå€¼ï¼Œæ˜ å°„åå å±…çš„åŒºåŸŸæ˜æ˜¾å˜å¤šï¼‰</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb9888e1877b4336a9a2f3344490c4f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=KaHZ%2FjNpcEZOjqiA0KTA58Fs3AE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆç°åœ¨å±å¹•â€œæ­£å¸¸â€äº†ï¼Œè¿˜éœ€è¦å®ƒï¼Ÿ</h2>
<p>ç°åœ¨çš„æ¶²æ™¶ï¼ˆLCDï¼‰æˆ– OLED å±å¹•å®Œå…¨å¯ä»¥åšåˆ°â€œç»™ 128 å°±äº® 50%â€ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æŠ˜è…¾ï¼Ÿ</p>
<h3 data-id="heading-7">è¡Œä¸šæ ‡å‡†çš„æƒ¯æ€§</h3>
<p>å…¨çƒäº’è”ç½‘ä¸Š 99% çš„å›¾ç‰‡ï¼ˆJPEGï¼‰ã€è§†é¢‘ï¼ˆMP4ï¼‰å’Œç½‘é¡µæ ‡å‡†ï¼ˆHTML/CSSï¼‰éƒ½æ˜¯åŸºäº <strong>sRGB</strong> è‰²å½©ç©ºé—´å­˜å‚¨çš„</p>
<ul>
<li>
<p>å¦‚æœæ˜¾ç¤ºå™¨çªç„¶æ”¹ä¸ºâ€œçº¿æ€§æ˜¾ç¤ºâ€ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„äº’è”ç½‘å†…å®¹çœ‹èµ·æ¥éƒ½ä¼šå˜å¾—<strong>éå¸¸äº®</strong>ã€‚</p>
</li>
<li>
<p>å¹¶ä¸”å›¾ç‰‡å¤§å¤šè¿˜æ˜¯å¦‚å›¾æ‰€ç¤º8ä½ï¼Œéœ€è¦ä¸Šé¢è¯´è¿‡çš„æ»¡è¶³å­˜å‚¨ç©ºé—´å¹¶åˆç†åˆ†é…</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebc0a6068a5740dabf5ad078436742ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=1KoT0lLRjTPLqMWe74jyjnzGt8Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æ­£ç¡®è‰²å½©ç©ºé—´å¤„ç†çš„æµç¨‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3fdafe40b0f4b399c8f95bcd774a2d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=OAbZ92yxjuxqdjoAU4iB7Ud9ggw%3D" alt="" loading="lazy"/></p>
<ol>
<li>
<p><strong>åŸå§‹å›¾ç‰‡</strong> é»˜è®¤æ˜¯ sRGB è‰²å½©ç©ºé—´ï¼Œå®ƒè‡ªå¸¦ä¸€æ¡ â€œä¸Šç¿˜â€ çš„ä¼½é©¬æ›²çº¿</p>
</li>
<li>
<p><strong>è½¬æˆ</strong> <strong>çº¿æ€§ç©ºé—´</strong> ï¼šåœ¨è¿›å…¥ GPU è¿ç®—å‰ï¼Œéœ€è¦å…ˆæŠŠå›¾ç‰‡ä» sRGB éçº¿æ€§ç©ºé—´è½¬æ¢ä¸º <strong>Linearï¼ˆçº¿æ€§ï¼‰sRGB</strong> ç©ºé—´ã€‚è¿™ä¸€æ­¥ä¼šæŠŠä¸Šç¿˜çš„æ›²çº¿ â€œæ‹‰å¹³â€ æˆä¸€æ¡ç›´çº¿ï¼Œè®©äº®åº¦æ•°æ®æ¢å¤æˆç‰©ç†ä¸Šå‡åŒ€çš„æ•°å€¼ï¼Œç¡®ä¿åç»­çš„å…‰ç…§ã€æ··åˆç­‰è®¡ç®—ç»“æœæ˜¯å‡†ç¡®çš„ã€‚</p>
</li>
<li>
<p><strong>ç¨‹åºè¿ç®—</strong> ï¼šåœ¨<strong>çº¿æ€§ç©ºé—´</strong>é‡Œè¿›è¡Œæ¸²æŸ“è®¡ç®—ï¼Œæ¯”å¦‚å…‰å½±è¿½è¸ªã€æè´¨æ··åˆã€ç‰¹æ•ˆåˆæˆç­‰ã€‚å› ä¸ºçº¿æ€§ç©ºé—´çš„äº®åº¦æ˜¯å‡åŒ€çš„ï¼Œæ‰€ä»¥è®¡ç®—å‡ºæ¥çš„å…‰å½±æ•ˆæœæ‰ç¬¦åˆç‰©ç†è§„å¾‹ï¼Œä¸ä¼šå‡ºç°é¢œè‰²åå·®æˆ–æš—éƒ¨ä¸¢å¤±ã€‚</p>
</li>
<li>
<p><strong>æ¸²æŸ“ç»“æœ</strong> ï¼šå¯¹è®¡ç®—ç»“æœï¼Œç»è¿‡ä¼½é©¬æ ¡æ­£åï¼Œå¾—åˆ°çš„å°±æ˜¯æœ€ç»ˆçš„ sRGB æ ¼å¼æ¸²æŸ“ç»“æœï¼Œå®ƒçš„äº®åº¦æ›²çº¿å’ŒåŸå§‹å›¾ç‰‡çš„æ ¼å¼æ˜¯ä¸€è‡´çš„ã€‚</p>
</li>
<li>
<p><strong>æ˜¾ç¤ºå™¨æ˜¾ç¤º</strong> ğŸ–¥ï¸æ˜¾ç¤ºå™¨æ¥æ”¶åˆ° sRGB ä¿¡å·åï¼Œä¼šç”¨å®ƒè‡ªå¸¦çš„ä¼½é©¬æ›²çº¿ï¼ˆé€šå¸¸ Î³â‰ˆ2.2ï¼‰æ¥æ˜¾ç¤ºï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šæŠŠä¿¡å· â€œå‹æš—â€ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»æå‰åšäº†ä¼½é©¬æ ¡æ­£ï¼Œæ‰€ä»¥ä¸¤æ¬¡æ›²çº¿å˜åŒ–åˆšå¥½æŠµæ¶ˆï¼Œæœ€ç»ˆæ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„äº®åº¦å°±å’Œæˆ‘ä»¬è®¡ç®—çš„ç»“æœå®Œå…¨ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>äººçœ¼æ„ŸçŸ¥</strong> ğŸ‘€æœ€ç»ˆç”»é¢è¢«äººçœ¼çœ‹åˆ°ï¼Œè‰²å½©å’Œäº®åº¦éƒ½ä¿æŒäº†è®¾è®¡å’Œè®¡ç®—æ—¶çš„çœŸå®æ•ˆæœï¼Œä¸ä¼šå‡ºç°è¿‡æš—æˆ–è¿‡äº®çš„é—®é¢˜ã€‚</p>
</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦ä¿è¯ç”¨æ¥è®¡ç®—çš„æ—¶å€™æ˜¯ <strong>Linearï¼ˆ</strong> <strong>çº¿æ€§</strong>ç©ºé—´ï¼Œç”¨æ¥æ¸²æŸ“çš„æ—¶å€™æ˜¯<strong>sRGB</strong> ç©ºé—´ï¼Œé‚£åœ¨threeä¸­å¦‚ä½•åšåˆ°ï¼Ÿ</p>
<h2 data-id="heading-10">Three.jsä»è¾“å…¥çš„è§’åº¦</h2>
<p><strong>Three.jsä¸­æˆ‘ä»¬åªéœ€è¦æŒ‡å®š</strong> <strong>è‰²å½©ç©ºé—´</strong> <strong>ç±»å‹å³å¯ï¼Œç¨‹åºä¼šå¸®æˆ‘ä»¬è½¬æˆçº¿æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠåº”è¯¥æŒ‡å®šä¸ºSRGBColorSpaceçš„çº¹ç†ï¼ŒæŒ‡å®šä¸ºSRGBColorSpace</strong></p>
<h3 data-id="heading-11">ä¸¾å‡ ç§å¸¸è§åŠ è½½å™¨å¯¹åŠ è½½åçš„å›¾ç‰‡è‰²å½©ç©ºé—´çš„å¤„ç†é€»è¾‘</h3>
<h4 data-id="heading-12">TextureLoader</h4>
<p>TextureLoader ä¸è®¾ç½® colorSpaceï¼Œä¿æŒé»˜è®¤ NoColorSpaceï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼š</p>
<p>æ³¨æ„ï¼é¢œè‰²çº¹ç†éœ€è¦æ‰‹åŠ¨æŒ‡å®šè‰²å½©ç©ºé—´ä¸ºSRGBColorSpaceï¼Œåƒä¸‹æ–‡GLTFLoaderä¸­çš„é€»è¾‘ä¸€æ ·ï¼Œ</p>
<p>ä¾‹å¦‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">texture</span> = await loader.loadAsync( <span class="hljs-string">'textures/land_ocean_ice_cloud_2048.jpg'</span> )<span class="hljs-comment">;</span>
<span class="hljs-attr">texture.colorSpace</span> = THREE.SRGBColorSpace<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-13">CubeTextureLoader</h4>
<p>CubeTextureLoader å›ºå®šè®¾ç½®ä¸º SRGBColorSpaceï¼š</p>
<h4 data-id="heading-14">GLTFLoader</h4>
<p>åªæœ‰é¢œè‰²çº¹ç†ä¼šè¢«è®¾ç½®ä¸º SRGBColorSpaceï¼Œå…¶ä»–çº¹ç†ä¿æŒ NoColorSpaceï¼š</p>
<p>è®¾ç½®ä¸º SRGBColorSpace çš„çº¹ç†ï¼š</p>
<ul>
<li>
<p>baseColorTexture (map) â†’ SRGBColorSpace</p>
</li>
<li>
<p>emissiveTexture (emissiveMap) â†’ SRGBColorSpace</p>
</li>
<li>
<p>sheenColorTexture (sheenColorMap) â†’ SRGBColorSpace</p>
</li>
<li>
<p>specularColorTexture (specularColorMap) â†’ SRGBColorSpace</p>
</li>
</ul>
<h3 data-id="heading-15">è¿™å‡ ç§è‰²å½©ç©ºé—´æ ‡è®°çš„å¤„ç†é€»è¾‘</h3>

























<table><thead><tr><th>exture.colorSpace</th><th>å†…éƒ¨æ ¼å¼</th><th>sRGB â†’ Linear è½¬æ¢</th></tr></thead><tbody><tr><td>NoColorSpaceï¼ˆé»˜è®¤ï¼‰</td><td>RGBA8</td><td>ä¸è½¬æ¢ï¼ŒåŸæ ·ä¸Šä¼ </td></tr><tr><td>SRGBColorSpace</td><td>SRGB8_ALPHA8</td><td>GPU é‡‡æ ·æ—¶è‡ªåŠ¨è½¬ SRGB8_ALPHA8 æ˜¯ WebGL 2.0 çš„ sRGB çº¹ç†æ ¼å¼ GPU åœ¨é‡‡æ ·æ—¶è‡ªåŠ¨åº”ç”¨ sRGB EOTFï¼ˆElectro-Optical Transfer Functionï¼‰å°† sRGB è½¬ä¸ºçº¿æ€§</td></tr><tr><td>LinearSRGBColorSpace</td><td>RGBA8</td><td>ä¸è½¬æ¢ï¼Œå·²æ˜¯çº¿æ€§</td></tr></tbody></table>
<h3 data-id="heading-16">ä¹Ÿæä¾›äº†æ–¹æ³•å¯ä»¥æ‰‹åŠ¨è½¬åŒ–ï¼ŒTHREE.Color ç±»ä¸‹å³å¯è°ƒç”¨</h3>
<p>src/math/ColorManagement.js</p>
<pre><code class="hljs language-r" lang="r">export <span class="hljs-keyword">function</span> SRGBToLinear<span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span> <span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>

    <span class="hljs-built_in">return</span> <span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span> <span class="hljs-operator">&lt;</span> <span class="hljs-number">0.04045</span> <span class="hljs-punctuation">)</span> <span class="hljs-operator">?</span> <span class="hljs-built_in">c</span> <span class="hljs-operator">*</span> <span class="hljs-number">0.0773993808</span> <span class="hljs-operator">:</span> Math.pow<span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span> <span class="hljs-operator">*</span> <span class="hljs-number">0.9478672986</span> <span class="hljs-operator">+</span> <span class="hljs-number">0.0521327014</span><span class="hljs-punctuation">,</span> <span class="hljs-number">2.4</span> <span class="hljs-punctuation">)</span>;

<span class="hljs-punctuation">}</span>

export <span class="hljs-keyword">function</span> LinearToSRGB<span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span> <span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span>

    <span class="hljs-built_in">return</span> <span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span> <span class="hljs-operator">&lt;</span> <span class="hljs-number">0.0031308</span> <span class="hljs-punctuation">)</span> <span class="hljs-operator">?</span> <span class="hljs-built_in">c</span> <span class="hljs-operator">*</span> <span class="hljs-number">12.92</span> <span class="hljs-operator">:</span> <span class="hljs-number">1.055</span> <span class="hljs-operator">*</span> <span class="hljs-punctuation">(</span> Math.pow<span class="hljs-punctuation">(</span> <span class="hljs-built_in">c</span><span class="hljs-punctuation">,</span> <span class="hljs-number">0.41666</span> <span class="hljs-punctuation">)</span> <span class="hljs-punctuation">)</span> <span class="hljs-operator">-</span> <span class="hljs-number">0.055</span>;

<span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9070e691940466e968df25690ff5008~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=tCUe2ZgeTYADV%2BeoOvblC37Xy9Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">Three.jsä¸­-ä»è¾“å‡ºçš„è§’åº¦</h2>
<p>threejsä¼šåœ¨</p>
<ul>
<li>MeshBasicMaterial</li>
<li>MeshPhysicalMaterial</li>
<li>MeshPhongMaterial</li>
<li>MeshLambertMaterial</li>
<li>MeshToonMaterial</li>
<li>MeshMatcapMaterial</li>
<li>SpriteMaterial</li>
<li>PointsMaterial ç­‰ç­‰</li>
</ul>
<p>æè´¨è¾“å‡ºçš„æ—¶å€™å¢åŠ è¿™æ ·ä¸€æ®µä»£ç </p>
<p>src/renderers/shaders/ShaderChunk/colorspace_fragment.glsl.js</p>
<pre><code class="hljs language-ini" lang="ini"> <span class="hljs-attr">gl_FragColor</span> = linearToOutputTexel( gl_FragColor )<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-18">linearToOutputTexelå‡½æ•°ä¼šæ ¹æ®outputColorSpaceæ¥åŠ¨æ€é…ç½®</h3>
<pre><code class="hljs language-scss" lang="scss">  <span class="hljs-built_in">getTexelEncodingFunction</span>( 'linearToOutputTexel', parameters.outputColorSpace ),
</code></pre>
<p><strong>è¯´ç™½äº†å°±æ˜¯è¾“å‡ºçš„æ—¶å€™ä¼šè·Ÿä½ è®¾ç½®çš„outputColorSpaceæ¥åˆ¤æ–­éœ€ä¸éœ€è¦è½¬æˆSRGBColorSpaceï¼Œé»˜è®¤æ˜¯è½¬æˆSRGBColorSpace</strong></p>
<h3 data-id="heading-19">æˆ‘ä»¬è‡ªå·±å†™çš„ShaderMaterialè¾“å‡ºçš„æ—¶å€™æ€ä¹ˆåŠ</h3>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨linearToOutputTexel</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83776e68709942b78217a1a192754bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOO6L2s6Ii1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025477&amp;x-signature=4g0WwmVpTOoaga50X9JcXgXEuLk%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºlinearToOutputTexel</p>
<ul>
<li>
<p>æ³¨å…¥æ—¶æœºï¼šåœ¨ WebGLProgram æ„é€ å‡½æ•°ä¸­æ„å»º prefixFragment æ—¶</p>
</li>
<li>
<p>æ³¨å…¥æ–¹å¼ï¼šé€šè¿‡ getTexelEncodingFunction åŠ¨æ€ç”Ÿæˆå‡½æ•°ä»£ç ï¼Œæ·»åŠ åˆ° prefixFragment</p>
</li>
<li>
<p>å¯ç”¨æ€§ï¼šæ‰€æœ‰é RawShaderMaterial çš„æè´¨ï¼ˆåŒ…æ‹¬ ShaderMaterialï¼‰éƒ½ä¼šè‡ªåŠ¨æ³¨å…¥</p>
</li>
</ul>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>åœ¨ three.js ä¸­ï¼Œé»˜è®¤çš„è‰²å½©ç©ºé—´é…ç½®å·²ç»è¦†ç›–äº†å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯ã€‚åªè¦éµå¾ª<strong>é¢œè‰²çº¹ç†ä½¿ç”¨ sRGBã€æ¸²æŸ“è®¡ç®—åœ¨</strong> <strong>çº¿æ€§ç©ºé—´</strong> <strong>ã€è¾“å‡ºå†è½¬å› sRGB</strong>è¿™ä¸€åŸºæœ¬åŸåˆ™ï¼Œç”»é¢é€šå¸¸å°±æ˜¯æ­£ç¡®çš„ã€‚ä½†æ˜¯ç†è§£è‰²å½©ç©ºé—´ä¸ä¼½é©¬æ ¡æ­£çš„åŸç†ï¼Œæ‰èƒ½åœ¨è‡ªå®šä¹‰ Shaderã€ç‰¹æ®Šçº¹ç†æˆ–æ¸²æŸ“éœ€æ±‚å‡ºç°æ—¶ï¼Œ<strong>æœ‰æ„è¯†åœ°æ‰‹åŠ¨è°ƒæ•´é…ç½®ï¼Œè€Œä¸æ˜¯ç›²ç›®è¯•å‚æ•°</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤œä¹‹é—´å¼€å‘å‡ºAIå°çº¢ä¹¦è¯»ä¹¦ç¬”è®°å‘å¸ƒæŠ€èƒ½ï¼Œæˆ‘çš„è‡ªåŠ¨åŒ–å†…å®¹åˆ›ä½œä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7599478406237536265</link>    <guid>https://juejin.cn/post/7599478406237536265</guid>    <pubDate>2026-01-26T09:01:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599478406237536265" data-draft-id="7599237603976167467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤œä¹‹é—´å¼€å‘å‡ºAIå°çº¢ä¹¦è¯»ä¹¦ç¬”è®°å‘å¸ƒæŠ€èƒ½ï¼Œæˆ‘çš„è‡ªåŠ¨åŒ–å†…å®¹åˆ›ä½œä¹‹è·¯"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,MCP"/> <meta itemprop="datePublished" content="2026-01-26T09:01:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="nil"/> <meta itemprop="url" content="https://juejin.cn/user/2893570337422670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤œä¹‹é—´å¼€å‘å‡ºAIå°çº¢ä¹¦è¯»ä¹¦ç¬”è®°å‘å¸ƒæŠ€èƒ½ï¼Œæˆ‘çš„è‡ªåŠ¨åŒ–å†…å®¹åˆ›ä½œä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2893570337422670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    nil
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:01:30.000Z" title="Mon Jan 26 2026 09:01:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¤œä¹‹é—´å¼€å‘å‡ºAIå°çº¢ä¹¦è¯»ä¹¦ç¬”è®°å‘å¸ƒæŠ€èƒ½ï¼Œæˆ‘çš„è‡ªåŠ¨åŒ–å†…å®¹åˆ›ä½œä¹‹è·¯</h2>
<blockquote>
<p>å‘Šåˆ«æ‰‹åŠ¨æ’ç‰ˆï¼ç”¨AIè‡ªåŠ¨ç”Ÿæˆç²¾ç¾è¯»ä¹¦ç¬”è®°å¹¶ä¸€é”®å‘å¸ƒåˆ°å°çº¢ä¹¦</p>
</blockquote>
<p>å¤§å®¶å¥½ï¼Œä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹æˆ‘æœ€è¿‘çš„"ç©å…·"å¼€å‘ç»å†ã€‚ä½œä¸ºä¸€åçƒ­çˆ±é˜…è¯»çš„ç¨‹åºå‘˜ï¼Œæˆ‘ç»å¸¸æƒ³åœ¨å°çº¢ä¹¦ä¸Šåˆ†äº«è‡ªå·±çš„è¯»ä¹¦å¿ƒå¾—ï¼Œä½†æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ’ç‰ˆã€æ‰¾å›¾ã€å†™æ–‡æ¡ˆï¼Œå®åœ¨æ˜¯ä¸€ä»¶è´¹æ—¶è´¹åŠ›çš„äº‹ã€‚äºæ˜¯ï¼Œæˆ‘èŒç”Ÿäº†ä¸€ä¸ªæƒ³æ³•ï¼šèƒ½ä¸èƒ½ç”¨AIå¸®æˆ‘å®Œæˆè¿™ä¸€åˆ‡ï¼Ÿ</p>
<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<p>å°çº¢ä¹¦ä½œä¸ºä¸€ä¸ªå†…å®¹åˆ†äº«å¹³å°ï¼Œå¯¹è¯»ä¹¦ç¬”è®°è¿™ç§å‚ç›´å†…å®¹æœ‰ç€å¾ˆå¤§çš„éœ€æ±‚ã€‚ä½†æ˜¯ï¼š</p>
<ol>
<li><strong>å†…å®¹ç”Ÿæˆè€—æ—¶</strong>ï¼šè¦å†™ä¸€ç¯‡ä¼˜è´¨çš„è¯»ä¹¦ç¬”è®°ï¼Œéœ€è¦ç†è§£ä¹¦ç±ã€æç‚¼è§‚ç‚¹ã€ç»„ç»‡è¯­è¨€</li>
<li><strong>é…å›¾é€‰æ‹©å›°éš¾</strong>ï¼šéœ€è¦æ‰¾ç¬¦åˆä¹¦ç±ä¸»é¢˜çš„ç²¾ç¾å›¾ç‰‡</li>
<li><strong>æ’ç‰ˆæ ¼å¼éº»çƒ¦</strong>ï¼šå°çº¢ä¹¦çš„æ’ç‰ˆæœ‰ç‰¹å®šæ ¼å¼è¦æ±‚</li>
<li><strong>å‘å¸ƒé¢‘ç‡ä½</strong>ï¼šå› ä¸ºæµç¨‹ç¹çï¼Œå¾ˆéš¾åšæŒé«˜é¢‘æ›´æ–°</li>
</ol>
<p>äºæ˜¯ï¼Œæˆ‘å†³å®šå¼€å‘ä¸€ä¸ªèƒ½å¤Ÿè‡ªåŠ¨åŒ–å®Œæˆè¿™ä¸€åˆ‡çš„æŠ€èƒ½ã€‚</p>
<h3 data-id="heading-2">æŠ€æœ¯é€‰å‹</h3>
<h4 data-id="heading-3">å°çº¢ä¹¦MCP</h4>
<p>é¦–å…ˆï¼Œæˆ‘å‘ç°Claude Codeæ”¯æŒMCPï¼ˆModel Context Protocolï¼‰ï¼Œå¯ä»¥è¿æ¥å„ç§å¤–éƒ¨æœåŠ¡ã€‚å°çº¢ä¹¦å®˜æ–¹æä¾›äº†MCPæœåŠ¡å™¨ï¼Œè®©AIèƒ½å¤Ÿç›´æ¥å‘å¸ƒå†…å®¹åˆ°å°çº¢ä¹¦å¹³å°ã€‚</p>
<h4 data-id="heading-4">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h4>
<ol>
<li><strong>Claude Code AI</strong>ï¼šè´Ÿè´£å†…å®¹ç”Ÿæˆå’Œé€»è¾‘åˆ¤æ–­</li>
<li><strong>Pythonè„šæœ¬</strong>ï¼šå¤„ç†æ•°æ®æŠ“å–ã€å›¾ç‰‡ä¸‹è½½ç­‰ä»»åŠ¡</li>
<li><strong>è±†ç“£API</strong>ï¼šè·å–ä¹¦ç±ä¿¡æ¯å’Œè¯„åˆ†</li>
<li><strong>å…è´¹å›¾åº“API</strong>ï¼šUnsplashã€Pexelsã€Pixabay</li>
<li><strong>å°çº¢ä¹¦MCP</strong>ï¼šä¸€é”®å‘å¸ƒå†…å®¹</li>
</ol>
<h3 data-id="heading-5">é¡¹ç›®æ¶æ„</h3>
<pre><code class="hljs language-bash" lang="bash">xiaohongshu-book-notes/
â”œâ”€â”€ scripts/              <span class="hljs-comment"># æ ¸å¿ƒè„šæœ¬</span>
â”‚   â”œâ”€â”€ find_books.py     <span class="hljs-comment"># è±†ç“£ä¹¦ç±æœç´¢</span>
â”‚   â”œâ”€â”€ generate_book_content.py  <span class="hljs-comment"># å†…å®¹ç”Ÿæˆ</span>
â”‚   â”œâ”€â”€ download_book_images.py   <span class="hljs-comment"># å›¾ç‰‡ä¸‹è½½</span>
â”‚   â””â”€â”€ main_xiaohongshu_poster.py <span class="hljs-comment"># ä¸»ç¨‹åº</span>
â”œâ”€â”€ references/           <span class="hljs-comment"># èµ„æºæ–‡ä»¶</span>
â”‚   â”œâ”€â”€ xiaohongshu_book_templates.md
â”‚   â””â”€â”€ douban_api_guide.md
â””â”€â”€ assets/              <span class="hljs-comment"># é…ç½®æ–‡ä»¶</span>
    â””â”€â”€ engaging_questions.txt
</code></pre>
<h3 data-id="heading-6">æ ¸å¿ƒåŠŸèƒ½å®ç°</h3>
<h4 data-id="heading-7">1. æ™ºèƒ½ä¹¦ç±é€‰æ‹©</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_popular_books</span>():
    <span class="hljs-string">"""ç²¾é€‰çš„é«˜åˆ†ä¹¦ç±åˆ—è¡¨ï¼Œæ¶µç›–å¤šç§ç±»å‹"""</span>
    <span class="hljs-keyword">return</span> [
        {<span class="hljs-string">"title"</span>: <span class="hljs-string">"äººç±»ç®€å²"</span>, <span class="hljs-string">"rating"</span>: <span class="hljs-number">9.1</span>, <span class="hljs-string">"author"</span>: <span class="hljs-string">"å°¤ç“¦å°”Â·èµ«æ‹‰åˆ©"</span>},
        {<span class="hljs-string">"title"</span>: <span class="hljs-string">"ç™¾å¹´å­¤ç‹¬"</span>, <span class="hljs-string">"rating"</span>: <span class="hljs-number">9.2</span>, <span class="hljs-string">"author"</span>: <span class="hljs-string">"åŠ è¥¿äºšÂ·é©¬å°”å…‹æ–¯"</span>},
        {<span class="hljs-string">"title"</span>: <span class="hljs-string">"åŸåˆ™"</span>, <span class="hljs-string">"rating"</span>: <span class="hljs-number">8.5</span>, <span class="hljs-string">"author"</span>: <span class="hljs-string">"ç‘Â·è¾¾åˆ©æ¬§"</span>},
        <span class="hljs-comment"># æ›´å¤šä¹¦ç±...</span>
    ]
</code></pre>
<p>å¦‚æœæ²¡æœ‰æŒ‡å®šä¹¦ç±ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä»è±†ç“£ç²¾é€‰8åˆ†ä»¥ä¸Šçš„ç»å…¸ä¹¦ç±ä¸­é€‰æ‹©ï¼Œç¡®ä¿å†…å®¹è´¨é‡ã€‚</p>
<h4 data-id="heading-8">2. ä¸ªæ€§åŒ–å†…å®¹ç”Ÿæˆ</h4>
<p>æ ¹æ®ä¸åŒä¹¦ç±ç±»å‹ï¼Œä½¿ç”¨ä¸åŒçš„æ¨¡æ¿ç”Ÿæˆå†…å®¹ï¼š</p>
<ul>
<li><strong>è‡ªæˆ‘æå‡ç±»</strong>ï¼šèšç„¦å®ç”¨å»ºè®®å’Œä¸ªäººæˆé•¿</li>
<li><strong>æ–‡å­¦ç±»</strong>ï¼šæ·±åº¦åˆ†æä¸»é¢˜å’Œäººç‰©</li>
<li><strong>å“²å­¦ç±»</strong>ï¼šå¼•å‘æ€è€ƒçš„è§‚ç‚¹æç‚¼</li>
<li><strong>å†å²ç±»</strong>ï¼šèƒŒæ™¯æ¢³ç†å’Œç°å®æ„ä¹‰</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_book_content</span>(<span class="hljs-params">book_info</span>):
    <span class="hljs-string">"""æ ¹æ®ä¹¦ç±ä¿¡æ¯ç”Ÿæˆå°çº¢ä¹¦é£æ ¼çš„è¯»ä¹¦ç¬”è®°"""</span>
    <span class="hljs-comment"># åˆ†æä¹¦ç±ç±»å‹ï¼Œé€‰æ‹©åˆé€‚çš„æ¨¡æ¿</span>
    <span class="hljs-comment"># ç”Ÿæˆå¸¦emojiçš„æ ‡é¢˜</span>
    <span class="hljs-comment"># ç»„ç»‡ä¹¦ç±ä¿¡æ¯å’Œä¸ªäººè§è§£</span>
    <span class="hljs-comment"># æ·»åŠ ç›¸å…³æ ‡ç­¾</span>
</code></pre>
<h4 data-id="heading-9">3. æ™ºèƒ½é…å›¾ç³»ç»Ÿ</h4>
<p>æœ€è®©æˆ‘å…´å¥‹çš„æ˜¯å›¾ç‰‡å¤„ç†åŠŸèƒ½ï¼š</p>
<ol>
<li><strong>ä¸»é¢˜åŒ¹é…</strong>ï¼šæ ¹æ®ä¹¦ç±ç±»å‹è‡ªåŠ¨é€‰æ‹©å›¾ç‰‡é£æ ¼</li>
<li><strong>æ‰¹é‡ä¸‹è½½</strong>ï¼šä»å¤šä¸ªå…è´¹å›¾åº“APIè·å–é«˜è´¨é‡å›¾ç‰‡</li>
<li><strong>ç­›é€‰ä¼˜åŒ–</strong>ï¼šAIé€‰æ‹©æœ€é€‚åˆçš„3-5å¼ é…å›¾</li>
<li><strong>æ ¼å¼ç»Ÿä¸€</strong>ï¼šæ‰€æœ‰å›¾ç‰‡ä¿æŒå°çº¢ä¹¦é£æ ¼çš„è§†è§‰ä¸€è‡´æ€§</li>
</ol>
<h4 data-id="heading-10">4. ä¸€é”®å‘å¸ƒ</h4>
<p>ä½¿ç”¨å°çº¢ä¹¦MCPï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤å°±èƒ½å®Œæˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨æˆ·åªéœ€è¿™æ ·ç®€å•æŒ‡ä»¤</span>
<span class="hljs-string">"å¸®æˆ‘å‘å¸ƒã€ŠåŸåˆ™ã€‹çš„è¯»ä¹¦ç¬”è®°"</span>
</code></pre>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆï¼š</p>
<ul>
<li>è±†ç“£æœç´¢ä¹¦ç±ä¿¡æ¯</li>
<li>ç”Ÿæˆä¸ªæ€§åŒ–ä¹¦è¯„</li>
<li>ä¸‹è½½ç²¾ç¾é…å›¾</li>
<li>å‘å¸ƒåˆ°å°çº¢ä¹¦</li>
</ul>
<h3 data-id="heading-11">ä½¿ç”¨ä½“éªŒ</h3>
<h4 data-id="heading-12">æç®€æ“ä½œ</h4>
<ol>
<li><strong>æŒ‡å®šä¹¦ç±</strong>ï¼š"å¸®æˆ‘å‘å¸ƒã€Šäººç±»ç®€å²ã€‹çš„è¯»ä¹¦ç¬”è®°"</li>
<li><strong>éšæœºæ¨è</strong>ï¼š"å¸®æˆ‘å‘å¸ƒä¸€ç¯‡è¯»ä¹¦ç¬”è®°"</li>
<li><strong>ç±»å‹åå¥½</strong>ï¼š"æˆ‘æƒ³è¯»ä¸€æœ¬å…³äºè‡ªæˆ‘æå‡çš„ä¹¦"</li>
</ol>
<h4 data-id="heading-13">è‡ªåŠ¨åŒ–æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç”¨æˆ·è¾“å…¥] --&gt; B{æ˜¯å¦æœ‰ä¹¦å}
    B --&gt;|æ˜¯| C[è±†ç“£æœç´¢]
    B --&gt;|å¦| D[éšæœºæ¨èé«˜åˆ†ä¹¦]
    C --&gt; E[è·å–ä¹¦ç±ä¿¡æ¯]
    D --&gt; E
    E --&gt; F[ç”Ÿæˆå†…å®¹]
    F --&gt; G[ä¸‹è½½é…å›¾]
    G --&gt; H[å‘å¸ƒåˆ°å°çº¢ä¹¦]
    H --&gt; I[å®Œæˆåˆ†äº«]
</code></pre>
<h3 data-id="heading-14">å®é™…æ•ˆæœå±•ç¤º</h3>
<h4 data-id="heading-15">ç”Ÿæˆçš„è¯»ä¹¦ç¬”è®°ç¤ºä¾‹</h4>
<p>ğŸ“– ã€ŠåŸåˆ™ã€‹| ğŸš€</p>
<p>âœ¨ è¿™æœ¬ä¹¦å°±åƒä¸€ä½æ™ºæ…§å¯¼å¸ˆï¼Œç”¨æœ€æœ´å®çš„è¯è¯­æ•™ä¼šæˆ‘ä»¬æœ€é‡è¦çš„é“ç†ã€‚</p>
<p>ğŸ“– <strong>ã€ŠåŸåˆ™ã€‹</strong>
â­ <strong>è±†ç“£è¯„åˆ†ï¼š8.5åˆ†</strong>
âœï¸ <strong>ä½œè€…ï¼šç‘Â·è¾¾åˆ©æ¬§</strong>
ğŸ¢ <strong>å‡ºç‰ˆç¤¾ï¼šä¸­ä¿¡å‡ºç‰ˆç¤¾</strong></p>
<p>ğŸ”‘ <strong>æ ¸å¿ƒè§‚ç‚¹</strong>
â€¢ æˆåŠŸä¸æ˜¯å¶ç„¶ï¼Œè€Œæ˜¯ä¹ æƒ¯çš„ç´¯ç§¯
â€¢ æ€ç»´æ–¹å¼å†³å®šè¡Œä¸ºæ¨¡å¼
â€¢ æŒç»­æ”¹è¿›æ¯”å®Œç¾æ›´é‡è¦</p>
<p>ğŸ’¡ <strong>å¯å‘æ€è€ƒ</strong>
è¯»è¿™æœ¬ä¹¦è®©æˆ‘æ˜ç™½ï¼ŒçœŸæ­£çš„æ”¹å˜æ¥è‡ªäºå†…å¿ƒçš„è§‰é†’...</p>
<p>#è¯»ä¹¦ç¬”è®° #å¥½ä¹¦æ¨è #ä¸ªäººæˆé•¿ #æ€ç»´æå‡</p>
<h4 data-id="heading-16">é…å›¾æ•ˆæœ</h4>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹è½½3-5å¼ ä¸ä¹¦ç±ä¸»é¢˜ç›¸å…³çš„é«˜è´¨é‡å›¾ç‰‡ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¹¦ç±å°é¢ï¼ˆä¼˜å…ˆä½¿ç”¨çœŸå®å°é¢ï¼‰</li>
<li>ä¸»é¢˜ç›¸å…³é…å›¾ï¼ˆèŒåœºã€æˆåŠŸã€ä¸ªäººæˆé•¿ç­‰ï¼‰</li>
<li>ç»Ÿä¸€é£æ ¼çš„è§†è§‰è®¾è®¡</li>
</ul>
<h3 data-id="heading-17">å¼€å‘å¿ƒå¾—</h3>
<h4 data-id="heading-18">1. AIèµ‹èƒ½çš„å¨åŠ›</h4>
<p>è¿™ä¸ªé¡¹ç›®è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°AIçš„å¼ºå¤§ï¼š</p>
<ul>
<li><strong>å†…å®¹åˆ›ä½œ</strong>ï¼šAIèƒ½å¿«é€Ÿç”Ÿæˆç¬¦åˆå¹³å°è°ƒæ€§çš„å†…å®¹</li>
<li><strong>é€»è¾‘åˆ¤æ–­</strong>ï¼šèƒ½ç†è§£ç”¨æˆ·æ„å›¾ï¼Œé€‰æ‹©åˆé€‚çš„å¤„ç†æ–¹å¼</li>
<li><strong>èµ„æºæ•´åˆ</strong>ï¼šè‡ªåŠ¨è°ƒç”¨å¤šä¸ªAPIï¼Œå®Œæˆå¤æ‚æµç¨‹</li>
</ul>
<h4 data-id="heading-19">2. MCPçš„é©æ–°æ€§</h4>
<p>å°çº¢ä¹¦MCPè®©AIå‘å¸ƒå†…å®¹æˆä¸ºå¯èƒ½ï¼Œè¿™è§£å†³äº†å†…å®¹åˆ›ä½œçš„æœ€åä¸€å…¬é‡Œé—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹ï¼š</p>
<ul>
<li>AIå†™æ–‡ç« </li>
<li>AIæ‰¾å›¾ç‰‡</li>
<li>AIå‘å¹³å°</li>
<li>AIåšäº’åŠ¨</li>
</ul>
<p>æœªæ¥å·²æ¥ï¼</p>
<h4 data-id="heading-20">3. æ•ˆç‡æå‡å¯¹æ¯”</h4>

































<table><thead><tr><th>ä¼ ç»Ÿæ–¹å¼</th><th>AIè‡ªåŠ¨åŒ–æ–¹å¼</th></tr></thead><tbody><tr><td>æ‰¾ä¹¦ï¼š30åˆ†é’Ÿ</td><td>1ç§’</td></tr><tr><td>å†™ç¨¿ï¼š2å°æ—¶</td><td>30ç§’</td></tr><tr><td>æ‰¾å›¾ï¼š1å°æ—¶</td><td>è‡ªåŠ¨å®Œæˆ</td></tr><tr><td>æ’ç‰ˆï¼š30åˆ†é’Ÿ</td><td>è‡ªåŠ¨æ ¼å¼åŒ–</td></tr><tr><td>å‘å¸ƒï¼šæ‰‹åŠ¨æ“ä½œ</td><td>ä¸€é”®å‘å¸ƒ</td></tr><tr><td><strong>æ€»è®¡ï¼š4å°æ—¶+</strong></td><td><strong>æ€»è®¡ï¼š1åˆ†é’Ÿ</strong></td></tr></tbody></table>
<h3 data-id="heading-21">æœªæ¥å±•æœ›</h3>
<h4 data-id="heading-22">çŸ­æœŸä¼˜åŒ–</h4>
<ol>
<li><strong>å†…å®¹è´¨é‡æå‡</strong>ï¼šåŠ å…¥æ›´å¤šä¸ªæ€§åŒ–å…ƒç´ </li>
<li><strong>å›¾ç‰‡ç¾åŒ–</strong>ï¼šæ·»åŠ æ–‡å­—æ°´å°å’Œç‰¹æ•ˆ</li>
<li><strong>äº’åŠ¨å¢å¼º</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆè¯„è®ºå›å¤æ¨¡æ¿</li>
</ol>
<h4 data-id="heading-23">é•¿æœŸè§„åˆ’</h4>
<ol>
<li><strong>å¤šå¹³å°æ”¯æŒ</strong>ï¼šåŒæ­¥å‘å¸ƒåˆ°çŸ¥ä¹ã€å¾®åšç­‰</li>
<li><strong>æ•°æ®ç»Ÿè®¡</strong>ï¼šåˆ†æå†…å®¹è¡¨ç°ï¼Œä¼˜åŒ–ç­–ç•¥</li>
<li><strong>ç”¨æˆ·ç”»åƒ</strong>ï¼šæ ¹æ®ç”¨æˆ·å–œå¥½æ¨èä¹¦ç±</li>
</ol>
<h3 data-id="heading-24">é¡¹ç›®å¼€æº</h3>
<p>æˆ‘å·²ç»å°†è¿™ä¸ªé¡¹ç›®å¼€æºåˆ°äº†GitHubï¼š</p>
<p>ğŸ”— <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FZBIGBEAR%2Fxiaohongshu-book-notes" target="_blank" title="https://github.com/ZBIGBEAR/xiaohongshu-book-notes" ref="nofollow noopener noreferrer">xiaohongshu-book-notes</a></p>
<p>æ¬¢è¿ï¼š</p>
<ul>
<li>Staræ”¯æŒ</li>
<li>Forkä½¿ç”¨</li>
<li>Issueäº¤æµ</li>
<li>PRè´¡çŒ®</li>
</ul>
<p>å¦å¤–ï¼Œè¿™é‡Œé™„ä¸Šæˆ‘ä½¿ç”¨çš„å°çº¢ä¹¦mcp
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxpzouying%2Fxiaohongshu-mcp" target="_blank" title="https://github.com/xpzouying/xiaohongshu-mcp" ref="nofollow noopener noreferrer">github.com/xpzouying/xâ€¦</a></p>
<h3 data-id="heading-25">æ€»ç»“</h3>
<p>è¿™æ¬¡å¼€å‘ç»å†è®©æˆ‘æ”¶è·é¢‡ä¸°ï¼š</p>
<ol>
<li><strong>æŠ€æœ¯æˆé•¿</strong>ï¼šæ·±å…¥äº†è§£äº†MCPã€APIé›†æˆã€AIåº”ç”¨</li>
<li><strong>æ•ˆç‡é©å‘½</strong>ï¼šçœŸæ­£ä½“ä¼šåˆ°AIå¦‚ä½•æ”¹å˜å·¥ä½œæ–¹å¼</li>
<li><strong>äº§å“æ€ç»´</strong>ï¼šä»ç”¨æˆ·ç—›ç‚¹å‡ºå‘ï¼Œæ‰“é€ å®ç”¨å·¥å…·</li>
<li><strong>åˆ†äº«ç²¾ç¥</strong>ï¼šå¼€æºé¡¹ç›®ï¼Œå¸®åŠ©æ›´å¤šäºº</li>
</ol>
<p>å¦‚æœä½ ä¹Ÿæ˜¯å†…å®¹åˆ›ä½œè€…ï¼Œæˆ–è€…å¯¹AIè‡ªåŠ¨åŒ–æ„Ÿå…´è¶£ï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªæŠ€èƒ½ã€‚è®©æˆ‘ä»¬ä¸€èµ·ï¼Œç”¨AIçš„åŠ›é‡ï¼Œè®©å†…å®¹åˆ›ä½œæ›´ç®€å•ã€æ›´æœ‰è¶£ï¼</p>
<hr/>
<p><strong>æœ€åé€ç»™å¤§å®¶ä¸€å¥è¯</strong>ï¼š</p>
<blockquote>
<p>ä¸ä¼šAIçš„ç¨‹åºå‘˜ï¼Œå°±åƒä¸ä¼šä¸Šç½‘çš„ç”»å®¶ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹¥æŠ±å˜åŒ–ï¼Œç”¨æŠ€æœ¯è®©ç”Ÿæ´»æ›´ç¾å¥½ï¼</p>
</blockquote>
<p><strong>ä½ çš„ä¸‹ä¸€ä¸ªè¯»ä¹¦ç¬”è®°ï¼Œè®©AIæ¥å¸®ä½ å†™ï¼</strong> ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Transformer æ¶æ„ï¼šä»åŸç†åˆ°å…¬å¼æ¨å¯¼]]></title>    <link>https://juejin.cn/post/7599053532169076777</link>    <guid>https://juejin.cn/post/7599053532169076777</guid>    <pubDate>2026-01-26T09:27:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599053532169076777" data-draft-id="7599053532169060393" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Transformer æ¶æ„ï¼šä»åŸç†åˆ°å…¬å¼æ¨å¯¼"/> <meta itemprop="keywords" content="é¢è¯•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-26T09:27:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hhang"/> <meta itemprop="url" content="https://juejin.cn/user/1994944446213274"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Transformer æ¶æ„ï¼šä»åŸç†åˆ°å…¬å¼æ¨å¯¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1994944446213274/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hhang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:27:20.000Z" title="Mon Jan 26 2026 09:27:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Transformer æ¶æ„æ·±åº¦è§£æï¼šä»åŸç†åˆ°å…¬å¼æ¨å¯¼</h2>
<blockquote>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œå½»åº•ç†è§£ Transformer çš„å·¥ä½œåŸç†å’Œæ ¸å¿ƒå…¬å¼ã€‚æ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯å¸Œæœ›æ·±å…¥ç†è§£ç»†èŠ‚çš„å¼€å‘è€…ï¼Œéƒ½èƒ½ä»ä¸­è·ç›Šã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å¼€ç¯‡ï¼šTransformer ä¸ºä½•å¦‚æ­¤é‡è¦ï¼Ÿ</h3>
<p>2017 å¹´ï¼ŒGoogle å›¢é˜Ÿå‘è¡¨äº†è®ºæ–‡ã€ŠAttention Is All You Needã€‹ï¼Œæå‡ºäº† Transformer æ¶æ„ã€‚è¿™ç¯‡è®ºæ–‡å½»åº•æ”¹å˜äº†è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸï¼Œå¹¶é€æ¸å½±å“åˆ°è®¡ç®—æœºè§†è§‰ã€è¯­éŸ³ç­‰å‡ ä¹æ‰€æœ‰ AI é¢†åŸŸã€‚</p>
<p><strong>Transformer çš„"æˆ˜ç»©"</strong>ï¼š</p>
<ul>
<li><strong>GPT ç³»åˆ—</strong>ï¼šChatGPT çš„åº•å±‚æ¶æ„</li>
<li><strong>BERT</strong>ï¼šå¼€åˆ›é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹æ—¶ä»£</li>
<li><strong>ViT</strong>ï¼šå°† Transformer åº”ç”¨åˆ°å›¾åƒè¯†åˆ«</li>
<li><strong>Stable Diffusion</strong>ï¼šAI ç»˜ç”»çš„æ ¸å¿ƒç»„ä»¶</li>
</ul>
<p>å¯ä»¥è¯´ï¼Œ<strong>æ²¡æœ‰ Transformerï¼Œå°±æ²¡æœ‰ä»Šå¤©çš„ AI å¤§æ¨¡å‹æ—¶ä»£</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€Transformer è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<h4 data-id="heading-3">2.1 ä¼ ç»Ÿåºåˆ—æ¨¡å‹çš„å›°å¢ƒ</h4>
<p>åœ¨ Transformer ä¹‹å‰ï¼Œå¤„ç†åºåˆ—æ•°æ®ï¼ˆå¦‚æ–‡æœ¬ã€è¯­éŸ³ï¼‰ä¸»è¦ä¾èµ– RNNï¼ˆå¾ªç¯ç¥ç»ç½‘ç»œï¼‰å’Œ LSTMã€‚</p>
<p><strong>RNN çš„å·¥ä½œæ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">"æˆ‘ çˆ± ä¸­ å›½"

  æˆ‘ â†’ <span class="hljs-selector-attr">[RNN]</span> â†’ hâ‚
              â†“
  çˆ± â†’ <span class="hljs-selector-attr">[RNN]</span> â†’ hâ‚‚
              â†“
  ä¸­ â†’ <span class="hljs-selector-attr">[RNN]</span> â†’ hâ‚ƒ
              â†“
  å›½ â†’ <span class="hljs-selector-attr">[RNN]</span> â†’ hâ‚„
</code></pre>
<p><strong>é—®é¢˜ 1ï¼šæ— æ³•å¹¶è¡Œè®¡ç®—</strong></p>
<p>RNN å¿…é¡»æŒ‰é¡ºåºå¤„ç†æ¯ä¸ªè¯ï¼Œåä¸€ä¸ªè¯å¿…é¡»ç­‰å‰ä¸€ä¸ªè¯å¤„ç†å®Œã€‚è¿™å¯¼è‡´ï¼š</p>
<ul>
<li>è®­ç»ƒé€Ÿåº¦æ…¢</li>
<li>æ— æ³•å……åˆ†åˆ©ç”¨ GPU çš„å¹¶è¡Œèƒ½åŠ›</li>
</ul>
<p><strong>é—®é¢˜ 2ï¼šé•¿è·ç¦»ä¾èµ–å›°éš¾</strong></p>
<p>å½“å¥å­å¾ˆé•¿æ—¶ï¼Œæ—©æœŸè¯çš„ä¿¡æ¯åœ¨ä¼ é€’è¿‡ç¨‹ä¸­ä¼šé€æ¸"é—å¿˜"ã€‚æ¯”å¦‚ï¼š</p>
<blockquote>
<p>"é‚£ä¸ªæˆ‘åœ¨<strong>åŒ—äº¬</strong>ä¸Šå¤§å­¦æ—¶è®¤è¯†çš„æœ‹å‹ï¼Œç°åœ¨åœ¨<strong>é‚£ä¸ªåŸå¸‚</strong>å·¥ä½œã€‚"</p>
</blockquote>
<p>è¦ç†è§£"é‚£ä¸ªåŸå¸‚"æŒ‡çš„æ˜¯"åŒ—äº¬"ï¼Œä¿¡æ¯éœ€è¦è·¨è¶Šå¾ˆå¤šè¯ä¼ é€’ï¼ŒRNN å¾ˆéš¾åšåˆ°ã€‚</p>
<h4 data-id="heading-4">2.2 Transformer çš„è§£å†³æ–¹æ¡ˆ</h4>

























<table><thead><tr><th>é—®é¢˜</th><th>RNN çš„å›°å¢ƒ</th><th>Transformer çš„è§£å†³</th></tr></thead><tbody><tr><td>å¹¶è¡Œè®¡ç®—</td><td>å¿…é¡»é¡ºåºå¤„ç†</td><td>æ‰€æœ‰ä½ç½®åŒæ—¶è®¡ç®—</td></tr><tr><td>é•¿è·ç¦»ä¾èµ–</td><td>ä¿¡æ¯é€æ¸è¡°å‡</td><td>æ³¨æ„åŠ›æœºåˆ¶ç›´æ¥å…³è”ä»»æ„ä¸¤ä¸ªä½ç½®</td></tr><tr><td>è®¡ç®—æ•ˆç‡</td><td>O(n) æ—¶é—´ï¼Œæ— æ³•å¹¶è¡Œ</td><td>O(1) å±‚æ•°ï¼Œé«˜åº¦å¹¶è¡Œ</td></tr></tbody></table>
<p>æ ¸å¿ƒæ€æƒ³ï¼š<strong>ç”¨æ³¨æ„åŠ›æœºåˆ¶ï¼ˆAttentionï¼‰æ›¿ä»£å¾ªç¯ç»“æ„</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€æ³¨æ„åŠ›æœºåˆ¶ï¼šTransformer çš„æ ¸å¿ƒ</h3>
<h4 data-id="heading-6">3.1 ä»€ä¹ˆæ˜¯æ³¨æ„åŠ›ï¼Ÿ</h4>
<p>æƒ³è±¡ä½ åœ¨é˜…è¯»ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>"å°æ˜æŠŠ<strong>è‹¹æœ</strong>æ”¾åœ¨æ¡Œä¸Šï¼Œç„¶å<strong>åƒæ‰äº†å®ƒ</strong>ã€‚"</p>
</blockquote>
<p>å½“ä½ ç†è§£"åƒæ‰äº†å®ƒ"æ—¶ï¼Œå¤§è„‘ä¼šè‡ªåŠ¨"æ³¨æ„"åˆ°"è‹¹æœ"è¿™ä¸ªè¯ï¼Œè€Œä¸æ˜¯"æ¡Œä¸Š"æˆ–"å°æ˜"ã€‚</p>
<p>è¿™å°±æ˜¯<strong>æ³¨æ„åŠ›æœºåˆ¶</strong>ï¼šè®©æ¨¡å‹å­¦ä¼š"è¯¥å…³æ³¨å“ªäº›ä¿¡æ¯"ã€‚</p>
<h4 data-id="heading-7">3.2 æ³¨æ„åŠ›çš„æ•°å­¦ç›´è§‰</h4>
<p>æ³¨æ„åŠ›æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>åŠ æƒæ±‚å’Œ</strong>ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">è¾“å‡º = æƒé‡â‚ Ã— å€¼â‚ + æƒé‡â‚‚ Ã— å€¼â‚‚ + æƒé‡â‚ƒ Ã— å€¼â‚ƒ + ...
</code></pre>
<p>æƒé‡è¶Šå¤§ï¼Œè¡¨ç¤ºå¯¹åº”çš„ä¿¡æ¯è¶Šé‡è¦ã€‚å…³é”®é—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•è®¡ç®—è¿™äº›æƒé‡ï¼Ÿ</strong></p>
<h4 data-id="heading-8">3.3 Queryã€Keyã€Valueï¼šæ³¨æ„åŠ›çš„ä¸‰è¦ç´ </h4>
<p>Transformer å¼•å…¥äº†ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š</p>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>å«ä¹‰</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td><strong>Query (Q)</strong></td><td>æŸ¥è¯¢ï¼šæˆ‘æƒ³æ‰¾ä»€ä¹ˆï¼Ÿ</td><td>ä½ åœ¨æœç´¢å¼•æ“è¾“å…¥çš„å…³é”®è¯</td></tr><tr><td><strong>Key (K)</strong></td><td>é”®ï¼šè¿™ä¸ªä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>ç½‘é¡µçš„æ ‡é¢˜/æè¿°</td></tr><tr><td><strong>Value (V)</strong></td><td>å€¼ï¼šè¿™ä¸ªä¸œè¥¿çš„å†…å®¹</td><td>ç½‘é¡µçš„å®é™…å†…å®¹</td></tr></tbody></table>
<p><strong>æœç´¢å¼•æ“ç±»æ¯”</strong>ï¼š</p>
<ol>
<li>ä½ è¾“å…¥æœç´¢å…³é”®è¯ï¼ˆQueryï¼‰</li>
<li>æœç´¢å¼•æ“ç”¨å…³é”®è¯å’Œç½‘é¡µæ ‡é¢˜ï¼ˆKeyï¼‰åšåŒ¹é…</li>
<li>åŒ¹é…åº¦é«˜çš„ç½‘é¡µï¼ˆValueï¼‰æ’åœ¨å‰é¢</li>
<li>ä½ çœ‹åˆ°çš„æ˜¯åŠ æƒåçš„ç»“æœ</li>
</ol>
<hr/>
<h3 data-id="heading-9">å››ã€è‡ªæ³¨æ„åŠ›æœºåˆ¶è¯¦è§£ä¸å…¬å¼æ¨å¯¼</h3>
<h4 data-id="heading-10">4.1 è‡ªæ³¨æ„åŠ›ï¼ˆSelf-Attentionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>"è‡ªæ³¨æ„åŠ›"ä¸­çš„"è‡ª"è¡¨ç¤ºï¼š<strong>åºåˆ—ä¸­çš„æ¯ä¸ªä½ç½®éƒ½å’Œåºåˆ—ä¸­çš„æ‰€æœ‰ä½ç½®ï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰è®¡ç®—æ³¨æ„åŠ›</strong>ã€‚</p>
<pre><code class="hljs language-css" lang="css">è¾“å…¥åºåˆ—ï¼š<span class="hljs-selector-attr">[æˆ‘, çˆ±, ä¸­, å›½]</span>

          æˆ‘    çˆ±    ä¸­    å›½
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  æˆ‘ â†’ â”‚ <span class="hljs-number">0.4</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.1</span>   <span class="hljs-number">0.2</span> â”‚ â†’ æˆ‘çš„æ–°è¡¨ç¤º
  çˆ± â†’ â”‚ <span class="hljs-number">0.2</span>   <span class="hljs-number">0.5</span>   <span class="hljs-number">0.2</span>   <span class="hljs-number">0.1</span> â”‚ â†’ çˆ±çš„æ–°è¡¨ç¤º
  ä¸­ â†’ â”‚ <span class="hljs-number">0.1</span>   <span class="hljs-number">0.2</span>   <span class="hljs-number">0.4</span>   <span class="hljs-number">0.3</span> â”‚ â†’ ä¸­çš„æ–°è¡¨ç¤º
  å›½ â†’ â”‚ <span class="hljs-number">0.1</span>   <span class="hljs-number">0.1</span>   <span class="hljs-number">0.3</span>   <span class="hljs-number">0.5</span> â”‚ â†’ å›½çš„æ–°è¡¨ç¤º
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              æ³¨æ„åŠ›æƒé‡çŸ©é˜µ
</code></pre>
<p>æ¯ä¸ªè¯éƒ½èƒ½"çœ‹åˆ°"å…¶ä»–æ‰€æœ‰è¯ï¼Œå¹¶æ ¹æ®ç›¸å…³æ€§åˆ†é…æƒé‡ã€‚</p>
<h4 data-id="heading-11">4.2 å…¬å¼æ¨å¯¼ï¼šä»è¾“å…¥åˆ°è¾“å‡º</h4>
<p>è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ¨å¯¼è‡ªæ³¨æ„åŠ›çš„å®Œæ•´å…¬å¼ã€‚</p>
<p><strong>Step 1ï¼šå‡†å¤‡è¾“å…¥</strong></p>
<p>å‡è®¾è¾“å…¥åºåˆ—æœ‰ n ä¸ªè¯ï¼Œæ¯ä¸ªè¯ç”¨ d ç»´å‘é‡è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">è¾“å…¥çŸ©é˜µ X âˆˆ â„â¿Ë£áµˆ

ä¾‹å¦‚ï¼š4ä¸ªè¯ï¼Œæ¯ä¸ªè¯64ç»´
<span class="hljs-attr">X</span> = [xâ‚]   n=<span class="hljs-number">4</span>
    <span class="hljs-section">[xâ‚‚]</span>   
    <span class="hljs-section">[xâ‚ƒ]</span>   <span class="hljs-attr">d</span>=<span class="hljs-number">64</span>
    <span class="hljs-section">[xâ‚„]</span>   
</code></pre>
<p><strong>Step 2ï¼šç”Ÿæˆ Qã€Kã€V</strong></p>
<p>é€šè¿‡ä¸‰ä¸ªå¯å­¦ä¹ çš„æƒé‡çŸ©é˜µï¼Œå°†è¾“å…¥è½¬æ¢ä¸º Queryã€Keyã€Valueï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">Q</span> = X Â· Wq    (Wq âˆˆ â„áµˆË£áµˆáµ)
<span class="hljs-attr">K</span> = X Â· Wk    (Wk âˆˆ â„áµˆË£áµˆáµ)  
<span class="hljs-attr">V</span> = X Â· Wv    (Wv âˆˆ â„áµˆË£áµˆáµ›)
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>Wqã€Wkã€Wv æ˜¯å¯å­¦ä¹ çš„å‚æ•°çŸ©é˜µ</li>
<li>dâ‚– æ˜¯ Key/Query çš„ç»´åº¦</li>
<li>dáµ¥ æ˜¯ Value çš„ç»´åº¦ï¼ˆé€šå¸¸ dâ‚– = dáµ¥ = dï¼‰</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸‰ä¸ªä¸åŒçš„çŸ©é˜µï¼Ÿ</strong></p>
<p>è¿™æ · Qã€Kã€V å¯ä»¥ä»ä¸åŒè§’åº¦ç¼–ç ä¿¡æ¯ï¼š</p>
<ul>
<li>Qï¼šè¿™ä¸ªè¯"æƒ³è¦æŸ¥æ‰¾"ä»€ä¹ˆ</li>
<li>Kï¼šè¿™ä¸ªè¯"å¯¹å¤–å‘ˆç°"ä»€ä¹ˆ</li>
<li>Vï¼šè¿™ä¸ªè¯"å®é™…åŒ…å«"ä»€ä¹ˆ</li>
</ul>
<p><strong>Step 3ï¼šè®¡ç®—æ³¨æ„åŠ›åˆ†æ•°</strong></p>
<p>ç”¨ Query å’Œ Key çš„ç‚¹ç§¯è¡¡é‡ç›¸å…³æ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">åˆ†æ•°çŸ©é˜µ <span class="hljs-attr">S</span> = Q Â· Káµ€

S âˆˆ â„â¿Ë£â¿
</code></pre>
<p>S[i][j] è¡¨ç¤ºç¬¬ i ä¸ªè¯å¯¹ç¬¬ j ä¸ªè¯çš„"å…³æ³¨ç¨‹åº¦"ã€‚</p>
<p><strong>ç‚¹ç§¯çš„ç›´è§‰</strong>ï¼šä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯è¶Šå¤§ï¼Œè¯´æ˜å®ƒä»¬æ–¹å‘è¶Šä¸€è‡´ï¼Œå³è¶Šç›¸ä¼¼ã€‚</p>
<p><strong>Step 4ï¼šç¼©æ”¾ï¼ˆScalingï¼‰</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">S_scaled</span> = S / âˆšdâ‚–
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦é™¤ä»¥ âˆšdâ‚–ï¼Ÿ</strong> è¿™æ˜¯å…³é”®çš„ç»†èŠ‚ï¼</p>
<p>å‡è®¾ Q å’Œ K çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å‡å€¼ä¸º 0ã€æ–¹å·®ä¸º 1 çš„ç‹¬ç«‹éšæœºå˜é‡ã€‚é‚£ä¹ˆç‚¹ç§¯ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">q</span> Â· k = Î£áµ¢ <span class="hljs-selector-tag">q</span>áµ¢ Ã— káµ¢
</code></pre>
<p>è¿™ä¸ªå’Œçš„æ–¹å·® = dâ‚–ï¼ˆdâ‚– ä¸ªç‹¬ç«‹éšæœºå˜é‡ç›¸åŠ ï¼‰</p>
<p>å½“ dâ‚– å¾ˆå¤§æ—¶ï¼ˆæ¯”å¦‚ 64 æˆ– 512ï¼‰ï¼Œç‚¹ç§¯çš„å€¼ä¼šéå¸¸å¤§ã€‚è¿™ä¼šå¯¼è‡´ softmax åçš„åˆ†å¸ƒå˜å¾—æç«¯ï¼ˆæ¥è¿‘ one-hotï¼‰ï¼Œæ¢¯åº¦æ¶ˆå¤±ã€‚</p>
<p>é™¤ä»¥ âˆšdâ‚– å¯ä»¥è®©æ–¹å·®å›åˆ° 1ï¼Œä¿æŒæ•°å€¼ç¨³å®šã€‚</p>
<p><strong>Step 5ï¼šSoftmax å½’ä¸€åŒ–</strong></p>
<pre><code class="hljs language-ini" lang="ini">æ³¨æ„åŠ›æƒé‡ <span class="hljs-attr">A</span> = softmax(S_scaled)
</code></pre>
<p>å¯¹æ¯ä¸€è¡Œåš softmaxï¼Œç¡®ä¿æƒé‡å’Œä¸º 1ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = exp(S_scaled<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span>) / Î£â‚– exp(S_scaled<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[k]</span>)
</code></pre>
<p><strong>Step 6ï¼šåŠ æƒæ±‚å’Œå¾—åˆ°è¾“å‡º</strong></p>
<pre><code class="hljs language-css" lang="css">è¾“å‡º = <span class="hljs-selector-tag">A</span> Â· V
</code></pre>
<p>æ¯ä¸ªä½ç½®çš„è¾“å‡ºæ˜¯æ‰€æœ‰ Value çš„åŠ æƒå’Œï¼Œæƒé‡å°±æ˜¯æ³¨æ„åŠ›åˆ†æ•°ã€‚</p>
<h4 data-id="heading-12">4.3 å®Œæ•´å…¬å¼</h4>
<p>å°†ä¸Šè¿°æ­¥éª¤æ•´åˆï¼Œå¾—åˆ°è‘—åçš„<strong>ç¼©æ”¾ç‚¹ç§¯æ³¨æ„åŠ›å…¬å¼</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         QKáµ€                â”‚
<span class="hljs-built_in">Attention</span>(Q,K,V) =  â”‚ <span class="hljs-built_in">softmax</span>(â”€â”€â”€â”€) Â· V          â”‚
                    â”‚         âˆšdâ‚–               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>ç”¨æ›´è§„èŒƒçš„æ•°å­¦ç¬¦å·è¡¨ç¤ºï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Attention</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>softmax</mtext><mrow><mo fence="true">(</mo><mfrac><mrow><mi>Q</mi><msup><mi>K</mi><mi>T</mi></msup></mrow><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt></mfrac><mo fence="true">)</mo></mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">\text{Attention}(Q, K, V) = \text{softmax}\left(\frac{QK^T}{\sqrt{d_k}}\right)V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4684em;vertical-align:-0.95em;"/><span class="mord text"><span class="mord">softmax</span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5183em;"><span style="top:-2.2528em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8572em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.8172em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1828em;"><span/></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span></div>
<h4 data-id="heading-13">4.4 è®¡ç®—ç¤ºä¾‹</h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-less" lang="less">è¾“å…¥ï¼š<span class="hljs-number">2</span>ä¸ªè¯ï¼Œæ¯ä¸ªè¯<span class="hljs-number">3</span>ç»´

<span class="hljs-selector-tag">X</span> = <span class="hljs-selector-attr">[1, 0, 1]</span>    â† è¯<span class="hljs-number">1</span>
    <span class="hljs-selector-attr">[0, 1, 1]</span>    â† è¯<span class="hljs-number">2</span>

å‡è®¾ <span class="hljs-selector-tag">Wq</span> = <span class="hljs-selector-tag">Wk</span> = <span class="hljs-selector-tag">Wv</span> = <span class="hljs-selector-tag">I</span>ï¼ˆå•ä½çŸ©é˜µï¼Œç®€åŒ–è®¡ç®—ï¼‰

åˆ™ <span class="hljs-selector-tag">Q</span> = <span class="hljs-selector-tag">K</span> = <span class="hljs-selector-tag">V</span> = <span class="hljs-selector-tag">X</span>

<span class="hljs-selector-tag">Step</span> <span class="hljs-number">1</span>: è®¡ç®— <span class="hljs-selector-tag">QK</span>áµ€
<span class="hljs-selector-tag">QK</span>áµ€ = <span class="hljs-selector-attr">[1,0,1]</span> <span class="hljs-selector-attr">[1, 0]</span>   = <span class="hljs-selector-attr">[1Ã—1+0Ã—0+1Ã—1, 1Ã—0+0Ã—1+1Ã—1]</span> = <span class="hljs-selector-attr">[2, 1]</span>
      <span class="hljs-selector-attr">[0,1,1]</span> <span class="hljs-selector-attr">[0, 1]</span>     <span class="hljs-selector-attr">[0Ã—1+1Ã—0+1Ã—1, 0Ã—0+1Ã—1+1Ã—1]</span>   <span class="hljs-selector-attr">[1, 2]</span>
              <span class="hljs-selector-attr">[1, 1]</span>

<span class="hljs-selector-tag">Step</span> <span class="hljs-number">2</span>: ç¼©æ”¾ï¼ˆ<span class="hljs-selector-tag">d</span>â‚–=<span class="hljs-number">3</span>ï¼‰
<span class="hljs-selector-tag">S_scaled</span> = <span class="hljs-selector-attr">[2, 1]</span> / âˆš<span class="hljs-number">3</span> â‰ˆ <span class="hljs-selector-attr">[1.15, 0.58]</span>
           <span class="hljs-selector-attr">[1, 2]</span>         <span class="hljs-selector-attr">[0.58, 1.15]</span>

<span class="hljs-selector-tag">Step</span> <span class="hljs-number">3</span>: <span class="hljs-selector-tag">Softmax</span>ï¼ˆæŒ‰è¡Œï¼‰
ç¬¬<span class="hljs-number">1</span>è¡Œï¼š<span class="hljs-selector-tag">exp</span>(<span class="hljs-number">1.15</span>)/(<span class="hljs-built_in">exp</span>(<span class="hljs-number">1.15</span>)+<span class="hljs-built_in">exp</span>(<span class="hljs-number">0.58</span>)) â‰ˆ <span class="hljs-number">0.64</span>, <span class="hljs-number">0.36</span>
ç¬¬<span class="hljs-number">2</span>è¡Œï¼š<span class="hljs-selector-tag">exp</span>(<span class="hljs-number">0.58</span>)/(<span class="hljs-built_in">exp</span>(<span class="hljs-number">0.58</span>)+<span class="hljs-built_in">exp</span>(<span class="hljs-number">1.15</span>)) â‰ˆ <span class="hljs-number">0.36</span>, <span class="hljs-number">0.64</span>

<span class="hljs-selector-tag">A</span> â‰ˆ <span class="hljs-selector-attr">[0.64, 0.36]</span>
    <span class="hljs-selector-attr">[0.36, 0.64]</span>

<span class="hljs-selector-tag">Step</span> <span class="hljs-number">4</span>: è®¡ç®—è¾“å‡º
è¾“å‡º = <span class="hljs-selector-tag">A</span> Â· <span class="hljs-selector-tag">V</span> = <span class="hljs-selector-attr">[0.64, 0.36]</span> Ã— <span class="hljs-selector-attr">[1, 0, 1]</span>
               <span class="hljs-selector-attr">[0.36, 0.64]</span>   <span class="hljs-selector-attr">[0, 1, 1]</span>

è¯<span class="hljs-number">1</span>çš„æ–°è¡¨ç¤º = <span class="hljs-number">0.64</span>Ã—<span class="hljs-selector-attr">[1,0,1]</span> + <span class="hljs-number">0.36</span>Ã—<span class="hljs-selector-attr">[0,1,1]</span> = <span class="hljs-selector-attr">[0.64, 0.36, 1.0]</span>
è¯<span class="hljs-number">2</span>çš„æ–°è¡¨ç¤º = <span class="hljs-number">0.36</span>Ã—<span class="hljs-selector-attr">[1,0,1]</span> + <span class="hljs-number">0.64</span>Ã—<span class="hljs-selector-attr">[0,1,1]</span> = <span class="hljs-selector-attr">[0.36, 0.64, 1.0]</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªè¯çš„æ–°è¡¨ç¤ºèåˆäº†å…¶ä»–æ‰€æœ‰è¯çš„ä¿¡æ¯ã€‚</p>
<hr/>
<h3 data-id="heading-14">äº”ã€å¤šå¤´æ³¨æ„åŠ›ï¼šå¹¶è¡Œçš„å¤šè§†è§’å…³æ³¨</h3>
<h4 data-id="heading-15">5.1 ä¸ºä»€ä¹ˆéœ€è¦å¤šå¤´æ³¨æ„åŠ›ï¼Ÿ</h4>
<p>å•ä¸ªæ³¨æ„åŠ›å¤´åªèƒ½å­¦ä¹ ä¸€ç§"å…³æ³¨æ¨¡å¼"ã€‚ä½†åœ¨ç†è§£è¯­è¨€æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åŒæ—¶å…³æ³¨å¤šç§å…³ç³»ï¼š</p>

























<table><thead><tr><th>å…³æ³¨è§’åº¦</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>è¯­æ³•ç»“æ„</td><td>ä¸»è¯­-è°“è¯­-å®¾è¯­</td></tr><tr><td>æŒ‡ä»£å…³ç³»</td><td>"å®ƒ"æŒ‡ä»£ä»€ä¹ˆ</td></tr><tr><td>è¯­ä¹‰ç›¸ä¼¼</td><td>åŒä¹‰è¯ã€è¿‘ä¹‰è¯</td></tr><tr><td>ä½ç½®å…³ç³»</td><td>ç›¸é‚»è¯çš„å…³è”</td></tr></tbody></table>
<p><strong>å¤šå¤´æ³¨æ„åŠ›</strong>è®©æ¨¡å‹åŒæ—¶å­¦ä¹ å¤šç§æ³¨æ„åŠ›æ¨¡å¼ã€‚</p>
<h4 data-id="heading-16">5.2 å¤šå¤´æ³¨æ„åŠ›çš„ç»“æ„</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”Œâ”€â”€â”€â”€â–ºâ”‚ æ³¨æ„åŠ›å¤´ 1  â”‚â”€â”€â”€â”€â”
              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
è¾“å…¥ X â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–ºâ”‚ æ³¨æ„åŠ›å¤´ 2  â”‚â”€â”€â”€â”€â”¼â”€â”€â”€â–º Concat â”€â”€â–º çº¿æ€§å˜æ¢ â”€â”€â–º è¾“å‡º
              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
              â””â”€â”€â”€â”€â–ºâ”‚ æ³¨æ„åŠ›å¤´ h  â”‚â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<h4 data-id="heading-17">5.3 å…¬å¼æ¨å¯¼</h4>
<p><strong>Step 1ï¼šåˆ†å¤´è®¡ç®—</strong></p>
<p>å¯¹äºç¬¬ i ä¸ªå¤´ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">headáµ¢ = <span class="hljs-built_in">Attention</span>(QÂ·Wqâ±, KÂ·Wkâ±, VÂ·Wvâ±)
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>Wqâ±, Wkâ± âˆˆ â„áµˆË£â½áµˆ/Ê°â¾</li>
<li>Wvâ± âˆˆ â„áµˆË£â½áµˆ/Ê°â¾</li>
<li>h æ˜¯å¤´çš„æ•°é‡</li>
</ul>
<p><strong>å…³é”®è®¾è®¡</strong>ï¼šæ¯ä¸ªå¤´çš„ç»´åº¦æ˜¯ d/hï¼Œæ‰€ä»¥ h ä¸ªå¤´æ‹¼æ¥åç»´åº¦è¿˜æ˜¯ dã€‚</p>
<p><strong>Step 2ï¼šæ‹¼æ¥æ‰€æœ‰å¤´</strong></p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">MultiHead</span>(Q, K, V) = <span class="hljs-built_in">Concat</span>(headâ‚, headâ‚‚, ..., headâ‚•) Â· Wáµ’
</code></pre>
<p>å…¶ä¸­ Wáµ’ âˆˆ â„áµˆË£áµˆ æ˜¯è¾“å‡ºæŠ•å½±çŸ©é˜µã€‚</p>
<h4 data-id="heading-18">5.4 å¤šå¤´æ³¨æ„åŠ›çš„å®Œæ•´å…¬å¼</h4>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>MultiHead</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>Concat</mtext><mo stretchy="false">(</mo><msub><mtext>head</mtext><mn>1</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mtext>head</mtext><mi>h</mi></msub><mo stretchy="false">)</mo><msup><mi>W</mi><mi>O</mi></msup></mrow><annotation encoding="application/x-tex">\text{MultiHead}(Q, K, V) = \text{Concat}(\text{head}_1, ..., \text{head}_h) W^O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">MultiHead</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1413em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">Concat</span></span><span class="mopen">(</span><span class="mord"><span class="mord text"><span class="mord">head</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord text"><span class="mord">head</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span></span></span></span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mtext>whereÂ head</mtext><mi>i</mi></msub><mo>=</mo><mtext>Attention</mtext><mo stretchy="false">(</mo><mi>Q</mi><msubsup><mi>W</mi><mi>i</mi><mi>Q</mi></msubsup><mo separator="true">,</mo><mi>K</mi><msubsup><mi>W</mi><mi>i</mi><mi>K</mi></msubsup><mo separator="true">,</mo><mi>V</mi><msubsup><mi>W</mi><mi>i</mi><mi>V</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{where head}_i = \text{Attention}(QW_i^Q, KW_i^K, VW_i^V)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord text"><span class="mord">whereÂ head</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2361em;vertical-align:-0.2769em;"/><span class="mord text"><span class="mord">Attention</span></span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9592em;"><span style="top:-2.4231em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2769em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div>
<h4 data-id="heading-19">5.5 ä¸€ä¸ªç›´è§‚çš„ç†è§£</h4>
<p>æŠŠå¤šå¤´æ³¨æ„åŠ›æƒ³è±¡æˆ<strong>å¤šä¸ªä¸“å®¶åŒæ—¶çœ‹åŒä¸€ä¸ªé—®é¢˜</strong>ï¼š</p>
<ul>
<li>ä¸“å®¶ 1 å…³æ³¨è¯­æ³•ç»“æ„</li>
<li>ä¸“å®¶ 2 å…³æ³¨æŒ‡ä»£å…³ç³»</li>
<li>ä¸“å®¶ 3 å…³æ³¨æƒ…æ„Ÿå€¾å‘</li>
<li>...</li>
</ul>
<p>æœ€åæŠŠæ‰€æœ‰ä¸“å®¶çš„æ„è§ç»¼åˆèµ·æ¥ï¼Œå¾—åˆ°æ›´å…¨é¢çš„ç†è§£ã€‚</p>
<hr/>
<h3 data-id="heading-20">å…­ã€Transformer çš„å®Œæ•´æ¶æ„</h3>
<h4 data-id="heading-21">6.1 æ•´ä½“ç»“æ„</h4>
<pre><code class="hljs language-css" lang="css">               è¾“å…¥                              è¾“å‡º
                â†“                                 â†“
         <span class="hljs-selector-attr">[è¯åµŒå…¥ + ä½ç½®ç¼–ç ]</span>                 <span class="hljs-selector-attr">[è¯åµŒå…¥ + ä½ç½®ç¼–ç ]</span>
                â†“                                 â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Encoder   â”‚                   â”‚   Decoder   â”‚
         â”‚  Ã—N å±‚      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Ã—N å±‚      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â†“
                                           <span class="hljs-selector-attr">[çº¿æ€§å±‚ + Softmax]</span>
                                                  â†“
                                              é¢„æµ‹è¾“å‡º
</code></pre>
<h4 data-id="heading-22">6.2 ç¼–ç å™¨ï¼ˆEncoderï¼‰ç»“æ„</h4>
<p>æ¯ä¸ªç¼–ç å™¨å±‚åŒ…å«ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">        è¾“å…¥
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å¤šå¤´è‡ªæ³¨æ„åŠ› â”‚â—„â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ æ®‹å·®è¿æ¥
         â†“             â”‚
       <span class="hljs-keyword">Add</span> <span class="hljs-operator">&amp;</span> Norm â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å‰é¦ˆç¥ç»ç½‘ç»œ â”‚â—„â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ æ®‹å·®è¿æ¥
         â†“             â”‚
       <span class="hljs-keyword">Add</span> <span class="hljs-operator">&amp;</span> Norm â”€â”€â”€â”€â”€â”˜
         â†“
        è¾“å‡º
</code></pre>
<p><strong>æ®‹å·®è¿æ¥ï¼ˆAddï¼‰</strong>ï¼šè§£å†³æ·±å±‚ç½‘ç»œè®­ç»ƒå›°éš¾çš„é—®é¢˜ï¼ˆå’Œ ResNet æ€æƒ³ä¸€è‡´ï¼‰</p>
<p><strong>å±‚å½’ä¸€åŒ–ï¼ˆNormï¼‰</strong>ï¼šç¨³å®šè®­ç»ƒï¼ŒåŠ é€Ÿæ”¶æ•›</p>
<h4 data-id="heading-23">6.3 è§£ç å™¨ï¼ˆDecoderï¼‰ç»“æ„</h4>
<p>è§£ç å™¨æ¯”ç¼–ç å™¨å¤šäº†ä¸€ä¸ª<strong>äº¤å‰æ³¨æ„åŠ›å±‚</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">        è¾“å…¥ï¼ˆå·²ç”Ÿæˆçš„éƒ¨åˆ†ï¼‰
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å¸¦æ©ç çš„å¤šå¤´è‡ªæ³¨æ„åŠ› â”‚â—„â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â†“                  â”‚
       <span class="hljs-keyword">Add</span> <span class="hljs-operator">&amp;</span> Norm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  äº¤å‰æ³¨æ„åŠ›      â”‚â—„â”€â”€â”€â”€â”  â†â”€â”€ æ¥æ”¶ç¼–ç å™¨çš„è¾“å‡º
    â”‚  (Encoder<span class="hljs-operator">-</span>Decoder)â”‚     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â†“                  â”‚
       <span class="hljs-keyword">Add</span> <span class="hljs-operator">&amp;</span> Norm â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  å‰é¦ˆç¥ç»ç½‘ç»œ â”‚â—„â”€â”€â”€â”€â”
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â†“             â”‚
       <span class="hljs-keyword">Add</span> <span class="hljs-operator">&amp;</span> Norm â”€â”€â”€â”€â”€â”˜
         â†“
        è¾“å‡º
</code></pre>
<p><strong>å¸¦æ©ç çš„è‡ªæ³¨æ„åŠ›ï¼ˆMasked Self-Attentionï¼‰</strong>ï¼š</p>
<p>åœ¨ç”Ÿæˆæ—¶ï¼Œæ¨¡å‹åªèƒ½çœ‹åˆ°å·²ç»ç”Ÿæˆçš„è¯ï¼Œä¸èƒ½"å·çœ‹"æœªæ¥çš„è¯ã€‚æ©ç å®ç°è¿™ä¸€é™åˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css">æ©ç çŸ©é˜µï¼ˆä¸Šä¸‰è§’ä¸º-âˆï¼‰ï¼š
     è¯<span class="hljs-number">1</span>  è¯<span class="hljs-number">2</span>  è¯<span class="hljs-number">3</span>  è¯<span class="hljs-number">4</span>
è¯<span class="hljs-number">1</span> <span class="hljs-selector-attr">[ 0   -âˆ  -âˆ  -âˆ ]</span>
è¯<span class="hljs-number">2</span> <span class="hljs-selector-attr">[ 0    0  -âˆ  -âˆ ]</span>
è¯<span class="hljs-number">3</span> <span class="hljs-selector-attr">[ 0    0   0  -âˆ ]</span>
è¯<span class="hljs-number">4</span> <span class="hljs-selector-attr">[ 0    0   0   0 ]</span>

åŠ åˆ°æ³¨æ„åŠ›åˆ†æ•°ä¸Šåï¼Œ-âˆ ç»è¿‡ softmax å˜æˆ <span class="hljs-number">0</span>ï¼Œå³å®Œå…¨ä¸å…³æ³¨æœªæ¥çš„è¯ã€‚
</code></pre>
<hr/>
<h3 data-id="heading-24">ä¸ƒã€ä½ç½®ç¼–ç ï¼šè®©æ¨¡å‹çŸ¥é“é¡ºåº</h3>
<h4 data-id="heading-25">7.1 ä¸ºä»€ä¹ˆéœ€è¦ä½ç½®ç¼–ç ï¼Ÿ</h4>
<p>æ³¨æ„åŠ›æœºåˆ¶æ˜¯<strong>æ’åˆ—ä¸å˜çš„</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">Attention</span>("æˆ‘çˆ±ä¸­å›½") = <span class="hljs-built_in">Attention</span>("å›½ä¸­çˆ±æˆ‘")  ï¼Ÿ
</code></pre>
<p>å¦‚æœä¸åŠ å¤„ç†ï¼Œæ¨¡å‹æ— æ³•åŒºåˆ†è¯çš„é¡ºåºï¼ä½†è¯­è¨€ä¸­é¡ºåºè‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-26">7.2 ä½ç½®ç¼–ç çš„è®¾è®¡</h4>
<p>Transformer ä½¿ç”¨<strong>æ­£å¼¦/ä½™å¼¦ä½ç½®ç¼–ç </strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">PE</span>(pos, <span class="hljs-number">2</span>i)   = <span class="hljs-built_in">sin</span>(pos / <span class="hljs-number">10000</span>^(<span class="hljs-number">2</span>i/d))
<span class="hljs-built_in">PE</span>(pos, <span class="hljs-number">2</span>i+<span class="hljs-number">1</span>) = <span class="hljs-built_in">cos</span>(pos / <span class="hljs-number">10000</span>^(<span class="hljs-number">2</span>i/d))
</code></pre>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>posï¼šè¯åœ¨åºåˆ—ä¸­çš„ä½ç½®ï¼ˆ0, 1, 2, ...ï¼‰</li>
<li>iï¼šç»´åº¦çš„ç´¢å¼•ï¼ˆ0, 1, 2, ..., d/2-1ï¼‰</li>
<li>dï¼šç¼–ç ç»´åº¦</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆç”¨æ­£å¼¦/ä½™å¼¦ï¼Ÿ</strong></p>
<ol>
<li><strong>æœ‰ç•Œæ€§</strong>ï¼šå€¼å§‹ç»ˆåœ¨ [-1, 1] èŒƒå›´å†…</li>
<li><strong>å‘¨æœŸæ€§</strong>ï¼šå¯ä»¥è¡¨è¾¾ç›¸å¯¹ä½ç½®å…³ç³»</li>
<li><strong>å¯å¤–æ¨</strong>ï¼šç†è®ºä¸Šå¯ä»¥å¤„ç†ä»»æ„é•¿åº¦çš„åºåˆ—</li>
</ol>
<p><strong>å…³é”®æ€§è´¨</strong>ï¼šå¯¹äºå›ºå®šçš„åç§»é‡ kï¼ŒPE(pos+k) å¯ä»¥è¡¨ç¤ºä¸º PE(pos) çš„çº¿æ€§å‡½æ•°ã€‚è¿™è®©æ¨¡å‹å®¹æ˜“å­¦ä¹ ç›¸å¯¹ä½ç½®å…³ç³»ã€‚</p>
<h4 data-id="heading-27">7.3 ä½ç½®ç¼–ç çš„å¯è§†åŒ–</h4>
<pre><code class="hljs language-markdown" lang="markdown">ä½ç½®
  â†“
  0  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  1  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âˆ™
  2  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âˆ™âˆ™
  3  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âˆ™âˆ™âˆ™
  ...
<span class="hljs-code">     ä½é¢‘ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ é«˜é¢‘
           ç»´åº¦æ–¹å‘
</span></code></pre>
<ul>
<li>ä½ç»´åº¦å˜åŒ–æ…¢ï¼ˆè¡¨ç¤ºç²—ç²’åº¦ä½ç½®ï¼‰</li>
<li>é«˜ç»´åº¦å˜åŒ–å¿«ï¼ˆè¡¨ç¤ºç»†ç²’åº¦ä½ç½®ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-28">å…«ã€å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆFFNï¼‰</h3>
<p>æ¯ä¸ª Transformer å±‚è¿˜åŒ…å«ä¸€ä¸ªå‰é¦ˆç¥ç»ç½‘ç»œï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">FFN</span>(x) = <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, xWâ‚ + bâ‚)Wâ‚‚ + <span class="hljs-selector-tag">b</span>â‚‚
</code></pre>
<p>æˆ–è€…ç”¨æ›´ç°ä»£çš„ GELU æ¿€æ´»ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">FFN</span>(x) = <span class="hljs-built_in">GELU</span>(xWâ‚ + bâ‚)Wâ‚‚ + <span class="hljs-selector-tag">b</span>â‚‚
</code></pre>
<h4 data-id="heading-29">ç»“æ„</h4>
<pre><code class="hljs language-css" lang="css">è¾“å…¥ï¼ˆd ç»´ï¼‰
    â†“
<span class="hljs-selector-attr">[çº¿æ€§å±‚]</span> â†’ d â†’ <span class="hljs-number">4</span>dï¼ˆæ‰©å±•ï¼‰
    â†“
<span class="hljs-selector-attr">[æ¿€æ´»å‡½æ•° ReLU/GELU]</span>
    â†“
<span class="hljs-selector-attr">[çº¿æ€§å±‚]</span> â†’ <span class="hljs-number">4</span>d â†’ dï¼ˆæ”¶ç¼©ï¼‰
    â†“
è¾“å‡ºï¼ˆd ç»´ï¼‰
</code></pre>
<p><strong>FFN çš„ä½œç”¨</strong>ï¼š</p>
<ul>
<li>å¢åŠ æ¨¡å‹å®¹é‡</li>
<li>å¼•å…¥éçº¿æ€§</li>
<li>æ¯ä¸ªä½ç½®ç‹¬ç«‹å¤„ç†ï¼ˆå¯å¹¶è¡Œï¼‰</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆä¸­é—´å±‚è¦æ‰©å¤§ 4 å€ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ç»éªŒè®¾è®¡ã€‚æ‰©å¤§ç»´åº¦å¢åŠ äº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›ï¼Œæ˜¯å‚æ•°é‡å’Œæ•ˆæœçš„æƒè¡¡ã€‚</p>
<hr/>
<h3 data-id="heading-30">ä¹ã€è®­ç»ƒä¸æ¨ç†</h3>
<h4 data-id="heading-31">9.1 è®­ç»ƒè¿‡ç¨‹</h4>
<p><strong>ä»»åŠ¡</strong>ï¼šç»™å®šè¾“å…¥åºåˆ—ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ªè¯</p>
<p><strong>æŸå¤±å‡½æ•°</strong>ï¼šäº¤å‰ç†µ</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">Loss</span> = -Î£ log P(æ­£ç¡®è¯ | ä¸Šä¸‹æ–‡)
</code></pre>
<p><strong>ä¼˜åŒ–æŠ€å·§</strong>ï¼š</p>
<ul>
<li><strong>å­¦ä¹ ç‡é¢„çƒ­ï¼ˆWarmupï¼‰</strong>ï¼šå¼€å§‹æ—¶ç”¨å°å­¦ä¹ ç‡ï¼Œé€æ¸å¢å¤§ï¼Œç„¶åå†è¡°å‡</li>
<li><strong>Dropout</strong>ï¼šéšæœºä¸¢å¼ƒéƒ¨åˆ†ç¥ç»å…ƒï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</li>
<li><strong>æ ‡ç­¾å¹³æ»‘ï¼ˆLabel Smoothingï¼‰</strong>ï¼šè½¯åŒ–ç›®æ ‡åˆ†å¸ƒï¼Œæé«˜æ³›åŒ–èƒ½åŠ›</li>
</ul>
<h4 data-id="heading-32">9.2 æ¨ç†è¿‡ç¨‹ï¼ˆç”Ÿæˆï¼‰</h4>
<p><strong>è‡ªå›å½’ç”Ÿæˆ</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">è¾“å…¥ï¼š<span class="hljs-string">"ä»Šå¤©å¤©æ°”"</span>

æ­¥éª¤<span class="hljs-number">1</span>ï¼šæ¨¡å‹é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ â†’ <span class="hljs-string">"å¾ˆ"</span>
æ­¥éª¤<span class="hljs-number">2</span>ï¼šè¾“å…¥å˜æˆ <span class="hljs-string">"ä»Šå¤©å¤©æ°”å¾ˆ"</span>ï¼Œé¢„æµ‹ â†’ <span class="hljs-string">"å¥½"</span>
æ­¥éª¤<span class="hljs-number">3</span>ï¼šè¾“å…¥å˜æˆ <span class="hljs-string">"ä»Šå¤©å¤©æ°”å¾ˆå¥½"</span>ï¼Œé¢„æµ‹ â†’ [ç»“æŸç¬¦]

è¾“å‡ºï¼š<span class="hljs-string">"ä»Šå¤©å¤©æ°”å¾ˆå¥½"</span>
</code></pre>
<p>æ¯ä¸€æ­¥éƒ½è¦é‡æ–°è®¡ç®—ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆç”Ÿæˆå¾ˆæ…¢ã€‚</p>
<p><strong>KV ç¼“å­˜ï¼ˆKV Cacheï¼‰</strong>ï¼š</p>
<p>ä¸ºäº†åŠ é€Ÿï¼Œå¯ä»¥ç¼“å­˜å·²è®¡ç®—çš„ Key å’Œ Valueï¼Œé¿å…é‡å¤è®¡ç®—ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ä¸ç”¨ç¼“å­˜ï¼šæ¯æ­¥è®¡ç®— <span class="hljs-built_in">O</span>(nÂ²)ï¼Œæ€»å…± <span class="hljs-built_in">O</span>(nÂ³)
ä½¿ç”¨ç¼“å­˜ï¼šæ¯æ­¥è®¡ç®— <span class="hljs-built_in">O</span>(n)ï¼Œæ€»å…± <span class="hljs-built_in">O</span>(nÂ²)
</code></pre>
<hr/>
<h3 data-id="heading-33">åã€Transformer çš„å˜ä½“ä¸å‘å±•</h3>
<h4 data-id="heading-34">10.1 ä¸»æµæ¶æ„</h4>

























<table><thead><tr><th>æ¶æ„ç±»å‹</th><th>ä»£è¡¨æ¨¡å‹</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>Encoder-only</td><td>BERT</td><td>åŒå‘ç†è§£ï¼Œé€‚åˆåˆ†ç±»ã€é—®ç­”</td></tr><tr><td>Decoder-only</td><td>GPT</td><td>å•å‘ç”Ÿæˆï¼Œé€‚åˆæ–‡æœ¬ç”Ÿæˆ</td></tr><tr><td>Encoder-Decoder</td><td>T5, BART</td><td>å®Œæ•´æ¶æ„ï¼Œé€‚åˆç¿»è¯‘ã€æ‘˜è¦</td></tr></tbody></table>
<h4 data-id="heading-35">10.2 æ•ˆç‡ä¼˜åŒ–</h4>






























<table><thead><tr><th>ä¼˜åŒ–æ–¹æ³•</th><th>æ€è·¯</th><th>ä»£è¡¨å·¥ä½œ</th></tr></thead><tbody><tr><td>ç¨€ç–æ³¨æ„åŠ›</td><td>åªå…³æ³¨éƒ¨åˆ†ä½ç½®</td><td>Longformer, BigBird</td></tr><tr><td>çº¿æ€§æ³¨æ„åŠ›</td><td>å°†å¤æ‚åº¦ä» O(nÂ²) é™åˆ° O(n)</td><td>Linear Transformer</td></tr><tr><td>Flash Attention</td><td>ä¼˜åŒ–å†…å­˜è®¿é—®æ¨¡å¼</td><td>Flash Attention</td></tr><tr><td>åˆ†ç»„æŸ¥è¯¢æ³¨æ„åŠ›</td><td>å¤šä¸ªå¤´å…±äº« K/V</td><td>GQA</td></tr></tbody></table>
<h4 data-id="heading-36">10.3 æ¶æ„æ”¹è¿›</h4>
<ul>
<li><strong>RMSNorm</strong>ï¼šæ›¿ä»£ LayerNormï¼Œæ›´é«˜æ•ˆ</li>
<li><strong>æ—‹è½¬ä½ç½®ç¼–ç ï¼ˆRoPEï¼‰</strong>ï¼šæ›¿ä»£ç»å¯¹ä½ç½®ç¼–ç ï¼Œå¤–æ¨èƒ½åŠ›æ›´å¼º</li>
<li><strong>SwiGLU æ¿€æ´»</strong>ï¼šæ›¿ä»£ ReLU/GELUï¼Œæ•ˆæœæ›´å¥½</li>
</ul>
<hr/>
<h3 data-id="heading-37">åä¸€ã€æ€»ç»“</h3>
<p>è®©æˆ‘ä»¬å›é¡¾ Transformer çš„æ ¸å¿ƒè¦ç‚¹ï¼š</p>



































<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th><th>åˆ›æ–°ç‚¹</th></tr></thead><tbody><tr><td>è‡ªæ³¨æ„åŠ›</td><td>å»ºç«‹åºåˆ—å†…ä»»æ„ä½ç½®çš„å…³ç³»</td><td>å¹¶è¡Œè®¡ç®—ã€é•¿è·ç¦»å»ºæ¨¡</td></tr><tr><td>å¤šå¤´æ³¨æ„åŠ›</td><td>å¤šè§†è§’å…³æ³¨ä¸åŒæ¨¡å¼</td><td>å¢åŠ è¡¨è¾¾èƒ½åŠ›</td></tr><tr><td>ä½ç½®ç¼–ç </td><td>å¼•å…¥ä½ç½®ä¿¡æ¯</td><td>æ­£å¼¦ç¼–ç ï¼Œå¯å¤–æ¨</td></tr><tr><td>æ®‹å·®è¿æ¥</td><td>è®­ç»ƒæ·±å±‚ç½‘ç»œ</td><td>æ¢¯åº¦ç›´é€š</td></tr><tr><td>å±‚å½’ä¸€åŒ–</td><td>ç¨³å®šè®­ç»ƒ</td><td>åŠ é€Ÿæ”¶æ•›</td></tr></tbody></table>
<p><strong>Transformer æˆåŠŸçš„å…³é”®</strong>ï¼š</p>
<ol>
<li><strong>å¹¶è¡Œæ€§</strong>ï¼šæ‘†è„± RNN çš„é¡ºåºä¾èµ–</li>
<li><strong>é•¿è·ç¦»å»ºæ¨¡</strong>ï¼šæ³¨æ„åŠ›æœºåˆ¶ç›´æ¥è¿æ¥ä»»æ„ä½ç½®</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ¶æ„ç®€æ´ï¼Œæ˜“äºå †å æ›´å¤šå±‚</li>
</ol>
<p><strong>æ ¸å¿ƒå…¬å¼é€Ÿè®°</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"># è‡ªæ³¨æ„åŠ›
<span class="hljs-built_in">Attention</span>(Q,K,V) = <span class="hljs-built_in">softmax</span>(QKáµ€/âˆšdâ‚–) Ã— V

# å¤šå¤´æ³¨æ„åŠ›  
<span class="hljs-built_in">MultiHead</span>(Q,K,V) = <span class="hljs-built_in">Concat</span>(headâ‚,...,headâ‚•)Wáµ’
where headáµ¢ = <span class="hljs-built_in">Attention</span>(QWáµ¢Q, KWáµ¢K, VWáµ¢V)
</code></pre>
<hr/>
<h3 data-id="heading-38">å»¶ä¼¸é˜…è¯»</h3>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ·±å…¥ï¼š</p>
<ol>
<li><strong>è®ºæ–‡åŸæ–‡</strong>ï¼š<em>Attention Is All You Need</em>ï¼ˆVaswani et al., 2017ï¼‰</li>
<li><strong>ç»å…¸è§£è¯»</strong>ï¼š<em>The Illustrated Transformer</em>ï¼ˆJay Alammarï¼‰</li>
<li><strong>ä»£ç å®è·µ</strong>ï¼š<em>The Annotated Transformer</em>ï¼ˆHarvard NLPï¼‰</li>
<li><strong>è¿›é˜¶å†…å®¹</strong>ï¼š<em>FlashAttention</em>ã€<em>Rotary Position Embedding</em> ç­‰ä¼˜åŒ–æŠ€æœ¯</li>
</ol>
<p><strong>åè®°</strong>ï¼šTransformer çš„è®¾è®¡ä¹‹ç¾åœ¨äºå…¶ç®€æ´æ€§ã€‚"Attention Is All You Need"è¿™ä¸ªæ ‡é¢˜æœ¬èº«å°±æ˜¯ä¸€ç§å®£è¨€ï¼šç”¨ä¸€ä¸ªç»Ÿä¸€çš„æœºåˆ¶ï¼ˆæ³¨æ„åŠ›ï¼‰æ›¿ä»£å¤æ‚çš„å¾ªç¯ç»“æ„ã€é—¨æ§æœºåˆ¶ï¼Œåè€Œå–å¾—äº†æ›´å¥½çš„æ•ˆæœã€‚è¿™å‘Šè¯‰æˆ‘ä»¬ï¼Œæœ‰æ—¶å€™åŒ–ç¹ä¸ºç®€æ‰æ˜¯çœŸæ­£çš„åˆ›æ–°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ®‹å·®ç½‘ç»œï¼šä¸€æ–‡è¯»æ‡‚ AI å¤§æ¨¡å‹çš„åŸºçŸ³æŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7599237603976462379</link>    <guid>https://juejin.cn/post/7599237603976462379</guid>    <pubDate>2026-01-26T09:25:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599237603976462379" data-draft-id="7599237603976429611" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ®‹å·®ç½‘ç»œï¼šä¸€æ–‡è¯»æ‡‚ AI å¤§æ¨¡å‹çš„åŸºçŸ³æŠ€æœ¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-26T09:25:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hhang"/> <meta itemprop="url" content="https://juejin.cn/user/1994944446213274"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ®‹å·®ç½‘ç»œï¼šä¸€æ–‡è¯»æ‡‚ AI å¤§æ¨¡å‹çš„åŸºçŸ³æŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1994944446213274/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hhang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:25:37.000Z" title="Mon Jan 26 2026 09:25:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»æ·±åº¦å­¦ä¹ åˆ°æ®‹å·®ç½‘ç»œï¼šä¸€æ–‡è¯»æ‡‚ AI å¤§æ¨¡å‹çš„åŸºçŸ³æŠ€æœ¯</h2>
<blockquote>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œå¾ªåºæ¸è¿›åœ°ç†è§£æ·±åº¦å­¦ä¹ ã€å·ç§¯ç¥ç»ç½‘ç»œï¼Œä»¥åŠé©å‘½æ€§çš„æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰ã€‚å³ä½¿ä½ ä¸æ˜¯æŠ€æœ¯ä¸“ä¸šäººå£«ï¼Œä¹Ÿèƒ½è½»æ¾è¯»æ‡‚ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å¼€ç¯‡ï¼šä¸ºä»€ä¹ˆè¦äº†è§£æ®‹å·®ç½‘ç»œï¼Ÿ</h3>
<p>å¦‚æœä½ å…³æ³¨è¿‡ AI é¢†åŸŸï¼Œä¸€å®šå¬è¯´è¿‡ ChatGPTã€Stable Diffusion è¿™äº›å¤§æ¨¡å‹ã€‚ä½†ä½ å¯èƒ½ä¸çŸ¥é“ï¼Œæ”¯æ’‘è¿™äº›åºç„¶å¤§ç‰©çš„åº•å±‚æŠ€æœ¯ä¸­ï¼Œæœ‰ä¸€ä¸ªå…³é”®çš„é‡Œç¨‹ç¢‘â€”â€”<strong>æ®‹å·®ç½‘ç»œï¼ˆResNetï¼‰</strong>ã€‚</p>
<p>2015 å¹´ï¼Œå¾®è½¯äºšæ´²ç ”ç©¶é™¢çš„ä½•æºæ˜å›¢é˜Ÿæå‡ºäº†æ®‹å·®ç½‘ç»œï¼Œä¸€ä¸¾æ‹¿ä¸‹äº†å½“å¹´ ImageNet å›¾åƒè¯†åˆ«å¤§èµ›çš„å† å†›ï¼Œé”™è¯¯ç‡ä»…æœ‰ 3.57%â€”â€”è¿™æ„å‘³ç€ AI çš„å›¾åƒè¯†åˆ«èƒ½åŠ›é¦–æ¬¡è¶…è¶Šäº†äººç±»ï¼æ›´é‡è¦çš„æ˜¯ï¼ŒResNet çš„æ ¸å¿ƒæ€æƒ³è‡³ä»Šä»åœ¨å½±å“ç€å‡ ä¹æ‰€æœ‰çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>
<p>è®©æˆ‘ä»¬ä»æœ€åŸºç¡€çš„æ¦‚å¿µå¼€å§‹ï¼Œä¸€æ­¥æ­¥æ­å¼€å®ƒçš„ç¥ç§˜é¢çº±ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ</h3>
<h4 data-id="heading-3">2.1 ä»äººè„‘åˆ°äººå·¥ç¥ç»ç½‘ç»œ</h4>
<p>æƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬çš„å¤§è„‘æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼šå½“ä½ çœ‹åˆ°ä¸€åªçŒ«æ—¶ï¼Œçœ¼ç›æ¥æ”¶å…‰ä¿¡å·ï¼Œç„¶åä¿¡å·é€šè¿‡æ— æ•°ä¸ªç¥ç»å…ƒå±‚å±‚ä¼ é€’ã€å¤„ç†ï¼Œæœ€ç»ˆä½ çš„å¤§è„‘å‘Šè¯‰ä½ "è¿™æ˜¯ä¸€åªçŒ«"ã€‚</p>
<p><strong>äººå·¥ç¥ç»ç½‘ç»œ</strong>å°±æ˜¯æ¨¡ä»¿è¿™ä¸ªè¿‡ç¨‹çš„æ•°å­¦æ¨¡å‹ï¼š</p>
<pre><code class="hljs">è¾“å…¥å±‚          éšè—å±‚ï¼ˆå¤šå±‚ï¼‰         è¾“å‡ºå±‚
  â—‹               â—‹  â—‹  â—‹              â—‹
  â—‹    â†’         â—‹  â—‹  â—‹      â†’       â—‹ ï¼ˆæ˜¯çŒ«çš„æ¦‚ç‡ï¼‰
  â—‹               â—‹  â—‹  â—‹              â—‹ ï¼ˆæ˜¯ç‹—çš„æ¦‚ç‡ï¼‰
ï¼ˆå›¾åƒåƒç´ ï¼‰    ï¼ˆç‰¹å¾æå–ï¼‰          ï¼ˆåˆ†ç±»ç»“æœï¼‰
</code></pre>
<ul>
<li><strong>è¾“å…¥å±‚</strong>ï¼šæ¥æ”¶åŸå§‹æ•°æ®ï¼ˆæ¯”å¦‚å›¾ç‰‡çš„åƒç´ å€¼ï¼‰</li>
<li><strong>éšè—å±‚</strong>ï¼šå¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å¤„ç†ï¼ˆæå–ç‰¹å¾ï¼‰</li>
<li><strong>è¾“å‡ºå±‚</strong>ï¼šç»™å‡ºæœ€ç»ˆç»“æœï¼ˆåˆ†ç±»ã€é¢„æµ‹ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-4">2.2 "æ·±åº¦"æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h4>
<p>æ‰€è°“<strong>æ·±åº¦å­¦ä¹ </strong>ï¼Œå°±æ˜¯"æ·±å±‚"çš„ç¥ç»ç½‘ç»œå­¦ä¹ ã€‚è¿™é‡Œçš„"æ·±"æŒ‡çš„æ˜¯<strong>ç¥ç»ç½‘ç»œçš„å±‚æ•°å¤š</strong>ã€‚</p>




















<table><thead><tr><th>ç½‘ç»œç±»å‹</th><th>å±‚æ•°</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>æµ…å±‚ç½‘ç»œ</td><td>2-3 å±‚</td><td>åªèƒ½å­¦ä¹ ç®€å•æ¨¡å¼</td></tr><tr><td>æ·±å±‚ç½‘ç»œ</td><td>æ•°ååˆ°æ•°ç™¾å±‚</td><td>èƒ½å­¦ä¹ å¤æ‚çš„æŠ½è±¡ç‰¹å¾</td></tr></tbody></table>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼š</p>
<ul>
<li>æµ…å±‚ç½‘ç»œå°±åƒå°å­¦ç”Ÿï¼Œåªèƒ½è®¤è¯†ç®€å•çš„å­—æ¯å’Œæ•°å­—</li>
<li>æ·±å±‚ç½‘ç»œå°±åƒå¤§å­¦æ•™æˆï¼Œèƒ½ç†è§£å¤æ‚çš„æ¦‚å¿µå’ŒæŠ½è±¡çš„çŸ¥è¯†</li>
</ul>
<h4 data-id="heading-5">2.3 æ·±åº¦å­¦ä¹ ä¸ºä»€ä¹ˆè¿™ä¹ˆå¼ºå¤§ï¼Ÿ</h4>
<p>æ·±åº¦å­¦ä¹ çš„é­”åŠ›åœ¨äº<strong>è‡ªåŠ¨ç‰¹å¾æå–</strong>ã€‚</p>
<p>åœ¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ ä¸­ï¼Œå·¥ç¨‹å¸ˆéœ€è¦æ‰‹åŠ¨å‘Šè¯‰æœºå™¨"çŒ«çš„ç‰¹å¾æ˜¯å°–è€³æœµã€èƒ¡é¡»ã€æ¯›èŒ¸èŒ¸..."è€Œæ·±åº¦å­¦ä¹ å¯ä»¥è‡ªå·±ä»å¤§é‡æ•°æ®ä¸­å­¦ä¹ è¿™äº›ç‰¹å¾ï¼š</p>
<ul>
<li>ç¬¬ 1 å±‚ï¼šå­¦ä¹ è¾¹ç¼˜ã€é¢œè‰²</li>
<li>ç¬¬ 2 å±‚ï¼šå­¦ä¹ çº¹ç†ã€å±€éƒ¨å½¢çŠ¶</li>
<li>ç¬¬ 3 å±‚ï¼šå­¦ä¹ è€³æœµã€çœ¼ç›ç­‰éƒ¨ä½</li>
<li>ç¬¬ N å±‚ï¼šå­¦ä¹ æ•´ä½“"çŒ«"çš„æ¦‚å¿µ</li>
</ul>
<p>è¿™ç§<strong>å±‚å±‚é€’è¿›ã€ä»ç®€å•åˆ°å¤æ‚</strong>çš„å­¦ä¹ æ–¹å¼ï¼Œè®©æ·±åº¦å­¦ä¹ åœ¨å›¾åƒã€è¯­éŸ³ã€æ–‡æœ¬ç­‰é¢†åŸŸå–å¾—äº†çªç ´æ€§è¿›å±•ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€å·ç§¯ç¥ç»ç½‘ç»œï¼šè®¡ç®—æœºçš„"çœ¼ç›"</h3>
<h4 data-id="heading-7">3.1 ä¸ºä»€ä¹ˆéœ€è¦å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ï¼Ÿ</h4>
<p>æ™®é€šçš„ç¥ç»ç½‘ç»œå¤„ç†å›¾åƒæ—¶æœ‰ä¸ªå¤§é—®é¢˜ï¼š<strong>å‚æ•°å¤ªå¤šäº†</strong>ï¼</p>
<p>å‡è®¾ä¸€å¼  224 x 224 çš„å½©è‰²å›¾ç‰‡ï¼š</p>
<ul>
<li>åƒç´ æ•°ï¼š224 x 224 x 3 = 150,528 ä¸ªè¾“å…¥</li>
<li>å¦‚æœç¬¬ä¸€å±‚æœ‰ 1000 ä¸ªç¥ç»å…ƒï¼Œå‚æ•°æ•°é‡ = 1.5 äº¿ï¼</li>
</ul>
<p>è¿™ä¸ä»…è®¡ç®—é‡æƒŠäººï¼Œè¿˜å®¹æ˜“å¯¼è‡´è¿‡æ‹Ÿåˆï¼ˆæ¨¡å‹æ­»è®°ç¡¬èƒŒï¼Œæ³›åŒ–èƒ½åŠ›å·®ï¼‰ã€‚</p>
<h4 data-id="heading-8">3.2 å·ç§¯çš„æ ¸å¿ƒæ€æƒ³ï¼šå±€éƒ¨æ„ŸçŸ¥ + å‚æ•°å…±äº«</h4>
<p><strong>å·ç§¯ç¥ç»ç½‘ç»œ</strong>ç”¨ä¸€ä¸ªå·§å¦™çš„æ–¹æ³•è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<p><strong>1. å±€éƒ¨æ„ŸçŸ¥ï¼ˆLocal Connectivityï¼‰</strong></p>
<p>ä¸å…¶è®©æ¯ä¸ªç¥ç»å…ƒçœ‹æ•´å¼ å›¾ç‰‡ï¼Œä¸å¦‚åªè®©å®ƒçœ‹ä¸€å°å—åŒºåŸŸã€‚å°±åƒæˆ‘ä»¬çœ‹ä¸œè¥¿æ—¶ï¼Œè§†è§‰ç„¦ç‚¹ä¸€æ¬¡ä¹Ÿåªå…³æ³¨ä¸€å°å—åŒºåŸŸã€‚</p>
<pre><code class="hljs language-css" lang="css">åŸå›¾ï¼š                     å·ç§¯æ ¸ï¼ˆæ»¤æ³¢å™¨ï¼‰ï¼š
<span class="hljs-selector-attr">[ 1  2  3  4  5 ]</span>         <span class="hljs-selector-attr">[ 1  0 -1 ]</span>
<span class="hljs-selector-attr">[ 6  7  8  9  10]</span>    Ã—    <span class="hljs-selector-attr">[ 1  0 -1 ]</span>   =   ç‰¹å¾å›¾
<span class="hljs-selector-attr">[ 11 12 13 14 15]</span>         <span class="hljs-selector-attr">[ 1  0 -1 ]</span>
<span class="hljs-selector-attr">[ 16 17 18 19 20]</span>
<span class="hljs-selector-attr">[ 25 22 23 24 25]</span>

å·ç§¯æ ¸åœ¨å›¾åƒä¸Šæ»‘åŠ¨ï¼Œæ¯æ¬¡åªå¤„ç†ä¸€ä¸ª <span class="hljs-number">3</span>x3 çš„åŒºåŸŸ
</code></pre>
<p><strong>2. å‚æ•°å…±äº«ï¼ˆParameter Sharingï¼‰</strong></p>
<p>åŒä¸€ä¸ªå·ç§¯æ ¸åœ¨æ•´å¼ å›¾ç‰‡ä¸Šæ»‘åŠ¨ï¼Œç”¨ç›¸åŒçš„å‚æ•°å¤„ç†ä¸åŒä½ç½®â€”â€”è¿™å¤§å¤§å‡å°‘äº†å‚æ•°æ•°é‡ï¼</p>

















<table><thead><tr><th>æ–¹å¼</th><th>å‚æ•°æ•°é‡</th></tr></thead><tbody><tr><td>å…¨è¿æ¥</td><td>1.5 äº¿</td></tr><tr><td>å·ç§¯ï¼ˆ3x3æ ¸ï¼‰</td><td>27 ä¸ª</td></tr></tbody></table>
<p>å·®è·æƒŠäººå§ï¼Ÿè¿™å°±æ˜¯å·ç§¯çš„å¨åŠ›ã€‚</p>
<h4 data-id="heading-9">3.3 CNN çš„ç»å…¸ç»“æ„</h4>
<p>ä¸€ä¸ªå…¸å‹çš„ CNN åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css">è¾“å…¥å›¾åƒ
    â†“
<span class="hljs-selector-attr">[å·ç§¯å±‚]</span> â†’ æå–ç‰¹å¾ï¼ˆè¾¹ç¼˜ã€çº¹ç†ç­‰ï¼‰
    â†“
<span class="hljs-selector-attr">[æ¿€æ´»å‡½æ•° ReLU]</span> â†’ å¼•å…¥éçº¿æ€§
    â†“
<span class="hljs-selector-attr">[æ± åŒ–å±‚]</span> â†’ é™ä½åˆ†è¾¨ç‡ï¼Œå‡å°‘è®¡ç®—é‡
    â†“
<span class="hljs-selector-attr">[é‡å¤ä¸Šè¿°ç»“æ„è‹¥å¹²æ¬¡...]</span>
    â†“
<span class="hljs-selector-attr">[å…¨è¿æ¥å±‚]</span> â†’ ç»¼åˆç‰¹å¾ï¼Œåšå‡ºåˆ¤æ–­
    â†“
è¾“å‡ºç»“æœ
</code></pre>
<p><strong>å·ç§¯å±‚</strong>ï¼šç”¨å·ç§¯æ ¸æå–å›¾åƒç‰¹å¾
<strong>æ¿€æ´»å‡½æ•°ï¼ˆReLUï¼‰</strong>ï¼š<code>f(x) = max(0, x)</code>ï¼Œç®€å•ä½†æœ‰æ•ˆï¼Œè®©ç½‘ç»œèƒ½å­¦ä¹ å¤æ‚æ¨¡å¼
<strong>æ± åŒ–å±‚</strong>ï¼šé€šå¸¸å–å±€éƒ¨æœ€å¤§å€¼ï¼ˆMax Poolingï¼‰ï¼Œå‹ç¼©ä¿¡æ¯çš„åŒæ—¶ä¿ç•™é‡è¦ç‰¹å¾</p>
<h4 data-id="heading-10">3.4 CNN çš„å‘å±•å†ç¨‹</h4>









































<table><thead><tr><th>å¹´ä»½</th><th>ç½‘ç»œåç§°</th><th>å±‚æ•°</th><th>çªç ´</th></tr></thead><tbody><tr><td>1998</td><td>LeNet-5</td><td>7</td><td>é¦–ä¸ªæˆåŠŸçš„ CNNï¼Œç”¨äºæ‰‹å†™æ•°å­—è¯†åˆ«</td></tr><tr><td>2012</td><td>AlexNet</td><td>8</td><td>æ·±åº¦å­¦ä¹ çš„å¤å…´ä¹‹ä½œï¼ŒImageNet å† å†›</td></tr><tr><td>2014</td><td>VGGNet</td><td>19</td><td>è¯æ˜äº†ç½‘ç»œè¶Šæ·±æ•ˆæœè¶Šå¥½</td></tr><tr><td>2014</td><td>GoogLeNet</td><td>22</td><td>å¼•å…¥ Inception æ¨¡å—</td></tr><tr><td>2015</td><td>ResNet</td><td><strong>152</strong></td><td>æ®‹å·®å­¦ä¹ ï¼Œçªç ´æ·±åº¦é™åˆ¶</td></tr></tbody></table>
<p>æ³¨æ„åˆ°äº†å—ï¼Ÿç½‘ç»œè¶Šæ¥è¶Šæ·±ï¼Œæ•ˆæœè¶Šæ¥è¶Šå¥½ã€‚ä½† VGG åˆ° ResNet ä¹‹é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå±‚æ•°èƒ½ä» 19 è·ƒå‡åˆ° 152ï¼Ÿ</p>
<p>è¿™å°±è¦è¯´åˆ° ResNet è§£å†³çš„æ ¸å¿ƒé—®é¢˜äº†ã€‚</p>
<hr/>
<h3 data-id="heading-11">å››ã€æ®‹å·®ç½‘ç»œï¼šæ·±åº¦å­¦ä¹ çš„é‡Œç¨‹ç¢‘</h3>
<h4 data-id="heading-12">ResNet è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼ˆé€Ÿè§ˆï¼‰</h4>
<p>åœ¨æ·±å…¥äº†è§£æ®‹å·®ç½‘ç»œä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ˜ç¡®å®ƒåˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š</p>

























<table><thead><tr><th>é—®é¢˜</th><th>è¡¨ç°</th><th>ResNet çš„è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>é€€åŒ–é—®é¢˜</strong></td><td>ç½‘ç»œå±‚æ•°å¢åŠ åï¼Œè®­ç»ƒå’Œæµ‹è¯•å‡†ç¡®ç‡éƒ½ä¸‹é™</td><td>æ®‹å·®å­¦ä¹  + è·³è·ƒè¿æ¥</td></tr><tr><td><strong>æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸</strong></td><td>æ·±å±‚ç½‘ç»œåå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦å˜å¾—æå°æˆ–æå¤§ï¼Œå¯¼è‡´æµ…å±‚æ— æ³•æœ‰æ•ˆå­¦ä¹ </td><td>è·³è·ƒè¿æ¥æä¾›æ¢¯åº¦ç›´é€šè·¯å¾„</td></tr><tr><td><strong>æ’ç­‰æ˜ å°„éš¾ä»¥å­¦ä¹ </strong></td><td>ç½‘ç»œå³ä½¿åªéœ€è¦"ä»€ä¹ˆéƒ½ä¸åš"ï¼Œä¹Ÿå¾ˆéš¾å­¦ä¼š</td><td>è·³è·ƒè¿æ¥ç›´æ¥æä¾›æ’ç­‰æ˜ å°„</td></tr></tbody></table>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šResNet é€šè¿‡å¼•å…¥<strong>è·³è·ƒè¿æ¥ï¼ˆSkip Connectionï¼‰</strong>ï¼Œè®©ä¿¡æ¯å’Œæ¢¯åº¦èƒ½å¤Ÿ"ç»•è¿‡"ä¸­é—´å±‚ç›´æ¥ä¼ é€’ï¼Œä»è€Œä½¿è®­ç»ƒéå¸¸æ·±çš„ç½‘ç»œæˆä¸ºå¯èƒ½ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†çœ‹çœ‹è¿™äº›é—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œä»¥åŠ ResNet çš„è§£å†³æ€è·¯ã€‚</p>
<hr/>
<h4 data-id="heading-13">4.1 æ·±åº¦ç½‘ç»œçš„å›°å¢ƒ</h4>
<p>ç†è®ºä¸Šï¼Œç½‘ç»œè¶Šæ·±ï¼Œèƒ½å­¦ä¹ çš„ç‰¹å¾è¶ŠæŠ½è±¡ã€è¶Šå¤æ‚ï¼Œæ•ˆæœåº”è¯¥è¶Šå¥½ã€‚ä½†ç°å®ä¸­å´å‡ºç°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ï¼š</p>
<p><strong>ç½‘ç»œå±‚æ•°å¢åŠ åˆ°ä¸€å®šç¨‹åº¦åï¼Œå‡†ç¡®ç‡åè€Œä¸‹é™äº†ï¼</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-code">                   å‡†ç¡®ç‡
                     â†‘
                     â”‚    ___
                     â”‚   /   \
                     â”‚  /     \___
                     â”‚ /           \
                     â”‚/             \_____
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ç½‘ç»œæ·±åº¦
                              â†‘
                           è¿™é‡Œå¼€å§‹ä¸‹é™ï¼
</span></code></pre>
<p>è¿™ä¸ªé—®é¢˜å«åš<strong>é€€åŒ–é—®é¢˜ï¼ˆDegradation Problemï¼‰</strong>ï¼Œæ³¨æ„å®ƒä¸æ˜¯è¿‡æ‹Ÿåˆï¼ˆè¿‡æ‹Ÿåˆæ˜¯è®­ç»ƒé›†ä¸Šè¡¨ç°å¥½ä½†æµ‹è¯•é›†ä¸Šå·®ï¼‰ï¼Œè€Œæ˜¯è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„æ•ˆæœéƒ½å˜å·®äº†ï¼</p>
<p>è¿™è¯´æ˜æ›´æ·±çš„ç½‘ç»œæ›´éš¾è®­ç»ƒã€‚ä¸»è¦åŸå› æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li><strong>æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸</strong>ï¼šåå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦åœ¨å±‚å±‚ä¼ é€’ä¸­å˜å¾—æå°æˆ–æå¤§ï¼Œå¯¼è‡´æµ…å±‚å‡ ä¹æ— æ³•å­¦ä¹ </li>
<li><strong>æ’ç­‰æ˜ å°„éš¾ä»¥å­¦ä¹ </strong>ï¼šå³ä½¿åªéœ€è¦è®©æ·±å±‚ç½‘ç»œå­¦ä¼š"ä»€ä¹ˆéƒ½ä¸åš"ï¼ˆæ’ç­‰æ˜ å°„ï¼‰ï¼Œå®ƒä¹Ÿå¾ˆéš¾åšåˆ°</li>
</ol>
<h4 data-id="heading-14">4.2 æ®‹å·®å­¦ä¹ ï¼šä¸€ä¸ªå¤©æ‰çš„æƒ³æ³•</h4>
<p>ä½•æºæ˜å›¢é˜Ÿæå‡ºäº†ä¸€ä¸ªç®€å•å´é©å‘½æ€§çš„æƒ³æ³•ï¼š</p>
<blockquote>
<p>å¦‚æœæ·±å±‚ç½‘ç»œéš¾ä»¥å­¦ä¹ æ’ç­‰æ˜ å°„ï¼Œé‚£æˆ‘ä»¬<strong>ç›´æ¥æŠŠæ’ç­‰æ˜ å°„"é€"ç»™å®ƒ</strong>ï¼</p>
</blockquote>
<p>å…·ä½“åšæ³•æ˜¯å¼•å…¥<strong>è·³è·ƒè¿æ¥ï¼ˆSkip Connectionï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ä¼ ç»Ÿç½‘ç»œï¼š
è¾“å…¥ x â†’ <span class="hljs-selector-attr">[å·ç§¯å±‚1]</span> â†’ <span class="hljs-selector-attr">[å·ç§¯å±‚2]</span> â†’ è¾“å‡º <span class="hljs-built_in">H</span>(x)
ç›®æ ‡ï¼šå­¦ä¹  <span class="hljs-built_in">H</span>(x)

æ®‹å·®ç½‘ç»œï¼š
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      è·³è·ƒè¿æ¥ï¼ˆæ’ç­‰æ˜ å°„ï¼‰  â”‚
                    â†“                          â”‚
è¾“å…¥ x â†’ <span class="hljs-selector-attr">[å·ç§¯å±‚1]</span> â†’ <span class="hljs-selector-attr">[å·ç§¯å±‚2]</span> â†’ (+) â†’ è¾“å‡º <span class="hljs-built_in">H</span>(x) = <span class="hljs-built_in">F</span>(x) + x
                                 â†‘
                            ä¸¤è€…ç›¸åŠ 
ç›®æ ‡ï¼šå­¦ä¹  <span class="hljs-built_in">F</span>(x) = <span class="hljs-built_in">H</span>(x) - x
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿç½‘ç»œéœ€è¦ç›´æ¥å­¦ä¹ ä¸€ä¸ªå¤æ‚çš„æ˜ å°„ <code>H(x)</code></li>
<li>æ®‹å·®ç½‘ç»œåªéœ€è¦å­¦ä¹ <strong>æ®‹å·®</strong> <code>F(x) = H(x) - x</code>ï¼Œå³è¾“å…¥å’Œè¾“å‡ºçš„<strong>å·®å€¼</strong></li>
</ul>
<p>å¦‚æœæœ€ä¼˜æƒ…å†µæ˜¯æ’ç­‰æ˜ å°„ï¼ˆä»€ä¹ˆéƒ½ä¸åšï¼‰ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>ä¼ ç»Ÿç½‘ç»œéœ€è¦è®©æ¯ä¸€å±‚éƒ½ç²¾ç¡®å­¦ä¹  <code>H(x) = x</code>ï¼Œå¾ˆéš¾ï¼</li>
<li>æ®‹å·®ç½‘ç»œåªéœ€è¦è®© <code>F(x) = 0</code>ï¼ŒæŠŠæ‰€æœ‰æƒé‡æ¨å‘é›¶ï¼Œå®¹æ˜“å¾—å¤šï¼</li>
</ul>
<h4 data-id="heading-15">4.3 ä¸ºä»€ä¹ˆæ®‹å·®å­¦ä¹ æœ‰æ•ˆï¼Ÿ</h4>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥ç†è§£ï¼š</p>
<p>å‡è®¾ä½ æ˜¯ä¸€ä¸ªå­¦ç”Ÿï¼Œè€å¸ˆç»™äº†ä½ ä¸¤ç§è€ƒè¯•æ–¹å¼ï¼š</p>
<p><strong>æ–¹å¼ Aï¼ˆä¼ ç»Ÿç½‘ç»œï¼‰</strong>ï¼šç›´æ¥å†™å‡ºç­”æ¡ˆï¼ˆæ¯”å¦‚ 3.14159265...ï¼‰</p>
<p><strong>æ–¹å¼ Bï¼ˆæ®‹å·®ç½‘ç»œï¼‰</strong>ï¼šç»™ä½ ä¸€ä¸ªå‚è€ƒç­”æ¡ˆ 3.14ï¼Œä½ åªéœ€è¦å†™å‡ºä¿®æ­£å€¼ï¼ˆ+0.00159265...ï¼‰</p>
<p>æ˜¾ç„¶ï¼Œæ–¹å¼ B æ›´å®¹æ˜“ï¼å› ä¸ºï¼š</p>
<ol>
<li>å¦‚æœå‚è€ƒç­”æ¡ˆå·²ç»å¾ˆå‡†ç¡®ï¼Œä½ å¯ä»¥ç›´æ¥å†™ 0</li>
<li>ä½ åªéœ€è¦å…³æ³¨"å·®å¼‚"åœ¨å“ªé‡Œï¼Œè€Œä¸æ˜¯ä»å¤´å¼€å§‹</li>
</ol>
<p>è¿™å°±æ˜¯æ®‹å·®å­¦ä¹ çš„ç²¾é«“ï¼š<strong>è®©ç½‘ç»œä¸“æ³¨äºå­¦ä¹ "éœ€è¦æ”¹å˜ä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"ç›®æ ‡æ˜¯ä»€ä¹ˆ"</strong>ã€‚</p>
<h4 data-id="heading-16">4.4 æ®‹å·®å—çš„ç»“æ„</h4>
<p>ResNet çš„åŸºæœ¬ç»„æˆå•å…ƒæ˜¯<strong>æ®‹å·®å—ï¼ˆResidual Blockï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åŸºç¡€ç‰ˆï¼ˆç”¨äº ResNet-<span class="hljs-number">18</span>/<span class="hljs-number">34</span>ï¼‰ï¼š

         x
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                      â”‚
    <span class="hljs-selector-attr">[3Ã—3 å·ç§¯, 64]</span>              â”‚
         â†“                      â”‚
       <span class="hljs-selector-attr">[BN]</span>                     â”‚
         â†“                      â”‚
      <span class="hljs-selector-attr">[ReLU]</span>                    â”‚
         â†“                      â”‚
    <span class="hljs-selector-attr">[3Ã—3 å·ç§¯, 64]</span>              â”‚
         â†“                      â”‚
       <span class="hljs-selector-attr">[BN]</span>                     â”‚
         â†“                      â”‚
        (+) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  è·³è·ƒè¿æ¥
         â†“
      <span class="hljs-selector-attr">[ReLU]</span>
         â†“
       è¾“å‡º
</code></pre>
<pre><code class="hljs language-scss" lang="scss">ç“¶é¢ˆç‰ˆï¼ˆç”¨äº ResNet-<span class="hljs-number">50</span>/<span class="hljs-number">101</span>/<span class="hljs-number">152</span>ï¼‰ï¼š

         x
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                      â”‚
    <span class="hljs-selector-attr">[1Ã—1 å·ç§¯, 64]</span>   â† é™ç»´     â”‚
         â†“                      â”‚
       <span class="hljs-selector-attr">[BN + ReLU]</span>              â”‚
         â†“                      â”‚
    <span class="hljs-selector-attr">[3Ã—3 å·ç§¯, 64]</span>   â† å¤„ç†     â”‚
         â†“                      â”‚
       <span class="hljs-selector-attr">[BN + ReLU]</span>              â”‚
         â†“                      â”‚
    <span class="hljs-selector-attr">[1Ã—1 å·ç§¯, 256]</span>  â† å‡ç»´     â”‚
         â†“                      â”‚
       <span class="hljs-selector-attr">[BN]</span>                     â”‚
         â†“                      â”‚
        (+) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
      <span class="hljs-selector-attr">[ReLU]</span>
         â†“
       è¾“å‡º
</code></pre>
<p>ç“¶é¢ˆç»“æ„ç”¨ 1x1 å·ç§¯å…ˆå‹ç¼©ç»´åº¦ï¼Œå¤„ç†å®Œå†è¿˜åŸï¼Œå¤§å¤§å‡å°‘äº†è®¡ç®—é‡ã€‚</p>
<h4 data-id="heading-17">4.5 å½“ç»´åº¦ä¸åŒ¹é…æ—¶æ€ä¹ˆåŠï¼Ÿ</h4>
<p>æœ‰æ—¶å€™ï¼Œè·³è·ƒè¿æ¥çš„è¾“å…¥ x å’Œ F(x) çš„ç»´åº¦ä¸ä¸€æ ·ï¼ˆæ¯”å¦‚é€šé“æ•°ä¸åŒï¼Œæˆ–è€…ç‰¹å¾å›¾å°ºå¯¸ä¸åŒï¼‰ï¼Œè¿™æ—¶éœ€è¦ç”¨ä¸€ä¸ª<strong>æŠ•å½±è¿æ¥</strong>æ¥å¯¹é½ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">         x
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                      â†“
    <span class="hljs-selector-attr">[æ®‹å·®åˆ†æ”¯]</span>            <span class="hljs-selector-attr">[1Ã—1 å·ç§¯]</span>  â† æŠ•å½±è¿æ¥ï¼Œè°ƒæ•´ç»´åº¦
         â†“                      â†“
        (+) â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
       è¾“å‡º
</code></pre>
<h4 data-id="heading-18">4.6 ResNet çš„å®Œæ•´ç»“æ„</h4>
<p>ä»¥ ResNet-34 ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">                              å±‚æ•°
è¾“å…¥å›¾åƒ (<span class="hljs-number">224</span>Ã—<span class="hljs-number">224</span>Ã—<span class="hljs-number">3</span>)
         â†“
<span class="hljs-selector-attr">[7Ã—7 å·ç§¯, stride=2]</span>           <span class="hljs-number">1</span>
         â†“
<span class="hljs-selector-attr">[3Ã—3 æœ€å¤§æ± åŒ–, stride=2]</span>
         â†“
<span class="hljs-selector-attr">[æ®‹å·®å— Ã— 3]</span> (<span class="hljs-number">64</span> é€šé“)          <span class="hljs-number">6</span>
         â†“
<span class="hljs-selector-attr">[æ®‹å·®å— Ã— 4]</span> (<span class="hljs-number">128</span> é€šé“)         <span class="hljs-number">8</span>
         â†“
<span class="hljs-selector-attr">[æ®‹å·®å— Ã— 6]</span> (<span class="hljs-number">256</span> é€šé“)        <span class="hljs-number">12</span>
         â†“
<span class="hljs-selector-attr">[æ®‹å·®å— Ã— 3]</span> (<span class="hljs-number">512</span> é€šé“)         <span class="hljs-number">6</span>
         â†“
<span class="hljs-selector-attr">[å…¨å±€å¹³å‡æ± åŒ–]</span>
         â†“
<span class="hljs-selector-attr">[å…¨è¿æ¥å±‚ â†’ 1000 ç±»]</span>           <span class="hljs-number">1</span>
                            â”€â”€â”€â”€
                             <span class="hljs-number">34</span> å±‚
</code></pre>
<p>ResNet ç³»åˆ—ç½‘ç»œå¯¹æ¯”ï¼š</p>















































<table><thead><tr><th>ç½‘ç»œ</th><th>å±‚æ•°</th><th>æ®‹å·®å—æ•°</th><th>å‚æ•°é‡</th><th>Top-5 é”™è¯¯ç‡</th></tr></thead><tbody><tr><td>ResNet-18</td><td>18</td><td>8</td><td>11.7M</td><td>10.92%</td></tr><tr><td>ResNet-34</td><td>34</td><td>16</td><td>21.8M</td><td>9.46%</td></tr><tr><td>ResNet-50</td><td>50</td><td>16</td><td>25.6M</td><td>7.48%</td></tr><tr><td>ResNet-101</td><td>101</td><td>33</td><td>44.5M</td><td>6.52%</td></tr><tr><td>ResNet-152</td><td>152</td><td>50</td><td>60.2M</td><td>6.16%</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-19">äº”ã€æ®‹å·®ç½‘ç»œçš„æ·±è¿œå½±å“</h3>
<h4 data-id="heading-20">5.1 è§£é”äº†ç½‘ç»œæ·±åº¦</h4>
<p>ResNet ä¹‹å‰ï¼Œä¸»æµç½‘ç»œæœ€å¤š 20 å¤šå±‚ã€‚ResNet è¯æ˜äº†å‡ ç™¾ç”šè‡³ä¸Šåƒå±‚çš„ç½‘ç»œæ˜¯å¯è¡Œçš„ï¼è¿™ç›´æ¥å¯å‘äº†åæ¥çš„"å¤§æ¨¡å‹"æ€è·¯ï¼šæ¨¡å‹è¶Šå¤§ã€è¶Šæ·±ï¼Œæ½œåŠ›è¶Šå¤§ã€‚</p>
<h4 data-id="heading-21">5.2 è·³è·ƒè¿æ¥æˆä¸ºæ ‡é…</h4>
<p>ResNet çš„è·³è·ƒè¿æ¥æ€æƒ³è¢«å¹¿æ³›é‡‡ç”¨ï¼š</p>
<ul>
<li><strong>Transformer</strong>ï¼šç”¨äº ChatGPTã€BERT ç­‰å¤§è¯­è¨€æ¨¡å‹ï¼Œå…¶ä¸­ä¹Ÿä½¿ç”¨äº†æ®‹å·®è¿æ¥</li>
<li><strong>U-Net</strong>ï¼šåŒ»å­¦å›¾åƒåˆ†å‰²çš„ç»å…¸ç½‘ç»œï¼Œä½¿ç”¨ç±»ä¼¼çš„è·³è·ƒè¿æ¥</li>
<li><strong>DenseNet</strong>ï¼šå°†è·³è·ƒè¿æ¥å‘å±•åˆ°æè‡´ï¼Œæ¯å±‚éƒ½ä¸ä¹‹å‰æ‰€æœ‰å±‚ç›¸è¿</li>
</ul>
<h4 data-id="heading-22">5.3 åç»­å˜ä½“</h4>
<p>ResNet å¯å‘äº†å¤§é‡æ”¹è¿›ç‰ˆæœ¬ï¼š</p>

























<table><thead><tr><th>å˜ä½“</th><th>æ”¹è¿›ç‚¹</th></tr></thead><tbody><tr><td>ResNeXt</td><td>å¼•å…¥åˆ†ç»„å·ç§¯ï¼Œæå‡æ•ˆç‡</td></tr><tr><td>SE-ResNet</td><td>åŠ å…¥é€šé“æ³¨æ„åŠ›æœºåˆ¶</td></tr><tr><td>Res2Net</td><td>å¤šå°ºåº¦ç‰¹å¾æå–</td></tr><tr><td>ResNeSt</td><td>åˆ†ç¦»æ³¨æ„åŠ›æœºåˆ¶</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-23">å…­ã€ä» ResNet åˆ°å¤§æ¨¡å‹</h3>
<h4 data-id="heading-24">6.1 å…±åŒçš„è®¾è®¡å“²å­¦</h4>
<p>å½“ä»Šçš„å¤§æ¨¡å‹ï¼ˆå¦‚ GPTã€BERTã€ViTï¼‰è™½ç„¶å’Œ ResNet å¤„ç†çš„ä»»åŠ¡ä¸åŒï¼Œä½†ç»§æ‰¿äº†å®ƒçš„æ ¸å¿ƒæ€æƒ³ï¼š</p>
<ol>
<li><strong>æ®‹å·®è¿æ¥</strong>ï¼šTransformer çš„æ¯ä¸ªæ³¨æ„åŠ›å±‚å’Œå‰é¦ˆå±‚éƒ½ä½¿ç”¨æ®‹å·®è¿æ¥</li>
<li><strong>æ·±åº¦å †å </strong>ï¼šGPT-3 æœ‰ 96 å±‚ï¼Œæ²¡æœ‰æ®‹å·®è¿æ¥æ ¹æœ¬æ— æ³•è®­ç»ƒ</li>
<li><strong>é¢„è®­ç»ƒ + å¾®è°ƒ</strong>ï¼šè¿™ç§èŒƒå¼ä¹Ÿå—ç›Šäºæ®‹å·®ç½‘ç»œè¯æ˜çš„"æ·±åº¦å¯è¡Œæ€§"</li>
</ol>
<h4 data-id="heading-25">6.2 è§†è§‰å¤§æ¨¡å‹ä¸­çš„ ResNet</h4>
<p>åœ¨ CLIPã€DALL-E ç­‰è§†è§‰å¤§æ¨¡å‹ä¸­ï¼ŒResNetï¼ˆæˆ–å…¶å˜ä½“ï¼‰å¸¸è¢«ç”¨ä½œå›¾åƒç¼–ç å™¨ï¼š</p>
<pre><code class="hljs language-css" lang="css">å›¾åƒ â†’ <span class="hljs-selector-attr">[ResNet ç¼–ç å™¨]</span> â†’ å›¾åƒç‰¹å¾å‘é‡
                            â†“
                     <span class="hljs-selector-attr">[å¤šæ¨¡æ€èåˆ]</span>
                            â†“
æ–‡æœ¬ â†’ <span class="hljs-selector-attr">[Transformer ç¼–ç å™¨]</span> â†’ æ–‡æœ¬ç‰¹å¾å‘é‡
</code></pre>
<p>å¯ä»¥è¯´ï¼Œæ²¡æœ‰ ResNet è§£å†³æ·±åº¦ç½‘ç»œçš„è®­ç»ƒé—®é¢˜ï¼Œå°±æ²¡æœ‰ä»Šå¤©çš„ AI å¤§æ¨¡å‹æ—¶ä»£ã€‚</p>
<hr/>
<h3 data-id="heading-26">ä¸ƒã€æ€»ç»“</h3>
<p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹è¿™è¶Ÿæ—…ç¨‹ï¼š</p>

























<table><thead><tr><th>é˜¶æ®µ</th><th>æ ¸å¿ƒæ¦‚å¿µ</th><th>å…³é”®çªç ´</th></tr></thead><tbody><tr><td>æ·±åº¦å­¦ä¹ åŸºç¡€</td><td>ç¥ç»ç½‘ç»œã€å±‚å±‚æŠ½è±¡</td><td>è‡ªåŠ¨ç‰¹å¾æå–</td></tr><tr><td>å·ç§¯ç¥ç»ç½‘ç»œ</td><td>å±€éƒ¨æ„ŸçŸ¥ã€å‚æ•°å…±äº«</td><td>é«˜æ•ˆå¤„ç†å›¾åƒ</td></tr><tr><td>æ®‹å·®ç½‘ç»œ</td><td>è·³è·ƒè¿æ¥ã€æ®‹å·®å­¦ä¹ </td><td>è§£é”ç½‘ç»œæ·±åº¦</td></tr></tbody></table>
<p>ResNet çš„æ ¸å¿ƒè´¡çŒ®ç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼š</p>
<blockquote>
<p><strong>è®©ææ·±çš„ç¥ç»ç½‘ç»œæˆä¸ºå¯èƒ½ï¼Œä¸º AI æ‰“å¼€äº†é€šå¾€æ›´å¼ºå¤§æ¨¡å‹çš„å¤§é—¨ã€‚</strong></p>
</blockquote>
<p>ä½•æºæ˜å›¢é˜Ÿç”¨ä¸€ä¸ªç®€å•ä¼˜é›…çš„æƒ³æ³•â€”â€”è·³è·ƒè¿æ¥â€”â€”è§£å†³äº†å›°æ‰°å­¦ç•Œå¤šå¹´çš„æ·±åº¦ç½‘ç»œé€€åŒ–é—®é¢˜ã€‚è¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼Œæœ‰æ—¶å€™æœ€ä¼Ÿå¤§çš„åˆ›æ–°ä¸æ˜¯å¤æ‚çš„ç®—æ³•ï¼Œè€Œæ˜¯å¯¹é—®é¢˜æœ¬è´¨çš„æ·±åˆ»æ´å¯Ÿã€‚</p>
<hr/>
<h3 data-id="heading-27">å»¶ä¼¸é˜…è¯»</h3>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥äº†è§£è¿™ä¸ªé¢†åŸŸï¼Œæ¨èä»¥ä¸‹èµ„æºï¼š</p>
<ol>
<li><strong>è®ºæ–‡åŸæ–‡</strong>ï¼š<em>Deep Residual Learning for Image Recognition</em>ï¼ˆä½•æºæ˜ç­‰ï¼Œ2015ï¼‰</li>
<li><strong>è§†é¢‘æ•™ç¨‹</strong>ï¼šå´æ©è¾¾çš„æ·±åº¦å­¦ä¹ è¯¾ç¨‹ï¼ˆCourseraï¼‰</li>
<li><strong>å®è·µé¡¹ç›®</strong>ï¼šä½¿ç”¨ PyTorch/TensorFlow å®ç°ä¸€ä¸ªç®€å•çš„ ResNet</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰“ç ´èŠå¤©æ¡†çš„â€œç¬¬å››é¢å¢™â€ï¼šClawdbotï¼Œç»™ä½ çš„å¤§æ¨¡å‹è£…ä¸Šâ€œæ‰‹è„šâ€]]></title>    <link>https://juejin.cn/post/7599155566298021931</link>    <guid>https://juejin.cn/post/7599155566298021931</guid>    <pubDate>2026-01-26T09:29:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599155566298021931" data-draft-id="7599299048303099947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰“ç ´èŠå¤©æ¡†çš„â€œç¬¬å››é¢å¢™â€ï¼šClawdbotï¼Œç»™ä½ çš„å¤§æ¨¡å‹è£…ä¸Šâ€œæ‰‹è„šâ€"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-01-26T09:29:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°æ€•å¹³ç”Ÿå¤ªæ€¥"/> <meta itemprop="url" content="https://juejin.cn/user/1189015203094144"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰“ç ´èŠå¤©æ¡†çš„â€œç¬¬å››é¢å¢™â€ï¼šClawdbotï¼Œç»™ä½ çš„å¤§æ¨¡å‹è£…ä¸Šâ€œæ‰‹è„šâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1189015203094144/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°æ€•å¹³ç”Ÿå¤ªæ€¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:29:17.000Z" title="Mon Jan 26 2026 09:29:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€œåœ¨ LLM Agent çˆ†å‘çš„ä»Šå¤©ï¼Œæˆ‘ä»¬ç¼ºçš„ä¸æ˜¯æ›´èªæ˜çš„æ¨¡å‹ï¼Œè€Œæ˜¯å¦‚ä½•å°†æ¨¡å‹èƒ½åŠ›å®‰å…¨ã€ä½å»¶è¿Ÿåœ°æ˜ å°„åˆ°æœ¬åœ°è®¾å¤‡ä¸Šã€‚å½“ AI ä¸å†æ»¡è¶³äºä»…ä»…åšä¸€ä¸ªâ€˜èŠå¤©æ­å­â€™ï¼Œå®ƒå¼€å§‹é•¿å‡ºäº†â€˜æ‰‹è„šâ€™â€”â€”Clawdbot å°±æ˜¯é‚£ä¸ªè¿æ¥å¤§è„‘ä¸æ‰‹è„šçš„ç¥ç»ä¸­æ¢ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5bb1cb651664b39b3a0661b97155c8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCB5oCV5bmz55Sf5aSq5oCl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024559&amp;x-signature=nB%2BoPo74xc4nMQqvqbHSh0zqEUo%3D" alt="ClawdBot.jpeg" loading="lazy"/></p>
<h2 data-id="heading-0">01 -&gt; For Usersï¼šå®ƒèƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ</h2>
<h4 data-id="heading-1">ï¼ˆæ‰“ç ´â€œå¯¹è¯æ¡†â€çš„ç¬¬å››é¢å¢™ï¼‰</h4>
<p>åŸºäº Clawdbot â€œGateway + Node + Toolsâ€ çš„æ¶æ„ï¼Œå®ƒèƒ½è®© AI çªç ´â€œèŠå¤©æ¡†â€çš„é™åˆ¶ï¼Œç›´æ¥æ“ä½œä½ çš„è®¾å¤‡å’Œç½‘ç»œã€‚</p>
<p><strong>ç›®å‰å·²é›†æˆï¼š</strong></p>
<p><strong>1ã€æ¶ˆæ¯å¹³å°é›†æˆ (Channels) â€”â€” è§£å†³â€œåœ¨å“ªé‡Œå¯¹è¯â€</strong></p>
<ul>
<li>WhatsApp, Telegram, Discord, Slack, Signal, iMessage</li>
</ul>
<p><strong>2ã€AI æ¨¡å‹é›†æˆ (The Brains) â€”â€” è§£å†³â€œç”¨è°çš„å¤§è„‘â€</strong></p>
<ul>
<li><strong>é—­æºå¤§æ¨¡å‹ï¼š</strong> Anthropic (Claude 3.5/4.5 ç³»åˆ—)ã€OpenAI (GPT-4o/o1)ã€Google (Gemini)ã€xAI (Grok)ã€‚</li>
<li><strong>å¼€æº/æœ¬åœ°æ¨¡å‹ï¼š</strong> æ”¯æŒé€šè¿‡ Ollama, MLX, llama.cpp æ¥å…¥æœ¬åœ°æ¨¡å‹ï¼›æ”¯æŒ DeepSeek, Mistral, GLM ç­‰ã€‚</li>
</ul>
<p><strong>3ã€ç”Ÿäº§åŠ›ä¸çŸ¥è¯†åº“é›†æˆ (Skills &amp; Tools) â€”â€” è§£å†³â€œèƒ½å¹²ä»€ä¹ˆâ€</strong>
é€šè¿‡å„ç§ Skills è®¿é—®ä½ çš„ç§äººæ•°æ®æˆ–æ“ä½œè½¯ä»¶ï¼š</p>
<ul>
<li><strong>ç¬”è®°ä¸ä»»åŠ¡ï¼š</strong> Notion, Obsidian, Apple Notes, Trello, Apple Reminders, Things 3, Bear Notesã€‚</li>
<li><strong>ä»£ç ä¸å¼€å‘ï¼š</strong> GitHub (æäº¤ä»£ç ã€ç®¡ç† Issue)ã€Terminal/Shell è®¿é—®ã€æµè§ˆå™¨è‡ªåŠ¨åŒ–æ§åˆ¶ã€‚</li>
<li><strong>é‚®ä»¶ä¸æ—¥ç¨‹ï¼š</strong> Gmail (è¯»å–ã€åˆ†ç±»ã€æ’°å†™å›å¤)ã€Google Calendarã€Apple HealthKit (Oura/WHOOP å¥èº«æ•°æ®)ã€‚</li>
<li><strong>åª’ä½“ä¸å®¶å±…ï¼š</strong> Spotify, Sonos (æ§åˆ¶éŸ³ä¹)ï¼›Philips Hue, Home Assistant (æ™ºèƒ½å®¶å±…æ§åˆ¶)ã€‚</li>
</ul>
<p><strong>4ã€ç³»ç»Ÿçº§é›†æˆ (The Gateway) â€”â€” è§£å†³â€œè‡ªåŠ¨åŒ–â€</strong></p>
<ul>
<li><strong>Cron Jobsï¼š</strong> æ”¯æŒè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚æ¯å¤©æ—©ä¸Š 8 ç‚¹å‘é€æ™¨æŠ¥ï¼‰ã€‚</li>
<li><strong>Webhooksï¼š</strong> æ¥æ”¶å¤–éƒ¨è§¦å‘å™¨ï¼Œå®ç°è”åŠ¨ã€‚</li>
<li><strong>æŒä¹…åŒ–è®°å¿†ï¼š</strong> æ‰€æœ‰çš„å¯¹è¯ä¸Šä¸‹æ–‡å’Œä»»åŠ¡è¿›åº¦éƒ½å­˜å‚¨åœ¨æœ¬åœ°ï¼ˆMarkdown/æ–‡ä»¶å¤¹å½¢å¼ï¼‰ï¼Œä¸ä¾èµ–äº‘ç«¯æ•°æ®åº“ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">1.1 ä½¿ç”¨ç¤ºä¾‹</h3>
<p><strong>1. è·¨å¹³å°æ¶ˆæ¯èšåˆä¸â€œæ›¿èº«â€å›å¤</strong></p>
<blockquote>
<p><strong>åœºæ™¯æè¿°ï¼š</strong> ä½ æ­£åœ¨å¼€è½¦æˆ–å¼€ä¼šï¼Œä¸æ–¹ä¾¿çœ‹æ‰‹æœºï¼Œä½†å¾®ä¿¡ã€Telegramã€Slack éƒ½åœ¨å¼¹æ¶ˆæ¯ã€‚
<strong>å¦‚ä½•å·¥ä½œï¼š</strong> Clawdbot å°†æ‰€æœ‰æ¸ é“çš„æ¶ˆæ¯æ±‡æ€»åˆ°ä¸€ä¸ªä½ æŒ‡å®šçš„â€œä¸»æ§æ¸ é“â€ï¼ˆæ¯”å¦‚ Telegram ç§èŠï¼‰ã€‚
<strong>Agent åŠ¨ä½œï¼š</strong> Agent æ ¹æ®ä½ è®¾å®šçš„æç¤ºè¯ï¼ˆPromptï¼‰è‡ªåŠ¨æ€»ç»“é•¿æ¶ˆæ¯ï¼Œç”šè‡³æ ¹æ®ä½ çš„è¯­æ°”è‰æ‹Ÿå›å¤ï¼Œä½ åªéœ€å›ä¸€ä¸ª "Yes" å³å¯å‘é€ã€‚
<strong>ä»·å€¼ï¼š</strong> ä¿¡æ¯æµç»Ÿä¸€å…¥å£ï¼Œå‡å°‘åœ¨ä¸åŒ App é—´åˆ‡æ¢çš„ç„¦è™‘ã€‚</p>
</blockquote>
<p><strong>2. è‡ªåŠ¨åŒ–â€œç¨åé˜…è¯»â€ä¸æ‘˜è¦ (ç½‘é¡µ/æ–‡æ¡£)</strong></p>
<blockquote>
<p><strong>åœºæ™¯æè¿°ï¼š</strong> åœ¨æ‰‹æœºä¸Šæµè§ˆåˆ°ä¸€ç¯‡å¾ˆæ£’çš„æŠ€æœ¯é•¿æ–‡æˆ– PDFï¼Œä½†ç°åœ¨æ²¡æ—¶é—´ç»†çœ‹ã€‚
<strong>å¦‚ä½•å·¥ä½œï¼š</strong> ç›´æ¥æŠŠé“¾æ¥å‘ç»™ Clawdbotã€‚
<strong>Agent åŠ¨ä½œï¼š</strong> Gateway è°ƒç”¨æœåŠ¡å™¨ç«¯çš„æ— å¤´æµè§ˆå™¨ï¼ˆBrowser Toolï¼‰è®¿é—®é“¾æ¥ï¼Œæå–æ­£æ–‡ï¼Œåˆ©ç”¨ LLM è¿›è¡Œæ·±åº¦æ‘˜è¦ï¼Œå¹¶ç”Ÿæˆæ€ç»´å¯¼å›¾æˆ– Key Takeaways å‘å›ç»™ä½ ã€‚å¦‚æœæ˜¯ PDFï¼Œå®ƒä¼šè¿›è¡Œè§£æå’Œæ€»ç»“ã€‚
<strong>ä»·å€¼ï¼š</strong> ä»â€œæ”¶è—å¤¹åƒç°â€å˜ä¸ºâ€œå³æ—¶çŸ¥è¯†æ¶ˆåŒ–â€ã€‚</p>
</blockquote>
<p><strong>3. æ™ºèƒ½å®¶å±…ä¸æœ¬åœ°æœåŠ¡å™¨è¿ç»´</strong></p>
<blockquote>
<p><strong>åœºæ™¯æè¿°ï¼š</strong> ä½ æ˜¯å¼€å‘è€…ï¼Œæƒ³åœ¨å¤–é¢é‡å¯å®¶é‡Œçš„æŸä¸ª Docker å®¹å™¨ï¼Œæˆ–è€…æŸ¥è¯¢ NAS çš„ç£ç›˜å‰©ä½™ç©ºé—´ã€‚
<strong>å¦‚ä½•å·¥ä½œï¼š</strong> é€šè¿‡ Telegram å‘é€æŒ‡ä»¤â€œé‡å¯ Nginx å®¹å™¨â€ã€‚
<strong>Agent åŠ¨ä½œï¼š</strong> Gateway è·¯ç”±æŒ‡ä»¤åˆ°å®¶é‡Œçš„ Linux Nodeï¼Œæ‰§è¡Œ docker restart nginxï¼Œå¹¶å°†æ‰§è¡Œç»“æœï¼ˆæ—¥å¿—ç‰‡æ®µï¼‰å›ä¼ ç»™ä½ ã€‚
<strong>ä»·å€¼ï¼š</strong> æ— éœ€å¤æ‚çš„ VPN æˆ– SSH å®¢æˆ·ç«¯ï¼Œé€šè¿‡èŠå¤©çª—å£å®Œæˆè½»é‡çº§è¿ç»´ã€‚</p>
</blockquote>
<p><strong>4. è¯­éŸ³ç¬”è®°ä¸æ—¥ç¨‹æ•´ç† (Voice-to-Action)</strong></p>
<blockquote>
<p><strong>åœºæ™¯æè¿°ï¼š</strong> èµ°è·¯æ—¶çªç„¶æƒ³åˆ°ä¸€ä¸ªç‚¹å­ï¼Œæˆ–è€…æƒ³èµ·æ˜å¤©è¦ç»™å®¢æˆ·æ‰“ç”µè¯ã€‚
<strong>å¦‚ä½•å·¥ä½œï¼š</strong> ç»™ Clawdbot å‘é€ä¸€æ¡å‡ åç§’çš„è¯­éŸ³æ¶ˆæ¯ã€‚
<strong>Agent åŠ¨ä½œï¼š</strong> Clawdbot è°ƒç”¨ STT (è¯­éŸ³è½¬æ–‡å­—) æœåŠ¡è½¬å½•å†…å®¹ï¼Œè¯†åˆ«å‡ºæ„å›¾æ˜¯â€œæ·»åŠ æ—¥ç¨‹â€ã€‚å®ƒä¼šè¿›ä¸€æ­¥è°ƒç”¨æ—¥å† API (å¦‚ Google Calendar å·¥å…·) å¸®ä½ å»ºå¥½æ—¥ç¨‹ï¼Œå¹¶å›å¤ç¡®è®¤ã€‚
<strong>ä»·å€¼ï¼š</strong> å°†éç»“æ„åŒ–çš„è¯­éŸ³æµè½¬åŒ–ä¸ºç»“æ„åŒ–çš„ç”Ÿäº§åŠ›åŠ¨ä½œã€‚</p>
</blockquote>
<p><strong>5. æ²‰æµ¸å¼â€œç¬¬äºŒå¤§è„‘â€æœç´¢</strong></p>
<blockquote>
<p><strong>åœºæ™¯æè¿°ï¼š</strong> ä½ éœ€è¦æŸ¥è¯¢ä¸€ä¸ªå¤šå¹´å‰çœ‹è¿‡çš„æŠ€æœ¯ç‚¹ï¼Œæˆ–è€…ç°åœ¨çš„å®æ—¶è‚¡ç¥¨ä¿¡æ¯ï¼Œä½†ä¸æƒ³æ‰“å¼€æµè§ˆå™¨è¢«å¹¿å‘Šå¹²æ‰°ã€‚
<strong>å¦‚ä½•å·¥ä½œï¼š</strong> ç›´æ¥é—® Clawdbotã€‚
<strong>Agent åŠ¨ä½œï¼š</strong> å®ƒä¸ä»…èƒ½è”ç½‘æœç´¢ï¼ˆè°ƒç”¨ Google/Bingï¼‰ï¼Œè¿˜èƒ½æ£€ç´¢ä½ ä¹‹å‰çš„èŠå¤©è®°å½•ï¼ˆå¦‚æœé…ç½®äº†å‘é‡æ•°æ®åº“è®°å¿†ï¼‰ï¼Œèåˆå®æ—¶ä¿¡æ¯å’Œä¸ªäººè®°å¿†ç»™å‡ºç­”æ¡ˆã€‚
<strong>ä»·å€¼ï¼š</strong> å»å¹¿å‘Šã€å»å¹²æ‰°çš„çº¯å‡€ä¿¡æ¯è·å–ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">1.2 ä½¿ç”¨èµ·æ¥ å¯èƒ½å­˜åœ¨ä»€ä¹ˆé—®é¢˜</h3>
<p>Clawdbot å¾ˆå¼ºå¤§ï¼Œä½†å®ƒä¸æ˜¯ä¸‡èƒ½çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸­å›½äº’è”ç½‘ç¯å¢ƒä¸‹ã€‚</p>
<h4 data-id="heading-4">1.2.1 ä½¿ç”¨åœºæ™¯æ–¹é¢</h4>
<p><strong>1. å¯¹ä¸­æ–‡ App çš„æ”¯æŒè¾¹ç•Œ</strong></p>
<ul>
<li>
<p><strong>å¾®ä¿¡ (WeChat)ï¼š</strong> <strong>æ”¯æŒä½†æé«˜é£é™©ã€‚</strong></p>
</li>
<li>
<p><strong>åŸç†ï¼š</strong> é€šå¸¸é€šè¿‡ iPad åè®®æˆ– Web åè®®æŒ‚è½½ã€‚</p>
</li>
<li>
<p><strong>ç°çŠ¶ï¼š</strong> è…¾è®¯é£æ§éå¸¸ä¸¥æ ¼ï¼Œéå®˜æ–¹å®¢æˆ·ç«¯ææ˜“å¯¼è‡´å°å·ï¼ˆä»é™åˆ¶ç™»å½•åˆ°æ°¸ä¹…å°ç¦ï¼‰ã€‚<strong>å¼ºçƒˆå»ºè®®ä¸è¦ç”¨ä¸»å·å°è¯•ã€‚</strong></p>
</li>
<li>
<p><strong>ä¼ä¸šå¾®ä¿¡/é£ä¹¦/é’‰é’‰ï¼š</strong> <strong>æœ‰é™æ”¯æŒã€‚</strong></p>
</li>
<li>
<p>é€šå¸¸éœ€è¦ç®¡ç†å‘˜æƒé™å¼€å¯ API æˆ– Bot æ¨¡å¼ï¼Œä¸ªäººç”¨æˆ·å¾ˆéš¾ç›´æ¥æ¥ç®¡è‡ªå·±çš„ç§äººè´¦å·ã€‚</p>
</li>
<li>
<p><strong>å°çº¢ä¹¦/æŠ–éŸ³ç­‰å†…å®¹å¹³å°ï¼š</strong> <strong>ä¸æ”¯æŒã€‚</strong></p>
</li>
<li>
<p>è¿™äº› App æ²¡æœ‰å¼€æ”¾ APIï¼Œä¸” Web ç«¯æœ‰å¤æ‚çš„åçˆ¬è™«æœºåˆ¶ï¼ŒClawdbot éš¾ä»¥ä½œä¸ºâ€œå®¢æˆ·ç«¯â€æ¥ç®¡ã€‚</p>
</li>
</ul>
<p><strong>2. å¯¹ä¸­æ–‡ç½‘ç«™çš„æ”¯æŒ</strong></p>
<ul>
<li><strong>ä¸€èˆ¬æ”¯æŒï¼š</strong> å¦‚æœç½‘ç«™ä¸»è¦ç”± HTML æ„æˆï¼ˆå¦‚çŸ¥ä¹æ–‡ç« ã€å…¬ä¼—å·æ–‡ç« ç½‘é¡µç‰ˆï¼‰ï¼ŒClawdbot çš„æµè§ˆå™¨å·¥å…·å¯ä»¥å®Œç¾è§£æã€‚</li>
<li><strong>æ”¯æŒåº¦ä¸­ç­‰ï¼š</strong> å¯¹äºçŸ¥ä¹ã€é›ªçƒã€è´¢è”ç¤¾ç­‰èµ„è®¯ç±»ç½‘ç«™ï¼ŒClawdbot çš„æµè§ˆå™¨å·¥å…·ï¼ˆåŸºäº Puppeteer/Playwright é€»è¾‘ï¼‰é€šå¸¸èƒ½æå®šã€‚</li>
<li><strong>å›°éš¾æ”¯æŒï¼š</strong> å¦‚æœç½‘ç«™å¼ºä¾èµ– App éªŒè¯ã€å¤æ‚çš„æ»‘å—éªŒè¯ç ï¼ˆå¯èƒ½ä¼šè®© Agent çš„çˆ¬è™«å¤±æ•ˆï¼‰ã€å¿…é¡»ç™»å½•æ‰èƒ½æŸ¥çœ‹å†…å®¹çš„ç½‘ç«™ï¼ˆå¦‚æŸäº›å¾ˆå¤šç ”æŠ¥å¹³å°ï¼‰ã€ä»¥åŠæå…¶å¤æ‚çš„åŠ¨æ€æ¸²æŸ“é¡µé¢ã€æˆ–è€…ç”±äº IP åŸå› ï¼ˆå¦‚æœä½ çš„ Gateway éƒ¨ç½²åœ¨æµ·å¤–ï¼‰æ— æ³•è®¿é—®å›½å†…ç‰¹å®šèµ„æºï¼Œä½“éªŒä¼šå¾ˆå·®ã€‚</li>
</ul>
<p><strong>3. å°ç¦é£é™© (Ban Risks)</strong></p>
<ul>
<li>ğŸ”´ <strong>é«˜å±åŒºï¼š</strong> ä¸ªäººå¾®ä¿¡å·ã€‚è¿™æ˜¯ç›®å‰æœ€å¤§çš„é›·åŒºã€‚</li>
<li>ğŸŸ¡ <strong>ä¸­å±åŒºï¼š</strong> WhatsApp (å¦‚æœçŸ­æ—¶é—´å¤§é‡å‘é€æ¶ˆæ¯)ã€Telegram (å¦‚æœæ˜¯æ–°å·ä¸”é¢‘ç¹ä¸»åŠ¨ç§èŠé™Œç”Ÿäºº)ã€‚</li>
<li>ğŸŸ¢ <strong>å®‰å…¨åŒºï¼š</strong> Slack, Discord, Telegram (æ­£å¸¸ä½¿ç”¨)ï¼Œè¿™äº›å¹³å°å¯¹ Bot æ›´åŠ å‹å¥½ã€‚</li>
</ul>
<h4 data-id="heading-5">1.2.2 å…·ä½“ä½¿ç”¨æ—¶</h4>
<p>åŒæ—¶åœ¨ä½¿ç”¨ Clawdbot æ—¶ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹å…·ä½“çš„æ‘©æ“¦ç‚¹ï¼š</p>
<p><strong>1. éƒ¨ç½²ç»´æŠ¤é—¨æ§›é«˜ (Technical Debt)</strong>
è¿™ä¸æ˜¯ä¸€ä¸ªâ€œä¸‹è½½å³ç”¨â€çš„ Appã€‚ä½ éœ€è¦æ‡‚ Dockerï¼Œéœ€è¦æœ‰ä¸€å° 24å°æ—¶è¿è¡Œçš„æœåŠ¡å™¨ (æˆ–å®¶é‡Œå¸¸å¼€çš„ Mac/NAS)ï¼Œè¿˜éœ€è¦é…ç½® API Key (OpenAI/Anthropic/GLM) å’Œç½‘ç»œç¯å¢ƒã€‚
ä¸€æ—¦æœåŠ¡å™¨å®•æœºæˆ–ç½‘ç»œæ³¢åŠ¨ï¼Œä½ çš„â€œåŠ©æ‰‹â€å°±å¤±è”äº†ï¼Œä½ éœ€è¦è‡ªå·±å»æ’æŸ¥æ—¥å¿—ã€‚</p>
<p><strong>2. æˆæœ¬é—®é¢˜ (Cost)</strong></p>
<ul>
<li><strong>API è´¹ç”¨ï¼š</strong> Clawdbot æœ¬èº«å…è´¹ï¼Œä½†å®ƒèƒŒåçš„ LLM (å¦‚ GPT-4, Claude 3.5 Sonnet) æ˜¯æŒ‰ Token æ”¶è´¹çš„ã€‚å¦‚æœä½ è®©å®ƒå¤„ç†é•¿æ–‡æ¡£æˆ–é«˜é¢‘å¯¹è¯ï¼Œä¸€ä¸ªæœˆçš„ API è´¦å•å¯èƒ½ä¸è²ã€‚</li>
<li><strong>ç¡¬ä»¶/äº‘æœåŠ¡å™¨è´¹ç”¨ï¼š</strong> è¿è¡Œ Gateway éœ€è¦è®¡ç®—èµ„æºã€‚</li>
</ul>
<p><strong>3. éšç§ä¸å®‰å…¨ (Security)</strong>
è™½ç„¶æ˜¯â€œæœ¬åœ°ä¼˜å…ˆâ€ï¼Œä½†ä½ å®é™…ä¸Šæ˜¯æŠŠä½ çš„èŠå¤©è®°å½•ã€å±å¹•æˆªå›¾ã€Shell æƒé™éƒ½å¼€æ”¾ç»™äº†è¿™ä¸ª Botã€‚
å¦‚æœä½ çš„ Gateway æœåŠ¡å™¨è¢«é»‘å®¢å…¥ä¾µï¼Œæˆ–è€… API Key æ³„éœ²ï¼Œä½ çš„ä¸ªäººéšç§å°†é¢ä¸´å·¨å¤§é£é™©ã€‚ä½ éœ€è¦è‡ªå·±è´Ÿè´£é…ç½®é˜²ç«å¢™å’Œé‰´æƒã€‚</p>
<p><strong>4. ç§»åŠ¨ç«¯ä½“éªŒå‰²è£‚</strong>
Clawdbot åœ¨æ‰‹æœºä¸Šæ²¡æœ‰ç‹¬ç«‹çš„ç²¾ç¾ Appï¼Œå®ƒä¾é™„äº Telegram æˆ– WhatsApp çš„èŠå¤©ç•Œé¢ã€‚è¿™æ„å‘³ç€ä½ æ— æ³•åƒç”¨åŸç”Ÿ App é‚£æ ·è¿›è¡Œå¤æ‚çš„äº¤äº’ï¼ˆæ¯”å¦‚å¤æ‚çš„æ‹–æ‹½ã€å¤šé€‰ã€å¯è§†åŒ–çš„ä»ªè¡¨ç›˜ï¼‰ï¼Œä¸€åˆ‡äº¤äº’ä¸»è¦é æ–‡å­—å‘½ä»¤ã€‚</p>
<hr/>
<p><em>å°½ç®¡ä½¿ç”¨æ–¹é¢æœ‰è¿™ä¹ˆå¤šçš„éšœç¢ï¼Œä½†æ˜¯å®ƒçš„çˆ†ç«å·²ç»è¯´æ˜å¤§å®¶å¯¹è¿™æ ·çš„å·¥å…·éå¸¸æœŸå¾…ã€ä¸Šè¿°çš„é—®é¢˜è¿Ÿæ—©ä¼šè¢«è§£å†³ã€‚</em></p>
<hr/>
<h2 data-id="heading-6">02 -&gt; For Developersï¼šå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24e97f7c11934a498e2756b4f740b34b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCB5oCV5bmz55Sf5aSq5oCl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024559&amp;x-signature=lkcM2aNVZnPxLB51uFBs6BriK8I%3D" alt="Gemini_Generated_Image_yfm9p6yfm9p6yfm9.png" loading="lazy"/></p>
<p>Clawdbot æ˜¯ä¸€ä¸ªâ€œæœ¬åœ°ä¼˜å…ˆâ€çš„ä¸ªäºº AI ç½‘å…³ (Personal AI Gateway)ã€‚</p>
<p>å®ƒé€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–çš„æ§åˆ¶å¹³é¢ï¼ˆGatewayï¼‰ï¼Œå°†ä½ å¸¸ç”¨çš„æ‰€æœ‰é€šè®¯è½¯ä»¶ï¼ˆå¾®ä¿¡ã€Telegramã€Slackç­‰ï¼‰ä¸ä½ çš„æœ¬åœ°è®¾å¤‡ï¼ˆMac/æ‰‹æœºï¼‰è¿æ¥èµ·æ¥ï¼Œè®© AI Agent ä¸ä»…èƒ½è·¨å¹³å°å¯¹è¯ï¼Œè¿˜èƒ½ç›´æ¥è°ƒç”¨æœ¬åœ°è®¾å¤‡çš„èƒ½åŠ›ï¼ˆå¦‚æˆªå±ã€æ§åˆ¶æµè§ˆå™¨ï¼‰ã€‚</p>
<h3 data-id="heading-7">2.1 æ ¸å¿ƒæ¶æ„</h3>
<p>Clawdbot çš„æ¶æ„è®¾è®¡å‘ˆç°å‡ºå…¸å‹çš„ â€œä¸­å¿ƒè¾å°„å‹â€ (Hub-and-Spoke) æ‹“æ‰‘ç»“æ„ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯ <strong>â€œGateway is Kingâ€ (ç½‘å…³å³ä¸€åˆ‡)</strong>ã€‚</p>
<p><strong>1. æ ¸å¿ƒä¸­æ¢ï¼šGateway (æ§åˆ¶å¹³é¢)</strong>
è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„â€œå¤§è„‘â€å’Œäº¤é€šæ¢çº½ã€‚</p>
<ul>
<li><strong>è§’è‰²ï¼š</strong> å®ƒæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æœ¬åœ°ï¼ˆå¦‚ Mac æˆ– Linux æœåŠ¡å™¨ï¼‰çš„ WebSocket æœåŠ¡ã€‚</li>
<li><strong>åŠŸèƒ½ï¼š</strong> æ‰€æœ‰æ¶ˆæ¯çš„æ”¶å‘ã€Agent çš„è°ƒåº¦ã€å·¥å…·çš„æ‰§è¡Œã€ä»¥åŠè®¾å¤‡çŠ¶æ€çš„ç®¡ç†ï¼Œå…¨éƒ½åœ¨è¿™é‡Œç»Ÿä¸€å¤„ç†ã€‚å®ƒä¸ä¾èµ–äº‘ç«¯ SaaSï¼Œæ•°æ®æŒæ¡åœ¨ä½ æ‰‹ä¸­ã€‚</li>
</ul>
<p><strong>2. è¾“å…¥/è¾“å‡ºå±‚ï¼šChannels (å¤šæ¸ é“æ¥å…¥)</strong>
è¿™æ˜¯ç³»ç»Ÿçš„â€œè€³æœµâ€å’Œâ€œå˜´å·´â€ï¼Œè´Ÿè´£è¿æ¥å¤–éƒ¨é€šè®¯å¹³å°ã€‚</p>
<ul>
<li><strong>æ”¯æŒåè®®ï¼š</strong> å®ƒé›†æˆäº† WhatsApp, Telegram, Slack, Discord, Signal, iMessage ç”šè‡³ WebChat ç­‰å¹³å°çš„åè®®ã€‚</li>
<li><strong>å·¥ä½œæ–¹å¼ï¼š</strong> å®ƒå°†ä¸åŒå¹³å°çš„ç§æœ‰åè®®ï¼ˆå¦‚ WhatsApp çš„ Baileys, Telegram çš„ grammYï¼‰ç»Ÿä¸€è½¬åŒ–ä¸º Clawdbot å†…éƒ¨çš„æ ‡å‡†æ¶ˆæ¯æ ¼å¼ï¼Œä¼ ç»™ Gatewayã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ä»»ä½•èŠå¤©è½¯ä»¶é‡Œè·ŸåŒä¸€ä¸ª AI å¯¹è¯ã€‚</li>
</ul>
<p><strong>3. æ‰§è¡Œç»ˆç«¯ï¼šNodes (è®¾å¤‡èŠ‚ç‚¹)</strong>
è¿™æ˜¯ç³»ç»Ÿçš„â€œæ‰‹è„šâ€ï¼Œè´Ÿè´£ç‰©ç†è®¾å¤‡çš„å…·ä½“æ“ä½œã€‚</p>
<ul>
<li><strong>å·®å¼‚åŒ–ï¼š</strong> Gateway å¯ä»¥åœ¨äº‘ç«¯è¿è¡Œï¼Œä½† Node å¿…é¡»è¿è¡Œåœ¨ä½ çš„ç‰©ç†è®¾å¤‡ä¸Šï¼ˆå¦‚ macOS App, iOS/Android å®¢æˆ·ç«¯ï¼‰ã€‚</li>
<li><strong>èƒ½åŠ›ï¼š</strong> Node é€šè¿‡ WebSocket è¿æ¥åˆ° Gatewayï¼Œæš´éœ²æœ¬åœ°èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼šè°ƒç”¨ Mac çš„æ‘„åƒå¤´ã€è¿›è¡Œå±å¹•å½•åˆ¶ã€å‘é€ç³»ç»Ÿé€šçŸ¥æˆ–æ‰§è¡Œ Shell å‘½ä»¤ã€‚</li>
</ul>
<p><strong>4. æ™ºèƒ½å¼•æ“ï¼šAgent (Pi Agent)</strong>
è¿™æ˜¯ç³»ç»Ÿçš„â€œæ€ç»´â€ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ RPC æ¨¡å¼ä¸‹çš„ AI è¿è¡Œæ—¶ã€‚</p>
<ul>
<li><strong>æœºåˆ¶ï¼š</strong> å®ƒæ¥æ”¶ Gateway è½¬å‘çš„ç”¨æˆ·æ„å›¾ï¼Œå†³ç­–éœ€è¦è°ƒç”¨å“ªäº›å·¥å…·ï¼ˆTool Streamingï¼‰ï¼Œå¹¶å°†ç»“æœè¿”å›ã€‚</li>
</ul>
<h3 data-id="heading-8">2.2 ç¤ºä¾‹è¯´æ˜</h3>
<p><strong>åœºæ™¯ï¼š</strong> ä½ åœ¨æ‰‹æœºä¸Šç”¨ Telegram è¿œç¨‹é¥æ§å®¶é‡Œçš„ Mac æˆªå›¾å¹¶å‘é€ç»™ä½ ã€‚
<strong>æ“ä½œï¼š</strong> ä½ åœ¨æ‰‹æœºç«¯çš„ Telegram å¯¹æœºå™¨äººè¯´ï¼šâ€œå¸®æˆ‘æˆªä¸€ä¸‹ Mac çš„å±å¹•ï¼Œçœ‹çœ‹ä¸‹è½½å®Œæˆäº†å—ï¼Ÿâ€</p>
<p><strong>èƒŒåæ¶æ„çš„æ‰§è¡Œæµç¨‹ (How it works)ï¼š</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a941e2e774c34d458dec64bf9b163f03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCB5oCV5bmz55Sf5aSq5oCl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024559&amp;x-signature=FiICHgiLJwfUM38wRBMJl8lifTo%3D" alt="20260126-105054.jpg" loading="lazy"/></p>
<p><strong>1. æ¶ˆæ¯æ¥æ”¶ (Channel Layer)</strong></p>
<ul>
<li>Telegram çš„ Connector æ”¶åˆ°æ¶ˆæ¯ï¼Œå°†å…¶æ ‡å‡†åŒ–ä¸ºå†…éƒ¨ Eventã€‚</li>
<li><em>æ¶æ„æ”¯æŒï¼šChannels æ¨¡å—å±è”½äº† Telegram åè®®çš„å¤æ‚æ€§ã€‚</em></li>
</ul>
<p><strong>â†“</strong></p>
<p><strong>2. æ„å›¾è·¯ç”± (Gateway Layer)</strong></p>
<ul>
<li>Gateway æ”¶åˆ°æ¶ˆæ¯ï¼Œå°†å…¶è½¬å‘ç»™å½“å‰çš„ Agentã€‚</li>
<li><em>æ¶æ„æ”¯æŒï¼šGateway ç»´æŠ¤äº†ä¼šè¯ä¸Šä¸‹æ–‡ (Session)ï¼ŒçŸ¥é“ä½ æ˜¯ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰§è¡Œæƒé™ã€‚</em></li>
</ul>
<p><strong>â†“</strong></p>
<p><strong>3. å†³ç­–ä¸åˆ†å‘ (Agent Logic)</strong></p>
<ul>
<li>Agent åˆ†æè¯­ä¹‰ï¼Œå†³å®šè°ƒç”¨ <code>screen.record</code> æˆ– <code>system.screenshot</code> å·¥å…·ã€‚</li>
<li>Agent å‘ Gateway å‘å‡ºâ€œæ‰§è¡Œæˆªå›¾â€çš„æŒ‡ä»¤ã€‚</li>
</ul>
<p><strong>â†“</strong></p>
<p><strong>4. è¿œç¨‹æ‰§è¡Œ (Node Layer)</strong></p>
<ul>
<li>Gateway æŸ¥æ‰¾å·²è¿æ¥çš„è®¾å¤‡åˆ—è¡¨ï¼Œæ‰¾åˆ°æ³¨å†Œä¸ºâ€œMacBook Proâ€çš„ macOS Nodeã€‚</li>
<li>Gateway é€šè¿‡ WebSocket å‘è¯¥ Node å‘é€æŒ‡ä»¤ã€‚</li>
<li><em>å…³é”®ç‚¹ï¼šGateway å¯èƒ½è·‘åœ¨ Linux æœåŠ¡å™¨ä¸Šï¼Œä½†å®ƒé€šè¿‡é•¿è¿æ¥â€œç©¿é€â€åˆ°äº†ä½ å®¶é‡Œçš„ Mac Node ä¸Šã€‚</em></li>
</ul>
<p><strong>â†“</strong></p>
<p><strong>5. ç»“æœå›ä¼  (Feedback Loop)</strong></p>
<ul>
<li>Mac ä¸Šçš„ Node æ‰§è¡Œæœ¬åœ°æˆªå›¾å‘½ä»¤ï¼Œä¸Šä¼ å›¾ç‰‡/æ•°æ®æµå› Gatewayã€‚</li>
<li>Gateway å°†å›¾ç‰‡è½¬äº¤ç»™ Telegram Connectorã€‚</li>
</ul>
<p><strong>âœ… æœ€ç»ˆä½ åœ¨æ‰‹æœº Telegram ä¸Šæ”¶åˆ°äº†ä¸€å¼  Mac çš„å®æ—¶å±å¹•æˆªå›¾ã€‚</strong></p>
<hr/>
<h2 data-id="heading-9">03 -&gt; For Geeksï¼šæ ¸å¿ƒæ¦‚å¿µé€šä¿—è§£æ„</h2>
<h4 data-id="heading-10">ï¼ˆç½‘å…³ã€RPCä¸æ›´å¤šï¼‰</h4>
<h3 data-id="heading-11">ç½‘å…³ (Gateway)</h3>
<p>ç®€å•æ¥è¯´ï¼Œç½‘å…³ï¼ˆGatewayï¼‰ å°±åƒæ˜¯ä¸€ä¸ªå°åŒºçš„â€œå¤§é—¨å«å®¤â€ï¼Œè€Œ <strong>ä¸ªäºº AI ç½‘å…³</strong> åˆ™æ˜¯ä¸“é—¨ä¸ºä½ ä¸ªäººæœåŠ¡çš„â€œAI æ™ºèƒ½ç®¡å®¶å‰å°â€ã€‚</p>
<p>åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œç½‘å…³æ˜¯ä¸€ä¸ªä¸­é—´å±‚ã€‚å®ƒä»‹äºâ€œç”¨æˆ·â€å’Œâ€œåå°æœåŠ¡â€ä¹‹é—´ã€‚
å¦‚æœæŠŠæœåŠ¡å™¨æ¯”ä½œä»“åº“ï¼Œä½ ï¼ˆç”¨æˆ·ï¼‰å»å–è´§æ—¶ï¼Œä¸èƒ½ç›´æ¥å†²è¿›ä»“åº“ï¼Œè€Œæ˜¯è¦é€šè¿‡é—¨å«å®¤ï¼ˆç½‘å…³ï¼‰ã€‚è¿™ä¸ªé—¨å«å®¤è´Ÿè´£ï¼š</p>
<ol>
<li><strong>èº«ä»½éªŒè¯ï¼š</strong> æ£€æŸ¥ä½ æ˜¯å¦æœ‰æƒé™è¿›å…¥ï¼ˆé‰´æƒï¼‰ã€‚</li>
<li><strong>åˆ†æµå¼•å¯¼ï¼š</strong> å‘Šè¯‰ä½ è¦å» 1 å·åº“æˆ¿è¿˜æ˜¯ 2 å·åº“æˆ¿ï¼ˆè·¯ç”±/è´Ÿè½½å‡è¡¡ï¼‰ã€‚</li>
<li><strong>å®‰æ£€ï¼š</strong> æ‹¦æˆªå±é™©ç‰©å“ï¼ˆå®‰å…¨é˜²æŠ¤/é™æµï¼‰ã€‚</li>
</ol>
<p><strong>ä¸ªäºº AI ç½‘å…³</strong>
å°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ä½ æœ¬åœ°æˆ–ç§æœ‰äº‘ä¸Šçš„â€œç»Ÿä¸€ä¸­è½¬ç«™â€ã€‚å®ƒä¸å†åªæ˜¯ä¼ è¯ç­’ï¼Œè€Œæ˜¯å…·å¤‡äº†æ™ºèƒ½å¤§è„‘çš„é—¨å«ã€‚
æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€å…¥å£ï¼š</strong> ä¸ç®¡åå°æ¥çš„æ˜¯å“ªä¸ªå¤§æ¨¡å‹ï¼Œä½ å¯¹å¤–åªæš´éœ²ä¸€ä¸ªæ ‡å‡†æ¥å£ï¼ˆé€šå¸¸å…¼å®¹ OpenAI æ ¼å¼ï¼‰ã€‚</li>
<li><strong>æ¨¡å‹è·¯ç”±ï¼š</strong> æ ¹æ®ä½ çš„æŒ‡ä»¤å¤æ‚ç¨‹åº¦è‡ªåŠ¨åˆ†å‘ã€‚ç®€å•çš„å¯¹è¯å‘ç»™è½»é‡æ¨¡å‹ï¼ˆçœé’±/å¿«ï¼‰ï¼Œå¤æ‚çš„ç®—æ³•é€»è¾‘å‘ç»™æœ€å¼ºæ¨¡å‹ã€‚</li>
<li><strong>æ•æ„Ÿä¿¡æ¯æ‹¦æˆªï¼š</strong> åœ¨æ•°æ®å‘å¾€äº‘ç«¯å¤§æ¨¡å‹ä¹‹å‰ï¼Œç½‘å…³å¯ä»¥è‡ªåŠ¨è¯†åˆ«å¹¶è„±æ•ï¼ˆä¿æŠ¤ä½ çš„ä¸ªäººéšç§æˆ–ç§å¯†ä»£ç ï¼‰ã€‚</li>
<li><strong>ç¼“å­˜åŠ é€Ÿï¼š</strong> ç›¸ä¼¼çš„ç®—æ³•é—®é¢˜ï¼Œç½‘å…³å¦‚æœå­˜æœ‰ä¹‹å‰çš„ç­”æ¡ˆï¼Œå°±ä¸å†è¯·æ±‚äº‘ç«¯ï¼Œç›´æ¥ç§’å›ã€‚</li>
<li><strong>æˆæœ¬ç›‘æ§ï¼š</strong> å¸®ä½ ç›¯ç€å„ä¸ª API Key æ‰£äº†å¤šå°‘é’±ï¼Œé˜²æ­¢è¶…æ”¯ã€‚</li>
</ul>
<h3 data-id="heading-12">WebSocket æœåŠ¡</h3>
<p>ä¸€ç§è®©æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼ˆæ¯”å¦‚ä½ çš„æµè§ˆå™¨ï¼‰è¿›è¡Œâ€œæŒç»­å¯¹è¯â€çš„æŠ€æœ¯ã€‚</p>
<p><strong>ç±»æ¯”è¯´æ˜ï¼š</strong> å¦‚æœæŠŠä¼ ç»Ÿçš„ HTTP è¯·æ±‚æ¯”ä½œå‘çŸ­ä¿¡ï¼ˆå‘ä¸€æ¡ï¼Œå›ä¸€æ¡ï¼‰ï¼Œé‚£ä¹ˆ WebSocket å°±åƒæ˜¯æ‰“é€šç”µè¯ï¼ˆé€šè¯ä¸æŒ‚æ–­ï¼ŒåŒæ–¹éšæ—¶éƒ½èƒ½è¯´è¯ï¼‰ã€‚</p>
<h3 data-id="heading-13">RPCï¼ˆRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰</h3>
<p>RPC æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„ç›®æ ‡æ˜¯é€æ˜åŒ–ç½‘ç»œè°ƒç”¨ã€‚</p>
<p><strong>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ï¼š</strong> è®©ä½ åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·ï¼Œå»è°ƒç”¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å‡½æ•°ã€‚
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿæˆ–å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒRPC æ˜¯ä¸åŒæœåŠ¡ä¹‹é—´æ²Ÿé€šçš„â€œæ™®é€šè¯â€ã€‚
RPC å±è”½äº†åº•å±‚çš„ç½‘ç»œä¼ è¾“ã€åºåˆ—åŒ–ã€åè®®è½¬æ¢ç­‰å¤æ‚ç»†èŠ‚ã€‚ä½ ä¸éœ€è¦å…³å¿ƒå®ƒæ˜¯ç”¨ TCP è¿˜æ˜¯ HTTP ä¼ è¾“çš„ï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨è§£æ JSON æˆ– Protobufï¼Œå®ƒå°±åƒæ˜¯åœ¨è°ƒç”¨æœ¬åœ°ä»£ç ã€‚</p>
<p><strong>å¸¸è§çš„ RPC åè®®/æ¡†æ¶ï¼š</strong></p>
<ul>
<li><strong>gRPC (Google):</strong> ç›®å‰æœ€æµè¡Œï¼ŒåŸºäº HTTP/2ï¼Œä½¿ç”¨ Protobuf å®šä¹‰æ¥å£ï¼Œæ”¯æŒå¤šè¯­è¨€ã€‚</li>
<li><strong>Thrift (Facebook):</strong> æ€§èƒ½æé«˜ï¼Œæ”¯æŒéå¸¸å¤šçš„ç¼–ç¨‹è¯­è¨€ã€‚</li>
<li><strong>Dubbo (Alibaba):</strong> åœ¨ Java ç”Ÿæ€ä¸­éå¸¸å‡ºåï¼Œè‡ªå¸¦æ²»ç†åŠŸèƒ½ã€‚</li>
</ul>
<h3 data-id="heading-14">TypeScript</h3>
<ul>
<li><strong>ä¸€å±‚â€œé©¬ç”²â€ï¼š</strong> TypeScript = JavaScript + ç±»å‹ç³»ç»Ÿã€‚ å®ƒä¸æ˜¯ä¸€é—¨å…¨æ–°çš„è¯­è¨€ï¼Œå®ƒæœ€ç»ˆä¼šè¢«ç¼–è¯‘ï¼ˆTranspileï¼‰æˆæ™®é€šçš„ JSã€‚ä½ å¯ä»¥æŠŠ TS æƒ³è±¡æˆç»™ JS ç©¿ä¸Šäº†ä¸€å¥—â€œå¤–éª¨éª¼è£…ç”²â€ï¼Œå¢å¼ºäº†ç¨³å®šæ€§å’ŒåŠ›é‡ï¼Œä½†æ ¸å¿ƒè¿˜æ˜¯é‚£ä¸ª JSã€‚</li>
<li><strong>â€œæ´»çš„æ–‡æ¡£â€ï¼š</strong> åœ¨ TS é‡Œï¼Œä½ å®šä¹‰ <code>processTensor(data: TensorConfig)</code>ï¼Œç¼–è¾‘å™¨ï¼ˆVS Codeï¼‰ä¼šå®æ—¶å‘Šè¯‰ä½  data é‡Œæœ‰å“ªäº›å­—æ®µã€‚ä»£ç å³æ–‡æ¡£ã€‚</li>
<li><strong>â€œç¼–è¯‘æœŸæ£€æŸ¥â€ï¼š</strong> JS æ˜¯åŠ¨æ€è¯­è¨€ï¼ˆè¿è¡Œæ—¶æ‰å‘ç°é”™ï¼‰ï¼ŒTS å¼•å…¥äº†é™æ€æ£€æŸ¥ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-15">04 ç›¸å…³é“¾æ¥</h2>
<ul>
<li><strong>å®˜ç½‘ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fclawd.bot%2F" target="_blank" title="https://clawd.bot/" ref="nofollow noopener noreferrer">clawd.bot/</a></li>
<li><strong>Githubï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fclawdbot%2Fclawdbot" target="_blank" title="https://github.com/clawdbot/clawdbot" ref="nofollow noopener noreferrer">github.com/clawdbot/clâ€¦</a></li>
<li><strong>TypeScript:</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Ftypescript-from-scratch.html" target="_blank" title="https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html" ref="nofollow noopener noreferrer">www.typescriptlang.org/docs/handboâ€¦</a></li>
<li><strong>Tså®æˆ˜ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Ftypehero.dev%2F" target="_blank" title="https://typehero.dev/" ref="nofollow noopener noreferrer">typehero.dev/</a></li>
</ul>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„åŒåå…¬ä¼—å·ã€‚
æˆ‘å°†æŒç»­åˆ†äº« AI å·¥ç¨‹åŒ–ã€Agent å®æˆ˜åŠç®—æ³•åº”ç”¨ç›¸å…³çš„æ·±åº¦å†…å®¹ã€‚æˆ‘ä»¬ä¸‹æœŸè§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchain-HuggingFace æ–‡æœ¬åµŒå…¥ï¼ˆembeddingsï¼‰å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7599330434426421299</link>    <guid>https://juejin.cn/post/7599330434426421299</guid>    <pubDate>2026-01-26T09:43:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599330434426421299" data-draft-id="7599543345979801627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchain-HuggingFace æ–‡æœ¬åµŒå…¥ï¼ˆembeddingsï¼‰å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-26T09:43:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchain-HuggingFace æ–‡æœ¬åµŒå…¥ï¼ˆembeddingsï¼‰å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:43:50.000Z" title="Mon Jan 26 2026 09:43:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HuggingFace æ–‡æœ¬åµŒå…¥ï¼ˆembeddingsï¼‰å­¦ä¹ æ€»ç»“</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co" target="_blank" title="https://huggingface.co" ref="nofollow noopener noreferrer">huggingface.co</a></p>
<h3 data-id="heading-1">1. HuggingFace è¿œç¨‹åµŒå…¥</h3>
<h4 data-id="heading-2">æ˜¯ä»€ä¹ˆ</h4>
<p>é€šè¿‡ HuggingFace API è°ƒç”¨äº‘ç«¯ embedding æ¨¡å‹ï¼Œå°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼Œæ— éœ€æœ¬åœ°ä¸‹è½½æ¨¡å‹æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-3">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>å¿«é€ŸéªŒè¯æ¨¡å‹æ•ˆæœ</li>
<li>æ— éœ€æœ¬åœ°ç®—åŠ›èµ„æº</li>
<li>é€‚åˆå¼€å‘æµ‹è¯•ç¯å¢ƒ</li>
</ul>
<h4 data-id="heading-4">ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_huggingface <span class="hljs-keyword">import</span> HuggingFaceEndpointEmbeddings
<span class="hljs-keyword">import</span> dotenv

dotenv.load_dotenv()

embeddings = HuggingFaceEndpointEmbeddings(
    model=<span class="hljs-string">"sentence-transformers/all-MiniLM-L12-v2"</span>
)

vector = embeddings.embed_query(<span class="hljs-string">"ä½ å¥½ï¼Œæˆ‘æ˜¯ç©†å°è¯¾ï¼Œæˆ‘å–œæ¬¢æ‰“ç¯®çƒæ¸¸æ³³"</span>)
<span class="hljs-comment"># è¾“å‡ºï¼š[0.123, -0.456, ...]  384ç»´å‘é‡</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">2. HuggingFace æœ¬åœ°åµŒå…¥</h3>
<h4 data-id="heading-6">æ˜¯ä»€ä¹ˆ</h4>
<p>å°† HuggingFace æ¨¡å‹ä¸‹è½½åˆ°æœ¬åœ°è¿è¡Œï¼Œé€šè¿‡ <code>HuggingFaceEmbeddings</code> å®Œæˆç¦»çº¿æ–‡æœ¬å‘é‡åŒ–ã€‚</p>
<h4 data-id="heading-7">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>æ•°æ®éšç§å®‰å…¨ï¼ˆæ–‡æœ¬ä¸ä¸Šä¼ ï¼‰</li>
<li>æ— ç½‘ç»œä¾èµ–</li>
<li>å¯æ‰¹é‡å¤„ç†é™æˆæœ¬</li>
<li>æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜è·¯å¾„</li>
</ul>
<h4 data-id="heading-8">ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_huggingface <span class="hljs-keyword">import</span> HuggingFaceEmbeddings

embeddings = HuggingFaceEmbeddings(
    model_name=<span class="hljs-string">"sentence-transformers/all-MiniLM-L12-v2"</span>,
    cache_folder=<span class="hljs-string">"./embeddings/"</span>  <span class="hljs-comment"># æ¨¡å‹ç¼“å­˜ç›®å½•</span>
)

vector = embeddings.embed_query(<span class="hljs-string">"ä½ å¥½ï¼Œæˆ‘æ˜¯æ…•å°è¯¾ï¼Œæˆ‘å–œæ¬¢æ‰“ç¯®çƒæ¸¸æ³³"</span>)
<span class="hljs-comment"># è¾“å‡ºï¼š[0.123, -0.456, ...]  384ç»´å‘é‡</span>
</code></pre>
<hr/>
<h3 data-id="heading-9">3. ç™¾åº¦åƒå¸†æ–‡æœ¬åµŒå…¥</h3>
<h4 data-id="heading-10">æ˜¯ä»€ä¹ˆ</h4>
<p>è°ƒç”¨ç™¾åº¦åƒå¸†å¹³å°çš„ embedding APIï¼Œå°†ä¸­æ–‡æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡è¡¨ç¤ºã€‚</p>
<h4 data-id="heading-11">æœ‰ä»€ä¹ˆç”¨</h4>
<ul>
<li>ä¸­æ–‡åœºæ™¯ä¼˜åŒ–</li>
<li>å›½äº§åŒ– API æ›¿ä»£æ–¹æ¡ˆ</li>
<li>é…é¢ç®¡ç†çµæ´»</li>
</ul>
<h4 data-id="heading-12">ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.embeddings.baidu_qianfan_endpoint <span class="hljs-keyword">import</span> QianfanEmbeddingsEndpoint
<span class="hljs-keyword">import</span> dotenv

dotenv.load_dotenv()

embeddings = QianfanEmbeddingsEndpoint()

vector = embeddings.embed_query(<span class="hljs-string">"æˆ‘å«æ…•å°è¯¾ï¼Œæˆ‘å–œæ¬¢æ‰“ç¯®çƒæ¸¸æ³³"</span>)
<span class="hljs-comment"># è¾“å‡ºï¼šç™¾åº¦è¿”å›çš„å‘é‡è¡¨ç¤º</span>
</code></pre>
<hr/>
<h3 data-id="heading-13">æ€»ç»“å¯¹æ¯”</h3>

























<table><thead><tr><th>æ–¹å¼</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>HuggingFace è¿œç¨‹</td><td>é›¶é…ç½®ï¼Œå³å¼€å³ç”¨</td><td>å¿«é€ŸéªŒè¯åŸå‹</td></tr><tr><td>HuggingFace æœ¬åœ°</td><td>éšç§å®‰å…¨ï¼Œç¦»çº¿å¯ç”¨</td><td>ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</td></tr><tr><td>ç™¾åº¦åƒå¸†</td><td>ä¸­æ–‡ä¼˜åŒ–ï¼Œåˆè§„å‹å¥½</td><td>å›½å†…ä¸šåŠ¡åœºæ™¯</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæˆ‘çš„æ‰¹é‡é…ç½®æ²¡ç”Ÿæ•ˆï¼ŸHibernate ä¸ JdbcTemplate æ‰§è¡Œæµç¨‹å¤§èµ·åº•ï¼ˆäºŒï¼‰]]></title>    <link>https://juejin.cn/post/7599053532169175081</link>    <guid>https://juejin.cn/post/7599053532169175081</guid>    <pubDate>2026-01-26T09:45:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599053532169175081" data-draft-id="7599237603976544299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæˆ‘çš„æ‰¹é‡é…ç½®æ²¡ç”Ÿæ•ˆï¼ŸHibernate ä¸ JdbcTemplate æ‰§è¡Œæµç¨‹å¤§èµ·åº•ï¼ˆäºŒï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-26T09:45:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="define9527"/> <meta itemprop="url" content="https://juejin.cn/user/414960194946937"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæˆ‘çš„æ‰¹é‡é…ç½®æ²¡ç”Ÿæ•ˆï¼ŸHibernate ä¸ JdbcTemplate æ‰§è¡Œæµç¨‹å¤§èµ·åº•ï¼ˆäºŒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/414960194946937/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    define9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:45:46.000Z" title="Mon Jan 26 2026 09:45:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸Šä¸€ç¯‡æ–‡ç« æ­å»ºäº†é¡¹ç›®å¹¶å¯¹æ¯”äº†äºŒè€…æ•ˆç‡ï¼Œæœ¬æ–‡å°†æ·±å…¥æºç ï¼Œå‰–æ Hibernate ä¸ JdbcTemplate æ‰¹é‡æ“ä½œçš„å‚æ•°ç”Ÿæ•ˆæœºåˆ¶ä¸æ‰§è¡Œæµç¨‹</p>
</blockquote>
<h2 data-id="heading-0">æºç è§£æ</h2>
<p>ç°åœ¨å°†ä»£ç å‡æŒ‰ç…§æ”¯æŒæ‰¹é‡æ’å…¥å’Œæ‰¹é‡æ›´æ–°çš„è¦æ±‚è¿›è¡Œé…ç½®</p>
<h3 data-id="heading-1">å®ç°åŸç†</h3>
<p>å½’æ ¹ç»“åº•ï¼Œæ‰€æœ‰ä¸Šå±‚æ¡†æ¶ï¼ˆå¦‚ JPA/Hibernateã€MyBatisã€Spring JdbcTemplate ç­‰ï¼‰çš„æ‰¹é‡æ’å…¥æˆ–æ›´æ–°æ“ä½œï¼Œæœ€ç»ˆéƒ½ä¾èµ–äº JDBC æ‰¹å¤„ç†ï¼ˆBatch Processingï¼‰ æœºåˆ¶æ¥å®ç°çœŸæ­£çš„æ‰¹é‡æ‰§è¡Œ</p>
<blockquote>
<p>ä»¥ä¸‹ä»£ç å‚è€ƒè‡ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fliaoxuefeng.com%2Fbooks%2Fjava%2Fjdbc%2Fbatch%2Findex.html" target="_blank" title="https://liaoxuefeng.com/books/java/jdbc/batch/index.html" ref="nofollow noopener noreferrer">JDBC æ‰¹å¤„ç†</a></p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (<span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> conn.prepareStatement(<span class="hljs-string">"INSERT INTO students (name, gender, grade, score) VALUES (?, ?, ?, ?)"</span>)) {
    <span class="hljs-comment">// å¯¹åŒä¸€ä¸ªPreparedStatementåå¤è®¾ç½®å‚æ•°å¹¶è°ƒç”¨addBatch()</span>
    <span class="hljs-keyword">for</span> (Student s : students) {
        ps.setString(<span class="hljs-number">1</span>, s.name);
        ps.setBoolean(<span class="hljs-number">2</span>, s.gender);
        ps.setInt(<span class="hljs-number">3</span>, s.grade);
        ps.setInt(<span class="hljs-number">4</span>, s.score);
        ps.addBatch();
    }
    <span class="hljs-comment">// æ‰§è¡Œbatch</span>
    <span class="hljs-type">int</span>[] ns = ps.executeBatch();
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n : ns) {
        System.out.println(n + <span class="hljs-string">" inserted."</span>);
    }
}
</code></pre>
<p>JDBCï¼ˆJava Database Connectivityï¼‰æœ¬èº«åªæ˜¯ä¸€å¥—æ ‡å‡†çš„ Java API è§„èŒƒï¼Œç”± Oracleï¼ˆåŸ Sun Microsystemsï¼‰å®šä¹‰ï¼Œç”¨äºç»Ÿä¸€ Java åº”ç”¨ä¸å…³ç³»å‹æ•°æ®åº“çš„äº¤äº’æ–¹å¼ã€‚å®ƒè§„å®šäº†æ¥å£ï¼ˆå¦‚ <code>Connection</code>ã€<code>Statement</code>ã€<code>PreparedStatement</code>ã€<code>ResultSet</code> ç­‰ï¼‰å’Œè¡Œä¸ºï¼Œä½†ä¸åŒ…å«å…·ä½“å®ç°</p>
<p>å…·ä½“çš„å®ç°ç”±æ•°æ®åº“å‚å•†æˆ–ç¬¬ä¸‰æ–¹é©±åŠ¨æä¾›è€…å®Œæˆï¼Œä»¥ JDBC é©±åŠ¨ï¼ˆDriverï¼‰çš„å½¢å¼å­˜åœ¨ï¼Œè¿™äº›é©±åŠ¨å®ç°äº† JDBC è§„èŒƒä¸­å®šä¹‰çš„æ¥å£ï¼Œå¹¶å°è£…äº†ä¸å„è‡ªæ•°æ®åº“é€šä¿¡çš„åº•å±‚åè®®</p>

























<table><thead><tr><th align="left">æ•°æ®åº“</th><th align="left">JDBC é©±åŠ¨å®ç°ï¼ˆå‚å•†æä¾›ï¼‰</th></tr></thead><tbody><tr><td align="left">MySQL</td><td align="left"><code>com.mysql.cj.jdbc.Driver</code>ï¼ˆç”± Oracle/MySQL å®˜æ–¹ç»´æŠ¤ï¼‰</td></tr><tr><td align="left">PostgreSQL</td><td align="left"><code>org.postgresql.Driver</code>ï¼ˆç¤¾åŒºå®˜æ–¹é©±åŠ¨ï¼‰</td></tr><tr><td align="left">Oracle</td><td align="left"><code>oracle.jdbc.OracleDriver</code>ï¼ˆç”± Oracle æä¾›ï¼‰</td></tr><tr><td align="left">SQL Server</td><td align="left"><code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code>ï¼ˆå¾®è½¯æä¾›ï¼‰</td></tr></tbody></table>
<p>æ‰€ä»¥ PreparedStatement çš„ addBatch å’Œ executeBatch æ–¹æ³•çš„å®ç°æºç å¾—å»å¯¹åº”çš„é©±åŠ¨ä¸­æ‰¾</p>
<h3 data-id="heading-2">JdbcTemplate æ‰¹å¤„ç†</h3>
<p>ç›´æ¥ä½¿ç”¨ testJdbcTemplateBatchInsertPerformance æ–¹æ³•è¿›è¡Œè°ƒè¯•</p>
<h4 data-id="heading-3">JdbcTemplate å±‚çš„å¤„ç†</h4>
<p>è¿›å…¥ batchUpdate ä¹‹åï¼Œä¾¿å¯ä»¥çœ‹åˆ°ç†Ÿæ‚‰çš„ addBatch å’Œ executeBatch æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcTemplate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JdbcAccessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcOperations</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-type">int</span>[][] batchUpdate(
        String sql, 
        Collection&lt;T&gt; batchArgs, 
        <span class="hljs-type">int</span> batchSize,
        ParameterizedPreparedStatementSetter&lt;T&gt; pss
    ) <span class="hljs-keyword">throws</span> DataAccessException {
        <span class="hljs-comment">// ParameterizedPreparedStatementSetter åªæœ‰ä¸€ä¸ªæ–¹æ³•</span>
        <span class="hljs-comment">// setValues(PreparedStatement ps, T argument)</span>
        <span class="hljs-comment">// å®ƒçš„ä½œç”¨å°±æ˜¯ç»™ PreparedStatement è®¾å€¼ï¼Œargument å‚æ•°å€¼é€šå¸¸æ˜¯å®ä½“å¯¹è±¡</span>
        <span class="hljs-type">int</span>[][] result = execute(sql, (PreparedStatementCallback&lt;<span class="hljs-type">int</span>[][]&gt;) ps -&gt; {
            List&lt;<span class="hljs-type">int</span>[]&gt; rowsAffected = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            <span class="hljs-keyword">try</span> {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">batchSupported</span> <span class="hljs-operator">=</span> JdbcUtils.supportsBatchUpdates(ps.getConnection());
                <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (T obj : batchArgs) {
                    <span class="hljs-comment">// åˆ©ç”¨ obj ç»™ PreparedStatement è®¾å€¼</span>
                    pss.setValues(ps, obj);
                    n++;
                    <span class="hljs-keyword">if</span> (batchSupported) {
                        ps.addBatch();
                        <span class="hljs-keyword">if</span> (n % batchSize == <span class="hljs-number">0</span> || n == batchArgs.size()) {
                            <span class="hljs-keyword">try</span> {
                                <span class="hljs-type">int</span>[] updateCounts = ps.executeBatch();
                                rowsAffected.add(updateCounts);
                            }
                            <span class="hljs-keyword">catch</span> (BatchUpdateException ex) {
                                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AggregatedBatchUpdateException</span>(rowsAffected.toArray(<span class="hljs-type">int</span>[][]::<span class="hljs-keyword">new</span>), ex);
                            }
                        }
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> ps.executeUpdate();
                        rowsAffected.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[] {i});
                    }
                }
                <span class="hljs-type">int</span>[][] result1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[rowsAffected.size()][];
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; result1.length; i++) {
                    result1[i] = rowsAffected.get(i);
                }
                <span class="hljs-keyword">return</span> result1;
            }
            <span class="hljs-keyword">finally</span> {
                <span class="hljs-keyword">if</span> (pss <span class="hljs-keyword">instanceof</span> ParameterDisposer parameterDisposer) {
                    parameterDisposer.cleanupParameters();
                }
            }
        });
        Assert.state(result != <span class="hljs-literal">null</span>, <span class="hljs-string">"No result array"</span>);
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p>execute æ–¹æ³•ä¸»è¦ç”¨äºåˆ›å»º PreparedStatement å¯¹è±¡å’Œæ‰§è¡Œ PreparedStatementCallback å›è°ƒï¼Œæ‰€åˆ›å»ºçš„ PreparedStatement å¯¹è±¡å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™ PreparedStatementCallback å›è°ƒæ¥å£è¿›è¡Œæ‰§è¡Œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcTemplate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JdbcAccessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcOperations</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Nullable</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">execute</span><span class="hljs-params">(String sql, PreparedStatementCallback&lt;T&gt; action)</span> <span class="hljs-keyword">throws</span> DataAccessException {
        <span class="hljs-keyword">return</span> execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SimplePreparedStatementCreator</span>(sql), action, <span class="hljs-literal">true</span>);
    }

    <span class="hljs-meta">@Nullable</span>
    <span class="hljs-keyword">private</span> &lt;T&gt; T <span class="hljs-title function_">execute</span><span class="hljs-params">(PreparedStatementCreator psc, PreparedStatementCallback&lt;T&gt; action, <span class="hljs-type">boolean</span> closeResources)</span> <span class="hljs-keyword">throws</span> DataAccessException {
        <span class="hljs-comment">// è·å–è¿æ¥</span>
        <span class="hljs-type">Connection</span> <span class="hljs-variable">con</span> <span class="hljs-operator">=</span> DataSourceUtils.getConnection(obtainDataSource());
        <span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åˆ›å»º PreparedStatement å¯¹è±¡</span>
            ps = psc.createPreparedStatement(con);
            applyStatementSettings(ps);
            <span class="hljs-comment">// ä¼ å…¥ PreparedStatement å¯¹è±¡ï¼Œæ‰§è¡Œ PreparedStatementCallback å›è°ƒ</span>
            <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> action.doInPreparedStatement(ps);
            handleWarnings(ps);
            <span class="hljs-keyword">return</span> result;
        }
        <span class="hljs-keyword">catch</span> (SQLException ex) {
            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ...</span>
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SimplePreparedStatementCreator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PreparedStatementCreator</span>, SqlProvider {

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String sql;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">SimplePreparedStatementCreator</span><span class="hljs-params">(String sql)</span> {
            Assert.notNull(sql, <span class="hljs-string">"SQL must not be null"</span>);
            <span class="hljs-built_in">this</span>.sql = sql;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> PreparedStatement <span class="hljs-title function_">createPreparedStatement</span><span class="hljs-params">(Connection con)</span> <span class="hljs-keyword">throws</span> SQLException {
            <span class="hljs-keyword">return</span> con.prepareStatement(<span class="hljs-built_in">this</span>.sql);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSql</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.sql;
        }
    }
}
</code></pre>
<p>åœ¨ JdbcTemplate#batchUpdate æ–¹æ³•é‡Œæ³¨å†Œçš„ PreparedStatementCallback å›è°ƒä¸­æœ‰ä¸€ä¸ª batchSupported å˜é‡ç”¨äºæ§åˆ¶æ˜¯å¦æ‰§è¡Œæ‰¹é‡æ“ä½œï¼Œè€Œ <code>JdbcUtils#supportsBatchUpdates</code> æœ€ç»ˆè°ƒç”¨çš„æ˜¯ <code>com.mysql.cj.jdbc.DatabaseMetaData#supportsBatchUpdates</code> æ–¹æ³•ï¼Œä¸”æ­¤æ–¹æ³•ç›´æ¥è¿”å› true</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcUtils</span> {

    <span class="hljs-comment">/**
	 * Return whether the given JDBC driver supports JDBC batch updates.
	 * &lt;p&gt;Typically invoked right before execution of a given set of statements:
	 * to decide whether the set of SQL statements should be executed through
	 * the JDBC batch mechanism or simply in a traditional one-by-one fashion.
	 * &lt;p&gt;Logs a warning if the "supportsBatchUpdates" methods throws an exception
	 * and simply returns {<span class="hljs-doctag">@code</span> false} in that case.
	 * <span class="hljs-doctag">@param</span> con the Connection to check
	 * <span class="hljs-doctag">@return</span> whether JDBC batch updates are supported
	 * <span class="hljs-doctag">@see</span> java.sql.DatabaseMetaData#supportsBatchUpdates()
	 */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsBatchUpdates</span><span class="hljs-params">(Connection con)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DatabaseMetaData</span> <span class="hljs-variable">dbmd</span> <span class="hljs-operator">=</span> con.getMetaData();
            <span class="hljs-keyword">if</span> (dbmd != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (dbmd.supportsBatchUpdates()) {
                    logger.debug(<span class="hljs-string">"JDBC driver supports batch updates"</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">else</span> {
                    logger.debug(<span class="hljs-string">"JDBC driver does not support batch updates"</span>);
                }
            }
        }
        <span class="hljs-keyword">catch</span> (SQLException ex) {
            logger.debug(<span class="hljs-string">"JDBC driver 'supportsBatchUpdates' method threw exception"</span>, ex);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.mysql.cj.jdbc;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseMetaData</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">java</span>.sql.DatabaseMetaData {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">supportsBatchUpdates</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h4 data-id="heading-4">Driver å±‚çš„å¤„ç†</h4>
<p>PreparedStatement çš„ addBatch å’Œ executeBatch æ–¹æ³•ç”±å‚å•†å®ç°ï¼ŒaddBatch çš„å®ç°ä¸º <code>com.mysql.cj.jdbc.ClientPreparedStatement#addBatch</code>ï¼ŒexecuteBatch çš„å®ç°ä¸º <code>com.mysql.cj.jdbc.StatementImpl#executeBatch</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.mysql.cj.jdbc;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClientPreparedStatement</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">com</span>.mysql.cj.jdbc.StatementImpl <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcPreparedStatement</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addBatch</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">Lock</span> <span class="hljs-variable">connectionLock</span> <span class="hljs-operator">=</span> checkClosed().getConnectionLock();
        connectionLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">QueryBindings</span> <span class="hljs-variable">queryBindings</span> <span class="hljs-operator">=</span> ((PreparedQuery) <span class="hljs-built_in">this</span>.query).getQueryBindings();
            queryBindings.checkAllParametersSet();
            <span class="hljs-comment">// è®¾å€¼</span>
            <span class="hljs-built_in">this</span>.query.addBatch(queryBindings.clone());
        } <span class="hljs-keyword">finally</span> {
            connectionLock.unlock();
        }
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.mysql.cj.jdbc;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StatementImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcStatement</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span>[] executeBatch() <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">// è°ƒç”¨ ClientPreparedStatement#executeBatchInternal æ–¹æ³•</span>
        <span class="hljs-keyword">return</span> Util.truncateAndConvertToInt(executeBatchInternal());
    }
}
</code></pre>
<p>ClientPreparedStatement é‡å†™äº† StatementImpl#executeBatchInternal æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.mysql.cj.jdbc;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClientPreparedStatement</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">com</span>.mysql.cj.jdbc.StatementImpl <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcPreparedStatement</span> {

    <span class="hljs-comment">/**
     * Does the batch (if any) contain "plain" statements added by Statement.addBatch(String)?
     *
     * If so, we can't re-write it to use multi-value or multi-queries.
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">batchHasPlainStatements</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">long</span>[] executeBatchInternal() <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">Lock</span> <span class="hljs-variable">connectionLock</span> <span class="hljs-operator">=</span> checkClosed().getConnectionLock();
        connectionLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ...</span>
            <span class="hljs-keyword">try</span> (<span class="hljs-type">TelemetryScope</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> span.makeCurrent()) {

                <span class="hljs-comment">// ...</span>

                <span class="hljs-comment">// å–å€¼</span>
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.query.getBatchedArgs() == <span class="hljs-literal">null</span> || <span class="hljs-built_in">this</span>.query.getBatchedArgs().size() == <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">long</span>[<span class="hljs-number">0</span>];
                }
                <span class="hljs-comment">// we timeout the entire batch, not individual statements</span>
                <span class="hljs-type">long</span> <span class="hljs-variable">batchTimeout</span> <span class="hljs-operator">=</span> getTimeoutInMillis();
                setTimeoutInMillis(<span class="hljs-number">0</span>);
                resetCancelledState();
                <span class="hljs-keyword">try</span> {
                    statementBegins();
                    clearWarnings();
                    <span class="hljs-comment">// rewriteBatchedStatementsæ˜¯JDBCè¿æ¥ä¸²ä¸­çš„rewriteBatchedStatementså‚æ•°</span>
                    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.batchHasPlainStatements &amp;&amp; <span class="hljs-built_in">this</span>.rewriteBatchedStatements.getValue()) {
                        <span class="hljs-comment">// Can this query be rewritten as a multi-values clause</span>
                        <span class="hljs-keyword">if</span> (getQueryInfo().isRewritableWithMultiValuesClause()) {
                            <span class="hljs-comment">// èµ°æ­¤åˆ†æ”¯</span>
                            <span class="hljs-keyword">return</span> executeBatchWithMultiValuesClause(batchTimeout);
                        }
                        <span class="hljs-comment">// ...</span>
                    }
                    <span class="hljs-comment">// é€šè¿‡é€æ¡æ‰§è¡Œçš„æ–¹å¼ï¼Œæ‰§è¡Œå½“å‰æ‰¹æ¬¡ä¸­çš„æ‰€æœ‰è¯­å¥</span>
                    <span class="hljs-keyword">return</span> executeBatchSerially(batchTimeout);
                } <span class="hljs-keyword">finally</span> {
                    <span class="hljs-built_in">this</span>.query.getStatementExecuting().set(<span class="hljs-literal">false</span>);
                    setTimeoutInMillis(batchTimeout);
                    clearBatch();
                }
            } <span class="hljs-keyword">catch</span> (Throwable t) {
                span.setError(t);
                <span class="hljs-keyword">throw</span> t;
            } <span class="hljs-keyword">finally</span> {
                span.end();
            }
        } <span class="hljs-keyword">finally</span> {
            connectionLock.unlock();
        }
    }
}
</code></pre>
<p>åœ¨ ClientPreparedStatement#executeBatchInternal æ–¹æ³•ä¸­ï¼Œç”± batchHasPlainStatements å’Œ rewriteBatchedStatements ä¸¤ä¸ªå˜é‡æ¥æ§åˆ¶æ˜¯å¦æ‰§è¡Œæ‰¹é‡æ“ä½œï¼ŒrewriteBatchedStatements å…¶å®å°±æ˜¯ JDBC è¿æ¥ä¸²ä¸­çš„ rewriteBatchedStatements å‚æ•°</p>
<p>batchHasPlainStatements çš„å«ä¹‰æ˜¯ï¼šæ ‡è®°å½“å‰ JDBC æ‰¹å¤„ç†ä¸­æ˜¯å¦åŒ…å«é€šè¿‡ <code>Statement.addBatch(String sql)</code> æ·»åŠ çš„æ™®é€šï¼ˆplainï¼‰SQL è¯­å¥</p>
<p>JDBC æ”¯æŒä¸¤ç§æ–¹å¼æ·»åŠ æ‰¹å¤„ç†</p>
<ol>
<li>ä½¿ç”¨ <code>PreparedStatement</code>ï¼ˆæ¨èï¼‰</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">ps</span> <span class="hljs-operator">=</span> connection.prepareStatement(<span class="hljs-string">"INSERT INTO users (name) VALUES (?)"</span>);
ps.setString(<span class="hljs-number">1</span>, <span class="hljs-string">"Alice"</span>);
ps.addBatch();
</code></pre>
<ol start="2">
<li>ä½¿ç”¨ <code>Statement</code> + åŸå§‹ SQL å­—ç¬¦ä¸²ï¼ˆä¸æ¨èç”¨äºæ‰¹é‡ï¼‰</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> connection.createStatement();
stmt.addBatch(<span class="hljs-string">"INSERT INTO users (name) VALUES ('Alice')"</span>);
stmt.addBatch(<span class="hljs-string">"INSERT INTO users (name) VALUES ('Bob')"</span>);
</code></pre>
<p>å½“é©±åŠ¨ï¼ˆå¦‚ MySQL Connector/Jï¼‰æ£€æµ‹åˆ°æ‰¹å¤„ç†ä¸­æ··å…¥äº†é€šè¿‡ <code>Statement.addBatch(String)</code> æ·»åŠ çš„åŸå§‹ SQLï¼Œå°±ä¼šå°† <code>batchHasPlainStatements = true</code>ï¼Œä¸€æ—¦è¯¥æ ‡å¿—ä¸º <code>true</code>ï¼Œé©±åŠ¨å°†æ”¾å¼ƒå¯¹æ•´ä¸ªæ‰¹å¤„ç†è¿›è¡Œä¼˜åŒ–é‡å†™ï¼ˆä¾‹å¦‚ä¸ä¼šç”Ÿæˆå¤šå€¼ INSERT æˆ–å¤šè¯­å¥æŸ¥è¯¢ï¼‰ï¼Œè€Œæ˜¯æŒ‰åŸå§‹æ–¹å¼é€æ¡æ‰§è¡Œ</p>
<p>å› æ­¤ï¼Œè¦å¯ç”¨ rewriteBatchedStatements çš„æ‰¹é‡ä¼˜åŒ–ï¼Œå¿…é¡»å…¨ç¨‹ä½¿ç”¨ PreparedStatementï¼Œé¿å…ä½¿ç”¨ <code>Statement.addBatch(String)</code></p>
<p>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡å‘¢</p>
<ol>
<li>
<p>SQL è¯­ä¹‰ä¸å¯é¢„æµ‹ï¼ˆCorrectness Firstï¼‰ï¼šé€šè¿‡ <code>Statement.addBatch(String sql)</code> æ·»åŠ çš„ SQL æ˜¯ä»»æ„å­—ç¬¦ä¸²</p>
<pre><code class="hljs language-java" lang="java">stmt.addBatch(<span class="hljs-string">"INSERT INTO users (name) VALUES ('Alice')"</span>);
stmt.addBatch(<span class="hljs-string">"UPDATE orders SET status = 'paid' WHERE id = 1"</span>);
stmt.addBatch(<span class="hljs-string">"DELETE FROM logs WHERE created &lt; '2020-01-01'"</span>);
</code></pre>
<p>è¿™äº›è¯­å¥ç±»å‹ä¸åŒï¼ˆINSERT / UPDATE / DELETEï¼‰ã€æ“ä½œä¸åŒè¡¨ã€è¯­æ³•ç»“æ„å®Œå…¨ä¸åŒï¼Œé©±åŠ¨æ— æ³•å®‰å…¨åœ°å°†å®ƒä»¬åˆå¹¶æˆä¸€æ¡ SQLï¼Œå¼ºè¡Œé‡å†™ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯æˆ–é€»è¾‘é”™è¯¯ï¼ˆæ¯”å¦‚æŠŠ DELETE å’Œ INSERT æ‹¼åœ¨ä¸€èµ·ï¼‰</p>
</li>
<li>
<p>æ— æ³•ä¿è¯åŒæ„æ€§ï¼š<code>rewriteBatchedStatements</code> çš„ä¼˜åŒ–å‰ææ˜¯æ‰€æœ‰æ‰¹å¤„ç†è¯­å¥å…·æœ‰ç›¸åŒçš„ SQL æ¨¡æ¿ï¼Œå³åŒæ„</p>
<pre><code class="hljs language-mysql" lang="mysql">-- åªæ˜¯å‚æ•°ä¸åŒ
INSERT INTO users (name, age) VALUES (?, ?)
</code></pre>
<p>åªæœ‰è¿™æ ·ï¼Œé©±åŠ¨æ‰èƒ½å®‰å…¨åœ°é‡å†™ä¸º</p>
<pre><code class="hljs language-mysql" lang="mysql">INSERT INTO users (name, age) VALUES (?, ?), (?, ?), (?, ?)
</code></pre>
<p>ä½† <code>Statement.addBatch(String)</code> ä¸­çš„ SQL å¯èƒ½æ˜¯å®Œå…¨ä¸åŒçš„è¡¨ã€ä¸åŒçš„åˆ—æ•°ã€åŒ…å«å­æŸ¥è¯¢ã€å‡½æ•°ã€æ³¨é‡Šç­‰å¤æ‚ç»“æ„ï¼Œä¸€æ—¦æ··å…¥ä¸€æ¡å¼‚æ„ SQLï¼Œæ•´ä¸ªæ‰¹å¤„ç†å°±ä¸å†åŒæ„ï¼Œä¼˜åŒ–å¿…é¡»æ”¾å¼ƒ</p>
</li>
<li>
<p>é¿å…éƒ¨åˆ†ä¼˜åŒ–å¸¦æ¥çš„ä¸ä¸€è‡´æ€§ï¼šå‡è®¾é©±åŠ¨å°è¯•åªä¼˜åŒ–çœ‹èµ·æ¥åƒçš„éƒ¨åˆ†</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰¹å¤„ç†å†…å®¹</span>
addBatch(<span class="hljs-string">"INSERT INTO t VALUES (1)"</span>);
addBatch(<span class="hljs-string">"INSERT INTO t VALUES (?)"</span>); <span class="hljs-comment">// â† PreparedStatement æ·»åŠ çš„</span>
addBatch(<span class="hljs-string">"INSERT INTO t VALUES (2)"</span>);
</code></pre>
<p>å¦‚æœé©±åŠ¨åªæŠŠç¬¬1å’Œç¬¬3æ¡åˆå¹¶ï¼Œè€Œç¬¬2æ¡å•ç‹¬å¤„ç†ï¼Œä¼šå¯¼è‡´</p>
<ul>
<li>æ‰§è¡Œé¡ºåºé”™ä¹±ï¼ˆJDBC è¦æ±‚æŒ‰ addBatch é¡ºåºæ‰§è¡Œï¼‰</li>
<li>äº‹åŠ¡è¯­ä¹‰ç ´åï¼ˆä¸­é—´å¤±è´¥æ—¶å›æ»šè¡Œä¸ºä¸ä¸€è‡´ï¼‰</li>
<li>è¿”å›ç»“æœæ•°ç»„ï¼ˆupdate countsï¼‰é¡ºåºé”™ä½</li>
</ul>
<p>JDBC è§„èŒƒè¦æ±‚ <code>executeBatch()</code> è¿”å›çš„ <code>int[]</code> å¿…é¡»ä¸ <code>addBatch()</code> çš„è°ƒç”¨é¡ºåºä¸€ä¸€å¯¹åº”ã€‚å› æ­¤ï¼Œè¦ä¹ˆå…¨éƒ¨ä¼˜åŒ–ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸ä¼˜åŒ–ï¼Œåªè¦æœ‰ä¸€æ¡ plain statement å°±åªèƒ½èµ°ä¿å®ˆè·¯å¾„</p>
</li>
<li>
<p>å®ç°å¤æ‚åº¦ä¸æ”¶ç›Šä¸æˆæ­£æ¯”ï¼šä¸ºäº†æ”¯æŒæ··åˆæ‰¹å¤„ç†çš„æ™ºèƒ½é‡å†™ï¼Œé©±åŠ¨éœ€è¦</p>
<ul>
<li>è§£ææ¯æ¡ SQL å­—ç¬¦ä¸²ï¼ˆå¼€é”€å¤§ï¼‰</li>
<li>åˆ¤æ–­æ˜¯å¦å¯åˆå¹¶ï¼ˆè¯­æ³•åˆ†æã€AST æ„å»ºï¼‰</li>
<li>åˆ†ç»„é‡å†™å¹¶ä¿æŒé¡ºåºï¼ˆé€»è¾‘å¤æ‚ï¼‰</li>
</ul>
<p>è€Œç°å®ä¸­ï¼š</p>
<ul>
<li>æ­£ç¡®ä½¿ç”¨æ‰¹é‡æ“ä½œçš„å¼€å‘è€…å‡ ä¹ä¸ä¼šæ··ç”¨ <code>Statement.addBatch(String)</code></li>
<li>çœŸæ­£éœ€è¦é«˜æ€§èƒ½æ‰¹é‡çš„åœºæ™¯ï¼ˆå¦‚æ•°æ®å¯¼å…¥ï¼‰éƒ½ä¼šç”¨ <code>PreparedStatement</code></li>
</ul>
<p>æ‰€ä»¥ï¼Œç›´æ¥ç¦ç”¨ä¼˜åŒ–æ˜¯æœ€ç®€å•ã€æœ€å®‰å…¨ã€æœ€é«˜æ•ˆçš„è®¾è®¡</p>
</li>
</ol>
<p>è¿™ç§è®¾è®¡çœ‹ä¼¼ä¸€åˆ€åˆ‡ï¼Œå®åˆ™æ˜¯åœ¨å¤æ‚æ€§ã€å®‰å…¨æ€§ä¸æ€§èƒ½ä¹‹é—´åšå‡ºçš„æˆç†Ÿå·¥ç¨‹å–èˆ</p>
<h3 data-id="heading-5">Hibernate æ‰¹å¤„ç†</h3>
<p>ç›´æ¥ä½¿ç”¨ testHibernateBatchUpdatePerformance æ–¹æ³•è¿›è¡Œè°ƒè¯•ã€‚å®é™…ä¸Šï¼Œæœ€ç»ˆåº•å±‚ä»ä¼šè°ƒç”¨ MySQL é©±åŠ¨ä¸­ <code>ClientPreparedStatement</code> çš„ <code>addBatch()</code> å’Œ <code>executeBatchInternal()</code> æ–¹æ³•ã€‚å› æ­¤ï¼Œæœ¬èŠ‚é‡ç‚¹ä¸åœ¨äº JDBC é©±åŠ¨çš„æ‰§è¡Œç»†èŠ‚ï¼Œè€Œåœ¨äºè¯´æ˜ Hibernate å„ç›¸å…³é…ç½®å‚æ•°ï¼ˆå¦‚ <code>order_inserts</code>ã€<code>jdbc.batch_size</code> ç­‰ï¼‰åœ¨æ‰¹å¤„ç†æµç¨‹ä¸­å®é™…ç”Ÿæ•ˆçš„ä½ç½®å’Œä½œç”¨æœºåˆ¶</p>
<h4 data-id="heading-6">ActionQueue</h4>
<p><code>ActionQueue</code> ç”¨äºå­˜æ”¾ä½œä¸ºä¼šè¯äº‹åŠ¡æ€§å†™å»¶è¿Ÿï¼ˆtransactional write-behindï¼‰è¯­ä¹‰ä¸€éƒ¨åˆ†è€Œæ’é˜Ÿçš„ DML æ“ä½œï¼Œè¿™äº› DML æ“ä½œä¼šåœ¨æ­¤é˜Ÿåˆ—ä¸­æš‚å­˜ï¼Œç›´åˆ°æ‰§è¡Œ flush æ“ä½œæ—¶æ‰çœŸæ­£æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Responsible for maintaining the queue of actions related to events.
 * &lt;p&gt;
 * The {<span class="hljs-doctag">@code</span> ActionQueue} holds the DML operations queued as part of a session's transactional-write-behind semantics.
 * The DML operations are queued here until a flush forces them to be executed against the database.
 *
 * <span class="hljs-doctag">@author</span> Steve Ebersole
 * <span class="hljs-doctag">@author</span> Gail Badner
 * <span class="hljs-doctag">@author</span> Anton Marsden
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {
    <span class="hljs-comment">// Object insertions, updates, and deletions have list semantics because</span>
    <span class="hljs-comment">// they must happen in the right order to respect referential integrity</span>
    <span class="hljs-keyword">private</span> ExecutableList&lt;AbstractEntityInsertAction&gt; insertions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityDeleteAction&gt; deletions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityUpdateAction&gt; updates;
}
</code></pre>
<p>åœ¨è°ƒç”¨ <code>EntityManager#persist()</code>ï¼ˆæ’å…¥åœºæ™¯ï¼‰æˆ– <code>EntityManager#flush()</code>ï¼ˆè§¦å‘è„æ£€æŸ¥å’Œæ›´æ–°ï¼‰ç­‰æ–¹æ³•æ—¶ï¼ŒHibernate ä¼šé€šè¿‡äº‹ä»¶ç›‘å¬æœºåˆ¶å°†ç›¸åº”çš„æ•°æ®åº“æ“ä½œå°è£…ä¸ºåŠ¨ä½œï¼ˆActionï¼‰å¹¶åŠ å…¥åˆ° <code>ActionQueue</code> ä¸­</p>
<ul>
<li>æ’å…¥æ“ä½œç”± <code>DefaultPersistEventListener</code> å¤„ç†ï¼Œç”Ÿæˆ <code>EntityInsertAction</code> å¹¶åŠ å…¥é˜Ÿåˆ—</li>
<li>æ›´æ–°æ“ä½œç”± <code>DefaultFlushEntityEventListener</code> åœ¨ flush é˜¶æ®µæ£€æµ‹åˆ°è„æ•°æ®åï¼Œç”Ÿæˆ <code>EntityUpdateAction</code> å¹¶åŠ å…¥é˜Ÿåˆ—</li>
<li>æ’å…¥æ“ä½œç”± <code>DefaultDeleteEventListener</code> å¤„ç†ï¼Œç”Ÿæˆ <code>EntityDeleteAction</code> å¹¶åŠ å…¥é˜Ÿåˆ—</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> ExecutableList&lt;AbstractEntityInsertAction&gt; insertions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityDeleteAction&gt; deletions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityUpdateAction&gt; updates;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAction</span><span class="hljs-params">(EntityInsertAction action)</span> {
        LOG.tracev( <span class="hljs-string">"Adding an EntityInsertAction for [{0}] object"</span>, action.getEntityName() );
        addInsertAction( action );
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInsertAction</span><span class="hljs-params">(AbstractEntityInsertAction insert)</span> {

        <span class="hljs-comment">// ...</span>

        <span class="hljs-keyword">final</span> <span class="hljs-type">NonNullableTransientDependencies</span> <span class="hljs-variable">nonNullableTransientDependencies</span> <span class="hljs-operator">=</span> insert.findNonNullableTransientEntities();
        <span class="hljs-keyword">if</span> ( nonNullableTransientDependencies == <span class="hljs-literal">null</span> ) {
            LOG.tracev( <span class="hljs-string">"Adding insert with no non-nullable, transient entities: [{0}]"</span>, insert );
            addResolvedEntityInsertAction( insert );
        }

        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addResolvedEntityInsertAction</span><span class="hljs-params">(AbstractEntityInsertAction insert)</span> {
        <span class="hljs-keyword">if</span> ( insert.isEarlyInsert() ) {
            LOG.trace( <span class="hljs-string">"Executing insertions before resolved early-insert"</span> );
            executeInserts();
            LOG.debug( <span class="hljs-string">"Executing identity-insert immediately"</span> );
            execute( insert );
        }
        <span class="hljs-keyword">else</span> {
            LOG.trace( <span class="hljs-string">"Adding resolved non-early insert action."</span> );
            <span class="hljs-comment">// åˆå§‹åŒ–</span>
            OrderedActions.EntityInsertAction.ensureInitialized( <span class="hljs-built_in">this</span> );
            insertions.add( insert );
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAction</span><span class="hljs-params">(EntityDeleteAction action)</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–</span>
        OrderedActions.EntityDeleteAction.ensureInitialized( <span class="hljs-built_in">this</span> );
        deletions.add( action );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAction</span><span class="hljs-params">(<span class="hljs-keyword">final</span> EntityUpdateAction action)</span> {
        <span class="hljs-comment">// åˆå§‹åŒ–</span>
        OrderedActions.EntityUpdateAction.ensureInitialized( <span class="hljs-built_in">this</span> );
        updates.add( action );
    }
}
</code></pre>
<p>åœ¨è°ƒç”¨ <code>OrderedActions.EntityXXXAction.ensureInitialized()</code> æ—¶ï¼Œä¼šåˆå§‹åŒ– <code>insertions</code>ã€<code>deletions</code> å’Œ <code>updates</code> ç­‰æ“ä½œé˜Ÿåˆ—ï¼Œå¹¶æ ¹æ®é…ç½®ï¼ˆå¦‚ <code>order_inserts</code>ã€<code>order_updates</code>ï¼‰è®¾ç½®ç›¸åº”çš„æ’åºè§„åˆ™</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> ExecutableList&lt;AbstractEntityInsertAction&gt; insertions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityDeleteAction&gt; deletions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityUpdateAction&gt; updates;

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isOrderUpdatesEnabled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> session.getFactory().getSessionFactoryOptions().isOrderUpdatesEnabled();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isOrderInsertsEnabled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> session.getFactory().getSessionFactoryOptions().isOrderInsertsEnabled();
    }

    <span class="hljs-comment">// The order of these operations is very important</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderedActions</span> {
        EntityInsertAction {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> ExecutableList&lt;?&gt; getActions(ActionQueue instance) {
                <span class="hljs-keyword">return</span> instance.insertions;
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureInitialized</span><span class="hljs-params">(<span class="hljs-keyword">final</span> ActionQueue instance)</span> {
                <span class="hljs-keyword">if</span> ( instance.insertions == <span class="hljs-literal">null</span> ) {
                    <span class="hljs-comment">// order_inserts å‚æ•°åœ¨æ­¤å¤„ä½¿ç”¨</span>
                    instance.insertions = instance.isOrderInsertsEnabled()
                        ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( InsertActionSorter.INSTANCE )
                        : <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( <span class="hljs-literal">false</span> );
                }
            }
        },
        EntityUpdateAction {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> ExecutableList&lt;?&gt; getActions(ActionQueue instance) {
                <span class="hljs-keyword">return</span> instance.updates;
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureInitialized</span><span class="hljs-params">(ActionQueue instance)</span> {
                <span class="hljs-keyword">if</span> ( instance.updates == <span class="hljs-literal">null</span> ) {
                    <span class="hljs-comment">// order_updates å‚æ•°åœ¨æ­¤å¤„ä½¿ç”¨</span>
                    instance.updates = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( instance.isOrderUpdatesEnabled() );
                }
            }
        },
        EntityDeleteAction {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> ExecutableList&lt;?&gt; getActions(ActionQueue instance) {
                <span class="hljs-keyword">return</span> instance.deletions;
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureInitialized</span><span class="hljs-params">(ActionQueue instance)</span> {
                <span class="hljs-keyword">if</span> ( instance.deletions == <span class="hljs-literal">null</span> ) {
                    instance.deletions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( <span class="hljs-literal">false</span> );
                }
            }
        };
    }
}
</code></pre>
<p>åœ¨ <code>ActionQueue</code> ä¸­ï¼Œ<code>insertions</code>ã€<code>deletions</code> å’Œ <code>updates</code> ä¸‰ä¸ªé˜Ÿåˆ—ä¸­å­˜å‚¨çš„å‡ä¸º <code>EntityAction</code> çš„å­ç±»ã€‚<code>EntityAction</code> å®ç°äº† <code>Comparable</code> æ¥å£ï¼Œç”¨äºæ”¯æŒåç»­çš„æ’åºæ“ä½œï¼Œå…¶æ’åºä¾æ®æ˜¯ï¼šå…ˆæŒ‰å®ä½“åç§°æ’åºï¼ŒåŒåå®ä½“å†æŒ‰å¯¹è±¡ ID æ’åº</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c83c2f7697464c78926d29e9d06cb5c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGVmaW5lOTUyNw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025546&amp;x-signature=LygWeXWq9AZsOCAufffOiBNYsfI%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Base class for actions relating to insert/update/delete of an entity
 * instance.
 *
 * <span class="hljs-doctag">@author</span> Gavin King
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntityAction</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ComparableExecutable</span>, AfterTransactionCompletionProcess {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(ComparableExecutable o)</span> {
        <span class="hljs-comment">// sort first by entity name</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">roleComparison</span> <span class="hljs-operator">=</span> entityName.compareTo( o.getPrimarySortClassifier() );
        <span class="hljs-keyword">return</span> roleComparison != <span class="hljs-number">0</span>
            ? roleComparison
            <span class="hljs-comment">// then by id</span>
            : persister.getIdentifierType().compare( id, o.getSecondarySortIndex(), session.getSessionFactory() );
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPrimarySortClassifier</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> entityName;
    }
}
</code></pre>
<p>åœ¨ <code>EntityManager#flush</code> çš„æ‰§è¡Œæµç¨‹ä¸­ï¼Œ<code>ActionQueue#sortActions()</code> ä¼šè¢«è°ƒç”¨ï¼Œå¯¹ <code>insertions</code> å’Œ <code>updates</code> é˜Ÿåˆ—åˆ†åˆ«è¿›è¡Œæ’åºï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæºç ä¸­å¹¶æœªå¯¹ <code>deletions</code> é˜Ÿåˆ—æ‰§è¡Œæ’åºæ“ä½œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> ExecutableList&lt;AbstractEntityInsertAction&gt; insertions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityDeleteAction&gt; deletions;
    <span class="hljs-keyword">private</span> ExecutableList&lt;EntityUpdateAction&gt; updates;

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isOrderUpdatesEnabled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> session.getFactory().getSessionFactoryOptions().isOrderUpdatesEnabled();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isOrderInsertsEnabled</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> session.getFactory().getSessionFactoryOptions().isOrderInsertsEnabled();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sortActions</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> ( isOrderUpdatesEnabled() &amp;&amp; updates != <span class="hljs-literal">null</span> ) {
            <span class="hljs-comment">// sort the updates by pk</span>
            updates.sort();
        }
        <span class="hljs-keyword">if</span> ( isOrderInsertsEnabled() &amp;&amp; insertions != <span class="hljs-literal">null</span> ) {
            insertions.sort();
        }
    }
}
</code></pre>
<p>æ“ä½œé˜Ÿåˆ—ç”± <code>ExecutableList</code> å®ç°ï¼Œè¯¥ç±»è´Ÿè´£å¯¹å…¶ä¸­çš„å¯æ‰§è¡Œæ“ä½œè¿›è¡Œæ’åº</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * A list of {<span class="hljs-doctag">@link</span> Executable executeble actions}. Responsible for
 * {<span class="hljs-doctag">@linkplain</span> #sort() sorting} the executables, and calculating the
 * affected {<span class="hljs-doctag">@linkplain</span> #getQuerySpaces() query spaces}.
 *
 * <span class="hljs-doctag">@author</span> Steve Ebersole
 * <span class="hljs-doctag">@author</span> Anton Marsden
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExecutableList</span>&lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ComparableExecutable</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span>, Iterable&lt;E&gt;, Externalizable {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">INIT_QUEUE_LIST_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-meta">@Nullable</span> Sorter&lt;E&gt; sorter;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ExecutableList</span><span class="hljs-params">(<span class="hljs-type">boolean</span> requiresSorting)</span> {
        <span class="hljs-built_in">this</span>( INIT_QUEUE_LIST_SIZE, requiresSorting );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ExecutableList</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity, <span class="hljs-type">boolean</span> requiresSorting)</span> {
        <span class="hljs-built_in">this</span>.sorter = <span class="hljs-literal">null</span>;
        <span class="hljs-built_in">this</span>.executables = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;( initialCapacity );
        <span class="hljs-built_in">this</span>.querySpaces = <span class="hljs-literal">null</span>;
        <span class="hljs-built_in">this</span>.requiresSorting = requiresSorting;
        <span class="hljs-built_in">this</span>.sorted = requiresSorting;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ExecutableList</span><span class="hljs-params">(Sorter&lt;E&gt; sorter)</span> {
        <span class="hljs-built_in">this</span>( INIT_QUEUE_LIST_SIZE, sorter );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ExecutableList</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity, Sorter&lt;E&gt; sorter)</span> {
        <span class="hljs-built_in">this</span>.sorter = sorter;
        <span class="hljs-built_in">this</span>.executables = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;( initialCapacity );
        <span class="hljs-built_in">this</span>.querySpaces = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">// require sorting by default, even if sorter is null to maintain original behavior</span>
        <span class="hljs-built_in">this</span>.requiresSorting = <span class="hljs-literal">true</span>;
        <span class="hljs-built_in">this</span>.sorted = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> ( sorted || !requiresSorting ) {
            <span class="hljs-comment">// nothing to do</span>
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// sorter ä¸ä¸º null åˆ™ä½¿ç”¨ sorter æ’åº</span>
        <span class="hljs-keyword">if</span> ( sorter != <span class="hljs-literal">null</span> ) {
            sorter.sort( executables );
        }
        <span class="hljs-comment">// å½“ sorter ä¸º null æ—¶ï¼Œå°†ä½¿ç”¨ Collections.sort(executables) å¯¹æ“ä½œåˆ—è¡¨è¿›è¡Œæ’åºï¼Œæ­¤æ—¶ä¾èµ– executables ä¸­å…ƒç´ ï¼ˆEntityActionï¼‰è‡ªèº«å®ç°çš„ Comparable æ¥å£</span>
        <span class="hljs-keyword">else</span> {
            Collections.sort( executables );
        }
        sorted = <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>ä» OrderedActions æºç å¯çŸ¥ï¼Œåªæœ‰ EntityInsertAction åœ¨ order_inserts ä¸º true æ—¶ä¼šä¼ å…¥ Sorter å¯¹è±¡</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> ExecutableList&lt;AbstractEntityInsertAction&gt; insertions;

    <span class="hljs-comment">// The order of these operations is very important</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OrderedActions</span> {
        EntityInsertAction {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> ExecutableList&lt;?&gt; getActions(ActionQueue instance) {
                <span class="hljs-keyword">return</span> instance.insertions;
            }
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureInitialized</span><span class="hljs-params">(<span class="hljs-keyword">final</span> ActionQueue instance)</span> {
                <span class="hljs-keyword">if</span> ( instance.insertions == <span class="hljs-literal">null</span> ) {
                    <span class="hljs-comment">//Special case of initialization</span>
                    instance.insertions = instance.isOrderInsertsEnabled()
                        ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( InsertActionSorter.INSTANCE )
                        : <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableList</span>&lt;&gt;( <span class="hljs-literal">false</span> );
                }
            }
        }
    }
}
</code></pre>
<p>ç¿»è¯‘äº† InsertActionSorter çš„æºç æ³¨é‡Šï¼Œå†…å®¹å¦‚ä¸‹</p>
<ul>
<li>å¯¹æ’å…¥é˜Ÿåˆ—è¿›è¡Œæ’åºï¼Œä½¿å¾—é’ˆå¯¹åŒä¸€å®ä½“çš„æ’å…¥æ“ä½œè¢«åˆ†ç»„åœ¨ä¸€èµ·ï¼ˆåŒæ—¶ä¸è¿åæ•°æ®åº“çº¦æŸï¼‰åŸå§‹çš„æ’å…¥é¡ºåºç”±çº§è”é¡ºåºå†³å®šï¼Œè€Œçº§è”é¡ºåºæœ¬èº«åˆåŸºäºå¤–é”®çš„æ–¹å‘æ€§ã€‚å› æ­¤ï¼Œå°½ç®¡æ­¤å¤„ä¼šå¯¹é¡ºåºè¿›è¡Œè°ƒæ•´ï¼Œä½†æˆ‘ä»¬å¿…é¡»ç¡®ä¿ç»ä¸ç ´åè¿™ç§å¤–é”®é¡ºåºï¼Œä»¥å…å¼•å‘çº¦æŸè¿å</li>
<li>è¯¥ç®—æ³•é¦–å…ˆä¸ºæ¯ä¸ªæ’å…¥æ“ä½œæ‰¾å‡ºå…¶ä¼ é€’æ€§çš„å…¥å‘ä¾èµ–ï¼ˆå³å“ªäº›å…¶ä»–å®ä½“å¿…é¡»å…ˆè¢«æ’å…¥ï¼‰ï¼Œç„¶åå°†æ‰€æœ‰æ’å…¥æ“ä½œæŒ‰å®ä½“åç§°åˆ†ç»„ã€‚æœ€åï¼Œåªè¦æŸä¸ªåˆ†ç»„çš„æ‰€æœ‰ä¾èµ–éƒ½å·²æ»¡è¶³ï¼Œå°±ä¾æ¬¡è°ƒåº¦è¿™äº›åˆ†ç»„</li>
<li>è¯¥å®ç°ä»…èƒ½ä¸ºé‚£äº›å¯ä»¥è¢«å®Œç¾ä¸²è¡Œè°ƒåº¦çš„æ’å…¥åˆ†ç»„ç”Ÿæˆæœ€ä¼˜æ’å…¥é¡ºåºã€‚ä¸²è¡Œè°ƒåº¦æŒ‡çš„æ˜¯å­˜åœ¨ä¸€ç§é¡ºåºï¼Œèƒ½å¤Ÿå®Œå…¨æ»¡è¶³å¤–é”®çº¦æŸä¾èµ–å…³ç³»ã€‚å¯¹äºæ— æ³•è¢«è°ƒåº¦çš„æ’å…¥åˆ†ç»„ï¼ˆä¾‹å¦‚å­˜åœ¨å¾ªç¯ä¾èµ–ï¼‰åˆ™ä¼šå›é€€åˆ°ä½¿ç”¨åŸå§‹çš„æ’å…¥é¡ºåº</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼ŒInsertActionSorter#sort æ–¹æ³•å®ç°äº†åŸºäºå®ä½“ä¾èµ–å…³ç³»å’Œå®ä½“ç±»å‹çš„æ‹“æ‰‘æ’åºï¼Œç¡®ä¿åœ¨æ‰¹é‡æ’å…¥æ—¶</p>
<ol>
<li>å…ˆæ’å…¥è¢«ä¾èµ–çš„å®ä½“ï¼ˆå¦‚çˆ¶è¡¨ï¼‰ï¼Œå†æ’å…¥ä¾èµ–å®ƒçš„å®ä½“ï¼ˆå¦‚å­è¡¨ï¼‰</li>
<li>ç›¸åŒç±»å‹çš„å®ä½“è¿ç»­æ’åˆ—ï¼Œä»¥æ”¯æŒ JDBC æ‰¹å¤„ç†ä¼˜åŒ–</li>
</ol>
<p>å®Œæ•´çš„ä»£ç å°±ä¸è´´å‡ºæ¥äº†ï¼Œè¯¦æƒ…å¯å‚è§æºç ï¼Œä»¥ä¸‹å†…å®¹ä¸º AI æ€»ç»“</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InsertActionSorter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ExecutableList</span>.Sorter&lt;AbstractEntityInsertAction&gt; {
        <span class="hljs-comment">// 1. ä¸ºæ¯ä¸ª InsertAction æ„å»ºå…ƒæ•°æ®ï¼ˆInsertInfoï¼‰ï¼Œè®°å½•å…¶ä½ç½®å’Œå®ä½“å®ä¾‹</span>
        <span class="hljs-keyword">final</span> InsertInfo[] insertInfos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InsertInfo</span>[insertInfoCount];
        <span class="hljs-comment">// A map of all insert infos keyed by the entity instance</span>
        <span class="hljs-comment">// This is needed to discover insert infos for direct dependencies</span>
        <span class="hljs-keyword">final</span> IdentityHashMap&lt;Object, InsertInfo&gt; insertInfosByEntity = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IdentityHashMap</span>&lt;&gt;(...);
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; insertInfoCount; i++) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">AbstractEntityInsertAction</span> <span class="hljs-variable">insertAction</span> <span class="hljs-operator">=</span> insertions.get(i);
            <span class="hljs-comment">// â† å°è£…åŠ¨ä½œ + åŸå§‹ç´¢å¼•</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">InsertInfo</span> <span class="hljs-variable">insertInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InsertInfo</span>(insertAction, i);
            insertInfosByEntity.put(insertAction.getInstance(), insertInfo);
            insertInfos[i] = insertInfo;
        }
        <span class="hljs-comment">// 2. åˆ†ææ¯ä¸ªæ’å…¥åŠ¨ä½œç›´æ¥ä¾èµ–çš„å…¶ä»–å®ä½“ï¼ˆä¾‹å¦‚ @JoinColumn å¼•ç”¨çš„æœªä¿å­˜å®ä½“ï¼‰</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; insertInfoCount; i++) {
            <span class="hljs-comment">// â† å»ºç«‹ç›´æ¥ä¾èµ–å…³ç³»</span>
            insertInfos[i].buildDirectDependencies(insertInfosByEntity);
        }
        <span class="hljs-comment">// 3. é€’å½’ä¼ æ’­å­ä¾èµ–ï¼ˆå¦‚ A â†’ B â†’ Cï¼Œåˆ™ A ä¹Ÿä¾èµ– Cï¼‰</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; insertInfoCount; i++) {
            <span class="hljs-comment">// â† æ„å»ºå®Œæ•´ä¾èµ–é“¾</span>
            insertInfos[i].propagateChildDependencies();
        }
        <span class="hljs-comment">// 4. æ„å»ºä¼ é€’æ€§ä¾èµ–ï¼Œå¹¶æŒ‰ entityName åˆ†ç»„ï¼ˆå…³é”®ï¼ç”¨äºåç»­è¿ç»­æ’åˆ—ï¼‰</span>
        <span class="hljs-keyword">final</span> Map&lt;String, EntityInsertGroup&gt; insertInfosByEntityName = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; insertInfoCount; i++) {
            <span class="hljs-comment">// â† å®Œæˆä¾èµ–é—­åŒ…</span>
            insertInfo.buildTransitiveDependencies(visited);
            <span class="hljs-type">String</span> <span class="hljs-variable">entityName</span> <span class="hljs-operator">=</span> insertInfo.insertAction.getPersister().getEntityName();
            <span class="hljs-comment">// â† æŒ‰ entityName åˆ†ç»„ï¼Œä¿è¯åŒç±»å‹è¿ç»­</span>
            <span class="hljs-type">EntityInsertGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> insertInfosByEntityName.computeIfAbsent(entityName, EntityInsertGroup::<span class="hljs-keyword">new</span>);
            group.add(insertInfo);
        }
        <span class="hljs-comment">// 5. æ‹“æ‰‘æ’åºï¼šå¾ªç¯è°ƒåº¦æ‰€æœ‰ä¾èµ–å·²æ»¡è¶³çš„å®ä½“ç»„</span>
        <span class="hljs-keyword">final</span> Set&lt;String&gt; scheduledEntityNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        <span class="hljs-type">int</span> <span class="hljs-variable">schedulePosition</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">do</span> {
            <span class="hljs-comment">// éå†æ‰€æœ‰å®ä½“ç»„ï¼Œè‹¥å…¶ä¾èµ–çš„å®ä½“ç±»å‹éƒ½å·²è°ƒåº¦ï¼Œåˆ™å°†å…¶åŠ å…¥ç»“æœ</span>
            <span class="hljs-keyword">for</span> (EntityInsertGroup group : ...) {
                <span class="hljs-keyword">if</span> (scheduledEntityNames.containsAll(group.dependentEntityNames)) {
                    <span class="hljs-comment">// â† æŒ‰ç»„å†™å…¥ç»“æœ</span>
                    schedulePosition = schedule(insertInfos, group.insertInfos, schedulePosition);
                    scheduledEntityNames.add(group.entityName);
                }
            }
        } <span class="hljs-keyword">while</span> (æœ‰æ–°å®ä½“è¢«è°ƒåº¦);
        <span class="hljs-comment">// 6. è‹¥ä»æœ‰æœªè°ƒåº¦çš„å®ä½“ï¼Œè¯´æ˜å­˜åœ¨å¾ªç¯ä¾èµ–ï¼ˆè­¦å‘Šï¼‰</span>
        <span class="hljs-keyword">if</span> (!insertInfosByEntityName.isEmpty()) {
            <span class="hljs-comment">// â† æ£€æµ‹å¾ªç¯ä¾èµ–</span>
            LOG.warn(<span class="hljs-string">"... circular entity relationship ..."</span>);
        }
        <span class="hljs-comment">// 7. ç”¨æ’åºåçš„æ–°é¡ºåºè¦†ç›–åŸ insertions åˆ—è¡¨</span>
        insertions.clear();
        <span class="hljs-keyword">for</span> (InsertInfo info : insertInfos) {
            <span class="hljs-comment">// â† æœ€ç»ˆæ’åºç»“æœç”Ÿæ•ˆ</span>
            insertions.add(info.insertAction);
        }
    }
}
</code></pre>
<p>ä»¥ä¸Šä¾¿æ˜¯ <code>order_inserts</code> å’Œ <code>order_updates</code> çš„ç”Ÿæ•ˆæœºåˆ¶ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒHibernate ä¼šå°†å„ç±»æ•°æ®åº“æ“ä½œï¼ˆå¦‚æ’å…¥ã€æ›´æ–°ï¼‰æ”¶é›†åˆ° <code>ActionQueue</code> ä¸­ã€‚å½“ <code>order_inserts</code> æˆ– <code>order_updates</code> é…ç½®ä¸º <code>true</code> æ—¶ï¼Œä¼šåœ¨ flush é˜¶æ®µå¯¹ç›¸åº”çš„æ“ä½œé˜Ÿåˆ—è¿›è¡Œæ’åº</p>
<h4 data-id="heading-7">æ‰§è¡Œæ“ä½œ</h4>
<p>æ­¤æ—¶ï¼Œå„ç±»æ“ä½œå·²æ”¶é›†åˆ° <code>ActionQueue</code> ä¸­å¹¶å®Œæˆæ’åºã€‚æ¥ä¸‹æ¥çš„æ‰§è¡Œé˜¶æ®µä»å‘ç”Ÿåœ¨ flush é˜¶æ®µï¼Œç”± <code>DefaultFlushEventListener#onFlush</code> æ–¹æ³•è§¦å‘ï¼Œä¾æ¬¡å–å‡ºé˜Ÿåˆ—ä¸­çš„æ“ä½œå¹¶æäº¤ç»™æ•°æ®åº“æ‰§è¡Œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Defines the default flush event listeners used by hibernate for 
 * flushing session state in response to generated flush events.
 *
 * <span class="hljs-doctag">@author</span> Steve Ebersole
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultFlushEventListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractFlushingEventListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FlushEventListener</span> {

    <span class="hljs-comment">/** Handle the given flush event.
	 *
	 * <span class="hljs-doctag">@param</span> event The flush event to be handled.
	 */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFlush</span><span class="hljs-params">(FlushEvent event)</span> <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-keyword">final</span> <span class="hljs-type">EventSource</span> <span class="hljs-variable">source</span> <span class="hljs-operator">=</span> event.getSession();
        <span class="hljs-keyword">final</span> <span class="hljs-type">PersistenceContext</span> <span class="hljs-variable">persistenceContext</span> <span class="hljs-operator">=</span> source.getPersistenceContextInternal();
        <span class="hljs-keyword">final</span> <span class="hljs-type">EventManager</span> <span class="hljs-variable">eventManager</span> <span class="hljs-operator">=</span> source.getEventManager();
        <span class="hljs-keyword">if</span> ( persistenceContext.getNumberOfManagedEntities() &gt; <span class="hljs-number">0</span>
            || persistenceContext.getCollectionEntriesSize() &gt; <span class="hljs-number">0</span> ) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">HibernateMonitoringEvent</span> <span class="hljs-variable">flushEvent</span> <span class="hljs-operator">=</span> eventManager.beginFlushEvent();
            <span class="hljs-keyword">try</span> {
                source.getEventListenerManager().flushStart();
                <span class="hljs-comment">// è°ƒç”¨ ActionQueue#sortActions è¿›è¡Œæ’åº</span>
                flushEverythingToExecutions( event );
                <span class="hljs-comment">// è°ƒç”¨ AbstractFlushingEventListener#performExecutions æ–¹æ³•</span>
                performExecutions( source );
                postFlush( source );
            }
            <span class="hljs-keyword">finally</span> {
                eventManager.completeFlushEvent( flushEvent, event );
                source.getEventListenerManager().flushEnd(
                    event.getNumberOfEntitiesProcessed(),
                    event.getNumberOfCollectionsProcessed()
                );
            }
            postPostFlush( source );
            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractFlushingEventListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JpaBootstrapSensitive</span> {

    <span class="hljs-comment">/**
	 * Execute all SQL (and second-level cache updates) in a special order so that foreign-key constraints cannot
	 * be violated: &lt;ol&gt;
	 * &lt;li&gt; Inserts, in the order they were performed
	 * &lt;li&gt; Updates
	 * &lt;li&gt; Deletion of collection elements
	 * &lt;li&gt; Insertion of collection elements
	 * &lt;li&gt; Deletes, in the order they were performed
	 * &lt;/ol&gt;
	 *
	 * <span class="hljs-doctag">@param</span> session The session being flushed
	 */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performExecutions</span><span class="hljs-params">(EventSource session)</span> {
        LOG.trace( <span class="hljs-string">"Executing flush"</span> );
        <span class="hljs-keyword">final</span> <span class="hljs-type">PersistenceContext</span> <span class="hljs-variable">persistenceContext</span> <span class="hljs-operator">=</span> session.getPersistenceContextInternal();
        <span class="hljs-keyword">final</span> <span class="hljs-type">JdbcCoordinator</span> <span class="hljs-variable">jdbcCoordinator</span> <span class="hljs-operator">=</span> session.getJdbcCoordinator();
        <span class="hljs-keyword">try</span> {
            jdbcCoordinator.flushBeginning();
            persistenceContext.setFlushing( <span class="hljs-literal">true</span> );
            <span class="hljs-comment">// we need to lock the collection caches before executing entity inserts/updates</span>
            <span class="hljs-comment">// in order to account for bidirectional associations</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">ActionQueue</span> <span class="hljs-variable">actionQueue</span> <span class="hljs-operator">=</span> session.getActionQueue();
            actionQueue.prepareActions();
            actionQueue.executeActions();
        }
        <span class="hljs-keyword">finally</span> {
            persistenceContext.setFlushing( <span class="hljs-literal">false</span> );
            jdbcCoordinator.flushEnding();
        }
    }
}
</code></pre>
<p>æµç¨‹å†æ¬¡å›åˆ° <code>ActionQueue</code>ï¼Œå…¶ <code>executeActions</code> æ–¹æ³•è´Ÿè´£ä¾æ¬¡å–å‡ºå·²æ’åºçš„æ“ä½œé˜Ÿåˆ—ä¸­çš„å„é¡¹æ“ä½œï¼Œå¹¶é€ä¸ªæ‰§è¡Œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-comment">// å·²æ’åºçš„å„é¡¹æ“ä½œ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> OrderedActions[] ORDERED_OPERATIONS = OrderedActions.values();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeActions</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-comment">// ...</span>
        <span class="hljs-keyword">for</span> ( OrderedActions action : ORDERED_OPERATIONS ) {
            executeActions( action.getActions( <span class="hljs-built_in">this</span> ) );
        }
    }

    <span class="hljs-keyword">private</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ComparableExecutable</span>&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeActions</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ExecutableList&lt;E&gt; list)</span>
        <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-keyword">if</span> ( list == <span class="hljs-literal">null</span> || list.isEmpty() ) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// å–å‡ºæ¥çš„æ˜¯ä¸€ä¸ªä¸ª XxxAction å¯¹è±¡</span>
            <span class="hljs-keyword">for</span> ( ComparableExecutable e : list ) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// æœ€ç»ˆä¼šæ‰§è¡Œ ClientPreparedStatement#addBatch() æ–¹æ³•</span>
                    e.execute();
                }
                <span class="hljs-keyword">finally</span> {
                    <span class="hljs-comment">// ...</span>
                }
            }
        }
        <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ...</span>
        }
        list.clear();
        <span class="hljs-comment">// æœ€ç»ˆä¼šæ‰§è¡Œ ClientPreparedStatement#executeBatchInternal() æ–¹æ³•</span>
        session.getJdbcCoordinator().executeBatch();
    }
}
</code></pre>
<h5 data-id="heading-8">addBatch æµç¨‹</h5>
<p><code>ExecutableList&lt;E&gt;</code> ä¸­å­˜å‚¨çš„æ˜¯å„ç±» <code>XxxAction</code> å¯¹è±¡ï¼ˆå¦‚ <code>EntityInsertAction</code>ã€<code>EntityUpdateAction</code>ã€<code>EntityDeleteAction</code>ï¼‰ï¼Œå®ƒä»¬çš„ <code>execute()</code> æ–¹æ³•å°†æ‰§è¡Œå§”æ‰˜ç»™å¯¹åº”çš„ XxxCoordinatorï¼ˆåè°ƒå™¨ï¼‰</p>
<p>EntityInsertAction</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * The action for performing an entity insertion, for entities not defined to use IDENTITY generation.
 *
 * <span class="hljs-doctag">@see</span> EntityIdentityInsertAction
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntityInsertAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractEntityInsertAction</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> HibernateException {
        nullifyTransientReferencesIfNotAlready();
        <span class="hljs-comment">// Don't need to lock the cache here, since if someone</span>
        <span class="hljs-comment">// else inserted the same pk first, the insert would fail</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">SharedSessionContractImplementor</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> getSession();
        <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> getId();
        <span class="hljs-comment">// veto =&gt; æ˜¯å¦æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª PreInsertEventListener ç›‘å¬å™¨å¦å†³ï¼ˆvetoï¼‰äº†å½“å‰å®ä½“çš„æ’å…¥æ“ä½œ</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">veto</span> <span class="hljs-operator">=</span> preInsert();
        <span class="hljs-keyword">if</span> ( !veto ) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">EntityPersister</span> <span class="hljs-variable">persister</span> <span class="hljs-operator">=</span> getPersister();
            <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> getInstance();
            <span class="hljs-comment">// å§”æ‰˜ç»™ InsertCoordinator æ‰§è¡Œ</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">GeneratedValues</span> <span class="hljs-variable">generatedValues</span> <span class="hljs-operator">=</span> persister.getInsertCoordinator().insert(
                instance,
                id,
                getState(),
                session
            );
            <span class="hljs-comment">// ...</span>
        }
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preInsert</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–æ‰€æœ‰çš„ PreInsertEventListener ç›‘å¬å™¨</span>
        <span class="hljs-keyword">final</span> EventListenerGroup&lt;PreInsertEventListener&gt; listenerGroup = getFastSessionServices().eventListenerGroup_PRE_INSERT;
        <span class="hljs-keyword">if</span> ( listenerGroup.isEmpty() ) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">veto</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-comment">// å‘å¸ƒ PreInsertEvent äº‹ä»¶å¹¶æ‰§è¡Œæ‰€æœ‰ PreInsertEventListener çš„ onPreInsert æ–¹æ³•</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">PreInsertEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreInsertEvent</span>( getInstance(), getId(), getState(), getPersister(), eventSource() );
            <span class="hljs-keyword">for</span> ( PreInsertEventListener listener : listenerGroup.listeners() ) {
                <span class="hljs-comment">// æ±‡æ€»æ‰§è¡Œç»“æœ</span>
                veto |= listener.onPreInsert( event );
            }
            <span class="hljs-keyword">return</span> veto;
        }
    }
}
</code></pre>
<p>EntityUpdateAction</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntityUpdateAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EntityAction</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-keyword">if</span> ( !preUpdate() ) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">EntityPersister</span> <span class="hljs-variable">persister</span> <span class="hljs-operator">=</span> getPersister();
            <span class="hljs-keyword">final</span> <span class="hljs-type">SharedSessionContractImplementor</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> getSession();
            <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> getId();
            <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> getInstance();
            <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">previousVersion</span> <span class="hljs-operator">=</span> getPreviousVersion();
            <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">ck</span> <span class="hljs-operator">=</span> lockCacheItem( previousVersion );
            <span class="hljs-comment">// å§”æ‰˜ç»™ UpdateCoordinator æ‰§è¡Œ</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">GeneratedValues</span> <span class="hljs-variable">generatedValues</span> <span class="hljs-operator">=</span> persister.getUpdateCoordinator().update(
                instance,
                id,
                rowId,
                state,
                previousVersion,
                previousState,
                dirtyFields,
                hasDirtyCollection,
                session
            );
            <span class="hljs-comment">// ...</span>
        }
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preUpdate</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">final</span> EventListenerGroup&lt;PreUpdateEventListener&gt; listenerGroup = getFastSessionServices().eventListenerGroup_PRE_UPDATE;
        <span class="hljs-keyword">if</span> ( listenerGroup.isEmpty() ) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">final</span> <span class="hljs-type">PreUpdateEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreUpdateEvent</span>(
                getInstance(),
                getId(),
                state,
                previousState,
                getPersister(),
                eventSource()
            );
            <span class="hljs-type">boolean</span> <span class="hljs-variable">veto</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> ( PreUpdateEventListener listener : listenerGroup.listeners() ) {
                veto |= listener.onPreUpdate( event );
            }
            <span class="hljs-keyword">return</span> veto;
        }
    }
}
</code></pre>
<p>EntityDeleteAction</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntityDeleteAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EntityAction</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> getId();
        <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">version</span> <span class="hljs-operator">=</span> getCurrentVersion();
        <span class="hljs-keyword">final</span> <span class="hljs-type">EntityPersister</span> <span class="hljs-variable">persister</span> <span class="hljs-operator">=</span> getPersister();
        <span class="hljs-keyword">final</span> <span class="hljs-type">SharedSessionContractImplementor</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> getSession();
        <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> getInstance();
        <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">veto</span> <span class="hljs-operator">=</span> isInstanceLoaded() &amp;&amp; preDelete();
        <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">ck</span> <span class="hljs-operator">=</span> lockCacheItem();
        <span class="hljs-keyword">if</span> ( !isCascadeDeleteEnabled &amp;&amp; !veto ) {
            <span class="hljs-comment">// å§”æ‰˜ç»™ DeleteCoordinator æ‰§è¡Œ</span>
            persister.getDeleteCoordinator().delete( instance, id, version, session );
        }
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isInstanceLoaded</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// A null instance signals that we're deleting an unloaded proxy.</span>
        <span class="hljs-keyword">return</span> getInstance() != <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preDelete</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">final</span> EventListenerGroup&lt;PreDeleteEventListener&gt; listenerGroup = getFastSessionServices().eventListenerGroup_PRE_DELETE;
        <span class="hljs-keyword">if</span> ( listenerGroup.isEmpty() ) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">final</span> <span class="hljs-type">PreDeleteEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreDeleteEvent</span>( getInstance(), getId(), state, getPersister(), eventSource() );
            <span class="hljs-type">boolean</span> <span class="hljs-variable">veto</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> ( PreDeleteEventListener listener : listenerGroup.listeners() ) {
                veto |= listener.onPreDelete( event );
            }
            <span class="hljs-keyword">return</span> veto;
        }
    }
}
</code></pre>
<p><code>EntityPersister</code> æ¥å£ä¸­å®šä¹‰çš„ <code>getInsertCoordinator()</code>ã€<code>getUpdateCoordinator()</code> å’Œ <code>getDeleteCoordinator()</code> æ–¹æ³•ï¼Œç›®å‰ä»…æœ‰ <code>AbstractEntityPersister</code> è¿™ä¸€ä¸ªå®ç°ç±»æä¾›å…·ä½“å®ç°</p>
<p>InsertCoordinatorã€UpdateCoordinatorã€DeleteCoordinator åŒæ ·æ˜¯æ¥å£ï¼Œåœ¨ AbstractEntityPersister ä¸­æ„é€ å‡ºçš„å¯¹åº”å®ç°ç±»ä¸º InsertCoordinatorStandardã€UpdateCoordinatorStandardã€DeleteCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Basic functionality for persisting an entity via JDBC, using either generated or custom SQL.
 *
 * <span class="hljs-doctag">@author</span> Gavin King
 */</span>
<span class="hljs-meta">@Internal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractEntityPersister</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InFlightEntityMappingType</span>, EntityMutationTarget, LazyPropertyInitializer, PostInsertIdentityPersister, FetchProfileAffectee, DeprecatedEntityStuff {

    <span class="hljs-keyword">private</span> InsertCoordinator insertCoordinator;
    <span class="hljs-keyword">private</span> UpdateCoordinator updateCoordinator;
    <span class="hljs-keyword">private</span> DeleteCoordinator deleteCoordinator;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postInstantiate</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> MappingException {
        doLateInit();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doLateInit</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ...</span>
        insertCoordinator = buildInsertCoordinator();
        updateCoordinator = buildUpdateCoordinator();
        deleteCoordinator = buildDeleteCoordinator();
        <span class="hljs-comment">// ...</span>
    }

    <span class="hljs-keyword">protected</span> InsertCoordinator <span class="hljs-title function_">buildInsertCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InsertCoordinatorStandard</span>( <span class="hljs-built_in">this</span>, factory );
    }

    <span class="hljs-keyword">protected</span> UpdateCoordinator <span class="hljs-title function_">buildUpdateCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// we only have updates to issue for entities with one or more singular attributes</span>
        <span class="hljs-keyword">for</span> ( <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; attributeMappings.size(); i++ ) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">AttributeMapping</span> <span class="hljs-variable">attributeMapping</span> <span class="hljs-operator">=</span> attributeMappings.get( i );
            <span class="hljs-keyword">if</span> ( attributeMapping <span class="hljs-keyword">instanceof</span> SingularAttributeMapping ) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateCoordinatorStandard</span>( <span class="hljs-built_in">this</span>, factory );
            }
        }
        <span class="hljs-comment">// otherwise, nothing to update</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateCoordinatorNoOp</span>( <span class="hljs-built_in">this</span> );
    }

    <span class="hljs-keyword">protected</span> DeleteCoordinator <span class="hljs-title function_">buildDeleteCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> ( softDeleteMapping == <span class="hljs-literal">null</span> ) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DeleteCoordinatorStandard</span>( <span class="hljs-built_in">this</span>, factory );
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DeleteCoordinatorSoft</span>( <span class="hljs-built_in">this</span>, factory );
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> InsertCoordinator <span class="hljs-title function_">getInsertCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> insertCoordinator;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> UpdateCoordinator <span class="hljs-title function_">getUpdateCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> updateCoordinator;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> DeleteCoordinator <span class="hljs-title function_">getDeleteCoordinator</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> deleteCoordinator;
    }
}
</code></pre>
<p>åç»­æµç¨‹ä¼šæ ¹æ®æ“ä½œç±»å‹ï¼ˆInsertã€Update æˆ– Deleteï¼‰åˆ†åˆ«è°ƒç”¨ <code>InsertCoordinatorStandard#insert</code>ã€<code>UpdateCoordinatorStandard#update</code> æˆ– <code>DeleteCoordinatorStandard#delete</code> æ–¹æ³•ã€‚ç»è¿‡å‡ å±‚æ–¹æ³•è°ƒç”¨åï¼Œå®ƒä»¬æœ€ç»ˆä¼šæ±‡èšåˆ°åŒä¸€å¥—æ ¸å¿ƒé€»è¾‘ï¼šåˆ›å»ºä¸€ä¸ª <code>MutationExecutor</code> å®ä¾‹ï¼Œå¹¶å°†å®é™…çš„æ•°æ®åº“æ‰§è¡Œå·¥ä½œå§”æ‰˜ç»™å®ƒå®Œæˆ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Internal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> MutationExecutorService mutationExecutorService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AbstractMutationCoordinator</span><span class="hljs-params">(AbstractEntityPersister entityPersister, SessionFactoryImplementor factory)</span> {
        <span class="hljs-comment">// StandardMutationExecutorService</span>
        <span class="hljs-built_in">this</span>.mutationExecutorService = factory.getServiceRegistry().getService( MutationExecutorService.class );
    }
}
</code></pre>
<p>InsertCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Internal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InsertCoordinatorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InsertCoordinator</span> {

    <span class="hljs-keyword">protected</span> GeneratedValues <span class="hljs-title function_">doStaticInserts</span><span class="hljs-params">(Object id, Object[] values, Object object, SharedSessionContractImplementor session)</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">MutationExecutor</span> <span class="hljs-variable">mutationExecutor</span> <span class="hljs-operator">=</span> executor( session, staticInsertGroup, <span class="hljs-literal">false</span> );
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> mutationExecutor.execute(...);
        }
        <span class="hljs-keyword">finally</span> {
            mutationExecutor.release();
        }
    }

    <span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group, <span class="hljs-type">boolean</span> dynamicUpdate)</span> {
        <span class="hljs-keyword">return</span> mutationExecutorService
            .createExecutor( resolveBatchKeyAccess( dynamicUpdate, session ), group, session );
    }
}
</code></pre>
<p>UpdateCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UpdateCoordinatorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UpdateCoordinator</span> {

    <span class="hljs-keyword">protected</span> GeneratedValues <span class="hljs-title function_">doStaticUpdate</span><span class="hljs-params">(
        Object entity,
        Object id,
        Object rowId,
        Object[] values,
        Object[] oldValues,
        UpdateValuesAnalysisImpl valuesAnalysis,
        SharedSessionContractImplementor session
    )</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">MutationExecutor</span> <span class="hljs-variable">mutationExecutor</span> <span class="hljs-operator">=</span> executor( session, staticUpdateGroup, <span class="hljs-literal">false</span> );
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> mutationExecutor.execute(...);
        }
        <span class="hljs-keyword">finally</span> {
            mutationExecutor.release();
        }
    }

    <span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group, <span class="hljs-type">boolean</span> dynamicUpdate)</span> {
        <span class="hljs-keyword">return</span> mutationExecutorService
            .createExecutor( resolveBatchKeyAccess( dynamicUpdate, session ), group, session );
    }
}
</code></pre>
<p>DeleteCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DeleteCoordinatorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractDeleteCoordinator</span> {}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractDeleteCoordinator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DeleteCoordinator</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doStaticDelete</span><span class="hljs-params">(
        Object entity,
        Object id,
        Object rowId,
        Object[] loadedState,
        Object version,
        SharedSessionContractImplementor session
    )</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">MutationExecutor</span> <span class="hljs-variable">mutationExecutor</span> <span class="hljs-operator">=</span> executor( session, operationGroupToUse );
        <span class="hljs-keyword">try</span> {
            mutationExecutor.execute(...);
        }
        <span class="hljs-keyword">finally</span> {
            mutationExecutor.release();
        }
    }

    <span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group)</span> {
        <span class="hljs-keyword">return</span> mutationExecutorService.createExecutor( resolveBatchKeyAccess( <span class="hljs-literal">false</span>, session ), group, session );
    }
}
</code></pre>
<p><code>MutationExecutor</code> æ˜¯ Hibernate ä¸­æ‰§è¡Œå®ä½“å˜æ›´ï¼ˆæ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰çš„æ ¸å¿ƒæ¥å£ï¼Œè´Ÿè´£ç»Ÿä¸€åè°ƒä¸æ•°æ®åº“äº¤äº’çš„å…·ä½“ç»†èŠ‚ï¼Œå®ƒçš„ä¸»è¦èŒè´£åŒ…æ‹¬</p>
<ul>
<li>å†³å®šæ˜¯å¦ä½¿ç”¨ JDBC æ‰¹å¤„ç†ï¼ˆbatchingï¼‰</li>
<li>æ§åˆ¶å‚æ•°ç»‘å®šæ—¥å¿—çš„é€»è¾‘åˆ†ç»„æ–¹å¼</li>
<li>......</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * Main contract for performing the mutation.  Accounts for various
 * moving parts such as:&lt;ul&gt;
 *     &lt;li&gt;Should the statements be batched or not?&lt;/li&gt;
 *     &lt;li&gt;Should we "logically" group logging of the parameter bindings?&lt;/li&gt;
 *     &lt;li&gt;...&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * <span class="hljs-doctag">@author</span> Steve Ebersole
 */</span>
<span class="hljs-meta">@Incubating</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MutationExecutor</span> {

    GeneratedValues <span class="hljs-title function_">execute</span><span class="hljs-params">(
        Object modelReference,
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker,
        OperationResultChecker resultChecker,
        SharedSessionContractImplementor session)</span>;
}
</code></pre>
<p>MutationExecutor çš„ execute æ–¹æ³•ç›®å‰ä»…æœ‰ <code>AbstractMutationExecutor</code> è¿™ä¸€ä¸ªå®ç°ç±»æä¾›å…·ä½“å®ç°ï¼Œå®ƒçš„ execute æ–¹æ³•å®ç°é‡‡ç”¨äº†æ ‡å‡†çš„æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractMutationExecutor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MutationExecutor</span> {

    <span class="hljs-comment">/**
	 * Templated implementation of execution as &lt;ol&gt;
	 *     &lt;li&gt;{<span class="hljs-doctag">@link</span> #performNonBatchedOperations}&lt;/li&gt;
	 *     &lt;li&gt;{<span class="hljs-doctag">@link</span> #performSelfExecutingOperations}&lt;/li&gt;
	 *     &lt;li&gt;{<span class="hljs-doctag">@link</span> #performBatchedOperations}&lt;/li&gt;
	 * &lt;/ol&gt;
	 */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> GeneratedValues <span class="hljs-title function_">execute</span><span class="hljs-params">(
        Object modelReference,
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker,
        OperationResultChecker resultChecker,
        SharedSessionContractImplementor session
    )</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">GeneratedValues</span> <span class="hljs-variable">generatedValues</span> <span class="hljs-operator">=</span> performNonBatchedOperations(
            modelReference,
            valuesAnalysis,
            inclusionChecker,
            resultChecker,
            session
        );
        performSelfExecutingOperations( valuesAnalysis, inclusionChecker, session );
        performBatchedOperations( valuesAnalysis, inclusionChecker );
        <span class="hljs-keyword">return</span> generatedValues;
    }

    <span class="hljs-keyword">protected</span> GeneratedValues <span class="hljs-title function_">performNonBatchedOperations</span><span class="hljs-params">(
        Object modelReference,
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker,
        OperationResultChecker resultChecker,
        SharedSessionContractImplementor session)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performSelfExecutingOperations</span><span class="hljs-params">(
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker,
        SharedSessionContractImplementor session)</span> {
    }

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performBatchedOperations</span><span class="hljs-params">(
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker)</span> {
    }
}
</code></pre>
<p>MutationExecutor çš„ç»§æ‰¿æ ‘å¦‚ä¸‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2b6f4ed0d1b40e0b784c24ffb32ae5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGVmaW5lOTUyNw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025546&amp;x-signature=Th6CD7DOcdgjnRLzE%2B3jOqcW1p8%3D" alt="image.png" loading="lazy"/></p>
<p>AbstractMutationExecutor æä¾›äº† performNonBatchedOperationsã€performSelfExecutingOperationsã€performBatchedOperations ä¸‰ä¸ªæ¨¡æ¿æ–¹æ³•ä¾›å­ç±»å»å®ç°ï¼Œä»æ–¹æ³•å‘½åå¯æ¨æ–­ï¼Œåªæœ‰å®ç°äº† performBatchedOperations æ–¹æ³•çš„å­ç±»æ‰çœŸæ­£æ”¯æŒæ‰¹é‡æ“ä½œ</p>
<p>ç›®å‰åªæœ‰ <code>MutationExecutorSingleBatched</code> å’Œ <code>MutationExecutorStandard</code> ä¸¤ä¸ªå®ç°ç±»é‡å†™äº† <code>performBatchedOperations</code> æ–¹æ³•ä»¥æ”¯æŒæ‰¹é‡æ“ä½œã€‚å®ƒä»¬çš„å®ç°ä¸­å‡è°ƒç”¨äº† <code>Batch#addToBatch</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç»è¿‡è‹¥å¹²å±‚è°ƒç”¨åï¼Œæœ€ç»ˆä¼šè§¦å‘ JDBC é©±åŠ¨å±‚çš„ <code>ClientPreparedStatement#addBatch()</code>ï¼Œä»è€Œå°† SQL å‚æ•°åŠ å…¥åº•å±‚æ‰¹å¤„ç†é˜Ÿåˆ—</p>
<p>MutationExecutorSingleBatched</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MutationExecutorSingleBatched</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractSingleMutationExecutor</span> {

    <span class="hljs-keyword">private</span> Batch batch;

    <span class="hljs-keyword">private</span> Batch <span class="hljs-title function_">resolveBatch</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> ( batch == <span class="hljs-literal">null</span> ) {
            batch = session.getJdbcCoordinator().getBatch(
                batchKey,
                batchSize,
                () -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">PreparedStatementGroupSingleTable</span>( getMutationOperation(), session )
            );
            <span class="hljs-keyword">assert</span> batch != <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> batch;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performBatchedOperations</span><span class="hljs-params">(ValuesAnalysis valuesAnalysis, TableInclusionChecker inclusionChecker)</span> {
        resolveBatch().addToBatch( getJdbcValueBindings(), inclusionChecker );
    }
}
</code></pre>
<p>MutationExecutorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MutationExecutorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationExecutor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcValueBindingsImpl</span>.JdbcValueDescriptorAccess {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Batch batch;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MutationExecutorStandard</span><span class="hljs-params">(
        MutationOperationGroup mutationOperationGroup,
        BatchKeyAccess batchKeySupplier,
        <span class="hljs-type">int</span> batchSize,
        SharedSessionContractImplementor session
    )</span> {
        <span class="hljs-keyword">if</span> ( batchedJdbcMutations == <span class="hljs-literal">null</span> || batchedJdbcMutations.isEmpty() ) {
            <span class="hljs-built_in">this</span>.batch = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">assert</span> generatedValuesDelegate == <span class="hljs-literal">null</span> : <span class="hljs-string">"Unsupported batched mutation for entity target with generated values delegate"</span>;
            <span class="hljs-keyword">final</span> List&lt;PreparableMutationOperation&gt; batchedMutationsRef = batchedJdbcMutations;
            <span class="hljs-built_in">this</span>.batch = session.getJdbcCoordinator().getBatch(
                batchKey,
                batchSize,
                () -&gt; ModelMutationHelper.toPreparedStatementGroup(
                    mutationOperationGroup.getMutationType(),
                    mutationOperationGroup.getMutationTarget(),
                    <span class="hljs-literal">null</span>,
                    batchedMutationsRef,
                    session
                )
            );
            <span class="hljs-keyword">assert</span> batch != <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performBatchedOperations</span><span class="hljs-params">(
        ValuesAnalysis valuesAnalysis,
        TableInclusionChecker inclusionChecker)</span> {
        <span class="hljs-keyword">if</span> ( batch == <span class="hljs-literal">null</span> ) {
            <span class="hljs-keyword">return</span>;
        }
        batch.addToBatch( valueBindings, inclusionChecker );
    }
}
</code></pre>
<p>å› æ­¤ï¼Œåªè¦åˆ›å»ºçš„ <code>MutationExecutor</code> å®ä¾‹æ˜¯ <code>MutationExecutorSingleBatched</code> æˆ– <code>MutationExecutorStandard</code>ï¼Œå°±å¯ä»¥ç¡®å®šå½“å‰æ“ä½œä¸€å®šä¼šèµ°æ‰¹é‡æ‰§è¡Œè·¯å¾„</p>
<p>é‚£å°±è®©æˆ‘ä»¬æŠŠç›®å…‰æ”¾åˆ° MutationExecutor çš„åˆ›å»ºé€»è¾‘</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// InsertCoordinatorStandard</span>
<span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group, <span class="hljs-type">boolean</span> dynamicUpdate)</span> {
    <span class="hljs-keyword">return</span> mutationExecutorService.createExecutor(
        resolveBatchKeyAccess( dynamicUpdate, session ),
        group,
        session
    );
}

<span class="hljs-comment">// UpdateCoordinatorStandard</span>
<span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group, <span class="hljs-type">boolean</span> dynamicUpdate)</span> {
    <span class="hljs-keyword">return</span> mutationExecutorService.createExecutor(
        resolveBatchKeyAccess( dynamicUpdate, session ),
        group,
        session
    );
}

<span class="hljs-comment">// AbstractDeleteCoordinatorï¼ˆDeleteCoordinatorStandardï¼‰</span>
<span class="hljs-keyword">private</span> MutationExecutor <span class="hljs-title function_">executor</span><span class="hljs-params">(SharedSessionContractImplementor session, MutationOperationGroup group)</span> {
    <span class="hljs-keyword">return</span> mutationExecutorService.createExecutor(
        resolveBatchKeyAccess( <span class="hljs-literal">false</span>, session ),
        group,
        session
    );
}
</code></pre>
<p>ä¸Šè¿°ä»£ç ä¸­çš„ mutationExecutorService æ˜¯ StandardMutationExecutorService ç±»ï¼Œå®ƒä¼šæ ¹æ®ä¸åŒçš„æ¡ä»¶åˆ›å»ºå‡ºä¸åŒçš„ MutationExecutor å®ç°ç±»</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StandardMutationExecutorService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MutationExecutorService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> globalBatchSize;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">StandardMutationExecutorService</span><span class="hljs-params">(Map&lt;String, Object&gt; configurationValues)</span> {
        <span class="hljs-comment">// è·å– batch_size å‚æ•°å€¼å¹¶èµ‹å€¼ç»™ globalBatchSize å­—æ®µ</span>
        <span class="hljs-built_in">this</span>( ConfigurationHelper.getInt( Environment.STATEMENT_BATCH_SIZE, configurationValues, <span class="hljs-number">1</span> ) );
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">StandardMutationExecutorService</span><span class="hljs-params">(<span class="hljs-type">int</span> globalBatchSize)</span> {
        <span class="hljs-built_in">this</span>.globalBatchSize = globalBatchSize;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> MutationExecutor <span class="hljs-title function_">createExecutor</span><span class="hljs-params">(
        BatchKeyAccess batchKeySupplier,
        MutationOperationGroup operationGroup,
        SharedSessionContractImplementor session)</span> {
        <span class="hljs-comment">// decide whether to use batching - any number &gt; one means to batch</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">sessionBatchSize</span> <span class="hljs-operator">=</span> session.getJdbcCoordinator()
            .getJdbcSessionOwner()
            .getJdbcBatchSize();
        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">batchSizeToUse</span> <span class="hljs-operator">=</span> sessionBatchSize == <span class="hljs-literal">null</span>
            ? globalBatchSize
            : sessionBatchSize;
        <span class="hljs-comment">// å½“å‰è¿™ä¸ªæ“ä½œåˆ†ç»„ä¸­åŒ…å«çš„æ“ä½œç§ç±»ï¼ˆINSERTã€UPDATEã€DELETEï¼‰æ•°é‡ï¼Œé€šå¸¸åªåŒ…å«ä¸€ç§æ“ä½œç±»å‹</span>
        <span class="hljs-keyword">if</span> ( operationGroup.getNumberOfOperations() == <span class="hljs-number">1</span> ) {
            <span class="hljs-comment">// èµ°æ­¤åˆ†æ”¯</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">MutationOperation</span> <span class="hljs-variable">singleOperation</span> <span class="hljs-operator">=</span> operationGroup.getSingleOperation();
            <span class="hljs-keyword">if</span> ( singleOperation <span class="hljs-keyword">instanceof</span> SelfExecutingUpdateOperation ) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationExecutorSingleSelfExecuting</span>( (SelfExecutingUpdateOperation) singleOperation, session );
            }
            <span class="hljs-keyword">final</span> <span class="hljs-type">PreparableMutationOperation</span> <span class="hljs-variable">jdbcOperation</span> <span class="hljs-operator">=</span> (PreparableMutationOperation) singleOperation;
            <span class="hljs-comment">// è¿™ä¸¤è¡Œä»£ç å¾ˆå…³é”®ï¼Œå®ƒå†³å®šäº†åç»­èƒ½å¦èµ°æ‰¹é‡æ“ä½œ</span>
            <span class="hljs-keyword">final</span> <span class="hljs-type">BatchKey</span> <span class="hljs-variable">batchKey</span> <span class="hljs-operator">=</span> batchKeySupplier.getBatchKey();
            <span class="hljs-keyword">if</span> ( jdbcOperation.canBeBatched( batchKey, batchSizeToUse ) ) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationExecutorSingleBatched</span>( jdbcOperation, batchKey, batchSizeToUse, session );
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationExecutorSingleNonBatched</span>(
                jdbcOperation,
                operationGroup.asEntityMutationOperationGroup() != <span class="hljs-literal">null</span> ?
                operationGroup.asEntityMutationOperationGroup().getMutationDelegate() :
                <span class="hljs-literal">null</span>,
                session
            );
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationExecutorStandard</span>( operationGroup, batchKeySupplier, batchSizeToUse, session );
    }
}
</code></pre>
<p>å…ˆè§£æä¸‹ <code>BatchKey batchKey = batchKeySupplier.getBatchKey()</code> è¿™è¡Œä»£ç ï¼ŒBatchKeyAccess æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œæ­¤å¤„å®ƒå¯¹åº”çš„å€¼æ˜¯ <code>AbstractMutationCoordinator#resolveBatchKeyAccess</code> æ–¹æ³•çš„è¿”å›å€¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Internal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> {

    <span class="hljs-keyword">protected</span> BatchKeyAccess <span class="hljs-title function_">resolveBatchKeyAccess</span><span class="hljs-params">(<span class="hljs-type">boolean</span> dynamicUpdate, SharedSessionContractImplementor session)</span> {
        <span class="hljs-keyword">if</span> ( !dynamicUpdate
            &amp;&amp; !entityPersister().optimisticLockStyle().isAllOrDirty()
            &amp;&amp; session.getTransactionCoordinator() != <span class="hljs-literal">null</span>
            &amp;&amp; session.getTransactionCoordinator().isTransactionActive()
            &amp;&amp; (
                <span class="hljs-comment">// batch_versioned_data å‚æ•°åœ¨æ­¤å¤„ä½¿ç”¨</span>
                session.getSessionFactory().getSessionFactoryOptions()
                .isJdbcBatchVersionedData()
                || !entityPersister().isVersioned() ) ) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>::getBatchKey;
        }
        <span class="hljs-keyword">return</span> NoBatchKeyAccess.INSTANCE;
    }

    <span class="hljs-comment">// äº¤ç”±å„å­ç±»å®ç°</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> BatchKey <span class="hljs-title function_">getBatchKey</span><span class="hljs-params">()</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoBatchKeyAccess</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BatchKeyAccess</span> {
    <span class="hljs-comment">/**
	 * Singleton access
	 */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">NoBatchKeyAccess</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoBatchKeyAccess</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> BatchKey <span class="hljs-title function_">getBatchKey</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p>InsertCoordinatorStandardã€UpdateCoordinatorStandardã€AbstractDeleteCoordinatorï¼ˆDeleteCoordinatorStandard çˆ¶ç±»ï¼‰ å‡å®ç°äº† <code>getBatchKey()</code> æ–¹æ³•</p>
<p>InsertCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Internal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InsertCoordinatorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InsertCoordinator</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> BasicBatchKey batchKey;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">InsertCoordinatorStandard</span><span class="hljs-params">(AbstractEntityPersister entityPersister, SessionFactoryImplementor factory)</span> {
        <span class="hljs-built_in">super</span>( entityPersister, factory );
        <span class="hljs-comment">// ä¸ºä»€ä¹ˆ GenerationType.IDENTITY æ— æ³•èµ°æ‰¹é‡æ’å…¥ï¼ŸåŸå› å°±åœ¨è¿™å„¿</span>
        <span class="hljs-keyword">if</span> ( entityPersister.isIdentifierAssignedByInsert() || entityPersister.hasInsertGeneratedProperties() ) {
            <span class="hljs-comment">// disable batching in case of insert generated identifier or properties</span>
            batchKey = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">else</span> {
            batchKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicBatchKey</span>(
                entityPersister.getEntityName() + <span class="hljs-string">"#INSERT"</span>,
                <span class="hljs-literal">null</span>
            );
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> BatchKey <span class="hljs-title function_">getBatchKey</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> batchKey;
    }
}
</code></pre>
<p>UpdateCoordinatorStandard</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UpdateCoordinatorStandard</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UpdateCoordinator</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> BatchKey batchKey;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> BatchKey versionUpdateBatchkey;

    <span class="hljs-keyword">protected</span> BatchKey <span class="hljs-title function_">getBatchKey</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> batchKey;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UpdateCoordinatorStandard</span><span class="hljs-params">(AbstractEntityPersister entityPersister, SessionFactoryImplementor factory)</span> {
        <span class="hljs-built_in">super</span>( entityPersister, factory );
        <span class="hljs-keyword">if</span> ( entityPersister.hasUpdateGeneratedProperties() ) {
            <span class="hljs-comment">// disable batching in case of update generated properties</span>
            <span class="hljs-built_in">this</span>.batchKey = <span class="hljs-literal">null</span>;
            <span class="hljs-built_in">this</span>.versionUpdateBatchkey = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">this</span>.batchKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicBatchKey</span>(
                entityPersister.getEntityName() + <span class="hljs-string">"#UPDATE"</span>,
                <span class="hljs-literal">null</span>
            );
            <span class="hljs-built_in">this</span>.versionUpdateBatchkey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicBatchKey</span>(
                entityPersister.getEntityName() + <span class="hljs-string">"#UPDATE_VERSION"</span>,
                <span class="hljs-literal">null</span>
            );
        }
    }
}
</code></pre>
<p>AbstractDeleteCoordinatorï¼ˆDeleteCoordinatorStandard çˆ¶ç±»ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractDeleteCoordinator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractMutationCoordinator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DeleteCoordinator</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> BasicBatchKey batchKey;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">AbstractDeleteCoordinator</span><span class="hljs-params">(
        AbstractEntityPersister entityPersister,
        SessionFactoryImplementor factory
    )</span> {
        <span class="hljs-built_in">super</span>( entityPersister, factory );
        <span class="hljs-built_in">this</span>.batchKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicBatchKey</span>( entityPersister.getEntityName() + <span class="hljs-string">"#DELETE"</span> );
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> BasicBatchKey <span class="hljs-title function_">getBatchKey</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> batchKey;
    }
}
</code></pre>
<p>å†æ¥åˆ†æä¸‹ <code>jdbcOperation.canBeBatched( batchKey, batchSizeToUse )</code> è¿™è¡Œä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PreparableMutationOperation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MutationOperation</span> {

    <span class="hljs-keyword">default</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">canBeBatched</span><span class="hljs-params">(BatchKey batchKey, <span class="hljs-type">int</span> batchSize)</span> {
        <span class="hljs-keyword">if</span> ( batchKey == <span class="hljs-literal">null</span> || batchSize &lt; <span class="hljs-number">2</span> ) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> ( getMutationType() == MutationType.UPDATE ) {
            <span class="hljs-comment">// we cannot batch updates against optional tables</span>
            <span class="hljs-keyword">if</span> ( getTableDetails().isOptional() ) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> getExpectation().canBeBatched();
    }

    <span class="hljs-comment">// äº¤ç”±å„å­ç±»å®ç°</span>
    Expectation <span class="hljs-title function_">getExpectation</span><span class="hljs-params">()</span>;
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Expectation</span> {

    <span class="hljs-comment">/**
	 * Is it acceptable to combine this expectation with JDBC
	 * {<span class="hljs-doctag">@linkplain</span> PreparedStatement#executeBatch() statement batching}?
	 * If this method returns {<span class="hljs-doctag">@code</span> false}, the use of batch updates
	 * is disabled.
	 *
	 * <span class="hljs-doctag">@return</span> True if batching can be combined with this expectation;
	 *         false otherwise.
	 *
	 * <span class="hljs-doctag">@see</span> PreparedStatement#executeBatch()
	 */</span>
    <span class="hljs-keyword">default</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">canBeBatched</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<h5 data-id="heading-9">executeBatchInternal æµç¨‹</h5>
<p>è¿™ä¸ªæµç¨‹çš„èµ·ç‚¹ä» ActionQueue#executeActions æ–¹æ³•è®²èµ·</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActionQueue</span> {

    <span class="hljs-keyword">private</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ComparableExecutable</span>&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeActions</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> ExecutableList&lt;E&gt; list)</span> <span class="hljs-keyword">throws</span> HibernateException {
        <span class="hljs-comment">// æœ€ç»ˆä¼šæ‰§è¡Œ ClientPreparedStatement#executeBatchInternal() æ–¹æ³•</span>
        session.getJdbcCoordinator().executeBatch();
    }
}
</code></pre>
<p>è®©æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šåªè¦è¿›å…¥ä¸Šè¿° <code>executeActions</code> æ–¹æ³•ï¼Œæœ€ç»ˆéƒ½ä¼šæ‰§è¡Œ <code>session.getJdbcCoordinator().executeBatch()</code>ï¼Œè¿™æ˜¯å¦æ„å‘³ç€ <code>ActionQueue</code> ä¸­çš„æ¯ä¸€ä¸ªæ“ä½œéƒ½å¿…é¡»èµ°æ‰¹é‡æµç¨‹ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œæ¥ç€å¾€ä¸‹çœ‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcCoordinatorImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">JdbcCoordinator</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> Batch currentBatch;

    <span class="hljs-comment">// MutationExecutorSingleBatched å’Œ MutationExecutorStandard çš„æµç¨‹ä¼šè°ƒç”¨æ­¤æ–¹æ³•</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Batch <span class="hljs-title function_">getBatch</span><span class="hljs-params">(BatchKey key, Integer batchSize, Supplier&lt;PreparedStatementGroup&gt; statementGroupSupplier)</span> {
        <span class="hljs-keyword">if</span> ( currentBatch != <span class="hljs-literal">null</span> ) {
            <span class="hljs-keyword">if</span> ( currentBatch.getKey().equals( key ) ) {
                <span class="hljs-keyword">return</span> currentBatch;
            }
            <span class="hljs-keyword">else</span> {
                currentBatch.execute();
                currentBatch.release();
            }
        }
        currentBatch = owner.getJdbcSessionContext().getBatchBuilder()
            .buildBatch( key, batchSize, statementGroupSupplier, <span class="hljs-built_in">this</span> );
        <span class="hljs-keyword">return</span> currentBatch;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeBatch</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> ( currentBatch != <span class="hljs-literal">null</span> ) {
            <span class="hljs-keyword">try</span> {
                currentBatch.execute();
            }
            <span class="hljs-keyword">finally</span> {
                currentBatch.release();
            }
        }
    }
}
</code></pre>
<p>åœ¨ <code>Batch#execute()</code> æ–¹æ³•ä¸­ï¼Œæ˜¯å¦çœŸæ­£æ‰§è¡Œæ•°æ®åº“æ‰¹å¤„ç†æ“ä½œï¼Œç”± batchPosition å’Œ batchExecuted è¿™ä¸¤ä¸ªå…³é”®å­—æ®µæ§åˆ¶ï¼Œè¿™ä¸¤ä¸ªå­—æ®µçš„å€¼ä»…åœ¨è°ƒç”¨ <code>Batch#addToBatch()</code> æ—¶æ›´æ–°â€”â€”è€Œ <code>addToBatch()</code> æ­£æ˜¯æ‰¹é‡æµç¨‹çš„å…¥å£æ–¹æ³•ã€‚åªæœ‰å½“æ“ä½œæ»¡è¶³æ‰¹å¤„ç†æ¡ä»¶æ—¶ï¼Œæ‰ä¼šè°ƒç”¨ <code>Batch#addToBatch()</code> æ–¹æ³•ã€‚å› æ­¤ï¼Œåªæœ‰çœŸæ­£è¿›å…¥æ‰¹é‡æµç¨‹çš„æ“ä½œï¼Œæ‰ä¼šæ‰§è¡Œ performExecution() æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BatchImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Batch</span> {

    <span class="hljs-comment">// è®°å½•å½“å‰å·²ç´¯ç§¯ä½†å°šæœªæ‰§è¡Œçš„æ‰¹å¤„ç†è¯­å¥æ•°é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> batchPosition;
    <span class="hljs-comment">// æ ‡è®°å½“å‰æ‰¹æ¬¡æ˜¯å¦å·²è¢«æ‰§è¡Œè¿‡ï¼ˆç”¨äºé¿å…é‡å¤æ‰§è¡Œï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> batchExecuted;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addToBatch</span><span class="hljs-params">(JdbcValueBindings jdbcValueBindings, TableInclusionChecker inclusionChecker)</span> {
        batchPosition++;
        <span class="hljs-keyword">if</span> ( batchPosition == batchSizeToUse ) {
            notifyObserversImplicitExecution();
            performExecution();
            batchPosition = <span class="hljs-number">0</span>;
            batchExecuted = <span class="hljs-literal">true</span>;
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> {
        notifyObserversExplicitExecution();
        <span class="hljs-keyword">if</span> ( getStatementGroup().getNumberOfStatements() == <span class="hljs-number">0</span> ) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> ( batchPosition == <span class="hljs-number">0</span> ) {
                <span class="hljs-keyword">if</span>( !batchExecuted) {
                    <span class="hljs-keyword">if</span> ( BATCH_LOGGER.isDebugEnabled() ) {
                        BATCH_LOGGER.debugf(
                            <span class="hljs-string">"No batched statements to execute - %s"</span>,
                            getKey().toLoggableString()
                        );
                    }
                }
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æœ€ç»ˆä¼šè°ƒç”¨ ClientPreparedStatement#executeBatchInternal() æ–¹æ³•</span>
                performExecution();
            }
        }
        <span class="hljs-keyword">finally</span> {
            releaseStatements();
        }
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå·¥ä½œæµç¨‹ã€æ ¸å¿ƒç»„ä»¶ä¸é«˜çº§ä¼˜åŒ–ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7599475458720071680</link>    <guid>https://juejin.cn/post/7599475458720071680</guid>    <pubDate>2026-01-26T09:46:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599475458720071680" data-draft-id="7599474528238829608" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå·¥ä½œæµç¨‹ã€æ ¸å¿ƒç»„ä»¶ä¸é«˜çº§ä¼˜åŒ–ç­–ç•¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-26T09:46:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸­æ¯å¯ä¹å¤šåŠ å†°"/> <meta itemprop="url" content="https://juejin.cn/user/3435306702347432"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RAG æ·±åº¦å®è·µç³»åˆ—ï¼ˆäºŒï¼‰ï¼šå·¥ä½œæµç¨‹ã€æ ¸å¿ƒç»„ä»¶ä¸é«˜çº§ä¼˜åŒ–ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3435306702347432/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸­æ¯å¯ä¹å¤šåŠ å†°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:46:08.000Z" title="Mon Jan 26 2026 09:46:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ RAG å·¥ä½œæµç¨‹</h2>
<p>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ç³»ç»Ÿä»£è¡¨äº†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨æ¶æ„çš„é‡å¤§æ¼”è¿›ï¼Œå®ƒå°† LLM çš„å¼ºå¤§ç”Ÿæˆèƒ½åŠ›ä¸å¤–éƒ¨çŸ¥è¯†åº“çš„å®æ—¶æ€§ã€å‡†ç¡®æ€§ç›¸ç»“åˆï¼Œå½¢æˆäº†ä¸€ä¸ªé«˜æ•ˆã€å¯é çš„çŸ¥è¯†é—­ç¯ã€‚ç†è§£ RAG ç³»ç»Ÿçš„å®Œæ•´å·¥ä½œæµç¨‹ï¼Œæ˜¯æ„å»ºå’Œä¼˜åŒ–ä»»ä½• RAG åº”ç”¨çš„åŸºç¡€ã€‚è¿™ä¸ªæµç¨‹å¹¶éç®€å•çš„ç»„ä»¶å †ç Œï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡ã€ç¯ç¯ç›¸æ‰£çš„<strong>ä¿¡æ¯å¤„ç†ç®¡é“</strong>ï¼Œä¸»è¦ç”±æŸ¥è¯¢è§£æã€æ–‡æ¡£æ£€ç´¢ã€ä¿¡æ¯æ•´åˆä¸å›ç­”ç”Ÿæˆå››ä¸ªé˜¶æ®µæ„æˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cab9b73af4ba40309d07e4eba7167905~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=Y1%2FJzkMkExjmsJ6x3V2ynvA6QeM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<p>è®¸å¤šå¼€å‘è€…åœ¨ RAG å®è·µä¸­ï¼Œå¾€å¾€æ­¢æ­¥äºÂ <strong>å‘é‡æ•°æ®åº“ + Prompt</strong>Â çš„ç®€å•ç»„åˆï¼Œå´åœ¨é¢å¯¹æ–‡æ¡£åˆ‡ç‰‡ç­–ç•¥ã€é‡æ’åº Rerank å¼•å…¥ã€ä»¥åŠç”Ÿäº§ç¯å¢ƒçš„éƒ¨ç½²è°ƒä¼˜ç­‰æ·±æ°´åŒºé—®é¢˜æ—¶æ„Ÿåˆ°å›°æƒ‘ã€‚</p>
<p>ä¸ºäº†å¸®åŠ©å¼€å‘è€…å¡«è¡¥ä»æ‡‚åŸç†åˆ°èƒ½è½åœ°çš„å…³é”®æ‹¼å›¾ï¼ŒAIå¤§å­¦å ‚åŸºäºå¤§é‡çš„ä¸šåŠ¡å®æˆ˜ç»éªŒï¼Œç²¾å¿ƒæ‰“ç£¨è¯¾ç¨‹ï¼Œæ­£å¼æ¨å‡ºÂ <strong>RAGå·¥ç¨‹å¸ˆè®¤è¯</strong>ã€‚è¿™ä»½è¯ä¹¦å°†æ˜¯ä½ ç³»ç»ŸåŒ–æŒæ¡ AI è½åœ°æ ¸å¿ƒèƒ½åŠ›çš„ç»ä½³æœºä¼šï¼Œè®¤è¯ç°å·²å¼€å¯ï¼Œ<strong>é™æ—¶å…è´¹</strong>ï¼Œç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidaxue.com%2Fcourse%2F1151%3Fvideo_id%3D5093%26ch%3DCSDNRAG2" target="_blank" title="https://www.aidaxue.com/course/1151?video_id=5093&amp;ch=CSDNRAG2" ref="nofollow noopener noreferrer">ğŸ”—è®¤è¯é“¾æ¥</a>å¼€å§‹å­¦ä¹ ï¼</p>
<hr/>
<h3 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.1ã€ æŸ¥è¯¢è§£æï¼šæ•è·ç”¨æˆ·çœŸå®æ„å›¾ä¸æŸ¥è¯¢ä¼˜åŒ–</h3>
<p>RAG æµç¨‹å§‹äºç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œè€Œ<strong>æŸ¥è¯¢è§£æ</strong>ï¼ˆQuery Understandingï¼‰åˆ™æ˜¯æ•´ä¸ªæµç¨‹çš„èµ·ç‚¹å’ŒåŸºçŸ³ã€‚ç”¨æˆ·æŸ¥è¯¢å¾€å¾€æ˜¯å£è¯­åŒ–ã€éç»“æ„åŒ–çš„ï¼Œå¯èƒ½å­˜åœ¨æ­§ä¹‰ã€çœç•¥æˆ–æªè¾ä¸ç²¾ç¡®çš„é—®é¢˜ã€‚å› æ­¤ï¼ŒæŸ¥è¯¢è§£æçš„ç›®æ ‡æ˜¯å‡†ç¡®ç†è§£ç”¨æˆ·çš„<strong>ä¿¡æ¯éœ€æ±‚</strong>å’Œ<strong>æ„å›¾</strong>ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºç³»ç»Ÿèƒ½å¤Ÿé«˜æ•ˆå¤„ç†çš„ã€ä¼˜åŒ–çš„æ£€ç´¢ä¿¡å·ã€‚</p>
<p>åœ¨åŸºç¡€å¤„ç†å±‚é¢ï¼Œç³»ç»Ÿé¦–å…ˆéœ€è¦è¿›è¡Œ<strong>æ–‡æœ¬æ¸…æ´—ä¸æ ‡å‡†åŒ–</strong>ï¼Œå»é™¤æ— å…³å­—ç¬¦ã€å¤„ç†æ‹¼å†™é”™è¯¯ï¼Œå¹¶ç»Ÿä¸€æ ¼å¼ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ›´æ·±å±‚æ¬¡çš„è¯­ä¹‰åˆ†æå¼€å§‹ä»‹å…¥ï¼ŒåŒ…æ‹¬<strong>å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰</strong> ï¼Œä»¥è¯†åˆ«æŸ¥è¯¢ä¸­çš„å…³é”®å®ä½“ï¼ˆå¦‚äººåã€äº§å“ã€æ—¥æœŸï¼‰ï¼Œä»¥åŠ<strong>æ„å›¾è¯†åˆ«</strong>ï¼Œä»¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¯»æ±‚äº‹å®ã€å®šä¹‰ã€è¿˜æ˜¯æ“ä½œæŒ‡å—ã€‚è¿™äº›ä¿¡æ¯å¯¹äºåç»­çš„<strong>å…ƒæ•°æ®è¿‡æ»¤</strong>å’Œ<strong>æ£€ç´¢ç­–ç•¥é€‰æ‹©</strong>è‡³å…³é‡è¦ã€‚</p>
<p>ä¸ºäº†å…‹æœç”¨æˆ·æŸ¥è¯¢çš„ç®€çŸ­æ€§æˆ–æ¨¡ç³Šæ€§ï¼Œæé«˜æ£€ç´¢çš„<strong>å¬å›ç‡</strong>ï¼ŒRAG ç³»ç»Ÿå¸¸é‡‡ç”¨ LLM é©±åŠ¨çš„æŸ¥è¯¢ä¼˜åŒ–æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤šè½®å¯¹è¯åœºæ™¯ä¸­ï¼ŒLLM å¯ä»¥è¿›è¡Œ<strong>æŸ¥è¯¢é‡å†™</strong>ï¼ˆQuery Rewritingï¼‰ï¼Œæ ¹æ®å¯¹è¯å†å²å°†æ¨¡ç³Šçš„æŒ‡ä»£ï¼ˆå¦‚â€œå®ƒâ€ã€â€œé‚£ä¸ªâ€ï¼‰é‡å†™ä¸ºæ˜ç¡®ã€ç‹¬ç«‹çš„æŸ¥è¯¢ã€‚æ­¤å¤–ï¼Œ<strong>æŸ¥è¯¢æ‰©å±•</strong>ï¼ˆQuery Expansionï¼‰åˆ™é€šè¿‡ç”Ÿæˆå¤šä¸ªè¯­ä¹‰ç­‰ä»·æˆ–ä»ä¸åŒè§’åº¦æé—®çš„æŸ¥è¯¢å˜ä½“ï¼Œæ¥å¢åŠ å‘½ä¸­ç›¸å…³æ–‡æ¡£çš„å¯èƒ½æ€§ã€‚è¿™äº›ä¼˜åŒ–åçš„æŸ¥è¯¢ä¿¡å·ï¼Œæ— è®ºæ˜¯å…³é”®è¯ã€å®ä½“è¿˜æ˜¯æ–°çš„æŸ¥è¯¢è¯­å¥ï¼Œéƒ½å°†ä½œä¸ºè¾“å…¥ï¼Œä¼ é€’ç»™ä¸‹ä¸€ä¸ªé˜¶æ®µçš„æ£€ç´¢æ¨¡å—ã€‚</p>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.2ã€ æ–‡æ¡£æ£€ç´¢ï¼šæµ·é‡çŸ¥è¯†çš„ç²¾å‡†å®šä½ä¸ç­–ç•¥é€‰æ‹©</h3>
<p><strong>æ–‡æ¡£æ£€ç´¢</strong>ï¼ˆDocument Retrievalï¼‰æ˜¯ RAG çš„æ ¸å¿ƒç¯èŠ‚ï¼Œå®ƒè´Ÿè´£ä»å¤§è§„æ¨¡çŸ¥è¯†åº“ä¸­æ‰¾å‡ºä¸ä¼˜åŒ–åæŸ¥è¯¢æœ€ç›¸å…³çš„æ–‡æ¡£ç‰‡æ®µã€‚æ£€ç´¢çš„è´¨é‡ç›´æ¥å†³å®šäº† LLM ç”Ÿæˆå›ç­”çš„<strong>äº‹å®å‡†ç¡®æ€§</strong>ã€‚</p>
<p>ç°ä»£ RAG ç³»ç»Ÿä¸»è¦ä¾èµ–äºä¸‰ç§æ£€ç´¢ç­–ç•¥ï¼šç¨€ç–æ£€ç´¢ã€å¯†é›†æ£€ç´¢å’Œæ··åˆæ£€ç´¢ã€‚ç¨€ç–æ£€ç´¢ä¸»è¦åŸºäºå…³é”®è¯åŒ¹é…ï¼Œå…¶ä¸­æœ€å…·ä»£è¡¨æ€§çš„æ˜¯Â <strong>BM25</strong>ï¼ˆBest Match 25ï¼‰ç®—æ³•ã€‚BM25 æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡çš„æ£€ç´¢æ¨¡å‹ï¼Œå®ƒé€šè¿‡è®¡ç®—æŸ¥è¯¢è¯åœ¨æ–‡æ¡£ä¸­çš„é¢‘ç‡å’Œåœ¨æ•´ä¸ªè¯­æ–™åº“ä¸­çš„ç¨€æœ‰åº¦ï¼Œå¹¶å¼•å…¥äº†æ–‡æ¡£é•¿åº¦å½’ä¸€åŒ–å’Œè¯é¢‘é¥±å’Œåº¦å‚æ•°ï¼Œæ¥è¡¡é‡æ–‡æ¡£ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§ã€‚ç¨€ç–æ£€ç´¢çš„ä¼˜åŠ¿åœ¨äºå…¶<strong>å¯è§£é‡Šæ€§å¼º</strong>ã€<strong>è®¡ç®—æ•ˆç‡é«˜</strong>ï¼Œå¹¶ä¸”å¯¹è®­ç»ƒæ•°æ®ä¸­æœªå‡ºç°çš„<strong>é¢†åŸŸå¤–è¯æ±‡</strong>å…·æœ‰å¤©ç„¶çš„é²æ£’æ€§ã€‚ç„¶è€Œï¼Œå®ƒçš„ä¸»è¦å±€é™åœ¨äºæ— æ³•æ•æ‰<strong>è¯­ä¹‰ç›¸ä¼¼æ€§</strong>ï¼Œå¯¹åŒä¹‰è¯æˆ–ä¸åŒè¡¨è¾¾æ–¹å¼çš„æŸ¥è¯¢ï¼Œæ£€ç´¢æ•ˆæœå¾€å¾€ä¸ä½³ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>å¯†é›†æ£€ç´¢</strong>åˆ™åˆ©ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚ Sentence-BERTï¼‰å°†æŸ¥è¯¢å’Œæ–‡æ¡£ç¼–ç æˆä½ç»´ã€ç¨ å¯†çš„<strong>åµŒå…¥å‘é‡</strong>ã€‚è¿™ç§æ–¹æ³•é€šå¸¸é‡‡ç”¨Â <strong>Bi-Encoder</strong>ï¼ˆåŒç¼–ç å™¨ï¼‰æ¶æ„ï¼Œé€šè¿‡è®¡ç®—å‘é‡ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦æˆ–å†…ç§¯æ¥è¡¡é‡ç›¸å…³æ€§ã€‚å¯†é›†æ£€ç´¢çš„ä¼˜åŠ¿åœ¨äºå…¶å¼ºå¤§çš„<strong>è¯­ä¹‰åŒ¹é…èƒ½åŠ›</strong>ï¼Œå³ä½¿æŸ¥è¯¢å’Œæ–‡æ¡£åœ¨å­—é¢ä¸Šä¸åŒ¹é…ï¼Œä¹Ÿèƒ½é€šè¿‡è¯­ä¹‰å…³ç³»æ‰¾åˆ°ç›¸å…³å†…å®¹ã€‚å…¶æŒ‘æˆ˜åœ¨äºè®¡ç®—èµ„æºæ¶ˆè€—è¾ƒå¤§ï¼Œéœ€è¦ä¸“é—¨çš„<strong>å‘é‡æ•°æ®åº“</strong>æ”¯æŒé«˜æ•ˆçš„è¿‘ä¼¼æœ€è¿‘é‚»ï¼ˆANNï¼‰æœç´¢ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸ºäº†å…¼é¡¾å…³é”®è¯åŒ¹é…çš„ç²¾ç¡®æ€§å’Œè¯­ä¹‰åŒ¹é…çš„å¬å›ç‡ï¼Œ<strong>æ··åˆæ£€ç´¢</strong>ï¼ˆHybrid Retrievalï¼‰æˆä¸ºä¸»æµé€‰æ‹©ã€‚å®ƒé€šå¸¸åŒæ—¶æ‰§è¡Œç¨€ç–æ£€ç´¢å’Œå¯†é›†æ£€ç´¢ï¼Œç„¶åé€šè¿‡Â <strong>RRF</strong>ï¼ˆReciprocal Rank Fusionï¼‰ç­‰ç®—æ³•å¯¹ä¸¤ç§ç»“æœè¿›è¡Œèåˆæ’åºï¼Œä»è€Œå®ç°ä¼˜åŠ¿äº’è¡¥ï¼Œæœ€å¤§åŒ–æ£€ç´¢çš„é²æ£’æ€§å’Œæ•ˆæœã€‚ä¸‹è¡¨å¯¹è¿™ä¸‰ç§ç­–ç•¥è¿›è¡Œäº†æ€»ç»“ï¼š</p>





























<table><thead><tr><th align="left">æ£€ç´¢ç­–ç•¥</th><th align="left">æŠ€æœ¯åŸç†</th><th align="left">æ ¸å¿ƒä¼˜åŠ¿</th><th align="left">æ ¸å¿ƒå±€é™æ€§</th></tr></thead><tbody><tr><td align="left"><strong>ç¨€ç–æ£€ç´¢</strong></td><td align="left">åŸºäºå…³é”®è¯åŒ¹é…ï¼ˆBM25ï¼‰ï¼Œé«˜ç»´ç¨€ç–å‘é‡ã€‚</td><td align="left">å¯è§£é‡Šæ€§å¼ºï¼Œè®¡ç®—æ•ˆç‡é«˜ï¼Œå¯¹é¢†åŸŸå¤–è¯æ±‡é²æ£’ã€‚</td><td align="left">æ— æ³•æ•æ‰è¯­ä¹‰ç›¸ä¼¼æ€§ï¼Œå¯¹æŸ¥è¯¢æªè¾æ•æ„Ÿã€‚</td></tr><tr><td align="left"><strong>å¯†é›†æ£€ç´¢</strong></td><td align="left">åŸºäºæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆBi-Encoderï¼‰ï¼Œä½ç»´ç¨ å¯†å‘é‡ã€‚</td><td align="left">å¼ºå¤§çš„è¯­ä¹‰åŒ¹é…èƒ½åŠ›ï¼Œå¤æ‚æŸ¥è¯¢æ•ˆæœå¥½ã€‚</td><td align="left">è®¡ç®—èµ„æºæ¶ˆè€—å¤§ï¼Œå¯è§£é‡Šæ€§å·®ã€‚</td></tr><tr><td align="left"><strong>æ··åˆæ£€ç´¢</strong></td><td align="left">ç»“åˆç¨€ç–å’Œå¯†é›†æ£€ç´¢ï¼Œé€šè¿‡ RRF èåˆã€‚</td><td align="left">å…¼é¡¾å…³é”®è¯å’Œè¯­ä¹‰åŒ¹é…ï¼Œå¬å›ç‡å’Œé²æ£’æ€§æœ€é«˜ã€‚</td><td align="left">å®ç°å¤æ‚åº¦é«˜ï¼Œéœ€è¦ç»´æŠ¤ä¸¤å¥—ç´¢å¼•ã€‚</td></tr></tbody></table>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.3ã€ ä¿¡æ¯æ•´åˆä¸å›ç­”ç”Ÿæˆï¼šå¢å¼ºæ¨ç†ä¸å†…å®¹åˆ›ä½œ</h3>
<p>æ£€ç´¢æ¨¡å—è¿”å›çš„æ–‡æ¡£ç‰‡æ®µè¿›å…¥<strong>ä¿¡æ¯æ•´åˆ</strong>é˜¶æ®µï¼Œéšåä¸åŸå§‹æŸ¥è¯¢ä¸€èµ·è¾“å…¥ç»™ LLM è¿›è¡Œæœ€ç»ˆçš„å›ç­”ç”Ÿæˆã€‚è¿™ä¸€é˜¶æ®µæ˜¯ RAG ä»·å€¼çš„æœ€ç»ˆä½“ç°ã€‚</p>
<p><strong>ä¸Šä¸‹æ–‡æ„å»ºä¸ç²¾ç‚¼</strong>æ˜¯ä¿¡æ¯æ•´åˆçš„æ ¸å¿ƒä»»åŠ¡ã€‚ç”±äº LLM çš„ä¸Šä¸‹æ–‡çª—å£æ˜¯æœ‰é™çš„ï¼Œæ£€ç´¢åˆ°çš„ä¿¡æ¯å¿…é¡»ç»è¿‡ç²¾ç‚¼å’Œç»„ç»‡ï¼Œä»¥ç¡®ä¿æä¾›ç»™ LLM çš„ä¸Šä¸‹æ–‡æ˜¯<strong>é«˜è´¨é‡ã€ç´§å‡‘ä¸”ç›¸å…³</strong>çš„ã€‚è¿™åŒ…æ‹¬å¯¹æ£€ç´¢ç»“æœè¿›è¡Œåˆæ­¥çš„<strong>å»é‡</strong>ã€<strong>æ‘˜è¦</strong>æˆ–<strong>å…³é”®ä¿¡æ¯æå–</strong>ã€‚æœ€ç»ˆï¼Œç³»ç»Ÿå°†ç”¨æˆ·æŸ¥è¯¢å’Œç»è¿‡ç­›é€‰ã€æ’åºçš„æ–‡æ¡£ç‰‡æ®µç»„åˆæˆä¸€ä¸ªç»“æ„åŒ–çš„è¾“å…¥åºåˆ—ï¼Œå¹¶ä»¥æ˜ç¡®çš„<strong>æç¤ºè¯</strong>ï¼ˆPromptï¼‰æ ¼å¼è¾“å…¥ç»™ LLMã€‚</p>
<p>åœ¨ RAG ç³»ç»Ÿä¸­ï¼ŒLLM çš„è§’è‰²å‘ç”Ÿäº†æœ¬è´¨æ€§çš„è½¬å˜ã€‚å®ƒä¸å†æ˜¯ç‹¬ç«‹åœ°ä»å…¶å†…éƒ¨å‚æ•°åŒ–çŸ¥è¯†ä¸­ç”Ÿæˆå›ç­”ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªå¼ºå¤§çš„<strong>æ¨ç†å¼•æ“</strong>å’Œ<strong>æ–‡æœ¬ç”Ÿæˆå™¨</strong>ï¼Œå…¶ç”Ÿæˆè¿‡ç¨‹è¢«å¤–éƒ¨çŸ¥è¯†æ‰€â€œå¢å¼ºâ€å’Œâ€œçº¦æŸâ€ã€‚LLM çš„æ ¸å¿ƒä½œç”¨åœ¨äºï¼š<strong>ä¿¡æ¯ç»¼åˆ</strong>ï¼Œèƒ½å¤Ÿä»åˆ†æ•£åœ¨ä¸åŒæ–‡æ¡£ç‰‡æ®µä¸­çš„ä¿¡æ¯ä¸­è¿›è¡Œé€»è¾‘æ¨ç†ï¼›<strong>äº‹å®æ ¸æŸ¥</strong>ï¼Œç¡®ä¿ç”Ÿæˆçš„å†…å®¹ä¸æ£€ç´¢åˆ°çš„äº‹å®ä¿¡æ¯ä¸€è‡´ï¼Œä»è€Œæ˜¾è‘—é™ä½â€œå¹»è§‰â€çš„é£é™©ï¼›ä»¥åŠ<strong>è‡ªç„¶è¯­è¨€ç”Ÿæˆ</strong>ï¼Œå°†ç»¼åˆåçš„ä¿¡æ¯ä»¥æµç•…ã€ä¸“ä¸šçš„è¯­è¨€å½¢å¼è¡¨è¾¾å‡ºæ¥ã€‚æœ€ç»ˆç”Ÿæˆçš„ç­”æ¡ˆå¿…é¡»åŒæ—¶æ»¡è¶³<strong>å‡†ç¡®æ€§</strong>ï¼ˆAccuracyï¼‰å’Œ<strong>æµç•…æ€§</strong>ï¼ˆFluencyï¼‰ä¸¤ä¸ªæ ‡å‡†ï¼Œå¹¶èƒ½å¤Ÿæä¾›<strong>å¼•ç”¨æ¥æº</strong>ï¼Œä»¥å¢å¼ºç³»ç»Ÿçš„å¯ä¿¡åº¦å’Œå¯è¿½æº¯æ€§ã€‚</p>
<h2 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€ æ ¸å¿ƒç»„ä»¶æ·±åº¦è§£æ</h2>
<p>RAG ç³»ç»Ÿçš„æ€§èƒ½ä¸Šé™å–å†³äºå…¶æ ¸å¿ƒç»„ä»¶çš„æŠ€æœ¯é€‰å‹å’Œä¼˜åŒ–ç¨‹åº¦ã€‚ä»æ•°æ®æ‘„å–åˆ°å‘é‡å­˜å‚¨ï¼Œæ¯ä¸€ä¸ªç¯èŠ‚éƒ½è•´å«ç€å¤æ‚çš„æŠ€æœ¯æŒ‘æˆ˜å’Œä¼˜åŒ–ç©ºé—´ã€‚</p>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.1ã€ æ•°æ®é¢„å¤„ç†ä¸æ–‡æœ¬åˆ†å—</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ce14de1e9074d1f927cf37d77875bac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=Nc79xCi%2BugGtnOGOd0%2FsJ7Mz8ho%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æ•°æ®é¢„å¤„ç†</strong>æ˜¯ RAG ç³»ç»Ÿçš„â€œåœ°åŸºâ€ï¼Œå…¶ä»»åŠ¡æ˜¯å°†åŸå§‹ã€å¼‚æ„çš„æ•°æ®è½¬åŒ–ä¸ºç»Ÿä¸€ã€å¹²å‡€ã€é€‚åˆæ£€ç´¢å’ŒåµŒå…¥æ¨¡å‹å¤„ç†çš„æ ¼å¼ã€‚åœ¨å®é™…éƒ¨ç½²ä¸­ï¼ŒRAG ç³»ç»Ÿéœ€è¦å¤„ç†å„ç§å¤æ‚çš„æ•°æ®æºï¼Œä¾‹å¦‚åŒ…å«å¤æ‚å¸ƒå±€ã€è¡¨æ ¼å’Œå›¾ç‰‡çš„Â <strong>PDF æ–‡æ¡£</strong>ï¼Œéœ€è¦ä½¿ç”¨Â <strong>Layout-Aware Parsers</strong>Â æ¥æå–æ–‡æœ¬å¹¶ä¿ç•™ç»“æ„ä¿¡æ¯ï¼›ä»¥åŠåŒ…å«å¤§é‡å†—ä½™æ ‡ç­¾çš„Â <strong>HTML ç½‘é¡µ</strong>ï¼Œéœ€è¦è¿›è¡Œå†…å®¹æå–ä»¥åªä¿ç•™æ–‡ç« æ­£æ–‡ã€‚å¯¹äºÂ <strong>ç»“æ„åŒ–æ•°æ®</strong>ï¼ˆå¦‚ SQL æ•°æ®åº“ï¼‰ï¼Œåˆ™éœ€è¦å°†å…¶è½¬åŒ–ä¸ºè‡ªç„¶è¯­è¨€æè¿°ï¼Œä»¥ä¾¿è¿›è¡Œå‘é‡åŒ–ã€‚</p>
<p>åœ¨é¢„å¤„ç†æµç¨‹ä¸­ï¼Œ<strong>æ–‡æœ¬åˆ†å—</strong>ï¼ˆChunkingï¼‰æ— ç–‘æ˜¯æœ€å…·è‰ºæœ¯æ€§å’ŒæŒ‘æˆ˜æ€§çš„ç¯èŠ‚ã€‚ç›®æ ‡æ˜¯åˆ›å»ºå¤§å°é€‚ä¸­ã€è¯­ä¹‰å®Œæ•´çš„â€œå—â€ï¼ˆChunksï¼‰ï¼Œä»¥æœ€å¤§åŒ–æ£€ç´¢çš„<strong>ç›¸å…³æ€§</strong>å’Œ LLM çš„<strong>å¤„ç†æ•ˆç‡</strong>ã€‚ä¸€ä¸ªå¥½çš„æ–‡æœ¬å—åº”è¯¥åŒ…å«è¶³å¤Ÿçš„ä¿¡æ¯æ¥å›ç­”ä¸€ä¸ªé—®é¢˜ï¼Œä½†åˆä¸èƒ½è¿‡é•¿ï¼Œä»¥é¿å…ç¨€é‡Šå…³é”®ä¿¡æ¯ã€‚</p>
<p>åœ¨åˆ†å—ç­–ç•¥çš„é€‰æ‹©ä¸Šï¼Œéœ€è¦è¿›è¡Œç²¾å¦™çš„æƒè¡¡ã€‚<strong>å›ºå®šå¤§å°åˆ†å—</strong>è™½ç„¶å®ç°ç®€å•ï¼Œä½†å®¹æ˜“åœ¨è¯­ä¹‰è¾¹ç•Œå¤„æˆªæ–­ï¼Œç ´åä¸Šä¸‹æ–‡ã€‚å› æ­¤ï¼Œä¸šç•Œæ›´å€¾å‘äºé‡‡ç”¨<strong>è¯­ä¹‰åˆ†å—</strong>ç­–ç•¥ï¼Œä¾‹å¦‚åŸºäºæ®µè½ã€ç« èŠ‚æˆ–æ ‡é¢˜è¿›è¡Œåˆ†å‰²ã€‚å…¶ä¸­ï¼Œ<strong>é€’å½’å­—ç¬¦æ–‡æœ¬åˆ†å‰²å™¨</strong>ï¼ˆRecursiveCharacterTextSplitterï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„å®è·µï¼Œå®ƒå°è¯•ä½¿ç”¨ä¸€ç³»åˆ—åˆ†éš”ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ã€å¥å·ã€ç©ºæ ¼ï¼‰é€’å½’åœ°åˆ†å‰²æ–‡æœ¬ï¼Œä»¥ä¼˜å…ˆä¿æŒè¯­ä¹‰å®Œæ•´æ€§ã€‚ä¸‹è¡¨æ€»ç»“äº†ä¸»è¦çš„æ–‡æœ¬åˆ†å—ç­–ç•¥ï¼š</p>





























<table><thead><tr><th align="left">åˆ†å—ç­–ç•¥</th><th align="left">æè¿°</th><th align="left">æ ¸å¿ƒä¼˜åŠ¿</th><th align="left">æ ¸å¿ƒæŒ‘æˆ˜</th></tr></thead><tbody><tr><td align="left"><strong>å›ºå®šå¤§å°åˆ†å—</strong></td><td align="left">æŒ‰å›ºå®šå­—ç¬¦æ•°æˆ– Token æ•°åˆ†å‰²ï¼Œè®¾ç½®é‡å é‡ã€‚</td><td align="left">å®ç°ç®€å•ï¼Œå¤§å°å¯æ§ã€‚</td><td align="left">å®¹æ˜“åœ¨è¯­ä¹‰è¾¹ç•Œå¤„æˆªæ–­ï¼Œç ´åä¸Šä¸‹æ–‡ã€‚</td></tr><tr><td align="left"><strong>è¯­ä¹‰åˆ†å—</strong></td><td align="left">åŸºäºæ®µè½ã€ç« èŠ‚ã€æ ‡é¢˜ç­‰è¯­ä¹‰è¾¹ç•Œè¿›è¡Œåˆ†å‰²ã€‚</td><td align="left">ä¿ç•™è¯­ä¹‰å®Œæ•´æ€§ï¼Œæ¯ä¸ªå—æ˜¯ç‹¬ç«‹çš„é€»è¾‘å•å…ƒã€‚</td><td align="left">å®ç°å¤æ‚ï¼Œä¾èµ–äºæ–‡æœ¬çš„æ ¼å¼è§„èŒƒæ€§ã€‚</td></tr><tr><td align="left"><strong>çˆ¶æ–‡æ¡£æ£€ç´¢</strong></td><td align="left">å­˜å‚¨å°å—ç”¨äºæ£€ç´¢ï¼Œè¿”å›åŒ…å«è¯¥å°å—çš„æ›´å¤§â€œçˆ¶æ–‡æ¡£â€ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</td><td align="left">æ£€ç´¢ç²¾ç¡®ï¼ˆå°å—ï¼‰ï¼Œä¸Šä¸‹æ–‡ä¸°å¯Œï¼ˆå¤§å—ï¼‰ã€‚</td><td align="left">ç´¢å¼•å’Œæ£€ç´¢é€»è¾‘æ›´å¤æ‚ã€‚</td></tr></tbody></table>
<p>åœ¨å®è·µä¸­ï¼Œ<strong>å—å¤§å°</strong>ï¼ˆ<code>chunk_size</code>ï¼‰çš„é€‰æ‹©éœ€è¦æ ¹æ®æ‰€ä½¿ç”¨çš„åµŒå…¥æ¨¡å‹å’Œ LLM çš„ä¸Šä¸‹æ–‡çª—å£å¤§å°è¿›è¡Œæƒè¡¡ï¼Œè€Œ<strong>é‡å é‡</strong>ï¼ˆ<code>chunk_overlap</code>ï¼‰çš„è®¾ç½®åˆ™ç”¨äºç¡®ä¿è¯­ä¹‰è¿ç»­æ€§ï¼Œé˜²æ­¢å…³é”®ä¿¡æ¯è¢«åˆ†å‰²åˆ°ç›¸é‚»å—çš„è¾¹ç•Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe9febdb65349b1999def690e93e74e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=gHyEpYkySSMLlVzomKc%2Bj2erf5E%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.2ã€ åµŒå…¥æŠ€æœ¯ï¼šè¯­ä¹‰ç©ºé—´çš„é‡åŒ–ä¸æ¨¡å‹é€‰æ‹©</h3>
<p><strong>åµŒå…¥æŠ€æœ¯</strong>ï¼ˆEmbeddingï¼‰æ˜¯ RAG ç³»ç»Ÿä¸­å®ç°è¯­ä¹‰åŒ¹é…çš„åŸºçŸ³ã€‚å®ƒå°†äººç±»å¯è¯»çš„æ–‡æœ¬è½¬åŒ–ä¸ºä½ç»´ã€ç¨ å¯†çš„æ•°å€¼å‘é‡ï¼Œä»è€Œåœ¨å‘é‡ç©ºé—´ä¸­é‡åŒ–æ–‡æœ¬çš„è¯­ä¹‰ä¿¡æ¯ã€‚åœ¨è¿™ä¸ªå‘é‡ç©ºé—´ä¸­ï¼Œè¯­ä¹‰ç›¸ä¼¼çš„æ–‡æœ¬ç‰‡æ®µä¼šè¢«æ˜ å°„åˆ°å½¼æ­¤é è¿‘çš„ä½ç½®ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a879bc2418b44a3fb96b752d39b705af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=2YSth1LSQgb%2F9R7WeXZhZDtdnDo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åµŒå…¥æ¨¡å‹çš„è´¨é‡ç›´æ¥å†³å®šäº†å¯†é›†æ£€ç´¢çš„ä¸Šé™ã€‚é€‰æ‹©æ¨¡å‹æ—¶ï¼Œéœ€è¦ç»¼åˆè€ƒè™‘å…¶åœ¨Â <strong>MTEB</strong>ï¼ˆMassive Text Embedding Benchmarkï¼‰ç­‰åŸºå‡†æµ‹è¯•ä¸Šçš„<strong>æ€§èƒ½</strong>ã€<strong>é¢†åŸŸé€‚åº”æ€§</strong>ã€<strong>è®¡ç®—èµ„æºéœ€æ±‚</strong>ä»¥åŠ<strong>æˆæœ¬</strong>ã€‚ä¾‹å¦‚ï¼Œ<strong>Sentence-BERT (SBERT)</strong> Â ç³»åˆ—æ¨¡å‹å› å…¶åœ¨å¥å­ç›¸ä¼¼åº¦ä»»åŠ¡ä¸Šçš„å‡ºè‰²è¡¨ç°å’Œé«˜è®¡ç®—æ•ˆç‡è€Œå¹¿å—æ¬¢è¿ã€‚å¯¹äºéœ€è¦å¤„ç†ä¸­æ–‡æˆ–ç‰¹å®šé¢†åŸŸçŸ¥è¯†çš„ RAG ç³»ç»Ÿï¼Œåˆ™éœ€è¦è€ƒè™‘ä½¿ç”¨åœ¨ç›¸å…³æ•°æ®ä¸Šè¿›è¡Œè¿‡å¾®è°ƒçš„Â <strong>BGE</strong>ï¼ˆBAAI General Embeddingï¼‰æˆ–Â <strong>GTE</strong>ï¼ˆGeneral Text Embeddingsï¼‰ç­‰é«˜æ€§èƒ½æ¨¡å‹ã€‚</p>
<p>ä¸€æ—¦æ–‡æœ¬è¢«è½¬æ¢ä¸ºåµŒå…¥å‘é‡ï¼Œç›¸å…³æ€§é€šå¸¸é€šè¿‡è®¡ç®—å‘é‡ä¹‹é—´çš„<strong>ä½™å¼¦ç›¸ä¼¼åº¦</strong>æ¥è¡¡é‡ã€‚ä½™å¼¦ç›¸ä¼¼åº¦è¡¡é‡çš„æ˜¯ä¸¤ä¸ªå‘é‡æ–¹å‘çš„ä¸€è‡´æ€§ï¼Œå®ƒèƒ½å¤Ÿæœ‰æ•ˆåœ°å¿½ç•¥æ–‡æœ¬é•¿åº¦çš„å½±å“ï¼Œä¸“æ³¨äºè¯­ä¹‰æ–¹å‘çš„åŒ¹é…ã€‚åœ¨å‘é‡ç©ºé—´ä¸­ï¼ŒæŸ¥è¯¢å‘é‡ä¸æ–‡æ¡£ç‰‡æ®µå‘é‡è¶Šæ¥è¿‘ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦è¶Šæ¥è¿‘ 1ï¼‰ï¼Œåˆ™è¯­ä¹‰è¶Šç›¸ä¼¼ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„è¯­ä¹‰æ£€ç´¢ã€‚</p>
<h3 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.3ã€ å‘é‡å­˜å‚¨ä¸ç´¢å¼•ï¼šé«˜æ•ˆæœç´¢ä¸è°ƒä¼˜</h3>
<p>ä¸€æ—¦æ–‡æœ¬è¢«åµŒå…¥ï¼Œå°±éœ€è¦<strong>å‘é‡æ•°æ®åº“</strong>ï¼ˆVector Databaseï¼‰æ¥é«˜æ•ˆå­˜å‚¨ã€ç®¡ç†å’ŒæŸ¥è¯¢è¿™äº›é«˜ç»´å‘é‡ã€‚å‘é‡æ•°æ®åº“ï¼ˆå¦‚ Pinecone, Milvus, Qdrant, Chromaï¼‰çš„æ ¸å¿ƒä»·å€¼åœ¨äºæ”¯æŒé«˜æ•ˆçš„<strong>è¿‘ä¼¼æœ€è¿‘é‚»</strong>ï¼ˆApproximate Nearest Neighbor, ANNï¼‰æœç´¢ã€‚</p>
<p>ç”±äºç²¾ç¡®æœ€è¿‘é‚»æœç´¢ï¼ˆENNï¼‰åœ¨é«˜ç»´ç©ºé—´ä¸­è®¡ç®—æˆæœ¬æé«˜ï¼Œå‘é‡æ•°æ®åº“æ™®éé‡‡ç”¨ ANN ç®—æ³•ï¼Œé€šè¿‡ç‰ºç‰²å°‘é‡ç²¾åº¦æ¥æ¢å–æŸ¥è¯¢é€Ÿåº¦çš„æ˜¾è‘—æå‡ã€‚å…¶ä¸­ï¼Œ<strong>HNSW</strong>ï¼ˆHierarchical Navigable Small Worldï¼‰å’ŒÂ <strong>IVF</strong>ï¼ˆInverted File Indexï¼‰æ˜¯ç›®å‰æœ€ä¸»æµçš„ä¸¤ç§ç´¢å¼•ç»“æ„ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fceba753c3b94529a7c2c819a512d062~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=tiuE541RJ%2F86%2FJ0aR9KJFfeAdMs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>HNSW æ˜¯ä¸€ç§åŸºäºå›¾çš„ ANN ç®—æ³•ï¼Œå®ƒæ„å»ºäº†ä¸€ä¸ªå¤šå±‚å›¾ç»“æ„ï¼Œé€šè¿‡å›¾éå†è¿›è¡Œæœç´¢ã€‚å…¶ä¼˜åŠ¿åœ¨äº<strong>å¬å›ç‡é«˜</strong>ã€<strong>æœç´¢é€Ÿåº¦å¿«</strong>ï¼Œä½†å†…å­˜å ç”¨ç›¸å¯¹è¾ƒé«˜ã€‚åœ¨å®è·µä¸­ï¼Œé€šè¿‡è°ƒæ•´Â <strong>efSearchefSearch</strong>Â å‚æ•°å¯ä»¥çµæ´»åœ°åœ¨<strong>å¬å›ç‡</strong>å’Œ<strong>æŸ¥è¯¢å»¶è¿Ÿ</strong>ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼šè¾ƒå¤§çš„Â efSearchefSearchÂ å€¼ä¼šæé«˜å¬å›ç‡ï¼Œä½†ä¼šå¢åŠ å»¶è¿Ÿã€‚</p>
<p>IVF åˆ™æ˜¯ä¸€ç§åŸºäºèšç±»çš„ ANN ç®—æ³•ï¼Œå®ƒé¦–å…ˆå°†å‘é‡ç©ºé—´åˆ’åˆ†ä¸ºå¤šä¸ªå•å…ƒï¼Œæœç´¢æ—¶åªåœ¨æœ€è¿‘çš„å‡ ä¸ªå•å…ƒå†…éƒ¨è¿›è¡Œç²¾ç¡®æœç´¢ã€‚IVF çš„ä¼˜åŠ¿åœ¨äº<strong>å†…å­˜æ•ˆç‡é«˜</strong>ï¼Œé€‚ç”¨äºè¶…å¤§è§„æ¨¡æ•°æ®é›†ã€‚ä¸‹è¡¨æ€»ç»“äº†è¿™ä¸¤ç§ä¸»æµ ANN ç´¢å¼•ç®—æ³•çš„ç‰¹ç‚¹ï¼š</p>























<table><thead><tr><th align="left">ANN ç´¢å¼•ç®—æ³•</th><th align="left">åŸç†æ¦‚è¿°</th><th align="left">æ ¸å¿ƒä¼˜åŠ¿</th><th align="left">æ€§èƒ½æƒè¡¡</th></tr></thead><tbody><tr><td align="left"><strong>HNSW</strong></td><td align="left">åŸºäºå›¾çš„ç®—æ³•ï¼Œæ„å»ºå¤šå±‚å›¾ç»“æ„è¿›è¡Œæœç´¢ã€‚</td><td align="left">å¬å›ç‡é«˜ï¼Œæœç´¢é€Ÿåº¦å¿«ï¼Œæ”¯æŒåŠ¨æ€æ›´æ–°ã€‚</td><td align="left">å†…å­˜å ç”¨é«˜ï¼›é€šè¿‡Â efSearchefSearchÂ æƒè¡¡å¬å›ç‡ä¸å»¶è¿Ÿã€‚</td></tr><tr><td align="left"><strong>IVF</strong></td><td align="left">åŸºäºèšç±»çš„ç®—æ³•ï¼Œæœç´¢æ—¶åªæ£€æŸ¥æœ€è¿‘çš„å•å…ƒã€‚</td><td align="left">å†…å­˜æ•ˆç‡é«˜ï¼Œé€‚ç”¨äºè¶…å¤§è§„æ¨¡æ•°æ®é›†ã€‚</td><td align="left">å¬å›ç‡å¯èƒ½ç•¥ä½ï¼›é€šè¿‡Â nprobenprobeâ€‹Â æƒè¡¡å¬å›ç‡ä¸å»¶è¿Ÿã€‚</td></tr></tbody></table>
<p>å‘é‡æ•°æ®åº“è¿˜å¿…é¡»æ”¯æŒ<strong>å…ƒæ•°æ®è¿‡æ»¤</strong>ï¼Œå…è®¸ç”¨æˆ·åœ¨æ£€ç´¢æ—¶æ ¹æ®æ–‡æ¡£çš„å…ƒæ•°æ®ï¼ˆå¦‚æ—¥æœŸã€ä½œè€…ã€ä¸»é¢˜ï¼‰è¿›è¡Œé™åˆ¶æˆ–ç­›é€‰ï¼Œä»è€Œå®ç°æ›´ç²¾ç¡®çš„<strong>æ··åˆæœç´¢</strong>ï¼ˆHybrid Searchï¼‰ã€‚é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“å’Œç´¢å¼•ç­–ç•¥ï¼Œå¹¶è¿›è¡Œç²¾ç»†çš„å‚æ•°è°ƒä¼˜ï¼Œæ˜¯ç¡®ä¿ RAG ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç¨³å®šã€é«˜æ•ˆè¿è¡Œçš„å…³é”®ã€‚</p>
<h2 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€ é«˜çº§ä¼˜åŒ–ç­–ç•¥</h2>
<p>ä¸ºäº†å°† RAG ç³»ç»Ÿçš„æ€§èƒ½æ¨å‘æè‡´ï¼Œå¿…é¡»åœ¨æ£€ç´¢çš„å‰ç«¯å’Œåç«¯å¼•å…¥é«˜çº§ä¼˜åŒ–ç­–ç•¥ï¼Œå¯¹æŸ¥è¯¢å’Œæ£€ç´¢ç»“æœè¿›è¡Œç²¾ç›Šæ±‚ç²¾çš„å¤„ç†ã€‚</p>
<h3 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.1ã€ é¢„æ£€ç´¢ä¼˜åŒ–ï¼šä¸»åŠ¨å¢å¼ºæŸ¥è¯¢ä¿¡å·</h3>
<p><strong>é¢„æ£€ç´¢ä¼˜åŒ–</strong>æ—¨åœ¨åœ¨å®é™…æ£€ç´¢å‘ç”Ÿä¹‹å‰ï¼Œé€šè¿‡å¯¹æŸ¥è¯¢è¿›è¡Œæ™ºèƒ½å¤„ç†ï¼Œç”Ÿæˆæ›´å¼ºå¤§çš„æ£€ç´¢ä¿¡å·ï¼Œä»¥è§£å†³åŸå§‹æŸ¥è¯¢çš„å±€é™æ€§ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9267e540ba714cf6af8b7946c5cd0140~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=Pnnzjqd%2BEk7f7HVLOIGTUVXlVgs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å…¶ä¸­æœ€å…·åˆ›æ–°æ€§çš„æŠ€æœ¯ä¹‹ä¸€æ˜¯<strong>å‡è®¾æ€§æ–‡æ¡£åµŒå…¥ï¼ˆHyDEï¼‰</strong> ã€‚HyDE è§£å†³äº†<strong>è¯æ±‡ä¸åŒ¹é…</strong>ï¼ˆLexical Gapï¼‰çš„é—®é¢˜ã€‚å…¶åŸç†æ˜¯ï¼šé¦–å…ˆåˆ©ç”¨ LLM æ ¹æ®åŸå§‹æŸ¥è¯¢ç”Ÿæˆä¸€ä¸ª<strong>å‡è®¾æ€§æ–‡æ¡£</strong>ï¼Œè¿™ä¸ªæ–‡æ¡£æ˜¯ LLM è®¤ä¸ºæœ€èƒ½å›ç­”åŸå§‹æŸ¥è¯¢çš„ç†æƒ³æ–‡æ¡£ã€‚ç„¶åï¼Œå¯¹è¿™ä¸ªå‡è®¾æ€§æ–‡æ¡£è¿›è¡ŒåµŒå…¥ï¼Œå¹¶ä½¿ç”¨å…¶åµŒå…¥å‘é‡è¿›è¡Œæ£€ç´¢ã€‚ç”±äºå‡è®¾æ€§æ–‡æ¡£é€šå¸¸æ¯”åŸå§‹æŸ¥è¯¢åŒ…å«æ›´ä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯å’Œæ›´æ¥è¿‘æ–‡æ¡£çš„è¯æ±‡ï¼Œå› æ­¤å…¶åµŒå…¥å‘é‡èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰æŸ¥è¯¢çš„æ„å›¾ï¼Œæ˜¾è‘—æé«˜æ£€ç´¢çš„å‡†ç¡®æ€§ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•ä¼šå¢åŠ é¢å¤–çš„ LLM è°ƒç”¨ï¼Œä»è€Œå¢åŠ ç³»ç»Ÿçš„<strong>å»¶è¿Ÿ</strong>å’Œ<strong>è¿è¡Œæˆæœ¬</strong>ã€‚</p>
<p>æ­¤å¤–ï¼Œå¯¹äºéœ€è¦å¤šæ­¥æ¨ç†æ‰èƒ½å›ç­”çš„å¤æ‚é—®é¢˜ï¼Œç³»ç»Ÿéœ€è¦å¼•å…¥Â <strong>LLM Agent</strong>Â æ¥åè°ƒå’Œè§„åˆ’æ£€ç´¢æ­¥éª¤ï¼Œå®ç°<strong>å¤šè·³æ£€ç´¢</strong>ï¼ˆMulti-Hop Retrievalï¼‰ã€‚Agent ä¼šå°†ä¸€ä¸ªå¤æ‚é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ï¼Œå¹¶ä¾æ¬¡è¿›è¡Œæ£€ç´¢ï¼Œå°†å‰ä¸€æ­¥çš„æ£€ç´¢ç»“æœä½œä¸ºåä¸€æ­¥æŸ¥è¯¢çš„ä¸Šä¸‹æ–‡ï¼Œä»è€Œå®ç°å¤æ‚çš„çŸ¥è¯†æ¨ç†ã€‚</p>
<h3 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.2ã€ æ£€ç´¢åå¤„ç†ï¼šç²¾ç‚¼ä¸é‡æ’åºçš„äºŒæ¬¡ç­›é€‰</h3>
<p><strong>æ£€ç´¢åå¤„ç†</strong>å‘ç”Ÿåœ¨æ–‡æ¡£æ£€ç´¢ä¹‹åã€LLM ç”Ÿæˆä¹‹å‰ï¼Œæ˜¯æå‡<strong>å‡†ç¡®ç‡</strong>ï¼ˆPrecisionï¼‰çš„å…³é”®ç¯èŠ‚ã€‚å°½ç®¡æ£€ç´¢å™¨å·²ç»è¿”å›äº† Top-K ç»“æœï¼Œä½†è¿™äº›ç»“æœå¯èƒ½ä»ç„¶åŒ…å«ä¸€äº›ç›¸å…³æ€§è¾ƒä½æˆ–å†—ä½™çš„æ–‡æ¡£ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/696c85344af649c99d22ec827725ec9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=Cegcsg%2BFo3d0u8ZOGqE0pFsg00Q%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>é‡æ’åº</strong>ï¼ˆRe-rankingï¼‰æ˜¯æ£€ç´¢åå¤„ç†ä¸­æœ€å¸¸ç”¨çš„æŠ€æœ¯ã€‚å®ƒæ—¨åœ¨å¯¹æ£€ç´¢å™¨è¿”å›çš„åˆæ­¥ç»“æœè¿›è¡ŒäºŒæ¬¡ç­›é€‰å’Œæ’åºã€‚é‡æ’åºé€šå¸¸ä½¿ç”¨<strong>äº¤å‰ç¼–ç å™¨</strong>ï¼ˆCross-Encoderï¼‰æ¨¡å‹ã€‚ä¸ Bi-Encoder ç‹¬ç«‹ç¼–ç æŸ¥è¯¢å’Œæ–‡æ¡£ä¸åŒï¼Œäº¤å‰ç¼–ç å™¨å°†æŸ¥è¯¢å’Œæ–‡æ¡£<strong>æ‹¼æ¥</strong>åœ¨ä¸€èµ·ï¼Œç„¶åå°†æ‹¼æ¥åçš„æ–‡æœ¬è¾“å…¥åˆ°æ¨¡å‹ä¸­ã€‚è¿™ç§æ–¹å¼èƒ½å¤Ÿæ•æ‰æŸ¥è¯¢å’Œæ–‡æ¡£ä¹‹é—´<strong>ç»†ç²’åº¦çš„äº¤äº’ä¿¡æ¯</strong>ï¼Œä»è€Œåœ¨åˆ¤æ–­ç›¸å…³æ€§æ–¹é¢æ¯” Bi-Encoder æ›´å‡†ç¡®ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜æœ€ç»ˆç­”æ¡ˆçš„è´¨é‡ã€‚ç”±äºäº¤å‰ç¼–ç å™¨çš„è®¡ç®—æˆæœ¬è¾ƒé«˜ï¼Œå®ƒé€šå¸¸åªç”¨äºå¯¹ Bi-Encoder è¿”å›çš„å°‘é‡ï¼ˆå¦‚ Top-50ï¼‰ç»“æœè¿›è¡ŒäºŒæ¬¡æ’åºï¼Œé€‰å‡ºæœ€ç›¸å…³çš„ Top-Nï¼ˆå¦‚ Top-5ï¼‰ä½œä¸º LLM çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>é™¤äº†é‡æ’åºï¼Œç³»ç»Ÿè¿˜éœ€è¦è§£å†³æ£€ç´¢ç»“æœçš„<strong>å†—ä½™æ€§</strong>å’Œ<strong>å¤šæ ·æ€§</strong>é—®é¢˜ã€‚<strong>æœ€å¤§è¾¹é™…ç›¸å…³æ€§ï¼ˆMMRï¼‰<strong>æ˜¯ä¸€ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå®ƒåœ¨é€‰æ‹©ä¸‹ä¸€ä¸ªæ–‡æ¡£æ—¶ï¼Œä¸ä»…è€ƒè™‘æ–‡æ¡£ä¸æŸ¥è¯¢çš„</strong>ç›¸å…³æ€§</strong>ï¼Œè¿˜è€ƒè™‘å…¶ä¸å·²é€‰æ–‡æ¡£çš„<strong>å¤šæ ·æ€§</strong>ã€‚MMR çš„ç›®æ ‡æ˜¯é€‰æ‹©ä¸€ä¸ªæ—¢ç›¸å…³åˆä¸å·²é€‰æ–‡æ¡£ä¸é‡å¤çš„æ–‡æ¡£é›†åˆï¼Œä»è€Œç¡®ä¿æä¾›ç»™ LLM çš„ä¸Šä¸‹æ–‡æ—¢å…¨é¢åˆç²¾ç‚¼ã€‚</p>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.3ã€ æ¨¡å—ååŒä¸è¯„ä¼°ä½“ç³»</h3>
<p>RAG ç³»ç»Ÿçš„å“è¶Šæ€§èƒ½æºäºå…¶å„æ¨¡å—çš„ç´§å¯†ååŒå’ŒæŒç»­çš„è¿­ä»£ä¼˜åŒ–ã€‚åœ¨å¤æ‚çš„ RAG æ¶æ„ä¸­ï¼ŒLLM ä¸ä»…æ˜¯ç”Ÿæˆå™¨ï¼Œè¿˜å¯ä»¥ä½œä¸ºÂ <strong>Agent</strong>Â åè°ƒä¸åŒæ¨¡å—çš„è°ƒç”¨ï¼Œä¾‹å¦‚æ ¹æ®æ£€ç´¢ç»“æœçš„è´¨é‡ï¼Œå†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œ<strong>äºŒæ¬¡æ£€ç´¢</strong>æˆ–è°ƒç”¨å¤–éƒ¨å·¥å…·ã€‚</p>
<p>ä¸€ä¸ªæˆç†Ÿçš„ RAG ç³»ç»Ÿå¿…é¡»åŒ…å«æŒç»­çš„<strong>åé¦ˆå¾ªç¯</strong>ï¼ˆFeedback Loopï¼‰ã€‚åé¦ˆå¯ä»¥æ¥è‡ªç”¨æˆ·ï¼ˆæ˜¾å¼æ»¡æ„åº¦è¯„åˆ†æˆ–éšå¼åç»­æŸ¥è¯¢è¡Œä¸ºï¼‰å’Œç³»ç»Ÿå†…éƒ¨ï¼ˆæ¨¡å‹è¯„ä¼°ï¼‰ã€‚</p>
<p>RAG ç³»ç»Ÿçš„è¯„ä¼°æ˜¯ä¸€ä¸ªå¤šç»´åº¦çš„æŒ‘æˆ˜ï¼Œéœ€è¦åŒæ—¶è¯„ä¼°æ£€ç´¢è´¨é‡å’Œç”Ÿæˆè´¨é‡ã€‚<strong>æ£€ç´¢è´¨é‡</strong>é€šå¸¸é€šè¿‡Â <strong>å¬å›ç‡</strong>ï¼ˆRecallï¼‰ã€<strong>MRR</strong>ï¼ˆMean Reciprocal Rankï¼‰ç­‰æŒ‡æ ‡æ¥è¡¡é‡ï¼›è€Œ<strong>ç”Ÿæˆè´¨é‡</strong>åˆ™éœ€è¦è¯„ä¼°ç­”æ¡ˆçš„<strong>å¿ å®åº¦</strong>ï¼ˆFaithfulnessï¼Œå³ç­”æ¡ˆä¸ä¸Šä¸‹æ–‡çš„ä¸€è‡´æ€§ï¼‰ã€<strong>ç›¸å…³æ€§</strong>ï¼ˆRelevanceï¼‰å’Œ<strong>æµç•…æ€§</strong>ï¼ˆFluencyï¼‰ã€‚ä¸‹è¡¨æ€»ç»“äº† RAG ç³»ç»Ÿçš„ä¸»è¦è¯„ä¼°ç»´åº¦ï¼š</p>





























<table><thead><tr><th align="left">è¯„ä¼°ç»´åº¦</th><th align="left">æ ¸å¿ƒå…³æ³¨ç‚¹</th><th align="left">å…³é”®æŒ‡æ ‡/æ¡†æ¶</th><th align="left">ä¼˜åŒ–æ–¹å‘</th></tr></thead><tbody><tr><td align="left"><strong>æ£€ç´¢è´¨é‡</strong></td><td align="left">æ‰¾åˆ°æ‰€æœ‰ç›¸å…³æ–‡æ¡£çš„èƒ½åŠ›å’Œæ’åºå‡†ç¡®æ€§ã€‚</td><td align="left">å¬å›ç‡ã€MRRã€NDCG</td><td align="left">åµŒå…¥æ¨¡å‹ã€åˆ†å—ç­–ç•¥ã€ç´¢å¼•å‚æ•°ã€‚</td></tr><tr><td align="left"><strong>ç”Ÿæˆè´¨é‡</strong></td><td align="left">ç­”æ¡ˆä¸ä¸Šä¸‹æ–‡çš„ä¸€è‡´æ€§ã€ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§ã€‚</td><td align="left">å¿ å®åº¦ã€ç›¸å…³æ€§ã€æµç•…æ€§ï¼ˆRAGASï¼‰</td><td align="left">Prompt å·¥ç¨‹ã€LLM å‚æ•°ã€ä¸Šä¸‹æ–‡ç²¾ç‚¼ã€‚</td></tr><tr><td align="left"><strong>ç«¯åˆ°ç«¯æ€§èƒ½</strong></td><td align="left">ç³»ç»Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„æ•ˆç‡å’Œç»æµæ€§ã€‚</td><td align="left">å»¶è¿Ÿï¼ˆLatencyï¼‰ã€ååé‡ï¼ˆQPSï¼‰ã€æˆæœ¬</td><td align="left">ANN ç®—æ³•ã€ç¡¬ä»¶èµ„æºã€ç¼“å­˜ç­–ç•¥ã€‚</td></tr></tbody></table>
<p><strong>RAGAS</strong>ï¼ˆRetrieval-Augmented Generation Assessmentï¼‰ç­‰è¯„ä¼°æ¡†æ¶çš„å‡ºç°ï¼Œåˆ©ç”¨ LLM è‡ªèº«çš„èƒ½åŠ›æ¥è¯„ä¼° RAG ç³»ç»Ÿçš„å¿ å®åº¦å’Œä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼Œä¸º RAG ç³»ç»Ÿçš„è¿­ä»£ä¼˜åŒ–æä¾›äº†é‡åŒ–å·¥å…·ã€‚é€šè¿‡è¿™ç§æŒç»­çš„è¯„ä¼°å’Œä¼˜åŒ–ï¼ŒRAG ç³»ç»Ÿèƒ½å¤Ÿä¸æ–­å­¦ä¹ å’Œé€‚åº”æ–°çš„æ•°æ®å’Œç”¨æˆ·éœ€æ±‚ï¼Œä»è€Œæä¾›è¶Šæ¥è¶Šæ™ºèƒ½å’Œå¯é çš„æœåŠ¡ã€‚</p>
<h2 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ æ€»ç»“</h2>
<p>RAG æŠ€æœ¯é€šè¿‡å°† LLM çš„å¼ºå¤§ç”Ÿæˆèƒ½åŠ›ä¸å¤–éƒ¨çŸ¥è¯†åº“çš„å®æ—¶æ€§ã€å‡†ç¡®æ€§ç›¸ç»“åˆï¼Œä¸ºæ„å»ºå¯é ã€å¯ä¿¡èµ–çš„ AI åº”ç”¨æä¾›äº†å¼ºå¤§çš„æŠ€æœ¯æ¡†æ¶ã€‚å®ƒä»£è¡¨äº† LLM ä»â€œçŸ¥è¯†é»‘ç®±â€èµ°å‘â€œçŸ¥è¯†é€æ˜â€çš„å…³é”®ä¸€æ­¥ã€‚</p>
<p>RAG çš„æœªæ¥å°†èšç„¦äºÂ <strong>å¤šæ¨¡æ€ RAG</strong>ï¼ˆå¤„ç†æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ï¼‰ã€<strong>å¤šè·³æ¨ç†</strong>å’ŒÂ <strong>LLM Agent ååŒ</strong>ï¼Œä»¥åº”å¯¹æ›´å¤æ‚çš„ç°å®ä¸–ç•ŒæŒ‘æˆ˜ã€‚</p>
<p>æœ¬æ–‡æ·±å…¥è§£æäº† RAG çš„å·¥ä½œæµç¨‹ä¸æ ¸å¿ƒç»„ä»¶ï¼Œä½†ä»åŸç†åˆ°å·¥ç¨‹åŒ–è½åœ°ï¼Œä»æœ‰è®¸å¤šå®æˆ˜ç»†èŠ‚éœ€è¦æŒæ¡ï¼Œä¾‹å¦‚å¦‚ä½•é«˜æ•ˆéƒ¨ç½² RAGFlowã€å¦‚ä½•ä½¿ç”¨ RAGAS è¿›è¡Œé‡åŒ–è¯„ä¼°ï¼Œä»¥åŠå¦‚ä½•é’ˆå¯¹ç‰¹å®šè¡Œä¸šè¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>ä¸ºäº†å¸®åŠ©æ‚¨ç³»ç»ŸåŒ–åœ°æŒæ¡è¿™äº›è¿›é˜¶èƒ½åŠ›ï¼ŒAIå¤§å­¦å ‚åŸºäºå¤§é‡çš„ä¸šåŠ¡å®æˆ˜ç»éªŒï¼Œç²¾å¿ƒæ‰“ç£¨äº†Â <strong>RAGå·¥ç¨‹å¸ˆè®¤è¯</strong>Â è¯¾ç¨‹ã€‚è¿™ä»½è®¤è¯è¦†ç›–äº†ä»åŸºç¡€æ¦‚å¿µã€æ ¸å¿ƒç»„ä»¶ã€é«˜çº§ä¼˜åŒ–åˆ°å·¥ç¨‹åŒ–å®æˆ˜çš„å…¨é“¾è·¯çŸ¥è¯†ä½“ç³»ï¼Œæ—¨åœ¨åŠ©æ‚¨æ‰“ç ´ç†è®ºä¸è½åœ°çš„å£å’ï¼Œå°†çŸ¥è¯†çœŸæ­£å†…åŒ–ä¸ºèŒåœºç«äº‰åŠ›ã€‚</p>
<p><strong>é™æ—¶å…è´¹</strong>è®¤è¯ç°å·²å¼€å¯ï¼Œç«‹å³ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ï¼Œå¼€å¯æ‚¨çš„ RAG è¿›é˜¶å­¦ä¹ ä¹‹æ—…ï¼š</p>
<p>ğŸ”—Â <strong>è®¤è¯é“¾æ¥ï¼š</strong><br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidaxue.com%2Fcourse%2F1151%3Fvideo_id%3D5093%26ch%3DCSDNRAG2" target="_blank" title="https://www.aidaxue.com/course/1151?video_id=5093&amp;ch=CSDNRAG2" ref="nofollow noopener noreferrer">www.aidaxue.com/course/1151â€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2ee8a2b2e824b7cb81961b1be140502~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lit5p2v5Y-v5LmQ5aSa5Yqg5Yaw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025567&amp;x-signature=%2FLJbAfKe1DrPxkFJyms6WJiWm1g%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude-Memï¼šç»™ AI ç¼–ç¨‹åŠ©æ‰‹è£…ä¸Š"é•¿æœŸè®°å¿†"]]></title>    <link>https://juejin.cn/post/7599155566297808939</link>    <guid>https://juejin.cn/post/7599155566297808939</guid>    <pubDate>2026-01-26T08:51:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599155566297808939" data-draft-id="7599155566297514027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude-Memï¼šç»™ AI ç¼–ç¨‹åŠ©æ‰‹è£…ä¸Š&quot;é•¿æœŸè®°å¿†&quot;"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-26T08:51:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘æ ˆå¼€æºæ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/3643150216729880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude-Memï¼šç»™ AI ç¼–ç¨‹åŠ©æ‰‹è£…ä¸Š"é•¿æœŸè®°å¿†"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3643150216729880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘æ ˆå¼€æºæ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:51:37.000Z" title="Mon Jan 26 2026 08:51:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨å‰é¢</h2>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿé‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼šæ˜¨å¤©ç”¨ Claude Code å†™äº†ä¸€æ®µå¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œä»Šå¤©é‡æ–°æ‰“å¼€é¡¹ç›®ï¼ŒAI åŠ©æ‰‹å´åƒå¤±å¿†äº†ä¸€æ ·ï¼Œå®Œå…¨ä¸è®°å¾—ä½ ä»¬è®¨è®ºè¿‡ä»€ä¹ˆï¼Œåªèƒ½ä»å¤´å†è§£é‡Šä¸€éï¼Ÿ</p>
<p>è¿™ä¸ªç—›ç‚¹ï¼ŒClaude-Mem ç»™å‡ºäº†è§£å†³æ–¹æ¡ˆâ€”â€”ä¸€ä¸ªä¸“ä¸º Claude Code æ‰“é€ çš„æŒä¹…åŒ–è®°å¿†ç³»ç»Ÿï¼Œè®© AI åŠ©æ‰‹çœŸæ­£è®°ä½ä½ ä»¬çš„æ¯ä¸€æ¬¡åä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf965d410a0a40c38f4f21097ea6dbc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqR5qCI5byA5rqQ5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022300&amp;x-signature=uuUCGV1ba7u84Y268Jjia92gouw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">å®ƒåˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜</h2>
<p>ä¼ ç»Ÿçš„ AI ç¼–ç¨‹åŠ©æ‰‹æ¯æ¬¡å¯åŠ¨éƒ½æ˜¯"å…¨æ–°çš„å¤§è„‘"ï¼Œæ— æ³•è·¨ä¼šè¯ä¿ç•™é¡¹ç›®ä¸Šä¸‹æ–‡ã€‚Claude-Mem é€šè¿‡è‡ªåŠ¨æ•è·ã€AI å‹ç¼©ã€æ™ºèƒ½æ£€ç´¢ä¸‰ä¸ªæ­¥éª¤ï¼Œå®ç°äº†ï¼š</p>
<ul>
<li>âœ…Â <strong>è·¨ä¼šè¯è®°å¿†ä¿æŒ</strong>ï¼šè‡ªåŠ¨è®°å½•æ‰€æœ‰å·¥å…·è°ƒç”¨å’Œä»£ç æ“ä½œ</li>
<li>âœ…Â <strong>æ™ºèƒ½å†…å®¹å‹ç¼©</strong>ï¼šç”¨ Claude Agent SDK å°†å†—é•¿å¯¹è¯å‹ç¼©æˆç²¾ç‚¼æ‘˜è¦</li>
<li>âœ…Â <strong>æŒ‰éœ€ç²¾å‡†æ£€ç´¢</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æŸ¥è¯¢å†å²è®°å¿†ï¼Œå¤§å¹…èŠ‚çœ Token æˆæœ¬</li>
</ul>
<hr/>
<h2 data-id="heading-2">æŠ€æœ¯æ¶æ„è§£æ</h2>
<h3 data-id="heading-3">æ ¸å¿ƒç»„ä»¶æ„æˆ</h3>
<pre><code class="hljs language-swift" lang="swift">ç³»ç»Ÿæ¶æ„ï¼š
<span class="hljs-operator">â”œâ”€â”€</span> é’©å­ç³»ç»Ÿï¼ˆ<span class="hljs-number">7</span> ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼‰
<span class="hljs-operator">â”œâ”€â”€</span> <span class="hljs-type">Worker</span> æœåŠ¡ï¼ˆ<span class="hljs-type">HTTP</span> <span class="hljs-type">API</span> <span class="hljs-operator">+</span> <span class="hljs-type">Web</span> <span class="hljs-type">UIï¼‰</span>
<span class="hljs-operator">â”œâ”€â”€</span> å­˜å‚¨å±‚ï¼ˆ<span class="hljs-type">SQLite</span> <span class="hljs-type">FTS5</span> <span class="hljs-operator">+</span> <span class="hljs-type">Chroma</span> å‘é‡åº“ï¼‰
<span class="hljs-operator">â””â”€â”€</span> <span class="hljs-type">PM2</span> è¿›ç¨‹ç®¡ç†
</code></pre>
<p><strong>ä¸»è¦æŠ€æœ¯æ ˆ</strong>ï¼š</p>
<ul>
<li><strong>Node.js + TypeScript</strong>ï¼šæ’ä»¶ä¸»ä½“å®ç°</li>
<li><strong>SQLite FTS5</strong>ï¼šå…¨æ–‡æ£€ç´¢å¼•æ“</li>
<li><strong>Chroma Vector DB</strong>ï¼šè¯­ä¹‰å‘é‡æœç´¢</li>
<li><strong>Claude Agent SDK</strong>ï¼šAI å‹ç¼©æ ¸å¿ƒèƒ½åŠ›</li>
</ul>
<hr/>
<h2 data-id="heading-4">å·¥ä½œåŸç†æ‹†è§£</h2>
<h3 data-id="heading-5">äº”å¤§ç”Ÿå‘½å‘¨æœŸé’©å­</h3>
<p>Claude-Mem é‡‡ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œåœ¨ä¸å¹²æ‰°ä¸»ä¼šè¯çš„å‰æä¸‹ï¼Œé€šè¿‡é’©å­æ•è·å…³é”®äº‹ä»¶ï¼š</p>



































<table><thead><tr><th>é’©å­åç§°</th><th>è§¦å‘æ—¶æœº</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td>context-hook</td><td>ä¼šè¯å¯åŠ¨æ—¶</td><td>æ³¨å…¥æœ€è¿‘è®°å¿†ä½œä¸ºä¸Šä¸‹æ–‡</td></tr><tr><td>new-hook</td><td>ç”¨æˆ·æé—®æ—¶</td><td>åˆ›å»ºæ–°ä¼šè¯å¹¶ä¿å­˜æç¤ºè¯</td></tr><tr><td>save-hook</td><td>å·¥å…·æ‰§è¡Œå</td><td>æ•è·æ–‡ä»¶è¯»å†™ç­‰æ“ä½œè®°å½•</td></tr><tr><td>summary-hook</td><td>ä¼šè¯ç»“æŸæ—¶</td><td>ç”Ÿæˆ AI æ‘˜è¦å¹¶æŒä¹…åŒ–å­˜å‚¨</td></tr><tr><td>cleanup-hook</td><td>åœæ­¢æŒ‡ä»¤æ—¶</td><td>æ¸…ç†ä¸´æ—¶æ•°æ®</td></tr></tbody></table>
<h3 data-id="heading-6">æ¸è¿›å¼æŠ«éœ²ç­–ç•¥</h3>
<p>è¿™æ˜¯ Claude-Mem æœ€å·§å¦™çš„è®¾è®¡â€”â€”ä¸æ˜¯ä¸€è‚¡è„‘æŠŠæ‰€æœ‰å†å²è®°å½•å¡ç»™ AIï¼Œè€Œæ˜¯åˆ†å±‚å±•ç¤ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Level 1:</span> <span class="hljs-string">æœ€è¿‘</span> <span class="hljs-number">3</span> <span class="hljs-string">æ¡ä¼šè¯æ‘˜è¦ï¼ˆçº¦</span> <span class="hljs-number">500</span> <span class="hljs-string">tokensï¼‰</span>
<span class="hljs-attr">Level 2:</span> <span class="hljs-string">ç›¸å…³è§‚å¯Ÿè®°å½•ï¼ˆç”¨æˆ·ä¸»åŠ¨æŸ¥è¯¢ï¼‰</span>
<span class="hljs-attr">Level 3:</span> <span class="hljs-string">å®Œæ•´å†å²æ£€ç´¢ï¼ˆmem-search</span> <span class="hljs-string">æŠ€èƒ½ï¼‰</span>
</code></pre>
<p>è¿™ç§ç­–ç•¥å€Ÿé‰´äº†å‰ç«¯å¼€å‘ä¸­çš„æ‡’åŠ è½½æ€æƒ³ï¼Œåœ¨äº‘æ ˆç¤¾åŒºçš„æŠ€æœ¯å®è·µä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¸¸å¼ºè°ƒ"æŒ‰éœ€åŠ è½½"çš„æ€§èƒ½ä¼˜åŒ–åŸåˆ™ã€‚</p>
<hr/>
<h2 data-id="heading-7">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-8">åœºæ™¯ä¸€ï¼šBug ä¿®å¤è¿½æº¯</h3>
<pre><code class="hljs language-sql" lang="sql">ç”¨æˆ·ï¼š"ä¸Šå‘¨ä¿®å¤çš„ç™»å½•è¶…æ—¶é—®é¢˜ï¼Œå…·ä½“æ”¹äº†å“ªäº›æ–‡ä»¶ï¼Ÿ"
Claudeï¼š[è‡ªåŠ¨è§¦å‘ mem<span class="hljs-operator">-</span><span class="hljs-keyword">search</span>]
Â  Â  Â  Â â†’ æ£€ç´¢åˆ° <span class="hljs-number">2</span> æ¡ç›¸å…³è§‚å¯Ÿè®°å½•
Â  Â  Â  Â â†’ è¿”å›ï¼šä¿®æ”¹äº† auth.ts å’Œ session.middleware.ts
</code></pre>
<h3 data-id="heading-9">åœºæ™¯äºŒï¼šé¡¹ç›®çŸ¥è¯†åº“æ„å»º</h3>
<p>é•¿æœŸä½¿ç”¨åï¼ŒClaude-Mem ä¼šè‡ªåŠ¨æ„å»ºé¡¹ç›®çš„"çŸ¥è¯†å›¾è°±"ï¼š</p>
<ul>
<li>æ¶æ„å†³ç­–è®°å½•</li>
<li>å¸¸ç”¨ä»£ç æ¨¡å¼</li>
<li>è¸©è¿‡çš„å‘å’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-10">åœºæ™¯ä¸‰ï¼šå›¢é˜Ÿåä½œå¯è§†åŒ–</h3>
<p>é€šè¿‡ Web UIï¼ˆlocalhost:37777ï¼‰å¯ä»¥å®æ—¶æŸ¥çœ‹ï¼š</p>
<ul>
<li>è®°å¿†æµåŠ¨æ€</li>
<li>ä¼šè¯æ‘˜è¦æ—¶é—´çº¿</li>
<li>Token æ¶ˆè€—ç»Ÿè®¡</li>
</ul>
<hr/>
<h2 data-id="heading-11">å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2>
<h3 data-id="heading-12">å®‰è£…æ­¥éª¤ï¼ˆ3 æ­¥å®Œæˆï¼‰</h3>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">åœ¨ Claude Code ç»ˆç«¯æ‰§è¡Œ</span>
<span class="hljs-meta prompt_">&gt; </span><span class="bash">/plugin marketplace add thedotmack/claude-mem</span>
<span class="hljs-meta prompt_">&gt; </span><span class="bash">/plugin install claude-mem</span>
<span class="hljs-meta prompt_"># </span><span class="bash">é‡å¯ Claude Code å³å¯ä½¿ç”¨</span>
</code></pre>
<h3 data-id="heading-13">æ ¸å¿ƒæŠ€èƒ½ä½¿ç”¨</h3>
<p><strong>mem-search æŠ€èƒ½</strong>ï¼šè‡ªç„¶è¯­è¨€æŸ¥è¯¢å†å²è®°å¿†</p>
<pre><code class="hljs language-sql" lang="sql">ç¤ºä¾‹ï¼šmem<span class="hljs-operator">-</span><span class="hljs-keyword">search</span>Â "å…³äºæ•°æ®åº“è¿ç§»çš„è®¨è®º"
æ•ˆæœï¼šç›¸æ¯”ä¼ ç»Ÿ MCP æ–¹å¼èŠ‚çœçº¦ <span class="hljs-number">2</span>,<span class="hljs-number">250</span> tokens
</code></pre>
<hr/>
<h2 data-id="heading-14">æ¶æ„è®¾è®¡äº®ç‚¹</h2>
<h3 data-id="heading-15">æ··åˆæ£€ç´¢ç­–ç•¥</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç»“åˆä¼ ç»Ÿå…¨æ–‡æ£€ç´¢å’Œç°ä»£å‘é‡æœç´¢</span>
<span class="hljs-keyword">interface</span>Â <span class="hljs-title class_">SearchStrategy</span> {
Â  fullText: SQLite FTS5, Â  Â Â <span class="hljs-comment">// å…³é”®è¯ç²¾å‡†åŒ¹é…</span>
Â  semantic: Chroma Vector, Â Â <span class="hljs-comment">// è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—</span>
Â  hybrid: RRF èåˆæ’åº Â  Â  Â Â <span class="hljs-comment">// æœ€ä½³ç»“æœè¾“å‡º</span>
}
</code></pre>
<h3 data-id="heading-16">éšç§æ§åˆ¶æœºåˆ¶</h3>
<p>ä½¿ç”¨Â <code>&lt;private&gt;</code>Â æ ‡ç­¾æ’é™¤æ•æ„Ÿå†…å®¹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">&lt;<span class="hljs-keyword">private</span>&gt;
API_KEY=sk-xxx Â <span class="hljs-comment"># ä¸ä¼šè¢«ç³»ç»Ÿè®°å½•</span>
&lt;/<span class="hljs-keyword">private</span>&gt;
</code></pre>
<h3 data-id="heading-17">åŒæ ‡ç­¾ç³»ç»Ÿï¼ˆv7.0 æ–°ç‰¹æ€§ï¼‰</h3>
<ul>
<li><code>&lt;private&gt;</code>ï¼šå®Œå…¨æ’é™¤è§‚å¯Ÿè®°å½•</li>
<li><code>&lt;no-summary&gt;</code>ï¼šè®°å½•ä½†ä¸ç”Ÿæˆæ‘˜è¦</li>
</ul>
<hr/>
<h2 data-id="heading-18">æ€§èƒ½è¡¨ç°æ•°æ®</h2>





















<table><thead><tr><th>ä¼˜åŒ–æŒ‡æ ‡</th><th>å®é™…æ•ˆæœ</th></tr></thead><tbody><tr><td>Token èŠ‚çœ</td><td>æ¯æ¬¡å¯åŠ¨èŠ‚çœ 2,250 tokens</td></tr><tr><td>æŸ¥è¯¢å“åº”é€Ÿåº¦</td><td>å‘é‡æ£€ç´¢ &lt; 50ms</td></tr><tr><td>å­˜å‚¨å‹ç¼©æ•ˆç‡</td><td>10GB ä»£ç åº“å‹ç¼©è‡³çº¦ 200MB</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">å·¥ç¨‹å®è·µå¯ç¤º</h2>
<p>ä½œä¸ºå…¨æ ˆå·¥ç¨‹å¸ˆï¼ŒClaude-Mem å±•ç¤ºäº†å‡ ä¸ªå€¼å¾—å­¦ä¹ çš„å·¥ç¨‹å®è·µï¼š</p>
<ol>
<li><strong>æ’ä»¶åŒ–è®¾è®¡</strong>ï¼šæ ‡å‡†çš„ç”Ÿå‘½å‘¨æœŸé’©å­ç³»ç»Ÿ</li>
<li><strong>AI å·¥ç¨‹åŒ–</strong>ï¼šå°† LLM èƒ½åŠ›å°è£…ä¸ºå¯å¤ç”¨æœåŠ¡</li>
<li><strong>æˆæœ¬æ„è¯†</strong>ï¼šToken ä¼˜åŒ–æ˜¯ AI åŸç”Ÿåº”ç”¨çš„æ ¸å¿ƒæŒ‡æ ‡</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šæ¸è¿›å¼æŠ«éœ²é…åˆå¯è§†åŒ– UI</li>
</ol>
<p>å¯¹äºæƒ³æ·±å…¥å­¦ä¹ Â Node.js å¼€å‘å’ŒÂ äººå·¥æ™ºèƒ½åº”ç”¨çš„æœ‹å‹ï¼Œè¿™ä¸ªé¡¹ç›®æä¾›äº†å¾ˆå¥½çš„å‚è€ƒèŒƒä¾‹ã€‚</p>
<hr/>
<h2 data-id="heading-20">å†™åœ¨æœ€å</h2>
<p>Claude-Mem ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ AI è¾…åŠ©ç¼–ç¨‹çš„èŒƒå¼æ¢ç´¢ï¼šå¦‚ä½•è®© AI ä»"ä¸€æ¬¡æ€§å¯¹è¯"è¿›åŒ–ä¸º"é•¿æœŸåä½œä¼™ä¼´"ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Claude Codeï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªæ’ä»¶ï¼Œè®©ä½ çš„ AI åŠ©æ‰‹çœŸæ­£"è®°ä½"ä½ ä»¬çš„æ¯ä¸€æ¬¡åä½œã€‚æ›´å¤šä¼˜è´¨å¼€æºé¡¹ç›®è§£æï¼Œæ¬¢è¿å…³æ³¨ã€Šäº‘æ ˆå¼€æºæ—¥è®°ã€‹ï¼</p>
<hr/>
<h3 data-id="heading-21">é¡¹ç›®èµ„æº</h3>
<ul>
<li><strong>GitHub ä»“åº“</strong>ï¼š<code>thedotmack/claude-mem</code></li>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<code>docs.claudemem.com</code></li>
<li><strong>AI å­¦ä¹ </strong>ï¼š<code>https://yunpan.plus/f/29</code></li>
<li><strong>TypeScript å­¦ä¹ </strong>ï¼š<code>https://yunpan.plus/f/18</code></li>
</ul>
<hr/>
<p>æ ‡ç­¾ï¼š#Claude #GitHub #AIç¼–ç¨‹åŠ©æ‰‹ #å‘é‡æ•°æ®åº“ #TypeScript #æŒä¹…åŒ–å­˜å‚¨ #å¼€å‘å·¥å…·</p>
<p>åŸæ–‡ <code>https://yunpan.plus/t/1920-1-1</code> ç‰ˆæƒæ‰€æœ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ€»ç»“2025å±•æœ›2026]]></title>    <link>https://juejin.cn/post/7599101854645075978</link>    <guid>https://juejin.cn/post/7599101854645075978</guid>    <pubDate>2026-01-26T06:33:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599101854645075978" data-draft-id="7599268297222995978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ€»ç»“2025å±•æœ›2026"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,åˆ›ä¸š"/> <meta itemprop="datePublished" content="2026-01-26T06:33:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€Ÿæ­ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/3292413843745596"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ€»ç»“2025å±•æœ›2026
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3292413843745596/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€Ÿæ­ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:33:36.000Z" title="Mon Jan 26 2026 06:33:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦è¯´2025å·²ç»ç»“æŸäº†ï¼Œç°åœ¨å·²ç»è¿›å…¥åˆ°2026äº†ï¼Œé˜³å†çš„å¹´å·²ç»è¿‡å®Œäº†ï¼Œä½†æ˜¯å†œå†çš„å¹´è¿˜æ²¡åˆ°ï¼Œç´¢æ€§åœ¨è¿™ä¸ªé—´éš™ï¼Œå†™ç¯‡æ–‡ç« è®°å½•ä¸€ä¸‹ã€‚</p>
<p>å…ˆæ¥è¯´è¯´æˆ‘è‡ªå·±å§ï¼Œå»å¹´ç”±äºå¤ªè¿‡æ‹¼å‘½çš„å·¥ä½œï¼Œå¯¼è‡´èº«ä½“å‡ºäº†å„ç§é—®é¢˜ã€‚å…ˆæ˜¯çœ¼ç›ä¸Šçš„ä¼¤å®³ï¼Œå¤§æ¦‚å»å¹´ä¸­æ—¬çš„æ—¶å€™ï¼Œç»å¸¸æ™šä¸Šä¸‹ç­åï¼Œèµ°åœ¨ç¯ç«é€šæ˜çš„è¡—é“ä¸Šï¼Œå´æ„Ÿè§‰ç‰¹åˆ«æš—ï¼Œèµ·åˆä»¥ä¸ºè¿™æ˜¯å¤–ç•Œçš„å› ç´ ï¼Œåé¢æ‰çŸ¥é“ï¼Œæ˜¯æˆ‘çš„è§†åŠ›åˆä¸‹é™äº†ã€‚å†åˆ°åæ¥å¤§ç™½å¤©ï¼Œçœ¼å‰å¼€å§‹å‡ºè¡Œå¾ˆå¤šå°è™«å­ä¸€æ ·çš„é»‘å½±ï¼Œåæ¥æ‰çŸ¥é“ï¼Œè¿™å«é£èšŠç—‡ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯è…°æ¤å’Œè„¾èƒƒï¼Œç”±äºé•¿æœŸä¹…åï¼Œå¯¼è‡´è…°æ¤ä¸Šä¹Ÿå‡ºç°é—®é¢˜ï¼Œä»Šå¹´å¹´åˆï¼Œæœ‰æ¬¡èººåœ¨åºŠä¸Šï¼Œåªæ˜¯ç¿»ä¸ªèº«å¿½ç„¶å°±æ„Ÿè§‰è…¿æŠ½çš„ç‰¹åˆ«ç–¼ï¼Œåˆ°åæ¥èµ°è·¯æ—¶ä¹Ÿç–¼ï¼Œä»è…¿å»¶ä¼¸åˆ°å±è‚¡ï¼Œå±è‚¡ç–¼å®Œè…¿åˆç–¼ã€‚ç”šè‡³æœ‰ä¸€æ¬¡ï¼Œå¼¯è…°æ´—å¤´é‚£ä¹ˆä¼šå„¿åŠŸå¤«ï¼Œéƒ½ä¸èƒ½æ”¯æ’‘ä¸‹æ¥ã€‚åæ¥å»åŒ»é™¢æ£€æŸ¥ï¼Œè¯´æ˜¯å¯èƒ½è…°æ¤é—´ç›˜çªå‡ºå¯¼è‡´çš„ï¼Œä¹Ÿæœ‰äººè¯´å±è‚¡ç–¼æ˜¯å› ä¸ºæ¢¨çŠ¶è‚Œç»¼åˆç—‡ï¼ŒåæœŸè¦è‡ªå·±æ³¨æ„ã€‚è¿˜æœ‰å°±æ˜¯é•¿æœŸä¹Ÿæ–­æ–­ç»­ç»­ï¼Œé¥¥ä¸€é¡¿é¥±ä¸€é¡¿ï¼Œæš´é¥®æš´é£Ÿï¼Œå¯¼è‡´è„¾èƒƒä¸Šä¹Ÿå‡ºäº†é—®é¢˜ï¼Œæœ€ç›´è§‚çš„å°±æ˜¯èˆŒè‹”ä¸Šçš„å˜åŒ–ï¼Œå…ˆæ˜¯åœ°å›¾èˆŒï¼Œåˆ°åé¢è£‚çº¹èˆŒã€‚ç›´åˆ°åé¢åƒé¥­ä¹Ÿç–¼ï¼Œæ‰é‡è§†èµ·æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b48dc834f92b415db4f8b6832b938b85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCf5pCt56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014021&amp;x-signature=uID4B7zWt3TvmMAXxT6cLlZH5IM%3D" alt="" loading="lazy"/></p>
<p>èº«ä½“ä¸Šçš„é—®é¢˜ï¼Œç›¸ä¿¡å¤§å®¶ä»æˆ‘çš„çŠ¶æ€ä¹Ÿèƒ½çœ‹å‡ºæ¥ã€‚å„ç§é—®é¢˜ï¼Œè®©æˆ‘ä¸€åº¦äº§ç”Ÿæ€€ç–‘ï¼Œæˆ‘æ‰ä¸‰åï¼Œè¿™å‰¯èº¯å£³ï¼Œåˆ°åº•èƒ½ä¸èƒ½ï¼Œåé¢çš„å°±ä¸æƒ³è¯´äº†ã€‚è¿˜æœ‰å°±æ˜¯å¹´åˆçš„çš„æ—¶å€™ï¼Œæˆ‘åª³å¦‡æ€€å­•äº†ï¼Œå‰æœŸç»å¸¸å»æ£€æŸ¥ã€‚æ‰€ä»¥æ€»ç»“ä¸‹æ¥ï¼Œå‰åŠå¹´ï¼ŒåŸºæœ¬å°±æ˜¯å’ŒåŒ»é™¢åœ¨æ‰“äº¤é“ã€‚</p>
<p>è¯´å®Œä¸å¥½çš„ï¼Œä¹Ÿæœ‰å¥½çš„ã€‚è…°æ¤ä¸Šçš„é—®é¢˜ï¼Œæ£€æŸ¥åè¯´æ˜¯é—®é¢˜ä¸å¤§ï¼Œåªæ˜¯æœ‰çªå‡ºçš„è¿¹è±¡ï¼Œåƒç‚¹è¯å°±å¥½äº†ï¼›è„¾èƒƒä¸Šçš„é—®é¢˜ï¼Œä¹Ÿåªèƒ½æ…¢æ…¢è°ƒç†ï¼Œç°åœ¨ä¹ŸæŒ‰æ—¶åƒé¥­äº†ï¼Œè¾£æ¤’åŸºæœ¬ä¸Šä¹Ÿæˆ’äº†ï¼›è§†åŠ›ä¸Šçš„é—®é¢˜ï¼Œç°åœ¨å·¥ä½œå¼ºåº¦æ²¡ä»¥å‰å¤§äº†ï¼Œæ²¡æœ‰é‚£ä¹ˆä¸“æ³¨äº†ï¼Œçœ¼å‰çš„é»‘å½±ï¼Œä¹ŸåŸºæœ¬æ¶ˆå¤±äº†ã€‚</p>
<p>ä¸ƒæœˆä»½çš„æ—¶å€™ï¼Œåª³å¦‡èƒä½ç¨³å®šäº†ï¼Œä¹Ÿæ»¡ä¸‰ä¸ªæœˆäº†ï¼Œæˆ‘ä¿©è·‘åˆ°å¤§è¥¿åŒ—è½¬äº†ä¸€åœˆï¼Œä»å’¸é˜³å‡ºå‘ï¼Œå…ˆåˆ°é’æµ·è¥¿å®ï¼Œå†åˆ°ç”˜è‚ƒæ•¦ç…Œï¼Œåè¿›å…¥æ–°ç–†ï¼Œç¬¬ä¸€ç«™ä¹Œé²æœ¨é½ï¼Œå®Œäº†åˆå»äº†ä¼ŠçŠï¼Œçœ‹äº†å¤§è‰åŸï¼Œæ‰“å¡äº†èµ›é‡Œæœ¨æ¹–ï¼Œå®Œäº†åˆè·‘å»å—ç–†ï¼Œå»å–€ä»€å¤åŸä½äº†ä¸€æ®µæ—¶é—´ã€‚æ˜å¹´ï¼Œåœ¨å„æ–¹é¢æ¡ä»¶å®Œå–„çš„æƒ…å†µä¸‹ï¼Œå¸Œæœ›æœ‰æœºä¼šèƒ½å¸¦çˆ¶æ¯ï¼Œå¸¦å®¶é‡Œäººå¤šå‡ºå»è½¬ä¸€è½¬å§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/104529993006431ea2d172344392fbf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCf5pCt56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014021&amp;x-signature=dx72XOfeS2g1uyDHYPcNQMkIGyI%3D" alt="" loading="lazy"/></p>
<p>åæœˆä»½çš„æ—¶å€™ï¼Œå¿½ç„¶æƒ³èµ·æ¥è¿˜æœ‰ä¸ªä¹”è¿è¦åŠï¼Œäº‹å®ä¸Šï¼Œä»å»å¹´åº•æˆ¿å­è£…ä¿®å¥½ï¼Œä»Šå¹´æˆ‘ä»¬å°±å·²ç»ä½è¿›æ¥äº†ã€‚æœ‰æ¬¡å’Œæœ‹å‹èŠå¤©ï¼Œè¯´æ˜¯æœ€å¥½å¼„ä¸ªä»ªå¼æ„æ€ä¸‹ï¼Œäºæ˜¯å°±å–Šäº†å®¶äººä¸€èµ·æ¥åº†ç¥ï¼Œæˆ¿å­ä¸å¤§ï¼Œåœ°ç†ä½ç½®ä¹Ÿä¸ç®—å¾ˆå¥½ï¼Œä½†æ€»å½’åœ¨è¿™åŒå¤§çš„åŸå¸‚ï¼Œæœ‰ä¸ªè½è„šç‚¹äº†å§ï¼Œå¯¹åº”äº†é‚£å¥ï¼Œä»æ­¤ï¼Œä¸‡å®¶ç¯ç«ï¼Œæœ‰æˆ‘ä¸€æ ˆã€‚</p>
<p>æèµ·æˆ¿å­ï¼Œå…¶å®è¿™ä¹ˆå¤šå¹´å‡ºæ¥ï¼Œå¤§éƒ¨åˆ†ç§¯è“„ï¼Œéƒ½ç ¸åœ¨äº†æˆ¿å­ä¸Šï¼ŒçœŸé‡‘ç™½é“¶è¿›å»çš„ï¼Œå·²ç»å°ä¸€ç™¾ä¸‡äº†ï¼Œè¿˜ä¸ç®—å‰©ä¸‹çš„ï¼Œæœ‰æ—¶å€™æƒ³æƒ³ï¼Œåˆ°åº•åˆ’ä¸åˆ’å¾—æ¥å‘¢ï¼Ÿä¹Ÿä¸æƒ³é‚£ä¹ˆå¤šäº†ï¼Œæœ‰äº›äº‹åªæœ‰è‡ªå·±ç»å†äº†æ‰çŸ¥é“ï¼Œæœ‰äº›äº‹ä½ ä¹Ÿæ²¡åŠæ³•å»æ”¹å˜ï¼Œé‚£å°±ç¡¬ç€å¤´çš®å¾€å‰èµ°ã€‚å¥½çš„æ˜¯ï¼Œåœ¨å¾ˆå¤šåŒé¾„äººè¿˜è€ƒè™‘è¦ä¸è¦ä¸Šè½¦çš„æ—¶å€™ï¼Œæˆ‘å·²ç»å‡†å¤‡ä¸‹è½¦äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6a65429535c4004acf2d3209cd2155b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCf5pCt56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014021&amp;x-signature=rBnn8ARPWKFYM3I4oslcSkQ9Myg%3D" alt="" loading="lazy"/></p>
<p>åäºŒæœˆä»½çš„æ—¶å€™ï¼Œæˆ‘åª³å¦‡ç»ˆäºè¦ç”Ÿäº†ï¼Œæ·˜æ°”çš„å®è´æ‹–å ‚äº†ï¼Œåˆ°äº†é¢„äº§æœŸè¿˜æ²¡åŠ¨é™ï¼Œåˆ°åŒ»é™¢ä½äº†å‡ å¤©ï¼Œé¡ºåˆ©ç”Ÿäº§ã€‚åˆ°è¿™é‡Œå…¶å®æƒ³è¯´çš„ï¼Œä¹Ÿæ˜¯ä¸€ç‚¹æ„Ÿè§¦å§ï¼Œä¸€æ–¹é¢æ˜¯é¼“åŠ±ç”Ÿè‚²ï¼Œä½†æ˜¯è¯¥æ”¶çš„ï¼Œä¸€åˆ†æ²¡å°‘ï¼Œæœ‰äº›æµç¨‹ï¼Œæ„Ÿè§‰å·²ç»æˆäº†æ½œè§„åˆ™ï¼Œæœ‰äº›è´¹ç”¨ï¼Œä½ ä¸äº¤æ ¹æœ¬å°±æ²¡æ³•è¿›è¡Œä¸‹å»ï¼Œè¯´éš¾å¬ç‚¹ï¼Œç”šè‡³é˜»ç¢ä½ è¿›è¡Œã€‚è‡ªè´¹çš„ä¸æŠ¥ï¼Œå­©å­çš„ä¸æŠ¥ï¼ŒåºŠä½ä¸æŠ¥ï¼Œä¸ªåˆ«è¯ä¸æŠ¥ï¼Œæœ€ç»ˆç®—ä¸‹æ¥ï¼ŒèŠ±äº†ä¸€ä¸‡å¤šï¼Œå‘Šè¯‰æˆ‘åªèƒ½æŠ¥ä¸€åƒå…­ï¼Œæˆ‘è¯´ä¸ºä»€ä¹ˆè¿™ä¹ˆå°‘ï¼Ÿæ¥ä¸€å¥ï¼Œä½ æ‰äº¤äº†å››ç™¾ï¼Œä¸€åƒå…­ä¸å°‘äº†ï¼Œæˆ‘ä¹Ÿå°±å‘µå‘µäº†ã€‚å½“ç„¶è¿™ä¸ªæ˜¯å±…æ°‘åŒ»ä¿ï¼Œå…¶å®è”æƒ³åˆ°æˆ‘ä»¬è‡ªå·±äº¤çš„èŒå·¥åŒ»ä¿ï¼Œå…»è€ï¼Œæƒ³ä¸€æƒ³ï¼ŒçœŸçš„èƒ½ä¿éšœå—ï¼Ÿå¯¹æœªæ¥çš„äº‹æƒ…ï¼Œæˆ‘æ‰“ä¸ªé—®å·ï¼Ÿ</p>
<p>å…ƒæ—¦çš„æ—¶å€™ï¼Œå»ä¹°äº†ä¸€è¾†æ±½è½¦ï¼Œä¸€ç›´åœ¨çœ‹è½¦ï¼Œç”·ç”Ÿä¹Ÿéƒ½å–œæ¬¢è½¦ï¼Œä½†ä¹Ÿä¸€ç›´æ²¡ä¹°è½¦ï¼ŒåŸå› æ˜¯å®¶é‡Œæœ‰è½¦ï¼Œå¯ä»¥ç”¨ï¼Œå†å°±æ˜¯è‡ªå·±ä¹Ÿä¸æ€ä¹ˆç”¨è½¦ï¼Œä¸Šä¸‹ç­ååœ°é“å¯èƒ½è¿˜æ›´æ–¹ä¾¿ï¼Œä¹°äº†æ”¾é‚£å°±æ˜¯ä¸ªæ¶ˆè€—å“ï¼Œæ¯å¹´çš„ä¿é™©ä¿å…»æ²¹è´¹åœè½¦è´¹ï¼Œéƒ½æ˜¯æ”¯å‡ºã€‚ä½†ç°åœ¨æƒ…å†µä¸ä¸€æ ·äº†ï¼Œä¸€æ˜¯æœ‰äº†å­©å­ï¼Œåé¢å‡ºè¡Œçš„æ¬¡æ•°ä¼šæ›´å¤šï¼Œè¿˜æœ‰å°±æ˜¯å®¶é‡Œçš„è½¦ï¼Œæœ‰æ—¶å€™ä¹Ÿè¦ç”¨ã€‚æ‰€ä»¥å°±å»ä¹°äº†ä¸€è¾†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/348c7e18ecdf47f7b85e22ae4757ffb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCf5pCt56eR5oqA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014021&amp;x-signature=iuQs%2FFlfpGtykzylQpe28NZDSqw%3D" alt="" loading="lazy"/></p>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ€»ç»“ä¸€ä¸‹å§ã€‚æˆ‘è®¤ä¸ºçš„äººç”Ÿäº”å¤§ä»¶ï¼šæˆ¿å­ï¼Œè½¦å­ï¼Œç¥¨å­ï¼Œå¦»å­ï¼Œå­©å­ã€‚ç°åœ¨å°±å·®ç¥¨å­äº†ã€‚ç¥¨å­å¯ä»¥è¿½æ±‚ï¼Œä½†æ˜¯ä¸èƒ½ä¸€å‘³çš„è¿½æ±‚ï¼Œè¿™æ ·ä¼šå¤±å»ç”Ÿæ´»çš„æœ¬è´¨ï¼Œå¤±å»æ¥è¿™ä¸ªä¸–ä¸Šçš„æ„ä¹‰ã€‚åˆ°è¿™é‡Œï¼Œèƒ½çœ‹åˆ°çš„ï¼Œèƒ½çœ‹å®Œçš„ï¼Œéƒ½æ˜¯æœ‰ç¼˜äººï¼›åœ¨è¿™é‡Œï¼Œç¥ä½ ä»¬ï¼šèº«ä½“å¥åº· å¿ƒæƒ…å¿«ä¹ å®¶åº­å’Œç¦ äº‹ä¸šæœ‰æˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python ä¸­ä¸å¯å˜ç±»å‹ï¼ˆæ•´æ•°ï¼‰å’Œå¯å˜ç±»å‹ï¼ˆåˆ—è¡¨ï¼‰çš„å‚æ•°ä¼ é€’è§„åˆ™çš„ç†è§£]]></title>    <link>https://juejin.cn/post/7599220371665633320</link>    <guid>https://juejin.cn/post/7599220371665633320</guid>    <pubDate>2026-01-26T07:59:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599220371665633320" data-draft-id="7598112768147111942" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python ä¸­ä¸å¯å˜ç±»å‹ï¼ˆæ•´æ•°ï¼‰å’Œå¯å˜ç±»å‹ï¼ˆåˆ—è¡¨ï¼‰çš„å‚æ•°ä¼ é€’è§„åˆ™çš„ç†è§£"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-26T07:59:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒ„å­å¥½å¥½åƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2613977076215035"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python ä¸­ä¸å¯å˜ç±»å‹ï¼ˆæ•´æ•°ï¼‰å’Œå¯å˜ç±»å‹ï¼ˆåˆ—è¡¨ï¼‰çš„å‚æ•°ä¼ é€’è§„åˆ™çš„ç†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2613977076215035/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒ„å­å¥½å¥½åƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:59:06.000Z" title="Mon Jan 26 2026 07:59:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åˆ·äºŒå‰æ ‘çš„é—®é¢˜ ç”¨äº†å¾ˆå¤šé€’å½’ é‚£ä¹ˆæˆ‘å°±å‘ç°äº†ä¸€ä¸ªé—®é¢˜  å¯¹äºåœ¨é€’å½’ä¸­æ•°ç»„å‘ç”Ÿæ”¹å˜çš„å‡½æ•°  æˆ‘ä»¬é€šå¸¸è¦è¿›è¡Œä¸€æ¬¡å›æº¯  è€Œå¯¹äºåœ¨é€’å½’ä¸­æ•´æ•° ä¹Ÿå°±æ˜¯æ•´å‹å˜é‡å‘ç”Ÿæ”¹å˜çš„å‡½æ•°ä¸­å´ä¸éœ€è¦    æˆ‘æ„Ÿè§‰æ˜¯æœ‰æ‰€ä¸åŒçš„  ä½†æ˜¯ä¸ºäº†ç¡®å®šæˆ‘å¿ƒä¸­çš„æƒ³æ³•è¿›è¡Œäº†ä¸€ç³»åˆ—èµ„æ–™çš„æŸ¥è¯¢  æœ€ç»ˆå¾—å‡ºäº†æƒ³è¦çš„ç­”æ¡ˆ</p>
<h5 data-id="heading-0">é—®é¢˜æ¥æº</h5>
<p>è®©æˆ‘äº§ç”Ÿé—®é¢˜çš„åˆ†åˆ«æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fpath-sum%2Fsubmissions%2F693436967%2F" target="_blank" title="https://leetcode.cn/problems/path-sum/submissions/693436967/" ref="nofollow noopener noreferrer">112. è·¯å¾„æ€»å’Œ </a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Ffind-bottom-left-tree-value%2Fdescription%2F" target="_blank" title="https://leetcode.cn/problems/find-bottom-left-tree-value/description/" ref="nofollow noopener noreferrer">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼ </a>ä»¥åŠ<a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Fbinary-tree-paths%2F" target="_blank" title="https://leetcode.cn/problems/binary-tree-paths/" ref="nofollow noopener noreferrer">257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ </a></p>
<pre><code class="hljs language-py" lang="py">è·¯å¾„æ€»å’Œ
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rest</span>(<span class="hljs-params">self,node,summ</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node:
            <span class="hljs-keyword">return</span>
        summ=summ-node.val
        <span class="hljs-keyword">if</span> summ==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> node.left <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> node.right):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        left=self.rest(node.left,summ)
        <span class="hljs-keyword">if</span> left==<span class="hljs-literal">True</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        right=self.rest(node.right,summ)
        <span class="hljs-keyword">if</span> right==<span class="hljs-literal">True</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hasPathSum</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode], targetSum: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        t=self.rest(root,targetSum)
        <span class="hljs-keyword">return</span> t
</code></pre>
<p>è¿™ä¸ªæ˜¯è·¯å¾„æ€»å’Œï¼Œå˜é‡summæ¯æ¬¡éƒ½æ˜¯åŒä¸€ä¸ªæ²¡æœ‰å›æº¯</p>
<pre><code class="hljs language-py" lang="py">æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findBottomLeftValue</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-built_in">int</span>:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root.left <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> root.right:
            <span class="hljs-keyword">return</span> root.val
        self.result=[]
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">depth</span>(<span class="hljs-params">node,level</span>):
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node:
                <span class="hljs-keyword">return</span>
            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.result)==level:
                self.result.append([])
            self.result[level].append(node.val)
            depth(node.left,level+<span class="hljs-number">1</span>)
            depth(node.right,level+<span class="hljs-number">1</span>)
        
        depth(root,<span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> self.result[-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]
</code></pre>
<p>è¿™é‡Œçš„levelä¹Ÿæ²¡æœ‰åœ¨åšä»€ä¹ˆæ”¹å˜</p>
<pre><code class="hljs language-py" lang="py">äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">binaryTreePaths</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">travel</span>(<span class="hljs-params">node,result,Pass</span>):
            Pass.append(node.val)
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> node.left <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> node.right:
                sPass=<span class="hljs-string">"-&gt;"</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>,Pass))
                result.append(sPass)
            <span class="hljs-keyword">if</span> node.left:
                travel(node.left,result,Pass)
                Pass.pop()
            <span class="hljs-keyword">if</span> node.right:
                travel(node.right,result,Pass)
                Pass.pop()
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:
            <span class="hljs-keyword">return</span> 
        Pass=[]
        result=[]
        travel(root,result,Pass)
        <span class="hljs-keyword">return</span>(result)
</code></pre>
<p>å…ˆæ‹†è§£ä¸€ä¸‹è¿™ä¸ªå‡½æ•°å§ï¼Œpassæ¯æ¬¡ä¼šå‚¨å­˜èŠ‚ç‚¹ï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹åä¼šåŠ ä¸€ä¸ª-&gt;å˜æˆspass ä¹Ÿå°±æ˜¯ä¸€æ®µè·¯å¾„ ç„¶åä¼ åˆ°ç»“æœresultå½“ä¸­ï¼Œé‚£ä¹ˆåœ¨è¿™æœŸé—´ï¼Œæ¯å¼•ç”¨ä¸€æ¬¡travelå‡½æ•°éƒ½ä¼šè®©passå¢åŠ ä¸€ä¸ªæ•°å­—ï¼Œäºæ˜¯æˆ‘ä»¬è¿›è¡Œäº†ä¸€æ¬¡å›æº¯ ç¡®ä¿åœ¨åŒä¸€å±‚ä¸­passæ˜¯ç›¸åŒçš„</p>
<h2 data-id="heading-1">è§£é‡Šå’Œç†è§£</h2>
<p>åœ¨æŸ¥é˜…èµ„æ–™åæˆ‘å‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼š å¯¹äºæ•´å‹å˜é‡æ¥è¯´  æ¯”å¦‚è°ƒç”¨tï¼Œæ¯æ¬¡è°ƒç”¨téƒ½åªæ˜¯åœ¨å½“å‰å±‚ä¸­å¤åˆ¶ä¸€ä¸ªtçš„å€¼ç„¶åä¼ è¿›å»ï¼Œ<strong>æ¯ä¸ªé€’å½’è°ƒç”¨éƒ½ä¼šåˆ›å»ºç‹¬ç«‹çš„å‡½æ•°æ ˆå¸§ï¼Œæ ˆå¸§é‡Œçš„<code>remain_sum</code>æ˜¯å±€éƒ¨å˜é‡ï¼Œåªåœ¨å½“å‰é€’å½’å±‚çº§æœ‰æ•ˆã€‚å·¦å­æ ‘é‡Œçš„<code>remain_sum</code>ä¿®æ”¹ï¼Œä¸ä¼šå½±å“å½“å‰å±‚ï¼Œæ›´ä¸ä¼šå½±å“ä¼ ç»™å³å­æ ‘çš„<code>remain_sum</code></strong>ã€‚
ä¸¾ä¸ªä¾‹å­è¯´æ˜ï¼š
å…¶å®ä¹Ÿå°±æ˜¯è¯´æ˜äº†ä¸å¯å˜ç±»å‹çš„ç‰¹ç‚¹ï¼šå°±æ˜¯ä¿®æ”¹æ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè€Œä¸æ˜¯åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ï¼Œå¦‚åŒæˆ‘ä»¬t=t-2ä¸€æ ·ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„t-2ï¼Œç„¶åæŠŠä»–èµ‹ç»™äº†ä¸€ä¸ªå˜é‡tï¼Œè€Œå¯¹äºæ•°ç»„æ¥è¯´ï¼Œæˆ‘ä»¬ä¿®æ”¹æ•°ç»„ï¼ˆresult.pop()ï¼‰å°±å¯ä»¥åœ¨åŸæ•°ç»„ä¸Šå‘ç”Ÿï¼Œè€Œä¸éœ€è¦å†é‡æ–°èµ‹å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[kotlinè·¨å¹³å°ç‰ˆæœ¬jiebaåˆ†è¯]]></title>    <link>https://juejin.cn/post/7599485473706442790</link>    <guid>https://juejin.cn/post/7599485473706442790</guid>    <pubDate>2026-01-26T07:42:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599485473706442790" data-draft-id="7599101854645305354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="kotlinè·¨å¹³å°ç‰ˆæœ¬jiebaåˆ†è¯"/> <meta itemprop="keywords" content="Kotlin,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-26T07:42:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½™åŠç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2084329775983815"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            kotlinè·¨å¹³å°ç‰ˆæœ¬jiebaåˆ†è¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329775983815/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½™åŠç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:42:34.000Z" title="Mon Jan 26 2026 07:42:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">jieba-kmp</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FErolC%2Fjieba-kmp" target="_blank" title="https://github.com/ErolC/jieba-kmp" ref="nofollow noopener noreferrer">jieba-kmp</a>æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffxsjy%2Fjieba" target="_blank" title="https://github.com/fxsjy/jieba" ref="nofollow noopener noreferrer">jiebaä¸­æ–‡åˆ†è¯</a>çš„kotlinå¤šå¹³å°ç‰ˆæœ¬</p>
<p>æä¾›ä¸jiebaåŸºæœ¬ä¸€è‡´çš„åŠŸèƒ½ä¸æ¥å£ï¼Œä½†ä¸æ”¯æŒå…¶paddleæ¨¡å¼ã€‚</p>
<h3 data-id="heading-1">ç‰¹ç‚¹</h3>
<ul>
<li>æ”¯æŒä¸‰ç§åˆ†è¯æ¨¡å¼ï¼š
<ul>
<li>ç²¾ç¡®æ¨¡å¼ï¼Œè¯•å›¾å°†å¥å­æœ€ç²¾ç¡®åœ°åˆ‡å¼€ï¼Œé€‚åˆæ–‡æœ¬åˆ†æï¼›</li>
<li>å…¨æ¨¡å¼ï¼ŒæŠŠå¥å­ä¸­æ‰€æœ‰çš„å¯ä»¥æˆè¯çš„è¯è¯­éƒ½æ‰«æå‡ºæ¥, é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯ä¸èƒ½è§£å†³æ­§ä¹‰ï¼›</li>
<li>æœç´¢å¼•æ“æ¨¡å¼ï¼Œåœ¨ç²¾ç¡®æ¨¡å¼çš„åŸºç¡€ä¸Šï¼Œå¯¹é•¿è¯å†æ¬¡åˆ‡åˆ†ï¼Œæé«˜å¬å›ç‡ï¼Œé€‚åˆç”¨äºæœç´¢å¼•æ“åˆ†è¯ã€‚</li>
</ul>
</li>
<li>æ”¯æŒç¹ä½“åˆ†è¯</li>
<li>æ”¯æŒè‡ªå®šä¹‰è¯å…¸</li>
<li>MIT æˆæƒåè®®</li>
</ul>
<h3 data-id="heading-2">æ€§èƒ½</h3>
<p>ä»¥ä¸‹æ€§èƒ½è¡¨ç°ä¸åŒç¡¬ä»¶ä¼šæœ‰æ‰€ä¸åŒï¼Œä»…ä¾›å‚è€ƒ</p>
<h4 data-id="heading-3">åˆå§‹åŒ–</h4>





















<table><thead><tr><th>å¹³å°</th><th>35ä¸‡è¯</th><th>35ä¸‡è¯+ç¼“å­˜</th><th>50ä¸‡è¯</th><th>50ä¸‡è¯+ç¼“å­˜</th><th>è®¾å¤‡</th></tr></thead><tbody><tr><td>android</td><td>1.5ç§’</td><td>1ç§’ï¼ˆé¦–æ¬¡1.9ç§’ï¼‰</td><td>2.1ç§’</td><td>1.0ç§’ï¼ˆé¦–æ¬¡3.1ç§’ï¼‰</td><td>1+Ace5</td></tr></tbody></table>
<h4 data-id="heading-4">åˆ†è¯</h4>

















<table><thead><tr><th>é•¿åº¦</th><th>android</th></tr></thead><tbody><tr><td>1200</td><td>160ms</td></tr><tr><td>6000</td><td>500ms</td></tr></tbody></table>
<h3 data-id="heading-5">å®‰è£…</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">commonMain.dependencies {
    api(<span class="hljs-string">'cn.erolc.jieba:jieba-kmp:1.0.0'</span>)
}
</code></pre>
<p>å¦‚æœåªæ˜¯androidå•ç‹¬ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    api(<span class="hljs-string">'cn.erolc.jieba:jieba-kmp-android:1.0.0'</span>)
}
</code></pre>
<blockquote>
<p>æœ€æ–°ç‰ˆæœ¬è¯·å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FErolC%2Fjieba-kmp" target="_blank" title="https://github.com/ErolC/jieba-kmp" ref="nofollow noopener noreferrer">jieba-kmp</a>æŸ¥çœ‹</p>
</blockquote>
<h3 data-id="heading-6">æ··æ·†è§„åˆ™</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">-keep <span class="hljs-keyword">class</span> <span class="hljs-title class_">cn</span>.<span class="hljs-title">erolc</span>.<span class="hljs-title">jieba</span>.<span class="hljs-title">model</span>.<span class="hljs-title">FreqCache</span> { *; }
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨</h3>
<h4 data-id="heading-8">åˆå§‹åŒ–</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//android</span>
jiebaInit()
<span class="hljs-comment">//other </span>
Jieba.<span class="hljs-keyword">init</span>()
</code></pre>
<p>androidéœ€è¦åœ¨applicationä¸­è¿›è¡Œåˆå§‹åŒ–</p>
<blockquote>
<p>åœ¨ä¸åˆå§‹åŒ–çš„æƒ…å†µä¸‹ä¾æ—§å¯ä»¥ä½¿ç”¨åˆ†è¯åŠŸèƒ½ï¼Œåªæ˜¯åœ¨ç¬¬ä¸€æ¬¡åˆ†è¯æ—¶å†…éƒ¨ä¼šå…ˆè¿›è¡Œåˆå§‹åŒ–ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡åˆ†è¯è€—æ—¶ä¼šç¨é•¿äº›ã€‚androidå»ºè®®å…ˆåˆå§‹åŒ–</p>
</blockquote>
<h4 data-id="heading-9">åˆ†è¯</h4>
<ul>
<li><code>Jieba.cut</code>æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šéœ€è¦åˆ†è¯çš„å­—ç¬¦ä¸²ï¼›æ¨¡å¼ï¼›</li>
<li><code>Jieba.lcut</code>æ–¹æ³•æ¥æ”¶ä¸<code>Jieba.cut</code>ä¸€è‡´çš„å‚æ•°ï¼›<code>cut</code>è¿”å›å€¼æ˜¯flowï¼Œ<code>lcut</code>è¿”å›å€¼æ˜¯list</li>
<li><code>Jieba.cutForSearch</code>æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šéœ€è¦åˆ†è¯çš„å­—ç¬¦ä¸²ï¼›æ˜¯å¦ä½¿ç”¨ HMM æ¨¡å‹ã€‚è¯¥æ–¹æ³•é€‚åˆç”¨äºæœç´¢å¼•æ“æ„å»ºå€’æ’ç´¢å¼•çš„åˆ†è¯ï¼Œç²’åº¦æ¯”è¾ƒç»†</li>
<li><code>Jieba.tokenize</code>æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ï¼šéœ€è¦åˆ†è¯çš„å­—ç¬¦ä¸²ï¼›æ¨¡å¼ï¼›æ˜¯å¦ä½¿ç”¨ HMM æ¨¡å‹ã€‚è¿”å›å€¼ä¼šåŒ…å«è¯çš„ä½ç½®ä¿¡æ¯</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.flow.fold
<span class="hljs-keyword">import</span> kotlinx.coroutines.test.runTest
<span class="hljs-keyword">import</span> kotlin.test.Test
<span class="hljs-keyword">import</span> cn.erolc.jieba.Jieba
<span class="hljs-meta">@Test</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> = runTest {
    <span class="hljs-keyword">val</span> seg_list = Jieba.cut(<span class="hljs-string">"æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åå¤§å­¦"</span>, Mode.Full)
    <span class="hljs-keyword">val</span> value = seg_list.fold(<span class="hljs-string">""</span>) { acc, value -&gt; <span class="hljs-keyword">if</span> (acc.isEmpty()) value <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$acc</span>/<span class="hljs-subst">${value}</span>"</span> }
    println(<span class="hljs-string">"Full mode: <span class="hljs-variable">$value</span>"</span>)
    <span class="hljs-keyword">val</span> seg_list2 = Jieba.cut(<span class="hljs-string">"æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åå¤§å­¦"</span>, Mode.HMM)
    <span class="hljs-keyword">val</span> value1 = seg_list2.fold(<span class="hljs-string">""</span>) { acc, value -&gt; <span class="hljs-keyword">if</span> (acc.isEmpty()) value <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$acc</span>/<span class="hljs-subst">${value}</span>"</span> }
    println(<span class="hljs-string">"HMM mode: <span class="hljs-variable">$value1</span>"</span>)
    <span class="hljs-keyword">val</span> seg_list3 = Jieba.cut(<span class="hljs-string">"ä»–æ¥åˆ°äº†ç½‘æ˜“æ­ç ”å¤§å¦"</span>)
    <span class="hljs-keyword">val</span> value2 = seg_list3.fold(<span class="hljs-string">""</span>) { acc, value -&gt; <span class="hljs-keyword">if</span> (acc.isEmpty()) value <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$acc</span>/<span class="hljs-subst">${value}</span>"</span> }
    println(<span class="hljs-string">"æ–°è¯è¯†åˆ«: <span class="hljs-variable">$value2</span>"</span>)
    <span class="hljs-keyword">val</span> seg_list4 = Jieba.cutForSearch(<span class="hljs-string">"å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨æ—¥æœ¬äº¬éƒ½å¤§å­¦æ·±é€ "</span>)
    <span class="hljs-keyword">val</span> value3 = seg_list4.fold(<span class="hljs-string">""</span>) { acc, value -&gt; <span class="hljs-keyword">if</span> (acc.isEmpty()) value <span class="hljs-keyword">else</span> <span class="hljs-string">"<span class="hljs-variable">$acc</span>/<span class="hljs-subst">${value}</span>"</span> }
    println(<span class="hljs-string">"Search mode: <span class="hljs-variable">$value3</span>"</span>)
    Jieba.tokenize(<span class="hljs-string">"æ°¸å’Œæœè£…é¥°å“æœ‰é™å…¬å¸"</span>).collect { println(it) }
    Jieba.tokenize(<span class="hljs-string">"æ°¸å’Œæœè£…é¥°å“æœ‰é™å…¬å¸"</span>, <span class="hljs-string">"search"</span>).collect { println(it) }


}
</code></pre>
<h4 data-id="heading-10">è¾“å‡º</h4>
<pre><code class="hljs language-ini" lang="ini">cut(9)ï¼š382.907833ms
Full mode: æˆ‘/æ¥åˆ°/åŒ—äº¬/æ¸…å/æ¸…åå¤§å­¦/åå¤§/å¤§å­¦
cut(9)ï¼š300.5us
HMM mode: æˆ‘/æ¥åˆ°/åŒ—äº¬/æ¸…åå¤§å­¦
cut(10)ï¼š2.267ms
æ–°è¯è¯†åˆ«: ä»–/æ¥åˆ°/äº†/ç½‘æ˜“/æ­ç ”/å¤§å¦   (æ­¤å¤„ï¼Œâ€œæ­ç ”â€å¹¶æ²¡æœ‰åœ¨è¯å…¸ä¸­ï¼Œä½†æ˜¯ä¹Ÿè¢«Viterbiç®—æ³•è¯†åˆ«å‡ºæ¥äº†)
cutForSearch(26):4.532458ms
Search mode: å°æ˜/ç¡•å£«/æ¯•ä¸š/äº/ä¸­å›½/ç§‘å­¦/å­¦é™¢/ç§‘å­¦é™¢/ä¸­å›½ç§‘å­¦é™¢/è®¡ç®—/è®¡ç®—æ‰€/ï¼Œ/å/åœ¨/æ—¥æœ¬/äº¬éƒ½/å¤§å­¦/æ—¥æœ¬äº¬éƒ½å¤§å­¦/æ·±é€ 
//é»˜è®¤æ¨¡å¼
SegToken(<span class="hljs-attr">word</span>=æ°¸å’Œ, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">0</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">2</span>)
SegToken(<span class="hljs-attr">word</span>=æœè£…, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">2</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">4</span>)
SegToken(<span class="hljs-attr">word</span>=é¥°å“, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">4</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">6</span>)
SegToken(<span class="hljs-attr">word</span>=æœ‰é™å…¬å¸, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">6</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">10</span>)
tokenize(10):1.907375ms
//æœç´¢æ¨¡å¼
SegToken(<span class="hljs-attr">word</span>=æ°¸å’Œ, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">0</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">2</span>)
SegToken(<span class="hljs-attr">word</span>=æœè£…, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">2</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">4</span>)
SegToken(<span class="hljs-attr">word</span>=é¥°å“, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">4</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">6</span>)
SegToken(<span class="hljs-attr">word</span>=æœ‰é™, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">6</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">8</span>)
SegToken(<span class="hljs-attr">word</span>=å…¬å¸, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">8</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">10</span>)
SegToken(<span class="hljs-attr">word</span>=æœ‰é™å…¬å¸, start<span class="hljs-literal">Off</span>set=<span class="hljs-number">6</span>, end<span class="hljs-literal">Off</span>set=<span class="hljs-number">10</span>)
tokenize(10):856.959us
</code></pre>
<h3 data-id="heading-11">è°ƒæ•´è¯å…¸</h3>
<p>ä½¿ç”¨ <code>addWord(word, freq=None, tag=None)</code> å’Œ <code>del_word(word)</code> å¯åœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹è¯å…¸ã€‚
ä½¿ç”¨ <code>suggestFreq(segment)</code> å¯è°ƒèŠ‚å•ä¸ªè¯è¯­çš„è¯é¢‘ï¼Œä½¿å…¶èƒ½ï¼ˆæˆ–ä¸èƒ½ï¼‰è¢«åˆ†å‡ºæ¥ã€‚</p>
<p>æ³¨æ„ï¼šè‡ªåŠ¨è®¡ç®—çš„è¯é¢‘åœ¨ä½¿ç”¨ HMM æ–°è¯å‘ç°åŠŸèƒ½æ—¶å¯èƒ½æ— æ•ˆã€‚</p>
<h3 data-id="heading-12">è½½å…¥è¯å…¸</h3>
<ul>
<li>å¼€å‘è€…å¯ä»¥æŒ‡å®šè‡ªå·±è‡ªå®šä¹‰çš„è¯å…¸ï¼Œä»¥ä¾¿åŒ…å« jieba è¯åº“é‡Œæ²¡æœ‰çš„è¯ã€‚è™½ç„¶ jieba æœ‰æ–°è¯è¯†åˆ«èƒ½åŠ›ï¼Œä½†æ˜¯è‡ªè¡Œæ·»åŠ æ–°è¯å¯ä»¥ä¿è¯æ›´é«˜çš„æ­£ç¡®ç‡</li>
<li>ç”¨æ³•ï¼š <code>Jieba.init(diskHelper)</code></li>
<li>è¯å…¸æ ¼å¼å’Œ dict.txt ä¸€æ ·ï¼Œä¸€ä¸ªè¯å ä¸€è¡Œï¼›æ¯ä¸€è¡Œåˆ†ä¸‰éƒ¨åˆ†ï¼šè¯è¯­ã€è¯é¢‘ï¼ˆå¯çœç•¥ï¼‰ã€è¯æ€§ï¼ˆå¯çœç•¥ï¼‰ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œé¡ºåºä¸å¯é¢ å€’ï¼Œåˆ™æ–‡ä»¶å¿…é¡»ä¸º
UTF-8 ç¼–ç ã€‚</li>
<li>è¯é¢‘çœç•¥æ—¶ä½¿ç”¨è‡ªåŠ¨è®¡ç®—çš„èƒ½ä¿è¯åˆ†å‡ºè¯¥è¯çš„è¯é¢‘ã€‚</li>
</ul>
<h3 data-id="heading-13">é‡æ–°è½½å…¥</h3>
<p>å½“åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¿®æ”¹äº†è‡ªå®šä¹‰è¯å…¸ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡<code>Jieba.reload()</code>æ–¹æ³•é‡æ–°è½½å…¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidå­¦ä¹ ç¬”è®°-2-Activityç”Ÿå‘½å‘¨æœŸ&æ•°æ®å­˜å‚¨]]></title>    <link>https://juejin.cn/post/7599237603976577067</link>    <guid>https://juejin.cn/post/7599237603976577067</guid>    <pubDate>2026-01-26T09:49:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599237603976577067" data-draft-id="7599459943918747686" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidå­¦ä¹ ç¬”è®°-2-Activityç”Ÿå‘½å‘¨æœŸ&amp;æ•°æ®å­˜å‚¨"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-26T09:49:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¼«åº­_"/> <meta itemprop="url" content="https://juejin.cn/user/1126346204126856"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidå­¦ä¹ ç¬”è®°-2-Activityç”Ÿå‘½å‘¨æœŸ&amp;æ•°æ®å­˜å‚¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1126346204126856/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¼«åº­_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:49:12.000Z" title="Mon Jan 26 2026 09:49:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Androidå­¦ä¹ ç¬”è®°ï¼šActivityç”Ÿå‘½å‘¨æœŸ&amp;æ•°æ®å­˜å‚¨</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec9098e4651647eabdd2e8669d5b4272~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ryr5bqtXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770025751&amp;x-signature=2JQvz7xPfiklDXLkpgfapzhuodU%3D" alt="Activityç”Ÿå‘½å‘¨æœŸ&amp;æ•°æ®å­˜å‚¨.png" loading="lazy"/></p>
<h4 data-id="heading-1">1. Activityç”Ÿå‘½å‘¨æœŸæ ¸å¿ƒæ¦‚å¿µ</h4>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸå¦‚æ­¤é‡è¦ï¼Ÿ</strong><br/>
å®ƒå†³å®šäº†åº”ç”¨åœ¨ä¸åŒçŠ¶æ€ä¸‹çš„è¡Œä¸ºï¼Œæ˜¯å¤„ç†å†…å­˜ç®¡ç†ã€æ•°æ®ä¿å­˜ã€UIæ›´æ–°çš„å…³é”®ã€‚ç†è§£å®ƒï¼Œä½ å°±èƒ½å†™å‡º<strong>ä¸å´©æºƒã€ä¸ä¸¢å¤±æ•°æ®</strong>çš„Androidåº”ç”¨ã€‚</p>
</blockquote>
<pre><code class="hljs language-mermaid" lang="mermaid">stateDiagram-v2
    [*] --&gt; Created
    Created --&gt; Started
    Started --&gt; Resumed
    Resumed --&gt; Paused
    Paused --&gt; Stopped
    Stopped --&gt; Destroyed
    Paused --&gt; Resumed
    Stopped --&gt; Started
    Resumed --&gt; Stopped
    Stopped --&gt; Destroyed
    Paused --&gt; Destroyed
</code></pre>
<p><strong>å…³é”®çŠ¶æ€è¯´æ˜</strong>ï¼š</p>















































<table><thead><tr><th>çŠ¶æ€</th><th>è¯´æ˜</th><th>ç”¨æˆ·å¯è§</th><th>ä¸ºä»€ä¹ˆé‡è¦</th></tr></thead><tbody><tr><td><code>Created</code></td><td>Activityåˆ›å»ºå®Œæˆ</td><td>âŒ</td><td>åˆå§‹åŒ–UIã€æ•°æ®</td></tr><tr><td><code>Started</code></td><td>Activityå¯è§ä½†æœªè·å¾—ç„¦ç‚¹</td><td>âœ…</td><td>å‡†å¤‡æ˜¾ç¤ºå†…å®¹</td></tr><tr><td><code>Resumed</code></td><td>Activityè·å¾—ç„¦ç‚¹ï¼Œç”¨æˆ·å¯äº¤äº’</td><td>âœ…</td><td><strong>æ ¸å¿ƒäº¤äº’çŠ¶æ€</strong></td></tr><tr><td><code>Paused</code></td><td>Activityå¤±å»ç„¦ç‚¹ä½†å¯è§ï¼ˆå¦‚å¼¹å‡ºå¯¹è¯æ¡†ï¼‰</td><td>âœ…</td><td>ä¿å­˜å…³é”®æ•°æ®</td></tr><tr><td><code>Stopped</code></td><td>Activityå®Œå…¨ä¸å¯è§ï¼ˆå¦‚è¿›å…¥åå°ï¼‰</td><td>âŒ</td><td>é‡Šæ”¾éå…³é”®èµ„æº</td></tr><tr><td><code>Destroyed</code></td><td>Activityè¢«é”€æ¯</td><td>âŒ</td><td>é‡Šæ”¾æ‰€æœ‰èµ„æº</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®æ´å¯Ÿ</strong>ï¼š<br/>
<strong>ç”¨æˆ·ä¸ä¼šç­‰å¾…åº”ç”¨å®Œæˆç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œå¿…é¡»åœ¨<code>onPause()</code>ä¿å­˜å…³é”®æ•°æ®ï¼Œå¦åˆ™ä¼šä¸¢å¤±ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-2">2. ç”Ÿå‘½å‘¨æœŸæ–¹æ³•è¯¦è§£</h4>
<blockquote>
<p><strong>æ¯ä¸ªæ–¹æ³•éƒ½æ˜¯ä¸€ä¸ª"å…³é”®æ—¶åˆ»"</strong>ï¼Œå¿…é¡»æ­£ç¡®å¤„ç†</p>
</blockquote>















































<table><thead><tr><th>æ–¹æ³•</th><th>è°ƒç”¨æ—¶æœº</th><th>åšä»€ä¹ˆ</th><th>ä¸ºä»€ä¹ˆ</th></tr></thead><tbody><tr><td><code>onCreate()</code></td><td>Activityé¦–æ¬¡åˆ›å»º</td><td>åˆå§‹åŒ–UIã€æ•°æ®</td><td><strong>å¿…é¡»</strong></td></tr><tr><td><code>onStart()</code></td><td>Activityå¯è§ä½†æœªè·å¾—ç„¦ç‚¹</td><td>æ— éœ€æ“ä½œï¼ˆé€šå¸¸ï¼‰</td><td>é€šå¸¸æ— éœ€å¤„ç†</td></tr><tr><td><code>onResume()</code></td><td>Activityè·å¾—ç„¦ç‚¹ï¼Œç”¨æˆ·å¯äº¤äº’</td><td>é‡å¯åŠ¨ç”»ã€æ¢å¤æ•°æ®</td><td><strong>å…³é”®äº¤äº’ç‚¹</strong></td></tr><tr><td><code>onPause()</code></td><td>å¤±å»ç„¦ç‚¹ï¼ˆå¦‚å¼¹å‡ºå¯¹è¯æ¡†ï¼‰</td><td><strong>ä¿å­˜å…³é”®æ•°æ®</strong>ã€æš‚åœåŠ¨ç”»</td><td><strong>é˜²æ­¢æ•°æ®ä¸¢å¤±</strong></td></tr><tr><td><code>onStop()</code></td><td>å®Œå…¨ä¸å¯è§ï¼ˆè¿›å…¥åå°ï¼‰</td><td>é‡Šæ”¾éå…³é”®èµ„æº</td><td>ä¼˜åŒ–å†…å­˜</td></tr><tr><td><code>onDestroy()</code></td><td>Activityè¢«é”€æ¯</td><td>é‡Šæ”¾æ‰€æœ‰èµ„æº</td><td><strong>å¿…é¡»</strong></td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>æ–°æ‰‹å¸¸è§é”™è¯¯</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šåœ¨onPause()ä¸­ä¿å­˜æ•°æ®ï¼Œä½†æœªåœ¨onResume()æ¢å¤</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
 <span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
 SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> prefs.edit();
 editor.putString(<span class="hljs-string">"text"</span>, textView.getText().toString());
 editor.apply();
}

<span class="hljs-comment">// æœªåœ¨onResume()æ¢å¤æ•°æ®ï¼</span>
</code></pre>
</blockquote>
<hr/>
<h4 data-id="heading-3">3. å®æˆ˜ï¼šç”Ÿå‘½å‘¨æœŸæ—¥å¿—ç›‘æ§</h4>
<h5 data-id="heading-4">æ­¥éª¤1ï¼šä¿®æ”¹MainActivity</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ActivityLifecycle"</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d(TAG, <span class="hljs-string">"onCreate()"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onStart();
        Log.d(TAG, <span class="hljs-string">"onStart()"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onResume();
        Log.d(TAG, <span class="hljs-string">"onResume()"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onPause();
        Log.d(TAG, <span class="hljs-string">"onPause()"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStop</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onStop();
        Log.d(TAG, <span class="hljs-string">"onStop()"</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onDestroy();
        Log.d(TAG, <span class="hljs-string">"onDestroy()"</span>);
    }
}
</code></pre>
<h5 data-id="heading-5">æ­¥éª¤2ï¼šè¿è¡Œå¹¶è§‚å¯ŸLogcat</h5>
<ol>
<li>è¿è¡Œåº”ç”¨</li>
<li>ç‚¹å‡»Homeé”®ï¼ˆè¿›å…¥åå°ï¼‰</li>
<li>ä»æœ€è¿‘ä»»åŠ¡åˆ—è¡¨é‡æ–°æ‰“å¼€åº”ç”¨</li>
<li>è§‚å¯ŸLogcatè¾“å‡º</li>
</ol>
<p><strong>å…¸å‹è¾“å‡º</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">D/ActivityLifecycle: <span class="hljs-built_in">onCreate</span>()
D/ActivityLifecycle: <span class="hljs-built_in">onStart</span>()
D/ActivityLifecycle: <span class="hljs-built_in">onResume</span>()
// ç‚¹å‡»Homeé”®
D/ActivityLifecycle: <span class="hljs-built_in">onPause</span>()
D/ActivityLifecycle: <span class="hljs-built_in">onStop</span>()
// é‡æ–°æ‰“å¼€åº”ç”¨
D/ActivityLifecycle: <span class="hljs-built_in">onStart</span>()
D/ActivityLifecycle: <span class="hljs-built_in">onResume</span>()
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®å‘ç°</strong>ï¼š<br/>
<strong>æ¯æ¬¡ä»åå°å›æ¥ï¼Œéƒ½ä¼šè§¦å‘<code>onStart()</code>å’Œ<code>onResume()</code>ï¼Œä½†ä¸ä¼šé‡æ–°è°ƒç”¨<code>onCreate()</code></strong>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ•°æ®ä¿å­˜åœ¨<code>onPause()</code>è€Œé<code>onCreate()</code>ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-6">4. ç”Ÿå‘½å‘¨æœŸå®æˆ˜åœºæ™¯</h4>
<h5 data-id="heading-7">åœºæ™¯1ï¼šä¿å­˜ç”¨æˆ·è¾“å…¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨onPause()ä¸­ä¿å­˜æ•°æ®</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onPause();
    
    <span class="hljs-comment">// ä¿å­˜è¾“å…¥æ¡†å†…å®¹</span>
    <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);
    SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> prefs.edit();
    editor.putString(<span class="hljs-string">"user_input"</span>, editText.getText().toString());
    editor.apply();
}
</code></pre>
<h5 data-id="heading-8">åœºæ™¯2ï¼šæ¢å¤ç”¨æˆ·è¾“å…¥</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨onCreate()ä¸­æ¢å¤æ•°æ®</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    
    <span class="hljs-comment">// æ¢å¤è¾“å…¥</span>
    <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);
    <span class="hljs-type">String</span> <span class="hljs-variable">savedInput</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"user_input"</span>, <span class="hljs-string">""</span>);
    editText.setText(savedInput);
}
</code></pre>
<h5 data-id="heading-9">åœºæ™¯3ï¼šæš‚åœ/æ¢å¤åª’ä½“æ’­æ”¾</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> MediaPlayer mediaPlayer;

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onResume();
    <span class="hljs-keyword">if</span> (mediaPlayer != <span class="hljs-literal">null</span> &amp;&amp; !mediaPlayer.isPlaying()) {
        mediaPlayer.start(); <span class="hljs-comment">// æ¢å¤æ’­æ”¾</span>
    }
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onPause();
    <span class="hljs-keyword">if</span> (mediaPlayer != <span class="hljs-literal">null</span> &amp;&amp; mediaPlayer.isPlaying()) {
        mediaPlayer.pause(); <span class="hljs-comment">// æš‚åœæ’­æ”¾</span>
    }
}
</code></pre>
<p>âœ… <strong>é¿å‘æŒ‡å—</strong>ï¼š</p>
<blockquote>
<p>ğŸš« <strong>ä¸è¦</strong>åœ¨<code>onCreate()</code>ä¸­ä¿å­˜å…³é”®æ•°æ®ï¼ˆä¼šè¢«é‡å¤è°ƒç”¨ï¼‰<br/>
âœ… <strong>åº”è¯¥</strong>åœ¨<code>onPause()</code>ä¸­ä¿å­˜å…³é”®æ•°æ®<br/>
ğŸš« <strong>ä¸è¦</strong>åœ¨<code>onResume()</code>ä¸­åˆå§‹åŒ–UIï¼ˆä¼šé‡å¤ï¼‰<br/>
âœ… <strong>åº”è¯¥</strong>åœ¨<code>onCreate()</code>ä¸­åˆå§‹åŒ–UI</p>
<p>ä¸æ˜¯æ‰€æœ‰å˜é‡éƒ½éœ€è¦å£°æ˜ä¸ºæˆå‘˜å˜é‡ï¼Œä½† UI æ§ä»¶ï¼ˆå¦‚ EditTextã€Buttonï¼‰å¿…é¡»æ˜¯æˆå‘˜å˜é‡ã€‚</p>
</blockquote>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®ä»£ç </strong>ï¼ˆæ•°æ®ä¿å­˜æ¢å¤ï¼‰ï¼š</p>
</blockquote>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onPause();
    <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);
    SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> prefs.edit();
    editor.putString(<span class="hljs-string">"input"</span>, editText.getText().toString());
    editor.apply();
}

<span class="hljs-comment">// æ¢å¤æ•°æ®</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    
    <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);
    <span class="hljs-type">String</span> <span class="hljs-variable">savedInput</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"input"</span>, <span class="hljs-string">""</span>);
    editText.setText(savedInput);
}
</code></pre>
<h2 data-id="heading-10">SharedPreferences æ·±åº¦è§£æï¼šAndroid æŒä¹…åŒ–å­˜å‚¨çš„åŸºçŸ³</h2>
<p>SharedPreferences æ˜¯ Android ä¸­<strong>æœ€å¸¸ç”¨ã€æœ€è½»é‡çº§çš„æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆ</strong>ï¼Œç”¨äºä¿å­˜<strong>ç®€å•çš„é”®å€¼å¯¹æ•°æ®</strong>ï¼ˆå¦‚ç”¨æˆ·åå¥½ã€ç™»å½•çŠ¶æ€ã€åº”ç”¨è®¾ç½®ç­‰ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-11">ğŸ”‘ ä¸€ã€SharedPreferences çš„æœ¬è´¨</h3>





























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æœ¬è´¨</strong></td><td>ä¸€ä¸ª <strong>XML æ–‡ä»¶</strong>ï¼ˆå­˜å‚¨åœ¨ <code>/data/data/&lt;package_name&gt;/shared_prefs/</code>ï¼‰</td></tr><tr><td><strong>æ•°æ®æ ¼å¼</strong></td><td>é”®å€¼å¯¹ï¼ˆ<code>String</code> é”® + <code>String</code>/<code>int</code>/<code>boolean</code>/<code>float</code>/<code>long</code> å€¼ï¼‰</td></tr><tr><td><strong>å­˜å‚¨ä½ç½®</strong></td><td><strong>åº”ç”¨ç§æœ‰ç›®å½•</strong>ï¼ˆå…¶ä»–åº”ç”¨æ— æ³•è®¿é—®ï¼‰</td></tr><tr><td><strong>æ•°æ®æŒä¹…æ€§</strong></td><td><strong>æ°¸ä¹…å­˜å‚¨</strong>ï¼ˆåº”ç”¨å¸è½½åæ‰åˆ é™¤ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å°å‹æ•°æ®ï¼ˆ&lt;100KBï¼‰ã€éæ•æ„Ÿæ•°æ®ï¼ˆå¦‚ç”¨æˆ·è®¾ç½®ï¼‰</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ç±»æ¯”</strong>ï¼šSharedPreferences å°±åƒä¸€ä¸ª<strong>åŠ å¯†çš„ç”¨æˆ·æ‰‹å†Œ</strong>ï¼Œä½ æŠŠå…³é”®è®¾ç½®å†™åœ¨ä¸Šé¢ï¼Œåº”ç”¨æ¯æ¬¡å¯åŠ¨éƒ½èƒ½è¯»å–ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">ğŸ“¦ äºŒã€SharedPreferences çš„æ ¸å¿ƒä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-13">åœºæ™¯ 1ï¼šä¿å­˜ç”¨æˆ·è¾“å…¥</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿å­˜è¾“å…¥å†…å®¹ï¼ˆåœ¨ onPause ä¸­ï¼‰</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);
prefs.edit().putString(<span class="hljs-string">"user_input"</span>, editText.getText().toString()).apply();
</code></pre>
<h4 data-id="heading-14">åœºæ™¯ 2ï¼šä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿å­˜ä¸»é¢˜è®¾ç½®</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"settings"</span>, MODE_PRIVATE);
prefs.edit().putBoolean(<span class="hljs-string">"dark_mode"</span>, <span class="hljs-literal">true</span>).apply();
</code></pre>
<h4 data-id="heading-15">åœºæ™¯ 3ï¼šè®°å½•ç”¨æˆ·ç™»å½•çŠ¶æ€</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿å­˜ç™»å½•çŠ¶æ€</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"auth"</span>, MODE_PRIVATE);
prefs.edit().putBoolean(<span class="hljs-string">"is_logged_in"</span>, <span class="hljs-literal">true</span>).apply();
</code></pre>
<hr/>
<h3 data-id="heading-16">âš™ï¸ ä¸‰ã€SharedPreferences çš„æ ¸å¿ƒ API</h3>
<h4 data-id="heading-17">âœ… 1. è·å– SharedPreferences å¯¹è±¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹å¼ 1ï¼šé»˜è®¤åç§°ï¼ˆæ¨èï¼‰</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"app_prefs"</span>, MODE_PRIVATE);

<span class="hljs-comment">// æ–¹å¼ 2ï¼šè‡ªå®šä¹‰åç§°</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(<span class="hljs-string">"user_settings"</span>, Context.MODE_PRIVATE);
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>MODE_PRIVATE</code>ï¼š<strong>å”¯ä¸€å®‰å…¨æ¨¡å¼</strong>ï¼ˆå…¶ä»–åº”ç”¨æ— æ³•è®¿é—®ï¼‰</li>
<li>å»ºè®®ç”¨å¸¸é‡å®šä¹‰åç§°ï¼ˆé¿å…æ‹¼å†™é”™è¯¯ï¼‰ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PREFS_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"app_prefs"</span>;
</code></pre>
</li>
</ul>
</blockquote>
<h4 data-id="heading-18">âœ… 2. ä¿å­˜æ•°æ®ï¼ˆå®‰å…¨å†™å…¥ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–ç¼–è¾‘å™¨ï¼ˆä¸æ¨èç›´æ¥ç”¨ edit()ï¼‰</span>
SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> prefs.edit();

<span class="hljs-comment">// å†™å…¥æ•°æ®ï¼ˆæ¨èä½¿ç”¨ apply() è€Œä¸æ˜¯ commit()ï¼‰</span>
editor.putString(<span class="hljs-string">"username"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>);
editor.putInt(<span class="hljs-string">"age"</span>, <span class="hljs-number">25</span>);
editor.putBoolean(<span class="hljs-string">"is_active"</span>, <span class="hljs-literal">true</span>);
editor.apply(); <span class="hljs-comment">// âœ… å¼‚æ­¥å†™å…¥ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>ä¸ºä»€ä¹ˆç”¨ <code>apply()</code> è€Œä¸æ˜¯ <code>commit()</code>ï¼Ÿ</strong></p>




















<table><thead><tr><th>æ–¹æ³•</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>apply()</code></td><td><strong>å¼‚æ­¥</strong>ï¼ˆåå°çº¿ç¨‹ï¼‰</td><td><strong>99% åœºæ™¯</strong>ï¼ˆæ¨èï¼‰</td></tr><tr><td><code>commit()</code></td><td><strong>åŒæ­¥</strong>ï¼ˆä¸»çº¿ç¨‹é˜»å¡ï¼‰</td><td>ä»…å½“éœ€è¦ç«‹å³ç¡®è®¤å†™å…¥æ—¶</td></tr></tbody></table>
</blockquote>
<h4 data-id="heading-19">âœ… 3. è¯»å–æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯»å–å­—ç¬¦ä¸²ï¼ˆæä¾›é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"username"</span>, <span class="hljs-string">"æ¸¸å®¢"</span>);

<span class="hljs-comment">// è¯»å–æ•´æ•°ï¼ˆæä¾›é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> prefs.getInt(<span class="hljs-string">"age"</span>, <span class="hljs-number">0</span>);

<span class="hljs-comment">// è¯»å–å¸ƒå°”å€¼ï¼ˆæä¾›é»˜è®¤å€¼ï¼‰</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">isActive</span> <span class="hljs-operator">=</span> prefs.getBoolean(<span class="hljs-string">"is_active"</span>, <span class="hljs-literal">false</span>);
</code></pre>
<hr/>
<h3 data-id="heading-20">âš ï¸ å››ã€å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-21">âŒ é”™è¯¯ 1ï¼šå¿˜è®°æ£€æŸ¥é»˜è®¤å€¼</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šæœªæä¾›é»˜è®¤å€¼</span>
<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"username"</span>, <span class="hljs-literal">null</span>); <span class="hljs-comment">// å¯èƒ½è¿”å› null</span>
editText.setText(username); <span class="hljs-comment">// NullPointerException!</span>

<span class="hljs-comment">// æ­£ç¡®ï¼šæä¾›é»˜è®¤å€¼</span>
<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"username"</span>, <span class="hljs-string">"æ¸¸å®¢"</span>);
editText.setText(username);
</code></pre>
<h4 data-id="heading-22">âŒ é”™è¯¯ 2ï¼šä½¿ç”¨ <code>commit()</code> é˜»å¡ä¸»çº¿ç¨‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šåŒæ­¥å†™å…¥ï¼Œå¯èƒ½å¡é¡¿</span>
prefs.edit().putString(<span class="hljs-string">"user_input"</span>, text).commit();

<span class="hljs-comment">// æ­£ç¡®ï¼šä½¿ç”¨ apply() å¼‚æ­¥å†™å…¥</span>
prefs.edit().putString(<span class="hljs-string">"user_input"</span>, text).apply();
</code></pre>
<h4 data-id="heading-23">âŒ é”™è¯¯ 3ï¼šé”®åæ‹¼å†™é”™è¯¯</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šé”®åä¸ä¸€è‡´</span>
prefs.edit().putString(<span class="hljs-string">"user_input"</span>, text).apply();

<span class="hljs-comment">// è·å–æ—¶æ‹¼é”™</span>
<span class="hljs-type">String</span> <span class="hljs-variable">saved</span> <span class="hljs-operator">=</span> prefs.getString(<span class="hljs-string">"user_input2"</span>, <span class="hljs-string">""</span>); <span class="hljs-comment">// ä¼šè¿”å›é»˜è®¤å€¼</span>
</code></pre>
<p>âœ… <strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨å¸¸é‡å®šä¹‰é”®å</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_USER_INPUT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_input"</span>;

<span class="hljs-comment">// ä¿å­˜</span>
prefs.edit().putString(KEY_USER_INPUT, text).apply();

<span class="hljs-comment">// è¯»å–</span>
<span class="hljs-type">String</span> <span class="hljs-variable">saved</span> <span class="hljs-operator">=</span> prefs.getString(KEY_USER_INPUT, <span class="hljs-string">""</span>);
</code></pre>
<hr/>
<h3 data-id="heading-24">ğŸ“Š äº”ã€SharedPreferences vs Bundleï¼šå…³é”®åŒºåˆ«</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>SharedPreferences</th><th>Bundle</th></tr></thead><tbody><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td><strong>æ°¸ä¹…å­˜å‚¨</strong>ï¼ˆåº”ç”¨å…³é—­åä»ä¿ç•™ï¼‰</td><td><strong>ä¸´æ—¶å­˜å‚¨</strong>ï¼ˆä»…åœ¨ Activity ç”Ÿå‘½å‘¨æœŸå†…æœ‰æ•ˆï¼‰</td></tr><tr><td><strong>æ•°æ®èŒƒå›´</strong></td><td><strong>åº”ç”¨çº§å…¨å±€</strong>ï¼ˆæ‰€æœ‰ Activity å¯è®¿é—®ï¼‰</td><td><strong>ç»„ä»¶çº§</strong>ï¼ˆä»…åœ¨å½“å‰ Activity/Fragment å†…æœ‰æ•ˆï¼‰</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>ä¿å­˜ç”¨æˆ·åå¥½ã€ç™»å½•çŠ¶æ€ç­‰</td><td>å±å¹•æ—‹è½¬æ—¶ä¸´æ—¶ä¿å­˜æ•°æ®</td></tr><tr><td><strong>æ•°æ®å¤§å°</strong></td><td>æ— ä¸¥æ ¼é™åˆ¶ï¼ˆä½†å»ºè®® &lt;100KBï¼‰</td><td>é™åˆ¶ ~1MB</td></tr><tr><td><strong>æ¢å¤æ—¶æœº</strong></td><td>åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤</td><td>Activity é‡å»ºæ—¶ï¼ˆå¦‚ <code>onCreate</code>/<code>onSaveInstanceState</code>ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-25">ğŸŒŸ å…­ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-26">âœ… 1. ä½¿ç”¨å¸¸é‡å®šä¹‰é”®åï¼ˆé¿å…æ‹¼å†™é”™è¯¯ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PREFS_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"app_prefs"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_USER_INPUT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_input"</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-comment">// ä» SharedPreferences è¯»å–</span>
        <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(PREFS_NAME, MODE_PRIVATE);
        <span class="hljs-type">String</span> <span class="hljs-variable">savedInput</span> <span class="hljs-operator">=</span> prefs.getString(KEY_USER_INPUT, <span class="hljs-string">""</span>);
        editText.setText(savedInput);
    }
}
</code></pre>
<h4 data-id="heading-27">âœ… 2. ä¼˜å…ˆä½¿ç”¨ <code>apply()</code>ï¼ˆé¿å…ä¸»çº¿ç¨‹é˜»å¡ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šå¼‚æ­¥å†™å…¥</span>
<span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(PREFS_NAME, MODE_PRIVATE);
prefs.edit().putString(KEY_USER_INPUT, editText.getText().toString()).apply();
</code></pre>
<h4 data-id="heading-28">âœ… 3. ä¿å­˜å‰æ£€æŸ¥æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… å®‰å…¨å†™å…¥</span>
<span class="hljs-keyword">if</span> (editText != <span class="hljs-literal">null</span>) {
    <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> editText.getText().toString();
    prefs.edit().putString(KEY_USER_INPUT, text).apply();
}
</code></pre>
<h4 data-id="heading-29">âœ… 4. è¯»å–æ—¶æä¾›é»˜è®¤å€¼</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… å®‰å…¨è¯»å–</span>
<span class="hljs-type">String</span> <span class="hljs-variable">savedInput</span> <span class="hljs-operator">=</span> prefs.getString(KEY_USER_INPUT, <span class="hljs-string">""</span>);
</code></pre>
<hr/>
<h3 data-id="heading-30">ğŸ”¥ å…«ã€é«˜çº§æŠ€å·§ï¼šåŸå­æ“ä½œä¸çº¿ç¨‹å®‰å…¨</h3>
<h4 data-id="heading-31">1. ä¸ºä»€ä¹ˆéœ€è¦åŸå­æ“ä½œï¼Ÿ</h4>
<ul>
<li>å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹ SharedPreferences ä¼šå¯¼è‡´æ•°æ®è¦†ç›–</li>
<li><strong>Android 4.0+</strong> çš„ <code>apply()</code> æ˜¯<strong>çº¿ç¨‹å®‰å…¨çš„</strong>ï¼ˆä½†ä¸æ˜¯åŸå­æ“ä½œï¼‰</li>
</ul>
<h4 data-id="heading-32">2. ä¿è¯åŸå­æ€§çš„æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ SharedPreferences.Editor çš„ apply()ï¼ˆAndroid 4.0+ æ¨èï¼‰</span>
prefs.edit().putString(<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>).apply();

<span class="hljs-comment">// æ–¹æ¡ˆ 2ï¼šä½¿ç”¨é”ï¼ˆä»…å½“éœ€è¦ä¸¥æ ¼åŸå­æ€§æ—¶ï¼‰</span>
<span class="hljs-keyword">synchronized</span> (prefs) {
    prefs.edit().putString(<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>).apply();
}
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>é‡è¦æç¤º</strong>ï¼šå¯¹äºå¤§å¤šæ•°åº”ç”¨ï¼Œ<code>apply()</code> å·²è¶³å¤Ÿå®‰å…¨ï¼Œæ— éœ€é¢å¤–åŠ é”ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-33">ğŸ“Œ ä¹ã€å¸¸è§é—®é¢˜è§£ç­”</h3>
<h4 data-id="heading-34">â“ é—®é¢˜ 1ï¼šSharedPreferences é€‚åˆå­˜å‚¨æ•æ„Ÿæ•°æ®å—ï¼Ÿ</h4>
<p><strong>âŒ ä¸é€‚åˆ</strong>ï¼å®ƒ<strong>ä¸åŠ å¯†</strong>ï¼Œæ•æ„Ÿæ•°æ®åº”ä½¿ç”¨ï¼š</p>
<ul>
<li><code>EncryptedSharedPreferences</code>ï¼ˆAndroid Jetpackï¼‰</li>
<li>æ•°æ®åº“åŠ å¯†ï¼ˆRoomï¼‰</li>
</ul>
<h4 data-id="heading-35">â“ é—®é¢˜ 2ï¼šSharedPreferences å¯ä»¥å­˜å‚¨å¯¹è±¡å—ï¼Ÿ</h4>
<p><strong>âŒ ä¸èƒ½ç›´æ¥å­˜å‚¨å¯¹è±¡</strong>ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹å¼ 1ï¼šåºåˆ—åŒ–ï¼ˆä¸æ¨èï¼Œæ•ˆç‡ä½ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>().toJson(user);
prefs.edit().putString(<span class="hljs-string">"user"</span>, json).apply();

<span class="hljs-comment">// æ–¹å¼ 2ï¼šä½¿ç”¨ Parcelableï¼ˆæ¨èï¼Œä½†éœ€è‡ªå·±å®ç°ï¼‰</span>
</code></pre>
<h4 data-id="heading-36">â“ é—®é¢˜ 3ï¼šå¦‚ä½•åˆ é™¤ SharedPreferencesï¼Ÿ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ é™¤æ•´ä¸ª SharedPreferences</span>
getSharedPreferences(PREFS_NAME, MODE_PRIVATE).edit().clear().apply();

<span class="hljs-comment">// åˆ é™¤å•ä¸ªé”®</span>
getSharedPreferences(PREFS_NAME, MODE_PRIVATE).edit().remove(<span class="hljs-string">"key"</span>).apply();
</code></pre>
<hr/>
<h3 data-id="heading-37">âœ… åã€æ€»ç»“ï¼šSharedPreferences çš„å…³é”®ç‚¹</h3>





























<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th></tr></thead><tbody><tr><td><strong>ä¸ºä»€ä¹ˆç”¨ SharedPreferencesï¼Ÿ</strong></td><td>ä¿å­˜å°é‡ã€æŒä¹…åŒ–çš„é”®å€¼å¯¹æ•°æ®ï¼ˆå¦‚ç”¨æˆ·åå¥½ï¼‰</td></tr><tr><td><strong>å¦‚ä½•é¿å…å´©æºƒï¼Ÿ</strong></td><td>1. æ£€æŸ¥ <code>editText</code> æ˜¯å¦ä¸º null2. æä¾›é»˜è®¤å€¼3. ä½¿ç”¨å¸¸é‡é”®å</td></tr><tr><td><strong><code>apply()</code> vs <code>commit()</code></strong></td><td><strong>å§‹ç»ˆç”¨ <code>apply()</code></strong>ï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹ï¼‰</td></tr><tr><td><strong>ä¸ Bundle çš„å…³ç³»</strong></td><td>Bundle ä¸´æ—¶ä¿å­˜ï¼ŒSharedPreferences æ°¸ä¹…ä¿å­˜</td></tr><tr><td><strong>å®‰å…¨ä½¿ç”¨</strong></td><td>1. ç”¨å¸¸é‡å®šä¹‰é”®å2. æä¾›é»˜è®¤å€¼3. ä½¿ç”¨ <code>apply()</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-38">ğŸ“š å®˜æ–¹æ–‡æ¡£æ”¯æŒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftraining%2Fdata-storage%2Fshared-preferences" target="_blank" title="https://developer.android.com/training/data-storage/shared-preferences" ref="nofollow noopener noreferrer">Android Developers - SharedPreferences</a></p>
<blockquote>
<p>"SharedPreferences is a simple way to store key-value pairs of primitive data types. It's ideal for storing small amounts of data, such as user preferences."</p>
</blockquote>
<hr/>
<h3 data-id="heading-39">âœ… ç»“è®º</h3>
<p><strong>SharedPreferences æ˜¯ Android ä¸­æœ€åŸºç¡€ã€æœ€å®‰å…¨çš„æŒä¹…åŒ–å­˜å‚¨æ–¹æ¡ˆ</strong>ã€‚<br/>
<strong>æ— éœ€å†æ‹…å¿ƒ <code>NullPointerException</code> æˆ–æ•°æ®ä¸¢å¤±é—®é¢˜</strong>ï¼</p>
<blockquote>
<p>ğŸ’¡ <strong>è®°ä½</strong>ï¼š<br/>
<code>apply()</code> + å¸¸é‡é”®å + é»˜è®¤å€¼ = <strong>å®‰å…¨å¯é çš„ SharedPreferences ä½¿ç”¨</strong></p>
</blockquote>
<h3 data-id="heading-40">æœ€ç»ˆä»£ç </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.singlenews;

<span class="hljs-keyword">import</span> androidx.appcompat.app.AppCompatActivity;

<span class="hljs-keyword">import</span> android.content.SharedPreferences;
<span class="hljs-keyword">import</span> android.media.MediaPlayer;
<span class="hljs-keyword">import</span> android.os.Bundle;
<span class="hljs-keyword">import</span> android.util.Log;
<span class="hljs-keyword">import</span> android.widget.EditText;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ActivityLifecycle"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PREFS_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"app_prefs"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">USER_INPUT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_input"</span>;

    <span class="hljs-keyword">private</span> EditText editText;
    <span class="hljs-keyword">private</span> MediaPlayer mediaPlayer;

    <span class="hljs-comment">// Activityç±»çš„onCreateæ–¹æ³•é‡å†™ã€‚è¿™æ˜¯Activityç”Ÿå‘½å‘¨æœŸçš„ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„æ ¸å¿ƒæ–¹æ³•</span>
    <span class="hljs-meta">@Override</span> <span class="hljs-comment">// å½“å‰æ–¹æ³•è¦†ç›–çˆ¶ç±»ï¼ˆActivityï¼‰ä¸­å®šä¹‰çš„åŒåæ–¹æ³•ã€‚é‡å†™ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œä»¥å®ç°è‡ªå®šä¹‰é€»è¾‘</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> { <span class="hljs-comment">// onCreateå½“Activityé¦–æ¬¡åˆ›å»ºï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ã€‚</span>
        <span class="hljs-comment">/**
         * Bundle savedInstanceStateï¼š
         * å‚æ•°ï¼Œç”¨äºæ¢å¤ä¹‹å‰ä¿å­˜çš„çŠ¶æ€ï¼ˆå¦‚å±å¹•æ—‹è½¬ã€å†…å­˜ä¸è¶³æ—¶Activityè¢«é”€æ¯é‡å»ºï¼‰
         * å¦‚æœActivityæ˜¯é¦–æ¬¡å¯åŠ¨ï¼ŒsavedInstanceState ä¸º null
         * å¦‚æœActivityæ˜¯é‡å»ºï¼Œç³»ç»Ÿä¼šä¼ å…¥ä¹‹å‰é€šè¿‡onSaveInstanceState()ä¿å­˜çš„æ•°æ®
         *
         * Bundle æ˜¯ Android å¼€å‘ä¸­æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„æ•°æ®ä¼ é€’çš„é”®å€¼å¯¹å®¹å™¨ï¼Œç”¨äºåœ¨ç»„ä»¶ä¹‹é—´ï¼ˆActivityã€Fragmentã€Service ç­‰ï¼‰é€šè¿‡ Intentå®‰å…¨åœ°ä¼ é€’æ•°æ®ã€‚
         */</span>
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState); <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»(Activity)çš„onCreate()æ–¹æ³•ã€‚é€šè¿‡çˆ¶ç±»å®ŒæˆActivityçš„æ ¸å¿ƒåˆå§‹åŒ–ã€‚å¿…é¡»æ”¾åœ¨è‡ªå®šä¹‰ä¹‹å‰ã€‚</span>
        setContentView(R.layout.activity_main); <span class="hljs-comment">// åŠ è½½å¹¶è®¾ç½®Activityçš„UIå¸ƒå±€</span>
        <span class="hljs-comment">/**
         * Rï¼šAndroidè‡ªåŠ¨ç”Ÿæˆçš„èµ„æºå¼•ç”¨ç±»
         * layoutï¼šèµ„æºç±»å‹ï¼ˆå¸ƒå±€æ–‡ä»¶ï¼‰
         * activity_mainï¼šå¸ƒå±€æ–‡ä»¶åï¼ˆå­˜åœ¨äºres/layoutç›®å½•ä¸‹activity_main.xmlæ–‡ä»¶ï¼‰
         */</span>
        <span class="hljs-comment">// Activityæ˜¾ç¤ºç•Œé¢çš„å”¯ä¸€å…¥å£ã€‚ç³»ç»Ÿå°†activity_mainä¸­çš„UIå…ƒç´ æ¸²æŸ“åˆ°å±å¹•ä¸Šã€‚</span>
        <span class="hljs-comment">// åç»­æ“ä½œï¼ˆå¦‚åˆå§‹åŒ–æ§ä»¶ã€è®¾ç½®äº‹ä»¶ç›‘å¬ï¼‰é€šå¸¸åœ¨æ­¤æ–¹æ³•ä¸­ç»§ç»­ç¼–å†™ã€‚</span>

        <span class="hljs-comment">// æ‰€æœ‰Activityéƒ½å¿…é¡»é‡å†™onCreate!</span>

        Log.d(TAG, <span class="hljs-string">"onCreate()"</span>);

        editText = findViewById(R.id.edit_text);
        <span class="hljs-comment">// æ¢å¤æ•°æ®</span>
<span class="hljs-comment">//        SharedPreferences prefs = getSharedPreferences("app_prefs", MODE_PRIVATE);</span>
        <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(PREFS_NAME, MODE_PRIVATE);
<span class="hljs-comment">//        String savedInput = prefs.getString("user_input", "");</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">savedInput</span> <span class="hljs-operator">=</span> prefs.getString(USER_INPUT, <span class="hljs-string">""</span>);
        editText.setText(savedInput);
        <span class="hljs-comment">/**
         * SharedPreferences
         * SharedPreferences æ˜¯ Android ä¸­æœ€å¸¸ç”¨ã€æœ€è½»é‡çº§çš„æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆï¼Œç”¨äºä¿å­˜ç®€å•çš„é”®å€¼å¯¹æ•°æ®ï¼ˆå¦‚ç”¨æˆ·åå¥½ã€ç™»å½•çŠ¶æ€ã€åº”ç”¨è®¾ç½®ç­‰ï¼‰ã€‚
         */</span>
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onStart();
        Log.d(TAG, <span class="hljs-string">"onStart()"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onResume();
        Log.d(TAG, <span class="hljs-string">"onResume()"</span>);

        <span class="hljs-comment">// æ¢å¤æ’­æ”¾</span>
        <span class="hljs-keyword">if</span>(mediaPlayer != <span class="hljs-literal">null</span> &amp;&amp; !mediaPlayer.isPlaying()){
            mediaPlayer.start();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onPause();
        Log.d(TAG, <span class="hljs-string">"onPause()"</span>);

        <span class="hljs-comment">// ä¿å­˜è¾“å…¥æ¡†å†…å®¹</span>
<span class="hljs-comment">//        SharedPreferences prefs = getSharedPreferences("app_prefs", MODE_PRIVATE);</span>
        <span class="hljs-type">SharedPreferences</span> <span class="hljs-variable">prefs</span> <span class="hljs-operator">=</span> getSharedPreferences(PREFS_NAME, MODE_PRIVATE);
        SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> prefs.edit();
<span class="hljs-comment">//        editor.putString("user_input", editText.getText().toString());</span>
        editor.putString(USER_INPUT, editText.getText().toString());
        editor.apply(); <span class="hljs-comment">// apply() æ˜¯å¼‚æ­¥å®‰å…¨çš„ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹</span>

        <span class="hljs-comment">// æš‚åœæ’­æ”¾</span>
        <span class="hljs-keyword">if</span>(mediaPlayer != <span class="hljs-literal">null</span> &amp;&amp; mediaPlayer.isPlaying()){
            mediaPlayer.pause();
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStop</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onStop();
        Log.d(TAG, <span class="hljs-string">"onStop()"</span>);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onDestroy();
        Log.d(TAG, <span class="hljs-string">"onDestroy()"</span>);
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ OpenGLâ€”â€”ç¬¬ä¹å¤©]]></title>    <link>https://juejin.cn/post/7599469598883233807</link>    <guid>https://juejin.cn/post/7599469598883233807</guid>    <pubDate>2026-01-26T08:54:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599469598883233807" data-draft-id="7599474528238551080" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ OpenGLâ€”â€”ç¬¬ä¹å¤©"/> <meta itemprop="keywords" content="OpenGL"/> <meta itemprop="datePublished" content="2026-01-26T08:54:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Kimoro"/> <meta itemprop="url" content="https://juejin.cn/user/3889451248137260"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ OpenGLâ€”â€”ç¬¬ä¹å¤©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3889451248137260/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Kimoro
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:54:10.000Z" title="Mon Jan 26 2026 08:54:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºç¡€å…‰ç…§</h2>
<p>ç°å®ä¸–ç•Œçš„å…‰ç…§æå…¶å¤æ‚ï¼Œå—å¤šç§å› ç´ å½±å“ï¼Œéš¾ä»¥ç”¨æœ‰é™çš„è®¡ç®—èµ„æºå®Œæ•´æ¨¡æ‹Ÿã€‚å› æ­¤ï¼ŒOpenGL é‡‡ç”¨ç®€åŒ–æ¨¡å‹è¿‘ä¼¼çœŸå®å…‰ç…§ï¼Œæ—¢æ˜“äºå®ç°ï¼Œè§†è§‰æ•ˆæœä¹Ÿè¾ƒä¸ºçœŸå®ã€‚è¿™äº›å…‰ç…§æ¨¡å‹åŸºäºå¯¹å…‰çš„ç‰©ç†ç‰¹æ€§ç†è§£ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ Phong å…‰ç…§æ¨¡å‹ã€‚è¯¥æ¨¡å‹åŒ…å«ä¸‰ä¸ªä¸»è¦åˆ†é‡ï¼š</p>
<ul>
<li>ç¯å¢ƒå…‰ï¼ˆAmbientï¼‰</li>
<li>æ¼«åå°„ï¼ˆDiffuseï¼‰</li>
<li>é•œé¢å…‰ï¼ˆSpecularï¼‰</li>
</ul>
<p>ä¸‹å›¾å±•ç¤ºäº†è¿™äº›å…‰ç…§åˆ†é‡çš„è§†è§‰æ•ˆæœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69b9ce1417fb4ee588223e56844f7130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=KF3SBXSAEPxjO7lZQvYD7r17LM8%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">Phong å…‰ç…§æ¨¡å‹ä¸‰å¤§åˆ†é‡</h3>
<ul>
<li>ç¯å¢ƒå…‰ç…§ï¼ˆAmbient Lightingï¼‰å³ä½¿åœ¨é»‘æš—ç¯å¢ƒä¸­ï¼Œä¸–ç•Œä¸Šä¹Ÿæ€»æœ‰ä¸€äº›å¾®å¼±å…‰çº¿ï¼Œå› æ­¤ç‰©ä½“å‡ ä¹ä¸ä¼šå®Œå…¨é»‘æš—ã€‚é€šè¿‡è®¾ç½®ç¯å¢ƒå…‰ç…§å¸¸é‡ï¼Œä¸ºç‰©ä½“æä¾›åŸºç¡€è‰²å½©ã€‚</li>
<li>æ¼«åå°„å…‰ç…§ï¼ˆDiffuse Lightingï¼‰æ¨¡æ‹Ÿå…‰æºå¯¹ç‰©ä½“çš„æ–¹å‘æ€§å½±å“ï¼Œæ˜¯è§†è§‰ä¸Šæœ€æ˜¾è‘—çš„éƒ¨åˆ†ã€‚ç‰©ä½“è¡¨é¢è¶Šæ­£å¯¹å…‰æºï¼Œäº®åº¦è¶Šé«˜ã€‚</li>
<li>é•œé¢å…‰ç…§ï¼ˆSpecular Lightingï¼‰æ¨¡æ‹Ÿæœ‰å…‰æ³½ç‰©ä½“è¡¨é¢å‡ºç°çš„é«˜å…‰ç‚¹ã€‚é•œé¢å…‰çš„é¢œè‰²é€šå¸¸æ›´æ¥è¿‘å…‰æºè‰²ï¼Œè€Œéç‰©ä½“æœ¬èº«é¢œè‰²ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">ç¯å¢ƒå…‰</h2>
<p>åœ¨ç°å®ä¸­ï¼Œå…‰çº¿é€šå¸¸æ¥è‡ªå››é¢å…«æ–¹ï¼Œç»ç”±å¤šæ¬¡åå°„é—´æ¥å½±å“ç‰©ä½“ã€‚è¿™ç§ç°è±¡ç§°ä¸ºå…¨å±€ç…§æ˜ï¼ˆGlobal Illuminationï¼‰ï¼Œä½†å…¶è®¡ç®—å¤æ‚ä¸”èµ„æºæ¶ˆè€—å¤§ã€‚</p>
<p>ä¸ºç®€åŒ–å¤„ç†ï¼Œå¸¸ç”¨ç¯å¢ƒå…‰ç…§è¿‘ä¼¼å…¨å±€ç…§æ˜ã€‚åªéœ€å°†ä¸€ä¸ªè¾ƒå°çš„å¸¸é‡å…‰ç…§é¢œè‰²æ·»åŠ åˆ°ç‰©ä½“ç‰‡æ®µçš„æœ€ç»ˆé¢œè‰²ä¸­ï¼Œå³ä½¿æ— ç›´æ¥å…‰æºï¼Œåœºæ™¯ä¹Ÿä¸ä¼šå…¨é»‘ã€‚</p>
<p>å®ç°æ–¹å¼ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> { 
    <span class="hljs-type">float</span> ambientStrength = <span class="hljs-number">0.1</span>; 
    vec3 ambient = ambientStrength * lightColor; 
    vec3 result = ambient * objectColor; 
    FragColor = vec4(result, <span class="hljs-number">1.0</span>); 
}
</code></pre>
<hr/>
<h2 data-id="heading-3">æ¼«åå°„</h2>
<p>ç¯å¢ƒå…‰ä¸è¶³ä»¥å±•ç°çœŸå®æ„Ÿï¼Œæ¼«åå°„å…‰ç…§å¯ä»¥è®©ç‰©ä½“æ ¹æ®å…‰æºæ–¹å‘äº§ç”Ÿæ˜æš—å˜åŒ–ã€‚ä¸å…‰çº¿æ–¹å‘è¶Šæ¥è¿‘çš„ç‰‡æ®µï¼Œäº®åº¦è¶Šé«˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1d101cc95bc4d068946207c6b0a6dc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=Kr9zlapsE96gVEDsLNBrDVrQXJg%3D" alt="image.png" loading="lazy"/></p>
<p>è®¡ç®—æ–¹æ³•ï¼š</p>
<ol>
<li>æ³•å‘é‡ï¼ˆNormal Vectorï¼‰ï¼šå‚ç›´äºç‰‡æ®µè¡¨é¢çš„å•ä½å‘é‡ã€‚</li>
<li>å…‰ç…§æ–¹å‘å‘é‡ï¼šå…‰æºä½ç½®ä¸ç‰‡æ®µä½ç½®çš„å·®å‘é‡ã€‚</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šå‘é‡éœ€æ ‡å‡†åŒ–ä¸ºå•ä½å‘é‡ï¼Œæ‰èƒ½æ­£ç¡®åæ˜ å¤¹è§’ä½™å¼¦ã€‚</p>
</blockquote>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-c" lang="c">vec3 norm = normalize(Normal); 
vec3 lightDir = normalize(lightPos - FragPos); 
<span class="hljs-type">float</span> diff = max(dot(norm, lightDir), <span class="hljs-number">0.0</span>); 
vec3 diffuse = diff * lightColor;
</code></pre>
<ul>
<li>ç‚¹ä¹˜å€¼è¶Šå¤§ï¼Œæ¼«åå°„åˆ†é‡è¶Šå¼ºã€‚</li>
<li>ä½¿ç”¨ max ä¿è¯åˆ†é‡ä¸ä¸ºè´Ÿæ•°ï¼Œé¿å…æ— å®šä¹‰çš„è´Ÿå…‰ç…§ã€‚</li>
</ul>
<p>æœ€ç»ˆé¢œè‰²åˆæˆï¼š</p>
<pre><code class="hljs language-c" lang="c">vec3 result = (ambient + diffuse) * objectColor;
FragColor = vec4(result, <span class="hljs-number">1.0</span>);
</code></pre>
<hr/>
<h3 data-id="heading-4">å…³äºæ³•å‘é‡å˜æ¢</h3>
<ul>
<li>æ³•å‘é‡ä»…è¡¨ç¤ºæ–¹å‘ï¼Œæ— ç©ºé—´ä½ç½®ï¼Œä¹Ÿæ— é½æ¬¡åæ ‡ï¼ˆw åˆ†é‡ï¼‰ã€‚</li>
<li>ä½ç§»ä¸åº”å½±å“æ³•å‘é‡ï¼Œå˜æ¢æ—¶åº”ä»…ä¿ç•™æ¨¡å‹çŸ©é˜µçš„å·¦ä¸Šè§’ 3Ã—3 éƒ¨åˆ†ï¼ˆæ—‹è½¬å’Œç¼©æ”¾ï¼‰ã€‚</li>
<li>ä¸ç­‰æ¯”ç¼©æ”¾ä¼šç ´åæ³•å‘é‡çš„å‚ç›´æ€§ï¼Œéœ€ä½¿ç”¨æ³•çº¿çŸ©é˜µï¼ˆNormal Matrixï¼‰è¿›è¡Œä¿®æ­£ï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/465f1d2035324467a187fe2b4b4b5afe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=r4iNgyBfWuFQP%2BxoYV%2BzviZH8W0%3D" alt="image.png" loading="lazy"/></p>
<p>æ³•çº¿çŸ©é˜µå®šä¹‰ï¼š æ¨¡å‹çŸ©é˜µå·¦ä¸Šè§’ 3Ã—3 çš„é€†çŸ©é˜µçš„è½¬ç½®ã€‚</p>
<p>ä»£ç å®ç°ï¼š</p>
<p><code>Normal = mat3(transpose(inverse(model))) * aNormal;</code></p>
<blockquote>
<p>çŸ©é˜µæ±‚é€†å¼€é”€è¾ƒå¤§ï¼Œå»ºè®®åœ¨ CPU ç«¯è®¡ç®—åé€šè¿‡ uniform ä¼ é€’ç»™ç€è‰²å™¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">é•œé¢å…‰</h2>
<p>é•œé¢å…‰ç…§ä¸ä»…ä¾èµ–å…‰ç…§æ–¹å‘ä¸æ³•å‘é‡ï¼Œè¿˜ä¸è§‚å¯Ÿæ–¹å‘ç›¸å…³ï¼Œå†³å®šäºè¡¨é¢çš„åå°„ç‰¹æ€§ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/587b3755c4e44c85b80fb0e9d01f5b2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=MJzdtjJrWC7l77QRCUqDZjjv3xI%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>é€šè¿‡æ³•å‘é‡ç¿»æŠ˜å…¥å°„å…‰æ–¹å‘ï¼Œå¾—åˆ°åå°„å‘é‡ã€‚</li>
<li>åå°„å‘é‡ä¸è§‚å¯Ÿæ–¹å‘è¶Šæ¥è¿‘ï¼Œé•œé¢é«˜å…‰è¶Šæ˜æ˜¾ã€‚</li>
</ul>
<p>è®¡ç®—æ­¥éª¤ï¼š</p>
<ol>
<li>å®šä¹‰é•œé¢å¼ºåº¦ï¼š</li>
</ol>
<p><code>float specularStrength = 0.5;</code></p>
<ol start="2">
<li>è®¡ç®—è§†çº¿æ–¹å‘å’Œåå°„æ–¹å‘ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c">vec3 viewDir = normalize(viewPos - FragPos); 
vec3 reflectDir = reflect(-lightDir, norm);
</code></pre>
<ol start="3">
<li>è®¡ç®—é•œé¢åˆ†é‡ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">float</span> spec = <span class="hljs-built_in">pow</span>(max(dot(viewDir, reflectDir), <span class="hljs-number">0.0</span>), <span class="hljs-number">32</span>); 
vec3 specular = specularStrength * spec * lightColor;
</code></pre>
<ul>
<li>
<ul>
<li>32 ä¸ºåå…‰åº¦ï¼ˆShininessï¼‰ï¼Œå€¼è¶Šå¤§é«˜å…‰è¶Šé›†ä¸­ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33fcd068754e494caeb27872149f387f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=ZPTTRsvVO2kf4%2Bd0gmET7N54EWs%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ—©æœŸå…‰ç…§å¤šåœ¨é¡¶ç‚¹ç€è‰²å™¨å®ç°ï¼Œæ•ˆç‡é«˜ä½†ä¸å¤ŸçœŸå®ã€‚</p>
<p>é¡¶ç‚¹æ’å€¼å…‰ç…§ç§°ä¸º Gouraud ç€è‰²ï¼Œç‰‡æ®µçº§å…‰ç…§ç§°ä¸º Phong ç€è‰²ï¼Œåè€…æ•ˆæœæ›´å¹³æ»‘è‡ªç„¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2a18957f9564dbf893c55f4e01ab876~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2ltb3Jv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022450&amp;x-signature=Kr0k1OKMZQuaPQ3Evq9DRD3Nms8%3D" alt="image.png" loading="lazy"/></p>
</blockquote>
<hr/>
<h2 data-id="heading-6">è§‚å¯Ÿç©ºé—´ VS ä¸–ç•Œç©ºé—´ â€”â€” è®¡ç®— Phong å…‰ç…§</h2>
<h3 data-id="heading-7">ä¸–ç•Œç©ºé—´</h3>
<ul>
<li>å…¨å±€åæ ‡ç³»ï¼šæ‰€æœ‰ç‰©ä½“çš„ç»Ÿä¸€å‚è€ƒç³»</li>
<li>ç‰¹ç‚¹ï¼š</li>
<li>
<ul>
<li>åŸç‚¹å›ºå®šåœ¨ä¸–ç•ŒæŸä¸€ç‚¹</li>
<li>ç‰©ä½“é€šè¿‡æ¨¡å‹å˜æ¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰æ”¾ç½®å…¶ä¸­</li>
<li>å…‰æºä½ç½®é€šå¸¸åœ¨ä¸–ç•Œç©ºé—´å®šä¹‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">è§‚å¯Ÿç©ºé—´</h3>
<ul>
<li>ç›¸æœºåæ ‡ç³»ï¼šä»¥æ‘„åƒæœºä¸ºä¸­å¿ƒçš„åæ ‡ç³»</li>
<li>ç‰¹ç‚¹ï¼š</li>
<li>
<ul>
<li>åŸç‚¹åœ¨æ‘„åƒæœºä½ç½®</li>
<li>Z è½´é€šå¸¸æŒ‡å‘è§‚å¯Ÿæ–¹å‘ï¼ˆOpenGL ä¸º -Zï¼ŒDirectX ä¸º +Zï¼‰</li>
<li>é€šè¿‡è§†å›¾çŸ©é˜µä»ä¸–ç•Œç©ºé—´è½¬æ¢è€Œæ¥</li>
</ul>
</li>
</ul>
<hr/>













































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>ç‰¹æ€§</td><td>è§‚å¯Ÿç©ºé—´</td><td>ä¸–ç•Œç©ºé—´</td></tr><tr><td>è§†çº¿è®¡ç®—</td><td>ç®€å•ï¼ˆç›¸æœºåœ¨åŸç‚¹ï¼‰</td><td>éœ€è¦ç›¸æœºä½ç½®</td></tr><tr><td>å…‰æºå¤„ç†</td><td>éœ€è½¬æ¢åˆ°è§‚å¯Ÿç©ºé—´</td><td>ç›´æ¥ä½¿ç”¨</td></tr><tr><td>è°ƒè¯•ä¾¿åˆ©æ€§</td><td>è¾ƒå·®</td><td>è¾ƒå¥½</td></tr><tr><td>ä¸æŠ•å½±ç»“åˆ</td><td>ç›´æ¥</td><td>éœ€é¢å¤–æ­¥éª¤</td></tr><tr><td>æ€§èƒ½</td><td>é€šå¸¸æ›´ä¼˜</td><td>ç•¥å·®</td></tr><tr><td>ç°ä»£åº”ç”¨</td><td>æ›´å¸¸è§</td><td>ç‰¹å®šåœºæ™¯</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯¦ç»†æ•™ç¨‹æµ‹è¯•VPSçš„CPUæ€§èƒ½ï¼Œç®€å•å®ç”¨çš„å…¨æ–¹ä½æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599294170000670771</link>    <guid>https://juejin.cn/post/7599294170000670771</guid>    <pubDate>2026-01-26T09:33:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170000670771" data-draft-id="7599485473707524134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯¦ç»†æ•™ç¨‹æµ‹è¯•VPSçš„CPUæ€§èƒ½ï¼Œç®€å•å®ç”¨çš„å…¨æ–¹ä½æŒ‡å—"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-26T09:33:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="junction"/> <meta itemprop="url" content="https://juejin.cn/user/3511177855119472"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯¦ç»†æ•™ç¨‹æµ‹è¯•VPSçš„CPUæ€§èƒ½ï¼Œç®€å•å®ç”¨çš„å…¨æ–¹ä½æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3511177855119472/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    junction
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:33:19.000Z" title="Mon Jan 26 2026 09:33:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>1.æ‘˜è¦</strong></h2>
<p>å¦‚æœä½ åˆšåˆšè´­ä¹°äº†ä¸€å°VPSï¼Œçœ‹åˆ°å•†å®¶çš„é…ç½®æ ‡æ˜æœ‰â€œ4æ ¸CPUâ€å’Œâ€œé«˜æ€§èƒ½å¤„ç†å™¨â€ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™å°æœºå™¨çš„æ€§èƒ½åº”è¯¥ä¸é”™ã€‚ç„¶è€Œï¼Œå®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼šç½‘ç«™åŠ è½½ç¼“æ…¢ï¼Œåº”ç”¨å“åº”è¿Ÿç¼“ï¼Œç”šè‡³SSHè¿æ¥ä¹Ÿå˜å¾—å¡é¡¿ã€‚è¿™ç§æƒ…å†µå¯èƒ½ä¼šè®©ä½ æ€€ç–‘ï¼Œå•†å®¶æä¾›çš„é…ç½®æ˜¯å¦çœŸå®ï¼Œæˆ–è€…è¯´æ˜¯å¦æœ‰â€œè¶…å”®â€çš„é—®é¢˜ã€‚</p>
<p>VPSï¼ˆè™šæ‹Ÿç§äººæœåŠ¡å™¨ï¼‰ä¸æˆ‘ä»¬å®¶é‡Œçš„ç‰©ç†ç”µè„‘æœ‰å¾ˆå¤§åŒºåˆ«ã€‚æˆ‘ä»¬æ— æ³•ç›´æ¥æ‰“å¼€æœºå™¨æ£€æŸ¥ç¡¬ä»¶ï¼Œä¹Ÿä¸èƒ½éšä¾¿æ‹†è§£ä¸€å°VPSã€‚ç›¸è¾ƒäºç‰©ç†æœºï¼ŒVPSçš„æ€§èƒ½è¯„ä¼°è¦å¤æ‚ä¸€äº›ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›ç®€å•çš„æ–¹æ³•å’Œå·¥å…·æ¥<strong>æµ‹è¯•VPSçš„CPUæ€§èƒ½</strong>ï¼Œç”šè‡³æ˜¯å¯¹Linuxå°ç™½ä¹Ÿååˆ†å‹å¥½ã€‚</p>
<h3 data-id="heading-1"><strong>2.ä¸ºä»€ä¹ˆVPSçš„CPUæ€§èƒ½åˆ¤æ–­éº»çƒ¦ï¼Ÿ</strong></h3>
<p>åœ¨æˆ‘ä»¬æ¢è®¨å…·ä½“çš„æµ‹è¯•æ–¹æ³•ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦ç†è§£ä¸ºä½•æµ‹è¯•VPSçš„CPUæ€§èƒ½æ¯”åœ¨è‡ªå·±ç”µè„‘ä¸Šæµ‹è¯•è¦éº»çƒ¦å¾—å¤šã€‚å…³é”®åœ¨äºVPSçš„ç‹¬ç‰¹æ€§è´¨ã€‚</p>
<h3 data-id="heading-2"><strong>2.1VPSä¸ç‰©ç†æœºçš„åŒºåˆ«</strong></h3>
<p>åœ¨ä½ å®¶é‡Œçš„ç”µè„‘ï¼ŒCPUæ˜¯å±äºä½ ä¸ªäººä½¿ç”¨çš„ï¼Œæ€§èƒ½å‡ ä¹å®Œå…¨ç”±ä½ æ§åˆ¶ã€‚ä½†VPSå°±ä¸åŒäº†ï¼Œå®ƒæ˜¯åœ¨ä¸€å°å¤§æœåŠ¡å™¨ä¸Šé€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯åˆ†å‰²å‡ºæ¥çš„å¤šä¸ªå°éƒ¨åˆ†ã€‚è¿™æ„å‘³ç€ä½ çš„VPSå¯èƒ½ä¸å…¶ä»–ç”¨æˆ·å…±äº«åŒä¸€é¢—ç‰©ç†CPUã€‚</p>
<p>å¦‚æœåŒä¸€å°ç‰©ç†æœåŠ¡å™¨ä¸Šçš„å…¶ä»–VPSä¹Ÿåœ¨é«˜è´Ÿè½½è¿è¡Œï¼Œå¯¼è‡´æ•´ä½“æ€§èƒ½ä¸‹é™ï¼Œä½ çš„VPSæ€§èƒ½ä¹Ÿä¼šå—åˆ°å½±å“ã€‚è¿™å°±æ˜¯æ‰€è°“çš„å…±äº«CPUä¸ç‹¬äº«CPUçš„åŒºåˆ«ã€‚</p>
<h3 data-id="heading-3"><strong>2.2è¶…å”®ç°è±¡</strong></h3>
<p>æ›´éº»çƒ¦çš„æ˜¯ï¼Œä¸å°‘å•†å®¶ä¸ºäº†æé«˜åˆ©æ¶¦ï¼Œå¯èƒ½ä¼šé‡‡ç”¨è¶…å”®ç­–ç•¥ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€å°ç‰©ç†æœåŠ¡å™¨æœ‰32ä¸ªCPUæ ¸å¿ƒï¼Œå•†å®¶å¯èƒ½ä¼šå¼€è®¾40ã€50å°ï¼Œç”šè‡³æ›´å¤šçš„VPSï¼Œæ¯å°VPSæ ‡æ˜ä¸º1æ ¸å¿ƒã€‚ç†è®ºä¸Šæ¯å°VPSç¡®å®æœ‰1æ ¸ï¼Œä½†å®é™…æƒ…å†µæ˜¯ï¼Œè¿™1æ ¸å¿ƒéœ€è¦ä¸å…¶ä»–å¾ˆå¤šVPSå…±äº«ã€‚è¿™å°±å¯¼è‡´äº†æ€§èƒ½ä¸‹é™ï¼Œå°¤å…¶åœ¨é«˜å³°æœŸï¼ŒVPSå¯èƒ½å®Œå…¨æ— æ³•æ»¡è¶³ä½¿ç”¨éœ€æ±‚ã€‚</p>
<h3 data-id="heading-4"><strong>2.3CPUèµ„æºè¢«â€œå·èµ°â€</strong></h3>
<p>åœ¨VPSçš„ä¸–ç•Œé‡Œï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªå¸¸è§çš„ç°è±¡å«åš<strong>CPU Steal Time</strong>ã€‚ç®€å•æ¥è¯´ï¼ŒCPU Steal Timeå°±æ˜¯ä½ éœ€è¦ä½¿ç”¨CPUæ—¶ï¼Œå‘ç°ç‰©ç†æœåŠ¡å™¨æ­£åœ¨å¤„ç†å…¶ä»–VPSçš„è¯·æ±‚ï¼Œå¯¼è‡´ä½ çš„VPSè¦ç­‰å¾ˆé•¿æ—¶é—´æ‰èƒ½è·å¾—CPUèµ„æºã€‚</p>
<p>å¦‚æœCPU Steal Timeè¿‡é«˜ï¼Œå³ä½¿å•†å®¶æ ‡æ˜ä½ çš„VPSæœ‰4æ ¸CPUï¼Œå®é™…å¯ç”¨çš„æ€§èƒ½å¯èƒ½è¿1æ ¸éƒ½ä¸åˆ°ã€‚</p>
<h2 data-id="heading-5">3.å¦‚ä½•æŸ¥çœ‹VPSçš„CPUåŸºç¡€ä¿¡æ¯ï¼Ÿ</h2>
<p>åœ¨å¼€å§‹è·‘åˆ†ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—äº†è§£VPSçš„<strong>åŸºæœ¬CPUä¿¡æ¯</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦å‡ ä¸ªå‘½ä»¤å°±èƒ½æå®šã€‚</p>
<h3 data-id="heading-6"><strong>3.1æŸ¥çœ‹VPSçš„CPUä¿¡æ¯</strong></h3>
<p>è¿æ¥åˆ°ä½ çš„VPSï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹<strong>CPUçš„è¯¦ç»†ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> /proc/cpuinfo
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afcd1a07c81a47c695eacbc205aa05fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVuY3Rpb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024804&amp;x-signature=exAGJIOpftPPPWXauCD8CogIrqI%3D" alt="picture" loading="lazy"/>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„<strong>å‘½ä»¤ç®€åŒ–è¾“å‡º</strong>ï¼š</p>
<pre><code class="hljs">lscpu
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/053dcdc236a14011b4465905f7f88f81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVuY3Rpb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024804&amp;x-signature=Z%2BqAlnlnNEPYfdTvq4VP7ONL14M%3D" alt="picture" loading="lazy"/></p>
<p><strong>å…³æ³¨ä»¥ä¸‹å‡ ä¸ªå‚æ•°</strong>ï¼š</p>
<ul>
<li><strong>CPUå‹å·ï¼ˆModel nameï¼‰</strong> ï¼šè¿™ä¸ªå­—æ®µæœ€é‡è¦ï¼Œç›´æ¥å…³ç³»åˆ°ä½ ä½¿ç”¨çš„æ˜¯å“ªç§CPUã€‚æ¯”å¦‚Intel Xeonæˆ–AMD EPYCç³»åˆ—éƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„æœåŠ¡å™¨CPUã€‚å¦‚æœä½ çœ‹åˆ°çš„æ˜¯â€œIntel Core i3â€æˆ–è€…â€œIntel Celeronâ€ï¼Œé‚£å°±å¾—æ³¨æ„äº†ï¼Œæ¶ˆè´¹çº§çš„CPUæ€§èƒ½ä¸€èˆ¬ä¸å¦‚æœåŠ¡å™¨çº§åˆ«çš„å¤„ç†å™¨ã€‚</li>
<li><strong>CPUæ ¸å¿ƒæ•°ï¼ˆCPUsï¼‰</strong> ï¼šè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä½ çš„VPSåˆ†é…çš„è™šæ‹Ÿæ ¸å¿ƒæ•°ï¼Œæ³¨æ„ï¼Œè¿™å¹¶ä¸ç­‰äºç‰©ç†CPUçš„æ ¸å¿ƒæ•°ï¼Œå› ä¸ºä¸€ä¸ªç‰©ç†æ ¸å¿ƒå¯ä»¥è¢«è™šæ‹Ÿæˆå¤šä¸ªvCPUã€‚</li>
<li><strong>CPUä¸»é¢‘ï¼ˆCPU MHzï¼‰</strong> ï¼šä¸»é¢‘è¶Šé«˜ï¼ŒCPUçš„è®¡ç®—èƒ½åŠ›å°±è¶Šå¼ºï¼Œä½†åœ¨VPSä¸­ï¼Œè¿™ä¸ªæ•°å€¼å¯èƒ½ä¼šå› ä¸ºè´Ÿè½½ä¸åŒè€Œæœ‰æ‰€æ³¢åŠ¨ã€‚</li>
<li><strong>CPUç¼“å­˜ï¼ˆCacheï¼‰</strong> ï¼šç¼“å­˜è¶Šå¤§ï¼ŒCPUå¤„ç†æ•°æ®çš„æ•ˆç‡è¶Šé«˜ã€‚å¦‚æœç¼“å­˜è¾ƒå°ï¼Œè¯´æ˜å¯èƒ½æ˜¯æ¯”è¾ƒè€çš„CPUæˆ–è€…ä½ç«¯å‹å·ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59631b28ed1141d9b3f2de872f4567fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVuY3Rpb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024804&amp;x-signature=%2BaFXFRLuTwFJRPaPbrRahZG8QZM%3D" alt="picture" loading="lazy"/></p>
<h2 data-id="heading-7"><strong>4.ä½¿ç”¨Sysbenchå·¥å…·æµ‹è¯•VPSçš„CPUæ€§èƒ½</strong></h2>
<p>äº†è§£äº†åŸºæœ¬ä¿¡æ¯åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€äº›å®é™…çš„æµ‹è¯•å·¥å…·æ¥æµ‹è¯•VPSçš„CPUæ€§èƒ½äº†ã€‚è¿™é‡Œï¼Œæˆ‘æ¨èä½¿ç”¨<strong>sysbench</strong>å·¥å…·ï¼Œå› ä¸ºå®ƒç®€å•ã€ç›´è§‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿåæ˜ å‡ºCPUçš„çœŸå®æ€§èƒ½ã€‚</p>
<h3 data-id="heading-8"><strong>4.1å®‰è£…Sysbench</strong></h3>
<p>å¤§éƒ¨åˆ†Linuxç³»ç»Ÿéƒ½å¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨ç›´æ¥å®‰è£…sysbenchï¼š</p>
<ul>
<li>
<p>å¯¹äº<strong>Ubuntu/Debianç³»ç»Ÿ</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">sudo apt <span class="hljs-keyword">update</span>
sudo apt install sysbench <span class="hljs-operator">-</span>y
</code></pre>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b9de1778c854f908160559dad8f63cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVuY3Rpb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024804&amp;x-signature=sYXenLyivir1MWe%2Bvk1jRiO%2FezY%3D" alt="picture" loading="lazy"/></p>
<ul>
<li>å¯¹äº<strong>CentOSç³»ç»Ÿ</strong>ï¼š</li>
</ul>

<pre><code class="hljs">sudo yum install sysbench -y
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç¡®è®¤å®‰è£…æˆåŠŸï¼š</p>
<pre><code class="hljs language-css" lang="css">sysbench <span class="hljs-attr">--version</span>
</code></pre>
<h3 data-id="heading-9"><strong>4.2è¿è¡ŒSysbench CPUæ€§èƒ½æµ‹è¯•</strong></h3>
<p>ä¸€æ—¦sysbenchå®‰è£…å®Œæˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥è¿›è¡ŒCPUæ€§èƒ½çš„æµ‹è¯•äº†ã€‚è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå•æ ¸æ€§èƒ½æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">sysbench cpu <span class="hljs-attr">--threads</span>=<span class="hljs-number">1</span> run
</code></pre>
<p>è¿™æ¡å‘½ä»¤ä¼šè®©CPUè¿›è¡Œ<strong>è´¨æ•°è®¡ç®—</strong>ï¼Œé»˜è®¤æƒ…å†µä¸‹è®¡ç®—åˆ°10000ä»¥å†…çš„è´¨æ•°ï¼Œæµ‹è¯•æ—¶é—´ä¸º10ç§’ã€‚è¿è¡Œç»“æœä¼šæä¾›â€œevents per secondâ€çš„æ•°æ®ï¼Œå®ƒä»£è¡¨æ¯ç§’CPUå®Œæˆçš„è®¡ç®—ä»»åŠ¡æ•°ã€‚æ•°å­—è¶Šå¤§ï¼Œè¯´æ˜CPUæ€§èƒ½è¶Šå¥½ã€‚</p>
<p><strong>è¯´æ˜ï¼šEvents per second</strong>ï¼Œè¿™ä¸ªæ•°å­—è¡¨ç¤º<strong>æ¯ç§’é’ŸCPUèƒ½å¤Ÿå®Œæˆå¤šå°‘æ¬¡è®¡ç®—ä»»åŠ¡</strong>ã€‚<strong>æ•°å­—è¶Šå¤§ï¼Œè¯´æ˜CPUæ€§èƒ½è¶Šå¼º</strong>ã€‚ä¾‹å¦‚ï¼Œ1000æ¬¡äº‹ä»¶æ¯ç§’çš„CPUæ€§èƒ½ç›¸å¯¹æ¥è¯´æ˜¯ä¸­ç­‰æ°´å¹³ï¼Œé€‚åˆå¤„ç†å°å‹åº”ç”¨ï¼›è€Œè¶…è¿‡2000æ¬¡çš„CPUåˆ™è¡¨ç°éå¸¸ä¼˜ç§€ï¼Œèƒ½å¤Ÿå¤„ç†å¤§è´Ÿè½½ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-10"><strong>4.3æµ‹è¯•å¤šæ ¸æ€§èƒ½</strong></h3>
<p>å¦‚æœä½ çš„VPSæ˜¯å¤šæ ¸çš„ï¼Œä½ ä¹Ÿå¯ä»¥æµ‹è¯•å…¶å¤šæ ¸æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">sysbench cpu <span class="hljs-attr">--threads</span>=$(nproc) run
</code></pre>
<p>è¿™é‡Œçš„<code>$(nproc)</code><strong>ä¼šè‡ªåŠ¨è·å–VPSçš„æ ¸å¿ƒæ•°</strong>ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¤šæ ¸çš„æµ‹è¯•ç»“æœåº”è¯¥æ˜¯å•æ ¸æ€§èƒ½çš„å‡ å€ã€‚ä¾‹å¦‚ï¼Œ4æ ¸VPSåº”è¯¥æ˜¯å•æ ¸æ€§èƒ½çš„4å€å·¦å³ã€‚å¦‚æœæ€§èƒ½å€å¢ä¸æ˜æ˜¾ï¼Œé‚£ä¹ˆå°±è¯´æ˜VPSçš„å¤šæ ¸æ€§èƒ½å—åˆ°äº†é™åˆ¶ï¼Œå¯èƒ½æ˜¯å› ä¸ºå•†å®¶è¶…å”®æˆ–ç‰©ç†æœºçš„èµ„æºåˆ†é…ä¸åˆç†ã€‚</p>
<h3 data-id="heading-11"><strong>4.4ä¸åŒå‚æ•°çš„æµ‹è¯•å·®å¼‚</strong></h3>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>sysbenchå·¥å…·</strong>å¯ä»¥è°ƒæ•´æµ‹è¯•çš„éš¾åº¦ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤æƒ…å†µä¸‹è®¡ç®—çš„æ˜¯10000ä»¥å†…çš„è´¨æ•°ï¼Œä½†ä½ ä¹Ÿå¯ä»¥å¢åŠ éš¾åº¦ï¼Œè®¡ç®—æ›´å¤§çš„è´¨æ•°ï¼Œå¦‚20000ã€‚è¿™æ ·åšä¼šä½¿CPUçš„è´Ÿè½½å¢åŠ ï¼Œæµ‹è¯•ç»“æœä¼šå¤§å¹…ä¸‹é™ã€‚æˆ‘ä¸ªäººå»ºè®®ä½¿ç”¨sysbenchå·¥å…·é»˜è®¤å‚æ•°è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºå¤§å¤šæ•°äººéƒ½ä½¿ç”¨è¿™ä¸ªæ ‡å‡†ï¼Œè¿™æ ·æ›´æ–¹ä¾¿æ¯”è¾ƒä¸åŒVPSçš„æ€§èƒ½ã€‚å› ä¸º<strong>CPUæ€§èƒ½ä¼šå—åˆ°ç‰©ç†æœºè´Ÿè½½çš„å½±å“</strong>ï¼Œæˆ‘å»ºè®®ç”¨æˆ·ä½ è‡³å°‘<strong>æµ‹è¯•3-4æ¬¡</strong>ï¼Œæ¯æ¬¡åœ¨ä¸åŒçš„æ—¶é—´æ®µæµ‹è¯•ã€‚å¦‚æœç»“æœå§‹ç»ˆç¨³å®šï¼Œé‚£å°±è¯´æ˜VPSæ€§èƒ½è¾ƒä¸ºç¨³å®šã€‚å¦‚æœæµ‹è¯•ç»“æœæ³¢åŠ¨å¾ˆå¤§ï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½é‡åˆ°äº†è¶…å”®æˆ–èµ„æºäº‰ç”¨çš„æƒ…å†µã€‚</p>
<h2 data-id="heading-12"><strong>5.å¦‚ä½•åˆ¤æ–­VPSæ€§èƒ½æ˜¯å¦åˆæ ¼ï¼Ÿ</strong></h2>
<p>VPSçš„æ€§èƒ½åˆæ ¼ä¸å¦ï¼Œè¦æ ¹æ®ä½ çš„ä½¿ç”¨éœ€æ±‚æ¥åˆ¤æ–­ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸ªäººåšå®¢ã€å°å‹ç½‘ç«™çš„å•æ ¸æ€§èƒ½åœ¨500åˆ°1000ä¹‹é—´å°±è¶³å¤Ÿäº†ã€‚å¦‚æœä½ çš„éœ€æ±‚æ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚è¿è¡ŒAPIæœåŠ¡æˆ–è€…ä¸­å‹ç½‘ç«™ï¼Œé‚£ä¹ˆå•æ ¸æ€§èƒ½è‡³å°‘è¦1200ä»¥ä¸Šã€‚æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼š<strong>ç¨³å®šæ€§</strong>ã€‚å®æ„¿é€‰æ‹©ä¸€ä¸ªç¨³å®šçš„VPSï¼Œå“ªæ€•å®ƒçš„æ€§èƒ½ç¨ä½ï¼Œä¹Ÿæ¯”é‚£ç§æ€§èƒ½æ—¶å¥½æ—¶åçš„VPSæ›´å€¼å¾—é€‰æ‹©ã€‚</p>
<h2 data-id="heading-13"><strong>6.è¿›ä¸€æ­¥æ£€æµ‹ï¼šCPU Steal Time</strong></h2>
<p>é™¤äº†æµ‹è¯•CPUæ€§èƒ½ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å…³æ³¨<strong>CPU Steal Time</strong>ã€‚å¦‚æœä½ çš„VPSç»å¸¸å‡ºç°é«˜Steal Timeï¼Œè¯´æ˜å®ƒç»å¸¸åœ¨ç­‰å¾…CPUèµ„æºï¼Œå¯èƒ½æ˜¯å› ä¸ºè¶…å”®å¤ªä¸¥é‡ã€‚ä½ å¯ä»¥é€šè¿‡<code>top</code>å‘½ä»¤æŸ¥çœ‹Steal Timeï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">top</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd1a4958287f474f906f56b3241dd2a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVuY3Rpb24=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770024804&amp;x-signature=dA%2FupeHIKMR5c7qp%2Fz1zxkk5KX0%3D" alt="picture" loading="lazy"/></p>
<p>å¦‚æœåœ¨ç¬¬ä¸‰è¡Œçœ‹åˆ°<code>st</code>å­—æ®µå€¼è¾ƒé«˜ï¼Œé‚£ä¹ˆä½ çš„VPSå¯èƒ½å—åˆ°äº†è¶…å”®å½±å“ã€‚Steal Timeè¶…è¿‡10%è¯´æ˜ä½ çš„VPSæ€§èƒ½å·²ç»å—åˆ°äº†è¾ƒå¤§å½±å“ã€‚</p>
<h2 data-id="heading-14"><strong>7.æ€»ç»“</strong></h2>
<p>æµ‹è¯•VPSçš„CPUæ€§èƒ½å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦å‡ æ­¥å°±å¯ä»¥å…¨é¢äº†è§£ä½ çš„VPSæ€§èƒ½ï¼š</p>
<ol>
<li>ç”¨<code>lscpu</code>æŸ¥çœ‹<strong>åŸºç¡€ä¿¡æ¯</strong>ï¼›</li>
<li>ä½¿ç”¨<code>sysbench</code>å·¥å…·æµ‹è¯•<strong>å•æ ¸å’Œå¤šæ ¸æ€§èƒ½</strong>ï¼›</li>
<li>ä½¿ç”¨<code>top</code>æŸ¥çœ‹<strong>CPU Steal Time</strong>ï¼Œæ£€æŸ¥<strong>è¶…å”®æƒ…å†µ</strong>ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›ç¡¬æŒ‡æ ‡æµ‹è¯•ï¼Œä½ å¯ä»¥æœ‰æ•ˆè¿‡æ»¤æ‰é‚£äº›æ€§èƒ½ä¸è¾¾æ ‡çš„åŠ£è´¨æœºå™¨ã€‚ä¸å…¶åœ¨ä¸ç¨³å®šçš„æœåŠ¡å™¨ä¸Šæµªè´¹æ—¶é—´è°ƒè¯•ï¼Œä¸å¦‚æŠŠç›®å…‰æŠ•å‘æ›´æˆç†Ÿçš„æ–¹æ¡ˆã€‚å¸‚é¢ä¸Šå…¥é—¨çº§ä»·ä½æ®µä¸­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.vmrack.net%2F%3Faffid%3Djuejin" target="_blank" title="https://www.vmrack.net/?affid=juejin" ref="nofollow noopener noreferrer">VMRack</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fvpszhijia.com%2Fracknerd-zenmeyang" target="_blank" title="https://vpszhijia.com/racknerd-zenmeyang" ref="nofollow noopener noreferrer">RackNerd</a> éƒ½æ˜¯ç”±äºåœ¨åŒç­‰é€‰æ‹©åŒºé—´å†…ä¸‹è¡¨ç°ç›¸å¯¹ç¨³å®šï¼Œä»è€Œè¢«å¾ˆå¤šå¼€å‘è€…åˆ—å…¥å¤‡é€‰æ¸…å•ã€‚å½“ç„¶ï¼Œä»»ä½•æœåŠ¡å•†éƒ½å»ºè®®å…ˆæœˆä»˜å®æµ‹ï¼Œæ»¡æ„å†ç»­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ C# åˆ›å»º Word æ–‡æ¡£çš„ç®€æ˜“æ•™ç¨‹ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰]]></title>    <link>https://juejin.cn/post/7599294170000703539</link>    <guid>https://juejin.cn/post/7599294170000703539</guid>    <pubDate>2026-01-26T09:41:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170000703539" data-draft-id="7599459943918845990" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ C# åˆ›å»º Word æ–‡æ¡£çš„ç®€æ˜“æ•™ç¨‹ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-26T09:41:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LSTM97"/> <meta itemprop="url" content="https://juejin.cn/user/2253353867033484"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ C# åˆ›å»º Word æ–‡æ¡£çš„ç®€æ˜“æ•™ç¨‹ï¼ˆå¿«é€Ÿä¸Šæ‰‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2253353867033484/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LSTM97
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:41:58.000Z" title="Mon Jan 26 2026 09:41:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œç”Ÿæˆæ–‡æ¡£è‡ªåŠ¨åŒ–å˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚å€ŸåŠ©åƒ Spire.Doc for .NET è¿™æ ·çš„åº“ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨ C# ä¸­åˆ›å»ºå’Œæ“ä½œ Word æ–‡æ¡£ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Spire.Doc åˆ›å»ºä¸€ä¸ªç®€å•çš„ Word æ–‡æ¡£ï¼Œæ¶‰åŠåˆ°æ ‡é¢˜ã€æ®µè½ç­‰æ–‡æœ¬å…ƒç´ çš„æ·»åŠ ã€‚</p>
<h2 data-id="heading-0">Spire.Doc for .NET ç®€ä»‹</h2>
<p>Spire.Doc æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ .NET æ–‡æ¡£å¤„ç†ç»„ä»¶ï¼Œå®ƒå…è®¸å¼€å‘è€…åœ¨ C# å’Œ VB.NET ä¸­åˆ›å»ºã€è¯»å–ã€ç¼–è¾‘å’Œä¿å­˜ Word æ–‡æ¡£ã€‚è¯¥åº“æ”¯æŒå¤šç§æ ¼å¼ï¼ŒåŒ…æ‹¬ DOCã€DOCXã€HTML å’Œ PDFã€‚ç”¨æˆ·å¯ä»¥ç®€å•åœ°é€šè¿‡ä»£ç æ¥æ§åˆ¶æ–‡æ¡£çš„å†…å®¹å’Œæ ·å¼ï¼Œè¿›è€Œç”Ÿæˆæ»¡è¶³éœ€æ±‚çš„æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-1">NuGet å®‰è£…</h2>
<p>è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Spire.Docï¼Œä½ å¯ä»¥é€šè¿‡ NuGet åŒ…ç®¡ç†å™¨è½»æ¾å®‰è£…ã€‚åªéœ€åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs">Install-PackageÂ Spire.Doc
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Spire.Doc åˆ›å»º Word æ–‡æ¡£äº†ã€‚</p>
<h2 data-id="heading-2">ç¤ºä¾‹ä»£ç </h2>
<p>ä¸‹é¢çš„ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ C# å’Œ Spire.Doc åˆ›å»ºä¸€ä¸ªåŒ…å«æ ‡é¢˜å’Œæ®µè½çš„ç®€å• Word æ–‡æ¡£ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">usingÂ Spire.Doc<span class="hljs-comment">;</span>
usingÂ Spire.Doc.Documents<span class="hljs-comment">;</span>
usingÂ Spire.Doc.Fields<span class="hljs-comment">;</span>
usingÂ System.Drawing<span class="hljs-comment">;</span>

namespaceÂ CreateSimpleWordDocument
{
Â Â Â Â classÂ Program
Â Â Â Â {
Â Â Â Â Â Â Â Â staticÂ voidÂ Main(string<span class="hljs-section">[]</span>Â args)
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â //Â åˆ›å»ºDocumentå¯¹è±¡
Â Â Â Â Â Â Â Â Â Â Â Â DocumentÂ <span class="hljs-attr">document</span>Â =Â newÂ Document()<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â æ·»åŠ èŠ‚
Â Â Â Â Â Â Â Â Â Â Â Â SectionÂ <span class="hljs-attr">section</span>Â =Â document.AddSection()<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â è®¾ç½®é¡µè¾¹è·
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">section.PageSetup.Margins.All</span>Â =Â <span class="hljs-number">60</span>f<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â æ·»åŠ ä¸€ä¸ªæ ‡é¢˜æ®µè½
Â Â Â Â Â Â Â Â Â Â Â Â ParagraphÂ <span class="hljs-attr">title_para</span>Â =Â section.AddParagraph()<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â TextRangeÂ <span class="hljs-attr">textRange</span>Â =Â title_para.AppendText(<span class="hljs-string">"è¿™æ˜¯æ ‡é¢˜"</span>)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â title_para.ApplyStyle(BuiltinStyle.Title)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">textRange.CharacterFormat.FontName</span>Â =Â <span class="hljs-string">"å®‹ä½“"</span><span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â æ·»åŠ å‡ ä¸ªå°æ ‡é¢˜æ®µè½
Â Â Â Â Â Â Â Â Â Â Â Â string<span class="hljs-section">[]</span>Â <span class="hljs-attr">headings</span>Â =Â {Â <span class="hljs-string">"è¿™æ˜¯æ ‡é¢˜1"</span>,Â <span class="hljs-string">"è¿™æ˜¯æ ‡é¢˜2"</span>,Â <span class="hljs-string">"è¿™æ˜¯æ ‡é¢˜3"</span>,Â <span class="hljs-string">"è¿™æ˜¯æ ‡é¢˜4"</span>Â }<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â forÂ (intÂ <span class="hljs-attr">i</span>Â =Â <span class="hljs-number">0</span><span class="hljs-comment">;Â iÂ &lt;Â headings.Length;Â i++)</span>
Â Â Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ParagraphÂ <span class="hljs-attr">heading</span>Â =Â section.AddParagraph()<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">textRange</span>Â =Â heading.AppendText(headings[i])<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â heading.ApplyStyle((BuiltinStyle)((int)BuiltinStyle.Heading1Â +Â i))<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">textRange.CharacterFormat.FontName</span>Â =Â <span class="hljs-string">"å®‹ä½“"</span><span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â //Â æ·»åŠ ä¸€ä¸ªæ®µè½
Â Â Â Â Â Â Â Â Â Â Â Â ParagraphÂ <span class="hljs-attr">normal_para</span>Â =Â section.AddParagraph()<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â normal_para.AppendText("è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚")<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â åˆ›å»ºæ®µè½æ ·å¼
Â Â Â Â Â Â Â Â Â Â Â Â ParagraphStyleÂ <span class="hljs-attr">style</span>Â =Â newÂ ParagraphStyle(document)<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">style.Name</span>Â =Â <span class="hljs-string">"paraStyle"</span><span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">style.CharacterFormat.FontName</span>Â =Â <span class="hljs-string">"å®‹ä½“"</span><span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">style.CharacterFormat.FontSize</span>Â =Â <span class="hljs-number">13</span>f<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">style.CharacterFormat.TextColor</span>Â =Â Color.Brown<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â Â Â Â Â document.Styles.Add(style)<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â å°†è‡ªå®šä¹‰æ ·å¼åº”ç”¨åˆ°æŒ‡å®šæ®µè½
Â Â Â Â Â Â Â Â Â Â Â Â normal_para.ApplyStyle("paraStyle")<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â ä¿å­˜æ–‡æ¡£
Â Â Â Â Â Â Â Â Â Â Â Â document.SaveToFile("AddText.docx",Â FileFormat.Docx)<span class="hljs-comment">;</span>

Â Â Â Â Â Â Â Â Â Â Â Â //Â é‡Šæ”¾èµ„æº
Â Â Â Â Â Â Â Â Â Â Â Â document.Dispose()<span class="hljs-comment">;</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-3">ä»£ç è¯¦è§£</h3>
<ol>
<li>
<p><strong>åˆ›å»º Document å¯¹è±¡</strong> ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬å®ä¾‹åŒ–ä¸€ä¸ª <code>Document</code> å¯¹è±¡ï¼Œè¿™æ˜¯æ–‡æ¡£çš„æ ¸å¿ƒã€‚</p>
</li>
<li>
<p><strong>æ·»åŠ èŠ‚</strong> ï¼šä½¿ç”¨ <code>AddSection()</code> æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å‘æ–‡æ¡£æ·»åŠ æ–°çš„èŠ‚ã€‚</p>
</li>
<li>
<p><strong>è®¾ç½®é¡µé¢è¾¹è·</strong> ï¼šä½¿ç”¨ <code>PageSetup.Margins</code> å±æ€§å¯ä»¥è½»æ¾è®¾ç½®é¡µè¾¹è·ã€‚</p>
</li>
<li>
<p><strong>æ·»åŠ æ ‡é¢˜å’Œæ®µè½</strong> ï¼š</p>
</li>
</ol>
<ul>
<li>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>AddParagraph()</code> æ–¹æ³•æ·»åŠ æ®µè½ï¼Œå¹¶åˆ©ç”¨ <code>AppendText()</code> æ–¹æ³•æ·»åŠ æ–‡æœ¬ã€‚</li>
<li>Spire.Doc å…è®¸ä½¿ç”¨å†…ç½®æ ·å¼ï¼Œé€šè¿‡ <code>ApplyStyle()</code> æ–¹æ³•ä¸ºæ®µè½åº”ç”¨ä¸åŒçš„æ ·å¼ã€‚</li>
</ul>
<ol start="5">
<li>
<p><strong>è‡ªå®šä¹‰æ®µè½æ ·å¼</strong> ï¼šä½¿ç”¨ <code>ParagraphStyle</code> ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„æ®µè½æ ·å¼å¹¶åº”ç”¨åˆ°æ®µè½ä¸Šã€‚</p>
</li>
<li>
<p><strong>ä¿å­˜æ–‡æ¡£</strong> ï¼šæœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>SaveToFile()</code> æ–¹æ³•å°†æ–‡æ¡£ä¿å­˜ä¸º <code>.docx</code> æ ¼å¼ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">æ›´å¤šåŠŸèƒ½</h3>
<p>å¦‚æœæƒ³è¦äº†è§£å¦‚ä½•åœ¨ Word æ–‡æ¡£ä¸­æ·»åŠ å›¾ç‰‡ã€åˆ—è¡¨ç­‰æ›´å¤æ‚çš„å…ƒç´ ï¼Œå¯ä»¥å‚è€ƒ Spire.Doc çš„åœ¨çº¿æ•™ç¨‹ã€‚è¿™äº›æ•™ç¨‹æ¶µç›–äº†åº“çš„æ›´å¤šå…ˆè¿›åŠŸèƒ½ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°æŒæ¡æ–‡æ¡£ç”Ÿæˆçš„æŠ€æœ¯ã€‚</p>
<h2 data-id="heading-5">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œä½ åº”è¯¥èƒ½å¤Ÿä½¿ç”¨ C# å’Œ Spire.Doc åˆ›å»ºä¸€ä¸ªåŒ…å«åŸºæœ¬å…ƒç´ çš„ Word æ–‡æ¡£ã€‚æ— è®ºæ˜¯ç”ŸæˆæŠ¥å‘Šã€åˆåŒæˆ–å…¶ä»–ä»»ä½•æ–‡æ¡£ï¼ŒSpire.Doc éƒ½æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ»¡è¶³å„ç§éœ€æ±‚ã€‚ç»§ç»­æ¢ç´¢æ›´å¤šç‰¹æ€§ï¼Œä½ å°†èƒ½åˆ›å»ºå‡ºæ›´åŠ å¤æ‚å’Œä¸“ä¸šçš„æ–‡æ¡£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Flutter Dio ç½‘ç»œè¯·æ±‚åº“ä½¿ç”¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7599469598883643407</link>    <guid>https://juejin.cn/post/7599469598883643407</guid>    <pubDate>2026-01-26T09:58:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599469598883643407" data-draft-id="7599220371666501672" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Flutter Dio ç½‘ç»œè¯·æ±‚åº“ä½¿ç”¨æ•™ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T09:58:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–ç«ç®­çš„å°ç”·å­©"/> <meta itemprop="url" content="https://juejin.cn/user/4457847613830523"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Flutter Dio ç½‘ç»œè¯·æ±‚åº“ä½¿ç”¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4457847613830523/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–ç«ç®­çš„å°ç”·å­©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:58:42.000Z" title="Mon Jan 26 2026 09:58:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Dio æ˜¯ Flutter ä¸­æœ€å¼ºå¤§ã€æœ€æµè¡Œçš„ Dart HTTP å®¢æˆ·ç«¯åº“ï¼Œæä¾›äº†æ‹¦æˆªå™¨ã€å…¨å±€é…ç½®ã€FormDataã€æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ã€è¯·æ±‚å–æ¶ˆã€è¶…æ—¶ç­‰é«˜çº§åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">1. å®‰è£…ä¸åˆå§‹åŒ–</h2>
<h3 data-id="heading-1">1.1 æ·»åŠ ä¾èµ–</h3>
<p>åœ¨ <code>pubspec.yaml</code> æ–‡ä»¶ä¸­æ·»åŠ  dio ä¾èµ–ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">dio:</span> <span class="hljs-string">^5.4.1</span> <span class="hljs-comment"># è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span>
</code></pre>
<p>è¿è¡Œ <code>flutter pub get</code> å®‰è£…ä¾èµ–ã€‚</p>
<h3 data-id="heading-2">1.2 åˆ›å»º Dio å®ä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:dio/dio.dart'</span>;

<span class="hljs-comment">// æ–¹æ³•ä¸€ï¼šåˆ›å»ºå®ä¾‹æ—¶é…ç½®</span>
Dio dio = Dio(
  BaseOptions(
    baseUrl: <span class="hljs-string">"https://api.example.com"</span>,
    connectTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">5</span>),
    receiveTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">3</span>),
    headers: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
    },
  ),
);

<span class="hljs-comment">// æ–¹æ³•äºŒï¼šåˆ›å»ºåé…ç½®</span>
Dio dio = Dio();
<span class="hljs-keyword">void</span> configureDio() {
  dio.options.baseUrl = <span class="hljs-string">'https://api.example.com'</span>;
  dio.options.connectTimeout = <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">5</span>);
  dio.options.receiveTimeout = <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">3</span>);
}
</code></pre>
<p><strong>å»ºè®®</strong>ï¼šåœ¨é¡¹ç›®ä¸­é€šå¸¸ä½¿ç”¨å•ä¾‹æ¨¡å¼ç®¡ç† Dio å®ä¾‹ã€‚</p>
<h2 data-id="heading-3">2. å‘èµ· HTTP è¯·æ±‚</h2>
<h3 data-id="heading-4">2.1 GET è¯·æ±‚</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">try</span> {
  <span class="hljs-comment">// æ–¹å¼ä¸€ï¼šæŸ¥è¯¢å‚æ•°æ‹¼æ¥åœ¨URLä¸­</span>
  Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/user?id=123"</span>);
  <span class="hljs-built_in">print</span>(response.data);
  
  <span class="hljs-comment">// æ–¹å¼äºŒï¼šä½¿ç”¨ queryParameters å‚æ•°ï¼ˆæ¨èï¼‰</span>
  Response response2 = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(
    <span class="hljs-string">"/test"</span>,
    queryParameters: {<span class="hljs-string">'id'</span>: <span class="hljs-number">12</span>, <span class="hljs-string">'name'</span>: <span class="hljs-string">'dio'</span>},
  );
  <span class="hljs-built_in">print</span>(response2.data.toString());
} <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-built_in">print</span>(e.message);
}
</code></pre>
<h3 data-id="heading-5">2.2 POST è¯·æ±‚</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">try</span> {
  <span class="hljs-comment">// å‘é€ JSON æ•°æ®</span>
  Response response = <span class="hljs-keyword">await</span> dio.post(
    <span class="hljs-string">"/user"</span>,
    data: {<span class="hljs-string">'name'</span>: <span class="hljs-string">'John'</span>, <span class="hljs-string">'age'</span>: <span class="hljs-number">25</span>},
  );
  
  <span class="hljs-comment">// å‘é€ FormData</span>
  FormData formData = FormData.fromMap({
    <span class="hljs-string">'name'</span>: <span class="hljs-string">'dio'</span>,
    <span class="hljs-string">'date'</span>: <span class="hljs-built_in">DateTime</span>.now().toIso8601String(),
  });
  Response formResponse = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">'/info'</span>, data: formData);
  
  <span class="hljs-built_in">print</span>(response.data);
} <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-built_in">print</span>(e.message);
}
</code></pre>
<h3 data-id="heading-6">2.3 å…¶ä»–è¯·æ±‚æ–¹æ³•</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// PUT è¯·æ±‚ - æ›´æ–°èµ„æº</span>
<span class="hljs-keyword">await</span> dio.put(<span class="hljs-string">"/user/123"</span>, data: {<span class="hljs-string">"name"</span>: <span class="hljs-string">"john doe"</span>});

<span class="hljs-comment">// DELETE è¯·æ±‚ - åˆ é™¤èµ„æº</span>
<span class="hljs-keyword">await</span> dio.delete(<span class="hljs-string">"/user/123"</span>);

<span class="hljs-comment">// PATCH è¯·æ±‚ - éƒ¨åˆ†æ›´æ–°èµ„æº</span>
<span class="hljs-keyword">await</span> dio.patch(<span class="hljs-string">"/user/123"</span>, data: {<span class="hljs-string">"name"</span>: <span class="hljs-string">"johnny"</span>});

<span class="hljs-comment">// HEAD è¯·æ±‚ - è·å–å¤´éƒ¨ä¿¡æ¯</span>
Response headResponse = <span class="hljs-keyword">await</span> dio.head(<span class="hljs-string">"/user/123"</span>);
<span class="hljs-built_in">print</span>(headResponse.headers);

<span class="hljs-comment">// OPTIONS è¯·æ±‚ - è·å–é€šä¿¡é€‰é¡¹</span>
Response optionsResponse = <span class="hljs-keyword">await</span> dio.options(<span class="hljs-string">"/user/123"</span>);
</code></pre>
<h2 data-id="heading-7">3. å“åº”å¤„ç†</h2>
<h3 data-id="heading-8">3.1 å“åº”æ•°æ®ç»“æ„</h3>
<pre><code class="hljs language-dart" lang="dart">Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">'https://api.example.com/user'</span>);

<span class="hljs-built_in">print</span>(response.data);       <span class="hljs-comment">// å“åº”ä½“ï¼ˆå¯èƒ½å·²è¢«è½¬æ¢ï¼‰</span>
<span class="hljs-built_in">print</span>(response.statusCode); <span class="hljs-comment">// çŠ¶æ€ç </span>
<span class="hljs-built_in">print</span>(response.headers);    <span class="hljs-comment">// å“åº”å¤´</span>
<span class="hljs-built_in">print</span>(response.requestOptions); <span class="hljs-comment">// è¯·æ±‚ä¿¡æ¯</span>
<span class="hljs-built_in">print</span>(response.statusMessage); <span class="hljs-comment">// çŠ¶æ€æ¶ˆæ¯</span>

<span class="hljs-comment">// è·å–æµå¼å“åº”</span>
<span class="hljs-keyword">final</span> streamResponse = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(
  url,
  options: Options(responseType: ResponseType.stream),
);
<span class="hljs-built_in">print</span>(streamResponse.data.stream);

<span class="hljs-comment">// è·å–å­—èŠ‚å“åº”</span>
<span class="hljs-keyword">final</span> bytesResponse = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>&lt;<span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">int</span>&gt;&gt;(
  url,
  options: Options(responseType: ResponseType.bytes),
);
<span class="hljs-built_in">print</span>(bytesResponse.data); <span class="hljs-comment">// List&lt;int&gt;</span>
</code></pre>
<h3 data-id="heading-9">3.2 ä¸ Flutter UI é›†æˆ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  Future&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt; fetchUsers() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/users'</span>);
    <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">dynamic</span>&gt; jsonList = response.data;
    <span class="hljs-keyword">return</span> jsonList.map((json) =&gt; User.fromJson(json)).toList();
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> FutureBuilder&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;(
      future: fetchUsers(),
      builder: (context, snapshot) {
        <span class="hljs-keyword">if</span> (snapshot.connectionState == ConnectionState.waiting) {
          <span class="hljs-keyword">return</span> CircularProgressIndicator();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (snapshot.hasError) {
          <span class="hljs-keyword">return</span> Text(<span class="hljs-string">'Error: <span class="hljs-subst">${snapshot.error}</span>'</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> ListView.builder(
            itemCount: snapshot.data!.length,
            itemBuilder: (context, index) {
              User user = snapshot.data![index];
              <span class="hljs-keyword">return</span> ListTile(
                title: Text(user.name),
                subtitle: Text(user.email),
              );
            },
          );
        }
      },
    );
  }
}
</code></pre>
<h2 data-id="heading-10">4. é”™è¯¯å¤„ç†</h2>
<h3 data-id="heading-11">4.1 DioException ç±»å‹ï¼ˆæ–°ç‰ˆæœ¬ï¼‰</h3>
<p>Dio 5.x ä½¿ç”¨ <code>DioException</code> æ›¿ä»£æ—§çš„ <code>DioError</code>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">try</span> {
  Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">"/user?id=123"</span>);
} <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-keyword">switch</span> (e.type) {
    <span class="hljs-keyword">case</span> DioExceptionType.connectionTimeout:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¿æ¥è¶…æ—¶'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.sendTimeout:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å‘é€è¶…æ—¶'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.receiveTimeout:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ¥æ”¶è¶…æ—¶'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.badResponse:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æœåŠ¡å™¨é”™è¯¯ï¼ŒçŠ¶æ€ç ï¼š<span class="hljs-subst">${e.response?.statusCode}</span>'</span>);
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å“åº”æ•°æ®ï¼š<span class="hljs-subst">${e.response?.data}</span>'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.cancel:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯·æ±‚è¢«å–æ¶ˆ'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.connectionError:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¿æ¥é”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.badCertificate:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯ä¹¦éªŒè¯å¤±è´¥'</span>);
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> DioExceptionType.unknown:
    <span class="hljs-keyword">default</span>:
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æœªçŸ¥é”™è¯¯: <span class="hljs-subst">${e.message}</span>'</span>);
      <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<h3 data-id="heading-12">4.2 é”™è¯¯ç±»å‹è¯´æ˜</h3>
<ul>
<li><strong>connectionTimeout</strong>ï¼šè¿æ¥æœåŠ¡å™¨è¶…æ—¶</li>
<li><strong>sendTimeout</strong>ï¼šæ•°æ®å‘é€è¶…æ—¶</li>
<li><strong>receiveTimeout</strong>ï¼šæ¥æ”¶å“åº”è¶…æ—¶</li>
<li><strong>badResponse</strong>ï¼šæœåŠ¡å™¨è¿”å›é”™è¯¯çŠ¶æ€ç ï¼ˆ4xxã€5xxï¼‰</li>
<li><strong>cancel</strong>ï¼šè¯·æ±‚è¢«å–æ¶ˆ</li>
<li><strong>connectionError</strong>ï¼šç½‘ç»œè¿æ¥é—®é¢˜</li>
<li><strong>badCertificate</strong>ï¼šHTTPS è¯ä¹¦éªŒè¯å¤±è´¥</li>
<li><strong>unknown</strong>ï¼šå…¶ä»–æœªçŸ¥é”™è¯¯</li>
</ul>
<h2 data-id="heading-13">5. æ‹¦æˆªå™¨ï¼ˆInterceptorsï¼‰</h2>
<p>æ‹¦æˆªå™¨æ˜¯ Dio æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå…è®¸åœ¨è¯·æ±‚/å“åº”æµç¨‹ä¸­æ’å…¥å¤„ç†é€»è¾‘ã€‚</p>
<h3 data-id="heading-14">5.1 åŸºç¡€æ‹¦æˆªå™¨</h3>
<pre><code class="hljs language-dart" lang="dart">dio.interceptors.add(
  InterceptorsWrapper(
    onRequest: (RequestOptions options, RequestInterceptorHandler handler) {
      <span class="hljs-comment">// è¯·æ±‚å‰å¤„ç†</span>
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å‘é€è¯·æ±‚: <span class="hljs-subst">${options.uri}</span>'</span>);
      
      <span class="hljs-comment">// æ·»åŠ è®¤è¯token</span>
      options.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer your_token_here'</span>;
      
      <span class="hljs-keyword">return</span> handler.next(options); <span class="hljs-comment">// ç»§ç»­è¯·æ±‚</span>
    },
    
    onResponse: (Response response, ResponseInterceptorHandler handler) {
      <span class="hljs-comment">// å“åº”åå¤„ç†</span>
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ”¶åˆ°å“åº”: <span class="hljs-subst">${response.statusCode}</span>'</span>);
      <span class="hljs-keyword">return</span> handler.next(response);
    },
    
    onError: (DioException error, ErrorInterceptorHandler handler) {
      <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯·æ±‚é”™è¯¯: <span class="hljs-subst">${error.type}</span>'</span>);
      <span class="hljs-keyword">return</span> handler.next(error);
    },
  ),
);
</code></pre>
<h3 data-id="heading-15">5.2 å®ç”¨æ‹¦æˆªå™¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// 1. æ—¥å¿—æ‹¦æˆªå™¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoggingInterceptor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Interceptor</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> onRequest(RequestOptions options, RequestInterceptorHandler handler) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'REQUEST[<span class="hljs-subst">${options.method}</span>] =&gt; PATH: <span class="hljs-subst">${options.path}</span>'</span>);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Headers: <span class="hljs-subst">${options.headers}</span>'</span>);
    <span class="hljs-keyword">if</span> (options.data != <span class="hljs-keyword">null</span>) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'Body: <span class="hljs-subst">${options.data}</span>'</span>);
    }
    <span class="hljs-keyword">super</span>.onRequest(options, handler);
  }
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> onResponse(Response response, ResponseInterceptorHandler handler) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'RESPONSE[<span class="hljs-subst">${response.statusCode}</span>] =&gt; PATH: <span class="hljs-subst">${response.requestOptions.path}</span>'</span>);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Data: <span class="hljs-subst">${response.data}</span>'</span>);
    <span class="hljs-keyword">super</span>.onResponse(response, handler);
  }
}

<span class="hljs-comment">// 2. Token åˆ·æ–°æ‹¦æˆªå™¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TokenRefreshInterceptor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Interceptor</span> </span>{
  <span class="hljs-keyword">final</span> Dio _tokenDio = Dio();
  <span class="hljs-built_in">bool</span> _isRefreshing = <span class="hljs-keyword">false</span>;
  
  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> onError(DioException err, ErrorInterceptorHandler handler) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (err.response?.statusCode == <span class="hljs-number">401</span> &amp;&amp; !_isRefreshing) {
      _isRefreshing = <span class="hljs-keyword">true</span>;
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// åˆ·æ–°token</span>
        <span class="hljs-keyword">await</span> refreshToken();
        
        <span class="hljs-comment">// é‡è¯•åŸå§‹è¯·æ±‚</span>
        <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> dio.request(
          err.requestOptions.path,
          data: err.requestOptions.data,
          queryParameters: err.requestOptions.queryParameters,
          options: Options(
            method: err.requestOptions.method,
            headers: err.requestOptions.headers,
          ),
        );
        handler.resolve(response);
      } <span class="hljs-keyword">catch</span> (e) {
        handler.reject(err);
      } <span class="hljs-keyword">finally</span> {
        _isRefreshing = <span class="hljs-keyword">false</span>;
      }
    } <span class="hljs-keyword">else</span> {
      handler.next(err);
    }
  }
}
</code></pre>
<h2 data-id="heading-16">6. æ–‡ä»¶ä¸Šä¼ ä¸ä¸‹è½½</h2>
<h3 data-id="heading-17">6.1 å•æ–‡ä»¶ä¸Šä¼ </h3>
<pre><code class="hljs language-dart" lang="dart">FormData formData = FormData.fromMap({
  <span class="hljs-string">'name'</span>: <span class="hljs-string">'æ–‡ä»¶å'</span>,
  <span class="hljs-string">'file'</span>: <span class="hljs-keyword">await</span> MultipartFile.fromFile(
    <span class="hljs-string">'./text.txt'</span>, 
    filename: <span class="hljs-string">'upload.txt'</span>,
  ),
});

Response response = <span class="hljs-keyword">await</span> dio.post(
  <span class="hljs-string">'/upload'</span>,
  data: formData,
  onSendProgress: (<span class="hljs-built_in">int</span> sent, <span class="hljs-built_in">int</span> total) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¸Šä¼ è¿›åº¦: <span class="hljs-subst">$sent</span> / <span class="hljs-subst">$total</span>'</span>);
  },
);
</code></pre>
<h3 data-id="heading-18">6.2 å¤šæ–‡ä»¶ä¸Šä¼ </h3>
<pre><code class="hljs language-dart" lang="dart">FormData formData = FormData.fromMap({
  <span class="hljs-string">'name'</span>: <span class="hljs-string">'dio'</span>,
  <span class="hljs-string">'files'</span>: [
    <span class="hljs-keyword">await</span> MultipartFile.fromFile(<span class="hljs-string">'./text1.txt'</span>, filename: <span class="hljs-string">'text1.txt'</span>),
    <span class="hljs-keyword">await</span> MultipartFile.fromFile(<span class="hljs-string">'./text2.txt'</span>, filename: <span class="hljs-string">'text2.txt'</span>),
    <span class="hljs-keyword">await</span> MultipartFile.fromFile(<span class="hljs-string">'./text3.txt'</span>, filename: <span class="hljs-string">'text3.txt'</span>),
  ]
});

Response response = <span class="hljs-keyword">await</span> dio.post(<span class="hljs-string">'/upload-multiple'</span>, data: formData);
</code></pre>
<h3 data-id="heading-19">6.3 æ–‡ä»¶ä¸‹è½½</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// è·å–åº”ç”¨ä¸´æ—¶ç›®å½•</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:path_provider/path_provider.dart'</span>;

<span class="hljs-keyword">void</span> downloadFile() <span class="hljs-keyword">async</span> {
  <span class="hljs-comment">// è·å–å­˜å‚¨è·¯å¾„</span>
  Directory tempDir = <span class="hljs-keyword">await</span> getTemporaryDirectory();
  <span class="hljs-built_in">String</span> savePath = <span class="hljs-string">'<span class="hljs-subst">${tempDir.path}</span>/filename.pdf'</span>;
  
  CancelToken cancelToken = CancelToken();
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> dio.download(
      <span class="hljs-string">'https://example.com/file.pdf'</span>,
      savePath,
      onReceiveProgress: (received, total) {
        <span class="hljs-keyword">if</span> (total != <span class="hljs-number">-1</span>) {
          <span class="hljs-built_in">double</span> progress = (received / total) * <span class="hljs-number">100</span>;
          <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¸‹è½½è¿›åº¦: <span class="hljs-subst">${progress.toStringAsFixed(<span class="hljs-number">2</span>)}</span>%'</span>);
        }
      },
      cancelToken: cancelToken,
      deleteOnError: <span class="hljs-keyword">true</span>, <span class="hljs-comment">// ä¸‹è½½å‡ºé”™æ—¶åˆ é™¤éƒ¨åˆ†æ–‡ä»¶</span>
    );
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¸‹è½½å®Œæˆ: <span class="hljs-subst">$savePath</span>'</span>);
  } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">if</span> (CancelToken.isCancel(e)) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¸‹è½½å·²å–æ¶ˆ'</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¸‹è½½å¤±è´¥: <span class="hljs-subst">${e.message}</span>'</span>);
    }
  }
}

<span class="hljs-comment">// å–æ¶ˆä¸‹è½½</span>
<span class="hljs-keyword">void</span> cancelDownload() {
  cancelToken.cancel(<span class="hljs-string">'ç”¨æˆ·å–æ¶ˆä¸‹è½½'</span>);
}
</code></pre>
<h2 data-id="heading-20">7. é«˜çº§é…ç½®</h2>
<h3 data-id="heading-21">7.1 è¯·æ±‚é€‰é¡¹ï¼ˆOptionsï¼‰</h3>
<pre><code class="hljs language-dart" lang="dart">Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(
  <span class="hljs-string">'/data'</span>,
  options: Options(
    headers: {<span class="hljs-string">'custom-header'</span>: <span class="hljs-string">'value'</span>},
    responseType: ResponseType.json,
    contentType: <span class="hljs-string">'application/json'</span>,
    sendTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">10</span>),
    receiveTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">10</span>),
    extra: {<span class="hljs-string">'custom_info'</span>: <span class="hljs-string">'å¯ä»¥åç»­åœ¨æ‹¦æˆªå™¨ä¸­è·å–'</span>}, <span class="hljs-comment">// è‡ªå®šä¹‰å­—æ®µ</span>
    validateStatus: (status) {
      <span class="hljs-comment">// è‡ªå®šä¹‰çŠ¶æ€ç éªŒè¯é€»è¾‘</span>
      <span class="hljs-keyword">return</span> status! &lt; <span class="hljs-number">500</span>; <span class="hljs-comment">// åªè®¤ä¸º500ä»¥ä¸‹çš„çŠ¶æ€ç æ˜¯æˆåŠŸçš„</span>
    },
  ),
);
</code></pre>
<h3 data-id="heading-22">7.2 è¯·æ±‚å–æ¶ˆ</h3>
<pre><code class="hljs language-dart" lang="dart">CancelToken cancelToken = CancelToken();

<span class="hljs-comment">// å‘èµ·å¯å–æ¶ˆçš„è¯·æ±‚</span>
Future&lt;<span class="hljs-keyword">void</span>&gt; fetchData() <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">try</span> {
    Response response = <span class="hljs-keyword">await</span> dio.<span class="hljs-keyword">get</span>(
      <span class="hljs-string">'/large-data'</span>,
      cancelToken: cancelToken,
    );
    <span class="hljs-built_in">print</span>(response.data);
  } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">if</span> (CancelToken.isCancel(e)) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯·æ±‚è¢«å–æ¶ˆ'</span>);
    }
  }
}

<span class="hljs-comment">// å–æ¶ˆè¯·æ±‚</span>
<span class="hljs-keyword">void</span> cancelRequest() {
  cancelToken.cancel(<span class="hljs-string">'ç”¨æˆ·å–æ¶ˆæ“ä½œ'</span>);
}

<span class="hljs-comment">// åœ¨ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆè¯·æ±‚ï¼ˆé˜²æ­¢å†…å­˜æ³„æ¼ï¼‰</span>
<span class="hljs-meta">@override</span>
<span class="hljs-keyword">void</span> dispose() {
  cancelToken.cancel(<span class="hljs-string">'ç»„ä»¶é”€æ¯'</span>);
  <span class="hljs-keyword">super</span>.dispose();
}
</code></pre>
<h3 data-id="heading-23">7.3 å¹¶å‘è¯·æ±‚</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åŒæ—¶å‘èµ·å¤šä¸ªè¯·æ±‚</span>
Future&lt;<span class="hljs-keyword">void</span>&gt; fetchMultipleData() <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-built_in">List</span>&lt;Response&gt; responses = <span class="hljs-keyword">await</span> Future.wait([
      dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/user/1'</span>),
      dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/user/2'</span>),
      dio.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/user/3'</span>),
    ]);
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> response <span class="hljs-keyword">in</span> responses) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç”¨æˆ·æ•°æ®: <span class="hljs-subst">${response.data}</span>'</span>);
    }
  } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${e.message}</span>'</span>);
  }
}
</code></pre>
<h2 data-id="heading-24">8. é¡¹ç›®å®æˆ˜ï¼šå°è£… Dio æœåŠ¡</h2>
<h3 data-id="heading-25">8.1 åŸºç¡€å°è£…ç¤ºä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:dio/dio.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpService</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> HttpService _instance = HttpService._internal();
  <span class="hljs-keyword">late</span> Dio _dio;
  
  <span class="hljs-keyword">factory</span> HttpService() =&gt; _instance;
  
  HttpService._internal() {
    _dio = Dio(BaseOptions(
      baseUrl: <span class="hljs-string">'https://api.example.com'</span>,
      connectTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">10</span>),
      receiveTimeout: <span class="hljs-built_in">Duration</span>(seconds: <span class="hljs-number">10</span>),
      headers: {<span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>},
    ));
    
    <span class="hljs-comment">// æ·»åŠ æ‹¦æˆªå™¨</span>
    _dio.interceptors.add(LoggingInterceptor());
    _dio.interceptors.add(TokenInterceptor());
  }
  
  <span class="hljs-comment">// GET è¯·æ±‚</span>
  Future&lt;Response&gt; <span class="hljs-keyword">get</span>(<span class="hljs-built_in">String</span> path, {<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;? queryParams}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> _dio.<span class="hljs-keyword">get</span>(
        path,
        queryParameters: queryParams,
      );
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      _handleError(e);
      <span class="hljs-keyword">rethrow</span>;
    }
  }
  
  <span class="hljs-comment">// POST è¯·æ±‚</span>
  Future&lt;Response&gt; post(<span class="hljs-built_in">String</span> path, {<span class="hljs-built_in">dynamic</span> data}) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> _dio.post(path, data: data);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      _handleError(e);
      <span class="hljs-keyword">rethrow</span>;
    }
  }
  
  <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
  <span class="hljs-keyword">void</span> _handleError(DioException e) {
    <span class="hljs-keyword">switch</span> (e.type) {
      <span class="hljs-keyword">case</span> DioExceptionType.connectionTimeout:
        <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'è¿æ¥è¶…æ—¶ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ'</span>);
      <span class="hljs-keyword">case</span> DioExceptionType.badResponse:
        <span class="hljs-keyword">if</span> (e.response?.statusCode == <span class="hljs-number">401</span>) {
          <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'èº«ä»½éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.response?.statusCode == <span class="hljs-number">404</span>) {
          <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨'</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'æœåŠ¡å™¨é”™è¯¯: <span class="hljs-subst">${e.response?.statusCode}</span>'</span>);
        }
      <span class="hljs-keyword">case</span> DioExceptionType.connectionError:
        <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®'</span>);
      <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥: <span class="hljs-subst">${e.message}</span>'</span>);
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">final</span> http = HttpService();
User user = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(<span class="hljs-string">'/user/1'</span>);
</code></pre>
<h3 data-id="heading-26">8.2 ç»“åˆçŠ¶æ€ç®¡ç†çš„å®Œæ•´ç¤ºä¾‹</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// api_service.dart</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiService</span> </span>{
  <span class="hljs-keyword">final</span> Dio _dio;
  
  ApiService({<span class="hljs-keyword">required</span> <span class="hljs-built_in">String</span> baseUrl}) 
    : _dio = Dio(BaseOptions(baseUrl: baseUrl)) {
    _setupInterceptors();
  }
  
  <span class="hljs-keyword">void</span> _setupInterceptors() {
    _dio.interceptors.add(InterceptorsWrapper(
      onRequest: (options, handler) {
        <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨è·å–token</span>
        <span class="hljs-keyword">final</span> token = StorageService().getToken();
        <span class="hljs-keyword">if</span> (token != <span class="hljs-keyword">null</span>) {
          options.headers[<span class="hljs-string">'Authorization'</span>] = <span class="hljs-string">'Bearer <span class="hljs-subst">$token</span>'</span>;
        }
        <span class="hljs-keyword">return</span> handler.next(options);
      },
    ));
  }
  
  Future&lt;T&gt; request&lt;T&gt;(
    <span class="hljs-built_in">String</span> path, {
    <span class="hljs-built_in">String</span> method = <span class="hljs-string">'GET'</span>,
    <span class="hljs-built_in">dynamic</span> data,
    <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;? queryParameters,
    CancelToken? cancelToken,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> _dio.request(
        path,
        data: data,
        queryParameters: queryParameters,
        options: Options(method: method),
        cancelToken: cancelToken,
      );
      
      <span class="hljs-comment">// ä½¿ç”¨ json_serializable è§£ææ•°æ®</span>
      <span class="hljs-keyword">return</span> _parseResponse&lt;T&gt;(response.data);
    } <span class="hljs-keyword">on</span> DioException <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">throw</span> ApiException.fromDioException(e);
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ GetX æ§åˆ¶å™¨è°ƒç”¨</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">GetxController</span> </span>{
  <span class="hljs-keyword">final</span> ApiService apiService;
  <span class="hljs-keyword">var</span> users = &lt;User&gt;[].obs;
  <span class="hljs-keyword">var</span> isLoading = <span class="hljs-keyword">false</span>.obs;
  
  UserController(<span class="hljs-keyword">this</span>.apiService);
  
  Future&lt;<span class="hljs-keyword">void</span>&gt; fetchUsers() <span class="hljs-keyword">async</span> {
    isLoading.value = <span class="hljs-keyword">true</span>;
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> userList = <span class="hljs-keyword">await</span> apiService.request&lt;<span class="hljs-built_in">List</span>&lt;User&gt;&gt;(<span class="hljs-string">'/users'</span>);
      users.assignAll(userList);
    } <span class="hljs-keyword">on</span> ApiException <span class="hljs-keyword">catch</span> (e) {
      Get.snackbar(<span class="hljs-string">'é”™è¯¯'</span>, e.message);
    } <span class="hljs-keyword">finally</span> {
      isLoading.value = <span class="hljs-keyword">false</span>;
    }
  }
}
</code></pre>
<h2 data-id="heading-27">9. æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>å•ä¾‹æ¨¡å¼</strong>ï¼šåœ¨æ•´ä¸ªåº”ç”¨ä¸­ä½¿ç”¨å•ä¸ª Dio å®ä¾‹ï¼Œç¡®ä¿é…ç½®ä¸€è‡´</li>
<li><strong>ç¯å¢ƒåŒºåˆ†</strong>ï¼šä¸ºå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®ä¸åŒçš„ baseURL</li>
<li><strong>å®‰å…¨å­˜å‚¨</strong>ï¼šæ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ API Keysï¼‰ä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç ä¸­</li>
<li><strong>è¯ä¹¦éªŒè¯</strong>ï¼šç”Ÿäº§ç¯å¢ƒä¸è¦å¿½ç•¥ SSL è¯ä¹¦éªŒè¯</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šåŠæ—¶å–æ¶ˆä¸å†éœ€è¦çš„è¯·æ±‚ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡µé¢é”€æ¯æ—¶</li>
<li><strong>é”™è¯¯é‡è¯•</strong>ï¼šå¯¹ç‰¹å®šé”™è¯¯ï¼ˆå¦‚ç½‘ç»œæ³¢åŠ¨ï¼‰å®ç°é‡è¯•æœºåˆ¶</li>
<li><strong>å“åº”ç¼“å­˜</strong>ï¼šå¯¹ä¸å¸¸å˜çš„æ•°æ®å®ç°ç¼“å­˜ç­–ç•¥ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚</li>
<li><strong>è¿›åº¦åé¦ˆ</strong>ï¼šé•¿æ—¶é—´æ“ä½œï¼ˆä¸Šä¼ /ä¸‹è½½ï¼‰æä¾›è¿›åº¦æç¤º</li>
</ol>
<h2 data-id="heading-28">10. æ‰©å±•èµ„æº</h2>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fdio" target="_blank" title="https://pub.dev/packages/dio" ref="nofollow noopener noreferrer">pub.dev/packages/diâ€¦</a></li>
<li><strong>GitHubä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcfug%2Fdio" target="_blank" title="https://github.com/cfug/dio" ref="nofollow noopener noreferrer">github.com/cfug/dio</a></li>
<li><strong>Awesome Dio</strong>ï¼šå®˜æ–¹ç»´æŠ¤çš„æ’ä»¶å’Œå·¥å…·åˆ—è¡¨</li>
<li><strong>JSONåºåˆ—åŒ–</strong>ï¼šé…åˆ <code>json_serializable</code> å¤„ç†å¤æ‚æ•°æ®ç»“æ„</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šä¸ GetXã€Providerã€Riverpod ç­‰çŠ¶æ€ç®¡ç†åº“ç»“åˆä½¿ç”¨</li>
</ul>
<hr/>
<p>è¿™ä»½æ•™ç¨‹æ¶µç›–äº† Dio çš„æ ¸å¿ƒåŠŸèƒ½å’Œå®é™…åº”ç”¨åœºæ™¯ã€‚å»ºè®®ä»åŸºç¡€è¯·æ±‚å¼€å§‹ï¼Œé€æ­¥æŒæ¡æ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†ç­‰é«˜çº§ç‰¹æ€§ï¼Œæœ€åæ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œé€‚å½“çš„å°è£…ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œåˆç†çš„å°è£…å¯ä»¥æ˜¾è‘—æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¼€å‘æ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆ OpenAI Agents SDK]]></title>    <link>https://juejin.cn/post/7599330434426519603</link>    <guid>https://juejin.cn/post/7599330434426519603</guid>    <pubDate>2026-01-26T09:58:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599330434426519603" data-draft-id="7599101854644256778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆ OpenAI Agents SDK"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Agent,LLM"/> <meta itemprop="datePublished" content="2026-01-26T09:58:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å»å“ªå„¿æŠ€æœ¯æ²™é¾™"/> <meta itemprop="url" content="https://juejin.cn/user/2251436075786791"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆ OpenAI Agents SDK
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2251436075786791/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å»å“ªå„¿æŠ€æœ¯æ²™é¾™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T09:58:02.000Z" title="Mon Jan 26 2026 09:58:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä¸€ã€OpenAI Agents SDKæ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<p>OpenAI Agents SDKæ˜¯ä¸€ä¸ªè½»é‡çº§ä¸”æ˜“äºä½¿ç”¨çš„å·¥å…·åŒ…ï¼Œç”¨äºæ„å»ºåŸºäºä»£ç†çš„AIåº”ç”¨ç¨‹åºã€‚ æä¾›äº†ä¸€äº›åŸºæœ¬æ„å»ºå—ï¼ŒåŒ…æ‹¬å…·å¤‡æŒ‡ä»¤å’Œå·¥å…·çš„ä»£ç†ï¼ˆAgentsï¼‰ã€ç”¨äºä»£ç†é—´ä»»åŠ¡å§”æ‰˜çš„äº¤æ¥ï¼ˆHandoffsï¼‰ä»¥åŠç”¨äºè¾“å…¥éªŒè¯çš„æŠ¤æ ï¼ˆGuardrailsï¼‰ã€‚</p>
<p>åœ¨å®˜ç½‘ä¸ŠOpenAIç»™å‡ºäº†ä¸¤ä¸ªç†ç”±ä½¿ç”¨å®ƒï¼Œè€Œä¸”ä¹Ÿä»‹ç»äº† Agent Loopã€Python-firstã€Handoffsã€Guardrails ã€Function tools å’Œ Tracing 6ä¸ªç‰¹æ€§ï¼Œå¯¹äºç°é˜¶æ®µçš„æˆ‘ä»¬å¯¹Python-first å’Œ Function tools å°±ä¸åšè¿‡å¤šçš„é˜è¿°äº†ï¼Œä½†æ˜¯å…¶ä»–çš„å››ä¸ªç‰¹æ€§è¿˜éœ€è¦è¿›ä¸€æ­¥è¯¦ç»†é˜è¿°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c23ab7ab7f0a49178ca8db0e140532a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=XyE5BRqKAP5pntxVIz0e4KYyh58%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>äºŒã€æ ¸å¿ƒç‰¹æ€§</strong></h2>
<h3 data-id="heading-2"><strong>ï¼ˆä¸€ï¼‰Agent Loopï¼ˆå¾ªç¯ï¼‰</strong></h3>
<p>æ”¯æŒåœ¨æ²¡æœ‰å®Œæˆä»»åŠ¡æ—¶è‡ªåŠ¨çš„å¾ªç¯agentçš„æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆä»»åŠ¡ç»“æŸï¼Œå¯ä»¥è°ƒç”¨functioncallï¼ŒMCPç­‰å·¥å…·æ¥æ›´å¥½çš„å®Œæˆä»»åŠ¡ã€‚å¯¹äºè®¸å¤šä¸šåŠ¡æµç¨‹æ¶‰åŠä¸€ç³»åˆ—éœ€è¦å¤–éƒ¨ä¿¡æ¯æˆ–æ“ä½œçš„æ­¥éª¤ï¼ˆä¾‹å¦‚ï¼ŒæŸ¥è¯¢æ•°æ®åº“ã€è°ƒç”¨ APIã€æ ¹æ®æŸ¥è¯¢ç»“æœç”ŸæˆæŠ¥å‘Šï¼‰ã€‚Agent Loop è‡ªåŠ¨åŒ–äº†è¿™ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œèƒ½å¤Ÿè‡ªä¸»å®Œæˆè¿™äº›å¤æ‚ã€å¤šæ­¥ä»»åŠ¡çš„æ™ºèƒ½ä½“æˆä¸ºå¯èƒ½ã€‚</p>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰Handoffsï¼ˆäº¤æ¥ï¼‰</h3>
<p>äº¤æ¥çš„å‡ºç°å…è®¸ä¸€ä¸ªæ™ºèƒ½ä½“ï¼ˆAgentï¼‰å°†ç‰¹å®šä»»åŠ¡å§”æ‰˜ç»™å¦ä¸€ä¸ªæ™ºèƒ½ä½“æ¥å®Œæˆï¼Œæ˜¯ç”¨äºåœ¨å¤šä¸ªæ™ºèƒ½ä½“ä¹‹é—´è¿›è¡Œåè°ƒå’Œå§”æ‰˜ã€‚å®ç°äº†å¤æ‚å·¥ä½œæµå’Œå¤šæ™ºèƒ½ä½“åä½œçš„å…³é”®æœºåˆ¶ã€‚åœ¨å¤§å‹ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå•ä¸€æ™ºèƒ½ä½“å¯èƒ½éš¾ä»¥å¤„ç†æ‰€æœ‰ç±»å‹çš„ä»»åŠ¡ã€‚é€šè¿‡ Handoffsï¼Œå¯ä»¥è®¾è®¡ç”±å¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“ç»„æˆçš„ç³»ç»Ÿï¼Œæ¯ä¸ªæ™ºèƒ½ä½“è´Ÿè´£å…¶æ“…é•¿çš„é¢†åŸŸï¼›å°†å¤æ‚ä¸šåŠ¡æµç¨‹åˆ†è§£åˆ°ä¸åŒçš„æ™ºèƒ½ä½“ä¸­ï¼Œæé«˜äº†ç³»ç»Ÿçš„æ¨¡å—åŒ–ï¼Œä½¿å¾—æ¯ä¸ªæ™ºèƒ½ä½“æ›´å®¹æ˜“å¼€å‘ã€æµ‹è¯•å’Œç»´æŠ¤ã€‚</p>
<p>ä¾‹å¦‚åœ¨é…’åº—ä¸šåŠ¡ä¸­ï¼Œæœ‰äº›é—®é¢˜éœ€è¦å¤šä¸ªä¸šåŠ¡æ–¹åˆä½œæ‰èƒ½å®Œæˆï¼Œé‚£ä¹ˆä¸åŒä¸šåŠ¡åŸŸå¯ä»¥ç»´æŠ¤è‡ªå·±çš„agentï¼Œä»å…¥å£ç¡®å®šæ˜¯ä¸šåŠ¡èŒƒå›´ï¼Œæ¶‰åŠåˆ°å¤šä¸ªæ™ºèƒ½ä½“äº¤äº’æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨Handoffå®Œæˆäº¤æ¥ï¼Œæ›´åŠ å‡†ç¡®çš„ç»™å‡ºé—®é¢˜çš„è§£å†³æ€è·¯å’Œæ–¹æ¡ˆï¼Œç”šè‡³æ˜¯è§£å†³é—®é¢˜ã€‚</p>
<h3 data-id="heading-4"><strong>ï¼ˆä¸‰ï¼‰Guardrailsï¼ˆæŠ¤æ ï¼‰</strong></h3>
<p>è¿™ä¸ªå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³ä¸ç¡®å®šæ€§ã€‚Guardrails ç”¨äºéªŒè¯æ™ºèƒ½ä½“è¾“å…¥çš„èƒ½åŠ›ï¼Œå®ƒä»¬å¯ä»¥åœ¨æ™ºèƒ½ä½“è¿è¡Œä¹‹å‰å¹¶è¡Œæ‰§è¡Œè¾“å…¥éªŒè¯å’Œæ£€æŸ¥ã€‚å¦‚æœæ£€æŸ¥å¤±è´¥ï¼ŒGuardrails å¯ä»¥è®©åº”ç”¨å¿«é€Ÿä¸­æ­¢ï¼ˆbreaking earlyï¼‰ã€‚è¿™æœ‰åŠ©äºç¡®ä¿åº”ç”¨çš„å¯é æ€§ï¼Œé˜²æ­¢å› ä¸å½“è¾“å…¥å¯¼è‡´çš„é”™è¯¯è¡Œä¸ºã€‚</p>
<p>å¯¹äºç°åœ¨å¤§æ¨¡å‹çš„äº§ç”Ÿï¼Œæˆ‘ä»¬éƒ½å—ç›Šäºå¤§æ¨¡å‹å¸¦æ¥çš„ç”Ÿäº§åŠ›æé«˜ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå‡ºç°ä¸€äº›ä¸ç¡®å®šæ€§ï¼Œä¸æˆ‘ä»¬çš„æœŸæœ›æœ‰æ‰€åå·®ï¼Œéšç€guardrailsçš„å‡ºç°ï¼Œå°±åƒæ˜¯ä¸€ä¸ªå®¶æ•™åœ¨è¾…å¯¼å­¦ç”Ÿä½œä¸šä¸€æ ·ï¼Œæ¯å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œè€å¸ˆéƒ½ä¼šç»™å‡ºä¸€ä¸ªåé¦ˆã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„ä¸šåŠ¡ç³»ç»Ÿä¸­Guardrailså¯ä»¥æå‡æˆ‘ä»¬åº”ç”¨çš„å¯é æ€§å’Œé²æ£’æ€§ã€‚å¯¹äºä¸åˆæ³•æˆ–æ¶æ„è¾“å…¥å¯èƒ½å¯¼è‡´é”™è¯¯ã€å®‰å…¨æ¼æ´æˆ–æ„å¤–è¡Œä¸ºï¼ŒGuardrails é€šè¿‡å¼ºåˆ¶æ‰§è¡Œè¾“å…¥éªŒè¯ï¼Œç¡®ä¿æ™ºèƒ½ä½“åªå¤„ç†ç¬¦åˆé¢„æœŸçš„è¾“å…¥ï¼›è¿˜å¯ä»¥èŠ‚çœè®¡ç®—èµ„æºå’Œå‡å°‘æˆæœ¬ï¼Œå¦‚æœä¸ç¬¦åˆé¢„æœŸåœ¨æ™ºèƒ½ä½“è¿è¡ŒåˆæœŸå°±ä¼šåˆ¤åˆ«å’Œæ‹’ç»ï¼›ç¡®ä¿äº†ç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘å’Œåˆè§„é—®é¢˜ã€‚</p>
<h3 data-id="heading-5"><strong><strong>ï¼ˆå››ï¼‰Tracingï¼ˆå¯è§†åŒ–è¿½è¸ªï¼‰</strong></strong></h3>
<p>åœ¨OpenAIçš„SDKä¸­å†…ç½®äº†Tracingèƒ½åŠ›ï¼Œå¯ä»¥å¾ˆç›´è§‚åœ°è§£è¯»Agentä¹‹é—´çš„äº¤äº’è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°è¯·æ±‚ä½“ï¼Œå“åº”äº‹ä»¶ç­‰çš„ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æ”¯æŒè¯„ä¼°ï¼ˆevaluateï¼‰å·¥ä½œæµç¨‹ï¼Œç”šè‡³å¯ä»¥ç”¨æ¥å¾®è°ƒï¼ˆfine-tuneï¼‰æ¨¡å‹ä»¥ä¼˜åŒ–åº”ç”¨çš„æ€§èƒ½ã€‚</p>
<p>åœ¨AgentåˆæœŸï¼Œå¯¹äºå‡ ä¹â€œé»‘ç›’â€ç³»ç»Ÿæ¥è¯´ï¼Œæˆ‘ä»¬çš„æŒæ§æ„Ÿå’Œä¿¡ä»»æ„Ÿä¼šç‰¹åˆ«çš„å¼±ï¼Œè€ŒTracingè¿™ä¸ªèƒ½åŠ›å°±ç»™æˆ‘ä»¬å¸¦æ¥ä¸€æŸâ€œæ›™å…‰â€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘é˜¶æ®µï¼Œæµ‹è¯•é˜¶æ®µç”šè‡³æ˜¯éƒ¨åˆ†çº¿ä¸Šåœºæ™¯å¯¹Agentè¿›è¡Œç›‘æ§å’Œå¯è§†åŒ–çš„è¿½è¸ªã€‚å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ï¼›é™¤æ­¤ä¹‹å¤–OpenAI çš„SDKä¸­è¿˜æ”¯æŒåŸºäºè¿½è¸ªæ•°æ®ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¾®è°ƒæˆ–è’¸é¦æ¨¡å‹ï¼ŒæŒç»­ä¼˜åŒ–æ™ºèƒ½ä½“åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­çš„æ•ˆç‡å’Œæ•ˆæœï¼Œä¾‹å¦‚æé«˜å›å¤çš„å‡†ç¡®æ€§ã€å‡å°‘é”™è¯¯æ“ä½œã€‚</p>
<h2 data-id="heading-6"><strong>ä¸‰</strong>**ã€ä»£ç ç¤ºä¾‹**</h2>
<p>è¿™äº›ç‰¹æ€§æ¿€èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œæœ¬ç€å¯¹çŸ¥è¯†çš„æ¸´æœ›ï¼Œå’±ä»¬è¿˜æ˜¯å›å½’åˆ°ä»£ç å®ç°ä¸Šï¼ä¸ºäº†å¿«é€Ÿå®ç°ï¼šæˆ‘ä»¬ä½¿ç”¨OpenAIçš„GPT-4oæ¨¡å‹ï¼ˆé»˜è®¤ï¼‰ã€‚</p>
<p>å‰æœŸå‡†å¤‡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pip install openai-agents
<span class="hljs-comment"># or `uv add openai-agents`, etc</span>
<span class="hljs-comment"># è®¾ç½®è‡ªå·±çš„OpenAIKey</span>
export <span class="hljs-attr">OPENAI_API_KEY</span>=sk-...
</code></pre>
<h3 data-id="heading-7"><strong>ï¼ˆä¸€ï¼‰æœ€åˆå¤©æ°”æŸ¥è¯¢</strong></h3>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œç„¶åå†å¼€å§‹ä¸€ç‚¹ç‚¹çš„æŠŠæˆ‘ä»¬æƒ³è¦äº†è§£çš„ç‰¹æ€§èµ°ä¸€éã€‚ æˆ‘ä»¬å…ˆç”¨pythonå†™ä¸€ä¸ªç®€å•çš„agentï¼Œå¯ä»¥æŸ¥è¯¢å¤©æ°”ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/583fc91a1f2f4703a4f8adea7e6e0ba2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=nsEejttvG%2FCJzaHtsE1YlUxtypk%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> Agent, Runner, function_tool
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-meta">@function_tool</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_weather</span>(<span class="hljs-params">city: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""Fetch the weather for a given location.
     Args:
        city: The city to fetch the weather for.
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"sunny"</span>

<span class="hljs-comment"># å¤©æ°”æŸ¥è¯¢Agent</span>
weather_agent = Agent(
                    name=<span class="hljs-string">"å¤©æ°”æŸ¥è¯¢ä¸“å®¶"</span>,
                     instructions=<span class="hljs-string">"ä½ æ˜¯å¤©æ°”æŸ¥è¯¢ä¸“å®¶ï¼Œç”¨æˆ·è¾“å…¥åŸå¸‚åï¼Œä½ è¿”å›è¯¥åŸå¸‚çš„å¤©æ°”ä¿¡æ¯ã€‚è¯·ç”¨ç®€æ´ä¸­æ–‡å›å¤ã€‚"</span>,
                    tools=[fetch_weather]
                    )

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    result = <span class="hljs-keyword">await</span> Runner.run(weather_agent, <span class="hljs-built_in">input</span>=<span class="hljs-string">"åŒ—äº¬"</span>)
    <span class="hljs-built_in">print</span>(result.final_output)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<p><strong>1ã€Agentå±æ€§è¯´æ˜</strong></p>
<p>æˆ‘ä»¬å¯ä»¥å‚è€ƒæºç ä¸­çš„ç»“æ„ï¼Œå‘ç°æœ‰å“ªäº›å±æ€§æˆ‘ä»¬å¯ä»¥è°ƒæ•´æˆ–è€…ä¿®æ”¹ï¼Œç†è®ºä¸Šé»˜è®¤å±æ€§å€¼åªèƒ½å¤Ÿæä¾›ç®€å•çš„ä½¿ç”¨ï¼Œå¦‚æœæ¶‰åŠåˆ°è‡ªå®šä¹‰çš„åŠŸèƒ½é‚£å°±éœ€è¦è°ƒæ•´æ›´å¤šçš„å‚æ•°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc9dd122200645c4896dbe95b65ccd81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=pIQ8w1vBkbeNmU3Jyc1ZTfNOQqI%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>instructionsï¼š<strong>ä½¿ç”¨</strong>instructions</strong>å±æ€§æŒ‡å®šå½“å‰agentçš„ç³»ç»Ÿæç¤ºè¯ã€‚å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯Agentç”Ÿæˆçš„åŠ¨æ€æŒ‡ä»¤ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°†é€šè¿‡ä¸Šä¸‹æ–‡å’Œä»£ç†å®ä¾‹è°ƒç”¨ï¼Œä½†æ˜¯å¿…é¡»è¿”å›å­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p><strong>name</strong>ï¼šæ™ºèƒ½ä½“çš„åå­—</p>
</li>
<li>
<p>**toolsï¼š**æ™ºèƒ½ä½“å¯ä»¥ä½¿ç”¨å·¥å…·åˆ—è¡¨</p>
</li>
<li>
<p>**handoff_descriptionï¼š**æ™ºèƒ½ä½“çš„äº¤æ¥è¯´æ˜ï¼Œä¸»è¦ç”¨äºå¤šä¸ªæ™ºèƒ½ä½“è¿›è¡Œäº¤æ¥æ—¶ï¼Œè®©å¤§æ¨¡å‹äº†è§£è¿™ä¸ªæ™ºèƒ½ä½“èƒ½åšä»€ä¹ˆï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™è°ƒç”¨ä»–</p>
</li>
<li>
<p>**handoffsï¼š**agentå¯ä»¥å§”æ´¾ä»»åŠ¡çš„å­agentã€‚ä½ å¯ä»¥æä¾›ä¸€ä¸ª handoffs çš„åˆ—è¡¨ï¼Œä»£ç†åœ¨é€‚å½“çš„æƒ…å†µä¸‹å¯ä»¥é€‰æ‹©å°†ä»»åŠ¡å§”æ´¾ç»™å®ƒä»¬ã€‚è¿™æ ·å¯ä»¥å®ç°èŒè´£åˆ†ç¦»å’Œæ¨¡å—åŒ–è®¾è®¡ã€‚</p>
</li>
<li>
<p>**modelï¼š**å¯ä»¥é…ç½®modelï¼Œé»˜è®¤æ˜¯gpt4o</p>
</li>
<li>
<p>**hooksï¼š**æ¥æ”¶æ­¤ä»£ç†çš„å„ç§ç”Ÿå‘½å‘¨æœŸäº‹ä»¶çš„å›è°ƒçš„ç±»ã€‚</p>
</li>
<li>
<p>**mcp_servers:**agentå¯ä»¥ä½¿ç”¨çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®® (MCP)æœåŠ¡å™¨åˆ—è¡¨ã€‚æ¯æ¬¡ä»£ç†è¿è¡Œæ—¶ï¼Œå®ƒéƒ½ä¼šå°†è¿™äº›æœåŠ¡å™¨ä¸­çš„å·¥å…·æ·»åŠ åˆ°å¯ç”¨å·¥å…·åˆ—è¡¨ä¸­ã€‚</p>
</li>
<li>
<p><strong>output_guardrails</strong>: ç”Ÿæˆå“åº”åï¼Œå¯¹ä»£ç†çš„æœ€ç»ˆè¾“å‡ºè¿è¡Œçš„æ£€æŸ¥åˆ—è¡¨ã€‚ä»…å½“ä»£ç†ç”Ÿæˆæœ€ç»ˆè¾“å‡ºæ—¶è¿è¡Œã€‚</p>
</li>
<li>
<p><strong>input_guardrails</strong>: åœ¨ç”Ÿæˆå“åº”ä¹‹å‰ï¼Œä¸ä»£ç†æ‰§è¡Œå¹¶è¡Œè¿è¡Œçš„æ£€æŸ¥åˆ—è¡¨ã€‚ä»…å½“ä»£ç†æ˜¯é“¾ä¸­çš„ç¬¬ä¸€ä¸ªä»£ç†æ—¶è¿è¡Œã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">**ï¼ˆäºŒï¼‰**<strong>å¤šä¸ªAgent</strong></h3>
<p>ç°åœ¨å¼€å§‹æ„å»ºå¤šä¸ªAgentç”¨æ¥è§‚å¯Ÿåé¢çš„æ–°ç‰¹æ€§ï¼Œä¾‹å¦‚æœ¬æ®µä»£ç ç¤ºä¾‹ä¸ºä¸€ä¸ªâ€œå¤©æ°”ä¸“å®¶â€å†åŠ ä¸Šä¸€ä¸ªâ€œç©¿è¡£ä¸“å®¶â€ä¸¤ä¸ªAgentï¼Œå›ç­”ç”¨æˆ·çš„å…³äºç©¿è¡£æœçš„ä¸€äº›å›ç­”ã€‚ ä¸¤ä¸ªagentä¹‹é—´â€œç©¿è¡£ä¸“å®¶â€ ä½¿ç”¨ â€œå¤©æ°”ä¸“å®¶â€ç»™å‡ºçš„å¤©æ°”ä¿¡æ¯è¿›è¡Œæ€»ç»“å¤©æ°”å› ç´ ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ä¸¤ä¸ªä¸“å®¶çš„â€œäº¤æ¥â€ï¼Œæœ€ç»ˆç»™å‡ºå¯¹åº”ç©¿è¡£é£æ ¼æ­é…å»ºè®®ã€‚ï¼ˆåé¢çš„tracingæ¨¡å—ä¼šå¯¹äº¤äº’ç»†èŠ‚è¿›è¡Œé˜è¿°ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66e09e13caa9434dbe7aebc04e71c848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=1YytP6CvLUaj4TYGXOKRSjUvUwc%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> Agent, Runner, function_tool
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-meta">@function_tool</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_weather</span>(<span class="hljs-params">city: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""Fetch the weather for a given location.

    Args:
        location: The location to fetch the weather for.
    """</span>
    <span class="hljs-comment"># In real life, we'd fetch the weather from a weather API</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"sunny"</span>
<span class="hljs-comment"># å¤©æ°”æŸ¥è¯¢Agent</span>
weather_agent = Agent(
                    name=<span class="hljs-string">"å¤©æ°”æŸ¥è¯¢ä¸“å®¶"</span>,
                    instructions=<span class="hljs-string">"ä½ æ˜¯å¤©æ°”æŸ¥è¯¢ä¸“å®¶ï¼Œç”¨æˆ·è¾“å…¥åŸå¸‚åï¼Œä½ è¿”å›è¯¥åŸå¸‚çš„å¤©æ°”ä¿¡æ¯ã€‚è¯·ç”¨ç®€æ´ä¸­æ–‡å›å¤ã€‚"</span>,
                    tools=[fetch_weather]
                    )
â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<h3 data-id="heading-9">ï¼ˆä¸‰ï¼‰æ·»åŠ æŠ¤æ ï¼ˆinput_guardrailsï¼‰</h3>
<p>ç°åœ¨å·²ç»æœ‰äº†ä¸¤ä¸ªâ€œä¸“å®¶â€ï¼Œå¹¶ä¸”â€œä¸“å®¶â€ä¹‹é—´çš„ä¾èµ–å…³ç³»ä¹Ÿå·²ç»å£°æ˜äº†ï¼Œå¼€å§‹æ­å»ºä¸€äº›è¾¹ç•Œæƒ…å†µï¼Œä¿éšœæ•´ä¸ªé¡¹ç›®çš„â€œç¡®å®šæ€§â€ï¼Œå°±æ˜¯å¼•å…¥â€œæŠ¤æ â€ï¼ˆguardrailsï¼‰ï¼Œä¸ºäº†æ¼”ç¤ºè¿™é‡Œä½¿ç”¨çš„æ˜¯è¾“å…¥â€œæŠ¤æ â€ï¼Œä¿éšœæ•´ä¸ªåŠŸèƒ½åªèšç„¦åœ¨ç©¿è¡£ç›¸å…³çš„é—®é¢˜ä¸Šã€‚é‡ç‚¹çœ‹â€œ<strong>guardrail_agent</strong>â€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> Agent, GuardrailFunctionOutput, InputGuardrail, Runner, function_tool
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DressOutput</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    is_dressing: <span class="hljs-built_in">bool</span>
    reasoning: <span class="hljs-built_in">str</span>

<span class="hljs-comment"># Guardrailèšç„¦ç©¿è¡£å»ºè®®</span>
guardrail_agent = Agent(
    name=<span class="hljs-string">"Guardrail check"</span>,
    instructions=(<span class="hljs-string">"è¯·åˆ¤æ–­ç”¨æˆ·çš„é—®é¢˜æ˜¯å¦å›´ç»•ç”¨æˆ·ç©¿è¡£å»ºè®®ç›¸å…³å†…å®¹,å¦‚æœé—®é¢˜å±äºä¸Šè¿°å†…å®¹ï¼Œè¯·è¿”å› is_dressing=Trueï¼Œå¹¶ç®€è¦è¯´æ˜ç†ç”±ã€‚"</span>),
    output_type=DressOutput,
)


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p>ç¬¦åˆæŠ¤æ è¾“å…¥çš„è¦æ±‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">----

Guardrail result: RunResult:
- Last agent: <span class="hljs-built_in">Agent</span>(name=<span class="hljs-string">"Guardrail check"</span>, ...)
- Final output (DressOutput):
    {
      "is_dressing": true,
      <span class="hljs-string">"reasoning"</span>: <span class="hljs-string">"ç”¨æˆ·è¯¢é—®å…³äºåœ¨åŒ—äº¬ç©¿ç€å¼‚åŸŸé£æ ¼è¡£æœçš„æ­é…å»ºè®®ï¼Œæ¶‰åŠç©¿è¡£æ­é…é—®é¢˜ã€‚"</span>
    }
- <span class="hljs-number">1</span> new <span class="hljs-built_in">item</span>(s)
- <span class="hljs-number">1</span> raw <span class="hljs-built_in">response</span>(s)
- <span class="hljs-number">0</span> <span class="hljs-selector-tag">input</span> guardrail <span class="hljs-built_in">result</span>(s)
- <span class="hljs-number">0</span> output guardrail <span class="hljs-built_in">result</span>(s)
(See `RunResult` for more details)
åœ¨åŒ—äº¬ä»Šå¤©çš„å¤©æ°”æ˜¯æ™´å¤©ï¼Œæ¸©åº¦çº¦<span class="hljs-number">20</span>åº¦ï¼Œæ¯”è¾ƒèˆ’é€‚ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹å¼‚åŸŸé£æ ¼çš„æ­é…ï¼š

<span class="hljs-number">1</span>. **æ³¢è¥¿ç±³äºšé£**:
   - ä¸Šè¡£ï¼šæµè‹æˆ–å°èŠ±è¡¬è¡«
   - ä¸‹è£…ï¼šé•¿è£™æˆ–é˜”è…¿è£¤
   - é…é¥°ï¼šå¤§é¡¹é“¾ã€è€³ç¯å’Œå®½æªå¸½


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p>åœ¨æŠ¤æ ä¸­ä¹Ÿå¯ä»¥è®¾ç½®"<strong>tripwire_triggered</strong>"å‚æ•°æ¥æ§åˆ¶æµç¨‹è¦ä¸è¦ç»ˆç«¯ï¼Œå¯ä»¥çœ‹å…·ä½“çš„è¿”å›ç»“æœï¼š</p>
<p>ä¸ç»ˆæ­¢ä»»åŠ¡ï¼Œå›ç­”ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">async def <span class="hljs-selector-tag">main</span>():
    result = await Runner.<span class="hljs-built_in">run</span>(dressing_agent, input=<span class="hljs-string">"ä¸Šæµ·å¤©æ°”å¦‚ä½•"</span>)
    <span class="hljs-built_in">print</span>(result.final_output)

-----

Guardrail result: RunResult:
- Last agent: <span class="hljs-built_in">Agent</span>(name=<span class="hljs-string">"Guardrail check"</span>, ...)
- Final output (DressOutput):
    {
      "is_dressing": false,
      <span class="hljs-string">"reasoning"</span>: <span class="hljs-string">"ç”¨æˆ·è¯¢é—®çš„æ˜¯ä¸Šæµ·çš„å¤©æ°”çŠ¶å†µï¼Œä¸ç©¿è¡£å»ºè®®æ— ç›´æ¥å…³è”ã€‚"</span>
    }
- <span class="hljs-number">1</span> new <span class="hljs-built_in">item</span>(s)
- <span class="hljs-number">1</span> raw <span class="hljs-built_in">response</span>(s)
- <span class="hljs-number">0</span> <span class="hljs-selector-tag">input</span> guardrail <span class="hljs-built_in">result</span>(s)
- <span class="hljs-number">0</span> output guardrail <span class="hljs-built_in">result</span>(s)
(See `RunResult` for more details)
ä¸Šæµ·ä»Šå¤©å¤©æ°”æ™´æœ—ï¼Œæ¸©åº¦ä¸º<span class="hljs-number">20</span>åº¦ï¼Œæ¹¿åº¦<span class="hljs-number">50%</span>ï¼Œä¸œå—é£<span class="hljs-number">2</span>çº§ã€‚
<span class="hljs-selector-attr">[non-fatal]</span> Tracing: request failed: _ssl.c:<span class="hljs-number">989</span>: The handshake operation timed o
</code></pre>
<p>ç»ˆæ­¢ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">async def dress_guardrail(ctx, agent, input_data):
    <span class="hljs-attr">result</span> = await Runner.run(guardrail_agent, input_data, context=ctx.context)
    <span class="hljs-attr">final_output</span> = result.final_output_as(DressOutput)
    print("Guardrail result:", result)
    <span class="hljs-comment"># ä¸å†æŠ›å¼‚å¸¸ï¼Œç›´æ¥è¿”å›åˆ¤æ–­ç»“æœ</span>
    return GuardrailFunctionOutput(
        <span class="hljs-attr">output_info</span>=final_output,
        <span class="hljs-comment"># tripwire_triggered=False,  # ä¸è§¦å‘ç»ˆæ­¢</span>
        <span class="hljs-attr">tripwire_triggered</span>=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># è§¦å‘ç»ˆæ­¢</span>
    )

----

Guardrail result: RunResult:
- Last agent: Agent(<span class="hljs-attr">name</span>=<span class="hljs-string">"Guardrail check"</span>, ...)
- Final output (DressOutput):
    {
      "is_dressing": false,
      "reasoning": "ç”¨æˆ·çš„é—®é¢˜ä¸å½“å‰å¤©æ°”æƒ…å†µæœ‰å…³ï¼Œè€Œä¸æ˜¯å…³äºç©¿è¡£å»ºè®®çš„è¯·æ±‚ã€‚"
    }


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<h3 data-id="heading-10"><strong>ï¼ˆå››ï¼‰Tracing</strong></h3>
<p>OpenAIçš„SDKé»˜è®¤å¼€å¯äº†TracingåŠŸèƒ½ï¼Œå¯ä»¥æ”¯æŒæ‰‹åŠ¨å…³é—­ï¼Œä»¥æ»¡è¶³ç‰¹å®šåœºæ™¯ä¸‹çš„éšç§æˆ–èµ„æºéœ€æ±‚ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> 
set_tracing_disabledset_tracing_disabled(<span class="hljs-literal">True</span>)
</code></pre>
<p><strong>1ã€å®˜æ–¹å±•ç¤º</strong></p>
<p>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Ftraces" target="_blank" title="https://platform.openai.com/traces" ref="nofollow noopener noreferrer">platform.openai.com/traces</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e991336cbf94e779059675a8dfbde52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=yGUR2OHeom%2FFxe0kiN5uvhBN2cQ%3D" alt="" loading="lazy"/></p>
<p>ï¼ˆ1ï¼‰å¤šagent+äº¤æ¥</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78c6f62927ac452fb2ca5fb5444ed51e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=bfJoZHiExWUDTTeqT2MOCnlMZn8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddc15fb5a4344ead86fd3b7b13532942~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=1%2FU3wD9RB3zVlxxvsN38Q%2B%2Ftt9Y%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da6768b8f055493da69856e5a440cbd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=Afl1A66Ywnnyl75QfuxtEPz3Uzk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6d974059df2443ba2c30a79fd88633a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=nxaqcOMt711VH9olIQfdi1GEcKo%3D" alt="" loading="lazy"/></p>
<p>äº¤äº’å¯ä»¥å¾ˆå¥½çš„çœ‹æ¸…æ¥šå¯¹åº”tokenæ¶ˆè€—ï¼Œå…¥å‚å’Œç³»ç»Ÿæç¤ºè¯ä»¥åŠå¯¹åº”functioncallï¼Œä¸¤ä¸ªagentäº¤æ¥å±•ç¤ºä¹Ÿæ˜¯functioncallï¼Œæ—¶é€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯å­˜åœ¨2ç‚¹å±•ç¤ºä¸å¤ªå¥½ï¼š</p>
<p>â‘ äº¤æ¥æ—¶ ä¸Šä¸‹æ–‡å±•ç¤º</p>
<p>â‘¡äº¤æ¥æ—¶ tokenæœ‰æ²¡æœ‰æ¶ˆè€—</p>
<p>ï¼ˆ2ï¼‰æ·»åŠ æŠ¤æ å¯¹åº”çš„Tracing</p>
<p>å¯ä»¥çœ‹å‡ºä½¿ç”¨æŠ¤æ è¾“å…¥æ‹¦æˆªåtokenå¯ä»¥èŠ‚çœï¼Œæµç¨‹å¯ä»¥æå‰ç»ˆæ­¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c084a18bc53432e87788d01b91fa447~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=qvSzDArC%2B741nhMEuZ1Oi7Pughg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/127d58533bf748918dc5c7d11c453d65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=5mC651HJ%2BYPXO5qHUAN6cqqnL0I%3D" alt="" loading="lazy"/></p>
<p><strong>2ã€è‡ªå·±æœ¬åœ°</strong></p>
<p>æœ‰ä¸€äº›ä¿¡æ¯å±äºæ•æ„Ÿä¿¡æ¯è´¸ç„¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¼šå¯¹æ•°æ®å®‰å…¨å’Œæµç¨‹è§„èŒƒé€ æˆæŒ‘æˆ˜ã€‚å› æ­¤OpenAIçš„SDKæ”¯æŒå¤šç§è§£å†³æ–¹æ¡ˆï¼š</p>
<p>â‘ å…³é—­TracingåŠŸèƒ½</p>
<p>â‘¡è‡ªå·±æ­å»ºTracingå¹³å°ã€‚è¿™é‡Œæ¼”ç¤ºæœ¬åœ°è¿è¡Œ</p>
<p>mlflowç”¨æ¥è®°å½•</p>
<p>â‘¢å¯¹æ•æ„Ÿæ•°æ®æˆ–è€…èŠ‚ç‚¹å…³é—­tracingã€‚ RunConfig.trace_include_sensitive_data</p>
<p>ï¼ˆ1ï¼‰å®‰è£…mlflowä¾èµ–</p>
<pre><code class="hljs language-python" lang="python">pip install mlflow
<span class="hljs-comment"># å¯åŠ¨æœåŠ¡ å¹¶ä¸”åœ¨æœ¬åœ°ä½¿ç”¨sqlliteå­˜å‚¨</span>
mlflow server --host <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> --port <span class="hljs-number">8080</span> --backend-store-uri sqlite:///mlruns.db

<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> Agent, GuardrailFunctionOutput, InputGuardrail, Runner, function_tool
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">import</span> mlflow
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

mlflow.openai.autolog()
mlflow.set_tracking_uri(<span class="hljs-string">"http://localhost:8080"</span>)
mlflow.set_experiment(<span class="hljs-string">"weather"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DressOutput</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    is_dressing: <span class="hljs-built_in">bool</span>
    reasoning: <span class="hljs-built_in">str</span>
<span class="hljs-comment"># Guardrailèšç„¦ç©¿è¡£å»ºè®®</span>
guardrail_agent = Agent(
    name=<span class="hljs-string">"Guardrail check"</span>,
    instructions=(<span class="hljs-string">"è¯·åˆ¤æ–­ç”¨æˆ·çš„é—®é¢˜æ˜¯å¦å›´ç»•ç”¨æˆ·ç©¿è¡£å»ºè®®ç›¸å…³å†…å®¹,å¦‚æœé—®é¢˜å±äºä¸Šè¿°å†…å®¹ï¼Œè¯·è¿”å› is_dressing=Trueï¼Œå¹¶ç®€è¦è¯´æ˜ç†ç”±ã€‚"</span>),
    output_type=DressOutput,
)


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07a7b630eff942d1bb80b49f14b12239~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=xiB8FWiObdUOPR1Obg2nB0KguMM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0077b1306fb346c9a7c5a3e6b07afe35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=SaxdOzrVD4vTPdMx%2F%2BWoIlWD%2BPg%3D" alt="" loading="lazy"/></p>
<p><strong>3ã€å¯¹æ¯”</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b779908c4634a6092de10a9034ee1b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=HIq9K%2F%2B3s1IpBbNMSid6PUGoh1k%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11"><strong>ï¼ˆäº”ï¼‰MCPä½¿ç”¨</strong></h3>
<p>ä»‹ç»å®Œä¸€äº›åŸºç¡€çš„ç”¨æ³•åï¼Œæˆ‘ä»¬çœ‹ä¸‹æœ€è¿‘æ¯”è¾ƒç«çš„MCPçš„æ¥å…¥å®ç°ã€‚éœ€è¦å†åœ¨é¡¹ç›®ä¸­æ’å…¥MCPçš„å®šä¹‰ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨é«˜å¾·çš„MCPè¿›è¡Œæ¼”ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/438964b0ce93457fb8d11418177e93ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=m3wEIYe3mlL3ia4Gz%2FOLqIelrpc%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict
<span class="hljs-keyword">from</span> agents <span class="hljs-keyword">import</span> Agent, GuardrailFunctionOutput, InputGuardrail, Runner, function_tool
<span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> agents.mcp.server <span class="hljs-keyword">import</span> MCPServerStdio

<span class="hljs-keyword">import</span> mlflow
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel

<span class="hljs-comment"># mlflow.openai.autolog()</span>
<span class="hljs-comment"># mlflow.set_tracking_uri("http://localhost:8080")</span>
<span class="hljs-comment"># mlflow.set_experiment("weather")</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DressOutput</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    is_dressing: <span class="hljs-built_in">bool</span>
    reasoning: <span class="hljs-built_in">str</span>

<span class="hljs-comment"># Guardrailèšç„¦ç©¿è¡£å»ºè®®</span>
guardrail_agent = Agent(
    name=<span class="hljs-string">"Guardrail check"</span>,
    instructions=(<span class="hljs-string">"è¯·åˆ¤æ–­ç”¨æˆ·çš„é—®é¢˜æ˜¯å¦å›´ç»•ç”¨æˆ·ç©¿è¡£å»ºè®®ç›¸å…³å†…å®¹,å¦‚æœé—®é¢˜å±äºä¸Šè¿°å†…å®¹ï¼Œè¯·è¿”å› is_dressing=Trueï¼Œå¹¶ç®€è¦è¯´æ˜ç†ç”±ã€‚"</span>),


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p>OpenAI Agents SDä»£ç ç¤ºä¾‹åˆ°è¿™é‡Œå°±å‘Šä¸€æ®µè½äº†ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å°è¯•ä½¿ç”¨Deepseekæ›¿æ¢ä¸€ä¸‹æ¨¡å‹çœ‹çœ‹æ•ˆæœï¼ˆpsï¼šdeepseekè¿˜ä¸æ”¯æŒ openaiåè®®çš„Json æ¨¡ç‰ˆè¾“å‡ºï¼Œæ‰€ä»¥éœ€è¦åšäº›æ”¹é€ ï¼‰ã€‚</p>
<h2 data-id="heading-12"><strong>å››ã€æ¡†æ¶å¯¹æ¯”</strong></h2>
<p>ç›®å‰å¸‚é¢ä¸Šå¯¹äºAgentæ™ºèƒ½ä½“çš„æ­å»ºæœ‰å¾ˆå¤šæ–¹æ¡ˆï¼Œæˆ‘è¿™é‡Œåªæ˜¯å¯¹OpenAI SDKè¿›è¡Œç®€çŸ­çš„ä»‹ç»å’Œä½¿ç”¨ã€‚æ¯”å¦‚å¸‚é¢ä¸Šæ¯”è¾ƒç«çš„æœ‰ å·¥ä½œæµæ­å»ºæ¡†æ¶ æˆ‘å¸çš„Qmosså¹³å°ã€å¼€æºçš„Difyã€n8nã€æ‰£å­ã€é£ä¹¦ ä»¥åŠå¯ä»¥å®šåˆ¶åŒ–å¼€å‘Langchainã€langchain4Jã€ langchain Graphã€LlamaIndexç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54e7c2f7a467479fbf396a6b64cf2a59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=OlsUhcqFI8bKqb9oaoL5PM5V9Js%3D" alt="" loading="lazy"/></p>
<p>LangGraph ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flangchain-ai.github.io%2Flanggraph%2Fconcepts%2Fwhy-langgraph%2F" target="_blank" title="https://langchain-ai.github.io/langgraph/concepts/why-langgraph/" ref="nofollow noopener noreferrer">langchain-ai.github.io/langgraph/câ€¦</a></p>
<p>AutoGenä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmicrosoft.github.io%2Fautogen%2Fstable%2F%2Fuser-guide%2Fagentchat-user-guide%2Fquickstart.html" target="_blank" title="https://microsoft.github.io/autogen/stable//user-guide/agentchat-user-guide/quickstart.html" ref="nofollow noopener noreferrer">microsoft.github.io/autogen/staâ€¦</a></p>
<p>langchain4jä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.langchain4j.dev%2F" target="_blank" title="https://docs.langchain4j.dev/" ref="nofollow noopener noreferrer">docs.langchain4j.dev/</a></p>
<p>å¯¹äºå¤šä¸ªAgentçš„äº¤äº’å’Œå®ç°ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹LangGraphçš„ç®€å•ç¤ºä¾‹,LangGraph æœ‰ä¸¤ç§å¤šagnetçš„æ¨¡å‹ï¼Œå¤šæ¨¡å‹ä¹‹é—´ä¹Ÿæ˜¯ä½¿ç”¨â€œäº¤æ¥â€çš„æ–¹å¼ã€‚å¯¹äºlanggraphæ¥è¯´å¤šä¸ªagentæœ‰ä¸¤ç§æ¶æ„è®¾è®¡ï¼š</p>
<p>ä¸€æ˜¯ç›‘ç®¡æ¶æ„ï¼ˆSupervisorï¼‰ï¼šå„ä¸ªä»£ç†ç”±ä¸­å¤® Supervisor ä»£ç†åè°ƒã€‚ä¸»ç®¡æ§åˆ¶æ‰€æœ‰é€šä¿¡æµå’Œä»»åŠ¡å§”æ´¾ï¼Œæ ¹æ®å½“å‰ä¸Šä¸‹æ–‡å’Œä»»åŠ¡è¦æ±‚å†³å®šè°ƒç”¨å“ªä¸ªä»£ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d50a3c359bf04fb790eefe2dd0f44320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=HLjhlAf%2FH5EhakBsBqMamL%2BkT0w%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ä¸€ä¸ªæ˜¯é›†ç¾¤æ¶æ„ï¼ˆSwarmï¼‰ï¼šå„ä¸ªAgentæ ¹æ®å…¶ä¸“é•¿åŠ¨æ€åœ°å°†æ§åˆ¶æƒç§»äº¤ç»™å½¼æ­¤ã€‚ç³»ç»Ÿä¼šè®°ä½æœ€åä¸€ä¸ªå¤„äºæ´»åŠ¨çŠ¶æ€çš„åº§å¸­ï¼Œç¡®ä¿åœ¨åç»­äº¤äº’ä¸­ï¼Œä¸è¯¥åº§å¸­çš„å¯¹è¯æ¢å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb801a5f147b4a51931a49d409c773b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=bnQbtAPVXaFVdj%2Fn1WYPKTugGZM%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬ç°åœ¨ä½¿ç”¨LangGraphçš„Supervisoræ¶æ„æ¥å®ç°æˆ‘ä»¬ä¸Šé¢çš„â€œè¡£æœæ­é…â€demo(psï¼šä¸“å®¶çš„åå­—ä¸­æ–‡ä¼šæŠ¥é”™)ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39203def36ec4a8e8542c3ef26fd0401~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y675ZOq5YS_5oqA5pyv5rKZ6b6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770026283&amp;x-signature=CGLUEdt3syNDCxVYkrOx%2Fv4WOJA%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¦–å…ˆå®‰è£…ä¾èµ–</span>
pip install -U langgraph <span class="hljs-string">"langchain[anthropic]"</span>
pip install langgraph-supervisor
</code></pre>
<p>ä½¿ç”¨æœ¬åœ°çš„mlflowè®°å½•AIäº¤äº’ä¿¡æ¯</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langgraph.prebuilt <span class="hljs-keyword">import</span> create_react_agent
<span class="hljs-keyword">from</span> langgraph_supervisor <span class="hljs-keyword">import</span> create_supervisor
<span class="hljs-keyword">from</span> langchain_mcp_adapters.client <span class="hljs-keyword">import</span> MultiServerMCPClient
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">from</span> IPython.display <span class="hljs-keyword">import</span> display

<span class="hljs-keyword">import</span> mlflow

<span class="hljs-keyword">import</span> pretty_util

<span class="hljs-comment"># Enabling tracing for LangGraph (LangChain)</span>
mlflow.langchain.autolog()

<span class="hljs-comment"># Optional: Set a tracking URI and an experiment</span>
mlflow.set_tracking_uri(<span class="hljs-string">"http://localhost:8080"</span>)
mlflow.set_experiment(<span class="hljs-string">"LangGraph"</span>)


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰

<span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> convert_to_messages

<span class="hljs-keyword">def</span> <span class="hljs-title function_">pretty_print_message</span>(<span class="hljs-params">message, indent=<span class="hljs-literal">False</span></span>):
    pretty_message = message.pretty_repr(html=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> indent:
        <span class="hljs-built_in">print</span>(pretty_message)
        <span class="hljs-keyword">return</span>

    indented = <span class="hljs-string">"\n"</span>.join(<span class="hljs-string">"\t"</span> + c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> pretty_message.split(<span class="hljs-string">"\n"</span>))
    <span class="hljs-built_in">print</span>(indented)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">pretty_print_messages</span>(<span class="hljs-params">update, last_message=<span class="hljs-literal">False</span></span>):
    is_subgraph = <span class="hljs-literal">False</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(update, <span class="hljs-built_in">tuple</span>):
        ns, update = update
        <span class="hljs-comment"># skip parent graph updates in the printouts</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ns) == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span>

        graph_id = ns[-<span class="hljs-number">1</span>].split(<span class="hljs-string">":"</span>)[<span class="hljs-number">0</span>]             


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p>è¿”å›ç»“æœå±•ç¤ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">================================ Human <span class="hljs-attr">Message</span> =================================

æˆ‘åœ¨åŒ—äº¬è¦å»ä¸Šæµ·æ—…è¡Œ3å¤©ï¼Œæƒ³å»æ™¯ç‚¹ï¼Œæ‹ç‚¹ç…§ç‰‡ã€‚
================================== Ai <span class="hljs-attr">Message</span> ==================================
Name: supervisor

ä¸ºäº†å¸®åŠ©æ‚¨è§„åˆ’è¿™æ¬¡åŒ—äº¬åˆ°ä¸Šæµ·çš„3å¤©æ—…è¡Œï¼Œæˆ‘å°†åè°ƒä»¥ä¸‹å‡ ä¸ªä¸“å®¶çš„å»ºè®®ï¼š

1. **å¤©æ°”ä¸“å®¶ï¼ˆweather_agentï¼‰** - æä¾›ä¸Šæµ·æœªæ¥å‡ å¤©çš„å¤©æ°”æƒ…å†µï¼Œä»¥ä¾¿æ‚¨é€‰æ‹©åˆé€‚çš„è¡£ç‰©ã€‚
2. **åœ°å›¾ä¸“å®¶ï¼ˆmap_agentï¼‰** - æ¨èä¸Šæµ·çš„æ™¯ç‚¹ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ‹æ‘„ç¾ä¸½çš„ç…§ç‰‡ã€‚
3. **ç©¿è¡£ä¸“å®¶ï¼ˆdressing_agentï¼‰** - æ ¹æ®å¤©æ°”æƒ…å†µä¸ºæ‚¨æ¨èåˆé€‚çš„è£…æ‰®ã€‚

ç¨ç­‰ä¸€ä¸‹ï¼Œæˆ‘ä¼šå…ˆè°ƒç”¨å¤©æ°”ä¸“å®¶è·å–ä¸Šæµ·çš„å¤©æ°”æƒ…å†µã€‚
Tool Calls:
  transfer_to_weather_agent (call_07EqbGkxmHZekxs9RCNdn90x) 
Call ID: call_07EqbGkxmHZekxs9RCNdn90x
  Args:
================================= Tool <span class="hljs-attr">Message</span> =================================
Name: transfer_to_weather_agent


â€¦â€¦
ï¼ˆå®Œæ•´ä»£ç ç‚¹å‡»æ–‡æœ«ä¸‹æ–¹â€œé˜…è¯»åŸæ–‡â€æŸ¥çœ‹ï¼‰
</code></pre>
<p>ä»ä»£ç å¯ä»¥çœ‹å‡ºlanggraphçš„å¯è§†åŒ–è¿½è¸ªèƒ½åŠ›è¿˜æœ‰ç‚¹è–„å¼±ï¼Œå¦‚æœéœ€è¦è¾¾åˆ°OpenAI Agent SDKçš„æ•ˆæœéœ€è¦å¯ä»¥å°è¯•æ·»åŠ traceã€graphstudioæˆ–è€…langsmithè¿›è¡Œè®¾è®¡ä»¥å®ç°å¯è§†åŒ–è¿½è¸ªã€‚</p>
<h2 data-id="heading-13"><strong><strong>äº”ã€æ€»ç»“</strong></strong></h2>
<p>ä½¿ç”¨å®ŒOpenAI Agent SDK å’Œå¸‚é¢ä¸Šçš„å‡ ä¸ªæˆç†Ÿæ¡†æ¶çš„å¯¹æ¯”ï¼Œä¸ªäººè®¤ä¸ºæœªæ¥AIåº”ç”¨è‚¯å®šæ˜¯å·¥ä½œæµ+å¤šAgentçš„æ–¹å‘ã€‚å¯¹äºå·¥ä½œæµè€Œè¨€ï¼Œå°±æ˜¯è®©æˆ‘ä»¬å¿«é€Ÿæ­å»ºå‡ºæ¥ä¸€ä¸ªMVPç‰ˆæœ¬ï¼Œæ„Ÿå—ä¸‹AIå¸¦æ¥çš„æ•ˆæœåˆ°åº•å¦‚ä½•ï¼Œæ˜¯å¦èƒ½è¾¾åˆ°é¢„æœŸï¼Œä½†æ˜¯å·¥ä½œæµéšç€ä¸šåŠ¡è¿­ä»£ å¦‚ä½•æœ‰æ•ˆçš„è¿ç»´ä¹Ÿæ˜¯éœ€è¦è§£å†³çš„é—®é¢˜ã€‚ä½†æ˜¯å¯¹äºå·¥ç¨‹ç±»é¡¹ç›®ï¼Œåˆ™éœ€è¦å®šåˆ¶åŒ–çš„å¼€å‘ï¼Œè€Œä¸”ç°åœ¨çš„AIéœ€è¦åº”ç”¨åˆ°çº¿ä¸Šï¼Œéƒ¨åˆ†ä¸šåŠ¡åœºæ™¯éœ€è¦ä¿éšœç¡®å®šæ€§ï¼Œè¿™ä¸ªä½¿ç”¨OpenAI Agent SDKã€LangGrapç­‰å¼€å‘æ¡†æ¶æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-14"><strong>å…­ã€å‚è€ƒ</strong></h2>
<ol>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.github.io%2Fopenai-agents-python%2F" target="_blank" title="https://openai.github.io/openai-agents-python/" ref="nofollow noopener noreferrer">openai.github.io/openai-agenâ€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.dify.ai%2Fen%2Fintroduction" target="_blank" title="https://docs.dify.ai/en/introduction" ref="nofollow noopener noreferrer">docs.dify.ai/en/introducâ€¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.llamaindex.ai%2Fen%2Fstable%2F" target="_blank" title="https://docs.llamaindex.ai/en/stable/" ref="nofollow noopener noreferrer">docs.llamaindex.ai/en/stable/</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flangchain-ai.github.io%2Flanggraph%2Fconcepts%2Fwhy-langgraph%2F" target="_blank" title="https://langchain-ai.github.io/langgraph/concepts/why-langgraph/" ref="nofollow noopener noreferrer">langchain-ai.github.io/langgraph/câ€¦</a></p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ€§èƒ½å‘Šè­¦æƒŠå››åº§ ç¥å™¨å‡ºæ‰‹ä¼æ¶é¾™]]></title>    <link>https://juejin.cn/post/7599237603976134699</link>    <guid>https://juejin.cn/post/7599237603976134699</guid>    <pubDate>2026-01-26T08:19:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599237603976134699" data-draft-id="7595167566144045075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ€§èƒ½å‘Šè­¦æƒŠå››åº§ ç¥å™¨å‡ºæ‰‹ä¼æ¶é¾™"/> <meta itemprop="keywords" content="åç«¯,cpu"/> <meta itemprop="datePublished" content="2026-01-26T08:19:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hello_world_"/> <meta itemprop="url" content="https://juejin.cn/user/2586510420095944"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ€§èƒ½å‘Šè­¦æƒŠå››åº§ ç¥å™¨å‡ºæ‰‹ä¼æ¶é¾™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2586510420095944/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hello_world_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:19:49.000Z" title="Mon Jan 26 2026 08:19:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¾æ—§é¢˜ç›®é¡ºå£æºœï¼Œå‡†å¤‡è€ƒç ”</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72cf5f97e9124ce18f9be41c59d433b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=gQD2ORdPtvv%2FOx9UskHHbDkGgG4%3D" alt="cbfd292f99be38eec1bd3750c3b5ac656ea468cc.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>é—®é¢˜å¹´å¹´æœ‰ï¼Œä»Šå¹´ç‰¹åˆ«å¤šã€‚ä½œä¸ºä¸€ä¸ªåˆšå·¥ä½œä¸€å¹´å¤šçš„äººï¼Œæˆ‘åˆ°åº•åšäº†ä»€ä¹ˆå­½ã€‚é™¤äº†æå®šäº§å“æçš„å„ç§å¥‡æ€ªçš„éœ€æ±‚ï¼Œè¿˜è¦è§£å†³å‰äººç•™ä¸‹æ¥çš„å„ç§é—®é¢˜ï¼Œæˆ‘ä¸Šæ—©å…«ã€‚</p>
<blockquote>
<p>è¯¥é—®é¢˜å®é™…å‘ç”Ÿå¹¶è§£å†³åœ¨2025å¹´ï¼Œå¹´æœ«èµ¶KPIè¿›åº¦æ²¡æ¥å¾—åŠå†™æ€»ç»“</p>
</blockquote>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b18f3bf61edc4c77baf3088298da0180~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=Bnoh68mBr0ixIbSIosQWDYaNeGM%3D" alt="006BgMUjgy1i6b376m69qj306o06ojre.jpg" loading="lazy"/></p>
<h2 data-id="heading-1">äº‹æ•…åœºæ™¯</h2>
<p>è®©æˆ‘ä»¬æŠŠæ—¶é—´æ‹‰å›åˆ°é—®é¢˜å‘ç”Ÿçš„æ—¶é—´ã€‚è¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨2025å¹´12æœˆ29æ—¥ä¸‹åˆ3ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9754fe03d2414bf8971f49b742f5dcb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=GS5O84NtYTeuUTtHY6vz04Igjbc%3D" alt="image.png" loading="lazy"/>
æ”¶åˆ°å‘Šè­¦åçš„ç¬¬ä¸€æ—¶é—´ï¼Œè™½ç„¶è¿˜æœªæ’æŸ¥å‡ºæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„é—®é¢˜ã€‚ç¬¬ä¸€æ—¶é—´å¯¹æœåŠ¡è¿›è¡Œäº†æ‰©å®¹æ“ä½œï¼Œé¿å…é—®é¢˜è¿›ä¸€æ­¥æ‰©æ•£ã€‚åœ¨å®Œæˆæ‰©å®¹åï¼Œå‘Šè­¦éšå³æ¢å¤ã€‚åœ¨æ¢å¤ä¹‹åæœ¬æƒ³ç€å¯èƒ½å°±æ˜¯æ­£å¸¸çš„æµé‡æ³¢åŠ¨é€ æˆçš„ã€‚åœ¨åç»­æ—¶é—´é‡Œï¼Œè¯¥æœåŠ¡è¿˜æ˜¯ä¼šå¶å°”æŠ¥å‡ºCPUé˜ˆå€¼å‘Šè­¦ã€‚å°¤å…¶åœ¨å‘¨æœ«ï¼Œå…³äºCPUé˜ˆå€¼å‘Šè­¦æ›´åŠ é¢‘ç¹ã€‚CPUä½¿ç”¨ç‡æœ€é«˜å¯è¾¾90%ä»¥ä¸Š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7bd39849a024905b8fa9ddc86ec003e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=qjduD9wdFMBO8G80Qtufz49hbRA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">å¤šç»´åº¦æ’æŸ¥</h2>
<p>åœ¨å‘ç”Ÿå‘Šè­¦åï¼Œè™½ç„¶ç¬¬ä¸€æ—¶é—´é‡‡å–äº†å¤„ç†æªæ–½ï¼Œä½†æ˜¯å¹¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆå…·ä½“åŸå› å¯¼è‡´çš„CPUçªç„¶å¢é«˜ã€‚éšå³æˆ‘å¯¹è¯¥æœåŠ¡è¿›è¡Œäº†å¤šç»´åº¦çš„æ’æŸ¥ã€‚</p>
<h3 data-id="heading-3">ä»£ç ç»´åº¦</h3>
<p>é¦–å…ˆï¼Œä»ä»£ç ç»´åº¦åˆ†æCPUå‘Šè­¦æ˜¯å¦æ˜¯æœ‰ä»£ç ä¸­å­˜åœ¨ä¸åˆç†çš„ä»£ç é€»è¾‘é€ æˆç¨‹åºå‡ºç°å¤§é‡è®¡ç®—é€»è¾‘ï¼ˆå¦‚ï¼šæ­»å¾ªç¯ã€é”ç«äº‰ç­‰ï¼‰ã€‚</p>
<p>é¦–å…ˆåˆ†æä»£ç æ˜¯å¦å­˜åœ¨æ­»å¾ªç¯ã€‚æ ¹æ®å‘Šè­¦å‰å‘å¸ƒçš„ä»£ç ä»¥åŠCPUå˜åŒ–æ›²çº¿åˆ†æï¼Œå¦‚æœä»£ç ä¸­å­˜åœ¨æ­»å¾ªç¯ï¼Œé‚£ä¹ˆå½“æ­»å¾ªç¯è§¦å‘åï¼ŒCPUåˆ©ç”¨ç‡å°†ç»´æŒåœ¨ä¸€ä¸ªè¾ƒé«˜æ°´å¹³æˆ–ä¸æ–­å‡é«˜ï¼Œå¹¶ä¸ä¼šå‡ºç°CPUåˆ©ç”¨ç‡é™ä½çš„æƒ…å†µå‡ºç°ã€‚æ‰€ä»¥å¯æ’æŸ¥æ˜¯å› ä»£ç æ­»å¾ªç¯é—®é¢˜å¯¼è‡´çš„CPUåˆ©ç”¨ç‡å‡é«˜ã€‚</p>
<p>ä½¿ç”¨<strong>jstack</strong>ã€<strong>jstat</strong>å·¥å…·æŸ¥çœ‹å¯¹åº”çº¿ç¨‹ä¸­é”ç«äº‰æƒ…å†µ</p>
<p>jstackçº¿ç¨‹åˆ†æ</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># 1. è·å–ç›®æ ‡Javaè¿›ç¨‹ID </span>
jps -l 
<span class="hljs-comment"># 2. å¯¼å‡ºçº¿ç¨‹æ ˆï¼ˆæ¯éš”5ç§’å¯¼å‡ºä¸€æ¬¡ï¼Œå…±3æ¬¡ï¼Œå¯¹æ¯”é”çŠ¶æ€ï¼‰ </span>
jstack çº¿ç¨‹<span class="hljs-built_in">id</span> &gt; thread-1.log 
<span class="hljs-built_in">sleep</span> 5 
jstack çº¿ç¨‹<span class="hljs-built_in">id</span> &gt; thread-2.log 
<span class="hljs-built_in">sleep</span> 5 
jstack çº¿ç¨‹<span class="hljs-built_in">id</span> &gt; thread-3.log
</code></pre>
<p>jstaté”åˆ†æ</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># æŸ¥çœ‹é”ç«äº‰ç›¸å…³ç»Ÿè®¡ï¼ˆæ¯1ç§’è¾“å‡ºä¸€æ¬¡ï¼Œå…±10æ¬¡ï¼‰ </span>
jstat -s çº¿ç¨‹<span class="hljs-built_in">id</span> 1000 10
</code></pre>
<p>æ ¹æ®<strong>jstack</strong>ã€<strong>jstat</strong>å·¥å…·çš„æ‰§è¡Œç»“æœåˆ†æï¼Œé”ç«äº‰çš„æƒ…å†µä¸€ç›´å­˜åœ¨ï¼Œè€Œä¸”åœ¨æŒç»­çš„æ­£å¸¸æµé‡ä¸­é”ç«äº‰æƒ…å†µç›¸å½“ä¿æŒç¨³å®šï¼Œä¸ä¼šæœ‰æ˜æ˜¾çš„å‡é«˜æˆ–é™ä½ã€‚æ‰€ä»¥å¯ä»¥æ’é™¤å› ä¸ºé”ç«äº‰å¯¼è‡´CPUå‡é«˜çš„åŸå› ã€‚</p>
<h3 data-id="heading-4">æµé‡ç»´åº¦</h3>
<p>åœ¨æ’é™¤å› ä¸ºä»£ç ç»´åº¦å¯¼è‡´CPUå‡é«˜çš„ä¹‹åï¼Œé—®é¢˜æ’æŸ¥æš‚æ—¶é™·å…¥äº†åœæ»ã€‚æˆ‘åˆé‡æ–°å›é¡¾äº†è¯¥æœåŠ¡æœ€è¿‘çš„å˜æ›´ï¼Œå‘ç°äº†å¯èƒ½æ˜¯å¯¼è‡´CPUå‡é«˜çš„ä¸€ä¸ªé‡è¦åŸå› â€”â€”<strong>æµé‡å‡é«˜</strong>ã€‚åœ¨å‘ç”ŸCPUå‘Šè­¦å‰ï¼Œè¯¥æœåŠ¡æ¥å…¥äº†ä¸€ä¸ªæ–°çš„ä¸šåŠ¡ï¼Œä½¿å¾—æ ¸å¿ƒæ¥å£çš„æµé‡å­˜åœ¨æ˜æ˜¾å¢å¤§ã€‚æ—¥å‡è°ƒç”¨é‡å°†ä¼šå¢åŠ 50Wä»¥ä¸Šã€‚</p>
<p>è¿›ä¸€æ­¥å¯¹æµé‡è¿›è¡Œåˆ†æå‘ç°ï¼Œè¯¥æœåŠ¡è°ƒç”¨é‡å¢å¹…å·²è¾¾åˆ°40%ã€‚æ­¤æ—¶ï¼Œä¼¼ä¹å·²ç»æ‰¾åˆ°äº†é€ æˆCPUå‡é«˜çš„å…ƒå‡¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dba34cee97404888850b6744fbaa217d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=kRgfYMpX%2BWJK%2BTr%2FV241Bw9FPyk%3D" alt="s_a4e3b2bc9c4f4da68697fd0071dcbf15.jpg" loading="lazy"/></p>
<p>æœ¬è¯¥çš†å¤§æ¬¢å–œï¼Œä½†åœ¨åç»­è¿›ä¸€æ­¥æ’æŸ¥æ—¶ï¼Œå‘ç°ä¸‡é‡Œé•¿å¾è¿˜è¿œæ²¡ç»“æŸã€‚</p>
<p>åœ¨æŸ¥çœ‹æ¥å…¥æ–°ä¸šåŠ¡å‰ï¼Œè¯¥æœåŠ¡CPUåˆ©ç”¨ç‡çš„æƒ…å†µã€‚å‘ç°åœ¨æ¥å…¥å‰ï¼Œè¯¥æœåŠ¡CPUåˆ©ç”¨ç‡è™½ç„¶æ²¡æœ‰è¾¾åˆ°å‘Šè­¦é˜ˆå€¼ï¼Œä½†å…¶CPUåˆ©ç”¨ç‡ä¹Ÿå¤„äºè¾ƒé«˜çš„æ°´å¹³ï¼ˆæœ€é«˜å¯è¾¾50%ï¼‰ã€‚è¯¥CPUåˆ©ç”¨ç‡ç»“åˆæµé‡è°ƒç”¨ä»¥åŠä¸šåŠ¡å¤„ç†å¹¶ä¸å­˜åœ¨å¤§é‡è®¡ç®—æƒ…å†µã€‚è¯¥è°ƒç”¨é‡ä¸åº”è¯¥å­˜åœ¨å¦‚æ­¤é«˜çš„CPUåˆ©ç”¨ç‡ã€‚</p>
<p>ç»¼åˆä»¥ä¸Šä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæµé‡çš„å¢åŠ å¹¶ä¸æ˜¯å¯¼è‡´CPUåˆ©ç”¨ç‡å‡é«˜çš„æ ¹æœ¬åŸå› ï¼Œä½†æµé‡å¢åŠ ä¸€å®šç¨‹åº¦å¯¼è‡´äº†CPUåˆ©ç”¨ç‡çš„å‡é«˜ã€‚</p>
<blockquote>
<p>åœ¨è¿›ä¸€æ­¥åˆ†ææ—¶ï¼Œå‘ç°2ä¸ªé›†ç¾¤çš„æœºå™¨è´Ÿè½½å‡è¡¡ç›¸ç­‰çš„æƒ…å†µä¸‹CPUåˆ©ç”¨ç‡æœ‰æ˜¾è‘—å·®å¼‚ã€‚è”ç³»ç›¸å…³è¿ç»´äººå‘˜åï¼Œå¾—çŸ¥é›†ç¾¤Açš„æœºå™¨æ€§èƒ½æœ¬å°±ä¸åŠé›†ç¾¤Bï¼Œåœ¨æµé‡å‡é«˜çš„æƒ…å†µä¸‹æ›´åŠ æ˜¾è‘—ã€‚</p>
</blockquote>
<h3 data-id="heading-5">JVMç»´åº¦</h3>
<p>é—®é¢˜æ’æŸ¥è¿›åº¦å†æ¬¡é™·å…¥äº†åœæ»ã€‚ä»ä»£ç å±‚é¢ã€è°ƒç”¨æƒ…å†µéƒ½æ— æ³•æ’æŸ¥å‡ºå¯¼è‡´CPUå‡é«˜çš„åŸå› ã€‚åªèƒ½å†è¿›ä¸€æ­¥æ·±æŒ–æ·±å±‚å†…å®¹ã€‚Javaç¨‹åºä»€ä¹ˆæ˜¯æœ€æ·±å±‚çš„æŠ€æœ¯â€”â€”â€”<strong>JVM</strong>ã€‚</p>
<p>ä¸€æƒ³åˆ°è¦ä»JVMå±‚é¢æ’æŸ¥é—®é¢˜ï¼Œå•Šï¼Ÿæˆ‘å—ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ad1614adca3424d9d981b839ae33036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=CC8js%2FVFZkpDPupeENXLALYuZLo%3D" alt="9e2cdc6569bf49239d1ebdf15ff0ed26.webp" loading="lazy"/></p>
<p>è™½ç„¶å†…å¿ƒååˆ†æŠ—æ‹’ï¼Œä½†æ˜¯ä¹Ÿä¸å¾—ä¸å¹²å•Šã€‚</p>
<p>åœ¨JVMå±‚é¢è‹¥å­˜åœ¨å¤§é‡Yong GCã€é«˜é¢‘JITç¼–è¯‘ã€é”å‡çº§ã€ç±»åŠ è½½/å¸è½½å‘ç”Ÿéƒ½ä¼šä½¿å¾—CPUåˆ©ç”¨ç‡å‡é«˜ã€‚åœ¨å®é™…ç”Ÿäº§ä¸­æ›´å¤šæ˜¯ç”±äºå¤§é‡Yong GCå¯¼è‡´çš„ã€‚</p>
<p>åœ¨æŸ¥çœ‹CPUåˆ©ç”¨ç‡å¤„äºé«˜å³°æ—¶çš„JVMè¿è¡Œæƒ…å†µï¼Œå‘ç°CPUå¤„äºæŸä¸ªå³°å€¼æ—¶ï¼Œæœºå™¨å¯¹åº”çš„JVMåŒæ—¶è¿›è¡Œäº†è¾ƒé«˜æ¬¡æ•°çš„Yong GCã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5900abc201243e0ba2f0354d450a62f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=PzVgn3IC8aK3XJ7g8JJk5wTRT9o%3D" alt="image.png" loading="lazy"/></p>
<p>ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºå¤§é‡çš„GCæ“ä½œæ˜¯ä¼šå¯¼è‡´CPUå‡é«˜çš„ã€‚ä½†æ˜¯æœ¬æ¬¡é—®é¢˜ä¸­Young GCå’ŒCPUå‡é«˜çš„å› æœå…³ç³»è¿˜éœ€è¿›ä¸€æ­¥ç¡®è®¤ã€‚è™½ç„¶CPUå¤„äºå³°å€¼æ—¶GCæ¬¡æ•°ä¹Ÿå¤„äºé«˜å³°ï¼Œä½†æ˜¯GCæ¬¡æ•°å¤„äºå¹³ç¨³æ¬¡æ•°æ—¶ï¼ŒCPUåˆ©ç”¨ç‡è™½ç„¶æ²¡æœ‰è¾¾åˆ°å³°å€¼ä½†æ˜¯ä¹Ÿå¤„äºè¾ƒé«˜æ°´å¹³ã€‚å› æ­¤ï¼Œå¯ä»¥åˆ¤æ–­å‡ºYong GCæ¬¡æ•°æ˜¯è¿›ä¸€æ­¥å¯¼è‡´CPUåˆ©ç”¨ç‡å‡é«˜çš„åŸå› ä¹‹ä¸€ï¼Œå¹¶éå¯¼è‡´CPUå‡é«˜çš„ä¸»è¦åŸå› ã€‚</p>
<h2 data-id="heading-6">ç¥å™¨å‡ºæ‰‹</h2>
<p>åœ¨é€šè¿‡ä»¥ä¸Šç»´åº¦æ’æŸ¥åï¼Œè™½ç„¶æ‰¾åˆ°äº†ä¸€äº›å¯¼è‡´CPUå‡é«˜çš„å½±å“åŸå› ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰æ’æŸ¥å‡ºCPUå‡é«˜çš„æ ¹æœ¬åŸå› ã€‚åœ¨æ­¤ä¹‹åï¼Œæ„è¯†åˆ°å¯èƒ½æ˜¯æ’æŸ¥å·¥å…·å¹¶ä¸å…¨é¢ã€‚åœ¨è¯¢é—®å¤§ä½¬åï¼Œäº†è§£åˆ°ä¸€ä¸ªç¥å™¨â€”â€”<strong>Arthas</strong>ã€‚å¯ä»¥æ›´åŠ å…¨é¢çš„åˆ†æç¨‹åºè¿è¡Œæƒ…å†µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/268fc1761ee44dee854d81bb4efafd0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=i7xuFXKqV3GiIcEITLil2y9AKn8%3D" alt="0884e955562b16803cfb2aba68bef431432d4570.jpg" loading="lazy"/></p>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Farthas.aliyun.com%2F" target="_blank" title="https://arthas.aliyun.com/" ref="nofollow noopener noreferrer">Arthaså®˜ç½‘</a>åˆæ­¥äº†è§£äº†å…¶åŸºæœ¬ç”¨æ³•åï¼Œé‡æ–°å¼€å§‹äº†CPUé—®é¢˜çš„æ’æŸ¥ã€‚</p>
<p>é¦–å…ˆï¼ŒæŸ¥çœ‹äº†æœåŠ¡è¿è¡ŒæœŸé—´CPUåˆ©ç”¨ç‡æœ€é«˜çš„çº¿ç¨‹ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">dashboard        <span class="hljs-comment"># å®æ—¶æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæƒ…å†µ</span>
thread -n 5      <span class="hljs-comment"># æŸ¥çœ‹CPUåˆ©ç”¨ç‡æœ€é«˜çš„5ä¸ªçº¿ç¨‹</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f40ca3834234a9296833e5276bbc968~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=kl6ml8RrCN8GfqYRvb3es%2BD8Rrg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd69f7894c14c38b142a33a459b0bee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=8gNd96aTToqMvozeUco3CtpmtXI%3D" alt="image.png" loading="lazy"/></p>
<p>æ ¹æ®ä»¥ä¸Šæƒ…å†µï¼ŒåŸºæœ¬å¯ä»¥åˆ¤æ–­æ˜¯ç¨‹åºä¸­ä¸šåŠ¡ä»£ç å¯¼è‡´çš„CPUåˆ©ç”¨ç‡å‡é«˜çš„ã€‚</p>
<p>è¿›ä¸€æ­¥å¯¹ä¸šåŠ¡çº¿ç¨‹è¿›è¡Œåˆ†æ</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å¦‚æœå‘ç°æŸä¸ªçº¿ç¨‹CPUè¿‡é«˜ï¼ŒæŸ¥çœ‹å…¶å †æ ˆ</span>
thread &lt;é«˜CPUçº¿ç¨‹ID&gt;

<span class="hljs-comment"># ç›‘æ§è¯¥çº¿ç¨‹ä¸€æ®µæ—¶é—´</span>
thread -i 2000 &lt;çº¿ç¨‹ID&gt;

<span class="hljs-comment"># ç”Ÿæˆæ€§èƒ½æŠ¥å‘Šè¿›ä¸€æ­¥åˆ†æ</span>
profiler start
<span class="hljs-comment"># ç­‰å¾…10ç§’</span>
profiler stop --format html
</code></pre>
<p>åœ¨å¾—åˆ°ä¸šåŠ¡çº¿ç¨‹ç«ç„°å›¾åï¼Œä¸çŸ¥å¥½æ­¹çš„æˆ‘å±…ç„¶ç›´æ¥å¯¹ç«ç„°å›¾è¿›è¡Œåˆ†æï¼Œä¸ºä»€ä¹ˆè¯´æˆ‘ä¸çŸ¥å¥½æ­¹ï¼Œè¯·çœ‹VCR</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62fb5593658f4465998bb3a07059dfe1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=P1i8GayJ1udbVFH35SENA7YbYOU%3D" alt="image.png" loading="lazy"/>
è¿™ä¸ªæ˜¯äººèƒ½åˆ†æçš„å—ï¼Ÿæœæ–­æ‰”ç»™AIå¸®æˆ‘åˆ†æï¼Œç»™å‡ºä¸€ä¸ªåˆæ­¥ç»“è®ºã€‚ç„¶åæˆ‘åœ¨é’ˆå¯¹æ€§åˆ†æã€‚AIå¾—åˆ°çš„åˆæ­¥ç»“è®ºã€‚</p>
<ul>
<li>å­˜åœ¨å¤§é‡æ•°æ®è½¬æ¢æ“ä½œ</li>
<li>é«˜é¢‘è°ƒç”¨Jackson JSONåºåˆ—åŒ–/ååºåˆ—åŒ–æ“ä½œ</li>
</ul>
<p>ä»¥ä¸Š2ä¸ªæ“ä½œæ˜¯ä¸»è¦æ ¸å¿ƒå½±å“ã€‚åœ¨äº†è§£åˆ°è¿™2ä¸ªæ ¸å¿ƒåŸå› åï¼Œå¯¹äºç«ç„°å›¾çš„åˆ†æä¾¿å°‘äº†å¾ˆå¤šç¹ççš„æ“ä½œã€‚è¿›ä¸€æ­¥åˆ†æå¾—åˆ°ï¼Œåœ¨ä¸šåŠ¡ä»£ç ä¸­ä»¥ä¸‹è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å æ®CPUæ—¶é•¿è¾ƒé«˜</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7737d97d12d0404eb3f906abc1690c96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=X%2FvU7y%2Ft3aUs%2FiuoSIYnqRtePBY%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨å¯¹è¯¥æ–¹æ³•ä¸šåŠ¡ä»£ç åˆ†æè¿‡ç¨‹ä¸­å‘ç°ï¼Œè¯¥æ–¹æ³•çš„ä¸šåŠ¡åŠŸèƒ½æ˜¯è°ƒç”¨å¦ä¸€ä¸ªæœåŠ¡çš„æ¥å£è·å–æ•°æ®ã€‚ç…§å¸¸æ¥è¯´è¿™ä¸ªæ¥å£è°ƒç”¨å±äºIOæ“ä½œï¼Œå¹¶ä¸ä¼šæ˜¯CPUå‡é«˜ã€‚ä½†æ˜¯æ·±æŒ–ä»£ç åå‘ç°ï¼Œè¯¥æ¥å£è™½ç„¶æ˜¯ç½‘ç»œIOæ“ä½œï¼Œä½†æ˜¯åœ¨å¾—åˆ°è°ƒç”¨ç»“æœï¼ˆMapï¼‰åï¼Œä¼šååºåˆ—åŒ–ä¸ºç‰¹å®šå¯¹è±¡ï¼Œè¯¥æ“ä½œä¼šä½¿å¾—CPUå‡é«˜ã€‚</p>
<p>æ­¤å¤–ï¼Œåœ¨åˆ†æç«ç„°å›¾è¿‡ç¨‹ä¸­ï¼Œè¿˜å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå­˜åœ¨ä¸€ä¸ªå·¥å…·ç±»çš„å¤§é‡è°ƒç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5875dd7d13ae446a9dba7e456e3e82d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=%2FHoyC2hSwpvpgr7qmMSma0N4J4g%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨åˆ†æå‡ºä»¥ä¸Š2ä¸ªä»£ç é—®é¢˜åï¼Œå¼€å§‹ç€æ‰‹è§£å†³è¿™2ä¸ªä»£ç é—®é¢˜é€ æˆçš„å½±å“ã€‚é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯åŠ ç¼“å­˜ï¼Œé¿å…é‡å¤æ•°æ®å¤šæ¬¡è¿ç®—ã€‚ä½†æ˜¯å›¢é˜Ÿä¸­ä½¿ç”¨çš„ç¼“å­˜ç»„ä»¶æ˜¯å›¢é˜Ÿå†…è‡ªå»ºçš„ã€‚è€Œä¸”ä»£ç ä¸­ä»£ç é—®é¢˜1çš„è°ƒç”¨å­˜åœ¨éƒ¨åˆ†ä»£ç ä½¿ç”¨äº†ç¼“å­˜ï¼Œç„¶è€Œå…¶CPUåˆ©ç”¨ç‡å¹¶æ²¡æœ‰å¾—åˆ°é™ä½ã€‚</p>
<p>åœ¨è¿›ä¸€æ­¥å¯¹å›¢é˜Ÿä¸­ç¼“å­˜ç»„ä»¶ä»£ç åˆ†ææ—¶å‘ç°ï¼Œåœ¨ç¼“å­˜ç»„ä»¶ä¸­å­˜åœ¨å¤§é‡ä»£ç é—®é¢˜2çš„å·¥å…·ç±»æ–¹æ³•è°ƒç”¨ã€‚è¯¥å·¥å…·ç±»ä»£ç å¤§è‡´å¦‚ä¸‹</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">parseObject</span><span class="hljs-params">(String json, TypeReference&lt;T&gt; type)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
        configObjectMapper(objectMapper);
        <span class="hljs-keyword">return</span> objectMapper.readValue(json, type);
    } <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FmsFastjsonIOException</span>(e);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">parseObject</span><span class="hljs-params">(String json, Class&lt;T&gt; clazz)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
        configObjectMapper(objectMapper);
        <span class="hljs-keyword">return</span> objectMapper.readValue(json, clazz);
    } <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FmsFastjsonIOException</span>(e);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">toJSONString</span><span class="hljs-params">(Object object)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
            configObjectMapper(objectMapper);
            <span class="hljs-keyword">return</span> objectMapper.writeValueAsString(object);
        } <span class="hljs-keyword">catch</span> (JsonProcessingException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FmsFastjsonIOException</span>(e);
        }
    }
</code></pre>
<p>ä»¥ä¸Šä»…åˆ—ä¸¾äº†å‡ ä¸ªæ–¹æ³•ï¼Œè¯¥å·¥å…·ç±»çš„æœ¬è´¨æ˜¯åŒ…è£…äº†Jacksonåºåˆ—åŒ–/ååºåˆ—åŒ–çš„ä»£ç è¿›è¡Œç»Ÿä¸€è°ƒç”¨ã€‚ä»¥ä¸Šä»£ç çœ‹ä¼¼ç¬¦åˆä¸šåŠ¡éœ€æ±‚ã€‚ä½†æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡æ–¹æ³•è°ƒç”¨éƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ObjectMapperå¯¹è±¡ã€‚è¿™å°±ä½¿å¾—å…¶åº•å±‚è¿›è¡Œåºåˆ—åŒ–/ååºåˆ—åŒ–çš„æ—¶å€™ï¼Œè¦é‡æ–°ç”Ÿæˆå¯¹åº”çš„åºåˆ—åŒ–å™¨å/åºåˆ—åŒ–å™¨ã€‚åœ¨æµé‡é«˜å³°æœŸé—´è¯¥æ“ä½œä¼šåå¤æ‰§è¡Œå°±ä¼šå¯¼è‡´CPUåˆ©ç”¨ç‡å‡é«˜ã€‚åˆ†æåˆ°è¿™é‡Œï¼Œé—®é¢˜å°±æ˜æ™°äº†ã€‚ä¸Šè¿°åˆ†æåˆ°ä»£ç é—®é¢˜1ä½¿ç”¨äº†ç¼“å­˜ç»„ä»¶ï¼Œä½†æ˜¯ç¼“å­˜ç»„ä»¶ä½¿ç”¨äº†ä¸åˆé€‚çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç ï¼Œä½¿å¾—å³ä¾¿ä½¿ç”¨äº†ç¼“å­˜ç»„ä»¶è¿˜æ˜¯ä¼šä½¿CPUåˆ©ç”¨ç‡å‡é«˜ï¼›ä»£ç é—®é¢˜2å·¥å…·ç±»çš„ä½¿ç”¨è‡³ä»Šä½¿ç”¨äº†ä¸åˆé€‚çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç ï¼ŒåŒæ ·ä¹Ÿå¯¼è‡´äº†CPUåˆ©ç”¨ç‡çš„å‡é«˜ã€‚</p>
<p>åˆ†æåˆ°è¿™é‡Œé—®é¢˜å·²ç»æ˜ç¡®äº†ï¼Œå›¢é˜Ÿä¸­å¯¹åºåˆ—åŒ–/ååºåˆ—åŒ–ä»£ç çš„ä¸æ­£ç¡®ä½¿ç”¨å¯¼è‡´äº†æœåŠ¡CPUåˆ©ç”¨ç‡çš„å‡é«˜ã€‚</p>
<blockquote>
<p>åœ¨Jacksonåº•å±‚ä»£ç ä¸­ï¼Œåºåˆ—åŒ–/ååºåˆ—åŒ–æ˜¯é‡‡å–äº†ç¼“å­˜ç­–ç•¥çš„ã€‚è¯¥ç¼“å­˜å¹¶éç¼“å­˜æ•´ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯å¯¹è±¡ç±»å‹åŠå…¶å¯¹åº”çš„åºåˆ—åŒ–å™¨/ååºåˆ—åŒ–å™¨ã€‚æ— éœ€å†æ¬¡ç”Ÿæˆè¿›è€Œé™ä½äº†CPUåˆ©ç”¨ç‡</p>
</blockquote>
<h2 data-id="heading-7">é—®é¢˜è§£å†³</h2>
<p>åœ¨åˆ†æå‡ºCPUåˆ©ç”¨ç‡å‡é«˜çš„æ ¹æœ¬é—®é¢˜åï¼Œå‰©ä¸‹çš„å·¥ä½œå°±æ˜¯è§£å†³åºåˆ—åŒ–/ååºåˆ—åŒ–çš„ä»£ç é—®é¢˜ã€‚è¯¥é—®é¢˜è§£å†³èµ·æ¥ä¹Ÿååˆ†ç®€å•ï¼Œåªéœ€è¦è°ƒç”¨åºåˆ—åŒ–/ååºåˆ—åŒ–æ“ä½œæ˜¯ï¼Œä½¿ç”¨åŒä¸€ä¸ªObjectMapperå¯¹è±¡å³å¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> ObjectMapper MAPPER;


<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ObjectMapper <span class="hljs-title function_">getStaticMapper</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (MAPPER == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">synchronized</span> (JacksonUtil.class) {
            <span class="hljs-keyword">if</span> (MAPPER == <span class="hljs-literal">null</span>) {
                <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">tempMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
                <span class="hljs-comment">// ç¦ç”¨ç©ºBeanåºåˆ—åŒ–æ—¶çš„å¤±è´¥</span>
                tempMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, <span class="hljs-literal">false</span>);
                <span class="hljs-comment">// å¿½ç•¥nullå€¼ï¼Œåªåºåˆ—åŒ–énullå­—æ®µï¼ˆå¯é€‰ï¼Œæ ¹æ®éœ€æ±‚è°ƒæ•´ï¼‰</span>
                tempMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
                <span class="hljs-comment">// å¦‚æœéœ€è¦å¤„ç†æœªçŸ¥å±æ€§ï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹é…ç½®</span>
                tempMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, <span class="hljs-literal">false</span>);
                MAPPER = tempMapper;
            }
        }
    }
    <span class="hljs-keyword">return</span> MAPPER;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Map&lt;String, T&gt; <span class="hljs-title function_">objectToMap</span><span class="hljs-params">(Object object)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">staticMapper</span> <span class="hljs-operator">=</span> getStaticMapper();
        <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> staticMapper.writeValueAsString(object);
        <span class="hljs-keyword">return</span> staticMapper.readValue(json, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeReference</span>&lt;HashMap&lt;String, T&gt;&gt;() {});
    } <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FmsFastjsonIOException</span>(e);
    }
}
</code></pre>
<p>ä¿®æ”¹å®Œä»£ç åï¼ŒæŸ¥çœ‹ä»£ç è¿è¡Œæƒ…å†µã€‚åœ¨ç›¸åŒæ—¶é—´æ®µï¼Œè¯¥æœåŠ¡CPUåˆ©ç”¨ç‡å¾—åˆ°äº†å¤§å¹…é™ä½ï¼Œé™å¹…è¾¾50%ä»¥ä¸Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4d8ef5904ba441fbcb68034ca5a1959~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGVsbG9fd29ybGRf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770020389&amp;x-signature=hajCOjSap7k%2BxNUbngZQcRlmCYI%3D" alt="image.png" loading="lazy"/>
ä»ç»“æœæ¥çœ‹ï¼Œè¿™æ¬¡ä»£ç ä¼˜åŒ–æ˜¯æˆåŠŸçš„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[8.BTC-æŒ–çŸ¿-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°]]></title>    <link>https://juejin.cn/post/7599268297223897098</link>    <guid>https://juejin.cn/post/7599268297223897098</guid>    <pubDate>2026-01-26T08:32:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599268297223897098" data-draft-id="7599166436684415022" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="8.BTC-æŒ–çŸ¿-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯,åŒºå—é“¾"/> <meta itemprop="datePublished" content="2026-01-26T08:32:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¶‚æ¶‚"/> <meta itemprop="url" content="https://juejin.cn/user/3740972207312249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            8.BTC-æŒ–çŸ¿-åŒ—å¤§è‚–è‡»è€å¸ˆå®¢å ‚ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3740972207312249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¶‚æ¶‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:32:45.000Z" title="Mon Jan 26 2026 08:32:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ®µè§†é¢‘æ˜¯ã€ŠåŒºå—é“¾æŠ€æœ¯ä¸åº”ç”¨ã€‹ç¬¬ 08 è®²â€œBTC æŒ–çŸ¿â€çš„å†…å®¹ï¼Œé‡ç‚¹è®²æ¸…æ¥šï¼šä»€ä¹ˆæ˜¯å…¨èŠ‚ç‚¹ã€çŸ¿å·¥å…·ä½“åšä»€ä¹ˆã€æŒ–çŸ¿æµç¨‹å’Œç­–ç•¥ï¼Œä»¥åŠå’Œå‰é¢â€œéš¾åº¦ã€å·¥ä½œé‡è¯æ˜â€çš„å…³ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…¨èŠ‚ç‚¹çš„èŒè´£</h2>
<p>è§†é¢‘å…ˆä»â€œå…¨èŠ‚ç‚¹â€è¯´èµ·ï¼Œè¯´æ˜ä»€ä¹ˆæ ·çš„èŠ‚ç‚¹æ‰ç®—æ¯”ç‰¹å¸ç³»ç»Ÿä¸­çš„å…¨èŠ‚ç‚¹ã€‚</p>
<ul>
<li>ä¸€ç›´åœ¨çº¿ï¼šé•¿æ—¶é—´è¿è¡Œç¨‹åºã€å‚ä¸ç½‘ç»œåè®®ã€æŒç»­æ”¶å‘åŒºå—å’Œäº¤æ˜“ã€‚</li>
<li>æœ¬åœ°ç»´æŠ¤å®Œæ•´åŒºå—é“¾ï¼šç£ç›˜é‡Œä¿å­˜ä»åˆ›ä¸–åŒºå—åˆ°å½“å‰é«˜åº¦çš„å…¨éƒ¨åŒºå—æ•°æ®ã€‚</li>
<li>ç»´æŠ¤ UTXO é›†åˆï¼šåœ¨å†…å­˜ä¸­ç»´æŠ¤å½“å‰â€œæœªèŠ±è´¹è¾“å‡ºé›†åˆâ€ï¼ˆUTXO setï¼‰ï¼Œç”¨æ¥å¿«é€ŸéªŒè¯è½¬è´¦æ˜¯å¦çœŸçš„æœ‰é’±å¯èŠ±ã€‚UTXO æ˜¯æ£€æµ‹åŒèŠ±ï¼ˆdouble spendingï¼‰çš„å…³é”®æ•°æ®ç»“æ„ã€‚</li>
<li>ç›‘å¬å¹¶éªŒè¯äº¤æ˜“ï¼šä» P2P ç½‘ç»œä¸­æ¥æ”¶äº¤æ˜“ï¼Œå¯¹ç­¾åã€ä½™é¢ã€æ ¼å¼ç­‰åšåˆæ³•æ€§æ£€æŸ¥ï¼Œä¸¢å¼ƒéæ³•äº¤æ˜“ã€‚</li>
<li>å†³å®šæ‰“åŒ…å“ªäº›äº¤æ˜“ï¼šæŠŠåˆæ³•äº¤æ˜“æ”¾å…¥æœ¬åœ°çš„äº¤æ˜“æ± ï¼ˆmempoolï¼‰ï¼Œå†ä»ä¸­æŒ‘é€‰äº¤æ˜“å‡†å¤‡æ‰“åŒ…è¿›æ–°åŒºå—ï¼Œä¸€èˆ¬ä¼˜å…ˆæ‰‹ç»­è´¹é«˜çš„äº¤æ˜“ã€‚</li>
<li>ç›‘å¬å¹¶éªŒè¯åŒºå—ï¼šæ”¶åˆ°å…¶ä»–çŸ¿å·¥æŒ–å‡ºçš„æ–°åŒºå—åï¼Œæ£€æŸ¥åŒºå—å¤´ã€å·¥ä½œé‡è¯æ˜ï¼ˆéš¾åº¦ç›®æ ‡ï¼‰ã€åŒºå—å†…æ‰€æœ‰äº¤æ˜“æ˜¯å¦åˆæ³•ï¼Œå†³å®šæ˜¯å¦æ¥å—è¿™ä¸ªåŒºå—å¹¶æ¥åˆ°å½“å‰æœ€é•¿åˆæ³•é“¾ä¸Šã€‚
å…¨èŠ‚ç‚¹æ˜¯â€œè§„åˆ™çš„æ‰§è¡Œè€…å’Œè£åˆ¤â€ï¼Œå“ªæ€•ä¸æŒ–çŸ¿ï¼Œåªè¦è¿è¡Œå…¨èŠ‚ç‚¹å°±èƒ½å¸®åŠ©ç½‘ç»œä¸€èµ·ç»´æŠ¤åè®®çš„æ­£ç¡®æ€§ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€çŸ¿å·¥åœ¨å…¨èŠ‚ç‚¹åŸºç¡€ä¸Šçš„é¢å¤–å·¥ä½œ</h2>
<p>çŸ¿å·¥æœ¬è´¨ä¸Šæ˜¯â€œå¸¦æŒ–çŸ¿åŠŸèƒ½çš„å…¨èŠ‚ç‚¹â€ï¼Œåœ¨æ™®é€šå…¨èŠ‚ç‚¹çš„åŸºç¡€ä¸Šï¼Œå¤šåšäº†å‡ ä»¶äº‹ã€‚</p>
<ul>
<li>é€‰æ‹©è¦å»¶é•¿å“ªæ¡é“¾ï¼š
<ul>
<li>å½“å­˜åœ¨å¤šæ¡åˆæ³•é“¾åˆ†æ”¯æ—¶ï¼ŒçŸ¿å·¥æŒ‰ç…§â€œæœ€é•¿åˆæ³•é“¾â€åŸåˆ™é€‰æ‹©ä¸€ä¸ªåˆ†æ”¯ä½œä¸ºå½“å‰ä¸»é“¾çš„æœ«å°¾ï¼Œåœ¨è¯¥é“¾å°¾éƒ¨ç»§ç»­æŒ–æ–°åŒºå—ã€‚</li>
</ul>
</li>
<li>æ„é€ å€™é€‰åŒºå—ï¼š
<ul>
<li>ä»æœ¬åœ° UTXO å’Œ mempool ä¸­æŒ‘å‡ºä¸€æ‰¹äº¤æ˜“ï¼Œç»„åˆæˆä¸€ä¸ªå®Œæ•´åŒºå—ï¼ˆåŒºå—å¤´ + åŒºå—ä½“ï¼‰ï¼Œå¹¶åœ¨åŒºå—ä½“ä¸­åŠ å…¥ä¸€ç¬”â€œé“¸å¸äº¤æ˜“â€ï¼ˆcoinbaseï¼‰ï¼ŒæŠŠåŒºå—å¥–åŠ±å’Œæ‰‹ç»­è´¹æ‰“ç»™è‡ªå·±æ§åˆ¶çš„åœ°å€ã€‚</li>
</ul>
</li>
<li>åšå·¥ä½œé‡è¯æ˜ï¼ˆPoWï¼‰ï¼š
<ul>
<li>ä¸æ–­ä¿®æ”¹åŒºå—å¤´ä¸­çš„éšæœºæ•°ï¼ˆnonceï¼‰æˆ–å…¶ä»–å¯è°ƒå­—æ®µï¼Œåå¤è®¡ç®—åŒºå—å¤´å“ˆå¸Œï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå°äºå½“å‰éš¾åº¦ç›®æ ‡çš„å“ˆå¸Œå€¼ï¼Œå³å®ŒæˆæŒ–çŸ¿ã€‚</li>
</ul>
</li>
</ul>
<p>å› æ­¤ï¼ŒçŸ¿å·¥çš„æ ¸å¿ƒä»»åŠ¡å¯ä»¥æ¦‚æ‹¬ä¸ºä¸¤æ­¥ï¼š<br/>
1ï¼‰é€‰é“¾ï¼›2ï¼‰åœ¨æ‰€é€‰é“¾ä¸Šæ„é€ åˆæ³•åŒºå—å¹¶åš PoW è®¡ç®—ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€æŒ–çŸ¿çš„å…·ä½“æµç¨‹</h2>
<p>è§†é¢‘å¯¹â€œçŸ¿å·¥ä»æ¥æ”¶äº¤æ˜“åˆ°æŒ–å‡ºåŒºå—â€çš„è¿‡ç¨‹åšäº†è¾ƒå®Œæ•´çš„ä¸²è”ã€‚</p>
<ol>
<li>
<p>æ¥æ”¶äº¤æ˜“å¹¶å­˜å…¥ mempool</p>
<ul>
<li>çŸ¿å·¥èŠ‚ç‚¹ä»ç½‘ç»œæ¥æ”¶äº¤æ˜“ï¼Œå¯¹æ¯ç¬”äº¤æ˜“åšå®Œæ•´éªŒè¯ï¼ˆç­¾åã€ä½™é¢ã€æ ¼å¼ç­‰ï¼‰ï¼Œåˆæ³•çš„æ”¾å…¥æœ¬åœ°äº¤æ˜“æ± ï¼Œéæ³•çš„ç›´æ¥ä¸¢å¼ƒï¼Œä¸å†è½¬å‘ã€‚</li>
</ul>
</li>
<li>
<p>å†³å®šåŒºå—å†…å®¹</p>
<ul>
<li>æŒ‰ä¸€å®šç­–ç•¥ï¼ˆä¸€èˆ¬æ˜¯ä¼˜å…ˆæ‰‹ç»­è´¹æ›´é«˜çš„äº¤æ˜“ï¼‰ä» mempool ä¸­é€‰å‡ºä¸€æ‰¹äº¤æ˜“ï¼Œæ³¨æ„æ€»å¤§å°ä¸èƒ½è¶…è¿‡åŒºå—å¤§å°ä¸Šé™ã€‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_43259286%2Farticle%2Fdetails%2F132406477" target="_blank" title="https://blog.csdn.net/weixin_43259286/article/details/132406477" ref="nofollow noopener noreferrer">blog.csdn</a></li>
<li>åœ¨è¿™äº›äº¤æ˜“å‰åŠ å…¥ä¸€ç¬” coinbase äº¤æ˜“ï¼ŒæŒ‡å®šå¥–åŠ±çš„æ¥æ”¶åœ°å€ï¼ˆçŸ¿å·¥è‡ªå·±çš„åœ°å€ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>æ„é€ åŒºå—å¤´</p>
<ul>
<li>è®¾ç½®å‰ä¸€ä¸ªåŒºå—çš„å“ˆå¸Œï¼ˆæŒ‡å‘çˆ¶åŒºå—ï¼‰ã€Merkle æ ¹ã€æ—¶é—´æˆ³ã€éš¾åº¦ç›®æ ‡ç­‰å­—æ®µï¼Œå½¢æˆä¸€ä¸ªå¾…æŒ–çš„åŒºå—å¤´ã€‚</li>
</ul>
</li>
<li>
<p>æ‰§è¡Œ PoW</p>
<ul>
<li>ä¸æ–­ä¿®æ”¹ nonce æˆ–é¢å¤–å­—æ®µï¼Œé‡å¤è®¡ç®—å“ˆå¸Œï¼Œç›´åˆ°æ»¡è¶³éš¾åº¦è¦æ±‚ä¸ºæ­¢ã€‚</li>
<li>è¿™æ˜¯ä¸€ä¸ªå®Œå…¨æ¦‚ç‡æ€§çš„è¿‡ç¨‹ï¼Œç®—åŠ›è¶Šå¤§ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶å“ˆå¸Œçš„æ¦‚ç‡è¶Šé«˜ã€‚</li>
</ul>
</li>
<li>
<p>å¹¿æ’­æ–°åŒºå—</p>
<ul>
<li>æ‰¾åˆ°åˆæ³•å“ˆå¸Œåï¼ŒçŸ¿å·¥å°†æ–°åŒºå—å¹¿æ’­ç»™ç½‘ç»œä¸­å…¶ä»–èŠ‚ç‚¹ï¼Œå¯¹æ–¹éªŒè¯é€šè¿‡åï¼Œå°†è¯¥åŒºå—æ¥åˆ°å„è‡ªçš„æœ€é•¿åˆæ³•é“¾ä¸Šï¼Œå¹¶ç»§ç»­åœ¨è¿™ä¸ªæ–°åŒºå—ä¸Šå‘å‰æŒ–çŸ¿ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-3">å››ã€åˆ†æ”¯ä¸â€œæ²¿å“ªæ¡é“¾æŒ–ä¸‹å»â€çš„ç­–ç•¥</h2>
<p>è§†é¢‘å¼ºè°ƒäº†ä¸€ç‚¹ï¼šç”±äºç½‘ç»œå»¶è¿Ÿä¸æŒ–çŸ¿çš„éšæœºæ€§ï¼Œæ¯”ç‰¹å¸ç³»ç»Ÿä¸­ä¸´æ—¶å‡ºç°â€œå¤šåˆ†æ”¯â€çš„æƒ…å†µæ˜¯æ­£å¸¸ç°è±¡ã€‚</p>
<ul>
<li>åŒæ—¶æŒ–å‡ºä¸¤ä¸ªåŒºå—ï¼š
<ul>
<li>ä¸åŒçŸ¿å·¥å‡ ä¹åŒæ—¶åœ¨åŒä¸€ä¸ªé«˜åº¦æŒ–å‡ºä¸¤ä¸ªåŒºå—ï¼Œéƒ¨åˆ†èŠ‚ç‚¹å…ˆæ”¶åˆ° A åŒºå—ï¼Œéƒ¨åˆ†èŠ‚ç‚¹å…ˆæ”¶åˆ° B åŒºå—ï¼Œäºæ˜¯å½¢æˆä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„åˆæ³•åˆ†æ”¯ã€‚</li>
</ul>
</li>
<li>çŸ¿å·¥çš„ç­–ç•¥ï¼š
<ul>
<li>æ¯ä¸ªçŸ¿å·¥æ€»æ˜¯å¯¹â€œå½“å‰çœ‹åˆ°çš„æœ€é•¿åˆæ³•é“¾â€çš„æœ«å°¾è¿›è¡ŒæŒ–çŸ¿ï¼Œå³åªåœ¨è‡ªå·±è®¤ä¸ºçš„ä¸»é“¾ä¸Šç»§ç»­å»¶é•¿ã€‚</li>
</ul>
</li>
<li>åˆ†æ”¯çš„æ¶ˆè§£ï¼š
<ul>
<li>ä¹‹åæŸä¸ªåˆ†æ”¯å…ˆæŒ–å‡ºä¸‹ä¸€ä¸ªåŒºå—ï¼Œå°±å˜æˆæ›´é•¿çš„é“¾ï¼Œç½‘ç»œä¸­å¤§å¤šæ•°èŠ‚ç‚¹ä¼šéšä¹‹åˆ‡æ¢åˆ°æ›´é•¿çš„åˆ†æ”¯ï¼Œå¦ä¸€æ¡çŸ­åˆ†æ”¯å˜æˆâ€œå­¤å—é“¾â€ï¼Œå…¶åŒºå—å¥–åŠ±ä½œåºŸã€å¯¹åº”äº¤æ˜“éœ€è¦é‡æ–°è¢«æ‰“åŒ…ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™ä¸€ç­–ç•¥ä¿è¯äº†é•¿è¿œæ¥çœ‹å…¨ç½‘ä¼šé€æ¸æ”¶æ•›åˆ°ä¸€ä¸ªä¸»é“¾ï¼Œä½†çŸ­æœŸå†…å…è®¸å­˜åœ¨æš‚æ—¶çš„ä¸ä¸€è‡´ã€‚</p>
<hr/>
<h2 data-id="heading-4">äº”ã€éš¾åº¦ã€æ”¶ç›Šä¸çŸ¿å·¥è¡Œä¸ºï¼ˆä¸å‰ä¸€è®²çš„è¡”æ¥ï¼‰</h2>
<p>è™½ç„¶â€œéš¾åº¦ã€å‡ºå—æ—¶é—´â€ç­‰ç»†èŠ‚ä¸»è¦åœ¨ä¸Šä¸€è®²â€œæŒ–çŸ¿éš¾åº¦â€é‡Œå±•å¼€ï¼Œä½†æœ¬è§†é¢‘åœ¨è®²æŒ–çŸ¿è¡Œä¸ºæ—¶æœ‰è‹¥å¹²å…³é”®æ‰¿æ¥ç‚¹ã€‚</p>
<ul>
<li>å‡ºå—æ—¶é—´å’Œéš¾åº¦è°ƒèŠ‚ï¼š
<ul>
<li>æ¯”ç‰¹å¸ç³»ç»Ÿä»¥ 10 åˆ†é’Ÿå·¦å³çš„å¹³å‡å‡ºå—æ—¶é—´ä¸ºç›®æ ‡ï¼Œé€šè¿‡å…¨ç½‘ç®—åŠ›ä¸éš¾åº¦è°ƒæ•´æœºåˆ¶ï¼Œä½¿æ•´ä½“å‡ºå—é€Ÿåº¦åœ¨é•¿æœŸç»Ÿè®¡ä¸Šä¿æŒç¨³å®šã€‚</li>
</ul>
</li>
<li>çŸ¿å·¥æ”¶ç›Šæ„æˆï¼š
<ul>
<li>æ¯ä¸ªæ–°åŒºå—å¸¦æœ‰å›ºå®šåŒºå—å¥–åŠ± + åŒºå—ä¸­æ‰€æœ‰äº¤æ˜“çš„æ‰‹ç»­è´¹ï¼Œåˆè®¡æ”¶ç›Šé€šè¿‡ coinbase äº¤æ˜“å‘ç»™æŒ–å‡ºåŒºå—çš„çŸ¿å·¥ã€‚</li>
</ul>
</li>
<li>çŸ¿å·¥çš„æ¿€åŠ±ä¸å®‰å…¨æ€§ï¼š
<ul>
<li>å› ä¸ºè¦æŠ•å…¥å¤§é‡ç®—åŠ›ä¸ç”µè´¹ï¼ŒçŸ¿å·¥æœ‰åŠ¨æœºéµå®ˆåè®®ï¼ˆå¦åˆ™æŒ–å‡ºçš„éæ³•åŒºå—ä¼šè¢«å…¨èŠ‚ç‚¹æ‹’ç»ï¼Œæ— æ³•è·å¾—å¥–åŠ±ï¼‰ã€‚</li>
<li>å¤§éƒ¨åˆ†ç®—åŠ›è¯šå®æ‰§è¡Œè§„åˆ™æ—¶ï¼Œæ¯”ç‰¹å¸çš„å®‰å…¨æ€§æ‰èƒ½å¾—åˆ°ä¿éšœï¼Œè¿™æ˜¯ PoW æœºåˆ¶è®¾è®¡çš„æ ¹æœ¬å‡ºå‘ç‚¹ä¹‹ä¸€ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">å…­ã€è§†é¢‘çš„æ•´ä½“é€»è¾‘ç»“æ„æ€»ç»“</h2>
<p>å¯ä»¥æŠŠæ•´ä¸ªç¬¬ 08 è®²â€œBTC æŒ–çŸ¿â€æ€»ç»“ä¸ºä¸‹é¢çš„ç»“æ„ï¼š</p>
<ol>
<li>å…ˆç•Œå®šâ€œå…¨èŠ‚ç‚¹â€çš„æ¦‚å¿µå’ŒèŒè´£ï¼šç»´æŠ¤åŒºå—é“¾ã€UTXOã€éªŒè¯äº¤æ˜“ä¸åŒºå—ã€‚</li>
<li>å†åœ¨æ­¤åŸºç¡€ä¸Šå®šä¹‰â€œçŸ¿å·¥â€ï¼šå…¨èŠ‚ç‚¹ + å†³å®šæ‰“åŒ…äº¤æ˜“ + æ‰§è¡Œ PoW çš„èŠ‚ç‚¹ã€‚</li>
<li>è¯¦ç»†è®²æŒ–çŸ¿æµç¨‹ï¼šä»æ¥æ”¶äº¤æ˜“ã€æ„é€ åŒºå—ã€PoW è®¡ç®—ï¼Œåˆ°å¹¿æ’­æ–°åŒºå—ã€‚</li>
<li>è§£é‡Šæœ‰åˆ†æ”¯æ—¶çŸ¿å·¥å¦‚ä½•é€‰é“¾ã€ä¸ºä»€ä¹ˆä¼šå‡ºç°åˆ†å‰ï¼Œä»¥åŠç³»ç»Ÿå¦‚ä½•è‡ªç„¶æ¶ˆè§£å¤§å¤šæ•°ä¸´æ—¶åˆ†å‰ã€‚</li>
<li>ä¸ä¸Šä¸€è®²çš„éš¾åº¦è°ƒæ•´ã€æ”¶ç›Šæœºåˆ¶è¡”æ¥ï¼Œå¼ºè°ƒæŒ–çŸ¿è¡Œä¸ºèƒŒåçš„æ¿€åŠ±ä¸å®‰å…¨æ€§å«ä¹‰ã€‚</li>
</ol>
<p><img alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[@types åŒ…çš„å·¥ä½œåŸç†ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7599166436684202030</link>    <guid>https://juejin.cn/post/7599166436684202030</guid>    <pubDate>2026-01-26T07:45:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599166436684202030" data-draft-id="7599459943917764646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="@types åŒ…çš„å·¥ä½œåŸç†ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,TypeScript"/> <meta itemprop="datePublished" content="2026-01-26T07:45:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wuhen_n"/> <meta itemprop="url" content="https://juejin.cn/user/4149996261738233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            @types åŒ…çš„å·¥ä½œåŸç†ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4149996261738233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wuhen_n
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:45:58.000Z" title="Mon Jan 26 2026 07:45:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨ TypeScript å¼€å‘æ—¶ï¼Œç»å¸¸éœ€è¦å®‰è£… <code>@types/xxx</code> æ¥è·å¾—ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹æ”¯æŒã€‚è¿™äº›ç¥ç§˜çš„ <code>@types</code> åŒ…æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ<code>DefinitelyTyped</code> åˆæ˜¯ä»€ä¹ˆï¼Ÿæœ¬ç¯‡æ–‡ç« å°†æ­å¼€è¿™äº›ç±»å‹åŒ…çš„ç¥ç§˜é¢çº±ã€‚</p>
</blockquote>
<h2 data-id="heading-0">DefinitelyTypedï¼šTypeScriptçš„"ç±»å‹å®åº“"</h2>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯DefinitelyTypedï¼Ÿ</h3>
<p><strong>DefinitelyTyped</strong>ï¼ˆç®€ç§°DTï¼‰ï¼Œæ˜¯ GitHub ä¸Šçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸“é—¨ä¸º JavaScript åº“æä¾›é«˜è´¨é‡çš„ TypeScript ç±»å‹å®šä¹‰ã€‚å®ƒæ˜¯ TypeScript ç”Ÿæ€ç³»ç»Ÿä¸­æœ€é‡è¦çš„åŸºç¡€è®¾æ–½ä¹‹ä¸€ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªçº¯ JavaScript åº“ï¼Œä¾‹å¦‚ <code>lodash.js</code> ï¼Œè¿™é‡Œé¢æ˜¯æ²¡æœ‰ç±»å‹ä¿¡æ¯çš„ã€‚åœ¨ JavaScript ä¸­æ˜¯å¯ä»¥å·¥ä½œçš„ï¼š<code>_.map([1,2,3], x =&gt; x * 2);</code>  ã€‚
ä½†åœ¨ TypeScript ä¸­ï¼š<code>import _ from 'lodash';</code>ï¼Œå°±ä¼šæŠ¥é”™ï¼š<code>æ‰¾ä¸åˆ°æ¨¡å—'lodash'çš„å£°æ˜æ–‡ä»¶</code> ã€‚è¿™æ—¶æˆ‘ä»¬å°±éœ€è¦å®‰è£…ç±»å‹å®šä¹‰ï¼š<code>npm install --save-dev @types/lodash</code> ï¼Œç„¶å TypeScript å°±èƒ½ç†è§£ <code>lodash</code> äº†ã€‚</p>
<h3 data-id="heading-2">ç±»å‹åŒ…æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿ</h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŸå§‹çš„ JavaScript åº“ï¼š<code>tiny-validator.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>.<span class="hljs-title function_">test</span>(email);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validatePhone</span>(<span class="hljs-params">phone</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^\d{10,11}$/</span>.<span class="hljs-title function_">test</span>(phone);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateURL</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(url);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  validateEmail,
  validatePhone,
  validateURL,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>
};
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬è¦ä¸ºå®ƒåˆ›å»ºç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯¼å‡ºç±»å‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ValidationResult</span> {
  <span class="hljs-attr">isValid</span>: <span class="hljs-built_in">boolean</span>;
  message?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// å¯¼å‡ºå‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email: <span class="hljs-built_in">string</span>, strict: <span class="hljs-literal">true</span></span>): <span class="hljs-title class_">ValidationResult</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validatePhone</span>(<span class="hljs-params">phone: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validatePhone</span>(<span class="hljs-params">phone: <span class="hljs-built_in">string</span>, countryCode: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateURL</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateURL</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, options: { requireProtocol: <span class="hljs-built_in">boolean</span> }</span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-comment">// å¯¼å‡ºå¸¸é‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">version</span>: <span class="hljs-built_in">string</span>;

<span class="hljs-comment">// é»˜è®¤å¯¼å‡º</span>
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">validator</span>: {
  <span class="hljs-attr">validateEmail</span>: <span class="hljs-keyword">typeof</span> validateEmail;
  <span class="hljs-attr">validatePhone</span>: <span class="hljs-keyword">typeof</span> validatePhone;
  <span class="hljs-attr">validateURL</span>: <span class="hljs-keyword">typeof</span> validateURL;
  <span class="hljs-attr">version</span>: <span class="hljs-keyword">typeof</span> version;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> validator;
</code></pre>
<h2 data-id="heading-3">@typesåŒ…çš„å·¥ä½œåŸç†</h2>
<h3 data-id="heading-4">ç±»å‹åŒ…çš„å‘å¸ƒæµç¨‹</h3>
<p>å‡è®¾æˆ‘ä»¬è¦å‘å¸ƒä¸€ä¸ª <code>@types/react</code> åŒ…ï¼š</p>
<ol>
<li>åœ¨DefinitelyTypedæäº¤PRï¼Œæäº¤æ›´æ”¹åˆ° <code>types/react/</code>ï¼›</li>
<li>CIè¿è¡Œæµ‹è¯•ï¼š
<ul>
<li>ç¼–è¯‘ç±»å‹æ£€æŸ¥</li>
<li>è¿è¡Œç±»å‹æµ‹è¯•</li>
<li>éªŒè¯æ ¼å¼</li>
</ul>
</li>
<li>ç»´æŠ¤è€…å®¡æŸ¥</li>
<li>åˆå¹¶PR</li>
<li>è‡ªåŠ¨å‘å¸ƒåˆ° npm ä¸º @types/react</li>
</ol>
<h3 data-id="heading-5">ç±»å‹åŒ…å¦‚ä½•è¢«TypeScriptè¯†åˆ«</h3>
<p>TypeScript ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ç±»å‹ï¼ˆä»¥ <code>lodash</code> ä¸ºä¾‹ï¼‰ï¼š</p>
<ol>
<li>å½“å‰æ–‡ä»¶çš„ .d.ts å£°æ˜</li>
<li>é¡¹ç›®ä¸­çš„ .d.ts æ–‡ä»¶</li>
<li>node_modules/@types/lodash/index.d.tsï¼šDefinitelyTypedæä¾›çš„</li>
<li>node_modules/lodash/package.json ä¸­çš„ "types" å­—æ®µ</li>
<li>node_modules/lodash/index.d.tsï¼šåº“è‡ªå¸¦çš„ç±»å‹</li>
</ol>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡é…ç½® <code>tsconfig.json</code>ï¼Œå½±å“ç›¸å…³çš„é¡ºåºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"typeRoots"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"./node_modules/@types"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// é»˜è®¤åŒ…å«</span>
      <span class="hljs-string">"./custom-types"</span>          <span class="hljs-comment">// è‡ªå®šä¹‰ç±»å‹ç›®å½•</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>                  <span class="hljs-comment">// æŒ‡å®šè¦åŒ…å«çš„ç±»å‹åŒ…</span>
      <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"lodash"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"react"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-6">ç‰ˆæœ¬ç®¡ç†ï¼š@typesåŒ…çš„å‘½åè§„åˆ™</h3>
<p>@typesåŒ…çš„ç‰ˆæœ¬ä¸å¯¹åº”åº“çš„ç‰ˆæœ¬å…³è”ï¼Œå‘½åè§„åˆ™ä¸ºï¼š<code>@types/&lt;åº“å&gt;</code> ï¼Œå¯ä»¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>

























<table><thead><tr><th>åŸå§‹åº“</th><th>ç±»å‹åŒ…</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>lodash</td><td>@types/lodash</td><td>ä¸lodashä¸»ç‰ˆæœ¬å¯¹åº”</td></tr><tr><td>react</td><td>@types/react</td><td>ä¸reactç‰ˆæœ¬å¯¹åº”</td></tr><tr><td>node</td><td>@types/node</td><td>ä¸Node.jsç‰ˆæœ¬å¯¹åº”</td></tr></tbody></table>
<blockquote>
<p>å½“ç„¶ï¼Œä¹Ÿå­˜åœ¨ç‰¹æ®Šæƒ…å†µï¼šå¦‚å¸¦ä½œç”¨åŸŸçš„åŒ…ï¼š<code>@angular/core â†’ @types/angular__core</code> ã€‚</p>
</blockquote>
<h2 data-id="heading-7">ç±»å‹åŒ…çš„ç‰ˆæœ¬ç®¡ç†</h2>
<h3 data-id="heading-8">@types/nodeçš„ç‰ˆæœ¬ç®¡ç†</h3>
<p><code>@types/node</code> æ˜¯æ‰€æœ‰ <code>@types</code> åŒ…ä¸­æœ€ç‰¹æ®Šçš„ä¸€ä¸ªï¼Œå› ä¸ºå®ƒä¸Node.jsè¿è¡Œæ—¶ç‰ˆæœ¬ç´§å¯†ç»‘å®šã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json ä¸­çš„ä¾èµ–</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// @types/nodeçš„ç‰ˆæœ¬åº”è¯¥ä¸ä½ çš„Node.jsç‰ˆæœ¬åŒ¹é…</span>
    <span class="hljs-attr">"@types/node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.0.0"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å¯¹åº”Node.js 18.x</span>
    
    <span class="hljs-comment">// å…¶ä»–ç±»å‹åŒ…</span>
    <span class="hljs-attr">"@types/express"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.17.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/lodash"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.14.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// @types/nodeçš„ç‰ˆæœ¬æ¼”è¿›ç¤ºä¾‹</span>
<span class="hljs-comment">// Node.js 16.x çš„ç±»å‹</span>
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"fs/promises"</span> {
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">readFile</span>(<span class="hljs-params">path: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Buffer</span>&gt;;
  <span class="hljs-comment">// Node 16çš„API</span>
}

<span class="hljs-comment">// Node.js 18.x æ–°å¢äº†fetch API</span>
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> {
  <span class="hljs-comment">// Node 18æ–°å¢äº†å…¨å±€fetch</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-params">input: RequestInfo, init?: RequestInit</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt;;
  
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Request</span> {}
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {}
}
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å¼€å‘æ—¶éœ€è¦ï¼š</p>
<ul>
<li>Node.js 16 â†’ @types/node@16.x</li>
<li>Node.js 18 â†’ @types/node@18.x</li>
<li>Node.js 20 â†’ @types/node@20.x</li>
</ul>
<h3 data-id="heading-9">ç±»å‹åŒ…çš„ç‰ˆæœ¬å…¼å®¹æ€§</h3>
<p>ç±»å‹åŒ…ç‰ˆæœ¬ä¸åŒ¹é…/ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåº”è¯¥æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨ç±»å‹åŒ…æ—¶é‡åˆ°çš„æœ€å¸¸è§ä¹Ÿæ˜¯æœ€éº»çƒ¦çš„é—®é¢˜ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜å‘¢ï¼Ÿä¾‹å¦‚æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨ <code>lodash@4.17.21</code> ï¼Œä½†å®é™…ä¸Š <code>@types/lodash</code> å·²ç»æ›´æ–°åˆ°äº†æ–°ç‰ˆæœ¬ï¼Œè¿™æ ·å°±å‡ºç°äº†ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<h4 data-id="heading-10">è§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-11">æŒ‡å®šç²¾ç¡®ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash">npm install @types/lodash@4.14.0  <span class="hljs-comment"># å®‰è£…ç‰¹å®šç‰ˆæœ¬</span>
</code></pre>
<h5 data-id="heading-12">æŸ¥çœ‹åº“çš„package.json</h5>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"my-library"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0.0"</span>,
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@types/lodash"</span>: <span class="hljs-string">"^4.14.0"</span>  # æ¨èçš„ç±»å‹ç‰ˆæœ¬
  }
}
</code></pre>
<h5 data-id="heading-13">ä½¿ç”¨peerDependencies</h5>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"@types/my-library"</span>,
  <span class="hljs-string">"peerDependencies"</span>: {
    <span class="hljs-string">"my-library"</span>: <span class="hljs-string">"&gt;=2.0.0 &lt;3.0.0"</span>  # è¦æ±‚åŸåº“ç‰ˆæœ¬
  }
}
</code></pre>
<h3 data-id="heading-14">å¦‚ä½•é€‰æ‹©åˆé€‚çš„@typesç‰ˆæœ¬</h3>
<h4 data-id="heading-15">1. æ£€æŸ¥ä½ å®‰è£…çš„åº“ç‰ˆæœ¬</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"17.0.2"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// React 17.0.2</span>
    <span class="hljs-attr">"lodash"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"4.17.21"</span>     <span class="hljs-comment">// Lodash 4.17.21</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-16">2. æŸ¥æ‰¾å¯¹åº”çš„@typesç‰ˆæœ¬</h4>
<p>ä¾‹å¦‚ï¼š
å¯¹äºReact 18ï¼Œåº”è¯¥ä½¿ç”¨ @types/react@18.x.x
å¯¹äºLodash 4ï¼Œåº”è¯¥ä½¿ç”¨ @types/lodash@4.x.x</p>
<h4 data-id="heading-17">3. æŸ¥çœ‹ç‰ˆæœ¬å†å²</h4>
<p>å¯ä»¥é€šè¿‡npmæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm view @types/react versions  <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬</span>
npm view @types/react@18.0.0    <span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬ä¿¡æ¯</span>
</code></pre>
<h4 data-id="heading-18">4. åœ¨package.jsonä¸­æŒ‡å®š</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-string">"devDependencies"</span>: {
    <span class="hljs-string">"@types/react"</span>: <span class="hljs-string">"17.0.0"</span>,    <span class="hljs-comment">// åŒ¹é…React 17.0.x</span>
    <span class="hljs-string">"@types/lodash"</span>: <span class="hljs-string">"4.14.0"</span>    <span class="hljs-comment">// Lodash 4çš„ç±»å‹</span>
  }
}
</code></pre>
<h4 data-id="heading-19">5. å¤„ç†å†²çª</h4>
<p>å¦‚æœåº“Aä¾èµ– <code>@types/lodash@4.14.0</code>ï¼Œè€Œåº“Bä¾èµ– <code>@types/lodash@4.17.0</code> ï¼ŒTypeScriptä¼šè‡ªåŠ¨é€‰æ‹©è¾ƒé«˜çš„ç‰ˆæœ¬ï¼ˆ<code>4.17.0</code>ï¼‰ã€‚è¿™åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºç±»å‹å®šä¹‰æ˜¯å‘åå…¼å®¹çš„ã€‚</p>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-21">å¤šä¸ªç±»å‹åŒ…å†²çª</h3>
<p>åœºæ™¯ï¼šä¸¤ä¸ªåº“éƒ½æä¾›äº†ç›¸åŒçš„ç±»å‹å®šä¹‰ï¼Œä¾‹å¦‚ï¼š
åœ¨ <code>@types/jquery</code> å’Œ <code>@types/some-other-plugin</code> ä¸¤ä¸ªåŒ…ä¸­éƒ½å£°æ˜äº†å…¨å±€çš„ <code>$</code>ï¼Œå¯¼è‡´å†²çªï¼</p>
<h4 data-id="heading-22">è§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-23">1. ä½¿ç”¨æ¨¡å—å£°æ˜è€Œä¸æ˜¯å…¨å±€å£°æ˜</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">"jquery-plugin"</span> {
  <span class="hljs-keyword">import</span> $ <span class="hljs-keyword">from</span> <span class="hljs-string">"jquery"</span>;
  
  <span class="hljs-comment">// ä½¿ç”¨å¯¼å…¥çš„$ï¼Œè€Œä¸æ˜¯å£°æ˜å…¨å±€çš„$</span>
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">JQuery</span> {
    <span class="hljs-title function_">myPlugin</span>(): <span class="hljs-title class_">JQuery</span>;
  }
}
</code></pre>
<h5 data-id="heading-24">2. åˆå¹¶å£°æ˜</h5>
<p>å¦‚æœä¸¤ä¸ªå£°æ˜ä¸å†²çªï¼Œå¯ä»¥å…±å­˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">JQuery</span> {
  <span class="hljs-comment">// æ¥è‡ªjquery</span>
  <span class="hljs-title function_">hide</span>(): <span class="hljs-title class_">JQuery</span>;
  <span class="hljs-title function_">show</span>(): <span class="hljs-title class_">JQuery</span>;
  
  <span class="hljs-comment">// æ¥è‡ªplugin1</span>
  <span class="hljs-title function_">plugin1Method</span>(): <span class="hljs-title class_">JQuery</span>;
  
  <span class="hljs-comment">// æ¥è‡ªplugin2  </span>
  <span class="hljs-title function_">plugin2Method</span>(): <span class="hljs-title class_">JQuery</span>;
}
</code></pre>
<h5 data-id="heading-25">3. åœ¨tsconfigä¸­æ’é™¤æœ‰é—®é¢˜çš„ç±»å‹</h5>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"types"</span>: [
      <span class="hljs-string">"jquery"</span>,           <span class="hljs-comment">// åŒ…å«jquery</span>
      <span class="hljs-comment">// "jquery-plugin"   // æ’é™¤å†²çªçš„æ’ä»¶ç±»å‹</span>
    ]
  }
}
</code></pre>
<h3 data-id="heading-26">ç±»å‹åŒ…ç‰ˆæœ¬ä¸åŒ¹é…</h3>
<p>åœºæ™¯ï¼šç±»å‹åŒ…ç‰ˆæœ¬ä¸åº“ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œä¾‹å¦‚åº“ç‰ˆæœ¬ä¸º <code>lodash@4.17.21</code> ï¼Œè€Œç±»å‹åŒ…ç‰ˆæœ¬ä¸º <code>@types/lodash@4.14.0</code> ã€‚ç”±äºç±»å‹åŒ…ç‰ˆæœ¬è¾ƒæ—§ï¼Œå¯¼è‡´ç¼ºå¤±æŸä¸ªAPIï¼Œç›´æ¥ä½¿ç”¨æ–°ç‰ˆAPIä¼šæŠ¥é”™ã€‚</p>
<h4 data-id="heading-27">è§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-28">1. å‡çº§ç±»å‹åŒ…</h5>
<pre><code class="hljs language-bash" lang="bash">npm update @types/lodash@latest
</code></pre>
<h5 data-id="heading-29">2. ä¸´æ—¶è¡¥å……ç±»å‹å®šä¹‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// custom-types/lodash-extensions.d.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'lodash'</span>;

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">'lodash'</span> {
  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">LoDashStatic</span> {
    <span class="hljs-comment">// è¡¥å……ç¼ºå¤±çš„æ–¹æ³•</span>
    flattenDepth&lt;T&gt;(<span class="hljs-attr">array</span>: <span class="hljs-title class_">ListOfRecursiveArraysOrValues</span>&lt;T&gt;, depth?: <span class="hljs-built_in">number</span>): T[];
  }
}
</code></pre>
<h5 data-id="heading-30">3. é™çº§åº“ç‰ˆæœ¬ï¼ˆä¸æ¨èï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">npm install lodash@4.14.0  <span class="hljs-comment"># ä¸ç±»å‹åŒ…åŒ¹é…</span>
</code></pre>
<h3 data-id="heading-31">å…¨å±€ç±»å‹æ±¡æŸ“</h3>
<p>åœºæ™¯ï¼šç±»å‹åŒ…å£°æ˜äº†å…¨å±€ç±»å‹ï¼Œå½±å“äº†æˆ‘ä»¬çš„ä»£ç ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨ä½¿ç”¨ <code>@types/jest</code>ï¼Œå®ƒå£°æ˜äº†å…¨å±€çš„ <code>describe</code>ã€<code>it</code>ã€<code>expect</code> ã€‚ä½†åœ¨æˆ‘ä»¬çš„éæµ‹è¯•ä»£ç ä¸­ï¼Œè¿™äº›æ˜¯ä¸åº”è¯¥å­˜åœ¨çš„ã€‚</p>
<h4 data-id="heading-32">è§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-33">1. éš”ç¦»æµ‹è¯•ç±»å‹</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ tsconfig.json ä¸­</span>
{
  <span class="hljs-string">"extends"</span>: <span class="hljs-string">"./tsconfig.base.json"</span>,
  <span class="hljs-comment">// ä¸»é…ç½®ï¼šæ’é™¤æµ‹è¯•ç±»å‹</span>
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"types"</span>: []  <span class="hljs-comment">// ä¸åŒ…å«ä»»ä½•å…¨å±€ç±»å‹</span>
  },
  
  <span class="hljs-comment">// æµ‹è¯•é…ç½®</span>
  <span class="hljs-string">"tsconfig.test.json"</span>: {
    <span class="hljs-string">"extends"</span>: <span class="hljs-string">"./tsconfig.json"</span>,
    <span class="hljs-string">"compilerOptions"</span>: {
      <span class="hljs-string">"types"</span>: [<span class="hljs-string">"jest"</span>, <span class="hljs-string">"node"</span>]  <span class="hljs-comment">// åªåœ¨æµ‹è¯•ä¸­åŒ…å«</span>
    }
  }
}
</code></pre>
<h5 data-id="heading-34">2. ä½¿ç”¨importä»£æ›¿å…¨å±€</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { describe, it, expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'@jest/globals'</span>;

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'test'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">'should work'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">expect</span>(<span class="hljs-number">1</span> + <span class="hljs-number">1</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-number">2</span>);
  });
});
</code></pre>
<h3 data-id="heading-35">å¾ªç¯ä¾èµ–çš„ç±»å‹åŒ…</h3>
<p>ç°è±¡ï¼šç±»å‹åŒ…ç›¸äº’ä¾èµ–å¯¼è‡´å¾ªç¯ã€‚ä¾‹å¦‚ï¼š<code>@types/react</code> ä¾èµ–äº <code>@types/prop-types</code>ï¼›è€Œ <code>@types/prop-types</code> åè¿‡æ¥åˆå¯èƒ½é—´æ¥å¼•ç”¨ <code>@types/react</code> ã€‚ç»“æœå°±å¯¼è‡´ï¼šå¯¼å…¥å¾ªç¯æˆ–æœ€å¤§æ·±åº¦è¶…å‡ºã€‚</p>
<h4 data-id="heading-36">è§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-37">1. ä½¿ç”¨ import type</h5>
<p>å³ï¼šåœ¨ç±»å‹åŒ…ä¸­ï¼Œåªå¯¼å…¥ç±»å‹ï¼Œä¸å¯¼å…¥å€¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">ReactNode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
</code></pre>
<h5 data-id="heading-38">2. ä½¿ç”¨ä¸‰æ–œçº¿å¼•ç”¨</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/// &lt;reference types="react" /&gt; // è¿™å‘Šè¯‰TypeScriptç±»å‹å­˜åœ¨ï¼Œä½†ä¸å¯¼å…¥</span>
</code></pre>
<blockquote>
<p>åœ¨ ES6 ä»¥å‰ï¼ŒJavaScript å¹¶æ²¡æœ‰ä¸€ä¸ªå®˜æ–¹çš„æ¨¡å—ç³»ç»Ÿï¼Œè€Œæ˜¯åœ¨ä¸åŒçš„ç¯å¢ƒä¸­ï¼Œä»¥ä¸åŒçš„æ–¹å¼åŠ ä¸Šäº†è¿™ä¸ªç¼ºå¤±çš„ç‰¹æ€§ã€‚å¦‚ node.js ä½¿ç”¨ <code>require</code> å’Œ <code>module.exports</code>ï¼›AMD ä½¿ç”¨ä¸€ä¸ªå¸¦å›è°ƒçš„ <code>define</code> å‡½æ•°ã€‚åæ¥ï¼ŒTypeScript é€šè¿‡ <strong>module</strong> å…³é”®å­—å’Œâ€œ<strong>ä¸‰æ–œçº¿</strong>â€å¯¼å…¥æ¥å¡«è¡¥äº†è¿™ä¸ªç©ºç™½ã€‚</p>
</blockquote>
<blockquote>
<p><strong>module</strong> å…³é”®å­—å’Œâ€œ<strong>ä¸‰æ–œçº¿</strong>â€å¯¼å…¥åªæ˜¯ä¸€ä¸ªå†å²é—è¿¹ï¼Œåœ¨ ES6+ ä¸­ï¼Œè¿˜æ˜¯æ¨è <code>import</code> å’Œ <code>export</code> ã€‚</p>
</blockquote>
<h5 data-id="heading-39">3. é‡æ–°è®¾è®¡ç±»å‹ç»“æ„</h5>
<p>å³ï¼šå°†å…±äº«ç±»å‹æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// types/shared/index.d.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CommonProps</span> {
  className?: <span class="hljs-built_in">string</span>;
  style?: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span>;
}

<span class="hljs-comment">// types/react/index.d.ts  </span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../shared'</span>;

<span class="hljs-comment">// types/vue/index.d.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">CommonProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../shared'</span>;
</code></pre>
<h2 data-id="heading-40">æœ€ä½³å®è·µæŒ‡å—</h2>
<h3 data-id="heading-41">ä½œä¸ºç±»å‹åŒ…ä½¿ç”¨è€…</h3>
<h4 data-id="heading-42">package.json æœ€ä½³é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json æœ€ä½³é…ç½®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-app"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// 1. åŒ¹é…è¿è¡Œæ—¶ç‰ˆæœ¬</span>
    <span class="hljs-attr">"@types/node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.0.0"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ä¸Node.jsç‰ˆæœ¬åŒ¹é…</span>
    
    <span class="hljs-comment">// 2. ä½¿ç”¨^å…è®¸æ¬¡è¦ç‰ˆæœ¬æ›´æ–°</span>
    <span class="hljs-attr">"@types/react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^18.0.0"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">// 3. æŒ‰éœ€å®‰è£…ï¼Œä¸è¦ä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰@types</span>
    <span class="hljs-comment">// é”™è¯¯åšæ³•ï¼š@types/* ï¼ˆå®‰è£…æ‰€æœ‰ï¼‰</span>
    <span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šåªå®‰è£…éœ€è¦çš„</span>
    
    <span class="hljs-comment">// 4. å®šæœŸæ›´æ–°</span>
    <span class="hljs-comment">// npm update @types/*</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// 5. æ·»åŠ ç±»å‹æ£€æŸ¥è„šæœ¬</span>
    <span class="hljs-attr">"type-check"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc --noEmit"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type-check:watch"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc --noEmit --watch"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-43">tsconfig.json æœ€ä½³é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// tsconfig.json æœ€ä½³å®è·µ</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-comment">// 1. æ˜ç¡®æŒ‡å®šç±»å‹åŒ…</span>
    <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"react"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"react-dom"</span>
      <span class="hljs-comment">// æ˜ç¡®åˆ—å‡ºï¼Œé¿å…æ„å¤–åŒ…å«</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">// 2. æ§åˆ¶ç±»å‹æŸ¥æ‰¾è·¯å¾„</span>
    <span class="hljs-attr">"typeRoots"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"./node_modules/@types"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"./src/types"</span>  <span class="hljs-comment">// è‡ªå®šä¹‰ç±»å‹ç›®å½•</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">// 3. å¯ç”¨ä¸¥æ ¼æ£€æŸ¥</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">// 4. å¤„ç†æ¨¡å—è§£æ</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">// 5. ç¡®ä¿å…¼å®¹æ€§</span>
    <span class="hljs-attr">"skipLibCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// è·³è¿‡åº“çš„ç±»å‹æ£€æŸ¥ï¼Œæé«˜ç¼–è¯‘é€Ÿåº¦</span>
    <span class="hljs-attr">"forceConsistentCasingInFileNames"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-comment">// 6. åŒ…å«å’Œæ’é™¤æ–‡ä»¶</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"src/**/*"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"tests/**/*"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exclude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"node_modules"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"dist"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"**/*.test.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"**/*.spec.ts"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-44">ä½œä¸ºç±»å‹åŒ…è´¡çŒ®è€…</h3>
<h4 data-id="heading-45">1. ä½¿ç”¨å‡½æ•°é‡è½½è€Œä¸æ˜¯è”åˆç±»å‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸å¥½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Date</span>;

<span class="hljs-comment">// âœ… æ›´å¥½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Date</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">input: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Date</span>;
</code></pre>
<h4 data-id="heading-46">2. ä½¿ç”¨æ³›å‹æé«˜çµæ´»æ€§</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸çµæ´»ã€ä¸å®‰å…¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getValue</span>(<span class="hljs-params">obj: <span class="hljs-built_in">any</span>, key: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">any</span>;

<span class="hljs-comment">// âœ… ç±»å‹å®‰å…¨</span>
<span class="hljs-keyword">function</span> getValue&lt;T, K <span class="hljs-keyword">extends</span> keyof T&gt;(<span class="hljs-attr">obj</span>: T, <span class="hljs-attr">key</span>: K): T[K];
</code></pre>
<h4 data-id="heading-47">3. æä¾›å®Œæ•´çš„JSDocæ³¨é‡Š</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * éªŒè¯ç”µå­é‚®ä»¶åœ°å€
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">email</span> - è¦éªŒè¯çš„ç”µå­é‚®ä»¶åœ°å€
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">strict</span> - æ˜¯å¦è¿›è¡Œä¸¥æ ¼éªŒè¯
 * <span class="hljs-doctag">@returns</span> éªŒè¯ç»“æœ
 * <span class="hljs-doctag">@example</span>
 * validateEmail('test<span class="hljs-doctag">@example</span>.com') // true
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">validateEmail</span>(<span class="hljs-params">email: <span class="hljs-built_in">string</span>, strict?: <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">boolean</span>;
</code></pre>
<h4 data-id="heading-48">4. åŒ…å«ç±»å‹æµ‹è¯•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> _ = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lodash'</span>);

<span class="hljs-comment">// æµ‹è¯•ç±»å‹æ¨æ–­</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> doubled = _.<span class="hljs-title function_">map</span>(numbers, <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>);  <span class="hljs-comment">// åº”è¯¥æ¨æ–­ä¸º number[]</span>

<span class="hljs-comment">// æµ‹è¯•è¾¹ç•Œæƒ…å†µ</span>
_.<span class="hljs-title function_">chunk</span>([], <span class="hljs-number">2</span>);  <span class="hljs-comment">// åº”è¯¥è¿”å› [] è€Œä¸æ˜¯ never[]</span>
</code></pre>
<h4 data-id="heading-49">5. éµå¾ªå‘½åçº¦å®š</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨å¸•æ–¯å¡å‘½åæ³•ï¼ˆPascalCaseï¼‰è¡¨ç¤ºç±»å‹å’Œæ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserConfig</span> { <span class="hljs-comment">/* ... */</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ValidationResult</span> = { <span class="hljs-comment">/* ... */</span> };

<span class="hljs-comment">// ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰è¡¨ç¤ºå‡½æ•°å’Œå˜é‡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">validateInput</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">defaultConfig</span>: <span class="hljs-title class_">UserConfig</span> = { <span class="hljs-comment">/* ... */</span> };
</code></pre>
<h2 data-id="heading-50">TypeScriptçš„æ¼”è¿›</h2>
<p>TypeScriptæ­£åœ¨å‡å°‘å¯¹@typesçš„ä¾èµ–</p>
<ol>
<li>å£°æ˜æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆï¼šä½¿ç”¨ <code>tsc --declaration</code> è‡ªåŠ¨ç”Ÿæˆ .d.ts æ–‡ä»¶</li>
<li>æ›´å¥½çš„æ¨¡å—è§£æï¼šTypeScript 4.7+ æ”¹è¿›äº†å¯¹ <code>package.json</code> ä¸­ <code>exports</code> çš„æ”¯æŒ</li>
<li>ç±»å‹å¯¼å…¥ä¼˜åŒ–ï¼š<code>import type</code> è¯­æ³•ï¼Œå‡å°‘è¿è¡Œæ—¶ä¾èµ–</li>
<li>éƒ¨åˆ†ç±»å‹æ£€æŸ¥ï¼šå¯ä»¥å¯¹ JavaScript æ–‡ä»¶è¿›è¡Œæ¸è¿›å¼ç±»å‹æ£€æŸ¥</li>
</ol>
<h2 data-id="heading-51">å¼€å‘è€…å»ºè®®</h2>
<h3 data-id="heading-52">åº“å¼€å‘è€…ï¼š</h3>
<ol>
<li>ç”¨TypeScriptç¼–å†™ä½ çš„åº“</li>
<li>å‘å¸ƒæ—¶åŒ…å«ç±»å‹å®šä¹‰</li>
<li>ä½¿ç”¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥</li>
<li>æä¾›å®Œæ•´çš„APIæ–‡æ¡£</li>
</ol>
<h3 data-id="heading-53">åº”ç”¨å¼€å‘è€…ï¼š</h3>
<ol>
<li>ä¼˜å…ˆé€‰æ‹©æœ‰è‡ªå¸¦ç±»å‹çš„åº“</li>
<li>å®šæœŸæ›´æ–°@typesåŒ…</li>
<li>å­¦ä¼šé˜…è¯»å’Œç†è§£ç±»å‹å®šä¹‰</li>
<li>ä¸ºç¼ºå¤±ç±»å‹çš„åº“è´¡çŒ®ç±»å‹å®šä¹‰</li>
</ol>
<h3 data-id="heading-54">ç±»å‹ç»´æŠ¤è€…ï¼š</h3>
<ol>
<li>ä¿æŒä¸ä¸Šæ¸¸åº“çš„åŒæ­¥</li>
<li>ç¼–å†™å…¨é¢çš„ç±»å‹æµ‹è¯•</li>
<li>åŠæ—¶å“åº”ç¤¾åŒºé—®é¢˜</li>
<li>éµå¾ªDefinitelyTypedçš„è´¡çŒ®æŒ‡å—</li>
</ol>
<h2 data-id="heading-55">ç»“è¯­</h2>
<p><code>@types</code> ç”Ÿæ€ç³»ç»Ÿæ˜¯ TypeScript æˆåŠŸçš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚é€šè¿‡ <code>DefinitelyTyped</code> é¡¹ç›®ï¼Œç¤¾åŒºä¸ºæˆåƒä¸Šä¸‡çš„ JavaScript åº“æä¾›äº†é«˜è´¨é‡çš„ç±»å‹å®šä¹‰ã€‚å¯¹äºæ–‡ç« ä¸­é”™è¯¯çš„åœ°æ–¹æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3. é¿å‘+å®æˆ˜ï½œVue3 hoistStaticé™æ€æå‡ï¼Œè®©æ¸²æŸ“é€Ÿåº¦ç¿»å€çš„ç§˜å¯†]]></title>    <link>https://juejin.cn/post/7599469598882709519</link>    <guid>https://juejin.cn/post/7599469598882709519</guid>    <pubDate>2026-01-26T07:52:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599469598882709519" data-draft-id="7599220371664977960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3. é¿å‘+å®æˆ˜ï½œVue3 hoistStaticé™æ€æå‡ï¼Œè®©æ¸²æŸ“é€Ÿåº¦ç¿»å€çš„ç§˜å¯†"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2026-01-26T07:52:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="boooooooom"/> <meta itemprop="url" content="https://juejin.cn/user/3078273283917399"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3. é¿å‘+å®æˆ˜ï½œVue3 hoistStaticé™æ€æå‡ï¼Œè®©æ¸²æŸ“é€Ÿåº¦ç¿»å€çš„ç§˜å¯†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3078273283917399/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    boooooooom
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:52:09.000Z" title="Mon Jan 26 2026 07:52:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Vue3 çš„ç¼–è¯‘ä¼˜åŒ–ä½“ç³»ä¸­ï¼Œ<strong>é™æ€æå‡ï¼ˆhoistStaticï¼‰</strong> æ˜¯æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–æ‰‹æ®µä¹‹ä¸€ã€‚å®ƒé€šè¿‡åœ¨ç¼–è¯‘é˜¶æ®µè¯†åˆ«å¹¶æå–æ¨¡æ¿ä¸­çš„é™æ€å†…å®¹ï¼Œé¿å…æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶é‡å¤åˆ›å»ºã€æ¯”å¯¹è¿™äº›ä¸å˜çš„èŠ‚ç‚¹ï¼Œå¤§å¹…å‡å°‘è¿è¡Œæ—¶å¼€é”€ã€‚æœ¬æ–‡å°†ä»â€œåšäº†ä»€ä¹ˆâ€â€œæ€ä¹ˆåšâ€â€œä¼˜åŒ–æ•ˆæœâ€ä¸‰ä¸ªç»´åº¦ï¼Œå½»åº•è®²æ¸… hoistStatic çš„åº•å±‚é€»è¾‘ä¸å®é™…ä»·å€¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šä»€ä¹ˆæ˜¯â€œé™æ€å†…å®¹â€ï¼Ÿ</h2>
<p>åœ¨åˆ†æé™æ€æå‡å‰ï¼Œéœ€æ˜ç¡® Vue3 å¯¹â€œé™æ€å†…å®¹â€çš„å®šä¹‰ï¼š</p>
<ul>
<li><strong>é™æ€èŠ‚ç‚¹</strong>ï¼šå†…å®¹å®Œå…¨å›ºå®šã€ä¸ä¼šéšå“åº”å¼æ•°æ®å˜åŒ–çš„èŠ‚ç‚¹ï¼ˆå¦‚ <code>&lt;div&gt;Hello Vue3&lt;/div&gt;</code>ï¼‰ï¼›</li>
<li><strong>é™æ€å±æ€§</strong>ï¼šå€¼å›ºå®šçš„å±æ€§ï¼ˆå¦‚ <code>class="title"</code>ã€<code>id="box"</code>ï¼‰ï¼›</li>
<li><strong>é™æ€æ ‘</strong>ï¼šç”±å¤šä¸ªé™æ€èŠ‚ç‚¹ç»„æˆçš„å®Œæ•´å­æ ‘ï¼ˆå¦‚çº¯é™æ€çš„å¯¼èˆªæ ã€é¡µè„šï¼‰ã€‚</li>
</ul>
<p>è¿™äº›å†…å®¹çš„ç‰¹å¾æ˜¯ï¼š<strong>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå†…æ°¸è¿œä¸ä¼šå˜åŒ–</strong>ï¼Œè‹¥ä¸åšä¼˜åŒ–ï¼Œæ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼ˆå¦‚å“åº”å¼æ•°æ®æ›´æ–°ï¼‰æ—¶ï¼ŒVue ä¼šé‡å¤åˆ›å»ºè¿™äº›èŠ‚ç‚¹çš„ VNodeï¼Œå¹¶å‚ä¸è™šæ‹Ÿ DOM æ¯”å¯¹ï¼Œé€ æˆæ— æ„ä¹‰çš„æ€§èƒ½æ¶ˆè€—ã€‚</p>
<h2 data-id="heading-1">äºŒã€hoistStatic æ ¸å¿ƒåŠ¨ä½œï¼š3ç±»é™æ€å†…å®¹çš„æå‡é€»è¾‘</h2>
<p>Vue3 çš„ç¼–è¯‘å™¨åœ¨å¼€å¯ <code>hoistStatic</code>ï¼ˆé»˜è®¤å¼€å¯ï¼‰åï¼Œä¼šå¯¹ä¸åŒç±»å‹çš„é™æ€å†…å®¹æ‰§è¡Œé’ˆå¯¹æ€§æå‡ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯â€œå°†é™æ€å†…å®¹ç§»å‡ºæ¸²æŸ“å‡½æ•°ï¼Œä»…åˆ›å»ºä¸€æ¬¡ï¼Œå¤ç”¨å¤šæ¬¡â€ã€‚</p>
<h3 data-id="heading-2">1. åŸºç¡€åŠ¨ä½œï¼šé™æ€èŠ‚ç‚¹æå‡è‡³æ¸²æŸ“å‡½æ•°å¤–éƒ¨</h3>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šå°†å•ä¸ªé™æ€èŠ‚ç‚¹çš„ VNode åˆ›å»ºé€»è¾‘ï¼Œä»ç»„ä»¶çš„æ¸²æŸ“å‡½æ•°ï¼ˆ<code>_render</code>ï¼‰ä¸­æå–åˆ°å¤–éƒ¨ï¼Œä»…åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶åˆ›å»ºä¸€æ¬¡ï¼Œåç»­æ¸²æŸ“ç›´æ¥å¤ç”¨è¯¥ VNodeã€‚</p>
<h4 data-id="heading-3">ä¼˜åŒ–å‰ï¼ˆæœªå¼€å¯é™æ€æå‡ï¼‰</h4>
<p>æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–°åˆ›å»ºé™æ€èŠ‚ç‚¹çš„ VNodeï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ç¼–è¯‘åçš„æ¸²æŸ“å‡½æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, <span class="hljs-literal">null</span>, [
    <span class="hljs-comment">// é™æ€èŠ‚ç‚¹ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°åˆ›å»º</span>
    <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'p'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'static'</span> }, <span class="hljs-string">'é™æ€æ–‡æœ¬'</span>),
    <span class="hljs-comment">// åŠ¨æ€èŠ‚ç‚¹ï¼šéšæ•°æ®å˜åŒ–</span>
    <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'p'</span>, <span class="hljs-literal">null</span>, ctx.<span class="hljs-property">msg</span>)
  ])
}
</code></pre>
<h4 data-id="heading-4">ä¼˜åŒ–åï¼ˆå¼€å¯é™æ€æå‡ï¼‰</h4>
<p>é™æ€èŠ‚ç‚¹è¢«æå‡åˆ°æ¸²æŸ“å‡½æ•°å¤–éƒ¨ï¼Œä»…åˆå§‹åŒ–ä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// é™æ€èŠ‚ç‚¹è¢«æå‡åˆ°å¤–éƒ¨ï¼Œä»…åˆ›å»ºä¸€æ¬¡</span>
<span class="hljs-keyword">const</span> _hoisted_1 = <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'p'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'static'</span> }, <span class="hljs-string">'é™æ€æ–‡æœ¬'</span>)

<span class="hljs-comment">// æ¸²æŸ“å‡½æ•°ä¸­ç›´æ¥å¤ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, <span class="hljs-literal">null</span>, [
    _hoisted_1, <span class="hljs-comment">// å¤ç”¨å·²åˆ›å»ºçš„é™æ€ VNode</span>
    <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'p'</span>, <span class="hljs-literal">null</span>, ctx.<span class="hljs-property">msg</span>)
  ])
}
</code></pre>
<h3 data-id="heading-5">2. è¿›é˜¶åŠ¨ä½œï¼šé™æ€å±æ€§æå‡</h3>
<p>å¯¹äºé™æ€å±æ€§ï¼ˆå¦‚å›ºå®šçš„ <code>class</code>ã€<code>id</code>ã€<code>style</code>ï¼‰ï¼ŒVue3 ä¼šå°†å…¶æå–ä¸ºå¸¸é‡ï¼Œé¿å…æ¯æ¬¡åˆ›å»º VNode æ—¶é‡å¤åˆ›å»ºå±æ€§å¯¹è±¡ã€‚</p>
<h4 data-id="heading-6">ä¼˜åŒ–ç¤ºä¾‹</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ä¼˜åŒ–å‰ï¼šæ¯æ¬¡æ¸²æŸ“åˆ›å»ºæ–°çš„å±æ€§å¯¹è±¡</span>
<span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'header'</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">'nav'</span> }, <span class="hljs-string">'å¯¼èˆªæ '</span>)

<span class="hljs-comment">// ä¼˜åŒ–åï¼šé™æ€å±æ€§æå‡ä¸ºå¸¸é‡</span>
<span class="hljs-keyword">const</span> _hoisted_2 = { <span class="hljs-attr">class</span>: <span class="hljs-string">'header'</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">'nav'</span> }
<span class="hljs-comment">// æ¸²æŸ“æ—¶å¤ç”¨å±æ€§å¯¹è±¡</span>
<span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, _hoisted_2, <span class="hljs-string">'å¯¼èˆªæ '</span>)
</code></pre>
<h3 data-id="heading-7">3. æ·±åº¦åŠ¨ä½œï¼šé™æ€æ ‘æ•´ä½“æå‡</h3>
<p>è‹¥æ¨¡æ¿ä¸­å­˜åœ¨è¿ç»­çš„é™æ€èŠ‚ç‚¹ç»„æˆçš„â€œé™æ€æ ‘â€ï¼ˆå¦‚æ•´ä¸ªé¡µè„šã€çº¯é™æ€çš„ä¾§è¾¹æ ï¼‰ï¼ŒhoistStatic ä¼šå°†æ•´ä¸ªé™æ€æ ‘ä½œä¸ºä¸€ä¸ªæ•´ä½“æå‡ï¼Œè€Œéå•ä¸ªèŠ‚ç‚¹æ‹†åˆ†ï¼Œè¿›ä¸€æ­¥å‡å°‘å†…å­˜å ç”¨å’Œåˆ›å»ºå¼€é”€ã€‚</p>
<h4 data-id="heading-8">ä¼˜åŒ–ç¤ºä¾‹ï¼ˆé™æ€æ ‘ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- æ¨¡æ¿ä¸­çš„é™æ€æ ‘ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"footer-logo"</span>&gt;</span>Vue3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"footer-text"</span>&gt;</span>ç‰ˆæƒæ‰€æœ‰ Â© 2026<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span></span>

&lt;!-- ç¼–è¯‘åï¼šæ•´ä¸ªé™æ€æ ‘è¢«æå‡ä¸ºå•ä¸ª <span class="hljs-title class_">VNode</span> å¸¸é‡ --&gt;
<span class="hljs-keyword">const</span> _hoisted_3 = <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'footer'</span>, <span class="hljs-literal">null</span>, [
  <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'footer-logo'</span> }, <span class="hljs-string">'Vue3'</span>),
  <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'footer-text'</span> }, <span class="hljs-string">'ç‰ˆæƒæ‰€æœ‰ Â© 2026'</span>)
])

<span class="hljs-comment">// æ¸²æŸ“å‡½æ•°ä¸­ç›´æ¥å¤ç”¨æ•´æ£µæ ‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createVNode</span>(<span class="hljs-string">'div'</span>, <span class="hljs-literal">null</span>, [
    <span class="hljs-comment">// å…¶ä»–åŠ¨æ€å†…å®¹</span>
    _hoisted_3 <span class="hljs-comment">// å¤ç”¨é™æ€æ ‘</span>
  ])
}
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€é™æ€æå‡çš„é¢å¤–ä¼˜åŒ–ï¼šè·³è¿‡è™šæ‹Ÿ DOM æ¯”å¯¹</h2>
<p>Vue3 çš„è™šæ‹Ÿ DOM æ¯”å¯¹ï¼ˆpatchï¼‰è¿‡ç¨‹ä¸­ï¼Œè‹¥è¯†åˆ«åˆ°èŠ‚ç‚¹æ˜¯â€œé™æ€æå‡èŠ‚ç‚¹â€ï¼Œä¼šç›´æ¥è·³è¿‡æ¯”å¯¹é€»è¾‘â€”â€”å› ä¸ºå·²çŸ¥è¿™äº›èŠ‚ç‚¹ä¸ä¼šå˜åŒ–ï¼Œæ— éœ€æ¶ˆè€—æ€§èƒ½æ£€æŸ¥å±æ€§ã€å­èŠ‚ç‚¹æ˜¯å¦æ›´æ–°ã€‚</p>
<p>æ ¸å¿ƒé€»è¾‘ä¼ªä»£ç ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">patch</span>(<span class="hljs-params">n1, n2</span>) {
  <span class="hljs-comment">// é™æ€èŠ‚ç‚¹ï¼šç›´æ¥è·³è¿‡æ¯”å¯¹ï¼Œå¤ç”¨å³å¯</span>
  <span class="hljs-keyword">if</span> (n2.<span class="hljs-property">shapeFlag</span> &amp; <span class="hljs-title class_">ShapeFlags</span>.<span class="hljs-property">STATIC</span>) {
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-comment">// åŠ¨æ€èŠ‚ç‚¹ï¼šæ‰§è¡Œå¸¸è§„æ¯”å¯¹é€»è¾‘</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 data-id="heading-10">å››ã€hoistStatic çš„ç”Ÿæ•ˆè§„åˆ™ä¸é¿å‘ç‚¹</h2>
<h3 data-id="heading-11">1. ç”Ÿæ•ˆæ¡ä»¶</h3>
<ul>
<li>ä»…å¯¹<strong>ç¼–è¯‘æ—¶èƒ½ç¡®å®šçš„é™æ€å†…å®¹</strong>ç”Ÿæ•ˆï¼ˆå¦‚å›ºå®šæ–‡æœ¬ã€å›ºå®šå±æ€§ï¼‰ï¼Œå«åŠ¨æ€æ’å€¼ï¼ˆ<code>{{ msg }}</code>ï¼‰ã€åŠ¨æ€æŒ‡ä»¤ï¼ˆ<code>v-if</code>/<code>v-for</code>ï¼‰çš„èŠ‚ç‚¹ä¸å‚ä¸æå‡ï¼›</li>
<li>Vue3 é»˜è®¤ä¸ºç”Ÿäº§ç¯å¢ƒå¼€å¯ <code>hoistStatic</code>ï¼Œå¼€å‘ç¯å¢ƒå¯é€šè¿‡ <code>compilerOptions</code> æ‰‹åŠ¨é…ç½®ï¼›</li>
<li>å•ä¸ªé™æ€èŠ‚ç‚¹éœ€æ»¡è¶³â€œéæ ¹èŠ‚ç‚¹ä¸”æ— åŠ¨æ€ç»‘å®šâ€ï¼Œæ‰ä¼šè¢«æå‡ï¼ˆæ ¹èŠ‚ç‚¹æå‡æ— æ„ä¹‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-12">2. å¸¸è§å‘ç‚¹</h3>
<ul>
<li><strong>è¯¯åŒº1</strong>ï¼šè®¤ä¸ºâ€œæ‰€æœ‰é™æ€å†…å®¹éƒ½ä¼šè¢«æå‡â€â€”â€”Vue3 å¯¹æçŸ­çš„é™æ€èŠ‚ç‚¹ï¼ˆå¦‚å•ä¸ª <code>&lt;span&gt;123&lt;/span&gt;</code>ï¼‰å¯èƒ½ä¸æå‡ï¼Œå› ä¸ºæå‡çš„å†…å­˜å¼€é”€å¤§äºæ”¶ç›Šï¼›</li>
<li><strong>è¯¯åŒº2</strong>ï¼šé™æ€å†…å®¹ä¸­æ··å…¥åŠ¨æ€æŒ‡ä»¤ï¼ˆå¦‚ <code>v-on:click</code>ï¼‰â€”â€”å«åŠ¨æ€æŒ‡ä»¤çš„èŠ‚ç‚¹ä¼šè¢«åˆ¤å®šä¸ºåŠ¨æ€èŠ‚ç‚¹ï¼Œæ— æ³•æå‡ï¼›</li>
<li><strong>è¯¯åŒº3</strong>ï¼šæ‰‹åŠ¨å…³é—­ <code>hoistStatic</code>â€”â€”é™¤éæœ‰ç‰¹æ®Šç¼–è¯‘éœ€æ±‚ï¼Œå¦åˆ™ä¸è¦å…³é—­ï¼Œä¼šæ˜¾è‘—é™ä½æ¸²æŸ“æ€§èƒ½ã€‚</li>
</ul>
<h2 data-id="heading-13">äº”ã€å®æˆ˜éªŒè¯ï¼šé™æ€æå‡çš„æ€§èƒ½æ”¶ç›Š</h2>
<p>ä»¥ä¸€ä¸ªåŒ…å« 100 ä¸ªé™æ€èŠ‚ç‚¹ + 1 ä¸ªåŠ¨æ€èŠ‚ç‚¹çš„ç»„ä»¶ä¸ºä¾‹ï¼š</p>
<ul>
<li>æœªå¼€å¯é™æ€æå‡ï¼šæ¯æ¬¡æ¸²æŸ“éœ€åˆ›å»º 101 ä¸ª VNodeï¼Œæ‰§è¡Œ 101 æ¬¡è™šæ‹Ÿ DOM æ¯”å¯¹ï¼›</li>
<li>å¼€å¯é™æ€æå‡ï¼šæ¯æ¬¡æ¸²æŸ“ä»…åˆ›å»º 1 ä¸ªåŠ¨æ€ VNodeï¼Œ100 ä¸ªé™æ€ VNode å¤ç”¨ï¼Œä¸”è·³è¿‡ 100 æ¬¡æ¯”å¯¹ã€‚</li>
</ul>
<p>å®æµ‹æ•°æ®ï¼ˆVue3 å®˜æ–¹åŸºå‡†æµ‹è¯•ï¼‰ï¼š</p>
<ul>
<li>æ¸²æŸ“è€—æ—¶é™ä½çº¦ 30%~50%ï¼›</li>
<li>å†…å­˜å ç”¨å‡å°‘çº¦ 20%ï¼ˆé¿å…é‡å¤åˆ›å»º VNode å’Œå±æ€§å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-14">æ€»ç»“</h2>
<h3 data-id="heading-15">å…³é”®ç‚¹å›é¡¾</h3>
<ol>
<li>hoistStatic æ ¸å¿ƒæ˜¯<strong>ç¼–è¯‘é˜¶æ®µæå–é™æ€å†…å®¹</strong>ï¼Œå°†å…¶ç§»å‡ºæ¸²æŸ“å‡½æ•°ï¼Œä»…åˆå§‹åŒ–ä¸€æ¬¡ã€æ¸²æŸ“æ—¶å¤ç”¨ï¼›</li>
<li>ä¼˜åŒ–ç»´åº¦åŒ…æ‹¬ï¼šé™æ€èŠ‚ç‚¹ã€é™æ€å±æ€§ã€é™æ€æ ‘çš„æå‡ï¼Œä»¥åŠè·³è¿‡é™æ€èŠ‚ç‚¹çš„è™šæ‹Ÿ DOM æ¯”å¯¹ï¼›</li>
<li>ä»…å¯¹ç¼–è¯‘æ—¶ç¡®å®šçš„é™æ€å†…å®¹ç”Ÿæ•ˆï¼Œå«åŠ¨æ€é€»è¾‘çš„èŠ‚ç‚¹æ— æ³•æå‡ï¼Œä¸”éœ€é¿å…è¿‡åº¦ä¾èµ–é™æ€æå‡ä¼˜åŒ–åŠ¨æ€åœºæ™¯ã€‚</li>
</ol>
<p>Vue3 çš„é™æ€æå‡çœ‹ä¼¼æ˜¯â€œç»†èŠ‚ä¼˜åŒ–â€ï¼Œå®åˆ™æ˜¯ä»ç¼–è¯‘å±‚é¢å‡å°‘è¿è¡Œæ—¶æ— æ„ä¹‰çš„è®¡ç®—ï¼Œè¿™ä¹Ÿæ˜¯ Vue3 ç›¸æ¯” Vue2 æ¸²æŸ“æ€§èƒ½å¤§å¹…æå‡çš„æ ¸å¿ƒåŸå› ä¹‹ä¸€ã€‚ç†è§£å…¶åº•å±‚é€»è¾‘ï¼Œèƒ½å¸®åŠ©ä½ åœ¨å¼€å‘ä¸­æ›´åˆç†åœ°ç¼–å†™æ¨¡æ¿ï¼ˆå¦‚æ‹†åˆ†é™æ€/åŠ¨æ€å†…å®¹ï¼‰ï¼Œæœ€å¤§åŒ–åˆ©ç”¨è¯¥ä¼˜åŒ–ç‰¹æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œä¸€å¥è¯æè¿°â€åˆ°â€œä¸“ä¸šçº§ç”»ä½œâ€ï¼šæ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€å±€éƒ¨é‡ç»˜ã€æ™ºèƒ½æ‰©å›¾ä¸€ç«™å¼æå®š]]></title>    <link>https://juejin.cn/post/7599485473706524710</link>    <guid>https://juejin.cn/post/7599485473706524710</guid>    <pubDate>2026-01-26T07:51:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599485473706524710" data-draft-id="7599268297223569418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œä¸€å¥è¯æè¿°â€åˆ°â€œä¸“ä¸šçº§ç”»ä½œâ€ï¼šæ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€å±€éƒ¨é‡ç»˜ã€æ™ºèƒ½æ‰©å›¾ä¸€ç«™å¼æå®š"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-01-26T07:51:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œä¸€å¥è¯æè¿°â€åˆ°â€œä¸“ä¸šçº§ç”»ä½œâ€ï¼šæ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€å±€éƒ¨é‡ç»˜ã€æ™ºèƒ½æ‰©å›¾ä¸€ç«™å¼æå®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:51:11.000Z" title="Mon Jan 26 2026 07:51:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AUTOMATIC1111/stable-diffusion-webui æ·±åº¦æŠ€æœ¯è§£è¯»</h2>
<h3 data-id="heading-1">1. æ•´ä½“ä»‹ç»</h3>
<h4 data-id="heading-2">1.1 é¡¹ç›®æ¦‚å†µ</h4>
<p><strong>AUTOMATIC1111/stable-diffusion-webui</strong> æ˜¯åŸºäº Gradio æ¡†æ¶æ„å»ºçš„ Stable Diffusion æ¨¡å‹ Web å›¾å½¢ç•Œé¢ï¼Œæ˜¯ç›®å‰ GitHub ä¸Šæœ€å—æ¬¢è¿çš„ Stable Diffusion å‰ç«¯å®ç°ä¹‹ä¸€ï¼ˆæˆªè‡³å½“å‰ï¼ŒGitHub stars è¶…è¿‡ 100kï¼Œforks è¶…è¿‡ 20kï¼‰ã€‚é¡¹ç›®é€šè¿‡å°†å¤æ‚çš„å‘½ä»¤è¡Œæ“ä½œå°è£…ä¸ºç›´è§‚çš„ Web ç•Œé¢ï¼Œå¤§å¹…é™ä½äº†ä½¿ç”¨å…ˆè¿›ç”Ÿæˆå¼ AI æ¨¡å‹çš„æŠ€æœ¯é—¨æ§›ã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒåŠŸèƒ½å®šä½</h4>
<ul>
<li><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šæä¾›æœ¬åœ°åŒ–ã€ä¸€ä½“åŒ–ã€å¯æ‰©å±•çš„ Stable Diffusion æ“ä½œç¯å¢ƒ</li>
<li><strong>æŠ€æœ¯å®šä½</strong>ï¼šä»‹äºåŸå§‹ Stable Diffusion ä»£ç åº“ä¸äº‘ç«¯æœåŠ¡ä¹‹é—´çš„ä¸­é—´å±‚</li>
<li><strong>ç”¨æˆ·ç•Œé¢</strong>ï¼šåŸºäº Gradio æ„å»ºçš„å“åº”å¼ Web ç•Œé¢ï¼Œæ”¯æŒå®æ—¶äº¤äº’</li>
</ul>
<h4 data-id="heading-4">1.3 è§£å†³çš„æ ¸å¿ƒé—®é¢˜</h4>
<p><strong>ä¼ ç»Ÿæ–¹æ¡ˆç—›ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>é…ç½®å¤æ‚</strong>ï¼šåŸå§‹ Stable Diffusion éœ€è¦æ‰‹åŠ¨å®‰è£… PyTorchã€é…ç½® CUDAã€ç®¡ç†ä¾èµ–ç‰ˆæœ¬</li>
<li><strong>æ“ä½œé—¨æ§›é«˜</strong>ï¼šä¾èµ–å‘½ä»¤è¡Œå‚æ•°å’Œ Python è„šæœ¬ï¼ŒéæŠ€æœ¯ç”¨æˆ·éš¾ä»¥ä½¿ç”¨</li>
<li><strong>åŠŸèƒ½åˆ†æ•£</strong>ï¼šå›¾åƒç”Ÿæˆã€æ¨¡å‹ç®¡ç†ã€åå¤„ç†ç­‰å·¥å…·åˆ†æ•£åœ¨ä¸åŒé¡¹ç›®ä¸­</li>
<li><strong>æ‰©å±•å›°éš¾</strong>ï¼šç¤¾åŒºè´¡çŒ®éš¾ä»¥é›†æˆï¼Œç”¨æˆ·éœ€è¦æ‰‹åŠ¨åˆå¹¶ä»£ç </li>
</ol>
<p><strong>æœ¬é¡¹ç›®è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>ä¸€ä½“åŒ–å®‰è£…</strong>ï¼šé€šè¿‡ <code>launch.py</code> è‡ªåŠ¨å¤„ç†ç¯å¢ƒä¾èµ–å’Œæ¨¡å‹ä¸‹è½½</li>
<li><strong>å¯è§†åŒ–æ“ä½œ</strong>ï¼šå°†å‘½ä»¤è¡Œå‚æ•°è½¬åŒ–ä¸º Web è¡¨å•æ§ä»¶</li>
<li><strong>æ¨¡å—åŒ–æ¶æ„</strong>ï¼šé€šè¿‡æ’ä»¶ç³»ç»Ÿæ”¯æŒåŠŸèƒ½æ‰©å±•</li>
<li><strong>æ ‡å‡†åŒ–æ¥å£</strong>ï¼šæä¾›ç»Ÿä¸€çš„ API å’Œé…ç½®ç®¡ç†</li>
</ol>
<h4 data-id="heading-5">1.4 å•†ä¸šä»·å€¼åˆ†æ</h4>
<p><strong>å¼€å‘æˆæœ¬ä¼°ç®—</strong>ï¼š</p>
<ul>
<li>æ ¸å¿ƒæ¡†æ¶å¼€å‘ï¼šçº¦ 6-8 äººæœˆ</li>
<li>Gradio æ·±åº¦é›†æˆï¼šçº¦ 2-3 äººæœˆ</li>
<li>æ‰©å±•ç³»ç»Ÿè®¾è®¡ï¼šçº¦ 3-4 äººæœˆ</li>
<li>æµ‹è¯•ä¸ä¼˜åŒ–ï¼šçº¦ 2-3 äººæœˆ</li>
<li><strong>æ€»è®¡ä¼°ç®—</strong>ï¼šçº¦ 13-18 äººæœˆçš„é«˜çº§å¼€å‘æŠ•å…¥</li>
</ul>
<p><strong>æ•ˆç›Šåˆ†æé€»è¾‘</strong>ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·æ—¶é—´èŠ‚çœ</strong>ï¼šç›¸æ¯”æ‰‹åŠ¨é…ç½®ï¼Œæ¯ä¸ªç”¨æˆ·å¹³å‡èŠ‚çœ 4-8 å°æ—¶åˆå§‹åŒ–æ—¶é—´</li>
<li><strong>æŠ€æœ¯é—¨æ§›é™ä½</strong>ï¼šä½¿éä¸“ä¸šå¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨å…ˆè¿› AI æ¨¡å‹</li>
<li><strong>ç¤¾åŒºç”Ÿæ€ä»·å€¼</strong>ï¼šé€šè¿‡æ‰©å±•ç³»ç»Ÿå½¢æˆæ­£åé¦ˆå¾ªç¯ï¼Œå¸å¼•å¼€å‘è€…è´¡çŒ®</li>
<li><strong>æ¨¡å‹æ™®åŠæ¨åŠ¨</strong>ï¼šåŠ é€Ÿ Stable Diffusion ç”Ÿæ€å‘å±•ï¼Œé—´æ¥ä¿ƒè¿›ç¡¬ä»¶å’Œäº‘æœåŠ¡éœ€æ±‚</li>
</ol>
<h3 data-id="heading-6">2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</h3>
<h4 data-id="heading-7">2.1 æŠ€æœ¯æ¶æ„åˆ†å±‚</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Web ç•Œé¢å±‚               â”‚
â”‚  (Gradio Blocks + è‡ªå®šä¹‰ç»„ä»¶)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          åº”ç”¨é€»è¾‘å±‚                  â”‚
â”‚  (è„šæœ¬å›è°ƒ + çŠ¶æ€ç®¡ç† + é˜Ÿåˆ—æ§åˆ¶)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          æ ¸å¿ƒæœåŠ¡å±‚                  â”‚
â”‚  (æ¨¡å‹åŠ è½½ + å›¾åƒå¤„ç† + æ‰©å±•ç®¡ç†)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          åŸºç¡€è®¾æ–½å±‚                  â”‚
â”‚  (ç¯å¢ƒç®¡ç† + ä¾èµ–å®‰è£… + é…ç½®æŒä¹…åŒ–)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-8">2.2 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</h4>
<p><strong>1. å¯åŠ¨ä¸ç¯å¢ƒç®¡ç† (<code>launch_utils.py</code>)</strong></p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹ Python ç‰ˆæœ¬å’Œ CUDA ç¯å¢ƒ</li>
<li>æ™ºèƒ½å®‰è£… PyTorch å’Œä¾èµ–åŒ…</li>
<li>Git å­æ¨¡å—ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶</li>
<li>æ‰©å±•æ’ä»¶è‡ªåŠ¨å®‰è£…</li>
</ul>
<p><strong>2. Web æœåŠ¡å™¨ä¸è·¯ç”± (<code>webui.py</code>)</strong></p>
<ul>
<li>Gradio åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</li>
<li>API æœåŠ¡å™¨æ¨¡å¼æ”¯æŒ</li>
<li>ä¸­é—´ä»¶é…ç½®ï¼ˆCORSã€GZipï¼‰</li>
<li>ä¼šè¯çŠ¶æ€æŒä¹…åŒ–</li>
</ul>
<p><strong>3. å…¨å±€çŠ¶æ€ç®¡ç† (<code>shared.py</code>)</strong></p>
<ul>
<li>å•ä¾‹æ¨¡å¼ç®¡ç†æ¨¡å‹å®ä¾‹</li>
<li>é…ç½®é€‰é¡¹çš„é›†ä¸­å­˜å‚¨</li>
<li>çº¿ç¨‹å®‰å…¨çš„è¿›åº¦çŠ¶æ€è·Ÿè¸ª</li>
<li>ä¸»é¢˜å’Œç•Œé¢åå¥½ç®¡ç†</li>
</ul>
<p><strong>4. æ¨¡å—åˆå§‹åŒ–ç³»ç»Ÿ (<code>initialize.py</code>)</strong></p>
<ul>
<li>å»¶è¿ŸåŠ è½½ä¼˜åŒ–å¯åŠ¨æ—¶é—´</li>
<li>åŠ¨æ€æ¨¡å—å¯¼å…¥å’Œé”™è¯¯å¤„ç†</li>
<li>é…ç½®æ¢å¤å’ŒçŠ¶æ€å›æ»š</li>
<li>é’©å­ç³»ç»Ÿç”¨äºæ‰©å±•ç‚¹</li>
</ul>
<h3 data-id="heading-9">3. æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-10">3.1 ç¯å¢ƒä¾èµ–å¤æ‚æ€§ç®¡ç†</h4>
<p><strong>éš¾ç‚¹</strong>ï¼šStable Diffusion ä¾èµ–ç‰¹å®šç‰ˆæœ¬çš„ PyTorchã€xformersã€CUDA å·¥å…·é“¾ï¼Œç‰ˆæœ¬å†²çªå¸¸è§ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># launch_utils.py ä¸­çš„ç‰ˆæœ¬é€‚é…é€»è¾‘</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare_environment</span>():
    <span class="hljs-comment"># æ ¹æ®å¹³å°å’Œç¡¬ä»¶è‡ªåŠ¨é€‰æ‹© torch å®‰è£…å‘½ä»¤</span>
    <span class="hljs-keyword">if</span> args.use_ipex:
        <span class="hljs-keyword">if</span> platform.system() == <span class="hljs-string">"Windows"</span>:
            <span class="hljs-comment"># Windows + Intel Arc GPU çš„ç‰¹æ®Šå¤„ç†</span>
            torch_command = <span class="hljs-string">"pip install å®šåˆ¶åŒ–IPEXåŒ…..."</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># Linux çš„å®˜æ–¹ IPEX åŒ…</span>
            torch_command = <span class="hljs-string">"pip install torch==2.0.0a0 intel-extension-for-pytorch..."</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># æ ‡å‡† NVIDIA CUDA å®‰è£…</span>
        torch_index_url = <span class="hljs-string">"https://download.pytorch.org/whl/cu121"</span>
        torch_command = <span class="hljs-string">f"pip install torch==2.1.2 torchvision==0.16.2 --extra-index-url <span class="hljs-subst">{torch_index_url}</span>"</span>
    
    <span class="hljs-comment"># æ‰§è¡Œå®‰è£…å¹¶éªŒè¯</span>
    run(torch_command, <span class="hljs-string">"Installing torch and torchvision"</span>, <span class="hljs-string">"Couldn't install torch"</span>, live=<span class="hljs-literal">True</span>)
</code></pre>
<h4 data-id="heading-11">3.2 æ¨¡å‹çƒ­åŠ è½½ä¸å†…å­˜ç®¡ç†</h4>
<p><strong>éš¾ç‚¹</strong>ï¼šå¤§æ¨¡å‹ï¼ˆé€šå¸¸ 2-7GBï¼‰åŠ è½½è€—æ—¶ï¼Œå¤šä¸ªæ¨¡å‹åˆ‡æ¢æ—¶å†…å­˜å®¹æ˜“æº¢å‡ºã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># shared.py ä¸­çš„æ¨¡å‹çŠ¶æ€ç®¡ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedState</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.sd_model = <span class="hljs-literal">None</span>  <span class="hljs-comment"># å½“å‰åŠ è½½çš„æ¨¡å‹</span>
        self.models_cache = {}  <span class="hljs-comment"># æ¨¡å‹ç¼“å­˜ï¼ˆå¯é€‰ï¼‰</span>
        self.current_model_hash = <span class="hljs-literal">None</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_model</span>(<span class="hljs-params">self, checkpoint_path</span>):
        <span class="hljs-comment"># å¸è½½å½“å‰æ¨¡å‹é‡Šæ”¾æ˜¾å­˜</span>
        <span class="hljs-keyword">if</span> self.sd_model <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            self.unload_model()
        
        <span class="hljs-comment"># åŠ è½½æ–°æ¨¡å‹</span>
        model = load_model_from_checkpoint(checkpoint_path)
        
        <span class="hljs-comment"># åº”ç”¨ä¼˜åŒ–ï¼ˆxformersã€æ³¨æ„åŠ›ä¼˜åŒ–ç­‰ï¼‰</span>
        <span class="hljs-keyword">if</span> args.xformers:
            apply_xformers_optimizations(model)
        
        self.sd_model = model
        self.current_model_hash = calculate_hash(checkpoint_path)
</code></pre>
<h4 data-id="heading-12">3.3 æ‰©å±•ç³»ç»Ÿè®¾è®¡ä¸å®‰å…¨æ€§</h4>
<p><strong>éš¾ç‚¹</strong>ï¼šæ”¯æŒç¬¬ä¸‰æ–¹æ‰©å±•çš„åŒæ—¶ä¿è¯ç³»ç»Ÿç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># launch_utils.py ä¸­çš„æ‰©å±•å®‰è£…å™¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_extension_installer</span>(<span class="hljs-params">extension_dir</span>):
    path_installer = os.path.join(extension_dir, <span class="hljs-string">"install.py"</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.isfile(path_installer):
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># éš”ç¦»ç¯å¢ƒè¿è¡Œå®‰è£…è„šæœ¬</span>
        env = os.environ.copy()
        env[<span class="hljs-string">'PYTHONPATH'</span>] = <span class="hljs-string">f"<span class="hljs-subst">{script_path}</span><span class="hljs-subst">{os.pathsep}</span><span class="hljs-subst">{env.get(<span class="hljs-string">'PYTHONPATH'</span>, <span class="hljs-string">''</span>)}</span>"</span>
        
        <span class="hljs-comment"># æ‰§è¡Œå®‰è£…å¹¶æ•è·è¾“å‡º</span>
        stdout = run(<span class="hljs-string">f'"<span class="hljs-subst">{python}</span>" "<span class="hljs-subst">{path_installer}</span>"'</span>,
                    errdesc=<span class="hljs-string">f"Error running install.py for extension <span class="hljs-subst">{extension_dir}</span>"</span>,
                    custom_env=env).strip()
        <span class="hljs-keyword">if</span> stdout:
            <span class="hljs-built_in">print</span>(stdout)  <span class="hljs-comment"># æ—¥å¿—è®°å½•å®‰è£…è¿‡ç¨‹</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-comment"># ä¼˜é›…çš„é”™è¯¯å¤„ç†ï¼Œä¸ç ´åä¸»ç¨‹åº</span>
        errors.report(<span class="hljs-built_in">str</span>(e))
</code></pre>
<h4 data-id="heading-13">3.4 å®æ—¶è¿›åº¦åé¦ˆä¸é˜Ÿåˆ—ç®¡ç†</h4>
<p><strong>éš¾ç‚¹</strong>ï¼šé•¿æ—¶é—´å›¾åƒç”Ÿæˆä»»åŠ¡éœ€è¦å®æ—¶è¿›åº¦æ›´æ–°ï¼ŒåŒæ—¶æ”¯æŒå¹¶å‘è¯·æ±‚ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># webui.py ä¸­çš„é˜Ÿåˆ—å’Œè¿›åº¦ç®¡ç†</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">webui</span>():
    <span class="hljs-keyword">from</span> modules.call_queue <span class="hljs-keyword">import</span> queue_lock
    
    <span class="hljs-comment"># åˆ›å»º Gradio ç•Œé¢</span>
    shared.demo = ui.create_ui()
    
    <span class="hljs-comment"># é…ç½®ä»»åŠ¡é˜Ÿåˆ—</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cmd_opts.no_gradio_queue:
        shared.demo.queue(<span class="hljs-number">64</span>)  <span class="hljs-comment"># å…è®¸æœ€å¤š64ä¸ªå¹¶å‘è¯·æ±‚</span>
    
    <span class="hljs-comment"># è¿›åº¦APIè®¾ç½®</span>
    progress.setup_progress_api(app)
    
    <span class="hljs-comment"># å®æ—¶çŠ¶æ€æ›´æ–°å¾ªç¯</span>
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        server_command = shared.state.wait_for_server_command(timeout=<span class="hljs-number">5</span>)
        <span class="hljs-keyword">if</span> server_command == <span class="hljs-string">"stop"</span>:
            <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">elif</span> server_command == <span class="hljs-string">"restart"</span>:
            <span class="hljs-comment"># ä¼˜é›…é‡å¯é€»è¾‘</span>
            handle_restart()
</code></pre>
<h3 data-id="heading-14">4. è¯¦ç»†è®¾è®¡å›¾</h3>
<h4 data-id="heading-15">4.1 ç³»ç»Ÿæ¶æ„å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[ç”¨æˆ·æµè§ˆå™¨] --&gt; B[Gradio HTTP Server]
    B --&gt; C{è·¯ç”±åˆ†å‘}
    
    C --&gt;|APIè¯·æ±‚| D[FastAPI Endpoints]
    C --&gt;|UIè¯·æ±‚| E[Gradio Blocks UI]
    
    D --&gt; F[API Handler]
    E --&gt; G[UI Event Handler]
    
    F --&gt; H[Task Queue]
    G --&gt; H
    
    H --&gt; I[Model Executor]
    I --&gt; J[Stable Diffusion Model]
    I --&gt; K[Extension System]
    
    J --&gt; L[Image Processor]
    K --&gt; L
    
    L --&gt; M[Result Cache]
    M --&gt; N[Response Formatter]
    
    N --&gt;|JSON| O[API Client]
    N --&gt;|Image/HTML| P[Web UI]
    
    subgraph "æ ¸å¿ƒæœåŠ¡"
        H
        I
        J
        L
    end
    
    subgraph "æ‰©å±•ç³»ç»Ÿ"
        K
        Q[Custom Scripts]
        R[Extra Networks]
        S[UI Extensions]
    end
    
    subgraph "åŸºç¡€è®¾æ–½"
        T[Config Manager]
        U[Model Loader]
        V[Environment Manager]
    end
</code></pre>
<h4 data-id="heading-16">4.2 å¯åŠ¨åºåˆ—å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant U as User
    participant L as launch.py
    participant LU as launch_utils
    participant W as webui.py
    participant I as initialize.py
    participant S as shared.py
    
    U-&gt;&gt;L: æ‰§è¡Œ python launch.py
    L-&gt;&gt;LU: main()
    LU-&gt;&gt;LU: prepare_environment()
    
    alt ç¯å¢ƒæ£€æŸ¥
        LU-&gt;&gt;LU: check_python_version()
        LU-&gt;&gt;LU: å®‰è£…ä¾èµ–åŒ…
        LU-&gt;&gt;LU: å…‹éš†æ¨¡å‹ä»“åº“
    end
    
    LU-&gt;&gt;W: start()
    
    alt APIæ¨¡å¼
        W-&gt;&gt;W: api_only()
        W-&gt;&gt;I: initialize()
        I-&gt;&gt;S: åˆå§‹åŒ–å…¨å±€çŠ¶æ€
        W-&gt;&gt;W: åˆ›å»ºFastAPIåº”ç”¨
        W-&gt;&gt;W: å¯åŠ¨APIæœåŠ¡å™¨
    else WebUIæ¨¡å¼
        W-&gt;&gt;W: webui()
        W-&gt;&gt;I: initialize()
        I-&gt;&gt;S: åˆå§‹åŒ–å…¨å±€çŠ¶æ€
        W-&gt;&gt;W: create_ui()
        W-&gt;&gt;W: demo.launch()
        W-&gt;&gt;W: è¿›å…¥ä¸»äº‹ä»¶å¾ªç¯
    end
    
    W--&gt;&gt;U: æœåŠ¡å°±ç»ª
</code></pre>
<h4 data-id="heading-17">4.3 æ ¸å¿ƒç±»å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
    class LaunchUtils {
        -python: str
        -git: str
        -index_url: str
        +prepare_environment()
        +run_pip()
        +git_clone()
        +is_installed()
        +run()
    }
    
    class WebUI {
        -startup_timer
        +api_only()
        +webui()
        -create_api()
    }
    
    class SharedState {
        -sd_model
        -opts
        -state
        +load_model()
        +unload_model()
        +get_progress()
    }
    
    class Options {
        -data: dict
        +onchange()
        +save()
        +load()
    }
    
    class ScriptCallbacks {
        +before_ui_callback()
        +app_started_callback()
        +script_unloaded_callback()
    }
    
    class ExtensionManager {
        -extensions_dir
        +list_extensions()
        +run_installers()
        +load_extension()
    }
    
    LaunchUtils --&gt; WebUI : å¯åŠ¨
    WebUI --&gt; SharedState : ä½¿ç”¨
    SharedState --&gt; Options : åŒ…å«
    WebUI --&gt; ScriptCallbacks : å›è°ƒ
    ScriptCallbacks --&gt; ExtensionManager : ç®¡ç†
</code></pre>
<h3 data-id="heading-18">5. æ ¸å¿ƒå‡½æ•°è§£æ</h3>
<h4 data-id="heading-19">5.1 ç¯å¢ƒå‡†å¤‡å‡½æ•° (<code>prepare_environment</code>)</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare_environment</span>():
    <span class="hljs-string">"""æ ¸å¿ƒç¯å¢ƒåˆå§‹åŒ–å‡½æ•°ï¼Œå¤„ç†æ‰€æœ‰å‰ç½®ä¾èµ–"""</span>
    <span class="hljs-comment"># 1. é…ç½® Torch å®‰è£…æºå’Œç‰ˆæœ¬</span>
    torch_index_url = os.environ.get(<span class="hljs-string">'TORCH_INDEX_URL'</span>, <span class="hljs-string">"https://download.pytorch.org/whl/cu121"</span>)
    torch_command = os.environ.get(<span class="hljs-string">'TORCH_COMMAND'</span>, 
        <span class="hljs-string">f"pip install torch==2.1.2 torchvision==0.16.2 --extra-index-url <span class="hljs-subst">{torch_index_url}</span>"</span>)
    
    <span class="hljs-comment"># 2. ç¡¬ä»¶ç‰¹å®šä¼˜åŒ–ï¼ˆIntel IPEXï¼‰</span>
    <span class="hljs-keyword">if</span> args.use_ipex:
        <span class="hljs-keyword">if</span> platform.system() == <span class="hljs-string">"Windows"</span>:
            <span class="hljs-comment"># Windows + Intel Arc çš„ç‰¹æ®Šæ„å»º</span>
            url_prefix = <span class="hljs-string">"https://github.com/Nuullll/intel-extension-for-pytorch/releases/download/..."</span>
            torch_command = <span class="hljs-string">f"pip install <span class="hljs-subst">{url_prefix}</span>/torch-2.0.0a0...whl"</span>
    
    <span class="hljs-comment"># 3. åŸºç¡€ä¾èµ–æ£€æŸ¥ä¸å®‰è£…</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> args.skip_torch_cuda_test <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> check_run_python(<span class="hljs-string">"import torch; assert torch.cuda.is_available()"</span>):
        <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">'Torch is not able to use GPU'</span>)
    
    <span class="hljs-comment"># 4. å…‹éš†å¿…è¦çš„æ¨¡å‹ä»“åº“</span>
    git_clone(assets_repo, repo_dir(<span class="hljs-string">'stable-diffusion-webui-assets'</span>), <span class="hljs-string">"assets"</span>, assets_commit_hash)
    git_clone(stable_diffusion_repo, repo_dir(<span class="hljs-string">'stable-diffusion-stability-ai'</span>), 
              <span class="hljs-string">"Stable Diffusion"</span>, stable_diffusion_commit_hash)
    
    <span class="hljs-comment"># 5. å®‰è£… Python ä¾èµ–åŒ…</span>
    requirements_file = os.environ.get(<span class="hljs-string">'REQS_FILE'</span>, <span class="hljs-string">"requirements_versions.txt"</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> requirements_met(requirements_file):
        run_pip(<span class="hljs-string">f"install -r \"<span class="hljs-subst">{requirements_file}</span>\""</span>, <span class="hljs-string">"requirements"</span>)
    
    <span class="hljs-comment"># 6. æ‰©å±•æ’ä»¶å®‰è£…</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> args.skip_install:
        run_extensions_installers(settings_file=args.ui_settings_file)
</code></pre>
<h4 data-id="heading-20">5.2 æ¨¡å—åˆå§‹åŒ–å‡½æ•° (<code>initialize</code>)</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">initialize</span>():
    <span class="hljs-string">"""æ ¸å¿ƒæ¨¡å—åˆå§‹åŒ–ï¼Œå®ç°æŒ‰éœ€åŠ è½½"""</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> initialize_util
    
    <span class="hljs-comment"># 1. ç³»ç»Ÿçº§ä¿®å¤å’Œé…ç½®</span>
    initialize_util.fix_torch_version()        <span class="hljs-comment"># ä¿®å¤ torch ç‰ˆæœ¬å­—ç¬¦ä¸²</span>
    initialize_util.fix_asyncio_event_loop_policy()  <span class="hljs-comment"># ä¿®å¤å¼‚æ­¥äº‹ä»¶å¾ªç¯</span>
    initialize_util.configure_sigint_handler() <span class="hljs-comment"># é…ç½®ä¿¡å·å¤„ç†</span>
    
    <span class="hljs-comment"># 2. æ¨¡å‹ç³»ç»Ÿåˆå§‹åŒ–</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> sd_models
    sd_models.setup_model()  <span class="hljs-comment"># è®¾ç½®æ¨¡å‹åŠ è½½è·¯å¾„å’Œç¼“å­˜</span>
    
    <span class="hljs-comment"># 3. åå¤„ç†æ¨¡å‹åŠ è½½ï¼ˆæŒ‰éœ€ï¼‰</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> codeformer_model, gfpgan_model
    codeformer_model.setup_model(cmd_opts.codeformer_models_path)
    gfpgan_model.setup_model(cmd_opts.gfpgan_models_path)
    
    <span class="hljs-comment"># 4. æ‰©å±•ç³»ç»Ÿåˆå§‹åŒ–</span>
    initialize_rest(reload_script_modules=<span class="hljs-literal">False</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">initialize_rest</span>(<span class="hljs-params">*, reload_script_modules=<span class="hljs-literal">False</span></span>):
    <span class="hljs-string">"""è¾…åŠ©åˆå§‹åŒ–å‡½æ•°ï¼Œæ”¯æŒé‡è½½"""</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> scripts, extensions, sd_models
    
    <span class="hljs-comment"># 1. åŠ è½½é‡‡æ ·å™¨é…ç½®</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> sd_samplers
    sd_samplers.set_samplers()
    
    <span class="hljs-comment"># 2. æ‰©å±•è„šæœ¬åŠ¨æ€åŠ è½½</span>
    <span class="hljs-keyword">with</span> startup_timer.subcategory(<span class="hljs-string">"load scripts"</span>):
        scripts.load_scripts()  <span class="hljs-comment"># ä» extensions_dir åŠ è½½ç”¨æˆ·è„šæœ¬</span>
    
    <span class="hljs-comment"># 3. æ¨¡å‹åˆ—è¡¨åˆ·æ–°</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> shared.cmd_opts.ui_debug_mode:
        sd_models.list_models()  <span class="hljs-comment"># æ‰«æ models ç›®å½•</span>
    
    <span class="hljs-comment"># 4. åå°çº¿ç¨‹åŠ è½½ä¸»æ¨¡å‹ï¼ˆä¼˜åŒ–å¯åŠ¨ä½“éªŒï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> shared.cmd_opts.skip_load_model_at_start:
        Thread(target=load_model).start()  <span class="hljs-comment"># å¼‚æ­¥åŠ è½½é¿å…ç•Œé¢å¡é¡¿</span>
</code></pre>
<h4 data-id="heading-21">5.3 Gradio åº”ç”¨å¯åŠ¨å‡½æ•° (<code>webui</code>)</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">webui</span>():
    <span class="hljs-string">"""ä¸» Web UI å¯åŠ¨å‡½æ•°ï¼Œç®¡ç†å®Œæ•´çš„åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"""</span>
    <span class="hljs-keyword">from</span> modules.shared_cmd_options <span class="hljs-keyword">import</span> cmd_opts
    launch_api = cmd_opts.api
    
    <span class="hljs-comment"># 1. ç³»ç»Ÿåˆå§‹åŒ–</span>
    initialize.initialize()
    
    <span class="hljs-comment"># 2. åˆ›å»º Gradio ç•Œé¢ç»„ä»¶</span>
    <span class="hljs-keyword">from</span> modules <span class="hljs-keyword">import</span> shared, ui, script_callbacks
    shared.demo = ui.create_ui()  <span class="hljs-comment"># æ„å»ºæ‰€æœ‰UIæ ‡ç­¾é¡µå’Œæ§ä»¶</span>
    
    <span class="hljs-comment"># 3. é…ç½®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆæ”¯æŒå¹¶å‘ï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cmd_opts.no_gradio_queue:
        shared.demo.queue(<span class="hljs-number">64</span>)  <span class="hljs-comment"># è®¾ç½®é˜Ÿåˆ—å¤§å°</span>
    
    <span class="hljs-comment"># 4. å¯åŠ¨ Gradio æœåŠ¡å™¨</span>
    app, local_url, share_url = shared.demo.launch(
        share=cmd_opts.share,                    <span class="hljs-comment"># æ˜¯å¦ç”Ÿæˆå…¬ç½‘é“¾æ¥</span>
        server_name=initialize_util.gradio_server_name(),  <span class="hljs-comment"># ç»‘å®šåœ°å€</span>
        server_port=cmd_opts.port,               <span class="hljs-comment"># ç«¯å£å·</span>
        auth=gradio_auth_creds,                  <span class="hljs-comment"># èº«ä»½éªŒè¯</span>
        inbrowser=auto_launch_browser,           <span class="hljs-comment"># è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
        prevent_thread_lock=<span class="hljs-literal">True</span>,                <span class="hljs-comment"># ä¸é˜»å¡ä¸»çº¿ç¨‹</span>
        root_path=<span class="hljs-string">f"/<span class="hljs-subst">{cmd_opts.subpath}</span>"</span> <span class="hljs-keyword">if</span> cmd_opts.subpath <span class="hljs-keyword">else</span> <span class="hljs-string">""</span>
    )
    
    <span class="hljs-comment"># 5. å®‰å…¨åŠ å›ºï¼šç§»é™¤è¿‡äºå®½æ¾çš„ CORS è®¾ç½®</span>
    app.user_middleware = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> app.user_middleware 
                          <span class="hljs-keyword">if</span> x.cls.__name__ != <span class="hljs-string">'CORSMiddleware'</span>]
    initialize_util.setup_middleware(app)  <span class="hljs-comment"># åº”ç”¨è‡ªå®šä¹‰ä¸­é—´ä»¶</span>
    
    <span class="hljs-comment"># 6. æ³¨å†Œ API ç«¯ç‚¹</span>
    <span class="hljs-keyword">if</span> launch_api:
        create_api(app)  <span class="hljs-comment"># åˆ›å»º RESTful API</span>
    
    <span class="hljs-comment"># 7. æ‰©å±•å›è°ƒç³»ç»Ÿ</span>
    script_callbacks.app_started_callback(shared.demo, app)
    
    <span class="hljs-comment"># 8. ä¸»äº‹ä»¶å¾ªç¯ï¼ˆæ”¯æŒé‡å¯ï¼‰</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            server_command = shared.state.wait_for_server_command(timeout=<span class="hljs-number">5</span>)
            <span class="hljs-keyword">if</span> server_command == <span class="hljs-string">"stop"</span>:
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">elif</span> server_command == <span class="hljs-string">"restart"</span>:
                handle_restart()  <span class="hljs-comment"># ä¼˜é›…é‡å¯é€»è¾‘</span>
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'Caught KeyboardInterrupt, stopping...'</span>)
    
    <span class="hljs-comment"># 9. æ¸…ç†èµ„æº</span>
    shared.demo.close()
</code></pre>
<h3 data-id="heading-22">6. åŒç±»æŠ€æœ¯å¯¹æ¯”</h3>
<h4 data-id="heading-23">6.1 ä¸ ComfyUI å¯¹æ¯”</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>AUTOMATIC1111 WebUI</th><th>ComfyUI</th></tr></thead><tbody><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>è¾ƒä½ï¼Œä¼ ç»Ÿè¡¨å•ç•Œé¢</td><td>è¾ƒé«˜ï¼ŒèŠ‚ç‚¹å¼å·¥ä½œæµ</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>æ’ä»¶ç³»ç»Ÿï¼ŒPythonè„šæœ¬</td><td>èŠ‚ç‚¹ç³»ç»Ÿï¼Œå¯è§†åŒ–ç¼–ç¨‹</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>ä¼˜åŒ–è‰¯å¥½ï¼Œæ”¯æŒä½æ˜¾å­˜</td><td>éœ€è¦æ›´å¤šæ˜¾å­˜ï¼Œä½†æµç¨‹æ›´çµæ´»</td></tr><tr><td><strong>ç¤¾åŒºç”Ÿæ€</strong></td><td>ææ´»è·ƒï¼Œæ‰©å±•ä¸°å¯Œ</td><td>å¢é•¿è¿…é€Ÿï¼Œå·¥ä½œæµåˆ†äº«å¤š</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¸¸è§„å›¾åƒç”Ÿæˆã€å¿«é€Ÿè¿­ä»£</td><td>å¤æ‚æµç¨‹ã€æ‰¹é‡å¤„ç†ã€ç ”ç©¶</td></tr></tbody></table>
<h4 data-id="heading-24">6.2 ä¸ DiffusionBee (macOS) å¯¹æ¯”</h4>



































<table><thead><tr><th>ç»´åº¦</th><th>WebUI</th><th>DiffusionBee</th></tr></thead><tbody><tr><td><strong>å®‰è£…å¤æ‚åº¦</strong></td><td>ä¸­ç­‰ï¼Œéœ€è¦Pythonç¯å¢ƒ</td><td>ç®€å•ï¼Œç›´æ¥å®‰è£…</td></tr><tr><td><strong>åŠŸèƒ½å®Œæ•´æ€§</strong></td><td>å®Œæ•´ï¼Œæ”¯æŒæ‰€æœ‰é«˜çº§åŠŸèƒ½</td><td>åŸºç¡€ï¼Œæ ¸å¿ƒç”ŸæˆåŠŸèƒ½</td></tr><tr><td><strong>å¯å®šåˆ¶æ€§</strong></td><td>æé«˜ï¼Œå®Œå…¨å¼€æºå¯ä¿®æ”¹</td><td>æœ‰é™ï¼Œé—­æºè½¯ä»¶</td></tr><tr><td><strong>è·¨å¹³å°</strong></td><td>Windows/Linux/macOS</td><td>macOS ä¸“å±</td></tr><tr><td><strong>æ›´æ–°é¢‘ç‡</strong></td><td>æ¯æ—¥æ›´æ–°ï¼Œå¿«é€Ÿè¿­ä»£</td><td>è¾ƒæ…¢ï¼Œç¨³å®šå‘å¸ƒ</td></tr></tbody></table>
<h3 data-id="heading-25">7. æŠ€æœ¯æ¼”è¿›å»ºè®®</h3>
<h4 data-id="heading-26">7.1 æ¶æ„ä¼˜åŒ–æ–¹å‘</h4>
<ol>
<li><strong>æ¨¡å—è§£è€¦</strong>ï¼šè¿›ä¸€æ­¥åˆ†ç¦»ç•Œé¢é€»è¾‘ä¸ç”Ÿæˆé€»è¾‘</li>
<li><strong>å¾®æœåŠ¡åŒ–</strong>ï¼šè€ƒè™‘å°†æ¨¡å‹æœåŠ¡ã€UIæœåŠ¡ã€æ‰©å±•æœåŠ¡åˆ†ç¦»éƒ¨ç½²</li>
<li><strong>é…ç½®å³ä»£ç </strong>ï¼šæ”¯æŒå£°æ˜å¼é…ç½®ï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶å’Œå›¢é˜Ÿåä½œ</li>
</ol>
<h4 data-id="heading-27">7.2 æ€§èƒ½æå‡å»ºè®®</h4>
<ol>
<li><strong>æ¨¡å‹é¢„çƒ­</strong>ï¼šåå°é¢„åŠ è½½å¸¸ç”¨æ¨¡å‹å‡å°‘ç­‰å¾…æ—¶é—´</li>
<li><strong>ç»“æœç¼“å­˜</strong>ï¼šå®ç°ç”Ÿæˆç»“æœçš„æ™ºèƒ½ç¼“å­˜å’Œå¤ç”¨</li>
<li><strong>æ¸è¿›å¼åŠ è½½</strong>ï¼šè¶…å¤§ç•Œé¢æŒ‰éœ€åŠ è½½ç»„ä»¶ï¼Œæå‡åˆæ¬¡æ‰“å¼€é€Ÿåº¦</li>
</ol>
<h4 data-id="heading-28">7.3 å®‰å…¨å¢å¼º</h4>
<ol>
<li><strong>æ‰©å±•æ²™ç®±</strong>ï¼šå¯¹ç¬¬ä¸‰æ–¹è„šæœ¬è¿è¡Œç¯å¢ƒéš”ç¦»</li>
<li><strong>è¾“å…¥éªŒè¯</strong>ï¼šåŠ å¼ºæç¤ºè¯å’Œå‚æ•°çš„å®‰å…¨æ£€æŸ¥</li>
<li><strong>è®¿é—®æ§åˆ¶</strong>ï¼šæ›´ç»†ç²’åº¦çš„æƒé™ç®¡ç†ç³»ç»Ÿ</li>
</ol>
<h3 data-id="heading-29">æ€»ç»“</h3>
<p>AUTOMATIC1111/stable-diffusion-webui é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æ¨¡å—åŒ–æ¶æ„å’Œç¨³å¥çš„å·¥ç¨‹å®ç°ï¼ŒæˆåŠŸåœ°å°†å¤æ‚çš„ Stable Diffusion æ¨¡å‹å°è£…ä¸ºæ˜“ç”¨çš„ Web åº”ç”¨ã€‚å…¶æ ¸å¿ƒä»·å€¼ä¸ä»…åœ¨äºåŠŸèƒ½ä¸°å¯Œæ€§ï¼Œæ›´åœ¨äºï¼š</p>
<ol>
<li><strong>å·¥ç¨‹å®Œå¤‡æ€§</strong>ï¼šä»ç¯å¢ƒç®¡ç†åˆ°é”™è¯¯å¤„ç†éƒ½ä½“ç°äº†ç”Ÿäº§çº§è½¯ä»¶çš„è€ƒé‡</li>
<li><strong>æ‰©å±•å‹å¥½æ€§</strong>ï¼šè®¾è®¡è‰¯å¥½çš„å›è°ƒç³»ç»Ÿå’Œé…ç½®ç®¡ç†æ”¯æŒç”Ÿæ€å‘å±•</li>
<li><strong>æ¸è¿›å¼å¤æ‚åº¦</strong>ï¼šç•Œé¢è®¾è®¡æ—¢æ»¡è¶³åˆå­¦è€…ä¹Ÿèƒ½æœåŠ¡é«˜çº§ç”¨æˆ·</li>
<li><strong>ç¤¾åŒºé©±åŠ¨</strong>ï¼šå¼€æºåä½œæ¨¡å¼ç¡®ä¿äº†å¿«é€Ÿè¿­ä»£å’Œé—®é¢˜ä¿®å¤</li>
</ol>
<p>é¡¹ç›®åœ¨æŠ€æœ¯å®ç°ä¸Šå¹³è¡¡äº†æ˜“ç”¨æ€§ä¸çµæ´»æ€§ï¼Œé€šè¿‡åˆç†çš„æŠ½è±¡å±‚è®¾è®¡ï¼Œä½¿å¾—åº•å±‚æ¨¡å‹å‡çº§å’Œç•Œé¢åŠŸèƒ½æ‰©å±•èƒ½å¤Ÿç›¸å¯¹ç‹¬ç«‹åœ°è¿›è¡Œï¼Œè¿™æ˜¯å…¶èƒ½å¤Ÿé•¿æœŸä¿æŒæ´»è·ƒå’Œé¢†å…ˆçš„å…³é”®æ¶æ„ä¼˜åŠ¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Three.js + D3.js å®ç°å¯äº¤äº’ 3D ä¸­å›½åœ°å›¾ï¼ˆçœä»½èšç„¦ / é£çº¿ / å…‰æŸ±ï¼‰]]></title>    <link>https://juejin.cn/post/7599299048302493739</link>    <guid>https://juejin.cn/post/7599299048302493739</guid>    <pubDate>2026-01-26T07:51:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599299048302493739" data-draft-id="7598938568432205839" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Three.js + D3.js å®ç°å¯äº¤äº’ 3D ä¸­å›½åœ°å›¾ï¼ˆçœä»½èšç„¦ / é£çº¿ / å…‰æŸ±ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T07:51:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="scorpioop"/> <meta itemprop="url" content="https://juejin.cn/user/2683248842638445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Three.js + D3.js å®ç°å¯äº¤äº’ 3D ä¸­å›½åœ°å›¾ï¼ˆçœä»½èšç„¦ / é£çº¿ / å…‰æŸ±ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2683248842638445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    scorpioop
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:51:49.000Z" title="Mon Jan 26 2026 07:51:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨ Three.js + D3.js å®ç°å¯äº¤äº’ 3D ä¸­å›½åœ°å›¾ï¼ˆçœä»½èšç„¦ / é£çº¿ / å…‰æŸ±ï¼‰</h2>
<blockquote>
<p>æœ¬æ–‡å°†å®Œæ•´æ‹†è§£ä¸€ä¸ª <strong>Three.js + D3.js</strong> å®ç°çš„ 3D ä¸­å›½åœ°å›¾é¡¹ç›®ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>GeoJSON è½¬ 3D åœ°å›¾</li>
<li>çœä»½ç‚¹å‡»é«˜äº® + ç›¸æœºå¹³æ»‘èšç„¦</li>
<li>å…‰æŸ±æ•°æ®å¯è§†åŒ–</li>
<li>åŸå¸‚é£çº¿åŠ¨ç”»</li>
<li>CSS2D æ ‡ç­¾ç³»ç»Ÿ</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æ•´ä½“æ•ˆæœé¢„è§ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00f10373f1c045afbb064ad4556e3ea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2NvcnBpb29w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770018708&amp;x-signature=kYedP%2FMI%2BVRQWAesN20SLTzUOR4%3D" alt="ScreenShot_2026-01-26_150821_367.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">äºŒã€æŠ€æœ¯æ ˆè¯´æ˜</h3>
<pre><code class="hljs language-arduino" lang="arduino">Three.js        <span class="hljs-comment">// 3D æ¸²æŸ“</span>
D3-geo          <span class="hljs-comment">// ç»çº¬åº¦ â†’ å¹³é¢åæ ‡</span>
CSS2DRenderer   <span class="hljs-comment">// DOM æ ‡ç­¾</span>
GeoJSON         <span class="hljs-comment">// ä¸­å›½åœ°å›¾æ•°æ®</span>
React Hooks     <span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸç®¡ç†</span>
</code></pre>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€GeoJSON â†’ Three.js 3D åœ°å›¾</h3>
<p>é€šè¿‡geoJsonæ•°æ®åˆ›å»ºåœ°å›¾å½¢çŠ¶ï¼ŒgeoJsonæ•°æ®å¯ä»¥ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Fdatav.aliyun.com%2Fportal%2Fschool%2Fatlas%2Farea_selector%3Fspm%3Da2crr.23498931.0.0.6f7315dd7Ek5fd" target="_blank" title="https://datav.aliyun.com/portal/school/atlas/area_selector?spm=a2crr.23498931.0.0.6f7315dd7Ek5fd" ref="nofollow noopener noreferrer">è¿™é‡Œè·å–</a></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å£°æ˜ä¸€ä¸ªå‡½æ•°ç”¨äºåˆ›å»ºåœ°å›¾å½¢çŠ¶</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">createSichuanShape</span>(<span class="hljs-params">scene: THREE.Scene</span>) {
    <span class="hljs-comment">// è§£æjsonæ•°æ®</span>
    <span class="hljs-keyword">const</span> jsonData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(chinaJson);
    
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåˆ†ç»„ï¼ŒæŠŠåœ°å›¾ä¸­çš„å¤šä¸ªå›¾å½¢æ”¾åœ¨ä¸€ä¸ªç»„ä¸­ï¼Œä¾¿äºç®¡ç†</span>
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Group</span>();
    <span class="hljs-comment">// ä½¿ç”¨d3æŠŠç»çº¬åº¦è½¬æ¢æˆå¹³é¢åæ ‡ï¼Œä¸­å¿ƒç‚¹ä¸ºæˆéƒ½</span>
    <span class="hljs-keyword">const</span> projection = d3.<span class="hljs-title function_">geoMercator</span>().<span class="hljs-title function_">center</span>([<span class="hljs-number">104.065735</span>, <span class="hljs-number">30.659462</span>]);
    <span class="hljs-comment">// éå†jsonæ•°æ®ä¸­çš„features</span>
    jsonData.<span class="hljs-property">features</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">feature: any, i: any</span>) =&gt;</span> {
      <span class="hljs-comment">// è·å–featureä¸­çš„geometryæ•°æ®ï¼Œæ–¹ä¾¿å¼•ç”¨</span>

      <span class="hljs-keyword">const</span> geometry = feature.<span class="hljs-property">geometry</span>;
      <span class="hljs-keyword">const</span> type = geometry.<span class="hljs-property">type</span>;
      <span class="hljs-comment">// åˆ›å»ºåˆ†ç»„ï¼ŒæŠŠåŒä¸€ä¸ªå¸‚çš„å½¢çŠ¶æ”¾åœ¨ä¸€ä¸ªåˆ†ç»„ï¼Œä¾¿äºç®¡ç†</span>
      <span class="hljs-keyword">const</span> city = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Group</span>();
      <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"MultiPolygon"</span> || type === <span class="hljs-string">"Polygon"</span>) {
        
        <span class="hljs-comment">// éå†geometryä¸­çš„æ•°æ®</span>
        geometry.<span class="hljs-property">coordinates</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">multipolygon: any</span>) =&gt;</span> {
          <span class="hljs-comment">// åˆ›å»ºå½¢çŠ¶ï¼Œç”¨äºå±•ç¤ºåœ°ç†å½¢çŠ¶</span>
          <span class="hljs-keyword">const</span> shape = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Shape</span>();
          <span class="hljs-comment">// å­˜å‚¨æ¯ä¸ªåæ ‡ï¼Œç”¨äºç»˜åˆ¶è¾¹ç•Œçº¿</span>
          <span class="hljs-keyword">const</span> <span class="hljs-attr">arr</span>: any = [];
          <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"Polygon"</span>) {
            multipolygon.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: any, index: any</span>) =&gt;</span> {
              <span class="hljs-comment">// ä½¿ç”¨d3è½¬æ¢åæ ‡</span>
              <span class="hljs-keyword">const</span> [x, y] = projection.<span class="hljs-title function_">translate</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])(item) <span class="hljs-keyword">as</span> any;
              <span class="hljs-comment">// æ ¹æ®è½¬æ¢åçš„åæ ‡ç»˜åˆ¶å½¢çŠ¶</span>
              <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) {
                shape.<span class="hljs-title function_">moveTo</span>(x, y);
              } <span class="hljs-keyword">else</span> {
                shape.<span class="hljs-title function_">lineTo</span>(x, y);
              }
              arr.<span class="hljs-title function_">push</span>(x, y, <span class="hljs-number">3.3</span>);
            });
            <span class="hljs-comment">// ç”»è¾¹ç•Œçº¿</span>
            <span class="hljs-title function_">createLine</span>(arr, city);
          } <span class="hljs-keyword">else</span> {
            multipolygon.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">polygon: any</span>) =&gt;</span> {
              polygon.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item: any, index: any</span>) =&gt;</span> {
                <span class="hljs-comment">// ä½¿ç”¨d3è½¬æ¢åæ ‡</span>
                <span class="hljs-keyword">const</span> [x, y] = projection.<span class="hljs-title function_">translate</span>([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>])(item) <span class="hljs-keyword">as</span> any;
                <span class="hljs-comment">// æ ¹æ®è½¬æ¢åçš„åæ ‡ç»˜åˆ¶å½¢çŠ¶</span>
                <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) {
                  shape.<span class="hljs-title function_">moveTo</span>(x, y);
                } <span class="hljs-keyword">else</span> {
                  shape.<span class="hljs-title function_">lineTo</span>(x, y);
                }
                arr.<span class="hljs-title function_">push</span>(x, y, <span class="hljs-number">3.3</span>);
              });
            });
            <span class="hljs-comment">// ç»˜åˆ¶è¾¹ç•Œçº¿</span>
            <span class="hljs-title function_">createLine</span>(arr, city);
          }

          <span class="hljs-comment">// åˆ›å»º ExtrudeGeometryç”¨äºæ˜¾ç¤º3dæ•ˆæœ</span>
          <span class="hljs-keyword">const</span> extrudGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ExtrudeGeometry</span>(shape, {
            <span class="hljs-attr">depth</span>: <span class="hljs-number">3</span>, <span class="hljs-comment">// åœ°å›¾çš„åšåº¦</span>
          });
          
          <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShaderMaterial</span>({
            <span class="hljs-attr">uniforms</span>: {
              <span class="hljs-attr">uTopColor</span>: { <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-string">"#8bcee6"</span>) },
              <span class="hljs-attr">uBottomColor</span>: { <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-string">"#12357d"</span>) },
              <span class="hljs-attr">uSelected</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">0.0</span> },
              <span class="hljs-attr">minY</span>: { <span class="hljs-attr">value</span>: -<span class="hljs-number">90</span> },
              <span class="hljs-attr">maxY</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">10</span> },
            },
            <span class="hljs-attr">vertexShader</span>: <span class="hljs-string">`
   varying float vY;
    void main() {
      vY = position.y;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `</span>,
            <span class="hljs-attr">fragmentShader</span>: <span class="hljs-string">`
    uniform vec3 uTopColor;
    uniform vec3 uBottomColor;
    uniform float uSelected;
    uniform float minY;
    uniform float maxY;
    varying float vY;

    void main() {
      float t = clamp((vY - minY) / (maxY - minY), 0.0, 1.0);
      vec3 color = mix(uBottomColor, uTopColor, t);

      // è¢«é€‰ä¸­æ—¶æäº®
      if (uSelected &gt; 0.5) {
        color = mix(color, vec3(1.0, 0.9, 0.8), 0.3);
      }

      gl_FragColor = vec4(color, 1.0);
    }
  `</span>,
          });

          <span class="hljs-comment">// åˆ›å»ºç‰©ä½“ï¼Œç”¨äºæ˜¾ç¤ºåœ°å›¾</span>
          <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(extrudGeometry, material);
          mesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
          mesh.<span class="hljs-property">userData</span> = {
            <span class="hljs-attr">name</span>: feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>,
            feature,
          };
          <span class="hljs-comment">// æ·»åŠ åˆ°åˆ†ç»„</span>
          city.<span class="hljs-title function_">add</span>(mesh);
        });
      }

      <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>) {
        <span class="hljs-title function_">createProvinceLabel</span>(
          feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>,
          feature.<span class="hljs-property">properties</span>.<span class="hljs-property">centroid</span>
            ? feature.<span class="hljs-property">properties</span>.<span class="hljs-property">centroid</span>
            : feature.<span class="hljs-property">properties</span>.<span class="hljs-property">center</span>,
          projection,
          city
        );
      }

      <span class="hljs-comment">// æ·»åŠ åˆ°åˆ†ç»„</span>
      map.<span class="hljs-title function_">add</span>(city);
    });
    <span class="hljs-comment">// æ·»åŠ åˆ°åœºæ™¯</span>
    scene.<span class="hljs-title function_">add</span>(map);
    map.<span class="hljs-property">scale</span>.<span class="hljs-property">y</span> = -<span class="hljs-number">1</span>;
    barsGroup.<span class="hljs-property">current</span> = <span class="hljs-title function_">createLightBars</span>(lightBarData, projection, scene);
    <span class="hljs-keyword">return</span> map;
  }
</code></pre>
<hr/>
<h3 data-id="heading-4">å››ã€çœä»½ç‚¹å‡»é«˜äº®å’Œè§†è§’ç§»åŠ¨</h3>
<p>çœä»½ç‚¹å‡»æ—¶ä¼šæœ‰é¢œè‰²å˜åŒ–ï¼Œä»¥åŠç›¸æœºè§†è§’ä¼šå˜æ¢åˆ°çœä»½ä¸­å¿ƒ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params">event: MouseEvent</span>) =&gt; {
        <span class="hljs-comment">// è·å–æ¸²æŸ“åŒºåŸŸçš„è¾¹ç•Œï¼Œç”¨äºæ­£ç¡®è·å–é¼ æ ‡ç‚¹å‡»ä½ç½®</span>
        <span class="hljs-keyword">const</span> rect = renderer.<span class="hljs-property">domElement</span>.<span class="hljs-title function_">getBoundingClientRect</span>();

        <span class="hljs-comment">// è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å°†é¼ æ ‡ç‚¹å‡»åœ¨canvasç”»å¸ƒä¸Šçš„åƒç´ åæ ‡è½¬æ¢ä¸ºæ ‡å‡†åŒ–è®¾å¤‡åæ ‡ï¼ˆNormalized Device Coordinates, NDCï¼‰ï¼ŒèŒƒå›´æ˜¯[-1, 1]</span>
        mouse.<span class="hljs-property">x</span> = ((event.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>) / rect.<span class="hljs-property">width</span>) * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
        mouse.<span class="hljs-property">y</span> = -((event.<span class="hljs-property">clientY</span> - rect.<span class="hljs-property">top</span>) / rect.<span class="hljs-property">height</span>) * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;

        raycaster.<span class="hljs-title function_">setFromCamera</span>(mouse, camera);
        <span class="hljs-comment">// åªç‚¹å‡»åˆ°meshæœ‰ååº”ï¼Œç‚¹å‡»åˆ°çº¿å’Œlabelæ²¡ç”¨</span>

        <span class="hljs-keyword">const</span> <span class="hljs-attr">meshes</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>[] = [];
        map.<span class="hljs-title function_">traverse</span>(<span class="hljs-function">(<span class="hljs-params">obj</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> ((obj <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>).<span class="hljs-property">isMesh</span>) {
            meshes.<span class="hljs-title function_">push</span>(obj <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>);
          }
        });

        <span class="hljs-keyword">const</span> intersects = raycaster.<span class="hljs-title function_">intersectObjects</span>(meshes, <span class="hljs-literal">true</span>);

        <span class="hljs-keyword">if</span> (intersects.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
          <span class="hljs-keyword">const</span> mesh = intersects[<span class="hljs-number">0</span>].<span class="hljs-property">object</span> <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>;
          <span class="hljs-title function_">onSelectProvince</span>(mesh);
          <span class="hljs-title function_">focusProvince</span>(mesh, camera, controls);
        }
      };
      <span class="hljs-comment">// çœä»½å˜è‰²</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onSelectProvince</span>(<span class="hljs-params">mesh: THREE.Mesh</span>) {
   
    <span class="hljs-keyword">if</span> (activeMesh.<span class="hljs-property">current</span>) {
      (
        activeMesh.<span class="hljs-property">current</span>.<span class="hljs-property">material</span> <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">ShaderMaterial</span>
      ).<span class="hljs-property">uniforms</span>.<span class="hljs-property">uSelected</span>.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// è¿™æ ·è®¾ç½®åï¼Œæ ¹æ®materialä¸­çš„è®¾ç½®ï¼Œçœä»½é¢œè‰²å°±ä¼šå‘ç”Ÿæ”¹å˜</span>
    (mesh.<span class="hljs-property">material</span> <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">ShaderMaterial</span>).<span class="hljs-property">uniforms</span>.<span class="hljs-property">uSelected</span>.<span class="hljs-property">value</span> = <span class="hljs-number">1</span>;

    activeMesh.<span class="hljs-property">current</span> = mesh;

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é€‰ä¸­çœä»½ï¼š"</span>, mesh.<span class="hljs-property">userData</span>.<span class="hljs-property">name</span>);
  }
  <span class="hljs-comment">// èšç„¦çœä»½</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">focusProvince</span>(<span class="hljs-params">
    mesh: THREE.Object3D,
    camera: THREE.PerspectiveCamera,
    controls: OrbitControls
  </span>) {
    <span class="hljs-keyword">const</span> center = <span class="hljs-title function_">getMeshCenter</span>(mesh);
    <span class="hljs-keyword">const</span> camPos = <span class="hljs-title function_">calcCameraPosition</span>(center, <span class="hljs-number">50</span>);

    <span class="hljs-title function_">moveCameraTo</span>(camera, controls, camPos, center);
  }
  <span class="hljs-comment">// è·å–meshçš„ä¸­å¿ƒç‚¹</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getMeshCenter</span>(<span class="hljs-params">mesh: THREE.Object3D</span>) {
    <span class="hljs-keyword">const</span> box = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Box3</span>().<span class="hljs-title function_">setFromObject</span>(mesh);
    <span class="hljs-keyword">const</span> center = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>();
    box.<span class="hljs-title function_">getCenter</span>(center);
    <span class="hljs-keyword">return</span> center;
  }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">calcCameraPosition</span>(<span class="hljs-params">target: THREE.Vector3, offset = <span class="hljs-number">40</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(target.<span class="hljs-property">x</span>, target.<span class="hljs-property">y</span> - offset, target.<span class="hljs-property">z</span> + offset);
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">moveCameraTo</span>(<span class="hljs-params">
    camera: THREE.Camera,
    controls: OrbitControls,
    newCamPos: THREE.Vector3,
    newTarget: THREE.Vector3
  </span>) {
    camFrom.<span class="hljs-title function_">copy</span>(camera.<span class="hljs-property">position</span>);
    camTo.<span class="hljs-title function_">copy</span>(newCamPos);

    targetFrom.<span class="hljs-title function_">copy</span>(controls.<span class="hljs-property">target</span>);
    targetTo.<span class="hljs-title function_">copy</span>(newTarget);

    t = <span class="hljs-number">0</span>;
    moving = <span class="hljs-literal">true</span>;
  }
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">animate</span> = (<span class="hljs-params"/>) =&gt; {
        ...å‰é¢å·²çœç•¥
        <span class="hljs-keyword">if</span> (moving) {
          t += <span class="hljs-number">0.03</span>;
          <span class="hljs-keyword">if</span> (t &gt;= <span class="hljs-number">1</span>) {
            t = <span class="hljs-number">1</span>;
            moving = <span class="hljs-literal">false</span>;
          }
          <span class="hljs-comment">// è®©ç›¸æœºä½ç½®åœ¨ `camFrom` å’Œ `camFrom` ä¹‹é—´ï¼ŒæŒ‰ `t` çš„æ¯”ä¾‹â€œçº¿æ€§æ’å€¼â€ç§»åŠ¨</span>
          camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">lerpVectors</span>(camFrom, camTo, t);
          controls.<span class="hljs-property">target</span>.<span class="hljs-title function_">lerpVectors</span>(targetFrom, targetTo, t);
          controls.<span class="hljs-title function_">update</span>();
        }
        
        rafIdRef.<span class="hljs-property">current</span> = <span class="hljs-title function_">requestAnimationFrame</span>(animate);
      };

</code></pre>
<p>åªå¯¹ <code>Mesh</code> åšæ‹¾å–ï¼Œé¿å…è¯¯ç‚¹åˆ°çº¿æˆ– labelã€‚</p>
<hr/>
<h3 data-id="heading-5">äº”ã€å…‰æŸ±æ•°æ®å¯è§†åŒ–</h3>
<h4 data-id="heading-6">å…‰æŸ±æœ¬ä½“</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> geometry = <span class="hljs-keyword">new</span> THREE.<span class="hljs-built_in">CylinderGeometry</span>(<span class="hljs-number">0.6</span>, <span class="hljs-number">0.6</span>, height);
</code></pre>
<h4 data-id="heading-7">é¡¶éƒ¨å‘å…‰ Sprite</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> glow = <span class="hljs-keyword">new</span> THREE.<span class="hljs-built_in">Sprite</span>(
  <span class="hljs-keyword">new</span> THREE.<span class="hljs-built_in">SpriteMaterial</span>({ map: glowTexture })
);
</code></pre>
<h4 data-id="heading-8">æ•°å€¼æ ‡ç­¾</h4>
<p>ä½¿ç”¨ <code>CSS2DObject</code>ï¼Œæ¯” Canvas å­—ä½“æ¸…æ™°å¾—å¤šã€‚</p>
<hr/>
<h3 data-id="heading-9">å…­ã€é£çº¿åŠ¨ç”»å®ç°</h3>
<pre><code class="hljs language-js" lang="js"> <span class="hljs-comment">// åˆ›å»ºé£çº¿</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">createFlyLine</span>(<span class="hljs-params">position1: any, position2: any, scene: THREE.Scene</span>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">createFlyCurve</span>(<span class="hljs-params">
      start: THREE.Vector3,
      end: THREE.Vector3,
      height = <span class="hljs-number">20</span>
    </span>) {
      <span class="hljs-keyword">const</span> mid = start.<span class="hljs-title function_">clone</span>().<span class="hljs-title function_">lerp</span>(end, <span class="hljs-number">0.5</span>);
      mid.<span class="hljs-property">z</span> += height; <span class="hljs-comment">// æŠ¬é«˜å½¢æˆå¼§çº¿</span>
      <span class="hljs-comment">// åˆ›å»ºå¼§çº¿</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">QuadraticBezierCurve3</span>(start, mid, end);
    }

    <span class="hljs-keyword">const</span> start = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(...position1);
    <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector3</span>(...position2);

    <span class="hljs-keyword">const</span> curve = <span class="hljs-title function_">createFlyCurve</span>(start, end, <span class="hljs-number">30</span>);

    <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">TubeGeometry</span>(curve, <span class="hljs-number">100</span>, <span class="hljs-number">0.15</span>, <span class="hljs-number">8</span>, <span class="hljs-literal">false</span>);

    <span class="hljs-keyword">const</span> texture = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">TextureLoader</span>().<span class="hljs-title function_">load</span>(flyLineImg);
    texture.<span class="hljs-property">wrapS</span> = <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">RepeatWrapping</span>;
    texture.<span class="hljs-property">repeat</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);

    <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>({
      <span class="hljs-attr">map</span>: texture,
      <span class="hljs-attr">transparent</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">depthWrite</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">blending</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">AdditiveBlending</span>,
    });

    <span class="hljs-keyword">const</span> flyLine = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);
    flyLineTexture.<span class="hljs-property">current</span>.<span class="hljs-title function_">push</span>(texture);
    scene.<span class="hljs-title function_">add</span>(flyLine);
  }
</code></pre>
<hr/>
<h3 data-id="heading-10">ä¸ƒã€åœ°å›¾çœä»½åç§°æ ‡ç­¾</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆ›å»ºçœä»½æ ‡ç­¾</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">createProvinceLabel</span>(<span class="hljs-params">
    name: string,
    center: [number, number],
    projection: any,
    map: THREE.Group
  </span>) {
    <span class="hljs-keyword">const</span> parent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
    <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
    div.<span class="hljs-property">className</span> = <span class="hljs-string">"province-label"</span>;
    div.<span class="hljs-property">textContent</span> = name;
    parent.<span class="hljs-title function_">appendChild</span>(div);

    <span class="hljs-keyword">const</span> label = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CSS2DObject</span>(parent);

    <span class="hljs-keyword">const</span> [x, y] = <span class="hljs-title function_">projection</span>(center);
    label.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(x, y, <span class="hljs-number">3</span>); <span class="hljs-comment">// z ç¨å¾®æŠ¬èµ·ï¼ŒYè½´ç¿»è½¬ä»¥åŒ¹é…åœ°å›¾</span>

    map.<span class="hljs-title function_">add</span>(label);
  }
</code></pre>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸å‚ä¸ WebGL</li>
<li>ä¸ä¼šè¢«é®æŒ¡</li>
<li>é€‚åˆæ–‡å­—ã€æ•°å€¼ã€UI</li>
</ul>
<hr/>
<h3 data-id="heading-11">åã€èµ„æºä¸ç”Ÿå‘½å‘¨æœŸæ¸…ç†ï¼ˆéå¸¸é‡è¦ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">cancelAnimationFrame</span>(rafId);
geometry<span class="hljs-selector-class">.dispose</span>();
material<span class="hljs-selector-class">.dispose</span>();
renderer<span class="hljs-selector-class">.forceContextLoss</span>();
</code></pre>
<p><strong>Three.js ä¸ä¼šå¸®ä½ è‡ªåŠ¨å›æ”¶æ˜¾å­˜ï¼ŒReact é¡¹ç›®å¿…é¡»æ‰‹åŠ¨æ¸…ç†ã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å›¾ç‰‡è‡ªåŠ¨åŒ–å‹ç¼©ï¼šä¸€ä¸ªæ”¯æŒ CLI ä¸ Vite æ„å»ºé›†æˆçš„æ— æŸä¼˜åŒ–å·¥å…·]]></title>    <link>https://juejin.cn/post/7599166436684234798</link>    <guid>https://juejin.cn/post/7599166436684234798</guid>    <pubDate>2026-01-26T07:53:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599166436684234798" data-draft-id="7599330434425733171" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å›¾ç‰‡è‡ªåŠ¨åŒ–å‹ç¼©ï¼šä¸€ä¸ªæ”¯æŒ CLI ä¸ Vite æ„å»ºé›†æˆçš„æ— æŸä¼˜åŒ–å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-26T07:53:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—¥è½ä»¥åæ½œå…¥æ·±æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/2045559991451175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å›¾ç‰‡è‡ªåŠ¨åŒ–å‹ç¼©ï¼šä¸€ä¸ªæ”¯æŒ CLI ä¸ Vite æ„å»ºé›†æˆçš„æ— æŸä¼˜åŒ–å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2045559991451175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—¥è½ä»¥åæ½œå…¥æ·±æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:53:46.000Z" title="Mon Jan 26 2026 07:53:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸å‰ç«¯å¼€å‘ä¸­ï¼Œå›¾ç‰‡èµ„æºå¾€å¾€æ˜¯ç½‘é¡µä½“ç§¯çš„â€œå¤§å¤´â€ã€‚ä¹‹å‰å¼€å‘çš„å¤ªé˜³ç³»ä»¿çœŸç³»ç»Ÿï¼ˆä»£ç å·²å¼€æºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzach2019%2Fsolar-system-simulation-system.git%25EF%25BC%258C%25E6%25AC%25A2%25E8%25BF%258Estar%25EF%25BC%2589%25EF%25BC%258C%25E5%2590%2584%25E4%25B8%25AA%25E5%25A4%25A9%25E4%25BD%2593%25E9%2583%25BD%25E6%2598%25AF%25E9%2587%2587%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25B4%25E5%259B%25BE%25E6%259D%2590%25E8%25B4%25A8%25EF%25BC%258C14%25E5%25BC%25A0%25E5%259B%25BE%25E7%2589%2587%25E5%25B0%25B1%25E6%259C%258910.1MB%25EF%25BC%258C%25E5%25B0%25BD%25E7%25AE%25A1%25E5%259B%25BE%25E7%2589%2587%25E6%2595%25B0%25E9%2587%258F%25E4%25B8%258D%25E5%25A4%259A%25EF%25BC%258C%25E8%2580%258C%25E4%25B8%2594%25E5%25B8%2582%25E9%259D%25A2%25E4%25B8%258A%25E4%25B9%259F%25E4%25B8%258D%25E4%25B9%258F%25E4%25BC%2598%25E7%25A7%2580%25E7%259A%2584%25E5%259C%25A8%25E7%25BA%25BF%25E5%258E%258B%25E7%25BC%25A9%25E5%25B7%25A5%25E5%2585%25B7%25EF%25BC%2588%25E5%25A6%2582" target="_blank" title="https://gitee.com/zach2019/solar-system-simulation-system.git%EF%BC%8C%E6%AC%A2%E8%BF%8Estar%EF%BC%89%EF%BC%8C%E5%90%84%E4%B8%AA%E5%A4%A9%E4%BD%93%E9%83%BD%E6%98%AF%E9%87%87%E7%94%A8%E7%9A%84%E8%B4%B4%E5%9B%BE%E6%9D%90%E8%B4%A8%EF%BC%8C14%E5%BC%A0%E5%9B%BE%E7%89%87%E5%B0%B1%E6%9C%8910.1MB%EF%BC%8C%E5%B0%BD%E7%AE%A1%E5%9B%BE%E7%89%87%E6%95%B0%E9%87%8F%E4%B8%8D%E5%A4%9A%EF%BC%8C%E8%80%8C%E4%B8%94%E5%B8%82%E9%9D%A2%E4%B8%8A%E4%B9%9F%E4%B8%8D%E4%B9%8F%E4%BC%98%E7%A7%80%E7%9A%84%E5%9C%A8%E7%BA%BF%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7%EF%BC%88%E5%A6%82" ref="nofollow noopener noreferrer">gitee.com/zach2019/soâ€¦</a> TinyPNGã€Squooshï¼‰ï¼Œä½†å®ƒä»¬é€šå¸¸ä¾èµ–æ‰‹åŠ¨ä¸Šä¼  â†’ ä¸‹è½½ â†’ æ›¿æ¢çš„æ“ä½œæµç¨‹â€”â€”ä¸ä»…é‡å¤æ¯ç‡¥ï¼Œè¿˜éš¾ä»¥èå…¥ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–çš„è‡ªåŠ¨åŒ–æµæ°´çº¿ã€‚ ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘è‡ªç„¶æ˜¯å¸Œæœ›èƒ½è‡ªåŠ¨ç»ä¸æ‰‹åŠ¨ï¼Œä»£ç èƒ½è§£å†³çš„é—®é¢˜ç»ä¸éº»çƒ¦åˆ«äººã€‚æ— è®ºæ˜¯å¤„ç†å­˜é‡é™æ€èµ„æºï¼Œè¿˜æ˜¯åœ¨æ„å»ºæ—¶è‡ªåŠ¨å‹ç¼©è¢«å¼•ç”¨çš„å›¾ç‰‡ï¼Œéƒ½åº”æ— éœ€äººå·¥å¹²é¢„ã€‚æ­£å› å¦‚æ­¤ï¼Œæˆ‘å¼€å‘äº†å¼€æºå·¥å…· @zhaoshijun/compress â€”â€” ä¸€å¥—é›† CLI æ‰¹é‡å¤„ç†ä¸ Vite æ„å»ºé›†æˆäºä¸€ä½“çš„å›¾ç‰‡è‡ªåŠ¨åŒ–å‹ç¼©æ–¹æ¡ˆï¼ŒçœŸæ­£åšåˆ°è§£æ”¾å‰ç«¯å¼€å‘çš„åŒæ‰‹ã€‚</p>
<p>npmåŒ…åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2F%40zhaoshijun%2Fcompress%3FactiveTab%3Dreadme" target="_blank" title="https://www.npmjs.com/package/@zhaoshijun/compress?activeTab=readme" ref="nofollow noopener noreferrer">www.npmjs.com/package/@zhâ€¦</a></p>
<p>æºç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fzach2019%2Fimage-compression.git" target="_blank" title="https://gitee.com/zach2019/image-compression.git" ref="nofollow noopener noreferrer">gitee.com/zach2019/imâ€¦</a></p>
<h2 data-id="heading-0">âœ¨ æ ¸å¿ƒäº®ç‚¹</h2>
<ul>
<li>
<p><strong>ã€ŒğŸ›  åŒæ¨¡é©±åŠ¨ã€</strong>ï¼š</p>
<ul>
<li><strong>ã€ŒCLI æ¨¡å¼ã€</strong>ï¼šä¸€é”®æ‰«æå¹¶æ‰¹é‡å‹ç¼©æœ¬åœ°å­˜é‡å›¾ç‰‡ã€‚</li>
<li><strong>ã€ŒVite æ’ä»¶æ¨¡å¼ã€</strong>ï¼šåœ¨ <code>vite build</code> æ„å»ºæ—¶è‡ªåŠ¨æ‹¦æˆªå¹¶å‹ç¼©å¼•ç”¨çš„å›¾ç‰‡ï¼Œå¼€å‘ç¯å¢ƒé›¶æ„ŸçŸ¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>ã€Œâš¡ï¸ æé€Ÿæ€§èƒ½ã€</strong>ï¼šåº•å±‚åŸºäº Node.js é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†åº“ <strong>ã€ŒSharpã€</strong>ï¼Œé€Ÿåº¦é£å¿«ï¼Œè´¨é‡æ— æŸã€‚</p>
</li>
<li>
<p><strong>ã€ŒğŸ“¦ æ™ºèƒ½ç¼“å­˜ã€</strong>ï¼šVite æ’ä»¶å†…ç½® Content Hash ç¼“å­˜æœºåˆ¶ï¼Œ<strong>ã€Œæœªä¿®æ”¹çš„å›¾ç‰‡è·³è¿‡å‹ç¼©ã€</strong>ï¼Œæ‹’ç»æ‹–æ…¢æ„å»ºé€Ÿåº¦ã€‚</p>
</li>
<li>
<p><strong>ã€ŒğŸ›¡ å®‰å…¨å¯é ã€</strong>ï¼šCLI æ¨¡å¼é»˜è®¤ä¸è¦†ç›–åŸå›¾ï¼Œæ”¯æŒå¤‡ä»½ï¼›Vite æ¨¡å¼ä»…å¤„ç†å¼•ç”¨èµ„æºã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-1">ğŸ’¡ è®¾è®¡æ€è·¯è§£å¯†</h2>
<p>è¿™ä¸ªå·¥å…·çš„è®¾è®¡åˆè¡·æ˜¯**â€œä¸€å¥—é€»è¾‘ï¼Œå¤šç«¯å¤ç”¨â€**ã€‚å°†æ ¸å¿ƒå‹ç¼©èƒ½åŠ›å°è£…ï¼Œåˆ†åˆ«é€šè¿‡ CLI å’Œ Vite æ’ä»¶æš´éœ²ç»™ç”¨æˆ·ã€‚</p>
<h3 data-id="heading-2">1. æ ¸å¿ƒé€»è¾‘ï¼šSharp å°è£…</h3>
<p>ä¸ºäº†ä¿è¯å‹ç¼©è´¨é‡å’Œé€Ÿåº¦ï¼Œæˆ‘é€‰æ‹©äº† <code>sharp</code>ã€‚æ ¸å¿ƒå‡½æ•°æŠ¹å¹³äº†ä¸åŒæ ¼å¼çš„å‚æ•°å·®å¼‚ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â src/core/compressor.js</span>
<span class="hljs-keyword">import</span>Â sharpÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'sharp'</span>;

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">compressImage</span>(<span class="hljs-params">input,Â options</span>)Â {
Â Â <span class="hljs-keyword">let</span>Â instanceÂ =Â <span class="hljs-title function_">sharp</span>(input);
Â Â 
Â Â <span class="hljs-comment">//Â ç»Ÿä¸€å¤„ç†æ ¼å¼å‚æ•°</span>
Â Â <span class="hljs-keyword">if</span>Â (formatÂ ===Â <span class="hljs-string">'png'</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â å¼€å¯è°ƒè‰²æ¿é‡åŒ–ï¼Œæ˜¾è‘—å‡å°ä½“ç§¯</span>
Â Â Â Â instanceÂ =Â instance.<span class="hljs-title function_">png</span>({Â <span class="hljs-attr">palette</span>:Â <span class="hljs-literal">true</span>,Â <span class="hljs-attr">compressionLevel</span>:Â <span class="hljs-number">9</span>Â });
Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â <span class="hljs-comment">//Â JPEG/WebPÂ é»˜è®¤é«˜è´¨é‡å‹ç¼©</span>
Â Â Â Â instanceÂ =Â instance.<span class="hljs-title function_">jpeg</span>({Â <span class="hljs-attr">quality</span>:Â options.<span class="hljs-property">quality</span>Â ||Â <span class="hljs-number">88</span>Â });
Â Â }

Â Â <span class="hljs-keyword">return</span>Â instance.<span class="hljs-title function_">toBuffer</span>();
}
</code></pre>
<h3 data-id="heading-3">2. Vite æ’ä»¶ï¼šæ„å»ºæµæ‹¦æˆª</h3>
<p>Vite æ’ä»¶çš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨ Rollup çš„ <code>generateBundle</code> é’©å­ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬èƒ½è·å–åˆ°æ‰€æœ‰å³å°†è¾“å‡ºçš„èµ„æºæ–‡ä»¶ï¼Œç›´æ¥æ›¿æ¢å…¶å†…å®¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â vite/index.js</span>
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">compressVitePlugin</span>(<span class="hljs-params">options</span>)Â {
Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â <span class="hljs-attr">name</span>:Â <span class="hljs-string">'@zhaoshijun/compress'</span>,
Â Â Â Â <span class="hljs-attr">apply</span>:Â <span class="hljs-string">'build'</span>,Â <span class="hljs-comment">//Â ä»…åœ¨æ„å»ºæ—¶ç”Ÿæ•ˆ</span>
Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-title function_">generateBundle</span>(<span class="hljs-params">_,Â bundle</span>)Â {
Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-keyword">const</span>Â fileNameÂ <span class="hljs-keyword">in</span>Â bundle)Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ç­›é€‰å›¾ç‰‡èµ„æº</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-title function_">isSupportedImage</span>(fileName))Â {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â originalBufferÂ =Â bundle[fileName].<span class="hljs-property">source</span>;
Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â âš¡ï¸Â æ ¸å¿ƒï¼šå‹ç¼©å¹¶æ›¿æ¢èµ„æºå†…å®¹</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â compressedÂ =Â <span class="hljs-keyword">await</span>Â <span class="hljs-title function_">compressImage</span>(originalBuffer,Â config);
Â Â Â Â Â Â Â Â Â Â bundle[fileName].<span class="hljs-property">source</span>Â =Â compressed;
Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åŒæ—¶æ›´æ–°æ–‡ä»¶åï¼ˆå¦‚Â logo.pngÂ -&gt;Â logo.min.pngï¼‰</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å¹¶è‡ªåŠ¨æ›¿æ¢Â JS/CSSÂ ä¸­çš„å¼•ç”¨è·¯å¾„</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â }
Â Â Â Â }
Â Â };
}
</code></pre>
<h3 data-id="heading-4">3. æ€§èƒ½ä¼˜åŒ–ï¼šåŸºäºå†…å®¹çš„å“ˆå¸Œç¼“å­˜</h3>
<p>ä¸ºäº†é¿å…æ¯æ¬¡æ„å»ºéƒ½é‡æ–°å‹ç¼©æ‰€æœ‰å›¾ç‰‡ï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªç®€å•çš„æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â src/utils/cache.js</span>
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">getCache</span>(<span class="hljs-params">content</span>)Â {
Â Â <span class="hljs-comment">//Â è®¡ç®—æ–‡ä»¶å†…å®¹Â Hash</span>
Â Â <span class="hljs-keyword">const</span>Â hashÂ =Â crypto.<span class="hljs-title function_">createHash</span>(<span class="hljs-string">'sha256'</span>).<span class="hljs-title function_">update</span>(content).<span class="hljs-title function_">digest</span>(<span class="hljs-string">'hex'</span>);
Â Â <span class="hljs-keyword">const</span>Â cachePathÂ =Â path.<span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">CACHE_DIR</span>,Â hash);
Â Â 
Â Â <span class="hljs-comment">//Â å¦‚æœÂ HashÂ å‘½ä¸­ï¼Œç›´æ¥è¿”å›ç¼“å­˜æ–‡ä»¶ï¼Œè·³è¿‡å‹ç¼©</span>
Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-keyword">await</span>Â fs.<span class="hljs-title function_">pathExists</span>(cachePath))Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-keyword">await</span>Â fs.<span class="hljs-title function_">readFile</span>(cachePath);
Â Â }
Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">null</span>;
}
</code></pre>
<hr/>
<h2 data-id="heading-5">ğŸ›  å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šå®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash">npmÂ installÂ @zhaoshijun/compressÂ -D
</code></pre>
<h3 data-id="heading-7">åœºæ™¯ä¸€ï¼šä½¿ç”¨ CLI æ‰¹é‡å‹ç¼©å­˜é‡å›¾ç‰‡</h3>
<p>å¦‚æœä½ æœ‰ä¸€å †é™æ€å›¾ç‰‡éœ€è¦å¤„ç†ï¼Œç›´æ¥è¿è¡Œ CLI å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â æ‰«æå½“å‰ç›®å½•ï¼Œå‹ç¼©å›¾ç‰‡å¹¶è¾“å‡ºåˆ°Â ./compressedÂ ç›®å½•</span>
npxÂ @zhaoshijun/compress

<span class="hljs-comment">#Â å¸¸ç”¨å‚æ•°</span>
<span class="hljs-comment">#Â --dry-runÂ :Â ä»…é¢„è§ˆï¼Œä¸å®é™…å†™å…¥</span>
<span class="hljs-comment">#Â --backupÂ Â :Â å¤‡ä»½åŸæ–‡ä»¶</span>
</code></pre>
<p>CLI ä¼šåœ¨ç»ˆç«¯æ˜¾ç¤ºè¿›åº¦æ¡å’Œå‹ç¼©å‰åçš„ä½“ç§¯å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">âœ” assets/banner.jpg: 1.2 MB â†’ 450 KB (Saved 62.5%)
</code></pre>
<h3 data-id="heading-8">åœºæ™¯äºŒï¼šé›†æˆåˆ° Vite é¡¹ç›®</h3>
<p>åœ¨ <code>vite.config.js</code> ä¸­é…ç½®æ’ä»¶ï¼Œå³å¯åœ¨æ‰“åŒ…æ—¶è‡ªåŠ¨ç˜¦èº«ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â {Â defineConfigÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span>Â {Â compressVitePluginÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'@zhaoshijun/compress'</span>;

<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â <span class="hljs-title function_">defineConfig</span>({
Â Â <span class="hljs-attr">plugins</span>:Â [
Â Â Â Â <span class="hljs-title function_">compressVitePlugin</span>({
Â Â Â Â Â Â <span class="hljs-attr">quality</span>:Â <span class="hljs-number">80</span>,Â <span class="hljs-comment">//Â å‹ç¼©è´¨é‡</span>
Â Â Â Â Â Â <span class="hljs-attr">cache</span>:Â <span class="hljs-literal">true</span>Â Â <span class="hljs-comment">//Â å¼€å¯ç¼“å­˜</span>
Â Â Â Â })
Â Â ]
});
</code></pre>
<p>ä»¥åæ¯æ¬¡è¿è¡Œ <code>npm run build</code>ï¼Œä½ çš„äº§ç‰©å›¾ç‰‡å°±å·²ç»æ˜¯æœ€ä¼˜ä½“ç§¯äº†ï¼</p>
<hr/>
<h2 data-id="heading-9">ğŸ”— æ€»ç»“</h2>
<p>å·¥å…·åŒ–ã€è‡ªåŠ¨åŒ–æ˜¯æå‡å‰ç«¯å·¥ç¨‹æ•ˆç‡çš„å…³é”®ã€‚<code>@zhaoshijun/compress</code> é€šè¿‡ç®€å•çš„é…ç½®ï¼Œè§£å†³äº†å›¾ç‰‡å‹ç¼©è¿™ä¸€é«˜é¢‘ç—›ç‚¹ã€‚</p>
<p>æ¬¢è¿å¤§å®¶ä¸‹è½½ä½“éªŒï¼Œå¦‚æœæœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼</p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Scheduler æœ€å°å †å®ç°]]></title>    <link>https://juejin.cn/post/7599220371665551400</link>    <guid>https://juejin.cn/post/7599220371665551400</guid>    <pubDate>2026-01-26T07:57:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599220371665551400" data-draft-id="7599474528238026792" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Scheduler æœ€å°å †å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-26T07:57:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_DoubleL"/> <meta itemprop="url" content="https://juejin.cn/user/989992708217032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Scheduler æœ€å°å †å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/989992708217032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _DoubleL
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:57:02.000Z" title="Mon Jan 26 2026 07:57:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯æœ€å°å †</h2>
<p>æœ€å°å †ï¼ˆ<strong>Min Heap</strong>ï¼‰æ˜¯ä¸€ç§<strong>å®Œå…¨äºŒå‰æ ‘</strong>ç»“æ„ï¼ŒåŒæ—¶æ»¡è¶³ä¸€ä¸ªå¾ˆå…³é”®çš„æ€§è´¨ï¼š<strong>ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œéƒ½ â‰¤ å®ƒçš„å·¦å³å­èŠ‚ç‚¹çš„å€¼</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š ğŸ‘‰ <strong>å †é¡¶ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰ä¸€å®šæ˜¯æ•´ä¸ªç»“æ„ä¸­æœ€å°çš„å…ƒç´ </strong></p>
<p>å®Œå…¨äºŒå‰æ ‘çš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>ä»ä¸Šåˆ°ä¸‹</li>
<li>ä»å·¦åˆ°å³ä¾æ¬¡å¡«æ»¡</li>
<li>åªå…è®¸<strong>æœ€åä¸€å±‚ä¸æ»¡</strong>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c805bf84e998488199d68e82befebd9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX0RvdWJsZUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019026&amp;x-signature=%2F2ceuVl4%2FK1pvHF%2B2oAPFJkkp5U%3D" alt="image.png" loading="lazy"/></li>
</ul>
<h2 data-id="heading-1">2. ç”¨æ•°ç»„è¡¨ç¤ºæœ€å°å †ğŸ”¥</h2>
<p>æœ€å°å †é€šå¸¸ç”¨æ•°ç»„å®ç°ï¼Œè€Œä¸æ˜¯é“¾è¡¨ã€‚</p>
<pre><code class="hljs language-ts" lang="ts">ç´¢å¼•: Â <span class="hljs-number">0</span> Â <span class="hljs-number">1</span> Â <span class="hljs-number">2</span> Â <span class="hljs-number">3</span> Â <span class="hljs-number">4</span> Â <span class="hljs-number">5</span>
æ•°ç»„: [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]
</code></pre>
<p>å¦‚æœæ•°ç»„ä¸‹æ ‡ä» <code>0</code> å¼€å§‹ï¼š</p>
<ul>
<li>çˆ¶èŠ‚ç‚¹ï¼š<code>(i - 1) &gt;&gt;&gt; 1</code>;</li>
<li>å·¦å­èŠ‚ç‚¹ï¼š<code>2 * i + 1</code></li>
<li>å³å­èŠ‚ç‚¹ï¼š<code>2 * i + 2</code></li>
</ul>
<h2 data-id="heading-2">3. React Scheduler æœ€å°å †å®ç°</h2>
<p>React çš„ Scheduler å†…éƒ¨ï¼Œæ­£æ˜¯é€šè¿‡ <strong>æœ€å°å † + sortIndex</strong> æ¥ç»´æŠ¤ä»»åŠ¡æ‰§è¡Œé¡ºåº</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Node</span> = {
 Â <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; Â  Â  Â  Â <span class="hljs-comment">// æ¯ä¸ªä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†</span>
 Â <span class="hljs-attr">sortIndex</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// å†³å®šä»»åŠ¡é¡ºåº</span>
};
</code></pre>
<p>å †çš„æœ¬è´¨ï¼šæ•°ç»„</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Heap</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt; = <span class="hljs-title class_">Array</span>&lt;T&gt;;
</code></pre>
<h3 data-id="heading-3">3.1 å–å‡ºå †é¡¶å…ƒç´ </h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> peek = &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt;(<span class="hljs-attr">heap</span>: <span class="hljs-title class_">Heap</span>&lt;T&gt;): T | <span class="hljs-function"><span class="hljs-params">null</span> =&gt;</span> {
 Â <span class="hljs-keyword">return</span> heap.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> ? <span class="hljs-literal">null</span> : heap[<span class="hljs-number">0</span>];
};
</code></pre>
<h3 data-id="heading-4">3.2 æ’å…¥å…ƒç´ </h3>
<p>æ’å…¥æµç¨‹ï¼š</p>
<ol>
<li>æ–°å…ƒç´ æ”¾åˆ°æ•°ç»„æœ«å°¾</li>
<li><strong>ä»ä¸‹å¾€ä¸Šè¿›è¡Œ å †åŒ–ï¼ˆsiftUpï¼‰ï¼Œä¸æ–­ä¸çˆ¶èŠ‚ç‚¹æ¯”è¾ƒï¼Œè‹¥æ¯”çˆ¶èŠ‚ç‚¹å°å°±äº¤æ¢ï¼Œä¸€ç›´å‘ä¸Šï¼Œç›´åˆ°æ»¡è¶³å †æ€§è´¨</strong></li>
<li>æ¢å¤æœ€å°å †æ€§è´¨</li>
</ol>
<p>å¦‚ä¸‹å›¾ï¼Œåœ¨æœ€åçš„èŠ‚ç‚¹æ’å…¥1ï¼Œ 1å’Œçˆ¶èŠ‚ç‚¹ï¼ˆ10ï¼‰äº¤æ¢ä½ç½®ï¼Œ æ¥ç€ 1å’Œçˆ¶èŠ‚ç‚¹ï¼ˆ2ï¼‰ äº¤æ¢ä½ç½®ï¼Œå°±å˜æˆäº†æ¢å¤äº†æœ€å°å †</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e65648afff44437accf9fd42de7be23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX0RvdWJsZUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019026&amp;x-signature=pu47jOahL3lvWrVTmv6%2FaqbASlc%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ’å…¥å…ƒç´ </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> push = &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt;(<span class="hljs-attr">heap</span>: <span class="hljs-title class_">Heap</span>&lt;T&gt;, <span class="hljs-attr">node</span>: T): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
 Â <span class="hljs-comment">// 1. æŠŠnodeæ”¾åˆ°å †çš„æœ€å</span>
 Â <span class="hljs-keyword">const</span> index = heap.<span class="hljs-property">length</span>;
 Â heap.<span class="hljs-title function_">push</span>(node);
 Â <span class="hljs-comment">// 2. è°ƒæ•´æœ€å°å †ï¼Œä»ä¸‹å¾€ä¸Šå †åŒ–</span>
 Â <span class="hljs-title function_">siftUp</span>(heap, node, index);
};
â€‹
<span class="hljs-comment">// ä»ä¸‹å¾€ä¸Šå †åŒ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> siftUp = &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt;(
 Â <span class="hljs-attr">heap</span>: <span class="hljs-title class_">Heap</span>&lt;T&gt;,
 Â <span class="hljs-attr">node</span>: T,
 Â <span class="hljs-attr">i</span>: <span class="hljs-built_in">number</span>,
): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
 Â <span class="hljs-keyword">let</span> index = i;
â€‹
 Â <span class="hljs-keyword">while</span> (index &gt; <span class="hljs-number">0</span>) {
 Â  Â <span class="hljs-comment">// æ— ç¬¦å·å³ç§»ï¼Œç›¸å½“äº /2 å¹¶ä¸”å‘ä¸‹å–æ•´</span>
 Â  Â <span class="hljs-keyword">const</span> parentIndex = (index - <span class="hljs-number">1</span>) &gt;&gt;&gt; <span class="hljs-number">1</span>;
 Â  Â <span class="hljs-keyword">const</span> parent = heap[parentIndex];
 Â  Â <span class="hljs-comment">// å¦‚æœçˆ¶èŠ‚ç‚¹å¤§äºnodeï¼Œéœ€è¦äº¤æ¢</span>
 Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-title function_">compare</span>(parent, node) &gt; <span class="hljs-number">0</span>) {
 Â  Â  Â <span class="hljs-comment">// nodeå­èŠ‚ç‚¹æ›´å°ï¼Œå’Œæ ¹èŠ‚ç‚¹äº¤æ¢</span>
 Â  Â  Â heap[parentIndex] = node;
 Â  Â  Â heap[index] = parent;
 Â  Â  Â index = parentIndex;
 Â   } <span class="hljs-keyword">else</span> {
 Â  Â  Â <span class="hljs-keyword">return</span>;
 Â   }
  }
};
â€‹
<span class="hljs-comment">// æ¯”è¾ƒå‡½æ•°ï¼Œè¿”å›å€¼å¤§äº0 è¡¨ç¤º aå¤§äºb</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">a: Node, b: Node</span>) {
 Â <span class="hljs-keyword">const</span> diff = a.<span class="hljs-property">sortIndex</span> - b.<span class="hljs-property">sortIndex</span>;
 Â <span class="hljs-keyword">return</span> diff !== <span class="hljs-number">0</span> ? diff : a.<span class="hljs-property">id</span> - b.<span class="hljs-property">id</span>;
}
</code></pre>
<h3 data-id="heading-5">3.3 åˆ é™¤å †é¡¶å…ƒç´ </h3>
<p>åˆ é™¤æµç¨‹</p>
<ol>
<li><strong>ä¿å­˜å †é¡¶å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰</strong></li>
<li><strong>å–å‡ºæœ€åä¸€ä¸ªå…ƒç´ </strong></li>
<li><strong>æ”¾åˆ°å †é¡¶</strong></li>
<li><strong>ä»ä¸Šå¾€ä¸‹å †åŒ–ï¼ˆsiftDownï¼‰ï¼Œæ¯”è¾ƒ <code>node</code> ä¸å·¦å³å­èŠ‚ç‚¹ï¼Œé€‰æ‹© æ›´å°çš„é‚£ä¸ªå­èŠ‚ç‚¹ï¼Œè‹¥å­èŠ‚ç‚¹æ›´å°ï¼Œåˆ™äº¤æ¢ï¼Œä¸€è·¯å‘ä¸‹ï¼Œç›´åˆ°æ¢å¤å †åº</strong></li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åˆ é™¤å †é¡¶å…ƒç´   å…ˆå–å‡ºå †é¡¶å…ƒç´ ï¼Œç„¶åå–å‡ºæœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°å †é¡¶ï¼Œç„¶åä»ä¸Šå¾€ä¸‹å †åŒ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> pop = &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt;(<span class="hljs-attr">heap</span>: <span class="hljs-title class_">Heap</span>&lt;T&gt;): T | <span class="hljs-function"><span class="hljs-params">null</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (!heap.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> first = heap[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> last = heap.<span class="hljs-title function_">pop</span>()!;
  <span class="hljs-keyword">if</span> (first !== last) {
    <span class="hljs-comment">// è¯æ˜heapä¸­æœ‰2ä¸ªæˆ–è€…æ›´å¤šä¸ªå…ƒç´ </span>
    heap[<span class="hljs-number">0</span>] = last;
    <span class="hljs-title function_">siftDown</span>(heap, last, <span class="hljs-number">0</span>);
  }
  <span class="hljs-keyword">return</span> first;
};

<span class="hljs-comment">// ä»ä¸Šå¾€ä¸‹å †åŒ–</span>
<span class="hljs-keyword">function</span> siftDown&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span>&gt;(<span class="hljs-attr">heap</span>: <span class="hljs-title class_">Heap</span>&lt;T&gt;, <span class="hljs-attr">node</span>: T, <span class="hljs-attr">i</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">let</span> index = i;
  <span class="hljs-keyword">const</span> length = heap.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// åªéœ€è¦å–ä¸€åŠçš„èŠ‚ç‚¹ï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯è·Ÿå·¦åŠè¾¹ æˆ–è€… å³åŠè¾¹çš„èŠ‚ç‚¹å¯¹æ¯”</span>
  <span class="hljs-keyword">const</span> halfLength = length &gt;&gt;&gt; <span class="hljs-number">1</span>;
  <span class="hljs-keyword">while</span> (index &lt; halfLength) {
    <span class="hljs-keyword">const</span> leftIndex = (index + <span class="hljs-number">1</span>) * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> left = heap[leftIndex];
    <span class="hljs-keyword">const</span> rightIndex = leftIndex + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">const</span> right = heap[rightIndex]; <span class="hljs-comment">// rightä¸ä¸€å®šå­˜åœ¨ï¼Œç­‰ä¸‹è¿˜è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">compare</span>(left, node) &lt; <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// left&lt;node</span>
      <span class="hljs-keyword">if</span> (rightIndex &lt; length &amp;&amp; <span class="hljs-title function_">compare</span>(right, left) &lt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// rightå­˜åœ¨ï¼Œä¸”right&lt;left</span>
        heap[index] = right;
        heap[rightIndex] = node;
        index = rightIndex;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// leftæ›´å°æˆ–è€…rightä¸å­˜åœ¨</span>
        heap[index] = left;
        heap[leftIndex] = node;
        index = leftIndex;
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rightIndex &lt; length &amp;&amp; <span class="hljs-title function_">compare</span>(right, node) &lt; <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// left&gt;=node &amp;&amp; right&lt;node</span>
      heap[index] = right;
      heap[rightIndex] = node;
      index = rightIndex;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ ¹èŠ‚ç‚¹æœ€å°ï¼Œä¸éœ€è¦è°ƒæ•´</span>
      <span class="hljs-keyword">return</span>;
    }
  }
}

<span class="hljs-comment">// æ¯”è¾ƒå‡½æ•°ï¼Œè¿”å›å€¼å¤§äº0 è¡¨ç¤º aå¤§äºb</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">a: Node, b: Node</span>) {
  <span class="hljs-keyword">const</span> diff = a.<span class="hljs-property">sortIndex</span> - b.<span class="hljs-property">sortIndex</span>;
  <span class="hljs-keyword">return</span> diff !== <span class="hljs-number">0</span> ? diff : a.<span class="hljs-property">id</span> - b.<span class="hljs-property">id</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é™¤äº†MySQLï¼Œè¿™ 9 ç§æ•°æ®åº“ä½ ç«Ÿç„¶éƒ½ä¸è®¤è¯†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599268297223946250</link>    <guid>https://juejin.cn/post/7599268297223946250</guid>    <pubDate>2026-01-26T08:34:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599268297223946250" data-draft-id="7599166436684185646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é™¤äº†MySQLï¼Œè¿™ 9 ç§æ•°æ®åº“ä½ ç«Ÿç„¶éƒ½ä¸è®¤è¯†ï¼Ÿ"/> <meta itemprop="keywords" content="æ•°æ®åº“,MySQL,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-26T08:34:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é™¤äº†MySQLï¼Œè¿™ 9 ç§æ•°æ®åº“ä½ ç«Ÿç„¶éƒ½ä¸è®¤è¯†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:34:05.000Z" title="Mon Jan 26 2026 08:34:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å°é˜¿å·´ï¼Œæ­£åœ¨å…¬å¸æ•²ä»£ç ã€‚</p>
<p>è€æ¿èµ°è¿‡æ¥è¯´ï¼šå°é˜¿å·´ï¼Œç»™å’±ä»¬ç½‘ç«™åŠ ä¸ªå•†å“æœç´¢åŠŸèƒ½å§ã€‚</p>
<p>ä½ æ‹æ‹èƒ¸è„¯ï¼šæ²¡é—®é¢˜ï¼Œæˆ‘ç›´æ¥ç”¨ MySQL æ•°æ®åº“çš„ LIKE æ¨¡ç³ŠæŸ¥è¯¢å®ç°æœç´¢ï¼Œ1 å°æ—¶ä¸Šçº¿~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e136bef2c102490283b7c37aa179ac9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=vUGJFzXn0G8pwdvp42wzBjTrmrY%3D" alt="" loading="lazy"/></p>
<p>ç»“æœä¸Šçº¿åï¼Œç”¨æˆ·ç‚¹å‡»æœç´¢ï¼Œå¡äº†åŠå¤©æ²¡ååº”ï¼Œè€æ¿æ°”å¾—è„¸éƒ½ç»¿äº†ã€‚</p>
<p>ä½ æ€¥çš„æ±—æµæµƒèƒŒï¼Œåªèƒ½æ‰¾åˆ°å·ç§°ã€åç«¯ä¹‹ç‹—ã€çš„é±¼çš®æ±‚åŠ©ï¼šé˜¿å·´é˜¿å·´ï¼Œä¿ºç”¨ MySQL æä¸å®šï¼Œå’‹åŠå•Šâ€¦â€¦</p>
<p>é±¼çš®ï¼šä¸æ˜¯å“¥ä»¬ï¼Œåˆä¸æ˜¯åªæœ‰ MySQL è¿™ä¸€ä¸ªæ•°æ®åº“ã€‚</p>
<p>ä¸‹é¢æˆ‘æ¥å¸¦ä½ è®¤è¯† 10 ç§ä¸åŒç±»å‹çš„æ•°æ®åº“ï¼Œè®©ä½ çŸ¥é“ä»€ä¹ˆåœºæ™¯è¯¥ç”¨ä»€ä¹ˆæ•°æ®åº“ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de9ca86e06eb42038c00d47bc65dc099~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=DT0eiQyQHWKu9ChXTDnMmcyxOfI%3D" alt="" loading="lazy"/></p>
<p>ç‚¹ä¸ªæ”¶è—ï¼Œæˆ‘ä»¬å¼€å§‹~</p>
<p>â­ï¸ æ¨èè§‚çœ‹è§†é¢‘ç‰ˆï¼Œæœ‰åŠ¨ç”»æ›´å¥½ç†è§£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1ChkjBsEzq" target="_blank" title="https://www.bilibili.com/video/BV1ChkjBsEzq" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1Châ€¦</a></p>
<h2 data-id="heading-0">å…³ç³»å‹æ•°æ®åº“</h2>
<p>é¦–å…ˆæ˜¯æˆ‘ä»¬æ¥è§¦æœ€å¤šçš„ã€ä¹Ÿæ˜¯åç«¯å…¥é—¨å¿…å­¦çš„ <strong>å…³ç³»å‹æ•°æ®åº“</strong>ã€‚</p>
<p>åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œæ•°æ®ä»¥ <strong>è¡¨</strong> çš„å½¢å¼è¿›è¡Œç»„ç»‡å’Œå­˜å‚¨ï¼Œæ¯ä¸ªè¡¨å°±åƒä¸€ä¸ª Excel è¡¨æ ¼ï¼ŒåŒ…å«å¤šä¸ª <strong>è¡Œ</strong> å’Œå¤šä¸ª <strong>åˆ—</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/580ec3a66b4b48039bbaf8b5feb3e710~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=VwpDKb4XABgwfo2sx3F4tCKvLW8%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ä½ è¦åšä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼ŒæŠŠå­¦ç”Ÿä¿¡æ¯å­˜å‚¨åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œç»“æ„å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>

























<table><thead><tr><th>å­¦å·</th><th>å­¦ç”Ÿå§“å</th><th>æ‰€å±ç­çº§å·</th></tr></thead><tbody><tr><td>1</td><td>å°æ</td><td>1</td></tr><tr><td>2</td><td>å°é±¼</td><td>2</td></tr><tr><td>3</td><td>å°çš®</td><td>3</td></tr></tbody></table>
<p>ä¸Šè¿°å­¦ç”Ÿè¡¨æ ¼ä¸­ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå­¦ç”Ÿçš„ä¿¡æ¯ï¼Œæ¯ä¸€åˆ—ä»£è¡¨å­¦ç”Ÿçš„ä¸€ä¸ªå±æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/114c271ab18541e183589322676c386e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=nR53uL%2FTwaW3yfNLRoK8w1jF8ak%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ SQL æ¥å¯¹å…³ç³»å‹æ•°æ®åº“è¡¨çš„æ•°æ®è¿›è¡Œçµæ´»åœ°æŸ¥è¯¢ã€é€‰æ‹©ã€è¿‡æ»¤ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c3190fd7d564456827e9b0c9137b3d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=d9dfD7vXwzohhFlScuCQmBMNnpI%3D" alt="" loading="lazy"/></p>
<p>è€Œå…³ç³»å‹æ•°æ®åº“æœ€å¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯è¡¨å’Œè¡¨ä¹‹é—´å¯ä»¥ <strong>å­˜åœ¨å…³ç³»</strong>ã€‚æ¯”å¦‚å­¦ç”Ÿç®¡ç†ç³»ç»Ÿä¸­è¿˜å¯ä»¥æœ‰ç­çº§è¡¨ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>





















<table><thead><tr><th>ç­å·</th><th>ç­çº§åç§°</th></tr></thead><tbody><tr><td>1</td><td>å¿«ä¹ç­</td></tr><tr><td>2</td><td>æ³°é…·ç­</td></tr><tr><td>3</td><td>èººå¹³ç­</td></tr></tbody></table>
<p>å¦‚æœæˆ‘æƒ³çŸ¥é“æŸä¸ªå­¦ç”Ÿæ‰€å±çš„ç­çº§ä¿¡æ¯ï¼Œåªéœ€è¦åœ¨æŸ¥è¯¢æ—¶å°†å­¦ç”Ÿè¡¨çš„ <strong>æ‰€å±ç­çº§å·</strong> å’Œç­çº§è¡¨çš„ <strong>ç­å·</strong> è¿›è¡Œå…³è”ï¼Œè€Œä¸ç”¨æŠŠæ‰€æœ‰è¡¨æ ¼çš„åˆ—å­˜å‚¨åœ¨ä¸€èµ·ï¼Œéå¸¸çµæ´»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cef8968353284cb283b3be07d1f54214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=op4C6jbonxuK5VQYwYsTdg3BfRs%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡ SQL å¯ä»¥è¿æ¥æŸ¥è¯¢å¤šå¼ è¡¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eebaf217c4d84e7ba3e551b8a3871ec4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=eiPMHSodA1GbAKLwuQAH4LQTd1s%3D" alt="" loading="lazy"/></p>
<p>å¾—åˆ°ä¸‹é¢çš„æŸ¥è¯¢ç»“æœï¼š</p>





























<table><thead><tr><th>å­¦å·</th><th>å­¦ç”Ÿå§“å</th><th>æ‰€å±ç­çº§å·</th><th>ç­çº§åç§°</th></tr></thead><tbody><tr><td>1</td><td>å°æ</td><td>1</td><td>å¿«ä¹ç­</td></tr><tr><td>2</td><td>å°é±¼</td><td>2</td><td>æ³°é…·ç­</td></tr><tr><td>3</td><td>å°çš®</td><td>3</td><td>èººå¹³ç­</td></tr></tbody></table>
<p>æ­¤å¤–ï¼Œå…³ç³»å‹æ•°æ®åº“éµå¾ª ACID åŸåˆ™ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰ï¼Œé€šè¿‡ <strong>äº‹åŠ¡</strong> æœºåˆ¶å¯ä»¥ä¿è¯å¤šä¸ªæ“ä½œåŒæ—¶è¿›è¡Œæ—¶ï¼Œæ•°æ®çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4cca45fffd744088684f962f13f9a9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=GAaQuuqPz7bd0Ejrwptm7tWlfaA%3D" alt="" loading="lazy"/></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼ŒA ç»™ B è½¬è´¦ï¼ŒA æ‰£é’±çš„åŒæ—¶ B ä¹Ÿä¼šåŠ é’±ï¼Œä¸ä¼šå‡ºç° A æ‰£äº†é’± B å´æ²¡æ”¶åˆ°é’±çš„æƒ…å†µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2cc5bd48da64691998213af37f2d2ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=yq2AvkfdaBgrtdIkPThys78YNhI%3D" alt="" loading="lazy"/></p>
<p>æ­£å› ä¸ºå…³ç³»å‹æ•°æ®åº“æ—¢èƒ½çµæ´»æŸ¥è¯¢ã€åˆèƒ½å‡†ç¡®å†™å…¥ï¼Œæ‰€ä»¥å®ƒå‡ ä¹å¯ä»¥è¢«åº”ç”¨åœ¨ä»»ä½•é¡¹ç›®ä¸­ã€‚æ¯”å¦‚å„ç±»ç®¡ç†ç³»ç»Ÿã€æ•°æ®åˆ†æç³»ç»Ÿã€é‡‘èé“¶è¡Œç³»ç»Ÿç­‰ã€‚</p>
<p>æ¯”è¾ƒä¸»æµçš„å…³ç³»å‹æ•°æ®åº“äº§å“æœ‰ï¼š</p>
<ul>
<li>MySQLï¼šå¼€æºæ˜“å­¦ï¼Œåç«¯å¼€å‘å¿…å­¦çš„æ•°æ®åº“</li>
<li>Oracleï¼šäººç§° â€œç”²æ–¹çš„æ•°æ®åº“â€ï¼Œä¸»è¦æ˜¯å¤§å‹ä¼ä¸šå’Œæ”¿åºœæœºæ„åœ¨ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ä½†æˆæƒè´¹ç”¨æ˜‚è´µ</li>
<li>PostgreSQLï¼šå¼€æºç•Œçš„å¤©èŠ±æ¿ï¼ŒåŠŸèƒ½æœ€å…¨é¢</li>
<li>SQL Serverï¼šå¾®è½¯å‡ºå“ï¼Œå’Œ Windows ç³»ç»Ÿã€.NET ç”Ÿæ€é›†æˆåº¦é«˜</li>
<li>SQLiteï¼šæ•´ä¸ªæ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸éœ€è¦æœåŠ¡å™¨ï¼Œéå¸¸è½»é‡ã€‚è¢«å¹¿æ³›åº”ç”¨åœ¨æ‰‹æœº APPã€æµè§ˆå™¨ä¸­ï¼Œä½ çš„æ‰‹æœºé‡Œå¯èƒ½æœ‰å‡ åä¸ª SQLiteã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5df4f0053e00473a9cd9b9b13ddc2c1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=ecdEG0IhPuGsnfY8d20yV2LZ%2B%2B0%3D" alt="" loading="lazy"/></p>
<p>å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œç”¨ MySQL ç­‰å…³ç³»å‹æ•°æ®åº“æ¥å­˜å‚¨æ•°æ®å°±è¶³å¤Ÿäº†ã€‚ä½†å¦‚æœè¦å­˜å‚¨çš„æ•°æ®é—´æ²¡æœ‰å¤æ‚å…³ç³»ã€æˆ–è€…éœ€è¦æè‡´çš„æ€§èƒ½æ—¶ï¼Œå®ƒå¹¶ä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚</p>
<p>ä½ ç‚¹ç‚¹å¤´ï¼šä¿ºçŸ¥é“ï¼Œå°±å¥½æ¯”ä¿ºè¦å†™ä¸€ç¯‡æ–‡ç« ï¼Œæ²¡å¿…è¦éå¾—æŠŠå†…å®¹å¡è¿› Excel è¡¨æ ¼é‡Œï¼Œç›´æ¥æ”¾åˆ° Word æ–‡æ¡£é‡Œä¼šæ›´æ–¹ä¾¿ç¼–è¾‘å’Œé˜…è¯»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e370026331e64e2aa9bf6a43aa925737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=jIKsvfizoiAUIgvCoVInGpBy%2FRg%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè¿™æ—¶å°±éœ€è¦ä¸å…³ç³»å‹æ•°æ®åº“äº’è¡¥çš„ <strong>éå…³ç³»å‹æ•°æ®åº“</strong>ã€‚</p>
<h2 data-id="heading-1">éå…³ç³»å‹æ•°æ®åº“</h2>
<p>éå…³ç³»å‹æ•°æ®åº“åˆå« NoSQLï¼ˆNot Only SQLï¼‰ï¼Œé€‚åˆå­˜å‚¨å…³ç³»ä¸å¼ºçš„ã€ç»“æ„çµæ´»çš„ã€éœ€è¦å¿«é€Ÿè®¿é—®çš„æ•°æ®ã€‚</p>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼Œå…³ç³»å‹æ•°æ®åº“åƒå›¾ä¹¦é¦†ï¼Œä¹¦ç±åˆ†ç±»æ˜ç¡®ã€æ‘†æ”¾æœ‰åºã€å€Ÿé˜…æœ‰è§„çŸ©ï¼›éå…³ç³»å‹æ•°æ®åº“åƒä½ çš„ä¹¦æ¡Œï¼Œæ€ä¹ˆé¡ºæ‰‹æ€ä¹ˆæ”¾ï¼Œæ‹¿å–æ–¹ä¾¿æœ€é‡è¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c5cbadf5c7421c90dd6e77e0f9a424~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=5xISe5Lqm5WeCx24qTnifQZW2bU%3D" alt="" loading="lazy"/></p>
<p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ€å¸¸ç”¨çš„éå…³ç³»å‹æ•°æ®åº“æ˜¯ KV æ•°æ®åº“å’Œæ–‡æ¡£æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-2">KV é”®å€¼æ•°æ®åº“</h3>
<p>KV å³ Key-Valueï¼Œæ•°æ®æ˜¯ä»¥ <strong>é”®å€¼å¯¹</strong> çš„æ–¹å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè¶…å¤§çš„ HashMapï¼Œæ•°æ®åº“ä¸­å­˜å‚¨çš„æ¯ä¸ªé”®éƒ½ <strong>å”¯ä¸€å¯¹åº”</strong> ä¸€ä¸ªå€¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f0389f063b44da9a158474737949ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=U9o24MLB9DBDVxF6f3CA9LLOI2E%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚å­˜å‚¨ç”¨æˆ·ä¿¡æ¯å’Œçƒ­é—¨å•†å“ä¿¡æ¯ï¼Œç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>

















<table><thead><tr><th>Key é”®</th><th>Value å€¼</th></tr></thead><tbody><tr><td>user:1001</td><td>{"name":"é±¼çš®", "age":25}</td></tr><tr><td>product:hot</td><td>["å•†å“1", "å•†å“2", "å•†å“3"]</td></tr></tbody></table>
<p>é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²ã€æ•°å­—ã€æ•°ç»„ã€JSON å¯¹è±¡ç­‰ï¼Œéå¸¸çµæ´»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b98d17893bbc4fdfa23d3f1001bc70d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=xY2lBY6wBFmefzwLWBhdHFToZdg%3D" alt="" loading="lazy"/></p>
<p>ç”±äº KV å­˜å‚¨çš„ç»“æ„ç®€å•æ¸…æ™°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆè½»æ¾åœ°æ ¹æ®æŸä¸ªé”®æŸ¥æ‰¾å‡ºå¯¹åº”çš„å€¼ï¼Œå°±åƒæŸ¥å­—å…¸ä¸€æ ·ï¼Œè¯»å†™æ•°æ®çš„æ€§èƒ½éƒ½éå¸¸é«˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/396f84d351204cee9a16d662be84dfed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=6fPrMf97wX0egu%2FmvvVADlIEghU%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼ŒKV æ•°æ®åº“çš„å¯æ‰©å±•æ€§å¾ˆå¼ºã€‚å› ä¸ºæ•°æ®é—´ä¸å­˜åœ¨ç›´æ¥å…³è”ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé”®å€¼å¯¹åˆ†æ•£åˆ°å¤šå°æœºå™¨ä¸Šå­˜å‚¨ï¼Œé€šè¿‡æ•°æ®åˆ†ç‰‡ã€è´Ÿè½½å‡è¡¡ç­‰ç­–ç•¥æ¥æ”¯æŒæµ·é‡æ•°æ®çš„é«˜å¹¶å‘è®¿é—®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18a588b8a8f143ab8db6b8696a3b7810~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=KjC%2B2bPEBVQgQcyVMVEi6DZgRJg%3D" alt="" loading="lazy"/></p>
<p>ç”±äºé«˜æ€§èƒ½å’Œé«˜å¯æ‰©å±•æ€§ï¼ŒKV æ•°æ®åº“è¢«å¹¿æ³›åº”ç”¨äºç¼“å­˜ã€åˆ†å¸ƒå¼ä¼šè¯ã€åˆ†å¸ƒå¼é”ã€å®æ—¶ç»Ÿè®¡ç­‰åœºæ™¯ã€‚</p>
<p>æœ€ç»å…¸çš„ KV æ•°æ®åº“è‚¯å®šæ˜¯ Redisï¼Œå®ƒæ˜¯å¼€æºçš„ã€åŸºäºå†…å­˜çš„æ•°æ®åº“ï¼Œä¸ä»…æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹å’ŒåŠŸèƒ½ï¼Œè¿˜æœ‰æŒä¹…åŒ–ç­‰é‡è¦ç‰¹æ€§ï¼Œä¹Ÿæ˜¯åç«¯å¿…å­¦çš„æŠ€æœ¯ã€‚å…¶ä»–çš„å¸¸ç”¨ KV æ•°æ®åº“æœ‰ Memcachedã€Etcdã€LevelDBã€RocksDB ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c236126cefd9445f97085aca4b6be2ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=7lS8nn9xVJoWFwU0JHVepm3CZiE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">æ–‡æ¡£æ•°æ®åº“</h3>
<p>æ–‡æ¡£æ•°æ®åº“ä¹Ÿå±äºéå…³ç³»å‹æ•°æ®åº“ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒé€‚ç”¨äºå­˜å‚¨å’Œç®¡ç† <strong>åŠç»“æ„åŒ–çš„</strong> æ–‡æ¡£æ•°æ®ï¼Œæ•°æ®ä¸€èˆ¬ä»¥ JSONï¼ˆBSONï¼‰æ ¼å¼å­˜å‚¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70eea8b820ff451e950514705c96da76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=4vwWr8vtUU1WI9EYh%2BNaQUBN8do%3D" alt="" loading="lazy"/></p>
<p>ç›¸æ¯”äºå…³ç³»å‹æ•°æ®åº“ä¸­ä¸¥æ ¼å®šä¹‰çš„è¡¨æ ¼è¡Œåˆ—ï¼Œæ–‡æ¡£æ•°æ®åº“çš„æ•°æ®ç»“æ„æ›´åƒæ˜¯ä¸€ä»½ä»½ç‹¬ç«‹çš„æ–‡æ¡£ï¼Œæ¯ä¸ªæ–‡æ¡£éƒ½å¯ä»¥åŒ…å«ä¸åŒç±»å‹å’Œæ ¼å¼çš„æ•°æ®ï¼Œç»“æ„éå¸¸çµæ´»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e7fac95fc7b4b00ba4d15aa9628a81c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=GzTlxFHJOifbDdX%2B4j0Gu06wpY0%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚å­˜å‚¨åšå®¢æ–‡ç« ï¼Œç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>

















<table><thead><tr><th>æ–‡æ¡£ ID</th><th>æ–‡æ¡£æ•°æ®</th></tr></thead><tbody><tr><td>1</td><td>{"_id": 1, "title": "æ–‡ç« æ ‡é¢˜1", "content": "è¿™æ˜¯æ–‡ç« 1çš„å†…å®¹"}</td></tr><tr><td>2</td><td>{"_id": 2, "title": "æ–‡ç« æ ‡é¢˜2", "author": "ç¨‹åºå‘˜é±¼çš®"}</td></tr></tbody></table>
<p>ä½ æŒ æŒ å¤´ï¼šè¯¶ï¼Œæ–‡æ¡£ 1 å’Œæ–‡æ¡£ 2 çš„å­—æ®µéƒ½ä¸ä¸€æ ·å•Šï¼Œè¿™ä¹Ÿè¡Œï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65e6b4ce0d7e4e07a5d1ffd353f81d0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=%2Bj9bMmPLRUsyKFhnM7O3rIh%2FRXc%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè¿™å°±æ˜¯æ–‡æ¡£æ•°æ®åº“çš„çµæ´»æ€§ã€‚å½“æˆ‘ä»¬è¦ç»™æŸä¸ªæ–‡æ¡£æ–°å¢ä¸€ä¸ªå­—æ®µæ—¶ï¼Œä¸éœ€è¦åƒå…³ç³»å‹æ•°æ®åº“é‚£æ ·å…ˆæ”¹è¡¨ç»“æ„ï¼Œç›´æ¥åŠ å°±å®Œäº‹äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/725f65a5f934442c9a6db7d4d6fbf76b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=%2FZ3OD4SDleuy9urwJpktnmuhM8A%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”æ”¯æŒæ°´å¹³æ‰©å±•ï¼Œå¯ä»¥åˆ†æ•£åˆ°å¤šå°æœåŠ¡å™¨ä¸Šå­˜å‚¨ï¼Œé€‚ç”¨äºå†…å®¹ç®¡ç†ç³»ç»Ÿã€åšå®¢å¹³å°ã€ç”µå•†å•†å“è¯¦æƒ…é¡µç­‰åœºæ™¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eed34c7e36c4494f957273d527392361~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=maNBc%2B0DBzIZr9SYIqWlUWbIekE%3D" alt="" loading="lazy"/></p>
<p>æ¨èå­¦ä¹ çš„æ–‡æ¡£æ•°æ®åº“æ˜¯ MongoDBï¼Œå› ä¸ºå®ƒå­˜å‚¨çš„å°±æ˜¯ JSONï¼ˆBSONï¼‰æ ¼å¼æ•°æ®ï¼Œå¯¹å‰ç«¯åŒå­¦å¾ˆå‹å¥½ï¼Œå…¥é—¨éš¾åº¦ä¹Ÿå¾ˆä½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a28b5f289c2a425494720c3e138aebe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=V3TFuE9Bn6EPv9E65%2BjuqHoEr20%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç‰¹å®šåœºæ™¯çš„æ•°æ®åº“</h2>
<p>è™½ç„¶å…³ç³»å‹å’Œéå…³ç³»å‹æ•°æ®åº“å·²ç»èƒ½å¤Ÿæ»¡è¶³å¤§éƒ¨åˆ†åœºæ™¯ï¼Œä½†åœ¨ä¸€äº›ç‰¹æ®Šåœºæ™¯ä¸‹ï¼Œä½¿ç”¨ä¸“é—¨è®¾è®¡çš„æ•°æ®åº“ä¼šæ›´é«˜æ•ˆã€‚å°±åƒä½ å¯ä»¥ç”¨èœåˆ€ç æ ‘ï¼Œä½†ç”¨æ–§å­ä¼šæ›´å¿«æ›´çœåŠ›ã€‚</p>
<h3 data-id="heading-5">æœç´¢å¼•æ“æ•°æ®åº“</h3>
<p>ä¸“é—¨ä¸ºæœç´¢åŠŸèƒ½è®¾è®¡çš„æ•°æ®åº“ã€‚å®ƒèƒ½å­˜å‚¨å’Œç®¡ç†å¤§é‡æ–‡æœ¬æ•°æ®ï¼Œæä¾›å¿«é€Ÿã€å‡†ç¡®ã€çµæ´»çš„å…¨æ–‡æ£€ç´¢åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24b82fa923a04be7b4953a2d06281788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=FfjMjBVrRzFKJA1UJpd1xEk42Dg%3D" alt="" loading="lazy"/></p>
<p>ä½ æŒ æŒ å¤´ï¼šå‡­ä»€ä¹ˆå®ƒèƒ½åšåˆ°è¿™äº›å‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šç§˜å¯†åœ¨äºå®ƒä½¿ç”¨äº† <strong>å€’æ’ç´¢å¼•</strong> çš„æ–¹å¼å­˜å‚¨æ•°æ®ã€‚</p>
<p>ä»¥å­˜å‚¨åšå®¢æ–‡æ¡£ä¸ºä¾‹ï¼Œå…³ç³»å‹æ•°æ®åº“çš„å­˜å‚¨ç»“æ„æ˜¯ï¼š</p>





















<table><thead><tr><th>æ–‡æ¡£ id</th><th>æ–‡æ¡£å†…å®¹</th></tr></thead><tbody><tr><td>1</td><td>æ„Ÿè°¢å…³æ³¨é±¼çš®</td></tr><tr><td>2</td><td>é±¼çš®æ˜¯ä¸€åç¨‹åºå‘˜</td></tr><tr><td>3</td><td>æ„Ÿè°¢å…³æ³¨ç¼–ç¨‹å¯¼èˆª</td></tr></tbody></table>
<p>æˆ‘ä»¬èƒ½å¤Ÿæ ¹æ® id æ¥æŸ¥æ‰¾åˆ°å¯¹åº”çš„å•ç¯‡æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æœç´¢ç²¾ç¡®çš„å…³é”®è¯ï¼Œæ¥æŸ¥æ‰¾åˆ°å¤šç¯‡æ–‡æ¡£ã€‚</p>
<p>æ¯”å¦‚æœç´¢ "é±¼çš®"ï¼Œèƒ½æœå‡ºæ–‡æ¡£ 1ã€2ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3174d20411384259bdd269edc340a607~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=gKTUh%2BLT2OLxnujpCpzJNcg0E%2BQ%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä½ æœç´¢ "é±¼çš®ç¨‹åºå‘˜"ï¼Œæ˜¯æ— æ³•å¾—åˆ°æœç´¢ç»“æœçš„ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•ä¸€ä¸ªæ–‡æ¡£çš„å†…å®¹å®Œå…¨åŒ…å« "é±¼çš®ç¨‹åºå‘˜" è¿™ä¸ªè¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0d709b8c6f0440b9a09a0a4e4257d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=RqBD9SO3G9z6JZGODMIm7KdTvaQ%3D" alt="" loading="lazy"/></p>
<p>è€Œåœ¨æœç´¢å¼•æ“æ•°æ®åº“ä¸­ï¼Œé¦–å…ˆä¼šå°†æ–‡æ¡£å†…å®¹æŒ‰ç…§å•è¯è¿›è¡Œåˆ†å‰²ï¼Œä¹Ÿå°±æ˜¯ <strong>åˆ†è¯</strong>ã€‚ç„¶å <strong>å»ºç«‹å€’æ’ç´¢å¼•</strong>ï¼Œä¹Ÿå°±æ˜¯æ„å»º <strong>å•è¯åˆ°æ–‡æ¡£ id çš„æ˜ å°„</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4affeacb96154fd189d65fcd30cc4f68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=Ytku3sHiny93JwHD4K8P5dzDFuM%3D" alt="" loading="lazy"/></p>
<p>æœ‰äº†ä¸Šè¿°çš„å€’æ’ç´¢å¼•ï¼Œå½“ç”¨æˆ·æœç´¢ "é±¼çš®ç¨‹åºå‘˜" æ—¶ï¼Œæœç´¢å¼•æ“æ•°æ®åº“ä¼šå…ˆå¯¹æœç´¢è¯è¿›è¡Œåˆ†è¯ï¼Œå¾—åˆ° "é±¼çš®" å’Œ "ç¨‹åºå‘˜"ï¼Œç„¶åæ ¹æ®è¿™ä¸¤ä¸ªè¯æ±‡å°±èƒ½æ‰¾åˆ°æ–‡æ¡£ id 1 å’Œ 2 äº†ã€‚ä¸ç”¨å†ä¸€è¡Œä¸€è¡Œéå†è¡¨å†…æ‰€æœ‰çš„æ•°æ®ï¼Œå®ç°äº†æ›´çµæ´»ã€å¿«é€Ÿçš„æœç´¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/982cd4ac669a488a8489b53f94116977~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=HVt59hEt%2FJ6CbSPui3j0hGyrOc8%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œæœç´¢å¼•æ“æ•°æ®åº“è¿˜æ”¯æŒ <strong>ç›¸å…³æ€§æ’åº</strong>ï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„æœç´¢è¯å¯¹æ‰€æœ‰æœç´¢ç»“æœè¿›è¡Œæ‰“åˆ†ï¼ŒæŠŠæœ€ç›¸å…³çš„æ–‡æ¡£æ’åˆ°æœ€ä¸Šé¢ï¼Œå°±åƒè°·å“¥åº¦å¨˜é‚£æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2572c8fe3e154cb29cdcb1705cf0f788~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=XEYrqsbqvId02ZIM7YP%2BgL1Vi5M%3D" alt="" loading="lazy"/></p>
<p>ä¸»æµçš„æœç´¢å¼•æ“æ•°æ®åº“æŠ€æœ¯æœ‰ Elasticsearchã€Apache Solr ç­‰ï¼Œå»ºè®®åªå­¦ä¹  Elasticsearch å°±å¤Ÿäº†ï¼Œå®ƒçš„ç¤¾åŒºæœ€æ´»è·ƒã€å­¦ä¹ èµ„æ–™æœ€ä¸°å¯Œã€‚</p>
<h3 data-id="heading-6">å‘é‡æ•°æ®åº“</h3>
<p>å‘é‡æ•°æ®åº“æ˜¯ä¸“é—¨ç”¨äºå­˜å‚¨å’Œå¤„ç† <strong>é«˜ç»´å‘é‡æ•°æ®</strong> çš„æ•°æ®åº“ï¼Œä¹Ÿæ˜¯ AI æ—¶ä»£æœ€ç«çš„æ•°æ®åº“ã€‚</p>
<p>ä½ å¥½å¥‡é“ï¼šå•¥æ˜¯å‘é‡ï¼Ÿ</p>
<p>é±¼çš®ï¼šç®€å•æ¥è¯´ï¼Œå‘é‡æ˜¯ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œæ¯ä¸ªæ•°å­—ä»£è¡¨ä¸€ä¸ª <strong>ç‰¹å¾</strong> ç»´åº¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c04d008685de4a318315104e23381a26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=qOSZUr7MnBxNaRP7EvniYZi7sUs%3D" alt="" loading="lazy"/></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨äººè„¸è¯†åˆ«ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡äººè„¸çš„ç‰¹å¾æ¥åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªäººã€‚æ¯å¼ äººè„¸å›¾åƒéƒ½å¯ä»¥é€šè¿‡ AI æ¨¡å‹è½¬æ¢æˆä¸€ä¸ªå‘é‡ï¼Œè¿™ä¸ªå‘é‡å¯èƒ½åŒ…å«æˆç™¾ä¸Šåƒä¸ªæ•°å­—ï¼Œæ¯ä¸ªæ•°å­—ä»£è¡¨å›¾åƒçš„ä¸€ä¸ª <strong>æŠ½è±¡</strong> ç‰¹å¾ç»´åº¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa9fa00afa6b41b0972af45df312adaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=EzupOvM5HZRfp8yHTdhg4YokHqM%3D" alt="" loading="lazy"/></p>
<p>å®é™…ä¸Šï¼Œå¾ˆéš¾è¯´æ¸…æ¥šæ¯ä¸ªæ•°å­—ä»£è¡¨ä»€ä¹ˆï¼Œä½†ä¾¿äºç†è§£ï¼Œä½ å¯ä»¥ <strong>æƒ³è±¡</strong> ä¸‹æ ‡ 0 ä»£è¡¨é¼»å­å¤§å°ï¼Œä¸‹æ ‡ 1 ä»£è¡¨çœ¼ç›è·ç¦»ç­‰ç­‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cd32f3ef9c94f1ba676ff58e893f7a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=7EuYBR9AsQVmwIIkxhImZ33SFDc%3D" alt="" loading="lazy"/></p>
<p>ä¹‹åé€šè¿‡ä½™å¼¦ç›¸ä¼¼åº¦ç­‰ç®—æ³•æ¥è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç›¸ä¼¼åº¦ï¼Œå°±èƒ½åˆ¤æ–­å‡ºä¸¤å¼ äººè„¸æ˜¯ä¸æ˜¯åŒä¸€ä¸ªäººã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a83b8a05c19144d19c4ba8c20acfe8b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=Q9EAFBZ81B0lFfo1Swxg442QakE%3D" alt="" loading="lazy"/></p>
<p>å‘é‡æ•°æ®åº“èƒ½å¤Ÿé«˜æ•ˆå­˜å‚¨è¿™äº›å¤šç»´å‘é‡æ•°æ®ã€å¿«é€Ÿè®¡ç®—å‘é‡çš„ç›¸ä¼¼åº¦ã€å¹¶å®ç°å„ç§ä¸åŒç®—æ³•çš„ç›¸ä¼¼æ€§æœç´¢ã€‚é€‚ç”¨äºäººè„¸è¯†åˆ«ã€æ¨èç³»ç»Ÿã€è¯­ä¹‰æœç´¢ç­‰åœºæ™¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bc23a0832b34717bbb4f416959232ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=aCFf%2BEJHZcRKi60G31ePyNkAqMc%3D" alt="" loading="lazy"/></p>
<p>åœ¨ AI æ—¶ä»£ï¼Œå¯ä»¥ç”¨å‘é‡æ•°æ®åº“ç»™ AI æä¾›ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†åº“ï¼Œå¤§å¤§æå‡å›ç­”çš„å‡†ç¡®æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb2777332cc14dfb8004ce3afe5c3898~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=QNR4f6DE8DzHip37ioaAOh%2FwQx0%3D" alt="" loading="lazy"/></p>
<p>ä¸»æµçš„å‘é‡æ•°æ®åº“æŠ€æœ¯æœ‰ Milvusã€Pinecone ç­‰ï¼Œåƒ PostgreSQL å…³ç³»å‹æ•°æ®åº“ä¹Ÿé€šè¿‡æ’ä»¶æ”¯æŒå­˜å‚¨å‘é‡ç±»å‹çš„æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/010abc87fd0849eaa106ab9e914d0b31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=V%2Bs7RGh%2B0I98OWyST45lRrEjRF4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">å›¾æ•°æ®åº“</h3>
<p>å›¾æ•°æ®åº“æ˜¯ä¸“é—¨ç”¨äºå­˜å‚¨å’Œå¤„ç† <strong>å›¾ç»“æ„æ•°æ®</strong> çš„æ•°æ®åº“ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™é‡Œçš„ â€œå›¾â€ å¯ä¸æ˜¯ç…§ç‰‡æˆ–å›¾è¡¨ï¼Œè€Œæ˜¯æ•°å­¦ä¸­çš„å›¾è®ºæ¦‚å¿µï¼Œç”±èŠ‚ç‚¹ï¼ˆNodeï¼‰å’Œè¾¹ï¼ˆEdgeï¼‰æ„æˆçš„å›¾å½¢ç»“æ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e5d8429200f43bf97760588899b6a1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=Mzij3GMnupW9E4agIfWmA7UGLF8%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªç¤¾äº¤ç½‘ç»œçš„æœ‹å‹å…³ç³»ï¼Œå¯¹åº”çš„å›¾å¯èƒ½æ˜¯ç”±å¤šä¸ªç”¨æˆ·èŠ‚ç‚¹å’Œå¥½å‹å…³ç³»è¾¹ç»„æˆçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c88bd7df939c40e49489a94f632c7e97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=R%2FWB%2FTA6P%2FCCoku4Lo9MnhedOp8%3D" alt="" loading="lazy"/></p>
<p>åœ¨å›¾æ•°æ®åº“ä¸­ï¼Œéœ€è¦ 2 ä¸ªè¡¨æ ¼æ¥å­˜å‚¨ã€‚</p>
<p>1ï¼‰èŠ‚ç‚¹ä¿¡æ¯è¡¨ï¼š</p>





















<table><thead><tr><th>èŠ‚ç‚¹ id</th><th>èŠ‚ç‚¹å</th></tr></thead><tbody><tr><td>1</td><td>é±¼çš®</td></tr><tr><td>2</td><td>é˜¿å·´</td></tr><tr><td>3</td><td>ç¼–ç¨‹å¯¼èˆª</td></tr></tbody></table>
<p>2ï¼‰è¾¹ä¿¡æ¯è¡¨ï¼š</p>























<table><thead><tr><th>è¾¹ id</th><th>è¾¹ç±»å‹</th><th>èµ·å§‹èŠ‚ç‚¹</th><th>ç»“æŸèŠ‚ç‚¹</th></tr></thead><tbody><tr><td>1</td><td>å¥½å‹</td><td>1</td><td>2</td></tr><tr><td>2</td><td>å¥½å‹</td><td>2</td><td>3</td></tr></tbody></table>
<p>é€šè¿‡å­˜å‚¨è¿™äº›èŠ‚ç‚¹å’Œè¾¹çš„ä¿¡æ¯ï¼Œå›¾æ•°æ®åº“å°±èƒ½å¿«é€ŸæŸ¥è¯¢å’Œåˆ†æå¤æ‚çš„å…³ç³»ç½‘ç»œã€‚æ¯”å¦‚æŸ¥æ‰¾ â€œæœ‹å‹çš„æœ‹å‹â€ã€è®¡ç®—ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€å‘ç°ç¤¾äº¤åœˆå­ç­‰ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/640cfa8af51e435b9302031aa48d801b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=LskbgfYboFEPXqOctM%2FLEXXKvVY%3D" alt="" loading="lazy"/></p>
<p>å› æ­¤ï¼Œå›¾æ•°æ®åº“éå¸¸é€‚åˆæ„å»ºç¤¾äº¤ç½‘ç»œã€æ¨èç³»ç»Ÿã€çŸ¥è¯†å›¾è°±ç­‰ã€‚</p>
<p>æ¯”è¾ƒä¸»æµçš„å›¾æ•°æ®åº“æœ‰ Neo4jã€TigerGraph ç­‰ï¼Œéƒ½æ”¯æŒå¤æ‚çš„å›¾ç®—æ³•å’Œåˆ†å¸ƒå¼æ‰©å±•ï¼Œèƒ½å¤Ÿé€šè¿‡å¹¶è¡Œè®¡ç®—åŠ é€Ÿå›¾å½¢å¤„ç†ã€‚</p>
<h3 data-id="heading-8">æ—¶åºæ•°æ®åº“</h3>
<p>æ—¶åºæ•°æ®åº“æ˜¯ä¸“é—¨ç”¨äºé«˜æ•ˆå­˜å‚¨å’Œå¤„ç† <strong>æ—¶é—´åºåˆ—</strong> çš„æ•°æ®åº“ã€‚</p>
<p>æ—¶é—´åºåˆ—æ˜¯æŒ‡ä»¥æ—¶é—´ä½œä¸ºä¸»è¦ç»´åº¦çš„æ•°æ®åºåˆ—ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªæ•°æ®å•å…ƒéƒ½å¸¦ç€ <strong>æ—¶é—´æˆ³</strong>ï¼ŒæŒ‰æ—¶é—´é¡ºåºæ’åˆ—ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b0abab6908e49aeacbbaf47e71e772d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=XbHRHqLtPZyZ6thpsN6txLj83lY%3D" alt="" loading="lazy"/></p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨æœåŠ¡å™¨ç›‘æ§ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ¯åˆ†é’Ÿè®°å½•æœåŠ¡å™¨çš„ CPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ç­‰æŒ‡æ ‡ï¼Œæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>æ—¶é—´æˆ³</th><th>è®¾å¤‡ID</th><th>CPUä½¿ç”¨ç‡</th><th>å†…å­˜ä½¿ç”¨ç‡</th></tr></thead><tbody><tr><td>2026-01-08 10:00</td><td>Server001</td><td>45%</td><td>60%</td></tr><tr><td>2026-01-08 10:01</td><td>Server001</td><td>48%</td><td>62%</td></tr><tr><td>2026-01-08 10:02</td><td>Server001</td><td>52%</td><td>65%</td></tr></tbody></table>
<p>æœ‰äº†è¿™äº›æ•°æ®ï¼Œæˆ‘ä»¬å°±èƒ½å¤ŸæŒ‰ç…§æ—¶é—´èŒƒå›´è¿›è¡Œé«˜æ•ˆæŸ¥è¯¢ã€åšèšåˆåˆ†æï¼ˆæ¯”å¦‚è®¡ç®—è¿‡å» 1 å°æ—¶çš„å¹³å‡ CPU ä½¿ç”¨ç‡ï¼‰ã€è¿›è¡Œæ•°æ®å¯è§†åŒ–å±•ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a3500250b5c4076a96ce303d1188c17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=oqEx%2B5uNfOUUK%2FGt6jP%2Fd65YSCk%3D" alt="" loading="lazy"/></p>
<p>å› æ­¤ï¼Œæ—¶åºæ•°æ®åº“éå¸¸é€‚ç”¨äºç‰©è”ç½‘è®¾å¤‡ç›‘æ§ã€æœåŠ¡å™¨æ€§èƒ½ç›‘æ§ã€é‡‘èäº¤æ˜“æ•°æ®åˆ†æç­‰åœºæ™¯ã€‚</p>
<p>ä¸»æµçš„æ—¶åºæ•°æ®åº“æŠ€æœ¯æœ‰ InfluxDBã€TimescaleDB ç­‰ï¼Œä¸€èˆ¬ä¼šé…åˆ Grafana ç›‘æ§çœ‹æ¿ä¸€èµ·ä½¿ç”¨ï¼Œå®ç°æ•°æ®å­˜å‚¨ + å¿«é€Ÿå¯è§†åŒ–ã€‚ä½ åœ¨è¿ç»´å›¢é˜Ÿçœ‹åˆ°çš„é‚£äº›é…·ç‚«çš„å®æ—¶ç›‘æ§å¤§å±ï¼ŒèƒŒåå°±æ˜¯æ—¶åºæ•°æ®åº“åœ¨æ”¯æ’‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1d6a09e19241f5a7fdf121fc760cc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=r%2BBC6ACZZ1LufZPgPNSXNj67ZpE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">åˆ—å­˜æ•°æ®åº“</h3>
<p>åŒºåˆ«äºä¼ ç»Ÿçš„è¡Œå¼æ•°æ®åº“ï¼Œåˆ—å­˜æ•°æ®åº“ <strong>ä»¥åˆ—ä½œä¸ºåŸºæœ¬çš„å­˜å‚¨å•ä½</strong>ï¼ŒæŠŠæ¯ä¸€åˆ—çš„æ•°æ®å­˜å‚¨åœ¨ä¸€èµ·ã€‚</p>
<p>æ‹¿å…¬å¸æ¯å¤©çš„æ”¶å…¥æ¥ä¸¾ä¸ªä¾‹å­ï¼Œä¼ ç»Ÿçš„è¡Œå¼æ•°æ®åº“æ˜¯è¿™ä¹ˆå­˜å‚¨çš„ï¼š</p>





























<table><thead><tr><th>æ—¥æœŸ</th><th>é”€å”®é¢</th><th>æˆæœ¬</th><th>åˆ©æ¶¦</th></tr></thead><tbody><tr><td>2026-01-01</td><td>500</td><td>600</td><td>-100</td></tr><tr><td>2026-01-02</td><td>280</td><td>450</td><td>-170</td></tr><tr><td>2026-01-03</td><td>290</td><td>480</td><td>-190</td></tr></tbody></table>
<p>è€Œåœ¨åˆ—å­˜æ•°æ®åº“ä¸­ï¼Œåº•å±‚å¤§æ¦‚æ˜¯è¿™ä¹ˆå­˜å‚¨çš„ï¼Œçœ‹èµ·æ¥åƒæ˜¯å¯¹çŸ©é˜µåšäº†ä¸€æ¬¡è½¬ç½®ï¼š</p>





























<table><thead><tr><th>æ—¥æœŸ</th><th>2026-01-01</th><th>2026-01-02</th><th>2026-01-03</th></tr></thead><tbody><tr><td>é”€å”®é¢</td><td>500</td><td>280</td><td>290</td></tr><tr><td>æˆæœ¬</td><td>600</td><td>450</td><td>480</td></tr><tr><td>åˆ©æ¶¦</td><td>-100</td><td>-170</td><td>-190</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d566c99ed8704ba3975d091e41b0bd7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=2pTG0DVBOQvkF5UCPcDCySpncXM%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæˆ‘ä»¬è¦ç»Ÿè®¡è¿™ 3 å¤©å…¬å¸çš„æ€»åˆ©æ¶¦ï¼Œä¼ ç»Ÿçš„è¡Œå¼æ•°æ®åº“éœ€è¦ä¾æ¬¡è¯»å–æ¯ä¸€è¡Œçš„æ•°æ®ï¼Œç„¶åå†æå–å‡ºåˆ©æ¶¦è¿™ä¸€åˆ—è¿›è¡Œè®¡ç®—ï¼›è€Œåˆ—å­˜æ•°æ®åº“ç›´æ¥è¯»å–åˆ©æ¶¦è¿™ä¸€åˆ—å°±è¡Œäº†ï¼Œä¸ç”¨ç®¡å…¶ä»–åˆ—ï¼Œå¤§å¤§æé«˜äº†æ•°æ®åˆ†æå’Œèšåˆæ“ä½œçš„æ•ˆç‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f85fc5eafb014db1ba416c0431091586~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=OD8S7dYfKAGiCVSqzEdB%2FQ2eU5Q%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ä»è®¡ç®—æœºåº•å±‚æ¥åˆ†æï¼ŒæŠŠç›¸åŒç±»å‹çš„æ•°æ®åœ¨åŒä¸€åˆ—ä¸­è¿ç»­å­˜å‚¨ï¼Œå¯ä»¥å®ç°æ›´å¥½çš„æ•°æ®å‹ç¼©æ•ˆæœã€èŠ‚çº¦å­˜å‚¨ç©ºé—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7500719925a5478e972fb3978fae8d53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=Qxg6XYNowgSnyjgCFWzxbgz1q%2Bs%3D" alt="" loading="lazy"/></p>
<p>å› æ­¤ï¼Œåˆ—å­˜æ•°æ®åº“é€‚ç”¨äºæŠ¥è¡¨ç”Ÿæˆã€æ•°æ®ä»“åº“ã€å•†ä¸šæ™ºèƒ½åˆ†æç­‰åœºæ™¯ã€‚</p>
<p>ä¸»æµçš„åˆ—å­˜æ•°æ®åº“æŠ€æœ¯æœ‰ ClickHouseã€Apache HBaseã€Druid ç­‰ï¼Œéƒ½æ˜¯å¤§æ•°æ®å¼€å‘çš„å¿…ä¿®è¯¾ã€‚</p>
<h2 data-id="heading-10">èåˆå‹æ•°æ®åº“</h2>
<p>å‰é¢æˆ‘ä»¬è®²äº†å…³ç³»å‹å’Œéå…³ç³»å‹æ•°æ®åº“ï¼Œè¦ä¹ˆå¼ºè°ƒçµæ´»æŸ¥è¯¢ã€è¦ä¹ˆå¼ºè°ƒæ€§èƒ½å’Œæ‰©å±•ï¼Œå„æœ‰ä¾§é‡ã€‚</p>
<p>ä½†æœ‰äº›æ•°æ®åº“åå â€œæ—¢è¦åˆè¦â€ï¼Œè¦æŠŠä¸¤è€…çš„ä¼˜ç‚¹èåˆåˆ°ä¸€èµ·ï¼Œè¿™å°±æ˜¯æ¥ä¸‹æ¥è¦è®²çš„èåˆå‹æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-11">NewSQL æ•°æ®åº“</h3>
<p>NewSQL æ˜¯ä¸€ç±»æ–°å…´çš„æ•°æ®åº“ï¼Œå®ƒèåˆäº†ä¼ ç»Ÿå…³ç³»å‹å’Œéå…³ç³»å‹æ•°æ®åº“çš„ä¼˜ç‚¹ã€‚æ—¢æœ‰ä¼ ç»Ÿ SQL æ•°æ®åº“çš„ ACID ç‰¹æ€§å’Œäº‹åŠ¡æ”¯æŒï¼Œåˆæœ‰ NoSQL çš„æ°´å¹³æ‰©å±•èƒ½åŠ›å’Œé«˜æ€§èƒ½ã€‚æ”¯æŒæ ‡å‡† SQL æŸ¥è¯¢ã€åˆ†å¸ƒå¼æ¶æ„ã€è‡ªåŠ¨å®¹é”™å’Œæ•…éšœæ¢å¤ï¼Œå¯ä»¥æ›¿ä»£ä¼ ç»Ÿçš„åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆï¼Œç‰¹åˆ«é€‚ç”¨äºå¤§å‚çš„é«˜å¹¶å‘ç³»ç»Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b01183741414b089be79100a9b89c9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=6Yde93Kl6zvHeH%2Fz0mOHL7mWCMU%3D" alt="" loading="lazy"/></p>
<p>ä¸»æµçš„ NewSQL æ•°æ®åº“æœ‰ TiDBã€CockroachDBã€Google Spanner ç­‰ã€‚å…¶ä¸­ TiDB æ˜¯å›½äº§ä¹‹å…‰ï¼Œæ”¯æŒ HTAPï¼ˆæ··åˆäº‹åŠ¡åˆ†æå¤„ç†ï¼‰ï¼Œè€Œä¸”å®Œå…¨å…¼å®¹ MySQL åè®®ï¼Œè¿ç§»æˆæœ¬ä½ï¼›CockroachDB äººç§° â€œèŸ‘è‚æ•°æ®åº“â€ï¼Œå› ä¸ºå®ƒåƒèŸ‘è‚ä¸€æ ·é¡½å¼ºï¼Œé›†ç¾¤ä¸­ä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼Œå…¶ä»–èŠ‚ç‚¹ä¾ç„¶èƒ½æ­£å¸¸æœåŠ¡ï¼Œæ‰“ä¸æ­»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc21d3d772b94cb59dc8e2ca490ecaee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=nz97%2BSd5zgtGimATcDdPGkg6BRI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">å¤šæ¨¡æ•°æ®åº“</h3>
<p>åŒºåˆ«äºå‰é¢æ‰€æœ‰å­˜å‚¨å•ä¸€æ•°æ®æ¨¡å‹çš„æ•°æ®åº“ï¼Œå¤šæ¨¡æ•°æ®åº“èƒ½å¤Ÿç›´æ¥åœ¨ä¸€ä¸ªæ•°æ®åº“é‡ŒåŒæ—¶å­˜å‚¨å’Œå¤„ç† <strong>å¤šç§ä¸åŒç±»å‹</strong> çš„æ•°æ®ã€‚æ¯”å¦‚å…³ç³»å‹æ•°æ®ã€æ–‡æ¡£æ•°æ®ã€å›¾å½¢æ•°æ®ã€é”®å€¼å¯¹æ•°æ®ç­‰ç­‰ï¼Œéå¸¸çµæ´»ã€çœå»äº†ç»´æŠ¤å¤šä¸ªæ•°æ®åº“çš„éº»çƒ¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da4020cd2a37461ebc9d814db5fade4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=NMHMRgdXYMr5k4BYuVKXUi7y%2FQ0%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”å¤šæ¨¡æ•°æ®åº“è¿˜æ”¯æŒè·¨æ¨¡å‹äº‹åŠ¡ï¼Œèƒ½å¤Ÿæ›´è½»æ¾åœ°å®ç°æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ï¼Œä¸éœ€è¦æ‰‹åŠ¨å®ç°è·¨åº“äº‹åŠ¡ã€è·¨åº“æ•°æ®åŒæ­¥è¿™äº›å¤æ‚æ“ä½œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bf9164dadab43bfaabe7eee5470b2d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=4%2BE5NlCjKbfnGdJ1shuwjX23tIY%3D" alt="" loading="lazy"/></p>
<p>è™½ç„¶å¬èµ·æ¥å¾ˆå‰å®³ï¼Œä½†å®é™…å¼€å‘ä¸­å¾ˆå°‘ç”¨ï¼Œå› ä¸ºæ ·æ ·é€šæ ·æ ·æ¾ï¼Œå¤šæ¨¡æ•°æ®åº“çš„æ€§èƒ½å¾€å¾€ä¸å¦‚ä¸“æ³¨å•ä¸€åœºæ™¯çš„æ•°æ®åº“ã€‚</p>
<p>åŸç”Ÿçš„å¤šæ¨¡æ•°æ®åº“æŠ€æœ¯æœ‰ ArangoDBã€OrientDB ç­‰ï¼Œå®ƒä»¬ä»è®¾è®¡ä¹‹åˆå°±æ˜¯ä¸ºå¤šæ¨¡å¼è®¾è®¡çš„ã€‚å‰é¢ä¹Ÿæåˆ°ï¼Œè™½ç„¶ PostgreSQL è¿™æ ·çš„è€ç‰Œå…³ç³»å‹æ•°æ®åº“å¯ä»¥é€šè¿‡ä¸°å¯Œçš„æ’ä»¶æ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚ JSON æ–‡æ¡£ã€å‘é‡ã€åœ°ç†ç©ºé—´æ•°æ®ç­‰ï¼‰ï¼Œä½†å®ƒçš„æ ¸å¿ƒå§‹ç»ˆæ˜¯å…³ç³»æ¨¡å‹ï¼Œå¤šæ¨¡æ”¯æŒç®—æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œä¸è¿‡è¿™ä¹Ÿä½“ç°äº† PostgreSQL çš„å¼ºå¤§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2953b5f5e24413c8cc71841651738e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=B6QlHXeEzm5QtXCOUondZT7jYlg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">æ€ä¹ˆé€‰æ‹©æ•°æ®åº“ï¼Ÿ</h2>
<p>ä½ ä¸€è„¸æ‡µé€¼ï¼šé˜¿å·´é˜¿å·´ï¼Œä½ è®²äº†è¿™ä¹ˆå¤šæ•°æ®åº“ï¼Œä¿ºå¤´éƒ½å¤§äº†ï¼Œåˆ°åº•è¯¥é€‰å“ªä¸ªï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4600de1399f845d084ed9d68637c2be9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=FicllqSlNNfUpkv2W8Hl8vsA4Es%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ç¬‘äº†ç¬‘ï¼šåˆ«æ…Œï¼Œæ•°æ®åº“é€‰å‹å…¶å®æ²¡é‚£ä¹ˆå¤æ‚ã€‚</p>
<p>ä¼˜å…ˆé€‰ç”¨ MySQL / PostgreSQL + Redisï¼Œèƒ½è¦†ç›– 90% çš„é¡¹ç›®éœ€æ±‚ã€‚</p>
<p>æœ‰ç‰¹å®šåŠŸèƒ½æˆ–ä¼˜åŒ–éœ€æ±‚æ—¶ï¼Œå†é€‰æ‹©ä¸“ä¸šæ•°æ®åº“ã€‚æ¯”å¦‚éœ€è¦æœç´¢åŠŸèƒ½äº†ï¼Œå†åŠ  Elasticsearchï¼›è¦åš AI çŸ¥è¯†åº“äº†ï¼Œå†åŠ å‘é‡æ•°æ®åº“ã€‚</p>
<p>æ¯•ç«Ÿæ¯å¤šä¸€ä¸ªæ•°æ®åº“ï¼Œå°±å¤šä¸€ä»½è¿ç»´å·¥ä½œå’Œæ•…éšœé£é™©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80b47d5e83564af395f6c3ca5be4aee6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=nMPIBytYs9mvEtKQcqLgeUV7udE%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå­¦ä¼šäº†å­¦åºŸäº†ï¼å¯¹äº†é±¼çš®ï¼Œæˆ‘è¿˜å¬è¯´è¿‡æ•°æ®æ¹–ã€æ•°æ®ä»“åº“ï¼Œè¿™äº›æ˜¯å•¥å•Šï¼Ÿ</p>
<p>é±¼çš®ï¼šç®€å•æ¥è¯´ï¼Œæ•°æ®ä»“åº“æ˜¯ç”¨æ¥å­˜å‚¨å’Œåˆ†æå¤§é‡ç»“æ„åŒ–æ•°æ®çš„ï¼›æ•°æ®æ¹–æ›´åƒä¸ªå¤§æ°´æ± ï¼Œä»€ä¹ˆæ•°æ®éƒ½èƒ½å¾€é‡Œæ‰”ï¼ŒåŒ…æ‹¬æ—¥å¿—ã€å›¾ç‰‡ã€è§†é¢‘è¿™äº›éç»“æ„åŒ–æ•°æ®ã€‚å®ƒä»¬æ›´å¤šæ˜¯å¤§æ•°æ®æ¶æ„å±‚é¢çš„æ¦‚å¿µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a193d06720f48ac95375f13ce32e8ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=M0%2FgEahLwA4QsHRiCPFVH9RrwZ0%3D" alt="" loading="lazy"/></p>
<p>æ„Ÿå…´è¶£çš„è¯ï¼Œç‚¹ä¸ªå…³æ³¨ï¼Œåé¢ä¸“é—¨å‡ºä¸€æœŸè®²è®²~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c50da41431d4900afdc02ba3d845a3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021245&amp;x-signature=5Z7jQACzMLbezgSuEdGutLGCs7Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a> ğŸ“– AI å­¦ä¹ æŒ‡å—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fai-guide" target="_blank" title="https://github.com/liyupi/ai-guide" ref="nofollow noopener noreferrer">é±¼çš® AI å¯¼èˆª</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Windows å¼€æœºè‡ªå¯åŠ¨çš„ 8 ç§å§¿åŠ¿ï¼šå†™ç»™å¼€å‘è€…çš„æ·±åº¦å¯¹æ¯”æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599220371665715240</link>    <guid>https://juejin.cn/post/7599220371665715240</guid>    <pubDate>2026-01-26T08:02:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599220371665715240" data-draft-id="7599474528238092328" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Windows å¼€æœºè‡ªå¯åŠ¨çš„ 8 ç§å§¿åŠ¿ï¼šå†™ç»™å¼€å‘è€…çš„æ·±åº¦å¯¹æ¯”æŒ‡å—"/> <meta itemprop="keywords" content="Windows,Electron"/> <meta itemprop="datePublished" content="2026-01-26T08:02:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BanShan_Alec"/> <meta itemprop="url" content="https://juejin.cn/user/3887501804058861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Windows å¼€æœºè‡ªå¯åŠ¨çš„ 8 ç§å§¿åŠ¿ï¼šå†™ç»™å¼€å‘è€…çš„æ·±åº¦å¯¹æ¯”æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3887501804058861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BanShan_Alec
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:02:41.000Z" title="Mon Jan 26 2026 08:02:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Windows å¼€æœºè‡ªå¯åŠ¨çš„ 8 ç§å§¿åŠ¿ï¼šå†™ç»™å¼€å‘è€…çš„æ·±åº¦å¯¹æ¯”æŒ‡å—</h2>
<blockquote>
<p>æœ€è¿‘åœ¨åšæ¡Œé¢åº”ç”¨çš„å¼€æœºè‡ªå¯åŠ¨åŠŸèƒ½ï¼Œè¸©äº†ä¸å°‘å‘ã€‚ä»Šå¤©å°±æ¥èŠèŠ Windows ç³»ç»Ÿä¸‹é‚£äº›äº”èŠ±å…«é—¨çš„è‡ªå¯åŠ¨æ–¹å¼ï¼Œå¸®ä½ æ‰¾åˆ°æœ€é€‚åˆä½ é¡¹ç›®çš„é‚£ä¸€æ¬¾ã€‚</p>
</blockquote>
<p>ğŸ“¦ <strong>æœ¬æ–‡æ‰€æœ‰æµ‹è¯•æ•°æ®å‡æ¥è‡ªå¼€æºé¡¹ç›®</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBanShan-Alec%2Fwindows-startup-run-demo" target="_blank" title="https://github.com/BanShan-Alec/windows-startup-run-demo" ref="nofollow noopener noreferrer">windows-startup-run-demo</a>ï¼ŒåŒ…å«å®Œæ•´çš„æµ‹è¯•ä»£ç ã€é…ç½®è„šæœ¬å’ŒåŸå§‹æ—¥å¿—ï¼Œæ¬¢è¿ Star â­ å’Œå¤ç°éªŒè¯ï¼</p>
<h3 data-id="heading-1">ğŸ­ å…ˆè¯´ç»“è®º</h3>
<p>å¦‚æœä½ èµ¶æ—¶é—´ï¼Œç›´æ¥çœ‹è¿™ä¸ªè¡¨æ ¼ï¼š</p>






















































































<table><thead><tr><th>æ–¹å¼</th><th>å¯åŠ¨æ—¶æœº</th><th>å®æµ‹å»¶è¿Ÿ</th><th>æ¥å…¥æˆæœ¬</th><th>æ€è½¯å‹å¥½</th><th>å¤šç”¨æˆ·</th><th>æ¨èåœºæ™¯</th></tr></thead><tbody><tr><td>Windows æœåŠ¡</td><td>ç³»ç»Ÿå¯åŠ¨</td><td>~13s</td><td>â­â­â­</td><td>âœ…</td><td>âœ…</td><td>åå°æœåŠ¡ã€VPNã€ä»£ç†</td></tr><tr><td>ä»»åŠ¡è®¡åˆ’(ç³»ç»Ÿå¯åŠ¨)</td><td>ç³»ç»Ÿå¯åŠ¨å</td><td>~14s</td><td>â­â­â­</td><td>âœ…</td><td>âœ…</td><td>éœ€è¦æ—©å¯åŠ¨çš„ç”¨æˆ·ç¨‹åº</td></tr><tr><td>Userinit è¿½åŠ </td><td>ç”¨æˆ·ç™»å½•æ—¶</td><td>~13s</td><td>â­â­</td><td>âš ï¸</td><td>âŒ</td><td><strong>ä¸æ¨è</strong></td></tr><tr><td>ä»»åŠ¡è®¡åˆ’(ç”¨æˆ·ç™»å½•)</td><td>ç”¨æˆ·ç™»å½•</td><td>~19s</td><td>â­â­â­</td><td>âœ…</td><td>âœ…</td><td>æœ€ä½³å¹³è¡¡æ–¹æ¡ˆ</td></tr><tr><td>æ³¨å†Œè¡¨ HKLM\Run</td><td>ç”¨æˆ·ç™»å½•</td><td>~52s</td><td>â­â­</td><td>âœ…</td><td>âœ…</td><td>å¤šç”¨æˆ·å…±äº«çš„è½»é‡ç¨‹åº</td></tr><tr><td>æ³¨å†Œè¡¨ HKCU\Run</td><td>ç”¨æˆ·ç™»å½•</td><td>~79s</td><td>â­</td><td>âœ…</td><td>âŒ</td><td>æœ€ç®€å•çš„ç”¨æˆ·çº§è‡ªå¯</td></tr><tr><td>å¯åŠ¨æ–‡ä»¶å¤¹</td><td>ç”¨æˆ·ç™»å½•å</td><td>~81s</td><td>â­</td><td>âœ…</td><td>âŒ</td><td>å°ç™½ç”¨æˆ·è‡ªå®šä¹‰</td></tr><tr><td>Shell æ›¿æ¢</td><td>ç”¨æˆ·ç™»å½•æ—¶</td><td>-</td><td>â­â­â­â­</td><td>âŒ</td><td>âŒ</td><td><strong>åƒä¸‡åˆ«ç”¨</strong></td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ å»¶è¿Ÿæ•°æ®æ¥è‡ªå®é™…æµ‹è¯•ï¼ˆSSD æœºå™¨ï¼Œä»å¼€æœºåˆ°ç¨‹åºæ‰§è¡Œçš„æ—¶é—´ï¼‰â€”â€” æµ‹è¯•ä»£ç å¼€æºåœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBanShan-Alec%2Fwindows-startup-run-demo" target="_blank" title="https://github.com/BanShan-Alec/windows-startup-run-demo" ref="nofollow noopener noreferrer">GitHub</a></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ğŸš€ è¯¦ç»†æ‹†è§£æ¯ç§æ–¹å¼</h3>
<h4 data-id="heading-3">1. Windows æœåŠ¡ (Service) â€”â€” æœ€æ—©èµ·åºŠçš„é‚£ä¸ª</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~13ç§’ | æƒé™: ç®¡ç†å‘˜ | å¤æ‚åº¦: ä¸­ç­‰</span>
</code></pre>
<p>Windows æœåŠ¡æ˜¯ç³»ç»Ÿçº§çš„è¿›ç¨‹ï¼Œåœ¨ç”¨æˆ·ç™»å½•ä¹‹å‰å°±å·²ç»è·‘èµ·æ¥äº†ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸƒ å¯åŠ¨æœ€æ—©ï¼Œç³»ç»Ÿåˆšèµ·æ¥å°±å¼€å§‹å·¥ä½œ</li>
<li>ğŸ›¡ï¸ æ€è½¯å®Œå…¨ä¸ä¼šæ‹¦æˆªï¼ˆæ­£è§„æœåŠ¡ï¼‰</li>
<li>ğŸ‘¥ å¤©ç„¶æ”¯æŒå¤šç”¨æˆ·ï¼Œè·Ÿç”¨æˆ·ä¼šè¯æ— å…³</li>
<li>ğŸ”„ å¯é…ç½®è‡ªåŠ¨é‡å¯ã€ä¾èµ–å…³ç³»ç­‰</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ–¥ï¸ æ²¡æœ‰ GUI èƒ½åŠ›ï¼ˆSession 0 éš”ç¦»é—®é¢˜ï¼‰</li>
<li>ğŸ“¦ éœ€è¦é¢å¤–å·¥å…·æ¥åŒ…è£…ï¼ˆå¦‚ WinSWã€NSSMï¼‰</li>
<li>âš™ï¸ å®‰è£…éœ€è¦ç®¡ç†å‘˜æƒé™</li>
</ul>
<p><strong>é€‚åˆåœºæ™¯ï¼š</strong> VPN å®¢æˆ·ç«¯ã€ç³»ç»Ÿä»£ç†ï¼ˆClashï¼‰ã€åå°åŒæ­¥æœåŠ¡</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆä½¿ç”¨ schtasks åˆ›å»ºï¼‰ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># æˆ–è€…ç”¨ sc.exe åˆ›å»ºåŸç”ŸæœåŠ¡
sc.exe create "MyService" binPath= "C:\path\to\service.exe" start= auto
</code></pre>
<p><strong>å®æˆ˜ç»éªŒï¼š</strong> å¦‚æœä½ æ˜¯ Node.js/Electron å¼€å‘è€…ï¼Œå¼ºçƒˆæ¨è <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwinsw%2Fwinsw" target="_blank" title="https://github.com/winsw/winsw" ref="nofollow noopener noreferrer">WinSW</a>ï¼Œåªéœ€è¦ä¸€ä¸ª XML é…ç½®æ–‡ä»¶å°±èƒ½æŠŠæ™®é€š exe åŒ…è£…æˆæœåŠ¡ã€‚</p>
<hr/>
<h4 data-id="heading-4">2. ä»»åŠ¡è®¡åˆ’ - ç³»ç»Ÿå¯åŠ¨è§¦å‘ (Task Scheduler - At Startup)</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~14ç§’ | æƒé™: ç®¡ç†å‘˜ | å¤æ‚åº¦: ä¸­ç­‰</span>
</code></pre>
<p>è¿™æ˜¯é€šè¿‡ Windows ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼Œè®¾ç½®"è®¡ç®—æœºå¯åŠ¨æ—¶"è§¦å‘çš„ä»»åŠ¡ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âš¡ å¯åŠ¨å¾ˆæ—©ï¼Œä»…æ¬¡äºæœåŠ¡</li>
<li>ğŸ›ï¸ å¯ä»¥ç²¾ç»†æ§åˆ¶ï¼ˆå»¶è¿Ÿå¯åŠ¨ã€æ¡ä»¶è§¦å‘ã€ä¼˜å…ˆçº§ç­‰ï¼‰</li>
<li>ğŸ–¥ï¸ å¯ä»¥æœ‰ GUIï¼ˆè·ŸæœåŠ¡æœ€å¤§çš„åŒºåˆ«ï¼ï¼‰</li>
<li>ğŸ“‹ ç³»ç»ŸåŸç”Ÿæ”¯æŒï¼Œæ€è½¯å‹å¥½</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ“ é…ç½®ç›¸å¯¹å¤æ‚ï¼ˆXML æˆ– COM APIï¼‰</li>
<li>ğŸ”‘ éœ€è¦ç®¡ç†å‘˜æƒé™åˆ›å»º</li>
</ul>
<p><strong>é€‚åˆåœºæ™¯ï¼š</strong> éœ€è¦æ—©å¯åŠ¨ + æœ‰ç•Œé¢çš„åº”ç”¨</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆschtasks å‘½ä»¤ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">schtasks /create /tn "MyApp-Startup" /tr "C:\path\to\app.exe" /sc onstart /ru SYSTEM
</code></pre>
<p><strong>Pro Tipï¼š</strong> ä½ å¯ä»¥è®¾ç½®ä»»åŠ¡çš„ <code>Priority</code> ä¸º <code>0</code>ï¼ˆå®æ—¶ï¼‰åˆ° <code>10</code>ï¼ˆç©ºé—²ï¼‰ï¼Œé»˜è®¤æ˜¯ <code>7</code>ã€‚æƒ³å¯åŠ¨æ›´å¿«ï¼Ÿè°ƒä½è¿™ä¸ªå€¼ï¼</p>
<hr/>
<h4 data-id="heading-5">3. Userinit è¿½åŠ  â€”â€” å±é™©çš„æ·å¾„ âš ï¸</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~13ç§’ | æƒé™: ç®¡ç†å‘˜ | å¤æ‚åº¦: ä½ | é£é™©: é«˜</span>
</code></pre>
<p>Userinit æ˜¯ Windows ç™»å½•è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨ï¼š</p>
<pre><code class="hljs">HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\Userinit
</code></pre>
<p>é»˜è®¤å€¼æ˜¯ <code>C:\Windows\system32\userinit.exe,</code>ï¼Œä½ å¯ä»¥åœ¨åé¢è¿½åŠ è‡ªå·±çš„ç¨‹åºã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âš¡ å¯åŠ¨éå¸¸æ—©ï¼Œå‡ ä¹å’ŒæœåŠ¡åŒæ—¶</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸš¨ <strong>ææ˜“è¢«æ€è½¯æŠ¥æ¯’ï¼</strong> è¿™æ˜¯æ¶æ„è½¯ä»¶å¸¸ç”¨çš„é©»ç•™æ–¹å¼</li>
<li>ğŸ’¥ é…ç½®é”™è¯¯ä¼šå¯¼è‡´æ— æ³•ç™»å½•ç³»ç»Ÿ</li>
<li>âŒ ä¸æ”¯æŒå¤šç”¨æˆ·ï¼ˆåªèƒ½å…¨å±€é…ç½®ï¼‰</li>
<li>ğŸ”§ åªèƒ½ç”¨äºå•ä¸ªç¨‹åºçš„è¿½åŠ </li>
</ul>
<p><strong>æˆ‘çš„å»ºè®®ï¼š</strong> é™¤éä½ åœ¨åšå®‰å…¨ç ”ç©¶ï¼Œå¦åˆ™ <strong>åƒä¸‡åˆ«ç”¨</strong>ã€‚å°±ç®—ç”¨ï¼Œä¹Ÿè¦åšå¥½è¢« 360ã€ç«ç»’æ‹¦æˆªçš„å¿ƒç†å‡†å¤‡ã€‚</p>
<hr/>
<h4 data-id="heading-6">4. ä»»åŠ¡è®¡åˆ’ - ç”¨æˆ·ç™»å½•è§¦å‘ (Task Scheduler - At Logon) â­ æ¨è</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~19ç§’ | æƒé™: æ™®é€š/ç®¡ç†å‘˜ | å¤æ‚åº¦: ä¸­ç­‰</span>
</code></pre>
<p>è¿™æ˜¯æˆ‘ä¸ªäººæœ€æ¨èçš„æ–¹å¼ï¼Œå¹³è¡¡äº†å¯åŠ¨é€Ÿåº¦ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ“ˆ å¯åŠ¨è¾ƒæ—©ï¼ˆæ¯”æ³¨å†Œè¡¨ Run å¿«å¾—å¤šï¼ï¼‰</li>
<li>ğŸ” å¯ä»¥ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆåªä¸ºå½“å‰ç”¨æˆ·åˆ›å»ºï¼‰</li>
<li>ğŸ›¡ï¸ æ€è½¯å®Œå…¨ä¸ä¼šæ‹¦æˆª</li>
<li>ğŸ‘¥ å¤©ç„¶æ”¯æŒå¤šç”¨æˆ·ï¼ˆæ¯ä¸ªç”¨æˆ·ç‹¬ç«‹ä»»åŠ¡ï¼‰</li>
<li>ğŸ›ï¸ å¯ç²¾ç»†æ§åˆ¶ï¼ˆå»¶è¿Ÿã€æ¡ä»¶ã€é‡è¯•ç­–ç•¥ç­‰ï¼‰</li>
<li>ğŸ–¥ï¸ æ”¯æŒ GUI ç¨‹åº</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ“ éœ€è¦å¤„ç† XML æˆ– schtasks å‘½ä»¤</li>
<li>ğŸ” è°ƒè¯•ç¨å¾®éº»çƒ¦ä¸€ç‚¹</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># ä¸ºå½“å‰ç”¨æˆ·åˆ›å»ºç™»å½•è§¦å‘çš„ä»»åŠ¡
schtasks /create /tn "MyApp-Logon" /tr "C:\path\to\app.exe" /sc onlogon
</code></pre>
<p><strong>ç”¨ XML å®šä¹‰ï¼ˆæ›´çµæ´»ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-16"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">Task</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.2"</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.microsoft.com/windows/2004/02/mit/task"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Triggers</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">LogonTrigger</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">Enabled</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LogonTrigger</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Triggers</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Principals</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Principal</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">LogonType</span>&gt;</span>InteractiveToken<span class="hljs-tag">&lt;/<span class="hljs-name">LogonType</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">RunLevel</span>&gt;</span>LeastPrivilege<span class="hljs-tag">&lt;/<span class="hljs-name">RunLevel</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Principal</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Principals</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Priority</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">Priority</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ExecutionTimeLimit</span>&gt;</span>PT0S<span class="hljs-tag">&lt;/<span class="hljs-name">ExecutionTimeLimit</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Settings</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Actions</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Exec</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Command</span>&gt;</span>C:\path\to\app.exe<span class="hljs-tag">&lt;/<span class="hljs-name">Command</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Exec</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Actions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Task</span>&gt;</span>
</code></pre>
<hr/>
<h4 data-id="heading-7">5. æ³¨å†Œè¡¨ HKLM\Run â€”â€” è€ç‰Œç¨³å®šé€‰æ‰‹</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~52ç§’ | æƒé™: ç®¡ç†å‘˜ | å¤æ‚åº¦: ä½</span>
</code></pre>
<p>ä½ç½®ï¼š<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</code></p>
<p>è¿™æ˜¯æœ€ç»å…¸çš„è‡ªå¯åŠ¨æ–¹å¼ä¹‹ä¸€ï¼Œæ‰€æœ‰ç”¨æˆ·ç™»å½•æ—¶éƒ½ä¼šæ‰§è¡Œã€‚</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ“– å®ç°ç®€å•ï¼Œä¸€è¡Œæ³¨å†Œè¡¨æå®š</li>
<li>ğŸ‘¥ æ”¯æŒå¤šç”¨æˆ·ï¼ˆæ‰€æœ‰ç”¨æˆ·å…±äº«ï¼‰</li>
<li>ğŸ›¡ï¸ æ€è½¯å‹å¥½ï¼ˆæ­£è§„åšæ³•ï¼‰</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ¢ å¯åŠ¨è¾ƒæ™šï¼ˆç­‰ç”¨æˆ·ç™»å½•æµç¨‹èµ°å®Œï¼‰</li>
<li>ğŸ”‘ éœ€è¦ç®¡ç†å‘˜æƒé™</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># PowerShell
Set-ItemProperty -Path "HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Run" -Name "MyApp" -Value "C:\path\to\app.exe"
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Node.js (ä½¿ç”¨ regedit åŒ…)</span>
<span class="hljs-keyword">const</span> regedit = <span class="hljs-built_in">require</span>(<span class="hljs-string">'regedit'</span>);
regedit.<span class="hljs-title function_">putValue</span>({
  <span class="hljs-string">'HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run'</span>: {
    <span class="hljs-string">'MyApp'</span>: { <span class="hljs-attr">value</span>: <span class="hljs-string">'C:\\path\\to\\app.exe'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'REG_SZ'</span> }
  }
});
</code></pre>
<hr/>
<h4 data-id="heading-8">6. æ³¨å†Œè¡¨ HKCU\Run â€”â€” æœ€ç®€å•çš„ç”¨æˆ·çº§æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~79ç§’ | æƒé™: æ™®é€š | å¤æ‚åº¦: æœ€ä½</span>
</code></pre>
<p>ä½ç½®ï¼š<code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Run</code></p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>âœ¨ <strong>ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ï¼</strong></li>
<li>ğŸ“– å®ç°æœ€ç®€å•</li>
<li>ğŸ›¡ï¸ æ€è½¯å‹å¥½</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ¢ å¯åŠ¨å¾ˆæ™š</li>
<li>âŒ ä¸æ”¯æŒå¤šç”¨æˆ·ï¼ˆåªå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰</li>
</ul>
<p><strong>é€‚åˆåœºæ™¯ï¼š</strong> ä¸éœ€è¦å¿«é€Ÿå¯åŠ¨çš„æ™®é€šç”¨æˆ·åº”ç”¨ï¼ˆå¦‚ å¾®ä¿¡ï¼‰</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Electron å†…ç½®æ”¯æŒï¼</span>
<span class="hljs-keyword">const</span> { app } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-comment">// å¼€å¯è‡ªå¯åŠ¨</span>
app.<span class="hljs-title function_">setLoginItemSettings</span>({
  <span class="hljs-attr">openAtLogin</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">path</span>: app.<span class="hljs-title function_">getPath</span>(<span class="hljs-string">'exe'</span>)
});
</code></pre>
<blockquote>
<p>ğŸ¯ Electron çš„ <code>setLoginItemSettings</code> é»˜è®¤å°±æ˜¯å†™ HKCU\Runï¼Œç®€å•ç²—æš´ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-9">7. å¯åŠ¨æ–‡ä»¶å¤¹ (Startup Folder) â€”â€” å°ç™½æœ€çˆ±</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å¯åŠ¨å»¶è¿Ÿ: ~81ç§’ | æƒé™: æ™®é€š | å¤æ‚åº¦: æœ€ä½</span>
</code></pre>
<p>ä½ç½®ï¼š</p>
<ul>
<li>å½“å‰ç”¨æˆ·ï¼š<code>%APPDATA%\Microsoft\Windows\Start Menu\Programs\Startup</code></li>
<li>æ‰€æœ‰ç”¨æˆ·ï¼š<code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup</code></li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ‘€ ç”¨æˆ·å¯è§ï¼Œé€æ˜å¯æ§</li>
<li>ğŸ”§ ç”¨æˆ·å¯ä»¥è‡ªå·±ç®¡ç†ï¼ˆæ‹–æ‹½å¿«æ·æ–¹å¼å³å¯ï¼‰</li>
<li>ğŸ›¡ï¸ æ€è½¯ç»å¯¹ä¸ä¼šæ‹¦æˆª</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ğŸ¢ å¯åŠ¨æœ€æ™šï¼ˆæ‰€æœ‰æ–¹å¼ä¸­æœ€æ…¢ï¼‰</li>
<li>ğŸ—‚ï¸ å®¹æ˜“è¢«ç”¨æˆ·è¯¯åˆ </li>
</ul>
<p><strong>é€‚åˆåœºæ™¯ï¼š</strong> è®©ç”¨æˆ·è‡ªå·±å†³å®šæ˜¯å¦å¼€æœºå¯åŠ¨çš„æƒ…å†µ</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> { shell } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-comment">// è·å–å¯åŠ¨æ–‡ä»¶å¤¹è·¯å¾„</span>
<span class="hljs-keyword">const</span> startupFolder = path.<span class="hljs-title function_">join</span>(
  process.<span class="hljs-property">env</span>.<span class="hljs-property">APPDATA</span>,
  <span class="hljs-string">'Microsoft/Windows/Start Menu/Programs/Startup'</span>
);

<span class="hljs-comment">// åˆ›å»ºå¿«æ·æ–¹å¼</span>
shell.<span class="hljs-title function_">writeShortcutLink</span>(
  path.<span class="hljs-title function_">join</span>(startupFolder, <span class="hljs-string">'MyApp.lnk'</span>),
  { <span class="hljs-attr">target</span>: process.<span class="hljs-property">execPath</span> }
);
</code></pre>
<hr/>
<h4 data-id="heading-10">8. Shell æ›¿æ¢ â€”â€” åˆ«ç¢°å®ƒ â˜ ï¸</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æƒé™: ç®¡ç†å‘˜ | é£é™©: æé«˜</span>
</code></pre>
<p>ä½ç½®ï¼š<code>HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\Shell</code></p>
<p>è¿™ä¸ªæ³¨å†Œè¡¨é”®å†³å®šäº†ç”¨æˆ·ç™»å½•åå¯åŠ¨ä»€ä¹ˆç¨‹åºï¼ˆé»˜è®¤æ˜¯ <code>explorer.exe</code>ï¼‰ã€‚</p>
<p><strong>ç†è®ºä¸Šä½ å¯ä»¥ï¼š</strong></p>
<pre><code class="hljs language-lua" lang="lua">explorer.exe, C:\<span class="hljs-built_in">path</span>\to\your\app.exe
</code></pre>
<p><strong>ä½†æ˜¯ï¼š</strong></p>
<ul>
<li>ğŸš¨ <strong>å¤§æ¦‚ç‡è¢«æ€è½¯ç›´æ¥å¹²æ‰</strong></li>
<li>ğŸ’€ é…ç½®é”™è¯¯ = ç³»ç»Ÿæ— æ³•è¿›å…¥æ¡Œé¢</li>
<li>ğŸ¦  è¿™æ˜¯æ¶æ„è½¯ä»¶æœ€çˆ±ç”¨çš„æ‰‹æ³•</li>
</ul>
<p><strong>æˆ‘çš„æ€åº¦ï¼š</strong> å¦‚æœæœ‰äººè®©ä½ ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ‹‰é»‘ä»–ã€‚</p>
<hr/>
<h3 data-id="heading-11">ğŸ“Š å¯åŠ¨æ—¶é—´çœŸå®æ—¥å¿—</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å¼€æœºæ—¶é—´çº¿</span> <span class="hljs-string">(SSD</span> <span class="hljs-string">æœºå™¨å®æµ‹)</span>
<span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-number">2026-01-26 14:59:33.67</span> <span class="hljs-string">|</span> <span class="hljs-string">SERVICE</span>         <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+13.18s</span>
<span class="hljs-number">2026-01-26 14:59:33.71</span> <span class="hljs-string">|</span> <span class="hljs-string">USERINIT</span>        <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+13.21s</span>
<span class="hljs-number">2026-01-26 14:59:34.14</span> <span class="hljs-string">|</span> <span class="hljs-string">TASK_STARTUP</span>    <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+13.65s</span>
<span class="hljs-number">2026-01-26 14:59:39.01</span> <span class="hljs-string">|</span> <span class="hljs-string">TASK_LOGON</span>      <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+18.52s</span>
<span class="hljs-number">2026-01-26 15:00:12.94</span> <span class="hljs-string">|</span> <span class="hljs-string">HKLM_RUN</span>        <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+52.44s</span>
<span class="hljs-number">2026-01-26 15:00:39.34</span> <span class="hljs-string">|</span> <span class="hljs-string">HKCU_RUN</span>        <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+78.84s</span>
<span class="hljs-number">2026-01-26 15:00:41.96</span> <span class="hljs-string">|</span> <span class="hljs-string">STARTUP_FOLDER</span>  <span class="hljs-string">|</span> <span class="hljs-attr">Boot:</span> <span class="hljs-number">2026-01-26 14:59:20.50</span> <span class="hljs-string">|</span> <span class="hljs-string">+81.47s</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">ğŸ”’ å®‰å…¨æ€§å¯¹æ¯”ï¼šæ€è½¯æ€ä¹ˆçœ‹ï¼Ÿ</h3>





























































<table><thead><tr><th>æ–¹å¼</th><th>360</th><th>ç«ç»’</th><th>Windows Defender</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Windows æœåŠ¡</td><td>âš ï¸</td><td>âš ï¸</td><td>âœ…</td><td>å¯èƒ½è¢«æ ‡è®°ä¸ºå¯ç–‘</td></tr><tr><td>ä»»åŠ¡è®¡åˆ’</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>ç³»ç»ŸåŸç”ŸåŠŸèƒ½</td></tr><tr><td>HKLM\Run</td><td>âš ï¸</td><td>âš ï¸</td><td>âœ…</td><td>æ ‡å‡†åšæ³•</td></tr><tr><td>HKCU\Run</td><td>âš ï¸</td><td>âš ï¸</td><td>âœ…</td><td>æ ‡å‡†åšæ³•</td></tr><tr><td>å¯åŠ¨æ–‡ä»¶å¤¹</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>ç”¨æˆ·å¯è§ï¼Œæœ€å®‰å…¨</td></tr><tr><td>Userinit</td><td>âš ï¸</td><td>âš ï¸</td><td>âš ï¸</td><td>é«˜æ¦‚ç‡è¢«æ ‡è®°ä¸ºå¯ç–‘</td></tr><tr><td>Shell æ›¿æ¢</td><td>âŒ</td><td>âŒ</td><td>âš ï¸</td><td>é«˜æ¦‚ç‡è¢«æ‹¦æˆª</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-13">ğŸ¯ ä¸åŒåœºæ™¯çš„é€‰æ‹©å»ºè®®</h3>
<h4 data-id="heading-14">åœºæ™¯1ï¼šæ™®é€šæ¡Œé¢åº”ç”¨ï¼ˆQQ/å¾®ä¿¡ç±»ï¼‰</h4>
<p><strong>æ¨èï¼š</strong> HKCU\Run æˆ– Electron çš„ <code>setLoginItemSettings</code></p>
<ul>
<li>ä¸éœ€è¦ç®¡ç†å‘˜æƒé™</li>
<li>æ¥å…¥æˆæœ¬æœ€ä½</li>
<li>å¯åŠ¨æ™šç‚¹æ— æ‰€è°“</li>
</ul>
<h4 data-id="heading-15">åœºæ™¯2ï¼šéœ€è¦å°½æ—©å¯åŠ¨çš„åº”ç”¨ï¼ˆVPN/ä»£ç†ç±»ï¼‰</h4>
<p><strong>æ¨èï¼š</strong> ä»»åŠ¡è®¡åˆ’ï¼ˆç”¨æˆ·ç™»å½•è§¦å‘ï¼‰+ ä½ä¼˜å…ˆçº§</p>
<ul>
<li>æ¯”æ³¨å†Œè¡¨å¿« 60 ç§’</li>
<li>ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ä¹Ÿèƒ½é…ç½®</li>
<li>æ€è½¯å‹å¥½</li>
</ul>
<h4 data-id="heading-16">åœºæ™¯3ï¼šçº¯åå°æœåŠ¡ï¼ˆåŒæ­¥/ç›‘æ§ç±»ï¼‰</h4>
<p><strong>æ¨èï¼š</strong> Windows æœåŠ¡</p>
<ul>
<li>æœ€æ—©å¯åŠ¨</li>
<li>è‡ªåŠ¨é‡å¯èƒ½åŠ›</li>
<li>ä½†éœ€è¦ WinSW ç­‰å·¥å…·åŒ…è£…</li>
</ul>
<h4 data-id="heading-17">åœºæ™¯4ï¼šå¤šç”¨æˆ·ç¯å¢ƒ</h4>
<p><strong>æ¨èï¼š</strong> ä»»åŠ¡è®¡åˆ’ æˆ– HKLM\Run</p>
<ul>
<li>éœ€è¦ç®¡ç†å‘˜æƒé™</li>
<li>æ‰€æœ‰ç”¨æˆ·å…±äº«é…ç½®</li>
</ul>
<hr/>
<h3 data-id="heading-18">ğŸ“ æ€»ç»“</h3>
<ol>
<li><strong>è¿½æ±‚é€Ÿåº¦</strong> â†’ ä»»åŠ¡è®¡åˆ’ï¼ˆç³»ç»Ÿå¯åŠ¨è§¦å‘ï¼‰æˆ– Windows æœåŠ¡</li>
<li><strong>è¿½æ±‚ç®€å•</strong> â†’ HKCU\Runï¼ˆElectron åŸç”Ÿæ”¯æŒï¼‰</li>
<li><strong>è¿½æ±‚ç¨³å¦¥</strong> â†’ ä»»åŠ¡è®¡åˆ’ï¼ˆç”¨æˆ·ç™»å½•è§¦å‘ï¼‰â­ <strong>æ¨è</strong></li>
<li><strong>è¿½æ±‚é€æ˜</strong> â†’ å¯åŠ¨æ–‡ä»¶å¤¹</li>
<li><strong>è¿½æ±‚åˆºæ¿€</strong> â†’ Userinit / Shell æ›¿æ¢ï¼ˆå¼€ç©ç¬‘çš„ï¼Œåˆ«ç”¨ï¼‰</li>
</ol>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ åœ¨åšå¼€æœºè‡ªå¯åŠ¨åŠŸèƒ½æ—¶å°‘è¸©å‘ã€‚å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜æˆ–è€…å‘ç°äº†æ›´å¥½çš„æ–¹æ¡ˆï¼Œæ¬¢è¿äº¤æµï¼</p>
<hr/>
<h3 data-id="heading-19">ğŸ”— ç›¸å…³èµ„æº</h3>
<p><strong>æµ‹è¯•é¡¹ç›®å¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBanShan-Alec%2Fwindows-startup-run-demo" target="_blank" title="https://github.com/BanShan-Alec/windows-startup-run-demo" ref="nofollow noopener noreferrer">windows-startup-run-demo</a></p>
<p>é¡¹ç›®åŒ…å«ï¼š</p>
<ul>
<li>âœ… å®Œæ•´çš„ 8 ç§è‡ªå¯åŠ¨æ–¹å¼é…ç½®è„šæœ¬</li>
<li>âœ… å¯å¤ç°çš„å¯åŠ¨æ—¶é—´æµ‹è¯•ç¨‹åº</li>
<li>âœ… åŸå§‹æµ‹è¯•æ—¥å¿—æ•°æ®</li>
<li>âœ… ä¸€é”®é…ç½® / æ¸…ç†è„šæœ¬</li>
</ul>
<p>æ¬¢è¿ Clone ä¸‹æ¥åœ¨è‡ªå·±æœºå™¨ä¸Šè·‘ä¸€éï¼Œçœ‹çœ‹ä½ çš„ç¯å¢ƒä¸‹å„ç§æ–¹å¼çš„å¯åŠ¨æ—¶é—´å·®å¼‚ï¼</p>
<hr/>
<h3 data-id="heading-20">å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fzh-cn%2Fwindows%2Fwin32%2Ftaskschd%2Ftaskschedulerschema-priority-settingstype-element" target="_blank" title="https://learn.microsoft.com/zh-cn/windows/win32/taskschd/taskschedulerschema-priority-settingstype-element" ref="nofollow noopener noreferrer">ä¼˜å…ˆçº§ (è®¾ç½®ç±»å‹) å…ƒç´  - Win32 apps | Microsoft Learn</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fclash-verge-rev%2Fclash-verge-rev%2Fissues%2F5623%23issuecomment-3615585962" target="_blank" title="https://github.com/clash-verge-rev/clash-verge-rev/issues/5623#issuecomment-3615585962" ref="nofollow noopener noreferrer">[BUG] å¼€æœºè‡ªå¯æ—¶æœºå¤ªæ™š Â· Issue #5623 Â· clash-verge-rev/clash-verge-rev</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwinsw%2Fwinsw" target="_blank" title="https://github.com/winsw/winsw" ref="nofollow noopener noreferrer">winsw/winsw: A wrapper executable that can run any executable as a Windows service, in a permissive license.</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsteamcommunity.com%2Fapp%2F431960%2Fdiscussions%2F2%2F1354868867716403366%2F" target="_blank" title="https://steamcommunity.com/app/431960/discussions/2/1354868867716403366/" ref="nofollow noopener noreferrer">Questions &amp; Problems with autostarting Wallpaper Engine when Windows starts :: Wallpaper Engineï¼šå£çº¸å¼•æ“ General Discussions</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3+ts+eslint+prettier å®ç°ä»£ç é£æ ¼ç»Ÿä¸€]]></title>    <link>https://juejin.cn/post/7599475458719285248</link>    <guid>https://juejin.cn/post/7599475458719285248</guid>    <pubDate>2026-01-26T08:03:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599475458719285248" data-draft-id="7599232628185153571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3+ts+eslint+prettier å®ç°ä»£ç é£æ ¼ç»Ÿä¸€"/> <meta itemprop="keywords" content="ESLint"/> <meta itemprop="datePublished" content="2026-01-26T08:03:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥”è·‘è·¯ä¸Šçš„Me"/> <meta itemprop="url" content="https://juejin.cn/user/1680516363335208"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3+ts+eslint+prettier å®ç°ä»£ç é£æ ¼ç»Ÿä¸€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1680516363335208/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥”è·‘è·¯ä¸Šçš„Me
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:03:54.000Z" title="Mon Jan 26 2026 08:03:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">vue3+ts+eslint+prettier å®ç°ä»£ç é£æ ¼ç»Ÿä¸€</h2>
<h4 data-id="heading-1">ä¸€.å®‰è£…eslint</h4>
<p><code>npm i eslint -D</code></p>
<h6 data-id="heading-2">1.åˆå§‹åŒ–eslint</h6>
<p>å½“å‰æ–‡ç« æ˜¯åŸºäº <code>eslint9.39.2</code> ç‰ˆæœ¬åˆ›ä½œ</p>
<p>åˆ›å»ºeslinté…ç½®æ–‡ä»¶ï¼Œeslint8.21.0ä¹‹åå¯ä»¥ä½¿ç”¨eslint.config.jsæ–‡ä»¶åã€‚</p>
<p>æˆ–ä½¿ç”¨å‘½ä»¤åˆå§‹åŒ–eslinté…ç½®æ–‡ä»¶</p>
<p><code>npx eslint --init</code></p>
<p>1ï¼‰å®‰è£…@eslint/config@lates
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e6f7a14b9be4d5982e3349b521e9ac4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=XlhGoavpUgytzDFvM5sFx9QeADA%3D" alt="image.png" loading="lazy"/>
2ï¼‰é€‰æ‹©è¦æ£€æµ‹çš„æ–‡ä»¶
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcd6cfd1c4b845528f83141df471655e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=gnljG8vMKT17buZwBfhQpbjtx0g%3D" alt="image.png" loading="lazy"/>
3ï¼‰é€‰æ‹©å¦‚ä½•ä½¿ç”¨eslint
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3f6531436c04f888340c7ed61c3d5da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=KfRjH0yD2Bj58qAR%2BNbjeY%2BQmiM%3D" alt="image.png" loading="lazy"/>
4ï¼‰é€‰æ‹©ä½¿ç”¨å“ªç§æ¨¡å—ç±»å‹
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e416c870094845269061afefab2e9b1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=6kPI%2FdSzn8mPG2SJGA81vZZVq8g%3D" alt="image.png" loading="lazy"/>
5ï¼‰æ¡†æ¶é€‰æ‹©
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9b38c56f2ef4c60acbbaa3bbe0d0051~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=1gM6WbD5PlSJBRNW4bq%2FdSLHoh4%3D" alt="image.png" loading="lazy"/>
6ï¼‰æ˜¯å¦ä½¿ç”¨ts
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13b1b1e0bbac4a398afc7538796f3323~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=dXJEcNpAH%2BCXaU7N2h8HFnmuc%2Fg%3D" alt="image.png" loading="lazy"/>
7ï¼‰é€‰æ‹©è¿è¡Œç¯å¢ƒ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57136d59483749278086fff78d4bf1c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=BWCBKmgW2JgC2Xljp%2B1bw4cXh9k%3D" alt="image.png" loading="lazy"/>
8ï¼‰å¸Œæœ›é…ç½®æ–‡ä»¶ç”¨ä»€ä¹ˆè¯­æ³•
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0b3387f61444977bc698dd834d5ab61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=dN7xHzPfhoZneKqJkdDL%2FBr%2FAxw%3D" alt="image.png" loading="lazy"/>
9ï¼‰é€‰æ‹©è¦å®‰è£…è§£æç›¸å…³ä¾èµ–åŒ…
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8c8d5db564b4b08b706113f950a14e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=YMOB%2BiCmyBOJob3VTaajsEIkASk%3D" alt="image.png" loading="lazy"/>
10ï¼‰é€‰æ‹©å¸Œæœ›ä½¿ç”¨çš„å®‰è£…åŒ…å·¥å…·
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43d1064f7a6943dbbeeeefade8ce9390~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=Mm%2Fc0w%2B1NE7Q5vVPwbjZEEOolgU%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-3">2.ä¿®æ”¹eslint.config.jsä¸­çš„ç›¸å…³é…ç½®</h6>
<pre><code class="hljs language-import" lang="import">import pluginJs from '@eslint/js';
import tseslint from 'typescript-eslint';
import pluginVue from 'eslint-plugin-vue';
import prettier from 'eslint-plugin-prettier';
import prettierConfig from 'eslint-config-prettier';
import eslintparser from 'vue-eslint-parser';
export default [
  {
    files: ['**/*.{js,mjs,cjs,vue}'],
    ignores: [
        'node_modules/**', 
        'dist/**', 
        'public/**', 
        'coverage/**', 
        'src/assets/**'
    ],
    languageOptions: {
      globals: globals.browser,
      parser: eslintparser,
      parserOptions: {
        ecmaVersion: 2020,
        sourceType: 'module',
        parser: '@typescript-eslint/parser',
        ecmaFeatures: {
          jsx: true,
        },
      },
    },
  },

  pluginJs.configs.recommended,
  ...tseslint.configs.recommended,
  ...pluginVue.configs['flat/essential'],
  ...pluginVue.configs['flat/recommended'],
  prettierConfig, // è§£å†³prettierå’Œeslintçš„å†²çª
  {
    plugins: {
      prettier: prettier, // ä½¿ç”¨prettieræ ¼å¼åŒ–
    },
    rules: {
      // å¼€å¯è¿™æ¡è§„åˆ™åï¼Œä¼šå°†prettierçš„æ ¡éªŒè§„åˆ™ä¼ é€’ç»™eslintï¼Œè¿™æ ·eslintå°±å¯ä»¥æŒ‰ç…§prettierçš„æ–¹å¼æ¥è¿›è¡Œä»£ç æ ¼å¼çš„æ ¡éªŒ
      'prettier/prettier': 'error',
      'no-var': 'error', // è¦æ±‚ä½¿ç”¨ let æˆ– const è€Œä¸æ˜¯ var
      'no-console': 'off',
      'no-restricted-globals': 'off',
      'no-restricted-syntax': 'off',
      'vue/multi-word-component-names': 'off', // ç¦ç”¨vueæ–‡ä»¶å¼ºåˆ¶å¤šä¸ªå•è¯å‘½å
      'no-multiple-empty-lines': ['warn', { max: 1 }],
      'vue/valid-template-root': 'off',
      'no-unused-vars': 'off',
      'no-undef': 'off', // è‡ªåŠ¨å¼•å…¥vueå’ŒUIç»„ä»¶åº“æŠ¥é”™é—®é¢˜
      '@typescript-eslint/no-unused-vars': 'off', // å…³é—­æœªä½¿ç”¨å˜é‡è§„åˆ™
      '@typescript-eslint/no-explicit-any': 'off', // å…³é—­tsä¸­anyæ ¡éªŒ
      semi: ['error', 'always'],
      'no-debugger': 'warn', //æäº¤æ—¶ä¸å…è®¸æœ‰debugger
      'no-console': [
        //æäº¤æ—¶ä¸å…è®¸æœ‰console.log
        'warn',
        {
          allow: ['warn', 'error'],
        },
      ],
    },
  },
];

</code></pre>
<h6 data-id="heading-4">3.ä¿®æ”¹vite.config.ts</h6>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å¼•å…¥vite-plugin-eslint </span>
import eslintPlugin <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-eslint'</span> 
<span class="hljs-comment">// é…ç½®plugins </span>
<span class="hljs-title function_ invoke__">eslintPlugin</span>({ 
    <span class="hljs-attr">include</span>: [<span class="hljs-string">'src/**/*.js'</span>, <span class="hljs-string">'src/**/*.vue'</span>], 
    <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>, 
}),

</code></pre>
<h6 data-id="heading-5">4.å‘½ä»¤è¡Œå¼è¿è¡Œï¼šä¿®æ”¹ package.json</h6>
<pre><code class="hljs language-swift" lang="swift">{ 
<span class="hljs-operator">...</span> 
<span class="hljs-string">"scripts"</span>: { 
    <span class="hljs-operator">...</span> 
    <span class="hljs-string">"eslint:comment"</span>: <span class="hljs-string">"ä½¿ç”¨ ESLint æ£€æŸ¥å¹¶è‡ªåŠ¨ä¿®å¤ src ç›®å½•ä¸‹æ‰€æœ‰æ‰©å±•åä¸º .js å’Œ .vue çš„æ–‡ä»¶"</span>, 
    <span class="hljs-string">"eslint"</span>: <span class="hljs-string">"eslint --ext .js,.vue --ignore-path .gitignore --fix src"</span>,<span class="hljs-comment">//æ—§ç‰ˆ </span>
    <span class="hljs-string">"eslint"</span>: <span class="hljs-string">"eslint <span class="hljs-subst">\"</span>src/**/*.{js,ts,vue}<span class="hljs-subst">\"</span> --fix"</span>,<span class="hljs-comment">//æ–°ç‰ˆ } </span>
<span class="hljs-operator">...</span> 
}
</code></pre>
<h6 data-id="heading-6">5.æ³¨æ„</h6>
<p>eslintignoreæ–‡ä»¶å·²ç»åºŸé™¤ï¼Œæ–°ç‰ˆæœ¬çš„gnoreå†™åœ¨eslint.config.jsä¸­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d69b47eba3b64d4c942dcb1bfe082d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aWU6LeR6Lev5LiK55qETWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019438&amp;x-signature=OWJt7QbDDifBxUSzus1X8XCIPuw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">äºŒ.å®‰è£…prettier</h4>
<h6 data-id="heading-8">1.å®‰è£…</h6>
<p><code>npm i prettier -D</code></p>
<p><code>npm i eslint-config-prettier -D</code></p>
<p><code>cnpm i eslint-plugin-prettier -D</code></p>
<h6 data-id="heading-9">2.åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š .prettierrc.js</h6>
<pre><code class="hljs language-module.exports" lang="module.exports">// ä¸€è¡Œæœ€å¤š 120 å­—ç¬¦ 
printWidth: 120, 
// ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›
tabWidth: 2, 
// ä¸ä½¿ç”¨ tab ç¼©è¿›ï¼Œè€Œä½¿ç”¨ç©ºæ ¼ 
useTabs: false, 
// è¡Œå°¾éœ€è¦æœ‰åˆ†å· 
semi: true, 
// ä½¿ç”¨å•å¼•å·ä»£æ›¿åŒå¼•å· 
singleQuote: true,
// å¯¹è±¡çš„ key ä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å· 
quoteProps: 'as-needed', 
// jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å· 
jsxSingleQuote: false, 
// æœ«å°¾ä½¿ç”¨é€—å· 
trailingComma: 'all', 
// å¤§æ‹¬å·å†…çš„é¦–å°¾éœ€è¦ç©ºæ ¼{ foo: bar }
bracketSpacing: true, 
// jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ 
jsxBracketSameLine: false, 
// ç®­å¤´å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æ‹¬å· 
arrowParens: 'always', 
// æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ 
rangeStart: 0, 
rangeEnd: Infinity, 
// ä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ 
@prettier requirePragma: false, 
// ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ 
@prettier insertPragma: false, 
// ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡† 
proseWrap: 'preserve', 
// æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ 
htmlWhitespaceSensitivity: 'css', 
// æ¢è¡Œç¬¦ä½¿ç”¨ lf endOfLine: 'auto' 
}
</code></pre>
<h6 data-id="heading-10">3.ä¿®æ”¹ eslint.config.js é…ç½®ï¼Œæ·»åŠ prettier</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> prettier <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-prettier'</span> 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [ 
        ...
        { 
        <span class="hljs-attr">plugins</span>: {
            <span class="hljs-attr">prettier</span>: prettier,
        }, 
        <span class="hljs-attr">rules</span>: { 
            <span class="hljs-string">'prettier/prettier'</span>: <span class="hljs-string">'error'</span>, 
        ... 
        }, 
    }, 
]
</code></pre>
<h6 data-id="heading-11">4.å‘½ä»¤è¡Œå¼è¿è¡Œï¼šä¿®æ”¹ package.json</h6>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> 
    ... 
    <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
        ... 
        <span class="hljs-attr">"prettier:comment"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è‡ªåŠ¨æ ¼å¼åŒ–å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶"</span><span class="hljs-punctuation">,</span> 
        <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prettier --write"</span> 
        <span class="hljs-punctuation">}</span> 
    ... 
<span class="hljs-punctuation">}</span>
</code></pre>
<h6 data-id="heading-12">5.è§£å†³eslintå’Œpretterä¸­çš„å†²çª</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eslint.config.js </span>
<span class="hljs-keyword">import</span> prettier <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-prettier'</span> 
<span class="hljs-keyword">import</span> prettierConfig <span class="hljs-keyword">from</span><span class="hljs-string">'eslint-config-prettier'</span>; 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [ 
    .... 
    <span class="hljs-comment">// æ’ä»¶çš„é»˜è®¤æ¨èé…ç½®éœ€è¦ç›´æ¥åŒ…å«åœ¨é…ç½®æ•°ç»„ä¸­ </span>
    prettierConfig, 
    { 
        <span class="hljs-attr">plugins</span>: { 
            <span class="hljs-attr">prettier</span>: prettier, <span class="hljs-comment">//è§£å†³prettierå’Œeslintçš„å†²çª </span>
        }, 
        <span class="hljs-attr">rules</span>: { 
            <span class="hljs-string">'prettier/prettier'</span>: <span class="hljs-string">'error'</span>, 
            ... 
        }, 
    }, 
]
</code></pre>
<h4 data-id="heading-13">ä¸‰.åˆ›å»º.vscodeæ–‡ä»¶å¤¹</h4>
<p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹.vscodeï¼Œå†åœ¨ç›®å½•ä¸­åˆ›å»ºsettings.jsonæ–‡ä»¶ã€‚å°†å¦‚ä¸‹ä»£ç æ‹·å…¶ä¸­</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> 
<span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ ¸å¿ƒï¼šä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– </span>
<span class="hljs-attr">"editor.quickSuggestions"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><span class="hljs-comment">// å¯ç”¨ä»£ç æç¤º</span>
<span class="hljs-attr">"eslint.enable"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">//å¯ç”¨ ESLint æ’ä»¶ </span>
<span class="hljs-comment">//ESLint åº”è¯¥éªŒè¯å“ªäº›æ–‡ä»¶ç±»å‹ </span>
<span class="hljs-attr">"eslint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"javascript"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-string">"javascriptreact"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-string">"vue-html"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-string">"typescript"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-string">"html"</span><span class="hljs-punctuation">,</span> 
    <span class="hljs-string">"vue"</span>
 <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> 
<span class="hljs-attr">"eslint.options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
    <span class="hljs-comment">// æ£€æŸ¥è¿™äº›æ–‡ä»¶ç±»å‹</span>
    <span class="hljs-attr">"extensions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">".js"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".jsx"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".tsx"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">".vue"</span><span class="hljs-punctuation">]</span> 
 <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-comment">// å¯é€‰ï¼šä¿å­˜æ—¶å…ˆä¿®å¤ä»£ç é—®é¢˜ï¼ˆå¦‚ESLintæŠ¥é”™ï¼‰å†æ ¼å¼åŒ–ï¼ˆå‰ç«¯å¸¸ç”¨ï¼‰ </span>
<span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
    <span class="hljs-attr">"source.fixAll"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> 
<span class="hljs-comment">// å¯é€‰ï¼šæŒ‡å®šé»˜è®¤æ ¼å¼åŒ–å·¥å…·ï¼ˆæ¯”å¦‚å‰ç«¯ä¼˜å…ˆç”¨Prettierï¼‰ </span>
<span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span> <span class="hljs-punctuation">,</span>
<span class="hljs-attr">"[vue]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
    <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> 
<span class="hljs-attr">"[typescript]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
    <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span> 
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3å¼€å‘å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹]]></title>    <link>https://juejin.cn/post/7599474528238174248</link>    <guid>https://juejin.cn/post/7599474528238174248</guid>    <pubDate>2026-01-26T08:06:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599474528238174248" data-draft-id="7596768867231612947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3å¼€å‘å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-26T08:06:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠªåŠ›å‘ä¸Šçš„æ¯ä¸€å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/3650034335496478"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3å¼€å‘å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3650034335496478/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠªåŠ›å‘ä¸Šçš„æ¯ä¸€å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:06:07.000Z" title="Mon Jan 26 2026 08:06:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å·¥ä½œäº†å¾ˆå¤šå¹´ï¼Œä½¿ç”¨vue3ä¹Ÿæœ‰3å¹´äº†ï¼Œä½†æ˜¯ä¸€ç›´åƒä¸€ä¸ªèºä¸é’‰ä¸€æ ·å¤åˆ¶ç²˜è´´ï¼Œæ²¡æœ‰å­¦ä¹ ä»€ä¹ˆä¸œè¥¿ï¼Œèƒ½ç†Ÿç»ƒæ¢³ç†ä¸šåŠ¡é€»è¾‘ï¼Œä½†æ˜¯æ€è·¯å’Œæ–¹æ³•è·Ÿç”¨vue2æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å†³å®šé‡æ–°åˆ·ä¸€éæ–‡æ¡£ï¼ŒæŠŠæ²¡ç”¨è¿‡çš„ï¼Œä¸å¤ªç†Ÿæ‚‰çš„åœ°æ–¹ç½—åˆ—å‡ºæ¥ï¼Œå¸Œæœ›èƒ½åœ¨å¼€å‘ä¸­å¤šå¤šä½¿ç”¨ã€‚</p>
<h2 data-id="heading-0">refåœ¨æ¨¡æ¿ä¸­è§£åŒ…</h2>
<ul>
<li>åœ¨æ¨¡æ¿æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­ï¼Œåªæœ‰é¡¶çº§refæ‰ä¼šè¢«è§£åŒ….</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>);
<span class="hljs-keyword">const</span> obj = <span class="hljs-title function_">ref</span>({<span class="hljs-attr">id</span>: <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>)}) <span class="hljs-comment">// obj.id åœ¨æ¨¡æ¿ä¸­ä¸èƒ½è¢«è§£åŒ…</span>

{{obj.<span class="hljs-property">id</span> + <span class="hljs-number">1</span>}} <span class="hljs-comment">// è¾“å‡ºé”™è¯¯ï¼š[object object]1</span>
{{obj.<span class="hljs-property">id</span>}}     <span class="hljs-comment">// è¾“å‡ºæ­£ç¡®ï¼š1</span>
</code></pre>
<ul>
<li>{{ obj.id }} ä¸ {{ obj.id.value }}ç­‰ä»·ï¼Œå‰è€…æ˜¯æ–‡æœ¬æ’å€¼çš„ä¾¿åˆ©ç‰¹æ€§ã€‚</li>
</ul>
<h2 data-id="heading-1">reactive</h2>
<p>-ä¸æ¨èä½¿ç”¨Â <code>reactive()</code>Â çš„æ³›å‹å‚æ•°ï¼Œå› ä¸ºå¤„ç†äº†æ·±å±‚æ¬¡ ref è§£åŒ…çš„è¿”å›å€¼ä¸æ³›å‹å‚æ•°çš„ç±»å‹ä¸åŒã€‚
-å¯¹è§£æ„æ“ä½œä¸å‹å¥½ï¼Œæˆ‘ä»¬è§£æ„reativeæ—¶ï¼Œè§£æ„åçš„å˜é‡ä¸åŸå˜é‡å¤±å»è¿æ¥ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ä¸ä½¿ç”¨reativeæ³›å‹å‚æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">book</span>:<span class="hljs-title class_">Book</span> = <span class="hljs-title function_">reative</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">'xxx'</span>})

<span class="hljs-keyword">let</span> {count} = reativeDemo;
count++;  <span class="hljs-comment">// æ­¤æ—¶ï¼ŒreativeDemo.countä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</span>
</code></pre>
<h2 data-id="heading-2">computed</h2>
<ul>
<li>computedå±æ€§ä¼šåŸºäºå“åº”å¼ä¾èµ–ç¼“å­˜ï¼šä¸€ä¸ªcomputedå±æ€§åªä¼šåœ¨ä»–çš„å“åº”å¼ä¾èµ–æ›´æ–°æ—¶é‡æ–°è®¡ç®—ã€‚</li>
<li>computedå¯ä»¥è·å–ä¸Šä¸€æ¬¡çš„å€¼computed((pre) =&gt; {return count.value &gt; 0 ? count.value : pre})</li>
<li>å¯ä»¥é‡å†™computedçš„getå’Œsetæ–¹æ³•,ä½†æ˜¯ä¸å»ºè®®ã€‚</li>
</ul>
<h2 data-id="heading-3">v-show/v-if</h2>
<ul>
<li>v-showä¸æ”¯æŒåœ¨templateä¸Šä½¿ç”¨ï¼ˆv-ifå¯ä»¥ï¼‰</li>
<li>v-ifæœ‰æƒ°æ€§ï¼Œä¸€å¼€å§‹ä¸ºfalseåˆ™ä¸ä¼šæ¸²æŸ“ï¼Œç›´åˆ°ä¸ºtrueæ‰ç¬¬ä¸€æ¬¡æ¸²æŸ“</li>
</ul>
<h2 data-id="heading-4">v-for</h2>
<ul>
<li>å¾ªç¯ä½¿ç”¨item in itemæˆ–è€…item of itemsä¸€æ ·</li>
<li>(value, key, index) in obj</li>
<li>v-forä¸v-ifä¸å»ºè®®åŒæ—¶ä½¿ç”¨ï¼Œv-ifä¼˜å…ˆçº§æ›´é«˜ï¼Œæ‰€ä»¥v-ifä¸­ä¸èƒ½ä½¿ç”¨itemçš„å€¼</li>
</ul>
<h2 data-id="heading-5">å‡½æ•°tsç±»å‹</h2>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">function</span> handleChange(<span class="hljs-keyword">event</span>: <span class="hljs-keyword">Event</span>) { 
    console.log((<span class="hljs-keyword">event</span>.target <span class="hljs-keyword">as</span> HTMLInputElement).value) 
}
</code></pre>
<h2 data-id="heading-6">watch/watchEffect</h2>
<ul>
<li>deepå±æ€§å¯ä»¥ä¸ºæ•°å­—ï¼Œè¡¨ç¤ºç›‘å¬çš„æ·±åº¦ã€‚</li>
<li>onceå±æ€§ï¼Œåªç›‘å¬ä¸€æ¬¡ã€‚</li>
<li>watchEffect: ç”¨æ³•ç±»ä¼¼computedï¼Œä¸éœ€è¦æŒ‡å®šç›‘å¬å¯¹è±¡ã€‚åœ¨åŒæ­¥æ‰§è¡ŒæœŸé—´ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼æ•°æ®ï¼Œåœ¨å¼‚æ­¥æ‰§è¡ŒæœŸé—´ï¼Œåªæœ‰åœ¨ç¬¬ä¸€ä¸ªawaitæ­£å¸¸å·¥ä½œä¹‹å‰çš„å“åº”å¼æ•°æ®èƒ½è¢«è¿½è¸ªã€‚</li>
<li><code>onWatcherCleanup</code>: æ³¨å†Œä¸€ä¸ªæ¸…ç†å‡½æ•°ï¼Œå½“ç›‘å¬å™¨å¤±æ•ˆå¹¶å‡†å¤‡é‡æ–°è¿è¡Œæ—¶è°ƒç”¨ï¼ˆegï¼šåœ¨watchä¸­idå˜åŒ–è°ƒç”¨æ¥å£ï¼Œæ¥å£æœªè¿”å›æ•°æ®æ—¶ï¼Œidåˆå‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™éœ€è¦å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„æ¥å£è°ƒç”¨ï¼Œæ ¹æ®æ–°çš„idé‡æ–°å‘èµ·æ¥å£ï¼‰(3.5+)</li>
<li>watchæ–¹æ³•ä¼šåœ¨domæ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå¦‚æœæƒ³åœ¨domæ›´æ–°ä¹‹åè°ƒç”¨åˆ™éœ€è¦å¢åŠ å±æ€§<code>{flush: 'post'}</code>,watchæ–¹æ³•åœ¨ä»»ä½•æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œåˆ™ä½¿ç”¨<code>{flush: 'sync}</code>(3.5+)</li>
</ul>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">watch</span>(source, callback, {flush: 'post'})
<span class="hljs-built_in">watchEffect</span>(callback, {flush: 'post'})
<span class="hljs-built_in">watchPostEffect</span>(callback)

<span class="hljs-comment">// åœ¨å“åº”æ•°æ®å˜åŒ–æ—¶åŒæ­¥æ‰§è¡Œ</span>
<span class="hljs-built_in">watch</span>(source, callback, {flush: 'sync'})
<span class="hljs-built_in">watchEffect</span>(callback, {flush: 'sync'})
<span class="hljs-built_in">watchSyncEffect</span>(callback)
</code></pre>
<ul>
<li>ä¸­æ­¢ç›‘å¬å™¨,å®šä¹‰ä¸€ä¸ªå˜é‡æ¥å—watchæˆ–è€…watchEffectçš„è¿”å›å€¼</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">const unwatch = <span class="hljs-built_in">watch</span>(source, callback)
<span class="hljs-built_in">unwatch</span>() <span class="hljs-comment">// ä¸­æ­¢ç›‘å¬</span>
</code></pre>
<h2 data-id="heading-7">æ¨¡æ¿å¼•ç”¨<code>useTemplateRef</code>(3.5+)</h2>
<ul>
<li>ä¼šè‡ªåŠ¨æ¨æ–­refçš„æ•°æ®ç±»å‹</li>
<li>å¦‚æœè‡ªåŠ¨æ¨æ–­å¤±è´¥å¯ä»¥è‡ªå®šä¹‰ç±»å‹ï¼Œä½¿ç”¨InstanceType(typeof MyComponent) / HTMLInputElement</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">inputRef</span> = useTemplateRef(<span class="hljs-string">'my-input'</span>)<span class="hljs-comment">;</span>
inputRef.focus()<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>v-forä¸Šä½¿ç”¨refï¼Œåˆ™useTemplateRefç”Ÿæˆçš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„é¡ºåºä¸ä¸€å®šä¸æºæ•°ç»„é¡ºåºç›¸åŒã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">ref</span>=<span class="hljs-string">"itemsRef"</span> v-for=<span class="hljs-string">"item in items"</span> &gt;{{ item }}&lt;/div&gt;

const <span class="hljs-attr">itemsRef</span> = useTemplateRef(<span class="hljs-string">'itemsRef'</span>)
</code></pre>
<h2 data-id="heading-8">props</h2>
<ul>
<li>è§£æ„propsæ—¶ï¼Œå¯¹è±¡æ•°ç»„ç­‰ä¸éœ€è¦åœ¨å‡½æ•°ä¸­è¿”å›ã€‚(3.5+)</li>
<li>ç»™propsèµ‹å€¼çš„æ—¶å€™ä½¿ç”¨definedProps&lt;&gt;()</li>
<li>å®šä¹‰propsåˆ†ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶ï¼Œè¿è¡Œæ—¶å¯ä»¥éªŒè¯ä¸€äº›å¤æ‚æ•°æ®ç±»å‹ä»¥åŠå®šä¹‰åŠ¨æ€æ•°æ®ã€‚ç¼–è¯‘æ—¶å¯ä»¥ä½¿ç”¨æ³›å‹ç­‰å¤æ‚æ•°æ®ç»“æ„ï¼Œtsä¸­æ›´æ¨èä½¿ç”¨ç¼–è¯‘æ—¶ã€‚</li>
<li>ç»™ç»„ä»¶ä¼ é€’ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å¯ä»¥ä½¿ç”¨v-bindå†™æ³•</li>
<li>å­ç»„ä»¶ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ é€’çš„propsï¼Œå¯ä»¥é‡æ–°å®šä¹‰ä¸€ä¸ªå˜é‡ã€‚</li>
<li>booleanç±»å‹çš„propsï¼Œä¸ºäº†æ›´è´´è¿‘åŸç”Ÿhtmlï¼Œæœ‰ç®€ä»‹å†™æ³•ã€‚</li>
</ul>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è§£æ„propsæ—¶ï¼Œå¯¹è±¡æ•°ç»„ç­‰ä¸éœ€è¦åœ¨å‡½æ•°ä¸­è¿”å›ã€‚(3.5+)</span>
<span class="hljs-keyword">const</span> {name: <span class="hljs-string">''</span>, age: <span class="hljs-number">0</span>, hobby: []} = defineProps&lt;{name: <span class="hljs-keyword">string</span>, age: number, hobby: <span class="hljs-keyword">string</span>[]}&gt;();

<span class="hljs-comment">// 3.5ä»¥ä¸‹ç‰ˆæœ¬ </span>
<span class="hljs-comment">// withDefaultsä¸­è®¾ç½®é»˜è®¤å€¼æ—¶ï¼Œå¯¹è±¡æ•°ç»„ç­‰éœ€è¦åœ¨å‡½æ•°ä¸­è¿”å›ï¼Œç¡®ä¿å¤šä¸ªå®ä¾‹æ—¶ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å‰¯æœ¬ã€‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">props</span> = <span class="hljs-title function_ invoke__">widthDefaults</span>(defineProps&lt;{<span class="hljs-attr">name</span>: <span class="hljs-keyword">string</span>, <span class="hljs-attr">age</span>: number, <span class="hljs-attr">hobby</span>: <span class="hljs-keyword">string</span>[]}&gt;(), {
name: <span class="hljs-string">''</span>,
age: <span class="hljs-number">0</span>,
hobby: () =&gt; []
})

<span class="hljs-comment">// è¿è¡Œæ—¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">props</span> = <span class="hljs-title function_ invoke__">defineProps</span>({
<span class="hljs-attr">name</span>: {
    <span class="hljs-attr">type</span>: String,
    <span class="hljs-attr">default</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">validate</span>: (val) =&gt; {...}
}
})

<span class="hljs-comment">// ç¼–è¯‘æ—¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">defineProps</span>&lt;{name: <span class="hljs-keyword">string</span>, age: number, hobby: <span class="hljs-keyword">string</span>[]}&gt;

<span class="hljs-comment">// booleanç±»å‹çš„props</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">props</span> = <span class="hljs-title function_ invoke__">defineProps</span>({<span class="hljs-attr">disabled</span>: Boolean})
&lt;myComponent disabled /&gt; <span class="hljs-comment">// ç›¸å½“äº :disabled="true",ä¸å†™é»˜è®¤ä¸ºfalse</span>
</code></pre>
<h2 data-id="heading-9">emit</h2>
<ul>
<li>å¯ä»¥å¸¦æ ¡éªŒï¼Œæ ¡éªŒé€šè¿‡å†emitï¼Œå¦åˆ™ä¸emit</li>
<li>æ›´ç®€æ´çš„å®šä¹‰è¯­æ³•(3.3+)</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ¡éªŒ</span>
<span class="hljs-keyword">const</span> emits = <span class="hljs-title function_">defineEmits</span>({
    <span class="hljs-attr">submit</span>: <span class="hljs-function">(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, id: <span class="hljs-built_in">number</span></span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (name &amp;&amp; id) { <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> }
        <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;}
    }
})


<span class="hljs-keyword">const</span> emits = defineEmits&lt;{
    <span class="hljs-attr">update</span>: [<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>],
    <span class="hljs-attr">success</span>: [],
}&gt;()

<span class="hljs-comment">// v-bind</span>
<span class="hljs-keyword">const</span> post = {<span class="hljs-attr">name</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">id</span>: <span class="hljs-number">0</span>}
&lt;myComponent v-bind=<span class="hljs-string">"post"</span> /&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">myComponent</span> <span class="hljs-attr">:id</span>=<span class="hljs-string">"post.id"</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"post.name"</span> /&gt;</span></span>
</code></pre>
<h2 data-id="heading-10">defineModel</h2>
<ul>
<li>å®šä¹‰äº†ä¸€ä¸ªåä¸ºmodelValueçš„propï¼Œæœ¬åœ°çš„refä¸å…¶åŒæ­¥</li>
<li>å®šä¹‰äº†ä¸€ä¸ªupdate:modelValueæ–¹æ³•ï¼Œæœ¬åœ°refå˜åŒ–æ—¶è§¦å‘(.setæ–¹æ³•ä¸­å®ç°)</li>
</ul>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ç¬¬ä¸€ä¸ªå‚æ•°ä¸å†™é»˜è®¤ä¸refåç›¸åŒ</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">modelValue</span> = <span class="hljs-title function_ invoke__">defineModel</span>(<span class="hljs-string">'value'</span>, {<span class="hljs-attr">require</span>: <span class="hljs-literal">true</span>ï¼Œ <span class="hljs-keyword">default</span>ï¼š<span class="hljs-number">0</span>})
</code></pre>
<h2 data-id="heading-11">attributeé€ä¼ </h2>
<ul>
<li>ç»„ä»¶æ¥æ”¶çš„æ‰€æœ‰æœªåœ¨propsä¸­å£°æ˜çš„å±æ€§ä¼šé€ä¼ </li>
<li><code>å¤šæ ¹èŠ‚ç‚¹</code>é»˜è®¤ä¸ä¼šé€ä¼ ï¼Œé™¤éæ˜¾ç¤ºé€ä¼ ,ä½¿ç”¨$attrs</li>
<li>å¯ä»¥é€šè¿‡vueæä¾›çš„æ–¹æ³•è·å–æ‰€æœ‰é€ä¼ çš„attrsï¼Œattrs<code>ä¸æ˜¯å“åº”å¼</code>çš„ï¼Œéœ€è¦å“åº”å¼çš„éœ€è¦propså®šä¹‰ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useAttrs } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> attrs = <span class="hljs-title function_">useAttrs</span>();
</code></pre>
<ul>
<li>æƒ³è¦çˆ¶ç»„ä»¶çš„å±æ€§é€ä¼ ç»™è‡ªå·±çš„å­ç»„ä»¶å¯ä»¥ä½¿ç”¨$attrs, <code>attrs</code>å¯¹è±¡åŒ…å«äº†é™¤ç»„ä»¶æ‰€å£°æ˜çš„Â <code>props</code>Â å’ŒÂ <code>emits</code>Â ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»– attributeï¼Œä¾‹å¦‚Â <code>class</code>ï¼Œ<code>style</code>ï¼Œ<code>v-on</code>Â ç›‘å¬å™¨ç­‰ç­‰ã€‚</li>
<li>æƒ³è¦ä¸é€ä¼ ï¼Œæˆ–è€…ä¸æ¥å—é€ä¼ å¯ä»¥è®¾ç½®</li>
</ul>
<pre><code class="hljs language-php" lang="php">&lt;childComponent v-bind=<span class="hljs-string">"<span class="hljs-subst">$attrs</span>"</span>&gt;

<span class="hljs-comment">// ä¸é€ä¼ è®¾ç½®</span>
&lt;scripte setup&gt;
<span class="hljs-title function_ invoke__">defineOptions</span>({
    <span class="hljs-attr">inheritAttrs</span>: <span class="hljs-literal">false</span>
})
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-12">slot</h2>
<ul>
<li>ç»„ä»¶æ’æ§½å¯ä»¥ä¼ é€’å‚æ•°ï¼Œå‚æ•°åä¸èƒ½ä¸ºnameï¼Œnameä¸ºæ’æ§½åã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Child</span>
&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">"card"</span>&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"cardContent"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"cardInfo"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
<span class="hljs-comment">// Parent</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">cardContent</span>=<span class="hljs-string">"cardInfo"</span>&gt;</span>
    {{cardInfo}}
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-13">ä¾èµ–æ³¨å…¥</h2>
<ul>
<li>å¯ä»¥injectä¸€ä¸ªrefçš„å“åº”å¼æ•°æ®ï¼Œæ•°æ®å˜åŒ–ä¼šåŒæ­¥ã€‚åœ¨å­å­™ç»„ä»¶ä¿®æ”¹ä¼šåŒæ­¥çˆ¶ç»„ä»¶ï¼Œåœ¨çˆ¶ç»„ä»¶ä¿®æ”¹ä¼šåŒæ­¥åˆ°å­ç»„ä»¶ã€‚ä½†æ˜¯å»ºè®®æ‰€æœ‰çš„æ›´æ”¹éƒ½åœ¨çˆ¶ç»„ä»¶ä¸­æ‰§è¡Œï¼Œå¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ªupdateæ–¹æ³•ç»™å­å­™ç»„ä»¶æ›´æ–°ã€‚</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">import { <span class="hljs-keyword">readonly</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> location = <span class="hljs-keyword">ref</span>(<span class="hljs-string">''</span>);
<span class="hljs-function">function <span class="hljs-title">updateLocation</span>()</span> {
    location.<span class="hljs-keyword">value</span> = <span class="hljs-string">"ww"</span>
}
privide(<span class="hljs-string">'location'</span>, {
    location,
    updateLocation,
})

<span class="hljs-comment">// å­å­™ç»„ä»¶</span>
<span class="hljs-keyword">const</span> {location, updateLocation} = inject(<span class="hljs-string">'location'</span>)
</code></pre>
<ul>
<li>ä¸æƒ³è¢«å­å­™ç»„ä»¶æ›´æ”¹çš„æ•°æ®ä½¿ç”¨readonlyæ–¹æ³•åŒ…è£¹</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">privide(<span class="hljs-string">'readonlyLocation'</span>, <span class="hljs-built_in">readonly</span>(location))
</code></pre>
<ul>
<li>vueæ¨èå½“ä¾èµ–æ³¨å…¥è¾ƒå¤šæ—¶æˆ–å†™å…¬ç”¨ç»„ä»¶ï¼Œä½¿ç”¨Symbolé˜²æ­¢é‡åï¼Œå°†æ‰€æœ‰Symbolå®šä¹‰çš„keyæ”¾åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// key.js</span>
<span class="hljs-keyword">const</span> locationkey  = <span class="hljs-title class_">Symbol</span>();
<span class="hljs-comment">// parent</span>
<span class="hljs-keyword">import</span> { locationkey } <span class="hljs-keyword">from</span> <span class="hljs-string">'./key.js'</span>
<span class="hljs-title function_">privide</span>(locationKey, {...})
<span class="hljs-comment">// child</span>
<span class="hljs-keyword">import</span> { locationkey } <span class="hljs-keyword">from</span> <span class="hljs-string">'./key.js'</span>
<span class="hljs-keyword">const</span> location = <span class="hljs-title function_">inject</span>(locationkey);
</code></pre>
<h2 data-id="heading-14">ç»„åˆå¼å‡½æ•°</h2>
<ul>
<li>æ–¹æ³•ä¸­ä½¿ç”¨äº†vueçš„ç»„åˆå¼APIï¼ˆå¦‚refï¼Œwatchç­‰ï¼‰æ¥å°è£…å’Œå¤ç”¨çš„<code>æœ‰çŠ¶æ€</code>é€»è¾‘çš„å‡½æ•°ã€‚</li>
<li>çº¦å®š
<ul>
<li>é€šå¸¸ä½¿ç”¨useXxxå‘½å</li>
<li>è¿”å›çš„æ•°æ®ä¸€èˆ¬éƒ½ä¸ºref,è¿™æ ·åœ¨ç»„ä»¶ä¸­è¢«è§£æ„åä»ä¸ºå“åº”å¼æ•°æ®ã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">x</span> = ref(<span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">y</span> = ref(<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
return {
    x, y
}
</code></pre>
</li>
<li>åœ¨ä¸åŒç»„ä»¶ä¸­ä½¿ç”¨useXxxéƒ½ä¼šé‡æ–°åˆ›å»ºæ–°çš„æ•°æ®ï¼Œå„ä¸ªæ•°æ®äº’ä¸å½±å“ã€‚</li>
</ul>
<h2 data-id="heading-15">è‡ªå®šä¹‰æŒ‡ä»¤</h2>
<ul>
<li>ç”±ä¸€ä¸ªåŒ…å«ç±»ä¼¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­çš„å¯¹è±¡æ¥å®šä¹‰ã€‚åœ¨ts setupä¸­ï¼Œvå¼€å¤´çš„æ–¹æ³•éƒ½å¯ä»¥ç›´æ¥ä½œä¸ºæŒ‡ä»¤ä½¿ç”¨</li>
<li>æŒ‡ä»¤ä¸å»ºè®®åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ï¼Œç»„ä»¶å¯èƒ½æœ‰å¤šä¸ªå­ç»„ä»¶ï¼ŒæŒ‡ä»¤ä¸ä¼šé€šè¿‡$attrsé€ä¼ ã€‚</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> vHighlight = {
    <span class="hljs-attr">mounted</span>: <span class="hljs-function">(<span class="hljs-params">el</span>) =&gt;</span> {
        el.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'high-light'</span>)
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-highlight</span>&gt;</span>aaaaaaaa<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h2 data-id="heading-16">vueå®˜æ–¹æ¨è</h2>
<ul>
<li>ä½¿ç”¨<code>vscode</code>ç¼–è¾‘å™¨</li>
<li><code>vue official</code>ï¼švscodeæ’ä»¶ï¼Œæä¾›å®æ—¶è¯­è¨€æœåŠ¡</li>
<li>æµè§ˆå™¨å¼€å‘è€…æ’ä»¶ï¼š<code>Vue DevTools</code></li>
<li><code>vue-tsc</code>: åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</li>
<li>ä»£ç è§„èŒƒï¼šåœ¨é¡¹ç›®ä¸­å®‰è£…<code>eslint-plugin-vue</code>; åœ¨IDEä¸­è£…ESlintæ’ä»¶ï¼›åœ¨é¡¹ç›®ä¸­è£…lint-stagedä»£ç æäº¤è§„èŒƒ</li>
<li>æ ¼å¼åŒ–ï¼š<code>prettier</code>ï¼ŒIDEä¸­å®‰è£…æ’ä»¶ï¼Œé¡¹ç›®ä¸­å®‰è£…prettierï¼Œå†™ä»£ç æ ¼å¼åŒ–æ—¶IDEä¸­çš„prettierä¼šä¼˜å…ˆæ‰¾é¡¹ç›®ä¸­çš„prettieré…ç½®è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰åˆ™ä¼šä½¿ç”¨IDEè‡ªå·±çš„é…ç½®ã€‚</li>
<li><code>@vitejs/plugin-vue</code>ï¼šä¸º Vite æä¾› Vue å•æ–‡ä»¶ç»„ä»¶æ”¯æŒçš„å®˜æ–¹æ’ä»¶ã€‚</li>
</ul>
<h2 data-id="heading-17">çŠ¶æ€ç®¡ç†</h2>
<ul>
<li>ç”¨å“åº”å¼APIï¼ˆrefï¼Œreative, watchç­‰ï¼‰åšçŠ¶æ€ç®¡ç†ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªstoreæ–‡ä»¶ï¼Œå°†å¤šä¸ªç»„ä»¶éœ€è¦å…¬ç”¨çš„æ•°æ®æ”¾è¿›å»ï¼Œåœ¨ç»„ä»¶ä¸­å¼•ç”¨</li>
<li>å¤æ‚çš„ä½¿ç”¨<code>pinia</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯-HTML-åŸºç¡€çŸ¥è¯†]]></title>    <link>https://juejin.cn/post/7599294170000179251</link>    <guid>https://juejin.cn/post/7599294170000179251</guid>    <pubDate>2026-01-26T08:08:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170000179251" data-draft-id="7599485473706672166" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯-HTML-åŸºç¡€çŸ¥è¯†"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T08:08:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‘«_996"/> <meta itemprop="url" content="https://juejin.cn/user/717323005596312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯-HTML-åŸºç¡€çŸ¥è¯†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/717323005596312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‘«_996
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:08:55.000Z" title="Mon Jan 26 2026 08:08:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HTML åŸºç¡€çŸ¥è¯†</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€HTML æ¦‚è¿°</h3>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯ HTML</h4>
<p>HTMLï¼ˆHyperText Markup Languageï¼Œè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰æ˜¯ç”¨äºåˆ›å»ºç½‘é¡µçš„æ ‡å‡†æ ‡è®°è¯­è¨€ã€‚</p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ ‡è®°è¯­è¨€ï¼Œä¸æ˜¯ç¼–ç¨‹è¯­è¨€</li>
<li>æè¿°ç½‘é¡µç»“æ„</li>
<li>ç”±æµè§ˆå™¨è§£æå’Œæ¸²æŸ“</li>
<li>ä¸ CSSã€JavaScript é…åˆä½¿ç”¨</li>
</ul>
<h4 data-id="heading-3">1.2 HTML ç‰ˆæœ¬</h4>





















<table><thead><tr><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>HTML4</td><td>1999 å¹´å‘å¸ƒï¼Œç»å…¸ç‰ˆæœ¬</td></tr><tr><td>XHTML</td><td>æ›´ä¸¥æ ¼çš„ HTML</td></tr><tr><td>HTML5</td><td>2014 å¹´å‘å¸ƒï¼Œç°ä»£æ ‡å‡†</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">äºŒã€HTML æ–‡æ¡£ç»“æ„</h3>
<h4 data-id="heading-5">2.1 åŸºæœ¬ç»“æ„</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é¡µé¢æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- é¡µé¢å†…å®¹ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">2.2 æ–‡æ¡£ç±»å‹å£°æ˜</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- HTML5 --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>

<span class="hljs-comment">&lt;!-- HTML4.01 Strict --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">HTML</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//W3C//DTD HTML 4.01//EN"</span> 
  <span class="hljs-string">"http://www.w3.org/TR/html4/strict.dtd"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">2.3 head æ ‡ç­¾</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å­—ç¬¦ç¼–ç  --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- è§†å£è®¾ç½®ï¼ˆå“åº”å¼ï¼‰ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- é¡µé¢æè¿° --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"description"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"é¡µé¢æè¿°"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- å…³é”®è¯ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"keywords"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"å…³é”®è¯1,å…³é”®è¯2"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- ä½œè€… --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"author"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"ä½œè€…å"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- é¡µé¢æ ‡é¢˜ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é¡µé¢æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- å¼•å…¥ CSS --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- å¼•å…¥å›¾æ ‡ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"favicon.ico"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€æ–‡æœ¬æ ‡ç­¾</h3>
<h4 data-id="heading-9">3.1 æ ‡é¢˜æ ‡ç­¾</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä¸€çº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>äºŒçº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä¸‰çº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>å››çº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h5</span>&gt;</span>äº”çº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h6</span>&gt;</span>å…­çº§æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span>
</code></pre>
<p><strong>ä½¿ç”¨å»ºè®®ï¼š</strong></p>
<ul>
<li>ä¸€ä¸ªé¡µé¢åªæœ‰ä¸€ä¸ª <code>&lt;h1&gt;</code></li>
<li>æŒ‰å±‚çº§ä½¿ç”¨ï¼Œä¸è¦è·³çº§</li>
<li>ç”¨äºæ–‡æ¡£ç»“æ„ï¼Œè€Œéæ ·å¼</li>
</ul>
<h4 data-id="heading-10">3.2 æ®µè½å’Œæ¢è¡Œ</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ®µè½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ¢è¡Œ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç¬¬ä¸€è¡Œ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>ç¬¬äºŒè¡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ°´å¹³çº¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span>
</code></pre>
<h4 data-id="heading-11">3.3 æ–‡æœ¬æ ¼å¼åŒ–</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åŠ ç²— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>é‡è¦æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>åŠ ç²—æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ–œä½“ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>å¼ºè°ƒæ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>æ–œä½“æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¸‹åˆ’çº¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u</span>&gt;</span>ä¸‹åˆ’çº¿æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">u</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åˆ é™¤çº¿ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">s</span>&gt;</span>åˆ é™¤æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">s</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">del</span>&gt;</span>åˆ é™¤æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">del</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¸Šæ ‡/ä¸‹æ ‡ --&gt;</span>
H<span class="hljs-tag">&lt;<span class="hljs-name">sub</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">sub</span>&gt;</span>O
E = mc<span class="hljs-tag">&lt;<span class="hljs-name">sup</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">sup</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä»£ç  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>console.log('Hello')<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é¢„æ ¼å¼åŒ–æ–‡æœ¬ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span>
  ä¿ç•™ç©ºæ ¼å’Œæ¢è¡Œ
  å¤šè¡Œæ–‡æœ¬
<span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">3.4 å¼•ç”¨</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- çŸ­å¼•ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">q</span>&gt;</span>è¿™æ˜¯ä¸€å¥å¼•ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">q</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é•¿å¼•ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">blockquote</span> <span class="hljs-attr">cite</span>=<span class="hljs-string">"https://example.com"</span>&gt;</span>
  è¿™æ˜¯ä¸€æ®µé•¿å¼•ç”¨å†…å®¹ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">blockquote</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¼•ç”¨æ¥æº --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">cite</span>&gt;</span>ã€Šä¹¦åã€‹<span class="hljs-tag">&lt;/<span class="hljs-name">cite</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-13">å››ã€é“¾æ¥å’Œå›¾ç‰‡</h3>
<h4 data-id="heading-14">4.1 é“¾æ¥ï¼ˆa æ ‡ç­¾ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å¤–éƒ¨é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://www.example.com"</span>&gt;</span>è®¿é—®ç½‘ç«™<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å†…éƒ¨é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"about.html"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é”šç‚¹é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#section1"</span>&gt;</span>è·³è½¬åˆ°ç« èŠ‚1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"section1"</span>&gt;</span>ç« èŠ‚1<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ–°çª—å£æ‰“å¼€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://example.com"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>æ–°çª—å£æ‰“å¼€<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¸‹è½½é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"file.pdf"</span> <span class="hljs-attr">download</span>&gt;</span>ä¸‹è½½æ–‡ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é‚®ä»¶é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"mailto:example@email.com"</span>&gt;</span>å‘é€é‚®ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç”µè¯é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"tel:+8613800138000"</span>&gt;</span>æ‹¨æ‰“ç”µè¯<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<h4 data-id="heading-15">4.2 å›¾ç‰‡ï¼ˆimg æ ‡ç­¾ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åŸºæœ¬ç”¨æ³• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"å›¾ç‰‡æè¿°"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è®¾ç½®å°ºå¯¸ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"æè¿°"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å“åº”å¼å›¾ç‰‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"æè¿°"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"max-width: 100%; height: auto;"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å›¾ç‰‡æ˜ å°„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"map.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"åœ°å›¾"</span> <span class="hljs-attr">usemap</span>=<span class="hljs-string">"#imagemap"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">map</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"imagemap"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">area</span> <span class="hljs-attr">shape</span>=<span class="hljs-string">"rect"</span> <span class="hljs-attr">coords</span>=<span class="hljs-string">"0,0,100,100"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page1.html"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"åŒºåŸŸ1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">area</span> <span class="hljs-attr">shape</span>=<span class="hljs-string">"circle"</span> <span class="hljs-attr">coords</span>=<span class="hljs-string">"200,200,50"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page2.html"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"åŒºåŸŸ2"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span>
</code></pre>
<p><strong>å›¾ç‰‡å±æ€§ï¼š</strong></p>
<ul>
<li><code>src</code>ï¼šå›¾ç‰‡è·¯å¾„ï¼ˆå¿…éœ€ï¼‰</li>
<li><code>alt</code>ï¼šæ›¿ä»£æ–‡æœ¬ï¼ˆå¿…éœ€ï¼Œç”¨äºå¯è®¿é—®æ€§ï¼‰</li>
<li><code>width/height</code>ï¼šå®½é«˜</li>
<li><code>loading="lazy"</code>ï¼šæ‡’åŠ è½½</li>
</ul>
<hr/>
<h3 data-id="heading-16">äº”ã€åˆ—è¡¨</h3>
<h4 data-id="heading-17">5.1 æ— åºåˆ—è¡¨</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é¡¹ç›®1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é¡¹ç›®2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é¡¹ç›®3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åµŒå¥—åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é¡¹ç›®1
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å­é¡¹ç›®1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å­é¡¹ç›®2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é¡¹ç›®2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<h4 data-id="heading-18">5.2 æœ‰åºåˆ—è¡¨</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬ä¸€é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬äºŒé¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬ä¸‰é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰èµ·å§‹æ•°å­— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">start</span>=<span class="hljs-string">"5"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬äº”é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬å…­é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å€’åº --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">reversed</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬ä¸‰é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬äºŒé¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¬¬ä¸€é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
</code></pre>
<h4 data-id="heading-19">5.3 å®šä¹‰åˆ—è¡¨</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">dl</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>æœ¯è¯­1<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>æœ¯è¯­1çš„å®šä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>æœ¯è¯­2<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>æœ¯è¯­2çš„å®šä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-20">å…­ã€è¡¨æ ¼</h3>
<h4 data-id="heading-21">6.1 åŸºæœ¬è¡¨æ ¼</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è¡¨å¤´1<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è¡¨å¤´2<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>è¡¨å¤´3<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®5<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®6<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h4 data-id="heading-22">6.2 è¡¨æ ¼ç»“æ„</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- è¡¨å¤´ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åŸå¸‚<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- è¡¨ä½“ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æå››<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- è¡¨è„š --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tfoot</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">"3"</span>&gt;</span>æ€»è®¡ï¼š2äºº<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tfoot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h4 data-id="heading-23">6.3 è¡¨æ ¼å±æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">border</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">cellpadding</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">"0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">colspan</span>=<span class="hljs-string">"2"</span>&gt;</span>åˆå¹¶åˆ—<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>åˆ—3<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">rowspan</span>=<span class="hljs-string">"2"</span>&gt;</span>åˆå¹¶è¡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®1<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®2<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®3<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®4<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-24">ä¸ƒã€è¡¨å•</h3>
<h4 data-id="heading-25">7.1 è¡¨å•ç»“æ„</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/submit"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- è¡¨å•æ§ä»¶ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<h4 data-id="heading-26">7.2 è¾“å…¥æ§ä»¶</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ–‡æœ¬è¾“å…¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¯†ç è¾“å…¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é‚®ç®± --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"example@email.com"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ•°å­— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"120"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ—¥æœŸ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"birthday"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ—¶é—´ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"time"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"time"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é¢œè‰²é€‰æ‹© --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"color"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"color"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ–‡ä»¶ä¸Šä¼  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- éšè—å­—æ®µ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"token"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"abc123"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åªè¯» --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"readonly"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"åªè¯»"</span> <span class="hljs-attr">readonly</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç¦ç”¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"disabled"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ç¦ç”¨"</span> <span class="hljs-attr">disabled</span>&gt;</span>
</code></pre>
<h4 data-id="heading-27">7.3 å•é€‰å’Œå¤é€‰æ¡†</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å•é€‰æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"male"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"male"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"male"</span>&gt;</span>ç”·<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"gender"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"female"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"female"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"female"</span>&gt;</span>å¥³<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¤é€‰æ¡† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hobby"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"reading"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"reading"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"reading"</span>&gt;</span>é˜…è¯»<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hobby"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"sports"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"sports"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"sports"</span>&gt;</span>è¿åŠ¨<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
</code></pre>
<h4 data-id="heading-28">7.4 ä¸‹æ‹‰é€‰æ‹©</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å•é€‰ä¸‹æ‹‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"city"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>è¯·é€‰æ‹©åŸå¸‚<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"beijing"</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"shanghai"</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"guangzhou"</span>&gt;</span>å¹¿å·<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¤šé€‰ä¸‹æ‹‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"skills"</span> <span class="hljs-attr">multiple</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"html"</span>&gt;</span>HTML<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"css"</span>&gt;</span>CSS<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"js"</span>&gt;</span>JavaScript<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
</code></pre>
<h4 data-id="heading-29">7.5 æ–‡æœ¬åŸŸ</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å¤šè¡Œæ–‡æœ¬ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">cols</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ç•™è¨€"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
</code></pre>
<h4 data-id="heading-30">7.6 æŒ‰é’®</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æäº¤æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é‡ç½®æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"reset"</span>&gt;</span>é‡ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ™®é€šæŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- input æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æäº¤"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"reset"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"é‡ç½®"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"æŒ‰é’®"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-31">7.7 è¡¨å•éªŒè¯</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å¿…å¡« --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æœ€å°/æœ€å¤§é•¿åº¦ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">minlength</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">maxlength</span>=<span class="hljs-string">"20"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æ­£åˆ™éªŒè¯ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"[0-9]{11}"</span> 
    <span class="hljs-attr">title</span>=<span class="hljs-string">"è¯·è¾“å…¥11ä½æ‰‹æœºå·"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æ•°å€¼èŒƒå›´ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"age"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"18"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"100"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æäº¤æ—¶éªŒè¯ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-32">å…«ã€HTML5 è¯­ä¹‰åŒ–æ ‡ç­¾</h3>
<h4 data-id="heading-33">8.1 ç»“æ„æ ‡ç­¾</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç½‘ç«™æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/about"</span>&gt;</span>å…³äº<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ–‡ç« æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ–‡ç« å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä¾§è¾¹æ <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç›¸å…³å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Â© 2024 ç‰ˆæƒæ‰€æœ‰<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
</code></pre>
<h4 data-id="heading-34">8.2 è¯­ä¹‰åŒ–æ ‡ç­¾è¯´æ˜</h4>

























































<table><thead><tr><th>æ ‡ç­¾</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&lt;header&gt;</code></td><td>é¡µå¤´/æ–‡ç« å¤´éƒ¨</td></tr><tr><td><code>&lt;nav&gt;</code></td><td>å¯¼èˆªæ </td></tr><tr><td><code>&lt;main&gt;</code></td><td>ä¸»è¦å†…å®¹ï¼ˆé¡µé¢å”¯ä¸€ï¼‰</td></tr><tr><td><code>&lt;article&gt;</code></td><td>ç‹¬ç«‹æ–‡ç« å†…å®¹</td></tr><tr><td><code>&lt;section&gt;</code></td><td>æ–‡æ¡£ä¸­çš„èŠ‚</td></tr><tr><td><code>&lt;aside&gt;</code></td><td>ä¾§è¾¹æ /é™„åŠ å†…å®¹</td></tr><tr><td><code>&lt;footer&gt;</code></td><td>é¡µè„š/æ–‡ç« å°¾éƒ¨</td></tr><tr><td><code>&lt;figure&gt;</code></td><td>å›¾ç‰‡ã€å›¾è¡¨ç­‰</td></tr><tr><td><code>&lt;figcaption&gt;</code></td><td>figure çš„æ ‡é¢˜</td></tr><tr><td><code>&lt;mark&gt;</code></td><td>é«˜äº®æ–‡æœ¬</td></tr><tr><td><code>&lt;time&gt;</code></td><td>æ—¶é—´æ—¥æœŸ</td></tr><tr><td><code>&lt;address&gt;</code></td><td>è”ç³»ä¿¡æ¯</td></tr></tbody></table>
<h4 data-id="heading-35">8.3 ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ–‡ç« æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2024-01-26"</span>&gt;</span>2024å¹´1æœˆ26æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç¬¬ä¸€ç« <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ç¬¬ä¸€ç« çš„å†…å®¹ï¼Œå…¶ä¸­<span class="hljs-tag">&lt;<span class="hljs-name">mark</span>&gt;</span>é‡è¦éƒ¨åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">mark</span>&gt;</span>è¢«é«˜äº®æ˜¾ç¤ºã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">figure</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"é…å›¾"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">figcaption</span>&gt;</span>å›¾ç‰‡è¯´æ˜<span class="hljs-tag">&lt;/<span class="hljs-name">figcaption</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">figure</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">address</span>&gt;</span>
      ä½œè€…ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"mailto:author@example.com"</span>&gt;</span>ä½œè€…é‚®ç®±<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">address</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-36">ä¹ã€å¤šåª’ä½“</h3>
<h4 data-id="heading-37">9.1 éŸ³é¢‘</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">audio</span> <span class="hljs-attr">controls</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"audio.mp3"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"audio/mpeg"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"audio.ogg"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"audio/ogg"</span>&gt;</span>
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å±æ€§ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">audio</span> 
  <span class="hljs-attr">src</span>=<span class="hljs-string">"audio.mp3"</span> 
  <span class="hljs-attr">controls</span> 
  <span class="hljs-attr">autoplay</span> 
  <span class="hljs-attr">loop</span> 
  <span class="hljs-attr">muted</span>
  <span class="hljs-attr">preload</span>=<span class="hljs-string">"auto"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span>
</code></pre>
<h4 data-id="heading-38">9.2 è§†é¢‘</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">controls</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"640"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"360"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"video.mp4"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/mp4"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"video.webm"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/webm"</span>&gt;</span>
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
<span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å±æ€§ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">video</span> 
  <span class="hljs-attr">src</span>=<span class="hljs-string">"video.mp4"</span> 
  <span class="hljs-attr">controls</span> 
  <span class="hljs-attr">autoplay</span> 
  <span class="hljs-attr">loop</span> 
  <span class="hljs-attr">muted</span>
  <span class="hljs-attr">poster</span>=<span class="hljs-string">"poster.jpg"</span>
  <span class="hljs-attr">preload</span>=<span class="hljs-string">"auto"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
</code></pre>
<h4 data-id="heading-39">9.3 iframeï¼ˆåµŒå…¥å†…å®¹ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åµŒå…¥ç½‘é¡µ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://example.com"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"600"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åµŒå…¥è§†é¢‘ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> 
  <span class="hljs-attr">src</span>=<span class="hljs-string">"https://www.youtube.com/embed/VIDEO_ID"</span> 
  <span class="hljs-attr">width</span>=<span class="hljs-string">"560"</span> 
  <span class="hljs-attr">height</span>=<span class="hljs-string">"315"</span>
  <span class="hljs-attr">frameborder</span>=<span class="hljs-string">"0"</span>
  <span class="hljs-attr">allowfullscreen</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-40">åã€å…¶ä»–å¸¸ç”¨æ ‡ç­¾</h3>
<h4 data-id="heading-41">10.1 åˆ†ç»„æ ‡ç­¾</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- divï¼šå—çº§å®¹å™¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- spanï¼šè¡Œå†…å®¹å™¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"highlight"</span>&gt;</span>é«˜äº®<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<h4 data-id="heading-42">10.2 å…¶ä»–æ ‡ç­¾</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- åœ°å€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">address</span>&gt;</span>
  åŒ—äº¬å¸‚æœé˜³åŒº<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
  ç”µè¯ï¼š010-12345678
<span class="hljs-tag">&lt;/<span class="hljs-name">address</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ç¼©å†™ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">abbr</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"World Wide Web"</span>&gt;</span>WWW<span class="hljs-tag">&lt;/<span class="hljs-name">abbr</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å®šä¹‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dfn</span>&gt;</span>HTML<span class="hljs-tag">&lt;/<span class="hljs-name">dfn</span>&gt;</span>æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€

<span class="hljs-comment">&lt;!-- é”®ç›˜è¾“å…¥ --&gt;</span>
æŒ‰<span class="hljs-tag">&lt;<span class="hljs-name">kbd</span>&gt;</span>Ctrl<span class="hljs-tag">&lt;/<span class="hljs-name">kbd</span>&gt;</span>+<span class="hljs-tag">&lt;<span class="hljs-name">kbd</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">kbd</span>&gt;</span>å¤åˆ¶

<span class="hljs-comment">&lt;!-- å˜é‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">var</span>&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">var</span>&gt;</span> = 10

<span class="hljs-comment">&lt;!-- æ ·æœ¬è¾“å‡º --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">samp</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">samp</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è¿›åº¦æ¡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">progress</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"70"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"100"</span>&gt;</span>70%<span class="hljs-tag">&lt;/<span class="hljs-name">progress</span>&gt;</span>

<span class="hljs-comment">&lt;!-- åº¦é‡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meter</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"0.6"</span>&gt;</span>60%<span class="hljs-tag">&lt;/<span class="hljs-name">meter</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-43">åä¸€ã€å±æ€§</h3>
<h4 data-id="heading-44">11.1 å…¨å±€å±æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- idï¼šå”¯ä¸€æ ‡è¯† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"header"</span>&gt;</span>å¤´éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- classï¼šç±»å --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container main"</span>&gt;</span>å®¹å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- styleï¼šå†…è”æ ·å¼ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red;"</span>&gt;</span>çº¢è‰²æ–‡æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

<span class="hljs-comment">&lt;!-- titleï¼šæç¤ºä¿¡æ¯ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…"</span>&gt;</span>é“¾æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>

<span class="hljs-comment">&lt;!-- data-*ï¼šè‡ªå®šä¹‰æ•°æ® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-user-id</span>=<span class="hljs-string">"123"</span> <span class="hljs-attr">data-role</span>=<span class="hljs-string">"admin"</span>&gt;</span>ç”¨æˆ·ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- hiddenï¼šéšè—å…ƒç´  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">hidden</span>&gt;</span>éšè—å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- tabindexï¼šTab é”®é¡ºåº --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"1"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"2"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- contenteditableï¼šå¯ç¼–è¾‘ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">contenteditable</span>=<span class="hljs-string">"true"</span>&gt;</span>å¯ç¼–è¾‘å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- draggableï¼šå¯æ‹–æ‹½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">draggable</span>=<span class="hljs-string">"true"</span>&gt;</span>å¯æ‹–æ‹½å…ƒç´ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-45">11.2 æ— éšœç¢å±æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- aria-labelï¼šæ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"å…³é—­"</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- aria-labelledbyï¼šå…³è”æ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username-label"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">"username-label"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- aria-describedbyï¼šæè¿° --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string">"help-text"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"help-text"</span>&gt;</span>è¯·è¾“å…¥ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-comment">&lt;!-- roleï¼šè§’è‰² --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"0"</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-46">åäºŒã€å­—ç¬¦å®ä½“</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å¸¸ç”¨å­—ç¬¦å®ä½“ --&gt;</span>
<span class="hljs-symbol">&amp;lt;</span>      <span class="hljs-comment">&lt;!-- &lt; --&gt;</span>
<span class="hljs-symbol">&amp;gt;</span>      <span class="hljs-comment">&lt;!-- &gt; --&gt;</span>
<span class="hljs-symbol">&amp;amp;</span>     <span class="hljs-comment">&lt;!-- &amp; --&gt;</span>
<span class="hljs-symbol">&amp;quot;</span>    <span class="hljs-comment">&lt;!-- " --&gt;</span>
<span class="hljs-symbol">&amp;apos;</span>    <span class="hljs-comment">&lt;!-- ' --&gt;</span>
<span class="hljs-symbol">&amp;nbsp;</span>    <span class="hljs-comment">&lt;!-- ä¸é—´æ–­ç©ºæ ¼ --&gt;</span>
<span class="hljs-symbol">&amp;copy;</span>    <span class="hljs-comment">&lt;!-- Â© --&gt;</span>
<span class="hljs-symbol">&amp;reg;</span>     <span class="hljs-comment">&lt;!-- Â® --&gt;</span>
<span class="hljs-symbol">&amp;trade;</span>   <span class="hljs-comment">&lt;!-- â„¢ --&gt;</span>
<span class="hljs-symbol">&amp;deg;</span>     <span class="hljs-comment">&lt;!-- Â° --&gt;</span>
<span class="hljs-symbol">&amp;times;</span>   <span class="hljs-comment">&lt;!-- Ã— --&gt;</span>
<span class="hljs-symbol">&amp;divide;</span>  <span class="hljs-comment">&lt;!-- Ã· --&gt;</span>
<span class="hljs-symbol">&amp;euro;</span>    <span class="hljs-comment">&lt;!-- â‚¬ --&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-47">åä¸‰ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-48">13.1 ä»£ç è§„èŒƒ</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- âœ… å¥½çš„åšæ³• --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é¡µé¢æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ®µè½å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

<span class="hljs-comment">&lt;!-- âŒ é¿å… --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">HEAD</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">TITLE</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">TITLE</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">HEAD</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">BODY</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">H1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">H1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">BODY</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">HTML</span>&gt;</span>
</code></pre>
<h4 data-id="heading-49">13.2 è¯­ä¹‰åŒ–</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- âœ… ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

<span class="hljs-comment">&lt;!-- âŒ é¿å…è¿‡åº¦ä½¿ç”¨ div --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-50">13.3 å¯è®¿é—®æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- âœ… æä¾› alt å±æ€§ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"photo.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"ä¸€å¼ ç¾ä¸½çš„é£æ™¯ç…§ç‰‡"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- âœ… ä½¿ç”¨ label å…³è”è¡¨å• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- âœ… ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
è€Œä¸æ˜¯
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"submit()"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-51">13.4 æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å›¾ç‰‡æ‡’åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"æè¿°"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é¢„åŠ è½½å…³é”®èµ„æº --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preload"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"font.woff2"</span> <span class="hljs-attr">as</span>=<span class="hljs-string">"font"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"font/woff2"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>

<span class="hljs-comment">&lt;!-- DNS é¢„è§£æ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"dns-prefetch"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.example.com"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é¢„è¿æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://api.example.com"</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-52">åå››ã€HTML5 æ–°ç‰¹æ€§</h3>
<h4 data-id="heading-53">14.1 æ–°çš„è¾“å…¥ç±»å‹</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"url"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tel"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"search"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"time"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"datetime-local"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"month"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"week"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"color"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-54">14.2 æ–°çš„è¡¨å•å±æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- placeholderï¼šå ä½ç¬¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- autofocusï¼šè‡ªåŠ¨èšç„¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">autofocus</span>&gt;</span>

<span class="hljs-comment">&lt;!-- requiredï¼šå¿…å¡« --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">required</span>&gt;</span>

<span class="hljs-comment">&lt;!-- patternï¼šæ­£åˆ™éªŒè¯ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">"[0-9]{11}"</span>&gt;</span>

<span class="hljs-comment">&lt;!-- listï¼šæ•°æ®åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">list</span>=<span class="hljs-string">"cities"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">datalist</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"cities"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"åŒ—äº¬"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"ä¸Šæµ·"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"å¹¿å·"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">datalist</span>&gt;</span>
</code></pre>
<h4 data-id="heading-55">14.3 Canvas å’Œ SVG</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- Canvasï¼šä½å›¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"myCanvas"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'myCanvas'</span>);
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
  ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">'red'</span>;
  ctx.<span class="hljs-title function_">fillRect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-comment">&lt;!-- SVGï¼šçŸ¢é‡å›¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-56">åäº”ã€è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-57">15.1 éªŒè¯ HTML</h4>
<ul>
<li>ä½¿ç”¨ W3C éªŒè¯å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvalidator.w3.org%2F" target="_blank" title="https://validator.w3.org/" ref="nofollow noopener noreferrer">validator.w3.org/</a></li>
<li>æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥</li>
<li>æ£€æŸ¥è¯­ä¹‰åŒ–æ˜¯å¦æ­£ç¡®</li>
</ul>
<h4 data-id="heading-58">15.2 å¸¸è§é—®é¢˜</h4>






























<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³</th></tr></thead><tbody><tr><td>é¡µé¢æ˜¾ç¤ºä¹±ç </td><td>å­—ç¬¦ç¼–ç æœªè®¾ç½®</td><td>æ·»åŠ  <code>&lt;meta charset="UTF-8"&gt;</code></td></tr><tr><td>æ ·å¼ä¸ç”Ÿæ•ˆ</td><td>é€‰æ‹©å™¨é”™è¯¯</td><td>æ£€æŸ¥ class/id æ‹¼å†™</td></tr><tr><td>è¡¨å•ä¸æäº¤</td><td>action/method é”™è¯¯</td><td>æ£€æŸ¥è¡¨å•å±æ€§</td></tr><tr><td>å›¾ç‰‡ä¸æ˜¾ç¤º</td><td>è·¯å¾„é”™è¯¯</td><td>æ£€æŸ¥ src è·¯å¾„</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-59">åå…­ã€æ¨èèµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong></p>
<ul>
<li>MDN Web Docsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTML" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/HTML" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a></li>
<li>W3C HTML è§„èŒƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fhtml52%2F" target="_blank" title="https://www.w3.org/TR/html52/" ref="nofollow noopener noreferrer">www.w3.org/TR/html52/</a></li>
</ul>
<p><strong>å­¦ä¹ èµ„æºï¼š</strong></p>
<ul>
<li>ã€ŠHTML5 æƒå¨æŒ‡å—ã€‹</li>
<li>HTML æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.runoob.com%2Fhtml%2Fhtml-tutorial.html" target="_blank" title="https://www.runoob.com/html/html-tutorial.html" ref="nofollow noopener noreferrer">www.runoob.com/html/html-tâ€¦</a></li>
<li>HTML å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3schools.com%2Fhtml%2F" target="_blank" title="https://www.w3schools.com/html/" ref="nofollow noopener noreferrer">www.w3schools.com/html/</a></li>
</ul>
<hr/>
<h3 data-id="heading-60">åä¸ƒã€æ€»ç»“</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span> æ ¸å¿ƒè¦ç‚¹ï¼š

è¯­ä¹‰åŒ–æ ‡ç­¾ + è¡¨å•éªŒè¯ + å¯è®¿é—®æ€§ + æ€§èƒ½ä¼˜åŒ– = é«˜è´¨é‡ç½‘é¡µ
</code></pre>
<p><strong>æ ¸å¿ƒå¿ƒæ³•ï¼š</strong></p>
<blockquote>
<p>HTML æ˜¯ç½‘é¡µçš„éª¨æ¶ï¼Œè¯­ä¹‰åŒ–æ˜¯ HTML çš„çµé­‚ã€‚
ç»“æ„æ¸…æ™°ã€è¯­ä¹‰æ˜ç¡®ã€æ˜“äºç»´æŠ¤ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-61">ğŸ“ æ–‡æ¡£ä¿¡æ¯</h3>
<ul>
<li><strong>ä½œè€…</strong>: é˜¿é‘«</li>
<li><strong>æ›´æ–°æ—¥æœŸ</strong>: 2026.1.26</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡ææ‡‚ç°ä»£æµè§ˆå™¨æ¶æ„ï¼ˆé¢è¯•&å…¥é—¨åŒé€‚ç”¨ï¼‰]]></title>    <link>https://juejin.cn/post/7599485473706803238</link>    <guid>https://juejin.cn/post/7599485473706803238</guid>    <pubDate>2026-01-26T08:09:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599485473706803238" data-draft-id="7599485473706704934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡ææ‡‚ç°ä»£æµè§ˆå™¨æ¶æ„ï¼ˆé¢è¯•&amp;å…¥é—¨åŒé€‚ç”¨ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,æµè§ˆå™¨,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-26T08:09:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Wect"/> <meta itemprop="url" content="https://juejin.cn/user/4185164878720068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡ææ‡‚ç°ä»£æµè§ˆå™¨æ¶æ„ï¼ˆé¢è¯•&amp;å…¥é—¨åŒé€‚ç”¨ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4185164878720068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Wect
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:09:59.000Z" title="Mon Jan 26 2026 08:09:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç°ä»£æµè§ˆå™¨ï¼ˆä»¥ Chrome ä¸ºä»£è¡¨ï¼‰æ—©å·²æŠ›å¼ƒæ—©æœŸçš„å•è¿›ç¨‹è®¾è®¡ï¼Œå…¨é¢é‡‡ç”¨ <strong>å¤šè¿›ç¨‹æ¶æ„ï¼ˆMulti-Process Architectureï¼‰</strong>ã€‚è¿™ä¸€è®¾è®¡çœ‹ä¼¼å¤æ‚ï¼Œæ ¸å¿ƒå´æ˜¯ä¸ºäº†è§£å†³å®é™…ä½¿ç”¨ä¸­çš„å…³é”®é—®é¢˜ï¼Œä»Šå¤©å°±ç”¨æœ€é€šä¿—çš„æ–¹å¼æ‹†è§£æ¸…æ¥šï¼Œä¸ç®¡æ˜¯å…¥é—¨è¿˜æ˜¯é¢è¯•éƒ½å¤Ÿç”¨ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæµè§ˆå™¨éè¦ç”¨å¤šè¿›ç¨‹ï¼Ÿ</h2>
<p>å…ˆç»™ä¸€ä¸ªé¢è¯•ç›´æ¥èƒ½ç”¨çš„æ ¸å¿ƒåŠ¨æœºï¼Œè®°ç‰¢å°±è¡Œï¼š</p>
<blockquote>
<p>æµè§ˆå™¨å¿…é¡»åŒæ—¶å…¼é¡¾ <strong>ç¨³å®šæ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½</strong> ä¸‰å¤§æ ¸å¿ƒéœ€æ±‚ã€‚å•è¿›ç¨‹æµè§ˆå™¨æœ‰ä¸ªè‡´å‘½é—®é¢˜â€”â€”ä¸€æ—¦å´©æºƒï¼Œæ•´ä¸ªæµè§ˆå™¨ç›´æ¥æŒ‚æ‰ã€‚æ‰€ä»¥ç°ä»£æµè§ˆå™¨æŠŠä¸åŒåŠŸèƒ½æ‹†åˆ†åˆ°ä¸åŒè¿›ç¨‹ï¼Œå®ç°â€œå±€éƒ¨æ•…éšœä¸å½±å“æ•´ä½“â€ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸¾ä¸ªç›´è§‚ä¾‹å­</h3>
<p>æ—¥å¸¸ä½¿ç”¨ä¸­å¾ˆå®¹æ˜“é‡åˆ°è¿™äº›æƒ…å†µï¼šæŸä¸ªç½‘é¡µçš„ JS é™·å…¥æ­»å¾ªç¯ã€è§†é¢‘æ’­æ”¾å æ»¡æ˜¾å¡èµ„æºã€å•ä¸ªé¡µé¢çªç„¶å´©æºƒã€‚è€Œå¤šè¿›ç¨‹æ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿å°±æ˜¯â€”â€”è¿™äº›é—®é¢˜éƒ½ä¸ä¼šå½±å“å…¶ä»–æ ‡ç­¾é¡µæˆ–æµè§ˆå™¨æœ¬èº«ï¼Œæœ€å¤šåªæ˜¯å‡ºé—®é¢˜çš„é¡µé¢å…³é—­ï¼Œä¸è€½è¯¯æ•´ä½“ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-2">äºŒã€æµè§ˆå™¨ä¸»è¦æœ‰å“ªäº›è¿›ç¨‹ï¼Ÿï¼ˆæ ¸å¿ƒé‡ç‚¹ï¼‰</h2>
<p>å…ˆè®°ä¸€ä¸ªæ ¸å¿ƒç»“è®ºï¼Œå¸®ä½ å»ºç«‹æ•´ä½“è®¤çŸ¥ï¼š</p>
<blockquote>
<p>æµè§ˆå™¨ â‰ˆ <strong>1ä¸ªæµè§ˆå™¨ä¸»è¿›ç¨‹ + å¤šä¸ªåŠŸèƒ½è¿›ç¨‹ + å¤šä¸ªæ¸²æŸ“è¿›ç¨‹</strong></p>
</blockquote>
<p>ä¸‹é¢é€ä¸ªæ‹†è§£ï¼Œé‡ç‚¹å†…å®¹ä¼šç‰¹åˆ«æ ‡æ³¨ï¼Œé¢è¯•å¸¸è€ƒçš„åœ°æ–¹ä¹Ÿä¼šæé†’ã€‚</p>
<h3 data-id="heading-3">1. Browser Processï¼ˆæµè§ˆå™¨ä¸»è¿›ç¨‹ï¼‰â€”â€” æµè§ˆå™¨çš„â€œå¤§æ€»ç®¡â€</h3>
<p>å®ƒä¸è´Ÿè´£å…·ä½“çš„é¡µé¢å†…å®¹æ¸²æŸ“ï¼Œåªåšå…¨å±€ç®¡ç†å·¥ä½œï¼Œæ˜¯æ•´ä¸ªæµè§ˆå™¨çš„æ ¸å¿ƒè°ƒåº¦è€…ã€‚</p>
<h4 data-id="heading-4">ä¸»è¦èŒè´£ï¼š</h4>
<ul>
<li>
<p>ç®¡ç†æµè§ˆå™¨çª—å£ï¼ˆåœ°å€æ ã€ä¹¦ç­¾æ ã€å‰è¿›åé€€æŒ‰é’®ç­‰ç•Œé¢å…ƒç´ ï¼‰ï¼›</p>
</li>
<li>
<p>è´Ÿè´£æ ‡ç­¾é¡µçš„åˆ›å»ºä¸é”€æ¯ï¼›</p>
</li>
<li>
<p>è°ƒåº¦å…¶ä»–è¿›ç¨‹çš„åˆ›å»ºã€é”€æ¯ä¸åä½œï¼›</p>
</li>
<li>
<p>å¤„ç†ç”¨æˆ·è¾“å…¥ï¼ˆæ¯”å¦‚åœ¨åœ°å€æ è¾“å†…å®¹ã€æŒ‰å¿«æ·é”®ï¼‰ï¼›</p>
</li>
<li>
<p>ç®¡ç†å„ç±»æƒé™ï¼ˆä¸‹è½½ã€æ‘„åƒå¤´è°ƒç”¨ã€å¼¹çª—é€šçŸ¥ç­‰ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">ä¸¾ä¸ªå®é™…åœºæ™¯ï¼šåœ¨åœ°å€æ è¾“å…¥URL</h4>
<ol>
<li>
<p>æµè§ˆå™¨ä¸»è¿›ç¨‹é¦–å…ˆæ¥æ”¶ä½ çš„è¾“å…¥ï¼›</p>
</li>
<li>
<p>åˆ¤æ–­ä½ è¾“å…¥çš„æ˜¯æœç´¢å…³é”®è¯ï¼ˆæ¯”å¦‚â€œå¤©æ°”â€ï¼‰è¿˜æ˜¯å…·ä½“ç½‘å€ï¼ˆæ¯”å¦‚â€œ<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.baidu.com%25E2%2580%259D%25EF%25BC%2589%25EF%25BC%259B" target="_blank" title="http://www.baidu.com%E2%80%9D%EF%BC%89%EF%BC%9B" ref="nofollow noopener noreferrer">www.baidu.comâ€ï¼‰ï¼›</a></p>
</li>
<li>
<p>åˆ›å»ºæˆ–å¤ç”¨ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†è¿™ä¸ªé¡µé¢ï¼›</p>
</li>
<li>
<p>æŠŠURLäº¤ç»™ç½‘ç»œè¿›ç¨‹ï¼Œè®©å®ƒå»å‘èµ·è¯·æ±‚è·å–èµ„æºã€‚</p>
</li>
</ol>
<p>è¿™é‡Œä¸€å®šè¦è®°ä½ï¼šä¸»è¿›ç¨‹åªåšâ€œè°ƒåº¦ç®¡ç†â€ï¼Œä¸ç¢°é¡µé¢æ¸²æŸ“çš„å…·ä½“å·¥ä½œã€‚</p>
<h3 data-id="heading-6">2. Renderer Processï¼ˆæ¸²æŸ“è¿›ç¨‹ï¼‰â€”â€” é‡ç‚¹ä¸­çš„é‡ç‚¹</h3>
<p>è¿™æ˜¯é¢è¯•é«˜é¢‘è€ƒç‚¹ï¼Œä¹Ÿæ˜¯é¡µé¢èƒ½æ­£å¸¸æ˜¾ç¤ºçš„æ ¸å¿ƒè¿›ç¨‹ã€‚</p>
<h4 data-id="heading-7">ä¸€å¥è¯å®šä¹‰</h4>
<p>æ¯ä¸ªæ ‡ç­¾é¡µï¼ˆä¸¥æ ¼æ¥è¯´æ˜¯æ¯ä¸ªç«™ç‚¹å®ä¾‹ï¼‰åŸºæœ¬éƒ½ä¼šå¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“è¿›ç¨‹ï¼Œå®ç°è¿›ç¨‹éš”ç¦»ã€‚</p>
<h4 data-id="heading-8">æ ¸å¿ƒèŒè´£</h4>
<p>æ‰€æœ‰å’Œé¡µé¢å†…å®¹ç›¸å…³çš„å·¥ä½œï¼Œéƒ½ç”±å®ƒè´Ÿè´£ï¼š</p>
<ul>
<li>
<p>è§£æHTMLå’ŒCSSä»£ç ï¼›</p>
</li>
<li>
<p>æ„å»ºDOMæ ‘ï¼ˆHTMLè§£æç»“æœï¼‰å’ŒCSSOMæ ‘ï¼ˆCSSè§£æç»“æœï¼‰ï¼›</p>
</li>
<li>
<p>æ‰§è¡Œé¡µé¢ä¸­çš„JavaScriptä»£ç ï¼›</p>
</li>
<li>
<p>è®¡ç®—é¡µé¢å¸ƒå±€ã€ç»˜åˆ¶é¡µé¢å†…å®¹ï¼›</p>
</li>
<li>
<p>å“åº”ç”¨æˆ·åœ¨é¡µé¢å†…çš„äº¤äº’ï¼ˆæ¯”å¦‚ç‚¹å‡»æŒ‰é’®ã€è¾“å…¥æ–‡å­—ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-9">å†…éƒ¨çº¿ç¨‹ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼‰</h4>
<p>æ¸²æŸ“è¿›ç¨‹å†…éƒ¨ä¸æ˜¯å•çº¿ç¨‹å·¥ä½œï¼Œè€Œæ˜¯ç”±å¤šä¸ªçº¿ç¨‹åä½œï¼š</p>
<ul>
<li>
<p>ä¸»çº¿ç¨‹ï¼šè´Ÿè´£æ‰§è¡ŒJavaScriptä»£ç ï¼ŒåŒæ—¶å¤„ç†HTML/CSSè§£æã€å¸ƒå±€ç»˜åˆ¶ç­‰æ¸²æŸ“å·¥ä½œï¼›</p>
</li>
<li>
<p>åˆæˆçº¿ç¨‹ï¼ˆCompositorï¼‰ï¼šè´Ÿè´£é¡µé¢å›¾å±‚åˆæˆï¼Œè®©åŠ¨ç”»æ›´æµç•…ï¼›</p>
</li>
<li>
<p>å…‰æ …çº¿ç¨‹ï¼ˆRasterï¼‰ï¼šè´Ÿè´£æŠŠé¡µé¢å…ƒç´ è½¬æ¢æˆåƒç´ ï¼Œä¾›æœ€ç»ˆæ˜¾ç¤ºã€‚</p>
</li>
</ul>
<h4 data-id="heading-10">ä¸¾ä¸ªçœŸå®åœºæ™¯ï¼šæ‰“å¼€ä¸€ä¸ªReacté¡µé¢</h4>
<ol>
<li>
<p>HTMLæ–‡ä»¶ä¸‹è½½å®Œæˆåï¼Œæ¸²æŸ“è¿›ç¨‹å¼€å§‹è§£æHTMLï¼Œç”ŸæˆDOMæ ‘ï¼›</p>
</li>
<li>
<p>åŒæ—¶ä¸‹è½½é¡µé¢æ‰€éœ€çš„CSSæ–‡ä»¶ï¼Œè§£æåç”ŸæˆCSSOMæ ‘ï¼›</p>
</li>
<li>
<p>æ‰§è¡Œé¡µé¢ä¸­çš„JavaScriptä»£ç ï¼ˆåŒ…æ‹¬Reactæ¡†æ¶ä»£ç ï¼‰ï¼Œé€šè¿‡JSæ“ä½œDOMå’ŒCSSOMï¼›</p>
</li>
<li>
<p>æ ¹æ®DOMæ ‘å’ŒCSSOMæ ‘è®¡ç®—é¡µé¢å¸ƒå±€ï¼Œç¡®å®šæ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œæ ·å¼ï¼›</p>
</li>
<li>
<p>ç»˜åˆ¶é¡µé¢å†…å®¹ï¼Œå†é€šè¿‡åˆæˆçº¿ç¨‹ã€å…‰æ …çº¿ç¨‹å¤„ç†åï¼Œå‘ˆç°åˆ°å±å¹•ä¸Šï¼›</p>
</li>
<li>
<p>å½“ç”¨æˆ·ç‚¹å‡»é¡µé¢æŒ‰é’®æ—¶ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œå¯¹åº”çš„JSå›è°ƒï¼Œå“åº”ç”¨æˆ·äº¤äº’ã€‚</p>
</li>
</ol>
<p>è¿™é‡Œæœ‰ä¸ªé«˜é¢‘è€ƒç‚¹ï¼š<strong>JavaScriptä¼šé˜»å¡é¡µé¢æ¸²æŸ“</strong>ï¼Œæœ¬è´¨å°±æ˜¯å› ä¸ºJSæ‰§è¡Œå’Œæ¸²æŸ“å·¥ä½œå…±äº«åŒä¸€ä¸ªä¸»çº¿ç¨‹ï¼ŒJSæ‰§è¡Œæ—¶ä¼šå ç”¨ä¸»çº¿ç¨‹èµ„æºï¼Œå¯¼è‡´æ¸²æŸ“å·¥ä½œæš‚åœã€‚</p>
<h4 data-id="heading-11">ä¸ºä»€ä¹ˆè¦åšæ¸²æŸ“è¿›ç¨‹éš”ç¦»ï¼Ÿ</h4>
<p>ä¸»è¦ä¸ºäº†å®‰å…¨å’Œç¨³å®šï¼Œä¸¤ç‚¹åŸå› å¾ˆæ˜ç¡®ï¼š</p>
<ul>
<li>
<p>å®‰å…¨å±‚é¢ï¼šJavaScriptå±äºä¸å¯ä¿¡ä»£ç ï¼Œæ¯ä¸ªç«™ç‚¹ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ç›¸å½“äºä¸€ä¸ªâ€œæ²™ç®±â€ï¼Œèƒ½é˜²æ­¢è·¨ç«™ç‚¹çªƒå–æ•°æ®ï¼›</p>
</li>
<li>
<p>ç¨³å®šå±‚é¢ï¼šæŸä¸ªé¡µé¢å´©æºƒï¼ˆæ¯”å¦‚JSæ­»å¾ªç¯ï¼‰ï¼Œåªä¼šå½±å“å¯¹åº”çš„æ¸²æŸ“è¿›ç¨‹ï¼Œä¸ä¼šæ‹–å®å…¶ä»–æ ‡ç­¾é¡µæˆ–æµè§ˆå™¨æœ¬èº«ã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">é¢è¯•å¸¸é—®ï¼šä¸€ä¸ªæ ‡ç­¾é¡µå°±å¯¹åº”ä¸€ä¸ªè¿›ç¨‹å—ï¼Ÿ</h4>
<p>æ ‡å‡†å›ç­”ï¼ˆè®°ç‰¢ä¸è¸©å‘ï¼‰ï¼š</p>
<ul>
<li>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯è¿™æ ·çš„ï¼›</p>
</li>
<li>
<p>Chromeæœ‰ä¸ªâ€œSite Isolationï¼ˆç«™ç‚¹éš”ç¦»ï¼‰â€æœºåˆ¶ï¼›</p>
</li>
<li>
<p>åŒæºé¡µé¢ï¼ˆæ¯”å¦‚åŒä¸€ä¸ªç½‘ç«™çš„ä¸åŒé¡µé¢ï¼‰å¯èƒ½ä¼šå¤ç”¨åŒä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼ŒèŠ‚çœèµ„æºï¼›</p>
</li>
<li>
<p>è·¨ç«™ç‚¹é¡µé¢ï¼ˆä¸åŒåŸŸåï¼‰é€šå¸¸ä¼šä½¿ç”¨ç‹¬ç«‹çš„æ¸²æŸ“è¿›ç¨‹ï¼Œä¿è¯éš”ç¦»æ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">3. Network Processï¼ˆç½‘ç»œè¿›ç¨‹ï¼‰â€”â€” ç½‘ç»œè¯·æ±‚çš„â€œä¸“å±ç®¡å®¶â€</h3>
<h4 data-id="heading-14">æ ¸å¿ƒèŒè´£</h4>
<p>ç»Ÿä¸€ç®¡ç†æµè§ˆå™¨æ‰€æœ‰çš„ç½‘ç»œè¯·æ±‚ï¼Œé¿å…é‡å¤å·¥ä½œï¼Œæå‡æ•ˆç‡ï¼š</p>
<ul>
<li>
<p>å¤„ç†HTTPã€HTTPSç­‰åè®®çš„è¯·æ±‚ï¼›</p>
</li>
<li>
<p>è¿›è¡ŒDNSæŸ¥è¯¢ï¼ˆæŠŠåŸŸåè½¬æ¢æˆIPåœ°å€ï¼‰ï¼›</p>
</li>
<li>
<p>å»ºç«‹å’Œç®¡ç†TCP/TLSè¿æ¥ï¼›</p>
</li>
<li>
<p>ç®¡ç†ç½‘ç»œç¼“å­˜ï¼ˆå·²ä¸‹è½½çš„èµ„æºç¼“å­˜èµ·æ¥ï¼Œä¸‹æ¬¡æ— éœ€é‡å¤ä¸‹è½½ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-15">ä¸ºä»€ä¹ˆè¦å•ç‹¬æ‹†æˆä¸€ä¸ªè¿›ç¨‹ï¼Ÿ</h4>
<p>ç½‘ç»œè¯·æ±‚æ˜¯æµè§ˆå™¨çš„é«˜é¢‘æ“ä½œï¼Œä¸”å±äºå…±äº«èµ„æºã€‚å•ç‹¬æ‹†åˆ†åï¼Œå¤šä¸ªæ ‡ç­¾é¡µå¯ä»¥å¤ç”¨åŒä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œé¿å…æ¯ä¸ªé¡µé¢éƒ½å•ç‹¬å»ºç«‹è¿æ¥ï¼Œå¤§å¹…é™ä½èµ„æºæ¶ˆè€—ã€‚</p>
<h4 data-id="heading-16">ä¸¾ä¸ªä¾‹å­</h4>
<p>åŒæ—¶æ‰“å¼€3ä¸ªæ ‡ç­¾é¡µï¼Œéƒ½è¯·æ±‚â€œapi.example.comâ€è¿™ä¸ªæ¥å£ã€‚æ­¤æ—¶ç½‘ç»œè¿›ç¨‹ä¼šå¤ç”¨åŒä¸€ä¸ªTCPè¿æ¥ï¼Œè€Œä¸æ˜¯å»ºç«‹3ä¸ªç‹¬ç«‹è¿æ¥ï¼Œå‡å°‘ç½‘ç»œå¼€é”€å’Œå»¶è¿Ÿã€‚</p>
<h3 data-id="heading-17">4. GPU Processï¼ˆGPUè¿›ç¨‹ï¼‰â€”â€” å›¾å½¢æ¸²æŸ“çš„â€œåŠ é€Ÿå™¨â€</h3>
<h4 data-id="heading-18">æ ¸å¿ƒä½œç”¨</h4>
<p>è´Ÿè´£å›¾å½¢æ¸²æŸ“åŠ é€Ÿï¼Œè®©é¡µé¢åŠ¨ç”»ã€è§†é¢‘æ’­æ”¾æ›´æµç•…ï¼š</p>
<ul>
<li>
<p>å‚ä¸é¡µé¢å›¾å±‚åˆæˆï¼Œæå‡æ¸²æŸ“æ•ˆç‡ï¼›</p>
</li>
<li>
<p>å¤„ç†CSSåŠ¨ç”»ã€transformç­‰å±æ€§çš„è§†è§‰æ•ˆæœï¼›</p>
</li>
<li>
<p>æ”¯æŒWebGLç»˜å›¾ã€è§†é¢‘è§£ç ç­‰å›¾å½¢å¯†é›†å‹æ“ä½œã€‚</p>
</li>
</ul>
<h4 data-id="heading-19">ä¸¾ä¸ªä¾‹å­</h4>
<p>å½“ä½ ç»™å…ƒç´ åŠ äº†è¿™æ ·çš„CSSï¼š</p>
<pre><code class="hljs language-css" lang="css">
<span class="hljs-selector-tag">div</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">0</span>);
}
</code></pre>
<p>è¿™å¥è¯ä¼šè§¦å‘GPUåŠ é€Ÿï¼Œè®©divçš„åŠ¨ç”»æ›´æµç•…ã€‚æœ¬è´¨å°±æ˜¯GPUè¿›ç¨‹å‚ä¸äº†è¿™ä¸ªå…ƒç´ çš„å›¾å±‚åˆæˆï¼Œå‡è½»äº†ä¸»çº¿ç¨‹çš„å‹åŠ›ã€‚</p>
<h4 data-id="heading-20">ä¸ºä»€ä¹ˆè¦ç‹¬ç«‹æˆè¿›ç¨‹ï¼Ÿ</h4>
<p>GPUæ“ä½œå±äºå›¾å½¢å¯†é›†å‹å·¥ä½œï¼Œå®¹æ˜“å‡ºç°å´©æºƒæˆ–å¡é¡¿ã€‚å•ç‹¬éš”ç¦»æˆè¿›ç¨‹åï¼Œå³ä½¿GPUè¿›ç¨‹å‡ºé—®é¢˜ï¼Œä¹Ÿåªä¼šå½±å“å›¾å½¢æ¸²æŸ“ï¼Œä¸ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å´©æºƒã€‚</p>
<h3 data-id="heading-21">5. å…¶ä»–è¾…åŠ©è¿›ç¨‹ï¼ˆäº†è§£å³å¯ï¼Œé¢è¯•å¾ˆå°‘é—®ï¼‰</h3>
<p>é™¤äº†ä¸Šé¢4ä¸ªæ ¸å¿ƒè¿›ç¨‹ï¼Œæµè§ˆå™¨è¿˜æœ‰ä¸€äº›è¾…åŠ©è¿›ç¨‹ï¼Œè´Ÿè´£ç‰¹å®šåœºæ™¯çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>
<p>æ’ä»¶è¿›ç¨‹ï¼šæ¯”å¦‚Chromeçš„PDFé¢„è§ˆæ’ä»¶ã€Flashæ’ä»¶ï¼ˆç°åœ¨åŸºæœ¬æ·˜æ±°ï¼‰ï¼Œå•ç‹¬éš”ç¦»é¿å…æ’ä»¶å´©æºƒå½±å“æµè§ˆå™¨ï¼›</p>
</li>
<li>
<p>æ‰©å±•è¿›ç¨‹ï¼šç®¡ç†Chromeæµè§ˆå™¨æ’ä»¶ï¼ˆæ¯”å¦‚å¹¿å‘Šæ‹¦æˆªæ’ä»¶ã€å¯†ç ç®¡ç†å™¨ï¼‰ï¼›</p>
</li>
<li>
<p>è¾…åŠ©å·¥å…·è¿›ç¨‹ï¼šå¤„ç†ä¸€äº›å°ä¼—åŠŸèƒ½ï¼Œæ¯”å¦‚æ¡Œé¢é€šçŸ¥ã€æ–‡ä»¶æ‰“å°ç­‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-22">ä¸‰ã€å®Œæ•´æµç¨‹ä¸²è®²ï¼ˆé¢è¯•æœ€çˆ±è€ƒï¼Œç›´æ¥èƒŒï¼‰</h2>
<p>æŠŠä¸Šé¢çš„è¿›ç¨‹ä¸²è”èµ·æ¥ï¼Œè¿˜åŸä»è¾“å…¥URLåˆ°é¡µé¢æ˜¾ç¤ºçš„å®Œæ•´è¿‡ç¨‹ï¼Œé¢è¯•æ—¶è¿™æ ·è®²ï¼Œé€»è¾‘æ¸…æ™°åˆåŠ åˆ†ï¼š</p>
<ol>
<li>
<p>ç”¨æˆ·åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLï¼›</p>
</li>
<li>
<p>æµè§ˆå™¨ä¸»è¿›ç¨‹æ¥æ”¶è¾“å…¥ï¼Œåˆ¤æ–­æ˜¯æœç´¢è¿˜æ˜¯URLï¼ŒåŒæ—¶åˆ›å»º/å¤ç”¨ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼›</p>
</li>
<li>
<p>ä¸»è¿›ç¨‹æŠŠURLäº¤ç»™ç½‘ç»œè¿›ç¨‹ï¼Œè®©ç½‘ç»œè¿›ç¨‹å‘èµ·è¯·æ±‚ï¼›</p>
</li>
<li>
<p>ç½‘ç»œè¿›ç¨‹è¿›è¡ŒDNSæŸ¥è¯¢ã€å»ºç«‹TCPè¿æ¥ï¼Œè·å–é¡µé¢èµ„æºï¼ˆHTMLã€CSSã€JSç­‰ï¼‰ï¼Œå¹¶æŠŠèµ„æºè¿”å›ç»™æ¸²æŸ“è¿›ç¨‹ï¼›</p>
</li>
<li>
<p>æ¸²æŸ“è¿›ç¨‹è§£æèµ„æºã€æ‰§è¡ŒJSã€è®¡ç®—å¸ƒå±€ã€ç»˜åˆ¶é¡µé¢ï¼ŒæœŸé—´GPUè¿›ç¨‹å‚ä¸å›¾å±‚åˆæˆï¼Œæå‡æ¸²æŸ“æµç•…åº¦ï¼›</p>
</li>
<li>
<p>æœ€ç»ˆé¡µé¢å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œæ¸²æŸ“è¿›ç¨‹æŒç»­å“åº”ç”¨æˆ·äº¤äº’ã€‚</p>
</li>
</ol>
<h2 data-id="heading-23">å››ã€å¤šè¿›ç¨‹vså•è¿›ç¨‹ï¼ˆå¯¹æ¯”é¢˜ï¼Œé¢è¯•å¿…èƒŒï¼‰</h2>


































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>å•è¿›ç¨‹æµè§ˆå™¨</th><th>å¤šè¿›ç¨‹æµè§ˆå™¨</th></tr></thead><tbody><tr><td>ç¨³å®šæ€§</td><td>å·®ï¼ˆä¸€å¤„å´©æºƒï¼Œæ•´ä¸ªæµè§ˆå™¨æŒ‚æ‰ï¼‰</td><td>é«˜ï¼ˆå±€éƒ¨è¿›ç¨‹å´©æºƒä¸å½±å“æ•´ä½“ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>å·®ï¼ˆæ— éš”ç¦»ï¼Œæ¶æ„ä»£ç æ˜“æ‰©æ•£ï¼‰</td><td>é«˜ï¼ˆè¿›ç¨‹éš”ç¦»+æ²™ç®±æœºåˆ¶ï¼‰</td></tr><tr><td>æ€§èƒ½</td><td>æ˜“é˜»å¡ï¼ˆæ‰€æœ‰å·¥ä½œæŒ¤åœ¨ä¸€ä¸ªçº¿ç¨‹ï¼‰</td><td>æ›´æµç•…ï¼ˆè¿›ç¨‹/çº¿ç¨‹å¹¶è¡Œåä½œï¼‰</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ä½ï¼ˆæ— éœ€å¤šè¿›ç¨‹èµ„æºå¼€é”€ï¼‰</td><td>è¾ƒé«˜ï¼ˆå¤šè¿›ç¨‹éœ€è¦é¢å¤–å†…å­˜ï¼‰</td></tr><tr><td>é¢è¯•è¡¥å……ä¸€å¥ç‚¹ç›ä¹‹ç¬”ï¼šå¤šè¿›ç¨‹æµè§ˆå™¨æœ¬è´¨æ˜¯â€œç”¨å†…å­˜æ¢ç¨³å®šæ€§å’Œå®‰å…¨æ€§â€ï¼Œè¿™æ˜¯ç°ä»£æµè§ˆå™¨çš„æ ¸å¿ƒè®¾è®¡æƒè¡¡ã€‚</td><td/></tr></tbody></table>
<h2 data-id="heading-24">äº”ã€é¢è¯•å¸¸è§è¿½é—®é€Ÿç­”ï¼ˆé¿å…è¸©å‘ï¼‰</h2>
<ul>
<li>
<p>Q1ï¼šJavaScriptåœ¨å“ªä¸ªè¿›ç¨‹æ‰§è¡Œï¼Ÿ
Aï¼šæ¸²æŸ“è¿›ç¨‹çš„ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li>
<p>Q2ï¼šä¸ºä»€ä¹ˆJSä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Ÿ
Aï¼šå› ä¸ºJSæ‰§è¡Œå’Œé¡µé¢æ¸²æŸ“å…±äº«æ¸²æŸ“è¿›ç¨‹çš„ä¸»çº¿ç¨‹ï¼ŒåŒä¸€æ—¶é—´åªèƒ½åšä¸€ä»¶äº‹ï¼ŒJSæ‰§è¡Œæ—¶ä¼šé˜»å¡æ¸²æŸ“å·¥ä½œã€‚</p>
</li>
<li>
<p>Q3ï¼šè·¨åŸŸé™åˆ¶æ˜¯æµè§ˆå™¨è¿˜æ˜¯æœåŠ¡å™¨åšçš„ï¼Ÿ
Aï¼šæµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œç”±æ¸²æŸ“è¿›ç¨‹å’Œç½‘ç»œè¿›ç¨‹å…±åŒé…åˆå®ç°ï¼ˆç½‘ç»œè¿›ç¨‹æ‹¦æˆªè·¨åŸŸè¯·æ±‚ï¼Œæ¸²æŸ“è¿›ç¨‹é™åˆ¶DOMè®¿é—®ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-25">å…­ã€è¿‡å…³æ ‡å‡†ï¼ˆè‡ªæŸ¥æ˜¯å¦æŒæ¡ï¼‰</h2>
<p>å¦‚æœèƒ½åšåˆ°ä»¥ä¸‹4ç‚¹ï¼Œè¯´æ˜æµè§ˆå™¨æ¶æ„è¿™å—å·²ç»æŒæ¡ï¼Œé¢è¯•åŸºæœ¬ä¸ä¼šè¢«æ·±æŒ–ï¼š</p>
<ol>
<li>
<p>èƒ½ç”»å‡ºæµè§ˆå™¨5ä¸ªæ ¸å¿ƒè¿›ç¨‹ï¼ˆä¸»è¿›ç¨‹ã€æ¸²æŸ“è¿›ç¨‹ã€ç½‘ç»œè¿›ç¨‹ã€GPUè¿›ç¨‹ã€è¾…åŠ©è¿›ç¨‹ï¼‰ï¼›</p>
</li>
<li>
<p>èƒ½å®Œæ•´ä¸²è®²â€œè¾“å…¥URLâ†’é¡µé¢æ˜¾ç¤ºâ€çš„å…¨æµç¨‹ï¼Œæ˜ç¡®æ¯ä¸ªè¿›ç¨‹çš„åˆ†å·¥ï¼›</p>
</li>
<li>
<p>èƒ½è§£é‡Šæ¸…æ¥šâ€œä¸ºä»€ä¹ˆè¦ç”¨å¤šè¿›ç¨‹â€ï¼Œä»¥åŠå¤šè¿›ç¨‹å¸¦æ¥çš„ä¼˜åŠ¿ä¸æƒè¡¡ï¼›</p>
</li>
<li>
<p>èƒ½å‡†ç¡®å›ç­”â€œæ ‡ç­¾é¡µä¸æ¸²æŸ“è¿›ç¨‹çš„å…³ç³»â€ï¼Œä»¥åŠç›¸å…³é¢è¯•è¿½é—®ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS-ç©è½¬èƒŒæ™¯æ§åˆ¶ä¸æ–‡å­—æ’ç‰ˆè‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7599330434425880627</link>    <guid>https://juejin.cn/post/7599330434425880627</guid>    <pubDate>2026-01-26T08:11:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599330434425880627" data-draft-id="7599485473706246182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS-ç©è½¬èƒŒæ™¯æ§åˆ¶ä¸æ–‡å­—æ’ç‰ˆè‰ºæœ¯"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,CSS"/> <meta itemprop="datePublished" content="2026-01-26T08:11:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS-ç©è½¬èƒŒæ™¯æ§åˆ¶ä¸æ–‡å­—æ’ç‰ˆè‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:11:28.000Z" title="Mon Jan 26 2026 08:11:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œç»†èŠ‚å†³å®šè´¨æ„Ÿã€‚å¦‚ä½•è®©èƒŒæ™¯å›¾åªåœ¨å†…å®¹åŒºåŸŸæ˜¾ç¤ºï¼Ÿå¦‚ä½•ä¼˜é›…åœ°å¤„ç†æ–‡å­—æº¢å‡ºï¼Ÿæœ¬æ–‡å°†å¸¦ä½ æ·±å…¥æ¢ç´¢ CSS ä¸­å…³äº <code>background</code> ä¸ <code>Text</code> çš„è¿›é˜¶å±æ€§ï¼Œè®©ä½ çš„é¡µé¢æ›´åŠ ç²¾è‡´ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ èƒŒæ™¯å±æ€§çš„é«˜çº§æ§åˆ¶</h2>
<h3 data-id="heading-2">1. background-clipï¼ˆèƒŒæ™¯è£å‰ªï¼‰</h3>
<p>å†³å®šèƒŒæ™¯<strong>å»¶ä¼¸åˆ°ä»€ä¹ˆä½ç½®</strong>ã€‚</p>
<ul>
<li><strong><code>border-box</code></strong> (é»˜è®¤)ï¼šèƒŒæ™¯å»¶ä¼¸è‡³è¾¹æ¡†å¤–æ²¿ï¼ˆä½†åœ¨è¾¹æ¡†ä¸‹å±‚ï¼‰ã€‚</li>
<li><strong><code>padding-box</code></strong>ï¼šèƒŒæ™¯å»¶ä¼¸è‡³å†…è¾¹è·å¤–æ²¿ï¼Œä¸ä¼šæ˜¾ç¤ºåœ¨è¾¹æ¡†ä¸‹ã€‚</li>
<li><strong><code>content-box</code></strong>ï¼šèƒŒæ™¯åªåœ¨å†…å®¹åŒºåŸŸæ˜¾ç¤ºã€‚</li>
<li><strong><code>text</code></strong> (ç‰¹æ®Š)ï¼šå°†èƒŒæ™¯è£å‰ªä¸ºæ–‡å­—çš„å‰æ™¯è‰²ï¼ˆå¸¸ç”¨äºåˆ¶ä½œæ¸å˜æ–‡å­—ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">2. background-originï¼ˆèƒŒæ™¯åŸç‚¹ï¼‰</h3>
<p>å†³å®šèƒŒæ™¯å›¾ç‰‡çš„<strong>ç»˜åˆ¶èµ·ç‚¹</strong>ï¼ˆå³ <code>background-position: 0 0</code> çš„ä½ç½®ï¼‰ã€‚</p>
<ul>
<li><strong><code>padding-box</code></strong> (é»˜è®¤)ï¼šå›¾ç‰‡å·¦ä¸Šè§’å¯¹é½ padding è¾¹ç¼˜ã€‚</li>
<li><strong><code>border-box</code></strong>ï¼šå›¾ç‰‡å·¦ä¸Šè§’å¯¹é½ border è¾¹ç¼˜ã€‚</li>
<li><strong><code>content-box</code></strong>ï¼šå›¾ç‰‡å·¦ä¸Šè§’å¯¹é½å†…å®¹åŒºåŸŸè¾¹ç¼˜ã€‚</li>
</ul>
<h3 data-id="heading-4">3. background-sizeï¼ˆèƒŒæ™¯å°ºå¯¸ï¼‰</h3>
<ul>
<li><strong><code>contain</code></strong>ï¼šä¿æŒæ¯”ä¾‹ç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡<strong>å®Œæ•´æ˜¾ç¤º</strong>åœ¨å®¹å™¨å†…ï¼ˆå¯èƒ½ä¼šæœ‰ç•™ç™½ï¼‰ã€‚</li>
<li><strong><code>cover</code></strong>ï¼šä¿æŒæ¯”ä¾‹ç¼©æ”¾ï¼Œç¡®ä¿å›¾ç‰‡<strong>å®Œå…¨è¦†ç›–</strong>å®¹å™¨ï¼ˆå¯èƒ½ä¼šè¢«è£å‰ªï¼‰ã€‚</li>
<li><strong>å…·ä½“æ•°å€¼</strong>ï¼šå¦‚ <code>100px 50%</code>ï¼Œæ‰‹åŠ¨æŒ‡å®šå®½é«˜ã€‚</li>
</ul>
<h3 data-id="heading-5">4. box-decoration-breakï¼ˆå…ƒç´ æ–­è£‚å¤„çš„ä¿®é¥°ï¼‰</h3>
<p>å½“å…ƒç´ è¢«åˆ†ä¸ºå‡ ä¸ªç‹¬ç«‹çš„ç›’å­ï¼ˆå¦‚ä½¿å†…è”å…ƒç´ spanè·¨è¶Šå¤šè¡Œï¼‰ï¼Œbackground-breakå±æ€§ç”¨æ¥æ§åˆ¶èƒŒæ™¯æ€æ ·åœ¨è¿™äº›ä¸åŒçš„ç›’å­ä¸­æ˜¾ç¤ºï¼Œå–å€¼å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong><code>slice</code></strong> (é»˜è®¤)ï¼šèƒŒæ™¯åƒæ˜¯åœ¨ä¸€ä¸ªæ•´ä½“ä¸Šç»˜åˆ¶åè¢«åˆ‡å¼€ï¼Œæ–­è£‚å¤„æ²¡æœ‰è¾¹æ¡†/å†…è¾¹è·ã€‚</li>
<li><strong><code>clone</code></strong>ï¼šæ¯ä¸ªæ–­è£‚çš„ç›’å­éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„èƒŒæ™¯ã€è¾¹æ¡†å’Œå†…è¾¹è·ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">äºŒã€ æ–‡å­—æ’ç‰ˆä¸æ¢è¡Œæ§åˆ¶</h2>
<h3 data-id="heading-7">1. æ¢è¡Œä¸æº¢å‡º</h3>
<ul>
<li>
<p><strong><code>word-wrap</code> / <code>overflow-wrap</code></strong>ï¼š</p>
<ul>
<li><code>normal</code>ï¼šæµè§ˆå™¨é»˜è®¤ã€‚</li>
<li><code>break-word</code>ï¼šå¦‚æœå•è¯å¤ªé•¿æ— æ³•åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå…è®¸åœ¨å•è¯å†…æ¢è¡Œï¼ˆæ›´å¸¸ç”¨ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>word-break: break-all</code></strong>ï¼šå¼ºåˆ¶åœ¨å•è¯å†…ä»»ä½•å­—ç¬¦é—´æ–­è¡Œï¼Œé€‚åˆå¤„ç†è¶…é•¿è¿ç»­å­—ç¬¦ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">2. text-overflowï¼ˆæ–‡æœ¬æº¢å‡ºå¤„ç†ï¼‰</h3>
<p>å¸¸ç”¨äºå¤„ç†å•è¡Œæ–‡æœ¬è¶…å‡ºå®¹å™¨ï¼š</p>
<ul>
<li><strong><code>clip</code></strong>ï¼šç®€å•è£å‰ªï¼Œä¸æ˜¾ç¤ºçœç•¥å·ã€‚</li>
<li><strong><code>ellipsis</code></strong>ï¼šæ˜¾ç¤ºçœç•¥å· <code>...</code>ï¼ˆéœ€é…åˆ <code>overflow: hidden</code> å’Œ <code>white-space: nowrap</code> ä½¿ç”¨ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ text-decorationï¼šæ–‡å­—è£…é¥°çš„ç®€å†™è‰ºæœ¯</h2>
<p>ç°ä»£ CSS æ”¯æŒæ›´ç²¾ç»†çš„æ–‡å­—è£…é¥°æ§åˆ¶ï¼š <code>text-decoration: &lt;line&gt; &lt;color&gt; &lt;style&gt; </code></p>
<h3 data-id="heading-10">1. çº¿å‹ (Line)</h3>
<ul>
<li><strong><code>none</code></strong>ï¼šå»é™¤è£…é¥°ï¼ˆæœ€å¸¸ç”¨äº <code>&lt;a&gt;</code> æ ‡ç­¾ï¼‰ã€‚</li>
<li><strong><code>underline</code></strong>ï¼šä¸‹åˆ’çº¿ã€‚</li>
<li><strong><code>overline</code></strong>ï¼šä¸Šåˆ’çº¿ã€‚</li>
<li><strong><code>line-through</code></strong>ï¼šåˆ é™¤çº¿ã€‚</li>
</ul>
<h3 data-id="heading-11">2. æ ·å¼ (Style)</h3>
<ul>
<li><strong><code>solid</code></strong>ï¼šå®çº¿ï¼ˆé»˜è®¤ï¼‰ã€‚</li>
<li><strong><code>double</code></strong>ï¼šåŒçº¿ã€‚</li>
<li><strong><code>dotted</code></strong>ï¼šç‚¹çº¿ã€‚</li>
<li><strong><code>dashed</code></strong>ï¼šè™šçº¿ã€‚</li>
<li><strong><code>wavy</code></strong>ï¼š<strong>æ³¢æµªçº¿</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">å››ã€ å®æˆ˜ tipsï¼šæ¸å˜æ–‡å­—æ•ˆæœ</h2>
<p>åˆ©ç”¨ <code>background-clip: text</code>ï¼Œä½ å¯ä»¥è½»æ¾å®ç°ç»šä¸½çš„æ¸å˜æ–‡å­—ï¼š</p>
<pre><code class="hljs language-CSS" lang="CSS"><span class="hljs-selector-class">.gradient-text</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to right, red, blue);
  -webkit-<span class="hljs-attribute">background-clip</span>: text; <span class="hljs-comment">/* å¿…é¡»åŠ å‰ç¼€ */</span>
  <span class="hljs-attribute">color</span>: transparent;           <span class="hljs-comment">/* æ–‡å­—è®¾ä¸ºé€æ˜ï¼Œéœ²å‡ºèƒŒæ™¯ */</span>
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40px</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3 æºä»£ç reactive åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599294170000212019</link>    <guid>https://juejin.cn/post/7599294170000212019</guid>    <pubDate>2026-01-26T08:12:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599294170000212019" data-draft-id="7599294170000130099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3 æºä»£ç reactive åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-26T08:12:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸­å›½ç±å¤§å¸…å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/484240810064008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3 æºä»£ç reactive åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/484240810064008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸­å›½ç±å¤§å¸…å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:12:23.000Z" title="Mon Jan 26 2026 08:12:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-js" lang="js">packages\reactivity\src\reactive.<span class="hljs-property">ts</span>
</code></pre>
<h3 data-id="heading-0">åœ¨ reactive.ts é‡Œæœç´¢ export function reactiveï¼ˆå¤§æ¦‚åœ¨ 80 è¡Œå·¦å³ï¼‰ã€‚</h3>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createReactiveObject</span>(<span class="hljs-params">
  target: Target,
  isReadonly: boolean,
  baseHandlers: ProxyHandler&lt;any&gt;,
  collectionHandlers: ProxyHandler&lt;any&gt;,
  proxyMap: <span class="hljs-built_in">WeakMap</span>&lt;Target, any&gt;,
</span>) {
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
    <span class="hljs-keyword">if</span> (__DEV__) {
      <span class="hljs-title function_">warn</span>(
        <span class="hljs-string">`value cannot be made <span class="hljs-subst">${isReadonly ? <span class="hljs-string">'readonly'</span> : <span class="hljs-string">'reactive'</span>}</span>: <span class="hljs-subst">${<span class="hljs-built_in">String</span>(
          target,
        )}</span>`</span>,
      )
    }
    <span class="hljs-keyword">return</span> target
  }
  <span class="hljs-comment">// target is already a Proxy, return it.</span>
  <span class="hljs-comment">// exception: calling readonly() on a reactive object</span>
  <span class="hljs-keyword">if</span> (
    target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">RAW</span>] &amp;&amp;
    !(isReadonly &amp;&amp; target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>])
  ) {
    <span class="hljs-keyword">return</span> target
  }
  <span class="hljs-comment">// only specific value types can be observed.</span>
  <span class="hljs-keyword">const</span> targetType = <span class="hljs-title function_">getTargetType</span>(target)
  <span class="hljs-keyword">if</span> (targetType === <span class="hljs-title class_">TargetType</span>.<span class="hljs-property">INVALID</span>) {
    <span class="hljs-keyword">return</span> target
  }
  <span class="hljs-comment">// target already has corresponding Proxy</span>
  <span class="hljs-keyword">const</span> existingProxy = proxyMap.<span class="hljs-title function_">get</span>(target)
  <span class="hljs-keyword">if</span> (existingProxy) {
    <span class="hljs-keyword">return</span> existingProxy
  }
  <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(
    target,
    targetType === <span class="hljs-title class_">TargetType</span>.<span class="hljs-property">COLLECTION</span> ? collectionHandlers : baseHandlers,
  )
  proxyMap.<span class="hljs-title function_">set</span>(target, proxy)
  <span class="hljs-keyword">return</span> proxy
}

</code></pre>
<h3 data-id="heading-1">æˆ‘æŠŠå®ƒæ‹†è§£ä¸º 5 ä¸ªå…³é”®æ­¥éª¤ã€‚</h3>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šèº«ä»½æ£€æŸ¥ï¼ˆåªåŠ å·¥å¯¹è±¡ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isObject</span>(target)) {
  <span class="hljs-keyword">if</span> (__DEV__) {
    <span class="hljs-title function_">warn</span>(<span class="hljs-string">`value cannot be made ...`</span>)
  }
  <span class="hljs-keyword">return</span> target
}
</code></pre>
<p>å¤§ç™½è¯ï¼šProxy åªèƒ½ä»£ç†â€œå¯¹è±¡â€ï¼ˆObjectã€Arrayã€Mapã€Set ç­‰ï¼‰ã€‚å¦‚æœä½ ä¼ ä¸ªæ•°å­— 123 æˆ–å­—ç¬¦ä¸² "hello" è¿›æ¥ï¼ŒVue ç›´æ¥æ— è§†ä½ ï¼ŒæŠŠåŸå€¼è¿”å›ï¼Œå¹¶åœ¨å¼€å‘ç¯å¢ƒä¸‹å¼¹ä¸ªè­¦å‘Šã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼šå¦‚æœä½ æƒ³è®©ä¸€ä¸ªåŸºæœ¬ç±»å‹å˜æˆå“åº”å¼ï¼Œå¾—ç”¨ ref è€Œä¸æ˜¯ reactiveã€‚</p>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé˜²æ­¢é‡å¤åŠ å·¥ï¼ˆå·²ç»æ˜¯ Proxy äº†å—ï¼Ÿï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (
  target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">RAW</span>] &amp;&amp;
  !(isReadonly &amp;&amp; target[<span class="hljs-title class_">ReactiveFlags</span>.<span class="hljs-property">IS_REACTIVE</span>])
) {
  <span class="hljs-keyword">return</span> target
}
</code></pre>
<p>å¤§ç™½è¯ï¼šå¦‚æœä½ æ‹¿ä¸€ä¸ªå·²ç»æ˜¯ Proxy çš„ä¸œè¥¿å†ä¸¢ç»™ reactive()ï¼Œå®ƒä¼šç›´æ¥è¿˜ç»™ä½ ã€‚</p>
<p>ç»†èŠ‚ï¼štarget[ReactiveFlags.RAW] æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ã€‚å¦‚æœ target æ˜¯ Proxyï¼Œå®ƒèƒ½è¯†åˆ«è¿™ä¸ªæ ‡è®°å¹¶è¿”å›åŸå¯¹è±¡ã€‚</p>
<p>ä¾‹å¤–ï¼šæœ‰ä¸€ç§æƒ…å†µå…è®¸é‡å¤åŠ å·¥â€”â€”æŠŠä¸€ä¸ªå“åº”å¼å¯¹è±¡å˜æˆâ€œåªè¯»â€å¯¹è±¡ï¼ˆå³ readonly(reactive(obj)) æ˜¯å…è®¸çš„ï¼‰ã€‚</p>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šé»‘åå•æ£€æŸ¥ï¼ˆå®ƒèƒ½è¢«åŠ å·¥å—ï¼Ÿï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> targetType = <span class="hljs-title function_">getTargetType</span>(target)
<span class="hljs-keyword">if</span> (targetType === <span class="hljs-title class_">TargetType</span>.<span class="hljs-property">INVALID</span>) {
  <span class="hljs-keyword">return</span> target
}
</code></pre>
<p><strong>å¤§ç™½è¯</strong>ï¼šæœ‰äº›å¯¹è±¡æ˜¯ Vue ä¸æƒ³è§¦ç¢°çš„ã€‚</p>
<p><strong>è°åœ¨é»‘åå•é‡Œï¼Ÿ</strong></p>
<p>è¢« Object.freeze() å†»ç»“çš„å¯¹è±¡ã€‚</p>
<p>ç‰¹æ®Šçš„å†…ç½®å¯¹è±¡ï¼ˆå¦‚ RegExp, Date, Promiseï¼‰ã€‚</p>
<p>å¸¦æœ‰ __v_skip: true æ ‡è®°çš„å¯¹è±¡ï¼ˆä½ å¯ä»¥æ‰‹åŠ¨è®©æŸä¸ªå¤§å¯¹è±¡è·³è¿‡å“åº”å¼ï¼‰ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼šå¦‚æœæ˜¯åœ¨é»‘åå•é‡Œçš„å¯¹è±¡ï¼ŒåŸæ ·è¿”å›ã€‚</p>
<h3 data-id="heading-5">ç¬¬å››æ­¥ï¼šæŸ¥ç¼“å­˜ï¼ˆåˆ«é‡å¤é€ è½®å­ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> existingProxy = proxyMap.<span class="hljs-title function_">get</span>(target)
<span class="hljs-keyword">if</span> (existingProxy) {
  <span class="hljs-keyword">return</span> existingProxy
}
</code></pre>
<p><strong>å¤§ç™½è¯</strong>ï¼šVue å†…éƒ¨ç»´æŠ¤äº†ä¸€å¼ è¡¨ï¼ˆproxyMapï¼Œæ˜¯ä¸€ä¸ª WeakMapï¼‰ã€‚</p>
<p><strong>åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'vue'</span> }
<span class="hljs-keyword">const</span> p1 = <span class="hljs-title function_">reactive</span>(obj)
<span class="hljs-keyword">const</span> p2 = <span class="hljs-title function_">reactive</span>(obj) <span class="hljs-comment">// å†æ¬¡è°ƒç”¨</span>

</code></pre>
<p>å½“ç¬¬äºŒæ¬¡è°ƒç”¨ reactive(obj) æ—¶ï¼ŒVue å‘ç° obj å·²ç»åœ¨è¡¨é‡Œäº†ï¼Œç›´æ¥æŠŠä¸Šæ¬¡é€ å¥½çš„ p1 è¿”å›ç»™ä½ ã€‚è¿™æ ·èƒ½ä¿è¯ p1 === p2ï¼ŒèŠ‚çœæ€§èƒ½ã€‚</p>
<h3 data-id="heading-6">ç¬¬äº”æ­¥ï¼šæ­£å¼åˆä½“ï¼ˆæœ€å…³é”®çš„ä¸€æ­¥ï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(
  target,
  targetType === <span class="hljs-title class_">TargetType</span>.<span class="hljs-property">COLLECTION</span> ? collectionHandlers : baseHandlers,
)
proxyMap.<span class="hljs-title function_">set</span>(target, proxy)
<span class="hljs-keyword">return</span> proxy
</code></pre>
<p><strong>å¤§ç™½è¯</strong>ï¼šè¿™æ˜¯çœŸæ­£å¹²æ´»çš„åœ°æ–¹ã€‚</p>
<p><strong>new Proxy</strong>(target, handlers)ï¼š</p>
<p>target: åŸå§‹å¯¹è±¡ã€‚</p>
<p>handlers: è¿™æ˜¯å“åº”å¼çš„çµé­‚ã€‚å®ƒå®šä¹‰äº†å½“ä½ â€œè¯»å–â€æˆ–â€œä¿®æ”¹â€å¯¹è±¡æ—¶ï¼Œè¦åšä»€ä¹ˆæ“ä½œï¼ˆæ¯”å¦‚è¿½è¸ªä¾èµ–ã€è§¦å‘æ›´æ–°ï¼‰ã€‚</p>
<p><strong>åˆ†æ”¯é€»è¾‘ï¼š</strong></p>
<p>å¦‚æœæ˜¯ Map, Set, WeakMap, WeakSetï¼Œä½¿ç”¨ collectionHandlersã€‚</p>
<p>å¦‚æœæ˜¯ æ™®é€šå¯¹è±¡æˆ–æ•°ç»„ï¼Œä½¿ç”¨ baseHandlersï¼ˆä¹Ÿå°±æ˜¯ä½ åœ¨å…¥å£çœ‹åˆ°çš„ mutableHandlersï¼‰ã€‚</p>
<p><strong>æœ€å</strong>ï¼šæŠŠæ–°ç”Ÿæˆçš„ proxy å­˜å…¥ç¼“å­˜è¡¨ï¼Œå¹¶è¿”å›å®ƒã€‚</p>
<p><strong>æ€»ç»“</strong>ï¼šreactive åˆ°åº•å¹²äº†å•¥ï¼Ÿ
ä½ åªéœ€è¦è®°ä½è¿™ä¸ªæµç¨‹å›¾ï¼š</p>
<p><strong>ä¼ ä¸ªä¸œè¥¿è¿›æ¥</strong> -&gt; æ˜¯å¯¹è±¡å—ï¼Ÿï¼ˆä¸æ˜¯å°±æ»šç²—ï¼‰</p>
<p><strong>çœ‹ä¸€çœ¼</strong> -&gt; å·²ç»æ˜¯ Proxy äº†å—ï¼Ÿï¼ˆæ˜¯å°±ç›´æ¥è¿˜ä½ ï¼‰</p>
<p><strong>å†çœ‹ä¸€çœ¼</strong> -&gt; åœ¨é»‘åå•é‡Œå—ï¼Ÿï¼ˆæ˜¯å°±åŸæ ·è¿”å›ï¼‰</p>
<p><strong>æŸ¥æŸ¥è¡¨</strong> -&gt; ä»¥å‰åŠ å·¥è¿‡å—ï¼Ÿï¼ˆåŠ å·¥è¿‡å°±æŠŠæ—§çš„ç»™ä½ ï¼‰</p>
<p><strong>åŠ¨æ‰‹</strong> -&gt; æŠ«ä¸Šä¸€å±‚ Proxy çš„å¤–å¥—ï¼ˆæ³¨å…¥ handlersï¼‰ï¼Œå­˜è¿›è¡¨é‡Œï¼Œæ”¶å·¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Setå’ŒMapæ•°æ®ç»“æ„]]></title>    <link>https://juejin.cn/post/7599299048302592043</link>    <guid>https://juejin.cn/post/7599299048302592043</guid>    <pubDate>2026-01-26T08:12:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599299048302592043" data-draft-id="7599053532167929897" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Setå’ŒMapæ•°æ®ç»“æ„"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T08:12:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Soler"/> <meta itemprop="url" content="https://juejin.cn/user/1292681406318366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Setå’ŒMapæ•°æ®ç»“æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1292681406318366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Soler
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:12:51.000Z" title="Mon Jan 26 2026 08:12:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Set æ•°æ®ç»“æ„</h3>
<p><strong>å®šä¹‰</strong>ï¼š<code>Set</code>Â æ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„æ•°æ®ç»“æ„ï¼Œä½†å…¶<strong>æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„</strong>ï¼ˆè‡ªåŠ¨å»é‡ï¼‰ã€‚</p>
<p><strong>åˆ›å»ºä¸ä¼ å‚</strong>ï¼šä½œä¸ºæ„é€ å‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶ä»»ä½•<strong>å…·æœ‰ iterable æ¥å£</strong>çš„æ•°æ®ç»“æ„ï¼ˆå¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ï¼‰ä½œä¸ºå‚æ•°æ¥åˆå§‹åŒ–ã€‚</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// æ¥è‡ªæ•°ç»„</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(<span class="hljs-string">'abc'</span>); <span class="hljs-comment">// æ¥è‡ªå­—ç¬¦ä¸²</span>
</code></pre>
<h4 data-id="heading-1">å®ä¾‹å±æ€§å’Œæ–¹æ³•</h4>



































<table><thead><tr><th>å±æ€§/æ–¹æ³•</th><th>è¯´æ˜ä¸ç¤ºä¾‹</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>set.size</code></td><td>è¿”å›Setå®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</td><td><code>Number</code></td></tr><tr><td><code>set.add(value)</code></td><td>æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setæœ¬èº«ï¼ˆ<strong>æ”¯æŒé“¾å¼è°ƒç”¨</strong>ï¼‰ã€‚</td><td><code>Set</code>Â å¯¹è±¡</td></tr><tr><td><code>set.has(value)</code></td><td>åˆ¤æ–­è¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚</td><td><code>Boolean</code></td></tr><tr><td><code>set.delete(value)</code></td><td>åˆ é™¤æŸä¸ªå€¼ã€‚</td><td><code>Boolean</code>ï¼ˆè¡¨ç¤ºæ˜¯å¦åˆ é™¤æˆåŠŸï¼‰</td></tr><tr><td><code>set.clear()</code></td><td>æ¸…é™¤æ‰€æœ‰æˆå‘˜ã€‚</td><td><code>undefined</code></td></tr></tbody></table>
<h4 data-id="heading-2">Set ä¸æ•°ç»„çš„ç›¸äº’è½¬æ¢</h4>
<ol>
<li>
<p><strong>Set =&gt; æ•°ç»„</strong>ï¼ˆæœ€å¸¸ç”¨çš„å»é‡æ–¹æ³•ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹æ³•1ï¼šæ‰©å±•è¿ç®—ç¬¦</span>
<span class="hljs-keyword">let</span> arr1 = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>])]; <span class="hljs-comment">// [1, 2, 4]</span>
<span class="hljs-comment">// æ–¹æ³•2ï¼šArray.from</span>
<span class="hljs-keyword">let</span> arr2 = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]));
</code></pre>
</li>
<li>
<p><strong>æ•°ç»„ =&gt; Set</strong>ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// è‡ªåŠ¨å»é‡</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-3">éå†æ–¹æ³•</h4>
<p><code>Set</code>Â ç»“æ„çš„é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼Œå› æ­¤Â <code>keys()</code>Â å’ŒÂ <code>values()</code>Â çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚</p>
<ul>
<li><code>Set.prototype.keys()</code>ï¼šè¿”å›<strong>é”®å</strong>çš„éå†å™¨ã€‚</li>
<li><code>Set.prototype.values()</code>ï¼šè¿”å›<strong>é”®å€¼</strong>çš„éå†å™¨ã€‚</li>
<li><code>Set.prototype.entries()</code>ï¼šè¿”å›<strong>é”®å€¼å¯¹</strong>çš„éå†å™¨ï¼ˆæ¯é¡¹ä¸ºÂ <code>[value, value]</code>ï¼‰ã€‚</li>
<li><code>Set.prototype.forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ã€‚å›è°ƒå‡½æ•°å‚æ•°ä¸ºÂ <code>(value, sameValue, set)</code>ã€‚</li>
</ul>
<h4 data-id="heading-4">WeakSet</h4>
<p><strong>å®šä¹‰ä¸ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æˆå‘˜<strong>åªèƒ½æ˜¯å¯¹è±¡</strong>ï¼ˆæˆ–åæ–‡æåˆ°çš„Symbolå€¼ï¼Œä½†ä¸»æµç¯å¢ƒé€šå¸¸ä»…æ”¯æŒå¯¹è±¡ï¼‰ï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹çš„å€¼ã€‚</li>
<li>å¯¹æˆå‘˜å¯¹è±¡æ˜¯<strong>å¼±å¼•ç”¨</strong>ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–å˜é‡å¼•ç”¨è¯¥å¯¹è±¡ï¼Œå³ä½¿å®ƒå­˜åœ¨äºÂ <code>WeakSet</code>Â ä¸­ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¹Ÿä¼šè‡ªåŠ¨å›æ”¶å…¶å ç”¨çš„å†…å­˜ã€‚</li>
<li>ç”±äºæˆå‘˜å¯èƒ½éšæ—¶è¢«å›æ”¶ï¼Œ<code>WeakSet</code>Â <strong>æ²¡æœ‰Â <code>size</code>Â å±æ€§ï¼Œä¹Ÿæ— æ³•è¢«éå†</strong>ã€‚</li>
</ul>
<p><strong>åˆ›å»ºä¸ä¼ å‚</strong>ï¼š<br/>
æ„é€ å‡½æ•°æ¥å—çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ª<strong>å¯è¿­ä»£å¯¹è±¡ï¼Œä¸”å…¶æ¯ä¸ªæˆå‘˜éƒ½æ˜¯å¯¹è±¡</strong>ã€‚é€šå¸¸ä½¿ç”¨äºŒç»´æ•°ç»„ï¼Œå› ä¸º<strong>å†…å±‚æ•°ç»„çš„æˆå‘˜æ‰æ˜¯Â <code>WeakSet</code>Â çš„å€¼</strong>ã€‚</p>
<p>javascript</p>
<pre><code class="hljs language-ini" lang="ini">// æ­£ç¡®ï¼šäºŒç»´æ•°ç»„ï¼Œæˆå‘˜<span class="hljs-section">[1,2]</span>å’Œ<span class="hljs-section">[3,4]</span>æ˜¯å¯¹è±¡ï¼ˆæ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼‰
new WeakSet(<span class="hljs-section">[[1, 2]</span>, <span class="hljs-section">[3, 4]]</span>)<span class="hljs-comment">;</span>
// é”™è¯¯ï¼šä¸€ç»´æ•°ç»„æˆå‘˜ä¸æ˜¯å¯¹è±¡
// new WeakSet(<span class="hljs-section">[1, 2, 3]</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>å¼±å¼•ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">obj</span> = {name: <span class="hljs-string">'qin'</span>}<span class="hljs-comment">;</span>
const <span class="hljs-attr">ws</span> = new WeakSet([obj])<span class="hljs-comment">;</span>
<span class="hljs-attr">obj</span> = null<span class="hljs-comment">; // æ­¤åï¼Œ{name: 'qin'} å¯¹è±¡å¯èƒ½è¢«åƒåœ¾å›æ”¶ï¼Œæ— æ³•ä» ws ä¸­å–å›ã€‚</span>
</code></pre>
<p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>WeakSet.prototype.add(object)</code>ï¼šæ·»åŠ å¯¹è±¡æˆå‘˜ã€‚</li>
<li><code>WeakSet.prototype.has(object)</code>ï¼šåˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚</li>
<li><code>WeakSet.prototype.delete(object)</code>ï¼šåˆ é™¤å¯¹è±¡æˆå‘˜ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">Map æ•°æ®ç»“æ„</h3>
<p><strong>å®šä¹‰</strong>ï¼š<code>Map</code>Â æ˜¯ä¸€ç§å®Œå–„çš„â€œé”®å€¼å¯¹â€é›†åˆæ•°æ®ç»“æ„ã€‚ä¸ä¼ ç»Ÿå¯¹è±¡ï¼ˆObjectï¼‰åªèƒ½ç”¨å­—ç¬¦ä¸²æˆ– Symbol ä½œä¸ºé”®ä¸åŒï¼Œ<strong><code>Map</code>Â çš„â€œé”®â€å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼</strong>ï¼ˆåŒ…æ‹¬å¯¹è±¡ã€å‡½æ•°ï¼‰ã€‚</p>
<p><strong>åˆ›å»ºä¸ä¼ å‚</strong>ï¼š<br/>
æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ª<strong>å¯è¿­ä»£å¯¹è±¡</strong>ä½œä¸ºå‚æ•°ï¼Œè¯¥å¯¹è±¡çš„æ¯ä¸ªæˆå‘˜å¿…é¡»æ˜¯ä¸€ä¸ªè¡¨ç¤ºé”®å€¼å¯¹çš„<strong>äºŒå…ƒæ•°ç»„</strong>ã€‚</p>
<p>javascript</p>
<pre><code class="hljs language-css" lang="css">// æ­£ç¡®ï¼šä¼ å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ¯ä¸ªå­æ•°ç»„æ˜¯<span class="hljs-selector-attr">[key, value]</span>
new Map(<span class="hljs-selector-attr">[[<span class="hljs-string">'name'</span>, <span class="hljs-string">'qin'</span>]</span>, <span class="hljs-selector-attr">[{id: 1}, <span class="hljs-string">'objectKey'</span>]</span>]);
</code></pre>
<h4 data-id="heading-6">å®ä¾‹å±æ€§å’Œæ–¹æ³•</h4>








































<table><thead><tr><th>å±æ€§/æ–¹æ³•</th><th>è¯´æ˜ä¸ç¤ºä¾‹</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>map.size</code></td><td>è¿”å› Map å®ä¾‹çš„æˆå‘˜æ€»æ•°ã€‚</td><td><code>Number</code></td></tr><tr><td><code>map.set(key, value)</code></td><td>è®¾ç½®é”®å€¼å¯¹ã€‚è¿”å›Mapæœ¬èº«ï¼Œ<strong>æ”¯æŒé“¾å¼è°ƒç”¨</strong>ã€‚</td><td><code>Map</code>Â å¯¹è±¡</td></tr><tr><td><code>map.get(key)</code></td><td>è¯»å–æŒ‡å®šé”®å¯¹åº”çš„å€¼ã€‚</td><td><code>value</code>Â æˆ–Â <code>undefined</code></td></tr><tr><td><code>map.has(key)</code></td><td>åˆ¤æ–­æ˜¯å¦æœ‰æŒ‡å®šçš„é”®ã€‚</td><td><code>Boolean</code></td></tr><tr><td><code>map.delete(key)</code></td><td>åˆ é™¤æŸä¸ªé”®ã€‚</td><td><code>Boolean</code></td></tr><tr><td><code>map.clear()</code></td><td>æ¸…é™¤æ‰€æœ‰æˆå‘˜ã€‚</td><td><code>undefined</code></td></tr></tbody></table>
<h4 data-id="heading-7">éå†æ–¹æ³•</h4>
<ul>
<li><code>Map.prototype.keys()</code>ï¼šè¿”å›<strong>é”®å</strong>çš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.values()</code>ï¼šè¿”å›<strong>é”®å€¼</strong>çš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.entries()</code>ï¼šè¿”å›<strong>æ‰€æœ‰æˆå‘˜ï¼ˆé”®å€¼å¯¹ï¼‰</strong> Â çš„éå†å™¨ã€‚</li>
<li><code>Map.prototype.forEach()</code>ï¼šéå†æ‰€æœ‰æˆå‘˜ã€‚å›è°ƒå‡½æ•°å‚æ•°ä¸ºÂ <code>(value, key, map)</code>ã€‚</li>
</ul>
<h4 data-id="heading-8">ä¸å…¶ä»–æ•°æ®ç»“æ„çš„è½¬æ¢</h4>
<ol>
<li>
<p><strong>Map =&gt; æ•°ç»„</strong>ï¼ˆä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æœ€æ–¹ä¾¿ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-sql" lang="sql">const myMap <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> Map().<span class="hljs-keyword">set</span>(<span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>).<span class="hljs-keyword">set</span>(<span class="hljs-string">'b'</span>, <span class="hljs-number">2</span>);
console.<span class="hljs-built_in">log</span>([...myMap]); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> [ [<span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>], [<span class="hljs-string">'b'</span>, <span class="hljs-number">2</span>] ]
</code></pre>
</li>
<li>
<p><strong>å¯¹è±¡ =&gt; Map</strong>ï¼ˆå€ŸåŠ©Â <code>Object.entries</code>ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">obj</span> = {<span class="hljs-string">"a"</span>: <span class="hljs-number">1</span>, <span class="hljs-string">"b"</span>: <span class="hljs-number">2</span>}<span class="hljs-comment">;</span>
let <span class="hljs-attr">map</span> = new Map(Object.entries(obj))<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>Map =&gt; å¯¹è±¡</strong>ï¼ˆå½“Mapçš„é”®éƒ½æ˜¯å­—ç¬¦ä¸²æ—¶ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-ini" lang="ini">function mapToObj(map) {
  let <span class="hljs-attr">obj</span> = Object.create(null)<span class="hljs-comment">;</span>
  for (let <span class="hljs-section">[k, v]</span> of map) {
    obj<span class="hljs-section">[k]</span> = v<span class="hljs-comment">;</span>
  }
  return obj<span class="hljs-comment">;</span>
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-9">WeakMap</h4>
<p><strong>å®šä¹‰ä¸ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>åªæ¥å—<strong>å¯¹è±¡ï¼ˆ<code>null</code>é™¤å¤–ï¼‰</strong> Â ä½œä¸ºé”®åï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ã€‚</li>
<li>å¯¹é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯<strong>å¼±å¼•ç”¨</strong>ï¼Œä¸å½±å“åƒåœ¾å›æ”¶ã€‚é”®åå¯¹è±¡è¢«å›æ”¶åï¼Œå¯¹åº”çš„é”®å€¼å¯¹ä¼šè‡ªåŠ¨ä»Â <code>WeakMap</code>Â ä¸­ç§»é™¤ã€‚</li>
<li>å› æ­¤ï¼Œ<code>WeakMap</code>Â <strong>æ²¡æœ‰Â <code>size</code>Â å±æ€§ï¼Œä¹Ÿæ— æ³•è¢«éå†</strong>ã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºéœ€è¦å°†é¢å¤–æ•°æ®ä¸å¯¹è±¡å…³è”ï¼Œåˆä¸æƒ³å½±å“å¯¹è±¡æœ¬èº«ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µï¼ˆå¦‚DOMå…ƒç´ ä½œä¸ºé”®åå­˜å‚¨å…ƒæ•°æ®ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">å¯¹è±¡çš„è¿­ä»£</h3>
<p>æ™®é€šå¯¹è±¡Â <code>{}</code>Â é»˜è®¤æ˜¯<strong>ä¸å¯è¿­ä»£çš„</strong>ï¼Œä¸èƒ½ç›´æ¥ç”¨äºÂ <code>for...of</code>Â å¾ªç¯ã€‚</p>
<h4 data-id="heading-11">éå†æ™®é€šå¯¹è±¡çš„å‡ ç§æ–¹å¼ï¼š</h4>
<ol>
<li>
<p><strong><code>for...in</code>Â å¾ªç¯</strong>ï¼ˆéå†<strong>è‡ªèº«å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§é”®å</strong>ï¼Œé€šå¸¸éœ€æ­é…Â <code>hasOwnProperty</code>Â è¿‡æ»¤ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">in</span> obj) {
  <span class="hljs-keyword">if</span> (obj.hasOwnProperty(<span class="hljs-keyword">key</span>)) {
    console.log(<span class="hljs-keyword">key</span>, obj[<span class="hljs-keyword">key</span>]);
  }
}
</code></pre>
</li>
<li>
<p><strong><code>Object.keys()</code>Â +Â <code>for...of</code></strong>ï¼ˆéå†<strong>è‡ªèº«å¯æšä¸¾å±æ€§é”®å</strong>ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">key</span> <span class="hljs-keyword">of</span> <span class="hljs-type">Object</span>.keys(obj)) {
  console.log(<span class="hljs-keyword">key</span>, obj[<span class="hljs-keyword">key</span>]);
}
</code></pre>
</li>
<li>
<p><strong><code>Object.values()</code>Â +Â <code>for...of</code></strong>ï¼ˆéå†<strong>è‡ªèº«å¯æšä¸¾å±æ€§å€¼</strong>ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> value <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(obj)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);
}
</code></pre>
</li>
<li>
<p><strong><code>Object.entries()</code>Â +Â <code>for...of</code></strong>ï¼ˆéå†<strong>è‡ªèº«å¯æšä¸¾å±æ€§é”®å€¼å¯¹</strong>ï¼‰ï¼š</p>
<p>javascript</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [<span class="hljs-keyword">key</span>, value] <span class="hljs-keyword">of</span> <span class="hljs-type">Object</span>.entries(obj)) {
  console.log(<span class="hljs-keyword">key</span>, value);
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-12">è®©æ™®é€šå¯¹è±¡å¯è¿­ä»£</h4>
<p>é€šè¿‡è‡ªå®šä¹‰Â <code>[Symbol.iterator]</code>Â æ–¹æ³•ï¼Œå¯ä»¥ä½¿æ™®é€šå¯¹è±¡æ”¯æŒÂ <code>for...of</code>Â å¾ªç¯ã€‚</p>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>,
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]: <span class="hljs-keyword">function</span>* () {
    <span class="hljs-keyword">yield</span>* <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// ä½¿ç”¨ç”Ÿæˆå™¨å‡½æ•°å§”æ‰˜ç»™ entries</span>
  }
};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> obj) { <span class="hljs-comment">// ç°åœ¨å¯ä»¥ for...of äº†</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, value);
}
</code></pre>
<h3 data-id="heading-13">æ€»ç»“</h3>















































<table><thead><tr><th>ç‰¹æ€§</th><th>Set</th><th>Map</th><th>WeakSet</th><th>WeakMap</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç‰¹ç‚¹</strong></td><td>å€¼å”¯ä¸€çš„é›†åˆ</td><td>é”®å€¼å¯¹é›†åˆï¼Œé”®ç±»å‹ä»»æ„</td><td>å¼±å¼•ç”¨å¯¹è±¡é›†åˆ</td><td>å¼±å¼•ç”¨å¯¹è±¡ä½œä¸ºé”®çš„é›†åˆ</td></tr><tr><td><strong>é”®/å€¼ç±»å‹</strong></td><td>å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹</td><td>é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹</td><td>å€¼å¿…é¡»æ˜¯å¯¹è±¡</td><td>é”®å¿…é¡»æ˜¯å¯¹è±¡</td></tr><tr><td><strong>å¯éå†æ€§</strong></td><td>æ˜¯</td><td>æ˜¯</td><td><strong>å¦</strong></td><td><strong>å¦</strong></td></tr><tr><td><code>size</code>Â å±æ€§</td><td>æœ‰</td><td>æœ‰</td><td><strong>æ— </strong></td><td><strong>æ— </strong></td></tr><tr><td><strong>åƒåœ¾å›æ”¶å½±å“</strong></td><td>å¼ºå¼•ç”¨ï¼Œä¼šé˜»æ­¢æˆå‘˜è¢«å›æ”¶</td><td>å¼ºå¼•ç”¨ï¼Œä¼šé˜»æ­¢é”®è¢«å›æ”¶</td><td>å¼±å¼•ç”¨ï¼Œ<strong>ä¸å½±å“</strong>æˆå‘˜è¢«å›æ”¶</td><td>å¼±å¼•ç”¨ï¼Œ<strong>ä¸å½±å“</strong>é”®å¯¹è±¡è¢«å›æ”¶</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äººäººéƒ½åœ¨è¯´çš„ Agentï¼Œåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599299048302772267</link>    <guid>https://juejin.cn/post/7599299048302772267</guid>    <pubDate>2026-01-26T08:44:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599299048302772267" data-draft-id="7599053532168831017" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äººäººéƒ½åœ¨è¯´çš„ Agentï¼Œåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-26T08:44:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è·¯å¯¼"/> <meta itemprop="url" content="https://juejin.cn/user/3667626518913847"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äººäººéƒ½åœ¨è¯´çš„ Agentï¼Œåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3667626518913847/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è·¯å¯¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:44:46.000Z" title="Mon Jan 26 2026 08:44:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äººäººéƒ½åœ¨è¯´çš„ Agentï¼Œåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b2eb5fc2ca8496ab7abe006a5b804e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lev5a-8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021886&amp;x-signature=eTo0Khee2aIjAtUGbirq8ZaqSHQ%3D" alt="agent_cover" loading="lazy"/></p>
<p>æœ€è¿‘ï¼Œâ€œAgentâ€ è¿™ä¸ªè¯ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚</p>
<p>AI åœˆå‡ ä¹äººäººåœ¨è°ˆå®ƒï¼Œåˆ›ä¸šå…¬å¸åœ¨åšå®ƒï¼Œè¿ ChatGPTã€Claudeã€Gemini ç­‰å¤§æ¨¡å‹éƒ½åœ¨å¼ºè°ƒè‡ªå·±èƒ½â€œç”Ÿæˆ Agentâ€ã€‚</p>
<p>å¯é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p><strong>Agent åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
</blockquote>
<p>æ˜¯ä¸æ˜¯åªè¦ç»™å¤§æ¨¡å‹åŠ ç‚¹â€œå¤–æŒ‚åŠŸèƒ½â€ï¼Œå°±èƒ½ç§°ä¹‹ä¸º Agentï¼Ÿè¿˜æ˜¯è¯´ï¼Œå®ƒå…¶å®æ˜¯AIå‘å±•çš„ä¸€æ¬¡çœŸæ­£è·ƒè¿ï¼Ÿ</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±ä»å¤´è¯´æ¸…æ¥šè¿™ä¸ªè¯ï¼š<strong>çœ‹çœ‹ä»å“²å­¦ã€äººå·¥æ™ºèƒ½åˆ°å¤§æ¨¡å‹æ—¶ä»£ï¼Œâ€œAgentâ€åˆ°åº•ç»å†äº†æ€æ ·çš„è¿›åŒ–ã€‚</strong></p>
<h3 data-id="heading-1">ä¸€ã€æœ€æ—©çš„å«ä¹‰ï¼šAgent = èƒ½è¡ŒåŠ¨çš„ä¸»ä½“</h3>
<p>â€œAgentâ€è¿™ä¸ªè¯å¹¶ä¸æ˜¯AIå‘æ˜çš„ï¼Œå®ƒæ¥è‡ªæ‹‰ä¸è¯­ <em>agere</em>ï¼Œæ„æ€æ˜¯ã€Œå»åšã€å»è¡ŒåŠ¨ã€ã€‚</p>
<p>åœ¨å“²å­¦é‡Œï¼ŒAgent æŒ‡çš„æ˜¯èƒ½æ„ŸçŸ¥ä¸–ç•Œã€å½¢æˆæ„å›¾ã€å¹¶ä¸»åŠ¨è¡ŒåŠ¨çš„ä¸»ä½“ã€‚  </p>
<p>æ¯”å¦‚äººï¼Œå°±æ˜¯å…¸å‹çš„ã€Œmoral agentï¼ˆé“å¾·ä¸»ä½“ï¼‰ã€ï¼Œèƒ½åˆ¤æ–­æ˜¯éã€åšå‡ºé€‰æ‹©ï¼Œå¹¶æ‰¿æ‹…ç»“æœã€‚</p>
<p>æ‰€ä»¥æœ€åˆçš„å«ä¹‰éå¸¸ç®€å•ï¼š<strong>Agent = ä¸€ä¸ªä¼šä¸»åŠ¨åšäº‹çš„å­˜åœ¨ã€‚</strong></p>
<p>è¿™ä¸ªå®šä¹‰å¬èµ·æ¥æŠ½è±¡ï¼Œä½†å®ƒå‡ ä¹å¥ å®šäº†åé¢æ‰€æœ‰äººå·¥æ™ºèƒ½ç³»ç»Ÿçš„æ€ç»´æ¨¡å‹ã€‚</p>
<h3 data-id="heading-2">äºŒã€åœ¨äººå·¥æ™ºèƒ½é‡Œï¼šAgent æ˜¯â€œæ™ºèƒ½çš„æœ€å°å•å…ƒâ€</h3>
<p>20ä¸–çºª50å¹´ä»£ï¼Œå½“AIç ”ç©¶åˆšèµ·æ­¥æ—¶ï¼Œç§‘å­¦å®¶å¼€å§‹è¯•å›¾æŠŠè¿™ç§â€œæ„ŸçŸ¥â€”è¡ŒåŠ¨â€çš„æ€ç»´æ–¹å¼ç”¨æœºå™¨å®ç°å‡ºæ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e130b348ebd46b090a9f4769f6ba018~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lev5a-8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021886&amp;x-signature=9Ux2Wg%2F1VZ5ro8JeTEMgLiXfvl8%3D" alt="agent_loop" loading="lazy"/></p>
<p>1995å¹´ï¼ŒRussell å’Œ Norvig åœ¨ç»å…¸æ•™æã€Šäººå·¥æ™ºèƒ½ï¼šä¸€ç§ç°ä»£æ–¹æ³•ï¼ˆAIMAï¼‰ã€‹é‡Œæ­£å¼å®šä¹‰ï¼šAgent æ˜¯ä»»ä½•èƒ½é€šè¿‡ä¼ æ„Ÿå™¨æ„ŸçŸ¥ç¯å¢ƒã€å¹¶é€šè¿‡æ‰§è¡Œå™¨ä½œç”¨äºç¯å¢ƒçš„å®ä½“ã€‚</p>
<p>è¿™å°±æ˜¯æœ€æ—©çš„ <strong>æ™ºèƒ½ä½“æ¨¡å‹</strong>ã€‚å®ƒçš„æ€ç»´è·¯å¾„æ˜¯ä¸€ä¸ªé—­ç¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">æ„ŸçŸ¥ï¼ˆPerceiveï¼‰
â†’ æ¨ç†ï¼ˆReasonï¼‰
â†’ è¡ŒåŠ¨ï¼ˆActï¼‰
â†’ è·å¾—åé¦ˆï¼ˆObserveï¼‰
â†’ è°ƒæ•´ç­–ç•¥ï¼ˆ<span class="hljs-keyword">Loop</span>ï¼‰
</code></pre>
<p>æ—©æœŸçš„æœºå™¨äººã€åšå¼ˆç¨‹åºã€æ§åˆ¶ç³»ç»Ÿï¼Œéƒ½æ˜¯åŸºäºè¿™ç§æ¡†æ¶è®¾è®¡çš„ã€‚</p>
<p>å®ƒä»¬çš„æ ¸å¿ƒä¸åœ¨â€œèªæ˜â€ï¼Œè€Œåœ¨â€œèƒ½é—­ç¯è¡ŒåŠ¨â€ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€Agent å·¥ç¨‹åŒ–ï¼šä»å“²å­¦åˆ°è½¯ä»¶ä»£ç†</h3>
<p>è¿›å…¥ 1990â€“2010 å¹´ï¼ŒAgent ä»å®éªŒå®¤èµ°å‘å·¥ä¸šç•Œï¼Œé‚£æ—¶å€™æµè¡Œçš„æ˜¯â€œè½¯ä»¶ä»£ç†ï¼ˆSoftware Agentï¼‰â€ï¼š</p>
<ul>
<li>Mail Agentï¼šå¸®ä½ è‡ªåŠ¨è¿‡æ»¤é‚®ä»¶</li>
<li>Web Crawlerï¼šè‡ªåŠ¨æŠ“å–ç½‘é¡µä¿¡æ¯</li>
<li>Trading Agentï¼šè‡ªåŠ¨ä¸‹å•ã€æ’®åˆäº¤æ˜“</li>
<li>Monitoring Agentï¼šåå°ç›‘æ§ç³»ç»ŸçŠ¶æ€</li>
</ul>
<p>è¿™äº› Agent éƒ½èƒ½è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ï¼Œä½†å®ƒä»¬å¹¶ä¸èªæ˜ï¼Œå®ƒä»¬çš„èªæ˜å®é™…ä¸Šä¾ç„¶æ˜¯åŸºäºè§„åˆ™ã€è„šæœ¬æˆ–çŠ¶æ€æœºæ¥è¿è¡Œã€‚</p>
<p><strong>æ¢å¥è¯è¯´ï¼šå®ƒä»¬ä¼šâ€œåŠ¨â€ï¼Œä½†ä¸ä¼šâ€œæƒ³â€ã€‚</strong></p>
<h3 data-id="heading-4">å››ã€è½¬æŠ˜ç‚¹ï¼šå¤§æ¨¡å‹è®© Agent é‡æ–°å¤æ´»</h3>
<p>çœŸæ­£çš„è½¬æŠ˜ï¼Œå‘ç”Ÿåœ¨ GPT-3 å’Œ GPT-4 å‡ºç°ä¹‹åï¼Œè¿™äº›å¤§æ¨¡å‹ç¬¬ä¸€æ¬¡è®©æœºå™¨å…·å¤‡äº†ç†è§£è¯­å¢ƒã€æ¨ç†é—®é¢˜ã€è§„åˆ’è¡ŒåŠ¨çš„èƒ½åŠ›ã€‚</p>
<p>ç ”ç©¶è€…çªç„¶æ„è¯†åˆ°ï¼šâ€œå¦‚æœå¤§æ¨¡å‹èƒ½æ€è€ƒï¼Œå®ƒæ˜¯ä¸æ˜¯å°±èƒ½è‡ªå·±â€˜å»åšäº‹â€™ï¼Ÿâ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a663230423247dfaf8e9032e87e5ad5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lev5a-8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021886&amp;x-signature=M1TkmmYeIzICxihyZl3sIn5ampI%3D" alt="agent_leap" loading="lazy"/></p>
<p>äºæ˜¯ï¼Œä¸€æ‰¹æ–°çš„ Agent æ¶æ„è¯ç”Ÿäº†ï¼š</p>
<ul>
<li>ReActï¼ˆReason + Actï¼‰</li>
<li>AutoGPT</li>
<li>LangChain Agent</li>
<li>CrewAI / LangGraph / Autogen</li>
</ul>
<p>å®ƒä»¬çš„å…±åŒç‚¹æ˜¯ï¼šä¸å†è®©AIåªæ˜¯è¢«åŠ¨å›ç­”ï¼Œè€Œæ˜¯è®©å®ƒèƒ½è‡ªå·±å†³å®šä¸‹ä¸€æ­¥è¦åšä»€ä¹ˆï¼Œå¹¶çœŸçš„å»æ‰§è¡Œã€‚</p>
<h3 data-id="heading-5">äº”ã€ç°ä»£å®šä¹‰ï¼šLLM æ—¶ä»£çš„ Agent åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰ï¼š</p>
<blockquote>
<p><strong>Agent = å¤§æ¨¡å‹ï¼ˆå¤§è„‘ï¼‰ + è®°å¿†ç³»ç»Ÿï¼ˆè®°å¿†ï¼‰ + å·¥å…·ï¼ˆæ‰‹è„šï¼‰ + åé¦ˆå¾ªç¯ï¼ˆå­¦ä¹ ï¼‰ã€‚</strong></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d10613e2914c0496a29f003fc7cca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lev5a-8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021886&amp;x-signature=y13sDyqgrkn0TAL8jd99TCsWOM0%3D" alt="agent_equation" loading="lazy"/></p>
<p>å¦‚æœä¸€ä¸ªç³»ç»Ÿèƒ½åšåˆ°ä»¥ä¸‹å››ä»¶äº‹ï¼Œå®ƒå°±èƒ½ç§°ä¸º Agentï¼š</p>

























<table><thead><tr><th>èƒ½åŠ›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è‡ªä¸»æ€§ï¼ˆAutonomyï¼‰</td><td>èƒ½æ ¹æ®ç›®æ ‡è‡ªå·±è§„åˆ’ä¸‹ä¸€æ­¥</td></tr><tr><td>è®°å¿†ï¼ˆMemoryï¼‰</td><td>è®°ä½ä¸Šä¸‹æ–‡ã€ç”¨æˆ·åå¥½ã€å†å²å†³ç­–</td></tr><tr><td>å·¥å…·ä½¿ç”¨ï¼ˆTool Useï¼‰</td><td>èƒ½è°ƒç”¨å¤–éƒ¨APIã€è„šæœ¬ã€æ•°æ®åº“</td></tr><tr><td>è‡ªæˆ‘ä¿®æ­£ï¼ˆFeedback Loopï¼‰</td><td>èƒ½æ ¹æ®ç»“æœè°ƒæ•´ç­–ç•¥ã€ä¼˜åŒ–è¡Œä¸º</td></tr></tbody></table>
<p>æ‰€ä»¥ç®€å•æ¥è¯´å°±æ˜¯ï¼šâ€œå¤§æ¨¡å‹ + å…¶ä»–èƒ½åŠ› = Agentã€‚â€</p>
<h3 data-id="heading-6">å…­ã€Agent ä¸ºä»€ä¹ˆçªç„¶ç«äº†ï¼Ÿ</h3>
<p>é€šè¿‡ä¸Šé¢çš„æè¿°ï¼Œå…¶å®å¤§å®¶ä¼šå‘ç°ï¼ŒAgent å¹¶ä¸æ˜¯æ–°æ¦‚å¿µï¼Œä»æ—©æœŸçš„æœºå™¨äººã€è½¯ä»¶ä»£ç†ï¼Œåˆ°ä»Šå¤©çš„è‡ªä¸»æ™ºèƒ½ä½“ï¼Œå®ƒä¸€ç›´éƒ½åœ¨ï¼Œåªæ˜¯èƒ½åŠ›ä¸€ç›´æœ‰é™ã€‚</p>
<ol>
<li>è¿‡å»çš„ Agent ä¼šåŠ¨ï¼Œä½†ä¸ä¼šæƒ³ã€‚</li>
<li>æœºå™¨å­¦ä¹ æ—¶ä»£çš„ Agent èƒ½å­¦ï¼Œä½†ä¸æ‡‚æ²Ÿé€šã€‚</li>
<li>è€Œåˆ°äº†å¤§æ¨¡å‹é˜¶æ®µï¼Œä¸€åˆ‡éƒ½å˜äº†ï¼Œæ—¢èƒ½åˆèƒ½äº†ã€‚</li>
</ol>
<p>ç°åœ¨å¤§æ¨¡å‹æ—¶ä»£æ¥äº†ï¼Œå¯¹äºåˆ›é€ ä¸€ä¸ªçœŸæ­£çš„Agentæ¥è¯´ï¼Œä¸‰ä»¶äº‹åŒæ—¶æˆç†Ÿäº†ï¼š</p>
<ol>
<li>å¤§æ¨¡å‹çš„æ¨ç†èƒ½åŠ›è¶³å¤Ÿå¼ºï¼Œèƒ½ç†è§£ä»»åŠ¡ã€åˆ†è§£ç›®æ ‡ï¼›</li>
<li>å·¥å…·è°ƒç”¨ï¼ˆFunction Callingï¼‰æœºåˆ¶ç¨³å®šï¼ŒAI èƒ½ä¸»åŠ¨â€œæ‰§è¡Œâ€æ“ä½œï¼›</li>
<li>æ¡†æ¶ç”Ÿæ€å®Œå–„ï¼ŒLangChainã€CrewAIã€Autogen ç­‰è®©æ„å»ºé—¨æ§›æä½ã€‚</li>
</ol>
<p>è¿™è®© Agent ç»ˆäºä»â€œå›ç­”é—®é¢˜â€å˜æˆâ€œè§£å†³é—®é¢˜â€ï¼Œå®ƒä¸å†åªæ˜¯ä¸€ä¸ªèŠå¤©æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½<strong>ç†è§£ç›®æ ‡ã€è§„åˆ’è·¯å¾„ã€æ‰§è¡Œä»»åŠ¡</strong>çš„è‡ªä¸»ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-7">æ€»ç»“</h3>
<blockquote>
<p><strong>Agentï¼Œå°±æ˜¯è®©å¤§æ¨¡å‹çœŸæ­£â€œåŠ¨èµ·æ¥â€çš„é‚£éƒ¨åˆ†èƒ½åŠ›ã€‚</strong></p>
</blockquote>
<p>å®ƒèƒ½æ„ŸçŸ¥ç¯å¢ƒã€ç†è§£æ„å›¾ã€æ‰§è¡ŒåŠ¨ä½œã€æ ¹æ®ç»“æœè‡ªæˆ‘è°ƒæ•´ï¼Œæ¢å¥è¯è¯´ï¼ŒAI ä¸å†åªæ˜¯è¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯å¼€å§‹æ‹¥æœ‰ã€Œè¡ŒåŠ¨åŠ›ã€ï¼Œå¯ä»¥ â€œä¸»åŠ¨å»åšäº‹â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5eee76d8a8a7450b832cfe7719dd01e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Lev5a-8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770021886&amp;x-signature=fFP8jxh7YuYs9k8eKxzVTzcE5u8%3D" alt="agent_action" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡çœ‹æ‡‚Vue2 ä¸ Vue3 ç»„ä»¶ä¼ å‚]]></title>    <link>https://juejin.cn/post/7599232628186152995</link>    <guid>https://juejin.cn/post/7599232628186152995</guid>    <pubDate>2026-01-26T08:16:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599232628186152995" data-draft-id="7599474528238108712" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡çœ‹æ‡‚Vue2 ä¸ Vue3 ç»„ä»¶ä¼ å‚"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T08:16:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ³¡è…¾ç‰‡åœ¨é€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/4376468804611591"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡çœ‹æ‡‚Vue2 ä¸ Vue3 ç»„ä»¶ä¼ å‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4376468804611591/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ³¡è…¾ç‰‡åœ¨é€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:16:36.000Z" title="Mon Jan 26 2026 08:16:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Vue2 ç»„ä»¶é€šä¿¡æ–¹å¼</strong></p>
<ol>
<li>Propsï¼ˆçˆ¶ä¼ å­ï¼‰</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child :title="parentTitle" :user="userData" /&gt;
&lt;/template&gt;

&lt;script&gt;
import Child from './Child.vue'
export default {
  components: { Child },
  data() {
    return {
      parentTitle: 'Hello from Parent',
      userData: { name: 'John', age: 25 }
    }
  }
}
&lt;/script&gt;

&lt;!-- å­ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;{{ title }}&lt;/h2&gt;
    &lt;p&gt;Name: {{ user.name }}&lt;/p &gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: {
    // åŸºç¡€ç±»å‹
    title: {
      type: String,
      required: true,
      default: 'Default Title'
    },
    // å¯¹è±¡ç±»å‹
    user: {
      type: Object,
      default: () =&gt; ({})
    }
  }
}
&lt;/script&gt;
</code></pre>
<ol start="2">
<li>$emitï¼ˆå­ä¼ çˆ¶ï¼‰</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;button @click="sendMessage"&gt;å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶&lt;/button&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    sendMessage() {
      this.$emit('message-from-child', 'Hello Parent!')
    }
  }
}
&lt;/script&gt;

&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child @message-from-child="handleChildMessage" /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  methods: {
    handleChildMessage(msg) {
      console.log('æ”¶åˆ°å­ç»„ä»¶æ¶ˆæ¯:', msg)
    }
  }
}
&lt;/script&gt;
</code></pre>
<ol start="3">
<li>Event Busï¼ˆå…¨å±€äº‹ä»¶æ€»çº¿ï¼‰</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eventBus.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">EventBus</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>()

<span class="hljs-comment">// ç»„ä»¶A - å‘é€äº‹ä»¶</span>
&lt;script&gt;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EventBus</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./eventBus'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">sendData</span>(<span class="hljs-params"/>) {
      <span class="hljs-title class_">EventBus</span>.$emit(<span class="hljs-string">'global-event'</span>, { <span class="hljs-attr">data</span>: <span class="hljs-string">'some data'</span> })
    }
  }
}
&lt;/script&gt;

<span class="hljs-comment">// ç»„ä»¶B - æ¥æ”¶äº‹ä»¶</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EventBus</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./eventBus'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">EventBus</span>.$on(<span class="hljs-string">'global-event'</span>, <span class="hljs-function">(<span class="hljs-params">payload</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°äº‹ä»¶:'</span>, payload)
    })
  },
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">EventBus</span>.$off(<span class="hljs-string">'global-event'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<ol start="4">
<li>Vuexï¼ˆçŠ¶æ€ç®¡ç†ï¼‰</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// store/index.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span>

<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>({
  <span class="hljs-attr">state</span>: {
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
  },
  <span class="hljs-attr">mutations</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params">state, payload</span>) {
      state.<span class="hljs-property">count</span> += payload.<span class="hljs-property">amount</span>
    }
  },
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">incrementAsync</span>(<span class="hljs-params">{ commit }, payload</span>) {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">commit</span>(<span class="hljs-string">'increment'</span>, payload)
      }, <span class="hljs-number">1000</span>)
    }
  }
})

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;script&gt;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-title function_">count</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'increment'</span>, { <span class="hljs-attr">amount</span>: <span class="hljs-number">1</span> })
      <span class="hljs-comment">// æˆ–ä½¿ç”¨actions</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">'incrementAsync'</span>, { <span class="hljs-attr">amount</span>: <span class="hljs-number">1</span> })
    }
  }
}
&lt;/script&gt;
</code></pre>
<ol start="5">
<li><code>$attrs</code> å’Œ <code>$listeners</code></li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child 
    title="ä¼ é€’çš„æ ‡é¢˜"
    :data="someData"
    @custom-event="handleEvent"
  /&gt;
&lt;/template&gt;

&lt;!-- ä¸­é—´ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;!-- ä¼ é€’æ‰€æœ‰å±æ€§å’Œäº‹ä»¶ --&gt;
  &lt;GrandChild v-bind="$attrs" v-on="$listeners" /&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  inheritAttrs: false // ä¸å°†attrsè®¾ç½®ä¸ºDOMå±æ€§
}
&lt;/script&gt;

&lt;!-- æœ€ç»ˆç»„ä»¶ GrandChild.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;{{ title }}&lt;/h2&gt;
    &lt;button @click="$emit('custom-event')"&gt;è§¦å‘äº‹ä»¶&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  props: ['title']
}
&lt;/script&gt;
</code></pre>
<p><strong>Vue3 ç»„ä»¶é€šä¿¡æ–¹å¼</strong></p>
<ol>
<li>Propsï¼ˆçˆ¶ä¼ å­ï¼‰ - Composition API</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child 
    :title="parentTitle" 
    :user="userData"
    @update:title="parentTitle = $event"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'
import Child from './Child.vue'

const parentTitle = ref('Hello from Parent')
const userData = ref({ name: 'John', age: 25 })
&lt;/script&gt;

&lt;!-- å­ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;{{ title }}&lt;/h2&gt;
    &lt;button @click="updateTitle"&gt;ä¿®æ”¹æ ‡é¢˜&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { defineProps, defineEmits } from 'vue'

const props = defineProps({
  title: {
    type: String,
    required: true,
    default: 'Default Title'
  },
  user: {
    type: Object,
    default: () =&gt; ({})
  }
})

const emit = defineEmits(['update:title'])

const updateTitle = () =&gt; {
  emit('update:title', 'New Title from Child')
}
&lt;/script&gt;
</code></pre>
<ol start="2">
<li>defineEmitsï¼ˆå­ä¼ çˆ¶ï¼‰</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- å­ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;button @click="sendData"&gt;å‘é€æ•°æ®&lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { defineEmits } from 'vue'

const emit = defineEmits({
  // å¸¦éªŒè¯çš„emit
  'send-message': (payload) =&gt; {
    return typeof payload === 'string'
  }
})

const sendData = () =&gt; {
  emit('send-message', 'Hello from Child')
  emit('update:count', 10) // æ”¯æŒv-modelè¯­æ³•
}
&lt;/script&gt;

&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child 
    @send-message="handleMessage"
    @update:count="count = $event"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const count = ref(0)

const handleMessage = (msg) =&gt; {
  console.log('æ”¶åˆ°:', msg)
}
&lt;/script&gt;
</code></pre>
<ol start="3">
<li>provide/injectï¼ˆè·¨å±‚çº§é€šä¿¡ï¼‰</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ç¥–å…ˆç»„ä»¶ Ancestor.vue --&gt;
&lt;template&gt;
  &lt;Parent /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { provide, ref } from 'vue'
import Parent from './Parent.vue'

const sharedData = ref('å…±äº«æ•°æ®')
const updateSharedData = (newValue) =&gt; {
  sharedData.value = newValue
}

// æä¾›æ•°æ®å’Œæ–¹æ³•
provide('sharedData', {
  sharedData,
  updateSharedData
})
&lt;/script&gt;

&lt;!-- åä»£ç»„ä»¶ Descendant.vue --&gt;
&lt;template&gt;
  &lt;div&gt;{{ data.sharedData }}&lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { inject } from 'vue'

const data = inject('sharedData')

const updateData = () =&gt; {
  data.updateSharedData('æ–°çš„å…±äº«æ•°æ®')
}
&lt;/script&gt;
</code></pre>
<ol start="4">
<li>Piniaï¼ˆVue3æ¨èçš„çŠ¶æ€ç®¡ç†ï¼‰</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/counter.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
  }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params">amount = <span class="hljs-number">1</span></span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> += amount
    }
  },
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">doubleCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>
  }
})

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ store.count }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŒå€: {{ store.doubleCount }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"store.increment()"</span>&gt;</span>å¢åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useCounterStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/stores/counter'</span>

<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useCounterStore</span>()
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<ol start="5">
<li>æ¨¡æ¿å¼•ç”¨å’Œ defineExpose</li>
</ol>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- çˆ¶ç»„ä»¶ Parent.vue --&gt;
&lt;template&gt;
  &lt;Child ref="childRef" /&gt;
  &lt;button @click="callChildMethod"&gt;è°ƒç”¨å­ç»„ä»¶æ–¹æ³•&lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'
import Child from './Child.vue'

const childRef = ref(null)

const callChildMethod = () =&gt; {
  childRef.value?.childMethod()
  console.log('å­ç»„ä»¶æ•°æ®:', childRef.value?.childData)
}
&lt;/script&gt;

&lt;!-- å­ç»„ä»¶ Child.vue --&gt;
&lt;template&gt;
  &lt;div&gt;å­ç»„ä»¶&lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, defineExpose } from 'vue'

const childData = ref('å­ç»„ä»¶æ•°æ®')

const childMethod = () =&gt; {
  console.log('å­ç»„ä»¶æ–¹æ³•è¢«è°ƒç”¨')
}

// æš´éœ²ç»™çˆ¶ç»„ä»¶
defineExpose({
  childData,
  childMethod
})
&lt;/script&gt;
</code></pre>
<ol start="6">
<li>è‡ªå®šä¹‰Hooksï¼ˆç»„åˆå¼å‡½æ•°ï¼‰</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// composables/useCounter.js</span>
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCounter</span>(<span class="hljs-params">initialValue = <span class="hljs-number">0</span></span>) {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(initialValue)
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; count.<span class="hljs-property">value</span>++
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">decrement</span> = (<span class="hljs-params"/>) =&gt; count.<span class="hljs-property">value</span>--
  <span class="hljs-keyword">const</span> double = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>)
  
  <span class="hljs-keyword">return</span> {
    count,
    increment,
    decrement,
    double
  }
}

<span class="hljs-comment">// ç»„ä»¶ä¸­ä½¿ç”¨</span>
&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useCounter } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/composables/useCounter'</span>

<span class="hljs-keyword">const</span> { count, increment, double } = <span class="hljs-title function_">useCounter</span>(<span class="hljs-number">10</span>)
&lt;/script&gt;
</code></pre>
<p><strong>Vue2 vs Vue3 é€šä¿¡æ–¹å¼å¯¹æ¯”</strong></p>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>Vue2</th><th>Vue3</th></tr></thead><tbody><tr><td>Propså£°æ˜</td><td>props: {} é€‰é¡¹</td><td>defineProps() ç»„åˆå¼API</td></tr><tr><td>äº‹ä»¶å‘å°„</td><td>this.$emit()</td><td>defineEmits()</td></tr><tr><td>è·¨ç»„ä»¶é€šä¿¡</td><td>provide/inject é€‰é¡¹</td><td>provide()/inject() å‡½æ•°</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>Vuex</td><td>Piniaï¼ˆæ¨èï¼‰æˆ– Vuex 4</td></tr><tr><td>æš´éœ²ç»„ä»¶æ–¹æ³•</td><td>è‡ªåŠ¨æš´éœ²publicæ–¹æ³•</td><td>defineExpose() æ˜¾å¼æš´éœ²</td></tr><tr><td>å±æ€§é€ä¼ </td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mtext>å’Œ</mtext></mrow><annotation encoding="application/x-tex">attrs å’Œ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mord cjk_fallback">å’Œ</span></span></span></span></span>listeners</td><td>useAttrs() å’Œ useListeners()</td></tr><tr><td>å“åº”å¼æ•°æ®</td><td>data() è¿”å›å¯¹è±¡</td><td>ref() æˆ– reactive()</td></tr><tr><td>å…¨å±€äº‹ä»¶æ€»çº¿</td><td>éœ€è¦åˆ›å»ºVueå®ä¾‹</td><td>ä½¿ç”¨Mittç­‰ç¬¬ä¸‰æ–¹åº“</td></tr></tbody></table>
<p><strong>æœ€ä½³å®è·µå»ºè®®</strong></p>
<p>Vue2é¡¹ç›®ï¼š</p>
<ul>
<li>ç®€å•çˆ¶å­é€šä¿¡ä½¿ç”¨ props/$emit</li>
<li>å¤æ‚çŠ¶æ€ç®¡ç†ä½¿ç”¨ Vuex</li>
<li>è·¨å±‚çº§ç»„ä»¶ä½¿ç”¨ provide/inject</li>
<li>äº‹ä»¶æ€»çº¿é€‚åˆç®€å•åœºæ™¯ï¼Œæ³¨æ„åŠæ—¶æ¸…ç†</li>
</ul>
<p>Vue3é¡¹ç›®ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨ç»„åˆå¼API</li>
<li>çŠ¶æ€ç®¡ç†æ¨è Pinia</li>
<li>ä½¿ç”¨TypeScriptå¢å¼ºç±»å‹å®‰å…¨</li>
<li>å¤æ‚é€»è¾‘æŠ½ç¦»ä¸ºç»„åˆå¼å‡½æ•°</li>
<li>æ³¨æ„å“åº”å¼æ•°æ®çš„æ­£ç¡®ä½¿ç”¨</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ”å‘æ•°æ®ä¸å‡ºåŸŸï¼Œå®‰å…¨åˆè§„å†å‡çº§ï¼äº‘æ•ˆ Region ç‰ˆå‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7599237603976265771</link>    <guid>https://juejin.cn/post/7599237603976265771</guid>    <pubDate>2026-01-26T08:47:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599237603976265771" data-draft-id="7599237603976118315" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ”å‘æ•°æ®ä¸å‡ºåŸŸï¼Œå®‰å…¨åˆè§„å†å‡çº§ï¼äº‘æ•ˆ Region ç‰ˆå‘å¸ƒ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-26T08:47:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ”å‘æ•°æ®ä¸å‡ºåŸŸï¼Œå®‰å…¨åˆè§„å†å‡çº§ï¼äº‘æ•ˆ Region ç‰ˆå‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:47:40.000Z" title="Mon Jan 26 2026 08:47:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå¤©å½¤</p>
<h2 data-id="heading-0">äº‘æ•ˆ Region ç‰ˆæœ¬æ­£å¼å‘å¸ƒï¼Œæ‰“é€ ä¼ä¸šçº§ç ”å‘å¹³å°</h2>
<p>åœ¨æ•°å­—åŒ–è½¬å‹åŠ é€Ÿçš„ä»Šå¤©ï¼Œç ”å‘æ•ˆç‡ä¸æ•°æ®å®‰å…¨ä¸å†æ˜¯å•é€‰é¢˜ã€‚å¯¹äºé«˜åˆè§„è¦æ±‚çš„è¡Œä¸šå’Œä¼ä¸šè€Œè¨€ï¼Œä»£ç ã€åˆ¶å“ã€æµæ°´çº¿ç­‰æ ¸å¿ƒç ”å‘èµ„äº§ä¸€æ—¦æš´éœ²äºå…¬ç½‘ï¼Œå°±å¯èƒ½å¸¦æ¥ä¸å¯é€†çš„å®‰å…¨é£é™©ã€‚å¦‚ä»Šï¼Œè¿™ä¸€éš¾é¢˜æœ‰äº†å…¨æ–°è§£æ³•â€”â€”é˜¿é‡Œäº‘äº‘æ•ˆæ­£å¼æ¨å‡ºã€ŒRegion ç‰ˆæœ¬ã€ï¼ŒåŸºäºåœ°åŸŸéƒ¨ç½²ï¼Œå®ç°ç ”å‘å…¨é“¾è·¯æ•°æ®â€œä¸å‡ºåŸŸã€ä¸é€šè¿‡å…¬ç½‘â€ï¼Œåœ¨ä¿éšœæè‡´å®‰å…¨çš„åŒæ—¶ï¼Œå»¶ç»­æ•æ·é«˜æ•ˆçš„ DevOps ä½“éªŒã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆå®‰å…¨æ€§æ˜¯ DevOps çš„ç¬¬ä¸€è¦åŠ¡ï¼Ÿ</h3>
<p>åœ¨ç°ä»£è½¯ä»¶ç ”å‘ä¸­ï¼Œ<strong>ä»£ç å³èµ„äº§ï¼Œæµæ°´çº¿å³ç”Ÿäº§ç³»ç»Ÿã€‚</strong></p>
<p>å¯¹äºå¤§å¤šæ•°ä¼ä¸šè€Œè¨€ï¼Œå°¤å…¶æ˜¯æ¶‰åŠæ•æ„Ÿä¸šåŠ¡ï¼ˆå¦‚é‡‘èã€äº¤æ˜“ã€ä¼šå‘˜ç®¡ç†ã€æµç¨‹ç®¡ç†ï¼‰çš„ç»„ç»‡ï¼Œ<strong>ä»£ç åº“ä¸ä»…æ˜¯å¼€å‘å·¥å…·ï¼Œæ›´æ˜¯å…³é”®åŸºç¡€è®¾æ–½çš„ä¸€éƒ¨åˆ†ã€‚</strong></p>
<p>ç„¶è€Œï¼Œå¾ˆå¤š DevOps å·¥å…·æ™®éå­˜åœ¨ä¸¤å¤§å®‰å…¨éšæ‚£ï¼š</p>
<ol>
<li><strong>ä¸»æµ SaaS åŒ– DevOps å·¥å…·ä»…æ”¯æŒå…¬ç½‘è®¿é—®ï¼š</strong> æ‰€æœ‰æ“ä½œï¼ˆç™»å½•ã€æ‹‰å–ä»£ç ã€æ„å»ºã€éƒ¨ç½²ï¼‰å‡éœ€é€šè¿‡å…¬ç½‘å®Œæˆï¼Œå­˜åœ¨è¢«æ”»å‡»ã€ä¸­é—´äººåŠ«æŒã€æ•°æ®æ³„éœ²çš„é£é™©ï¼›</li>
<li><strong>è‡ªå»ºä»£ç ä»“åº“çœ‹ä¼¼å®‰å…¨ï¼Œä½†é…ç½®å’Œç»´æŠ¤æˆæœ¬é«˜æ˜‚ï¼š</strong> ä¼ä¸šè‡ªå»º GitLabã€Jenkins ç­‰ç³»ç»Ÿï¼Œè™½ç„¶èƒ½æ§åˆ¶æ•°æ®æµå‘ï¼Œå´é¢ä¸´è¿ç»´å¤æ‚ã€å®¹ç¾èƒ½åŠ›å¼±ã€ç‰ˆæœ¬æ›´æ–°æ»åç­‰é—®é¢˜ï¼Œä¸€æ—¦ç¡¬ä»¶æ•…éšœï¼Œå¯èƒ½å¯¼è‡´ä»£ç æ°¸ä¹…ä¸¢å¤±ã€‚</li>
</ol>
<p>å¦‚ä½•åœ¨â€œé«˜æ•ˆååŒâ€ä¸â€œç»å¯¹å®‰å…¨â€ä¹‹é—´å–å¾—å¹³è¡¡ï¼Ÿ Â </p>
<p>äº‘æ•ˆ Region ç‰ˆæœ¬ï¼Œç»™å‡ºäº†ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-2">äº‘æ•ˆ Region ç‰ˆæœ¬ï¼šä¸ºå®‰å…¨è€Œç”Ÿçš„ DevOps è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-3">ä»â€œå…±äº« SaaSâ€åˆ°â€œç‹¬ç«‹åŸŸæ§â€çš„è·ƒè¿</h4>
<p>ä¼ ç»Ÿçš„äº‘æ•ˆæ­å·ä¸­å¿ƒç‰ˆæœ¬é‡‡ç”¨æ ‡å‡† SaaS æ¨¡å¼ï¼š</p>
<ul>
<li>æ‰€æœ‰ä¼ä¸šå…±ç”¨åŒä¸€åŸŸåÂ <code>devops.aliyun.com</code></li>
<li>å…¨æµç¨‹ä¾èµ–å…¬ç½‘é€šä¿¡</li>
<li>CI/CD æµç¨‹ï¼ˆå¦‚å…‹éš†ä»£ç ã€æ¨é€é•œåƒã€éƒ¨ç½²åº”ç”¨ï¼‰å‡é€šè¿‡å…¬ç½‘æ‰§è¡Œ</li>
</ul>
<p>è€Œ<strong>äº‘æ•ˆ Region ç‰ˆæœ¬</strong>å®Œå…¨ä¸åŒï¼š</p>
<ul>
<li>æ¯ä¸ªä¼ä¸šæ‹¥æœ‰ç‹¬ç«‹çš„<strong>å…¬ç½‘åŸŸåå’Œ VPC åŸŸå</strong></li>
<li>ç”¨æˆ·å¯é€šè¿‡é…ç½®ï¼Œä»…å…è®¸é€šè¿‡ä¼ä¸šå†…ç½‘è®¿é—® VPC åŸŸåï¼Œå®ç°â€œ<strong>æ•°æ®ä¸å‡ºåŸŸ</strong>â€</li>
<li>CI/CD æµç¨‹å…¨éƒ¨åœ¨ VPC å†…éƒ¨å®Œæˆï¼Œ<strong>å…¨ç¨‹æ— éœ€ç»è¿‡å…¬ç½‘</strong></li>
</ul>
<blockquote>
<p>è¿™ä¸æ˜¯ç®€å•çš„â€œç§æœ‰åŒ–â€ï¼Œè€Œæ˜¯<em>åŸºäºäº‘åŸç”Ÿæ¶æ„çš„å®‰å…¨å¢å¼ºå‹ SaaS æœåŠ¡â€”â€”æ—¢ä¿ç•™äº†å…¬æœ‰äº‘çš„æ˜“ç”¨æ€§å’Œçµæ´»æ€§ï¼Œåˆæ»¡è¶³äº†ä¼ä¸šå¯¹å®‰å…¨ä¸åˆè§„çš„ä¸¥è‹›è¦æ±‚ã€‚</em></p>
</blockquote>
<h3 data-id="heading-4">æ¶æ„æ­ç§˜ï¼šå¦‚ä½•å®ç°â€œå†…ç½‘è®¿é—® + å®‰å…¨é—­ç¯â€ï¼Ÿ</h3>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œäº‘æ•ˆ Region ç‰ˆæœ¬é€šè¿‡ä¸åŒçš„ç½‘ç»œè¿æ¥ç­–ç•¥ï¼Œæ„å»ºèµ·ä¸€å¥—å®Œæ•´çš„<strong>å®‰å…¨ç ”å‘é—­ç¯ä½“ç³»</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c4d1f2a905c41c4b3327d0a5da504ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022064&amp;x-signature=Mu01JcGFdhcCI4riGcYM4gpmYLQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-5">1. èº«ä»½è®¤è¯ï¼šç»Ÿä¸€èº«ä»½æºï¼Œå®‰å…¨ç™»å½•</h4>
<ul>
<li>æ”¯æŒä¸å¤šç§å¤–éƒ¨èº«ä»½æºé›†æˆï¼š<strong>é’‰é’‰ã€é£ä¹¦ã€ä¼ä¸šå¾®ä¿¡ï¼ˆå³å°†ä¸Šçº¿ï¼‰ã€Azure ADã€OKTA ç­‰</strong></li>
<li>é€šè¿‡Â <strong>SSO è´¦å·åŒæ­¥</strong>å®ç°å•ç‚¹ç™»å½•ï¼Œç”¨æˆ·æ— éœ€é‡å¤æ³¨å†Œ</li>
<li><strong>ä¼ä¸šå†…éƒ¨èº«ä»½æº</strong>å¯ç›´æ¥å¯¹æ¥ï¼Œç¡®ä¿åªæœ‰åœ¨ä¼ä¸šå†…ç½‘ç™»å½•æ‰èƒ½è®¿é—®äº‘æ•ˆï¼Œè¿›ä¸€æ­¥æå‡å®‰å…¨æ€§</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/901c23df70c54356b401b05420693027~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770022064&amp;x-signature=fkDULEApNnjgvIP1RQch9KP8fc8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-6">2. è®¿é—®æ§åˆ¶ï¼šå…¬ç½‘ + VPC åŒåŸŸåç­–ç•¥</h4>
<ul>
<li><strong>å…¬ç½‘åŸŸåï¼š</strong> ä¾›ç”¨æˆ·è¿œç¨‹è®¿é—®</li>
<li><strong>VPC åŸŸåï¼š</strong> ä»…é™ä¼ä¸šå†…ç½‘è®¿é—®ï¼Œå¯é€šè¿‡ä¼ä¸šä¸“çº¿ä¸ VPC å¯¹ç­‰è¿æ¥æ¥å…¥</li>
<li>ç”¨æˆ·å¯è®¾ç½®â€œIP ç™½åå•â€çš„æ–¹å¼ï¼Œ<strong>ä»…å…è®¸ VPC å†…è®¿é—®</strong>ï¼Œå½»åº•å…³é—­å…¬ç½‘å…¥å£</li>
</ul>
<h4 data-id="heading-7">3. æ•°æ®ä¼ è¾“ï¼šä¸“çº¿è¿æ¥ï¼Œç¨³å®šå¯é </h4>
<ul>
<li>äº‘æ•ˆ VPC ä¸ç”¨æˆ· VPC ä¹‹é—´é€šè¿‡Â <strong>Private Link</strong>Â å®ç°å®‰å…¨äº’è”</li>
<li>ä¼ä¸š IDC ä¸ç”¨æˆ· VPC ä¹‹é—´å¯ä»¥é€šè¿‡<strong>ä¸“çº¿</strong>è¿æ¥ï¼Œä¿éšœä½å»¶è¿Ÿã€é«˜å¸¦å®½</li>
<li>æ”¯æŒä¸ä¼ä¸šè‡ªå»ºä»£ç åº“ã€ç§æœ‰æ„å»ºæœºäº’é€šï¼Œå®ç°æ··åˆç¯å¢ƒä¸‹çš„æ— ç¼åä½œ</li>
</ul>
<h4 data-id="heading-8">4. æ„å»ºä»»åŠ¡ï¼šå†…ç½‘è®¿é—®ï¼Œå¼¹æ€§ä¼¸ç¼©</h4>
<ul>
<li>äº‘æ•ˆæ„å»ºé›†ç¾¤é€šè¿‡<strong>ç”¨æˆ· VPC</strong>Â æ¥æ‹‰å–äº‘æ•ˆä»£ç åº“æˆ–è€…ä¼ä¸šè‡ªå»ºçš„ä»£ç åº“</li>
<li>æ”¯æŒå¼¹æ€§ä¼¸ç¼©ï¼Œæ¯ä¸ªæ„å»ºä»»åŠ¡éƒ½æ˜¯ç‹¬ç«‹çš„å®¹å™¨èµ„æºï¼Œé«˜å¹¶å‘æ—¶ä»ç„¶ä¿è¯æ„å»ºé€Ÿåº¦</li>
<li>ç›´æ¥è®¿é—®ç”¨æˆ· VPC å†…çš„ ACKã€ACRã€OSS ç­‰é˜¿é‡Œäº‘èµ„æºï¼Œå®‰å…¨å¯é </li>
</ul>
<h3 data-id="heading-9">å…¨çƒå¸ƒå±€ï¼Œçµæ´»æ‰©å±•ï¼šRegion ç‰ˆæœ¬æ‰“ç ´åœ°åŸŸé™åˆ¶</h3>
<p>åœ¨ä¼ä¸šå…¨çƒåŒ–é«˜é€Ÿå‘å±•çš„ä»Šå¤©ï¼Œç ”å‘å›¢é˜Ÿæ—©å·²éå¸ƒä¸–ç•Œå„åœ°ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„äº‘æ•ˆä¸­å¿ƒç«™ï¼ˆæ­å·ä¸­å¿ƒï¼‰é‡‡ç”¨é›†ä¸­å¼ SaaS æ¶æ„ï¼Œä»…åœ¨å•ä¸€åœ°åŸŸæä¾›æœåŠ¡ã€‚è¿™ä¸ä»…é™åˆ¶äº†å¹³å°çš„æ¨ªå‘æ‰©å±•èƒ½åŠ›ï¼Œæ›´å¯¼è‡´å¢ƒå¤–ç”¨æˆ·é¢‘ç¹é­é‡é«˜å»¶è¿Ÿã€è¿æ¥è¶…æ—¶ã€Git æ“ä½œå¤±è´¥ç­‰è·¨å¢ƒç½‘ç»œé—®é¢˜ï¼Œä¸¥é‡å½±å“è·¨å›½åä½œæ•ˆç‡ã€‚</p>
<p>è€Œäº‘æ•ˆ Region ç‰ˆæœ¬ä»è®¾è®¡ä¹‹åˆå°±é¢å‘å…¨çƒï¼Œæ”¯æŒåœ¨ä»»æ„é˜¿é‡Œäº‘ Region ç‹¬ç«‹éƒ¨ç½²ç«™ç‚¹ï¼Œå®ç°â€œæœ¬åœ°éƒ¨ç½²ã€å°±è¿‘æ¥å…¥â€ã€‚äº‘æ•ˆå·²æ­£å¼åœ¨ä¸Šæµ·ç«™ã€æ–°åŠ å¡ç«™å¼€æœï¼Œè¦†ç›–ä¸­å›½åä¸œä¸ä¸œå—äºšæ ¸å¿ƒåŒºåŸŸï¼Œæ·±åœ³ç«™ã€åŒ—äº¬ç«™å·²åœ¨è§„åˆ’ä¸­ï¼Œæœªæ¥å°†å…¨é¢æ”¯æŒå…¨å›½é‡ç‚¹ç»æµåœˆã€‚</p>
<h3 data-id="heading-10">å…è´¹ç­–ç•¥ï¼šæŒç»­æ”¯æŒå¼€å‘è€…æˆé•¿</h3>
<p>å°½ç®¡é¢å‘é«˜å®‰å…¨åœºæ™¯ï¼Œäº‘æ•ˆå§‹ç»ˆç§‰æŒå¯¹ä¸ªäººå¼€å‘è€…å’Œåˆåˆ›å›¢é˜Ÿçš„æ”¯æŒï¼š</p>
<ul>
<li><strong>å…è´¹ç”¨æˆ·è®¸å¯ï¼š</strong> 5 ä¸ªå…è´¹è´¦å·</li>
<li><strong>å…è´¹å­˜å‚¨ç©ºé—´ï¼š</strong> 20GB Git å­˜å‚¨ + 20GB å¤§æ–‡ä»¶å­˜å‚¨ + 10GB åˆ¶å“å­˜å‚¨</li>
<li><strong>å…è´¹æ„å»ºèµ„æºï¼š</strong> 3000 æ ¸åˆ†/æœˆæµæ°´çº¿æ„å»ºæ ¸åˆ†</li>
</ul>
<p>å³ä½¿æ˜¯ä¸­å°ä¼ä¸šç ”å‘å›¢é˜Ÿï¼Œä¹Ÿèƒ½ä»¥æä½æˆæœ¬å¼€å¯é«˜æ•ˆã€å®‰å…¨çš„ç ”å‘ä¹‹æ—…ã€‚</p>
<h3 data-id="heading-11">å³åˆ»è¡ŒåŠ¨ï¼Œå¼€å¯ç ”å‘æ–°æ¨¡å¼</h3>
<p>äº‘æ•ˆ Region ç‰ˆæœ¬ç°å·²åœ¨<strong>ä¸­å›½ç«™ä¸Šæµ· region å’Œå›½é™…ç«™æ–°åŠ å¡ region æ­£å¼å‘å¸ƒï¼Œæ·±åœ³ç«™/åŒ—äº¬ç«™æ­£åœ¨è§„åˆ’ä¸­ï¼Œå³å°†ä¸Šçº¿ã€‚è¯¦æƒ…è¯·ç‚¹å‡»</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fdoc-detail%2F3000758.html" target="_blank" title="https://help.aliyun.com/doc-detail/3000758.html" ref="nofollow noopener noreferrer">help.aliyun.com/doc-detail/â€¦</a></p>
<h2 data-id="heading-12">ç»“è¯­</h2>
<p><strong>å®‰å…¨ï¼Œä¸åº”æˆä¸ºæ•ˆç‡çš„ä»£ä»·ï¼›æ•ˆç‡ï¼Œä¹Ÿä¸åº”ç‰ºç‰²å®‰å…¨ã€‚</strong></p>
<p>äº‘æ•ˆ Region ç‰ˆæœ¬ï¼Œæ­£æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸€å›°å±€è€Œç”Ÿã€‚</p>
<p>å®ƒè®©ä¼ä¸šåœ¨äº«å—äº‘åŸç”Ÿå¸¦æ¥çš„ä¾¿æ·ä¸å¼¹æ€§çš„åŒæ—¶ï¼ŒçœŸæ­£å®ç°â€œ<strong>ç ”å‘æ•°æ®ä¸å‡ºåŸŸï¼Œå®‰å…¨åˆè§„å…¨é—­ç¯</strong>â€ã€‚</p>
<p>è®©æ¯ä¸€æ¬¡æäº¤ï¼Œéƒ½å®‰å¿ƒï¼›è®©æ¯ä¸€æ¬¡å‘å¸ƒï¼Œéƒ½å¯é ã€‚äº‘æ•ˆ Region ç‰ˆæœ¬â€”â€”ä¸ºç ”å‘å®‰å…¨è€Œç”Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ Three.js--åŸºäºGeoJSONç»˜åˆ¶2DçŸ¢é‡åœ°å›¾]]></title>    <link>https://juejin.cn/post/7599166436683857966</link>    <guid>https://juejin.cn/post/7599166436683857966</guid>    <pubDate>2026-01-26T06:59:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599166436683857966" data-draft-id="7599459943917387814" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ Three.js--åŸºäºGeoJSONç»˜åˆ¶2DçŸ¢é‡åœ°å›¾"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-01-26T06:59:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€ è½®å­çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/497453720940158"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ Three.js--åŸºäºGeoJSONç»˜åˆ¶2DçŸ¢é‡åœ°å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/497453720940158/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€ è½®å­çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:59:18.000Z" title="Mon Jan 26 2026 06:59:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å­¦ä¹ Three.js--åŸºäºGeoJSONç»˜åˆ¶2DçŸ¢é‡åœ°å›¾</h2>
<h3 data-id="heading-1">å‰ç½®æ ¸å¿ƒè¯´æ˜</h3>
<h4 data-id="heading-2">å¼€å‘ç›®æ ‡</h4>
<p>åŸºäºThree.jså®ç°<strong>çº¯çŸ¢é‡2Dåœ°å›¾</strong>ï¼Œæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ol>
<li>å°†GeoJSONåœ°ç†æ•°æ®ï¼ˆç»çº¬åº¦ï¼‰è½¬æ¢ä¸ºThree.jså¯æ¸²æŸ“çš„å¹³é¢å›¾å½¢ï¼›</li>
<li>æ”¯æŒå¢¨å¡æ‰˜æŠ•å½±ï¼ˆç»çº¬åº¦â†’å¹³é¢åæ ‡ï¼‰ã€åœ°å›¾å±…ä¸­ç¼©æ”¾é€‚é…è§†å£ï¼›</li>
<li>å®ç°é¼ æ ‡ç‚¹å‡»çœä»½é«˜äº®ï¼ˆå¡«å……+è¾¹æ¡†å˜è‰²ï¼‰ï¼›</li>
<li>çº¯2Däº¤äº’ï¼ˆä»…å¹³ç§»/ç¼©æ”¾ï¼Œç¦ç”¨æ—‹è½¬ï¼‰ï¼Œæ¨¡æ‹Ÿä¼ ç»Ÿåœ°å›¾ä½“éªŒã€‚</li>
<li>å¼€å‘æ•ˆæœå¦‚ä¸‹</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e496fe4b436428fa74953248df38603~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCg6L2u5a2Q55qE54yq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770015561&amp;x-signature=kLkULbG4EcbxrnRRQxHC20uKayA%3D" alt="dc087832-635b-4da4-85d7-1d09b70b1e73.png" loading="lazy"/></p>
<h4 data-id="heading-3">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h4>

































<table><thead><tr><th>æŠ€æœ¯ç‚¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>OrthographicCamera</code>ï¼ˆæ­£äº¤ç›¸æœºï¼‰</td><td>å®ç°æ— é€è§†çš„2Dæ•ˆæœï¼ˆæ— è¿‘å¤§è¿œå°ï¼‰ï¼Œæ˜¯2Dåœ°å›¾çš„æ ¸å¿ƒç›¸æœºç±»å‹</td></tr><tr><td>å¢¨å¡æ‰˜æŠ•å½±å‡½æ•°</td><td>å°†åœ°ç†ç»çº¬åº¦ï¼ˆlon/latï¼‰è½¬æ¢ä¸ºå¹³é¢ç¬›å¡å°”åæ ‡ï¼ˆx/yï¼‰</td></tr><tr><td><code>Shape</code>/<code>ShapeGeometry</code></td><td>å°†GeoJSONçš„å¤šè¾¹å½¢åæ ‡è½¬æ¢ä¸ºThree.jså¯æ¸²æŸ“çš„å‡ ä½•å½¢çŠ¶</td></tr><tr><td><code>Raycaster</code>ï¼ˆå°„çº¿æ£€æµ‹ï¼‰</td><td>å®ç°é¼ æ ‡ç‚¹å‡»ä¸çœä»½å›¾å½¢çš„äº¤äº’ï¼ˆå‘½ä¸­æ£€æµ‹ï¼‰</td></tr><tr><td><code>OrbitControls</code>ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰</td><td>è‡ªå®šä¹‰äº¤äº’è§„åˆ™ï¼ˆç¦ç”¨æ—‹è½¬ï¼Œä»…ä¿ç•™å¹³ç§»/ç¼©æ”¾ï¼‰</td></tr><tr><td>GeoJSON</td><td>è¡Œä¸šæ ‡å‡†åœ°ç†æ•°æ®æ ¼å¼ï¼Œå­˜å‚¨çœä»½çš„å¤šè¾¹å½¢åæ ‡ä¿¡æ¯</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">åˆ†æ­¥å¼€å‘è¯¦è§£</h3>
<h4 data-id="heading-5">æ­¥éª¤1ï¼šåŸºç¡€ç¯å¢ƒæ­å»ºï¼ˆåœºæ™¯/ç›¸æœº/æ¸²æŸ“å™¨/æ§åˆ¶å™¨ï¼‰</h4>
<h5 data-id="heading-6">1.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å­˜å‚¨æ‰€æœ‰çœä»½Meshï¼Œç”¨äºå°„çº¿æ£€æµ‹</span>
<span class="hljs-keyword">const</span> provinceMeshes = []; 

<span class="hljs-comment">// 1. åœºæ™¯åˆå§‹åŒ–ï¼ˆåœ°å›¾å®¹å™¨ï¼‰</span>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
scene.<span class="hljs-property">background</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0xf8fafc</span>); <span class="hljs-comment">// æµ…ç°èƒŒæ™¯</span>

<span class="hljs-comment">// 2. æ­£äº¤ç›¸æœºï¼ˆæ ¸å¿ƒï¼2Dåœ°å›¾å¿…é¡»ç”¨æ­£äº¤ç›¸æœºï¼‰</span>
<span class="hljs-keyword">const</span> aspect = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>; <span class="hljs-comment">// çª—å£å®½é«˜æ¯”</span>
<span class="hljs-keyword">const</span> frustumSize = <span class="hljs-number">800</span>; <span class="hljs-comment">// ç›¸æœºè§†å£é«˜åº¦ï¼ˆæ§åˆ¶åœ°å›¾åˆå§‹æ˜¾ç¤ºèŒƒå›´ï¼‰</span>
<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">OrthographicCamera</span>(
  -frustumSize * aspect / <span class="hljs-number">2</span>, <span class="hljs-comment">// å·¦è¾¹ç•Œ</span>
  frustumSize * aspect / <span class="hljs-number">2</span>,  <span class="hljs-comment">// å³è¾¹ç•Œ</span>
  frustumSize / <span class="hljs-number">2</span>,           <span class="hljs-comment">// ä¸Šè¾¹ç•Œ</span>
  -frustumSize / <span class="hljs-number">2</span>,          <span class="hljs-comment">// ä¸‹è¾¹ç•Œ</span>
  <span class="hljs-number">1</span>,                         <span class="hljs-comment">// è¿‘è£åˆ‡é¢ï¼ˆæœ€è¿‘å¯è§è·ç¦»ï¼‰</span>
  <span class="hljs-number">1000</span>                       <span class="hljs-comment">// è¿œè£åˆ‡é¢ï¼ˆæœ€è¿œå¯è§è·ç¦»ï¼‰</span>
);
camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">// ç›¸æœºåœ¨Zè½´ï¼Œçœ‹å‘åœºæ™¯ä¸­å¿ƒ</span>
camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

<span class="hljs-comment">// 3. æ¸²æŸ“å™¨ï¼ˆæŠ—é”¯é½¿+é«˜æ¸…é€‚é…ï¼‰</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

<span class="hljs-comment">// 4. è½¨é“æ§åˆ¶å™¨ï¼ˆè‡ªå®šä¹‰äº¤äº’è§„åˆ™ï¼‰</span>
<span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);
controls.<span class="hljs-property">enableRotate</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç¦ç”¨æ—‹è½¬ï¼ˆçº¯2Dåœ°å›¾ï¼‰</span>
controls.<span class="hljs-property">enablePan</span> = <span class="hljs-literal">true</span>;     <span class="hljs-comment">// å¯ç”¨å¹³ç§»ï¼ˆæ‹–æ‹½åœ°å›¾ï¼‰</span>
controls.<span class="hljs-property">enableZoom</span> = <span class="hljs-literal">true</span>;    <span class="hljs-comment">// å¯ç”¨ç¼©æ”¾ï¼ˆæ»šè½®ï¼‰</span>
controls.<span class="hljs-property">zoomSpeed</span> = <span class="hljs-number">1.5</span>;      <span class="hljs-comment">// ç¼©æ”¾é€Ÿåº¦ï¼ˆé€‚é…ä½“éªŒï¼‰</span>
</code></pre>
<h5 data-id="heading-7">1.2 å…³é”®å‚æ•°è§£æ</h5>
<ul>
<li><strong>æ­£äº¤ç›¸æœºå‚æ•°</strong>ï¼šåŒºåˆ«äºé€è§†ç›¸æœºï¼ˆPerspectiveCameraï¼‰ï¼Œæ­£äº¤ç›¸æœºçš„è§†å£æ˜¯çŸ©å½¢ï¼Œæ‰€æœ‰ç‰©ä½“æ— è®ºè·ç¦»è¿œè¿‘å¤§å°ä¸€è‡´ï¼Œå®Œç¾é€‚é…2Dåœ°å›¾ï¼›</li>
<li><strong>frustumSize</strong>ï¼šæ§åˆ¶ç›¸æœºè§†å£é«˜åº¦ï¼Œå€¼è¶Šå¤§åœ°å›¾åˆå§‹æ˜¾ç¤ºèŒƒå›´è¶Šå¤§ï¼›</li>
<li><strong>æ§åˆ¶å™¨é…ç½®</strong>ï¼šç¦ç”¨æ—‹è½¬æ˜¯2Dåœ°å›¾çš„æ ¸å¿ƒè¦æ±‚ï¼Œé¿å…è§†è§’å€¾æ–œã€‚</li>
</ul>
<h4 data-id="heading-8">æ­¥éª¤2ï¼šå¢¨å¡æ‰˜æŠ•å½±å‡½æ•°ï¼ˆç»çº¬åº¦â†’å¹³é¢åæ ‡ï¼‰</h4>
<h5 data-id="heading-9">2.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¢¨å¡æ‰˜æŠ•å½±ï¼šå°†ç»çº¬åº¦ï¼ˆlon/latï¼‰è½¬æ¢ä¸ºå¹³é¢åæ ‡ï¼ˆx/yï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mercator</span>(<span class="hljs-params">lon, lat</span>) {
  <span class="hljs-keyword">const</span> R = <span class="hljs-number">6378137</span>; <span class="hljs-comment">// WGS84åæ ‡ç³»åœ°çƒåŠå¾„ï¼ˆç±³ï¼‰</span>
  <span class="hljs-keyword">const</span> x = (lon * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * R; <span class="hljs-comment">// ç»åº¦è½¬å¼§åº¦ Ã— åœ°çƒåŠå¾„</span>
  <span class="hljs-keyword">const</span> y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">tan</span>((<span class="hljs-number">90</span> + lat) * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">360</span>)) * R; <span class="hljs-comment">// çº¬åº¦æŠ•å½±å…¬å¼</span>
  <span class="hljs-keyword">return</span> { x, y }; <span class="hljs-comment">// yè½´åŒ—ä¸ºæ­£ï¼Œxè½´ä¸œä¸ºæ­£</span>
}
</code></pre>
<h5 data-id="heading-10">2.2 åŸç†è¯´æ˜</h5>
<ul>
<li>å¢¨å¡æ‰˜æŠ•å½±æ˜¯åœ°å›¾é¢†åŸŸçš„æ ‡å‡†æŠ•å½±æ–¹å¼ï¼Œå°†çƒå½¢åœ°çƒçš„ç»çº¬åº¦è½¬æ¢ä¸ºå¹³é¢çŸ©å½¢åæ ‡ï¼›</li>
<li>ç»åº¦ï¼ˆlonï¼‰èŒƒå›´ï¼š-180Â°<del>180Â°ï¼Œçº¬åº¦ï¼ˆlatï¼‰èŒƒå›´ï¼š-90Â°</del>90Â°ï¼›</li>
<li>æ ¸å¿ƒå…¬å¼ï¼š
<ul>
<li>ç»åº¦è½¬æ¢ï¼šç›´æ¥å°†è§’åº¦è½¬ä¸ºå¼§åº¦åä¹˜ä»¥åœ°çƒåŠå¾„ï¼›</li>
<li>çº¬åº¦è½¬æ¢ï¼šé€šè¿‡æ­£åˆ‡+å¯¹æ•°å‡½æ•°ï¼Œè§£å†³çº¬åº¦è¶Šé è¿‘æç‚¹æ‹‰ä¼¸è¶Šå¤§çš„é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">æ­¥éª¤3ï¼šGeoJSONåŠ è½½ä¸å…¨å±€è¾¹ç•Œè®¡ç®—</h4>
<h5 data-id="heading-12">3.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> bounds = { <span class="hljs-attr">minX</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">maxX</span>: -<span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">minY</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">maxY</span>: -<span class="hljs-title class_">Infinity</span> };

<span class="hljs-comment">// å¼‚æ­¥åŠ è½½GeoJSONå¹¶ç»˜åˆ¶åœ°å›¾</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadAndDrawMap</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// 1. åŠ è½½GeoJSONæ•°æ®ï¼ˆæœ¬åœ°æ–‡ä»¶ï¼‰</span>
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'./china.json'</span>);
  <span class="hljs-keyword">const</span> geojson = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

  <span class="hljs-comment">// 2. æ‰‹åŠ¨æ ¡æ­£æ¸¯æ¾³ä½ç½®ï¼ˆå¢¨å¡æ‰˜æŠ•å½±åçš„åç§»ï¼Œå•ä½ï¼šç±³ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SPECIAL_REGION_OFFSETS</span> = {
    <span class="hljs-string">'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº'</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">80000</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">60000</span> },
    <span class="hljs-string">'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº'</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">100000</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">80000</span> }
  };

  <span class="hljs-comment">// 3. éå†æ‰€æœ‰åæ ‡ï¼Œè®¡ç®—å…¨å±€è¾¹ç•Œï¼ˆç”¨äºåœ°å›¾å±…ä¸­ç¼©æ”¾ï¼‰</span>
  geojson.<span class="hljs-property">features</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">feature</span> =&gt;</span> {
    <span class="hljs-title function_">traverseCoordinates</span>(feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>, <span class="hljs-function">(<span class="hljs-params">lon, lat</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { x, y } = <span class="hljs-title function_">mercator</span>(lon, lat);
      <span class="hljs-comment">// æ›´æ–°è¾¹ç•Œå€¼ï¼ˆæœ€å°/æœ€å¤§x/yï¼‰</span>
      bounds.<span class="hljs-property">minX</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bounds.<span class="hljs-property">minX</span>, x);
      bounds.<span class="hljs-property">maxX</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(bounds.<span class="hljs-property">maxX</span>, x);
      bounds.<span class="hljs-property">minY</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bounds.<span class="hljs-property">minY</span>, y);
      bounds.<span class="hljs-property">maxY</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(bounds.<span class="hljs-property">maxY</span>, y);
    });
  });

  <span class="hljs-comment">// 4. è®¡ç®—åœ°å›¾ä¸­å¿ƒå’Œç¼©æ”¾æ¯”ä¾‹ï¼ˆé€‚é…è§†å£ï¼‰</span>
  <span class="hljs-keyword">const</span> centerX = (bounds.<span class="hljs-property">minX</span> + bounds.<span class="hljs-property">maxX</span>) / <span class="hljs-number">2</span>; <span class="hljs-comment">// åœ°å›¾ä¸­å¿ƒX</span>
  <span class="hljs-keyword">const</span> centerY = (bounds.<span class="hljs-property">minY</span> + bounds.<span class="hljs-property">maxY</span>) / <span class="hljs-number">2</span>; <span class="hljs-comment">// åœ°å›¾ä¸­å¿ƒY</span>
  <span class="hljs-keyword">const</span> width = bounds.<span class="hljs-property">maxX</span> - bounds.<span class="hljs-property">minX</span>;         <span class="hljs-comment">// åœ°å›¾å®½åº¦</span>
  <span class="hljs-keyword">const</span> height = bounds.<span class="hljs-property">maxY</span> - bounds.<span class="hljs-property">minY</span>;        <span class="hljs-comment">// åœ°å›¾é«˜åº¦</span>
  <span class="hljs-keyword">const</span> scale = <span class="hljs-number">700</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(width, height);     <span class="hljs-comment">// ç¼©æ”¾æ¯”ä¾‹ï¼ˆä½¿åœ°å›¾é€‚é…è§†å£ï¼‰</span>

  <span class="hljs-comment">// åç»­åˆ›å»ºçœä»½Shape...</span>
}

<span class="hljs-comment">// é€’å½’éå†GeoJSONåæ ‡ï¼ˆå¤„ç†Polygon/MultiPolygonåµŒå¥—ç»“æ„ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">traverseCoordinates</span>(<span class="hljs-params">coords, callback</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> coords[<span class="hljs-number">0</span>] === <span class="hljs-string">'number'</span>) {
    <span class="hljs-comment">// åŸºç¡€æƒ…å†µï¼š[lon, lat] æ•°ç»„ï¼Œæ‰§è¡Œå›è°ƒ</span>
    <span class="hljs-title function_">callback</span>(coords[<span class="hljs-number">0</span>], coords[<span class="hljs-number">1</span>]);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// é€’å½’æƒ…å†µï¼šåµŒå¥—æ•°ç»„ï¼Œç»§ç»­éå†</span>
    coords.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> <span class="hljs-title function_">traverseCoordinates</span>(c, callback));
  }
}
</code></pre>
<h5 data-id="heading-13">3.2 å…³é”®é€»è¾‘è§£æ</h5>
<ul>
<li><strong>è¾¹ç•Œè®¡ç®—</strong>ï¼šéå†æ‰€æœ‰çœä»½çš„æ‰€æœ‰åæ ‡ï¼Œå¾—åˆ°åœ°å›¾çš„æœ€å°/æœ€å¤§x/yï¼Œç”¨äºåç»­å±…ä¸­ï¼›</li>
<li><strong>æ¸¯æ¾³åç§»</strong>ï¼šè§£å†³GeoJSONä¸­æ¸¯æ¾³åæ ‡æŠ•å½±åä½ç½®åå·®çš„é—®é¢˜ï¼›</li>
<li><strong>ç¼©æ”¾æ¯”ä¾‹</strong>ï¼š<code>700 / Math.max(width, height)</code> ä¿è¯åœ°å›¾çš„æœ€å¤§ç»´åº¦é€‚é…è§†å£ï¼ˆ700ä¸ºç»éªŒå€¼ï¼Œå¯è°ƒæ•´ï¼‰ï¼›</li>
<li><strong>é€’å½’éå†åæ ‡</strong>ï¼šGeoJSONçš„<code>Polygon</code>æ˜¯å•å±‚æ•°ç»„ï¼Œ<code>MultiPolygon</code>æ˜¯åŒå±‚æ•°ç»„ï¼Œéœ€é€’å½’å¤„ç†æ‰€æœ‰åµŒå¥—åæ ‡ã€‚</li>
</ul>
<h4 data-id="heading-14">æ­¥éª¤4ï¼šåˆ›å»ºShapeä¸çœä»½Mesh</h4>
<h5 data-id="heading-15">4.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨loadAndDrawMapå‡½æ•°å†…ï¼Œè¾¹ç•Œè®¡ç®—åæ‰§è¡Œï¼š</span>
geojson.<span class="hljs-property">features</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">feature</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> shapes = [];
  <span class="hljs-keyword">const</span> provinceName = feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>;
  <span class="hljs-keyword">const</span> offset = <span class="hljs-variable constant_">SPECIAL_REGION_OFFSETS</span>[provinceName] || { <span class="hljs-attr">dx</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">dy</span>: <span class="hljs-number">0</span> };

  <span class="hljs-comment">// å¤„ç†å•ä¸ªPolygonï¼ˆå¦‚å¤§å¤šæ•°çœä»½ï¼‰</span>
  <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'Polygon'</span>) {
    <span class="hljs-keyword">const</span> shape = <span class="hljs-title function_">createShape</span>(feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>[<span class="hljs-number">0</span>], centerX, centerY, scale, offset);
    <span class="hljs-keyword">if</span> (shape) shapes.<span class="hljs-title function_">push</span>(shape);
  } 
  <span class="hljs-comment">// å¤„ç†MultiPolygonï¼ˆå¦‚åŒ…å«å²›å±¿çš„çœä»½ï¼šæµ·å—ã€æµ™æ±Ÿç­‰ï¼‰</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'MultiPolygon'</span>) {
    feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">polygon</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> shape = <span class="hljs-title function_">createShape</span>(polygon[<span class="hljs-number">0</span>], centerX, centerY, scale, offset);
      <span class="hljs-keyword">if</span> (shape) shapes.<span class="hljs-title function_">push</span>(shape);
    });
  }

  <span class="hljs-comment">// ä¸ºæ¯ä¸ªShapeåˆ›å»ºMeshï¼ˆå¡«å……ï¼‰å’ŒLineï¼ˆè¾¹æ¡†ï¼‰</span>
  shapes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">shape</span> =&gt;</span> {
    <span class="hljs-comment">// 1. åˆ›å»ºå¡«å……å‡ ä½•ä½“</span>
    <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShapeGeometry</span>(shape);
    <span class="hljs-comment">// 2. å¡«å……æè´¨ï¼ˆè“è‰²ï¼ŒåŒé¢æ¸²æŸ“ï¼‰</span>
    <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>({
      <span class="hljs-attr">color</span>: <span class="hljs-number">0x3b82f6</span>,
      <span class="hljs-attr">side</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">DoubleSide</span>
    });
    <span class="hljs-comment">// 3. åˆ›å»ºçœä»½Mesh</span>
    <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);
    
    <span class="hljs-comment">// å…³é”®ï¼šç»‘å®šçœä»½ä¿¡æ¯åˆ°userDataï¼ˆäº¤äº’æ—¶ä½¿ç”¨ï¼‰</span>
    mesh.<span class="hljs-property">userData</span> = {
      <span class="hljs-attr">provinceName</span>: feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>,
      <span class="hljs-attr">originalColor</span>: <span class="hljs-number">0x3b82f6</span>,
      <span class="hljs-attr">isHighlighted</span>: <span class="hljs-literal">false</span>
    };

    scene.<span class="hljs-title function_">add</span>(mesh);
    provinceMeshes.<span class="hljs-title function_">push</span>(mesh); <span class="hljs-comment">// åŠ å…¥æ•°ç»„ï¼Œç”¨äºå°„çº¿æ£€æµ‹</span>

    <span class="hljs-comment">// 4. åˆ›å»ºç™½è‰²è¾¹æ¡†</span>
    <span class="hljs-keyword">const</span> borderGeo = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>().<span class="hljs-title function_">setFromPoints</span>(shape.<span class="hljs-title function_">getPoints</span>());
    <span class="hljs-keyword">const</span> borderMat = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xffffff</span>, <span class="hljs-attr">linewidth</span>: <span class="hljs-number">2</span> });
    <span class="hljs-keyword">const</span> border = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(borderGeo, borderMat);
    mesh.<span class="hljs-property">border</span> = border; <span class="hljs-comment">// è¾¹æ¡†ç»‘å®šåˆ°Meshï¼Œæ–¹ä¾¿åç»­ä¿®æ”¹é¢œè‰²</span>
    scene.<span class="hljs-title function_">add</span>(border);
  });
});

<span class="hljs-comment">// åˆ›å»ºShapeï¼šå°†GeoJSONå¤šè¾¹å½¢è½¬æ¢ä¸ºThree.js Shape</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createShape</span>(<span class="hljs-params">ring, centerX, centerY, scale, offset = { dx: <span class="hljs-number">0</span>, dy: <span class="hljs-number">0</span> }</span>) {
  <span class="hljs-keyword">if</span> (ring.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// å°‘äº3ä¸ªç‚¹æ— æ³•æ„æˆå¤šè¾¹å½¢</span>
  <span class="hljs-keyword">const</span> shape = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Shape</span>();
  <span class="hljs-comment">// è½¬æ¢æ‰€æœ‰ç‚¹ä¸ºå¹³é¢åæ ‡ï¼Œå¹¶åº”ç”¨å±…ä¸­+ç¼©æ”¾+åç§»</span>
  <span class="hljs-keyword">const</span> points = ring.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[lon, lat]</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { x, y } = <span class="hljs-title function_">mercator</span>(lon, lat);
    <span class="hljs-keyword">const</span> shiftedX = x + offset.<span class="hljs-property">dx</span>;
    <span class="hljs-keyword">const</span> shiftedY = y + offset.<span class="hljs-property">dy</span>;
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">x</span>: (shiftedX - centerX) * scale, <span class="hljs-comment">// å±…ä¸­åç¼©æ”¾</span>
      <span class="hljs-attr">y</span>: (shiftedY - centerY) * scale
    };
  });
  <span class="hljs-comment">// ç»˜åˆ¶Shapeï¼šç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªç‚¹ï¼Œä¾æ¬¡è¿çº¿</span>
  shape.<span class="hljs-title function_">moveTo</span>(points[<span class="hljs-number">0</span>].<span class="hljs-property">x</span>, points[<span class="hljs-number">0</span>].<span class="hljs-property">y</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; points.<span class="hljs-property">length</span>; i++) {
    shape.<span class="hljs-title function_">lineTo</span>(points[i].<span class="hljs-property">x</span>, points[i].<span class="hljs-property">y</span>);
  }
  <span class="hljs-keyword">return</span> shape;
}
</code></pre>
<h5 data-id="heading-16">4.2 å…³é”®é€»è¾‘è§£æ</h5>
<ul>
<li><strong>Shapeåˆ›å»º</strong>ï¼š<code>THREE.Shape</code>æ˜¯Three.jsçš„2Då½¢çŠ¶å¯¹è±¡ï¼Œé€šè¿‡<code>moveTo</code>+<code>lineTo</code>ç»˜åˆ¶å¤šè¾¹å½¢ï¼›</li>
<li><strong>MultiPolygonå¤„ç†</strong>ï¼šåŒ…å«å¤šä¸ªå¤šè¾¹å½¢çš„çœä»½ï¼ˆå¦‚æµ·å—=æµ·å—å²›+å—æµ·è¯¸å²›ï¼‰ï¼Œéœ€ä¸ºæ¯ä¸ªå¤šè¾¹å½¢åˆ›å»ºç‹¬ç«‹Shapeï¼›</li>
<li><strong>userDataç»‘å®š</strong>ï¼šThree.jsçš„Object3Då¯¹è±¡å¯é€šè¿‡<code>userData</code>å­˜å‚¨è‡ªå®šä¹‰æ•°æ®ï¼Œè¿™é‡Œç»‘å®šçœä»½åç§°/åŸå§‹é¢œè‰²ï¼Œæ˜¯äº¤äº’çš„æ ¸å¿ƒï¼›</li>
<li><strong>è¾¹æ¡†åˆ›å»º</strong>ï¼šé€šè¿‡<code>shape.getPoints()</code>è·å–Shapeçš„é¡¶ç‚¹ï¼Œåˆ›å»ºLineå®ç°è¾¹æ¡†æ•ˆæœã€‚</li>
</ul>
<h4 data-id="heading-17">æ­¥éª¤5ï¼šRaycasterå°„çº¿æ£€æµ‹ï¼ˆé¼ æ ‡ç‚¹å‡»é«˜äº®ï¼‰</h4>
<h5 data-id="heading-18">5.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> highlightedProvince = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è®°å½•å½“å‰é«˜äº®çš„çœä»½</span>

<span class="hljs-comment">// é¼ æ ‡ç‚¹å‡»äº‹ä»¶å¤„ç†</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, onDocumentMouseDown, <span class="hljs-literal">false</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onDocumentMouseDown</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-comment">// 1. å°†é¼ æ ‡å±å¹•åæ ‡è½¬æ¢ä¸ºNDCï¼ˆå½’ä¸€åŒ–è®¾å¤‡åæ ‡ï¼ŒèŒƒå›´-1~1ï¼‰</span>
  <span class="hljs-keyword">const</span> mouse = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>();
  mouse.<span class="hljs-property">x</span> = (event.<span class="hljs-property">clientX</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>) * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
  mouse.<span class="hljs-property">y</span> = -(event.<span class="hljs-property">clientY</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>) * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;

  <span class="hljs-comment">// 2. åˆ›å»ºRaycasterï¼ˆå°„çº¿æ£€æµ‹ï¼‰</span>
  <span class="hljs-keyword">const</span> raycaster = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Raycaster</span>();
  raycaster.<span class="hljs-title function_">setFromCamera</span>(mouse, camera); <span class="hljs-comment">// è®¾ç½®å°„çº¿ï¼šä»ç›¸æœºåˆ°é¼ æ ‡ä½ç½®</span>

  <span class="hljs-comment">// 3. æ£€æµ‹å°„çº¿ä¸æ‰€æœ‰çœä»½Meshçš„ç›¸äº¤</span>
  <span class="hljs-keyword">const</span> intersects = raycaster.<span class="hljs-title function_">intersectObjects</span>(provinceMeshes);

  <span class="hljs-keyword">if</span> (intersects.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// ç‚¹å‡»åˆ°çœä»½ï¼šåˆ‡æ¢é«˜äº®</span>
    <span class="hljs-keyword">const</span> clickedMesh = intersects[<span class="hljs-number">0</span>].<span class="hljs-property">object</span>;

    <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„é«˜äº®</span>
    <span class="hljs-keyword">if</span> (highlightedProvince) {
      highlightedProvince.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">originalColor</span>);
      <span class="hljs-keyword">if</span> (highlightedProvince.<span class="hljs-property">border</span>) {
        highlightedProvince.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffffff</span>);
      }
      highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// é«˜äº®å½“å‰ç‚¹å‡»çš„çœä»½</span>
    clickedMesh.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffd700</span>); <span class="hljs-comment">// é‡‘è‰²å¡«å……</span>
    <span class="hljs-keyword">if</span> (clickedMesh.<span class="hljs-property">border</span>) {
      clickedMesh.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xff0000</span>); <span class="hljs-comment">// çº¢è‰²è¾¹æ¡†</span>
    }
    clickedMesh.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">true</span>;
    highlightedProvince = clickedMesh;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»äº†:'</span>, clickedMesh.<span class="hljs-property">userData</span>.<span class="hljs-property">provinceName</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ç‚¹å‡»ç©ºç™½å¤„ï¼šå–æ¶ˆæ‰€æœ‰é«˜äº®</span>
    <span class="hljs-keyword">if</span> (highlightedProvince) {
      highlightedProvince.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">originalColor</span>);
      <span class="hljs-keyword">if</span> (highlightedProvince.<span class="hljs-property">border</span>) {
        highlightedProvince.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffffff</span>);
      }
      highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">false</span>;
      highlightedProvince = <span class="hljs-literal">null</span>;
    }
  }
}
</code></pre>
<h5 data-id="heading-19">5.2 å°„çº¿æ£€æµ‹æ ¸å¿ƒåŸç†</h5>
<ul>
<li><strong>NDCåæ ‡è½¬æ¢</strong>ï¼šå±å¹•åæ ‡ï¼ˆclientX/clientYï¼‰è½¬æ¢ä¸ºå½’ä¸€åŒ–è®¾å¤‡åæ ‡ï¼ˆ-1~1ï¼‰ï¼Œæ˜¯Raycasterçš„æ ‡å‡†è¾“å…¥ï¼›</li>
<li><strong>å°„çº¿åˆ›å»º</strong>ï¼š<code>raycaster.setFromCamera(mouse, camera)</code> ç”Ÿæˆä»ç›¸æœºä½ç½®æŒ‡å‘é¼ æ ‡ä½ç½®çš„å°„çº¿ï¼›</li>
<li><strong>ç›¸äº¤æ£€æµ‹</strong>ï¼š<code>raycaster.intersectObjects(provinceMeshes)</code> è¿”å›å°„çº¿ä¸Meshçš„ç›¸äº¤ç»“æœï¼Œä¼˜å…ˆè¿”å›æœ€è¿‘çš„Meshï¼›</li>
<li><strong>é«˜äº®é€»è¾‘</strong>ï¼šé€šè¿‡ä¿®æ”¹æè´¨é¢œè‰²å®ç°é«˜äº®ï¼Œåˆ©ç”¨<code>userData</code>å­˜å‚¨åŸå§‹é¢œè‰²ï¼Œä¿è¯åˆ‡æ¢å›é€€ã€‚</li>
</ul>
<h4 data-id="heading-20">æ­¥éª¤6ï¼šçª—å£é€‚é…ä¸æ¸²æŸ“å¾ªç¯</h4>
<h5 data-id="heading-21">6.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çª—å£å¤§å°é€‚é…</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> aspect = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  <span class="hljs-keyword">const</span> frustumSize = <span class="hljs-number">800</span>;
  <span class="hljs-comment">// æ›´æ–°æ­£äº¤ç›¸æœºè¾¹ç•Œ</span>
  camera.<span class="hljs-property">left</span> = -frustumSize * aspect / <span class="hljs-number">2</span>;
  camera.<span class="hljs-property">right</span> = frustumSize * aspect / <span class="hljs-number">2</span>;
  camera.<span class="hljs-property">top</span> = frustumSize / <span class="hljs-number">2</span>;
  camera.<span class="hljs-property">bottom</span> = -frustumSize / <span class="hljs-number">2</span>;
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>(); <span class="hljs-comment">// å¿…é¡»æ›´æ–°æŠ•å½±çŸ©é˜µ</span>
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>); <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨å°ºå¯¸</span>
});

<span class="hljs-comment">// æ¸²æŸ“å¾ªç¯ï¼ˆæŒç»­æ¸²æŸ“åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">requestAnimationFrame</span>(animate); <span class="hljs-comment">// æµè§ˆå™¨åˆ·æ–°ç‡åŒæ­¥</span>
  controls.<span class="hljs-title function_">update</span>(); <span class="hljs-comment">// æ›´æ–°æ§åˆ¶å™¨ï¼ˆé˜»å°¼/å¹³ç§»/ç¼©æ”¾ï¼‰</span>
  renderer.<span class="hljs-title function_">render</span>(scene, camera); <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯</span>
}
<span class="hljs-title function_">animate</span>();

<span class="hljs-comment">// å¯åŠ¨åœ°å›¾åŠ è½½</span>
<span class="hljs-title function_">loadAndDrawMap</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½å¤±è´¥:'</span>, err));
</code></pre>
<h5 data-id="heading-22">6.2 å…³é”®æ³¨æ„ç‚¹</h5>
<ul>
<li><strong>æŠ•å½±çŸ©é˜µæ›´æ–°</strong>ï¼šæ­£äº¤ç›¸æœºå‚æ•°ä¿®æ”¹åï¼Œå¿…é¡»è°ƒç”¨<code>camera.updateProjectionMatrix()</code>ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼›</li>
<li><strong>æ¸²æŸ“å¾ªç¯</strong>ï¼šThree.jséœ€è¦æŒç»­è°ƒç”¨<code>renderer.render()</code>æ‰èƒ½æ˜¾ç¤ºç”»é¢ï¼Œ<code>requestAnimationFrame</code>ä¿è¯å¸§ç‡ç¨³å®šã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-23">æ ¸å¿ƒæ–¹æ³•/å‚æ•°é€ŸæŸ¥è¡¨</h3>
<h4 data-id="heading-24">1. æ ¸å¿ƒç±»/å‡½æ•°å‚æ•°</h4>



































<table><thead><tr><th>ç±»/å‡½æ•°</th><th>å…³é”®å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>OrthographicCamera</code></td><td>left/right/top/bottom/near/far</td><td>æ­£äº¤ç›¸æœºè¾¹ç•Œï¼Œnear/faræ§åˆ¶å¯è§è·ç¦»</td></tr><tr><td><code>mercator(lon, lat)</code></td><td>lonï¼ˆç»åº¦ï¼‰ã€latï¼ˆçº¬åº¦ï¼‰</td><td>è¿”å›{x,y}å¹³é¢åæ ‡ï¼ŒR=6378137ï¼ˆåœ°çƒåŠå¾„ï¼‰</td></tr><tr><td><code>traverseCoordinates(coords, callback)</code></td><td>coordsï¼ˆGeoJSONåæ ‡ï¼‰ã€callbackï¼ˆéå†å›è°ƒï¼‰</td><td>é€’å½’å¤„ç†åµŒå¥—åæ ‡ï¼Œå›è°ƒå‚æ•°ä¸ºlon/lat</td></tr><tr><td><code>createShape(ring, centerX, centerY, scale, offset)</code></td><td>ringï¼ˆå¤šè¾¹å½¢åæ ‡ç¯ï¼‰ã€centerX/Yï¼ˆåœ°å›¾ä¸­å¿ƒï¼‰ã€scaleï¼ˆç¼©æ”¾ï¼‰ã€offsetï¼ˆåç§»ï¼‰</td><td>è¿”å›THREE.Shapeï¼Œå®ç°åæ ‡å±…ä¸­+ç¼©æ”¾</td></tr><tr><td><code>Raycaster.setFromCamera(mouse, camera)</code></td><td>mouseï¼ˆNDCåæ ‡ï¼‰ã€cameraï¼ˆç›¸æœºï¼‰</td><td>åˆ›å»ºä»ç›¸æœºåˆ°é¼ æ ‡çš„å°„çº¿</td></tr></tbody></table>
<h4 data-id="heading-25">2. äº¤äº’æ ¸å¿ƒå‚æ•°</h4>





















<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>mesh.userData</code></td><td>å­˜å‚¨çœä»½åç§°/åŸå§‹é¢œè‰²/é«˜äº®çŠ¶æ€ï¼Œäº¤äº’æ—¶è¯»å–</td></tr><tr><td><code>intersects[0].object</code></td><td>å°„çº¿æ£€æµ‹å‘½ä¸­çš„ç¬¬ä¸€ä¸ªMeshï¼ˆæœ€è¿‘çš„çœä»½ï¼‰</td></tr><tr><td><code>controls.enableRotate</code></td><td>ç¦ç”¨æ—‹è½¬ï¼ˆfalseï¼‰ï¼Œä¿è¯2Dåœ°å›¾ä½“éªŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-26">å®Œæ•´ä¼˜åŒ–ä»£ç </h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Three.js ä¸­å›½åœ°å›¾ - 2DçŸ¢é‡ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">overflow</span>: hidden;
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8fafc</span>;
    }
    <span class="hljs-comment">/* å¯é€‰ï¼šæ·»åŠ åŠ è½½æç¤º */</span>
    <span class="hljs-selector-class">.loading</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
      <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading"</span>&gt;</span>åŠ è½½åœ°å›¾ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0'</span>;
  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0/examples/jsm/controls/OrbitControls.js'</span>;

  <span class="hljs-comment">// å…¨å±€å˜é‡ï¼šå­˜å‚¨æ‰€æœ‰çœä»½Meshï¼ˆç”¨äºå°„çº¿æ£€æµ‹ï¼‰</span>
  <span class="hljs-keyword">const</span> provinceMeshes = [];
  <span class="hljs-comment">// å…¨å±€å˜é‡ï¼šè®°å½•å½“å‰é«˜äº®çš„çœä»½</span>
  <span class="hljs-keyword">let</span> highlightedProvince = <span class="hljs-literal">null</span>;
  <span class="hljs-comment">// å…¨å±€å˜é‡ï¼šåœ°å›¾è¾¹ç•Œï¼ˆç”¨äºå±…ä¸­ç¼©æ”¾ï¼‰</span>
  <span class="hljs-keyword">let</span> bounds = { <span class="hljs-attr">minX</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">maxX</span>: -<span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">minY</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-attr">maxY</span>: -<span class="hljs-title class_">Infinity</span> };

  <span class="hljs-comment">// ========== 1. åˆå§‹åŒ–åŸºç¡€ç¯å¢ƒ ==========</span>
  <span class="hljs-comment">// åœºæ™¯ï¼šæ‰€æœ‰å…ƒç´ çš„å®¹å™¨</span>
  <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();
  scene.<span class="hljs-property">background</span> = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0xf8fafc</span>); <span class="hljs-comment">// æµ…ç°èƒŒæ™¯</span>

  <span class="hljs-comment">// æ­£äº¤ç›¸æœºï¼š2Dåœ°å›¾æ ¸å¿ƒï¼ˆæ— é€è§†ï¼‰</span>
  <span class="hljs-keyword">const</span> aspect = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  <span class="hljs-keyword">const</span> frustumSize = <span class="hljs-number">800</span>; <span class="hljs-comment">// ç›¸æœºè§†å£é«˜åº¦ï¼ˆæ§åˆ¶åˆå§‹æ˜¾ç¤ºèŒƒå›´ï¼‰</span>
  <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">OrthographicCamera</span>(
    -frustumSize * aspect / <span class="hljs-number">2</span>,
    frustumSize * aspect / <span class="hljs-number">2</span>,
    frustumSize / <span class="hljs-number">2</span>,
    -frustumSize / <span class="hljs-number">2</span>,
    <span class="hljs-number">1</span>, <span class="hljs-number">1000</span>
  );
  camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">// ç›¸æœºåœ¨Zè½´ï¼Œçœ‹å‘åœºæ™¯ä¸­å¿ƒ</span>
  camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// æ¸²æŸ“å™¨ï¼šæŠ—é”¯é½¿+é«˜æ¸…é€‚é…</span>
  <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

  <span class="hljs-comment">// è½¨é“æ§åˆ¶å™¨ï¼šè‡ªå®šä¹‰2Däº¤äº’è§„åˆ™</span>
  <span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);
  controls.<span class="hljs-property">enableRotate</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç¦ç”¨æ—‹è½¬ï¼ˆçº¯2Dï¼‰</span>
  controls.<span class="hljs-property">enablePan</span> = <span class="hljs-literal">true</span>;     <span class="hljs-comment">// å¯ç”¨å¹³ç§»ï¼ˆæ‹–æ‹½ï¼‰</span>
  controls.<span class="hljs-property">enableZoom</span> = <span class="hljs-literal">true</span>;    <span class="hljs-comment">// å¯ç”¨ç¼©æ”¾ï¼ˆæ»šè½®ï¼‰</span>
  controls.<span class="hljs-property">zoomSpeed</span> = <span class="hljs-number">1.5</span>;      <span class="hljs-comment">// ç¼©æ”¾é€Ÿåº¦é€‚é…</span>

  <span class="hljs-comment">// ========== 2. å¢¨å¡æ‰˜æŠ•å½±å‡½æ•° ==========</span>
  <span class="hljs-comment">/**
   * å¢¨å¡æ‰˜æŠ•å½±ï¼šç»çº¬åº¦è½¬å¹³é¢åæ ‡
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">lon</span> - ç»åº¦ï¼ˆ-180~180ï¼‰
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">lat</span> - çº¬åº¦ï¼ˆ-90~90ï¼‰
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Object</span>} {<span class="hljs-type">x, y</span>} å¹³é¢åæ ‡ï¼ˆç±³ï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">mercator</span>(<span class="hljs-params">lon, lat</span>) {
    <span class="hljs-keyword">const</span> R = <span class="hljs-number">6378137</span>; <span class="hljs-comment">// WGS84åœ°çƒåŠå¾„</span>
    <span class="hljs-keyword">const</span> x = (lon * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>) * R;
    <span class="hljs-keyword">const</span> y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">tan</span>((<span class="hljs-number">90</span> + lat) * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">360</span>)) * R;
    <span class="hljs-keyword">return</span> { x, y };
  }

  <span class="hljs-comment">// ========== 3. GeoJSONåŠ è½½ä¸ç»˜åˆ¶ ==========</span>
  <span class="hljs-comment">/**
   * é€’å½’éå†GeoJSONåæ ‡ï¼ˆå¤„ç†Polygon/MultiPolygonåµŒå¥—ï¼‰
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">coords</span> - GeoJSONåæ ‡æ•°ç»„
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">callback</span> - éå†å›è°ƒï¼ˆlon, latï¼‰
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">traverseCoordinates</span>(<span class="hljs-params">coords, callback</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> coords[<span class="hljs-number">0</span>] === <span class="hljs-string">'number'</span>) {
      <span class="hljs-title function_">callback</span>(coords[<span class="hljs-number">0</span>], coords[<span class="hljs-number">1</span>]);
    } <span class="hljs-keyword">else</span> {
      coords.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> <span class="hljs-title function_">traverseCoordinates</span>(c, callback));
    }
  }

  <span class="hljs-comment">/**
   * åˆ›å»ºThree.js Shapeï¼ˆå¤šè¾¹å½¢ï¼‰
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">ring</span> - å•ä¸ªå¤šè¾¹å½¢åæ ‡ç¯
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">centerX</span> - åœ°å›¾ä¸­å¿ƒX
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">centerY</span> - åœ°å›¾ä¸­å¿ƒY
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">scale</span> - ç¼©æ”¾æ¯”ä¾‹
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">offset</span> - ä½ç½®åç§»ï¼ˆdx, dyï¼‰
   * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">THREE.Shape|null</span>} å½¢çŠ¶å¯¹è±¡
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">createShape</span>(<span class="hljs-params">ring, centerX, centerY, scale, offset = { dx: <span class="hljs-number">0</span>, dy: <span class="hljs-number">0</span> }</span>) {
    <span class="hljs-keyword">if</span> (ring.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// æœ€å°‘3ä¸ªç‚¹æ„æˆå¤šè¾¹å½¢</span>
    <span class="hljs-keyword">const</span> shape = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Shape</span>();
    <span class="hljs-keyword">const</span> points = ring.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[lon, lat]</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { x, y } = <span class="hljs-title function_">mercator</span>(lon, lat);
      <span class="hljs-keyword">const</span> shiftedX = x + offset.<span class="hljs-property">dx</span>;
      <span class="hljs-keyword">const</span> shiftedY = y + offset.<span class="hljs-property">dy</span>;
      <span class="hljs-comment">// å±…ä¸­+ç¼©æ”¾ï¼šè½¬æ¢ä¸ºç›¸æœºè§†å£åæ ‡</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">x</span>: (shiftedX - centerX) * scale,
        <span class="hljs-attr">y</span>: (shiftedY - centerY) * scale
      };
    });
    <span class="hljs-comment">// ç»˜åˆ¶Shape</span>
    shape.<span class="hljs-title function_">moveTo</span>(points[<span class="hljs-number">0</span>].<span class="hljs-property">x</span>, points[<span class="hljs-number">0</span>].<span class="hljs-property">y</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; points.<span class="hljs-property">length</span>; i++) {
      shape.<span class="hljs-title function_">lineTo</span>(points[i].<span class="hljs-property">x</span>, points[i].<span class="hljs-property">y</span>);
    }
    <span class="hljs-keyword">return</span> shape;
  }

  <span class="hljs-comment">/**
   * åŠ è½½GeoJSONå¹¶ç»˜åˆ¶åœ°å›¾
   */</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadAndDrawMap</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// 1. åŠ è½½GeoJSONæ•°æ®</span>
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'./china.json'</span>);
      <span class="hljs-keyword">const</span> geojson = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

      <span class="hljs-comment">// 2. æ¸¯æ¾³ä½ç½®åç§»ï¼ˆæ ¡æ­£æŠ•å½±åå·®ï¼‰</span>
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SPECIAL_REGION_OFFSETS</span> = {
        <span class="hljs-string">'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº'</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">80000</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">60000</span> },
        <span class="hljs-string">'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº'</span>: { <span class="hljs-attr">dx</span>: <span class="hljs-number">100000</span>, <span class="hljs-attr">dy</span>: -<span class="hljs-number">80000</span> }
      };

      <span class="hljs-comment">// 3. éå†æ‰€æœ‰åæ ‡ï¼Œè®¡ç®—å…¨å±€è¾¹ç•Œ</span>
      geojson.<span class="hljs-property">features</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">feature</span> =&gt;</span> {
        <span class="hljs-title function_">traverseCoordinates</span>(feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>, <span class="hljs-function">(<span class="hljs-params">lon, lat</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> { x, y } = <span class="hljs-title function_">mercator</span>(lon, lat);
          bounds.<span class="hljs-property">minX</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bounds.<span class="hljs-property">minX</span>, x);
          bounds.<span class="hljs-property">maxX</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(bounds.<span class="hljs-property">maxX</span>, x);
          bounds.<span class="hljs-property">minY</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bounds.<span class="hljs-property">minY</span>, y);
          bounds.<span class="hljs-property">maxY</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(bounds.<span class="hljs-property">maxY</span>, y);
        });
      });

      <span class="hljs-comment">// 4. è®¡ç®—åœ°å›¾ä¸­å¿ƒå’Œç¼©æ”¾æ¯”ä¾‹</span>
      <span class="hljs-keyword">const</span> centerX = (bounds.<span class="hljs-property">minX</span> + bounds.<span class="hljs-property">maxX</span>) / <span class="hljs-number">2</span>;
      <span class="hljs-keyword">const</span> centerY = (bounds.<span class="hljs-property">minY</span> + bounds.<span class="hljs-property">maxY</span>) / <span class="hljs-number">2</span>;
      <span class="hljs-keyword">const</span> width = bounds.<span class="hljs-property">maxX</span> - bounds.<span class="hljs-property">minX</span>;
      <span class="hljs-keyword">const</span> height = bounds.<span class="hljs-property">maxY</span> - bounds.<span class="hljs-property">minY</span>;
      <span class="hljs-keyword">const</span> scale = <span class="hljs-number">700</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(width, height); <span class="hljs-comment">// é€‚é…è§†å£</span>

      <span class="hljs-comment">// 5. éå†æ¯ä¸ªçœä»½ï¼Œåˆ›å»ºShapeå’ŒMesh</span>
      geojson.<span class="hljs-property">features</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">feature</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> shapes = [];
        <span class="hljs-keyword">const</span> provinceName = feature.<span class="hljs-property">properties</span>.<span class="hljs-property">name</span>;
        <span class="hljs-keyword">const</span> offset = <span class="hljs-variable constant_">SPECIAL_REGION_OFFSETS</span>[provinceName] || { <span class="hljs-attr">dx</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">dy</span>: <span class="hljs-number">0</span> };

        <span class="hljs-comment">// å¤„ç†Polygonï¼ˆå•å¤šè¾¹å½¢ï¼‰</span>
        <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'Polygon'</span>) {
          <span class="hljs-keyword">const</span> shape = <span class="hljs-title function_">createShape</span>(feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>[<span class="hljs-number">0</span>], centerX, centerY, scale, offset);
          <span class="hljs-keyword">if</span> (shape) shapes.<span class="hljs-title function_">push</span>(shape);
        }
        <span class="hljs-comment">// å¤„ç†MultiPolygonï¼ˆå¤šå¤šè¾¹å½¢ï¼Œå¦‚æµ·å—ï¼‰</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'MultiPolygon'</span>) {
          feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">polygon</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> shape = <span class="hljs-title function_">createShape</span>(polygon[<span class="hljs-number">0</span>], centerX, centerY, scale, offset);
            <span class="hljs-keyword">if</span> (shape) shapes.<span class="hljs-title function_">push</span>(shape);
          });
        }

        <span class="hljs-comment">// ä¸ºæ¯ä¸ªShapeåˆ›å»ºå¡«å……å’Œè¾¹æ¡†</span>
        shapes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">shape</span> =&gt;</span> {
          <span class="hljs-comment">// å¡«å……Mesh</span>
          <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShapeGeometry</span>(shape);
          <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>({
            <span class="hljs-attr">color</span>: <span class="hljs-number">0x3b82f6</span>,
            <span class="hljs-attr">side</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">DoubleSide</span>
          });
          <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);

          <span class="hljs-comment">// ç»‘å®šè‡ªå®šä¹‰æ•°æ®ï¼ˆäº¤äº’ç”¨ï¼‰</span>
          mesh.<span class="hljs-property">userData</span> = {
            <span class="hljs-attr">provinceName</span>: provinceName,
            <span class="hljs-attr">originalColor</span>: <span class="hljs-number">0x3b82f6</span>,
            <span class="hljs-attr">isHighlighted</span>: <span class="hljs-literal">false</span>
          };

          scene.<span class="hljs-title function_">add</span>(mesh);
          provinceMeshes.<span class="hljs-title function_">push</span>(mesh);

          <span class="hljs-comment">// ç™½è‰²è¾¹æ¡†</span>
          <span class="hljs-keyword">const</span> borderGeo = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>().<span class="hljs-title function_">setFromPoints</span>(shape.<span class="hljs-title function_">getPoints</span>());
          <span class="hljs-keyword">const</span> borderMat = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">LineBasicMaterial</span>({ <span class="hljs-attr">color</span>: <span class="hljs-number">0xffffff</span>, <span class="hljs-attr">linewidth</span>: <span class="hljs-number">2</span> });
          <span class="hljs-keyword">const</span> border = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Line</span>(borderGeo, borderMat);
          mesh.<span class="hljs-property">border</span> = border;
          scene.<span class="hljs-title function_">add</span>(border);
        });
      });

      <span class="hljs-comment">// éšè—åŠ è½½æç¤º</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.loading'</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åœ°å›¾åŠ è½½å¤±è´¥:'</span>, err);
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.loading'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">'åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥GeoJSONæ–‡ä»¶'</span>;
    }
  }

  <span class="hljs-comment">// ========== 4. é¼ æ ‡ç‚¹å‡»äº¤äº’ï¼ˆRaycasterï¼‰ ==========</span>
  <span class="hljs-comment">/**
   * é¼ æ ‡ç‚¹å‡»äº‹ä»¶å¤„ç†ï¼šçœä»½é«˜äº®
   * <span class="hljs-doctag">@param</span> {<span class="hljs-type">MouseEvent</span>} <span class="hljs-variable">event</span> - é¼ æ ‡äº‹ä»¶
   */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onDocumentMouseDown</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-comment">// 1. è½¬æ¢é¼ æ ‡åæ ‡ä¸ºNDCï¼ˆ-1~1ï¼‰</span>
    <span class="hljs-keyword">const</span> mouse = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Vector2</span>();
    mouse.<span class="hljs-property">x</span> = (event.<span class="hljs-property">clientX</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>) * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
    mouse.<span class="hljs-property">y</span> = -(event.<span class="hljs-property">clientY</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>) * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;

    <span class="hljs-comment">// 2. åˆ›å»ºå°„çº¿æ£€æµ‹</span>
    <span class="hljs-keyword">const</span> raycaster = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Raycaster</span>();
    raycaster.<span class="hljs-title function_">setFromCamera</span>(mouse, camera);

    <span class="hljs-comment">// 3. æ£€æµ‹ä¸çœä»½Meshçš„ç›¸äº¤</span>
    <span class="hljs-keyword">const</span> intersects = raycaster.<span class="hljs-title function_">intersectObjects</span>(provinceMeshes);

    <span class="hljs-keyword">if</span> (intersects.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// ç‚¹å‡»åˆ°çœä»½ï¼šåˆ‡æ¢é«˜äº®</span>
      <span class="hljs-keyword">const</span> clickedMesh = intersects[<span class="hljs-number">0</span>].<span class="hljs-property">object</span>;

      <span class="hljs-comment">// å–æ¶ˆä¹‹å‰çš„é«˜äº®</span>
      <span class="hljs-keyword">if</span> (highlightedProvince) {
        highlightedProvince.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">originalColor</span>);
        highlightedProvince.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffffff</span>);
        highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">false</span>;
      }

      <span class="hljs-comment">// é«˜äº®å½“å‰çœä»½</span>
      clickedMesh.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffd700</span>); <span class="hljs-comment">// é‡‘è‰²å¡«å……</span>
      clickedMesh.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xff0000</span>); <span class="hljs-comment">// çº¢è‰²è¾¹æ¡†</span>
      clickedMesh.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">true</span>;
      highlightedProvince = clickedMesh;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç‚¹å‡»çœä»½:'</span>, clickedMesh.<span class="hljs-property">userData</span>.<span class="hljs-property">provinceName</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// ç‚¹å‡»ç©ºç™½å¤„ï¼šå–æ¶ˆæ‰€æœ‰é«˜äº®</span>
      <span class="hljs-keyword">if</span> (highlightedProvince) {
        highlightedProvince.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">originalColor</span>);
        highlightedProvince.<span class="hljs-property">border</span>.<span class="hljs-property">material</span>.<span class="hljs-property">color</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0xffffff</span>);
        highlightedProvince.<span class="hljs-property">userData</span>.<span class="hljs-property">isHighlighted</span> = <span class="hljs-literal">false</span>;
        highlightedProvince = <span class="hljs-literal">null</span>;
      }
    }
  }
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, onDocumentMouseDown, <span class="hljs-literal">false</span>);

  <span class="hljs-comment">// ========== 5. çª—å£é€‚é…ä¸æ¸²æŸ“å¾ªç¯ ==========</span>
  <span class="hljs-comment">// çª—å£å¤§å°å˜åŒ–é€‚é…</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> aspect = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
    camera.<span class="hljs-property">left</span> = -frustumSize * aspect / <span class="hljs-number">2</span>;
    camera.<span class="hljs-property">right</span> = frustumSize * aspect / <span class="hljs-number">2</span>;
    camera.<span class="hljs-property">top</span> = frustumSize / <span class="hljs-number">2</span>;
    camera.<span class="hljs-property">bottom</span> = -frustumSize / <span class="hljs-number">2</span>;
    camera.<span class="hljs-title function_">updateProjectionMatrix</span>();
    renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  });

  <span class="hljs-comment">// æ¸²æŸ“å¾ªç¯</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">requestAnimationFrame</span>(animate);
    controls.<span class="hljs-title function_">update</span>(); <span class="hljs-comment">// æ›´æ–°æ§åˆ¶å™¨</span>
    renderer.<span class="hljs-title function_">render</span>(scene, camera); <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯</span>
  }
  <span class="hljs-title function_">animate</span>();

  <span class="hljs-comment">// å¯åŠ¨åœ°å›¾åŠ è½½</span>
  <span class="hljs-title function_">loadAndDrawMap</span>();
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-27">æ€»ç»“ä¸æ‰©å±•å»ºè®®</h3>
<h4 data-id="heading-28">æ ¸å¿ƒæ€»ç»“</h4>
<ol>
<li><strong>2Dåœ°å›¾æ ¸å¿ƒ</strong>ï¼šæ­£äº¤ç›¸æœºï¼ˆ<code>OrthographicCamera</code>ï¼‰æ˜¯å®ç°æ— é€è§†2Dæ•ˆæœçš„å…³é”®ï¼ŒåŒºåˆ«äºé€è§†ç›¸æœºï¼›</li>
<li><strong>åæ ‡è½¬æ¢</strong>ï¼šå¢¨å¡æ‰˜æŠ•å½±æ˜¯åœ°ç†æ•°æ®å¯è§†åŒ–çš„åŸºç¡€ï¼Œéœ€æŒæ¡ç»çº¬åº¦â†’å¹³é¢åæ ‡çš„è½¬æ¢é€»è¾‘ï¼›</li>
<li><strong>GeoJSONå¤„ç†</strong>ï¼šé€’å½’éå†åµŒå¥—åæ ‡ã€è®¡ç®—å…¨å±€è¾¹ç•Œæ˜¯åœ°å›¾å±…ä¸­ç¼©æ”¾çš„æ ¸å¿ƒï¼›</li>
<li><strong>äº¤äº’å®ç°</strong>ï¼š<code>Raycaster</code>å°„çº¿æ£€æµ‹æ˜¯Three.jså®ç°é¼ æ ‡ç‚¹å‡»äº¤äº’çš„æ ‡å‡†æ–¹å¼ï¼Œ<code>userData</code>æ˜¯å­˜å‚¨è‡ªå®šä¹‰æ•°æ®çš„æœ€ä½³å®è·µï¼›</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¤ç”¨å‡ ä½•ä½“/æè´¨ã€å‡å°‘ä¸å¿…è¦çš„é¡¶ç‚¹æ•°ï¼Œå¯æå‡å¤§åœ°å›¾çš„æ¸²æŸ“æ€§èƒ½ã€‚</li>
</ol>
<h4 data-id="heading-29">æ‰©å±•å»ºè®®</h4>
<ol>
<li><strong>æ·»åŠ çœä»½æ ‡ç­¾</strong>ï¼šåŸºäºçœä»½ä¸­å¿ƒåæ ‡åˆ›å»º<code>CSS2DLabel</code>ï¼Œæ˜¾ç¤ºçœä»½åç§°ï¼›</li>
<li><strong>hoveré«˜äº®</strong>ï¼šç›‘å¬<code>mousemove</code>äº‹ä»¶ï¼Œå®ç°é¼ æ ‡æ‚¬æµ®é«˜äº®ï¼›</li>
<li><strong>æ•°æ®å¯è§†åŒ–</strong>ï¼šæ ¹æ®çœä»½æ•°æ®ï¼ˆå¦‚GDPã€äººå£ï¼‰åŠ¨æ€ä¿®æ”¹å¡«å……é¢œè‰²ï¼›</li>
<li><strong>å±‚çº§ä¼˜åŒ–</strong>ï¼šä¸ºå—æµ·è¯¸å²›ç­‰å°åŒºåŸŸå•ç‹¬ç¼©æ”¾ï¼Œæå‡æ˜¾ç¤ºæ•ˆæœï¼›</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨<code>BufferGeometry</code>æ›¿ä»£<code>ShapeGeometry</code>ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼›</li>
<li><strong>åœ°å›¾äº¤äº’å¢å¼º</strong>ï¼šæ·»åŠ ç¼©æ”¾é™åˆ¶ï¼ˆæœ€å°/æœ€å¤§ç¼©æ”¾ï¼‰ã€åœ°å›¾å¤ä½æŒ‰é’®ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS-å½»åº•ææ‡‚é€‰æ‹©å™¨ä¼˜å…ˆçº§ä¸CSSå•ä½]]></title>    <link>https://juejin.cn/post/7599247962822869019</link>    <guid>https://juejin.cn/post/7599247962822869019</guid>    <pubDate>2026-01-26T07:10:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599247962822869019" data-draft-id="7599247962822819867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS-å½»åº•ææ‡‚é€‰æ‹©å™¨ä¼˜å…ˆçº§ä¸CSSå•ä½"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,CSS"/> <meta itemprop="datePublished" content="2026-01-26T07:10:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS-å½»åº•ææ‡‚é€‰æ‹©å™¨ä¼˜å…ˆçº§ä¸CSSå•ä½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:10:49.000Z" title="Mon Jan 26 2026 07:10:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>ä¸ºä»€ä¹ˆæˆ‘å†™çš„æ ·å¼ä¸ç”Ÿæ•ˆï¼Ÿä¸ºä»€ä¹ˆé‚£ä¸ªå•ä½åœ¨ç§»åŠ¨ç«¯ä¼šç¼©æ”¾ï¼Ÿç†è§£ CSS çš„<strong>ä¼˜å…ˆçº§ï¼ˆSpecificityï¼‰å’Œåº¦é‡å•ä½</strong>ï¼Œæ˜¯æ¯ä¸€ä¸ªå‰ç«¯å¼€å‘è€…ä»â€œç”»é¡µé¢â€èµ°å‘â€œç²¾é€šå¸ƒå±€â€çš„å¿…ç»ä¹‹è·¯ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ CSS ä¼˜å…ˆçº§ï¼ˆæƒé‡ï¼‰å…¨è§£æ</h2>
<p>CSS æ ·å¼çš„åº”ç”¨éµå¾ªâ€œå°±è¿‘åŸåˆ™â€å’Œâ€œæƒé‡è®¡ç®—åŸåˆ™â€ã€‚</p>
<h3 data-id="heading-2">1. æƒé‡ç­‰çº§æ’åˆ—</h3>
<p>æˆ‘ä»¬å°†ä¸åŒé€‰æ‹©å™¨åˆ’åˆ†ä¸ºä¸åŒçš„ç­‰çº§ï¼š</p>
<ol>
<li><strong><code>!important</code></strong>ï¼šæ— è§†è§„åˆ™ï¼Œæƒé‡æœ€é«˜ã€‚</li>
<li><strong>è¡Œå†…æ ·å¼ (Inline style)</strong> ï¼šå†™åœ¨æ ‡ç­¾ <code>style</code> å±æ€§é‡Œçš„æ ·å¼ã€‚</li>
<li><strong>ID é€‰æ‹©å™¨</strong>ï¼šå¦‚ <code>#header</code>ã€‚</li>
<li><strong>ç±»ã€ä¼ªç±»ã€å±æ€§é€‰æ‹©å™¨</strong>ï¼šå¦‚ <code>.content</code>ã€<code>:hover</code>ã€<code>[type="text"]</code>ã€‚</li>
<li><strong>å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨</strong>ï¼šå¦‚ <code>div</code>ã€<code>::before</code>ã€‚</li>
<li><strong>é€šç”¨é€‰æ‹©å™¨ (*)</strong> ã€å­é€‰æ‹©å™¨ (&gt; )ã€ç›¸é‚»é€‰æ‹©å™¨ (+)ï¼šæƒé‡æä½ï¼ˆé€šå¸¸è®¡ä¸º 0ï¼‰ã€‚</li>
<li><strong>ç»§æ‰¿çš„æ ·å¼</strong>ï¼šæƒé‡æœ€ä½ã€‚</li>
</ol>
<h3 data-id="heading-3">2. æƒé‡è®¡ç®—æ³•ï¼ˆä¸‰ä½è®¡æ•°æ³•ï¼‰</h3>
<p>ä¸ºäº†æ–¹ä¾¿å¯¹æ¯”ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒä»¬åˆ†é…åˆ†å€¼ï¼ˆéç»å¯¹æ•°å€¼ï¼Œä»…ä½œé€»è¾‘å‚è€ƒï¼‰ï¼š</p>
<ul>
<li><strong>ID é€‰æ‹©å™¨</strong>ï¼š100</li>
<li><strong>ç±»/å±æ€§/ä¼ªç±»</strong>ï¼š10</li>
<li><strong>æ ‡ç­¾/ä¼ªå…ƒç´ </strong>ï¼š1</li>
</ul>
<p><strong>è§„åˆ™</strong>ï¼šä»å·¦å¾€å³æ¯”è¾ƒï¼Œæ•°å€¼å¤§çš„è·èƒœã€‚å¦‚æœæ•°å€¼ç›¸ç­‰ï¼Œåˆ™<strong>åè€…è¦†ç›–å‰è€…</strong>ã€‚</p>
<blockquote>
<p><strong>âš ï¸ æ³¨æ„</strong>ï¼š<code>!important</code> æ˜¯â€œæ ¸æ­¦å™¨â€ï¼Œå¦‚æœå®ƒç”¨äºç®€å†™å±æ€§ï¼ˆå¦‚ <code>background: !important</code>ï¼‰ï¼Œåˆ™å…¶åŒ…å«çš„æ‰€æœ‰å­å±æ€§ï¼ˆcolor, image ç­‰ï¼‰éƒ½ä¼šè·å¾—æœ€é«˜æƒé‡ï¼Œ<strong>åº”è°¨æ…ä½¿ç”¨</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äºŒã€ CSS å¸¸ç”¨åº¦é‡å•ä½</h2>
<p>æ ¹æ®å‚è€ƒå‚ç…§ç‰©çš„ä¸åŒï¼Œå•ä½å¯åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<h3 data-id="heading-5">1. ç»å¯¹å•ä½</h3>
<ul>
<li><strong>px (åƒç´ )</strong> ï¼šæœ€å¸¸ç”¨çš„åŸºæœ¬å•ä½ï¼Œç‰©ç†åƒç´ ç‚¹ï¼Œä¸éšç¯å¢ƒæ”¹å˜ã€‚</li>
</ul>
<h3 data-id="heading-6">2. ç›¸å¯¹å•ä½ï¼ˆåŸºäºå­—ä½“ï¼‰</h3>
<ul>
<li>
<p><strong>em</strong>ï¼šç›¸å¯¹äº<strong>å½“å‰å…ƒç´ </strong>çš„ <code>font-size</code>ã€‚</p>
<ul>
<li><em>æ³¨æ„</em>ï¼šå¦‚æœå½“å‰å…ƒç´ æœªè®¾ç½®ï¼Œåˆ™å‚è€ƒçˆ¶å…ƒç´ ï¼›å¦‚æœæ•´ä¸ªé¡µé¢éƒ½æ²¡è®¾ç½®ï¼Œåˆ™å‚è€ƒæµè§ˆå™¨é»˜è®¤å€¼ï¼ˆ16pxï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>rem (Root em)</strong> ï¼šç›¸å¯¹äº<strong>æ ¹å…ƒç´  (<code>&lt;html&gt;</code>)</strong> çš„ <code>font-size</code>ã€‚æ˜¯ç§»åŠ¨ç«¯é€‚é…çš„é¦–é€‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">3. ç›¸å¯¹å•ä½ï¼ˆåŸºäºè§†å£ï¼‰</h3>
<ul>
<li><strong>vw / vh</strong>ï¼šç›¸å¯¹äºæµè§ˆå™¨å¯è§†çª—å£çš„å®½åº¦/é«˜åº¦ã€‚<code>1vw</code> ç­‰äºè§†å£å®½åº¦çš„ 1%ã€‚</li>
<li><strong>% (ç™¾åˆ†æ¯”)</strong> ï¼šé€šå¸¸ç›¸å¯¹äº<strong>çˆ¶å…ƒç´ </strong>çš„å¯¹åº”å±æ€§ï¼ˆå®½åº¦ã€é«˜åº¦ç­‰ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€ ç°ä»£å¸ƒå±€é»‘ç§‘æŠ€</h2>
<h3 data-id="heading-9">1. calc() è®¡ç®—å±æ€§</h3>
<p>å…è®¸åœ¨å£°æ˜ CSS å±æ€§å€¼æ—¶æ‰§è¡ŒåŠ å‡ä¹˜é™¤è¿ç®—ã€‚</p>
<ul>
<li><strong>è¯­æ³•</strong>ï¼š<code>width: calc(100% - 20px);</code></li>
<li><strong>æ³¨æ„</strong>ï¼šè¿ç®—ç¬¦å‰åå¿…é¡»ä¿ç•™ç©ºæ ¼ã€‚</li>
</ul>
<h3 data-id="heading-10">2. aspect-ratio è®¾ç½®å®½é«˜æ¯”</h3>
<p>è¿‡å»æˆ‘ä»¬éœ€è¦ç”¨ <code>padding-top</code> æŠ€å·§æ¥å®ç°ç­‰æ¯”ç¼©æ”¾ï¼Œç°åœ¨ä¸€è¡Œä»£ç æå®šï¼š</p>
<pre><code class="hljs language-CSS" lang="CSS"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;
  aspect-ratio: <span class="hljs-number">16</span> / <span class="hljs-number">9</span>; <span class="hljs-comment">/*è¿™æ—¶çš„å®½é«˜æ¯”å°±ä¸º16æ¯”9*/</span>
  <span class="hljs-attribute">background</span>: lightblue;
}
</code></pre>
<hr/>
<h2 data-id="heading-11">å››ã€ æ€»ç»“ï¼šä¼˜å…ˆçº§å†²çªæ—¶çš„æ’æŸ¥æ€è·¯</h2>
<ol>
<li><strong>çœ‹ <code>!important</code></strong>ï¼šæœ‰æ²¡æœ‰è¢«å¼ºè¡Œç½®é¡¶ã€‚</li>
<li><strong>ç®—æƒé‡å€¼</strong>ï¼šID &gt; ç±» &gt; æ ‡ç­¾ã€‚</li>
<li><strong>çœ‹é¡ºåº</strong>ï¼šæƒé‡ç›¸åŒæ—¶ï¼Œå†™åœ¨åé¢çš„æ ·å¼ç”Ÿæ•ˆã€‚</li>
<li><strong>çœ‹è·ç¦»</strong>ï¼šè¡Œå†…æ ·å¼ &gt; å†…éƒ¨/å¤–éƒ¨æ ·å¼è¡¨ã€‚</li>
<li><strong>çœ‹åŠ è½½</strong>ï¼šå†…éƒ¨æ ·å¼å’Œå¤–è”æ ·å¼çš„ä¼˜å…ˆçº§ï¼Œå–å†³äºå®ƒä»¬åœ¨ HTML ä¸­å‡ºç°çš„å…ˆåé¡ºåºã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ WKWebViewï¼šä»£ç†æ–¹æ³•ä¸ WKWebView ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº]]></title>    <link>https://juejin.cn/post/7599459943917436966</link>    <guid>https://juejin.cn/post/7599459943917436966</guid>    <pubDate>2026-01-26T06:58:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599459943917436966" data-draft-id="7599088558168358958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ WKWebViewï¼šä»£ç†æ–¹æ³•ä¸ WKWebView ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2026-01-26T06:58:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿä¸œå°bugç‹"/> <meta itemprop="url" content="https://juejin.cn/user/1583760376077646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ WKWebViewï¼šä»£ç†æ–¹æ³•ä¸ WKWebView ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œé¡ºåº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1583760376077646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿä¸œå°bugç‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:58:51.000Z" title="Mon Jan 26 2026 06:58:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ iOS å¼€å‘ä¸­ï¼Œ<code>WKWebView</code> æ˜¯æ„å»ºæ··åˆåº”ç”¨ï¼ˆHybrid Appï¼‰çš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒåŸºäºç°ä»£ WebKit å¼•æ“ï¼Œæ€§èƒ½ä¼˜å¼‚ã€å®‰å…¨æ€§é«˜ï¼Œä½†å…¶å¤æ‚çš„ç”Ÿå‘½å‘¨æœŸæœºåˆ¶ä¹Ÿè®©ä¸å°‘å¼€å‘è€…æ„Ÿåˆ°å›°æƒ‘â€”â€”å°¤å…¶æ˜¯å½“é¡µé¢åŠ è½½å¤±è´¥æ—¶ï¼Œé”™è¯¯å›è°ƒåˆ°åº•åœ¨å“ªä¸ªé˜¶æ®µè§¦å‘ï¼Ÿ</p>
<p>æœ¬æ–‡å°†<strong>æ·±å…¥è§£æ <code>WKWebView</code> çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œä»¥ <strong>Objective-C</strong> ä¸ºå¼€å‘è¯­è¨€ï¼Œç³»ç»Ÿæ¢³ç† <code>WKNavigationDelegate</code> ä¸­å„ä»£ç†æ–¹æ³•çš„<strong>æ‰§è¡Œæ—¶æœºä¸è°ƒç”¨é¡ºåº</strong>ï¼Œå¹¶é€šè¿‡å¯¹æ¯” <strong>æ­£å¸¸åŠ è½½æˆåŠŸ</strong> ä¸ <strong>åŠ è½½å¤±è´¥</strong> ä¸¤ç§å…¸å‹åœºæ™¯ï¼Œå¸®åŠ©ä½ ç²¾å‡†æŒæ§ WebView è¡Œä¸ºï¼Œé¿å…å¸¸è§é™·é˜±ã€‚</p>
<blockquote>
<p>âœ… é€‚ç”¨ç³»ç»Ÿï¼šiOS 9+ï¼ˆå»ºè®® iOS 11+ï¼‰<br/>
ğŸ’¬ å¼€å‘è¯­è¨€ï¼šObjective-C<br/>
ğŸ§­ æ ¸å¿ƒåè®®ï¼š<code>WKNavigationDelegate</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç”Ÿå‘½å‘¨æœŸå…¨æ™¯å›¾</h2>
<p><code>WKWebView</code> çš„å¯¼èˆªè¿‡ç¨‹ç”±ä¸€ç³»åˆ—ä»£ç†æ–¹æ³•ä¸²è”è€Œæˆã€‚æ ¹æ®åŠ è½½ç»“æœä¸åŒï¼Œå¯åˆ†ä¸ºä¸¤æ¡ä¸»è·¯å¾„ï¼š</p>
<h3 data-id="heading-1">âœ… æˆåŠŸè·¯å¾„ï¼ˆé¡µé¢æ­£å¸¸åŠ è½½ï¼‰</h3>
<pre><code class="hljs">didStartProvisionalNavigation
â†’ decidePolicyForNavigationAction
â†’ didCommitNavigation
â†’ decidePolicyForNavigationResponse
â†’ didFinishNavigation
</code></pre>
<h3 data-id="heading-2">âŒ å¤±è´¥è·¯å¾„ï¼ˆåŠ è½½ä¸­æ–­ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">didStartProvisionalNavigation
â†’ decidePolicyForNavigationActionï¼ˆå¯èƒ½ï¼‰
â†’ didFailProvisionalNavigation     <span class="hljs-comment">// æ—©æœŸå¤±è´¥ï¼ˆå¦‚ DNS é”™è¯¯ï¼‰</span>
   æˆ–
â†’ didCommitNavigation
â†’ didFailNavigation               <span class="hljs-comment">// æäº¤åå¤±è´¥ï¼ˆå¦‚ SSL è¯ä¹¦æ— æ•ˆï¼‰</span>
</code></pre>
<blockquote>
<p>âš ï¸ é‡è¦è®¤çŸ¥ï¼š</p>
<ul>
<li><strong>HTTP 404/500 ä¸ä¼šè§¦å‘ fail å›è°ƒ</strong>ï¼å› ä¸ºæœåŠ¡å™¨å·²è¿”å›æœ‰æ•ˆå“åº”ï¼Œå±äºâ€œæˆåŠŸåŠ è½½é”™è¯¯é¡µâ€ã€‚</li>
<li>æ‰€æœ‰ <code>decisionHandler</code> <strong>å¿…é¡»è¢«è°ƒç”¨</strong>ï¼Œå¦åˆ™ WebView å°†å¡æ­»ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-3">äºŒã€æˆåŠŸåŠ è½½ï¼šäº”æ­¥èµ°æµç¨‹è¯¦è§£</h2>
<p>å½“è®¿é—®ä¸€ä¸ªæœ‰æ•ˆ URLï¼ˆå¦‚ <code>https://example.com</code>ï¼‰ä¸”ç½‘ç»œé€šç•…æ—¶ï¼Œä»£ç†æ–¹æ³•æŒ‰ä»¥ä¸‹é¡ºåºä¸¥æ ¼è§¦å‘ï¼š</p>
<h3 data-id="heading-4">1. <code>webView:didStartProvisionalNavigation:</code></h3>
<ul>
<li>é¡µé¢å¼€å§‹å°è¯•åŠ è½½ã€‚</li>
<li>URL å¯èƒ½å°šæœªæœ€ç»ˆç¡®å®šï¼ˆä¾‹å¦‚é‡å®šå‘å‰ï¼‰ã€‚</li>
<li><strong>é€‚åˆå¯åŠ¨ loading åŠ¨ç”»</strong>ã€‚</li>
</ul>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
didStartProvisionalNavigation:(<span class="hljs-built_in">WKNavigation</span> *)navigation {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âœ… Start provisional navigation to: %@"</span>, webView.URL);
    [<span class="hljs-keyword">self</span> showLoadingIndicator];
}
</code></pre>
<hr/>
<h3 data-id="heading-5">2. <code>webView:decidePolicyForNavigationAction:decisionHandler:</code></h3>
<ul>
<li>å†³å®šæ˜¯å¦å…è®¸æ­¤æ¬¡è·³è½¬ã€‚</li>
<li>å¸¸ç”¨äºæ‹¦æˆªè‡ªå®šä¹‰ schemeï¼ˆå¦‚ <code>tel://</code>, <code>weixin://</code>ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
decidePolicyForNavigationAction:(<span class="hljs-built_in">WKNavigationAction</span> *)action 
decisionHandler:(<span class="hljs-type">void</span> (^)(<span class="hljs-built_in">WKNavigationActionPolicy</span>))handler {
    <span class="hljs-built_in">NSURL</span> *url = action.request.URL;
    <span class="hljs-keyword">if</span> ([[url scheme] isEqualToString:<span class="hljs-string">@"tel"</span>]) {
        [[<span class="hljs-built_in">UIApplication</span> sharedApplication] openURL:url options:@{} completionHandler:<span class="hljs-literal">nil</span>];
        handler(<span class="hljs-built_in">WKNavigationActionPolicyCancel</span>); <span class="hljs-comment">// æ‹¦æˆªå¹¶äº¤ç”±ç³»ç»Ÿå¤„ç†</span>
        <span class="hljs-keyword">return</span>;
    }
    handler(<span class="hljs-built_in">WKNavigationActionPolicyAllow</span>); <span class="hljs-comment">// å…è®¸åŠ è½½</span>
}
</code></pre>
<blockquote>
<p>ğŸ”¥ å¿…é¡»è°ƒç”¨ <code>handler()</code>ï¼å¦åˆ™é¡µé¢å°†æ°¸è¿œå¤„äºâ€œåŠ è½½ä¸­â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">3. <code>webView:didCommitNavigation:</code></h3>
<ul>
<li>æµè§ˆå™¨å·²æ¥æ”¶åˆ°å“åº”å¤´ï¼Œå¼€å§‹æ¥æ”¶ HTML æ•°æ®ã€‚</li>
<li>DOM å¼€å§‹æ„å»ºï¼Œä½†æœªæ¸²æŸ“å®Œæˆã€‚</li>
<li><strong>æ­¤æ—¶ <code>webView.URL</code> å·²æ˜¯æœ€ç»ˆåœ°å€</strong>ï¼ˆå¯ç”¨äºåŸ‹ç‚¹æˆ–æ—¥å¿—ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
didCommitNavigation:(<span class="hljs-built_in">WKNavigation</span> *)navigation {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âœ… Committed to final URL: %@"</span>, webView.URL);
}
</code></pre>
<hr/>
<h3 data-id="heading-7">4. <code>webView:decidePolicyForNavigationResponse:decisionHandler:</code></h3>
<ul>
<li>é’ˆå¯¹æœåŠ¡å™¨è¿”å›çš„å“åº”ï¼ˆçŠ¶æ€ç ã€MIME ç±»å‹ç­‰ï¼‰å†³å®šæ˜¯å¦ç»§ç»­åŠ è½½ã€‚</li>
<li>å¯ç”¨äºæ‹¦æˆªé HTML èµ„æºï¼ˆå¦‚ PDFã€ZIP æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
decidePolicyForNavigationResponse:(<span class="hljs-built_in">WKNavigationResponse</span> *)response 
decisionHandler:(<span class="hljs-type">void</span> (^)(<span class="hljs-built_in">WKNavigationResponsePolicy</span>))handler {
    <span class="hljs-built_in">NSHTTPURLResponse</span> *httpResp = (<span class="hljs-built_in">NSHTTPURLResponse</span> *)response.response;
    <span class="hljs-keyword">if</span> ([httpResp.MIMEType isEqualToString:<span class="hljs-string">@"application/pdf"</span>]) {
        <span class="hljs-comment">// æ‹¦æˆª PDF ä¸‹è½½</span>
        handler(<span class="hljs-built_in">WKNavigationResponsePolicyCancel</span>);
        <span class="hljs-keyword">return</span>;
    }
    handler(<span class="hljs-built_in">WKNavigationResponsePolicyAllow</span>);
}
</code></pre>
<hr/>
<h3 data-id="heading-8">5. <code>webView:didFinishNavigation:</code></h3>
<ul>
<li>æ‰€æœ‰èµ„æºï¼ˆHTMLã€CSSã€JSã€å›¾ç‰‡ç­‰ï¼‰åŠ è½½å®Œæ¯•ã€‚</li>
<li><strong>é¡µé¢å®Œå…¨å¯äº¤äº’</strong>ã€‚</li>
<li><strong>éšè— loadingã€æ³¨å…¥ JSã€æ‰§è¡Œä¸šåŠ¡é€»è¾‘çš„æœ€ä½³æ—¶æœº</strong>ã€‚</li>
</ul>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
didFinishNavigation:(<span class="hljs-built_in">WKNavigation</span> *)navigation {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âœ… Page fully loaded!"</span>);
    [<span class="hljs-keyword">self</span> hideLoadingIndicator];
    <span class="hljs-comment">// å¯åœ¨æ­¤æ³¨å…¥ JS æˆ–é€šçŸ¥ä¸Šå±‚</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å¤±è´¥åŠ è½½ï¼šä¸¤ç±»é”™è¯¯è·¯å¾„å‰–æ</h2>
<p>åŠ è½½å¤±è´¥åˆ†ä¸º <strong>Provisional é˜¶æ®µå¤±è´¥</strong> ä¸ <strong>Commit åå¤±è´¥</strong>ï¼Œéœ€åˆ†åˆ«å¤„ç†ã€‚</p>
<h3 data-id="heading-10">ğŸ”´ ç±»å‹ 1ï¼šProvisional é˜¶æ®µå¤±è´¥</h3>
<p><strong>è§¦å‘æ–¹æ³•</strong>ï¼š<code>didFailProvisionalNavigation:withError:</code><br/>
<strong>å…¸å‹åŸå› </strong>ï¼š</p>
<ul>
<li>DNS è§£æå¤±è´¥ï¼ˆåŸŸåä¸å­˜åœ¨ï¼‰</li>
<li>æ— æ³•è¿æ¥æœåŠ¡å™¨ï¼ˆæ–­ç½‘ã€è¶…æ—¶ï¼‰</li>
<li>URL æ ¼å¼éæ³•</li>
</ul>
<pre><code class="hljs language-log" lang="log">âœ… didStartProvisionalNavigation
âœ… decidePolicyForNavigationAction
âŒ didFailProvisionalNavigation: "A server with the specified hostname could not be found."
</code></pre>
<h3 data-id="heading-11">ğŸ”´ ç±»å‹ 2ï¼šCommit åå¤±è´¥</h3>
<p><strong>è§¦å‘æ–¹æ³•</strong>ï¼š<code>didFailNavigation:withError:</code><br/>
<strong>å…¸å‹åŸå› </strong>ï¼š</p>
<ul>
<li>SSL/TLS è¯ä¹¦æ— æ•ˆæˆ–è¿‡æœŸï¼ˆiOS é»˜è®¤æ‹¦æˆªï¼‰</li>
<li>æœåŠ¡å™¨åœ¨ä¼ è¾“ä¸­é€”æ–­å¼€è¿æ¥</li>
</ul>
<pre><code class="hljs language-log" lang="log">âœ… didStartProvisionalNavigation
âœ… decidePolicyForNavigationAction
âœ… didCommitNavigation
âŒ didFailNavigation: "The certificate for this server is invalid."
</code></pre>
<blockquote>
<p>â— å…³é”®æé†’ï¼š<strong>åªç›‘å¬ <code>didFailProvisionalNavigation</code> ä¼šæ¼æ‰ SSL é”™è¯¯ï¼å¿…é¡»åŒæ—¶å®ç°ä¸¤ä¸ªå¤±è´¥å›è°ƒã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-12">ç»Ÿä¸€é”™è¯¯å¤„ç†ç¤ºä¾‹</h3>
<pre><code class="hljs language-objectivec" lang="objectivec">- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
didFailProvisionalNavigation:(<span class="hljs-built_in">WKNavigation</span> *)navigation 
withError:(<span class="hljs-built_in">NSError</span> *)error {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âŒ Provisional fail: %@"</span>, error.localizedDescription);
    [<span class="hljs-keyword">self</span> showErrorViewWithError:error];
}

- (<span class="hljs-type">void</span>)webView:(<span class="hljs-built_in">WKWebView</span> *)webView 
didFailNavigation:(<span class="hljs-built_in">WKNavigation</span> *)navigation 
withError:(<span class="hljs-built_in">NSError</span> *)error {
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"âŒ Navigation fail after commit: %@"</span>, error.localizedDescription);
    [<span class="hljs-keyword">self</span> showErrorViewWithError:error];
}
</code></pre>
<hr/>
<h2 data-id="heading-13">å››ã€åˆå§‹åŒ–ä¸ä»£ç†è®¾ç½®ç¤ºä¾‹</h2>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-comment">// ViewController.h</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">ViewController</span> () &lt;<span class="hljs-title">WKNavigationDelegate</span>&gt;</span>
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">strong</span>) <span class="hljs-built_in">WKWebView</span> *webView;
<span class="hljs-keyword">@end</span>

<span class="hljs-comment">// ViewController.m</span>
- (<span class="hljs-type">void</span>)viewDidLoad {
    [<span class="hljs-variable language_">super</span> viewDidLoad];
    
    <span class="hljs-built_in">WKWebViewConfiguration</span> *config = [[<span class="hljs-built_in">WKWebViewConfiguration</span> alloc] init];
    <span class="hljs-keyword">self</span>.webView = [[<span class="hljs-built_in">WKWebView</span> alloc] initWithFrame:<span class="hljs-keyword">self</span>.view.bounds configuration:config];
    <span class="hljs-keyword">self</span>.webView.navigationDelegate = <span class="hljs-keyword">self</span>;
    [<span class="hljs-keyword">self</span>.view addSubview:<span class="hljs-keyword">self</span>.webView];
    
    [<span class="hljs-keyword">self</span>.webView loadRequest:[<span class="hljs-built_in">NSURLRequest</span> requestWithURL:[<span class="hljs-built_in">NSURL</span> URLWithString:<span class="hljs-string">@"https://example.com"</span>]]];
}
</code></pre>
<blockquote>
<p>ğŸ’¡ å»ºè®®ï¼šè‹¥éœ€å…±äº« Cookie æˆ–ç¼“å­˜ï¼Œå¯å¤ç”¨ <code>WKProcessPool</code>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">äº”ã€æ€»ç»“ï¼šå…³é”®è¦ç‚¹é€ŸæŸ¥è¡¨</h2>













































<table><thead><tr><th>åœºæ™¯</th><th>è§¦å‘æ–¹æ³•</th><th>æ˜¯å¦å¿…é¡»å¤„ç†</th></tr></thead><tbody><tr><td>é¡µé¢å¼€å§‹åŠ è½½</td><td><code>didStartProvisionalNavigation</code></td><td>âœ…</td></tr><tr><td>å†³ç­–æ˜¯å¦è·³è½¬</td><td><code>decidePolicyForNavigationAction</code></td><td>âœ…ï¼ˆå¿…é¡»è°ƒç”¨ handlerï¼‰</td></tr><tr><td>é¡µé¢æäº¤ï¼ˆDOM å¼€å§‹æ„å»ºï¼‰</td><td><code>didCommitNavigation</code></td><td>âœ…</td></tr><tr><td>å†³ç­–æ˜¯å¦æ¥å—å“åº”</td><td><code>decidePolicyForNavigationResponse</code></td><td>âœ…ï¼ˆå¿…é¡»è°ƒç”¨ handlerï¼‰</td></tr><tr><td>åŠ è½½å®Œæˆ</td><td><code>didFinishNavigation</code></td><td>âœ…</td></tr><tr><td>æ—©æœŸå¤±è´¥ï¼ˆDNS/æ–­ç½‘ï¼‰</td><td><code>didFailProvisionalNavigation</code></td><td>âœ…</td></tr><tr><td>æäº¤åå¤±è´¥ï¼ˆSSL/ä¸­æ–­ï¼‰</td><td><code>didFailNavigation</code></td><td>âœ…</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">å…­ã€æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>åŒå¤±è´¥å›è°ƒéƒ½è¦å®ç°</strong>ï¼Œè¦†ç›–æ‰€æœ‰å¼‚å¸¸åœºæ™¯ã€‚</li>
<li><strong>æ‰€æœ‰ <code>decisionHandler</code> å¿…é¡»è°ƒç”¨</strong>ï¼Œé¿å…é¡µé¢å¡æ­»ã€‚</li>
<li><strong>é¿å…å¾ªç¯å¼•ç”¨</strong>ï¼šdelegate ä½¿ç”¨ weak selfï¼Œæˆ–åœ¨ <code>dealloc</code> ä¸­ç½® nilã€‚</li>
<li><strong>çœŸæœºæµ‹è¯•å¼‚å¸¸ç½‘ç»œ</strong>ï¼šä½¿ç”¨ã€Œè®¾ç½® &gt; å¼€å‘è€… &gt; ç½‘ç»œé“¾æ¥æ¡ä»¶ã€æ¨¡æ‹Ÿå¼±ç½‘/æ–­ç½‘ã€‚</li>
<li><strong>ä¸è¦ä¾èµ– HTTP çŠ¶æ€ç åˆ¤æ–­å¤±è´¥</strong>ï¼š404/500 ä»ä¼šè§¦å‘ <code>didFinishNavigation</code>ã€‚</li>
</ol>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>å»¶ä¼¸æ€è€ƒ</strong>ï¼š</p>
<ul>
<li>iOS 15+ æ–°å¢ <code>WKNavigationDelegate</code> çš„ frame çº§å›è°ƒï¼ˆå¦‚ <code>didFinishDocumentLoadForFrame:</code>ï¼‰</li>
<li>è‹¥éœ€æ·±åº¦æ§åˆ¶ç¼“å­˜ç­–ç•¥ï¼Œå¯ç»“åˆ <code>WKWebsiteDataStore</code> ä½¿ç”¨</li>
</ul>
</blockquote>
<hr/>
<p>å¦‚æœä½ è§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ <strong>ç‚¹èµ â¤ï¸ã€æ”¶è— â­ã€è¯„è®º ğŸ’¬</strong>ï¼ä¹Ÿæ¬¢è¿å…³æ³¨æˆ‘ï¼Œè·å–æ›´å¤š iOS åº•å±‚ä¸å®æˆ˜æŠ€å·§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenCodeå¤§æ›´æ–°ï¼Œå‰å‡ å¤©å…è´¹çš„Grok Codeæ¨¡å‹ä»Šå¤©å°±æ²¡äº†]]></title>    <link>https://juejin.cn/post/7598938568432173071</link>    <guid>https://juejin.cn/post/7598938568432173071</guid>    <pubDate>2026-01-26T06:33:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598938568432173071" data-draft-id="7599181528305188873" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenCodeå¤§æ›´æ–°ï¼Œå‰å‡ å¤©å…è´¹çš„Grok Codeæ¨¡å‹ä»Šå¤©å°±æ²¡äº†"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,Grok"/> <meta itemprop="datePublished" content="2026-01-26T06:33:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰å¸½lufei"/> <meta itemprop="url" content="https://juejin.cn/user/501033035632093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenCodeå¤§æ›´æ–°ï¼Œå‰å‡ å¤©å…è´¹çš„Grok Codeæ¨¡å‹ä»Šå¤©å°±æ²¡äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/501033035632093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰å¸½lufei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:33:30.000Z" title="Mon Jan 26 2026 06:33:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ—¥å¸¸æ¬ç –ï¼Œç»å¸¸åœ¨ä¸åŒçš„AIç¼–è¾‘å™¨ä¹‹é—´åˆ‡æ¢ï¼Œä¸€æ–¹é¢æ˜¯ä¸ºäº†æ»¡è¶³å…è´¹é¢åº¦ä¸å¤Ÿç”¨çš„é—®é¢˜ï¼Œè¿˜æœ‰å°±æ˜¯ç°åœ¨AIç¼–è¾‘å™¨å·¥å…·æ›´æ–°å¤ªå¿«äº†ï¼Œå¯èƒ½è¿‡å‡ å¤©å°±å‡ºç‚¹æ›´æœ‰è¶£æˆ–è€…æ›´å¥½ç”¨çš„æ–°åŠŸèƒ½</p>
<h2 data-id="heading-1">ç•Œé¢</h2>
<p>å¥½å‡ å¤©æ²¡ç”¨ OpenCode äº†ï¼Œæ‰“å¼€ä¸€çœ‹ï¼Œæ¡Œé¢ç«¯å¤§æ›´æ–°äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0fbe28e88e7432bac8e5b4dd4ab435b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=OdcRdXlEu%2F7Wzb5jk%2B3oHXn69kU%3D" alt="" loading="lazy"/></p>
<p>é»˜è®¤éƒ½è‡ªåŠ¨æ£€æµ‹è¯­è¨€ï¼Œä¸­æ–‡æ˜¾ç¤ºäº†</p>
<p>é¡µé¢æ˜æ˜¾åŒºåŸŸåˆ’åˆ†æ›´å¤šäº†ï¼ŒåŠŸèƒ½èœå•ä¹Ÿæ›´ä¸°å¯Œäº†</p>
<p>å¾ˆæœŸå¾…çš„æƒ³çŸ¥é“ï¼Œæœ‰æ²¡æœ‰å¼•å…¥æ–°çš„å†…ç½®æ¨¡å‹ï¼Œå½“æˆ‘çœ‹åˆ°æ¨¡å‹å¼¹æ¡†å‡ºæ¥çš„é‚£ä¸€åˆ»</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/263ae1966b3344b587ffbf58cdfc6790~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=QAWZn%2FOTQsio8l3fCfbY2RKF9Hs%3D" alt="" loading="lazy"/></p>
<p>æ€ä¹ˆæ¨¡å‹æ›´å°‘äº†ï¼ŒGLM-4.7 å’Œ MiniMax M2.1 å‘¢ï¼Ÿå‰æ®µæ—¶é—´è¿˜æœ‰çš„ï¼Œåªæœ‰è¿™ä¸‰ä¸ª</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f939a2698d594835821db050b8c07121~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=GR67fVr7Gsbrje9frRHwIVxutBQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">å†…ç½®æ¨¡å‹ä»‹ç»</h3>
<h4 data-id="heading-3">Big Pickle</h4>
<p>å·¥ç¨‹ä¼˜åŒ–å·¥å…·ï¼Œä¸æ˜¯ç”Ÿæˆå¼å¤§æ¨¡å‹ï¼ŒOpenCode ç”Ÿæ€é‡Œçš„å·¥ç¨‹åŒ–ç»„ä»¶</p>
<p>ä½œç”¨ï¼šè§£å†³å¤§æ¨¡å‹è®­ç»ƒ/æ¨ç†ä¸­çš„åºåˆ—åŒ–ã€æ•°æ®å‹ç¼©ä¸ä¼ è¾“æ•ˆç‡é—®é¢˜ï¼Œä¸å…·å¤‡ç”Ÿæˆæˆ–æ¨ç†èƒ½åŠ›ï¼Œè€Œæ˜¯æå‡å¤§æ¨¡å‹å¼€å‘çš„å·¥ç¨‹æ•ˆç‡</p>
<p>æˆ‘ä¸€ä¸ªæ¬ç –å¼æ¯›æš‚æ—¶è¿˜æ¥è§¦ä¸åˆ°å¤§æ¨¡å‹å¼€å‘</p>
<h4 data-id="heading-4">GPT-5 Nano</h4>
<p>è½»é‡é€šç”¨çš„GPTç‰ˆæœ¬ï¼Œä¹Ÿå°±èƒ½å¹²ç‚¹è¾…åŠ©æ¬ç –çš„æ´»å„¿</p>
<p>æˆ‘è¿™ä¸ªæ¬ç –å¼æ¯›éœ€è¦çš„æ˜¯èƒ½å¸®å¿™æ¬ç –çš„</p>
<h4 data-id="heading-5">Grok Code Fast 1</h4>
<p>å‚ç›´é¢†åŸŸä»£ç ç”Ÿæˆæ¨¡å‹ï¼Œé’ˆå¯¹ä»£ç åœºæ™¯æ·±åº¦ä¼˜åŒ–ï¼Œæ”¯æŒå¤šè¯­è¨€ä»£ç ç”Ÿæˆã€è°ƒè¯•ã€é‡æ„ï¼Œå¯¹å¤æ‚ç®—æ³•å’Œå·¥ç¨‹åŒ–ä»£ç çš„ç†è§£èƒ½åŠ›è¾ƒå¼º</p>
<p>æ¬ç –ä¸“ç”¨ï¼Œå€¼å¾—å°è¯•ä¸€ä¸‹</p>
<p>Grokæ¨¡å‹ç³»åˆ—æ²¡æœ‰ç”¨è¿‡å‘¢ï¼ŒåªçŸ¥é“Grokæ¨¡å‹çš„è„±è¡£èƒ½åŠ›è¢«ç”¨çš„å¾ˆå¤š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6dfc0e25ba64545abc8b3fe49c497ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=TToZzgwOQr09wNpVttMKo12kuJ0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">è®¾ç½®</h2>
<p>ç‚¹é¡µé¢å·¦ä¸‹è§’çš„è®¾ç½®ï¼Œå¼¹æ¡†ä¸­æ˜æ˜¾å¤šäº†å¾ˆå¤šå†…å®¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/697841e1ad124e919d006558c205c4ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=mb0Lk5f2YjoWNL1kAeLYlz63dV4%3D" alt="" loading="lazy"/></p>
<p>å…ˆæ”¹ä¸ªä¸»é¢˜ï¼Œæ”¹æˆæ·±è‰²æ¨¡å¼ï¼Œèµ·ç ä¸ä¼šæ™ƒçœ¼ç›äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acabc7fd1e944f46860378a35add8bc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=337qDnJeQLaX1P8Vg43lnsaT8yQ%3D" alt="" loading="lazy"/></p>
<p><code>é€šç”¨</code>å’Œ<code>å¿«æ·é”®</code> è®¾ç½®é‡Œé¢çš„åŠŸèƒ½æ”¯æŒï¼Œä½¿è‡ªå®šä¹‰èƒ½åŠ›æ›´å¼ºäº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e054e346b274d05927edd5da2549ed0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=r%2B8HvNTn6HTQWwaro2Z8nXtRDQk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">æœç´¢</h2>
<p>ä¸»é¡µé¡¶éƒ¨çš„æ”¯æŒæ–‡ä»¶æœç´¢å’Œå‘½ä»¤æœç´¢ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½éƒ½å¾ˆæ–¹ä¾¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2683b2e222644a7e8394559098f21576~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=1q1ApObM4XzSdJg09bbkAscLyKs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æœåŠ¡çŠ¶æ€</h2>
<p>åœ¨ä¸»é¡µçš„å³ä¸Šè§’æ›´æ–°äº†æœåŠ¡çŠ¶æ€ï¼Œä»¥åŠå…¶ä»–æœåŠ¡çš„é…ç½®æƒ…å†µï¼Œå¯¹äºæ¨¡å‹åˆ‡æ¢å’ŒæœåŠ¡çš„åˆ‡æ¢æ›´æ–¹ä¾¿äº†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fa7c74c9e864bbb872ed7368e7322eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=aOJgMcS4sak4KaQr%2FxZFXTug9ec%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ba15cb1b49a4233b22ec3ce28dea01c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=NZh%2BM1Zb4NW9ocYPjnIDSxsD500%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">ä¸€ä¸ªåæ¶ˆæ¯</h2>
<p>æˆ‘æœ¬åœ° v1.1.34 ä¸­æ˜¯æœ‰ Grok Code Fast 1 æ¨¡å‹çš„ï¼Œæˆ‘åˆšæ›´æ–°åï¼Œç‰ˆæœ¬å·æ˜¾ç¤ºçš„æ˜¯ v1.1.36 ç‰ˆæœ¬çš„æ¡Œé¢ç‰ˆä¸­å·²ç»æ²¡æœ‰ Grok Code Fast 1 å†…ç½®æ¨¡å‹äº†</p>
<p>åªå‰© Big Pickleã€GPT-5 Nano è¿™ä¸¤ä¸ªå…è´¹å†…ç½®æ¨¡å‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e04ddd670a084666a411ffd7a9e8384f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=tQbBVMnVLkTeGFlislW8CwgZ47Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">å°ç»“</h2>
<p>è¿™AIç›¸å…³åŠŸèƒ½å’Œå·¥å…·æ›´æ–°çš„é€Ÿåº¦çœŸçš„æ˜¯å¤ªå¿«äº†ï¼Œæœ‰ç‚¹è·Ÿä¸ä¸ŠèŠ‚å¥ï¼Œåˆæ¬ç –ï¼Œåˆç ”ç©¶æ–°åŠŸèƒ½å’Œèƒ½åŠ›å®åœ¨å¤ªè´¹æ—¶é—´äº†ï¼Œå‰å‡ å¤©è¿˜æœ‰å…è´¹çš„ Grok Code Fast 1 æ¨¡å‹ï¼Œè¿˜æ²¡ç”¨å‘¢è½¬çœ¼å°±æ²¡äº†ï¼Œæ‰¾ä¸ªå¥½ç”¨åˆä¾¿å®œçš„AIå·¥å…·å¥½éš¾å‘€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e1da4f8bc1740c49b5c862a99d0588e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014098&amp;x-signature=UR2WumwRG0g3p7i9djB4UGJAt4Q%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æ¬¢è¿ç•™è¨€äº¤æµï¼Œå¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œå¯ä»¥<code>ç‚¹ä¸ªèµ</code>æ”¯æŒä¸€ä¸‹</p>
<p>å…¬ä¼—å·ï¼šè‰å¸½lufei</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½¦è½½ä¸­å¼•å…¥ android.car å¯¼è‡´ ProfileInstaller å†²çª]]></title>    <link>https://juejin.cn/post/7599299048302100523</link>    <guid>https://juejin.cn/post/7599299048302100523</guid>    <pubDate>2026-01-26T07:12:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599299048302100523" data-draft-id="7599237603975643179" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½¦è½½ä¸­å¼•å…¥ android.car  å¯¼è‡´ ProfileInstaller å†²çª"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-26T07:12:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BoomHe"/> <meta itemprop="url" content="https://juejin.cn/user/1513407128012333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½¦è½½ä¸­å¼•å…¥ android.car  å¯¼è‡´ ProfileInstaller å†²çª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1513407128012333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BoomHe
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:12:41.000Z" title="Mon Jan 26 2026 07:12:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AndroidX ProfileInstaller ç‰ˆæœ¬ä¸å…¼å®¹ï¼ŒProfileInstaller åº“æ˜¯ AndroidX ç”¨äºå®‰è£…é…ç½®æ–‡ä»¶çš„ç»„ä»¶ï¼Œå®ƒä¸ä½ çš„é¡¹ç›®ä¸­å…¶ä»–ä¾èµ–ï¼ˆå°¤å…¶æ˜¯ car-lib ç›¸å…³åº“ï¼‰ç‰ˆæœ¬ä¸åŒ¹é…</p>
<p>android.car.util.concurrent.AndroidFuture` æ˜¯è½¦è½½ç³»ç»Ÿä¸“å±ç±»ï¼Œä¸æ ‡å‡† Android åº“çš„ Executor æ¥å£ä¸å…¼å®¹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">2026</span>-<span class="hljs-number">01</span>-<span class="hljs-number">23</span> <span class="hljs-number">06</span>:<span class="hljs-number">03</span>:<span class="hljs-number">45.643</span> <span class="hljs-number">3844</span>-<span class="hljs-number">3889</span> AndroidRuntime com.xxx.xxx E FATAL EXCEPTION: 
pool-<span class="hljs-number">1</span>-thread-<span class="hljs-number">1</span> (Ask Gemini) Process: com.xxx.xxx, PID: <span class="hljs-number">3844</span> 
java.lang.IncompatibleClassChangeError: Class <span class="hljs-string">'android.car.util.concurrent.AndroidFuture$$ExternalSyntheticLambda0'</span> does not implement
interface <span class="hljs-string">'java.util.concurrent.Executor'</span> in call to <span class="hljs-string">'void 
java.util.concurrent.Executor.execute(java.lang.Runnable)'</span> (declaration of 
<span class="hljs-string">'androidx.profileinstaller.DeviceProfileWriter'</span> appears in base.apk) at 
androidx.profileinstaller.DeviceProfileWriter.result(DeviceProfileWriter.java:<span class="hljs-number">87</span>) at 
androidx.profileinstaller.DeviceProfileWriter.write(DeviceProfileWriter.java:<span class="hljs-number">363</span>) at 
androidx.profileinstaller.ProfileInstaller.transcodeAndWrite(ProfileInstaller.java:<span class="hljs-number">446</span>) at 
androidx.profileinstaller.ProfileInstaller.writeProfile(ProfileInstaller.java:<span class="hljs-number">575</span>) at 
androidx.profileinstaller.ProfileInstaller.writeProfile(ProfileInstaller.java:<span class="hljs-number">515</span>) at 
androidx.profileinstaller.ProfileInstaller.writeProfile(ProfileInstaller.java:<span class="hljs-number">479</span>) at 
androidx.profileinstaller.ProfileInstallerInitializer.lambda$writeInBackground$<span class="hljs-number">2</span>(ProfileInstall
erInitializer.java:<span class="hljs-number">145</span>) at 
androidx.profileinstaller.ProfileInstallerInitializer$$ExternalSyntheticLambda2.run(D8$$Synthet
icClass:<span class="hljs-number">0</span>) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="hljs-number">1137</span>) 
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="hljs-number">637</span>) at 
java.lang.Thread.run(Thread.java:<span class="hljs-number">1023</span>)
</code></pre>
<h3 data-id="heading-0">è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-1">æ–¹æ¡ˆ 1ï¼šæ’é™¤ / ç¦ç”¨ ProfileInstallerï¼ˆæœ€ç›´æ¥ï¼‰</h4>
<p>ProfileInstaller ä¸»è¦ç”¨äºæ€§èƒ½ä¼˜åŒ–ï¼Œéæ ¸å¿ƒåŠŸèƒ½ï¼Œå¯ç›´æ¥ç¦ç”¨ï¼š</p>
<p>gradle</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åœ¨ app æ¨¡å—çš„ build.gradle (Module level) ä¸­æ·»åŠ </span>
android {
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
    buildTypes {
        release {
            <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
            profileInstaller {
                <span class="hljs-comment">// ç¦ç”¨ ProfileInstaller</span>
                enabled = <span class="hljs-literal">false</span>
            }
        }
        debug {
            profileInstaller {
                enabled = <span class="hljs-literal">false</span>
            }
        }
    }
}

<span class="hljs-comment">// æˆ–è€…æ’é™¤ ProfileInstaller ä¾èµ–</span>
dependencies {
    <span class="hljs-comment">// æ’é™¤æ‰€æœ‰ä¾èµ–ä¸­çš„ ProfileInstaller</span>
    configurations.all {
        exclude group: <span class="hljs-string">'androidx.profileinstaller'</span>, <span class="hljs-keyword">module</span>: <span class="hljs-string">'profileinstaller'</span>
    }
}
</code></pre>
<h4 data-id="heading-2">æ–¹æ¡ˆ 2ï¼šå›ºå®š ProfileInstaller ç‰ˆæœ¬ï¼ˆå…¼å®¹è½¦è½½ç³»ç»Ÿï¼‰</h4>
<p>å¦‚æœéœ€è¦ä¿ç•™ ProfileInstallerï¼Œéœ€é€‰æ‹©ä¸è½¦è½½ç³»ç»Ÿå…¼å®¹çš„ç‰ˆæœ¬ï¼š</p>
<p>gradle</p>
<pre><code class="hljs language-javascript" lang="javascript">dependencies {
    <span class="hljs-comment">// å¼ºåˆ¶ä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼ˆå»ºè®® 1.2.0 åŠä»¥ä¸‹ï¼Œé€‚é…è½¦è½½ç³»ç»Ÿï¼‰</span>
    <span class="hljs-title function_">implementation</span>(<span class="hljs-params"><span class="hljs-string">"androidx.profileinstaller:profileinstaller:1.2.0"</span></span>) {
        force = <span class="hljs-literal">true</span>
    }
}
</code></pre>
<h4 data-id="heading-3">æ–¹æ¡ˆ 3ï¼šä¿®å¤çº¿ç¨‹æ‰§è¡Œå™¨è°ƒç”¨ï¼ˆä»£ç å±‚ï¼‰</h4>
<p>å¦‚æœå¼‚å¸¸æ˜¯ä½ è‡ªå·±çš„ä»£ç è°ƒç”¨å¯¼è‡´çš„ï¼Œéœ€ç¡®ä¿ Executor å®ç°æ­£ç¡®ï¼š</p>
<p>java</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">// é”™è¯¯ç¤ºä¾‹ï¼šä¼ é€’äº†é Executor ç±»å‹çš„å¯¹è±¡
AndroidFuture&lt;?&gt; <span class="hljs-attr">future</span> = ...<span class="hljs-comment">;</span>
// é”™è¯¯ï¼šfuture çš„å†…éƒ¨ Lambda ä¸æ˜¯ Executor å®ä¾‹
executorService.execute(future::get)<span class="hljs-comment">;</span>

// æ­£ç¡®ç¤ºä¾‹ï¼šæ˜¾å¼ä½¿ç”¨ä¸»çº¿ç¨‹/çº¿ç¨‹æ±  Executor
// 1. ä½¿ç”¨è½¦è½½ç³»ç»Ÿå…¼å®¹çš„ Executor
import android.car.util.concurrent.CarExecutors<span class="hljs-comment">;</span>
Executor <span class="hljs-attr">carExecutor</span> = CarExecutors.newSingleThreadExecutor()<span class="hljs-comment">;</span>

// 2. æˆ–ä½¿ç”¨æ ‡å‡† Android ä¸»çº¿ç¨‹ Executor
Executor <span class="hljs-attr">mainExecutor</span> = ContextCompat.getMainExecutor(context)<span class="hljs-comment">;</span>

// 3. æ‰§è¡Œä»»åŠ¡æ—¶ç¡®ä¿ Runnable æ­£ç¡®
carExecutor.execute(() -&gt; {
    try {
        // æ‰§è¡Œè€—æ—¶æ“ä½œ
        Object <span class="hljs-attr">result</span> = future.get()<span class="hljs-comment">;</span>
    } catch (Exception e) {
        e.printStackTrace()<span class="hljs-comment">;</span>
    }
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-4">æ–¹æ¡ˆ 4ï¼šæ¸…ç†æ„å»ºç¼“å­˜ï¼ˆè§£å†³ç¼–è¯‘ç¼“å­˜é—®é¢˜ï¼‰</h4>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…ç† Gradle ç¼“å­˜</span>
./gradlew clean

<span class="hljs-comment"># æ¸…ç† Android Studio ç¼“å­˜</span>
<span class="hljs-comment"># èœå•æ  -&gt; File -&gt; Invalidate Caches / Restart -&gt; Invalidate and Restart</span>
</code></pre>
<h3 data-id="heading-5">éªŒè¯æ–¹æ³•</h3>
<ol>
<li>é‡æ–°ç¼–è¯‘å¹¶å®‰è£…åº”ç”¨åˆ°è½¦è½½è®¾å¤‡ / æ¨¡æ‹Ÿå™¨</li>
<li>ç›‘æ§ Logcatï¼Œç¡®è®¤ä¸å†å‡ºç° <code>IncompatibleClassChangeError</code> å¼‚å¸¸</li>
<li>æµ‹è¯•åº”ç”¨æ ¸å¿ƒåŠŸèƒ½ï¼ˆè®¾ç½®é¡µé¢ã€è½¦è½½åŠŸèƒ½è°ƒç”¨ï¼‰æ˜¯å¦æ­£å¸¸</li>
</ol>
<h3 data-id="heading-6">æ€»ç»“</h3>
<ol>
<li><strong>æ ¸å¿ƒåŸå› </strong>ï¼šProfileInstaller åº“ä¸ Android è½¦è½½ç³»ç»Ÿçš„ <code>AndroidFuture</code> ç±»åœ¨ Executor æ¥å£å®ç°ä¸Šå­˜åœ¨å…¼å®¹æ€§å†²çªã€‚</li>
<li><strong>ä¼˜å…ˆæ–¹æ¡ˆ</strong>ï¼šç›´æ¥ç¦ç”¨ / æ’é™¤ ProfileInstallerï¼ˆæ— æ ¸å¿ƒåŠŸèƒ½å½±å“ï¼Œæœ€å¿«è§£å†³å´©æºƒï¼‰ã€‚</li>
<li><strong>å¤‡é€‰æ–¹æ¡ˆ</strong>ï¼šå›ºå®š ProfileInstaller ä¸º 1.2.0 ç‰ˆæœ¬ï¼Œæˆ–ä½¿ç”¨è½¦è½½ç³»ç»Ÿä¸“å±çš„ <code>CarExecutors</code> æ›¿ä»£æ ‡å‡† Executorã€‚</li>
</ol>
<p>å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼Œå»ºè®®æ£€æŸ¥é¡¹ç›®ä¸­ <code>android.car</code> ç›¸å…³ä¾èµ–çš„ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸è½¦è½½ç³»ç»Ÿçš„ API çº§åˆ«ï¼ˆå¦‚ Android 12/13 Automotive OSï¼‰å®Œå…¨åŒ¹é…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIGCã€Agentã€MCPã€A2Aå’ŒAG-UIä¿ƒè¿›AIä»åŸºç¡€èƒ½åŠ›åˆ°ååŒç”Ÿæ€æ¼”è¿›]]></title>    <link>https://juejin.cn/post/7599101854645174282</link>    <guid>https://juejin.cn/post/7599101854645174282</guid>    <pubDate>2026-01-26T06:44:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599101854645174282" data-draft-id="7590303618428715043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIGCã€Agentã€MCPã€A2Aå’ŒAG-UIä¿ƒè¿›AIä»åŸºç¡€èƒ½åŠ›åˆ°ååŒç”Ÿæ€æ¼”è¿›"/> <meta itemprop="keywords" content="MCP,Agent,AIGC"/> <meta itemprop="datePublished" content="2026-01-26T06:44:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæµ·è§‚æ½®"/> <meta itemprop="url" content="https://juejin.cn/user/1380642337334574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIGCã€Agentã€MCPã€A2Aå’ŒAG-UIä¿ƒè¿›AIä»åŸºç¡€èƒ½åŠ›åˆ°ååŒç”Ÿæ€æ¼”è¿›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1380642337334574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæµ·è§‚æ½®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:44:49.000Z" title="Mon Jan 26 2026 06:44:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å‰è¨€</strong></p>
<p>è¿‘å¹´æ¥ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯è¿æ¥çˆ†å‘å¼å‘å±•ï¼ŒAIGCã€Agentã€MCPç­‰æ¦‚å¿µç›¸ç»§æ¶Œç°å¹¶å¿«é€Ÿè¿­ä»£ï¼Œæ¨åŠ¨AIä»å•ä¸€å·¥å…·å‘ååŒç”Ÿæ€æ¼”è¿›ï¼ŒAIæŠ€æœ¯ä»â€œèƒ½å¯¹è¯â€è¿›åŒ–åˆ°â€œèƒ½å¹²æ´»â€ã€‚2022å¹´ChatGPTç‚¹ç‡ƒäº†AIGCï¼›Function Callingå‚¬ç”Ÿäº†Agentï¼›å†å¾€åï¼Œè¡Œä¸šå‘ç°ã€Œå¦‚ä½•è®©æ¨¡å‹ä½æˆæœ¬åœ°è°ƒç”¨å¤–éƒ¨ä¸–ç•Œã€æˆä¸ºæ–°ç“¶é¢ˆï¼Œäºæ˜¯MCPã€A2Aå’ŒAG-UIä¸‰å¤§åè®®é™†ç»­ç™»åœºã€‚</p>
<p>æœ¬æ–‡å°†æ¢³ç†AIGCçš„åŸºç¡€èƒ½åŠ›ã€Agentä»¥åŠæ”¯æ’‘Agentç”Ÿæ€çš„ä¸‰å¤§æ ¸å¿ƒåè®®MCPã€A2Aå’ŒAG-UIï¼Œä¸ºè¯»è€…æœ‹å‹ä»¬æ„å»ºä»æŠ€æœ¯åŸç†åˆ°åº”ç”¨ç”Ÿæ€çš„å®Œæ•´è®¤çŸ¥æ·»ç –åŠ ç“¦ã€‚</p>
<p><strong>AIGC - äººå·¥æ™ºèƒ½å†…å®¹ç”Ÿæˆçš„åŸºçŸ³</strong></p>
<p>AIGCï¼ˆAI Generated Contentï¼Œäººå·¥æ™ºèƒ½ç”Ÿæˆå†…å®¹ï¼‰æ˜¯æŒ‡åˆ©ç”¨å¤§æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å†…å®¹çš„æŠ€æœ¯ï¼Œå…¶å…´èµ·ä»¥2022å¹´ChatGPTä¸Šçº¿ä¸ºæ ‡å¿—ï¼Œå¼€å¯äº†ç”Ÿæˆå¼AIçš„æµªæ½®ã€‚</p>
<p>ChatGPTä¸Šçº¿åï¼ŒStable Diffusionã€Midjourneyç­‰å¤šæ¨¡æ€æ¨¡å‹è·Ÿè¿›ï¼ŒæŠŠAIä»â€œèƒ½ç­”â€æ¨å‘â€œèƒ½ç”»ã€èƒ½å‰ªã€èƒ½å”±â€ã€‚</p>
<p>ä½†ç—›ç‚¹ä¹Ÿå¾ˆå¿«å‡ºç°ï¼š</p>
<p>çŸ¥è¯†å®æ•ˆæ€§ â€” å¤§æ¨¡å‹çš„çŸ¥è¯†ä¸»è¦æ¥æºäºè®­ç»ƒæ•°æ®åœ¨æŸä¸ªæˆªæ­¢æ—¥æœŸä¹‹å‰çš„æ•°æ®ï¼Œå¯¹è¿™ä¸ªæ—¶é—´ä¹‹åæˆ–è€…æœ€æ–°èµ„è®¯ï¼Œå¤§æ¨¡å‹å¯èƒ½å¹¶ä¸äº†è§£ã€‚</p>
<p>å¹»è§‰ â€” æœ¬æ­£ç»åœ°ç¼–ç­”æ¡ˆã€‚</p>
<p>ä¸å¯æº¯æº/ç‰¹å®šé¢†åŸŸçŸ¥è¯†ä¸è¶³ â€” æ— æ³•ç»™å‡ºç”Ÿæˆç­”æ¡ˆçš„é›†ä½“æ•°æ®æ¥æºï¼Œç¼ºä¹å¯¹æŸä¸ªç‰¹å®šé¢†åŸŸ/ç§æœ‰çŸ¥è¯†åº“çš„ç†è§£ã€‚</p>
<p>äºæ˜¯RAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰è¢«æå‡ºï¼šå…ˆåœ¨å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ï¼Œå†è®©æ¨¡å‹åŸºäºæ£€ç´¢ç»“æœç”Ÿæˆç­”æ¡ˆï¼Œæ—¢å®æ—¶åˆå¯éªŒè¯ã€‚æ˜¯ä¸€ç§å°†ä¿¡æ¯æ£€ç´¢ï¼ˆIRï¼‰ä¸å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ–‡æœ¬ç”Ÿæˆèƒ½åŠ›ç›¸ç»“åˆçš„äººå·¥æ™ºèƒ½æ¡†æ¶ã€‚</p>
<p>RAGæ˜¯AIGCé¢†åŸŸçš„å…³é”®æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒæ˜¯å°†ä¿¡æ¯æ£€ç´¢ä¸LLMç”Ÿæˆç»“åˆï¼šå½“LLMéœ€å›ç­”é—®é¢˜æ—¶ï¼Œå…ˆä»å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå†åŸºäºè¿™äº›ä¿¡æ¯ç”Ÿæˆç­”æ¡ˆï¼Œä»è€Œè§£å†³LLMçš„çŸ¥è¯†è¿‡æ—¶ã€æ˜“äº§ç”Ÿ â€œå¹»è§‰â€ã€ç¼ºä¹æ¥æºéªŒè¯ç­‰é—®é¢˜ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“è¯¢é—®â€œ2025å¹´æœ€æ–°AIåè®®è¿›å±•â€æ—¶ï¼ŒRAGä¼šå…ˆæ£€ç´¢2024å¹´ä¹‹åçš„ç›¸å…³èµ„æ–™ï¼Œå†è®©LLMåŸºäºæ£€ç´¢ç»“æœç”Ÿæˆå‡†ç¡®å›ç­”ï¼Œè€Œéä¾èµ–æ¨¡å‹è®­ç»ƒæ—¥æœŸæˆªæ­¢å‰çš„æ—§çŸ¥è¯†ã€‚</p>
<h2 data-id="heading-0">Agent - ä»ç”Ÿæˆå·¥å…·åˆ°è‡ªä¸»å†³ç­–ç³»ç»Ÿ</h2>
<p>Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ˜¯åœ¨AIGCã€LLMç­‰åŸºç¡€ä¸Šå‘å±•çš„é«˜é˜¶AIç³»ç»Ÿï¼Œå…¶æ ¸å¿ƒç‰¹å¾æ˜¯è‡ªä¸»æ„ŸçŸ¥ç¯å¢ƒã€å†³ç­–å¹¶è°ƒç”¨å·¥å…·ï¼Œä»¥å®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p>ä¸ AIGCï¼ˆä¸“æ³¨äºç”Ÿæˆä»»åŠ¡ï¼‰ä¸åŒï¼ŒAgentæ˜¯é›†æ¨¡å‹èƒ½åŠ›ä¸å·¥ç¨‹å®ç°äºä¸€ä½“çš„å¤æ‚ç³»ç»Ÿï¼Œéœ€è¦å¤„ç†æ¨¡å‹å’Œå¤–ç•Œçš„ä¿¡æ¯äº¤äº’ï¼ˆå€ŸåŠ©Function Callingå®ç°ï¼‰ï¼Œå¯é›†æˆAIGCä½œä¸ºå­æ¨¡å—ï¼Œå®ç°æ›´é€šç”¨çš„ä»»åŠ¡å¤„ç†ã€‚</p>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>è·å–å®æ—¶ä¿¡æ¯ï¼Œå¦‚è°ƒç”¨ESç­‰æœç´¢å¼•æ“è·å–ä¿¡æ¯ã€‚</li>
<li>æ‰§è¡Œç²¾å‡†è®¡ç®—ï¼Œå¦‚è°ƒç”¨å¤–éƒ¨å®šä¹‰çš„ä»£ç ã€‚</li>
<li>æ“ä½œå¤–éƒ¨ç³»ç»Ÿï¼Œå¦‚å‘é€é‚®ä»¶é€šçŸ¥ç­‰ã€‚</li>
</ul>
<h2 data-id="heading-1">MCP - AIçš„USB-Cæ¥å£</h2>
<p>Function Callingè™½å¥½ï¼Œä½†ä¸åŒå‚å•†æ¥å£æ ¼å¼å„å¼‚ï¼Œå·¥å…·ä¸€å¤šå°±æˆäº†MÃ—Nå™©æ¢¦ã€‚2024å¹´ï¼ŒAnthropicå¼€æºMCPï¼ˆModel Context Protocolï¼‰ï¼Œä¸€ä¸ªæŠŠæ¨¡å‹ä¸å·¥å…·çš„â€œæ’å¤´â€æ ‡å‡†åŒ–çš„å¼€æ”¾åè®®ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3aea969519564d3fb8ccfb8d144cc999~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014692&amp;x-signature=2BdkdVWMs0NgbVR9FqvRRJvoW4c%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>MCPè§„èŒƒäº†åº”ç”¨ç¨‹åºå¦‚ä½•å‘LLMæä¾›ä¸Šä¸‹æ–‡ã€‚å°†MCPæƒ³è±¡æˆAIåº”ç”¨ç¨‹åºçš„USB-Cç«¯å£ã€‚æ­£å¦‚USB-Cæä¾›äº†ä¸€ç§å°†è®¾å¤‡è¿æ¥åˆ°å„ç§å¤–å›´è®¾å¤‡å’Œé…ä»¶çš„æ ‡å‡†åŒ–æ–¹å¼ä¸€æ ·ï¼ŒMCPæä¾›äº†ä¸€ä¸ªå°†AIæ¨¡å‹è¿æ¥åˆ°ä¸åŒæ•°æ®æºå’Œå·¥å…·çš„æ ‡å‡†åŒ–æ–¹æ³•ã€‚</p>
<p>MCPè§’è‰²åˆ’åˆ†å¦‚ä¸‹ï¼š</p>
<p>MCP Hostsï¼šåƒClaude Desktopã€IDEæˆ–AIå·¥å…·è¿™æ ·çš„ç¨‹åºï¼Œå®ƒä»¬å¸Œæœ›é€šè¿‡MCPè®¿é—®æ•°æ®ã€‚</p>
<p>MCP Clientsï¼šä¸æœåŠ¡å™¨ä¿æŒ1:1è¿æ¥çš„åè®®å®¢æˆ·ç«¯ã€‚</p>
<p>MCP Serversï¼šè½»é‡çº§ç¨‹åºï¼Œæ¯ä¸ªç¨‹åºéƒ½é€šè¿‡æ ‡å‡†åŒ–çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®®å…¬å¼€ç‰¹å®šçš„åŠŸèƒ½ã€‚</p>
<p>Local Data Sources(æœ¬åœ°æ•°æ®æº)ï¼šMCPæœåŠ¡å™¨å¯ä»¥å®‰å…¨è®¿é—®çš„è®¡ç®—æœºæ–‡ä»¶ã€æ•°æ®åº“å’ŒæœåŠ¡ã€‚</p>
<p>Remote Services(è¿œç¨‹æœåŠ¡)ï¼šMCPæœåŠ¡å™¨å¯ä»¥é€šè¿‡äº’è”ç½‘ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡APIï¼‰è¿æ¥åˆ°çš„å¤–éƒ¨ç³»ç»Ÿã€‚</p>
<p>è…¾è®¯ã€é˜¿é‡Œã€ç™¾åº¦ã€AWSç­‰éšåæŠŠè‡ªå®¶äº‘æœåŠ¡å°è£…æˆMCP Serverï¼Œç”Ÿæ€è¿…é€Ÿè†¨èƒ€ï¼Œmcp.soã€smithery.aiæˆäº†â€œæ’ä»¶å•†åº—â€ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼šMCPè®©Agenté•¿å‡ºäº†â€œæ‰‹è„šâ€ï¼Œä¸”æ¢å·¥å…·åƒæ¢USBè®¾å¤‡ä¸€æ ·ç®€å•ã€‚</p>
<h2 data-id="heading-2">A2A - Agentä¹‹é—´çš„â€œç¤¾äº¤åè®®â€</h2>
<p>MCPè§£å†³äº†â€œAgentä¸å·¥å…·â€çš„é€šä¿¡ã€‚2025å¹´ï¼Œè°·æ­Œæ¨å‡ºA2Aï¼ˆAgent-to-Agentï¼‰åè®®ï¼Œè®©ä¸åŒå…¬å¸ã€ä¸åŒæ¡†æ¶çš„Agentå¯ä»¥å½¼æ­¤å‘ç°ã€åå•†ã€å§”ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ad23caa6c24feaa93ef012117c9d88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014692&amp;x-signature=qRKlb004nnXr5hYhsymSleWWjos%3D" alt="image.png" loading="lazy"/></p>
<p>A2A ä½œä¸ºä¸€ä¸ªå¼€æ”¾åè®®ï¼Œå……åˆ†è€ƒè™‘äº†Agentåœ¨å’Œç”¨æˆ·ã€ä¼ä¸šæ‰“é€šçš„è¿‡ç¨‹ä¸­æ‰€é¢ä¸´çš„ä¸€äº›æŒ‘æˆ˜ï¼Œä¸»è¦ç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<p>Capability discovery(åŠŸèƒ½å‘ç°)ï¼šæä¾›äº†Agentä¹‹é—´ç›¸äº’å‘ç°å„è‡ªèƒ½åŠ›çš„æœºåˆ¶ã€‚</p>
<p>Secure collaboration(å®‰å…¨åä½œ)ï¼šé€šè¿‡å¼•å…¥è®¤è¯/æˆæƒæœºåˆ¶ï¼Œä¿è¯Agentä¹‹é—´çš„èº«ä»½äº’ä¿¡ã€‚</p>
<p>Task and state mgmt(ä»»åŠ¡çŠ¶æ€ç®¡ç†)ï¼šå®ç°äº†Agentä¹‹é—´äº’æ“ä½œä»»åŠ¡ä»¥åŠä»»åŠ¡çŠ¶æ€çš„å¯ç®¡ç†æ€§ã€‚</p>
<p>UX negotiation(ç”¨æˆ·ä½“éªŒåå•†)ï¼šä¸åŒçš„Agenté€šè¿‡åå•†çš„æ–¹å¼ï¼Œå¯¹ç”¨æˆ·æä¾›æ— ç¼çš„ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d96be3e4c84bc69cbedb51239f3daa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014692&amp;x-signature=vIpgbfPdxUGs5Bke1QgQKl11Mpg%3D" alt="image.png" loading="lazy"/></p>
<p>ç›®å‰å¤šAgentç³»ç»Ÿçš„æˆåŠŸç‡ä»ç›¸å¯¹è¾ƒä½ï¼ŒA2Aæ›´å¤šå¤„äºå®éªŒé˜¶æ®µï¼Œä½†ä¼¼ä¹å·²è¢«è§†ä¸ºä¸‹ä¸€æ³¢åä½œå¼AIåº”ç”¨çš„åŸºçŸ³ã€‚</p>
<h2 data-id="heading-3">AG-UI - Agentä¸å‰ç«¯çš„åŒå‘é€šé“</h2>
<p>åŒæ ·æ˜¯2025å¹´ï¼ŒCopilotKitå›¢é˜Ÿå¼€AG-UIï¼ˆAgent-User Interaction Protocolï¼Œæ™ºèƒ½ä½“ç”¨æˆ·äº¤äº’åè®®ï¼‰ï¼Œè¡¥å®Œæœ€åä¸€ç¯ï¼šè®©Agentä¸Web/Appå‰ç«¯å®æ—¶äº’åŠ¨ã€‚</p>
<p>AG-UIæ˜¯ä¸€ä¸ªå¼€æ”¾çš„ã€è½»é‡çš„ã€åŸºäºäº‹ä»¶çš„åè®®ï¼Œé€šè¿‡æ ‡å‡†HTTPæˆ–å¯é€‰çš„äºŒè¿›åˆ¶é€šé“ï¼Œä»¥æµå¼æ–¹å¼ä¼ è¾“ä¸€ç³»åˆ—JSONäº‹ä»¶ï¼Œä¸»è¦ç”¨æ¥å¯¹AI agentå’Œå‰ç«¯åº”ç”¨ç¨‹åºçš„äº¤äº’è¿›è¡Œæ ‡å‡†åŒ–ã€‚</p>
<p>ï¼ˆä¸‹å›¾æ¥æºäº<a href="https://link.juejin.cn?target=https%3A%2F%2Fwebflow.copilotkit.ai%2F%25EF%25BC%2589" target="_blank" title="https://webflow.copilotkit.ai/%EF%BC%89" ref="nofollow noopener noreferrer">webflow.copilotkit.ai/ï¼‰</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36358c2defb74424a2d97341a3102ca2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014692&amp;x-signature=DK%2FsoMCWqQVDcIj8HeLfk8m7ADE%3D" alt="image.png" loading="lazy"/></p>
<p>åè®®åŸºäºSSE/WebSocketæµå¼é€šé“ï¼Œå®šä¹‰äº†å››ç±»äº‹ä»¶ï¼š</p>
<ul>
<li>æ¶ˆæ¯æ–‡æœ¬äº‹ä»¶ï¼Œç”¨äºå®æ—¶æµå¼æ–‡æœ¬ç”Ÿæˆï¼Œå¤„ç†å¯¹è¯å†…å®¹ã€‚</li>
<li>å·¥å…·è°ƒç”¨äº‹ä»¶ï¼Œç”¨äºå®Œæ•´çš„å·¥å…·è°ƒç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ‰§è¡Œç‰¹å®šåŠŸèƒ½ã€‚</li>
<li>çŠ¶æ€ç®¡ç†äº‹ä»¶ï¼Œç”¨äºçŠ¶æ€åŒæ­¥ï¼Œæ›´æ–°åº”ç”¨çŠ¶æ€ä»¥ç¡®ä¿å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çŠ¶æ€ä¸€è‡´ã€‚</li>
<li>ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œè¿›è¡Œæ‰§è¡Œæ§åˆ¶ï¼Œç®¡ç†ä¼šè¯æµç¨‹ä»¥åŠæ•´ä¸ªä»£ç†æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸã€‚</li>
</ul>
<p>å½“å‰Agentä¸‰å¤§åè®®å¯¹æ¯”å¦‚ä¸‹ï¼š
ï¼ˆä¸‹å›¾æ¥æºäºé˜¿é‡Œäº‘ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdf3eac534814777a42d3324d2f5b167~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rW36KeC5r2u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770014692&amp;x-signature=NChl460TMe4SXzuntsXhQ0wJAmk%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨æˆ·å®è·µï½œç”¨ TRAE å¼€å‘ XMind-MCP çš„å¿ƒè·¯å†ç¨‹]]></title>    <link>https://juejin.cn/post/7599232628185677859</link>    <guid>https://juejin.cn/post/7599232628185677859</guid>    <pubDate>2026-01-26T07:16:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599232628185677859" data-draft-id="7599247962822836251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨æˆ·å®è·µï½œç”¨ TRAE å¼€å‘ XMind-MCP çš„å¿ƒè·¯å†ç¨‹"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-26T07:16:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨æˆ·å®è·µï½œç”¨ TRAE å¼€å‘ XMind-MCP çš„å¿ƒè·¯å†ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:16:16.000Z" title="Mon Jan 26 2026 07:16:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f9f9e31fd29402891f0e6d74022a415~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=I%2BZ8IOyEVtIKlC8uYr66m6VDbP4%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šå¼ åšæ€ï¼ŒTRAE å¼€å‘è€…ç”¨æˆ·</p>
</blockquote>
<p>æœ¬æ–‡è®°å½•äº†ä¸€ä¸ªä»â€œè¢« AI ç”Ÿæˆçš„æŸåæ–‡ä»¶æåˆ°æŠ“ç‹‚â€åˆ°â€œè‡ªå·±åŠ¨æ‰‹å¼€å‘ä¸€ä¸ª XMind-MCP å·¥å…·â€çš„å…¨è¿‡ç¨‹ã€‚å¦‚æœä½ ä¹Ÿæ›¾ä¸º AI ç”Ÿæˆçš„æ€ç»´å¯¼å›¾æ— æ³•æ‰“å¼€è€Œçƒ¦æ¼ï¼Œæˆ–è€…å¯¹å¦‚ä½•ä¸º AI æ‰©å±•èƒ½åŠ›æ„Ÿåˆ°å¥½å¥‡ï¼Œè¿™é‡Œæœ‰æˆ‘çš„è¸©å‘ã€æ€è€ƒä¸å®è·µç»éªŒã€‚é¡¹ç›®å·²å¼€æºï¼ˆä»“åº“è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMaster-Frank%2FXMindMcp" target="_blank" title="https://github.com/Master-Frank/XMindMcp" ref="nofollow noopener noreferrer">github.com/Master-Franâ€¦</a> ï¼‰ï¼Œæ¬¢è¿å›´è§‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e6b9100e69140c9a2cf5fdb0800e8f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=66GKOrrMhu8zAr0l0HNW9%2FEw12w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ç¼˜èµ·ï¼šä¸€ä¸ªè¢« AIâ€œé€¼ä¸Šæ¢å±±â€çš„ä¸‹åˆ</strong></h2>
<p>æ•…äº‹å§‹äºä¸€ä¸ªæ™®é€šçš„ä¸‹åˆï¼Œæˆ‘è®© TRAE å¸®æˆ‘è§„åˆ’ä¸€ä»½ Playwright çš„å­¦ä¹ è·¯çº¿ã€‚ä¸ºäº†æ›´ç›´è§‚ï¼Œæˆ‘çªå‘å¥‡æƒ³ï¼Œè®©å®ƒæŠŠå­¦ä¹ è®¡åˆ’è½¬æˆ XMind æ ¼å¼çš„æ€ç»´å¯¼å›¾ã€‚</p>
<p>AI å¾ˆå¿«ç»™äº†æˆ‘ä¸€ä¸ª XMind æ–‡ä»¶ï¼Œä½†å½“æˆ‘å°è¯•ç”¨ XMind æ‰“å¼€æ—¶ï¼Œå´æ”¶åˆ°äº†æ— æƒ…çš„é”™è¯¯æç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a92447e12a0d4641b894a8b30e93137a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=tLxSlFU%2BhTrw3hhwmwYK1K1zioU%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä¸æ­»å¿ƒï¼ŒæŠŠé”™è¯¯ä»£ç å‘ç»™ AIï¼ŒæŒ‡æœ›å®ƒèƒ½å¸®æˆ‘ä¿®å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f5b8a7a7bfe45018a70f0ce8aa74528~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=QOsCqHHxdva5erQWbvkYUBeEUx4%3D" alt="" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œåå¤ä¿®æ”¹äº†å‡ æ¬¡ï¼Œç”Ÿæˆçš„ XMind æ–‡ä»¶ä¾ç„¶æ— æ³•æ‰“å¼€ã€‚é‚£æ—¶æˆ‘æ„è¯†åˆ°ï¼Œ<strong>AI å¯èƒ½ç¼ºä¹åˆ›å»º XMind æ–‡ä»¶çš„æŠ€èƒ½ã€‚</strong></p>
<p>æ—¢ç„¶ AI åšä¸åˆ°ï¼Œé‚£å°±ç»™å®ƒä¸€ä¸ªå·¥å…·å¸®ä»–åšåˆ°ï¼äºæ˜¯ï¼Œæˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹ï¼Œå¼€å‘ä¸€ä¸ªèƒ½è®© AI çœŸæ­£æ“ä½œ XMind æ–‡ä»¶çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88444b826d454d44bd6e1af9b5cdcc41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=x4%2FX66kRCuhn32K%2B3yG8dWnR9H8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>ä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©æŠŠ XMind å·¥å…·åšæˆ MCP æ ¼å¼</strong></h2>
<p>åŸå› å…¶å®å¾ˆç®€å•ï¼Œæ€»ç»“ä¸‹æ¥å°±ä¸‰ç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼Œæˆ‘ä¸æƒ³è®©å†™çš„æ“ä½œ XMind çš„ä»£ç åªå‘æŒ¥ä¸€æ¬¡ä½œç”¨ã€‚å®ƒéœ€è¦èƒ½è·¨é¡¹ç›®å¤ç”¨ï¼Œå¹¶ä¸”èƒ½æ–¹ä¾¿åˆ†äº«ï¼Œè®©æ›´å¤šäººéƒ½èƒ½ç”¨ä¸Šï¼Œå®å®åœ¨åœ¨åœ°æå‡æ•ˆç‡ã€‚å› æ­¤éœ€è¦å°†ä»£ç æ‰“åŒ…ã€‚</p>
<p>ç¬¬äºŒï¼Œå¦‚æœæ‰“åŒ…æˆ jar åŒ…æˆ– npm åŒ…ï¼Œä¸ä»…ä½¿ç”¨é—¨æ§›åé«˜ï¼Œè¿˜ä¼šå—é™äºé¡¹ç›®çš„ç¼–ç¨‹è¯­è¨€ï¼Œç”¨èµ·æ¥æ²¡æœ‰é‚£ä¹ˆçµæ´»ä¾¿æ·ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œä¹Ÿæ˜¯æœ€æ ¸å¿ƒçš„ä¸€ç‚¹ â€”â€” æˆ‘åšè¿™ä¸ªå·¥å…·çš„åˆè¡·ï¼Œå°±æ˜¯è®© AI èƒ½å¸®æˆ‘ä»¬ç›´æ¥ç”Ÿæˆ XMind æ–‡æ¡£ã€‚è€Œå½“ä¸‹ä¸»æµçš„ã€èƒ½è®© AI æ¥å…¥å¤–éƒ¨èƒ½åŠ›çš„æ–¹å¼å°±æ˜¯ MCPï¼Œæ‰€ä»¥å®ƒè‡ªç„¶æˆäº†å®ç°è¿™ä¸ªç›®æ ‡çš„æœ€ä¼˜è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a17d904d752347969b76722d6823f6e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=GYRJxyigpMwsK6qUqBabUyUdSVY%3D" alt="divider03.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>ä» 0 åˆ° 1ï¼šæˆ‘çš„ XMind-MCP å¼€å‘ç¬”è®°</strong></h2>
<h3 data-id="heading-3"><strong>æŠ€æœ¯é€‰å‹ï¼šåœ¨ Node ç¢°å£åï¼Œè½¬å‘ Python</strong></h3>
<p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å°è¯•è‡ªå·±åšä¸€ä¸ª MCPï¼Œæ‰€ä»¥ä¸€å¼€å§‹æ²¡ä»€ä¹ˆå¤´ç»ªã€‚è¿˜å¥½æœ‰ TRAE é™ªæˆ‘æ…¢æ…¢æ¢ç´¢ã€‚æœ€åˆï¼Œæˆ‘çœ‹åˆ°å¾ˆå¤š MCP å·¥å…·æ˜¯é€šè¿‡ npx å®‰è£…çš„ï¼Œä¾¿çŒœæµ‹æˆ–è®¸å¯ä»¥ç”¨ Node ä»£ç å®ç°ã€‚æˆ‘è®© AI å¸®æˆ‘å°è¯•äº†åå‡ ä¸ªä¸åŒçš„ npm åŒ…ï¼Œç»“æœæ— ä¸€æˆåŠŸã€‚</p>
<p>åœ¨åå¤éªŒè¯åï¼Œæˆ‘å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š<strong>ç›®å‰æ¥çœ‹ï¼Œå½“å‰æ²¡æœ‰ä½¿ç”¨ Node ç”Ÿæˆæ­£å¸¸çš„ XMind æ–‡ä»¶çš„æ–¹æ¡ˆã€‚</strong> äºæ˜¯ï¼Œæˆ‘æŠŠç›®å…‰è½¬å‘äº†åç«¯è¯­è¨€ï¼Œæœ€ç»ˆé€‰æ‹©äº† Pythonã€‚</p>
<h3 data-id="heading-4"><strong>æ”»å…‹æ ¸å¿ƒï¼šæ—¢ç„¶ AI ä¸æ‡‚ï¼Œå°±ç»™å®ƒä¸€ä¸ªâ€œèŒƒæœ¬â€</strong></h3>
<p>è½¬å‘ Python åï¼ŒæŒ‘æˆ˜ä¾ç„¶å­˜åœ¨ã€‚èµ·åˆåå¤å°è¯•ï¼Œå‘ç°äº§å‡ºçš„æ–‡ä»¶åœ¨ XMind ä¸­æ‰“å¼€æ—¶ï¼Œä¾ç„¶ä¼šå› ä¸º XML æ ¼å¼é—®é¢˜æŠ¥é”™ã€‚ä¸è¿‡ï¼ŒæŠ¥é”™çš„ä¿¡æ¯å’Œåˆšå¼€å§‹çš„ä¸ä¸€æ ·ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œæ–¹å‘å¯¹äº†ï¼Œåªæ˜¯ç»†èŠ‚ä¸å¯¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c5e366eeaf34de58a8c990516abc240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=%2B1uwHzg8f6%2BfdPzM%2FFraI5FnTxY%3D" alt="" loading="lazy"/></p>
<p>æ—¢ç„¶ AI ä¸çŸ¥é“æ­£ç¡®çš„ XMind æ–‡ä»¶å†…éƒ¨ç»“æ„æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œ<strong>é‚£æˆ‘å°±ç»™å®ƒä¸€ä¸ªæ ‡å‡†ç­”æ¡ˆã€‚</strong></p>
<p>æˆ‘æ‰“å¼€ XMindï¼Œæ‰‹åŠ¨åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„ XMind æ–‡ä»¶ï¼ŒæŠŠå®ƒæ”¾åœ¨é¡¹ç›®ç›®å½•ä¸­ä½œä¸ºâ€œæ¨¡æ¿â€äº¤ç»™ AIï¼Œè®©å®ƒå‚è€ƒè¿™ä¸ªæ–‡ä»¶çš„å†…éƒ¨ç»“æ„å’Œ XML æ ¼å¼æ¥é‡æ–°ç¼–å†™ç”Ÿæˆ XMind çš„é€»è¾‘ã€‚è¿™ä¸ªæ–¹æ³•ç«‹ç«¿è§å½±ï¼Œä»…ç”¨å‡ è½®å¯¹è¯ï¼ŒAI å°±å¸®æˆ‘å†™å‡ºäº†èƒ½ç”Ÿæˆå¯æ­£å¸¸æ‰“å¼€çš„ XMind æ–‡ä»¶çš„æ ¸å¿ƒä»£ç ï¼</p>
<p>è¿™ä¹Ÿç»™æˆ‘å¸¦æ¥ä¸€ä¸ªåœ¨ AI coding ä¸­çš„å®è´µç»éªŒï¼š<strong>å½“ AI ä¸çŸ¥é“ä¸€ä»¶äº‹æ€ä¹ˆåšæ—¶ï¼Œç»™ä»–ä¸€ä¸ªâ€œæ ‡å‡†ç­”æ¡ˆâ€ã€‚</strong> è¿™å¬èµ·æ¥åƒä¸åƒ skills çš„æ€è·¯ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32febcd3858143daae1883493fe4bf9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=ZAoMpbn1pU3N2gCHzS5y3sVoxkM%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd7562adf57b4ffd89e91ee3024ceeee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=4dtkFYUw%2B%2Fj2IbQtCuar%2F9TNwGI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5"><strong>å°è£…æˆ MCPï¼šæœåŠ¡å™¨æ–¹æ¡ˆçš„å¼¯è·¯ä¸ PyPI çš„æ­£é€”</strong></h3>
<p>æ ¸å¿ƒåŠŸèƒ½å®Œæˆåï¼Œä¸‹ä¸€æ­¥æ˜¯æŠŠå®ƒå°è£…æˆä¸€ä¸ªèƒ½è¢« AI è°ƒç”¨çš„ MCP å·¥å…·ã€‚</p>
<p>ç¬¬ä¸€æ¬¡å°è£… MCP æ²¡æœ‰ç»éªŒï¼Œå› æ­¤æˆ‘å‘ AI äº†è§£å°è£… MCP çš„æ–¹æ¡ˆã€‚AI ç»™å‡ºçš„æœ€ä½³çš„å»ºè®®æ˜¯â€”â€”å°† XMind MCP éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ HTTP æ¥å£çš„æ–¹å¼æä¾› XMind ç›¸å…³çš„æœåŠ¡ã€‚ä¸ºæ­¤ï¼Œæˆ‘è¿˜è®¤çœŸç ”ç©¶å’Œå¯¹æ¯”äº†å„ç§å…è´¹æœåŠ¡å™¨æ–¹æ¡ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c30014e92a24bbbbd637954a30784db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=VUStnQGOYW1fGugYH9Ia7BK4xuE%3D" alt="" loading="lazy"/></p>
<p>æˆ‘å¯¹æœåŠ¡å™¨éƒ¨ç½²çš„æ–¹æ¡ˆè¿›è¡Œé€ä¸€éªŒè¯ï¼Œæœ€åè¯æ˜æœ¬ XMind MCP æ— æ³•é€šè¿‡ HTTP çš„æ–¹å¼æˆåŠŸå®‰è£…å¹¶æä¾›æœåŠ¡ã€‚</p>
<p>æˆ‘æ•…æŠ€é‡æ–½ï¼Œåœ¨ TRAE çš„ MCP å¸‚åœºä¸­æŸ¥çœ‹çƒ­é—¨ MCP çš„å®‰è£…æ–¹å¼å¹¶æä¾›ç»™ AI ç”¨äºå‚è€ƒã€‚æˆ‘å‘ç°å¤§éƒ¨åˆ† MCP æ˜¯ä¸éœ€è¦æœåŠ¡å™¨ï¼Œæ”¯æŒæœ¬åœ°å®‰è£…çš„ã€‚ä¾‹å¦‚æˆ‘æœ€è¿‘æ­£åœ¨å­¦ä¹ çš„ playwrightã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e55965f97cc40b68d4b7d726af146e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=dmQbkLGN7AdNuit5P95lkMW8w2c%3D" alt="" loading="lazy"/></p>
<p>åŒæ—¶æˆ‘æŸ¥çœ‹äº†å®˜æ–¹æ–‡æ¡£<strong>æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰ - æ–‡æ¡£ - TRAE CN</strong>ï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.trae.cn%2Fide%2Fmodel-context-protocol" target="_blank" title="https://docs.trae.cn/ide/model-context-protocol" ref="nofollow noopener noreferrer">docs.trae.cn/ide/model-câ€¦</a> ï¼‰ï¼Œæ”¯æŒæœ¬åœ°æ‰“åŒ…å®‰è£…çš„æ–¹å¼å¤§æŠµæœ‰è¿™ä¸‰ç§</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b0a2ce5b0db425fbfd51006d2aa9f2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=R90gZw%2FoyaR5LWedNSwSbl1n914%3D" alt="" loading="lazy"/></p>
<p>æ—¢ç„¶æœ¬é¡¹ç›®ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ˜¯ Pythonï¼Œé€‰æ‹©å¾ˆæ˜¾ç„¶æ˜¯ uvx ï¼è€Œå¦‚æœéœ€è¦ä½¿ç”¨ uvx çš„æ–¹å¼å®‰è£…ï¼Œé¦–å…ˆéœ€è¦æ‰“åŒ…å‘å¸ƒåˆ° PyPI å¹³å°ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘æ³¨å†Œäº† PyPI è´¦å·ï¼ŒæŠŠæˆ‘çš„é¡¹ç›®æ‰“äº†åŒ…å¹¶å‘å¸ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0df536372e3643b487c4a3b646b2ec0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=ci97ZNh1yEEnkW%2FVXKiO9YWf7eE%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å½“ä½¿ç”¨<em><strong>pip install XMind-mcp</strong></em>æˆåŠŸçš„é‚£ä¸€åˆ»ï¼Œæ„Ÿè§‰éå¸¸å¥‡å¦™ã€‚å†™äº†è¿™ä¹ˆå¤šå¹´ä»£ç ï¼Œç»ˆäºè®©åˆ«äººä¹Ÿèƒ½<em><strong>install</strong></em>æˆ‘çš„åŒ…äº†ï¼</p>
</blockquote>
<p>ç¡®å®š MCP çš„å®‰è£…æ–¹å¼åï¼Œè¿˜éœ€è¦ç¡®å®š MCP çš„è¿æ¥æ–¹å¼ã€‚å¸¸è§çš„ MCP è¿æ¥æ–¹å¼æœ‰ FastMCP å’Œ stdio ä¸¤ç§ï¼Œæˆ‘é€‰æ‹©äº† FastMCPã€‚Â </p>
<p>åœ¨é…ç½® FastMCP çš„è¿‡ç¨‹åˆé‡åˆ°äº†äº›æ³¢æŠ˜ï¼Œå‘ç°ä¸åŒçš„å¤§æ¨¡å‹åœ¨è§£å†³åŒä¸€ä¸ªé—®é¢˜æ—¶çš„è¡¨ç°ä¹Ÿå„æœ‰åƒç§‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f947f7b4ece4789864e14461d00f968~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=TvtIbPWokO3IhCbUnaDS2eArLXo%3D" alt="" loading="lazy"/></p>
<p>å¾ˆæ„å¤–çš„æ˜¯ï¼ŒGPT5 ç­‰æµ·å¤–æ¨¡å‹æ²¡æˆåŠŸå¸®æˆ‘è§£å†³ MCP è¿æ¥çš„é—®é¢˜ï¼Œä½†æ˜¯ Kimi K2 è§£å†³æˆåŠŸäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ed212dda7b54cdfa32cf85115a06a5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=4FUYf83HT%2Fes8xQEbDVEa9JTlrw%3D" alt="" loading="lazy"/></p>
<p>è¿™æ®µç»å†è®©æˆ‘å­¦åˆ°ä¸€ä¸ªå®è´µçš„æ•™è®­ï¼š</p>
<blockquote>
<p><strong>é‡åˆ°é—®é¢˜ï¼Œå¦‚æœå‡ è½®å¯¹è¯éƒ½æ— æ³•è§£å†³ï¼Œä¸è¦æ­»ç£•ï¼Œä¸å¦¨æ¢ä¸ªæ¨¡å‹è¯•è¯•ã€‚</strong> å°±åƒé‡åˆ°é—®é¢˜æ²¡æœ‰å¤´ç»ªæ—¶ï¼Œå’¨è¯¢ä¸‹å…¶ä»–äººçš„æ„è§ï¼Œå¯èƒ½å°±è±ç„¶å¼€æœ—äº†ã€‚</p>
</blockquote>
<h3 data-id="heading-6"><strong>å®æˆ˜ä¸è¿­ä»£ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€</strong></h3>
<p>MCP å·¥å…·åˆæ­¥è·‘é€šåï¼Œæ–°çš„é—®é¢˜å‡ºç°äº†ï¼š<strong>ç”Ÿæˆçš„ XMind æ–‡ä»¶ä¿å­˜åœ¨å“ªé‡Œï¼Ÿ</strong></p>
<p>æˆ‘å‘ç°ï¼Œç”±äº MCP æ˜¯é€šè¿‡ uvx å®‰è£…åœ¨ uv çš„ç¯å¢ƒä¸‹ï¼Œå®ƒè¿è¡Œæ—¶è·å–åˆ°çš„â€œå½“å‰ç›®å½•â€å¹¶ä¸æ˜¯æˆ‘é¡¹ç›®çš„å·¥ä½œåŒºç›®å½•ï¼Œå¯¼è‡´ç”Ÿæˆçš„æ–‡ä»¶â€œä¸çŸ¥æ‰€è¸ªâ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a804d1bc061f4e678463bbf0ef78f03c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=16ExcWAe01p7462XxK81k3QE0UM%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»äº§å“æ€ç»´å‡ºå‘ï¼Œåšäº†ä¸¤ç‚¹æ”¹è¿›ï¼š</p>
<p><strong>1ã€å…¥å‚è®¾ç½®è¾“å‡ºè·¯å¾„ï¼š</strong> å¢åŠ ä¸€ä¸ªå¿…å¡«çš„è¾“å‡ºè·¯å¾„å‚æ•°ï¼Œè®© AI å¯ä»¥æŒ‡å®šç”Ÿæˆçš„æ–‡ä»¶ä¿å­˜çš„ä½ç½®ã€‚</p>
<p><strong>2ã€æ˜ç¡®è·¯å¾„åé¦ˆï¼š</strong> è®© MCP åœ¨æ‰§è¡ŒæˆåŠŸåï¼Œ<strong>å¿…é¡»è¿”å›ç”Ÿæˆæ–‡ä»¶çš„ç»å¯¹è·¯å¾„</strong>ï¼Œæ–¹ä¾¿ç”¨æˆ·æ‰¾åˆ°ã€‚</p>
<p>æˆ‘åœ¨æœ¬åœ°æµ‹è¯•é€šè¿‡åï¼Œæˆ‘é‚€è¯·äº†ç¤¾åŒºçš„ Nolan å¤§ä½¬å¸®å¿™æµ‹è¯•ã€‚æœç„¶ï¼Œâ€œä¸å‡ºæ„å¤–å°±è¦å‡ºæ„å¤–äº†â€ã€‚åœ¨ä»–çš„é¡¹ç›®é‡Œï¼ŒAI ä¼¼ä¹æ²¡å®Œå…¨ç†è§£å¦‚ä½•æ­£ç¡®è°ƒç”¨æˆ‘çš„ XMind MCPï¼Œå¯¼è‡´ç”Ÿæˆçš„ XMind ç»“æ„é”™ä¹±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5f4e5818d7e447eab4ca41b41d43640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=O8bNDf3dsMnT0HXYbxg3Gsbuk2U%3D" alt="" loading="lazy"/></p>
<p>æˆ‘è®¤ä¸ºé—®é¢˜å‡ºåœ¨ AI å¯¹å·¥å…·çš„â€œç†è§£â€ä¸Šã€‚æˆ‘éœ€è¦è®©æˆ‘çš„ MCP â€œè‡ªæˆ‘ä»‹ç»â€å¾—æ›´æ¸…æ¥šã€‚</p>
<p>äºæ˜¯æˆ‘åœ¨ TRAE è¯·æ•™ AI æœ‰æ²¡æœ‰å¥½çš„è§£å†³åŠæ³•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b93fe486e54f3eb37fa11fc7dfe1c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=t3ACu8bS9iEtnGo7mTsa9VJo6Yk%3D" alt="" loading="lazy"/></p>
<p>ç»“æœå’Œæˆ‘çŒœæƒ³çš„ä¸€æ ·ï¼Œéœ€è¦å®Œå–„ MCP çš„è‡ªæè¿°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7643552875a464184d1c31920e2d459~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=mWSpggY%2BaK3K8jftLbBvJaOyP98%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘ä½¿ç”¨ TRAE ä¼˜åŒ–äº† MCP çš„è‡ªæè¿°ä¿¡æ¯ï¼Œè¯¦ç»†è¯´æ˜äº†æ¯ä¸ªæ–¹æ³•ä¸­æ¯ä¸ªå‚æ•°çš„ç”¨é€”å’Œæ•°æ®ç»“æ„ï¼Œç‰¹åˆ«æ˜¯æ ¸å¿ƒçš„ data å‚æ•°åº”è¯¥å¦‚ä½•ç»„ç»‡å±‚çº§å…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3fa3ae859af4112aa237f06adacd611~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=Qz3wKxBM%2FTCqGMJgKyPj3aC%2BMwA%3D" alt="" loading="lazy"/></p>
<p>è¿™æ¬¡ä¼˜åŒ–æ•ˆæœæ˜¾è‘—ã€‚ç»è¿‡ 4 å¤©ã€21 ä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼Œåœ¨ TRAE çš„æŒç»­å¸®åŠ©ä¸‹ï¼Œè¿™ä¸ª XMind MCP å·¥å…·ç»ˆäºè¾¾åˆ°äº†ç¨³å®šå¥½ç”¨çš„çŠ¶æ€ã€‚ç°åœ¨ï¼ŒAI å·²ç»èƒ½ä¸€æ¬¡æ€§ç”Ÿæˆç»“æ„æ¸…æ™°ã€å†…å®¹æ­£ç¡®çš„æ€ç»´å¯¼å›¾äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12babf1762c84889bbf03795ea6fbc73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=SE6gRPeQv78xnUB4Rp%2FH3PNT0VM%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ce627c0616643a38beaef0283094c5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=5YbxvLLWSONP66l3bXJpZWdj4Tw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f61fed40cd245cebbe5755cf8e4c77f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=xxlnfAnZevEgmMArova0I6VUltI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7"><strong>ä¸‰æ­¥ç”¨ä¸Š XMind-MCP</strong></h2>
<p>ä½¿ç”¨è¿™ä¸ªå·¥å…·éå¸¸ç®€å•ï¼Œæ¯•ç«Ÿï¼Œ<strong>ç»™ AI ç”¨çš„å·¥å…·ï¼Œå°±ä¸è¯¥ä¸ºéš¾äººç±»ç”¨æˆ·ã€‚</strong></p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå¤åˆ¶é…ç½®</strong>åœ¨ TRAE å¯¹è¯æ¡†çš„â€œè®¾ç½®â€ -&gt; â€œMCPâ€æ ‡ç­¾é¡µä¸‹ï¼Œç‚¹å‡»â€œæ‰‹åŠ¨æ·»åŠ â€ï¼Œç„¶åç²˜è´´ä»¥ä¸‹ JSON é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"XMind"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uvx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"XMind-mcp"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"--mode"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"fastmcp"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af1b87e0d3174ec4babd7dfe140c2c54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=wwdl4DvYh2L8tdQLaOGeLH%2BAaLk%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šå®‰è£…ç¯å¢ƒä¾èµ–</strong>å¦‚æœä½ çš„ç”µè„‘æ²¡æœ‰å®‰è£…è¿‡ Python æˆ– uvï¼ŒTRAE ä¼šå¼•å¯¼ä½ è¿›è¡Œå®‰è£…ã€‚å¯¹äº Windows ç”¨æˆ·ï¼Œå®‰è£… <em><strong>uv</strong></em> åï¼Œ<strong>è¯·ç¡®ä¿å°†</strong> <em><strong>uv</strong></em> <strong>çš„å®‰è£…è·¯å¾„</strong> <strong>ï¼ˆé€šå¸¸æ˜¯</strong> <em><strong>C:\Users\YourUsername.uv\bin</strong></em> <strong>ï¼‰æ‰‹åŠ¨æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡çš„</strong> <em><strong>Path</strong></em> <strong>ä¸­ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/839f92fed3944973929db34a5ca03d15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=3V4PPmVBxFypHIslbPPSIAnNqwY%3D" alt="" loading="lazy"/></p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šé€‰æ‹©æ™ºèƒ½ä½“å¹¶å¼€å§‹ä½¿ç”¨</strong>å®‰è£…æˆåŠŸåï¼Œé€‰æ‹©ä½ åˆšåˆšé…ç½®äº† XMind-MCP çš„é‚£ä¸ªæ™ºèƒ½ä½“ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥å‘ AI ä¸‹è¾¾æŒ‡ä»¤äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b0786ca0ee246c2b71e64a2da6a42fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=am2hku%2B5k0KIl77dd8p4FoN%2Fnmk%3D" alt="" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¯´ï¼š <strong>â€œå¸®æˆ‘ä½¿ç”¨ XMind mcp ç”Ÿæˆä¸€ä¸ªå…³äº agent å­¦ä¹ çš„ XMind æ–‡ä»¶ã€‚â€</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/420d9545409f4364b9e50c02087073c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=ald%2B4UnA23dmp2bbVRJJFJzcvmo%3D" alt="" loading="lazy"/></p>
<p><strong>æ¬¢è¿å¤§å®¶ä½“éªŒï¼Œæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œéšæ—¶å¯ä»¥å‘æˆ‘åé¦ˆï¼</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbd7580335ee4013be8e225251a3b7b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=%2B3a%2FQ9d3fggolb9faCTgCCZbB9g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8"><strong>XMind MCP èƒ½åšä»€ä¹ˆï¼Ÿ</strong></h2>
<p>ç›®å‰ï¼ŒXMind-MCP æ”¯æŒä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>
<p><strong>è¯»å–æ€ç»´å¯¼å›¾ï¼š</strong> è¯»å– XMind æ–‡ä»¶ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯</p>
</li>
<li>
<p><strong>åˆ›å»ºæ€ç»´å¯¼å›¾ï¼š</strong> ä½¿ç”¨ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ JSONï¼‰åˆ›å»ºæ–°çš„ XMind æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶æ ¼å¼è½¬æ¢ï¼š</strong> æ”¯æŒå°† TXTã€Markdownã€HTMLã€Wordã€Excel ç­‰å¤šç§æ ¼å¼çš„å†…å®¹ç›´æ¥è½¬æ¢æˆ XMind æ€ç»´å¯¼å›¾ã€‚</p>
</li>
<li>
<p><strong>åˆ†ææ€ç»´å¯¼å›¾ç»“æ„ï¼š</strong> åˆ†æ XMind æ–‡ä»¶ä¸­çš„èŠ‚ç‚¹æ•°å’Œæœ€å¤§å±‚çº§ç­‰ä¿¡æ¯ï¼Œå¹¶ç»™å‡ºæ˜¯å¦å¥åº·çš„è¯„ä»·ã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶æ£€ç´¢ï¼š</strong> åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ XMind æ–‡ä»¶ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d5742f7f1d8422f90e8ca85da39e4b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770017877&amp;x-signature=esEY%2Bm%2BKwtlvHRdOAwDw9q%2B7enI%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®‡æ ‘ç§‘æŠ€Go2æœºå™¨äººå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰å¼€å‘å®æ“æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599496293162336297</link>    <guid>https://juejin.cn/post/7599496293162336297</guid>    <pubDate>2026-01-26T06:53:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599496293162336297" data-draft-id="7598899986857541638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®‡æ ‘ç§‘æŠ€Go2æœºå™¨äººå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰å¼€å‘å®æ“æŒ‡å—"/> <meta itemprop="keywords" content="æœºå™¨äºº"/> <meta itemprop="datePublished" content="2026-01-26T06:53:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±æ–°è§‰ç½—èƒœåˆ©"/> <meta itemprop="url" content="https://juejin.cn/user/4088463319903193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®‡æ ‘ç§‘æŠ€Go2æœºå™¨äººå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰å¼€å‘å®æ“æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088463319903193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±æ–°è§‰ç½—èƒœåˆ©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T06:53:58.000Z" title="Mon Jan 26 2026 06:53:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Go2æœºå™¨äººçš„RLå¼€å‘ä¸­ï¼Œç¯å¢ƒé…ç½®ã€æ¨¡å‹è®­ç»ƒã€æ•ˆæœéªŒè¯ä¸ç­–ç•¥éƒ¨ç½²çš„å®æ“æ­¥éª¤æ˜¯æ ¸å¿ƒç¯èŠ‚ã€‚æœ¬æ–‡åŸºäºå®‡æ ‘ç§‘æŠ€å®˜æ–¹æ–‡æ¡£åŠå¼€æºèµ„æºï¼Œä»¥<strong>Isaac Gym</strong>å’Œ<strong>Isaac Lab</strong>ä¸¤å¤§ä¸»æµä»¿çœŸå¹³å°ä¸ºæ ¸å¿ƒï¼Œæä¾›ä»ç¯å¢ƒæ­å»ºåˆ°å®ç‰©éƒ¨ç½²çš„å…¨æµç¨‹æ“ä½œæ­¥éª¤ï¼Œè¦†ç›–å…³é”®å‘½ä»¤ä¸å‚æ•°é…ç½®ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿè½åœ°RLå¼€å‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€å‡†å¤‡ï¼šç¡¬ä»¶ä¸ç³»ç»Ÿè¦æ±‚</h2>
<p>åœ¨å¼€å§‹æ“ä½œå‰ï¼Œéœ€ç¡®ä¿ç¡¬ä»¶ä¸ç³»ç»Ÿæ»¡è¶³RLå¼€å‘çš„åŸºç¡€éœ€æ±‚ï¼Œé¿å…åç»­å› é…ç½®ä¸è¶³å¯¼è‡´è®­ç»ƒä¸­æ–­æˆ–æ€§èƒ½ç“¶é¢ˆã€‚</p>






























<table><thead><tr><th>ç±»åˆ«</th><th>å…·ä½“è¦æ±‚</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ˜¾å¡</td><td>NVIDIA RTXç³»åˆ—ï¼ˆæ˜¾å­˜â‰¥8GBï¼‰</td><td>éœ€æ”¯æŒCUDAåŠ é€Ÿï¼ŒIsaac Gym/Isaac Labå‡ä¾èµ–GPUè¿›è¡Œä»¿çœŸä¸è®­ç»ƒ</td></tr><tr><td>æ“ä½œç³»ç»Ÿ</td><td>Ubuntu 18.04/20.04/22.04</td><td>æ¨è20.04ç‰ˆæœ¬ï¼Œå…¼å®¹æ€§æœ€ä½³ï¼Œé¿å…ä½¿ç”¨Windowsç³»ç»Ÿï¼ˆéƒ¨åˆ†ä¾èµ–ä¸æ”¯æŒï¼‰</td></tr><tr><td>æ˜¾å¡é©±åŠ¨</td><td>525ç‰ˆæœ¬åŠä»¥ä¸Š</td><td>éœ€ä¸CUDAç‰ˆæœ¬åŒ¹é…ï¼ˆå¦‚CUDA 11.3å¯¹åº”é©±åŠ¨â‰¥465.19.01ï¼ŒCUDA 11.8å¯¹åº”é©±åŠ¨â‰¥520.61.05ï¼‰</td></tr><tr><td>è½¯ä»¶ä¾èµ–</td><td>Condaï¼ˆPythonåŒ…ç®¡ç†ï¼‰</td><td>ç”¨äºåˆ›å»ºç‹¬ç«‹è™šæ‹Ÿç¯å¢ƒï¼Œé¿å…ä¾èµ–å†²çª</td></tr></tbody></table>
<h2 data-id="heading-1">äºŒã€åŸºäºIsaac Gymçš„Go2 RLå¼€å‘å®æ“ï¼ˆå®˜æ–¹æ¨èï¼‰</h2>
<p>Isaac Gymæ˜¯å®‡æ ‘ç§‘æŠ€å®˜æ–¹æ–‡æ¡£æŒ‡å®šçš„ä»¿çœŸå¹³å°ï¼Œé€‚åˆå¿«é€Ÿå®ç°åŸºç¡€RLä»»åŠ¡ï¼ˆå¦‚è¡Œèµ°ã€é¿éšœï¼‰ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰ç¯å¢ƒé…ç½®ï¼šä»ä¾èµ–å®‰è£…åˆ°éªŒè¯</h3>
<h4 data-id="heading-3">1. å®‰è£…Condaä¸åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h4>
<p>è‹¥æœªå®‰è£…Condaï¼Œéœ€å…ˆä¸‹è½½Minicondaï¼ˆè½»é‡ç‰ˆï¼‰ï¼Œå†åˆ›å»ºå¹¶æ¿€æ´»Go2ä¸“å±RLç¯å¢ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¸‹è½½Minicondaï¼ˆUbuntu 64ä½ï¼‰</span>
wget https://repo.anaconda.com/miniconda/Miniconda3-py38_23.10.0-1-Linux-x86_64.sh

<span class="hljs-comment"># 2. å®‰è£…Minicondaï¼ˆæŒ‰æç¤ºè¾“å…¥yesï¼Œé»˜è®¤è·¯å¾„å³å¯ï¼‰</span>
bash Miniconda3-py38_23.10.0-1-Linux-x86_64.sh

<span class="hljs-comment"># 3. é‡å¯ç»ˆç«¯æˆ–æ‰§è¡Œä»¥ä¸‹å‘½ä»¤åŠ è½½Conda</span>
<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># 4. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆPython 3.8ï¼Œåç§°ä¸ºrl-go2ï¼‰</span>
conda create -n rl-go2 python=3.8

<span class="hljs-comment"># 5. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
conda activate rl-go2
</code></pre>
<h4 data-id="heading-4">2. å®‰è£…CUDAä¸PyTorch</h4>
<p>Isaac Gyméœ€ä¾èµ–ç‰¹å®šç‰ˆæœ¬çš„CUDAä¸PyTorchï¼Œå®˜æ–¹æ¨è<strong>CUDA 11.3 + PyTorch 1.10.0</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…CUDA 11.3ï¼ˆè‹¥å·²å®‰è£…åˆ™è·³è¿‡ï¼Œéœ€ç¡®ä¿é©±åŠ¨å…¼å®¹ï¼‰</span>
wget https://developer.download.nvidia.com/compute/cuda/11.3.0/local_installers/cuda_11.3.0_465.19.01_linux.run
sudo sh cuda_11.3.0_465.19.01_linux.run  <span class="hljs-comment"># å®‰è£…æ—¶å–æ¶ˆå‹¾é€‰"Driver"ï¼ˆå·²è£…é©±åŠ¨é¿å…å†²çªï¼‰</span>

<span class="hljs-comment"># 2. é…ç½®CUDAç¯å¢ƒå˜é‡ï¼ˆæ·»åŠ åˆ°~/.bashrcï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=/usr/local/cuda-11.3/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/local/cuda-11.3/lib64:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc  <span class="hljs-comment"># ç”Ÿæ•ˆç¯å¢ƒå˜é‡</span>

<span class="hljs-comment"># 3. å®‰è£…PyTorch 1.10.0ï¼ˆå«CUDA 11.3æ”¯æŒï¼‰</span>
pip3 install torch==1.10.0+cu113 torchvision==0.11.1+cu113 torchaudio==0.10.0+cu113 -f https://download.pytorch.org/whl/cu113/torch_stable.html

<span class="hljs-comment"># 4. å®‰è£…ä½ç‰ˆæœ¬numpyï¼ˆé¿å…ä¸Isaac Gymå†²çªï¼Œæ¨è1.23.5ï¼‰</span>
pip install numpy==1.23.5
</code></pre>
<h4 data-id="heading-5">3. å®‰è£…Isaac Gymå¹¶éªŒè¯</h4>
<p>éœ€ä»NVIDIAå®˜ç½‘ä¸‹è½½<strong>Isaac Gym Preview 4</strong>ï¼ˆéœ€æ³¨å†Œè´¦å·ï¼‰ï¼Œè§£å‹åå®‰è£…å¹¶éªŒè¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å‡è®¾ä¸‹è½½çš„å‹ç¼©åŒ…è·¯å¾„ä¸º~/Downloads/IsaacGym_Preview_4_Package.tar.gzï¼Œè§£å‹åˆ°~/IsaacGym</span>
tar -zxvf ~/Downloads/IsaacGym_Preview_4_Package.tar.gz -C ~/

<span class="hljs-comment"># 2. è¿›å…¥Isaac Gymçš„Pythonç›®å½•ï¼Œå®‰è£…ä¾èµ–</span>
<span class="hljs-built_in">cd</span> ~/IsaacGym/python
pip install -e .

<span class="hljs-comment"># 3. éªŒè¯å®‰è£…ï¼ˆè¿è¡Œç¤ºä¾‹è„šæœ¬ï¼Œè‹¥å¼¹å‡ºä»¿çœŸçª—å£åˆ™æˆåŠŸï¼‰</span>
<span class="hljs-built_in">cd</span> examples
python 1080_balls_of_solitude.py
</code></pre>
<h4 data-id="heading-6">4. å®‰è£…rsl_rlåº“ï¼ˆRLç®—æ³•æ ¸å¿ƒï¼‰</h4>
<p>rsl_rlæ˜¯legged_gymä¾èµ–çš„RLç®—æ³•åº“ï¼Œéœ€å®‰è£…1.0.2ç‰ˆæœ¬ä»¥é€‚é…Go2ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…‹éš†rsl_rlä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/leggedrobotics/rsl_rl

<span class="hljs-comment"># 2. åˆ‡æ¢åˆ°1.0.2ç‰ˆæœ¬</span>
<span class="hljs-built_in">cd</span> rsl_rl
git checkout v1.0.2

<span class="hljs-comment"># 3. å®‰è£…rsl_rl</span>
pip install -e .
</code></pre>
<h4 data-id="heading-7">5. ä¸‹è½½Go2å®˜æ–¹RLç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†å®‡æ ‘å®˜æ–¹rlç¤ºä¾‹ä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/unitreerobotics/unitree_rl_gym
<span class="hljs-built_in">cd</span> unitree_rl_gym
</code></pre>
<h4 data-id="heading-8">6. ä¿®æ”¹è·¯å¾„é…ç½®ï¼ˆå…³é”®æ­¥éª¤ï¼‰</h4>
<p>éœ€ä¿®æ”¹<code>train.py</code>å’Œ<code>play.py</code>ä¸­çš„è·¯å¾„ï¼Œç¡®ä¿è„šæœ¬èƒ½æ‰¾åˆ°legged_gymï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ç¼–è¾‘train.py</span>
nano legged_gym/scripts/train.py

<span class="hljs-comment"># 2. æ‰¾åˆ°ä»¥ä¸‹ä»£ç è¡Œï¼Œæ›¿æ¢ä¸ºè‡ªå·±çš„unitree_rl_gymè·¯å¾„ï¼ˆå¦‚~/unitree_rl_gymï¼‰</span>
sys.path.append(<span class="hljs-string">"/home/unitree/go2/legged_gym"</span>)  <span class="hljs-comment"># åŸè·¯å¾„</span>
sys.path.append(<span class="hljs-string">"~/unitree_rl_gym/legged_gym"</span>)   <span class="hljs-comment"># ä¿®æ”¹åçš„è·¯å¾„ï¼ˆéœ€ä¸å®é™…ä¸€è‡´ï¼‰</span>

<span class="hljs-comment"># 3. æŒ‰Ctrl+Oä¿å­˜ï¼ŒCtrl+Xé€€å‡ºï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ä¿®æ”¹play.py</span>
nano legged_gym/scripts/play.py
</code></pre>
<h3 data-id="heading-9">ï¼ˆäºŒï¼‰æ¨¡å‹è®­ç»ƒï¼šå¯åŠ¨Go2 RLä»»åŠ¡</h3>
<h4 data-id="heading-10">1. åŸºç¡€è®­ç»ƒå‘½ä»¤ï¼ˆé»˜è®¤ä»»åŠ¡ï¼šè¡Œèµ°ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆè‹¥å·²æ¿€æ´»åˆ™è·³è¿‡ï¼‰</span>
conda activate rl-go2

<span class="hljs-comment"># è¿›å…¥ç¤ºä¾‹ä»£ç ç›®å½•</span>
<span class="hljs-built_in">cd</span> ~/unitree_rl_gym

<span class="hljs-comment"># å¯åŠ¨è®­ç»ƒï¼ˆ--task=go2æŒ‡å®šä»»åŠ¡ä¸ºGo2åŸºç¡€æ§åˆ¶ï¼Œé»˜è®¤å¼€å¯å¯è§†åŒ–ï¼‰</span>
python3 legged_gym/scripts/train.py --task=go2
</code></pre>
<h4 data-id="heading-11">2. å…³é”®å‚æ•°é…ç½®ï¼ˆä¼˜åŒ–è®­ç»ƒæ•ˆç‡ï¼‰</h4>



































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>--headless</code></td><td>å…³é—­å¯è§†åŒ–ç•Œé¢ï¼ˆè®­ç»ƒé€Ÿåº¦æå‡50%+ï¼‰</td><td><code>python3 train.py --task=go2 --headless</code></td></tr><tr><td><code>--num_envs</code></td><td>å¹¶è¡Œè®­ç»ƒç¯å¢ƒæ•°é‡ï¼ˆæ˜¾å­˜è¶³å¤Ÿæ—¶è°ƒå¤§ï¼Œæ¨è32/64ï¼‰</td><td><code>python3 train.py --task=go2 --num_envs=64</code></td></tr><tr><td><code>--max_iterations</code></td><td>æœ€å¤§è®­ç»ƒè¿­ä»£æ¬¡æ•°ï¼ˆé»˜è®¤1500ï¼Œå¯æŒ‰éœ€è°ƒæ•´ï¼‰</td><td><code>python3 train.py --task=go2 --max_iterations=2000</code></td></tr><tr><td><code>--sim_device</code></td><td>æŒ‡å®šä»¿çœŸè®¾å¤‡ï¼ˆé»˜è®¤GPUï¼ŒCPUè®­ç»ƒéœ€è®¾ä¸ºcpuï¼‰</td><td><code>python3 train.py --task=go2 --sim_device=cpu</code></td></tr><tr><td><code>--resume</code></td><td>ä»ä¸Šæ¬¡ checkpoint ç»§ç»­è®­ç»ƒï¼ˆéœ€æœ‰å†å²æ—¥å¿—ï¼‰</td><td><code>python3 train.py --task=go2 --resume</code></td></tr></tbody></table>
<h4 data-id="heading-12">3. è®­ç»ƒè¿‡ç¨‹ç›‘æ§</h4>
<ul>
<li>å¯è§†åŒ–ç•Œé¢ï¼šè‹¥æœªå¼€å¯<code>--headless</code>ï¼Œä¼šå¼¹å‡ºIsaac Gymçª—å£ï¼Œå®æ—¶æ˜¾ç¤ºGo2çš„è®­ç»ƒåŠ¨ä½œï¼ˆå¦‚ç«™ç«‹ã€è¡Œèµ°ï¼‰ã€‚</li>
<li>ç»ˆç«¯è¾“å‡ºï¼šä¼šæ‰“å°æ¯è½®è¿­ä»£çš„å¥–åŠ±å€¼ï¼ˆRewardï¼‰ã€æˆåŠŸç‡ï¼ˆSuccess Rateï¼‰ç­‰æŒ‡æ ‡ï¼Œå½“å¥–åŠ±å€¼ç¨³å®šåœ¨è¾ƒé«˜æ°´å¹³ï¼ˆå¦‚1000+ï¼‰æ—¶ï¼Œè¯´æ˜è®­ç»ƒæ•ˆæœè‰¯å¥½ã€‚</li>
<li>æ¨¡å‹ä¿å­˜ï¼šè®­ç»ƒç»“æœé»˜è®¤ä¿å­˜åœ¨<code>logs/&lt;experiment_name&gt;/&lt;date_time&gt;_&lt;run_name&gt;/</code>ï¼ŒåŒ…å«æ¨¡å‹æ–‡ä»¶ï¼ˆ<code>model_xxx.pt</code>ï¼‰å’Œæ—¥å¿—ã€‚</li>
</ul>
<h3 data-id="heading-13">ï¼ˆä¸‰ï¼‰æ•ˆæœéªŒè¯ï¼šä½¿ç”¨play.pyæµ‹è¯•è®­ç»ƒç»“æœ</h3>
<p>å½“è®­ç»ƒè¿­ä»£è¾¾åˆ°1500æ¬¡åï¼Œå¯é€šè¿‡<code>play.py</code>éªŒè¯ç­–ç•¥æ•ˆæœï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€æµ‹è¯•å‘½ä»¤ï¼ˆåŠ è½½æœ€æ–°æ¨¡å‹ï¼Œé»˜è®¤å¼€å¯å¯è§†åŒ–ï¼‰</span>
python3 legged_gym/scripts/play.py --task=go2

<span class="hljs-comment"># åŠ è½½æŒ‡å®šcheckpointï¼ˆå¦‚åŠ è½½ç¬¬1200æ¬¡è¿­ä»£çš„æ¨¡å‹ï¼‰</span>
python3 legged_gym/scripts/play.py --task=go2 --checkpoint=1200

<span class="hljs-comment"># å…³é—­å¯è§†åŒ–æµ‹è¯•ï¼ˆä»…è¾“å‡ºæ—¥å¿—ï¼‰</span>
python3 legged_gym/scripts/play.py --task=go2 --headless
</code></pre>
<h4 data-id="heading-14">éªŒè¯æ ‡å‡†</h4>
<ul>
<li>æˆåŠŸæŒ‡æ ‡ï¼šGo2èƒ½ç¨³å®šç«™ç«‹ã€è¿ç»­è¡Œèµ°ï¼Œæ— è·Œå€’æˆ–åŠ¨ä½œå¡é¡¿ã€‚</li>
<li>å¤±è´¥å¤„ç†ï¼šè‹¥å‡ºç°è·Œå€’ï¼Œéœ€è¿”å›è®­ç»ƒæ­¥éª¤ï¼Œå¢åŠ è¿­ä»£æ¬¡æ•°æˆ–è°ƒæ•´<code>--num_envs</code>å‚æ•°ï¼Œé‡æ–°è®­ç»ƒã€‚</li>
</ul>
<h3 data-id="heading-15">ï¼ˆå››ï¼‰ç­–ç•¥å¯¼å‡ºï¼šä¸ºå®ç‰©éƒ¨ç½²å‡†å¤‡æ¨¡å‹</h3>
<p>play.pyä¼šè‡ªåŠ¨å¯¼å‡ºActorç½‘ç»œï¼ˆå†³ç­–æ¨¡å‹ï¼‰ï¼Œè·¯å¾„ä¸ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">logs/&lt;experiment_name&gt;/exported/policies/policy_1.pt  <span class="hljs-comment"># MLPç½‘ç»œï¼ˆé»˜è®¤ï¼‰</span>
<span class="hljs-comment"># è‹¥ä½¿ç”¨RNNç½‘ç»œï¼Œå¯¼å‡ºä¸ºpolicy_lstm_1.pt</span>
</code></pre>
<p>å¯¼å‡ºçš„æ¨¡å‹å¯ç”¨äºåç»­çš„<code>sim2sim</code>ï¼ˆè·¨ä»¿çœŸå™¨éƒ¨ç½²ï¼‰å’Œ<code>sim2real</code>ï¼ˆå®ç‰©éƒ¨ç½²ï¼‰ã€‚</p>
<h2 data-id="heading-16">ä¸‰ã€åŸºäºIsaac Labçš„Go2 RLå¼€å‘å®æ“ï¼ˆè¿›é˜¶ç‰ˆï¼‰</h2>
<p>Isaac Labæ˜¯NVIDIAæ¨å‡ºçš„æ–°ä¸€ä»£æœºå™¨äººRLæ¡†æ¶ï¼Œæ”¯æŒæ›´å¤æ‚çš„ä»»åŠ¡ï¼ˆå¦‚ä¸Šä¸‹å°é˜¶ã€åç©ºç¿»ï¼‰ï¼Œä¸”å…¼å®¹Go2ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-17">ï¼ˆä¸€ï¼‰ç¯å¢ƒé…ç½®ï¼šå®‰è£…Isaac Labä¸ä¾èµ–</h3>
<h4 data-id="heading-18">1. å®‰è£…åŸºç¡€ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…ç³»ç»Ÿä¾èµ–</span>
sudo apt-get update &amp;&amp; sudo apt-get install -y libgl1-mesa-glx libglib2.0-0

<span class="hljs-comment"># 2. åˆ›å»ºå¹¶æ¿€æ´»Isaac Labä¸“å±è™šæ‹Ÿç¯å¢ƒ</span>
conda create -n isaaclab python=3.8
conda activate isaaclab

<span class="hljs-comment"># 3. å®‰è£…CUDA 11.8ï¼ˆIsaac Labæ¨èç‰ˆæœ¬ï¼‰</span>
wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.run
sudo sh cuda_11.8.0_520.61.05_linux.run  <span class="hljs-comment"># åŒæ ·å–æ¶ˆå‹¾é€‰Driver</span>

<span class="hljs-comment"># 4. é…ç½®CUDA 11.8ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=/usr/local/cuda-11.8/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/local/cuda-11.8/lib64:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># 5. å®‰è£…PyTorch 2.0.0ï¼ˆé€‚é…CUDA 11.8ï¼‰</span>
pip install torch==2.0.0 torchvision==0.15.1 torchaudio==2.0.1 --extra-index-url https://download.pytorch.org/whl/cu118
</code></pre>
<h4 data-id="heading-19">2. å®‰è£…Isaac Lab</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…‹éš†Isaac Labä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/isaac-sim/IsaacLab.git
<span class="hljs-built_in">cd</span> IsaacLab

<span class="hljs-comment"># 2. è¿è¡Œå®˜æ–¹å®‰è£…è„šæœ¬ï¼ˆè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼‰</span>
./setup_conda_env.sh

<span class="hljs-comment"># 3. éªŒè¯å®‰è£…ï¼ˆåˆ›å»ºç©ºåœºæ™¯ï¼Œå¼¹å‡ºä»¿çœŸçª—å£åˆ™æˆåŠŸï¼‰</span>
python <span class="hljs-built_in">source</span>/standalone/tutorials/00_sim/create_empty.py
</code></pre>
<h4 data-id="heading-20">3. å¯¼å…¥Go2çš„USDæ¨¡å‹</h4>
<p>USDæ¨¡å‹æ˜¯Isaac Labä¸­Go2çš„ä»¿çœŸè½½ä½“ï¼Œéœ€ä»å®‡æ ‘å®˜æ–¹æˆ–Isaac Labç¤¾åŒºè·å–ï¼š</p>
<ol>
<li>ä¸‹è½½Go2çš„USDæ¨¡å‹æ–‡ä»¶ï¼ˆå¦‚<code>unitree_go2.usd</code>ï¼‰ã€‚</li>
<li>å°†æ¨¡å‹æ”¾å…¥Isaac Labçš„èµ„æºç›®å½•ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-built_in">source</span>/extensions/omni.isaac.lab_assets/resources/robots/unitree_go2
<span class="hljs-built_in">cp</span> ~/Downloads/unitree_go2.usd <span class="hljs-built_in">source</span>/extensions/omni.isaac.lab_assets/resources/robots/unitree_go2/
</code></pre>
</li>
</ol>
<h3 data-id="heading-21">ï¼ˆäºŒï¼‰PPOç®—æ³•è®­ç»ƒï¼šå®ç°Go2å¤æ‚åŠ¨ä½œ</h3>
<p>Isaac Labé»˜è®¤ä½¿ç”¨PPOç®—æ³•ï¼ˆæœºå™¨äººRLä¸»æµç®—æ³•ï¼‰ï¼Œä»¥â€œä¸Šä¸‹å°é˜¶â€ä»»åŠ¡ä¸ºä¾‹ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-22">1. åˆ›å»ºä»¿çœŸåœºæ™¯é…ç½®æ–‡ä»¶</h4>
<p>åœ¨<code>source/standalone/rl</code>ç›®å½•ä¸‹åˆ›å»º<code>go2_stairs.py</code>ï¼Œå®šä¹‰åœºæ™¯ï¼ˆåœ°é¢ã€å°é˜¶ã€Go2æœºå™¨äººï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> omni.isaac.lab.app <span class="hljs-keyword">import</span> AppLauncher
<span class="hljs-keyword">from</span> omni.isaac.lab.assets <span class="hljs-keyword">import</span> Robot
<span class="hljs-keyword">from</span> omni.isaac.lab.scene <span class="hljs-keyword">import</span> InteractiveScene
<span class="hljs-keyword">from</span> omni.isaac.lab.envs <span class="hljs-keyword">import</span> ManagerBasedRLEnv

<span class="hljs-comment"># 1. å¯åŠ¨ä»¿çœŸå™¨ï¼ˆå…³é—­headlessä¾¿äºè°ƒè¯•ï¼‰</span>
app_launcher = AppLauncher(headless=<span class="hljs-literal">False</span>)
simulation_app = app_launcher.app

<span class="hljs-comment"># 2. åˆ›å»ºåœºæ™¯</span>
scene = InteractiveScene()
<span class="hljs-comment"># æ·»åŠ åœ°é¢</span>
scene.add_ground_plane()
<span class="hljs-comment"># æ·»åŠ å°é˜¶ï¼ˆå°ºå¯¸ï¼šé•¿2mã€å®½1mã€é«˜0.15mï¼‰</span>
scene.add_box(prim_path=<span class="hljs-string">"/World/Stairs"</span>, size=[<span class="hljs-number">2.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">0.15</span>], position=[<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.075</span>], mass=<span class="hljs-number">0.0</span>)
<span class="hljs-comment"># æ·»åŠ Go2æœºå™¨äººï¼ˆä½¿ç”¨USDæ¨¡å‹ï¼‰</span>
go2_robot = Robot(
    prim_path=<span class="hljs-string">"/World/Go2"</span>,
    usd_path=<span class="hljs-string">"source/extensions/omni.isaac.lab_assets/resources/robots/unitree_go2/unitree_go2.usd"</span>,
    position=[<span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.5</span>]  <span class="hljs-comment"># åˆå§‹ä½ç½®ï¼ˆåœ°é¢ä¸Šæ–¹0.5mï¼‰</span>
)
scene.add_robot(go2_robot)

<span class="hljs-comment"># 3. åˆ›å»ºRLç¯å¢ƒï¼ˆç»‘å®šåœºæ™¯ä¸PPOç®—æ³•ï¼‰</span>
env = ManagerBasedRLEnv(scene=scene, policy_cfg=<span class="hljs-string">"ppo"</span>)

<span class="hljs-comment"># 4. å¯åŠ¨è®­ç»ƒï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…éœ€æ·»åŠ å¥–åŠ±å‡½æ•°ä¸åŠ¨ä½œç©ºé—´å®šä¹‰ï¼‰</span>
num_episodes = <span class="hljs-number">1000</span>
<span class="hljs-keyword">for</span> episode <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_episodes):
    obs, _ = env.reset()
    done = <span class="hljs-literal">False</span>
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> done:
        action = env.policy.compute_action(obs)
        obs, reward, done, _, _ = env.step(action)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Episode <span class="hljs-subst">{episode+<span class="hljs-number">1</span>}</span>, Reward: <span class="hljs-subst">{reward:<span class="hljs-number">.2</span>f}</span>"</span>)

<span class="hljs-comment"># 5. å…³é—­ä»¿çœŸå™¨</span>
simulation_app.close()
</code></pre>
<h4 data-id="heading-23">2. å¯åŠ¨PPOè®­ç»ƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¿€æ´»Isaac Labç¯å¢ƒ</span>
conda activate isaaclab

<span class="hljs-comment"># è¿›å…¥è„šæœ¬ç›®å½•</span>
<span class="hljs-built_in">cd</span> IsaacLab/source/standalone/rl

<span class="hljs-comment"># å¯åŠ¨è®­ç»ƒ</span>
python go2_stairs.py
</code></pre>
<h2 data-id="heading-24">å››ã€sim2realï¼šä»ä»¿çœŸåˆ°å®ç‰©éƒ¨ç½²ï¼ˆå…³é”®æ­¥éª¤ï¼‰</h2>
<p>å½“ä»¿çœŸè®­ç»ƒæ•ˆæœè¾¾æ ‡åï¼Œéœ€å°†ç­–ç•¥éƒ¨ç½²åˆ°Go2å®ç‰©æœºå™¨äººï¼Œæ ¸å¿ƒæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-25">ï¼ˆä¸€ï¼‰ç¡¬ä»¶è¿æ¥</h3>
<ol>
<li><strong>ç½‘ç»œè¿æ¥</strong>ï¼šå°†å¼€å‘ç”µè„‘ä¸Go2é€šè¿‡ä»¥å¤ªç½‘æˆ–Wi-Fiè¿æ¥ï¼ˆæ¨èä»¥å¤ªç½‘ï¼Œå»¶è¿Ÿæ›´ä½ï¼‰ï¼Œç¡®ä¿ä¸¤è€…åœ¨åŒä¸€å±€åŸŸç½‘ã€‚</li>
<li><strong>æƒé™é…ç½®</strong>ï¼šé€šè¿‡SSHç™»å½•Go2çš„åµŒå…¥å¼ç³»ç»Ÿï¼ˆé»˜è®¤IPï¼š192.168.123.100ï¼Œç”¨æˆ·åï¼šunitreeï¼Œå¯†ç ï¼šunitreeï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash">ssh unitree@192.168.123.100
</code></pre>
</li>
</ol>
<h3 data-id="heading-26">ï¼ˆäºŒï¼‰éƒ¨ç½²å‡†å¤‡</h3>
<ol>
<li>
<p><strong>å®‰è£…Go2 SDK</strong>ï¼šåœ¨å¼€å‘ç”µè„‘ä¸Šå®‰è£…Go2 SDKï¼ˆä»å®‡æ ‘å®˜ç½‘ä¸‹è½½ï¼‰ï¼Œç¡®ä¿èƒ½è°ƒç”¨æœºå™¨äººçš„è¿åŠ¨æ§åˆ¶æ¥å£ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾SDKè§£å‹åˆ°~/UnitreeSDK</span>
<span class="hljs-built_in">cd</span> ~/UnitreeSDK
sudo ./install.sh
</code></pre>
</li>
<li>
<p><strong>è½¬æ¢æ¨¡å‹æ ¼å¼</strong>ï¼šå°†ä»¿çœŸå¯¼å‡ºçš„<code>policy_1.pt</code>ï¼ˆPyTorchæ¨¡å‹ï¼‰è½¬æ¢ä¸ºGo2æ”¯æŒçš„æ ¼å¼ï¼ˆå¦‚ONNXï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python -m torch.onnx.export \
  --model=policy_1.pt \
  --input-shape=(1,32)  <span class="hljs-comment"># è¾“å…¥ç»´åº¦éœ€ä¸è§‚æµ‹ç©ºé—´ä¸€è‡´ï¼ˆå¦‚32ç»´è§‚æµ‹ï¼‰ \</span>
  --output=go2_policy.onnx
</code></pre>
</li>
</ol>
<h3 data-id="heading-27">ï¼ˆä¸‰ï¼‰æ‰§è¡Œéƒ¨ç½²</h3>
<ol>
<li>
<p><strong>ä¸Šä¼ æ¨¡å‹ä¸è„šæœ¬</strong>ï¼šå°†è½¬æ¢åçš„<code>go2_policy.onnx</code>ä¸éƒ¨ç½²è„šæœ¬ï¼ˆå¦‚<code>deploy_real.py</code>ï¼‰ä¸Šä¼ åˆ°Go2ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">scp go2_policy.onnx unitree@192.168.123.100:~/
scp deploy_real.py unitree@192.168.123.100:~/
</code></pre>
</li>
<li>
<p><strong>åœ¨Go2ä¸Šè¿è¡Œéƒ¨ç½²è„šæœ¬</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç™»å½•Go2</span>
ssh unitree@192.168.123.100

<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆè‹¥æœªå®‰è£…ï¼‰</span>
pip install onnxruntime torch

<span class="hljs-comment"># æ‰§è¡Œéƒ¨ç½²</span>
python deploy_real.py
</code></pre>
</li>
</ol>
<h4 data-id="heading-28">éƒ¨ç½²è„šæœ¬æ ¸å¿ƒé€»è¾‘ï¼ˆdeploy_real.pyç¤ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> onnxruntime <span class="hljs-keyword">as</span> ort
<span class="hljs-keyword">from</span> unitree_sdk2py <span class="hljs-keyword">import</span> Go2SDK  <span class="hljs-comment"># Go2 SDKæ¥å£</span>

<span class="hljs-comment"># 1. åˆå§‹åŒ–Go2 SDK</span>
sdk = Go2SDK()
sdk.connect()

<span class="hljs-comment"># 2. åŠ è½½ONNXæ¨¡å‹</span>
session = ort.InferenceSession(<span class="hljs-string">"go2_policy.onnx"</span>)

<span class="hljs-comment"># 3. å®æ—¶è·å–è§‚æµ‹æ•°æ®ï¼ˆå¦‚å…³èŠ‚è§’åº¦ã€IMUæ•°æ®ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_observation</span>():
    joint_angles = sdk.get_joint_angles()  <span class="hljs-comment"># è·å–å…³èŠ‚è§’åº¦</span>
    imu_data = sdk.get_imu()  <span class="hljs-comment"># è·å–IMUæ•°æ®ï¼ˆåŠ é€Ÿåº¦ã€è§’é€Ÿåº¦ï¼‰</span>
    <span class="hljs-keyword">return</span> joint_angles + imu_data  <span class="hljs-comment"># æ‹¼æ¥ä¸ºè§‚æµ‹å‘é‡ï¼ˆéœ€ä¸è®­ç»ƒæ—¶ä¸€è‡´ï¼‰</span>

<span class="hljs-comment"># 4. æ‰§è¡Œç­–ç•¥å¹¶æ§åˆ¶æœºå™¨äºº</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    obs = get_observation()
    <span class="hljs-comment"># æ¨¡å‹æ¨ç†è·å–åŠ¨ä½œ</span>
    action = session.run(<span class="hljs-literal">None</span>, {<span class="hljs-string">"input"</span>: [obs]})[<span class="hljs-number">0</span>]
    <span class="hljs-comment"># å‘é€åŠ¨ä½œåˆ°Go2</span>
    sdk.send_joint_commands(action)
</code></pre>
<h2 data-id="heading-29">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>






























<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è®­ç»ƒæ—¶å¼¹å‡ºâ€œCUDA out of memoryâ€</td><td>æ˜¾å­˜ä¸è¶³</td><td>1. é™ä½<code>--num_envs</code>ï¼ˆå¦‚ä»64æ”¹ä¸º32ï¼‰ï¼›2. å¼€å¯<code>--headless</code>ï¼›3. æ›´æ¢æ›´å¤§æ˜¾å­˜æ˜¾å¡</td></tr><tr><td>Isaac Gymç¤ºä¾‹è„šæœ¬è¿è¡ŒæŠ¥é”™â€œImportError: No module named 'isaacgym'â€</td><td>è·¯å¾„æœªé…ç½®</td><td>é‡æ–°æ‰§è¡Œ<code>pip install -e .</code>ï¼ˆåœ¨Isaac Gym/pythonç›®å½•ä¸‹ï¼‰ï¼Œå¹¶ç¡®ä¿è™šæ‹Ÿç¯å¢ƒæ¿€æ´»</td></tr><tr><td>å®ç‰©éƒ¨ç½²æ—¶Go2æ— å“åº”</td><td>1. ç½‘ç»œæœªè¿æ¥ï¼›2. SDKæœªåˆå§‹åŒ–</td><td>1. æ£€æŸ¥IPæ˜¯å¦æ­£ç¡®ï¼Œping 192.168.123.100ï¼›2. ç¡®ä¿<code>sdk.connect()</code>è¿”å›True</td></tr><tr><td>play.pyæµ‹è¯•æ—¶Go2é¢‘ç¹è·Œå€’</td><td>è®­ç»ƒä¸å……åˆ†æˆ–å¥–åŠ±å‡½æ•°ä¸åˆç†</td><td>1. å¢åŠ è®­ç»ƒè¿­ä»£æ¬¡æ•°ï¼ˆå¦‚åˆ°2000æ¬¡ï¼‰ï¼›2. è°ƒæ•´å¥–åŠ±å‡½æ•°ï¼ˆå¦‚å¢åŠ å§¿æ€ç¨³å®šå¥–åŠ±ï¼‰</td></tr></tbody></table>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¼€å‘è€…å¯å®Œæˆä»ä»¿çœŸè®­ç»ƒåˆ°å®ç‰©éƒ¨ç½²çš„å…¨æµç¨‹æ“ä½œã€‚å»ºè®®å…ˆåŸºäºIsaac Gymå®ŒæˆåŸºç¡€ä»»åŠ¡ï¼ˆå¦‚è¡Œèµ°ï¼‰ï¼Œå†é€šè¿‡Isaac LabæŒ‘æˆ˜å¤æ‚ä»»åŠ¡ï¼ˆå¦‚ä¸Šä¸‹å°é˜¶ï¼‰ï¼Œé€æ­¥ç§¯ç´¯RLå¼€å‘ç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactè®°å½•ä¹‹useReducer]]></title>    <link>https://juejin.cn/post/7599232628185710627</link>    <guid>https://juejin.cn/post/7599232628185710627</guid>    <pubDate>2026-01-26T07:17:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599232628185710627" data-draft-id="7598938568432500751" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactè®°å½•ä¹‹useReducer"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T07:17:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="web_bee"/> <meta itemprop="url" content="https://juejin.cn/user/428665740231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactè®°å½•ä¹‹useReducer
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/428665740231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    web_bee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T07:17:42.000Z" title="Mon Jan 26 2026 07:17:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>useReducer</code> æ˜¯ React æä¾›çš„ä¸€ä¸ªå†…ç½® Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç®¡ç†å¤æ‚çš„çŠ¶æ€é€»è¾‘ã€‚å®ƒç±»ä¼¼äº Redux çš„ç®€åŒ–ç‰ˆï¼Œé€‚ç”¨äºçŠ¶æ€æ›´æ–°é€»è¾‘è¾ƒå¤æ‚ã€å¤šä¸ªå­å€¼ä¾èµ–å½¼æ­¤ã€æˆ–éœ€è¦å¯é¢„æµ‹çŠ¶æ€å˜åŒ–çš„åœºæ™¯ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸€ã€åŸºæœ¬ä½¿ç”¨æ–¹æ³•</strong></h2>
<h3 data-id="heading-1"><strong>1. è¯­æ³•</strong></h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialState, init);
</code></pre>
<ul>
<li><strong>reducer</strong>ï¼šä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ¥æ”¶å½“å‰ state å’Œ actionï¼Œè¿”å›æ–°çš„ stateã€‚</li>
<li><strong>initialState</strong>ï¼šåˆå§‹çŠ¶æ€ã€‚</li>
<li><strong>initï¼ˆå¯é€‰ï¼‰</strong> ï¼šç”¨äºæƒ°æ€§åˆå§‹åŒ–çš„å‡½æ•°ï¼Œ<code>initialState = init(initialArg)</code></li>
</ul>
<h3 data-id="heading-2"><strong>2. ç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-string">"use client"</span>
â€‹
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useReducer } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
â€‹
â€‹
<span class="hljs-keyword">type</span> actionType = {
 Â <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span>;
 Â value?: <span class="hljs-built_in">any</span>;
}
â€‹
<span class="hljs-keyword">const</span> initialState = {
 Â <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
 Â <span class="hljs-attr">name</span>: <span class="hljs-string">'Reducer Example'</span>,
};
<span class="hljs-keyword">const</span> <span class="hljs-title function_">reducer</span> = (<span class="hljs-params">state: <span class="hljs-built_in">any</span>, action: actionType</span>) =&gt; {
 Â <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
 Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">'count'</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: action.<span class="hljs-property">value</span> };
 Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">'name'</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">name</span>: action.<span class="hljs-property">value</span> };
 Â  Â <span class="hljs-attr">default</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> state;
  }
};
â€‹
<span class="hljs-keyword">const</span> <span class="hljs-title function_">ReducerPage</span> = (<span class="hljs-params"/>) =&gt; {
â€‹
 Â <span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, initialState);
â€‹
 Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{state.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({ type: 'count', value: state.count + 1 })}&gt;Increment Count<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
 Â  Â  Â <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch({
 Â  Â  Â  Â type: 'name',
 Â  Â  Â  Â value: `Updated Reducer Example: ${new Date().toLocaleTimeString()}`
 Â  Â   })}
 Â  Â &gt;
 Â  Â   Change Name
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ReducerPage</span>;
</code></pre>
<h2 data-id="heading-3"><strong>äºŒã€ä½¿ç”¨åœºæ™¯</strong></h2>
<h3 data-id="heading-4"><strong>1.</strong> çŠ¶æ€é€»è¾‘å¤æ‚</h3>
<p>å½“ <code>useState</code> éš¾ä»¥ç»´æŠ¤ï¼ˆä¾‹å¦‚çŠ¶æ€åŒ…å«å¤šä¸ªå­å±æ€§ã€æ›´æ–°é€»è¾‘ç›¸äº’ä¾èµ–ï¼‰æ—¶ï¼Œ<code>useReducer</code> æ›´æ¸…æ™°ã€‚</p>
<h3 data-id="heading-5"><strong>2.</strong> å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€æ›´æ–°é€»è¾‘</h3>
<p>é…åˆÂ <code>useContext</code>Â å¯å®ç°â€œç±» Reduxâ€ çš„å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œé¿å… props drillingã€‚</p>
<h3 data-id="heading-6"><strong>3.</strong> éœ€è¦å¯é¢„æµ‹ã€å¯æµ‹è¯•çš„çŠ¶æ€è½¬æ¢</h3>
<p>reducer æ˜¯çº¯å‡½æ•°ï¼Œä¾¿äºå•å…ƒæµ‹è¯•ï¼›æ‰€æœ‰çŠ¶æ€å˜æ›´é€šè¿‡ <code>dispatch(action)</code> è§¦å‘ï¼Œä¾¿äºè¿½è¸ªã€‚</p>
<h3 data-id="heading-7"><strong>4.</strong> è¡¨å•çŠ¶æ€ç®¡ç†</h3>
<p>å¦‚å¤šæ­¥éª¤è¡¨å•ã€åŠ¨æ€å­—æ®µå¢åˆ ç­‰ï¼Œç”¨ <code>useReducer</code> å¯é›†ä¸­å¤„ç†å­—æ®µå˜æ›´ã€éªŒè¯ã€é‡ç½®ç­‰é€»è¾‘ã€‚</p>
<h2 data-id="heading-8"><strong>ä¸‰ã€æ³¨æ„äº‹é¡¹</strong></h2>
<h3 data-id="heading-9"><strong>1.</strong> reducer å¿…é¡»æ˜¯çº¯å‡½æ•°</h3>
<ul>
<li>ä¸èƒ½æœ‰å‰¯ä½œç”¨ï¼ˆå¦‚ API è°ƒç”¨ã€ç›´æ¥ä¿®æ”¹ stateï¼‰ã€‚</li>
<li>ç›¸åŒè¾“å…¥å¿…é¡»è¿”å›ç›¸åŒè¾“å‡ºã€‚</li>
</ul>
<h3 data-id="heading-10"><strong>2.</strong> ä¸è¦ç›´æ¥ä¿®æ”¹ state</h3>
<p>å§‹ç»ˆè¿”å›<strong>æ–°å¯¹è±¡</strong>ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸ stateï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯</span>
state.count++;
<span class="hljs-keyword">return</span> state;
â€‹
<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">return</span> { ...state, count: state.count + <span class="hljs-number">1</span> };
</code></pre>
<h3 data-id="heading-11"><strong>3.</strong> æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li>å¦‚æœ reducer è®¡ç®—å¼€é”€å¤§ï¼Œå¯è€ƒè™‘ <code>useMemo</code> ç¼“å­˜ä¸­é—´ç»“æœï¼ˆä½† reducer æœ¬èº«é€šå¸¸å¾ˆå¿«ï¼‰ã€‚</li>
<li><code>dispatch</code> å‡½æ•°åœ¨ç»„ä»¶ re-render æœŸé—´æ˜¯ç¨³å®šçš„ï¼ˆä¸ä¼šå˜ï¼‰ï¼Œå¯å®‰å…¨ç”¨äºä¾èµ–æ•°ç»„ï¼ˆå¦‚ <code>useEffect</code>ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-12"><strong>4.</strong> ä¸ useState çš„é€‰æ‹©</h3>
<ul>
<li>ç®€å•çŠ¶æ€ â†’ <code>useState</code></li>
<li>å¤æ‚çŠ¶æ€é€»è¾‘ã€å¤šä¸ªç›¸å…³çŠ¶æ€ã€éœ€è¦é›†ä¸­ç®¡ç† â†’ <code>useReducer</code></li>
</ul>
<h3 data-id="heading-13"><strong>5.</strong> è°ƒè¯•æ”¯æŒ</h3>
<p>å¯é€šè¿‡åœ¨ reducer ä¸­åŠ æ—¥å¿—ï¼Œæˆ–ä½¿ç”¨ React DevTools æŸ¥çœ‹ dispatch çš„ actionã€‚</p>
<h2 data-id="heading-14"><strong>å››ã€è¿›é˜¶ï¼šæƒ°æ€§åˆå§‹åŒ–ï¼ˆLazy Initializationï¼‰</strong></h2>
<p>å¦‚æœåˆå§‹çŠ¶æ€è®¡ç®—å¼€é”€å¤§ï¼Œå¯ç”¨ç¬¬ä¸‰ä¸ªå‚æ•° <code>init</code>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const init = (initialCount) =&gt; ({ count: initialCount });
â€‹
function <span class="hljs-built_in">reducer</span>(state, action) { <span class="hljs-comment">/* ... */</span> }
â€‹
function <span class="hljs-built_in">Counter</span>({ initialCount }) {
 Â const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialCount, init);
}
</code></pre>
<p>è¿™æ · <code>init</code> åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<h2 data-id="heading-15">æ€»ç»“</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>useState</th><th>useReducer</th></tr></thead><tbody><tr><td>é€‚ç”¨åœºæ™¯</td><td>ç®€å•ç‹¬ç«‹çŠ¶æ€</td><td>å¤æ‚ã€å…³è”çŠ¶æ€</td></tr><tr><td>çŠ¶æ€æ›´æ–°</td><td>ç›´æ¥è®¾å€¼æˆ–å‡½æ•°</td><td>é€šè¿‡ dispatch(action)</td></tr><tr><td>å¯è¯»æ€§</td><td>ç®€å•åœºæ™¯æ›´ç›´è§‚</td><td>å¤æ‚é€»è¾‘æ›´æ¸…æ™°</td></tr><tr><td>æµ‹è¯•æ€§</td><td>è¾ƒå¼±</td><td>å¼ºï¼ˆçº¯å‡½æ•°ï¼‰</td></tr></tbody></table>
<p>åˆç†ä½¿ç”¨ <code>useReducer</code> èƒ½è®©çŠ¶æ€ç®¡ç†æ›´å¥å£®ã€å¯ç»´æŠ¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>