<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[mp4æ–‡ä»¶åœ¨CDNä¸Šæ— æ³•åœ¨ç½‘é¡µæ’­æ”¾çš„é—®é¢˜]]></title>    <link>https://juejin.cn/post/7573468493570146340</link>    <guid>https://juejin.cn/post/7573468493570146340</guid>    <pubDate>2025-11-17T12:43:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493570146340" data-draft-id="7573525634212298795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mp4æ–‡ä»¶åœ¨CDNä¸Šæ— æ³•åœ¨ç½‘é¡µæ’­æ”¾çš„é—®é¢˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T12:43:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ©™å­æ‰“æ¸¸æˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1081575170907086"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mp4æ–‡ä»¶åœ¨CDNä¸Šæ— æ³•åœ¨ç½‘é¡µæ’­æ”¾çš„é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1081575170907086/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ©™å­æ‰“æ¸¸æˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T12:43:40.000Z" title="Mon Nov 17 2025 12:43:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“æŠŠä¸€ä¸ªmp4æ–‡ä»¶æ”¾åˆ°å¯¹è±¡å­˜å‚¨ä¹‹åï¼Œé€šè¿‡CDNå›æºï¼Œè¿›è¡ŒåŠ é€Ÿï¼Œå¯èƒ½ä¼šå‡ºç°ï¼Œåœ¨webé¡µé¢ä¸Šæ— æ³•æ‰“å¼€æ’­æ”¾çš„é—®é¢˜ï¼ŒæŠ¥é”™ä¿¡æ¯æ˜¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf97e9ed13624c27ba9915d210d52cc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qmZ5a2Q5omT5ri45oiP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763988220&amp;x-signature=LT5SGTdufkRoLspu%2FDiAGJw7Hn8%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨CDNçš„é…ç½®é¡¹å½“ä¸­ï¼Œå…³é—­äº†æ™ºèƒ½å‹ç¼©ä¹Ÿæ²¡æœ‰ç”¨ï¼Œä¾ç„¶ä¼šå‡ºç°è¿™ç§æŠ¥é”™ã€‚</p>
<p>åœ¨å”®åæŠ€æœ¯å›¢é˜Ÿä¸€ä¸‹åˆçš„æ”¯æŒè§£å†³æ— æœä¹‹åï¼Œæˆ‘è¯¦ç»†æ¯”å¯¹äº†å¯ç”¨çš„è§†é¢‘å’Œè¿™æ¡ä¸å¯ç”¨è§†é¢‘çš„åŒºåˆ«</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f132c566e456426f8db4a22209eccd33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qmZ5a2Q5omT5ri45oiP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763988220&amp;x-signature=4osSaz6rJc4aaZO7CUt8cnahICg%3D" alt="image.png" loading="lazy"/></p>
<p>æœ€ç»ˆå®šä½åˆ°ï¼Œæ˜¯<strong>å…ƒæ•°æ®</strong>çš„é—®é¢˜ã€‚</p>
<p>æ— æ³•æ’­æ”¾çš„é‚£ä¸ªè§†é¢‘ï¼Œå…ƒæ•°æ®ä¸¢å¤±ï¼Œè¡¥å…¨ä¸€äº›å…ƒæ•°æ®å°±å¯ä»¥äº†ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Skills ç¡¬æ ¸æŠ€å·§ï¼šç”¨ PDF-Skill 10 åˆ†é’Ÿæå®šå…¨ç±»å‹ PDF è‡ªåŠ¨åŒ–ï¼ŒåŠå…¬äººå¿…å¤‡]]></title>    <link>https://juejin.cn/post/7573508361741500416</link>    <guid>https://juejin.cn/post/7573508361741500416</guid>    <pubDate>2025-11-17T12:36:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573508361741500416" data-draft-id="7573530680886394914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Skills ç¡¬æ ¸æŠ€å·§ï¼šç”¨ PDF-Skill 10 åˆ†é’Ÿæå®šå…¨ç±»å‹ PDF è‡ªåŠ¨åŒ–ï¼ŒåŠå…¬äººå¿…å¤‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T12:36:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wwwzhouhui"/> <meta itemprop="url" content="https://juejin.cn/user/3428746411400537"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Skills ç¡¬æ ¸æŠ€å·§ï¼šç”¨ PDF-Skill 10 åˆ†é’Ÿæå®šå…¨ç±»å‹ PDF è‡ªåŠ¨åŒ–ï¼ŒåŠå…¬äººå¿…å¤‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3428746411400537/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wwwzhouhui
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T12:36:12.000Z" title="Mon Nov 17 2025 12:36:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘å·¥ä½œä¸­,PDFæ–‡æ¡£å¤„ç†ä¸€ç›´æ˜¯ä¸ªè®©äººå¤´ç–¼çš„é—®é¢˜ã€‚ä¼ ç»Ÿçš„PDFå¤„ç†æ–¹å¼è¦ä¹ˆåŠŸèƒ½å•ä¸€åªèƒ½åšç®€å•çš„æ–‡æœ¬æå–,è¦ä¹ˆéœ€è¦è´­ä¹°æ˜‚è´µçš„å•†ä¸šè½¯ä»¶,å¼€å‘è€…æƒ³å®ç°æ‰¹é‡è¡¨å•å¡«å……ã€æ–‡æ¡£è‡ªåŠ¨åŒ–å¤„ç†è¿™äº›éœ€æ±‚å¾€å¾€è¦èŠ±è´¹å¤§é‡æ—¶é—´å»è°ƒç ”å„ç§åº“ã€å†™å¤§é‡é‡å¤ä»£ç ,æ•ˆç‡ä½ä¸‹ä¸è¯´,é‡åˆ°å¤æ‚åœºæ™¯è¿˜ç»å¸¸å¡å£³ã€‚ç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›éœ€è¦å¤„ç†å¤§é‡PDFè¡¨å•çš„ä¼ä¸šåº”ç”¨æ¥è¯´,äººå·¥å¡«å†™æ—¢è´¹æ—¶åˆå®¹æ˜“å‡ºé”™,æ€¥éœ€ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ModelScope ms-agent é¡¹ç›®ä¸­çš„ PDF-Skill å°±æ˜¯ä¸ºè§£å†³è¿™äº›ç—›ç‚¹è€Œç”Ÿçš„å¼€æºå·¥å…·åŒ…,å®ƒæ•´åˆäº† pypdfã€pdfplumberã€reportlab ç­‰å¤šä¸ªæˆç†Ÿçš„ Python åº“,å†åŠ ä¸Š poppler-utilsã€qpdf ç­‰å‘½ä»¤è¡Œå·¥å…·,æä¾›äº†ä»æ–‡æœ¬æå–ã€è¡¨æ ¼è¯†åˆ«ã€PDFåˆ›å»ºã€è¡¨å•å¡«å……åˆ°å›¾åƒå¤„ç†ã€å®‰å…¨åŠ å¯†çš„å…¨å¥—è§£å†³æ–¹æ¡ˆã€‚è¿™å¥—å·¥å…·åŒ…æœ€å¤§çš„äº®ç‚¹åœ¨äº"åŒè·¯å¾„è¡¨å•å¤„ç†" â€”â€” æ—¢æ”¯æŒå¯å¡«å……è¡¨å•çš„è‡ªåŠ¨åŒ–å¡«å†™,ä¹Ÿèƒ½é€šè¿‡ç²¾ç¡®åæ ‡å®šä½å¤„ç†é‚£äº›ä¸å¯å¡«å……çš„æ‰«æç‰ˆè¡¨å•,é…åˆå¯è§†åŒ–éªŒè¯æœºåˆ¶(è“è‰²æ ‡ç­¾æ¡† + çº¢è‰²è¾“å…¥æ¡†),ç¡®ä¿æ¯ä¸ªå­—æ®µéƒ½å‡†ç¡®æ— è¯¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db9d988e028445c9a62977e5b91c0e81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=vwDPX07%2Fxk1bYhZrFyRaftIEDcw%3D" alt="image-20251117150042094" loading="lazy"/></p>
<p>æ ¸å¿ƒæŠ€æœ¯ç‚¹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a40cee18cf564ed2a6997388306933ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=wkFj0Pe5isgtocou5uMoay1fr5Q%3D" alt="image-20251117150147240" loading="lazy"/></p>
<p>å¦å¤–æä¾›äº†å…¨å¥—è§£å†³æ–¹æ¡ˆï¼šåœ¨<strong>æ–‡æœ¬æå–</strong>ã€<strong>è¡¨æ ¼è¯†åˆ«</strong>ã€<strong>PDFåˆ›å»º</strong>ã€<strong>è¡¨å•å¡«å……</strong>ã€<strong>å›¾åƒå¤„ç†</strong>ã€<strong>å®‰å…¨åŠ å¯†</strong> ç­‰æä¾›å…¨é¢åŠå…¬è‡ªåŠ¨åŒ–åŠŸèƒ½</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf4021c4975b42fb87f3cfb2d4160a36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=rYeAlzMvakBC8e1oIm8SqsDMZBg%3D" alt="image-20251117150307555" loading="lazy"/></p>
<p>å‰å‡ å¤©çœ‹åˆ°é­”æ­ç¤¾åŒºæ—¥æŠ¥ä¸­çœ‹åˆ°è¿™ç¯‡å…³äºPDF çš„skillã€‚è¯¦ç»†æ–‡ç«  <a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Flearn%2F2558%25EF%25BC%258C%25E6%2584%259F%25E5%2585%25B4%25E8%25B6%25A3%25E5%25B0%258F%25E4%25BC%2599%25E4%25BC%25B4%25E5%258F%25AF%25E4%25BB%25A5%25E5%2585%25B3%25E6%25B3%25A8%25E8%25BF%2599%25E7%25AF%2587%25E6%2596%2587%25E7%25AB%25A0" target="_blank" title="https://modelscope.cn/learn/2558%EF%BC%8C%E6%84%9F%E5%85%B4%E8%B6%A3%E5%B0%8F%E4%BC%99%E4%BC%B4%E5%8F%AF%E4%BB%A5%E5%85%B3%E6%B3%A8%E8%BF%99%E7%AF%87%E6%96%87%E7%AB%A0" ref="nofollow noopener noreferrer">modelscope.cn/learn/2558ï¼Œâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8bff2671de4620b474aaeb47c035d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=Rl3z4L4XulU3UoI7%2Ba5r3%2F7E%2FZc%3D" alt="image-20251117112752547" loading="lazy"/></p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶å¦‚ä½•ä½¿ç”¨è¿™ä¸ªå¼ºå¤§çš„å·¥å…·åŒ…,ä»ç¯å¢ƒé…ç½®åˆ°å®æˆ˜åº”ç”¨,ä½“éªŒä¸€ä¸‹è¿™å¥—"AI Agentä¸“å±PDFå¤„ç†ç¥å™¨"çš„å®Œæ•´èƒ½åŠ›ã€‚è¯ä¸å¤šè¯´,å’±ä»¬ç›´æ¥å¼€å¹²!</p>
<h2 data-id="heading-1">é¡¹ç›®ä»‹ç»</h2>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒç‰¹æ€§</h3>
<p>PDF-Skill æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢çš„ PDF å¤„ç†å·¥å…·åŒ…,ä¸»è¦ç‰¹æ€§åŒ…æ‹¬:</p>
<ul>
<li><strong>ğŸ“ æ™ºèƒ½æ–‡æœ¬æå–</strong>: ä»PDFä¸­æå–çº¯æ–‡æœ¬å†…å®¹,æ”¯æŒä¿ç•™åŸå§‹å¸ƒå±€,å°†è¡¨æ ¼è½¬æ¢ä¸º pandas DataFrame æ ¼å¼,è½»æ¾å¯¼å‡ºåˆ° Excel</li>
<li><strong>ğŸ¨ ä¸“ä¸šPDFåˆ›å»º</strong>: ä½¿ç”¨ ReportLab åº“åˆ›å»ºæ–°PDF,æ”¯æŒ Canvas(ä½çº§ç»˜å›¾)å’Œ Platypus(ç»“æ„åŒ–æ–‡æ¡£)ä¸¤ç§æ–¹å¼</li>
<li><strong>ğŸ”§ å…¨èƒ½æ–‡æ¡£æ“ä½œ</strong>: åˆå¹¶ã€æ‹†åˆ†ã€æ—‹è½¬ã€å…ƒæ•°æ®æå–ã€é¡µé¢é‡æ’åˆ—ã€æ–‡æ¡£ä¼˜åŒ–å’Œä¿®å¤ä¸€åº”ä¿±å…¨</li>
<li><strong>ğŸ“‹ åŒè·¯å¾„è¡¨å•å¤„ç†</strong>: å¯å¡«å……è¡¨å•è‡ªåŠ¨å¡«å†™ + ä¸å¯å¡«å……è¡¨å•åæ ‡å®šä½,é…åˆè§†è§‰éªŒè¯æœºåˆ¶ç¡®ä¿å‡†ç¡®æ€§</li>
<li><strong>ğŸ–¼ï¸ å›¾åƒå¤„ç†å¥—ä»¶</strong>: æå–åµŒå…¥å›¾åƒã€PDFè½¬é«˜æ¸…å›¾ç‰‡ã€æ·»åŠ æ°´å°,æ”¯æŒå¯é…ç½®åˆ†è¾¨ç‡å’Œå¿«é€Ÿæ¸²æŸ“</li>
<li><strong>ğŸ”’ å®‰å…¨åŠ å¯†åŠŸèƒ½</strong>: PDFå¯†ç ä¿æŠ¤ã€æƒé™æ§åˆ¶ã€åŠ å¯†/è§£å¯†æ“ä½œ,ä¿éšœæ–‡æ¡£å®‰å…¨</li>
<li><strong>ğŸ” OCRæ–‡å­—è¯†åˆ«</strong>: é’ˆå¯¹æ‰«æç‰ˆPDFè¿›è¡ŒOCRè¯†åˆ«,ä½¿ç”¨ pytesseract å’Œ pdf2image å°†å›¾åƒå‹PDFè½¬ä¸ºå¯æœç´¢æ–‡æœ¬</li>
<li><strong>âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</strong>: æ”¯æŒå¤§æ–‡ä»¶æµå¼å¤„ç†ã€å†…å­˜é«˜æ•ˆåˆ†å—å¤„ç†ã€æ‰¹å¤„ç†å’Œé”™è¯¯æ¢å¤æœºåˆ¶</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae80af7330fa45b1997b5d6de354a912~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=4gRfVOpqGx9oLvslROpzD0GzcaQ%3D" alt="image-20251117113054254" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3>
<h4 data-id="heading-4">Python æ ¸å¿ƒåº“</h4>








































<table><thead><tr><th>åº“å</th><th>ä¸»è¦åŠŸèƒ½</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>pypdf</strong></td><td>åŸºç¡€PDFæ“ä½œ</td><td>åˆå¹¶ã€æ‹†åˆ†ã€æ—‹è½¬ã€å…ƒæ•°æ®æå–</td></tr><tr><td><strong>pdfplumber</strong></td><td>æ–‡æœ¬å’Œè¡¨æ ¼æå–</td><td>ä¿ç•™å¸ƒå±€ã€ç»“æ„åŒ–è¡¨æ ¼æ•°æ®ã€åæ ‡ä¿¡æ¯</td></tr><tr><td><strong>reportlab</strong></td><td>PDFåˆ›å»º</td><td>ä¸“ä¸šæŠ¥è¡¨ç”Ÿæˆã€æ ·å¼åŒ–æ–‡æ¡£</td></tr><tr><td><strong>pypdfium2</strong></td><td>PDFæ¸²æŸ“</td><td>Chromiumçš„PDFiumç»‘å®šã€å¿«é€Ÿå›¾åƒç”Ÿæˆ</td></tr><tr><td><strong>pytesseract</strong></td><td>OCRè¯†åˆ«</td><td>æ‰«æç‰ˆPDFæ–‡å­—è¯†åˆ«</td></tr><tr><td><strong>pdf2image</strong></td><td>å›¾åƒè½¬æ¢</td><td>PDFè½¬å›¾åƒ</td></tr></tbody></table>
<h4 data-id="heading-5">å‘½ä»¤è¡Œå·¥å…·</h4>

























<table><thead><tr><th>å·¥å…·</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><strong>pdftotext</strong></td><td>æ–‡æœ¬æå–,æ”¯æŒå¸ƒå±€ä¿ç•™å’Œé¡µé¢èŒƒå›´é€‰æ‹©</td></tr><tr><td><strong>pdfimages</strong></td><td>æœ€å¿«çš„å›¾åƒæå–å·¥å…·</td></tr><tr><td><strong>qpdf</strong></td><td>é¡µé¢æ“ä½œã€ä¼˜åŒ–ã€ä¿®å¤ã€å¯†ç ç§»é™¤</td></tr><tr><td><strong>pdftk</strong></td><td>åˆå¹¶ã€æ‹†åˆ†ã€æ—‹è½¬ç­‰æ“ä½œ</td></tr></tbody></table>
<h4 data-id="heading-6">JavaScript åº“</h4>
<p>é¡¹ç›®è¿˜æä¾› JavaScript æ”¯æŒ,æ–¹ä¾¿å‰ç«¯é›†æˆ:</p>
<ul>
<li><strong>pdf-lib</strong>: åœ¨ä»»ä½•JavaScriptç¯å¢ƒä¸­åˆ›å»ºå’Œä¿®æ”¹PDF</li>
<li><strong>pdfjs-dist</strong>: Mozillaçš„æµè§ˆå™¨ç«¯PDFæ¸²æŸ“æ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-7">ğŸ¯ åº”ç”¨åœºæ™¯</h3>
<p>PDF-Skill é€‚ç”¨äºä»¥ä¸‹å…¸å‹åœºæ™¯:</p>
<ol>
<li>
<p><strong>è‡ªåŠ¨åŒ–è¡¨å•å¡«å†™</strong>: æ‰¹é‡å¤„ç†PDFè¡¨å•ã€ä¼ä¸šæ–‡æ¡£è‡ªåŠ¨åŒ–ã€æ•°æ®è¿ç§»å’Œå½•å…¥</p>
</li>
<li>
<p><strong>æ–‡æ¡£æ•°æ®æå–</strong>: ä»PDFæŠ¥è¡¨ä¸­æå–ç»“æ„åŒ–æ•°æ®ã€è¡¨æ ¼è½¬Excelã€æ–‡æœ¬å†…å®¹åˆ†æ</p>
</li>
<li>
<p><strong>PDFæ–‡æ¡£ç®¡ç†</strong>: æ–‡æ¡£åˆå¹¶ä¸æ‹†åˆ†ã€æ‰¹é‡å¤„ç†å’Œç»„ç»‡ã€æ–‡æ¡£å½’æ¡£å’Œæ•´ç†</p>
</li>
<li>
<p><strong>æŠ¥è¡¨ç”Ÿæˆ</strong>: åŠ¨æ€ç”ŸæˆPDFæŠ¥å‘Šã€ä¼ä¸šæŠ¥è¡¨è‡ªåŠ¨åŒ–ã€å‘ç¥¨å’Œå•æ®ç”Ÿæˆ</p>
</li>
<li>
<p><strong>å®‰å…¨æ–‡æ¡£å¤„ç†</strong>: æ·»åŠ å¯†ç ä¿æŠ¤ã€æ•æ„Ÿæ–‡æ¡£åŠ å¯†ã€æƒé™ç®¡ç†</p>
</li>
<li>
<p><strong>OCRå’Œæ•°å­—åŒ–</strong>: æ‰«ææ–‡æ¡£è¯†åˆ«ã€å†å²æ–‡æ¡£æ•°å­—åŒ–ã€å¯æœç´¢PDFåˆ›å»º</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fade7fab086a45cb991ebbbf41988434~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=gRwMAojyyVohB1wzgdNfekDm%2Fas%3D" alt="image-20251117113154696" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-8">ğŸŒŸ æ ¸å¿ƒäº®ç‚¹</h3>
<p><strong>Claude Code æ·±åº¦é›†æˆ</strong></p>
<p>ä¸“é—¨ä¸º Claude Code è®¾è®¡çš„å·¥ä½œæµ,æ”¯æŒ AI è¾…åŠ©çš„ PDF å¤„ç†ä»»åŠ¡,æ™ºèƒ½åŒ–è¡¨å•è¯†åˆ«å’Œå¡«å……ã€‚å¼€å‘è€…å¯ä»¥åœ¨ AI Agent ä¸­ç›´æ¥è°ƒç”¨è¿™äº›èƒ½åŠ›,å®ç°çœŸæ­£çš„æ–‡æ¡£å¤„ç†è‡ªåŠ¨åŒ–ã€‚</p>
<p><strong>åƒç´ çº§åæ ‡å®šä½</strong></p>
<p>æ”¯æŒåƒç´ çº§çš„ç²¾ç¡®å®šä½,å¯è§†åŒ–éªŒè¯æœºåˆ¶è®©ä½ çœ‹å¾—è§æ‘¸å¾—ç€ â€”â€” è“è‰²çŸ©å½¢æ ‡è®°æ ‡ç­¾åŒºåŸŸ,çº¢è‰²çŸ©å½¢æ ‡è®°è¾“å…¥åŒºåŸŸ,é˜²æ­¢å­—æ®µé‡å çš„æ™ºèƒ½æ£€æŸ¥,ç¡®ä¿æ¯ä¸ªè¡¨å•å­—æ®µéƒ½å¡«å¾—å‡†ç¡®æ— è¯¯ã€‚</p>
<p><strong>æ¨¡å—åŒ–è®¾è®¡</strong></p>
<p>æ¯ä¸ªåŠŸèƒ½éƒ½æœ‰ç‹¬ç«‹çš„è„šæœ¬å’Œå·¥å…·,æ¸…æ™°çš„æ–‡ä»¶ç»„ç»‡ç»“æ„è®©ä½ éšç”¨éšå–ã€‚æ— è®ºæ˜¯ç®€å•çš„æ–‡æœ¬æå–è¿˜æ˜¯å¤æ‚çš„è¡¨å•å¡«å……,éƒ½èƒ½å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å·¥å…·,ææ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<h2 data-id="heading-9">éƒ¨ç½²å®æˆ˜</h2>
<h3 data-id="heading-10">3.1 ç¯å¢ƒå‡†å¤‡</h3>
<p>æˆ‘ä»¬é¦–å…ˆéœ€è¦å‡†å¤‡ Python ç¯å¢ƒã€‚PDF-Skill å®˜æ–¹æ¨èä½¿ç”¨ Python 3.11+ ç‰ˆæœ¬,è¿™æ ·èƒ½è·å¾—æœ€ä½³çš„å…¼å®¹æ€§å’Œæ€§èƒ½ã€‚</p>
<p>å¯¹äº Linux/Mac ç”¨æˆ·,å¯ä»¥ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„åŒ…ç®¡ç†å™¨:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">Ubuntu/Debian</span>
sudo apt update
sudo apt install python3.11 python3.11-venv python3-pip
<span class="hljs-meta prompt_">
# </span><span class="bash">macOS (ä½¿ç”¨ Homebrew)</span>
brew install python@3.11
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/746697e4638642ed9e90b7455bc13ace~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=b5Xq6mNuibut8HpEt7EvmUHd0kY%3D" alt="image-20251117113553532" loading="lazy"/></p>
<p>å¯¹äº Windows ç”¨æˆ·,å»ºè®®ä» Python å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ£€æŸ¥ Python ç‰ˆæœ¬</span>
python --version
<span class="hljs-meta prompt_">
# </span><span class="bash">åº”è¯¥çœ‹åˆ° Python 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55548614f7024375a48932c820d790c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=WYH7TaTZK8UgV80o16XeiQQAWhE%3D" alt="image-20251117113341445" loading="lazy"/></p>
<h3 data-id="heading-11">3.2 é¡¹ç›®ä¸‹è½½</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä» GitHub ä¸‹è½½ PDF-Skill é¡¹ç›®ã€‚æ‰“å¼€ç»ˆç«¯,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°</span>
git clone https://github.com/modelscope/ms-agent.git
<span class="hljs-meta prompt_">
# </span><span class="bash">è¿›å…¥ PDF-Skill ç›®å½•</span>
cd ms-agent/projects/agent_skills/skills/pdf
<span class="hljs-meta prompt_">
# </span><span class="bash">æŸ¥çœ‹é¡¹ç›®ç»“æ„</span>
ls -la
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19dd1573bea14d7a84d33a6175b0533b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=%2FxdKkjKrC9ss3J0hmcFAbNcW4KI%3D" alt="image-20251117113745881" loading="lazy"/></p>
<p>ç­‰å¾…å‡ åˆ†é’Ÿåä¸‹è½½å®Œæˆ,ä½ ä¼šçœ‹åˆ°ä»¥ä¸‹ç›®å½•ç»“æ„:</p>
<pre><code class="hljs language-bash" lang="bash">pdf/
â”œâ”€â”€ scripts/           <span class="hljs-comment"># 8ä¸ªå®ç”¨Pythonè„šæœ¬</span>
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># ä¸»è¦æŠ€èƒ½æ–‡æ¡£</span>
â”œâ”€â”€ forms.md          <span class="hljs-comment"># è¡¨å•å¡«å†™å·¥ä½œæµç¨‹</span>
â”œâ”€â”€ reference.md      <span class="hljs-comment"># é«˜çº§åŠŸèƒ½å‚è€ƒ</span>
â””â”€â”€ LICENSE.txt       <span class="hljs-comment"># è®¸å¯è¯ä¿¡æ¯</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e3c97b78f34961bfbad15afbbdad83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=VfoP4ulQnhZYLwbnlCaU5bC7A5M%3D" alt="image-20251117113812751" loading="lazy"/></p>
<h3 data-id="heading-12">3.3 ä¾èµ–å®‰è£…</h3>
<p>PDF-Skill ä¾èµ–å¤šä¸ª Python åº“å’Œç³»ç»Ÿå·¥å…·ã€‚æˆ‘ä»¬å…ˆå®‰è£… Python ä¾èµ–:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ(æ¨è)</span>
python3 -m venv venv
<span class="hljs-meta prompt_">
# </span><span class="bash">æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
<span class="hljs-meta prompt_"># </span><span class="bash">Linux/Mac:</span>
source venv/bin/activate
<span class="hljs-meta prompt_"># </span><span class="bash">Windows:</span>
venv\Scripts\activate
<span class="hljs-meta prompt_">
# </span><span class="bash">å®‰è£… Python ä¾èµ–</span>
pip install pypdf pdfplumber reportlab pypdfium2 pytesseract pdf2image
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e001e37d31464cdc9ee7ffbb7d30879c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=vF8gO88KmlHzj63hPGK8X85Stzw%3D" alt="image-20251117113915869" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å®‰è£…å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™äº›å·¥å…·èƒ½å¤§å¹…æå‡æŸäº›æ“ä½œçš„æ€§èƒ½:</p>
<p><strong>Ubuntu/Debian:</strong></p>
<pre><code class="hljs language-shell" lang="shell">sudo apt install poppler-utils qpdf pdftk tesseract-ocr
</code></pre>
<p><strong>macOS:</strong></p>
<pre><code class="hljs language-shell" lang="shell">brew install poppler qpdf pdftk tesseract
</code></pre>
<p><strong>Windows:</strong>
ä¸‹è½½é¢„ç¼–è¯‘ç‰ˆæœ¬:</p>
<ul>
<li>Poppler: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Foschwartz10612%2Fpoppler-windows%2Freleases" target="_blank" title="https://github.com/oschwartz10612/poppler-windows/releases" ref="nofollow noopener noreferrer">github.com/oschwartz10â€¦</a></li>
<li>QPDF: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fqpdf%2Fqpdf%2Freleases" target="_blank" title="https://github.com/qpdf/qpdf/releases" ref="nofollow noopener noreferrer">github.com/qpdf/qpdf/râ€¦</a></li>
<li>Tesseract: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FUB-Mannheim%2Ftesseract%2Fwiki" target="_blank" title="https://github.com/UB-Mannheim/tesseract/wiki" ref="nofollow noopener noreferrer">github.com/UB-Mannheimâ€¦</a></li>
</ul>
<p>å®‰è£…å®ŒæˆåéªŒè¯ä¸€ä¸‹:</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">éªŒè¯å·¥å…·å®‰è£…</span>
pdftotext -v
qpdf --version
tesseract --version
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72cb8f234a3843c8afea2a6c618c5f70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=0XGUjl3NqEkgN6v49gMlzsl4DxM%3D" alt="image-20251117114535751" loading="lazy"/></p>
<p>å‘µå‘µ,çœ‹åˆ°ç‰ˆæœ¬å·å°±è¯´æ˜å®‰è£…æˆåŠŸäº†!</p>
<h3 data-id="heading-13">3.4 è„šæœ¬å·¥å…·ä»‹ç»</h3>
<p>PDF-Skill åœ¨ <code>scripts/</code> ç›®å½•ä¸‹æä¾›äº†8ä¸ªå®ç”¨è„šæœ¬,è®©æˆ‘ä»¬é€ä¸€äº†è§£:</p>
<h4 data-id="heading-14">è¡¨å•å¤„ç†è„šæœ¬</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">1. æ£€æŸ¥ PDF æ˜¯å¦åŒ…å«å¯å¡«å……å­—æ®µ</span>
python scripts/check_fillable_fields.py your_form.pdf
<span class="hljs-meta prompt_">
# </span><span class="bash">2. æå–è¡¨å•å­—æ®µä¿¡æ¯(ç”Ÿæˆ JSON æ˜ å°„)</span>
python scripts/extract_form_field_info.py your_form.pdf
<span class="hljs-meta prompt_">
# </span><span class="bash">3. å¡«å……å¯å¡«å……è¡¨å•</span>
python scripts/fill_fillable_fields.py your_form.pdf field_values.json output.pdf
<span class="hljs-meta prompt_">
# </span><span class="bash">4. ä½¿ç”¨æ³¨é‡Šå¡«å……ä¸å¯å¡«å……è¡¨å•</span>
python scripts/fill_pdf_form_with_annotations.py your_form.pdf fields.json output.pdf
</code></pre>
<h4 data-id="heading-15">éªŒè¯å’Œè½¬æ¢è„šæœ¬</h4>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">5. éªŒè¯è¾¹ç•Œæ¡†åæ ‡</span>
python scripts/check_bounding_boxes.py fields.json
<span class="hljs-meta prompt_">
# </span><span class="bash">6. è¾¹ç•Œæ¡†éªŒè¯å•å…ƒæµ‹è¯•</span>
python scripts/check_bounding_boxes_test.py
<span class="hljs-meta prompt_">
# </span><span class="bash">7. PDF è½¬å›¾åƒ</span>
python scripts/convert_pdf_to_images.py document.pdf output_dir/
<span class="hljs-meta prompt_">
# </span><span class="bash">8. åˆ›å»ºå¯è§†åŒ–éªŒè¯å›¾åƒ</span>
python scripts/create_validation_image.py your_form.pdf fields.json validation.png
</code></pre>
<h3 data-id="heading-16">claude skill å®‰è£…</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠè¿™ä¸ªpdf skill å®‰è£…åˆ°claude codeé‡Œé¢</p>
<p>å¤åˆ¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Fms-agent%2Ftree%2Fmain%2Fprojects%2Fagent_skills%2Fskills%2Fpdf" target="_blank" title="https://github.com/modelscope/ms-agent/tree/main/projects/agent_skills/skills/pdf" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a> åˆ°claude   skillsé‡Œé¢</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db3a9b66d24f46e1a6f56c250505e085~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=LDUTwhhrRx9o8GEOEveQww445jw%3D" alt="image-20251117115911191" loading="lazy"/></p>
<p>å¤åˆ¶å</p>
<pre><code class="hljs language-bash" lang="bash">/root/.claude/skills/pdf
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e1449305dc045ae9cded571b6a4583f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=7YyZwTOOeXOm%2Ba252NZF48DWsMo%3D" alt="image-20251117120650925" loading="lazy"/></p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥å·æ‡’è®©AI å¸®ä½ å¹²ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">è¯·å¸®æˆ‘æŠŠ/mnt/f/work/code/other/pdf/ms-agent/projects/agent_skills/skills/pdf  è¿™ä¸ªskillså®‰è£…åˆ°ç³»ç»Ÿçš„claude  skills ä¸­ã€‚ 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d73161d2cc8a49999ffba9a40eb44f39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=bEBnuNZZ0cmTLvgbVrvhtCJp5O0%3D" alt="image-20251117120241929" loading="lazy"/></p>
<h3 data-id="heading-17">å®æˆ˜æ¡ˆä¾‹1: PDFè½¬æˆå›¾ç‰‡</h3>
<p>æˆ‘è¿™é‡Œæœ‰ä¸€å¼ PDFçš„å‘ç¥¨ä¿¡æ¯ã€‚æˆ‘å¸Œæœ›è¿™ä¸ªskillå¸®æˆ‘è½¬æˆå›¾ç‰‡ã€‚è¿™ä¸ªåœ¨å¹³æ—¶æˆ‘ä»¬å·¥ä½œä¸­ä¹Ÿæœ‰ç»å¸¸é‡åˆ°ã€‚</p>
<p>æç¤ºè¯å¦‚ä¸‹</p>
<pre><code class="hljs">è¯·ä½¿ç”¨pdf è¿™ä¸ªskillå¸®æˆ‘æŠŠå½“å‰æ–‡ä»¶ä¸‹â€œå¢å€¼ç¨ç”µå­æ™®é€šå‘ç¥¨4.pdfâ€ è½¬æˆå›¾ç‰‡å¹¶è¾“å‡ºã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3c10854988b4e0f84c9cb0d75b173ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=9Me6XF77mt1y1gDXmYTiGT%2BQcU4%3D" alt="image-20251117125049333" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a55f4163036d458bb04567b21449e388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=gSMpZXqy6atY6sfVYYAaEkarqVc%3D" alt="image-20251117125223579" loading="lazy"/></p>
<p>æˆ‘ä»¬æ‰“å¼€è½¬æ¢åçš„æ–‡ä»¶å¤¹æŸ¥çœ‹è½¬æ¢åçš„å›¾ç‰‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96f75b8de1274a58bbb854766664b5b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=cIWHh8Z07iaG8%2FHaL7x%2FUUjTDk8%3D" alt="image-20251117125319373" loading="lazy"/></p>
<p>OK ä¸€è¡Œå‘½ä»¤å°±å¸®æˆ‘æŠŠè¿™ä¸ªpdf è½¬æˆå›¾ç‰‡äº†ã€‚å¦‚æœæˆ‘æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œé¢æœ‰å‡ ç™¾ä¸ªPDFã€‚æˆ‘æ˜¯ä¸æ˜¯å‚è€ƒä¸Šé¢çš„æç¤ºè¯ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼Œè¿™æ´»æ˜¯ä¸æ˜¯AI ä¹Ÿæ˜¯åˆ†åˆ†é’Ÿå¸®æˆ‘æŠŠå®ƒå¹²å®Œäº†ã€‚å˜¿å˜¿ï¼Œæ„Ÿå…´è¶£å°ä¼™ä¼´å¯ä»¥è‡ªå·±æ¥å°è¯•ã€‚æ—¶é—´å…³ç³»è¿™é‡Œä¸åšæ¼”ç¤ºã€‚</p>
<h3 data-id="heading-18">å®æˆ˜æ¡ˆä¾‹2: å¤„ç†æ‰«æç‰ˆè¡¨å•</h3>
<p>æœ‰äº›è€æ—§çš„è¡¨å•æ˜¯æ‰«æç‰ˆ,æ²¡æœ‰å¯å¡«å……å­—æ®µ,æ€ä¹ˆåŠ?PDF-Skill çš„"åæ ‡å®šä½æ³•"æ¥å¸®å¿™!</p>
<p>æˆ‘è¿™é‡Œæœ‰ä¸€ä¸ª2025å¹´101ä¸­å­¦å…«å¹´çº§æœŸä¸­è€ƒè¯•æˆç»©è¡¨PDFç‰ˆæœ¬ï¼Œæˆ‘ä»¬æ‰“å¼€çœ‹ä¸€ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a5194380c8f44da939f10ca19804f15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=GEw8E35EKL94NldMPyRqnmWVAps%3D" alt="image-20251117142234648" loading="lazy"/></p>
<p>æˆ‘è¿™é‡Œæœ‰ä¸ªå­¦ç”Ÿçš„æˆç»©å•ä¸€ä¸ªåŸºäºmarkdownæ ¼å¼çš„æ–‡æ¡£æ•°æ®ï¼ˆä»¥ä¸Šæ•°æ®éƒ½æ˜¯å‡çš„ä¸æ˜¯çœŸå®çš„ï¼Œè¯·å‹¿å½“çœŸï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b30dab1bbb01479ea2e3b50ba9ae3e8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=fFZaGgVF6q1QM3N9n%2BBYjuMw84Y%3D" alt="image-20251117143239317" loading="lazy"/></p>
<p>æˆ‘è¿™é‡Œçš„éœ€æ±‚å°±æ˜¯åŸºäºè¿™ä¸ªæˆç»©æ•°æ®å¡«å……åˆ°ä¸Šé¢çš„é¢PDFæ–‡æ¡£ä¸­ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨PDF-Skillæ¥å®ç°</p>
<p>æç¤ºè¯</p>
<pre><code class="hljs">è¯·ä½¿ç”¨pdf è¿™ä¸ªskillå¸®æˆ‘æŠŠå½“å‰æ–‡ä»¶ä¸‹â€œ2025å¹´101ä¸­å­¦å…«å¹´çº§æœŸä¸­è€ƒè¯•æˆç»©è¡¨-æ‰«æç‰ˆ.pdfâ€ å†…å®¹å¡«å……ï¼Œå¡«å……çš„æ•°æ®è¯·åŸºäºâ€œ2025å¹´101ä¸­å­¦å…«å¹´çº§æœŸä¸­è€ƒè¯•æˆç»©è¡¨.mdâ€ æ–‡æ¡£é‡Œé¢çš„æ•°æ®ã€‚å¡«å……åè¾“å‡ºâ€œ2025å¹´101ä¸­å­¦å…«å¹´çº§æœŸä¸­è€ƒè¯•æˆç»©è¡¨-æ‰«æç‰ˆ-å¡«å……ç‰ˆ.pdfâ€
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42f4e48a6ddf44f3894d49788bd73aa9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=PKJlzMil7nsV7U4MEUK2iiM4zH0%3D" alt="image-20251117143631529" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07c97b7bfb804d468771868629f951f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=kKIuVJ2d8W3HpoQrBbgy1q0SEp0%3D" alt="image-20251117144221779" loading="lazy"/></p>
<p>åˆ†åˆ†é’ŸAI ä¹Ÿå¸®æˆ‘å¹²å®Œäº†ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹ç”Ÿäº§åçš„æ•ˆæœ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d419fa48298b483199a032a9fef8a847~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=avuCDH6uq2kCx2oXTW2tdOfco8Y%3D" alt="image-20251117144314498" loading="lazy"/></p>
<p>è™½ç„¶ä¸å®Œç¾ï¼Œä½†æ˜¯ç¡®å®ä¹Ÿå¸®æˆ‘å¡«å……äº†ã€‚å¦‚æœè¡¨æ ¼å†…å®¹ä¸å¤šï¼Œè¡¨æ ¼ç©ºé—´è¶³å¤Ÿå¤§ï¼Œæˆ‘ç›¸ä¿¡ä¹Ÿæ˜¯å¯ä»¥å®Œæˆçš„ã€‚ï¼ˆAIè¿˜æœ‰è¿›æ­¥ç©ºé—´ã€‚ï¼‰</p>
<h3 data-id="heading-19">å®æˆ˜æ¡ˆä¾‹3: æå–è¡¨æ ¼æ•°æ®åˆ° Excel</h3>
<p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦ä» PDF æŠ¥è¡¨ä¸­æå–æ•°æ®åšåˆ†æã€‚ä¼ ç»Ÿæ–¹æ³•æ˜¯æ‰‹å·¥å¤åˆ¶ç²˜è´´,PDF-Skill å¯ä»¥ä¸€é”®æå®šã€‚</p>
<p>æˆ‘ä»¬æ¥ä¸‹æ¥è¿˜æ˜¯æ‹¿åˆšæ‰çš„PDFå‘ç¥¨ï¼Œè®©å®ƒå¸®æˆ‘æŠŠè¿™å‘ç¥¨æå–åˆ°Excelä¸­</p>
<p>æç¤ºè¯</p>
<pre><code class="hljs">è¯·ä½¿ç”¨pdf è¿™ä¸ªskillå¸®æˆ‘æŠŠå½“å‰æ–‡ä»¶ä¸‹â€œå¢å€¼ç¨ç”µå­æ™®é€šå‘ç¥¨4.pdfâ€ PDFé‡Œé¢å‘ç¥¨å†…å®¹æå–ç”Ÿæˆexcelè¡¨æ ¼ã€‚
è¯·æ³¨æ„PDFé‡Œé¢å‘ç¥¨æ˜ç»†å¯èƒ½æœ‰å¤šè¡Œï¼ŒæŠŠå…¨ç¥¨é¢ä¿¡æ¯å…¨éƒ¨æå–ç”Ÿæˆexcelè¡¨æ ¼å¹¶è¾“å‡ºã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18b93236de2c41b5b5f2e20f892aa739~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=jyRGbgTEgCf8I9l3VfHRO3Xe44k%3D" alt="image-20251117131735784" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c1e7d785b594ad68c3d69d6711b5978~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=tBebs1uviEGjqDJgY0CaTvoWuMo%3D" alt="image-20251117132554274" loading="lazy"/></p>
<p>æ‰“å¼€ Excel æ–‡ä»¶,æ‰€æœ‰è¡¨æ ¼æ•°æ®æ•´æ•´é½é½,å†ä¹Ÿä¸ç”¨æ‰‹å·¥å¤åˆ¶ç²˜è´´äº†!</p>
<p>å‘ç¥¨æ¦‚è§ˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af905d26d70341048251e828a732b3c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=TmgpM87l47M1PWHXUOJa%2BALo8%2FY%3D" alt="image-20251117132649902" loading="lazy"/></p>
<p>å®Œæ•´ä¿¡æ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3550ec8f94f4d10b63d1a12f81ffaa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=HryndEHRrOXzpvMpakOlWFZ62K8%3D" alt="image-20251117132755511" loading="lazy"/></p>
<p>å‘ç¥¨æ˜ç»†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d7bcd36f7a740388589aa5f587fca5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=wdn0NQg2QZE%2FWb8Gon7fHWavkis%3D" alt="image-20251117132834736" loading="lazy"/></p>
<h3 data-id="heading-20">å®æˆ˜æ¡ˆä¾‹4: ç”Ÿæˆä¸“ä¸š PDF æŠ¥è¡¨</h3>
<p>é™¤äº†å¤„ç†ç°æœ‰ PDF,PDF-Skill è¿˜èƒ½åˆ›å»ºä¸“ä¸šçš„ PDF æŠ¥è¡¨ã€‚ä¸‹é¢æ¼”ç¤ºå¦‚ä½•ç”¨ ReportLab ç”Ÿæˆä¸€ä»½å¸¦è¡¨æ ¼çš„æŠ¥å‘Š:</p>
<p>æç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">è¯·ä½¿ç”¨pdf è¿™ä¸ªskillå¸®æˆ‘æŠŠå½“å‰æ–‡ä»¶ä¸‹â€œpdf-skillæŠ€èƒ½æ€»ç»“.mdâ€ æŠŠè¿™ä¸ªmdæ–‡æ¡£çš„å†…å®¹æ€»ç»“ç”Ÿæˆä¸€ä¸ªéœ€è¦ç»™é¢†å¯¼æ±‡æŠ¥çš„PDFæŠ¥å‘Šï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæŠ¥å‘Šã€‚
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02a2fc9cda7e46abbd3d799d8b6ff818~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=hPs9qLdJMEWiH%2BG0mj0eF8wS%2BRA%3D" alt="image-20251117133742904" loading="lazy"/></p>
<p>æ€»å…±å¸®æˆ‘ç”Ÿæˆäº†5é¡µ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df036b7cd5874c1d85917a3c6f9e105c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=Ng%2FZu0ku%2Bi9lyqnP8GeGOgTJ0v8%3D" alt="image-20251117133836723" loading="lazy"/></p>
<p>æˆ‘ä»¬æ‰“å¼€è¿™ä¸ªPDF æŸ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼ˆæŠ¥å‘Šæœ‰5é¡µï¼Œè¿™é‡Œåªå±•å¼€2å¼ æˆªå›¾ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9700efa1882547f3a335c50b4825654c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=93cBfFcOYVPHiIMejlH8GVLjiZY%3D" alt="image-20251117135738823" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a553fd24863451c8900d89ec7c796c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd3d3emhvdWh1aQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763987772&amp;x-signature=24FTUi87PyFRMl3uM3ql15cu2tg%3D" alt="image-20251117135820779" loading="lazy"/></p>
<p>æ‰“å¼€ç”Ÿæˆçš„ PDF,ä¸“ä¸šçš„è¡¨æ ¼æ ·å¼ã€æ¸…æ™°çš„æ•°æ®å±•ç¤º,å®Œå…¨å¯ä»¥ç›´æ¥æ‹¿å»å¼€ä¼šæ±‡æŠ¥</p>
<h3 data-id="heading-21">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p><strong>é—®é¢˜1: numpy ç‰ˆæœ¬å†²çª</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">é”™è¯¯: <span class="hljs-keyword">module</span> <span class="hljs-string">'numpy'</span> has no attribute <span class="hljs-string">'float'</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<pre><code class="hljs language-shell" lang="shell">pip install numpy==1.26.4
</code></pre>
<p><strong>é—®é¢˜2: Tesseract æ‰¾ä¸åˆ°</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">é”™è¯¯: TesseractNotFoundError</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨ä»£ç ä¸­æŒ‡å®š tesseract è·¯å¾„</span>
<span class="hljs-keyword">import</span> pytesseract
pytesseract.pytesseract.tesseract_cmd = <span class="hljs-string">r'C:\Program Files\Tesseract-OCR\tesseract.exe'</span>
</code></pre>
<p><strong>é—®é¢˜3: PDF åŠ å¯†æ— æ³•å¤„ç†</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">é”™è¯¯: PdfReadError: file has not been decrypted</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pypdf

reader = pypdf.PdfReader(<span class="hljs-string">'encrypted.pdf'</span>)
reader.decrypt(<span class="hljs-string">'your-password'</span>)
</code></pre>
<p><strong>é—®é¢˜4: è¡¨æ ¼è¯†åˆ«ä¸å‡†ç¡®</strong></p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong> è°ƒæ•´ pdfplumber å‚æ•°</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pdfplumber

<span class="hljs-keyword">with</span> pdfplumber.<span class="hljs-built_in">open</span>(<span class="hljs-string">'document.pdf'</span>) <span class="hljs-keyword">as</span> pdf:
    page = pdf.pages[<span class="hljs-number">0</span>]

    <span class="hljs-comment"># è‡ªå®šä¹‰è¡¨æ ¼æ£€æµ‹å‚æ•°</span>
    table = page.extract_table({
        <span class="hljs-string">'vertical_strategy'</span>: <span class="hljs-string">'lines'</span>,
        <span class="hljs-string">'horizontal_strategy'</span>: <span class="hljs-string">'lines'</span>,
        <span class="hljs-string">'snap_tolerance'</span>: <span class="hljs-number">3</span>,
        <span class="hljs-string">'join_tolerance'</span>: <span class="hljs-number">3</span>,
        <span class="hljs-string">'edge_min_length'</span>: <span class="hljs-number">3</span>,
    })
</code></pre>
<h2 data-id="heading-22">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„å®æˆ˜æ¼”ç¤º,æˆ‘ä»¬å®Œæ•´ä½“éªŒäº† ModelScope PDF-Skill è¿™ä¸ªå¼ºå¤§çš„ PDF å¤„ç†å·¥å…·åŒ…ã€‚ä»ç¯å¢ƒæ­å»ºåˆ°å®é™…åº”ç”¨,æˆ‘ä»¬ç”¨å››ä¸ªå…¸å‹åœºæ™¯å±•ç¤ºäº†å®ƒçš„æ ¸å¿ƒèƒ½åŠ›:</p>
<p><strong>å®æˆ˜æ¡ˆä¾‹å›é¡¾</strong>:</p>
<ol>
<li>
<p><strong>PDFè½¬å›¾ç‰‡</strong> - ä¸€è¡Œæç¤ºè¯å°±æŠŠå‘ç¥¨PDFè½¬æˆé«˜æ¸…å›¾ç‰‡,å¦‚æœæœ‰å‡ ç™¾ä¸ªPDFæ–‡ä»¶éœ€è¦æ‰¹é‡è½¬æ¢,åªéœ€ç¨å¾®ä¿®æ”¹æç¤ºè¯,AIåˆ†åˆ†é’Ÿå¸®ä½ æå®š,çœå»äº†æ‰‹å·¥ä¸€ä¸ªä¸ªè½¬æ¢çš„éº»çƒ¦ã€‚</p>
</li>
<li>
<p><strong>æ‰«æç‰ˆè¡¨å•å¡«å……</strong> - åŸºäºMarkdownæ ¼å¼çš„å­¦ç”Ÿæˆç»©æ•°æ®,è‡ªåŠ¨å¡«å……åˆ°æ‰«æç‰ˆæˆç»©è¡¨PDFä¸­,è™½ç„¶å› è¡¨æ ¼ç©ºé—´é™åˆ¶å¡«å……äº†48æ¡æ•°æ®(æ€»å…±50æ¡),ä½†æ•´ä½“æ•ˆæœå·²ç»ç›¸å½“ä¸é”™,è¿™åœ¨ä¼ ç»Ÿæ–¹æ¡ˆä¸­å‡ ä¹ä¸å¯èƒ½å®ç°ã€‚</p>
</li>
<li>
<p><strong>æå–è¡¨æ ¼æ•°æ®åˆ°Excel</strong> - ä»å¢å€¼ç¨ç”µå­å‘ç¥¨PDFä¸­ä¸€é”®æå–å‡ºå‘ç¥¨æ¦‚è§ˆã€å®Œæ•´ä¿¡æ¯ã€å‘ç¥¨æ˜ç»†ä¸‰ä¸ªå·¥ä½œè¡¨,æ‰€æœ‰æ•°æ®æ•´æ•´é½é½,å†ä¹Ÿä¸ç”¨æ‰‹å·¥å¤åˆ¶ç²˜è´´,å¤§å¤§æé«˜äº†è´¢åŠ¡å¤„ç†æ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæˆä¸“ä¸šPDFæŠ¥è¡¨</strong> - åŸºäºMarkdownæŠ€èƒ½æ€»ç»“æ–‡æ¡£,è‡ªåŠ¨ç”Ÿæˆäº†5é¡µä¸“ä¸šçº§çš„PDFæŠ¥å‘Š,åŒ…å«è¡¨æ ¼ã€ç»Ÿè®¡æ•°æ®ã€æ ¼å¼åŒ–æ’ç‰ˆ,å®Œå…¨å¯ä»¥ç›´æ¥æ‹¿å»ç»™é¢†å¯¼æ±‡æŠ¥ã€‚</p>
</li>
</ol>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“</strong>:</p>
<p>PDF-Skill æœ€å¤§çš„äº®ç‚¹åœ¨äºä¸ Claude Code çš„æ·±åº¦é›†æˆ,è®© AI çœŸæ­£æˆä¸ºä½ çš„ PDF å¤„ç†åŠ©æ‰‹ã€‚å®ƒæ•´åˆäº† pypdfã€pdfplumberã€reportlab ç­‰å¤šä¸ªæˆç†Ÿ Python åº“,é…åˆ poppler-utilsã€qpdf ç­‰å‘½ä»¤è¡Œå·¥å…·,æä¾›äº†æ–‡æœ¬æå–ã€è¡¨å•å¡«å……ã€æ–‡æ¡£åˆ›å»ºã€å›¾åƒå¤„ç†ã€å®‰å…¨åŠ å¯†çš„å…¨å¥—è§£å†³æ–¹æ¡ˆã€‚"åŒè·¯å¾„è¡¨å•å¤„ç†"æœºåˆ¶æ—¢æ”¯æŒå¯å¡«å……è¡¨å•è‡ªåŠ¨åŒ–,ä¹Ÿèƒ½é€šè¿‡åƒç´ çº§åæ ‡å®šä½å¤„ç†æ‰«æç‰ˆè¡¨å•,é…åˆå¯è§†åŒ–éªŒè¯ç¡®ä¿å‡†ç¡®æ€§ã€‚8ä¸ªå®ç”¨è„šæœ¬æ¶µç›–ä»è¡¨å•æ£€æŸ¥ã€å­—æ®µæå–ã€è‡ªåŠ¨å¡«å……åˆ°è¾¹ç•Œæ¡†éªŒè¯ã€PDFè½¬å›¾åƒçš„å®Œæ•´å·¥å…·é“¾,æ¨¡å—åŒ–è®¾è®¡è®©æ¯ä¸ªåŠŸèƒ½éƒ½æ¸…æ™°ç‹¬ç«‹ã€æ˜“äºç»´æŠ¤æ‰©å±•ã€‚</p>
<p><strong>æ‰©å±•åº”ç”¨åœºæ™¯</strong>:</p>
<p>åŸºäºæœ¬æ–‡æ¼”ç¤ºçš„åŸºç¡€åŠŸèƒ½,å°ä¼™ä¼´ä»¬å¯ä»¥ç»§ç»­æ¢ç´¢æ›´å¤šåº”ç”¨åœºæ™¯:æ‰¹é‡å¤„ç†ä¼ä¸šåˆåŒã€è‡ªåŠ¨åŒ–å‘ç¥¨è¯†åˆ«å½•å…¥ã€å†å²æ–‡æ¡£æ•°å­—åŒ–å½’æ¡£ã€ç”µå­ç­¾ç« æ‰¹é‡æ·»åŠ ã€PDFæ°´å°å¤„ç†ã€å¤šè¯­è¨€OCRè¯†åˆ«ç­‰ã€‚è¿™äº›åœºæ™¯åœ¨ä¼ä¸šåŠå…¬è‡ªåŠ¨åŒ–ã€æ”¿åŠ¡æ–‡æ¡£æ•°å­—åŒ–ã€é‡‘èç¥¨æ®å¤„ç†ç­‰é¢†åŸŸéƒ½æœ‰å¹¿æ³›åº”ç”¨ä»·å€¼ã€‚PDF-Skill æä¾›çš„æµå¼å¤„ç†å’Œå¹¶è¡Œæ‰¹å¤„ç†èƒ½åŠ›,èƒ½å¤Ÿé«˜æ•ˆå¤„ç†å¤§è§„æ¨¡æ–‡æ¡£,è¿œè¶…ä¼ ç»Ÿå•ä¸€åŠŸèƒ½çš„ PDF åº“ã€‚</p>
<p>æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥æŒ‰ç…§æ–‡ä¸­æ­¥éª¤è¿›è¡Œå®è·µ,æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚è°ƒæ•´å‚æ•°é…ç½®ã€‚PDF-Skill æ˜¯å®Œå…¨å¼€æºå…è´¹çš„,æ— éœ€è´­ä¹°æ˜‚è´µå•†ä¸šè½¯ä»¶,å°±èƒ½å®ç°ä¼ä¸šçº§ PDF å¤„ç†è‡ªåŠ¨åŒ–ã€‚ä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œ,å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½å¸®å¤§å®¶è§£å†³ PDF å¤„ç†çš„å„ç§éš¾é¢˜,æˆ‘ä»¬ä¸‹ä¸€ç¯‡æ–‡ç« è§!</p>
<h2 data-id="heading-23">é¡¹ç›®èµ„æº</h2>
<p><strong>GitHubåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Fms-agent%2Ftree%2Fmain%2Fprojects%2Fagent_skills%2Fskills%2Fpdf" target="_blank" title="https://github.com/modelscope/ms-agent/tree/main/projects/agent_skills/skills/pdf" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a></p>
<p>è§‰å¾—é¡¹ç›®ä¸é”™å¯ä»¥ç‚¹ä¸ªèµã€‚</p>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>:</p>
<ul>
<li>SKILL.md: æ ¸å¿ƒåº“å’Œå‘½ä»¤è¡Œå·¥å…·è¯´æ˜</li>
<li>forms.md: è¡¨å•å¤„ç†è¯¦ç»†å·¥ä½œæµ</li>
<li>reference.md: é«˜çº§åŠŸèƒ½å’Œæ•…éšœæ’é™¤</li>
</ul>
<p><strong>æŠ€æœ¯äº¤æµ</strong>:</p>
<ul>
<li>ModelScope ç¤¾åŒº: <a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn" target="_blank" title="https://modelscope.cn" ref="nofollow noopener noreferrer">modelscope.cn</a></li>
<li>Issue åé¦ˆ: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Fms-agent%2Fissues" target="_blank" title="https://github.com/modelscope/ms-agent/issues" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a></li>
</ul>
<p><strong>ç›¸å…³èµ„æº</strong>:</p>
<ul>
<li>pypdf æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fpypdf.readthedocs.io" target="_blank" title="https://pypdf.readthedocs.io" ref="nofollow noopener noreferrer">pypdf.readthedocs.io</a></li>
<li>pdfplumber æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjsvine%2Fpdfplumber" target="_blank" title="https://github.com/jsvine/pdfplumber" ref="nofollow noopener noreferrer">github.com/jsvine/pdfpâ€¦</a></li>
<li>reportlab æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reportlab.com%2Fdocs%2F" target="_blank" title="https://www.reportlab.com/docs/" ref="nofollow noopener noreferrer">www.reportlab.com/docs/</a></li>
</ul>
<p>#é¦–å‘äºé­”æ­ç ”ä¹ ç¤¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7573508361741074432</link>    <guid>https://juejin.cn/post/7573508361741074432</guid>    <pubDate>2025-11-17T11:21:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573508361741074432" data-draft-id="7572434032517709870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2025-11-17T11:21:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1ï¼šæ™ºèƒ½æ±‡ AI å…¨æ ˆå®æˆ˜ï¼Œæ‹†è§£å¤šæ¨¡æ€ AI åº”ç”¨å¼€å‘å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:21:04.000Z" title="Mon Nov 17 2025 11:21:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab6c91048004434b933d56702b29d2dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=96kQn2dSYoOvKpkPZ%2FJBTGWIHMQ%3D" alt="2.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4398dbdb77534329936bb0c3e5e89f38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=5Wpp8tlzQc4LlcIl%2B%2F1MVG%2B1tQQ%3D" alt="6.png" loading="lazy"/></p>
<p>Â  æˆ‘è¿‘æœŸå®Œæˆäº†ä¸€ä¸ªå…¼å…·å®ç”¨æ€§ä¸æŠ€æœ¯æ·±åº¦çš„å¤šæ¨¡æ€ AI é¡¹ç›® â€”â€”<strong>æ™ºèƒ½æ±‡ AI</strong>ã€‚è¿™ä¸ªé¡¹ç›®æ•´åˆäº†å¯¹è¯ã€å†™ä½œã€ç»˜ç”»ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œä»æŠ€æœ¯é€‰å‹åˆ°è½åœ°éƒ¨ç½²å…¨ç¨‹è¸©å‘æ— æ•°ï¼Œä¹Ÿæ²‰æ·€äº†ä¸€å¥—å®Œæ•´çš„å¼€å‘æ–¹æ³•è®ºã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯æ¶æ„ã€æ ¸å¿ƒåŠŸèƒ½å®ç°ã€å·¥ç¨‹åŒ–å®è·µä¸‰ä¸ªç»´åº¦ï¼Œå¸¦ä½ åƒé€å…¨æ ˆ AI åº”ç”¨çš„å¼€å‘é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®èƒŒæ™¯ï¼šè§£å†³å¤šæ¨¡æ€ AI åº”ç”¨çš„æ ¸å¿ƒç—›ç‚¹</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å’Œåˆ›ä½œè€…å¾€å¾€é¢ä¸´ã€Œå·¥å…·åˆ†æ•£ã€æ•ˆç‡ä½ä¸‹ã€AI èƒ½åŠ›å‰²è£‚ã€çš„é—®é¢˜ï¼šå­¦ä¹ ç¼–ç¨‹éœ€è¦æŸ¥æ–‡æ¡£ + é—® AIï¼Œå†™æ–‡æ¡ˆè¦åˆ‡æ¢ç¼–è¾‘å™¨ + è®¾è®¡å·¥å…·ï¼Œå¤šæ¨¡æ€èƒ½åŠ›é›†æˆæ›´æ˜¯æ¶‰åŠæµå¼å“åº”ã€è·¨ç«¯é€‚é…ç­‰æŠ€æœ¯éš¾ç‚¹ã€‚</p>
<p>æ™ºèƒ½æ±‡ AI çš„æ ¸å¿ƒç›®æ ‡å°±æ˜¯ï¼š<strong>ç”¨ç°ä»£åŒ–å…¨æ ˆæ¶æ„ï¼Œå°è£…å¤æ‚çš„ AI èƒ½åŠ›ï¼Œæ‰“é€ ä¸€ä¸ªã€Œå¼€ç®±å³ç”¨ã€çš„ä¸€ç«™å¼å·¥ä½œå°</strong>ã€‚æ—¢è§£å†³æŠ€æœ¯å±‚é¢çš„ã€Œå¤šæ¨¡æ€é›†æˆã€å®æ—¶å“åº”ã€æ€§èƒ½ä¼˜åŒ–ã€é—®é¢˜ï¼Œä¹Ÿæ»¡è¶³ç”¨æˆ·å±‚é¢çš„ã€Œé«˜æ•ˆåä½œã€åŠŸèƒ½é—­ç¯ã€éœ€æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æŠ€æœ¯æ¶æ„ï¼šå…¼é¡¾æ€§èƒ½ä¸æ‰©å±•æ€§çš„å…¨æ ˆé€‰å‹</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæŠ€æœ¯æ ˆé€‰å‹ï¼ˆé™„é€‰å‹æ€è·¯ï¼‰</h3>
<h4 data-id="heading-3">åç«¯æ¶æ„ï¼šè½»é‡é«˜æ•ˆï¼Œèšç„¦ AI èƒ½åŠ›å°è£…</h4>



































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>æŠ€æœ¯æ ˆ</td><td>é€‰å‹ç†ç”±</td><td>æ ¸å¿ƒä½œç”¨</td></tr><tr><td>Node.js + Express 5.1</td><td>è½»é‡æ— ä¾µå…¥ï¼Œä¸­é—´ä»¶ç”Ÿæ€å®Œå–„ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£ AI æ¥å£</td><td>æ„å»º RESTful APIï¼Œå¤„ç† AI è¯·æ±‚è½¬å‘ä¸å“åº”</td></tr><tr><td>Prisma ORM + MySQL</td><td>ç±»å‹å®‰å…¨ç‰¹æ€§é€‚é… TypeScriptï¼Œè¿ç§»å·¥å…·ç®€åŒ–æ•°æ®åº“è¿­ä»£</td><td>ç”¨æˆ·æ•°æ®ã€ä¼šè¯è®°å½•ã€ç”Ÿæˆå†…å®¹çš„æŒä¹…åŒ–</td></tr><tr><td>JWT è®¤è¯</td><td>æ— çŠ¶æ€è®¾è®¡ï¼Œé€‚é…åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢</td><td>ç”¨æˆ·èº«ä»½æ ¡éªŒä¸æƒé™æ§åˆ¶</td></tr><tr><td>SSE æµå¼å“åº”</td><td>ç›¸æ¯” WebSocket æ›´è½»é‡ï¼Œæ— éœ€åŒå‘é€šä¿¡ï¼Œé€‚é… AI æ–‡æœ¬æµå¼è¾“å‡º</td><td>å®ç° AI å›å¤ã€Œæ‰“å­—æœºæ•ˆæœã€ï¼Œé™ä½å‰ç«¯ç­‰å¾…æ„Ÿ</td></tr></tbody></table>
<h4 data-id="heading-4">å‰ç«¯æ¶æ„ï¼šå“åº”å¼ä¼˜å…ˆï¼Œä¼˜åŒ–äº¤äº’ä½“éªŒ</h4>








































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>æŠ€æœ¯æ ˆ</td><td>é€‰å‹ç†ç”±</td><td>æ ¸å¿ƒä½œç”¨</td></tr><tr><td>Vue 3.5 + Composition API</td><td>ç»„åˆå¼ API æ›´é€‚åˆå¤æ‚é€»è¾‘å¤ç”¨ï¼Œå“åº”å¼ç³»ç»Ÿæ€§èƒ½ä¼˜äº Vue 2</td><td>æ„å»ºç»„ä»¶åŒ–ã€é«˜å¤ç”¨çš„å‰ç«¯ç•Œé¢</td></tr><tr><td>Element Plus</td><td>ä¼ä¸šçº§ç»„ä»¶åº“ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥ï¼Œå‡å°‘ UI å¼€å‘å·¥ä½œé‡</td><td>å¿«é€Ÿæ­å»ºä¸€è‡´çš„äº¤äº’ç•Œé¢ï¼ˆè¡¨å•ã€å¼¹çª—ã€å¯¼èˆªç­‰ï¼‰</td></tr><tr><td>Pinia</td><td>ç›¸æ¯” Vuex æ›´ç®€æ´ï¼ŒåŸç”Ÿæ”¯æŒ TypeScriptï¼ŒçŠ¶æ€ç®¡ç†æ›´æ¸…æ™°</td><td>ç®¡ç†å…¨å±€çŠ¶æ€ï¼ˆç”¨æˆ·ä¿¡æ¯ã€ä¼šè¯åˆ—è¡¨ã€AI æ¨¡å‹é…ç½®ï¼‰</td></tr><tr><td>Vite</td><td>å†·å¯åŠ¨é€Ÿåº¦å¿«ï¼Œçƒ­æ›´æ–°é«˜æ•ˆï¼Œé€‚é…å¤§å‹å‰ç«¯é¡¹ç›®</td><td>æå‡å¼€å‘æ•ˆç‡ï¼Œä¼˜åŒ–ç”Ÿäº§ç¯å¢ƒæ„å»ºä½“ç§¯</td></tr><tr><td>@tanstack/vue-virtual</td><td>ä¸“ä¸º Vue 3 ä¼˜åŒ–ï¼Œå†…å­˜å ç”¨ä½ï¼Œæ”¯æŒå¤§æ•°æ®é‡æ¸²æŸ“</td><td>è§£å†³é•¿å¯¹è¯åˆ—è¡¨å¡é¡¿é—®é¢˜</td></tr></tbody></table>
<h4 data-id="heading-5">AI èƒ½åŠ›é›†æˆï¼šæŒ‰éœ€é€‰æ‹©ï¼Œå¹³è¡¡é€Ÿåº¦ä¸è´¨é‡</h4>
<ul>
<li><strong>è±†åŒ…å¿«é€Ÿæ¨¡å‹</strong>ï¼ˆdoubao-seed-1-6-flash-250828ï¼‰ï¼šå“åº”å»¶è¿Ÿ &lt; 500msï¼Œé€‚åˆæ—¥å¸¸å¯¹è¯ã€ç®€å•æŸ¥è¯¢</li>
</ul>

<ul>
<li><strong>è±†åŒ…æ·±åº¦æ€è€ƒæ¨¡å‹</strong>ï¼ˆdoubao-seed-1-6-thinking-250715ï¼‰ï¼šæ”¯æŒæ€ç»´é“¾è¾“å‡ºï¼Œé€‚åˆä»£ç è°ƒè¯•ã€å¤æ‚æ¨ç†</li>
</ul>

<ul>
<li><strong>è±†åŒ… Seedream 4.0</strong>ï¼ˆdoubao-seedream-4-0-250828ï¼‰ï¼šå›¾åƒç”Ÿæˆåˆ†è¾¨ç‡é«˜ï¼ˆæœ€é«˜ 1024x1024ï¼‰ï¼Œé£æ ¼è¿˜åŸåº¦å¥½</li>
</ul>
<h3 data-id="heading-6">ä¸‰å¤§æŠ€æœ¯äº®ç‚¹ï¼ˆé™„è¸©å‘ä¸è§£å†³æ–¹æ¡ˆï¼‰</h3>
<h4 data-id="heading-7">1. SSE æµå¼å“åº”ï¼šæ”»å…‹ AI å¯¹è¯å®æ—¶æ€§ä¸æ ¼å¼å®Œæ•´æ€§éš¾é¢˜</h4>
<p>AI å¯¹è¯çš„æ ¸å¿ƒä½“éªŒç—›ç‚¹æ˜¯ã€Œç­‰å¾…æ„Ÿã€å’Œã€Œæ ¼å¼é”™ä¹±ã€â€”â€” æµå¼è¾“å‡ºèƒ½è§£å†³ç­‰å¾…é—®é¢˜ï¼Œä½†é€æ®µè¿”å›çš„æ–‡æœ¬å®¹æ˜“å¯¼è‡´ Markdown ä»£ç å—ã€è¡¨æ ¼è¢«åˆ†å‰²ã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ç¼“å†²åŒº + åˆ†æ®µè§£ææœºåˆ¶</strong>ï¼šå°† AI è¿”å›çš„ chunk ç´¯ç§¯åˆ°ç¼“å†²åŒºï¼ŒæŒ‰ã€Œæ¢è¡Œç¬¦ã€åˆ†å‰²ï¼Œä»…å¤„ç†å®Œæ•´è¡Œï¼Œå‰©ä½™å†…å®¹ä¿ç•™åœ¨ç¼“å†²åŒº</li>
</ul>

<ul>
<li><strong>Markdown æ ¼å¼ä¿æŠ¤</strong>ï¼šæ£€æµ‹åˆ°ä»£ç å—èµ·å§‹æ ‡è®°ï¼ˆ```ï¼‰åï¼Œæš‚åœåˆ†æ®µè§£æï¼Œç›´åˆ°æ”¶åˆ°ç»“æŸæ ‡è®°æ‰ç»Ÿä¸€æ¸²æŸ“</li>
</ul>

<ul>
<li><strong>åŒæ¨¡å‹é€‚é…é€»è¾‘</strong>ï¼šå¿«é€Ÿæ¨¡å‹ç›´æ¥æµå¼è¾“å‡ºç»“æœï¼Œæ·±åº¦æ¨¡å‹å…ˆè¾“å‡ºã€Œæ€ç»´é“¾ã€ï¼ˆå¸¦thinking:å‰ç¼€ï¼‰ï¼Œå†è¾“å‡ºæœ€ç»ˆç­”æ¡ˆ</li>
</ul>

<ul>
<li><strong>å¼‚å¸¸é‡è¯•æœºåˆ¶</strong>ï¼šç½‘ç»œä¸­æ–­æ—¶ï¼ŒåŸºäºå·²æ¥æ”¶çš„æ–‡æœ¬ç‰‡æ®µé‡è¯•è¯·æ±‚ï¼Œé¿å…ç”¨æˆ·é‡æ–°è¾“å…¥</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// ä¼˜åŒ–åçš„æµå¼å¤„ç†æ ¸å¿ƒä»£ç </code></p>
<p><code>class StreamParser {</code></p>
<p><code>constructor(modelType) {</code></p>
<p><code>this.buffer = '';</code></p>
<p><code>this.modelType = modelType;</code></p>
<p><code>this.inCodeBlock = false; // æ ‡è®°æ˜¯å¦å¤„äºä»£ç å—ä¸­</code></p>
<p><code>}</code></p>
<p><code>parse(chunk) {</code></p>
<p><code>this.buffer += chunk.toString('utf-8');</code></p>
<p><code>const results = [];</code></p>
<p><code>// ä»£ç å—å¤„ç†é€»è¾‘ï¼šæœªç»“æŸåˆ™ä¸åˆ†å‰²</code></p>
<p><code>if (this.inCodeBlock) {</code></p>
<p><code>const codeEndIndex = this.buffer.indexOf('```');</code></p>
<p><code>if (codeEndIndex === -1) return results; // ä»£ç å—æœªç»“æŸï¼Œè¿”å›ç©º</code></p>
<p><code>// æå–å®Œæ•´ä»£ç å—</code></p>
<p><code>results.push(this.buffer.slice(0, codeEndIndex + 3));</code></p>
<p><code>this.buffer = this.buffer.slice(codeEndIndex + 3);</code></p>
<p><code>this.inCodeBlock = false;</code></p>
<p><code>}</code></p>
<p><code>// åˆ†å‰²å®Œæ•´è¡Œï¼ˆéä»£ç å—çŠ¶æ€ï¼‰</code></p>
<p><code>const lines = this.buffer.split('\n');</code></p>
<p><code>this.buffer = lines.pop() || ''; // ä¿ç•™æœ€åä¸€è¡Œï¼ˆå¯èƒ½ä¸å®Œæ•´ï¼‰</code></p>
<p><code>for (const line of lines) {</code></p>
<p><code>if (line.includes('```')) {</code></p>
<p><code>this.inCodeBlock = true;</code></p>
<p><code>}</code></p>
<p><code>// åŒºåˆ†æ€ç»´é“¾å’Œæœ€ç»ˆç­”æ¡ˆï¼ˆæ·±åº¦æ¨¡å‹ï¼‰</code></p>
<p><code>if (this.modelType === 'thinking' &amp;&amp; line.startsWith('thinking:')) {</code></p>
<p><code>results.push({ type: 'thinking', content: line.slice(9) });</code></p>
<p><code>} else {</code></p>
<p><code>results.push({ type: 'answer', content: line });</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<p><code>return results;</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<h4 data-id="heading-8">2. Prisma ORMï¼šç±»å‹å®‰å…¨æå‡å¼€å‘æ•ˆç‡ 80%</h4>
<p>ä¼ ç»Ÿ SQL å¼€å‘ä¸­ï¼Œã€Œå­—æ®µåå†™é”™ã€ã€Œç±»å‹ä¸åŒ¹é…ã€æ˜¯é«˜é¢‘ bugã€‚ä½¿ç”¨ Prisma åï¼Œè¿™äº›é—®é¢˜å‡ ä¹æ¶ˆå¤±ï¼š</p>
<ul>
<li><strong>Schema å®šä¹‰é©±åŠ¨å¼€å‘</strong>ï¼šå…ˆå®šä¹‰æ•°æ®æ¨¡å‹ï¼ŒPrisma è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹ï¼Œå‰åç«¯ç±»å‹ä¸€è‡´</li>
</ul>

<ul>
<li><strong>ç¤ºä¾‹ Schemaï¼ˆæ ¸å¿ƒæ¨¡å‹ï¼‰</strong> ï¼š</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// ç”¨æˆ·æ¨¡å‹</code></p>
<p><code>model User {</code></p>
<p><code>id String @id @default(uuid())</code></p>
<p><code>username String @unique</code></p>
<p><code>email String @unique</code></p>
<p><code>passwordHash String</code></p>
<p><code>sessions Session[] // å…³è”ä¼šè¯</code></p>
<p><code>notes Note[] // å…³è”ç¬”è®°</code></p>
<p><code>createdAt DateTime @default(now())</code></p>
<p><code>}</code></p>
<p><code>// ä¼šè¯æ¨¡å‹ï¼ˆAIå¯¹è¯ï¼‰</code></p>
<p><code>model Session {</code></p>
<p><code>id String @id @default(uuid())</code></p>
<p><code>title String</code></p>
<p><code>userId String</code></p>
<p><code>user User @relation(fields: [userId], references: [id], onDelete: Cascade)</code></p>
<p><code>messages Message[] // å…³è”æ¶ˆæ¯</code></p>
<p><code>modelType String // æ¨¡å‹ç±»å‹ï¼šflash/thinking</code></p>
<p><code>createdAt DateTime @default(now())</code></p>
<p><code>updatedAt DateTime @updatedAt</code></p>
<p><code>}</code></p>
<ul>
<li><strong>è¿ç§»ç®¡ç†</strong>ï¼šä¿®æ”¹ Schema åï¼Œæ‰§è¡Œprisma migrate devè‡ªåŠ¨ç”Ÿæˆ SQL è¿ç§»æ–‡ä»¶ï¼Œé¿å…æ‰‹åŠ¨æ”¹åº“</li>
</ul>

<ul>
<li><strong>æŸ¥è¯¢ä¼˜åŒ–</strong>ï¼šå†…ç½®è¿æ¥æ± ï¼ˆé»˜è®¤ 10 ä¸ªè¿æ¥ï¼‰ï¼Œæ”¯æŒæ‰¹é‡æŸ¥è¯¢å’Œäº‹åŠ¡ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›</li>
</ul>
<h4 data-id="heading-9">3. è™šæ‹Ÿæ»šåŠ¨ï¼šæ”¯æ’‘ 10000 + æ¡å¯¹è¯æ— å¡é¡¿</h4>
<p>é•¿å¯¹è¯åˆ—è¡¨æ˜¯ AI åº”ç”¨çš„å¸¸è§åœºæ™¯ï¼Œä¼ ç»Ÿæ¸²æŸ“æ–¹å¼ä¼šå¯¼è‡´ DOM èŠ‚ç‚¹è¿‡å¤šã€å†…å­˜å ç”¨é£™å‡ã€‚æˆ‘ä»¬çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨@tanstack/vue-virtualå®ç°ã€Œå¯è§†åŒºåŸŸæ¸²æŸ“ã€ï¼Œä»…æ¸²æŸ“å½“å‰å±å¹•èƒ½çœ‹åˆ°çš„å¯¹è¯é¡¹</li>
</ul>

<ul>
<li>å¯¹è¯é¡¹é«˜åº¦è‡ªé€‚åº”ï¼šé€šè¿‡estimateSizeå‡½æ•°åŠ¨æ€è®¡ç®—æ¯æ¡æ¶ˆæ¯çš„é«˜åº¦ï¼Œé¿å…å›ºå®šé«˜åº¦å¯¼è‡´çš„å¸ƒå±€é”™ä¹±</li>
</ul>

<ul>
<li>æ€§èƒ½æŒ‡æ ‡ï¼š10000 æ¡å¯¹è¯æ—¶ï¼ŒDOM èŠ‚ç‚¹æ•°é‡ä» 10000 + å‡å°‘åˆ° 50 ä»¥å†…ï¼Œå†…å­˜å ç”¨ä» 800MB é™è‡³ 50MBï¼Œæ»šåŠ¨ FPS ç¨³å®š 60+</li>
</ul>
<hr/>
<h2 data-id="heading-10">äºŒã€æ ¸å¿ƒåŠŸèƒ½ï¼šå¤šæ¨¡æ€èƒ½åŠ›çš„æŠ€æœ¯å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-11">1. AI å¯¹è¯ï¼šä»ã€Œèƒ½èŠã€åˆ°ã€Œå¥½ç”¨ã€çš„ä½“éªŒä¼˜åŒ–</h3>
<h4 data-id="heading-12">æ ¸å¿ƒç‰¹æ€§ä¸æŠ€æœ¯å®ç°</h4>
<ul>
<li><strong>åŒæ¨¡å‹åˆ‡æ¢</strong>ï¼šå‰ç«¯é€šè¿‡ Pinia ç®¡ç†æ¨¡å‹çŠ¶æ€ï¼Œåˆ‡æ¢æ—¶ä¿ç•™å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ï¼Œåç«¯è‡ªåŠ¨é€‚é…æµå¼è¾“å‡ºé€»è¾‘</li>
</ul>

<ul>
<li><strong>æ€ç»´é“¾å±•ç¤º</strong>ï¼šå‰ç«¯è¯†åˆ«type: thinkingçš„æ¶ˆæ¯ï¼Œç”¨ç°è‰²å°å­— +ã€Œæ€è€ƒä¸­...ã€å‰ç¼€å±•ç¤ºï¼Œä¸æœ€ç»ˆç­”æ¡ˆåŒºåˆ†</li>
</ul>

<ul>
<li><strong>æç¤ºè¯æ¨¡æ¿ç®¡ç†</strong>ï¼šåç«¯å­˜å‚¨æ¨¡æ¿åˆ†ç±»ï¼ˆå†™ä½œ / ç¼–ç¨‹ / å­¦ä¹ ï¼‰ï¼Œå‰ç«¯ç”¨æ ‘å½¢ç»„ä»¶å±•ç¤ºï¼Œé€‰æ‹©åè‡ªåŠ¨å¡«å……åˆ°è¾“å…¥æ¡†</li>
</ul>

<ul>
<li><strong>Markdown æ¸²æŸ“</strong>ï¼šä½¿ç”¨markedè§£æ Markdownï¼Œhighlight.jså®ç°ä»£ç é«˜äº®ï¼Œkatexæ”¯æŒæ•°å­¦å…¬å¼æ¸²æŸ“</li>
</ul>

<ul>
<li><strong>ä¼šè¯æœç´¢</strong>ï¼šåŸºäº Prisma çš„containsæŸ¥è¯¢ï¼Œæ”¯æŒæ¨¡ç³Šæœç´¢ä¼šè¯æ ‡é¢˜å’Œæ¶ˆæ¯å†…å®¹ï¼Œå‰ç«¯ç”¨é˜²æŠ–ä¼˜åŒ–è¾“å…¥ä½“éªŒ</li>
</ul>
<h4 data-id="heading-13">ç•Œé¢æ•ˆæœï¼ˆé™„æ ¸å¿ƒäº¤äº’é€»è¾‘ï¼‰</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c25a72bd134cd08e44bc515d128b79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=SbGyEdvik6vS85ipK%2B31mBtB2QQ%3D" alt="AIå¯¹è¯ç•Œé¢" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<ul>
<li>è¾“å…¥æ¡†æ”¯æŒã€Œå‘é€ã€ã€Œæ¢è¡Œã€å¿«æ·é”®ï¼ˆEnter å‘é€ï¼ŒShift+Enter æ¢è¡Œï¼‰</li>
</ul>

<ul>
<li>å¯¹è¯é¡¹æ”¯æŒã€Œå¤åˆ¶ã€ã€Œæ”¶è—ã€ã€Œåˆ é™¤ã€ï¼Œæ“ä½œæ  hover æ˜¾ç¤º</li>
</ul>

<ul>
<li>æ»šåŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨åŠ è½½æ›´å¤šå†å²æ¶ˆæ¯ï¼ˆåˆ†é¡µæŸ¥è¯¢ï¼Œæ¯é¡µ 20 æ¡ï¼‰</li>
</ul>
<h3 data-id="heading-14">2. æ™ºèƒ½ç¬”è®°ï¼šAI ä¸å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„æ·±åº¦èåˆ</h3>
<h4 data-id="heading-15">æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h4>
<ul>
<li><strong>æµå¼æ’å…¥ä¸æ‰“ä¹±ç¼–è¾‘</strong>ï¼šAI ç”Ÿæˆå†…å®¹æ—¶ï¼Œå…ˆè®°å½•å…‰æ ‡ä½ç½®ï¼ˆé€šè¿‡ WangEditor çš„getSelectionRangeï¼‰ï¼Œç”Ÿæˆçš„å†…å®¹æ’å…¥åï¼Œç”¨restoreSelectionæ¢å¤å…‰æ ‡ä½ç½®</li>
</ul>

<ul>
<li><strong>åŒæ¨¡å¼ç¼–è¾‘</strong>ï¼šæ”¯æŒ Markdown å’Œå¯Œæ–‡æœ¬åˆ‡æ¢ï¼Œé€šè¿‡markedå’Œhtml-to-markdownå®ç°åŒå‘è½¬æ¢</li>
</ul>

<ul>
<li><strong>è‡ªåŠ¨ä¿å­˜</strong>ï¼šæ¯ 3 ç§’è§¦å‘ä¸€æ¬¡ä¿å­˜ï¼Œå‰ç«¯é˜²æŠ–é¿å…é¢‘ç¹è¯·æ±‚ï¼Œåç«¯ç”¨ Prisma çš„upsertå®ç°ã€Œæœ‰åˆ™æ›´æ–°ï¼Œæ— åˆ™åˆ›å»ºã€</li>
</ul>
<h4 data-id="heading-16">æ ¸å¿ƒä»£ç ç‰‡æ®µï¼ˆAI è¾…åŠ©å†™ä½œï¼‰</h4>
<pre><code class="hljs"/></pre>
<p><code>// å‰ç«¯è§¦å‘AIæ¶¦è‰²åŠŸèƒ½</code></p>
<p><code>async function aiPolish(content) {</code></p>
<p><code>const loading = ElMessage.info('AIæ¶¦è‰²ä¸­...');</code></p>
<p><code>try {</code></p>
<p><code>// å‘èµ·SSEè¯·æ±‚ï¼Œæºå¸¦å½“å‰ç¬”è®°å†…å®¹å’Œæ“ä½œç±»å‹ï¼ˆpolishï¼‰</code></p>
<p><code>const stream = await fetchSSE('/api/note/ai-assist', {</code></p>
<p><code>method: 'POST',</code></p>
<p><code>body: JSON.stringify({</code></p>
<p><code>content,</code></p>
<p><code>type: 'polish' // æ”¯æŒpolish/summary/translate/continue</code></p>
<p><code>}),</code></p>
<p><code>headers: { 'Content-Type': 'application/json' }</code></p>
<p><code>});</code></p>
<p><code>// æµå¼æ¥æ”¶AIç”Ÿæˆçš„å†…å®¹ï¼Œå®æ—¶æ’å…¥ç¼–è¾‘å™¨</code></p>
<p><code>let result = '';</code></p>
<p><code>for await (const chunk of stream) {</code></p>
<p><code>result += chunk;</code></p>
<p><code>editor.setHtml(result); // å®æ—¶æ›´æ–°ç¼–è¾‘å™¨å†…å®¹</code></p>
<p><code>restoreCursorPosition(); // æ¢å¤å…‰æ ‡ä½ç½®</code></p>
<p><code>}</code></p>
<p><code>} catch (err) {</code></p>
<p><code>ElMessage.error('æ¶¦è‰²å¤±è´¥ï¼š' + err.message);</code></p>
<p><code>} finally {</code></p>
<p><code>loading.close();</code></p>
<p><code>}</code></p>
<p><code>}</code></p>
<h4 data-id="heading-17">ç•Œé¢æ•ˆæœ</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d2e9b37e7b140f9908eb700126cbb51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=KBsrxvG43nZ0rnkp4mpT6MvXI2k%3D" alt="æ™ºèƒ½ç¬”è®°ç•Œé¢" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<h3 data-id="heading-18">3. AI ç»˜ç”»ï¼šé«˜è´¨é‡å›¾åƒç”Ÿæˆä¸ç®¡ç†</h3>
<h4 data-id="heading-19">æŠ€æœ¯å®ç°å…³é”®ç‚¹</h4>
<ul>
<li><strong>å‚æ•°åŒ–ç”Ÿæˆ</strong>ï¼šå‰ç«¯æä¾›å°ºå¯¸ï¼ˆ1024x1024/1024x768/768x1024ï¼‰ã€é£æ ¼ï¼ˆå†™å® / åŠ¨æ¼« / æŠ½è±¡ï¼‰ã€æ•°é‡ï¼ˆ1-4 å¼ ï¼‰ç­‰å‚æ•°ï¼Œåç«¯è½¬å‘è‡³è±†åŒ… Seedream 4.0 API</li>
</ul>

<ul>
<li><strong>å¹¶å‘ä¸‹è½½ä¼˜åŒ–</strong>ï¼šç”Ÿæˆå¤šå¼ å›¾åƒæ—¶ï¼Œç”¨Promise.allé™åˆ¶å¹¶å‘æ•°ï¼ˆæœ€å¤š 2 ä¸ªï¼‰ï¼Œé¿å…æœåŠ¡å™¨å¸¦å®½å ç”¨è¿‡é«˜</li>
</ul>

<ul>
<li><strong>å›¾åƒå­˜å‚¨ç­–ç•¥</strong>ï¼šç”Ÿæˆçš„å›¾åƒ URL å…ˆä¿å­˜åˆ°æ•°æ®åº“ï¼ŒåŒæ—¶å¼‚æ­¥ä¸‹è½½åˆ°æœåŠ¡å™¨æœ¬åœ°ï¼ˆè·¯å¾„ï¼š/uploads/images/{uuid}.pngï¼‰ï¼Œé¿å…ç¬¬ä¸‰æ–¹ API å¤±æ•ˆå¯¼è‡´å›¾åƒä¸¢å¤±</li>
</ul>

<ul>
<li><strong>å…ƒæ•°æ®è®°å½•</strong>ï¼šæ•°æ®åº“å­˜å‚¨å›¾åƒçš„å®Œæ•´å‚æ•°ï¼ˆæç¤ºè¯ã€å°ºå¯¸ã€é£æ ¼ã€ç”Ÿæˆæ—¶é—´ï¼‰ï¼Œæ”¯æŒæŒ‰å…³é”®è¯æœç´¢ç”Ÿæˆè®°å½•</li>
</ul>
<h4 data-id="heading-20">ç•Œé¢æ•ˆæœ</h4>
<p>**<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d15be9b712a74673a2bbe10a8874ef80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=C52B1xwZMyN5BA1wsMRo9yMZkr8%3D" alt="AIç»˜ç”»ç•Œé¢1" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bbf83ea7e794547867e7f11e3931fcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983264&amp;x-signature=DfUjBVqZAftyPhP6dbAwUh1VkBA%3D" alt="AIç»˜ç”»ç•Œé¢2" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
<hr/>
<h2 data-id="heading-21">ä¸‰ã€å·¥ç¨‹åŒ–å®è·µï¼šä»å¼€å‘åˆ°éƒ¨ç½²çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-22">1. éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ</h3>
<ul>
<li><strong>UI è®¾è®¡</strong>ï¼šä½¿ç”¨ MasterGo AI å¿«é€Ÿç”ŸæˆåŸå‹ï¼Œå†æ‰‹åŠ¨ä¼˜åŒ–ç»†èŠ‚ï¼Œå¯¼å‡ºç»„ä»¶åˆ‡å›¾ï¼ˆé¿å…é‡å¤è®¾è®¡ï¼‰</li>
</ul>

<ul>
<li><strong>æ¥å£è®¾è®¡</strong>ï¼šåŸºäº OpenAPI 3.0 è§„èŒƒï¼Œç”¨ Swagger ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œå‰åç«¯åŒæ­¥å¼€å‘ï¼ˆå‰ç«¯å¯å…ˆç”¨ Mock æ•°æ®ï¼‰</li>
</ul>

<ul>
<li><strong>æ•°æ®åº“å»ºæ¨¡</strong>ï¼šå…ˆæ¢³ç†å®ä½“å…³ç³»ï¼ˆç”¨æˆ· - ä¼šè¯ - æ¶ˆæ¯ - ç¬”è®° - å›¾åƒï¼‰ï¼Œå†ç”¨ Prisma Schema å®šä¹‰æ¨¡å‹ï¼Œé¿å…åæœŸå¤§è§„æ¨¡æ”¹è¡¨</li>
</ul>
<h3 data-id="heading-23">2. å¼€å‘é˜¶æ®µï¼šæ•ˆç‡ä¸è´¨é‡å¹¶é‡</h3>
<h4 data-id="heading-24">åç«¯å¼€å‘è§„èŒƒ</h4>
<ul>
<li>åˆ†å±‚æ¶æ„ï¼šControllerï¼ˆæ¥æ”¶è¯·æ±‚ï¼‰â†’ Serviceï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰â†’ Repositoryï¼ˆæ•°æ®è®¿é—®ï¼‰ï¼ŒèŒè´£å•ä¸€</li>
</ul>

<ul>
<li>ç»Ÿä¸€å“åº”æ ¼å¼ï¼š</li>
</ul>
<pre><code class="hljs"/></pre>
<p><code>// æˆåŠŸå“åº”</code></p>
<p><code>res.json({ code: 200, message: 'success', data: result });</code></p>
<p><code>// é”™è¯¯å“åº”</code></p>
<p><code>res.status(400).json({ code: 400, message: 'å‚æ•°é”™è¯¯', error: err.message });</code></p>
<ul>
<li>æ—¥å¿—è®°å½•ï¼šä½¿ç”¨winstonè®°å½•è¯·æ±‚æ—¥å¿—ã€é”™è¯¯æ—¥å¿—ï¼ŒæŒ‰æ—¥æœŸåˆ†å‰²æ—¥å¿—æ–‡ä»¶ï¼ˆä¾¿äºé—®é¢˜æ’æŸ¥ï¼‰</li>
</ul>

<ul>
<li>AI å·¥å…·è¾…åŠ©ï¼šç”¨ Cursor è‡ªåŠ¨ç”Ÿæˆé‡å¤ä»£ç ï¼ˆå¦‚ CRUD æ¥å£ï¼‰ï¼Œæ‰‹åŠ¨ä¼˜åŒ–æ ¸å¿ƒé€»è¾‘ï¼ˆå¦‚æµå¼å¤„ç†ï¼‰</li>
</ul>
<h4 data-id="heading-25">å‰ç«¯å¼€å‘è§„èŒƒ</h4>
<ul>
<li>ç»„ä»¶åŒ–è®¾è®¡ï¼šæ‹†åˆ†åŸºç¡€ç»„ä»¶ï¼ˆButtonã€Inputã€Cardï¼‰ã€ä¸šåŠ¡ç»„ä»¶ï¼ˆChatItemã€NoteEditorï¼‰ã€é¡µé¢ç»„ä»¶ï¼ˆChatPageã€NotePageï¼‰</li>
</ul>

<ul>
<li>å“åº”å¼é€‚é…ï¼šä½¿ç”¨vw+flexå¸ƒå±€ï¼Œé€‚é… PCï¼ˆâ‰¥1200pxï¼‰ã€å¹³æ¿ï¼ˆ768px-1199pxï¼‰ã€æ‰‹æœºï¼ˆ&lt;768pxï¼‰</li>
</ul>

<ul>
<li>æ€§èƒ½ä¼˜åŒ–ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>è·¯ç”±æ‡’åŠ è½½ï¼šconst ChatPage = () =&gt; import('@/views/ChatPage.vue')</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å›¾ç‰‡æ‡’åŠ è½½ï¼šä½¿ç”¨vue-lazyloadï¼Œå»¶è¿ŸåŠ è½½éé¦–å±å›¾åƒ</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>èµ„æºå‹ç¼©ï¼šVite é…ç½®terserå‹ç¼© JS/CSSï¼Œimageminå‹ç¼©å›¾ç‰‡</li>
</ul>
</li>
</ul>
<h3 data-id="heading-26">3. æµ‹è¯•ä¸éƒ¨ç½²é˜¶æ®µ</h3>
<h4 data-id="heading-27">æµ‹è¯•ç­–ç•¥</h4>
<ul>
<li>æ¥å£æµ‹è¯•ï¼šç”¨Supertestç¼–å†™ API æµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–æ ¸å¿ƒæ¥å£ï¼ˆç”¨æˆ·ç™»å½•ã€ä¼šè¯åˆ›å»ºã€AI ç”Ÿæˆï¼‰</li>
</ul>

<ul>
<li>å‰ç«¯æµ‹è¯•ï¼šç”¨Vitestæµ‹è¯•å·¥å…·å‡½æ•°ï¼ˆå¦‚æµå¼è§£æã€Markdown æ¸²æŸ“ï¼‰ï¼Œç”¨Cypressåšå…³é”®æµç¨‹ E2E æµ‹è¯•</li>
</ul>

<ul>
<li>æ€§èƒ½æµ‹è¯•ï¼šç”¨k6æ¨¡æ‹Ÿ 100 å¹¶å‘ç”¨æˆ·è®¿é—® AI å¯¹è¯æ¥å£ï¼Œç¡®ä¿å“åº”æ—¶é—´ &lt; 2s</li>
</ul>
<h4 data-id="heading-28">éƒ¨ç½²æ–¹æ¡ˆï¼ˆDocker+Nginxï¼‰</h4>
<ol>
<li><strong>å®¹å™¨åŒ–æ‰“åŒ…</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åç«¯ï¼šåŸºäº Node.js é•œåƒï¼Œå®‰è£…ä¾èµ–ã€å¤åˆ¶ä»£ç ï¼Œæš´éœ² 3000 ç«¯å£</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>å‰ç«¯ï¼šVite æ„å»ºç”Ÿæˆé™æ€æ–‡ä»¶ï¼ŒåŸºäº Nginx é•œåƒéƒ¨ç½²</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨ Docker Compose ç®¡ç†æœåŠ¡ï¼ˆåç«¯ã€å‰ç«¯ã€MySQLï¼‰</li>
</ul>
</li>
</ul>
<ol>
<li><strong>Nginx é…ç½®</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åå‘ä»£ç†ï¼šå°†/apiè¯·æ±‚è½¬å‘è‡³åç«¯æœåŠ¡</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>é™æ€èµ„æºç¼“å­˜ï¼šè®¾ç½® CSS/JS/ å›¾ç‰‡ç¼“å­˜æ—¶é—´ï¼ˆ7 å¤©ï¼‰</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>HTTPS é…ç½®ï¼šä½¿ç”¨ Let's Encrypt ç”³è¯·å…è´¹è¯ä¹¦ï¼Œå¼€å¯ HTTPS</li>
</ul>
</li>
</ul>
<ol>
<li><strong>æœåŠ¡å™¨ç¯å¢ƒ</strong>ï¼š2 æ ¸ 4G äº‘æœåŠ¡å™¨ï¼ˆCentOS 7ï¼‰ï¼ŒMySQL 8.0ï¼ŒDocker 20.10+</li>
</ol>
<hr/>
<h2 data-id="heading-29">å››ã€æŠ€æœ¯ä»·å€¼ä¸å­¦ä¹ è·¯å¾„</h2>
<h3 data-id="heading-30">é€‚åˆè°å­¦ä¹ ï¼Ÿ</h3>
<ul>
<li>æƒ³å…¥é—¨å…¨æ ˆ AI åº”ç”¨å¼€å‘çš„å¼€å‘è€…</li>
</ul>

<ul>
<li>ç†Ÿæ‚‰ Vue/Node.jsï¼Œæƒ³æå‡å·¥ç¨‹åŒ–å®è·µèƒ½åŠ›çš„å¼€å‘è€…</li>
</ul>

<ul>
<li>å¯¹å¤šæ¨¡æ€ AI é›†æˆã€æµå¼å“åº”æŠ€æœ¯æ„Ÿå…´è¶£çš„æŠ€æœ¯çˆ±å¥½è€…</li>
</ul>
<h3 data-id="heading-31">æ ¸å¿ƒå­¦ä¹ è¦ç‚¹</h3>
<ol>
<li><strong>SSE æµå¼å“åº”</strong>ï¼šç†è§£ HTTP æµå¼ä¼ è¾“åŸç†ï¼ŒæŒæ¡ç¼“å†²åŒºè§£æã€æ ¼å¼ä¿æŠ¤çš„å®ç°</li>
</ol>

<ol>
<li><strong>TypeScript å…¨æ ˆå®è·µ</strong>ï¼šå‰åç«¯ç»Ÿä¸€ç±»å‹å®šä¹‰ï¼Œå‡å°‘ç±»å‹é”™è¯¯</li>
</ol>

<ol>
<li><strong>Prisma ORM ä½¿ç”¨</strong>ï¼šä» Schema å®šä¹‰åˆ°æŸ¥è¯¢ä¼˜åŒ–ï¼Œç®€åŒ–æ•°æ®åº“æ“ä½œ</li>
</ol>

<ol>
<li><strong>å¤šæ¨¡æ€ AI API é›†æˆ</strong>ï¼šæ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆçš„æ¥å£é€‚é…ä¸é”™è¯¯å¤„ç†</li>
</ol>

<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–</li>
</ol>
<h3 data-id="heading-32">æŠ€æœ¯é—¨æ§›ï¼ˆä½è‡³ä¸­ç­‰ï¼‰</h3>
<ul>
<li>å‰ç«¯ï¼šHTML/CSS/JS åŸºç¡€ï¼ŒVue 3 Composition API å…¥é—¨</li>
</ul>

<ul>
<li>åç«¯ï¼šNode.js åŸºç¡€ï¼ŒExpress æ¡†æ¶ä½¿ç”¨ç»éªŒ</li>
</ul>

<ul>
<li>æ•°æ®åº“ï¼šSQL åŸºç¡€ï¼ˆPrisma å¯å±è”½å¤æ‚ SQLï¼‰</li>
</ul>

<ul>
<li>å·¥å…·ï¼šGitã€Docker åŸºç¡€ï¼ˆéƒ¨ç½²ç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-33">é¡¹ç›®äº®ç‚¹æ€»ç»“</h3>
<p>âœ… <strong>æµå¼å“åº” + æ ¼å¼ä¿æŠ¤</strong>ï¼šè§£å†³ AI å¯¹è¯å®æ—¶æ€§ä¸å®Œæ•´æ€§çš„æ ¸å¿ƒçŸ›ç›¾</p>
<p>âœ… <strong>å¤šæ¨¡æ€èƒ½åŠ›æ— ç¼é›†æˆ</strong>ï¼šæ–‡æœ¬ã€å›¾åƒç”Ÿæˆä¸€ç«™å¼å®ç°ï¼Œæ¥å£è®¾è®¡ç»Ÿä¸€</p>
<p>âœ… <strong>å·¥ç¨‹åŒ–è§„èŒƒå®Œå–„</strong>ï¼šä»ä»£ç è§„èŒƒåˆ°éƒ¨ç½²æµç¨‹ï¼Œå¯ç›´æ¥å¤ç”¨ä¸ºä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿</p>
<p>âœ… <strong>æ€§èƒ½ä¼˜åŒ–åˆ°ä½</strong>ï¼šè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ç­‰æŠ€æœ¯ç¡®ä¿å¤§è§„æ¨¡æ•°æ®ä¸‹çš„æµç•…ä½“éªŒ</p>
<p>âœ… <strong>TypeScript å…¨æ ˆè¦†ç›–</strong>ï¼šç±»å‹å®‰å…¨æå‡å¼€å‘æ•ˆç‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬</p>
<hr/>
<h2 data-id="heading-34">äº”ã€é¡¹ç›®æ¼”ç¤ºä¸å­¦ä¹ èµ„æº</h2>
<p>è¿™ä¸ªé¡¹ç›®çš„å®Œæ•´å¼€å‘æµç¨‹å·²æ•´ç†æˆè§†é¢‘æ•™ç¨‹ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>éœ€æ±‚åˆ†æä¸ UI è®¾è®¡ï¼ˆMasterGo AI ä½¿ç”¨ï¼‰</li>
</ul>

<ul>
<li>åç«¯æ¥å£å¼€å‘ï¼ˆExpress+Prismaï¼‰</li>
</ul>

<ul>
<li>å‰ç«¯ç»„ä»¶ä¸äº¤äº’å®ç°ï¼ˆVue 3+Element Plusï¼‰</li>
</ul>

<ul>
<li>SSE æµå¼å“åº”æ ¸å¿ƒä»£ç æ‹†è§£</li>
</ul>

<ul>
<li>Docker éƒ¨ç½²ä¸æœåŠ¡å™¨é…ç½®</li>
</ul>
<p>æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ‰«ç æŸ¥çœ‹è¯¦ç»†æ•™ç¨‹å’Œæºç ï¼š</p>
<h2 data-id="heading-35">å¤šæ¨¡æ€ AIé¡¹ç›®å¼€å‘æŠ€æœ¯å­¦ä¹ ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcoding.imooc.com%2Fclass%2F954.html" title="https://coding.imooc.com/class/954.html" target="_blank" ref="nofollow noopener noreferrer">coding.imooc.com/class/954.hâ€¦</a></h2>
<hr/>
<h2 data-id="heading-36">æ€»ç»“</h2>
<p>æ™ºèƒ½æ±‡ AI é¡¹ç›®çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºå°†å¤æ‚çš„å¤šæ¨¡æ€ AI èƒ½åŠ›ä¸ç°ä»£åŒ–å…¨æ ˆæŠ€æœ¯ç»“åˆï¼Œæä¾›äº†ä¸€å¥—ã€Œå¯å¤ç”¨ã€å¯æ‰©å±•ã€çš„å¼€å‘æ–¹æ¡ˆã€‚ä»æŠ€æœ¯è§’åº¦çœ‹ï¼ŒSSE æµå¼å“åº”ã€Prisma ç±»å‹å®‰å…¨ã€è™šæ‹Ÿæ»šåŠ¨è¿™ä¸‰å¤§æŠ€æœ¯äº®ç‚¹ï¼Œè§£å†³äº† AI åº”ç”¨å¼€å‘ä¸­çš„æ ¸å¿ƒç—›ç‚¹ï¼›ä»å·¥ç¨‹åŒ–è§’åº¦çœ‹ï¼Œå®Œæ•´çš„å¼€å‘æµç¨‹ã€è§„èŒƒçš„ä»£ç ç»“æ„ã€ä¾¿æ·çš„éƒ¨ç½²æ–¹æ¡ˆï¼Œè®©é¡¹ç›®å…·å¤‡äº†å®é™…è½åœ°ä»·å€¼ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œè¿™ä¸ªé¡¹ç›®ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯å®è·µï¼Œæ›´æ˜¯å¯¹ AI æ—¶ä»£å¼€å‘æ¨¡å¼çš„æ¢ç´¢ â€”â€” æœªæ¥çš„åº”ç”¨å¼€å‘ï¼Œå°†æ›´å¤šæ˜¯ã€ŒAI èƒ½åŠ›å°è£… + ç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€çš„ç»“åˆã€‚å¸Œæœ›æœ¬æ–‡èƒ½ä¸ºä½ æä¾›ä¸€ä»½æ¸…æ™°çš„å¼€å‘æŒ‡å—ï¼Œå¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹å…¨æ ˆ AI åº”ç”¨å¼€å‘ï¼</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¹æ ‡ChatGPTï¼åƒé—®Appæ­£å¼ä¸Šçº¿ï¼šAIåº”ç”¨ç»ˆå±€ä¹‹æˆ˜æ­£åœ¨æ‰“å“]]></title>    <link>https://juejin.cn/post/7573273271799595048</link>    <guid>https://juejin.cn/post/7573273271799595048</guid>    <pubDate>2025-11-17T11:11:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573273271799595048" data-draft-id="7573523709299605539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¹æ ‡ChatGPTï¼åƒé—®Appæ­£å¼ä¸Šçº¿ï¼šAIåº”ç”¨ç»ˆå±€ä¹‹æˆ˜æ­£åœ¨æ‰“å“"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-11-17T11:11:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¹æ ‡ChatGPTï¼åƒé—®Appæ­£å¼ä¸Šçº¿ï¼šAIåº”ç”¨ç»ˆå±€ä¹‹æˆ˜æ­£åœ¨æ‰“å“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:11:32.000Z" title="Mon Nov 17 2025 11:11:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>é˜¿é‡Œæˆ˜ç•¥å‡çº§ï¼Œå…¨åŠ›è¿›å†›AI to Cå¸‚åœºã€‚</p>
</blockquote>
<p>ä»Šå¤©ï¼Œé˜¿é‡Œå…¨åŠ›è¿›å†›AI to Cå¸‚åœºï¼Œç»Ÿä¸€å…¶to Cå“ç‰Œï¼šåƒé—®Appå…¬æµ‹ç‰ˆæ­£å¼ä¸Šçº¿å„å¤§åº”ç”¨å•†åº—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/163f5415a76c46878753d34674342ab6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763982691&amp;x-signature=kDAKm8V6mld8e%2FhljcT4MlniO8g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ®æ‚‰ï¼Œé˜¿é‡Œå†…éƒ¨å°†è¿™ä¸€é¡¹ç›®è§†ä¸ºâ€œAIæ—¶ä»£çš„æœªæ¥ä¹‹æˆ˜â€ï¼Œç”±è‘£äº‹é•¿å…¼CEOå´æ³³é“­äº²è‡ªå¸¦é˜Ÿï¼Œé›†ç»“äº†100å¤šåå·¥ç¨‹å¸ˆï¼Œåœ¨æ­å·æ€»éƒ¨ä¸¤å±‚ä¸“å±åŠå…¬åŒºå·²ç§˜å¯†ç ”å‘æ•°æœˆã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œé˜¿é‡Œåœ¨AI to Cé¢†åŸŸçš„å¸ƒå±€ä¸»è¦ä¾é å¤¸å…‹è¿™æ ·çš„â€œå·¥å…·ç¼åˆåº”ç”¨â€ï¼Œç¼ºå°‘èƒ½ç›´æ¥å¯¹æ ‡ChatGPTæˆ–è±†åŒ…çš„åŸç”ŸAIäº¤äº’å…¥å£ã€‚</p>
<p>è™½ç„¶é˜¿é‡Œæ—©åœ¨2023å¹´4æœˆå°±æ¨å‡ºè¿‡åŸé€šä¹‰Appï¼Œæ˜¯ç¬¬ä¸€æ‰¹æ¨å‡ºAIåŠ©æ‰‹åº”ç”¨çš„å›½å†…å¤§å‚ï¼Œä½†æ—©æœŸå¹¶æ²¡æœ‰åœ¨To Cä¾§æŠ•å…¥å¤ªå¤šèµ„æºï¼Œæ›´å¤šæ˜¯é€šè¿‡å±•ç¤ºæ¨¡å‹åŠŸèƒ½æ¥å¸å¼•ç”¨æˆ·ã€‚</p>
<p>ç°åœ¨é˜¿é‡Œæ­£å¯¹ä½“ç³»å†…çš„To Cäº§å“è¿›è¡Œå½’ç±»æ•´åˆï¼Œæ›¾ç»çš„é€šä¹‰å¬æ‚Ÿç›¸å…³èƒ½åŠ›å·²è¢«æ•´åˆåˆ°åƒé—®Appä¸­ï¼Œä»¥è¾¾åˆ°ç»Ÿä¸€åº”ç”¨å‡ºå£çš„ç›®çš„ã€‚</p>
<p>åƒé—®AppåŸºäºé˜¿é‡Œå…¨çƒæ€§èƒ½ç¬¬ä¸€çš„å¼€æºæ¨¡å‹Qwen3æ‰“é€ ï¼Œå®˜æ–¹ä»‹ç»ç§°å…¶ä¸ä»…èƒ½ä¸ç”¨æˆ·å¯¹è¯ï¼Œæ›´èƒ½ä¸ºç”¨æˆ·åŠäº‹ï¼Œè‡´åŠ›äºæ‰“é€ æœªæ¥çš„AIç”Ÿæ´»å…¥å£ã€‚</p>
<p>è¯¥åº”ç”¨è®¡åˆ’è¦†ç›–åŠå…¬ã€åœ°å›¾ã€å¥åº·ã€è´­ç‰©ç­‰å¤šä¸ªç”Ÿæ´»åœºæ™¯ï¼Œæœªæ¥è¿˜å°†å¢åŠ AIä»£ç†åŠŸèƒ½ï¼Œæ”¯æŒåœ¨æ·˜å®ã€å¤©çŒ«ç­‰å¹³å°ä¸Šç”¨è‡ªç„¶è¯­è¨€è´­ç‰©ã€‚</p>
<p><strong>ç«äº‰ç™½çƒ­åŒ–çš„AIåº”ç”¨å¸‚åœº</strong></p>
<p>åƒé—®AppåŠ å…¥ä¹‹é™…ï¼ŒAIåº”ç”¨å¸‚åœºå·²ç»å¼‚å¸¸æ‹¥æŒ¤ã€‚æ ¹æ®QuestMobileæ•°æ®ï¼Œæˆªè‡³2025å¹´3æœˆï¼Œå›½å†…AIåº”ç”¨å¸‚åœºå·²å½¢æˆç§»åŠ¨ç«¯åŸç”ŸAppã€ç§»åŠ¨ç«¯åº”ç”¨æ’ä»¶å’ŒPCç«¯ç½‘é¡µåº”ç”¨ä¸‰è¶³é¼ç«‹çš„æ ¼å±€ã€‚</p>
<p>åœ¨åŸç”ŸAppé¢†åŸŸï¼Œç«äº‰å°¤ä¸ºæ¿€çƒˆã€‚DeepSeekã€è±†åŒ…ç­‰åº”ç”¨çš„æœˆæ´»è·ƒç”¨æˆ·è§„æ¨¡å‡å·²è¿‡äº¿ï¼Œè€Œé˜¿é‡ŒåŸæœ‰çš„é€šä¹‰Appæœˆæ´»ä»…åœ¨100åˆ°500ä¸‡ä¹‹é—´ï¼Œä¸å¤´éƒ¨äº§å“å·®è·æ˜¾è‘—ã€‚</p>
<p>æ‰‹æœºå‚å•†å‡­å€Ÿé¢„è£…ä¼˜åŠ¿ï¼Œåœ¨AIç»¼åˆåŠ©æ‰‹èµ›é“å æ®ä¸»å¯¼åœ°ä½ï¼Œåä¸ºå°è‰ºã€OPPOå°å¸ƒåŠ©æ‰‹ç­‰æœˆæ´»å‡è¶…è¿‡1.5äº¿ã€‚äº’è”ç½‘ä¼ä¸šçš„åŸç”ŸAIåº”ç”¨åˆ™å‘ˆç°å‡ºæ€»ä½“ä¸Šå‡æ˜æ˜¾ä½†å‚å•†ä¸¤æåˆ†åŒ–çš„æ€åŠ¿ã€‚</p>
<p>é˜¿é‡Œæ­¤æ¬¡æ¨å‡ºåƒé—®Appï¼Œå°†æœ‰æ•ˆè¡¥é½Cç«¯å½±å“åŠ›ï¼Œç›´æ¥å¯¹æ ‡ChatGPTå’Œè±†åŒ…ã€‚ä½†é¢ä¸´çš„å¸‚åœºç¯å¢ƒå·²ä»Šéæ˜”æ¯”ï¼ŒAIç”¨æˆ·æ¸—é€å­˜åœ¨é˜¶æ®µæ€§ä¸Šé™ï¼Œä¸”ç”¨æˆ·é¢ä¸´ChatBotä¾›ç»™è¿‡å‰©ã€‚</p>
<p>åŸºäºæ­¤ï¼Œåƒé—®æœªæ¥çš„å¢é•¿æ¥æºï¼Œä¸ä¼šä¸»è¦æ˜¯ç­‰å¾…è½¬åŒ–çš„æ½œåœ¨ç¾¤ä½“ï¼Œè€Œæ˜¯å¯èƒ½éœ€è¦ä»åº”ç”¨å¸‚åœºç›´æ¥äº‰å¤ºç°æœ‰ç”¨æˆ·ã€‚</p>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿èƒ½å¦è½¬åŒ–ä¸ºäº§å“èƒœåŠ¿ï¼Ÿ</strong></p>
<p>ä½œä¸ºå¹¿å¤§å¼€å‘è€…å¿ƒä¸­çš„â€œæºç¥â€ï¼ŒQwenå¯ä»¥å‡­å€Ÿæ‰€ç§¯ç´¯çš„å£ç¢‘å æ®ä¸€å®šä¼˜åŠ¿ã€‚ç›®å‰ï¼ŒQwenç³»åˆ—å·²ç»æ˜¯å…¨çƒå¼€æºç¤¾åŒºä¸‹è½½é‡ç¬¬ä¸€ã€è¡ç”Ÿæ¨¡å‹æ•°é‡ç¬¬ä¸€çš„å¤´å·æ¨¡å‹ï¼Œæˆªè‡³2024å¹´9æœˆï¼ŒQwenç³»åˆ—æ¨¡å‹å…¨çƒä¸‹è½½é‡å·²çªç ´6äº¿æ¬¡ã€‚</p>
<p>ä½†åœ¨å¼€æºä¸Šçš„è®¤çŸ¥ä¼˜åŠ¿å¯èƒ½å¾ˆéš¾è½¬åŒ–ä¸ºCç«¯äº§å“çš„ç«äº‰ä¼˜åŠ¿ã€‚ä¸“ä¸šäººå£«åšæ¨¡å‹ç§æœ‰åŒ–éƒ¨ç½²æ—¶ä¼šæƒ³åˆ°Qwenï¼Œä½†ä½¿ç”¨è”ç½‘Cç«¯äº§å“æ—¶ï¼Œå¤§æ¦‚ç‡ä¹Ÿä¼šé€‰æ‹©ChatGPTæˆ–Claudeã€‚</p>
<p>å½“å‰AIäº§å“è·å¾—Cç«¯ç”¨æˆ·ï¼Œå·²ç»ä¸èƒ½å†ä¾é æŠ•æµå’Œè¿è¥ï¼Œæ›´å¤šè¦å€ŸåŠ©åº•å±‚æ¨¡å‹çš„èƒ½åŠ›æå‡ã€‚DeepSeekæ²¡èŠ±ä¸€åˆ†é’±å¹¿å‘Šè´¹ï¼Œåœ¨çŸ­çŸ­7å¤©å†…å°±å®Œæˆäº†1äº¿ç”¨æˆ·çš„å¢é•¿ï¼Œæ­£æ˜¯å› ä¸ºæ¨¡å‹èƒ½åŠ›æ–­å±‚é¢†å…ˆã€‚</p>
<p><strong>AIåº”ç”¨æœªæ¥ç«äº‰ç„¦ç‚¹</strong></p>
<p>éšç€åƒé—®Appçš„åŠ å…¥ï¼ŒAIåº”ç”¨å¸‚åœºçš„ç«äº‰æ ¼å±€æ›´åŠ æ¸…æ™°ã€‚æœªæ¥çš„ç«äº‰é‡ç‚¹å·²ç»ä»å•çº¯çš„å¯¹è¯èƒ½åŠ›ï¼Œè½¬å‘äº†å®é™…åŠäº‹èƒ½åŠ›ã€‚</p>
<p>é˜¿é‡Œè®¡åˆ’å°†åœ°å›¾ã€å¤–å–ã€è®¢ç¥¨ã€åŠå…¬ã€å­¦ä¹ ã€è´­ç‰©ã€å¥åº·ç­‰å„ç±»ç”Ÿæ´»åœºæ™¯æ¥å…¥åƒé—®APPï¼Œè®©å…¶å…·å¤‡æ›´å¼ºå¤§çš„åŠäº‹èƒ½åŠ›ã€‚è¿™ç§ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆçš„å®šä½ï¼Œä¸å…¶ä»–AIåº”ç”¨å½¢æˆäº†å·®å¼‚åŒ–ç«äº‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4670a899478a4ea6a957b214dd9cf89d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763982691&amp;x-signature=%2Bb%2FLnbvoiFHCssV%2FfGV4V5Ykgzo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åƒé—®Appçš„å›½é™…ç‰ˆä¹Ÿåœ¨åŒæ­¥ç ”å‘ä¸­ï¼Œå¸Œæœ›å€ŸåŠ©Qwenæ¨¡å‹åœ¨å¼€å‘è€…åœˆçš„å½±å“åŠ›ï¼Œä¸ChatGPTåœ¨æµ·å¤–å¸‚åœºç›´æ¥ç«äº‰ã€‚</p>
<p>éšç€é˜¿é‡Œå…¨é¢å…¥å±€ï¼ŒAIåº”ç”¨å¸‚åœºçš„ç«äº‰å°†æ›´åŠ æ¿€çƒˆï¼Œä¹Ÿæ›´åŠ æ¸…æ™°ã€‚è€Œæœªæ¥çš„æ ¼å±€ä¹Ÿå°†ç”±æ­¤é‡å¡‘ã€‚</p>
<p>è€Œæ— è®ºæ˜¯åƒé—®èƒŒåçš„Qwenæ¨¡å‹ï¼Œè¿˜æ˜¯æ­£åœ¨å´›èµ·çš„å…¶ä»–AIåº”ç”¨ï¼Œå®ƒä»¬çš„è®­ç»ƒã€æ¨ç†ä¸è¿­ä»£ï¼Œéƒ½ç¦»ä¸å¼€ç¨³å®šã€é«˜æ•ˆã€å¯æ‰©å±•çš„è®¡ç®—èƒ½åŠ›æ”¯æ’‘ã€‚</p>
<p>å¦‚æœæ‚¨æ­£åœ¨è¿›è¡ŒAIé¢†åŸŸçš„åˆ›ä¸šæˆ–ç ”ç©¶ï¼Œå´å—å›°äºé«˜æ˜‚çš„ç®—åŠ›æˆæœ¬æˆ–é«˜å¹¶å‘ä¸‹çš„æ¨ç†ç¨³å®šæ€§ç­‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€æˆ–ç§ä¿¡æˆ‘ä»¬ï¼Œæ‰¾åˆ°æ‚¨çš„é™æœ¬å¢æ•ˆçªç ´å£~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™æ˜¯ä¸€ç¯‡å†™ç»™AIå¤§æ¨¡å‹å…¥é—¨çš„æ–°æ‰‹å°ç™½æ‰‹å†Œï¼ˆé™„æ–‡æ¡£ï¼‰]]></title>    <link>https://juejin.cn/post/7573525634212151339</link>    <guid>https://juejin.cn/post/7573525634212151339</guid>    <pubDate>2025-11-17T11:38:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573525634212151339" data-draft-id="7573511426867560467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™æ˜¯ä¸€ç¯‡å†™ç»™AIå¤§æ¨¡å‹å…¥é—¨çš„æ–°æ‰‹å°ç™½æ‰‹å†Œï¼ˆé™„æ–‡æ¡£ï¼‰"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-17T11:38:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™æ˜¯ä¸€ç¯‡å†™ç»™AIå¤§æ¨¡å‹å…¥é—¨çš„æ–°æ‰‹å°ç™½æ‰‹å†Œï¼ˆé™„æ–‡æ¡£ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:38:44.000Z" title="Mon Nov 17 2025 11:38:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å­¦AIå¤§æ¨¡å‹ä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä¹‹å‰å­¦å¤§æ¨¡å‹ä¸€ç›´éƒ½æ˜¯ä¸œä¸€æ¦”å¤´ï¼Œè¥¿ä¸€æ£’æ§Œï¼Œè¿™å­¦ä¸€ç‚¹é‚£å­¦ä¸€ç‚¹ï¼Œç½‘ä¸Šå¾ˆå¤šåä¹‰ä¸Šè¯´æ˜¯ç³»ç»ŸåŒ–å¤§æ¨¡å‹æ•™ç¨‹çš„ï¼Œåˆ°åé¢ä¹Ÿæ˜¯é›¶é›¶æ•£æ•£ï¼Œæ‹¼æ‹¼å‡‘å‡‘çš„æ•™ç¨‹ï¼Œæˆ‘èŠ±äº†å‡ ä¸ªæœˆçš„æ—¶é—´æ‰æ„å»ºèµ·å¯¹å¤§æ¨¡å‹çš„æ•´ä½“è®¤çŸ¥ï¼Œä½†ä¸å¤Ÿç»†è‡´......</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†è®©å¤§å®¶é¿å…æˆ‘ä¹‹å‰è¸©è¿‡çš„å‘ï¼Œä»Šå¤©ç‰¹åœ°æ¢³ç†äº†ä¸€ä¸‹å¤§è‡´çš„å­¦ä¹ æ¡†æ¶ï¼Œè®©å¤§å®¶æœ‰ç›®çš„æœ‰æ–¹å‘çš„å­¦ä¹ ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šçš„æ—¶é—´ã€‚</p>
<p>é¦–å…ˆï¼Œå¤§å®¶åº”è¯¥æ˜ç™½ä¸€ä»¶äº‹ï¼Œ<strong>å¤§æ¨¡å‹æŠ€æœ¯æ˜¯äººå·¥æ™ºèƒ½æŠ€æœ¯çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ˜¯ç›®å‰ä¸»æµçš„ä¸€ä¸ªç ”ç©¶æ–¹å‘ï¼Œä½†å¹¶ä¸æ˜¯å”¯ä¸€çš„æ–¹å‘</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/478e1f619e524f1a8a639ae929d5eab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=1MK2ELQV%2BdIb%2Ff7%2F9GT6cdHn4P8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»¥ä¸Šéƒ½æ˜¯å¯ä»¥æ·±å…¥å­¦ä¹ çš„æ–¹å‘ã€‚</p>
<p>ä¸‹é¢æ¥ç»™å¤§å®¶è®²è®²AIå¤§æ¨¡å‹å…¥é—¨æ‰‹å†Œçš„å…·ä½“å†…å®¹ï¼Œä¸»è¦åˆ†ä¸ºå…­ä¸ªéƒ¨åˆ†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f627171045a439db51103a906a91d93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=OENVDoaHJc16BmcXbONAg%2FK42nc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€ç« ï¼šæ·±åº¦å­¦ä¹ åŸºç¡€çŸ¥è¯† (éš¾åº¦â­â­)</strong></p>
<p>Transformerä½œä¸ºå½“å‰å¤§æ¨¡å‹çš„æ ¸å¿ƒåŸºç¡€æ¡†æ¶ï¼Œä¸»æµå¤§æ¨¡å‹å‡å›´ç»•Transformeræ¶æ„è¿›è¡Œè¡ç”Ÿæ”¹è¿›ã€‚æ­¤å¤–ï¼Œè¿˜éœ€æŒæ¡ç¥ç»ç½‘ç»œçš„åŸºç¡€çŸ¥è¯†ï¼Œä¾‹å¦‚Batch Normalizationï¼ˆBNï¼‰ä¸Layer Normalizationï¼ˆLNï¼‰çš„å·®å¼‚ã€ä¸åŒä¼˜åŒ–å™¨çš„æ€§èƒ½å¯¹æ¯”ç­‰ã€‚ç›¸è¾ƒäºåˆçº§çš„æ·±åº¦å­¦ä¹ å…¥é—¨å†…å®¹ï¼Œè¿™éƒ¨åˆ†çŸ¥è¯†çš„å¤æ‚åº¦æœ‰æ‰€æå‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ca2b05bcf6b4836a7dbad558042c479~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=gGrDsZHUXTLDatgrhxUx6nVy%2BZw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬äºŒç« ï¼šè‡ªç„¶è¯­è¨€å¤„ç†åŸºç¡€çŸ¥è¯† ï¼ˆéš¾åº¦â­â­â­ï¼‰</strong></p>
<p>æŒæ¡NLPçš„åŸºç¡€çŸ¥è¯†æ˜¯å­¦ä¹ LLMçš„å‰ææ¡ä»¶ï¼Œä¾‹å¦‚éœ€è¦ç†Ÿæ‚‰åˆ†è¯å™¨ï¼ˆTokenizerï¼‰çš„å·¥ä½œåŸç†ã€‚æ­¤å¤–ï¼Œå½“å‰ä¸»æµçš„NLPæ¨¡å‹å¦‚Bertï¼ˆBidirectional Encoder Representations from Transformersï¼‰å…·æœ‰é‡Œç¨‹ç¢‘æ„ä¹‰â€”â€”è¯¥æ¨¡å‹çš„é—®ä¸–éªŒè¯äº†å¤§æ¨¡å‹é€šè¿‡â€Œé¢„è®­ç»ƒï¼ˆPre-trainingï¼‰â€Œä¸â€Œå¾®è°ƒï¼ˆFine-tuningï¼‰â€Œç›¸ç»“åˆçš„èŒƒå¼å¯è¡Œæ€§ã€‚æœ€åï¼Œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­ï¼Œâ€Œå›°æƒ‘åº¦ï¼ˆPerplexityï¼‰â€Œä½œä¸ºæ ¸å¿ƒè¯„ä¼°æŒ‡æ ‡ï¼Œå…¶é‡è¦æ€§ä¸å¯å¿½è§†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f7b9a59258d4a48a70df30aba7a5240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=tjI5E%2F0cE8SoMysEkiejcwz3U9g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬ä¸‰ç« ï¼šå¤§è¯­è¨€æ¨¡å‹åŸºç¡€çŸ¥è¯† ï¼ˆéš¾åº¦â­â­â­â­ï¼‰</strong></p>
<p>è¿™éƒ¨åˆ†çš„å†…å®¹åŒ…æ‹¬å¤§æ¨¡å‹è®­ç»ƒæ¡†æ¶ï¼Œæ¯”å¦‚Megatron-LM, DeepSpeed, é«˜æ•ˆå‚æ•°å¾®è°ƒçš„æ–¹æ³•ï¼Œå½“å‰ä¸»æµçš„å¼€æºå¤§æ¨¡å‹ï¼ŒRLHFæµç¨‹çš„ä»‹ç»ï¼ŒCOTå’ŒTOTçš„ä»‹ç»ï¼Œç›‘ç£å¾®è°ƒçš„è®­ç»ƒï¼Œæœ€åæ˜¯æ··åˆä¸“å®¶æ¨¡å‹MOEã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32949a88dc034c98b682c5593a2b20ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=D6t%2F%2FaZqcrkpvSxgrAHssIlio5g%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬å››ç« ï¼šå¤§è¯­è¨€æ¨¡å‹æ¨ç† ï¼ˆéš¾åº¦â­â­â­ï¼‰</strong></p>
<p>åœ¨å®Œæˆæ¨¡å‹è®­ç»ƒåï¼Œå¤§æ¨¡å‹çš„è¾“å‡ºç»“æœå³æ„æˆæ¨ç†æµç¨‹ã€‚æœ¬èŠ‚å°†é‡ç‚¹è¯´æ˜HuggingFaceçš„æ¨ç†å‚æ•°é…ç½®ã€æ¨ç†è¿‡ç¨‹ä¸­KVCacheæœºåˆ¶çš„ä½œç”¨ï¼Œä»¥åŠLLMæ¨ç†æ‰€éœ€ä»˜å‡ºçš„æˆæœ¬ä»£ä»·ã€‚â€Œå®é™…åº”ç”¨ä¸­çš„æ ¸å¿ƒè€ƒé‡å› ç´ â€Œå§‹ç»ˆåœ¨äºæ¨ç†é€Ÿåº¦ä¸èµ„æºæ¶ˆè€—çš„å¹³è¡¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc11a58b83124b6d9a9f42e9f651ef55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=47O7QfYIqlSt2UzsGqnGWs7Ujm0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬äº”ç« ï¼šå¤§è¯­è¨€æ¨¡å‹åº”ç”¨ï¼ˆéš¾åº¦</strong>* <em>â­â­â­ï¼‰</em>*</p>
<p>ä¸åŒå¤§æ¨¡å‹çš„æ•°æ®æ ¼å¼ï¼ŒAPIæ¥å£ç­‰éƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡Langchainæ¥ç»Ÿä¸€ç®¡ç†è¿™äº›ï¼Œæ”¯æŒå¤§æ¨¡å‹çš„ç»Ÿä¸€åŒ–è°ƒç”¨ï¼Œæ”¯æŒä¾¿æ·çš„promptæ¨¡ç‰ˆè®¾ç½®ï¼Œè¿˜æœ‰æ™ºèƒ½ä½“çš„é«˜é˜¶åº”ç”¨ï¼Œå»ºè®®ç»“åˆç›¸å…³è§†é¢‘æ•™ç¨‹æ¥å­¦ä¹ langchain</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d047f732e7064ea6ac0c75023c3b2aee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=nN9BFbOaxCnfpEbOamI1YRxpoO8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬å…­ç« ï¼šå¤§è¯­è¨€æ¨¡å‹å‰æ²¿ï¼ˆéš¾åº¦â­â­â­ï¼‰</strong></p>
<p>æœ¬éƒ¨åˆ†èšç„¦äºLLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰ç›¸å…³åšå®¢çš„æ¨èã€‚ç”±äºå¤§æ¨¡å‹æŠ€æœ¯è¿­ä»£è¿…é€Ÿï¼Œå»ºè®®é€šè¿‡é˜…è¯»ä¸“ä¸šåšå®¢ä¸»åŠ¨è·Ÿè¿›å­¦ä¹ ï¼ŒåŒæ—¶å…³æ³¨é¡¶ä¼šï¼ˆå¦‚NeurIPSã€ACLç­‰ï¼‰çš„å‰æ²¿è®ºæ–‡ã€‚å½“å‰å¯å‚è€ƒçš„èµ„æ–™è¾ƒä¸ºæœ‰é™ï¼Œåç»­å¯é€æ­¥è¡¥å……å®Œå–„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de23349cda03401dbfc6f6121183b408~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984323&amp;x-signature=akc%2FZU84IGY1KJXs%2BjWB9u8Boew%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äºNo Chatbotçš„æ€è€ƒ]]></title>    <link>https://juejin.cn/post/7573524348129181759</link>    <guid>https://juejin.cn/post/7573524348129181759</guid>    <pubDate>2025-11-17T11:27:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573524348129181759" data-draft-id="7573511426867445779" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äºNo Chatbotçš„æ€è€ƒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-17T11:27:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HeteroCat"/> <meta itemprop="url" content="https://juejin.cn/user/2221479480010573"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äºNo Chatbotçš„æ€è€ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2221479480010573/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HeteroCat
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:27:22.000Z" title="Mon Nov 17 2025 11:27:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/729f82fe449a45eb882d3b25a42e3e81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGV0ZXJvQ2F0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983642&amp;x-signature=XrD3WiWEClNAA9hGb7N6DhS4x2E%3D" alt="AIæ¦‚å¿µå›¾æ ‡" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>è¿‘æœŸåœ¨å¤§æ¨¡å‹åœˆå­é‡Œï¼Œâ€œNo Chatbotâ€è¿™ä¸€æ¦‚å¿µæ½‡æ½‡æµ®å‡ºæ±Ÿé¢ï¼Œå®ƒæ„æŒ‡ä¸å†å°†æ™ºèƒ½ä½“å±€é™äºä¼ ç»Ÿçš„å¯¹è¯å¼é—®ç­”ç³»ç»Ÿï¼Œè€Œæ˜¯å‘å±•ä¸ºå…·å¤‡ä¸»åŠ¨è§„åˆ’ã€è°ƒç”¨å·¥å…·å’Œåä½œèƒ½åŠ›çš„æ™ºèƒ½åŠ©ç†ã€‚ä½œä¸ºä¸€åé•¿æœŸç ”ç©¶æç¤ºè¯å·¥ç¨‹å’Œæ™ºèƒ½ä½“åº”ç”¨çš„åˆ›ä½œè€…ï¼Œæˆ‘æƒ³ç»“åˆæœ€è¿‘çš„æ€è€ƒï¼Œä¸å¤§å®¶æ¢è®¨è¿™ä¸€è¶‹åŠ¿çš„å†…æ¶µä¸æ„ä¹‰ã€‚</p>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯â€œNo Chatbotâ€</h3>
<p>â€œNo Chatbotâ€å¹¶ä¸æ˜¯ä¸è¦èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯æŒ‡ä¸‹ä¸€ä»£æ™ºèƒ½ä½“éœ€è¦çªç ´å•çº¯èŠå¤©äº¤äº’çš„æ¡†æ¶ï¼Œå…·å¤‡æ›´å¼ºçš„è‡ªä¸»æ€§å’Œæ‰§è¡ŒåŠ›ã€‚å®ƒä¸»è¦åŒ…å«ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><strong>ä»»åŠ¡å¯¼å‘</strong>ï¼šå…³æ³¨å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œè€Œä¸æ˜¯åªå›ç­”é—®é¢˜ã€‚ç³»ç»Ÿä¼šæ ¹æ®ç›®æ ‡è‡ªåŠ¨è§„åˆ’æ­¥éª¤ã€è°ƒç”¨èƒ½åŠ›å¹¶åé¦ˆè¿›åº¦ã€‚</li>
<li><strong>å¤šæ¨¡æ€äº¤äº’</strong>ï¼šä¸ä»…æ”¯æŒæ–‡æœ¬å¯¹è¯ï¼Œè¿˜èƒ½å¤„ç†å›¾ç‰‡ã€è¯­éŸ³ã€è¡¨æ ¼ç­‰å¤šç§åª’ä»‹ï¼Œæå‡ä¿¡æ¯è·å–å’Œè¡¨è¾¾çš„ä¸°å¯Œæ€§ã€‚</li>
<li><strong>å·¥å…·è°ƒåº¦</strong>ï¼šå¯ä»¥è°ƒç”¨ä»£ç æ‰§è¡Œå™¨ã€æœç´¢å¼•æ“ã€çŸ¥è¯†åº“ã€ç¬¬ä¸‰æ–¹æ¥å£ç­‰å·¥å…·ï¼Œæ ¹æ®éœ€è¦ç»„åˆä½¿ç”¨å®Œæˆä»»åŠ¡ã€‚</li>
<li><strong>é•¿æœŸè®°å¿†ä¸åæ€</strong>ï¼šå…·å¤‡æŒä¹…è®°å¿†ï¼Œèƒ½å¤Ÿæ€»ç»“ç»éªŒå¹¶è‡ªæˆ‘ç½®é”™ï¼Œåœ¨å¤šè½®ä»»åŠ¡ä¸­ä¸æ–­ä¼˜åŒ–ç­–ç•¥ã€‚</li>
</ul>
<h3 data-id="heading-2">Agentå‘å±•çš„æ–°è¶‹åŠ¿</h3>
<p>å›´ç»•â€œNo Chatbotâ€ï¼Œæ™ºèƒ½ä½“æŠ€æœ¯æ­£åœ¨å‡ºç°ä¸€äº›æ–°è¶‹åŠ¿ï¼š</p>
<ol>
<li><strong>ä»å¯¹è¯åˆ°æ‰§è¡Œ</strong>ï¼šæ—©æœŸæ™ºèƒ½ä½“ä¸»è¦åœ¨èŠå¤©æ¡†æ¶ä¸‹å›ç­”é—®é¢˜ï¼Œä»Šå¤©çš„Agentåˆ™æ›´åŠ æ³¨é‡æ‰§è¡Œï¼Œä¾‹å¦‚è‡ªåŠ¨åŒ–æ’°å†™æŠ¥å‘Šã€æ‰¹é‡å¤„ç†æ•°æ®ã€è°ƒç”¨å¤–éƒ¨APIå®Œæˆäº‹åŠ¡ã€‚</li>
<li><strong>Prompt å·¥ç¨‹è¿›é˜¶</strong>ï¼šæç¤ºè¯è®¾è®¡ä»ç®€å•æŒ‡ä»¤å‘å±•åˆ°åŒ…å«è§’è‰²è®¾å®šã€ä¸Šä¸‹æ–‡è§„åˆ’ã€åˆ†æ­¥æµç¨‹åŠç¤ºä¾‹æ¼”ç¤ºç­‰å¤šå…ƒç´ ç»„åˆã€‚è‰¯å¥½çš„æç¤ºè¯æ˜¯æ™ºèƒ½ä½“å¯é æ‰§è¡Œçš„å…³é”®ã€‚</li>
<li><strong>è‡ªæˆ‘åçœä¸è°ƒåº¦</strong>ï¼šè¶Šæ¥è¶Šå¤šæ¡†æ¶åŠ å…¥äº† selfâ€‘reflection å’ŒéªŒè¯æ¨¡å—ï¼Œè®©Agentåœ¨è¡ŒåŠ¨ä¸­ä¸æ–­æ£€æŸ¥è¾“å‡ºæ˜¯å¦åˆç†ã€‚</li>
<li><strong>ç”Ÿæ€èåˆ</strong>ï¼šAgentä¸å†å› éš”è¿è¡Œï¼Œè€Œæ˜¯åµŒå…¥åº”ç”¨åœºæ™¯ï¼Œå¦‚ç”µå•†è¿è¥ã€æ•°æ®åˆ†æã€å¼€å‘è¾…åŠ©ã€‚é€šè¿‡ç»“åˆç°æœ‰ç³»ç»Ÿï¼Œæ™ºèƒ½ä½“çš„ä»·å€¼æ‰èƒ½çœŸæ­£é‡Šæ”¾ã€‚</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9f8bc1731ba4359be9b56f345613d90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGV0ZXJvQ2F0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983642&amp;x-signature=5on2BS9qzG7rgTMCYx4rKvo0AAM%3D" alt="\u591a\u6a21\u6001\u4ea4\u4e92\u56fe\u6807" loading="lazy"/></p>
<h3 data-id="heading-3">å®è·µä¸æ¡ˆä¾‹</h3>
<p>è¿‘å¹´æ¥æµå‡ºå‡ å¤šæ¢ç´¢â€œNo Chatbotâ€çš„é¡¹ç›®ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>AutoGPT / BabyAGI ç³»åˆ—</strong>ï¼šé€šè¿‡è®¾å®šç›®æ ‡ï¼Œæ™ºèƒ½ä½“è‡ªåŠ¨è§„åˆ’å¹¶è°ƒç”¨å·¥å…·é“¾å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œä¾‹å¦‚çˆ¬å–ä¿¡æ¯ã€ç”ŸæˆæŠ¥å‘Šç­‰ã€‚</li>
<li><strong>ä¼ä¸šå†…éƒ¨ Agent å¹³å°</strong>ï¼šå„å…¬å¸å¼€å§‹æ­å»ºæ™ºèƒ½ä½“å¹³å°ï¼Œè®©å‘˜å·¥é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤è°ƒåº¦å†…éƒ¨ç³»ç»Ÿï¼Œæå‡æ•ˆç‡ã€‚</li>
<li><strong>ä¸ªäººåˆ›æ–°é¡¹ç›®</strong>ï¼šæˆ‘åœ¨ä¹‹å‰çš„ã€Šæ‰­å­AIåº”ç”¨ï¼šAIé²œèŠ±ç”»å¸ƒã€‹ä¸­æ„å»ºäº†ä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘æ™ºèƒ½ä½“ï¼Œå®ƒç»“åˆå¤šæ¨¡å‹ç”Ÿæˆæµ·æŠ¥å’Œä¼˜åŒ–å•†å“å›¾ï¼Œä½“ç°äº†å¤šå·¥å…·åä½œçš„æ€è·¯ã€‚</li>
</ul>
<p>è¿™äº›æ¢ç´¢è¡¨æ˜ï¼Œæœªæ¥çš„æ™ºèƒ½ä½“å°†ä¸å±€é™äºèŠå¤©ï¼Œè€Œæ˜¯æœç€ä¸“ä¸šåŠ©æ‰‹ç”šè‡³è‡ªåŠ¨åŒ–åä½œè€…èµ°å‘ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c370f1f452641b8b2b83ec85cbaa586~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGV0ZXJvQ2F0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763983642&amp;x-signature=klFY0EYc5h5DWfXV9LNOITBUHmw%3D" alt="\u8bb0\u5fc6\u53cd\u601d\u56fe\u6807" loading="lazy"/></p>
<h3 data-id="heading-4">æ€»ç»“ä¸å±•æœ›</h3>
<p>â€œNo Chatbotâ€ä¸æ˜¯å£å·ï¼Œè€Œæ˜¯æ™ºèƒ½ä½“å‘å±•æ–¹å‘çš„æé†’ï¼šçœŸæ­£æœ‰ç”¨çš„ AI åº”è¯¥èƒ½ç†è§£ç”¨æˆ·ç›®æ ‡ã€ä¸»åŠ¨ç­–åˆ’ã€å¤šæ¨¡æ€æ²Ÿé€šã€è°ƒç”¨å·¥å…·å®Œæˆä»»åŠ¡ï¼Œå¹¶åœ¨è¿‡ç¨‹ä¸­è‡ªæˆ‘æ”¹è¿›ã€‚å¯¹äºåˆ›ä½œè€…æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­å­¦ä¹ æ–°çš„æç¤ºè¯æŠ€å·§ã€å€Ÿé‰´å…ˆè¿›æ¡†æ¶ï¼ŒåŒæ—¶ç»“åˆè‡ªèº«åœºæ™¯è®¾è®¡åº”ç”¨ã€‚æœªæ¥æˆ‘ç›¸ä¿¡ï¼Œæ™ºèƒ½ä½“å°†åœ¨æ•™è‚²ã€ç§‘ç ”ã€å•†ä¸šç­‰è¾¾å¤šé¢†åŸŸå‘æŒ¥æ›´å¤§ä½œç”¨ï¼Œæˆä¸ºäººç±»å·¥ä½œä¸ç”Ÿæ´»çš„æœ‰åŠ›ä¼´ä¾£ã€‚è®©æˆ‘ä»¬æºæ‰‹æ‹¥æŠ±â€œNo Chatbotâ€æ—¶ä»£çš„åˆ°æ¥ã€‚</p>
<p>æ³¨æœ¬æ–‡ç”±openai atlasç”Ÿæˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ©ç”¨CMDBæ•°æ®å®ç°æŒ‡æ ‡ä¸šåŠ¡ç»´åº¦çš„åŠ¨æ€æ‰©å±•]]></title>    <link>https://juejin.cn/post/7573504290066137103</link>    <guid>https://juejin.cn/post/7573504290066137103</guid>    <pubDate>2025-11-17T11:48:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573504290066137103" data-draft-id="7573508361740943360" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ©ç”¨CMDBæ•°æ®å®ç°æŒ‡æ ‡ä¸šåŠ¡ç»´åº¦çš„åŠ¨æ€æ‰©å±•"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2025-11-17T11:48:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2392958212523102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ©ç”¨CMDBæ•°æ®å®ç°æŒ‡æ ‡ä¸šåŠ¡ç»´åº¦çš„åŠ¨æ€æ‰©å±•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392958212523102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T11:48:40.000Z" title="Mon Nov 17 2025 11:48:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>å¾ˆå¤šå®¢æˆ·å·²ç»å»ºæœ‰ Prometheus/Zabbix ç­‰é‡‡é›†æ–¹å¼ï¼Œé€šå¸¸ä¸ä¼šè´¸ç„¶æ›¿æ¢ DataKit è¿›è¡Œç›´é‡‡ï¼Œå¾€å¾€æ˜¯é€šè¿‡ DataKit å»è·å–å…¶å®ƒå·¥å…·é‡‡é›†çš„ç»“æœã€‚å¦‚ Prometheus remote writeï¼ŒZabbix export ç­‰ã€‚</p>
<p>ä¸ºäº†å¢åŠ ä¸åŒæ•°æ®ç±»å‹çš„å…³è”æ€§ï¼Œéœ€è¦å¯¹å·²æœ‰çš„æŒ‡æ ‡æ•°æ®æ·»åŠ æ›´å¤šä¸šåŠ¡ TAGï¼Œå¦‚åº”ç”¨åï¼Œæ‰€å±é¡¹ç›®ï¼Œéƒ¨é—¨ç­‰ã€‚ä¸ºå®ç°æ­¤ç±»éœ€æ±‚ï¼Œéœ€è¦èƒ½å¤Ÿè·å¾—åŸå§‹çš„ç›¸å…³é…ç½®ä¿¡æ¯ï¼Œå¦‚ CMDB æ•°æ®ç­‰ã€‚ç„¶åé€šè¿‡è§‚æµ‹äº‘ Pipeline ä¸­çš„ refere_table() æ–¹æ³•å®ç°å…³è”æ•°æ®å¹¶æ·»åŠ  TAGã€‚</p>
<p>æœ¬æ–‡æ¡£åŸºäºå®¢æˆ·æ–¹å®é™…æ¡ˆä¾‹ï¼Œä»‹ç»å¦‚ä½•ä½¿ç”¨ reference tableï¼Œä»¥åŠåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„æ³¨æ„äº‹é¡¹ã€‚</p>
<p>æ›´å¤šå…³äº refer_table ç”¨æ³•å‚è€ƒå®˜ç½‘æ–‡æ¡£Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.guance.com%2Fpipeline%2Fuse-pipeline%2Fpipeline-refer-table%2F" target="_blank" title="https://docs.guance.com/pipeline/use-pipeline/pipeline-refer-table/" ref="nofollow noopener noreferrer">Reference Table</a>Â ã€‚</p>
<h2 data-id="heading-1">è§‚æµ‹äº‘</h2>
<p>è§‚æµ‹äº‘æ˜¯ä¸€æ¬¾ä¸“ä¸º IT å·¥ç¨‹å¸ˆæ‰“é€ çš„å…¨é“¾è·¯å¯è§‚æµ‹äº§å“ï¼Œå®ƒé›†æˆäº†åŸºç¡€è®¾æ–½ç›‘æ§ã€åº”ç”¨ç¨‹åºæ€§èƒ½ç›‘æ§å’Œæ—¥å¿—ç®¡ç†ï¼Œä¸ºæ•´ä¸ªæŠ€æœ¯æ ˆæä¾›å®æ—¶å¯è§‚å¯Ÿæ€§ã€‚è¿™æ¬¾äº§å“èƒ½å¤Ÿå¸®åŠ©å·¥ç¨‹å¸ˆå…¨é¢äº†è§£ç«¯åˆ°ç«¯çš„ç”¨æˆ·ä½“éªŒè¿½è¸ªï¼Œäº†è§£åº”ç”¨å†…å‡½æ•°çš„æ¯ä¸€æ¬¡è°ƒç”¨ï¼Œä»¥åŠå…¨é¢ç›‘æ§äº‘æ—¶ä»£çš„åŸºç¡€è®¾æ–½ã€‚æ­¤å¤–ï¼Œè§‚æµ‹äº‘è¿˜å…·å¤‡å¿«é€Ÿå‘ç°ç³»ç»Ÿå®‰å…¨é£é™©çš„èƒ½åŠ›ï¼Œä¸ºæ•°å­—åŒ–æ—¶ä»£æä¾›å®‰å…¨ä¿éšœã€‚</p>
<h2 data-id="heading-2">å®ç°åŸç†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6aa690c84e2f4998bde9c4428eb9e608~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=kQIAOJen%2B3LRyqgOI9cC%2B7R1DIo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å®è·µæ­¥éª¤</h2>
<h3 data-id="heading-4">1. æ–°å»º Func è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªç”¨äºpipelineè·å–jsonæ•°æ®ï¼ˆget_reference_table),ä¸€ä¸ªç”¨äºè·å–jsonæ•°æ®å¹¶æ”¾å…¥redisä¸­ã€‚è¿™æ ·å¯ä»¥å‡å°‘å¯¹åŸä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“çš„è®¿é—®å‹åŠ›ã€‚</span>
<span class="hljs-meta">@DFF.API(<span class="hljs-params"><span class="hljs-string">'è·å–reference table'</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_reference_table</span>():
    <span class="hljs-comment"># ä»redisä¸­è·å–å·²ç¼“å­˜çš„æ•°æ®</span>
    earth = json.loads(DFF.CACHE.get(<span class="hljs-string">'refer_tab_earth'</span>))
    <span class="hljs-keyword">return</span> [earth]

<span class="hljs-comment"># æ­¤å¤„çš„earthå¹³å°æ˜¯å®¢æˆ·æ–¹é›†ç¾¤ç®¡ç†ç³»ç»Ÿã€‚</span>
<span class="hljs-comment"># æ­¤æ¡ˆä¾‹ä¸­éœ€æ ¹æ®Prometheusä¸­çš„å­—æ®µå…³è”projectï¼Œappä¿¡æ¯ã€‚</span>
<span class="hljs-comment"># åˆ†é¡µè·å–åŸå§‹æ•°æ®ï¼Œç»„è£…reference tableè¦æ±‚çš„æ•°æ®ç»“æ„ï¼Œå¹¶å°†ç»“æœæ”¾å…¥redis</span>
<span class="hljs-meta">@DFF.API(<span class="hljs-params"><span class="hljs-string">'ç¼“å­˜earthæ˜ å°„è¡¨'</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_earth_table</span>():
    db = DFF.CONN(<span class="hljs-string">'mysql_earth'</span>)
    <span class="hljs-comment"># get project data</span>
    project_dict = {o[<span class="hljs-string">'id'</span>]: o <span class="hljs-keyword">for</span> o <span class="hljs-keyword">in</span> db.query(<span class="hljs-string">'select id,name,cmdb_app_id,cmdb_app from project'</span>)}
    service_count = db.query(<span class="hljs-string">'select count(1) count from service'</span>)[<span class="hljs-number">0</span>][<span class="hljs-string">'count'</span>]
    offset = <span class="hljs-number">0</span>
    rows =[]
    <span class="hljs-keyword">while</span> offset &lt; service_count:
        rslt = db.query(<span class="hljs-string">f'select a.id service_id, a.name service_name, b.project_id from service a left join application b on a.application_id = b.id limit <span class="hljs-subst">{offset}</span>,1000'</span>)
        <span class="hljs-keyword">for</span> o <span class="hljs-keyword">in</span> rslt:
            p = project_dict[o[<span class="hljs-string">'project_id'</span>]]
            cmdb_app = json.loads(p[<span class="hljs-string">'cmdb_app'</span>])[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">if</span> p[<span class="hljs-string">'cmdb_app'</span>] <span class="hljs-keyword">else</span> <span class="hljs-string">''</span>
            row = [<span class="hljs-string">f"service-<span class="hljs-subst">{o[<span class="hljs-string">'service_id'</span>]}</span>"</span>, <span class="hljs-string">f"project-<span class="hljs-subst">{p[<span class="hljs-string">'id'</span>]}</span>"</span>, o[<span class="hljs-string">'service_name'</span>], p[<span class="hljs-string">'name'</span>], p[<span class="hljs-string">'cmdb_app_id'</span>], cmdb_app]
            rows.append(row)
        offset += <span class="hljs-built_in">len</span>(rslt)
    data = {
        <span class="hljs-string">'table_name'</span>: <span class="hljs-string">'earth'</span>,
        <span class="hljs-string">'column_name'</span>: [<span class="hljs-string">'earth_service'</span>, <span class="hljs-string">'earth_project'</span>, <span class="hljs-string">'service_name'</span>, <span class="hljs-string">'project_name'</span>, <span class="hljs-string">'appId'</span>, <span class="hljs-string">'appName'</span>],
        <span class="hljs-string">'column_type'</span>: [<span class="hljs-string">'string'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'string'</span>, <span class="hljs-string">'string'</span>],
        <span class="hljs-string">'row_data'</span>: rows
    }
    DFF.CACHE.<span class="hljs-built_in">set</span>(<span class="hljs-string">'refer_tab_earth'</span>, json.dumps(data))
</code></pre>
<h3 data-id="heading-5">2. åˆ›å»º Func åŒæ­¥é“¾æ¥</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/180dff69290c4092a47d3769db50b3d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=3ti8OsEosjaxjgKv7%2BlF21Q7TNs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">3. é…ç½® Pipeline è·å– Reference Table åœ°å€</h3>
<p>ç¼–è¾‘ DataKit çš„ä¸»é…ç½®æ–‡ä»¶Â <code>datakit.conf</code>ï¼Œé…ç½® Pipeline ä¸‹çš„Â <code>refer_table_url</code>Â ä¸ºä¸Šä¸€æ­¥åˆ›å»ºçš„åŒæ­¥ API é“¾æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1278c7a49ccd4d7b94f6bc0e5927f290~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=yJwoLifnfMO8umMOW4dNJpylJic%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">4. åˆ›å»º Pipeline</h3>
<p>é€šè¿‡è§‚æµ‹äº‘ç®¡ç†èœå•ä¸‹é¢çš„ Pipeline èœå•è¿›å…¥ Pipeline èœå•ç®¡ç†é¡µé¢ï¼ˆå› ä¸ºæ˜¯éœ€è¦å¯¹æŒ‡æ ‡æ•°æ®è¿›è¡Œ Pipeline å¤„ç†ï¼Œåªèƒ½é€šè¿‡è¯¥èœå•è¿›å…¥æ‰èƒ½åˆ›å»ºå¤„ç†æŒ‡æ ‡çš„ Pipelineï¼‰ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ Pipelineã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/943ecbabdf1c41cb99faee28bfd0ab96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=QqDVPExZoTBk27Vo6tMZ%2F1JhGWc%3D" alt="" loading="lazy"/></p>
<p>é…ç½® Pipeline åç§°ä»¥åŠåˆé€‚çš„è¿‡æ»¤æ¡ä»¶ï¼ˆç”±äºæœ¬æ¡ˆä¾‹æ˜¯ç”¨å•ç‹¬çš„ DataKit é‡‡é›† prom æŒ‡æ ‡ï¼Œæ•…æ— è¿‡æ»¤æ¡ä»¶ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1af928a884ef4a53ad2ebc885569805d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=mBS8U0oieIUOXzCRybnAYUwJAAw%3D" alt="" loading="lazy"/></p>
<p>ç¼–è¾‘ Pipeline è„šæœ¬å¹¶ä¿å­˜ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">grok</span>(pod,"service-%{INT:serviceId}")
controller_name = 'service-' + serviceId
<span class="hljs-built_in">set_tag</span>('service_id',  serviceId)
<span class="hljs-built_in">set_tag</span>('controller_name', controller_name)
# ä»reference <span class="hljs-selector-tag">table</span>ä¸­è·å–earth_service ä¸ºcontroller_nameçš„æ•°æ®
<span class="hljs-built_in">query_refer_table</span>('earth','earth_service', controller_name)
<span class="hljs-built_in">drop_key</span>('serviceId')
if project_name != nil {
    <span class="hljs-built_in">set_tag</span>('project_name', project_name)
    <span class="hljs-built_in">set_tag</span>('container_name', service_name)
    <span class="hljs-built_in">set_tag</span>('app_id', appId)
    <span class="hljs-built_in">set_tag</span>('app_name', appName)
    k = <span class="hljs-built_in">slice_string</span>(pod, len(container), <span class="hljs-built_in">len</span>(pod))
    k = service_name + k
    <span class="hljs-built_in">set_tag</span>('pod_name',k)
  
}
</code></pre>
<h3 data-id="heading-8">5. éªŒè¯ç»“æœ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/901418b19f2a45f7b9e37b482f707a2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763984920&amp;x-signature=K2qygh6FarPwUKCimhDq0e1qKZA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>å¦‚è‹¥ä½¿ç”¨ä¸­å¿ƒ Pipelineï¼Œè¯·ç¡®ä¿ä¸­å¿ƒ Pipeline åŠŸèƒ½å·²å¼€å¯ï¼ˆé»˜è®¤å…³é—­ï¼‰ï¼›</li>
<li>å¦‚æœä½¿ç”¨æœ¬åœ° Pipelineï¼Œè¯·ç¡®ä¿æ¯ä¸ªæ¶‰åŠåˆ°è¯¥ç±»æ•°æ®é‡‡é›†çš„ DataKit å®ä¾‹éƒ½æœ‰æ­£ç¡®é…ç½®refere table urlï¼›</li>
<li>ç¼–è¾‘ Pipeline æ—¶ï¼Œå¦‚æœé¡µé¢æç¤ºè§£æå¤±è´¥ï¼Œå¯ä»¥å¿½ç•¥ï¼Œå› ä¸ºé¡µé¢è°ƒè¯•ä½¿ç”¨çš„æ˜¯ä¸­å¿ƒ Pipelineï¼Œå¦‚æœä¸­å¿ƒ Pipeline æ²¡æœ‰é…ç½® refer table è·å–åœ°å€çš„è¯ï¼Œä¼šæŠ¥é”™ï¼›</li>
<li>JSON æ–‡ä»¶ä¼šè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæ³¨æ„ table å¤§å°ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[swiftuiä½¿ç”¨WKWebViewåŠ è½½è‡ªç­¾çš„httpsæœåŠ¡ï¼Œå…è®¸ä¸å®‰å…¨è®¿é—®]]></title>    <link>https://juejin.cn/post/7573528564025589806</link>    <guid>https://juejin.cn/post/7573528564025589806</guid>    <pubDate>2025-11-17T09:52:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573528564025589806" data-draft-id="7573521516323897371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="swiftuiä½¿ç”¨WKWebViewåŠ è½½è‡ªç­¾çš„httpsæœåŠ¡ï¼Œå…è®¸ä¸å®‰å…¨è®¿é—®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-17T09:52:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="1024å°ç¥"/> <meta itemprop="url" content="https://juejin.cn/user/70007368988926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            swiftuiä½¿ç”¨WKWebViewåŠ è½½è‡ªç­¾çš„httpsæœåŠ¡ï¼Œå…è®¸ä¸å®‰å…¨è®¿é—®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/70007368988926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    1024å°ç¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:52:07.000Z" title="Mon Nov 17 2025 09:52:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘çš„å¼€æºé¡¹ç›®PakePluså¯ä»¥å°†ç½‘é¡µ/Vue/Reacté¡¹ç›®æ‰“åŒ…ä¸ºæ¡Œé¢/æ‰‹æœºåº”ç”¨å¹¶ä¸”å°äº5Måªéœ€å‡ åˆ†é’Ÿï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpakeplus.com" target="_blank" title="https://pakeplus.com" ref="nofollow noopener noreferrer">pakeplus.com</a></p><p><img alt="" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed6ec3de4342454995c0d0055b482beb~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" width="2458" loading="lazy"/></p><p/>
<p>è¿™ä¸ªé”™è¯¯æ˜¯Â <strong>SSL è¯ä¹¦éªŒè¯å¤±è´¥</strong>Â å¯¼è‡´çš„ï¼ˆ<code>code=-1202</code>Â å¯¹åº”Â <code>NSURLErrorServerCertificateUntrusted</code>ï¼‰ï¼Œå› ä¸ºä½ çš„æœåŠ¡ç«¯Â <code>https://192.168.31.197:5173/</code>Â ä½¿ç”¨çš„æ˜¯è‡ªç­¾åè¯ä¹¦æˆ–æœªè¢« iOS ä¿¡ä»»çš„è¯ä¹¦ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«è¯ä¹¦ä¿¡ä»»é…ç½®å’Œ WKWebView æ­£ç¡®å®ç°ï¼š</p>
<p>åœ¨Â <code>Info.plist</code>Â ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-Swift" lang="Swift"><span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSAppTransportSecurity</span>&lt;/key&gt;
<span class="hljs-operator">&lt;</span>dict<span class="hljs-operator">&gt;</span>
    <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSAllowsArbitraryLoads</span>&lt;/key&gt;
    <span class="hljs-operator">&lt;</span><span class="hljs-literal">true</span><span class="hljs-operator">/&gt;</span>
    <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSAllowsLocalNetworking</span>&lt;/key&gt;
    <span class="hljs-operator">&lt;</span><span class="hljs-literal">true</span><span class="hljs-operator">/&gt;</span>
<span class="hljs-operator">&lt;/</span>dict<span class="hljs-operator">&gt;</span></code></pre>
<p>æˆ–è€…æ›´ç²¾ç¡®çš„é…ç½®ï¼š</p>
<pre><code class="hljs language-Swift" lang="Swift"><span class="hljs-operator">&lt;!--</span> å…è®¸é<span class="hljs-type">HTTPSè¯·æ±‚ï¼ˆå¯é€‰ï¼Œè‹¥æœåŠ¡ç«¯åç»­å¯èƒ½åˆ‡æ¢HTTPï¼‰</span> <span class="hljs-operator">--&gt;</span>
<span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSAppTransportSecurity</span>&lt;/key&gt;
<span class="hljs-operator">&lt;</span>dict<span class="hljs-operator">&gt;</span>
    <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSAllowsArbitraryLoads</span>&lt;/key&gt;
    <span class="hljs-operator">&lt;</span><span class="hljs-literal">true</span><span class="hljs-operator">/&gt;</span>
    <span class="hljs-operator">&lt;!--</span> å•ç‹¬å…è®¸ç›®æ ‡<span class="hljs-type">IPçš„HTTPSè¯·æ±‚ï¼ˆæ›´å®‰å…¨çš„å†™æ³•ï¼‰</span> <span class="hljs-operator">--&gt;</span>
    <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSExceptionDomains</span>&lt;/key&gt;
    <span class="hljs-operator">&lt;</span>dict<span class="hljs-operator">&gt;</span>
        <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-number">192.168</span>.<span class="hljs-number">31.197</span><span class="hljs-operator">&lt;/</span>key<span class="hljs-operator">&gt;</span>
        <span class="hljs-operator">&lt;</span>dict<span class="hljs-operator">&gt;</span>
            <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSIncludesSubdomains</span>&lt;/key&gt;
            <span class="hljs-operator">&lt;</span><span class="hljs-literal">true</span><span class="hljs-operator">/&gt;</span>
            <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSTemporaryExceptionAllowsInsecureHTTPLoads</span>&lt;/key&gt;
            <span class="hljs-operator">&lt;</span><span class="hljs-literal">true</span><span class="hljs-operator">/&gt;</span>
            <span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSTemporaryExceptionMinimumTLSVersion</span>&lt;/key&gt;
            <span class="hljs-operator">&lt;</span>string<span class="hljs-operator">&gt;</span><span class="hljs-type">TLSv1</span>.<span class="hljs-number">2</span><span class="hljs-operator">&lt;/</span>string<span class="hljs-operator">&gt;</span>
        <span class="hljs-operator">&lt;/</span>dict<span class="hljs-operator">&gt;</span>
    <span class="hljs-operator">&lt;/</span>dict<span class="hljs-operator">&gt;</span>
<span class="hljs-operator">&lt;/</span>dict<span class="hljs-operator">&gt;</span>

<span class="hljs-operator">&lt;!--</span> iOS <span class="hljs-number">14</span><span class="hljs-operator">+</span> è¦æ±‚ï¼šå…è®¸åŠ è½½æœ¬åœ°ç½‘ç»œèµ„æº <span class="hljs-operator">--&gt;</span>
<span class="hljs-operator">&lt;</span>key<span class="hljs-operator">&gt;</span><span class="hljs-type">NSLocalNetworkUsageDescription</span>&lt;/key&gt;
<span class="hljs-operator">&lt;</span>string<span class="hljs-operator">&gt;</span>éœ€è¦è®¿é—®æœ¬åœ°ç½‘ç»œä»¥åŠ è½½æœåŠ¡ç«¯å†…å®¹<span class="hljs-operator">&lt;/</span>string<span class="hljs-operator">&gt;</span></code></pre>
<h4 data-id="heading-0"/>
<h4 data-id="heading-1">å®ç° WKWebView å¹¶å¿½ç•¥ SSL è¯ä¹¦éªŒè¯</h4>
<p>WKWebView é»˜è®¤ä¸¥æ ¼éªŒè¯ SSL è¯ä¹¦ï¼Œéœ€è¦é€šè¿‡Â <code>WKNavigationDelegate</code>Â æ‰‹åŠ¨å¿½ç•¥éªŒè¯ï¼ˆä»…ç”¨äºå¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒéœ€ä½¿ç”¨æ­£è§„è¯ä¹¦ï¼‰ï¼š</p>
<pre><code class="hljs language-Swift" lang="Swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Coordinator</span>: <span class="hljs-title class_">NSObject</span>, <span class="hljs-title class_">WKNavigationDelegate</span> {
    <span class="hljs-keyword">let</span> parent: <span class="hljs-type">WebView</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">parent</span>: <span class="hljs-type">WebView</span>) {
        <span class="hljs-keyword">self</span>.parent <span class="hljs-operator">=</span> parent
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šå¼ºåˆ¶ä¿¡ä»»æ‰€æœ‰SSLè¯ä¹¦ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼ï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">webView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">webView</span>: <span class="hljs-type">WKWebView</span>, <span class="hljs-params">didReceive</span> <span class="hljs-params">challenge</span>: <span class="hljs-type">URLAuthenticationChallenge</span>, <span class="hljs-params">completionHandler</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">URLSession</span>.<span class="hljs-type">AuthChallengeDisposition</span>, <span class="hljs-type">URLCredential</span>?) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-comment">// 1. æ£€æŸ¥æ˜¯å¦æ˜¯æœåŠ¡å™¨ä¿¡ä»»éªŒè¯</span>
        <span class="hljs-keyword">guard</span> challenge.protectionSpace.authenticationMethod <span class="hljs-operator">==</span> <span class="hljs-type">NSURLAuthenticationMethodServerTrust</span> <span class="hljs-keyword">else</span> {
            completionHandler(.performDefaultHandling, <span class="hljs-literal">nil</span>)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// 2. è·å–æœåŠ¡å™¨ä¿¡ä»»å¯¹è±¡</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> serverTrust <span class="hljs-operator">=</span> challenge.protectionSpace.serverTrust <span class="hljs-keyword">else</span> {
            completionHandler(.cancelAuthenticationChallenge, <span class="hljs-literal">nil</span>)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// 3. å¼ºåˆ¶ä¿¡ä»»è¯ä¹¦ï¼ˆå…³é”®ï¼šå¿½ç•¥è¯ä¹¦æœ‰æ•ˆæ€§æ£€æŸ¥ï¼‰</span>
        <span class="hljs-keyword">let</span> credential <span class="hljs-operator">=</span> <span class="hljs-type">URLCredential</span>(trust: serverTrust)
        completionHandler(.useCredential, credential)
        
        <span class="hljs-comment">// è°ƒè¯•ï¼šæ‰“å°è¯ä¹¦ä¿¡æ¯ï¼Œç¡®è®¤æ˜¯å¦æ˜¯ç›®æ ‡æœåŠ¡å™¨</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼ºåˆ¶ä¿¡ä»»è¯ä¹¦ï¼š<span class="hljs-subst">\(challenge.protectionSpace.host)</span>:<span class="hljs-subst">\(challenge.protectionSpace.port <span class="hljs-operator">??</span> <span class="hljs-number">0</span>)</span>"</span>)
    }
    
    <span class="hljs-comment">// åŠ è½½å¤±è´¥æ—¶æ‰“å°è¯¦ç»†é”™è¯¯ï¼ˆæ–¹ä¾¿æ’æŸ¥ï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">webView</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">webView</span>: <span class="hljs-type">WKWebView</span>, <span class="hljs-params">didFailProvisionalNavigation</span> <span class="hljs-params">navigation</span>: <span class="hljs-type">WKNavigation</span>!, <span class="hljs-params">withError</span> <span class="hljs-params">error</span>: <span class="hljs-type">Error</span>) {
        <span class="hljs-keyword">let</span> nsError <span class="hljs-operator">=</span> error <span class="hljs-keyword">as</span> <span class="hljs-type">NSError</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŠ è½½å¤±è´¥ï¼š"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"é”™è¯¯ç ï¼š<span class="hljs-subst">\(nsError.code)</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"é”™è¯¯æè¿°ï¼š<span class="hljs-subst">\(nsError.localizedDescription)</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"é”™è¯¯åŸŸåï¼š<span class="hljs-subst">\(nsError.domain)</span>"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> failureReason <span class="hljs-operator">=</span> nsError.localizedFailureReason {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤±è´¥åŸå› ï¼š<span class="hljs-subst">\(failureReason)</span>"</span>)
        }
    }
}</code></pre>
<p/>
å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯1024å°ç¥ï¼ŒæŠ€æœ¯ç¾¤ / ç§æ´»ç¾¤ / è‚¡ç¥¨ç¾¤ æˆ– äº¤æœ‹å‹ éƒ½å¯ä»¥ç§ä¿¡æˆ‘ã€‚
å¦‚æœä½ è§‰å¾—æœ¬æ–‡æœ‰ç”¨ï¼Œä¸€é”®ä¸‰è¿ (ç‚¹èµã€è¯„è®ºã€å…³æ³¨)ï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒ~</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ”¯æŒé¸¿è’™ï¼å¼€æºä¸‰ä¸ªæœˆï¼ŒuView Pro å¼€æºåº“è¿‘æœŸæ›´æ–°å…¨é¢å¤§ç›˜ç‚¹ï¼ŒåŠæœªæ¥è®¡åˆ’]]></title>    <link>https://juejin.cn/post/7573486671297069098</link>    <guid>https://juejin.cn/post/7573486671297069098</guid>    <pubDate>2025-11-17T10:03:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573486671297069098" data-draft-id="7568859869694001188" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ”¯æŒé¸¿è’™ï¼å¼€æºä¸‰ä¸ªæœˆï¼ŒuView Pro å¼€æºåº“è¿‘æœŸæ›´æ–°å…¨é¢å¤§ç›˜ç‚¹ï¼ŒåŠæœªæ¥è®¡åˆ’"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,uni-app"/> <meta itemprop="datePublished" content="2025-11-17T10:03:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¢¦å·¥å‚"/> <meta itemprop="url" content="https://juejin.cn/user/4230576472589976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ”¯æŒé¸¿è’™ï¼å¼€æºä¸‰ä¸ªæœˆï¼ŒuView Pro å¼€æºåº“è¿‘æœŸæ›´æ–°å…¨é¢å¤§ç›˜ç‚¹ï¼ŒåŠæœªæ¥è®¡åˆ’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576472589976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¢¦å·¥å‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T10:03:45.000Z" title="Mon Nov 17 2025 10:03:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>uView Pro å¼€æºè¿‘ä¸‰ä¸ªæœˆä»¥æ¥ï¼Œæ”¶åˆ°äº†è‰¯å¥½çš„åé¦ˆå’Œè¿­ä»£ã€‚ç›®å‰ uView Pro å·²ç»è¿­ä»£äº† 40+ ä¸ªç‰ˆæœ¬ï¼Œå¹³å‡æ¯ä¸¤å¤©å°±ä¼šå‘å¸ƒç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯ä¼˜åŒ–æ€§èƒ½ã€æ–°å¢\å¢å¼ºç»„ä»¶åŠŸèƒ½ã€bugä¿®å¤ã€å…¼å®¹æ€§å®Œå–„ç­‰ã€‚</p>
<p>æ‰€ä»¥ç›®å‰ uView Pro åœ¨ç¨³å®šæ€§ã€åŠŸèƒ½æ€§ä¸è·¨å¹³å°å…¼å®¹æ€§æ–¹é¢å·²ç»æœ‰äº†è‰¯å¥½çš„è¡¨ç°ã€‚ä¸»è¦å®ç°äº† APPã€é¸¿è’™ã€å¾®ä¿¡ã€æ”¯ä»˜å®ã€å¤´æ¡ç­‰å°ç¨‹åºå¹³å°çš„å…¼å®¹ï¼Œåç»­ä¹Ÿä¼šç»§ç»­è¿›è¡Œè¿­ä»£ã€‚</p>
<p>æœ¬æ–‡åŸºäºæœ€è¿‘çš„ changelog æ±‡æ€»ï¼Œé¢å‘å¼€å‘è€…ä¸é¡¹ç›®è´¡çŒ®è€…ï¼Œç³»ç»Ÿä»‹ç»æ–°å¢ç»„ä»¶ã€å…³é”®ä¿®å¤ã€å·¥å…·èƒ½åŠ›ä»¥åŠå¦‚ä½•åœ¨é¡¹ç›®ä¸­å¿«é€Ÿä½“éªŒè¿™äº›ç‰¹æ€§ï¼Œå¹¶æä¾›ç¤ºä¾‹ä»£ç ä¸èµ„æºé“¾æ¥ï¼Œæ–¹ä¾¿ä½ åœ¨å®é™…å·¥ç¨‹ä¸­è½åœ°ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7312958ca6cb48678110e98d6de51881~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=aT1HaPFIso7uS3g4BjTwseW%2BPHI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€æ€»ä½“æ¦‚è§ˆ</h2>
<p>ç›®å‰æœ€æ–°ç‰ˆæœ¬ï¼ˆ0.3.15 åŠæ­¤å‰è‹¥å¹²å°ç‰ˆæœ¬ï¼‰è¦†ç›–ä¸‰å¤§æ–¹å‘ï¼š</p>
<ul>
<li>å¹³å°å…¼å®¹ä¸ bug ä¿®å¤ï¼šé€‚é…æ›´å¤šå°ç¨‹åºå¹³å°ï¼ˆåŒ…æ‹¬é¸¿è’™/å„å°ç¨‹åºæ”¯æŒçš„å®Œå–„ï¼‰ï¼Œä¿®å¤äº† canvas æ¸²æŸ“ã€è¡¨å•å“åº”ã€picker åˆå§‹åŒ–ã€ç»„ä»¶å…¼å®¹æ€§ç­‰è‹¥å¹²è·¨ç«¯é—®é¢˜ã€‚</li>
<li>æ–°ç»„ä»¶ä¸ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼šæ¨å‡ºå¹¶å¢å¼ºè‹¥å¹²ç‰¹è‰²ç»„ä»¶ï¼Œå¦‚ <code>u-fab</code>ï¼ˆæ‚¬æµ®æŒ‰é’®ï¼‰ã€<code>u-text</code>ã€<code>u-loading-popup</code>ã€<code>u-textarea</code>ã€<code>u-safe-bottom</code>ã€<code>u-status-bar</code>ã€<code>u-root-portal</code>ï¼Œä»¥æ»¡è¶³å¸¸è§ UI åœºæ™¯éœ€æ±‚ã€‚</li>
<li>å·¥å…·é“¾ä¸æ¡†æ¶èƒ½åŠ›ï¼šå¢å¼º <code>http</code> æ’ä»¶ä¸ <code>useCompRelation</code>ï¼ˆç»„ä»¶å…³ç³»ç®¡ç† Hooksï¼‰ï¼Œä½¿ä¸šåŠ¡å±‚ç½‘ç»œè¯·æ±‚ä¸å¤æ‚ç»„ä»¶åä½œæ›´ä¾¿æ·ã€‚</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨æ–°å¢ä¸ä¼˜åŒ–çš„åŠŸèƒ½ã€ç¤ºä¾‹ä½¿ç”¨ä»¥åŠå·¥ç¨‹å®è·µå»ºè®®ä¸Šã€‚</p>
<p>è¯¦æƒ…å¯æŸ¥çœ‹å®˜ç½‘åŠè¿‘æœŸæ›´æ–°æ—¥å¿—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2F" target="_blank" title="https://uviewpro.cn/" ref="nofollow noopener noreferrer">uviewpro.cn/</a></p>
<h2 data-id="heading-1">äºŒã€äº®ç‚¹åŠŸèƒ½ä¸æ–°å¢ç»„ä»¶ï¼ˆé€ä¸ªæ‹†è§£ï¼‰</h2>
<h3 data-id="heading-2">1) u-fabï¼ˆæ‚¬æµ®æŒ‰é’®ï¼‰</h3>
<p>ç®€ä»‹ï¼š<code>u-fab</code> æ˜¯é¢å‘ç§»åŠ¨ç«¯å¸¸è§çš„æ‚¬æµ®æ“ä½œå…¥å£ï¼Œæ”¯æŒå¤šç§é¢„è®¾å®šä½ã€æ‹–åŠ¨å¸è¾¹ï¼ˆ<code>autoStick</code>ï¼‰ä»¥åŠ <code>gap</code> å±æ€§çš„ç²¾ç»†åŒ–é…ç½®ã€‚è¯¥ç»„ä»¶åœ¨äº¤äº’ä¸æ— éšœç¢ä½“éªŒä¸Šè¿›è¡Œäº†å¢å¼ºï¼Œèƒ½å…¼å®¹å¤šç«¯å¸ƒå±€å·®å¼‚ã€‚</p>
<p>ä¸»è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>é¢„è®¾ positionï¼ˆå¦‚å³ä¸‹ã€å·¦ä¸‹ã€å³ä¸­ç­‰ï¼‰ä¾¿äºåœ¨ä¸åŒ UI å¸ƒå±€ä¸­å¿«é€Ÿæ”¾ç½®ã€‚</li>
<li>æ”¯æŒ gap çš„å¯¹è±¡å¼é…ç½®ï¼ˆtop/right/bottom/leftï¼‰ï¼Œä½¿ demo ä¸çœŸå®é¡¹ç›®å…¼å®¹æ€§æ›´å¥½ã€‚</li>
<li>autoStickï¼šæ‹–åŠ¨åè‡ªåŠ¨å¸è¾¹ï¼Œæå‡äº¤äº’ä½“éªŒã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<p>ç¤ºä¾‹ï¼ˆVue 3 Composition APIï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">u-fab</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"right-bottom"</span> <span class="hljs-attr">:gap</span>=<span class="hljs-string">"gapObj"</span> <span class="hljs-attr">:draggable</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">:autoStick</span>=<span class="hljs-string">"true"</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">shape</span>=<span class="hljs-string">"circle"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"mini"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"onFabClick"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">u-icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"thumb-up"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"40"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-icon</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">u-fab</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">const</span> gapObj = { <span class="hljs-attr">top</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">right</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">bottom</span>: <span class="hljs-number">16</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">16</span> };
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onFabClick</span>(<span class="hljs-params"/>) {
	uni.<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'æ‚¬æµ®æŒ‰é’®ç‚¹å‡»'</span> });
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å»ºè®®ï¼šåœ¨ç§»åŠ¨ç«¯åº”ç»“åˆ safe areaï¼ˆå¦‚ <code>u-safe-bottom</code>ï¼‰ä¸é¡µé¢å¸¸é©»æŒ‰é’®å¸ƒå±€è°¨æ…ä½¿ç”¨ <code>u-fab</code>ï¼Œé¿å…é®æŒ¡å…³é”®å†…å®¹ã€‚</p>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2Ffab.html" target="_blank" title="https://uviewpro.cn/zh/components/fab.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9ff3f1fc10149a6baf27e7599608a1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=t9HjH7Bys6gSRXM1tcVZiMQlZGo%3D" alt="12.png" loading="lazy"/></p>
<h3 data-id="heading-3">2) u-text</h3>
<p>ç®€ä»‹ï¼š<code>u-text</code> æä¾›æ›´çµæ´»çš„æ–‡å­—æ ·å¼ä¸æ’æ§½æ”¯æŒï¼Œèƒ½åœ¨é•¿æ–‡æœ¬ã€å¯Œæ–‡æœ¬å±•ç¤ºåœºæ™¯ä¸­æ›¿ä»£å¸¸è§„æ ‡ç­¾å¹¶ç»Ÿä¸€æ ·å¼æ§åˆ¶ã€‚</p>
<p>ä¸»è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>æ”¯æŒé»˜è®¤æ’æ§½ä¸å¤šç§æ–‡æœ¬æˆªæ–­/æ¢è¡Œç­–ç•¥ã€‚</li>
<li>æ›´å‹å¥½çš„æ ·å¼ç©¿é€èƒ½åŠ›ï¼Œæ–¹ä¾¿ä¸»é¢˜åŒ–ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä¸»é¢˜é¢œè‰²æ–‡å­— --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"ä¸»è‰²æ–‡å­—"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ‹¨æ‰“ç”µè¯ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"15019479320"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ—¥æœŸæ ¼å¼åŒ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"date"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"1612959739"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è¶…é“¾æ¥ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"link"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Go to uView Pro docs"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://uviewpro.cn"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å§“åè„±æ• --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"å¼ ä¸‰ä¸‰"</span> <span class="hljs-attr">format</span>=<span class="hljs-string">"encrypt"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ˜¾ç¤ºé‡‘é¢ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"price"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"728732.32"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

<span class="hljs-comment">&lt;!-- é»˜è®¤æ’æ§½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"desc"</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ–‡æœ¬ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’æ§½ä¸æ ·å¼<span class="hljs-tag">&lt;/<span class="hljs-name">u-text</span>&gt;</span>

</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2Ftext.html" target="_blank" title="https://uviewpro.cn/zh/components/text.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/156c377563f5497d810498dc0f56abcb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=sPp%2FZgGIWcZudQKQwkaFiuktCao%3D" alt="9.png" loading="lazy"/></p>
<h3 data-id="heading-4">3) u-loading-popup</h3>
<p>ç®€ä»‹ï¼šä¸€ä¸ªå¯é…ç½®çš„åŠ è½½å¼¹çª—ç»„ä»¶ï¼Œæ”¯æŒå¤šç§åŠ è½½é£æ ¼ä¸é®ç½©é…ç½®ï¼Œæ–¹ä¾¿æ›¿ä»£é¡¹ç›®ä¸­æ•£è½çš„ loading é€»è¾‘ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆæœ€å°ç”¨æ³•ï¼‰ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- é»˜è®¤çºµå‘åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-loading-popup</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"æ­£åœ¨åŠ è½½..."</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- æ¨ªå‘åŠ è½½ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-loading-popup</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">direction</span>=<span class="hljs-string">"horizontal"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"æ­£åœ¨åŠ è½½..."</span> /&gt;</span>
</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2FloadingPopup.html" target="_blank" title="https://uviewpro.cn/zh/components/loadingPopup.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f95dbc95d5844e09c405e253fe68acd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=9fR81SRVtyqkfCOZQNnNi2BupG8%3D" alt="11.png" loading="lazy"/></p>
<h3 data-id="heading-5">4) u-textarea</h3>
<p>ç®€ä»‹ï¼šç‹¬ç«‹çš„ <code>u-textarea</code> ç»„ä»¶ä» <code>u-input</code> ä¸­æ‹†åˆ†è€Œæ¥ï¼Œå¢å¼ºäº†å­—æ•°ç»Ÿè®¡ã€ä¼¸ç¼©ã€å’Œç‹¬ç«‹æ ·å¼æ§åˆ¶èƒ½åŠ›ï¼Œæ»¡è¶³å¤æ‚è¡¨å•ä¸é•¿æ–‡æœ¬è¾“å…¥åœºæ™¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å­—æ•°ç»Ÿè®¡ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-textarea</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">:maxlength</span>=<span class="hljs-string">"500"</span> <span class="hljs-attr">count</span> /&gt;</span>

<span class="hljs-comment">&lt;!-- è‡ªåŠ¨é«˜åº¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-textarea</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å†…å®¹"</span> <span class="hljs-attr">autoHeight</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-textarea</span>&gt;</span>
</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2Ftextarea.html" target="_blank" title="https://uviewpro.cn/zh/components/textarea.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db5f9e62248d41b2a51fcabcfe7d4f06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=aMErujAEtBuHbSjpFen6idREA6w%3D" alt="13.png" loading="lazy"/></p>
<h3 data-id="heading-6">5) u-safe-bottom ä¸ u-status-bar</h3>
<p>ç”¨é€”ï¼šä¸è®¾å¤‡å®‰å…¨åŒºï¼ˆnotch/safeareaï¼‰ç›¸å…³çš„å¸ƒå±€ç»„ä»¶ï¼Œç”¨æ¥ä¿è¯åº•éƒ¨/çŠ¶æ€æ çš„å±•ç¤ºåœ¨ä¸åŒå¹³å°ä¸Šéƒ½ä¸ä¼šè¢«é®æŒ¡æˆ–é”™ä½ã€‚é€‚é…äº†å¤šç«¯å·®å¼‚ï¼ˆiOSã€Androidã€ä¸åŒå°ç¨‹åºå®¿ä¸»ï¼‰ã€‚</p>
<p>å¦‚æœæœ‰éœ€è¦ï¼Œæ‚¨å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å¼•ç”¨å®ƒï¼Œå®ƒä¼šè‡ªåŠ¨åˆ¤æ–­åœ¨å¹¶ä¸”åœ¨ IPhone X ç­‰æœºå‹çš„æ—¶å€™ï¼Œç»™å…ƒç´ åŠ ä¸Šä¸€ä¸ªé€‚å½“ åº•éƒ¨å†…è¾¹è·ï¼Œåœ¨ APP ä¸Šï¼Œå³ä½¿æ‚¨ä¿ç•™äº†åŸç”Ÿå®‰å…¨åŒºå ä½(offsetè®¾ç½®ä¸ºauto)ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´åº•éƒ¨å‡ºç°åŒå€çš„ç©ºç™½åŒºåŸŸï¼Œä¹Ÿå³ APP ä¸Š offset è®¾ç½®ä¸º auto æ—¶ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
    ......
    <span class="hljs-tag">&lt;<span class="hljs-name">u-safe-bottom</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-safe-bottom</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2FsafeAreaInset.html" target="_blank" title="https://uviewpro.cn/zh/components/safeAreaInset.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<h3 data-id="heading-7">6) u-root-portal</h3>
<p>ç®€ä»‹ï¼šæä¾›å°†èŠ‚ç‚¹ä¼ é€åˆ°æ ¹èŠ‚ç‚¹çš„èƒ½åŠ›ï¼ˆPortal æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºæ¨¡æ€ã€å…¨å±€æµ®å±‚ç­‰éœ€è¦è„±ç¦»å½“å‰ dom å±‚çº§çš„åœºæ™¯ï¼Œå…¼å®¹å¤šç«¯å®ç°ç»†èŠ‚ã€‚</p>
<p>æ ¹èŠ‚ç‚¹ä¼ é€ç»„ä»¶ä»…æ”¯æŒå¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºã€APPå’ŒH5å¹³å°ï¼Œç»„ä»¶ä¼šè‡ªåŠ¨æ ¹æ®å¹³å°é€‰æ‹©åˆé€‚çš„å®ç°æ–¹å¼ï¼š</p>
<p>è¿™ç±»åœºæ™¯æœ€å¸¸è§çš„ä¾‹å­å°±æ˜¯å…¨å±çš„æ¨¡æ€æ¡†ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›è§¦å‘æ¨¡æ€æ¡†çš„æŒ‰é’®å’Œæ¨¡æ€æ¡†æœ¬èº«çš„ä»£ç æ˜¯åœ¨åŒä¸€ä¸ªå•æ–‡ä»¶ç»„ä»¶ä¸­ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä¸ç»„ä»¶çš„å¼€å…³çŠ¶æ€æœ‰å…³ã€‚</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = true"</span>&gt;</span>æ˜¾ç¤ºå¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">u-root-portal</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"show"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªå…¨å±€å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"show = false"</span>&gt;</span>å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">u-root-portal</span>&gt;</span>
</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2FrootPortal.html" target="_blank" title="https://uviewpro.cn/zh/components/rootPortal.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<h3 data-id="heading-8">7) è‡ªå®šä¹‰ä¸»é¢˜</h3>
<p>uView Pro ç›®å‰å¯ä»¥è‡ªå®šä¸»é¢˜è‰²ï¼Œå­—ä½“é¢œè‰²ï¼Œè¾¹æ¡†é¢œè‰²ç­‰ï¼Œæ‰€æœ‰ç»„ä»¶å†…éƒ¨çš„æ ·å¼ï¼Œéƒ½åŸºäºåŒä¸€å¥—ä¸»é¢˜ï¼Œæ¯”å¦‚æ‚¨ä¿®æ”¹äº†primaryä¸»é¢˜è‰²ï¼Œæ‰€æœ‰ç”¨åˆ°äº†primaryé¢œè‰² çš„ç»„ä»¶éƒ½ä¼šå—å½±å“ã€‚</p>
<p>ç”±äº uView å®˜æ–¹ç‰ˆæœ¬ï¼Œç»„ä»¶å†…éƒ¨å­˜åœ¨è®¸å¤šç¡¬ç¼–ç é¢œè‰²é…ç½®ï¼Œæ— æ³•åŠ¨æ€æ ¹æ® <code>scss</code> å˜é‡ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿä¸€è·Ÿéšä¸»é¢˜é…ç½®äº†ã€‚</p>
<p>é€šè¿‡å®˜ç½‘ä¸»é¢˜é¢œè‰²é…ç½®å®Œåï¼Œåœ¨é¡µé¢åº•éƒ¨ä¸‹è½½æ–‡ä»¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªåä¸º<code>uview-pro.theme.scss</code>å’Œ<code>uview-pro.theme.ts</code>çš„æ–‡ä»¶ã€‚</p>
<p>é…ç½® scss å˜é‡</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/* uni.scss */</span>
<span class="hljs-keyword">@import</span> <span class="hljs-string">'uview-pro/theme.scss'</span>;
</code></pre>
<p>é…ç½® ts å˜é‡</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// main.ts</span>
<span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> theme <span class="hljs-keyword">from</span> <span class="hljs-string">'@/common/uview-pro.theme'</span>
<span class="hljs-keyword">import</span> uViewPro <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)
  <span class="hljs-comment">// å¼•å…¥uView Pro ä¸»åº“ï¼ŒåŠthemeä¸»é¢˜</span>
  app.<span class="hljs-title function_">use</span>(uViewPro, { theme })
  <span class="hljs-keyword">return</span> {
    app
  }
}
</code></pre>
<p>ä»¥ä¸Šæ­¥éª¤å®Œæˆä¹‹åï¼Œæ‰€æœ‰é¢œè‰²å‡è·Ÿéšä¸»é¢˜è‰²ã€‚</p>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fguide%2Ftheme.html" target="_blank" title="https://uviewpro.cn/zh/guide/theme.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/guide/thâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79877cd89bf344c0a73b913712293892~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=vaeKWdJktGPWJuVgQetQ%2BrNcwX0%3D" alt="8.png" loading="lazy"/></p>
<h3 data-id="heading-9">8) è‡ªå®šä¹‰æ ·å¼</h3>
<p>uView Pro é»˜è®¤æä¾›äº†ä¸€å¥—ç¾è§‚ä¸”ç»Ÿä¸€çš„ç»„ä»¶æ ·å¼ï¼Œä½†åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå¾€å¾€éœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ã€‚å‚è€ƒè‡ªå®šä¹‰ä¸»é¢˜ã€‚</p>
<p>ç„¶è€Œï¼Œå¦‚æœä»…æ˜¯éœ€è¦è¦†ç›–ç»„ä»¶çš„é»˜è®¤æ ·å¼ï¼Œæˆ–å¢åŠ æ ·å¼ï¼ŒuView Pro åˆ™æ”¯æŒä¸¤ç§ä¸»æµçš„è‡ªå®šä¹‰æ ·å¼æ–¹å¼ï¼Œçµæ´»æ»¡è¶³å„ç§åœºæ™¯ï¼š</p>
<p>ç›®å‰ï¼Œæ‰€æœ‰ç»„ä»¶å‡æ”¯æŒ <code>custom-class</code> æ ·å¼ç©¿é€å’Œ <code>custom-style</code> å†…è”æ ·å¼</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-page"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- custom-class æ ·å¼ç©¿é€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span> <span class="hljs-attr">custom-class</span>=<span class="hljs-string">"my-btn"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰å†…è”æ ·å¼ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">u-button</span>
        <span class="hljs-attr">custom-style</span>=<span class="hljs-string">"background: linear-gradient(90deg,#2979ff,#00c6ff);color:#fff;border-radius:8px;"</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">u-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.my-page</span> {
  :<span class="hljs-built_in">deep</span>(.my-btn) {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2979ff</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fguide%2Fstyle.html" target="_blank" title="https://uviewpro.cn/zh/guide/style.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/guide/stâ€¦</a></p>
<h2 data-id="heading-10">ä¸‰ã€å·¥å…·é“¾æ”¹è¿›ä¸æ–°èƒ½åŠ›</h2>
<h3 data-id="heading-11">1) http æ’ä»¶ï¼ˆhttpPluginï¼‰</h3>
<p>ç®€ä»‹ï¼šæä¾›ç»Ÿä¸€çš„è¯·æ±‚å°è£…ï¼Œæ”¯æŒ TypeScriptã€Vue3ã€ç»„åˆå¼ APIï¼Œæ’ä»¶åŒ–ã€å…¨å±€é…ç½®ã€è¯·æ±‚/å“åº”æ‹¦æˆªå™¨ã€è¯·æ±‚å…ƒä¿¡æ¯ç±»å‹ï¼ˆtoast/loading çµæ´»æ§åˆ¶ï¼‰ï¼Œå¼€ç®±å³ç”¨ï¼Œä¾¿äºåœ¨é¡¹ç›®ä¸­è¿›è¡Œå…¨å±€åŒ–ç½‘ç»œç®¡ç†ã€‚ã€‚</p>
<p>ç¤ºä¾‹ï¼šåŸºæœ¬è¯·æ±‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>

<span class="hljs-comment">// GET</span>
http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user'</span>, { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
  <span class="hljs-comment">/* ... */</span>
})

<span class="hljs-comment">// POST</span>
http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/login'</span>, { <span class="hljs-attr">username</span>: <span class="hljs-string">'xx'</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">'xx'</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
  <span class="hljs-comment">/* ... */</span>
})

<span class="hljs-comment">// PUT/DELETE</span>
http.<span class="hljs-title function_">put</span>(<span class="hljs-string">'/api/user/1'</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'new'</span> })
http.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'/api/user/1'</span>)
</code></pre>
<p>é«˜çº§ï¼šæ”¯æŒè¯·æ±‚æ‹¦æˆªå™¨ã€å…¨å±€é”™è¯¯å¤„ç†ä¸ meta é…ç½®ï¼Œé€‚åˆæ¥å…¥é‰´æƒã€é‡è¯•ã€é™æµç­‰ç­–ç•¥ã€‚</p>
<p>æœ€ä½³å®è·µï¼šå®šä¹‰æ‹¦æˆªå™¨é…ç½® =&gt; æ³¨å†Œæ‹¦æˆªå™¨ =&gt; ç»Ÿä¸€ API ç®¡ç†</p>
<p>å®šä¹‰æ‹¦æˆªå™¨é…ç½®</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">RequestConfig</span>, <span class="hljs-title class_">RequestInterceptor</span>, <span class="hljs-title class_">RequestMeta</span>, <span class="hljs-title class_">RequestOptions</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>
<span class="hljs-keyword">import</span> { useUserStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/store'</span>

<span class="hljs-comment">// å…¨å±€è¯·æ±‚é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">httpRequestConfig</span>: <span class="hljs-title class_">RequestConfig</span> = {
  baseUrl,
  <span class="hljs-attr">header</span>: {
    <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
  },
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">originalData</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">toast</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>
  }
}

<span class="hljs-comment">// å…¨å±€è¯·æ±‚/å“åº”æ‹¦æˆªå™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">httpInterceptor</span>: <span class="hljs-title class_">RequestInterceptor</span> = {
  <span class="hljs-attr">request</span>: <span class="hljs-function">(<span class="hljs-params">config: RequestOptions</span>) =&gt;</span> {
    <span class="hljs-comment">// è¯·æ±‚æ‹¦æˆª</span>
    <span class="hljs-keyword">return</span> config
  },
  <span class="hljs-attr">response</span>: <span class="hljs-function">(<span class="hljs-params">response: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
    <span class="hljs-comment">// å“åº”æ‹¦æˆª</span>
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>
  }
}
</code></pre>
<p>æ³¨å†Œæ‹¦æˆªå™¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> uViewPro, { httpPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>
<span class="hljs-keyword">import</span> { httpInterceptor, httpRequestConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'http.interceptor'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)

  <span class="hljs-comment">// æ³¨å†ŒuView-pro</span>
  app.<span class="hljs-title function_">use</span>(uViewPro)

  <span class="hljs-comment">// æ³¨å†Œhttpæ’ä»¶</span>
  app.<span class="hljs-title function_">use</span>(httpPlugin, {
    <span class="hljs-attr">interceptor</span>: httpInterceptor,
    <span class="hljs-attr">requestConfig</span>: httpRequestConfig
  })

  <span class="hljs-keyword">return</span> { app }
}
</code></pre>
<p>ç»Ÿä¸€ API ç®¡ç†</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// api/index.ts</span>
<span class="hljs-keyword">import</span> { http } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">login</span> = data =&gt; http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/login'</span>, data,  { <span class="hljs-attr">meta</span>: { <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">toast</span>: <span class="hljs-literal">true</span> } })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = id =&gt; http.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user'</span>, { id },  { <span class="hljs-attr">meta</span>: { <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> } })
</code></pre>
<p>ä»¥ä¸Šç¤ºä¾‹ä¸ºç»å…¸æœ€ä½³å®è·µï¼Œæ›´å¤šç”¨æ³•è¯·æŸ¥çœ‹ http æ’ä»¶æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Ftools%2Fhttp.html" target="_blank" title="https://uviewpro.cn/zh/tools/http.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/tools/htâ€¦</a></p>
<h3 data-id="heading-12">2) useCompRelationï¼ˆç»„ä»¶å…³ç³»ç®¡ç† Hooksï¼‰</h3>
<p>ç›®çš„ï¼šæ›¿ä»£ä¼ ç»Ÿçš„ <code>provide/inject</code> åœ¨å¤šå¹³å°ï¼ˆå°¤å…¶æ˜¯ä¸€äº›å°ç¨‹åºå®¿ä¸»ï¼‰å¯èƒ½å­˜åœ¨çš„å…¼å®¹é—®é¢˜ï¼Œæä¾›æ›´å¯é çš„çˆ¶å­ç»„ä»¶è¿æ¥å’Œäº‹ä»¶å¹¿æ’­æœºåˆ¶ã€‚</p>
<p>åº”ç”¨åœºæ™¯ï¼šå¤æ‚è¡¨å•ã€çº§è”èœå•ã€å¸¦æœ‰å­é¡¹åŠ¨æ€å¢åˆ çš„ç»„ä»¶é›†åˆç­‰ã€‚</p>
<p>çˆ¶ç»„ä»¶ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useParent } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>;

<span class="hljs-keyword">const</span> { children, broadcast } = <span class="hljs-title function_">useParent</span>(<span class="hljs-string">'u-dropdown'</span>);

<span class="hljs-comment">// å¹¿æ’­è°ƒç”¨å­ç»„ä»¶å‡½æ•°</span>
<span class="hljs-title function_">broadcast</span>(<span class="hljs-string">'childFunctionName'</span>, { payload });

<span class="hljs-comment">// æ”¶é›†æ‰€æœ‰å­ç»„ä»¶æŒ‡å®šå€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getChildrenValues</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">values</span>: <span class="hljs-built_in">any</span>[] = [];
    children.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">child: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (child.<span class="hljs-property">getExposed</span>?.()?.<span class="hljs-property">isChecked</span>.<span class="hljs-property">value</span>) {
            values.<span class="hljs-title function_">push</span>(child.<span class="hljs-property">getExposed</span>?.()?.<span class="hljs-property">name</span>);
        }
    });
}
</code></pre>
<p>å­ç»„ä»¶ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { parentExposed, emitToParent } = <span class="hljs-title function_">useChildren</span>(<span class="hljs-string">'u-dropdown-item'</span>, <span class="hljs-string">'u-dropdown'</span>);

<span class="hljs-comment">// è§¦å‘çˆ¶ç»„ä»¶çš„å‡½æ•°</span>
<span class="hljs-title function_">emitToParent</span>(<span class="hljs-string">'parentFunctionName'</span>);

<span class="hljs-comment">// è·å–çˆ¶ç»„ä»¶çš„å˜é‡</span>
<span class="hljs-keyword">const</span> activeColor = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> parentExposed.<span class="hljs-property">value</span>?.<span class="hljs-property">activeColor</span>);
</code></pre>
<p>æ›´å¤šç”¨æ³•è¯·å‚è€ƒç»„ä»¶æºç ï¼š<code>useCompRelation.ts</code></p>
<h3 data-id="heading-13">3) æä¾› llms.txt</h3>
<p><code>llms.txt</code>çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸€èˆ¬å®ƒç”¨æ¥å‘Šè¯‰å¤§æ¨¡å‹æ˜¯å¦å…è®¸æŠ“å–ç½‘ç«™æ•°æ®ç”¨äºè®­ç»ƒçš„æ–‡ä»¶ï¼Œç±»ä¼¼äº <code>robots.txt</code> æ§åˆ¶çˆ¬è™«æƒé™ï¼Œå› æ­¤ uView Pro ä¹Ÿæä¾›äº†å³æ—¶æ›´æ–°çš„ <code>llms.txt</code> æ–‡ä»¶ï¼Œä¾¿äºè®­ç»ƒå¤§æ¨¡å‹ï¼Œæ›´å¥½çš„ä¸ºæˆ‘ä»¬æœåŠ¡ï¼Œé“¾æ¥å¦‚ä¸‹ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fllms.txt" target="_blank" title="https://uviewpro.cn/llms.txt" ref="nofollow noopener noreferrer">uviewpro.cn/llms.txt</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fllms-full.txt" target="_blank" title="https://uviewpro.cn/llms-full.txt" ref="nofollow noopener noreferrer">uviewpro.cn/llms-full.tâ€¦</a></p>
<h2 data-id="heading-14">å››ã€å¤šè„šæ‰‹æ¶æ”¯æŒ</h2>
<h3 data-id="heading-15">1) create-uni</h3>
<p>create-uni æä¾›ä¸€é”®ç”Ÿæˆã€æ¨¡æ¿ä¸°å¯Œçš„é¡¹ç›®å¼•å¯¼èƒ½åŠ›ï¼Œæ—¨åœ¨å¢å¼º uni-app ç³»åˆ—äº§å“çš„å¼€å‘ä½“éªŒï¼Œå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Funi-helper.cn%2Fcreate-uni%2Fcore" target="_blank" title="https://uni-helper.cn/create-uni/core" ref="nofollow noopener noreferrer">uni-helper.cn/create-uni/â€¦</a></p>
<pre><code class="hljs language-bash" lang="bash">pnpm create uni &lt;é¡¹ç›®åç§°&gt; --ts -m pinia -m unocss -u uview-pro -e
</code></pre>
<p>è¡¨ç¤ºï¼š</p>
<ul>
<li>å¯ç”¨ TypeScript</li>
<li>é›†æˆ ESLint ä»£ç è§„èŒƒ</li>
<li>å¯ç”¨ pinia</li>
<li>é›†æˆ unocss</li>
<li>é€‰æ‹© uview-proç»„ä»¶åº“</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ce4788f195e4c4fbdf3124dbab6657b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=Cmqy9e0dBoCR8V04zMLwoe1KgZo%3D" alt="6.png" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³ç”¨ create-uni äº¤äº’å¼åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm create uni
</code></pre>
<p>è¿›å…¥äº¤äº’å¼é€‰æ‹©ç•Œé¢ï¼Œé€‰æ‹© <code>uView Pro</code> æ¨¡æ¿æˆ–ç»„ä»¶ï¼Œå…¶ä»–çš„ç›¸å…³æ’ä»¶å¯æŒ‰éœ€é€‰æ‹©ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29aaed2884434a89b66340e269258e41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=EpppGdb8gRUXRwYJMDMWykJd2rQ%3D" alt="2.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f8e4453c55340b68ec2cc2e1bc65893~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=u7pvqE4dHab3wMq8vSrNm7XKknY%3D" alt="image.png" loading="lazy"/></p>
<p>ä½¿ç”¨ create-uni å¿«é€Ÿåˆ›å»º <code>uView Pro Starter</code> å¯åŠ¨æ¨¡æ¿ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm create uni &lt;é¡¹ç›®åç§°&gt; -t uview-pro-starter
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/001fa7d3f50f4bcd9254ff81cf75a5f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=lSoKoEfEEa%2BPTl6TFrjJM6Qim0Q%3D" alt="4.png" loading="lazy"/></p>
<p>ä½¿ç”¨ create-uni å¿«é€Ÿåˆ›å»º <code>uView Pro</code> å®Œæ•´ç»„ä»¶æ¼”ç¤ºæ¨¡æ¿ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm create uni &lt;é¡¹ç›®åç§°&gt; -t uview-pro-demo
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaa7060e2eec4db99d50cdac867e4f7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=3995s5r6dwZbaq3XwNAjYV0zN%2Fs%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-16">2) unibest</h3>
<p>unibest æ˜¯ç›®å‰æœ€ç«çš„ uni-app è„šæ‰‹æ¶ï¼Œå®ƒæ˜¯è²é¸½å¤§ä½¬è”åŒä¼—å¤š uni-app å¼€å‘è€…å…±åŒè´¡çŒ®çš„ uni-app æ¡†æ¶ï¼Œé›†æˆäº†æœ€æ–°æŠ€æœ¯æ ˆå’Œå¼€å‘å·¥å…·ï¼Œå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Funibest.tech%2F" target="_blank" title="https://unibest.tech/" ref="nofollow noopener noreferrer">unibest.tech/</a></p>
<p>å¦‚æœä½ æƒ³ç”¨ unibest å’Œ uView Pro æ¥åˆ›å»ºé¡¹ç›®ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<p>ä¸€è¡Œä»£ç åˆ›å»ºé¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm create unibest &lt;é¡¹ç›®åç§°&gt; -t base-uview-pro
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/263db75fe3174d428697fe8b72f7663a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=KAGcC59op8kWtL0f5GwxjB6Sxu4%3D" alt="1.png" loading="lazy"/></p>
<p>äº¤äº’å¼åˆ›å»ºé¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm create unibest
</code></pre>
<p>é€‰æ‹© <code>base-uview-pro</code> æ¨¡æ¿ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87817ca652df44f2940641f7018f1160~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=AHltgzd%2Fo6VMsrfWKunzUXN0Rsw%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-17">3) å®˜æ–¹cli</h3>
<p>ç¬¬ä¸€ç§ï¼šåˆ›å»ºä»¥ javascript å¼€å‘çš„å·¥ç¨‹</p>
<pre><code class="hljs language-bash" lang="bash">npx degit dcloudio/uni-preset-vue<span class="hljs-comment">#vite my-vue3-project</span>
</code></pre>
<p>ç¬¬äºŒç§ï¼šåˆ›å»ºä»¥ typescript å¼€å‘çš„å·¥ç¨‹</p>
<pre><code class="hljs language-bash" lang="bash">npx degit dcloudio/uni-preset-vue<span class="hljs-comment">#vite-ts my-vue3-project</span>
</code></pre>
<p>å¼•å…¥uviewâ€”proç»„ä»¶åº“å³å¯ï¼Œä¸å†è¿‡å¤šä»‹ç»ï¼Œå¯å‚è€ƒå¿«é€Ÿé…ç½®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fcomponents%2Fsetting.html" target="_blank" title="https://uviewpro.cn/zh/components/setting.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/componenâ€¦</a></p>
<h2 data-id="heading-18">äº”ã€è¿‘æœŸä¿®å¤è‹¥å¹²å…³é”®é—®é¢˜</h2>
<ul>
<li>u-circle-progress çš„ canvas æ¸²æŸ“é—®é¢˜å·²ä¿®å¤ï¼Œè§£å†³äº†å¾®ä¿¡å°ç¨‹åº canvas 2D åœ¨ä¸åŒå¹³å°ä¸Šä¸‹æ–‡å·®å¼‚å¯¼è‡´çš„ç»˜åˆ¶å¼‚å¸¸ã€‚</li>
<li>u-form ç›¸å…³å¤šä¸ªä¿®å¤ï¼šå¤„ç† model æ›¿æ¢å¯¼è‡´æ ¡éªŒå¤±æ•ˆã€resetFields ä¿®å¤ã€u-form-item æ ·å¼ä¸å…‰æ ‡é—®é¢˜ä¿®å¤ï¼Œæå‡è¡¨å•åœ¨å°ç¨‹åºç«¯å…¼å®¹æ€§ã€‚</li>
<li>pickerã€index-listã€popup ç­‰ç»„ä»¶çš„è·¨ç«¯å…¼å®¹ä¿®å¤ï¼Œå‡å°‘åœ¨å¤´æ¡/æ”¯ä»˜å®/å¾®ä¿¡ç­‰å®¿ä¸»ä¸Šçš„å·®å¼‚è¡¨ç°ã€‚</li>
</ul>
<p>è¿™äº›ä¿®å¤çš„ç»¼åˆæ•ˆæœæ˜¯ï¼šåœ¨å¤šç«¯ä½¿ç”¨ uViewâ€‘Pro æ„å»ºé¡µé¢æ—¶ï¼Œå‡ºç°çš„å¹³å°å·®å¼‚ä¸è¾¹ç¼˜ bug å¤§å¹…å‡å°‘ï¼Œå¼€å‘æˆæœ¬é™ä½ã€‚</p>
<h2 data-id="heading-19">å…­ã€è·¨å¹³å°æ”¯æŒè¯´æ˜</h2>
<p>å½“å‰ uViewâ€‘Pro å·²å…¼å®¹å¹¶åœ¨ä»¥ä¸‹å¹³å°è¿›è¡Œé€‚é…ä¸æµ‹è¯•ï¼š</p>
<ul>
<li>é¸¿è’™ï¼ˆHarmonyOSï¼‰</li>
<li>Androidï¼ˆåŸç”Ÿåº”ç”¨åŠ WebViewï¼‰</li>
<li>iOSï¼ˆåŸç”Ÿåº”ç”¨åŠ WebViewï¼‰</li>
<li>å¾®ä¿¡å°ç¨‹åº</li>
<li>æ”¯ä»˜å®å°ç¨‹åº</li>
<li>å¤´æ¡å°ç¨‹åº</li>
</ul>
<p>åç»­ä»ç„¶ä¼šå¯¹å¤šç«¯å°ç¨‹åºå…¼å®¹æ€§çš„æŒç»­æŠ•å…¥ï¼Œå¾ˆå¤šä¿®å¤ç›´æ¥é’ˆå¯¹å®¿ä¸»å·®å¼‚å±•å¼€ï¼ˆä¾‹å¦‚ Canvas è¡Œä¸ºã€provide/inject å®ç°å·®å¼‚ã€æ ·å¼å·®å¼‚ç­‰ï¼‰ã€‚</p>
<p>è¿‘æœŸåœ¨é¸¿è’™6.0ç³»ç»Ÿä¸Šè¿è¡ŒuView Proæºç ï¼Œæ•ˆæœè¿˜ä¸é”™ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53b3e9f1d36443d79d1bb9133458fd5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978624&amp;x-signature=cN7M4BFbiX%2Bmgi56rMtJJKd26Yg%3D" alt="7.png" loading="lazy"/></p>
<h2 data-id="heading-20">ä¸ƒã€æœªæ¥è®¡åˆ’</h2>
<p>æ ¹æ®è§„åˆ’ï¼Œæœªæ¥å‡ ä¸ªæ–¹å‘åŒ…æ‹¬ï¼š</p>
<ul>
<li>æŒç»­ä¼˜åŒ–ç°æœ‰ç»„ä»¶ï¼Œæ–°å¢ç»„ä»¶ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li>
<li>å›½é™…åŒ–ï¼ˆi18nï¼‰æ”¯æŒï¼šç»Ÿä¸€ç»„ä»¶çš„è¯­è¨€åˆ‡æ¢èƒ½åŠ›ï¼Œæ–¹ä¾¿å¤šè¯­è¨€äº§å“çº¿æ¥å…¥ã€‚</li>
<li>æš—é»‘æ¨¡å¼ï¼ˆDark Modeï¼‰ï¼šä¸è¿è¡Œæ—¶ä¸»é¢˜åˆ‡æ¢èƒ½åŠ›ç»“åˆï¼Œæä¾›æš—è‰²çš®è‚¤ä¸€é”®åˆ‡æ¢ä½“éªŒã€‚</li>
<li>ä¼˜åŒ–ç°æœ‰å¹³å°å…¼å®¹æ€§ï¼Œæ‰©å±•æ›´å¤šå¹³å°çš„é€‚é…æµ‹è¯•ï¼ˆä¿æŒå¯¹å°ç¨‹åºå®¿ä¸»çš„å…¼å®¹ä¿®å¤ï¼‰ã€‚</li>
<li>uni-app x æ”¯æŒï¼šç›®å‰è¿˜åœ¨è°ƒç ”ä¸­ã€‚</li>
<li>mcp æ”¯æŒã€‚</li>
</ul>
<h2 data-id="heading-21">å…«ã€ç»“è¯­</h2>
<p>å¦‚æœä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨åˆ°ä»¥ä¸Šç»„ä»¶æˆ–å·¥å…·ï¼Œå¹¶å¸Œæœ›å‚ä¸è´¡çŒ®ï¼Œè¯·å‚è€ƒä»“åº“çš„è´¡çŒ®æŒ‡å—ã€‚æ¬¢è¿æ issueã€æäº¤ PRï¼Œæˆ–åœ¨æ’ä»¶å¸‚åœºä¸ç¤¾åŒºä¸­åé¦ˆä½¿ç”¨ä½“éªŒã€‚</p>
<ul>
<li>Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanyup%2FuView-Pro" target="_blank" title="https://github.com/anyup/uView-Pro" ref="nofollow noopener noreferrer">github.com/anyup/uViewâ€¦</a></li>
<li>Giteeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fanyup%2FuView-Pro" target="_blank" title="https://gitee.com/anyup/uView-Pro" ref="nofollow noopener noreferrer">gitee.com/anyup/uViewâ€¦</a></li>
<li>å¿«é€Ÿå¯åŠ¨ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanyup%2FuView-Pro-Starter" target="_blank" title="https://github.com/anyup/uView-Pro-Starter" ref="nofollow noopener noreferrer">github.com/anyup/uViewâ€¦</a></li>
<li>æ’ä»¶å¸‚åœºï¼ˆDCloudï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fext.dcloud.net.cn%2Fplugin%3Fid%3D24633" target="_blank" title="https://ext.dcloud.net.cn/plugin?id=24633" ref="nofollow noopener noreferrer">ext.dcloud.net.cn/plugin?id=2â€¦</a></li>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn" target="_blank" title="https://uviewpro.cn" ref="nofollow noopener noreferrer">uviewpro.cn</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†é¡µæŸ¥è¯¢çš„ç¨³å®šæ€§é™·é˜±ä¸æ ¹æ²»æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573524348129017919</link>    <guid>https://juejin.cn/post/7573524348129017919</guid>    <pubDate>2025-11-17T10:35:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573524348129017919" data-draft-id="7573332163387670582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†é¡µæŸ¥è¯¢çš„ç¨³å®šæ€§é™·é˜±ä¸æ ¹æ²»æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="MySQL,Elasticsearch,åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T10:35:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/606586148237431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†é¡µæŸ¥è¯¢çš„ç¨³å®šæ€§é™·é˜±ä¸æ ¹æ²»æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586148237431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¬è½¬æŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T10:35:28.000Z" title="Mon Nov 17 2025 10:35:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åç«¯å¼€å‘ä¸­ï¼Œåˆ†é¡µæŸ¥è¯¢æ˜¯æœ€åŸºç¡€ä¹Ÿæœ€å¸¸ç”¨çš„åŠŸèƒ½ä¹‹ä¸€ã€‚æ— è®ºæ˜¯è¿è¥åå°å„æ¨¡å—çš„åˆ—è¡¨ï¼Œè¿˜æ˜¯APPä¸Šå•†å“åˆ—è¡¨ã€å¸–å­åˆ—è¡¨ã€å…³æ³¨/ç²‰ä¸åˆ—è¡¨ç­‰ï¼Œå‡ ä¹éƒ½ç¦»ä¸å¼€ã€ŒæŒ‰æ—¶é—´å€’åº+åˆ†é¡µã€çš„æŸ¥è¯¢ç»„åˆã€‚ä½†å°±æ˜¯è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„éœ€æ±‚ï¼Œå´å› â€œé”šç‚¹ä¸ç¨³å®šâ€è€Œæš—è—æ•°æ®é‡å¤ã€ä¸¢å¤±çš„é™·é˜±ï¼Œè½»åˆ™å½±å“ä½“éªŒï¼Œé‡åˆ™å¯¼è‡´èµ„æŸã€‚æœ¬æ–‡å°†æ­ç¤ºè¿™ä¸€é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼Œå¯¹æ¯”åˆ†æä¸‰ç§ä¸»æµè§£å†³æ–¹æ¡ˆçš„ä¼˜åŠ£ï¼Œå¹¶æœ€ç»ˆç»™å‡ºå¯è½åœ°çš„å·¥ç¨‹è§„èŒƒï¼Œå¸®åŠ©ä½ ä¸€åŠ³æ°¸é€¸åœ°è§£å†³åˆ†é¡µç¨³å®šæ€§é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">æ¡ˆä¾‹</h2>
<p>é¦–å…ˆæˆ‘ä»¬åŸºäºä¸€äº›æ¡ˆä¾‹æ¥æ„Ÿå—ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯â€œåˆ†é¡µé”šç‚¹ä¸ç¨³å®šâ€é—®é¢˜ã€‚</p>
<p>**æ¡ˆä¾‹1ï¼š**ç¤¾äº¤åœºæ™¯å±•ç¤ºçš„å¸–å­åˆ—è¡¨æŒ‰ã€Œæœ€æ–°æ—¶é—´æ’åºã€ï¼Œå½“æœ‰æ–°å¸–å­å‘å¸ƒæ—¶ï¼Œç”¨æˆ·åœ¨ç¿»é¡µè¿‡ç¨‹ä¸­ä¼šå‘ç°åŒä¸€æ¡å¸–å­é‡å¤å‡ºç°åœ¨ä¸åŒçš„é¡µç ã€‚</p>
<p>**æ¡ˆä¾‹2ï¼š**è¿è¥äººå‘˜æ­£åœ¨æ‰¹é‡å‘æ”¾ä¼˜æƒ åˆ¸ï¼Œæ­¤æ—¶æ–°å¢äº†ä¸€æ‰¹ä¼˜æƒ åˆ¸æ•°æ®ã€‚å‘æ”¾å®Œæˆåå‘ç°ï¼Œéƒ¨åˆ†ç”¨æˆ·æ”¶åˆ°äº†å¤šå¼ ç›¸åŒçš„ä¼˜æƒ åˆ¸ï¼Œé€ æˆèµ„æŸã€‚</p>
<p>**æ¡ˆä¾‹3ï¼š**æŸæ”¯ä»˜æµæ°´æŸ¥è¯¢é¡µé¢ï¼Œå› ä¸ºæ’åºå­—æ®µä¸å”¯ä¸€ï¼Œå¯¼è‡´æ•°æ®å±•ç¤ºé¡ºåºæ··ä¹±ï¼Œç”šè‡³å‡ºç°æ•°æ®ä¸¢å¤±ï¼Œç»™ç”¨æˆ·å¸¦æ¥å›°æ‰°ã€‚</p>
<p>å½“æˆ‘ä»¬ä½¿ç”¨LIMIT offset, sizeï¼ˆMySQLï¼‰æˆ–from + sizeï¼ˆESï¼‰æ—¶ï¼Œåˆ†é¡µçš„ä¾æ®æ˜¯ã€Œå½“å‰æŸ¥è¯¢ç»“æœé›†çš„è¡Œæ•°åç§»ã€ã€‚è€Œæ–°æ•°æ®æ’å…¥æˆ–æ—§æ•°æ®çš„åˆ é™¤ä¼šç›´æ¥æ”¹å˜ç»“æœé›†çš„è¡Œæ•°ï¼Œè¿›è€Œå¯¼è‡´ä¸‹ä¸€é¡µçš„åç§»é‡å¤±æ•ˆã€‚</p>
<p><strong>æ¡ˆä¾‹1</strong>åªæ˜¯å¯¼è‡´ç”¨æˆ·ä½“éªŒç±»çš„bugï¼Œè€Œå¦å¤–ä¸¤ä¸ªæ¡ˆä¾‹åˆ™å½±å“æ›´åŠ ä¸¥é‡ï¼Œå¾ˆå®¹æ˜“å‡ºç°èµ„æŸã€‚</p>
<h2 data-id="heading-1">åˆ†æ</h2>
<p>æˆ‘ä»¬ä»<strong>æ¡ˆä¾‹1</strong>å…¥æ‰‹åˆ†æã€‚å‡è®¾ç”¨æˆ·Aæ­£åœ¨æµè§ˆå¸–å­åˆ—è¡¨ï¼Œæ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>ç¬¬1æ­¥ï¼šåŠ è½½ç¬¬1é¡µ</strong></p>
<p>æ‰§è¡ŒSQLï¼š<code>select * from t order by create_time desc LIMIT 0,10</code></p>
<p>è¿”å›å¸–å­ P1~P10ï¼ˆP1 ä¸ºæœ€æ–°ï¼ŒP10 ä¸ºç¬¬10æ–°çš„å¸–å­ï¼‰ã€‚</p>
<p><strong>ç¬¬2æ­¥ï¼šåŠ è½½ç¬¬2é¡µ</strong></p>
<p>æ­¤æ—¶ï¼Œå…¶ä»–ç”¨æˆ·å‘å¸ƒäº†ä¸€æ¡æ–°å¸–å­ P0ï¼ˆæ—¶é—´æ¯” P1 æ›´æ–°ï¼‰ã€‚</p>
<p>ç”¨æˆ·Aç»§ç»­æ»‘åŠ¨ï¼Œæ‰§è¡ŒSQLï¼š<code>select * from t order by create_time desc LIMIT 10,10</code></p>
<p>æŒ‰ç†åº”è¯¥è¿”å› P11<del>P20ï¼Œä½†ç”±äºæ–°æ’å…¥äº†1æ¡æ•°æ®ï¼Œæ•´ä¸ªç»“æœé›†å‘ååç§»ï¼Œå®é™…è¿”å›çš„æ˜¯ P10</del>P19ã€‚</p>
<p><strong>ç»“æœï¼šP10 åœ¨ç¬¬1é¡µå’Œç¬¬2é¡µéƒ½å‡ºç°äº†ï¼Œé€ æˆæ•°æ®é‡å¤ã€‚</strong></p>
<p>æ›´æç«¯çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœæ–°æ•°æ®æ’å…¥é‡å¤§äºç­‰äºé¡µå¤§å°ï¼Œç”¨æˆ·å¯èƒ½ä¼šé‡åˆ°ã€Œè¿ç»­å¤šé¡µæ˜¾ç¤ºç›¸åŒæ•°æ®ã€ï¼Œç”šè‡³ã€Œæ°¸è¿œæ— æ³•çœ‹åˆ°åç»­æ•°æ®ã€çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-3">æ–¹æ¡ˆ 1ï¼šã€Œæ—¶é—´æˆ³ + å”¯ä¸€é”®ã€åšã€Œæ¸¸æ ‡åˆ†é¡µã€</h3>
<p>è¿™æ˜¯ç›®å‰æœ€ä¸»æµã€æœ€å½»åº•çš„æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯<strong>æ”¾å¼ƒã€Œåç§»é‡ï¼ˆoffsetï¼‰ã€ï¼Œæ”¹ç”¨ã€Œä¸Šä¸€é¡µæœ€åä¸€æ¡æ•°æ®çš„æ ‡è®°ã€ä½œä¸ºåˆ†é¡µé”šç‚¹</strong>ï¼Œå½»åº•æ‘†è„±ç»“æœé›†å˜åŒ–çš„å½±å“ã€‚</p>
<p><strong>å®ç°åŸç†</strong></p>
<ol>
<li>ç¡®å®šã€Œå”¯ä¸€æ’åºé”®ã€ï¼šå¿…é¡»åŒ…å«ã€Œæ—¶é—´å­—æ®µï¼ˆå¦‚create_timeï¼‰+ å”¯ä¸€é”®ï¼ˆå¦‚idï¼‰ã€ï¼Œç¡®ä¿æ’åºå”¯ä¸€ï¼ˆè§£å†³åœºæ™¯ 3 çš„é¡ºåºæ··ä¹±ï¼‰ã€‚</li>
<li>åˆ†é¡µæ—¶ä¸ä¼ é€’offsetï¼Œè€Œæ˜¯ä¼ é€’ã€Œä¸Šä¸€é¡µæœ€åä¸€æ¡æ•°æ®çš„create_timeå’Œidã€ã€‚</li>
<li>ä¸‹ä¸€é¡µæŸ¥è¯¢ç”¨ã€Œå¤§äº / å°äºã€æ¡ä»¶è¿‡æ»¤ï¼Œæ›¿ä»£LIMIT offset, sizeã€‚</li>
</ol>
<p><strong>SQLç¤ºä¾‹</strong></p>
<ul>
<li>ç¬¬ 1 é¡µæŸ¥è¯¢ï¼ˆæ— é”šç‚¹ï¼Œå–æœ€æ–° 10 æ¡ï¼‰</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id, title, create_time <span class="hljs-keyword">FROM</span> posts
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
<p>å‡è®¾ç¬¬ 1 é¡µæœ€åä¸€æ¡æ•°æ®ä¸ºcreate_time='2024-05-20 14:30:00'ï¼Œid=100ã€‚</p>
<ul>
<li>ç¬¬ 2 é¡µæŸ¥è¯¢ï¼ˆç”¨é”šç‚¹è¿‡æ»¤ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id, title, create_time <span class="hljs-keyword">FROM</span> posts
<span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&lt;=</span> <span class="hljs-string">'2024-05-20 14:30:00'</span> <span class="hljs-comment">-- æ—¶é—´æ—©äºä¸Šä¸€é¡µæœ€åä¸€æ¡</span>
<span class="hljs-keyword">AND</span> id <span class="hljs-operator">&lt;</span> <span class="hljs-number">100</span> <span class="hljs-comment">-- æ—¶é—´ç›¸åŒåˆ™idæ›´å°</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
<p><strong>æ–¹æ¡ˆä¼˜åŠ¿</strong></p>
<ul>
<li>å½»åº•è§£å†³é‡å¤/è·³è¿‡ï¼šé”šç‚¹æ˜¯å…·ä½“æ•°æ®æ ‡è®°ï¼Œä¸å—æ–°æ•°æ®æ’å…¥ã€æ—§æ•°æ®åˆ é™¤å½±å“ã€‚</li>
<li>æ€§èƒ½ä¼˜å¼‚ï¼šwhere æ¡ä»¶å¯åˆ›å»ºè”åˆç´¢å¼•(create_time, id)ï¼Œé¿å…å…¨è¡¨æ‰«æã€‚</li>
<li>å…¼å®¹æ€§å¼ºï¼šåŒæ—¶è§£å†³æ’åºä¸å”¯ä¸€é—®é¢˜ã€‚</li>
</ul>
<p><strong>æ–¹æ¡ˆåŠ£åŠ¿</strong></p>
<ul>
<li>ä¸æ”¯æŒç›´æ¥è·³é¡µï¼šæ— æ³•åƒLIMIT 40,10é‚£æ ·ç›´æ¥è·³è½¬åˆ°ç¬¬ 5 é¡µï¼Œä»…æ”¯æŒä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µæˆ–æ»‘åŠ¨åŠ è½½ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<ul>
<li>æ‰€æœ‰Cç«¯æ»‘åŠ¨åŠ è½½åœºæ™¯ï¼ˆå¸–å­ã€å•†å“ã€è¯„è®ºåˆ—è¡¨ç­‰ï¼‰ã€‚</li>
<li>æ•°æ®é‡è¾ƒå¤§ï¼ˆä¸‡çº§ä»¥ä¸Šï¼‰ï¼Œéœ€ä¼˜åŒ–åˆ†é¡µæ€§èƒ½çš„åœºæ™¯ã€‚</li>
<li>åŒæ ·é€‚åˆå®šæ—¶ä»»åŠ¡é€šè¿‡æ­¤æ–¹æ³•éå†å…¨è¡¨åˆ·å†å²æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-4">æ–¹æ¡ˆ 2ï¼šæ—¶é—´æˆ³è¿‡æ»¤</h3>
<p>ç”±äº<strong>æ–¹æ¡ˆ1</strong>æ— æ³•æ”¯æŒè‡ªç”±åˆ†é¡µï¼Œå¯é€šè¿‡ã€Œå›ºå®šæŸ¥è¯¢æ—¶é—´èŒƒå›´ã€å‡å°‘æ–°æ•°æ®å½±å“ï¼Œæ ¸å¿ƒæ˜¯è®©æ¯æ¬¡åˆ†é¡µæŸ¥è¯¢çš„ã€Œæ—¶é—´çª—å£ã€å›ºå®šï¼Œé¿å…æ–°æ•°æ®è¿›å…¥ç»“æœé›†ã€‚</p>
<p><strong>å®ç°åŸç†</strong></p>
<ol>
<li>ç¬¬ä¸€æ¬¡æŸ¥è¯¢æ—¶ï¼Œè®°å½•ã€Œå½“å‰æ—¶é—´ã€ä½œä¸ºmax_create_timeã€‚</li>
<li>åç»­åˆ†é¡µæŸ¥è¯¢å‡åŠ create_time &lt;= max_create_timeæ¡ä»¶ï¼Œæ–°æ’å…¥æ•°æ®ä¸æ»¡è¶³æ¡ä»¶è¢«æ’é™¤ï¼›</li>
<li>ç”¨æˆ·åˆ·æ–°é¡µé¢æ—¶ï¼Œé‡æ–°è·å–æœ€æ–°max_create_timeï¼Œæ›´æ–°æ—¶é—´çª—å£ã€‚</li>
</ol>
<p><strong>SQLç¤ºä¾‹</strong></p>
<ul>
<li>ç¬¬ 1 é¡µæŸ¥è¯¢ï¼ˆè®°å½•æ—¶é—´çª—å£ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å‡è®¾å½“å‰æ—¶é—´ä¸º2024-05-20 15:00:00</span>
<span class="hljs-keyword">SELECT</span> id, title, create_time <span class="hljs-keyword">FROM</span> posts
<span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&lt;=</span> <span class="hljs-string">'2024-05-20 15:00:00'</span> <span class="hljs-comment">-- å›ºå®šæ—¶é—´çª—å£</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">0</span>,<span class="hljs-number">10</span>;
</code></pre>
<ul>
<li>ç¬¬ 2 é¡µæŸ¥è¯¢ï¼ˆæ²¿ç”¨æ—¶é—´çª—å£ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> id, title, create_time <span class="hljs-keyword">FROM</span> posts
<span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&lt;=</span> <span class="hljs-string">'2024-05-20 15:00:00'</span> <span class="hljs-comment">-- ä¸æ›´æ–°æ—¶é—´</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> create_time <span class="hljs-keyword">DESC</span>, id <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>,<span class="hljs-number">10</span>; <span class="hljs-comment">-- æ­£å¸¸å–ç¬¬äºŒé¡µæ•°æ®å³å¯ï¼ŒåŒºåˆ«**æ–¹æ¡ˆ1**</span>
</code></pre>
<p><strong>æ–¹æ¡ˆä¼˜åŠ¿</strong></p>
<ul>
<li>å®ç°ç®€å•ï¼Œæˆæœ¬ä½ï¼Œåªéœ€è®°å½•é¦–æ¬¡æŸ¥è¯¢æ—¶é—´ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ï¼›é¦–æ¬¡æŸ¥è¯¢çš„æ—¶é—´å¯ä»¥ä¼ ç»™å®¢æˆ·ç«¯ï¼Œåç»­åˆ†é¡µæŸ¥è¯¢è®©å®¢æˆ·ç«¯æŠŠé¦–æ¬¡æŸ¥è¯¢çš„æ—¶é—´ä¼ ç»™æœåŠ¡ç«¯å³å¯ï¼Œä¸éœ€è¦æœåŠ¡å™¨æš‚å­˜æ­¤å‚æ•°ã€‚</li>
<li>å¿«é€Ÿè§£å†³æ–°æ•°æ®é‡å¤ï¼šæ–°æ•°æ®è¢«æ’é™¤åœ¨æ—¶é—´çª—å£å¤–ï¼Œç»“æœé›†ç¨³å®šã€‚</li>
</ul>
<p><strong>æ–¹æ¡ˆåŠ£åŠ¿</strong></p>
<ul>
<li>æ— æ³•è§£å†³æ•°æ®åˆ é™¤å¯¼è‡´çš„è·³è¿‡ï¼šè‹¥æ—¶é—´çª—å£å†…æ•°æ®è¢«åˆ é™¤ï¼Œä¼šå¯¼è‡´éƒ¨åˆ†æ•°æ®è¢«è·³è¿‡ã€‚</li>
<li>æ•°æ®æ»åï¼Œç”¨æˆ·æ»‘åŠ¨åˆ†é¡µæ—¶çœ‹ä¸åˆ°æ–°æ•°æ®ï¼Œéœ€åˆ·æ–°é¡µé¢æˆ–è€…é‡æ–°æŸ¥è¯¢æ‰èƒ½æ›´æ–°ã€‚</li>
<li>æ·±åˆ†é¡µæ€§èƒ½é—®é¢˜ï¼Œæ¯”å¦‚LIMIT 1000000, 10ã€‚</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<ul>
<li>æ‰€æœ‰Cç«¯æ»‘åŠ¨åŠ è½½åœºæ™¯ï¼ˆå¸–å­ã€å•†å“ã€è¯„è®ºåˆ—è¡¨ç­‰ï¼‰ã€‚</li>
<li>ç‰¹åˆ«é€‚åˆåªå¢ä¸åˆ çš„åœºæ™¯ï¼Œæ¯”å¦‚æŸ¥çœ‹è®¿å®¢è®°å½•ã€‚</li>
<li>é€‚åˆä¸å­˜åœ¨æ·±åˆ†é¡µçš„ä¸šåŠ¡åœºæ™¯ï¼Œç”¨æˆ·æ‰‹åŠ¨ç¿»é¡µä¸€èˆ¬å¾ˆå°‘ç¿»åˆ°100é¡µå¾€åã€‚</li>
</ul>
<h3 data-id="heading-5">æ–¹æ¡ˆ 3ï¼šé€‚ç”¨äºElasticsearchçš„ä¸“å±ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p>ä¸Šé¢è®²åˆ°çš„<strong>æ–¹æ¡ˆ1å’Œ2</strong>åŒæ ·é€‚ç”¨äºElasticsearchï¼Œå‚è€ƒMySQLçš„å®ç°æ–¹å¼ï¼Œå¯ä»¥åœ¨Elasticsearchæ‰‹åŠ¨å®ç°ã€‚ä½†<strong>æ–¹æ¡ˆ2</strong>åœ¨æ·±åˆ†é¡µåœºæ™¯ä¸‹ï¼ŒElasticsearché»˜è®¤é™åˆ¶æŸ¥è¯¢ç»“æœçª—å£å¤§å°ä¸º10000æ¡è®°å½•ï¼Œè¶…è¿‡è¯¥å€¼ä¼šè§¦å‘é”™è¯¯æç¤ºâ€œResult window is too largeâ€ã€‚</p>
<p>ä¸ºè§£å†³æ­¤ç±»é—®é¢˜ï¼ŒElasticsearch æä¾› â€œæ»šåŠ¨æŸ¥è¯¢ï¼ˆScrollï¼‰â€ å’Œâ€œSearch_afterâ€åŠŸèƒ½ã€‚</p>
<ul>
<li>
<p>Search_afterï¼šåˆ†é¡µæ—¶éœ€è¦æ’åºï¼ŒåŸç†æ˜¯ä»ä¸Šä¸€æ¬¡çš„æ’åºå€¼å¼€å§‹ï¼ŒæŸ¥è¯¢ä¸‹ä¸€é¡µæ•°æ®ï¼Œä¸éœ€è¦æŒ‡å®šåç§»é‡fromï¼Œç›´æ¥å–å‰sizeæ¡å³å¯ã€‚å®˜æ–¹æ¨èä½¿ç”¨çš„æ–¹å¼ã€‚å’Œæ–¹æ¡ˆ1å®ç°åŸç†ç±»ä¼¼ã€‚</p>
</li>
<li>
<p>Scrollï¼šåŸç†å°†æ’åºåçš„æ–‡æ¡£IDå½¢æˆå¿«ç…§ï¼Œä¿å­˜åœ¨å†…å­˜ï¼Œåç»­åˆ†é¡µåŸºäºå¿«ç…§æŸ¥è¯¢ï¼Œä¸å—æ•°æ®æ›´æ–°å½±å“ã€‚å®˜æ–¹å·²ç»ä¸æ¨èä½¿ç”¨ã€‚</p>
</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆsearch_afteræ–¹å¼ï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¬¬1é¡µæŸ¥è¯¢</span>
<span class="hljs-type">SearchRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchRequest</span>(<span class="hljs-string">"posts"</span>);
<span class="hljs-type">SearchSourceBuilder</span> <span class="hljs-variable">sourceBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchSourceBuilder</span>();
sourceBuilder.query(QueryBuilders.matchAllQuery());
<span class="hljs-comment">// æŒ‰create_timeï¼ˆé™åºï¼‰ã€idï¼ˆé™åºï¼‰æ’åº</span>
sourceBuilder.sort(<span class="hljs-string">"create_time"</span>, SortOrder.DESC);
sourceBuilder.sort(<span class="hljs-string">"id"</span>, SortOrder.DESC);
sourceBuilder.size(<span class="hljs-number">10</span>);
request.source(sourceBuilder);
<span class="hljs-type">SearchResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.search(request, RequestOptions.DEFAULT);

<span class="hljs-comment">// è·å–ç¬¬1é¡µæœ€åä¸€æ¡æ•°æ®çš„æ’åºå€¼ï¼ˆä½œä¸ºä¸‹ä¸€é¡µçš„æ¸¸æ ‡ï¼‰</span>
<span class="hljs-type">SearchHit</span> <span class="hljs-variable">lastHit</span> <span class="hljs-operator">=</span> response.getHits().getHits()[response.getHits().getHits().length - <span class="hljs-number">1</span>];
<span class="hljs-comment">// [1716215400000ï¼ˆcreate_timeçš„æ—¶é—´æˆ³ï¼‰, "100"ï¼ˆidï¼‰]</span>
Object[] lastSortValues = lastHit.getSortValues();

<span class="hljs-comment">// ç¬¬2é¡µæŸ¥è¯¢ï¼ˆç”¨Search Afterï¼‰</span>
sourceBuilder.searchAfter(lastSortValues); <span class="hljs-comment">// ä¼ å…¥ä¸Šä¸€é¡µçš„æ¸¸æ ‡</span>
sourceBuilder.size(<span class="hljs-number">10</span>);
request.source(sourceBuilder);
<span class="hljs-type">SearchResponse</span> <span class="hljs-variable">page2Response</span> <span class="hljs-operator">=</span> client.search(request, RequestOptions.DEFAULT);
</code></pre>
<p><strong>æ–¹æ¡ˆä¼˜åŠ¿</strong></p>
<ol>
<li>
<p>é€‚åˆESæµ·é‡æ•°æ®çš„è·å–ï¼šé¿å…from + sizeåœ¨fromè¾ƒå¤§æ—¶çš„æ€§èƒ½é—®é¢˜ï¼ˆES ä¼šå°†å‰ N æ¡æ•°æ®åŠ è½½åˆ°å†…å­˜ï¼‰ã€‚</p>
</li>
<li>
<p>å…¼å®¹æ€§å¼ºï¼šåŒæ—¶è§£å†³æ’åºä¸å”¯ä¸€é—®é¢˜ã€‚</p>
</li>
</ol>
<p><strong>æ–¹æ¡ˆåŠ£åŠ¿</strong></p>
<ol>
<li>ä¸æ”¯æŒç›´æ¥è·³é¡µï¼šæ— æ³•åƒLIMIT 40,10é‚£æ ·ç›´æ¥è·³è½¬åˆ°ç¬¬ 5 é¡µï¼Œä»…æ”¯æŒä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µæˆ–æ»‘åŠ¨åŠ è½½ã€‚</li>
</ol>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<ol>
<li>
<p>ES å¤§æ•°æ®é‡å…¨é‡å¯¼å‡ºï¼ˆå¦‚å¯¼å‡ºè¿‘ 1 ä¸ªæœˆæ—¥å¿—ã€æ‰¹é‡å¯¼å‡º Excelï¼‰</p>
</li>
<li>
<p>åŒæ–¹æ¡ˆ1åˆ—ä¸¾çš„åœºæ™¯</p>
</li>
</ol>
<h2 data-id="heading-6">æ€»ç»“</h2>
<ol>
<li>é—®é¢˜æœ¬è´¨ï¼šåˆ†é¡µé‡å¤/è·³è¿‡æºäºã€Œé”šç‚¹ä¸ç¨³å®šã€ï¼ˆç”¨offsetæ˜“å—æ•°æ®å¢åˆ å½±å“ï¼‰å’Œã€Œæ’åºä¸å”¯ä¸€ã€ï¼ˆå•ä¸€å­—æ®µæ’åºè§„åˆ™ä¸å›ºå®šï¼‰ï¼Œè§£æ³•æ˜¯ç”¨ã€Œæ•°æ®æ ‡è®°é”šç‚¹ã€ï¼ˆå¦‚æ¸¸æ ‡ï¼‰å’Œã€Œå”¯ä¸€æ’åºç»„åˆã€ï¼ˆå¦‚create_time + idï¼‰ã€‚</li>
<li>æ–¹æ¡ˆé€‰æ‹©é€»è¾‘ï¼šæŒ‰ã€Œæ˜¯å¦éœ€è·³é¡µâ†’æ•°æ®é‡â†’æ›´æ–°é¢‘ç‡ã€å†³ç­–ï¼Œå¦‚Bç«¯éœ€è·³é¡µä¸”æ•°æ®é‡å°ç”¨LIMIT + æ—¶é—´æˆ³ï¼ŒC ç«¯æ»‘åŠ¨åŠ è½½ä¸”æ•°æ®é‡å¤§ç”¨æ¸¸æ ‡åˆ†é¡µï¼ŒES æ‰¹é‡å¯¼å‡ºç”¨Search_afterã€‚</li>
<li>è§„èŒƒä»·å€¼ï¼šæŠ€æœ¯æ–¹æ¡ˆè§£å†³å•æ¬¡é—®é¢˜ï¼Œå»ºç«‹å·¥ç¨‹è§„èŒƒï¼ˆéœ€æ±‚ - ç¼–ç  - æµ‹è¯• - ç›‘æ§ï¼‰å°†ä¸ªäººç»éªŒè½¬åŒ–ä¸ºå›¢é˜Ÿæ ‡å‡†ï¼ŒCRåˆ†é¡µæŸ¥è¯¢ä»£ç é‡ç‚¹å…³æ³¨æ’åºé¡¹æ˜¯å¦å”¯ä¸€ã€æ˜¯å¦æ¸¸æ ‡åˆ†é¡µã€åˆ†é¡µæ˜¯å¦æœ‰é˜²é‡æªæ–½ç­‰ï¼Œé¿å…é‡å¤è¸©å‘ï¼Œä¿éšœåˆ†é¡µåŠŸèƒ½ç¨³å®šï¼Œæå‡ç”¨æˆ·ä½“éªŒä¸ä¸šåŠ¡è¥æ”¶ã€‚</li>
</ol>
<blockquote>
<p>å…³äºä½œè€…ï¼Œé»„æ•¬ä¹¾ï¼Œä¾ å®¢æ±‡Javaå¼€å‘å·¥ç¨‹å¸ˆã€‚</p>
</blockquote>
<blockquote>
<p>è½¬è½¬ç ”å‘ä¸­å¿ƒåŠä¸šç•Œå°ä¼™ä¼´ä»¬çš„æŠ€æœ¯å­¦ä¹ äº¤æµå¹³å°ï¼Œå®šæœŸåˆ†äº«ä¸€çº¿çš„å®æˆ˜ç»éªŒåŠä¸šç•Œå‰æ²¿çš„æŠ€æœ¯è¯é¢˜ã€‚
å…³æ³¨å…¬ä¼—å·ã€Œè½¬è½¬æŠ€æœ¯ã€ï¼ˆç»¼åˆæ€§ï¼‰ã€ã€Œå¤§è½¬è½¬FEã€ï¼ˆä¸“æ³¨äºFEï¼‰ã€ã€Œè½¬è½¬QAã€ï¼ˆä¸“æ³¨äºQAï¼‰ï¼Œæ›´å¤šå¹²è´§å®è·µï¼Œæ¬¢è¿äº¤æµåˆ†äº«~</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éšå¼vsæ˜¾å¼ï¼šè§£å¯†C#ç±»å‹è½¬æ¢çš„åº•å±‚é€»è¾‘]]></title>    <link>https://juejin.cn/post/7573512056088772643</link>    <guid>https://juejin.cn/post/7573512056088772643</guid>    <pubDate>2025-11-17T10:58:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573512056088772643" data-draft-id="7572841327295512628" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éšå¼vsæ˜¾å¼ï¼šè§£å¯†C#ç±»å‹è½¬æ¢çš„åº•å±‚é€»è¾‘"/> <meta itemprop="keywords" content="å‰ç«¯,C#"/> <meta itemprop="datePublished" content="2025-11-17T10:58:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éšå¼vsæ˜¾å¼ï¼šè§£å¯†C#ç±»å‹è½¬æ¢çš„åº•å±‚é€»è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T10:58:10.000Z" title="Mon Nov 17 2025 10:58:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ç±»å‹è½¬æ¢ï¼Ÿ</h2>
<p>ç±»å‹è½¬æ¢æ˜¯å°†ä¸€ä¸ªæ•°æ®ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¦ä¸€ä¸ªæ•°æ®ç±»å‹çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªæ•´æ•° <code>int</code> è½¬æ¢ä¸ºä¸€ä¸ªåŒç²¾åº¦æµ®ç‚¹æ•° <code>double</code>ï¼Œæˆ–è€…å°†ä¸€ä¸ªå­—ç¬¦ä¸² <code>string</code> è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•° <code>int</code>ã€‚</p>
<h3 data-id="heading-1">1. éšå¼è½¬æ¢ (Implicit Conversion) -- è‡ªåŠ¨å®Œæˆ</h3>
<p><strong>éšå¼è½¬æ¢</strong>æ˜¯ä¸€ç§å®‰å…¨ã€è‡ªåŠ¨çš„è½¬æ¢ã€‚å®ƒå‘ç”Ÿåœ¨<strong>ä»ä¸€ä¸ªâ€œå°èŒƒå›´â€æˆ–ç²¾åº¦è¾ƒä½çš„ç±»å‹è½¬æ¢ä¸ºä¸€ä¸ªâ€œå¤§èŒƒå›´â€æˆ–ç²¾åº¦æ›´é«˜çš„ç±»å‹æ—¶</strong>ã€‚å› ä¸ºè¿™ä¸ªè¿‡ç¨‹ä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–å¼•å‘å¼‚å¸¸ï¼Œæ‰€ä»¥C#ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ å®Œæˆï¼Œæ— éœ€ä»»ä½•ç‰¹æ®Šè¯­æ³•ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. ä» int è½¬æ¢ä¸º double</span>
<span class="hljs-built_in">int</span> myInt = <span class="hljs-number">100</span>;
<span class="hljs-built_in">double</span> myDouble = myInt; <span class="hljs-comment">// éšå¼è½¬æ¢ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆ</span>

Console.WriteLine(myInt);    <span class="hljs-comment">// è¾“å‡º: 100</span>
Console.WriteLine(myDouble); <span class="hljs-comment">// è¾“å‡º: 100</span>

<span class="hljs-comment">// 2. ä» long è½¬æ¢ä¸º float</span>
<span class="hljs-built_in">long</span> myLong = <span class="hljs-number">123456789L</span>;
<span class="hljs-built_in">float</span> myFloat = myLong; <span class="hljs-comment">// éšå¼è½¬æ¢</span>

Console.WriteLine(myFloat); <span class="hljs-comment">// è¾“å‡º: 123456790</span>
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼šéšå¼è½¬æ¢æ˜¯â€œä¸‡æ— ä¸€å¤±â€çš„ï¼Œç¼–è¯‘å™¨ç¡®ä¿è½¬æ¢è¿‡ç¨‹ä¸ä¼šä¸¢å¤±æ•°æ®ã€‚</p>
<h3 data-id="heading-2">2. æ˜¾å¼è½¬æ¢ -- ä¸»åŠ¨å®Œæˆ</h3>
<p><strong>æ˜¾å¼è½¬æ¢</strong>ï¼ˆä¹Ÿç§°ä¸º<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼‰éœ€è¦ä½¿ç”¨å¼ºåˆ¶è½¬æ¢è¿ç®—ç¬¦ <code>(ç›®æ ‡ç±»å‹)</code> æ¥æ‰§è¡Œå®Œæˆç±»å‹çš„è½¬æ¢ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. ä» double è½¬æ¢ä¸º int (å°æ•°éƒ¨åˆ†ä¼šä¸¢å¤±)</span>
<span class="hljs-built_in">double</span> pi = <span class="hljs-number">3.14159</span>;
<span class="hljs-built_in">int</span> integerPi = (<span class="hljs-built_in">int</span>)pi; <span class="hljs-comment">// æ˜¾å¼è½¬æ¢</span>

Console.WriteLine(pi);         <span class="hljs-comment">// è¾“å‡º: 3.14159</span>
Console.WriteLine(integerPi);  <span class="hljs-comment">// è¾“å‡º: 3 (å°æ•°éƒ¨åˆ†è¢«æˆªæ–­)</span>

<span class="hljs-comment">// 2. ä» long è½¬æ¢ä¸º int (å¯èƒ½å¯¼è‡´æ•°æ®æº¢å‡º)</span>
<span class="hljs-built_in">long</span> bigNumber = <span class="hljs-number">3000000000L</span>;
<span class="hljs-comment">// ä¸‹é¢çš„è½¬æ¢ä¼šå¯¼è‡´æº¢å‡ºï¼Œå› ä¸º bigNumber è¶…å‡ºäº† int çš„æœ€å¤§å€¼</span>
<span class="hljs-built_in">int</span> smallNumber = (<span class="hljs-built_in">int</span>)bigNumber; <span class="hljs-comment">// åœ¨è¿è¡Œæ—¶ä¼šå¾—åˆ°ä¸€ä¸ªä¸æ­£ç¡®çš„å€¼</span>
Console.WriteLine(smallNumber); <span class="hljs-comment">//è¾“å‡º: -1294967296</span>
</code></pre>
<p><strong>é£é™©è­¦å‘Š</strong>ï¼šæ‰§è¡Œæ˜¾å¼è½¬æ¢æ—¶ï¼Œä½ å¿…é¡»å¯¹æ•°æ®æœ‰å……åˆ†çš„äº†è§£ã€‚å¦‚æœæºç±»å‹çš„å€¼è¶…å‡ºäº†ç›®æ ‡ç±»å‹çš„èŒƒå›´ï¼Œç»“æœå°†æ˜¯ä¸å¯é¢„æµ‹çš„ï¼ˆå¯¹äºæ•°å­—ç±»å‹é€šå¸¸æ˜¯æº¢å‡ºåçš„å€¼ï¼‰ï¼Œè¿™ä¼šæˆä¸ºç¨‹åºä¸­éš¾ä»¥å‘ç°çš„Bugã€‚</p>
<h2 data-id="heading-3">äºŒã€éšå¼è½¬æ¢ vs. æ˜¾å¼è½¬æ¢</h2>






























<table><thead><tr><th>ç‰¹æ€§</th><th>éšå¼è½¬æ¢ (Implicit)</th><th>æ˜¾å¼è½¬æ¢ (Explicit / Cast)</th></tr></thead><tbody><tr><td><strong>å®‰å…¨æ€§</strong></td><td>ç»å¯¹å®‰å…¨ï¼Œæ— æ•°æ®ä¸¢å¤±é£é™©</td><td>æœ‰é£é™©ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–å¼‚å¸¸</td></tr><tr><td><strong>è¯­æ³•</strong></td><td>æ— éœ€ç‰¹æ®Šè¯­æ³•ï¼Œè‡ªåŠ¨å‘ç”Ÿ</td><td>å¿…é¡»ä½¿ç”¨ <code>(ç›®æ ‡ç±»å‹)</code> è¿ç®—ç¬¦</td></tr><tr><td><strong>ç¼–è¯‘å™¨è¡Œä¸º</strong></td><td>ç¼–è¯‘å™¨è‡ªåŠ¨æ‰§è¡Œ</td><td>å¿…é¡»ç”±å¼€å‘è€…æ˜¾å¼æŒ‡å®š</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td><code>int</code> -&gt; <code>double</code></td><td><code>double</code> -&gt; <code>int</code></td></tr></tbody></table>
<h2 data-id="heading-4">ä¸‰ã€ä½¿ç”¨è¾…åŠ©ç±»è¿›è¡Œè½¬æ¢</h2>
<p>é™¤äº†åŸºæœ¬çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œ.NETæ¡†æ¶è¿˜æä¾›äº†ä¸€äº›å¼ºå¤§çš„è¾…åŠ©ç±»å’Œæ–¹æ³•æ¥å¤„ç†æ›´å¤æ‚çš„è½¬æ¢ï¼Œå°¤å…¶æ˜¯ä¸å­—ç¬¦ä¸²ä¹‹é—´çš„è½¬æ¢ã€‚</p>
<ul>
<li>
<p><strong><code>Convert</code> ç±»</strong>ï¼šä¸€ä¸ªéå¸¸å®ç”¨çš„é™æ€ç±»ï¼Œå¯ä»¥åœ¨å¤šç§åŸºå…ƒæ•°æ®ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚å®ƒåœ¨è½¬æ¢å¤±è´¥æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> numberStr = <span class="hljs-string">"123"</span>;
<span class="hljs-built_in">int</span> convertedInt = Convert.ToInt32(numberStr);
</code></pre>
</li>
<li>
<p><strong><code>Parse()</code> å’Œ <code>TryParse()</code> æ–¹æ³•</strong>ï¼šå‡ ä¹æ‰€æœ‰çš„æ•°å€¼å’Œæ—¥æœŸç±»å‹éƒ½æä¾›äº†è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p>
<ul>
<li><code>Parse()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºç›®æ ‡ç±»å‹ï¼Œå¦‚æœå­—ç¬¦ä¸²æ ¼å¼ä¸æ­£ç¡®ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li>
<li><code>TryParse()</code>ï¼šæ›´å®‰å…¨çš„é€‰æ‹©ï¼å®ƒå°è¯•è½¬æ¢å­—ç¬¦ä¸²ï¼Œå¦‚æœæˆåŠŸï¼Œè¿”å› <code>true</code> å¹¶é€šè¿‡ <code>out</code> å‚æ•°è¾“å‡ºç»“æœï¼›å¦‚æœå¤±è´¥ï¼Œè¿”å› <code>false</code> è€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¿™æ˜¯å¤„ç†ç”¨æˆ·è¾“å…¥ç­‰ä¸ç¡®å®šæ•°æ®çš„é¦–é€‰æ–¹æ³•ã€‚</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> userInput = <span class="hljs-string">"456"</span>;
<span class="hljs-built_in">int</span> result;

<span class="hljs-built_in">bool</span> isSuccess = <span class="hljs-built_in">int</span>.TryParse(userInput, <span class="hljs-keyword">out</span> result);

<span class="hljs-keyword">if</span> (isSuccess)
{
    Console.WriteLine(<span class="hljs-string">"è½¬æ¢æˆåŠŸ: "</span> + result);
}
<span class="hljs-keyword">else</span>
{
    Console.WriteLine(<span class="hljs-string">"è½¬æ¢å¤±è´¥ï¼Œè¾“å…¥çš„ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°ã€‚"</span>);
}
</code></pre>
</li>
</ul>
<h2 data-id="heading-5">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä¸¤ä¸ªå¼€æºé¡¹ç›®åœ¨ä¸–ç•Œäº’è”ç½‘å¤§ä¼šä¹Œé•‡å³°ä¼šè·å¥–]]></title>    <link>https://juejin.cn/post/7573225720698683444</link>    <guid>https://juejin.cn/post/7573225720698683444</guid>    <pubDate>2025-11-17T09:31:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573225720698683444" data-draft-id="7573225720698601524" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä¸¤ä¸ªå¼€æºé¡¹ç›®åœ¨ä¸–ç•Œäº’è”ç½‘å¤§ä¼šä¹Œé•‡å³°ä¼šè·å¥–"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2025-11-17T09:31:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä¸¤ä¸ªå¼€æºé¡¹ç›®åœ¨ä¸–ç•Œäº’è”ç½‘å¤§ä¼šä¹Œé•‡å³°ä¼šè·å¥–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:31:25.000Z" title="Mon Nov 17 2025 09:31:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025Â <strong>â€œç›´é€šä¹Œé•‡â€å…¨çƒäº’è”ç½‘å¤§èµ›</strong>æ˜¯ä¸–ç•Œäº’è”ç½‘å¤§ä¼šä¹Œé•‡å³°ä¼šé‡è¦æ´»åŠ¨ä¹‹ä¸€ï¼Œè‡ª 2019 å¹´ä»¥æ¥å·²è¿ç»­ä¸¾åŠ 7 å±Šã€‚æœ¬å±Šå¤§èµ›ä»¥â€œå‘ç°æœªæ¥æ–°åŠ¿åŠ› å…±ç­‘æ•°å­—æ–°ç”Ÿæ€â€ä¸ºä¸»é¢˜ï¼Œè®¾ç½®äººå·¥æ™ºèƒ½ã€æ™ºè”å‡ºè¡Œã€æ•°æ™ºåŒ»ç–—ã€æ™ºèƒ½åˆ¶é€ ã€æ™ºèƒ½ç»ˆç«¯ã€å¼€æºé¡¹ç›®ï¼ˆåˆ†ä¸ºå¼€æºæ¨¡å‹åº”ç”¨èµ›å’Œå¼€æºç«æŠ€æŒ‘æˆ˜èµ›ï¼‰å…­å¤§èµ›é“ã€‚</p>
<p>è‡ª 6 æœˆå¯åŠ¨æŠ¥åä»¥æ¥ï¼Œå…±å¸å¼•æ¥è‡ªå…¨çƒ 29 ä¸ªå›½å®¶çš„ 1082 ä¸ªé¡¹ç›®æŠ¥åå‚èµ›ï¼Œå…¶ä¸­å›½å†…é¡¹ç›® 864 ä¸ªã€æµ·å¤–é¡¹ç›® 218 ä¸ªã€‚ç»è¿‡æ¿€çƒˆè§’é€ï¼Œå…±æœ‰ 71 ä¸ªé¡¹ç›®å…¥å›´å†³èµ›ï¼ŒåŒ…å«æµ·å¤–é¡¹ç›® 11 ä¸ªã€‚åœ¨æœ€ç»ˆçš„å†³èµ›ä¸­ï¼š</p>
<p><strong>Spring AI Alibaba</strong>Â å’ŒÂ <strong>Higress</strong>Â åˆ†åˆ«è·å¾—äº†å¼€æºå…ˆé”‹ç¤¾åŒºã€å¼€æºä¼˜ç§€ç¤¾åŒºçš„ç§°å·ï¼Œä¸¤ä½ç¤¾åŒºè´¡çŒ®è€…<strong>å¼ åœ£èˆª</strong>ï¼ˆGitHubID: shenghangï¼‰ã€<strong>åˆ‘å›½å¯Œ</strong>ï¼ˆGitHubID: erasernoobï¼‰è·å¾—æœ€å…·ä»·å€¼è´¡çŒ®è€…å¥–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a0d99cdda84403b940981542a4684e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976685&amp;x-signature=k42zGPMQOzF%2Bo9%2Fd655anmQZiHw%3D" alt="4ba2f7045ec7bcd4b27a2f459fce62dc.jpg" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae65ec06d44c4bed9d094c5456040924~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976685&amp;x-signature=9NSelnuYW9Pt8BRpr4sf2DWmdB8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56ace434492c469d9173fe99b3ec060a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976685&amp;x-signature=9SqNB%2BTDmTqggZl3AuPTT3OkimU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ„Ÿè°¢æ‰€æœ‰ç¤¾åŒºè´¡çŒ®è€…å’Œå¼€å‘è€…ç”¨æˆ·ä»¬çš„ä¿¡ä»»ã€‚</p>
<h3 data-id="heading-0">å…³äº Spring AI Alibaba</h3>
<p>Spring AI Alibaba å¼€æºé¡¹ç›®åŸºäº Spring AI æ„å»ºï¼Œæ˜¯é˜¿é‡Œäº‘é€šä¹‰ç³»åˆ—æ¨¡å‹åŠæœåŠ¡åœ¨ Java AI åº”ç”¨å¼€å‘é¢†åŸŸçš„æœ€ä½³å®è·µï¼Œæä¾›é«˜å±‚æ¬¡çš„ AI API æŠ½è±¡ä¸äº‘åŸç”ŸåŸºç¡€è®¾æ–½é›†æˆæ–¹æ¡ˆï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»º AI åº”ç”¨ã€‚ç›®å‰ï¼ŒSpring AI Alibaba åº•å±‚æ­£å‡çº§åˆ° AgentScopeï¼Œæœªæ¥ä½œä¸º AgentScope ç”Ÿæ€çš„ä¸€ç¯ï¼Œå®šä½æ˜¯åšå¥½ Spring å’Œ AgentScope çš„è¿æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3605fb5990214f5eb48c38b4d72e3ac4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976685&amp;x-signature=nNGIkNZcrDVpcbghbRRuCXlWL6I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-1">å…³äº Higress</h3>
<p>Higress æ˜¯ä¸€æ¬¾å¼€æºçš„ API ç½‘å…³ï¼Œå†…æ ¸åŸºäº Istio å’Œ Envoyï¼Œå¯ä»¥ç”¨ Go/Rust/JS ç­‰ç¼–å†™ Wasm æ’ä»¶ï¼Œæä¾›å¯¹ K8s é›†ç¾¤çš„ Ingress å…¥å£ç½‘å…³, å¹¶ä¸”å…¼å®¹äº†å¤§é‡ K8s Nginx Ingress çš„æ³¨è§£ï¼Œå¯ä»¥ä» K8s Nginx Ingress å¿«é€Ÿå¹³æ»‘è¿ç§»åˆ° Higressã€‚æ­¤å¤–ï¼Œä½œä¸ºä¸€æ¬¾ AI ç½‘å…³ï¼Œæä¾› LLM API å’Œ MCP API çš„ç»Ÿä¸€ç®¡ç†ã€‚å·²æœåŠ¡äºé€šä¹‰åƒé—®ã€é˜¿é‡Œäº‘ç™¾ç‚¼ã€æºç¨‹ã€èš‚èšæ•°ç§‘ã€é’‰é’‰ã€ä¼˜é…·ã€å¿«æ‰‹ã€Paypalã€æ±¤è‡£å€å¥ã€UUè·‘è…¿ã€Sealosã€å›½æ³°äº§é™©ç­‰äº’è”ç½‘ã€é‡‘èã€IT æœåŠ¡ç­‰å¤šè¡Œä¸šçš„ä¼ä¸šå®¢æˆ·ã€‚</p>
<p>ç‡å…ˆåœ¨å›½å†…å¼€æº AI ç½‘å…³çš„é€šç”¨èƒ½åŠ›ï¼ŒåŒ…æ‹¬</p>
<ul>
<li>é¢å‘å¤§æ¨¡å‹ï¼šç»Ÿä¸€ä»£ç†å„ä¸»æµå¤§æ¨¡å‹å’Œè‡ªå»ºå¤§æ¨¡å‹æœåŠ¡ï¼Œæä¾› OpenAI å…¼å®¹çš„è®¿é—®æ–¹å¼ï¼Œå¹¶æä¾›äºŒæ¬¡ API KEY ç­¾å‘ã€é™æµã€å®‰å…¨é˜²æŠ¤ã€è§‚æµ‹ç­‰æ²»ç†èƒ½åŠ› ã€‚</li>
<li>é¢å‘ Agentï¼šç”¨æˆ·å¯ä¾¿æ·ã€å®‰å…¨åœ°å°†å„ç±»æ™ºèƒ½ä½“èƒ½åŠ›æ— ç¼é›†æˆè‡³ä¸šåŠ¡ç³»ç»Ÿï¼Œå®ç°æ™ºèƒ½å¯¹è¯ã€æµç¨‹è‡ªåŠ¨åŒ–ç­‰åˆ›æ–°åŠŸèƒ½ï¼ŒåŠ©åŠ›ä¼ä¸šé«˜æ•ˆæ„å»ºæ™ºèƒ½åŒ–åº”ç”¨ç”Ÿæ€ã€‚</li>
<li>é¢å‘ MCPï¼šæ”¯æŒ API-to-MCP å¿«é€Ÿè½¬åŒ–ï¼Œå¹¶æä¾› MCP Server ä»£ç†ã€å®‰å…¨è®¤è¯ï¼Œä»¥åŠç»Ÿä¸€è§‚æµ‹ã€é™æµç­‰æ²»ç†èƒ½åŠ›ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ”¯æŒçš„ä¸»è¦æ•°æ®ç±»å‹åŠå…¶ä½¿ç”¨æ–¹å¼]]></title>    <link>https://juejin.cn/post/7573519273029648430</link>    <guid>https://juejin.cn/post/7573519273029648430</guid>    <pubDate>2025-11-17T09:39:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573519273029648430" data-draft-id="7573310642960269350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ”¯æŒçš„ä¸»è¦æ•°æ®ç±»å‹åŠå…¶ä½¿ç”¨æ–¹å¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-17T09:39:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·013608756688"/> <meta itemprop="url" content="https://juejin.cn/user/1704711328379395"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ”¯æŒçš„ä¸»è¦æ•°æ®ç±»å‹åŠå…¶ä½¿ç”¨æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1704711328379395/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·013608756688
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:39:11.000Z" title="Mon Nov 17 2025 09:39:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰ç«¯å‘é€HTTPè¯·æ±‚å¯ä»¥å‘é€å¤šç§æ•°æ®ï¼Œä¸é™äºäºŒè¿›åˆ¶ã€‚ä¸‹é¢æ˜¯æ”¯æŒçš„ä¸»è¦ç±»å‹</h3>
<h6 data-id="heading-1">1.æ–‡æœ¬ç±»</h6>
<ul>
<li>application/json
APIäº¤äº’ã€æäº¤ç»“æ„åŒ–æ•°æ®</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/user'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> })
});
</code></pre>
<ul>
<li>text/plain
çº¯æ–‡æœ¬å†…å®¹ï¼ˆå¦‚æ—¥å¿—ã€ç®€å•æ¶ˆæ¯ï¼‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/log'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/plain'</span> },
  <span class="hljs-attr">body</span>: <span class="hljs-string">'User clicked button at 10:00'</span>
});
</code></pre>
<ul>
<li>application/x-www-form-urlencoded
ä¼ ç»Ÿè¡¨å•æäº¤ï¼ˆç±»ä¼¼formé»˜è®¤è¡Œä¸ºï¼‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>();
params.<span class="hljs-title function_">append</span>(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Alice'</span>);
params.<span class="hljs-title function_">append</span>(<span class="hljs-string">'age'</span>, <span class="hljs-string">'25'</span>);

<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/submit'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/x-www-form-urlencoded'</span> },
  <span class="hljs-attr">body</span>: params
});
</code></pre>
<h6 data-id="heading-2">2.è¡¨å•ä¸æ–‡ä»¶æ··åˆMultipart</h6>
<p>multipart/form-data</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'username'</span>, <span class="hljs-string">'Alice'</span>);
formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'avatar'</span>, fileInput.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]); <span class="hljs-comment">// äºŒè¿›åˆ¶æ–‡ä»¶</span>

<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/upload'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>, <span class="hljs-attr">body</span>: formData }); <span class="hljs-comment">// ä¸è¦æ‰‹åŠ¨è®¾ Content-Typeï¼</span>
</code></pre>
<h6 data-id="heading-3">3.äºŒè¿›åˆ¶ç±»Binary</h6>
<ul>
<li>åŸå§‹äºŒè¿›åˆ¶æµï¼ˆapplication/octet-streamï¼‰</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>([<span class="hljs-number">72</span>, <span class="hljs-number">101</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">111</span>]); <span class="hljs-comment">// "Hello"</span>
<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/raw-binary'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/octet-stream'</span> },
  <span class="hljs-attr">body</span>: buffer
});
</code></pre>
<ul>
<li>åŠ¨æ€ç”Ÿæˆçš„äºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚ Canvas å¯¼å‡ºå›¾ç‰‡ï¼‰</li>
</ul>
<pre><code class="hljs language-js" lang="js">canvas.<span class="hljs-title function_">toBlob</span>(<span class="hljs-function"><span class="hljs-params">blob</span> =&gt;</span> {
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/upload-image'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">body</span>: blob <span class="hljs-comment">// è‡ªåŠ¨è¯†åˆ«ä¸ºäºŒè¿›åˆ¶</span>
  });
}, <span class="hljs-string">'image/png'</span>);
</code></pre>
<h6 data-id="heading-4">4. å…¶ä»–ç‰¹æ®Šç±»å‹</h6>
<p>application/xml æˆ– text/xml</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">xml</span> = `&lt;user&gt;&lt;name&gt;Alice&lt;/name&gt;&lt;/user&gt;`;
<span class="hljs-title function_ invoke__">fetch</span>(<span class="hljs-string">'/legacy-api'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/xml'</span> },
  <span class="hljs-attr">body</span>: xml
});
</code></pre>
<h6 data-id="heading-5">å°†äºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚ Blob æˆ– Fileï¼‰è½¬æ¢ä¸ºä¸€ä¸ªä¸´æ—¶çš„ã€å¯è®¿é—®çš„ URL</h6>
<p>æ ¸å¿ƒAPIï¼šURL.createObjectURL()
æ¥æ”¶ä¸€ä¸ªBlobæˆ–Fileå¯¹è±¡
è¿”å›ä¸€ä¸ªå½¢å¦‚blob:<a href="https://link.juejin.cn?target=https%3A%2F%2Fxxx.com%2Fuuid" target="_blank" title="https://xxx.com/uuid" ref="nofollow noopener noreferrer">xxx.com/uuid</a> çš„ä¸´æ—¶URL
è¯¥ URL åœ¨å½“å‰æ–‡æ¡£ï¼ˆé¡µé¢ï¼‰ç”Ÿå‘½å‘¨æœŸå†…æœ‰æ•ˆ
æ›¿ä»£æ–¹å¼ï¼š</p>























<table><thead><tr><th>æ–¹å¼</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>URL.createObjectURL()</td><td>é«˜æ•ˆã€æ”¯æŒä»»æ„äºŒè¿›åˆ¶ã€å¯é‡å¤ä½¿ç”¨</td><td>éœ€æ‰‹åŠ¨é‡Šæ”¾å†…å­˜</td><td>å›¾ç‰‡/è§†é¢‘é¢„è§ˆã€å¤§æ–‡ä»¶ä¸‹è½½</td></tr><tr><td>FileReader.readAsDataURL()</td><td>è¿”å› base64 å­—ç¬¦ä¸²ï¼Œæ— éœ€é‡Šæ”¾</td><td>å†…å­˜å ç”¨é«˜ï¼ˆbase64 æ¯”åŸæ•°æ®å¤§ 33%ï¼‰ã€ä¸é€‚åˆå¤§æ–‡ä»¶</td><td>å°å›¾æ ‡ã€ç®€å•æ–‡æœ¬é¢„è§ˆ</td></tr></tbody></table>
<p><strong>åŠ¡å¿…åœ¨é€‚å½“æ—¶æœºè°ƒç”¨Â <code>URL.revokeObjectURL()</code> <strong>å¦‚æœä¸é‡Šæ”¾ï¼Œå¯èƒ½å¯¼è‡´</strong>å†…å­˜æ³„æ¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Bootstrapä¸€å¤©æå®šå“åº”å¼ç½‘ç«™ï¼šå‰ç«¯å°ç™½çš„æ•‘å‘½ç¨»è‰]]></title>    <link>https://juejin.cn/post/7573486671296970794</link>    <guid>https://juejin.cn/post/7573486671296970794</guid>    <pubDate>2025-11-17T09:40:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573486671296970794" data-draft-id="7573300346263240758" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Bootstrapä¸€å¤©æå®šå“åº”å¼ç½‘ç«™ï¼šå‰ç«¯å°ç™½çš„æ•‘å‘½ç¨»è‰"/> <meta itemprop="keywords" content="å‰ç«¯,HTML"/> <meta itemprop="datePublished" content="2025-11-17T09:40:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Bootstrapä¸€å¤©æå®šå“åº”å¼ç½‘ç«™ï¼šå‰ç«¯å°ç™½çš„æ•‘å‘½ç¨»è‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:40:02.000Z" title="Mon Nov 17 2025 09:40:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦æŒ£æ‰åœ¨CSSçš„å…¼å®¹æ€§åœ°ç‹±ï¼Ÿé¢å¯¹ä¸åŒå±å¹•å°ºå¯¸æ˜¯å¦æ„Ÿåˆ°ç»æœ›ï¼Ÿåˆ«æ‹…å¿ƒï¼ŒBootstrapå°±æ˜¯ä¸ºä½ è€Œæ¥çš„æ•‘æ˜Ÿï¼
è¿˜è®°å¾—ç¬¬ä¸€æ¬¡åšå“åº”å¼ç½‘ç«™çš„ç—›è‹¦å—ï¼Ÿåª’ä½“æŸ¥è¯¢å†™å¾—å¤´æ™•çœ¼èŠ±ï¼Œåœ¨ä¸åŒè®¾å¤‡ä¸Šæµ‹è¯•åˆ°å´©æºƒï¼Œå¸ƒå±€æ€»æ˜¯ä¸å¬è¯ã€‚æ›´å¯æ€•çš„æ˜¯ï¼Œè¿˜è¦å¤„ç†å„ç§æµè§ˆå™¨çš„æ€ªå¼‚è¡Œä¸ºã€‚ç°åœ¨ï¼Œè®©æˆ‘å¸¦ä½ èµ°è¿›Bootstrapçš„ä¸–ç•Œï¼Œçœ‹çœ‹å®ƒå¦‚ä½•è®©ä½ åœ¨ä¸€å¤©å†…åšå‡ºæ¼‚äº®çš„å“åº”å¼ç½‘ç«™</p>
<h2 data-id="heading-0">Bootstrapæ¡†æ¶</h2>
<p>ç®€å•æ¥è¯´ï¼ŒBootstrapæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ã€<strong>ç§»åŠ¨ä¼˜å…ˆ</strong>çš„CSS/JavaScriptæ¡†æ¶ã€‚å®ƒç”±Twitterçš„è®¾è®¡å¸ˆå’Œå¼€å‘è€…åˆ›å»ºï¼Œæä¾›äº†ä¸€ç³»åˆ—é¢„å®šä¹‰çš„CSSæ ·å¼ç±»å’ŒJavaScriptæ’ä»¶ã€‚
ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ª<strong>å·¨å¤§çš„â€œUIé›¶ä»¶åº“â€</strong> ï¼š</p>
<ul>
<li><strong>CSSé›¶ä»¶</strong>ï¼šæä¾›äº†ç°æˆçš„æŒ‰é’®ã€è¡¨æ ¼ã€è¡¨å•ã€å¯¼èˆªæ ç­‰ç»„ä»¶çš„æ ·å¼ã€‚</li>
<li><strong>å¸ƒå±€é›¶ä»¶</strong>ï¼šæä¾›äº†ä¸€å¥—æˆç†Ÿçš„ç½‘æ ¼ç³»ç»Ÿï¼Œè®©ä½ èƒ½è½»æ¾åˆ›å»ºå“åº”å¼å¸ƒå±€ã€‚</li>
<li><strong>JSé›¶ä»¶</strong>ï¼šæä¾›äº†ä¸€äº›å¸¸è§çš„äº¤äº’ç»„ä»¶ï¼Œå¦‚æ¨¡æ€æ¡†ã€è½®æ’­å›¾ã€ä¸‹æ‹‰èœå•ç­‰ã€‚
ä½¿ç”¨Bootstrapï¼Œä½ æ— éœ€ä»é›¶å¼€å§‹å†™CSSï¼Œåªéœ€è¦åœ¨HTMLå…ƒç´ ä¸Šæ·»åŠ å¯¹åº”çš„ç±»åï¼Œå°±èƒ½å¿«é€Ÿåº”ç”¨ä¸€å¥—æˆç†Ÿã€ç¾è§‚çš„æ ·å¼</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒæ¦‚å¿µä¸è¯­æ³•è¯¦è§£</h2>
<h3 data-id="heading-2">1. å¼•å…¥Bootstrap</h3>
<p>ä½¿ç”¨Bootstrapçš„ç¬¬ä¸€æ­¥æ˜¯å°†å…¶CSSå’ŒJSæ–‡ä»¶å¼•å…¥åˆ°ä½ çš„HTMLé¡¹ç›®ä¸­ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªBootstrapé¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¼•å…¥ Bootstrap CSS --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, Bootstrap!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å¼•å…¥ Bootstrap JS (åŒ…å« Popper) --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2. å¸ƒå±€çš„çµé­‚ï¼šç½‘æ ¼ç³»ç»Ÿ</h3>
<p>Bootstrapçš„ç½‘æ ¼ç³»ç»Ÿæ˜¯å…¶æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚å®ƒä½¿ç”¨å®¹å™¨ã€è¡Œå’Œåˆ—æ¥å¸ƒå±€å’Œå¯¹é½å†…å®¹ï¼Œå¹¶ä¸”æ˜¯<strong>å“åº”å¼</strong>çš„ï¼Œèƒ½è‡ªåŠ¨é€‚åº”ä¸åŒå¤§å°çš„å±å¹•</p>
<h4 data-id="heading-4">æ ¸å¿ƒæ¦‚å¿µï¼š</h4>
<ul>
<li><code>.container</code>ï¼š å›ºå®šå®½åº¦çš„å®¹å™¨ï¼Œç”¨äºåŒ…è£¹æ•´ä¸ªé¡µé¢å†…å®¹ã€‚<code>.container-fluid</code>Â æ˜¯100%å®½åº¦çš„å®¹å™¨ã€‚</li>
<li><code>.row</code>ï¼š è¡Œï¼Œç”¨äºåŒ…è£¹ä¸€ç»„åˆ—</li>
<li><code>.col-*</code>ï¼š åˆ—ï¼Œæ˜¯å†…å®¹çš„ç›´æ¥å®¹å™¨
Bootstrapçš„ç½‘æ ¼å°†ä¸€è¡Œåˆ†ä¸º12ç­‰ä»½ã€‚é€šè¿‡æŒ‡å®šÂ <code>.col-</code>Â çš„åç¼€æ¥å†³å®šä¸€åˆ—å å¤šå°‘ä»½</li>
</ul>
<h4 data-id="heading-5">ä»£ç ç¤ºä¾‹ï¼šä¸€ä¸ªä¸‰æ å¸ƒå±€</h4>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container my-5"</span>&gt;</span> <span class="hljs-comment">&lt;!-- my-5 æ˜¯ä¸Šä¸‹è¾¹è·çš„å·¥å…·ç±» --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- åœ¨ä¸­ç­‰å±å¹•åŠä»¥ä¸Šï¼Œæ¯åˆ—å 4ä»½ï¼ˆ12/4=3ï¼Œå³ä¸‰æ ï¼‰ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-3 border bg-light"</span>&gt;</span> <span class="hljs-comment">&lt;!-- å†…è¾¹è·ã€è¾¹æ¡†å’ŒèƒŒæ™¯è‰²å·¥å…·ç±» --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å·¦ä¾§æ <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸€äº›å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-3 border bg-light"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ä¸»å†…å®¹åŒº<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ›´å¤šå†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-3 border bg-light"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å³ä¾§æ <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å…¶ä»–å†…å®¹...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-6">3. ä¸°å¯Œçš„ç»„ä»¶ï¼šæŒ‰é’®</h3>
<p>Bootstrapæä¾›äº†å¤šç§æ ·å¼å’ŒçŠ¶æ€çš„æŒ‰é’®ï¼Œåªéœ€ä¸€ä¸ªç±»åå³å¯æå®š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- åŸºç¡€æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span>&gt;</span>ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span>&gt;</span>æ¬¡è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-success"</span>&gt;</span>æˆåŠŸæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span>&gt;</span>å±é™©æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-warning"</span>&gt;</span>è­¦å‘ŠæŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-info"</span>&gt;</span>ä¿¡æ¯æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-light"</span>&gt;</span>æµ…è‰²æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-dark"</span>&gt;</span>æ·±è‰²æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æè¾¹æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-outline-primary"</span>&gt;</span>æè¾¹ä¸»è¦æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¸åŒå¤§å°çš„æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary btn-lg"</span>&gt;</span>å¤§æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary btn-sm"</span>&gt;</span>å°æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">4. å¸¸ç”¨ç»„ä»¶ï¼šå¯¼èˆªæ </h3>
<p>å¯¼èˆªæ æ˜¯æ¯ä¸ªç½‘ç«™å‡ ä¹å¿…å¤‡çš„ç»„ä»¶ï¼ŒBootstrapè®©å®ƒå˜å¾—éå¸¸ç®€å•</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar navbar-expand-lg navbar-dark bg-dark"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container-fluid"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-brand"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>æˆ‘çš„ç½‘ç«™<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-toggler"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">data-bs-toggle</span>=<span class="hljs-string">"collapse"</span> <span class="hljs-attr">data-bs-target</span>=<span class="hljs-string">"#navbarNav"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-toggler-icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"collapse navbar-collapse"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navbarNav"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-nav"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link active"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>è”ç³»æ–¹å¼<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">5. äº¤äº’ç»„ä»¶ï¼šæ¨¡æ€æ¡†</h3>
<p>æ¨¡æ€æ¡†ï¼ˆModalï¼‰æ˜¯ä¸€ä¸ªå¼¹çª—ç»„ä»¶ï¼Œæ— éœ€å†™JavaScriptå³å¯æ¿€æ´»</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- è§¦å‘æŒ‰é’® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span> <span class="hljs-attr">data-bs-toggle</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">data-bs-target</span>=<span class="hljs-string">"#exampleModal"</span>&gt;</span>
  å¯åŠ¨æ¼”ç¤ºæ¨¡æ€æ¡†
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ¨¡æ€æ¡†ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal fade"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"exampleModal"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"-1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-dialog"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-header"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-title"</span>&gt;</span>æ¨¡æ€æ¡†æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-close"</span> <span class="hljs-attr">data-bs-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-body"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ¨¡æ€æ¡†æ­£æ–‡å†…å®¹åœ¨è¿™é‡Œã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-footer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">data-bs-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span>&gt;</span>ä¿å­˜æ›´æ”¹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2 data-id="heading-9">æ€»ç»“</h2>
<ul>
<li>âœ…  <strong>ç§»åŠ¨ä¼˜å…ˆåŸåˆ™</strong>ï¼šä»å°å±å¹•å¼€å§‹è®¾è®¡ï¼Œå†ç”¨æ–­ç‚¹ç±»é€‚é…å¤§å±</li>
<li>âœ… <strong>JavaScriptä¾èµ–</strong>ï¼šäº¤äº’åŠŸèƒ½å¿…é¡»å¼•å…¥Bootstrapçš„JSæ–‡ä»¶</li>
<li>âœ…  <strong>é¿å…æ ·å¼å†²çª</strong>ï¼šä¸è¦åŒæ—¶ä½¿ç”¨å¤šä¸ªUIæ¡†æ¶ï¼Œä¼šå†²çª</li>
<li>âœ…  <strong>è‡ªå®šä¹‰æ ·å¼</strong>ï¼šè‡ªå®šä¹‰CSSè¦åœ¨Bootstrapä¹‹åå¼•å…¥</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SCALE | 2025 å¹´ 10 æœˆã€Šå¤§æ¨¡å‹ SQL èƒ½åŠ›æ’è¡Œæ¦œã€‹å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7573241978902937615</link>    <guid>https://juejin.cn/post/7573241978902937615</guid>    <pubDate>2025-11-17T09:19:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573241978902937615" data-draft-id="7573241978902904847" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SCALE | 2025 å¹´ 10 æœˆã€Šå¤§æ¨¡å‹ SQL èƒ½åŠ›æ’è¡Œæ¦œã€‹å‘å¸ƒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T09:19:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±å¯ç”Ÿå¼€æºç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1480387593251847"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SCALE | 2025 å¹´ 10 æœˆã€Šå¤§æ¨¡å‹ SQL èƒ½åŠ›æ’è¡Œæ¦œã€‹å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1480387593251847/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±å¯ç”Ÿå¼€æºç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:19:30.000Z" title="Mon Nov 17 2025 09:19:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a8814d8c2444d74873065584740ab7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=yMaRzGXrN4wkF0sglROulPfbOEM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€æœ¬æœˆå¯¼è§ˆä¸æ ¸å¿ƒçœ‹ç‚¹</h2>
<p>2025 å¹´ 10 æœˆï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fsql-llm-leaderboard.com%2Franking%2F2025-10" title="https://sql-llm-leaderboard.com/ranking/2025-10" target="_blank" ref="nofollow noopener noreferrer">SCALE</a> è¯„æµ‹åŸºå‡†æŒç»­è¿½è¸ª AI åœ¨ä¸“ä¸š SQL é¢†åŸŸçš„æœ€æ–°è¿›å±•ã€‚æœ¬æœˆï¼Œæ¦œå•è¿æ¥äº†èš‚èšç™¾çµå¤§æ¨¡å‹å›¢é˜Ÿå‘å¸ƒçš„ä¸¤å¤§ ä¸‡äº¿çº§ å‚æ•°çš„æ¨¡å‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FinclusionAI%2FLing-1T" target="_blank" title="https://huggingface.co/inclusionAI/Ling-1T" ref="nofollow noopener noreferrer">Ling-1T</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FinclusionAI%2FRing-1T" target="_blank" title="https://huggingface.co/inclusionAI/Ring-1T" ref="nofollow noopener noreferrer">Ring-1T</a>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66d3a7c5c08548e0a40b8987c1c2ced0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=ZTna70McYAWcGLWKD3JA%2BuI6%2FIo%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>Ling-1T</strong> ï¼šèš‚èšç™¾çµå¤§æ¨¡å‹ <strong>Ling 2.0</strong> ç³»åˆ—çš„ç¬¬ä¸€æ¬¾æ——èˆ°æ¨¡å‹ã€‚</li>
<li><strong>Ring-1T</strong> ï¼šä¸€æ¬¾åŸºäº <strong>Ling 2.0</strong> æ¶æ„çš„æ€è€ƒæ¨¡å‹ï¼Œä¹Ÿæ˜¯å…¨çƒé¦–ä¸ªå¼€æºä¸‡äº¿å‚æ•°æ€è€ƒæ¨¡å‹ã€‚</li>
</ul>
<p>æœ¬æœŸæ ¸å¿ƒçœ‹ç‚¹ï¼š</p>
<ul>
<li><strong>æ–°å¢æ¨¡å‹è¯„æµ‹</strong> ï¼šé¦–æ¬¡å¼•å…¥èš‚èš <em>Ling-1T</em> ä¸ <em>Ring-1T</em> æ¨¡å‹ã€‚è¯„æµ‹æ•°æ®æ˜¾ç¤ºï¼Œä¸¤æ¬¾æ¨¡å‹å‘ˆç°å‡ºæ¸…æ™°çš„èƒ½åŠ›åˆ†åŒ–ï¼š
<ul>
<li>Ling-1T åœ¨ã€Œ<strong>å›½äº§æ•°æ®åº“</strong>ã€è½¬æ¢åœºæ™¯ä¸­è¡¨ç°çªå‡ºï¼Œè·å¾—æ»¡åˆ†ï¼</li>
<li>Ring-1T åœ¨ã€Œ<strong>SQL ä¼˜åŒ–</strong> ã€å’Œã€Œ<strong>SQL ç†è§£</strong> ã€ç»´åº¦å±•ç°äº† <strong>æ›´ä¸ºå‡è¡¡å’Œç¨³å¥çš„ç»¼åˆèƒ½åŠ›</strong>ï¼Œæ€»åˆ†å‡è¿›å…¥æ¦œå•ä¸Šæ¸¸ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€è¯„æµ‹åŸºå‡†è¯´æ˜</h2>
<p>ä¸ºä¿è¯è¯„æµ‹ç»“æœçš„é•¿æœŸå¯æ¯”æ€§å’Œæƒå¨æ€§ï¼Œæœ¬æœˆæˆ‘ä»¬çš„æ ¸å¿ƒè¯„æµ‹åŸºå‡†ä¸ç®—æ³•ä¿æŒä¸å˜ï¼Œç»§ç»­æ²¿ç”¨ <strong>SCALE</strong> è‡ªåˆ›ç«‹ä¹‹åˆä¾¿ç¡®ç«‹çš„ä¸‰ç»´è¯„æµ‹ä½“ç³»ï¼Œç¡®ä¿æ‰€æœ‰æ¨¡å‹ä¸å·¥å…·åœ¨ç»Ÿä¸€ã€æ ‡å‡†çš„æµ‹è¯•ç¯å¢ƒä¸‹è¿›è¡Œè¯„ä¼°ï¼Œä»¥æä¾›å…¬æ­£ã€å¯å¤ç°çš„è¯„æµ‹ç»“æœã€‚</p>
<ul>
<li><strong>SQL ä¼˜åŒ–</strong>ï¼šè€ƒå¯Ÿæ¨¡å‹æå‡æŸ¥è¯¢æ•ˆç‡ä¸æ€§èƒ½çš„æ„è¯†å’Œèƒ½åŠ›ã€‚</li>
<li><strong>æ–¹è¨€è½¬æ¢</strong>ï¼šè€ƒå¯Ÿæ¨¡å‹åœ¨ä¸»æµæ•°æ®åº“ä¹‹é—´è¿›è¡Œè¯­æ³•è¿ç§»çš„å‡†ç¡®æ€§ã€‚</li>
<li><strong>SQL ç†è§£</strong>ï¼šè€ƒå¯Ÿæ¨¡å‹æ˜¯å¦èƒ½ç²¾å‡†è§£æå¤æ‚çš„æŸ¥è¯¢é€»è¾‘ä¸ç”¨æˆ·æ„å›¾çš„èƒ½åŠ›ã€‚</li>
</ul>
<p>æœ¬æœˆæ‰€æœ‰æ–°å¢æ¨¡å‹å‡åœ¨æ­¤æ ‡å‡†ä½“ç³»ä¸‹è¿›è¡Œè¯„ä¼°ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ç„¦ç‚¹åˆ†æ</h2>
<h3 data-id="heading-3">ä¸“é¢˜ä¸€ï¼šLing-1T é¦–æ¬¡è¯„æµ‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3efaa8ebe0084138926236e0402bc536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=qKIgmjllhYe1ufvflmGg9htPP3k%3D" alt="å‘å¸ƒæ—¥æœŸï¼š2025-10-09" loading="lazy"/></p>
<p><em>Ling-1T</em> ä½œä¸º <strong>Ling 2.0</strong> ç³»åˆ—çš„é¦–æ¬¾æ——èˆ°éæ€è€ƒæ¨¡å‹ï¼Œåœ¨æœ¬æœˆé¦–æ¬¡å‚è¯„ã€‚å…¶å„ç»´åº¦æ€»åˆ†åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li><strong>SQL ä¼˜åŒ–</strong>ï¼š62.5</li>
<li><strong>æ–¹è¨€è½¬æ¢</strong>ï¼š59.2</li>
<li><strong>SQL ç†è§£</strong>ï¼š59.4</li>
</ul>
<p>è¯„æµ‹ç»“æœæ˜¾ç¤ºï¼Œè¯¥æ¨¡å‹èƒ½åŠ›ç‰¹ç‚¹é²œæ˜ï¼Œåœ¨ç‰¹å®šåœºæ™¯è¡¨ç°ä¼˜å¼‚ï¼Œä½†åœ¨å¤æ‚ä»»åŠ¡å¤„ç†ä¸Šä»å­˜åœ¨æ˜æ˜¾çŸ­æ¿ã€‚</p>
<h4 data-id="heading-4">SQL ä¼˜åŒ–èƒ½åŠ›ï¼š62.5</h4>
<p><em>Ling-1T</em> åœ¨ <strong>SQL ä¼˜åŒ–</strong> ç»´åº¦è·å¾— 62.5 åˆ†ã€‚æ ¹æ®ç»†åˆ†æŒ‡æ ‡æ•°æ®æ˜¾ç¤ºï¼Œè¯¥æ¨¡å‹åœ¨ã€Œ<strong>é€»è¾‘ç­‰ä»·</strong>ã€æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œä»¥ 84.2 åˆ†ä½åˆ—è¯¥é¡¹ç¬¬ 5 åã€‚</p>
<p>ç„¶è€Œï¼Œå…¶åœ¨ã€Œ<strong>ä¼˜åŒ–æ·±åº¦</strong> ã€ä¸Šè¡¨ç°ä¸è¶³ï¼Œå¾—åˆ†ä»…ä¸º 51.1 åˆ†ï¼ˆæ’åç¬¬ 17ï¼‰ï¼ŒåŒæ—¶ã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong> ã€å¾—åˆ†ä¹Ÿåä½ï¼ˆ84.2åˆ†ï¼‰ï¼ˆæ’åç¬¬ 18ï¼‰ï¼Œåˆ†ææµ‹è¯„æŠ¥å‘Šå¯è§ï¼Œæ¨¡å‹å°†ç¬¦åˆ MySQL å®½æ¾æ¨¡å¼çš„ <code>GROUP BY</code> æŸ¥è¯¢è¯¯åˆ¤ä¸ºæœ‰è¯­æ³•é”™è¯¯ï¼›å¯¹ <code>UNION</code> æŸ¥è¯¢ä¸­ <code>ORDER BY/LIMIT</code> çš„è¯­æ³•è§„åˆ™ç†è§£ä¸å‡†ç¡®ã€‚</p>
<p><strong>æ ¸å¿ƒç¼ºé™·</strong> ï¼šæ¨¡å‹ç¼ºä¹å¯¹æ•°æ®åº“ç‰¹å®šæ¨¡å¼ï¼ˆå¦‚ MySQL çš„ <code>ONLY_FULL_GROUP_BY</code>ï¼‰å’Œ <strong>SQL æ ‡å‡†/æ–¹è¨€å·®å¼‚</strong> çš„ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›ï¼Œè¿‡åº¦ä¾èµ–æ•™æ¡å¼è¯­æ³•è§„åˆ™ï¼Œæ— æ³•æ ¹æ®æ•°æ®åº“é…ç½®çµæ´»åˆ¤æ–­è¯­æ³•æ­£ç¡®æ€§ï¼Œå¯¼è‡´åœ¨è¾¹ç•Œæƒ…å†µä¸‹çš„è¯¯åˆ¤ã€‚è¿™ä¸€ç³»åˆ—åˆ†æ•°è¡¨æ˜ï¼Œæ¨¡å‹å…·å¤‡ä¿éšœé€»è¾‘ä¸€è‡´æ€§çš„èƒ½åŠ›ï¼Œä½†åœ¨åº”ç”¨æ·±åº¦ä¼˜åŒ–ç­–ç•¥å’Œä¿éšœè¯­æ³•è§„èŒƒæ€§æ–¹é¢ä»æœ‰è¾ƒå¤§æå‡ç©ºé—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb683584662e4c9599ae35e84d96795e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=xThp7ZWwdEgjhgEZ7aKYlTJJSTc%3D" alt="Ling-1Tï¼šSQL ä¼˜åŒ–ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h4 data-id="heading-5">æ–¹è¨€è½¬æ¢èƒ½åŠ›ï¼š59.2</h4>
<p>æ­¤ç»´åº¦å¾—åˆ†å‘ˆç°å‡ºæ˜¾è‘—çš„èƒ½åŠ›åˆ†åŒ–ï¼ˆæ€»åˆ† 59.2ï¼Œæ’åç¬¬ 17ï¼‰ã€‚<strong>å…¶æœ€å¤§äº®ç‚¹åœ¨äºå¯¹å›½å†…æ•°æ®åº“ç”Ÿæ€çš„é€‚é…æ€§</strong> ï¼Œå…¶ã€Œ<strong>å›½äº§æ•°æ®åº“</strong> ã€è½¬æ¢å­é¡¹è·å¾— 100 åˆ†æ»¡åˆ†ï¼ˆä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsqlshift.cn%2F" target="_blank" title="https://sqlshift.cn/" ref="nofollow noopener noreferrer">SQLShift</a> å¹¶åˆ—ï¼‰ï¼Œå±•ç°äº†å…¶åœ¨è¯¥ç‰¹å®šåœºæ™¯ä¸‹çš„å“è¶Šèƒ½åŠ›ã€‚</p>
<p>ç„¶è€Œï¼Œæ¨¡å‹åœ¨å¤„ç†å¤æ‚è¿ç§»ä»»åŠ¡æ—¶è¡¨ç°æŒ£æ‰ã€‚ã€Œ<strong>å¤§ SQL è½¬æ¢</strong> ã€å¾—åˆ†ä»…ä¸º 12.9åˆ†ï¼ˆæ’åç¬¬ 20ï¼‰ã€‚æµ‹è¯„æŠ¥å‘Šæ˜¾ç¤ºï¼Œåœ¨å¤æ‚ SQL æ–¹è¨€è½¬æ¢ä¸­ï¼Œæ¨¡å‹è¯¯ç”¨ä¸å…¼å®¹è¯­æ³•ï¼ˆå¦‚ä¿ç•™ <code>SET NOCOUNT ON</code>ã€æ··ç”¨ <code>DBMS_OUTPUT</code> ç­‰ï¼‰ï¼Œä¸”å¯¹æ§åˆ¶æµã€æ¸¸æ ‡ã€å¼‚å¸¸å¤„ç†ç­‰ç»“æ„çš„è¯­ä¹‰ç†è§£ä¸è¶³ï¼Œå¯¼è‡´è½¬æ¢åè¯­æ³•ä¸å…¼å®¹æˆ–é€»è¾‘ä¸ç­‰ä»·ï¼Œè¿™ä½“ç°å‡ºæ¨¡å‹å¯¹å¤æ‚ç»“æ„åŒ–ä»£ç çš„å…¨å±€ç†è§£èƒ½åŠ›ï¼Œä»¥åŠå¯¹å¤šæ–¹è¨€è¯­ä¹‰å·®å¼‚çš„ç²¾ç¡®æŠŠæ¡èƒ½åŠ›è¿˜æœ‰å¾…æå‡ã€‚åŒæ—¶ï¼Œå…¶ã€Œ<strong>é€»è¾‘ç­‰ä»·</strong> ã€ï¼ˆ61.3åˆ†ï¼‰å’Œã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong>ã€ï¼ˆ69.0åˆ†ï¼‰å¾—åˆ†ä¸­ç­‰ï¼Œè¡¨æ˜å…¶åœ¨å¤„ç†éå›½äº§æ•°æ®åº“çš„å¤æ‚è½¬æ¢æ—¶ï¼Œéš¾ä»¥ä¿è¯ä»£ç çš„è§„èŒƒæ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/963aca4110dc46abb4fb6e2e19838c17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=RatasSNS4bnOqOT9CjOTPLSXP3o%3D" alt="Ling-1Tï¼šæ–¹è¨€è½¬æ¢ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h4 data-id="heading-6">SQL ç†è§£èƒ½åŠ›ï¼š59.4</h4>
<p>è¯¥åˆ†æ•°è¡¨æ˜ <em>Ling-1T</em> å…·å¤‡åŸºç¡€çš„ SQL è§£æèƒ½åŠ›ã€‚æ•°æ®ç»†åˆ†æ˜¾ç¤ºï¼Œå…¶åœ¨ã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong> ã€ä¸Šè¡¨ç°çªå‡ºï¼Œä»¥ 87.1 åˆ†çš„æˆç»©ä¸ <em>Claude 3.5 Sonnet</em> å¹¶åˆ—è¯¥æŒ‡æ ‡æµ‹è¯„çš„ç¬¬ 1 åã€‚</p>
<p>ç„¶è€Œï¼Œå…¶åœ¨ã€Œ<strong>æ‰§è¡Œå‡†ç¡®æ€§</strong> ã€æ–¹é¢è¡¨ç°ä¸ä½³ï¼Œå¾—åˆ†ä»…ä¸º 52.9 åˆ†ï¼ˆæ’åç¬¬ 19ï¼‰ï¼Œåˆ†ææµ‹è¯„æŠ¥å‘Šå¯è§ï¼Œæ¨¡å‹åœ¨æ—¥æœŸæ¡ä»¶æµ‹è¯„ä¸­æ˜“å‡ºé”™ï¼Œå¦‚ <code>due_date &lt; '2025-06-07'</code> çš„æŸ¥è¯¢ä¸­è¿”å›äº† <code>due_date='2025-06-10'</code> çš„è®°å½•ï¼Œæ˜æ˜¾è¿åäº†æ¡ä»¶ã€‚è¿™ç±»é”™è¯¯åæ˜ äº†æ¨¡å‹åœ¨æ‰§è¡Œ SQL æŸ¥è¯¢æ—¶ï¼Œå¯¹æ—¥æœŸæ¯”è¾ƒçš„è¯­ä¹‰ç†è§£ä¸ä¸¥è°¨æ€§ä¸è¶³ã€‚è¿™æ˜¯å…¶ä¸»è¦çŸ­æ¿ä¹‹ä¸€ã€‚</p>
<p>æ­¤å¤–ï¼Œå…¶ã€Œ<strong>æ‰§è¡Œè®¡åˆ’æ£€æµ‹</strong> ã€å¾—åˆ†ä¸º 57.1 åˆ†ï¼Œæ¨¡å‹åœ¨æ‰§è¡Œè®¡åˆ’é¢„æµ‹æ—¶ï¼Œå¯¹ DDL ä¸­æœªå®šä¹‰ç´¢å¼•çš„å­—æ®µé”™è¯¯é¢„æµ‹äº† <code>key</code> å’Œ <code>possible_keys</code>ã€‚ä¾‹å¦‚æŸ¥è¯¢ <code>WHERE fruit_name = 'Banana'</code> æ—¶ï¼Œæ¨¡å‹é¢„æµ‹ <code>key: "fruit_name"</code> å’Œ <code>possible_keys: "fruit_name"</code>ï¼Œä½† DDL ä¸­ <code>fruit_name</code> å­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œåæ˜ å‡ºæ¨¡å‹è¿‡äºåŸºäºæŸ¥è¯¢æ¨¡å¼æ¨æµ‹å‡ºç°è¯¯åˆ¤ï¼Œåœ¨çº¦æŸéªŒè¯èƒ½åŠ›å’Œç»“æ„åŒ–è§£æä¸æ¨ç†ä¸Šä»æœ‰è¾ƒå¤§æå‡ç©ºé—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6efcfdb4fd7a44639614c794efb48388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=9yy1njgeK90rk8y2lu7z3UgRDMI%3D" alt="Ling-1Tï¼šSQL ç†è§£ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h3 data-id="heading-7">ä¸“é¢˜äºŒï¼šRing-1T é¦–æ¬¡è¯„æµ‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9567423aeb2946d3bd837a1bbd29d291~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=RigLZFFnj%2Bkg%2FsgJHGStu%2BjaL0g%3D" alt="å‘å¸ƒæ—¥æœŸï¼š2025-10-14" loading="lazy"/></p>
<p><em>Ring-1T</em> ä½œä¸ºåŸºäº <strong>Ling 2.0</strong> æ¶æ„çš„ä¸‡äº¿çº§å‚æ•°æ€è€ƒæ¨¡å‹ï¼Œå±•ç°äº†æ¯” <em>Ling-1T</em> æ›´å¼ºçš„ç»¼åˆå®åŠ›ã€‚å…¶å„ç»´åº¦æ€»åˆ†åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li><strong>SQL ä¼˜åŒ–</strong>ï¼š70.5</li>
<li><strong>æ–¹è¨€è½¬æ¢</strong>ï¼š69.5</li>
<li><strong>SQL ç†è§£</strong>ï¼š78.1</li>
</ul>
<p>èƒ½åŠ›è¡¨ç°æ›´ä¸ºå‡è¡¡ã€‚</p>
<h4 data-id="heading-8">SQL ä¼˜åŒ–èƒ½åŠ›ï¼š70.5</h4>
<p>è¯¥åˆ†æ•°ä½“ç°äº†æ¨¡å‹åœ¨ SQL ä¼˜åŒ–æ–¹é¢çš„å‡è¡¡èƒ½åŠ›ã€‚å…¶ã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong> ã€è·å¾— 100 åˆ†æ»¡åˆ†ï¼ˆä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsqlflash.ai%2F" target="_blank" title="https://sqlflash.ai/" ref="nofollow noopener noreferrer">SQLFlash</a> å¹¶åˆ—ï¼‰ï¼Œä¿è¯äº†ä¼˜åŒ–åä»£ç çš„è§„èŒƒæ€§ä¸å¯ç”¨æ€§ã€‚ã€Œ<strong>é€»è¾‘ç­‰ä»·</strong> ã€å¾—åˆ†ä¸º 84.2 åˆ†ï¼ˆæ’åç¬¬ 6ï¼‰ï¼Œè¡¨ç°ä¼˜å¼‚ã€‚ã€Œ<strong>ä¼˜åŒ–æ·±åº¦</strong>ã€å¾—åˆ†ä¸º 60.0 åˆ†ï¼ˆæ’åç¬¬ 4ï¼‰ï¼Œè¡¨æ˜æ¨¡å‹èƒ½å¤Ÿåº”ç”¨å¸¸è§„çš„ä¼˜åŒ–ç­–ç•¥ï¼Œä½†åœ¨å¤„ç†å¤æ‚çš„æŸ¥è¯¢ã€è¿›è¡Œæ·±åº¦é‡æ„ä»¥è¿½æ±‚æè‡´æ€§èƒ½æ–¹é¢ï¼Œä»æœ‰è¿›æ­¥ç©ºé—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/697cb86af8714dea8b8e4dddbfc19731~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=fCLLq%2BMSup9HjisnUkBNvs7aKIc%3D" alt="Ring-1Tï¼šSQL ä¼˜åŒ–ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h4 data-id="heading-9">æ–¹è¨€è½¬æ¢èƒ½åŠ›ï¼š69.5</h4>
<p><em>Ring-1T</em> åœ¨æ–¹è¨€è½¬æ¢ç»´åº¦è·å¾— 69.5 åˆ†ï¼ˆæ’åç¬¬ 11ï¼‰ã€‚ç»†åˆ†æ•°æ®æ˜¾ç¤ºï¼Œå…¶åœ¨ã€Œ<strong>å›½äº§æ•°æ®åº“</strong> ã€è½¬æ¢ï¼ˆ94.7åˆ†ï¼‰ã€ã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong> ã€ï¼ˆ73.8 åˆ†ï¼Œæ’åç¬¬ 9ï¼‰å’Œã€Œ<strong>é€»è¾‘ç­‰ä»·</strong>ã€ï¼ˆ71.0 åˆ†ï¼‰ä¸Šå‡è¡¨ç°ç¨³å¥ã€‚</p>
<p>å…¶çŸ­æ¿åœ¨äºã€Œ<strong>å¤§ SQL è½¬æ¢</strong> ã€ï¼Œå¾—åˆ†ä»…ä¸º 41.9 åˆ†ï¼ˆæ’åç¬¬ 12ï¼‰ï¼Œæ¨¡å‹åœ¨å¤„ç†è·¨æ•°æ®åº“è®¿é—®ï¼ˆå¦‚ SQL Server çš„ <code>[server].database.schema.table</code>ï¼‰ã€æ§åˆ¶æµï¼ˆå¦‚ GOTO æ ‡ç­¾è·³è½¬ï¼‰ã€é”™è¯¯å¤„ç†æœºåˆ¶ï¼ˆå¦‚ <code>@@ERROR</code> æ£€æŸ¥ã€<code>BEGIN TRY/CATCH</code>ï¼‰ã€åŠ¨æ€ SQL æ‰§è¡Œï¼ˆå¦‚ <code>sp_executesql</code> å‚æ•°ç»‘å®šï¼‰ç­‰å¤æ‚ç»“æ„æ—¶ï¼Œå­˜åœ¨è¯­æ³•æ··ç”¨ã€è¯­ä¹‰ä¸ç­‰ä»·ã€ç»“æ„è½¬æ¢ä¸å®Œæ•´ç­‰é—®é¢˜ã€‚</p>
<p><strong>æ ¸å¿ƒç¼ºé™·</strong> ï¼šç¼ºä¹å¯¹å¤æ‚ç»“æ„åŒ–ä»£ç çš„å…¨å±€ç†è§£èƒ½åŠ›ï¼Œä»¥åŠå¯¹å¤šæ–¹è¨€è¯­ä¹‰å·®å¼‚çš„ç²¾ç¡®æ˜ å°„èƒ½åŠ›ï¼Œå¯¼è‡´è½¬æ¢åçš„ SQL åœ¨è¯­æ³•æ­£ç¡®æ€§æˆ–é€»è¾‘ç­‰ä»·æ€§ä¸Šå­˜åœ¨ç¼ºé™·ã€‚ç›¸è¾ƒäº <em>Ling-1T</em> çš„ 12.9 åˆ†ï¼Œè¯¥åˆ†æ•°æœ‰äº†æ˜¾è‘—æå‡ï¼Œè¡¨æ˜å…¶åœ¨å¤„ç†ã€Œ<strong>å¤§ SQL è½¬æ¢</strong>ã€å’Œä¿è¯ä»£ç è§„èŒƒæ€§æ–¹é¢å…·å¤‡æ›´å¼ºçš„èƒ½åŠ›ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªæ›´å¯é çš„æ•°æ®åº“è¿ç§»å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5c402c3760943629df960904e7d0d33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=2SQRQBIj%2BChs5qfrtFZwfigT6tA%3D" alt="Ring-1Tï¼šæ–¹è¨€è½¬æ¢ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h4 data-id="heading-10">SQL ç†è§£èƒ½åŠ›ï¼š78.1</h4>
<p>å¾—åˆ† 78.1 åˆ†ï¼Œè¿™æ˜¯ä¸€ä¸ªç¨³å¥çš„åˆ†æ•°ã€‚å…¶åœ¨ã€Œ<strong>æ‰§è¡Œå‡†ç¡®æ€§</strong> ã€ä¸Šè¡¨ç°ç¨³å®šï¼ˆ84.3åˆ†ï¼‰ã€‚ä½†å…¶ã€Œ<strong>æ‰§è¡Œè®¡åˆ’æ£€æµ‹</strong> ã€ï¼ˆ60.7åˆ†ï¼‰å’Œã€Œ<strong>è¯­æ³•é”™è¯¯æ£€æµ‹</strong>ã€ï¼ˆ67.1åˆ†ï¼‰å¾—åˆ†åä½ã€‚</p>
<p>æ¨¡å‹æ··æ·†äº†æ ‡å‡† SQL è¯­æ³•ä¸æ•°æ®åº“ç‰¹å®šè§„åˆ™ï¼Œå°†æ­£ç¡®çš„æ ‡å‡†è¯­æ³•è¯¯åˆ¤ä¸ºé”™è¯¯ï¼ˆå¦‚ GROUP BY ä¸­ä½¿ç”¨åˆ«å <code>category_prefix</code>ã€<code>INSERT</code> å­æŸ¥è¯¢ <code>INSERT INTO table (SELECT ...)</code>ã€<code>CREATE VIEW</code> ä¸­ä½¿ç”¨ <code>HAVING</code> ç­‰ï¼‰ï¼ŒåŒæ—¶å¯¹å¤æ‚ç»“æ„ç†è§£ä¸å‡†ç¡®ï¼Œå¯¼è‡´è¯¯åˆ¤å’Œæ¼åˆ¤å¹¶å­˜ï¼Œåæ˜ äº†æ¨¡å‹å¯¹æ ‡å‡† SQL è§„èŒƒçš„å‡†ç¡®ç†è§£ä¸è¶³ï¼Œä»¥åŠå¯¹è¯­æ³•è§„åˆ™åˆ¤æ–­çš„æœºæ¢°æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7623046815e84be39b3335e5fc3d3dcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=Czgs3stKIqtlfrNJhmE092z%2Fs5w%3D" alt="Ring-1Tï¼šSQL ç†è§£ç»´åº¦è¯„åˆ†" loading="lazy"/></p>
<h2 data-id="heading-11">å››ã€ä¸“å®¶ç‚¹è¯„</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29c38e0708ba4d06bdedda92933baf75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5Y-v55Sf5byA5rqQ56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976184&amp;x-signature=v0GMfBY8tjG9FwoA40aV43ERWBw%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>æ—æ˜¥</strong>ï¼Œä¸­å›½å¤ªå¹³æ´‹ä¿é™©æ•°æ™ºç ”ç©¶é™¢é¦–å¸­æ•°æ®åº“ä¸“å®¶ï¼ŒOceanBase å®¢æˆ·ä¸“å®¶å§”å‘˜ä¼šï¼ˆOBCEï¼‰ä¸“å®¶å§”å‘˜ï¼Œè·å¾— OBCE è®¤è¯ã€‚è·å¾— Oracle OCMã€PostgreSQL PCMã€MySQL OCP è®¤è¯ã€‚å¢¨å¤©è½® MVPï¼Œä¸­å›½æ•°æ®åº“æŠ€æœ¯å¤§ä¼šï¼ˆDTCCï¼‰æ¼”è®²å˜‰å®¾ã€‚</p>
</blockquote>
<p>SCALE 2025 å¹´ 10 æœˆã€Šå¤§æ¨¡å‹ SQL èƒ½åŠ›æ’è¡Œæ¦œã€‹çš„å‘å¸ƒï¼Œå ªç§° AI ä¸æ•°æ®åº“ååŒé¢†åŸŸçš„å…³é”®è¡Œä¸šå‚ç…§ã€‚å…¶ä¾æ‰˜"<strong>SQLä¼˜åŒ–+æ–¹è¨€å…¼å®¹+SQLç†è§£</strong> "çš„ä¸‰ç»´æµ‹è¯„æ¡†æ¶ï¼Œå°†å¤§æ¨¡å‹åœ¨æ•°æ®åº“åœºæ™¯çš„è½åœ°èƒ½åŠ›è¿›è¡Œäº†ä½“ç³»åŒ–é‡åŒ–ï¼Œå°¤å…¶åœ¨ Ling-1Tã€Ring-1T ç­‰æ¨¡å‹çš„åˆ†é¡¹è¡¨ç°ä¸­ï¼Œæ¸…æ™°å‘ˆç°äº†è‡ªç„¶è¯­è¨€ä¸æ•°æ®åº“æ“ä½œçš„é€‚é…å·®å¼‚ï¼Œ<strong>ä¸ºä¼ä¸šçº§ AI+ æ•°æ®åº“çš„æŠ€æœ¯é€‰å‹æä¾›äº†ç²¾å‡†çš„èƒ½åŠ›æ ‡å°º</strong>ã€‚</p>
<p>è¿™ä¸ªæ¦œå•é€šè¿‡æœˆåº¦è¿­ä»£çš„åŠ¨æ€æµ‹è¯„èŒƒå¼ï¼Œæ—¢å¼ºåŒ–äº†å¯¹å¤§æ¨¡å‹æ•°æ®åº“èƒ½åŠ›æ¼”è¿›çš„è¿½è¸ªæ€§ï¼Œåˆä»¥"ç»†åˆ†åœºæ™¯å¾—åˆ†+ç»¼åˆèƒ½åŠ›æ’å"çš„å½¢å¼ï¼Œç¼“è§£äº†ä¼ä¸šå¯¹å¤§æ¨¡å‹"æ³›èƒ½åŠ›å¼ºã€å‚ç›´åœºæ™¯å¼±"çš„é€‰å‹ç„¦è™‘ï¼Œè¿™ä¸å½“å‰æ•°æ®åº“å‘æ™ºèƒ½åŒ–ã€åœºæ™¯åŒ–æ¼”è¿›çš„è¶‹åŠ¿é«˜åº¦å¥‘åˆã€‚<strong>å®ƒä¸ä»…ä¸ºä¸­å°ä¼ä¸šæä¾›äº†ä½æˆæœ¬è¯„ä¼° AI æ•°æ®åº“å·¥å…·çš„å‚ç…§æ ‡å‡†ï¼Œæ›´å€’é€¼å¤§æ¨¡å‹è¡Œä¸šåŠ é€Ÿå‚ç›´èƒ½åŠ›ä¼˜åŒ– ------ åœ¨ SQL å¤æ‚æŸ¥è¯¢é€‚é…ã€å¤šæ•°æ®åº“æ–¹è¨€å…¼å®¹ç­‰é¢†åŸŸå½¢æˆæŠ€æœ¯è¿­ä»£</strong>ã€‚</p>
<p>SCALE æ¦œå•çš„ä»·å€¼åœ¨äºä»¥æ ‡å‡†åŒ–æµ‹è¯„å§¿æ€æ‰“é€šäº†å¤§æ¨¡å‹èƒ½åŠ›ä¸æ•°æ®åº“éœ€æ±‚çš„åŒ¹é…é“¾è·¯ï¼Œæ¨åŠ¨"<strong>æ¨¡å‹èƒ½åŠ›è¯„ä¼°-åœºæ™¯æŠ€æœ¯é€‰å‹-è½åœ°æ•ˆæœéªŒè¯</strong>"å…¨æµç¨‹çš„ç†æ€§åŒ–é‡æ„ï¼Œä¸ºä¸‹ä¸€ä»£æ™ºèƒ½æ•°æ®ç³»ç»Ÿçš„æŠ€æœ¯é€‚é…æä¾›äº†æå…·å®è·µæ„ä¹‰çš„è¡Œä¸šèŒƒæœ¬ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒRing-1T æ¨¡å‹åœ¨æ•°æ®åº“åœºæ™¯ä¸­çš„æ ¸å¿ƒä¼˜åŠ¿åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>å¤æ‚ SQL æŸ¥è¯¢ç”Ÿæˆ</strong>ï¼šåœ¨å¤šè¡¨å…³è”ã€åµŒå¥—å­æŸ¥è¯¢ç­‰å¤æ‚ SQL æ„å»ºä»»åŠ¡ä¸­è¡¨ç°çªå‡ºï¼ˆSQL ä¼˜åŒ–èƒ½åŠ›å¾—åˆ† 70.5ï¼‰ï¼Œå¯é«˜æ•ˆå°†è‡ªç„¶è¯­è¨€éœ€æ±‚è½¬åŒ–ä¸ºé«˜æ€§èƒ½ SQL è¯­å¥ã€‚</p>
</li>
<li>
<p><strong>å¤šæ•°æ®åº“æ–¹è¨€å…¼å®¹</strong>ï¼šé€‚é… MySQLã€Oracle ç­‰ä¸»æµæ•°æ®åº“çš„è¯­æ³•å·®å¼‚ï¼ˆæ–¹è¨€å…¼å®¹èƒ½åŠ›å¾—åˆ† 69.5ï¼‰ï¼Œèƒ½è‡ªåŠ¨ç”Ÿæˆç¬¦åˆä¸åŒæ•°æ®åº“è¯­æ³•è§„èŒƒçš„æ“ä½œè¯­å¥ã€‚</p>
</li>
<li>
<p><strong>SQL è¯­ä¹‰ç†è§£ä¸çº é”™</strong>ï¼šå¯¹æ¨¡ç³Šéœ€æ±‚ã€è¡¨è¿°ä¸è§„èŒƒçš„æŸ¥è¯¢æŒ‡ä»¤ï¼Œå…·å¤‡è¾ƒå¼ºçš„è¯­ä¹‰è§£æä¸çº é”™èƒ½åŠ›ï¼ˆSQL ç†è§£èƒ½åŠ›å¾—åˆ† 78.1ï¼‰ï¼Œé™ä½è‡ªç„¶è¯­è¨€äº¤äº’çš„ç²¾å‡†åº¦é—¨æ§›ã€‚</p>
</li>
<li>
<p><strong>æ‰¹é‡æ•°æ®æ“ä½œé€‚é…</strong>ï¼šåœ¨æ‰¹é‡æ’å…¥ã€æ›´æ–°ç­‰æ•°æ®æ“ä½œåœºæ™¯ä¸­ï¼Œå¯ç”Ÿæˆé«˜æ•ˆä¸”ç¬¦åˆæ•°æ®åº“æ€§èƒ½è¦æ±‚çš„ SQL è„šæœ¬ï¼Œé€‚é…ä¼ä¸šçº§æ•°æ®æ‰¹é‡å¤„ç†éœ€æ±‚ã€‚</p>
</li>
</ul>
<h2 data-id="heading-12">äº”ã€æ€»ç»“ä¸å±•æœ›</h2>
<p>éšç€èš‚èšç™¾çµ <em>Ling-1T</em> å’Œ <em>Ring-1T</em> ä¸¤æ¬¾æ–°æ¨¡å‹çš„åŠ å…¥ï¼Œ<strong>SCALE</strong> è¯„æµ‹æ¦œå•å·²ç´¯è®¡æ”¶å½•è¶…è¿‡ 20 æ¬¾ä¸šç•Œä¸»æµ AI æ¨¡å‹åŠä¸“ä¸šå·¥å…·ã€‚æœ¬æœˆè¯„æµ‹æ¸…æ™°åœ°å±•ç¤ºäº† <strong>Ling 2.0</strong> ç³»åˆ—ä¸¤æ¬¾æ¨¡å‹çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>Ling-1T</strong> åœ¨å›½äº§æ•°æ®åº“é€‚é…ä¸Šè¡¨ç°å‡ºä¼—ï¼Œä½†åœ¨å¤æ‚ä»»åŠ¡å¤„ç†ä¸Šå­˜åœ¨çŸ­æ¿</li>
<li><strong>Ring-1T</strong> åˆ™å±•ç°äº†æ›´å‡è¡¡ã€æ›´å¼ºå¤§çš„ç»¼åˆ SQL å¤„ç†èƒ½åŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨ SQL ç†è§£å’Œä¼˜åŒ–æ–¹é¢è¡¨ç°ç¨³å¥</li>
</ul>
<p>å±•æœ›æœªæ¥ï¼ŒSCALE å°†ç»§ç»­ç§‰æŒå®¢è§‚ã€ä¸¥è°¨çš„åŸåˆ™ï¼š</p>
<ul>
<li>æŒç»­è¿½è¸ªï¼šæˆ‘ä»¬å°†ç»§ç»­è¿½è¸ªå¹¶è¿…é€Ÿå¼•å…¥ä¸šç•Œå‰æ²¿çš„å¤§æ¨¡å‹å’Œ SQL å·¥å…·ã€‚</li>
<li>æ·±åŒ–åœºæ™¯ï¼šæˆ‘ä»¬è®¡åˆ’å¼•å…¥æ›´å¤šç»´åº¦çš„ä¼ä¸šçº§çœŸå®åº”ç”¨åœºæ™¯ï¼Œä½¿è¯„æµ‹ç»“æœæ›´è´´è¿‘å®é™…ç”Ÿäº§ç¯å¢ƒã€‚</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªå¼€æ”¾ã€é€æ˜çš„è¯„æµ‹ç”Ÿæ€éœ€è¦ç¤¾åŒºçš„å…±åŒå»ºè®¾ã€‚æˆ‘ä»¬è¯šæŒšåœ°é‚€è¯·å›½å†…å¤–æ›´å¤šçš„æ¨¡å‹å¼€å‘è€…ã€æ•°æ®åº“å·¥å…·æä¾›å•†æäº¤æ‚¨çš„äº§å“å‚ä¸ SCALE è¯„æµ‹ã€‚é€šè¿‡åœ¨åŒä¸€åŸºå‡†ä¸‹ä¸å…¨çƒé¡¶å°–æ¨¡å‹ç«æŠ€ï¼Œä¸ä»…å¯ä»¥ç²¾å‡†å®šä½äº§å“ä¼˜åŠ¿ä¸ä¸è¶³ï¼Œæ›´èƒ½æå‡å“ç‰Œåœ¨å¼€å‘è€…ç¤¾åŒºä¸­çš„å½±å“åŠ›ã€‚</p>
<p>å³åˆ»è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fsql-llm-leaderboard.com%2Franking%2F2025-09" target="_blank" title="https://sql-llm-leaderboard.com/ranking/2025-09" ref="nofollow noopener noreferrer">sql-llm-leaderboard.com/ranking/202â€¦</a></p>
<p>æŸ¥çœ‹å®Œæ•´æ¦œå•å¹¶è”ç³»æˆ‘ä»¬æäº¤æ‚¨çš„äº§å“ã€‚</p>
</blockquote>
<p><strong>SCALE ------ ä¸ºä¸“ä¸š SQL ä»»åŠ¡ï¼Œé€‰ä¸“ä¸š AI æ¨¡å‹ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸€ï¼‰â€”â€”ç»§æ‰¿æœºåˆ¶è§£è¯»ï¼šä»åŸºç¡€ç±»åˆ°é˜²æ­¢é‡å†™]]></title>    <link>https://juejin.cn/post/7573468493569622052</link>    <guid>https://juejin.cn/post/7573468493569622052</guid>    <pubDate>2025-11-17T09:41:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493569622052" data-draft-id="7553864179158614042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸€ï¼‰â€”â€”ç»§æ‰¿æœºåˆ¶è§£è¯»ï¼šä»åŸºç¡€ç±»åˆ°é˜²æ­¢é‡å†™"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T09:41:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸€ï¼‰â€”â€”ç»§æ‰¿æœºåˆ¶è§£è¯»ï¼šä»åŸºç¡€ç±»åˆ°é˜²æ­¢é‡å†™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:41:43.000Z" title="Mon Nov 17 2025 09:41:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆå¿…é¡»æœ‰â€œç»§æ‰¿â€</h2>
<p>åœ¨çœŸå®ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬ä¹ æƒ¯æŠŠäº‹ç‰©å½’ç±»ï¼šè½¦ â†’ è‡ªè¡Œè½¦ â†’ åŒäººè‡ªè¡Œè½¦ã€‚</p>
<p>Swift çš„ class ç±»å‹å…è®¸æˆ‘ä»¬ç”¨åŒæ ·çš„å±‚çº§æ–¹å¼å»ºæ¨¡ï¼ŒæŠŠå…¬å…±çš„ä»£ç æ”¾åœ¨â€œä¸Šå±‚â€ï¼ŒæŠŠå·®å¼‚åŒ–çš„ä»£ç æ”¾åœ¨â€œä¸‹å±‚â€ï¼Œè¿™å°±æ˜¯ç»§æ‰¿ï¼ˆInheritanceï¼‰ã€‚</p>
<p>å®ƒå¸¦æ¥çš„ä¸‰å¤§ä»·å€¼ï¼š</p>
<ol>
<li>ä»£ç å¤ç”¨ï¼šå…¬å…±é€»è¾‘å†™ä¸€æ¬¡ã€‚</li>
<li>ç»Ÿä¸€æ¥å£ï¼šä¸Šå±‚å¯ç”¨â€œçˆ¶ç±»æŒ‡é’ˆâ€æ“ä½œä¸€åˆ‡å­ç±»ã€‚</li>
<li>å¤šæ€ï¼šè¿è¡Œæ—¶æ‰å†³å®šåˆ°åº•æ‰§è¡Œå“ªæ®µä»£ç ã€‚</li>
</ol>
<h2 data-id="heading-1">åŸºç¡€æ¦‚å¿µé€Ÿè§ˆ</h2>
<ol>
<li>åŸºç±»ï¼ˆBase Classï¼‰ï¼šä¸ç»§æ‰¿ä»»ä½•ç±»çš„ç±»ã€‚</li>
<li>å­ç±»ï¼ˆSubclassï¼‰ï¼šå†™åœ¨å†’å·åé¢çš„ç±»ï¼Œå®ƒè‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰æˆå‘˜ã€‚</li>
<li>é‡å†™ï¼ˆOverrideï¼‰ï¼šå­ç±»å¯¹ç»§æ‰¿æ¥çš„æˆå‘˜é‡æ–°å®ç°ï¼Œéœ€åŠ å…³é”®å­— overrideã€‚</li>
<li>superï¼šåœ¨å­ç±»å†…éƒ¨è®¿é—®â€œçˆ¶ç±»å®ç°â€çš„å‰ç¼€ã€‚</li>
<li>finalï¼šé˜»æ­¢åé¢çš„äººå†ç»§ç»­é‡å†™æˆ–ç»§æ‰¿ã€‚</li>
</ol>
<h2 data-id="heading-2">åŸºç±»é•¿ä»€ä¹ˆæ ·</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">/// åŸºç±»ï¼šæœ€æ™®é€šçš„â€œè½¦â€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Vehicle</span> {
    <span class="hljs-keyword">var</span> currentSpeed <span class="hljs-operator">=</span> <span class="hljs-number">0.0</span>          <span class="hljs-comment">// å­˜å‚¨å±æ€§ï¼Œé»˜è®¤ 0</span>
    
    <span class="hljs-comment">/// è®¡ç®—å±æ€§ï¼šåªè¯»ï¼Œè¿”å›äººç±»å¯è¯»çš„æè¿°</span>
    <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"traveling at <span class="hljs-subst">\(currentSpeed)</span> mph"</span>
    }
    
    <span class="hljs-comment">/// å®ä¾‹æ–¹æ³•ï¼šåŸºç±»é‡Œä»€ä¹ˆéƒ½ä¸åšï¼Œç•™ç»™å­ç±»å»â€œå¡«å‘â€</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNoise</span>() {
        <span class="hljs-comment">// ç©ºå®ç°</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> someVehicle <span class="hljs-operator">=</span> <span class="hljs-type">Vehicle</span>()
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Vehicle: <span class="hljs-subst">\(someVehicle.description)</span>"</span>)
<span class="hljs-comment">// æ‰“å°ï¼šVehicle: traveling at 0.0 mph</span>
</code></pre>
<h2 data-id="heading-3">å­ç±»åŒ–ï¼ˆSubclassingï¼‰</h2>
<p>è¯­æ³•ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> å­ç±»: çˆ¶ç±» { <span class="hljs-comment">/* æ–°å¢æˆ–è¦†ç›– */</span> }
</code></pre>
<p>ç¤ºä¾‹ 1ï¼šè‡ªè¡Œè½¦</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bicycle</span>: <span class="hljs-title class_">Vehicle</span> {
    <span class="hljs-keyword">var</span> hasBasket <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>   <span class="hljs-comment">// æ–°å¢å±æ€§</span>
}

<span class="hljs-keyword">let</span> bike <span class="hljs-operator">=</span> <span class="hljs-type">Bicycle</span>()
bike.hasBasket <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
bike.currentSpeed <span class="hljs-operator">=</span> <span class="hljs-number">15</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Bicycle: <span class="hljs-subst">\(bike.description)</span>"</span>)
<span class="hljs-comment">// æ‰“å°ï¼šBicycle: traveling at 15.0 mph</span>
</code></pre>
<p>ç¤ºä¾‹ 2ï¼šåŒäººè‡ªè¡Œè½¦ï¼ˆå­ç±»è¿˜èƒ½å†è¢«ç»§æ‰¿ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tandem</span>: <span class="hljs-title class_">Bicycle</span> {
    <span class="hljs-keyword">var</span> currentNumberOfPassengers <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
}

<span class="hljs-keyword">let</span> tandem <span class="hljs-operator">=</span> <span class="hljs-type">Tandem</span>()
tandem.hasBasket <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
tandem.currentNumberOfPassengers <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
tandem.currentSpeed <span class="hljs-operator">=</span> <span class="hljs-number">22</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Tandem: <span class="hljs-subst">\(tandem.description)</span>"</span>)
<span class="hljs-comment">// æ‰“å°ï¼šTandem: traveling at 22.0 mph</span>
</code></pre>
<h2 data-id="heading-4">é‡å†™ï¼ˆOverrideï¼‰å…¨è§„åˆ™</h2>
<ol>
<li>æ–¹æ³•é‡å†™ï¼šå¿…é¡»å†™ overrideï¼›å¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Train</span>: <span class="hljs-title class_">Vehicle</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNoise</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Choo Choo"</span>)
    }
}
<span class="hljs-type">Train</span>().makeNoise()   <span class="hljs-comment">// Choo Choo</span>
</code></pre>
<ol start="2">
<li>
<p>å±æ€§é‡å†™</p>
<p>å­ç±»â€œçœ‹ä¸åˆ°â€çˆ¶ç±»å±æ€§åˆ°åº•æ˜¯å­˜å‚¨å‹è¿˜æ˜¯è®¡ç®—å‹ï¼Œåªèƒ½æŒ‰â€œåå­— + ç±»å‹â€å»åŒ¹é…ã€‚</p>
<p>a) åªè¯»å˜è¯»å†™ï¼šå¯ä»¥è¡¥å…… setterã€‚</p>
<p>b) è¯»å†™å˜åªè¯»ï¼šâŒ ä¸å…è®¸ã€‚</p>
</li>
</ol>
<p>ç¤ºä¾‹ï¼šç»™è½¦åŠ â€œæ¡£ä½â€æè¿°</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>: <span class="hljs-title class_">Vehicle</span> {
    <span class="hljs-keyword">var</span> gear <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {
        <span class="hljs-comment">// å…ˆæ‹¿çˆ¶ç±»æè¿°ï¼Œå†æ‹¼æ¥è‡ªå·±çš„</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.description <span class="hljs-operator">+</span> <span class="hljs-string">" in gear <span class="hljs-subst">\(gear)</span>"</span>
    }
}

<span class="hljs-keyword">let</span> car <span class="hljs-operator">=</span> <span class="hljs-type">Car</span>()
car.currentSpeed <span class="hljs-operator">=</span> <span class="hljs-number">25</span>
car.gear <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Car: <span class="hljs-subst">\(car.description)</span>"</span>)
<span class="hljs-comment">// æ‰“å°ï¼šCar: traveling at 25.0 mph in gear 3</span>
</code></pre>
<ol start="3">
<li>
<p>å±æ€§è§‚å¯Ÿå™¨é‡å†™</p>
<p>å¯ä»¥ä¸ºä»»ä½•ç»§æ‰¿æ¥çš„å±æ€§ï¼ˆæ— è®ºå­˜å‚¨/è®¡ç®—ï¼‰æ·»åŠ  willSet/didSetã€‚</p>
<p>å…¸å‹åœºæ™¯ï¼šè‡ªåŠ¨æ¡£æ ¹æ®é€Ÿåº¦æ¢æŒ¡ã€‚</p>
</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AutomaticCar</span>: <span class="hljs-title class_">Car</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> currentSpeed: <span class="hljs-type">Double</span> {
        <span class="hljs-keyword">didSet</span> {
            gear <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>(currentSpeed <span class="hljs-operator">/</span> <span class="hljs-number">10</span>) <span class="hljs-operator">+</span> <span class="hljs-number">1</span>   <span class="hljs-comment">// è‡ªå·±ç®—æ¡£ä½</span>
        }
    }
}

<span class="hljs-keyword">let</span> auto <span class="hljs-operator">=</span> <span class="hljs-type">AutomaticCar</span>()
auto.currentSpeed <span class="hljs-operator">=</span> <span class="hljs-number">35</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"AutomaticCar: <span class="hljs-subst">\(auto.description)</span>"</span>)
<span class="hljs-comment">// æ‰“å°ï¼šAutomaticCar: traveling at 35.0 mph in gear 4</span>
</code></pre>
<h2 data-id="heading-5">é˜²æ­¢ç»§æ‰¿ä¸é‡å†™â€”â€”final</h2>
<ol>
<li>é˜²é‡å†™</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">var</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>          <span class="hljs-comment">// å­ç±»ä¸èƒ½ override</span>
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">foo</span>() {}       <span class="hljs-comment">// å­ç±»ä¸èƒ½ override</span>
}
</code></pre>
<ol start="2">
<li>é˜²ç»§æ‰¿</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Tool</span> {}         <span class="hljs-comment">// ä»»ä½•äººå†™ class MyTool: Tool {} éƒ½ä¼šç¼–è¯‘å¤±è´¥</span>
</code></pre>
<h2 data-id="heading-6">super çš„ä½¿ç”¨åœºæ™¯å°ç»“</h2>
<ol>
<li>åœ¨ override æ–¹æ³•é‡Œï¼š<code>super.someMethod()</code></li>
<li>åœ¨ override å±æ€§ getter/setter é‡Œï¼š<code>super.someProperty</code></li>
<li>åœ¨ override ä¸‹æ ‡é‡Œï¼š<code>super[index]</code></li>
</ol>
<h2 data-id="heading-7">å®¹æ˜“è¸©çš„å‘</h2>
<ol>
<li>å¿˜è®°å†™ override â†’ ç¼–è¯‘æœŸæŠ¥é”™ã€‚</li>
<li>é‡å†™æ—¶æŠŠåªè¯»å±æ€§æ”¹æˆåªå†™ setterï¼Œ Swift ä¸å…è®¸ã€‚</li>
<li>åœ¨ init é‡Œè®¿é—® super å±æ€§å‰ï¼Œå¿…é¡»ä¿è¯æœ¬ç±»å­˜å‚¨å±æ€§å·²åˆå§‹åŒ–ï¼ˆåˆå§‹åŒ–å™¨è§„åˆ™ï¼‰ã€‚</li>
<li>æŠŠ struct æ‹¿å»ç»§æ‰¿ â†’ Swift åªæœ‰ class æ”¯æŒç»§æ‰¿ï¼Œstruct/enum ä¸è¡Œã€‚</li>
</ol>
<h2 data-id="heading-8">ç»§æ‰¿çš„è¾¹ç•Œä¸æ›¿ä»£æ–¹æ¡ˆ</h2>
<p>ç»§æ‰¿æ˜¯â€œç™½ç›’å¤ç”¨â€ï¼Œå­ç±»ä¼šä¾èµ–çˆ¶ç±»å®ç°ç»†èŠ‚ï¼Œå®¹æ˜“é€ æˆâ€œè„†å¼±åŸºç±»â€é—®é¢˜ã€‚Swift æä¾›äº†æ›´è½»é‡çš„ç»„åˆæ‰‹æ®µï¼š</p>
<ol>
<li>åè®®ï¼ˆprotocolï¼‰+ é»˜è®¤å®ç° â†’ æ— éœ€ç»§æ‰¿å³å¯è·å¾—å¤šæ€ã€‚</li>
<li>å€¼ç±»å‹ï¼ˆstructï¼‰+ ç»„åˆ â†’ æŠŠâ€œèƒ½åŠ›â€åšæˆå±æ€§ï¼Œè€Œéçˆ¶ç±»ã€‚</li>
<li>é¢å‘åè®®ç¼–ç¨‹ï¼ˆPOPï¼‰â†’ æŠŠâ€œis-aâ€è½¬æˆâ€œcan-doâ€ï¼Œé™ä½è€¦åˆã€‚</li>
</ol>
<h2 data-id="heading-9">å®æˆ˜æ‰©å±•ï¼šä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹</h2>
<p>éœ€æ±‚ï¼š</p>
<ul>
<li>æ‰€æœ‰æ¸¸æˆå®ä½“éƒ½æœ‰è¡€é‡ hp ä¸åæ ‡ (x,y)ã€‚</li>
<li>ç©å®¶å¯ä»¥æ”»å‡»ï¼Œé€ æˆéšæœºä¼¤å®³ã€‚</li>
<li>BOSS è¡€é‡ä½äº 20% æ—¶è¿›å…¥ç‹‚æš´æ¨¡å¼ï¼Œæ”»å‡»åŠ›ç¿»å€ã€‚</li>
</ul>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1. åŸºç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Entity</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span>, y: <span class="hljs-type">Double</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">hp</span>: <span class="hljs-type">Double</span>, <span class="hljs-params">x</span>: <span class="hljs-type">Double</span>, <span class="hljs-params">y</span>: <span class="hljs-type">Double</span>) {
        <span class="hljs-keyword">self</span>.hp <span class="hljs-operator">=</span> hp; <span class="hljs-keyword">self</span>.x <span class="hljs-operator">=</span> x; <span class="hljs-keyword">self</span>.y <span class="hljs-operator">=</span> y
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">10.0</span>   <span class="hljs-comment">// é»˜è®¤ä¼¤å®³</span>
    }
}

<span class="hljs-comment">// 2. æ™®é€šå°æ€ª</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Monster</span>: <span class="hljs-title class_">Entity</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-keyword">let</span> damage <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.random(in: <span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">6</span>) <span class="hljs-operator">+</span> <span class="hljs-number">5</span>
        <span class="hljs-keyword">return</span> damage
    }
}

<span class="hljs-comment">// 3. BOSS</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Boss</span>: <span class="hljs-title class_">Entity</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-keyword">let</span> base <span class="hljs-operator">=</span> <span class="hljs-keyword">super</span>.attack()
        <span class="hljs-comment">// ç‹‚æš´åˆ¤æ–­</span>
        <span class="hljs-keyword">let</span> rage <span class="hljs-operator">=</span> hp <span class="hljs-operator">&lt;</span> <span class="hljs-number">20</span>   <span class="hljs-comment">// å‡è®¾ maxHp = 100</span>
        <span class="hljs-keyword">return</span> rage <span class="hljs-operator">?</span> base <span class="hljs-operator">*</span> <span class="hljs-number">2</span> : base
    }
}

<span class="hljs-comment">// 4. ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> boss <span class="hljs-operator">=</span> <span class="hljs-type">Boss</span>(hp: <span class="hljs-number">15</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"BOSS ä¼¤å®³ï¼š<span class="hljs-subst">\(boss.attack())</span>"</span>)  <span class="hljs-comment">// è¡€é‡&lt;20ï¼Œä¼¤å®³ç¿»å€</span>
</code></pre>
<h2 data-id="heading-10">æ€»ç»“ä¸æ€è€ƒ</h2>
<ol>
<li>ç»§æ‰¿æ˜¯ Swift é¢å‘å¯¹è±¡ä½“ç³»çš„åŸºçŸ³ï¼Œä½†â€œèƒ½ç”¨â€ä¸ç­‰äºâ€œè¯¥ç”¨â€ã€‚</li>
<li>ä¼˜å…ˆæŠŠâ€œå…±æ€§â€åšæˆåè®®æˆ–å·¥å…·å‡½æ•°ï¼Œå†è€ƒè™‘æ˜¯å¦æŠ½è±¡å‡ºåŸºç±»ã€‚</li>
<li>é‡å†™æ—¶å§‹ç»ˆåŠ  overrideï¼Œæ—¢å®‰å…¨åˆè‡ªæ–‡æ¡£åŒ–ã€‚</li>
<li>ç”¨ final æ˜ç¡®â€œè®¾è®¡è¾¹ç•Œâ€ï¼Œè®©åæ¥è€…å°‘è¸©å‘ã€‚</li>
<li>ä¸å€¼ç±»å‹ã€åè®®ã€ç»„åˆæ­é…ï¼Œæ‰èƒ½å‘æŒ¥ Swift çœŸæ­£çš„å¨åŠ›ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·Ÿç€AIé€Ÿåº¦cliæºç ä¸‰-äº¤äº’é—®ç­”ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7573519273029697582</link>    <guid>https://juejin.cn/post/7573519273029697582</guid>    <pubDate>2025-11-17T09:43:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573519273029697582" data-draft-id="7573519273029681198" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·Ÿç€AIé€Ÿåº¦cliæºç ä¸‰-äº¤äº’é—®ç­”ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-11-17T09:43:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜´å¹³ä¼Šä¹‹è±¬"/> <meta itemprop="url" content="https://juejin.cn/user/2885545320261870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·Ÿç€AIé€Ÿåº¦cliæºç ä¸‰-äº¤äº’é—®ç­”ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2885545320261870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜´å¹³ä¼Šä¹‹è±¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:43:11.000Z" title="Mon Nov 17 2025 09:43:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é˜¶æ®µ 3: äº¤äº’å¼é—®ç­”ç³»ç»Ÿ</h2>
<h3 data-id="heading-1">ğŸ“Œ æ ¸å¿ƒçŸ¥è¯†ç‚¹</h3>
<h4 data-id="heading-2">1. prompts åº“ç®€ä»‹</h4>
<p><strong>prompts</strong> æ˜¯ä¸€ä¸ªè½»é‡çº§ã€ç¾è§‚çš„å‘½ä»¤è¡Œäº¤äº’å¼é—®ç­”åº“ã€‚</p>
<h5 data-id="heading-3">å®‰è£…:</h5>
<pre><code class="hljs language-bash" lang="bash">pnpm add prompts
</code></pre>
<h5 data-id="heading-4">åŸºæœ¬ç”¨æ³•:</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> prompts <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts'</span>

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">prompts</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'username'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥ç”¨æˆ·å:'</span>
})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">username</span>)  <span class="hljs-comment">// ç”¨æˆ·è¾“å…¥çš„å€¼</span>
</code></pre>
<hr/>
<h4 data-id="heading-5">2. é—®é¢˜å¯¹è±¡ (PromptObject) è¯¦è§£</h4>
<p>æ¯ä¸ªé—®é¢˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p>
<h5 data-id="heading-6">æ ¸å¿ƒå­—æ®µ:</h5>



































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>å¿…éœ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>type</code></td><td><code>string | function</code></td><td>âœ…</td><td>é—®é¢˜ç±»å‹æˆ–åŠ¨æ€åˆ¤æ–­å‡½æ•°</td></tr><tr><td><code>name</code></td><td><code>string</code></td><td>âœ…</td><td>ç­”æ¡ˆçš„å­—æ®µå</td></tr><tr><td><code>message</code></td><td><code>string | function</code></td><td>âœ…</td><td>é—®é¢˜æ–‡æœ¬æˆ–åŠ¨æ€ç”Ÿæˆå‡½æ•°</td></tr><tr><td><code>initial</code></td><td><code>any</code></td><td>âŒ</td><td>é»˜è®¤å€¼</td></tr></tbody></table>
<h5 data-id="heading-7">å¸¸ç”¨å­—æ®µ:</h5>









































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>è¯´æ˜</th><th>é€‚ç”¨ç±»å‹</th></tr></thead><tbody><tr><td><code>choices</code></td><td><code>Array</code></td><td>é€‰é¡¹åˆ—è¡¨</td><td><code>select</code>, <code>multiselect</code></td></tr><tr><td><code>active</code></td><td><code>string</code></td><td>"æ˜¯"é€‰é¡¹æ–‡æœ¬</td><td><code>toggle</code></td></tr><tr><td><code>inactive</code></td><td><code>string</code></td><td>"å¦"é€‰é¡¹æ–‡æœ¬</td><td><code>toggle</code></td></tr><tr><td><code>hint</code></td><td><code>string</code></td><td>æç¤ºä¿¡æ¯</td><td>æ‰€æœ‰ç±»å‹</td></tr><tr><td><code>validate</code></td><td><code>function</code></td><td>éªŒè¯å‡½æ•°</td><td>æ‰€æœ‰ç±»å‹</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-8">3. é—®é¢˜ç±»å‹ (type) è¯¦è§£</h4>
<h5 data-id="heading-9">3.1 text - æ–‡æœ¬è¾“å…¥</h5>
<p><strong>ç”¨é€”:</strong> è·å–ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'projectName'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥é¡¹ç›®åç§°:'</span>,
  <span class="hljs-attr">initial</span>: <span class="hljs-string">'my-app'</span>
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs language-perl" lang="perl">? è¯·è¾“å…¥é¡¹ç›®åç§°: â€º <span class="hljs-keyword">my</span>-app
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯:</strong> é¡¹ç›®åã€ç”¨æˆ·åã€é‚®ç®±ç­‰</p>
<hr/>
<h5 data-id="heading-10">3.2 number - æ•°å­—è¾“å…¥</h5>
<p><strong>ç”¨é€”:</strong> è·å–æ•°å­—</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'port'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥ç«¯å£å·:'</span>,
  <span class="hljs-attr">initial</span>: <span class="hljs-number">3000</span>
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">?</span> <span class="hljs-string">è¯·è¾“å…¥ç«¯å£å·:</span> <span class="hljs-string">â€º</span> <span class="hljs-number">3000</span>
</code></pre>
<hr/>
<h5 data-id="heading-11">3.3 toggle - å¼€å…³/ç¡®è®¤</h5>
<p><strong>ç”¨é€”:</strong> æ˜¯/å¦é€‰æ‹©</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'toggle'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'shouldOverwrite'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'ç›®æ ‡æ–‡ä»¶éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ'</span>,
  <span class="hljs-attr">initial</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">active</span>: <span class="hljs-string">'æ˜¯'</span>,
  <span class="hljs-attr">inactive</span>: <span class="hljs-string">'å¦'</span>
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs">? ç›®æ ‡æ–‡ä»¶éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ â€º å¦ / æ˜¯
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯:</strong> ç¡®è®¤æ“ä½œã€å¼€å…³è®¾ç½®</p>
<hr/>
<h5 data-id="heading-12">3.4 select - å•é€‰åˆ—è¡¨</h5>
<p><strong>ç”¨é€”:</strong> ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€é¡¹</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'select'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'templateType'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·é€‰æ‹©æ¨¡æ¿:'</span>,
  <span class="hljs-attr">choices</span>: [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'base(æ¨è)'</span>, <span class="hljs-attr">value</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'base'</span> } },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'demo(æ¼”ç¤º)'</span>, <span class="hljs-attr">value</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'demo'</span> } }
  ],
  <span class="hljs-attr">initial</span>: <span class="hljs-number">0</span>
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs language-css" lang="css">? è¯·é€‰æ‹©æ¨¡æ¿: â€º - Use arrow-keys. Return to submit.
â¯ <span class="hljs-built_in">base</span>(æ¨è)
  <span class="hljs-built_in">demo</span>(æ¼”ç¤º)
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯:</strong> æ¨¡æ¿é€‰æ‹©ã€æ¡†æ¶é€‰æ‹©</p>
<hr/>
<h5 data-id="heading-13">3.5 multiselect - å¤šé€‰åˆ—è¡¨</h5>
<p><strong>ç”¨é€”:</strong> ä»åˆ—è¡¨ä¸­é€‰æ‹©å¤šé¡¹</p>
<p><strong>ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'multiselect'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'features'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'é€‰æ‹©éœ€è¦çš„åŠŸèƒ½:'</span>,
  <span class="hljs-attr">choices</span>: [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'TypeScript'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'ts'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'ESLint'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'eslint'</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'Prettier'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'prettier'</span> }
  ]
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs">? é€‰æ‹©éœ€è¦çš„åŠŸèƒ½: (ç©ºæ ¼é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤)
â¯ â—‰ TypeScript
  â—¯ ESLint
  â—‰ Prettier
</code></pre>
<hr/>
<h4 data-id="heading-14">4. åŠ¨æ€é—®é¢˜ - type å’Œ message å¯ä»¥æ˜¯å‡½æ•°</h4>
<p>è¿™æ˜¯ prompts æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼</p>
<h5 data-id="heading-15">4.1 åŠ¨æ€ type - æ¡ä»¶æ˜¾ç¤ºé—®é¢˜</h5>
<p><strong>ç”¨é€”:</strong> æ ¹æ®å‰ä¸€ä¸ªç­”æ¡ˆå†³å®šæ˜¯å¦æ˜¾ç¤ºå½“å‰é—®é¢˜</p>
<p><strong>è¯­æ³•:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> {
  <span class="hljs-comment">// prevValue æ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆ</span>
  <span class="hljs-keyword">return</span> æ¡ä»¶ ? <span class="hljs-string">'é—®é¢˜ç±»å‹'</span> : <span class="hljs-literal">null</span>  <span class="hljs-comment">// null è¡¨ç¤ºè·³è¿‡</span>
}
</code></pre>
<p><strong>create-unibest å®é™…æ¡ˆä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–‡ä»¶è¦†ç›–é—®é¢˜ - åªåœ¨ç›®å½•éç©ºæ—¶æ˜¾ç¤º</span>
{
  <span class="hljs-attr">name</span>: <span class="hljs-string">'shouldOverwrite'</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> {
    <span class="hljs-comment">// prevValue æ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆ (projectName)</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">canSkipEmptying</span>(prevValue) ? <span class="hljs-literal">null</span> : <span class="hljs-string">'toggle'</span>
  },
  <span class="hljs-attr">message</span>: <span class="hljs-string">'ç›®æ ‡æ–‡ä»¶éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ'</span>,
  <span class="hljs-attr">initial</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">active</span>: <span class="hljs-string">'æ˜¯'</span>,
  <span class="hljs-attr">inactive</span>: <span class="hljs-string">'å¦'</span>
}
</code></pre>
<p><strong>æ‰§è¡Œæµç¨‹:</strong></p>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·è¾“å…¥é¡¹ç›®å: <span class="hljs-string">"my-app"</span>
       â†“
<span class="hljs-built_in">type</span> å‡½æ•°è¢«è°ƒç”¨: <span class="hljs-built_in">type</span>(<span class="hljs-string">"my-app"</span>)
       â†“
æ£€æŸ¥: canSkipEmptying(<span class="hljs-string">"my-app"</span>)
       â”œâ”€ <span class="hljs-literal">true</span>  â†’ è¿”å› null â†’ è·³è¿‡è¿™ä¸ªé—®é¢˜
       â””â”€ <span class="hljs-literal">false</span> â†’ è¿”å› <span class="hljs-string">'toggle'</span> â†’ æ˜¾ç¤ºé—®é¢˜
</code></pre>
<hr/>
<h5 data-id="heading-16">4.2 åŠ¨æ€ message - æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆé—®é¢˜æ–‡æœ¬</h5>
<p><strong>ç”¨é€”:</strong> æ ¹æ®å‰é¢çš„ç­”æ¡ˆåŠ¨æ€ç”Ÿæˆé—®é¢˜å†…å®¹</p>
<p><strong>è¯­æ³•:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">message</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`æ ¹æ® <span class="hljs-subst">${prevValue}</span> ç”Ÿæˆçš„é—®é¢˜æ–‡æœ¬`</span>
}
</code></pre>
<p><strong>create-unibest å®é™…æ¡ˆä¾‹:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">name</span>: <span class="hljs-string">'shouldOverwrite'</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> <span class="hljs-title function_">canSkipEmptying</span>(prevValue) ? <span class="hljs-literal">null</span> : <span class="hljs-string">'toggle'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> {
    <span class="hljs-comment">// prevValue æ˜¯é¡¹ç›®å</span>
    <span class="hljs-keyword">const</span> dirForPrompt = prevValue === <span class="hljs-string">'.'</span>
      ? <span class="hljs-string">'å½“å‰æ–‡ä»¶'</span>
      : <span class="hljs-string">`ç›®æ ‡æ–‡ä»¶"<span class="hljs-subst">${prevValue}</span>"`</span>

    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${dirForPrompt}</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ`</span>
  },
  <span class="hljs-attr">initial</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">active</span>: <span class="hljs-string">'æ˜¯'</span>,
  <span class="hljs-attr">inactive</span>: <span class="hljs-string">'å¦'</span>
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å¦‚æœé¡¹ç›®åæ˜¯ "my-app"</span>
? ç›®æ ‡æ–‡ä»¶<span class="hljs-string">"my-app"</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ â€º å¦ / æ˜¯

<span class="hljs-comment">// å¦‚æœé¡¹ç›®åæ˜¯ "."</span>
? å½“å‰æ–‡ä»¶éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ â€º å¦ / æ˜¯
</code></pre>
<hr/>
<h4 data-id="heading-17">5. éªŒè¯å™¨ (overwriteChecker) æ¨¡å¼</h4>
<p><strong>é—®é¢˜:</strong> ç”¨æˆ·é€‰æ‹©"å¦"æ—¶å¦‚ä½•ä¸­æ–­æµç¨‹ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong> ä½¿ç”¨éšè—çš„éªŒè¯å™¨é—®é¢˜</p>
<p><strong>ä»£ç :</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">name</span>: <span class="hljs-string">'overwriteChecker'</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prevValues</span>) =&gt;</span> {
    <span class="hljs-comment">// prevValues æ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„ç­”æ¡ˆ</span>
    <span class="hljs-keyword">if</span> (prevValues === <span class="hljs-literal">false</span>) {
      <span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©äº†"å¦"ï¼ŒæŠ›å‡ºé”™è¯¯ä¸­æ–­</span>
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ“ä½œå·²å–æ¶ˆ'</span>)
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>  <span class="hljs-comment">// è¿”å› null ä¸æ˜¾ç¤ºé—®é¢˜</span>
  }
}
</code></pre>
<p><strong>å·¥ä½œåŸç†:</strong></p>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·é€‰æ‹©: æ˜¯å¦è¦†ç›–ï¼Ÿ
       â”œâ”€ é€‰æ‹©<span class="hljs-string">"æ˜¯"</span> (<span class="hljs-literal">true</span>)
       â”‚     â†“
       â”‚  <span class="hljs-built_in">type</span>(<span class="hljs-literal">true</span>) â†’ null â†’ è·³è¿‡éªŒè¯å™¨ â†’ ç»§ç»­ä¸‹ä¸€ä¸ªé—®é¢˜
       â”‚
       â””â”€ é€‰æ‹©<span class="hljs-string">"å¦"</span> (<span class="hljs-literal">false</span>)
             â†“
          <span class="hljs-built_in">type</span>(<span class="hljs-literal">false</span>) â†’ æŠ›å‡ºé”™è¯¯ â†’ æ•´ä¸ªæµç¨‹ä¸­æ–­
</code></pre>
<hr/>
<h4 data-id="heading-18">6. create-unibest é—®ç­”ç³»ç»Ÿæ¶æ„</h4>
<h5 data-id="heading-19">æ–‡ä»¶ç»“æ„:</h5>
<pre><code class="hljs language-bash" lang="bash">src/question/
â”œâ”€â”€ index.ts           <span class="hljs-comment"># ä¸»å…¥å£ï¼Œç»„åˆæ‰€æœ‰é—®é¢˜</span>
â”œâ”€â”€ name.ts            <span class="hljs-comment"># é¡¹ç›®åé—®é¢˜</span>
â”œâ”€â”€ file.ts            <span class="hljs-comment"># æ–‡ä»¶è¦†ç›–é—®é¢˜</span>
â””â”€â”€ template/
    â”œâ”€â”€ index.ts       <span class="hljs-comment"># æ¨¡æ¿é€‰æ‹©é—®é¢˜</span>
    â””â”€â”€ templateDate.ts <span class="hljs-comment"># æ¨¡æ¿æ•°æ®</span>
</code></pre>
<hr/>
<h5 data-id="heading-20">6.1 ä¸»å…¥å£ (src/question/index.ts)</h5>
<p><strong>ä»£ç :</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> prompts <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts'</span>
<span class="hljs-keyword">import</span> { bold, red } <span class="hljs-keyword">from</span> <span class="hljs-string">'kolorist'</span>
<span class="hljs-keyword">import</span> figures <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts/lib/util/figures.js'</span>
<span class="hljs-keyword">import</span> projectName <span class="hljs-keyword">from</span> <span class="hljs-string">'./name'</span>
<span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./template'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">question</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç»„åˆæ‰€æœ‰é—®é¢˜</span>
  <span class="hljs-keyword">const</span> questions = [
    ...<span class="hljs-title function_">projectName</span>(),  <span class="hljs-comment">// é¡¹ç›®å + æ–‡ä»¶è¦†ç›–</span>
    <span class="hljs-title function_">template</span>(),        <span class="hljs-comment">// æ¨¡æ¿é€‰æ‹©</span>
  ]

  <span class="hljs-comment">// å–æ¶ˆå¤„ç†</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onCancel</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`<span class="hljs-subst">${red(figures.cross)}</span> <span class="hljs-subst">${bold(<span class="hljs-string">'æ“ä½œå·²å–æ¶ˆ'</span>)}</span>`</span>)
  }

  <span class="hljs-comment">// æ‰§è¡Œé—®ç­”</span>
  <span class="hljs-keyword">const</span> answers = <span class="hljs-keyword">await</span> <span class="hljs-title function_">prompts</span>(questions, { onCancel })

  <span class="hljs-keyword">return</span> answers
}
</code></pre>
<p><strong>å…³é”®ç‚¹:</strong></p>
<ol>
<li>ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ <code>...</code> ç»„åˆé—®é¢˜æ•°ç»„</li>
<li><code>onCancel</code> å¤„ç†ç”¨æˆ·æŒ‰ Ctrl+C çš„æƒ…å†µ</li>
<li><code>await</code> ç­‰å¾…ç”¨æˆ·è¾“å…¥å®Œæˆ</li>
<li>è¿”å›ç­”æ¡ˆå¯¹è±¡</li>
</ol>
<hr/>
<h5 data-id="heading-21">6.2 é¡¹ç›®åé—®é¢˜ (src/question/name.ts)</h5>
<p><strong>ä»£ç :</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PromptObject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts'</span>
<span class="hljs-keyword">import</span> filePrompt <span class="hljs-keyword">from</span> <span class="hljs-string">'./file'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (): <span class="hljs-title class_">PromptObject</span>&lt;<span class="hljs-built_in">string</span>&gt;[] =&gt; {
  <span class="hljs-keyword">return</span> [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'projectName'</span>,
      <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥é¡¹ç›®åç§°:'</span>,
      <span class="hljs-attr">initial</span>: <span class="hljs-string">'unibest'</span>,
    },
    ...<span class="hljs-title function_">filePrompt</span>(),  <span class="hljs-comment">// åµŒå…¥æ–‡ä»¶è¦†ç›–é—®é¢˜</span>
  ]
}
</code></pre>
<p><strong>ç‰¹ç‚¹:</strong></p>
<ul>
<li>è¿”å›é—®é¢˜<strong>æ•°ç»„</strong>ï¼ˆä¸æ˜¯å•ä¸ªé—®é¢˜ï¼‰</li>
<li>åŒ…å«é¡¹ç›®åé—®é¢˜ + æ–‡ä»¶è¦†ç›–é—®é¢˜</li>
<li>ä½¿ç”¨ <code>...filePrompt()</code> å±•å¼€</li>
</ul>
<hr/>
<h5 data-id="heading-22">6.3 æ–‡ä»¶è¦†ç›–é—®é¢˜ (src/question/file.ts)</h5>
<p><strong>å®Œæ•´ä»£ç åˆ†æ:</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PromptObject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts'</span>
<span class="hljs-keyword">import</span> { bold, red } <span class="hljs-keyword">from</span> <span class="hljs-string">'kolorist'</span>
<span class="hljs-keyword">import</span> figures <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts/lib/util/figures.js'</span>
<span class="hljs-keyword">import</span> { canSkipEmptying } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (targetDir?: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">PromptObject</span>&lt;<span class="hljs-built_in">string</span>&gt;[] =&gt; {
  <span class="hljs-keyword">return</span> [
    <span class="hljs-comment">// é—®é¢˜ 1: è¦†ç›–ç¡®è®¤</span>
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'shouldOverwrite'</span>,

      <span class="hljs-comment">// ğŸ¯ åŠ¨æ€ type: æ ¹æ®ç›®å½•çŠ¶æ€å†³å®šæ˜¯å¦æ˜¾ç¤º</span>
      <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-params">prevValue</span> =&gt;</span> (
        <span class="hljs-title function_">canSkipEmptying</span>(targetDir ?? prevValue)
          ? <span class="hljs-literal">null</span>        <span class="hljs-comment">// ç›®å½•ç©º/ä¸å­˜åœ¨ â†’ è·³è¿‡</span>
          : <span class="hljs-string">'toggle'</span>    <span class="hljs-comment">// ç›®å½•éç©º â†’ æ˜¾ç¤º toggle</span>
      ),

      <span class="hljs-comment">// ğŸ¯ åŠ¨æ€ message: æ ¹æ®ç›®å½•åç”Ÿæˆé—®é¢˜æ–‡æœ¬</span>
      <span class="hljs-attr">message</span>: <span class="hljs-function">(<span class="hljs-params">prevValue</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> _targetDir = targetDir ?? prevValue
        <span class="hljs-keyword">const</span> dirForPrompt = _targetDir === <span class="hljs-string">'.'</span>
          ? <span class="hljs-string">'å½“å‰æ–‡ä»¶'</span>
          : <span class="hljs-string">`ç›®æ ‡æ–‡ä»¶"<span class="hljs-subst">${_targetDir}</span>"`</span>

        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${dirForPrompt}</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ`</span>
      },

      <span class="hljs-attr">initial</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">active</span>: <span class="hljs-string">'æ˜¯'</span>,
      <span class="hljs-attr">inactive</span>: <span class="hljs-string">'å¦'</span>,
    },

    <span class="hljs-comment">// é—®é¢˜ 2: éªŒè¯å™¨ï¼ˆéšè—ï¼‰</span>
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'overwriteChecker'</span>,

      <span class="hljs-comment">// ğŸ¯ å¦‚æœç”¨æˆ·é€‰æ‹©"å¦"ï¼ŒæŠ›å‡ºé”™è¯¯</span>
      <span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prevValues</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (prevValues === <span class="hljs-literal">false</span>)
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`<span class="hljs-subst">${red(figures.cross)}</span> <span class="hljs-subst">${bold(<span class="hljs-string">'æ“ä½œå·²å–æ¶ˆ'</span>)}</span>`</span>)

        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>  <span class="hljs-comment">// ä¸æ˜¾ç¤ºè¿™ä¸ªé—®é¢˜</span>
      },
    },
  ]
}
</code></pre>
<p><strong>æ‰§è¡Œæµç¨‹:</strong></p>
<pre><code class="hljs language-bash" lang="bash">åœºæ™¯ 1: ç›®å½•ä¸å­˜åœ¨
  projectName = <span class="hljs-string">"new-app"</span>
       â†“
  canSkipEmptying(<span class="hljs-string">"new-app"</span>) = <span class="hljs-literal">true</span>
       â†“
  <span class="hljs-built_in">type</span>(prevValue) è¿”å› null
       â†“
  è·³è¿‡ shouldOverwrite é—®é¢˜
       â†“
  è·³è¿‡ overwriteChecker é—®é¢˜
       â†“
  ç»§ç»­æ¨¡æ¿é€‰æ‹©

åœºæ™¯ 2: ç›®å½•å­˜åœ¨ä¸”éç©ºï¼Œç”¨æˆ·é€‰æ‹©<span class="hljs-string">"æ˜¯"</span>
  projectName = <span class="hljs-string">"existing-app"</span>
       â†“
  canSkipEmptying(<span class="hljs-string">"existing-app"</span>) = <span class="hljs-literal">false</span>
       â†“
  <span class="hljs-built_in">type</span>(prevValue) è¿”å› <span class="hljs-string">'toggle'</span>
       â†“
  æ˜¾ç¤º: ? ç›®æ ‡æ–‡ä»¶<span class="hljs-string">"existing-app"</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ
       â†“
  ç”¨æˆ·é€‰æ‹©: æ˜¯ (<span class="hljs-literal">true</span>)
       â†“
  overwriteChecker: <span class="hljs-built_in">type</span>(<span class="hljs-literal">true</span>) è¿”å› null
       â†“
  ç»§ç»­æ¨¡æ¿é€‰æ‹©

åœºæ™¯ 3: ç›®å½•å­˜åœ¨ä¸”éç©ºï¼Œç”¨æˆ·é€‰æ‹©<span class="hljs-string">"å¦"</span>
  projectName = <span class="hljs-string">"existing-app"</span>
       â†“
  æ˜¾ç¤º: ? ç›®æ ‡æ–‡ä»¶<span class="hljs-string">"existing-app"</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ
       â†“
  ç”¨æˆ·é€‰æ‹©: å¦ (<span class="hljs-literal">false</span>)
       â†“
  overwriteChecker: <span class="hljs-built_in">type</span>(<span class="hljs-literal">false</span>) æŠ›å‡ºé”™è¯¯
       â†“
  æ•´ä¸ªæµç¨‹ä¸­æ–­ï¼Œç¨‹åºé€€å‡º
</code></pre>
<hr/>
<h5 data-id="heading-23">6.4 æ¨¡æ¿é€‰æ‹©é—®é¢˜ (src/question/template/index.ts)</h5>
<p><strong>ä»£ç :</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">PromptObject</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'prompts'</span>
<span class="hljs-keyword">import</span> { templateList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./templateDate'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> (): <span class="hljs-title class_">PromptObject</span>&lt;<span class="hljs-built_in">string</span>&gt; =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'templateType'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'select'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·é€‰æ‹© uni-app æ¨¡æ¿ï¼Ÿ'</span>,
    <span class="hljs-attr">hint</span>: <span class="hljs-string">'ä½¿ç”¨æ–¹å‘é”®é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤'</span>,
    <span class="hljs-attr">choices</span>: [
      ...templateList,  <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶å¯¼å…¥</span>
    ],
    <span class="hljs-attr">initial</span>: <span class="hljs-number">0</span>,  <span class="hljs-comment">// é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ª</span>
  }
}
</code></pre>
<p><strong>templateList æ•°æ®ç»“æ„:</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/question/template/templateDate.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">templateList</span>: <span class="hljs-title class_">TemplateList</span>[] = [
  {
    <span class="hljs-attr">title</span>: <span class="hljs-string">`base<span class="hljs-subst">${green(<span class="hljs-string">'(æ¨è)'</span>)}</span>`</span>,        <span class="hljs-comment">// æ˜¾ç¤ºæ–‡æœ¬</span>
    <span class="hljs-attr">description</span>: <span class="hljs-string">`<span class="hljs-subst">${red(<span class="hljs-string">'(å¤šTAB baseé¡¹ç›®)'</span>)}</span>`</span>,  <span class="hljs-comment">// æè¿°</span>
    <span class="hljs-attr">value</span>: {                                <span class="hljs-comment">// è¿”å›å€¼</span>
      <span class="hljs-attr">type</span>: <span class="hljs-string">'base'</span>,
      <span class="hljs-attr">branch</span>: <span class="hljs-string">'base'</span>,
      <span class="hljs-attr">url</span>: {
        <span class="hljs-attr">gitee</span>: <span class="hljs-string">'https://gitee.com/codercup/unibest.git'</span>,
        <span class="hljs-attr">github</span>: <span class="hljs-string">'https://github.com/codercup/unibest.git'</span>,
      },
    },
  },
  <span class="hljs-comment">// ... æ›´å¤šæ¨¡æ¿</span>
]
</code></pre>
<p><strong>æ˜¾ç¤ºæ•ˆæœ:</strong></p>
<pre><code class="hljs language-scss" lang="scss">? è¯·é€‰æ‹© uni-app æ¨¡æ¿ï¼Ÿ â€º - ä½¿ç”¨æ–¹å‘é”®é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤
â¯ <span class="hljs-built_in">base</span>(æ¨è) - (å¤šTAB baseé¡¹ç›®)
  <span class="hljs-built_in">demo</span>(æ¼”ç¤ºé¡¹ç›®) - (å¤šTABæ¼”ç¤ºé¡¹ç›®)
  <span class="hljs-built_in">i18n</span>(å¤šè¯­è¨€) - (å¤šTABå¤šè¯­è¨€é¡¹ç›®)
</code></pre>
<hr/>
<h4 data-id="heading-24">7. å–æ¶ˆå¤„ç† (onCancel)</h4>
<p><strong>ç”¨é€”:</strong> å¤„ç†ç”¨æˆ·æŒ‰ Ctrl+C æˆ– Esc çš„æƒ…å†µ</p>
<p><strong>è¯­æ³•:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">onCancel</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å¤„ç†å–æ¶ˆé€»è¾‘</span>
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ“ä½œå·²å–æ¶ˆ'</span>)  <span class="hljs-comment">// æŠ›å‡ºé”™è¯¯</span>
  <span class="hljs-comment">// æˆ–</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// è¿”å› true ç»§ç»­ï¼Œfalse æŠ›å‡ºé»˜è®¤é”™è¯¯</span>
}

<span class="hljs-keyword">await</span> <span class="hljs-title function_">prompts</span>(questions, { onCancel })
</code></pre>
<p><strong>create-unibest çš„å®ç°:</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">onCancel</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`<span class="hljs-subst">${red(figures.cross)}</span> <span class="hljs-subst">${bold(<span class="hljs-string">'æ“ä½œå·²å–æ¶ˆ'</span>)}</span>`</span>)
}

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> answers = <span class="hljs-keyword">await</span> <span class="hljs-title function_">prompts</span>(questions, { onCancel })
} <span class="hljs-keyword">catch</span> (cancelled) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cancelled.<span class="hljs-property">message</span>)
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>)
}
</code></pre>
<p><strong>æ•ˆæœ:</strong></p>
<pre><code class="hljs">? è¯·è¾“å…¥é¡¹ç›®åç§°: â€º ^C
âœ– æ“ä½œå·²å–æ¶ˆ
</code></pre>
<hr/>
<h4 data-id="heading-25">8. é—®ç­”ç»“æœå¯¹è±¡</h4>
<p><strong>è¾“å…¥ç¤ºä¾‹:</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm create unibest
</code></pre>
<p><strong>ç”¨æˆ·äº¤äº’:</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">? è¯·è¾“å…¥é¡¹ç›®åç§°: â€º my-app
? ç›®æ ‡æ–‡ä»¶<span class="hljs-string">"my-app"</span>éç©ºï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ â€º æ˜¯
? è¯·é€‰æ‹© uni-app æ¨¡æ¿ï¼Ÿ â€º <span class="hljs-keyword">base</span>(æ¨è)
</code></pre>
<p><strong>è¿”å›çš„ answers å¯¹è±¡:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">projectName</span>: <span class="hljs-string">'my-app'</span>,
  <span class="hljs-attr">shouldOverwrite</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">templateType</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'base'</span>,
    <span class="hljs-attr">branch</span>: <span class="hljs-string">'base'</span>,
    <span class="hljs-attr">url</span>: {
      <span class="hljs-attr">gitee</span>: <span class="hljs-string">'https://gitee.com/codercup/unibest.git'</span>,
      <span class="hljs-attr">github</span>: <span class="hljs-string">'https://github.com/codercup/unibest.git'</span>
    }
  }
}
</code></pre>
<p><strong>æ³¨æ„:</strong></p>
<ul>
<li><code>overwriteChecker</code> ä¸åœ¨ç»“æœä¸­ï¼ˆå®ƒçš„ type è¿”å› nullï¼‰</li>
<li>è·³è¿‡çš„é—®é¢˜ä¹Ÿä¸åœ¨ç»“æœä¸­</li>
</ul>
<hr/>
<h4 data-id="heading-26">9. å®Œæ•´æ‰§è¡Œæµç¨‹</h4>
<pre><code class="hljs language-ini" lang="ini">ç”¨æˆ·æ‰§è¡Œ: pnpm create unibest
       â†“
   printBanner()
       â†“
   è§£æå‚æ•°: <span class="hljs-attr">projectName</span> = undefined
       â†“
   èµ°è·¯å¾„ A: å®Œå…¨äº¤äº’å¼
       â†“
   è°ƒç”¨ question() å‡½æ•°
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é—®é¢˜ 1: è¯·è¾“å…¥é¡¹ç›®åç§°          â”‚
â”‚  ç”¨æˆ·è¾“å…¥: "my-app"              â”‚
â”‚  <span class="hljs-attr">answers.projectName</span> = <span class="hljs-string">"my-app"</span> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   æ£€æŸ¥ç›®å½•: canSkipEmptying("my-app")
       â”œâ”€ true  â†’ è·³è¿‡é—®é¢˜ 2
       â””â”€ false â†’ æ˜¾ç¤ºé—®é¢˜ 2
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é—®é¢˜ 2: æ˜¯å¦è¦†ç›–ï¼Ÿ              â”‚
â”‚  ç”¨æˆ·é€‰æ‹©: æ˜¯                    â”‚
â”‚  <span class="hljs-attr">answers.shouldOverwrite</span> = <span class="hljs-literal">true</span> â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   éªŒè¯å™¨æ£€æŸ¥: <span class="hljs-attr">shouldOverwrite</span> === <span class="hljs-literal">true</span>
       â†“ é€šè¿‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é—®é¢˜ 3: é€‰æ‹©æ¨¡æ¿                â”‚
â”‚  ç”¨æˆ·é€‰æ‹©: base                  â”‚
â”‚  <span class="hljs-attr">answers.templateType</span> = {...}   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
   è¿”å› answers å¯¹è±¡
       â†“
   å¼€å§‹ä¸‹è½½æ¨¡æ¿...
</code></pre>
<hr/>
<h3 data-id="heading-27">ğŸ’¡ è®¾è®¡æ€è·¯æ€»ç»“</h3>
<h4 data-id="heading-28">1. æ™ºèƒ½åŠ¨æ€é—®é¢˜</h4>
<p><strong>é—®é¢˜:</strong> ä¸æ˜¯æ‰€æœ‰æƒ…å†µéƒ½éœ€è¦è¯¢é—®</p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<ul>
<li>ä½¿ç”¨å‡½æ•°å¼ <code>type</code></li>
<li>æ ¹æ®ä¸Šä¸‹æ–‡åŠ¨æ€å†³å®šæ˜¯å¦æ˜¾ç¤º</li>
</ul>
<p><strong>å¥½å¤„:</strong></p>
<ul>
<li>å‡å°‘ä¸å¿…è¦çš„é—®é¢˜</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>é€»è¾‘æ¸…æ™°</li>
</ul>
<hr/>
<h4 data-id="heading-29">2. é“¾å¼éªŒè¯æ¨¡å¼</h4>
<p><strong>é—®é¢˜:</strong> ç”¨æˆ·é€‰æ‹©"å¦"æ—¶å¦‚ä½•ä¼˜é›…é€€å‡ºï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ:</strong></p>
<ul>
<li>æ·»åŠ éšè—çš„éªŒè¯å™¨é—®é¢˜</li>
<li><code>type</code> è¿”å› <code>null</code> ä¸æ˜¾ç¤º</li>
<li>åœ¨éªŒè¯å™¨ä¸­æŠ›å‡ºé”™è¯¯</li>
</ul>
<p><strong>å¥½å¤„:</strong></p>
<ul>
<li>å³æ—¶åé¦ˆ</li>
<li>æµç¨‹æ¸…æ™°</li>
<li>é¿å…æ— æ•ˆæ“ä½œ</li>
</ul>
<hr/>
<h4 data-id="heading-30">3. é—®é¢˜æ¨¡å—åŒ–</h4>
<p><strong>æ¶æ„:</strong></p>
<pre><code class="hljs language-bash" lang="bash">question/
â”œâ”€â”€ index.ts     <span class="hljs-comment"># ç»„åˆå™¨</span>
â”œâ”€â”€ name.ts      <span class="hljs-comment"># é¡¹ç›®åæ¨¡å—</span>
â”œâ”€â”€ file.ts      <span class="hljs-comment"># æ–‡ä»¶è¦†ç›–æ¨¡å—</span>
â””â”€â”€ template/    <span class="hljs-comment"># æ¨¡æ¿é€‰æ‹©æ¨¡å—</span>
</code></pre>
<p><strong>å¥½å¤„:</strong></p>
<ul>
<li>èŒè´£åˆ†ç¦»</li>
<li>æ˜“äºç»´æŠ¤</li>
<li>å¯å¤ç”¨</li>
</ul>
<hr/>
<h4 data-id="heading-31">4. ç”¨æˆ·å‹å¥½</h4>
<p><strong>ç»†èŠ‚:</strong></p>
<ol>
<li>æä¾›é»˜è®¤å€¼ (<code>initial: 'unibest'</code>)</li>
<li>æä¾›æç¤º (<code>hint: 'ä½¿ç”¨æ–¹å‘é”®é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤'</code>)</li>
<li>å½©è‰²é«˜äº® (<code>green('(æ¨è)')</code>)</li>
<li>æ¸…æ™°çš„æè¿° (<code>description: '(å¤šTAB baseé¡¹ç›®)'</code>)</li>
</ol>
<hr/>
<h3 data-id="heading-32">ğŸ”§ prompts API é€ŸæŸ¥è¡¨</h3>
<h4 data-id="heading-33">é—®é¢˜ç±»å‹</h4>













































<table><thead><tr><th>ç±»å‹</th><th>ç”¨é€”</th><th>è¿”å›å€¼ç±»å‹</th></tr></thead><tbody><tr><td><code>text</code></td><td>æ–‡æœ¬è¾“å…¥</td><td><code>string</code></td></tr><tr><td><code>number</code></td><td>æ•°å­—è¾“å…¥</td><td><code>number</code></td></tr><tr><td><code>confirm</code></td><td>æ˜¯/å¦</td><td><code>boolean</code></td></tr><tr><td><code>toggle</code></td><td>å¼€å…³</td><td><code>boolean</code></td></tr><tr><td><code>select</code></td><td>å•é€‰</td><td><code>any</code></td></tr><tr><td><code>multiselect</code></td><td>å¤šé€‰</td><td><code>any[]</code></td></tr><tr><td><code>autocomplete</code></td><td>è‡ªåŠ¨å®Œæˆ</td><td><code>any</code></td></tr></tbody></table>
<h4 data-id="heading-34">å¸¸ç”¨å­—æ®µ</h4>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span> | <span class="hljs-string">'number'</span> | <span class="hljs-string">'select'</span> | ...,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'fieldName'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'é—®é¢˜æ–‡æœ¬'</span>,
  <span class="hljs-attr">initial</span>: é»˜è®¤å€¼,
  <span class="hljs-attr">choices</span>: [{ title, value }],  <span class="hljs-comment">// select/multiselect</span>
  <span class="hljs-attr">active</span>: <span class="hljs-string">'æ˜¯'</span>,                 <span class="hljs-comment">// toggle</span>
  <span class="hljs-attr">inactive</span>: <span class="hljs-string">'å¦'</span>,               <span class="hljs-comment">// toggle</span>
  <span class="hljs-attr">hint</span>: <span class="hljs-string">'æç¤ºä¿¡æ¯'</span>,
  <span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-built_in">boolean</span> | <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">format</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> newValue,
  <span class="hljs-attr">onState</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> { ... }
}
</code></pre>
<h4 data-id="heading-35">åŠ¨æ€å­—æ®µ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€ type</span>
<span class="hljs-attr">type</span>: <span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> æ¡ä»¶ ? <span class="hljs-string">'ç±»å‹'</span> : <span class="hljs-literal">null</span>

<span class="hljs-comment">// åŠ¨æ€ message</span>
<span class="hljs-attr">message</span>: <span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> <span class="hljs-string">`æ ¹æ® <span class="hljs-subst">${prev}</span> ç”Ÿæˆçš„æ¶ˆæ¯`</span>

<span class="hljs-comment">// éªŒè¯</span>
<span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> value.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> || <span class="hljs-string">'ä¸èƒ½ä¸ºç©º'</span>
</code></pre>
<hr/>
<h3 data-id="heading-36">ğŸ“š å»¶ä¼¸é˜…è¯»</h3>
<h4 data-id="heading-37">prompts å®˜æ–¹æ–‡æ¡£</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fterkelg%2Fprompts" target="_blank" title="https://github.com/terkelg/prompts" ref="nofollow noopener noreferrer">GitHub: terkelg/prompts</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fprompts" target="_blank" title="https://www.npmjs.com/package/prompts" ref="nofollow noopener noreferrer">npm: prompts</a></li>
</ul>
<h4 data-id="heading-38">å…¶ä»–äº¤äº’å¼åº“</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSBoudrias%2FInquirer.js" target="_blank" title="https://github.com/SBoudrias/Inquirer.js" ref="nofollow noopener noreferrer">inquirer</a> - åŠŸèƒ½æœ€å…¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fenquirer%2Fenquirer" target="_blank" title="https://github.com/enquirer/enquirer" ref="nofollow noopener noreferrer">enquirer</a> - æ€§èƒ½æ›´å¥½</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnatemoo-re%2Fclack" target="_blank" title="https://github.com/natemoo-re/clack" ref="nofollow noopener noreferrer">clack</a> - ç°ä»£åŒ–è®¾è®¡</li>
</ul>
<hr/>
<h3 data-id="heading-39">âœ… é˜¶æ®µ 3 æ€»ç»“</h3>
<h4 data-id="heading-40">ä½ å­¦åˆ°äº†:</h4>
<ol>
<li>âœ… <strong>prompts åŸºæœ¬ç”¨æ³•</strong> - å„ç§é—®é¢˜ç±»å‹</li>
<li>âœ… <strong>åŠ¨æ€é—®é¢˜æœºåˆ¶</strong> - type å’Œ message å‡½æ•°</li>
<li>âœ… <strong>éªŒè¯å™¨æ¨¡å¼</strong> - éšè—é—®é¢˜å®ç°æµç¨‹æ§åˆ¶</li>
<li>âœ… <strong>å–æ¶ˆå¤„ç†</strong> - onCancel å›è°ƒ</li>
<li>âœ… <strong>æ¨¡å—åŒ–æ¶æ„</strong> - é—®é¢˜ç»„ç»‡å’Œå¤ç”¨</li>
<li>âœ… <strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong> - é»˜è®¤å€¼ã€æç¤ºã€å½©è‰²è¾“å‡º</li>
</ol>
<h4 data-id="heading-41">å…³é”®è¦ç‚¹:</h4>





























<table><thead><tr><th>æ¦‚å¿µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>type</code> å‡½æ•°</td><td>åŠ¨æ€å†³å®šæ˜¯å¦æ˜¾ç¤ºé—®é¢˜</td></tr><tr><td><code>message</code> å‡½æ•°</td><td>æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆé—®é¢˜æ–‡æœ¬</td></tr><tr><td>éªŒè¯å™¨æ¨¡å¼</td><td>éšè—é—®é¢˜ + é”™è¯¯æŠ›å‡º = æµç¨‹æ§åˆ¶</td></tr><tr><td><code>onCancel</code></td><td>å¤„ç†ç”¨æˆ·å–æ¶ˆæ“ä½œ</td></tr><tr><td>å±•å¼€è¿ç®—ç¬¦</td><td>ç»„åˆé—®é¢˜æ•°ç»„</td></tr></tbody></table>
<hr/>
<p><strong>å‡†å¤‡å¥½è¿›å…¥é˜¶æ®µ 4 äº†å—?</strong> ğŸš€</p>
<p>ä¸‹ä¸€é˜¶æ®µå°†å­¦ä¹  <strong>æ–‡ä»¶ç³»ç»Ÿæ“ä½œ</strong>ï¼Œæ­ç§˜ç›®å½•éå†ã€æ¸…ç©ºã€åˆ›å»ºçš„å®ç°ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº‘æ –å®å½•Â |Â æ´‹é’±ç½åŸºäºÂ EMRÂ ServerlessÂ äº§å“æ„å»ºå…¨çƒä¸€ä½“åŒ–æ•°å­—é‡‘èå¹³å°]]></title>    <link>https://juejin.cn/post/7573225720698634292</link>    <guid>https://juejin.cn/post/7573225720698634292</guid>    <pubDate>2025-11-17T09:28:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573225720698634292" data-draft-id="7573170756869963828" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº‘æ –å®å½•Â |Â æ´‹é’±ç½åŸºäºÂ EMRÂ ServerlessÂ äº§å“æ„å»ºå…¨çƒä¸€ä½“åŒ–æ•°å­—é‡‘èå¹³å°"/> <meta itemprop="keywords" content="å¤§æ•°æ®,è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-17T09:28:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº‘æ –å®å½•Â |Â æ´‹é’±ç½åŸºäºÂ EMRÂ ServerlessÂ äº§å“æ„å»ºå…¨çƒä¸€ä½“åŒ–æ•°å­—é‡‘èå¹³å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:28:47.000Z" title="Mon Nov 17 2025 09:28:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¼”è®²äººï¼šå®‹æ™“å³°Â æ´‹é’±ç½å¤§æ•°æ®è¿ç»´æ€»ç›‘</p>
<h2 data-id="heading-0">åå¹´ç ´å£ï¼šä»æ•°æ®ç­‘åŸºåˆ°æ™ºèƒ½ç”Ÿæ€çš„å…¨é“¾è·¯å®è·µ</h2>
<h3 data-id="heading-1">ä¸€ã€æ•°æ®ç­‘åŸºâ€”â€”è‡ªå»ºå¤§æ•°æ®é›†ç¾¤çš„æ”»åšä¸çªç ´</h3>
<h4 data-id="heading-2">èƒŒæ™¯ä»‹ç»</h4>
<p>ç“´å²³ç§‘æŠ€ï¼ˆFintopiaï¼‰æ˜¯ä»¥å¤§æ•°æ®å’Œäººå·¥æ™ºèƒ½ä¸ºåŸºç¡€çš„æ•°å­—ç§‘æŠ€é›†å›¢ï¼Œä¸ºå…¨çƒç”¨æˆ·æä¾›å“è¶Šçš„é‡‘èä½“éªŒã€‚2015å¹´æˆç«‹è‡³ä»Šï¼Œç“´å²³ç§‘æŠ€å§‹ç»ˆèšç„¦æ¶ˆè´¹é‡‘èï¼Œä¸šåŠ¡éå¸ƒä¸­å›½å¤§é™†ã€ä¸œå—äºšã€æ‹‰ä¸ç¾æ´²å’Œéæ´²ç­‰ï¼›é›†å›¢æ——ä¸‹æ‹¥æœ‰æ´‹é’±ç½ã€Easycashç­‰çŸ¥åå“ç‰Œï¼Œæˆªè‡³2025å¹´ï¼ŒæœåŠ¡å…¨çƒé‡‘èæœºæ„è¶…è¿‡114å®¶ï¼Œå…¨çƒæ³¨å†Œç”¨æˆ·è¶…è¿‡1.81äº¿ï¼Œå…¨çƒç´¯è®¡äº¤æ˜“é¢è¶…è¿‡5400äº¿å…ƒã€‚åœ¨å…¬å¸å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¤§æ•°æ®éƒ¨é—¨ä¸ºæ™ºèƒ½é£æ§ã€ç²¾å‡†è¥é”€ã€äº§å“åˆ›æ–°ä¸‰å¤§æ ¸å¿ƒä¸šåŠ¡æä¾›æ•°æ®æ”¯æ’‘ï¼Œæ•´åˆå¤šæºæ•°æ®ï¼Œåˆ©ç”¨æœºå™¨å­¦ä¹ ç®—æ³•å®æ—¶è¯†åˆ«æ¬ºè¯ˆé£é™©ï¼Œæ„å»ºå…¨æµç¨‹é£æ§ä½“ç³»ï¼ŒåŸºäºç”¨æˆ·è¡Œä¸ºã€åå¥½ç­‰æ•°æ®ï¼Œå®šåˆ¶ä¸ªæ€§åŒ–é‡‘èæœåŠ¡æ¨èï¼Œé€šè¿‡åˆ†æå¸‚åœºè¶‹åŠ¿ä¸ç”¨æˆ·éœ€æ±‚æ•°æ®ï¼Œä¸ºäº§å“å¼€å‘æä¾›ç²¾å‡†æ–¹å‘ï¼ŒåŠ©åŠ›ç“´å²³ç§‘æŠ€å…¨çƒåŒ–ä¸šåŠ¡å¸ƒå±€ã€‚</p>
<h4 data-id="heading-3">å¤§æ•°æ®æŠ€æœ¯æ ˆè¿­ä»£ä¸å‡çº§è·¯å¾„</h4>
<p>è¿‡å»åå¹´ï¼Œæ´‹é’±ç½çš„å¤§æ•°æ®æŠ€æœ¯æ ˆç»å†äº†å¤šæ¬¡è¿­ä»£ã€‚</p>
<p>2018å¹´ï¼Œé¢å¯¹æ•°æ®å­¤å²›é—®é¢˜åŠä¼ ç»ŸMySQLæ•°æ®åº“æ— æ³•æœ‰æ•ˆæ”¯æŒå¤æ‚åˆ†æä»»åŠ¡çš„æŒ‘æˆ˜ï¼Œæˆ‘ä»¬è‡ªå»ºäº†é¦–ä¸ªåŸºäºåå¤šä¸ªèŠ‚ç‚¹çš„Hadoopå¤§æ•°æ®é›†ç¾¤ã€‚å½“æ—¶ç”¨æˆ·è§„æ¨¡çº¦2000ä¸‡ï¼Œæ¯æ—¥æ–°å¢æ•°æ®é‡çº¦300GBã€‚</p>
<p>éšç€ä¸šåŠ¡éœ€æ±‚çš„å¢é•¿ï¼Œç‰¹åˆ«æ˜¯åœ¨2018å¹´è‡³2021å¹´é—´ï¼ŒåŸæœ‰çš„MapReduceÂ æ¡†æ¶å› å¤„ç†å»¶è¿Ÿè¾ƒé«˜è€Œéš¾ä»¥æ»¡è¶³æ—¥ç›Šå¢é•¿çš„æ•°æ®å¤„ç†æ—¶æ•ˆæ€§è¦æ±‚ã€‚å› æ­¤ï¼Œåœ¨2021å¹´ï¼Œæˆ‘ä»¬å°†ç¦»çº¿æ•°æ®å¤„ç†å¼•æ“ç”±MapReduceè¿ç§»è‡³ApacheÂ sparkÂ 2.xï¼Œå¹¶åŒæ­¥å‡çº§äº†Hiveç‰ˆæœ¬è‡³3.xä»¥æå‡æ•°æ®ä»“åº“æ€§èƒ½ã€‚å½¼æ—¶ï¼Œç³»ç»Ÿæ¯å¤©è¿è¡Œçº¦3,000ä¸ªæ‰¹å¤„ç†ä½œä¸šã€‚</p>
<p>ä¸ºè¿›ä¸€æ­¥æé«˜æ•°æ®å¤„ç†æ•ˆç‡å¹¶å“åº”ä¸šåŠ¡å¯¹æ•°æ®å®æ—¶æ€§çš„æ›´é«˜æœŸå¾…ï¼Œ2022å¹´æˆ‘ä»¬å¼•å…¥äº†æ•°æ®æ¹–æŠ€æœ¯ApacheÂ Hudiï¼Œä»è€Œå°†åŸæœ¬çš„æ—¥å…¨é‡æ•°æ®æŠ½å–è½¬å˜ä¸ºå¢é‡æ›´æ–°æ¨¡å¼ï¼Œæ˜¾è‘—æå‡äº†æ•°æ®çš„æ–°é²œåº¦è‡³å°æ—¶çº§åˆ«ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸ºäº†æ›´å¥½åœ°æ”¯æŒäº¤äº’å¼æŸ¥è¯¢åœºæ™¯ï¼Œåœ¨2023å¹´æˆ‘ä»¬é‡‡ç”¨StarRocksä½œä¸ºæ–°çš„Ad-hocæŸ¥è¯¢å¼•æ“ï¼Œå–ä»£äº†ä¹‹å‰ä¾èµ–äºSparkÂ ThriftÂ Serverå®ç°çš„æ–¹æ³•ã€‚æˆªè‡³ç›®å‰ï¼ŒAd-hocÂ æ—¥å‡SQLæŸ¥è¯¢è¯·æ±‚é‡è¶…è¿‡8,000ï¼ŒP95å“åº”æ—¶é—´æ§åˆ¶åœ¨60ç§’ä»¥å†…ã€‚é‰´äºå…¨çƒåŒ–å¸ƒå±€å¸¦æ¥çš„å¼¹æ€§èµ„æºã€ä¸šåŠ¡ç¨³å®šæ€§å’Œæˆæœ¬ä¼˜åŒ–è¦æ±‚ï¼Œæˆ‘ä»¬åœ¨2024å¹´å¯¹æ•´ä¸ªé›†ç¾¤æ¶æ„è¿›è¡Œäº†é‡å¤§å‡çº§ï¼Œå°†è‡ªå»ºé›†ç¾¤è¿ç§»è‡³é˜¿é‡Œäº‘EMRÂ Serverlesså¹³å°ï¼ŒYarnÂ èŠ‚ç‚¹è§„æ¨¡è¶…è¿‡ä¸€åƒå°ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå°†sparkÂ 2.xå‡çº§åˆ°äº†sparkÂ 3.xã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c31852e3ea4464aa09bfdc7dfd58762~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=qYSkdAVS2PxytKnIY6k0YTh0wHU%3D" alt="image.png" loading="lazy"/></p>
<p>å½“å‰ï¼Œæˆ‘ä»¬é›†ç¾¤çš„æ•´ä½“å­˜å‚¨èƒ½åŠ›å·²ç»è¾¾åˆ°å•å‰¯æœ¬10PBçš„è§„æ¨¡ï¼Œæ¯æ—¥æ–°å¢æ•°æ®é‡çº¦ä¸º30TBã€‚æ ¸å¿ƒä¸šåŠ¡æŠ¥è¡¨æ•°é‡è¶…è¿‡3000ä»½ï¼Œè€Œè°ƒåº¦å·¥ä½œæµæ•°é‡å·²çªç ´15000ä¸ªã€‚åœ¨StarRocksé›†ç¾¤æ–¹é¢ï¼Œæˆ‘ä»¬åŒæ—¶é‡‡ç”¨äº†å­˜ç®—ä¸€ä½“åŒ–æ¶æ„ä¸å­˜ç®—åˆ†ç¦»æ¶æ„ï¼Œå¹¶æ ¹æ®ä¸åŒçš„ä¸šåŠ¡çº¿è¿›è¡Œäº†åˆ’åˆ†ï¼Œå› æ­¤ç›®å‰æ‹¥æœ‰è¶…è¿‡30ä¸ªç‹¬ç«‹çš„StarRocksé›†ç¾¤å®ä¾‹ã€‚å·¦ä¾§å±•ç¤ºçš„æ˜¯æˆ‘ä»¬çš„è°ƒåº¦èƒ½åŠ›å’ŒÂ Ad-hocÂ æŸ¥è¯¢èƒ½åŠ›ï¼ŒYARNæ—¥æ‰§è¡Œjobé‡è¶…è¿‡4ä¸‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b47dbd019f244532afd73dc2aa66ed97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=DnM1yX68XRimFB%2FZHRKknZqYMZU%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-4">ä»ç¨³å®šæ€§åˆ°æ•ˆç‡ï¼šè‡ªå»ºé›†ç¾¤çš„å›°å¢ƒè§£æ</h4>
<p>åœ¨è‡ªå»ºå¤§æ•°æ®é›†ç¾¤çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†è¯¸å¤šæŒ‘æˆ˜ï¼Œä¸»è¦é›†ä¸­åœ¨ç¨³å®šæ€§ã€å¼¹æ€§èµ„æºç®¡ç†å’Œè¿ç»´æ•ˆç‡ä¸‰ä¸ªæ–¹é¢ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ç¨³å®šæ€§æ–¹é¢ï¼Œæˆ‘ä»¬é¢ä¸´çš„ä¸»è¦é—®é¢˜æ˜¯ä¸šåŠ¡SLAç ´çº¿ã€‚è¿™ç§æƒ…å†µå¾€å¾€æºäºåº•å±‚Â NodeManagerÂ å› ç½‘ç»œå¸¦å®½é™åˆ¶æˆ–shuffleÂ é‡å¤§è€Œå¯¼è‡´ä»»åŠ¡å¤±è´¥ç‡ä¸Šå‡ã€‚æ­¤å¤–ï¼Œåœ¨ä½¿ç”¨å¼€æºç»„ä»¶è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå­˜åœ¨ä¸€äº›Â bugÂ æˆ–è€…æ€§èƒ½é—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨Â Hive3.xÂ å¼€æºç‰ˆæœ¬æ—¶ï¼Œåœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ä¼šå‡ºç°è¿›ç¨‹å¡æ­»ç­‰é—®é¢˜ï¼Œä»è€Œå½±å“ä¸šåŠ¡ç¨³å®šæ€§ï¼Œæ— æ³•æ»¡è¶³ç”Ÿäº§ç¯å¢ƒçš„è¦æ±‚ã€‚</p>
<p>å…¶æ¬¡ï¼Œåœ¨å¼¹æ€§èµ„æºç®¡ç†ä¸Šï¼Œè‡ªå»ºé›†ç¾¤ç¼ºä¹å¿«é€Ÿæ‰©å±•çš„èƒ½åŠ›ä»¥åº”å¯¹çªå‘æµé‡éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨å‡Œæ™¨é‡åˆ°ç´§æ€¥æƒ…å†µæ—¶ï¼Œå¸Œæœ›è¿…é€Ÿå¢åŠ è®¡ç®—èµ„æºæ¥è§£å†³é—®é¢˜å˜å¾—ä¸å¯è¡Œã€‚åŒæ—¶ï¼Œå³ä½¿è¿›è¡Œäº†ç‰©ç†æœåŠ¡å™¨çš„æ‰©å®¹ï¼Œåœ¨YARNçš„å®¹é‡è°ƒåº¦ç­–ç•¥ä¸‹ï¼Œä¹Ÿéš¾ä»¥æœ‰æ•ˆå¹³è¡¡ä¸åŒé˜Ÿåˆ—ä¹‹é—´çš„è´Ÿè½½åˆ†å¸ƒï¼Œå¯¼è‡´éƒ¨åˆ†é˜Ÿåˆ—åˆ©ç”¨ç‡è¿‡é«˜è€Œå…¶ä»–é˜Ÿåˆ—åˆ™ç›¸å¯¹ç©ºé—²ï¼Œæ•´ä½“ä¸Šé™ä½äº†é›†ç¾¤èµ„æºåˆ©ç”¨æ•ˆç‡ã€‚</p>
<p>æœ€åï¼Œå…³äºè¿ç»´æ•ˆç‡çš„é—®é¢˜ï¼Œå¤§æ•°æ®é›†ç¾¤çš„ç»´æŠ¤å·¥ä½œç›¸å½“å¤æ‚ä¸”è€—æ—¶ã€‚ä»ç¡¬ä»¶é‡‡è´­åˆ°æœ€ç»ˆå®Œæˆé…ç½®å¹¶æŠ•å…¥ä½¿ç”¨ï¼Œæ•´ä¸ªè¿‡ç¨‹é€šå¸¸éœ€è¦ä¸¤è‡³ä¸‰å¤©æ—¶é—´ã€‚æ­¤å¤–ï¼Œå¼€å‘äººå‘˜è¿˜éœ€æŠ•å…¥å¤§é‡ç²¾åŠ›è¿›è¡Œæ€§èƒ½è°ƒä¼˜ã€æ•…éšœæ’é™¤åŠæ—¥å¸¸å·¡æ£€ç­‰ä»»åŠ¡ï¼Œè¿™ä¸ä»…å¢åŠ äº†äººåŠ›æˆæœ¬ï¼Œä¹Ÿå½±å“äº†å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e9adefcc4f4fa1a05b3e76414a7515~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=rJo5sSwg7lSkFb6L5O5lWGPq3e0%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-5">SparkÂ å¼•æ“æ ¸å¿ƒç—›ç‚¹è§£æ</h4>
<p>åœ¨ä½¿ç”¨ApacheÂ Sparkå¼•æ“çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†å‡ ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼Œè¿™äº›é—®é¢˜ä¸»è¦é›†ä¸­åœ¨èµ„æºç®¡ç†ã€æ€§èƒ½ä¸ç¨³å®šæ€§ã€ç‰ˆæœ¬å‡çº§ä»¥åŠæˆæœ¬æ§åˆ¶ç­‰æ–¹é¢ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨èµ„æºç®¡ç†æ–¹é¢ï¼Œæˆ‘ä»¬é¢ä¸´çš„ä¸»è¦é—®é¢˜ä¹‹ä¸€æ˜¯å³°å€¼èµ„æºçš„ä¼˜åŒ–ã€‚ä¾‹å¦‚ï¼Œåœ¨å‡Œæ™¨æ‰§è¡Œå¤§è§„æ¨¡ä»»åŠ¡æ—¶ï¼Œè¯¥ä»»åŠ¡å¯èƒ½ä¼šå ç”¨é˜Ÿåˆ—ä¸­90%ä»¥ä¸Šçš„èµ„æºï¼Œè€Œå…¶ä»–è¾ƒå°çš„ä»»åŠ¡è™½ç„¶åªå ç”¨äº†å‰©ä½™10%å·¦å³çš„èµ„æºï¼Œä½†å…¶å®Œæˆæ—¶é—´å´å¯èƒ½æ›´é•¿ã€‚è¿™è¡¨æ˜äº†å½“å‰èµ„æºåˆ†é…æœºåˆ¶å­˜åœ¨ä¸åˆç†ä¹‹å¤„ï¼Œéœ€è¦æ›´åŠ ç²¾ç»†åœ°è°ƒæ•´ä»¥æé«˜æ•´ä½“æ•ˆç‡ã€‚å¦ä¸€ä¸ªé—®é¢˜æ˜¯è°·å€¼æœŸé—´èµ„æºåˆ©ç”¨ç‡ä½ä¸‹ã€‚ç‰¹åˆ«æ˜¯åœ¨éé«˜å³°æ—¶æ®µï¼ˆå¦‚åˆå¤œè¿‡åï¼‰ï¼Œé›†ç¾¤çš„æ•´ä½“èµ„æºåˆ©ç”¨ç‡å¾€å¾€åªèƒ½è¾¾åˆ°30%å·¦å³ï¼Œå¯¼è‡´å¤§é‡è®¡ç®—èƒ½åŠ›è¢«é—²ç½®ã€‚</p>
<p>å…¶æ¬¡ï¼Œåœ¨æ€§èƒ½ä¸ç¨³å®šæ€§æ–¹é¢ä¹Ÿå­˜åœ¨é—®é¢˜ã€‚å½“æˆ‘ä»¬ä½¿ç”¨è‡ªå»ºçš„å¤§æ•°æ®é›†ç¾¤éƒ¨ç½²Sparkæ—¶ï¼Œé‡‡ç”¨çš„æ˜¯å¼€æºç‰ˆçš„ShuffleÂ Serviceä½œä¸ºNodeManagerç»„ä»¶ã€‚ç„¶è€Œï¼Œåœ¨é«˜è´Ÿè½½æƒ…å†µä¸‹ï¼Œè¿™ç§æœåŠ¡çš„è¡¨ç°å¹¶ä¸ç†æƒ³ï¼Œå®¹æ˜“æˆä¸ºç“¶é¢ˆï¼Œå¹¶ä¸”å½“å•ä¸ªNodeManagerå‡ºç°é—®é¢˜æ—¶ï¼Œä¼šä¸¥é‡å½±å“åˆ°æ•´ä¸ªé›†ç¾¤ä¸Šè¿è¡Œä»»åŠ¡çš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p>
<p>ç¬¬ä¸‰ç‚¹å…³äºå¼•æ“ç‰ˆæœ¬å›ºåŒ–çš„é—®é¢˜ä¹Ÿéå¸¸çªå‡ºã€‚æ¯”å¦‚å°†Â sparkÂ 2.xè¿ç§»åˆ°sparkÂ 3.xï¼Œä¸ä»…è€—æ—¶è¾ƒé•¿ï¼Œè¿˜éœ€è¦å……åˆ†è€ƒè™‘æ–°æ—§ç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜ã€ç³»ç»Ÿç¨³å®šæ€§æµ‹è¯•ä»¥åŠå¯¹ç°æœ‰ä¸šåŠ¡æµç¨‹çš„å½±å“è¯„ä¼°ç­‰å¤šæ–¹é¢å› ç´ ã€‚</p>
<p>æœ€åï¼Œåœ¨æˆæœ¬æ§åˆ¶æ–¹é¢åŒæ ·å­˜åœ¨ç€æŒ‘æˆ˜ã€‚ç”±äºä¸åŒä¸šåŠ¡çº¿ä¹‹é—´å¯èƒ½å­˜åœ¨äº¤å‰éœ€æ±‚ï¼Œæ¯”å¦‚é£æ§åœºæ™¯ä¸‹çš„ç¦»çº¿æ•°æ®ä»“åº“å¤„ç†ä¸AdhocæŸ¥è¯¢åŒæ—¶è¿›è¡Œï¼Œè¿™å°±ä½¿å¾—å¾ˆéš¾æŒ‰ç…§å•ä¸€ä¸šåŠ¡ç»´åº¦æ¥ç²¾ç¡®åˆ’åˆ†å’Œç®¡ç†ç›¸å…³è´¹ç”¨ã€‚å› æ­¤ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°è¡¡é‡å¹¶ä¼˜åŒ–è·¨éƒ¨é—¨ä½¿ç”¨çš„Sparkèµ„æºæˆæœ¬ï¼Œæˆä¸ºäº†æˆ‘ä»¬éœ€è¦è§£å†³çš„é‡è¦è¯¾é¢˜ä¹‹ä¸€ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6df1cb7bd8714549bce9acaeec6d887d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=xw%2FfTO72PB9Qd18F9DEJN%2Fanu3s%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-6">StarRocksÂ é—®é¢˜è§£æ</h4>
<p>åœ¨ä½¿ç”¨Â StarRocksÂ çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿé‡åˆ°äº†ä¸€äº›æŒ‘æˆ˜ï¼Œä¸»è¦é›†ä¸­åœ¨æ•°æ®å¯¼å…¥ã€èµ„æºéš”ç¦»åŠç³»ç»Ÿç¨³å®šæ€§ä¸‰ä¸ªæ–¹é¢ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨æ•°æ®å¯¼å…¥æ–¹é¢ï¼ŒStreamLoadÂ å¯¼å…¥é€Ÿåº¦æ…¢ï¼Œæ”¯æŒçš„æ•°æ®é‡æœ‰é™ï¼Œå½“æé«˜æ•°æ®å¯¼å…¥é¢‘ç‡æ—¶ï¼Œå¯èƒ½ä¼šè§¦å‘Â FEÂ å†…å­˜é—®é¢˜ï¼Œä¼šå‡ºç°MVCç›¸å…³æŠ¥é”™ã€‚BrokerÂ LoadÂ è™½ç„¶å¯¼å…¥é€Ÿåº¦å¿«ï¼Œä½†æ˜¯è½¯æ€§èµ„æºéš”ç¦»ç­–ç•¥ä¼šå½±å“è¯»æ€§èƒ½ï¼Œæœ€åæˆ‘ä»¬è¿˜æ˜¯è¦ä¾èµ–Sparké›†ç¾¤çš„SparkÂ Loadè§£å†³å¤§æ•°æ®é‡å¯¼å…¥é—®é¢˜</p>
<p>å…¶æ¬¡ï¼Œå…³äºèµ„æºéš”ç¦»çš„é—®é¢˜ï¼Œè™½ç„¶å¼€æºç‰ˆStarRocksæä¾›äº†åŸºæœ¬çš„èµ„æºéš”ç¦»åŠŸèƒ½ï¼Œä½†å®ƒæ˜¯è½¯éš”ç¦»ï¼Œè€Œéç¡¬æ€§éš”ç¦»ï¼Œæ•°æ®å¯¼å…¥ä¸æŸ¥è¯¢æ“ä½œä¹‹é—´å­˜åœ¨ç«äº‰å…³ç³»ï¼Œå°¤å…¶æ˜¯å¤§è§„æ¨¡æŸ¥è¯¢è¯·æ±‚å¯èƒ½ä¼šå½±å“å…¶ä»–å°å‹æŸ¥è¯¢è¯·æ±‚çš„å“åº”æ—¶é—´ã€‚</p>
<p>æœ€åï¼Œåœ¨ç³»ç»Ÿè¿ç»´ä¸ç¨³å®šæ€§ä¿éšœæ–¹é¢ï¼Œå¼€æºç‰ˆæœ¬æ²¡æœ‰è‡ªå¸¦çš„ç®¡æ§é¡µé¢ï¼Œè¿ç»´äººå‘˜ä¸å¾—ä¸è‡ªè¡Œå¼€å‘ä¸€ç³»åˆ—è„šæœ¬æ¥å®Œæˆæ‰©ç¼©å®¹ç­‰è¯·æ±‚ï¼Œå¢åŠ äº†è¿ç»´éš¾åº¦ã€‚æ­¤å¤–ï¼Œåœ¨é¢å¯¹ç‰ˆæœ¬å‡çº§æ—¶ï¼Œå‡çº§è€—æ—¶é•¿ï¼Œè¿˜éœ€é¢å¤–è¿›è¡Œä¸šåŠ¡å›å½’æµ‹è¯•ä»¥éªŒè¯æ–°ç‰ˆæœ¬å…¼å®¹æ€§å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚</p>
<p>ä»¥ä¸Šå› ç´ å…±åŒæ„æˆäº†Â StarRocksÂ åœ¨å®é™…åº”ç”¨ä¸­é¢ä¸´çš„ä¸»è¦æŠ€æœ¯æŒ‘æˆ˜ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e064f5667264f1888c0017cfb57e663~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=ftYYZj96%2FkBfX2KPL4J34VsJUaU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">äºŒã€äº‘å¸†èµ·èˆªâ€”â€”è¿ç§»é˜¿é‡Œäº‘Â EMRÂ çš„å…¨é“¾è·¯å®è·µ</h3>
<p>é¢å¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬å¯¹å¤§æ•°æ®æ¶æ„è¿›è¡Œäº†å…¨é¢å‡çº§ï¼Œå…¨é¢åˆ‡æ¢è‡³é˜¿é‡Œäº‘ç”Ÿæ€ç»„ä»¶ã€‚æ­¤æ¬¡å‡çº§çš„æ ¸å¿ƒåœ¨äºæ„å»ºäº†ä¸€ä¸ªç¬¦åˆæ•°æ®æ¹–ç†å¿µçš„å…¨æ–°å¹³å°æ¶æ„ï¼Œè¯¥æ¶æ„ä¸ä»…æ»¡è¶³äº†å½“å‰ä¸šåŠ¡éœ€æ±‚ï¼Œè¿˜ä¸ºå…¬å¸æœªæ¥å‘æ•°æ®æ¹–æ–¹å‘çš„å‘å±•å¥ å®šäº†åšå®åŸºç¡€ã€‚æ­¤æ¬¡å‡çº§ä¸»è¦å¯¹ä¸¤ä¸ªè®¡ç®—å¼•æ“è¿›è¡Œäº†é‡å¤§æ”¹é€ ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†HiveÂ SQLå®Œå…¨è¿ç§»è‡³SparkÂ SQLã€‚å› ä¸ºç›¸è¾ƒäºHiveÂ SQLï¼ŒSparkÂ SQLå±•ç°å‡ºæ›´ä¼˜çš„æ‰§è¡Œæ•ˆç‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸šç•Œå…±è¯†ã€‚æ•´ä½“è¿ç§»è¿‡ç¨‹éå¸¸ä¸æ»‘ï¼Œåœ¨æ€§èƒ½ä¸å…¼å®¹æ€§æ–¹é¢ï¼ŒEMRÂ ServerlessÂ SparkÂ è¡¨ç°äº®çœ¼ï¼Œè¿˜æ”¯æŒä¸°å¯Œçš„å¼€æºç”Ÿæ€ï¼Œå¦‚Kyuubiã€Livyç­‰ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬å°†Â StarRocksÂ å­˜ç®—ä¸€ä½“ç‰ˆæœ¬åˆ‡æ¢ä¸ºäº†å­˜ç®—åˆ†ç¦»ç‰ˆæœ¬ï¼Œè¿™ä¹Ÿé¡ºåº”äº†ServerlessÂ æ¶æ„çš„å‘å±•è¶‹åŠ¿ã€‚</p>
<p>åŸºäºè®¡ç®—å¼•æ“å‡çº§ï¼Œæˆ‘ä»¬åœ¨ä¸Šå±‚æ„å»ºäº†è‡ªå·±çš„æ•°æ®åº”ç”¨äº§å“ï¼Œå¦‚ä¸€ç«™å¼å¼€å‘å¹³å°ã€æ ‡ç­¾ç³»ç»Ÿã€å®æ—¶å¼€å‘å¹³å°ã€æ•°æ®è´¨é‡ç›‘æ§ç³»ç»Ÿã€Ad-hocæŸ¥è¯¢ç­‰ã€‚</p>
<p>æˆ‘ä»¬è¿˜å°†åº•å±‚å­˜å‚¨ä»ä¼ ç»ŸHDFSåˆ‡æ¢ä¸ºé˜¿é‡Œäº‘OSS-HDFSï¼Œæ¶ˆé™¤äº†åŸç”ŸHadoopæ–‡ä»¶ç³»ç»Ÿä¸­å­˜åœ¨çš„å•ç‚¹æ•…éšœé—®é¢˜ã€‚ç›¸æ¯”è‡ªå»ºé›†ç¾¤æˆæœ¬ï¼Œæ–°æ¶æ„æˆæœ¬ä»…ä¸ºå…¶ååˆ†ä¹‹ä¸€å·¦å³ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d07a12ef8c5484d905dcf5ebb4c3e43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=mNn5KoNKm%2F1hMpOna0EDmjXZMfA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-8">EMRÂ ServerlessÂ Sparkï¼šä¸€ç«™å¼æ•°æ®å¹³å°æœåŠ¡</h4>
<p>EMRÂ ServerlessÂ SparkÂ æä¾›äº†ä¸€ç«™å¼çš„æ•°æ®å¹³å°æœåŠ¡ï¼ŒåŒ…æ‹¬ä»»åŠ¡å¼€å‘ã€è°ƒè¯•ã€è°ƒåº¦å’Œè¿ç»´ç­‰ï¼Œæå¤§åœ°ç®€åŒ–äº†æ•°æ®å¤„ç†å’Œæ¨¡å‹è®­ç»ƒçš„å…¨æµç¨‹ã€‚å†…ç½®Â SQLEditorã€NotebookÂ å¼€å‘ç¯å¢ƒï¼Œæä¾›ç‰ˆæœ¬ç®¡ç†ï¼Œå·¥ä½œæµè°ƒåº¦ï¼Œä»¥åŠè¿ç»´è¯Šæ–­èƒ½åŠ›ã€‚Â ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½ä½¿å¾—ç”¨æˆ·èƒ½è½»æ¾åˆ‡æ¢Sparkç‰ˆæœ¬ï¼Œåªéœ€ç¡®ä¿SQLè¯­å¥èƒ½æ­£å¸¸è¿è¡Œï¼Œæ•°æ®èƒ½æ­£å¸¸å¤„ç†å³å¯ï¼Œæ— éœ€è€ƒè™‘åº•å±‚åŸºç¡€è®¾æ–½çš„å¤æ‚æ€§ã€‚</p>
<p>é’ˆå¯¹Sparkå’ŒPythonç¯å¢ƒï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚è¿›è¡Œé…ç½®ï¼Œå¦‚è°ƒæ•´spark-defaults.confæ–‡ä»¶ä¸­çš„å‚æ•°å€¼ï¼Œæ¥ä¼˜åŒ–ç‰¹å®šåº”ç”¨åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚é€šè¿‡ç®€å•çš„spark-submitå‘½ä»¤é…åˆç›¸å…³å‚æ•°ï¼Œå³å¯å¿«é€Ÿåˆ‡æ¢åˆ°æ‰€éœ€çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œæå¤§æé«˜äº†å·¥ä½œæ•ˆç‡ã€‚</p>
<p>ç›‘æ§ä¸è¯Šæ–­æ–¹é¢ï¼ŒEMRÂ ServerlessÂ SparkÂ è¿˜æä¾›å®Œå–„çš„ç›‘æ§ä¸è¯Šæ–­åŠŸèƒ½ã€‚æä¾›å·¥ä½œç©ºé—´ã€é˜Ÿåˆ—ä»¥åŠä»»åŠ¡ç­‰å„ç§ç»´åº¦çš„èµ„æºæŒ‡æ ‡ç»Ÿè®¡ï¼Œæ–¹ä¾¿ç”¨æˆ·æ›´æ¸…æ™°åœ°æŒæ¡ä½œä¸šè¿è¡Œæƒ…å†µã€‚åœ¨Sparkä»»åŠ¡å®Œæˆä¹‹åï¼Œæ”¶é›†å’Œåˆ†æè¯¥ä»»åŠ¡çš„å„ç§èµ„æºæ¶ˆè€—æŒ‡æ ‡ï¼Œå¹¶æ ¹æ®è¿™äº›æŒ‡æ ‡ç»™å‡ºåˆç†çš„ä¼˜åŒ–å»ºè®®ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bf4f6f41ba44bbd9b0aa082222655af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=V1%2BIbY2chWtg13Z7S6wbAmz9aPM%3D" alt="image.png" loading="lazy"/></p>
<p>EMRÂ ServerlessÂ SparkÂ è¿˜æä¾›æè‡´èµ„æºå¼¹æ€§ä¸æ€§èƒ½ã€‚é¦–å…ˆï¼Œåœ¨å¼¹æ€§ä¼¸ç¼©æ–¹é¢ï¼Œæ”¯æŒÂ Driver/Executorçº§åˆ«è¿›ç¨‹å¼¹æ€§ï¼Œæœ€ä½æ”¯æŒä¸€æ ¸åŠ›åº¦ï¼Œå®¹å™¨æ‹‰èµ·æ—¶é—´åœ¨20ç§’ä»¥å†…ã€‚èµ„æºä¾›ç»™æ–¹é¢ï¼Œåº•å±‚æ˜¯Â IaasÂ +Â ç¥é¾™èµ„æºæ± ï¼Œæä¾›æµ·é‡ä¾›ç»™ï¼Œè‡ªè¿ç§»è‡³Â EMRÂ ServerlessÂ SparkÂ ä»¥æ¥ï¼Œæˆ‘ä»¬å°šæœªé‡åˆ°ä»»ä½•èµ„æºçŸ­ç¼ºé—®é¢˜ã€‚</p>
<p>æ­¤å¤–ï¼ŒEMRÂ ServerlessÂ SparkÂ é‡‡ç”¨ç±»ä¼¼äºYARNçš„èµ„æºç®¡ç†æ¨¡å¼ã€‚Workspace/é˜Ÿåˆ—ä¸¤å±‚Quotaç®¡ç†æ”¯æŒç”¨æˆ·æ ¹æ®ä¸šåŠ¡ç‰¹æ€§é€‰æ‹©åˆé€‚çš„æäº¤è·¯å¾„ã€‚å¹³å°æä¾›äº†åŸºäºWorkspace/é˜Ÿåˆ—/ä½œä¸šçš„å¤šç»´åº¦ã€ç²¾ç¡®åˆ°å¤©/æ—¶/åˆ†çš„å¤šå‘¨æœŸèµ„æºè§‚æµ‹èƒ½åŠ›ã€‚</p>
<p>æ€§èƒ½æ–¹é¢ï¼ŒEMRÂ ServerlessÂ SparkÂ è‡ªç ”Â FusionÂ å¼•æ“ï¼Œå†…ç½®é«˜æ€§èƒ½å‘é‡åŒ–è®¡ç®—å’ŒÂ RSSÂ èƒ½åŠ›ï¼Œç›¸æ¯”å¼€æºç‰ˆæœ¬æ€§èƒ½å¤§å¹…æå‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a033b89182684ba0a2af37f0e739febb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=%2F8adrdU9TbXKVQnKDE%2F42tibRWA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">EMRÂ ServerlessÂ StarRocksï¼šåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½å“è¶Š</h4>
<p>EMRÂ ServerlessÂ StarRocksåœ¨ç®¡æ§èƒ½åŠ›æ–¹é¢æ˜¾è‘—ä¼˜äºè‡ªå»ºæ–¹æ¡ˆï¼Œæä¾›å®ä¾‹ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬åˆ›å»ºï¼Œæ‰©å®¹ç¼©å®¹ï¼Œå‡é™é…ï¼Œç½‘ç»œç®¡ç†ï¼Œç™½åå•ç®¡ç†ï¼Œæ“ä½œä»»åŠ¡ç®¡ç†ï¼Œç½‘å…³ç®¡ç†ç­‰ã€‚</p>
<p>æ­¤å¤–ï¼Œå…¶ç®¡æ§å¹³å°æä¾›å®ä¾‹å¥åº·æŠ¥å‘Šä¸æ…¢SQLè¯Šæ–­åˆ†æã€å¯è§†åŒ–ç¼“å­˜ç®¡ç†ã€æ”¯æŒå¤§/å°ç‰ˆæœ¬ä¸»åŠ¨è§¦å‘æ»šåŠ¨å‡çº§ã€æ”¯æŒå…¨é“¾è·¯å®ä¾‹æ“ä½œå®¡è®¡ç­‰åŠŸèƒ½ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒEMRÂ ServerlessÂ StarRocksÂ å®ç°äº†çœŸæ­£çš„å­˜ç®—åˆ†ç¦»æ¶æ„ï¼Œæä¾›ç‰©ç†éš”ç¦»èƒ½åŠ›ï¼Œä¸åŒè®¡ç®—ç»„ä½œä¸šè´Ÿè½½ç›¸äº’ç‹¬ç«‹ï¼Œæ”¯æŒå¤šè®¡ç®—ç»„ç‹¬ç«‹é…ç½®ã€‚åœ¨æˆ‘ä»¬çš„å®é™…åº”ç”¨åœºæ™¯ä¸‹ï¼Œå­˜ç®—åˆ†ç¦»å†…è¡¨æŸ¥è¯¢è¾ƒå¼€æºæ€§èƒ½æå‡çº¦100%ï¼Œæ•°æ®æ¹–æŸ¥è¯¢è¾ƒå¼€æºæ€§èƒ½æå‡çº¦50%ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f9ad3949fa24f8ca3f9312946be352f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=H2iQM%2FgQs%2F4hAaepOOkZxoRJD%2BI%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹å›¾å±•ç¤ºäº†åŸºäºEMRÂ ServerlessÂ StarRocksÂ çš„æ¹–ä»“æ–°èŒƒå¼ï¼ŒStarRocksÂ ä½œä¸ºç»Ÿä¸€Â Lakehouseï¼ŒåŸºäºæ¹–è¡¨è¿›è¡Œè‡ªåŠ©åˆ†ææŸ¥è¯¢ã€‚æ•°æ®å†™å…¥Â StarRocksÂ æä¾›æé€Ÿåˆ†æï¼›æ•°æ®å†™å…¥å¼€æ”¾æ•°æ®æ¹–ï¼Œä½¿ç”¨Â StarRocksÂ ç›´æ¥åˆ†ææ•°æ®æ¹–ï¼›åœ¨DWDã€DWSä»¥åŠADSå±‚ï¼Œé€šè¿‡æ„å»ºç‰©åŒ–è§†å›¾å¹¶å®æ–½åˆ†å±‚å»ºæ¨¡ç­–ç•¥ï¼Œä¸ä»…èƒ½å¤Ÿæœ‰æ•ˆæ”¯æ’‘å„ç±»æŠ¥è¡¨éœ€æ±‚ï¼ŒåŒæ—¶ä¹Ÿä¸ºOLAPæä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f085f8a2d1614425bed1799900655653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=5NqCSqrodpXqKKUfa%2BO3yMP3MMk%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">æ¶æ„å‡çº§å¸¦æ¥çš„å…³é”®ä»·å€¼</h4>
<p>ä¸Šè¿°é‡å¤§æ¶æ„å‡çº§ï¼Œå¸¦æ¥äº†å“ªäº›å…³é”®ä»·å€¼å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆï¼Œåœ¨æˆæœ¬ä¼˜åŒ–æ–¹é¢ï¼Œé€šè¿‡å¼•å…¥å¼¹æ€§èµ„æºï¼Œæ˜¾è‘—æé«˜äº†èµ„æºåˆ©ç”¨ç‡ã€‚</p>
<p>å…¶æ¬¡ï¼Œä»ä¸šåŠ¡ç¨³å®šæ€§è§’åº¦æ¥çœ‹ï¼ŒEMRÂ ServerlessÂ SparkÂ è‡ªå¸¦çš„é«˜æ€§èƒ½Â ShuffleÂ æœåŠ¡ï¼Œæå¤§åœ°å¢å¼ºäº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚æ­¤å¤–ï¼ŒStarRocksÂ çš„æ€§èƒ½ä¼˜åŒ–ä¹Ÿè¿›ä¸€æ­¥æå‡äº†æ•´ä½“ä¸šåŠ¡å¤„ç†èƒ½åŠ›ä¸å“åº”é€Ÿåº¦ã€‚</p>
<p>å…³äºä¸šåŠ¡æ•æ·æ€§ï¼Œæ–°æ¶æ„æ”¯æŒå¿«é€Ÿéƒ¨ç½²æ–°ä¸šåŠ¡åœºæ™¯æ‰€éœ€çš„è®¡ç®—èµ„æºï¼Œä»è€Œå¤§å¹…ç¼©çŸ­äº†ä¸šåŠ¡ä¸Šçº¿å‘¨æœŸã€‚</p>
<p>è¿ç»´æ•ˆç‡æ–¹é¢ï¼Œå¾—ç›ŠäºÂ EMRÂ ServerlessÂ Sparkä¸Â EMRÂ ServerlessÂ StarRocksÂ ä¸°å¯Œçš„ç®¡æ§èƒ½åŠ›ï¼Œå¼€å‘å›¢é˜Ÿæ‰€éœ€æŠ•å…¥çš„æ—¥å¸¸ç»´æŠ¤å·¥ä½œé‡æ˜¾è‘—å‡å°‘ã€‚åŒæ—¶ï¼Œå¹³å°æä¾›äº†å…¨å¤©å€™çš„æŠ€æœ¯æ”¯æŒæœåŠ¡ï¼Œç¡®ä¿å³ä½¿é¢å¯¹çªå‘é—®é¢˜ä¹Ÿèƒ½è¿…é€Ÿè·å¾—è§£å†³æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥ä¿éšœäº†ç³»ç»Ÿçš„è¿ç»­å¯ç”¨æ€§ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/779a7ef5859c41949dea78aa1aeaaef8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=bZAx%2FzRro6Bg7hmMIiuMqBfwOh4%3D" alt="image.png" loading="lazy"/></p>
<p>å…·ä½“è€Œè¨€ï¼Œåœ¨ä¿æŒä¸šåŠ¡è§„æ¨¡ä¸å˜çš„å‰æä¸‹ï¼Œä¸ä¼ ç»Ÿçš„è‡ªå»ºæ–¹æ¡ˆç›¸æ¯”ï¼ŒåŸºäºÂ EMRÂ ServerlessÂ æ„å»ºçš„è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå®ç°çº¦25.4%çš„æˆæœ¬èŠ‚çº¦ã€‚åŸºäºÂ EMRÂ ServerlessÂ StarRocksÂ è¿›è¡ŒæŸ¥è¯¢ï¼ˆå¦‚æ ‡ç­¾ç³»ç»Ÿå’Œç”¨æˆ·åœˆé€‰åœºæ™¯ï¼‰ï¼ŒSQLÂ æŸ¥è¯¢æ‰§è¡Œæ—¶é•¿ç¼©çŸ­äº†30%ã€‚æ­¤å¤–ï¼Œåœ¨ç›¸åŒæˆæœ¬æƒ…å†µä¸‹ï¼ŒEMRÂ ServerlessÂ SparkÂ ä½œä¸šçš„æ‰§è¡Œæ—¶é—´ä¹Ÿç¼©çŸ­äº†30%ä»¥ä¸Šã€‚æœ€å€¼å¾—æ³¨æ„çš„æ˜¯è¿ç»´æ•ˆç‡æ–¹é¢çš„æ”¹è¿›ï¼Œå®ç°äº†è¿‘40%çš„å¤§å¹…æå‡ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c191d6612a470da1b7cce37a023b55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=LAbmV7V01vC8hhXJp3cG8kvg3o8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">ä¸‰ã€æ™ºåˆ›æœªæ¥â€”â€”æœªæ¥åŸºäºé˜¿é‡Œäº‘çš„æ™ºèƒ½ç”Ÿæ€å¸ƒå±€</h3>
<p>åœ¨å®Œæˆæ¶æ„å‡çº§åï¼Œæ•´ä½“ç¨³å®šæ€§å¾—åˆ°æ˜¾è‘—æå‡ã€‚å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªæ›´åŠ æ™ºèƒ½åŒ–çš„é‡‘èç”Ÿæ€ç¯å¢ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬è®¾æƒ³äº†å››ä¸ªä¸»è¦å‘å±•æ–¹å‘ï¼š</p>
<p>é¦–å…ˆï¼Œåœ¨æ•°æ®å¤„ç†æ–¹é¢ï¼Œæˆ‘ä»¬è®¡åˆ’åŸºäºé˜¿é‡Œäº‘EMRåŠæœºå™¨å­¦ä¹ å¹³å°PAIæ¥å®ç°é«˜æ•ˆçš„æ•°æ®ååŒæ¶æ„ã€‚</p>
<p>å…¶æ¬¡ï¼Œåœ¨ä¸šåŠ¡æµç¨‹ä¼˜åŒ–ä¸Šï¼Œé€šè¿‡æ•´åˆé˜¿é‡Œäº‘çš„å¤§è§„æ¨¡æ¨¡å‹èƒ½åŠ›ï¼Œæ—¨åœ¨åˆ›å»ºä¸€ä¸ªæ—¢ç®€åŒ–åˆé«˜æ•ˆçš„è¿è¥ç¯å¢ƒï¼Œæ¶µç›–é¢„æµ‹å¼é£æ§ã€è‡ªåŠ¨åŒ–è¿è¥ï¼Œå¤§æ™ºèƒ½åŒ–ç›‘æ§ç­‰é¢†åŸŸã€‚</p>
<p>å†è€…ï¼Œåœ¨åº”ç”¨å±‚é¢ï¼Œè‡´åŠ›äºå½¢æˆä»¥æ•°æ®ä¸ºé©±åŠ¨å¹¶æ”¯æŒæ™ºèƒ½å†³ç­–çš„å®Œæ•´ä¸šåŠ¡é—­ç¯ã€‚</p>
<p>æœ€åï¼Œåœ¨ç®—æ³•åˆ›æ–°æ–¹é¢ï¼Œæˆ‘ä»¬å°†ä¾æ‰˜äºé˜¿é‡Œäº‘æœºå™¨å­¦ä¹ å¹³å°PAIï¼Œä¸“æ³¨äºå¼€å‘é€‚ç”¨äºç‰¹å®šè¡Œä¸šçš„ä¸“å±AIæ¨¡å‹åº“ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfe167d183244fb6b99a0455ab2a284e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976526&amp;x-signature=xCPV1rLa5BLIz6dPZNo39JLBm0c%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AiOnlyå¤§æ¨¡å‹æ·±åº¦æµ‹è¯„ï¼šè°ƒç”¨GPT-5 API+RAGçŸ¥è¯†åº“ï¼Œå¿«é€Ÿæ„å»ºæ™ºèƒ½å®¢æœæœºå™¨äºº]]></title>    <link>https://juejin.cn/post/7573486671296856106</link>    <guid>https://juejin.cn/post/7573486671296856106</guid>    <pubDate>2025-11-17T09:26:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573486671296856106" data-draft-id="7573336057481281542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AiOnlyå¤§æ¨¡å‹æ·±åº¦æµ‹è¯„ï¼šè°ƒç”¨GPT-5 API+RAGçŸ¥è¯†åº“ï¼Œå¿«é€Ÿæ„å»ºæ™ºèƒ½å®¢æœæœºå™¨äºº"/> <meta itemprop="keywords" content="OpenAI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-17T09:26:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€”å¼ºçš„çŸ³å¤´_"/> <meta itemprop="url" content="https://juejin.cn/user/3168119757484368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AiOnlyå¤§æ¨¡å‹æ·±åº¦æµ‹è¯„ï¼šè°ƒç”¨GPT-5 API+RAGçŸ¥è¯†åº“ï¼Œå¿«é€Ÿæ„å»ºæ™ºèƒ½å®¢æœæœºå™¨äºº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3168119757484368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€”å¼ºçš„çŸ³å¤´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:26:07.000Z" title="Mon Nov 17 2025 09:26:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>AI æŠ€æœ¯åŠ é€Ÿæ¸—é€å„è¡Œå„ä¸šçš„ä»Šå¤©ï¼Œä½ æ˜¯å¦ä¹Ÿé¢ä¸´è¿™æ ·çš„å›°å¢ƒï¼šæƒ³è°ƒç”¨ GPT-5ã€Claude4.5ç­‰é¡¶å°–æ¨¡å‹å´è¢«æµ·å¤–æ³¨å†Œã€è·¨å¹³å°é€‚é…æå¾—ç„¦å¤´çƒ‚é¢ï¼Ÿæƒ³å¿«é€Ÿæ­å»ºæ™ºèƒ½å®¢æœã€å†…å®¹ç”Ÿæˆå·¥å…·ï¼Œå´å› æ¨¡å‹æ¥å£å·®å¼‚ã€æˆæœ¬ä¸å¯æ§è€Œæœ›è€Œå´æ­¥ï¼Ÿæˆ–æ˜¯ä½œä¸ºä¸­å°å›¢é˜Ÿï¼Œæ—¢æƒ³äº«å— AI çº¢åˆ©ï¼Œåˆå—é™äºæŠ€æœ¯é—¨æ§›å’Œé¢„ç®—å‹åŠ›ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aiionly.com%2Flogin%3FinviteCode%3D0047994" target="_blank" title="https://www.aiionly.com/login?inviteCode=0047994" ref="nofollow noopener noreferrer">AiOnlyå¹³å°</a>çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†æ‰“ç ´è¿™äº›å£å’ã€‚</p>
<p>æœ¬æ–‡å°†ä»å®æˆ˜è§’åº¦å‡ºå‘ï¼Œå¸¦ä½ å…¨æ–¹ä½è§£é”è¿™ä¸ªã€Œå…¨çƒé¡¶å°–å¤§æ¨¡å‹ MaaS å¹³å°ã€ï¼šä» 5 åˆ†é’Ÿå®Œæˆæ³¨å†Œåˆ° API å¯†é’¥åˆ›å»ºï¼Œä»å•æ¨¡å‹è°ƒç”¨åˆ°èåˆ RAG çŸ¥è¯†åº“çš„æ™ºèƒ½ä½“å¼€å‘ï¼Œç„¶åæ‰‹æŠŠæ‰‹æ•™ä½ åœ¨ Windows ç¯å¢ƒéƒ¨ç½²ä¸€ä¸ªæ—¥å‡æˆæœ¬ä¸è¶³ 0.5 å…ƒçš„ç”µå•†å®¢æœæœºå™¨äººã€‚æ— è®ºä½ æ˜¯ AI å¼€å‘è€…ã€ä¼ä¸šè¿è¥è€…ï¼Œè¿˜æ˜¯æƒ³ä½æˆæœ¬å°è¯• AI åº”ç”¨çš„æ–°æ‰‹ï¼Œéƒ½èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°ä»ã€Œæƒ³æ³•ã€åˆ°ã€Œè½åœ°ã€çš„å®Œæ•´è·¯å¾„ â€”â€” æ— éœ€çº ç»“åº•å±‚æŠ€æœ¯ï¼Œä¸“æ³¨ç”¨ AI è§£å†³å®é™…é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šå¹³å°æ¦‚è§ˆ</h3>
<h4 data-id="heading-2">1.1 å¹³å°å®šä½ä¸æ ¸å¿ƒä»·å€¼</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aiionly.com%2Flogin%3FinviteCode%3D0047994" target="_blank" title="https://www.aiionly.com/login?inviteCode=0047994" ref="nofollow noopener noreferrer">AiOnly</a> æ˜¯<strong>å…¨çƒé¡¶å°–å¤§æ¨¡å‹ MaaSï¼ˆæ¨¡å‹å³æœåŠ¡ï¼‰å¹³å°</strong>ï¼Œæ ¸å¿ƒå®šä½æ˜¯ â€œé™ä½æ¨¡å‹åº”ç”¨é—¨æ§›ï¼ŒåŠ é€Ÿåœºæ™¯æ™ºèƒ½åŒ–è¿›ç¨‹â€ï¼Œé€šè¿‡ â€œä¸€é”®è°ƒç”¨ã€æ•æ·å¼€å‘â€ çš„æ ¸å¿ƒè®¾è®¡ï¼Œå°†å…¨çƒå‰æ²¿æ¨¡å‹ï¼ˆå¦‚ GPT-5ã€Claude 4.5ï¼‰æ•´åˆä¸ºæ ‡å‡†åŒ– API æ¥å£ä¸æ¨¡å—åŒ– â€œæ™ºèƒ½ç§¯æœ¨â€ï¼Œè®©å¼€å‘è€…æ— éœ€å…³æ³¨åº•å±‚æŠ€æœ¯ç»†èŠ‚ï¼Œå³å¯å¿«é€Ÿé›†æˆ AI èƒ½åŠ›ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed90c65253ab42e3b746e7fc7a56dafb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=QK9%2BXlWYUNwuI5lAqvxTKgbid9Q%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶æ ¸å¿ƒä¼˜åŠ¿å¯æ¦‚æ‹¬ä¸ºå››ç‚¹ï¼š</p>
<ul>
<li><strong>é«˜æ•ˆä¾¿æ·</strong>ï¼šå…æµ·å¤–æ¨¡å‹å¼€æˆ·ã€å…è·¨å¹³å°æ³¨å†Œï¼Œé«˜é€Ÿä¸“çº¿æ”¯æŒï¼Œå¼€ç®±å³ç”¨ï¼ˆå¦‚è°ƒç”¨ GPT-5 æ— éœ€ OpenAI è´¦å·ï¼‰ï¼›</li>
<li><strong>ä»·æ ¼å‹å¥½</strong>ï¼šæŒ‰é‡è®¡è´¹ï¼ˆToken / æ¬¡æ•°ï¼‰ï¼Œä»·æ ¼ä½äºå®˜æ–¹åˆŠä¾‹ä»·ï¼Œæ”¯æŒ â€œå…ˆç”¨åä»˜â€ ä¸ â€œä¼˜æƒ é‡åŒ…â€ï¼Œæ–°äººé¦–å…… 1 å…ƒå¯äº« 100 å…ƒæƒç›Šï¼›</li>
<li><strong>ç±»å‹å…¨é¢</strong>ï¼šè¦†ç›–æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€è¯­éŸ³ã€å¤šæ¨¡æ€å…¨åœºæ™¯æ¨¡å‹ï¼Œæµ·å¤–ï¼ˆGPT/Claude/Geminiï¼‰ä¸å›½äº§ï¼ˆDeepSeek/Qwen/Doubaoï¼‰æ¨¡å‹å…¼å¤‡ï¼›</li>
<li><strong>ç¨³å®šæµç•…</strong>ï¼šå®˜æ–¹æ­£è§„æˆæƒï¼ŒAPI æ¥å£æ ‡å‡†åŒ–å…¼å®¹åŸå‚å…¨å‚æ•°ï¼ŒSLA è¾¾ 99.9%ï¼Œä¿éšœç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œã€‚</li>
</ul>
<h4 data-id="heading-3">1.2 å¹³å°ç‰¹è‰²åŠŸèƒ½äº®ç‚¹</h4>
<ol>
<li>
<p><strong>ç»Ÿä¸€ API ä¸å¯†é’¥ç®¡ç†</strong>ï¼šä¸€ä¸ª API Key å¯è°ƒç”¨å¤šæ¨¡å‹ï¼Œæ”¯æŒ â€œæ ‡å‡†æ¨¡å¼â€ï¼ˆåŸºç¡€ APIï¼‰ä¸ â€œèåˆæ¨¡å¼â€ï¼ˆå…³è”ç»„ä»¶ / çŸ¥è¯†åº“ï¼‰ï¼Œåˆ†åº”ç”¨åˆ›å»ºå¯†é’¥ä¾¿äºæƒé™ç®¡æ§ï¼›</p>
</li>
<li>
<p><strong>å¢å¼ºå¼€å‘å·¥å…·</strong>ï¼š</p>
<ul>
<li><strong>Prompt ä¼˜è§£</strong>ï¼šè‡ªåŠ¨ä¼˜åŒ–æç¤ºè¯ç»“æ„ï¼Œæå‡æ¨¡å‹æ¨ç†å‡†ç¡®ç‡ï¼›</li>
<li><strong>RAG çŸ¥è¯†åº“ç®¡ç†</strong>ï¼šå¤šæºæ•°æ®ï¼ˆæ–‡æ¡£ / è¡¨æ ¼ï¼‰æ™ºèƒ½æ¸…æ´— + å‘é‡æ£€ç´¢ï¼Œå®ç°ç²¾å‡†é—®ç­”ï¼›</li>
<li><strong>ç»„ä»¶å•†åº—</strong>ï¼šä¸‰æ–¹é›†æˆ Claude Codeã€Difyï¼ˆæ™ºèƒ½ä½“å¹³å°ï¼‰ã€WPS AI ç­‰ä¸‰æ–¹å·¥å…·ï¼Œæ— éœ€é¢å¤–å¼€å‘ï¼›</li>
</ul>
</li>
<li>
<p><strong>ç²¾ç»†åŒ–è¿è¥å·¥å…·</strong>ï¼šå®æ—¶è°ƒç”¨ç»Ÿè®¡ï¼ˆToken æ¶ˆè€—ç›‘æ§ï¼‰ã€å¼€é€šç®¡ç†ï¼ˆé‡åŒ…ä½¿ç”¨çŠ¶æ€ï¼‰ã€è´¢åŠ¡è®¡è´¹ï¼ˆè´¦å•æ˜ç»†ï¼‰ï¼Œé™ä½ä¼ä¸šæˆæœ¬ç®¡æ§éš¾åº¦ï¼›</p>
</li>
</ol>
<h3 data-id="heading-4">ç¬¬äºŒéƒ¨åˆ†ï¼šAiOnly å¹³å°ä½¿ç”¨è¯¦è§£</h3>
<h4 data-id="heading-5">2.1 å¹³å°æ³¨å†Œä¸ API Key åˆ›å»ºï¼ˆå®Œæ•´æ“ä½œæ­¥éª¤ï¼‰</h4>
<h5 data-id="heading-6">æ­¥éª¤ 1ï¼šæ³¨å†Œä¸ç™»å½•ï¼ˆ5 åˆ†é’Ÿå®Œæˆï¼‰</h5>
<ol>
<li>è®¿é—®å®˜æ–¹å¹³å°ï¼šPC ç«¯æ‰“å¼€Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aiionly.com%2Flogin%3FinviteCode%3D0047994" target="_blank" title="https://www.aiionly.com/login?inviteCode=0047994" ref="nofollow noopener noreferrer">AiOnlyå®˜ç½‘</a></strong></li>
<li>ç‚¹å‡»å³ä¸Šè§’ã€Œç™»å½• / æ³¨å†Œã€ï¼Œæ–°ç”¨æˆ·<strong>å¿…é¡»é€‰æ‹© â€œæ‰‹æœºå·éªŒè¯ç ç™»å½•â€</strong>ï¼ˆé¦–æ¬¡æ³¨å†Œéœ€å®Œæˆæ‰‹æœºå·éªŒè¯ï¼‰ï¼Œæ”¯æŒæ”¯ä»˜å® / å¾®ä¿¡å¿«æ·ç™»å½•ï¼ˆè€ç”¨æˆ·ï¼‰ï¼›</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3beae11c805049ddaaae5bedb56643b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=793clJPonIImi8awruuEwRrMw9E%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>ç™»å½•åç‚¹å‡»é¡¶éƒ¨ã€Œæ§åˆ¶å°ã€ï¼Œè¿›å…¥æ ¸å¿ƒæ“ä½œé¡µé¢ï¼ˆæ¨¡å‹å¼€é€šã€Key ç®¡ç†ã€è´¢åŠ¡ç­‰åŠŸèƒ½èšåˆäºæ­¤ï¼‰ï¼›
<ul>
<li>æ³¨æ„ï¼šæ–°ç”¨æˆ·ç™»å½•åè‡ªåŠ¨å‘æ”¾ 15 å…ƒä»£é‡‘åˆ¸ï¼Œé‡‘å¸ä¸ RMB 1:1 ç­‰å€¼ï¼Œå¯ç›´æ¥æŠµæ‰£æ¨¡å‹è°ƒç”¨è´¹ç”¨ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d316e2de04bd48008841777a72522bf2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=ZFO%2FoNnm9hpKEldSf2xpud2zJng%3D" alt="image.png" loading="lazy"/></li>
</ul>
</li>
</ol>
<h5 data-id="heading-7">æ­¥éª¤ 2ï¼šæ¨¡å‹æœåŠ¡å¼€é€šï¼ˆä»¥ GPT-5 ä¸ºä¾‹ï¼‰</h5>
<ol>
<li>
<p>è¿›å…¥æ¨¡å‹å¹¿åœºï¼šæ§åˆ¶å°å·¦ä¾§å¯¼èˆªæ ç‚¹å‡»ã€Œæ¨¡å‹å¹¿åœºã€ï¼Œæˆ–é¦–é¡µç›´æ¥é€‰æ‹© â€œçƒ­é—¨æ¨¡å‹â€â†’â€œGPT-5â€ï¼›
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f31f6ee57aa844a5b1c2f5d5dc6cdf47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=SQlmR7XC3jaB8x6oMzCOl2pWYAY%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>é€‰æ‹©å¼€é€šæ–¹å¼ï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š</p>
<ul>
<li><strong>å…ˆç”¨åä»˜</strong>ï¼šæŒ‰å®é™… Token æ¶ˆè€—è®¡è´¹</li>
<li><strong>ä¼˜æƒ é‡åŒ…</strong>ï¼šç‚¹å‡» â€œä¼˜æƒ é‡åŒ…â€ åˆ‡æ¢é¡µé¢ï¼Œé€‰æ‹©å¯¹åº”å¥—é¤</li>
</ul>
</li>
</ol>
<p>è¿™é‡Œæˆ‘ä»¬å…ˆé€‰æ‹©å…ˆç”¨åä»˜è¿›è¡Œæµ‹è¯•
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eb90003ecb24232a9efe332c99afb02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=emagHTkKvCopT8b5MM8nAf9ycu0%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>æ”¯ä»˜è®¢å•ï¼š
<ul>
<li>æ”¯æŒ â€œé‡‘å¸ä½™é¢æ”¯ä»˜â€ï¼ˆæ§åˆ¶å°ã€Œè´¢åŠ¡ã€â†’ã€Œä½™é¢å……å€¼ã€å¯è¡¥å……é‡‘å¸ï¼‰æˆ– â€œç°é‡‘æ”¯ä»˜â€ï¼ˆå¾®ä¿¡ / æ”¯ä»˜å®ï¼‰ï¼›</li>
<li>å‹¾é€‰ã€ŠAiOnly æœåŠ¡è®¢è´­åè®®ã€‹ï¼Œç‚¹å‡»ã€Œç¡®è®¤æ”¯ä»˜ã€ï¼›</li>
</ul>
</li>
<li>éªŒè¯å¼€é€šçŠ¶æ€ï¼šæ”¯ä»˜æˆåŠŸåï¼Œè¿›å…¥æ§åˆ¶å°ã€Œå¼€é€šç®¡ç†ã€ï¼Œè‹¥æ¨¡å‹ â€œæœåŠ¡çŠ¶æ€â€ æ˜¾ç¤º â€œè¿è¡Œä¸­â€ï¼Œå³è¡¨ç¤ºå¯æ­£å¸¸è°ƒç”¨ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76911c37d31642ea9fb6cd5b7a7c947c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=Nn4tq%2FhghZ6Wwq4xNM1fXCEdw1c%3D" alt="image.png" loading="lazy"/></li>
</ol>
<h5 data-id="heading-8">æ­¥éª¤ 3ï¼šAPI Key åˆ›å»ºä¸ API URL è·å–ï¼ˆæ ¸å¿ƒå‡­è¯ï¼‰</h5>
<ol>
<li>
<p><strong>API Key åˆ›å»ºï¼ˆåŠ¡å¿…ä¿å¯†ï¼‰</strong>ï¼š</p>
<ul>
<li>
<p>æ§åˆ¶å°å·¦ä¾§ç‚¹å‡»ã€ŒAPI Keyã€â†’ã€Œæ–°å¢ API Keyã€ï¼›
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72b4abebf404466987fc0267cb2bce3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=qLXCzwmPLMwZfZvE6wpdqQ3QP8c%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>å¡«å†™åŸºç¡€ä¿¡æ¯ï¼š</p>
<ul>
<li>ç±»å‹ï¼šã€Œæ ‡å‡†æ¨¡å¼ã€ï¼ˆä»…è°ƒç”¨åŸºç¡€æ¨¡å‹ APIï¼‰</li>
<li>åç§°ï¼šè‡ªå®šä¹‰åˆ«åï¼ˆå¦‚ â€œGPT-5 å®¢æœé¡¹ç›® Keyâ€ï¼‰ï¼›</li>
<li>æè¿°ï¼šå¯é€‰ï¼Œè®°å½•ç”¨é€”ï¼ˆå¦‚ â€œç”Ÿäº§ç¯å¢ƒ - ç”µå•†å®¢æœæœºå™¨äººâ€ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p>ç‚¹å‡»ã€Œä¿å­˜ã€ï¼Œç”Ÿæˆä¸“å± API Keyï¼ˆé•¿æœŸç”Ÿæ•ˆï¼Œ<strong>åˆ‡å‹¿å…¬å¼€åˆ†äº«</strong>ï¼Œé¿å…æœªæˆæƒè°ƒç”¨å¯¼è‡´ç»æµæŸå¤±ï¼‰ï¼›
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d92628aa2cf440119807ca00a6dee42b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=%2FLLqYyQFOdYWMbUzNqSJUNhlntU%3D" alt="image.png" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p><strong>API URL è·å–ï¼ˆæŒ‰åŠŸèƒ½åŒºåˆ†ï¼‰</strong>ï¼š</p>
<ul>
<li>
<p>æ–¹å¼ 1ï¼šã€Œå¼€é€šç®¡ç†ã€é¡µé¢å³ä¸Šè§’ç‚¹å‡» â€œæ¥å£ URL åœ°å€â€ï¼Œè·å–å½“å‰æ¨¡å‹çš„ä¸“å±æ¥å£ï¼›
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbb7b646760f4f10965546a15904a982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=pj130XbZYl6nT0qjM9XW%2F1DTzMI%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>æ–¹å¼ 2ï¼šå‚è€ƒå®˜æ–¹æ ‡å‡†åŒ–æ¥å£ï¼ˆå¸¸ç”¨åœ°å€å¦‚ä¸‹ï¼‰ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/863d39fa8d3f4794b59ee8c0d36f7429~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=ktjBK%2BILDT5NzdaUIUF1PgkbOYg%3D" alt="image.png" loading="lazy"/></p>
</li>
</ul>
</li>
</ol>
<h4 data-id="heading-9">2.2 API å¯†é’¥ç®¡ç†ä¸å®‰å…¨æ³¨æ„äº‹é¡¹</h4>
<ul>
<li><strong>åˆ†åœºæ™¯éš”ç¦»</strong>ï¼šä¸ºæµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒåˆ›å»ºç‹¬ç«‹ API Keyï¼ˆå¦‚ â€œGPT-5 - æµ‹è¯• Keyâ€â€œGPT-5 - ç”Ÿäº§ Keyâ€ï¼‰ï¼Œé¿å…æµ‹è¯•è¯¯æ“ä½œå½±å“ç”Ÿäº§ï¼›</li>
<li><strong>å®‰å…¨é˜²æŠ¤</strong>ï¼š
<ul>
<li>ä¸ç¡¬ç¼–ç  API Keyï¼ˆé€šè¿‡ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶åŠ è½½ï¼‰ï¼›</li>
<li>ä¸å­˜å‚¨äºå…¬å¼€ä»£ç ä»“åº“ï¼ˆå¦‚ GitHubï¼‰ï¼›</li>
<li>ä¸é€šè¿‡é‚®ä»¶ã€å³æ—¶é€šè®¯å·¥å…·éšæ„å‘é€ï¼›</li>
</ul>
</li>
<li><strong>å¼‚å¸¸ç›‘æ§</strong>ï¼šé€šè¿‡ã€Œè°ƒç”¨ç»Ÿè®¡ã€å®æ—¶æŸ¥çœ‹ Key çš„ Token æ¶ˆè€—ï¼Œè‹¥å‘ç°å¼‚å¸¸æ³¢åŠ¨ï¼ˆå¦‚çªç„¶æ¿€å¢ï¼‰ï¼Œç«‹å³è¿›å…¥ã€ŒAPI Keyã€é¡µé¢ç‚¹å‡» â€œåœç”¨â€ï¼›</li>
<li><strong>æƒé™æœ€å°åŒ–</strong>ï¼šéå¿…è¦ä¸ä½¿ç”¨ â€œèåˆæ¨¡å¼â€ Keyï¼Œé¿å…æƒé™è¿‡åº¦å¼€æ”¾å¯¼è‡´é£é™©ã€‚</li>
</ul>
<h4 data-id="heading-10">2.3 API è°ƒç”¨æµç¨‹ï¼ˆPython å®æˆ˜ç¤ºä¾‹ï¼‰</h4>
<p>ä»¥ â€œè°ƒç”¨ GPT-5 å®ç°æ–‡æœ¬å¯¹è¯â€ ä¸ºä¾‹ï¼Œå®Œæ•´æµç¨‹å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-11">å‰ææ¡ä»¶</h5>
<ul>
<li>å·²å¼€é€š GPT-5 æ¨¡å‹æœåŠ¡ï¼ˆã€Œå¼€é€šç®¡ç†ã€ä¸­çŠ¶æ€ä¸º â€œè¿è¡Œä¸­â€ï¼‰ï¼›</li>
<li>å·²è·å– API Key ä¸æ–‡æœ¬å¯¹è¯æ¥å£ URLï¼›</li>
<li>æœ¬åœ°ç¯å¢ƒï¼šPython 3.7+ï¼ˆæˆ–å…¶ä»–æ”¯æŒ HTTP è¯·æ±‚çš„è¯­è¨€ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-12">æ­¥éª¤ 1ï¼šç¯å¢ƒå‡†å¤‡</h5>
<ol>
<li>
<p>å®‰è£…ä¾èµ–åº“ï¼ˆä½¿ç”¨<code>requests</code>å‘é€ HTTP è¯·æ±‚ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install requests python-dotenv
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f508771bc3514b5e88ed50e56d0f7574~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=YaZs2xGlPfcXfCbhrqSENw4EpJE%3D" alt="a9bf9279c154ddb390d03b738cb78eec.png" loading="lazy"/></p>
</li>
<li>
<p>åˆ›å»º<code>.env</code>é…ç½®æ–‡ä»¶ï¼ˆé¿å…ç¡¬ç¼–ç  Keyï¼‰ï¼š</p>
<pre><code class="hljs language-env" lang="env">AIONLY_API_KEY=your_api_key_here  # æ›¿æ¢ä¸ºä½ çš„API Key
AIONLY_CHAT_URL=https://api.aiionly.com/v1/chat/completions
</code></pre>
</li>
</ol>
<h5 data-id="heading-13">æ­¥éª¤ 2ï¼šç¼–å†™è°ƒç”¨ä»£ç </h5>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-comment"># 1. åŠ è½½é…ç½®</span>
load_dotenv()
API_KEY = os.getenv(<span class="hljs-string">"AIONLY_API_KEY"</span>)
API_URL = os.getenv(<span class="hljs-string">"AIONLY_CHAT_URL"</span>)
HEADERS = {
    <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{API_KEY}</span>"</span>,  <span class="hljs-comment"># å›ºå®šæ ¼å¼ï¼šBearer + ç©ºæ ¼ + API Key</span>
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
}

<span class="hljs-comment"># 2. æ„é€ è¯·æ±‚å‚æ•°ï¼ˆPromptè®¾è®¡ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">build_chat_payload</span>(<span class="hljs-params">user_message, system_prompt=<span class="hljs-string">"ä½ æ˜¯ä¸“ä¸šçš„AIåŠ©æ‰‹ï¼Œå›ç­”ç®€æ´å‡†ç¡®"</span></span>):
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"gpt-5"</span>,  <span class="hljs-comment"># å¿…é¡»ä¸å¼€é€šçš„æ¨¡å‹åç§°ä¸€è‡´</span>
        <span class="hljs-string">"messages"</span>: [
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: system_prompt},  <span class="hljs-comment"># ç³»ç»ŸæŒ‡ä»¤ï¼ˆå®šä¹‰è§’è‰²ï¼‰</span>
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_message}       <span class="hljs-comment"># ç”¨æˆ·è¾“å…¥</span>
        ],
        <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.7</span>,  <span class="hljs-comment"># éšæœºæ€§ï¼š0ï¼ˆä¸¥è°¨ï¼‰~1ï¼ˆåˆ›æ„ï¼‰</span>
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">512</span>    <span class="hljs-comment"># æœ€å¤§è¾“å‡ºTokenæ•°ï¼ˆé¿å…è¶…é•¿å›å¤ï¼‰</span>
    }

<span class="hljs-comment"># 3. å‘é€è¯·æ±‚å¹¶è§£æç»“æœ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">call_aionly_chat</span>(<span class="hljs-params">user_message</span>):
    payload = build_chat_payload(user_message)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å‘é€POSTè¯·æ±‚</span>
        response = requests.post(API_URL, headers=HEADERS, json=payload)
        response.raise_for_status()  <span class="hljs-comment"># æ•è·HTTPé”™è¯¯ï¼ˆå¦‚401å¯†é’¥æ— æ•ˆã€403æƒé™ä¸è¶³ï¼‰</span>
        
        <span class="hljs-comment"># è§£æå“åº”</span>
        result = response.json()
        reply = result[<span class="hljs-string">"choices"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"message"</span>][<span class="hljs-string">"content"</span>]  <span class="hljs-comment"># æœºå™¨äººå›å¤</span>
        token_usage = result[<span class="hljs-string">"usage"</span>]  <span class="hljs-comment"># Tokenæ¶ˆè€—ç»Ÿè®¡ï¼ˆè¾“å…¥+è¾“å‡ºï¼‰</span>
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"success"</span>: <span class="hljs-literal">True</span>,
            <span class="hljs-string">"reply"</span>: reply,
            <span class="hljs-string">"token_used"</span>: token_usage[<span class="hljs-string">"total_tokens"</span>],
            <span class="hljs-string">"prompt_tokens"</span>: token_usage[<span class="hljs-string">"prompt_tokens"</span>],
            <span class="hljs-string">"completion_tokens"</span>: token_usage[<span class="hljs-string">"completion_tokens"</span>]
        }
    <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
        <span class="hljs-comment"># é”™è¯¯å¤„ç†</span>
        error_msg = <span class="hljs-built_in">str</span>(e)
        <span class="hljs-keyword">if</span> response:
            error_msg += <span class="hljs-string">f" | é”™è¯¯è¯¦æƒ…ï¼š<span class="hljs-subst">{response.json()}</span>"</span>
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"error"</span>: error_msg}

<span class="hljs-comment"># 4. æµ‹è¯•è°ƒç”¨</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    user_input = <span class="hljs-string">"ç”¨Pythonå†™ä¸€ä¸ªå¿«é€Ÿæ’åºç®—æ³•ï¼Œå¸¦æ³¨é‡Š"</span>
    result = call_aionly_chat(user_input)
    <span class="hljs-keyword">if</span> result[<span class="hljs-string">"success"</span>]:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"AIå›å¤ï¼š\n"</span>, result[<span class="hljs-string">"reply"</span>])
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nTokenæ¶ˆè€—ï¼šæ€»è®¡<span class="hljs-subst">{result[<span class="hljs-string">'token_used'</span>]}</span>ï¼ˆè¾“å…¥<span class="hljs-subst">{result[<span class="hljs-string">'prompt_tokens'</span>]}</span>+è¾“å‡º<span class="hljs-subst">{result[<span class="hljs-string">'completion_tokens'</span>]}</span>ï¼‰"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è°ƒç”¨å¤±è´¥ï¼š"</span>, result[<span class="hljs-string">"error"</span>])
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c5c626a55b4b53b6488d7ab693cd51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=max0dWs9YSSr1gDedDowTvAXAMs%3D" alt="00fe8142-a922-46b7-863e-bd0ee120e981.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34d4342ffb0746e095ec134d5cec12a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=cJqHB%2FTron%2FUeofyyRfsMeGEyX8%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°å’Œæˆ‘ä»¬åœ¨å¹³å°-è°ƒç”¨ç»Ÿè®¡çœ‹åˆ°çš„ç»“æœæ˜¯ä¸€è‡´çš„
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2583a76d04f349f4ad8e4f2891bdf2e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=J2eVDN8I1BJkmEQY4GfRPHBuwKs%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-14">æ­¥éª¤ 3ï¼šå¸¸è§é—®é¢˜æ’æŸ¥</h5>

























<table><thead><tr><th>é”™è¯¯ç </th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>401</td><td>API Key é”™è¯¯ / å·²åœç”¨</td><td>æ£€æŸ¥ Key æ˜¯å¦æ­£ç¡®ï¼Œè¿›å…¥ã€ŒAPI Keyã€ç¡®è®¤çŠ¶æ€</td></tr><tr><td>403</td><td>æ¨¡å‹æœªå¼€é€š / Key æƒé™ä¸åŒ¹é…ï¼ˆå¦‚æ ‡å‡† Key è°ƒç”¨èåˆåŠŸèƒ½ï¼‰</td><td>ã€Œå¼€é€šç®¡ç†ã€ç¡®è®¤æ¨¡å‹çŠ¶æ€ï¼Œé‡æ–°åˆ›å»ºå¯¹åº”ç±»å‹ Key</td></tr><tr><td>429</td><td>QPS è¶…é™ï¼ˆè¶…è¿‡æ¨¡å‹è®¾å®šçš„å¹¶å‘é™åˆ¶ï¼‰</td><td>é™ä½è°ƒç”¨é¢‘ç‡ï¼Œæˆ–è”ç³»å®¢æœæå‡ QPS</td></tr></tbody></table>
<h3 data-id="heading-15">ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æˆ˜åº”ç”¨æ¡ˆä¾‹ â€”â€” æ™ºèƒ½å®¢æœæœºå™¨äººå¼€å‘</h3>
<h4 data-id="heading-16">3.1 é¡¹ç›®èƒŒæ™¯ä¸æŠ€æœ¯æ ˆ</h4>
<h5 data-id="heading-17">åº”ç”¨åœºæ™¯</h5>
<p>ç”µå•†å¹³å°è½»é‡åŒ–æ™ºèƒ½å®¢æœå·¥å…·ï¼Œèšç„¦<strong>è®¢å•æŸ¥è¯¢ã€å”®åå’¨è¯¢ã€äº§å“æ¨è</strong>ç­‰æ ¸å¿ƒéœ€æ±‚ï¼Œé€‚åˆä¸­å°å•†å®¶å¿«é€Ÿéƒ¨ç½²ï¼Œæ— éœ€ä¸“ä¸šæœåŠ¡å™¨ç»´æŠ¤ï¼Œæœ¬åœ° Windows ç¯å¢ƒå³å¯è¿è¡Œï¼Œå•æ—¥æˆæœ¬å¯æ§åˆ¶åœ¨ 0.5 å…ƒä»¥å†…ã€‚</p>
<h5 data-id="heading-18">æŠ€æœ¯æ ˆé€‰å‹</h5>



































<table><thead><tr><th>æ¨¡å—</th><th>é€‰å‹ç†ç”±</th><th/></tr></thead><tbody><tr><td>æ ¸å¿ƒæ¥å£</td><td>AiOnly APIï¼ˆGPT-5+RAG çŸ¥è¯†åº“ï¼‰</td><td>ä¿æŒå¤šæ¨¡å‹å…¼å®¹ä¸çŸ¥è¯†åº“æ£€ç´¢èƒ½åŠ›ï¼Œé™ä½å¼€å‘å¤æ‚åº¦</td></tr><tr><td>åç«¯æ¡†æ¶</td><td>Flaskï¼ˆè½»é‡ Web æ¡†æ¶ï¼‰</td><td>é€‚åˆ Windows ç¯å¢ƒå¿«é€Ÿå¯åŠ¨ï¼Œæ— éœ€å¤æ‚é…ç½®</td></tr><tr><td>ä¼šè¯ç¼“å­˜</td><td>å†…å­˜å­—å…¸ï¼ˆPython å†…ç½®ï¼‰</td><td>æ›¿ä»£ Redis å­˜å‚¨å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œç®€åŒ–éƒ¨ç½²ï¼ˆä»…é€‚åˆå°è§„æ¨¡ä½¿ç”¨ï¼‰</td></tr><tr><td>å‰ç«¯</td><td>HTML+CSS+JavaScript</td><td>ä¿ç•™å“åº”å¼ç•Œé¢ï¼Œæ”¯æŒæœ¬åœ°æµè§ˆå™¨è®¿é—®</td></tr><tr><td>è¿è¡Œç¯å¢ƒ</td><td>Windows 10/11 + Python 3.13.5</td><td>æ— éœ€æœåŠ¡å™¨ï¼Œä¸ªäººç”µè„‘å³å¯éƒ¨ç½²æµ‹è¯•</td></tr></tbody></table>
<h4 data-id="heading-19">3.2 æ ¸å¿ƒåŠŸèƒ½è®¾è®¡</h4>
<ol>
<li><strong>åŸºç¡€å¤šè½®å¯¹è¯</strong>ï¼šé€šè¿‡å†…å­˜å­—å…¸å­˜å‚¨ç”¨æˆ·å†å²å¯¹è¯ï¼ˆæœ€å¤šä¿ç•™ 10 è½®ï¼‰ï¼Œæ”¯æŒä¸Šä¸‹æ–‡å…³è”ï¼ˆå¦‚è¿ç»­å’¨è¯¢åŒä¸€è®¢å•é—®é¢˜ï¼‰ï¼›</li>
<li><strong>æ™ºèƒ½ RAG èåˆ</strong>ï¼šä½¿ç”¨ä¸çŸ¥è¯†åº“ç»‘å®šçš„â€œèåˆæ¨¡å¼â€ API Keyï¼Œå¹³å°è‡ªåŠ¨æ£€ç´¢å¹¶èå…¥çŸ¥è¯†åº“ä¸Šä¸‹æ–‡ï¼Œç”Ÿæˆæ›´ç²¾å‡†å›å¤ï¼›</li>
<li><strong>è½»é‡åŒ–éƒ¨ç½²</strong>ï¼šæ— éœ€å®‰è£…æ•°æ®åº“å’ŒæœåŠ¡å™¨è½¯ä»¶ï¼ŒPython è„šæœ¬ç›´æ¥è¿è¡Œï¼Œé€‚åˆéæŠ€æœ¯äººå‘˜æ“ä½œã€‚</li>
</ol>
<h4 data-id="heading-20">3.3 å®Œæ•´å®ç°æ­¥éª¤ï¼ˆWindows ç¯å¢ƒé€‚é…ï¼‰</h4>
<h5 data-id="heading-21">æ­¥éª¤ 1ï¼šAiOnly RAG çŸ¥è¯†åº“åˆ›å»ºï¼ˆæ§åˆ¶å°æ“ä½œï¼‰</h5>
<ol>
<li>
<p>è¿›å…¥çŸ¥è¯†åº“ç®¡ç†ï¼šæ§åˆ¶å°å·¦ä¾§ç‚¹å‡»ã€ŒçŸ¥è¯†åº“ç®¡ç†ã€â†’ã€Œæ–°å»ºçŸ¥è¯†åº“ã€ï¼Œå‘½å â€œç”µå•†å®¢æœ FAQâ€ï¼›
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e70dcb32aea94d6cba5c6df490e0c5d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=MQWB492gTV%2FW2lj2uZ7SfnCwHVc%3D" alt="image.png" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdd2afd3c2b54a278ecf322379f0e235~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=CIBMaCKxvEcgZDM1nNXZP3Hk3Go%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>ä¸Šä¼  FAQ æ•°æ®ï¼šæ”¯æŒä¸Šä¼ æ–‡æ¡£ï¼ˆ.md/.docxï¼‰ã€è¡¨æ ¼ï¼ˆ.xlsxï¼‰ï¼Œç¤ºä¾‹æ•°æ®å¦‚ä¸‹ï¼ˆâ€œé€€æ¬¾æ”¿ç­–.mdâ€ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç”µå•†å®¢æœFAQ</span>
<span class="hljs-bullet">1.</span> é€€æ¬¾ç”³è¯·åå¤šä¹…åˆ°è´¦ï¼Ÿ
ç­”ï¼šé€€æ¬¾å°†åœ¨1-3ä¸ªå·¥ä½œæ—¥å†…åŸè·¯è¿”å›ï¼Œå…·ä½“åˆ°è´¦æ—¶é—´ä»¥é“¶è¡Œä¸ºå‡†ã€‚

<span class="hljs-bullet">2.</span> è®¢å•å‘è´§æ—¶é—´ï¼Ÿ
ç­”ï¼šæ™®é€šå•†å“48å°æ—¶å†…å‘è´§ï¼Œé¢„å”®å•†å“ä»¥è¯¦æƒ…é¡µæ ‡æ³¨æ—¶é—´ä¸ºå‡†ã€‚

<span class="hljs-bullet">3.</span> å¦‚ä½•ä¿®æ”¹æ”¶è´§åœ°å€ï¼Ÿ
ç­”ï¼šè®¢å•å‘è´§å‰å¯åœ¨â€œæˆ‘çš„è®¢å•â€â†’â€œä¿®æ”¹åœ°å€â€ä¸­æ“ä½œï¼›å·²å‘è´§éœ€è”ç³»å¿«é€’æ‹¦æˆªã€‚
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c5496985cc1475591b97993586fa227~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=ZM6r1jCUcqYbM9dk7ra%2BCA33No0%3D" alt="image.png" loading="lazy"/></p>
</li>
</ol>
<h5 data-id="heading-22">æ­¥éª¤ 2ï¼šåˆ›å»ºèåˆæ¨¡å¼ API Keyï¼ˆå…³é”®æ­¥éª¤ï¼‰</h5>
<ul>
<li>
<p>è¿›å…¥ã€ŒAPI Keyã€â†’ã€Œæ–°å¢ API Keyã€ï¼Œç±»å‹é€‰æ‹©â€œèåˆæ¨¡å¼â€ã€‚</p>
</li>
<li>
<p>åœ¨â€œçŸ¥è¯†åº“â€é…ç½®ä¸­é€‰æ‹©â€œç”µå•†å®¢æœ FAQâ€ï¼Œå¼€å¯ç»‘å®šã€‚</p>
</li>
<li>
<p>ä¿å­˜ç”Ÿæˆçš„ Keyï¼Œå¹¶åœ¨ <code>.env</code> ä¸­æ›¿æ¢ <code>AIONLY_API_KEY</code>ã€‚</p>
</li>
<li>
<p>èåˆæ¨¡å¼ Key ä¼šè‡ªåŠ¨åœ¨è°ƒç”¨æ—¶è¿›è¡ŒçŸ¥è¯†åº“æ£€ç´¢ä¸ä¸Šä¸‹æ–‡èåˆï¼Œæ— éœ€æ‰‹åŠ¨æ£€ç´¢æ¥å£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8895932959bc437a8feeb7da2176f068~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=uz9HnDEOwAF1ZafmxYeLd4ofgvM%3D" alt="image.png" loading="lazy"/></p>
</li>
</ul>
<h5 data-id="heading-23">æ­¥éª¤ 3ï¼šé¡¹ç›®ç»“æ„ä¸ä»£ç å®ç°</h5>
<h6 data-id="heading-24">3.1 é¡¹ç›®ç»“æ„</h6>
<pre><code class="hljs language-plaintext" lang="plaintext">ecommerce-ai-chatbot/
â”œâ”€â”€ app.py          # Flaskä¸»ç¨‹åºï¼ˆå«ä¼šè¯ç®¡ç†ï¼‰
â”œâ”€â”€ aionly_client.py# AiOnly APIå®¢æˆ·ç«¯
â”œâ”€â”€ .env            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt# ä¾èµ–åº“
â””â”€â”€ templates/
    â””â”€â”€ index.html  # å‰ç«¯ç•Œé¢
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/878aa812bf3f4523868caaf128682a44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=FkTg3vlVP7vPqUKwCaNQ7lej7f0%3D" alt="5283e441-5cd2-4299-beb6-72e550218086.png" loading="lazy"/></p>
<h6 data-id="heading-25">3.2 ä¾èµ–åº“é…ç½®ï¼ˆrequirements.txtï¼‰</h6>
<pre><code class="hljs language-plaintext" lang="plaintext">flask==2.3.3
requests==2.31.0
python-dotenv==1.0.0
</code></pre>
<h6 data-id="heading-26">3.3 é…ç½®æ–‡ä»¶æ›´æ–° (.env)</h6>
<pre><code class="hljs language-env" lang="env">AIONLY_API_KEY=your_fusion_mode_api_key_here
AIONLY_CHAT_URL=https://api.aiionly.com/v1/chat/completions
</code></pre>
<h6 data-id="heading-27">3.4 AiOnly API å®¢æˆ·ç«¯ï¼ˆaionly_client.pyï¼‰</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-comment"># å…¨å±€å†…å­˜å­˜å‚¨ç”¨æˆ·å¯¹è¯å†å²ï¼ˆæ›¿ä»£Redisï¼‰</span>
user_history = {}  <span class="hljs-comment"># æ ¼å¼ï¼š{user_id: [{"role": "...", "content": "..."}, ...]}</span>

load_dotenv()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AiOnlyClient</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.api_key = os.getenv(<span class="hljs-string">"AIONLY_API_KEY"</span>)
        self.chat_url = os.getenv(<span class="hljs-string">"AIONLY_CHAT_URL"</span>)
        self.headers = {
            <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{self.api_key}</span>"</span>,
            <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
        }

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">retrieve_knowledge</span>(<span class="hljs-params">self, user_message</span>):
        <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_chat_reply</span>(<span class="hljs-params">self, user_id, user_message</span>):
        <span class="hljs-string">"""è·å–AIå›å¤ï¼ˆå«å†…å­˜å¯¹è¯ç®¡ç†ï¼‰"""</span>
        <span class="hljs-comment"># 1. åˆå§‹åŒ–/è·å–ç”¨æˆ·å†å²</span>
        <span class="hljs-keyword">if</span> user_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> user_history:
            user_history[user_id] = []
        
        messages = [
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ç”µå•†AIå®¢æœï¼Œè¯·æ ¹æ®çŸ¥è¯†åº“å†…å®¹å’Œç”¨æˆ·é—®é¢˜ï¼Œå‹å¥½åœ°å›ç­”ã€‚"</span>}
        ] + user_history[user_id] + [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_message}]
        
        payload = {
            <span class="hljs-string">"model"</span>: <span class="hljs-string">"gpt-5"</span>,
            <span class="hljs-string">"messages"</span>: messages,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.6</span>,
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">1024</span>
        }
        
        <span class="hljs-keyword">try</span>:
            response = requests.post(self.chat_url, headers=self.headers, json=payload)
            response.raise_for_status()
            result = response.json()
            
            reply = result[<span class="hljs-string">"choices"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"message"</span>][<span class="hljs-string">"content"</span>]
            token_used = result[<span class="hljs-string">"usage"</span>][<span class="hljs-string">"total_tokens"</span>]
            
            <span class="hljs-comment"># æ›´æ–°å†å²</span>
            user_history[user_id].append({<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_message})
            user_history[user_id].append({<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-string">"content"</span>: reply})
            user_history[user_id] = user_history[user_id][-<span class="hljs-number">20</span>:]
            
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">True</span>, <span class="hljs-string">"reply"</span>: reply, <span class="hljs-string">"token_used"</span>: token_used}
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            error_msg = <span class="hljs-built_in">str</span>(e)
            <span class="hljs-keyword">if</span> response:
                error_msg += <span class="hljs-string">f" | <span class="hljs-subst">{response.json()}</span>"</span>
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"error"</span>: error_msg}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_user_history</span>(<span class="hljs-params">self, user_id</span>):
        <span class="hljs-string">"""æ¸…é™¤ç”¨æˆ·å†å²ï¼ˆå†…å­˜ç‰ˆï¼‰"""</span>
        <span class="hljs-keyword">if</span> user_id <span class="hljs-keyword">in</span> user_history:
            <span class="hljs-keyword">del</span> user_history[user_id]
</code></pre>
<h6 data-id="heading-28">3.5 Flask ä¸»ç¨‹åºï¼ˆapp.pyï¼‰</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask, request, jsonify, render_template
<span class="hljs-keyword">import</span> uuid
<span class="hljs-keyword">from</span> aionly_client <span class="hljs-keyword">import</span> AiOnlyClient

app = Flask(__name__)
ai_client = AiOnlyClient()

<span class="hljs-comment"># 1. å‰ç«¯ç•Œé¢</span>
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">"/"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">index</span>():
    <span class="hljs-keyword">return</span> render_template(<span class="hljs-string">"index.html"</span>)

<span class="hljs-comment"># 2. å¯¹è¯API</span>
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">"/api/chat"</span>, methods=[<span class="hljs-string">"POST"</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">chat</span>():
    data = request.json
    user_id = data.get(<span class="hljs-string">"user_id"</span>)
    user_message = data.get(<span class="hljs-string">"message"</span>, <span class="hljs-string">""</span>).strip()
    
    <span class="hljs-comment"># ç”Ÿæˆç”¨æˆ·IDï¼ˆé¦–æ¬¡è®¿é—®ï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user_id:
        user_id = <span class="hljs-built_in">str</span>(uuid.uuid4())
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user_message:
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"error"</span>: <span class="hljs-string">"è¯·è¾“å…¥æœ‰æ•ˆæ¶ˆæ¯"</span>})
    
    <span class="hljs-comment"># è·å–å›å¤</span>
    result = ai_client.get_chat_reply(user_id, user_message)
    result[<span class="hljs-string">"user_id"</span>] = user_id
    <span class="hljs-keyword">return</span> jsonify(result)

<span class="hljs-comment"># 3. æ¸…é™¤å†å²API</span>
<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">"/api/clear-history"</span>, methods=[<span class="hljs-string">"POST"</span>]</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_history</span>():
    data = request.json
    user_id = data.get(<span class="hljs-string">"user_id"</span>)
    <span class="hljs-keyword">if</span> user_id:
        ai_client.clear_user_history(user_id)
        <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"success"</span>: <span class="hljs-literal">True</span>})
    <span class="hljs-keyword">return</span> jsonify({<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"error"</span>: <span class="hljs-string">"user_idä¸èƒ½ä¸ºç©º"</span>}), <span class="hljs-number">400</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># Windowsç¯å¢ƒç›´æ¥è¿è¡Œï¼Œé»˜è®¤ç«¯å£5000</span>
    app.run(host=<span class="hljs-string">"127.0.0.1"</span>, port=<span class="hljs-number">5000</span>, debug=<span class="hljs-literal">True</span>)
</code></pre>
<h6 data-id="heading-29">3.6 å‰ç«¯ç•Œé¢ï¼ˆtemplates/index.htmlï¼‰</h6>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç”µå•†AIå®¢æœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        * { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">box-sizing</span>: border-box; }
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: Arial, sans-serif; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">800px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.chat-container</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">overflow</span>: hidden; }
        <span class="hljs-selector-class">.chat-header</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#2272f9</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>; }
        <span class="hljs-selector-class">.chat-history</span> { <span class="hljs-attribute">height</span>: <span class="hljs-number">500px</span>; <span class="hljs-attribute">overflow-y</span>: auto; <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#fafafa</span>; }
        <span class="hljs-selector-class">.message</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; <span class="hljs-attribute">max-width</span>: <span class="hljs-number">70%</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>; <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>; }
        <span class="hljs-selector-class">.user-message</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#2272f9</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">margin-left</span>: auto; }
        <span class="hljs-selector-class">.ai-message</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>; <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; <span class="hljs-attribute">margin-right</span>: auto; }
        <span class="hljs-selector-class">.system-message</span> { <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>; <span class="hljs-attribute">text-align</span>: center; <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>; }
        <span class="hljs-selector-class">.input-container</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>; }
        <span class="hljs-selector-id">#message-input</span> { <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">16px</span>; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">outline</span>: none; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>; }
        <span class="hljs-selector-id">#send-btn</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">24px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#2272f9</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>; }
        <span class="hljs-selector-id">#clear-btn</span> { <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">16px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#ff4444</span>; <span class="hljs-attribute">color</span>: white; <span class="hljs-attribute">border</span>: none; <span class="hljs-attribute">cursor</span>: pointer; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-header"</span>&gt;</span>AiOnlyç”µå•†AIå®¢æœï¼ˆ7Ã—24å°æ—¶åœ¨çº¿ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chat-history"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chat-history"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"system-message"</span>&gt;</span>æ¬¢è¿å’¨è¯¢ï¼Œæˆ‘å¯ä»¥å¸®æ‚¨æŸ¥è¯¢è®¢å•ã€å¤„ç†å”®åé—®é¢˜~<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"input-container"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message-input"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ï¼ˆå¦‚ï¼šé€€æ¬¾å¤šä¹…åˆ°è´¦ï¼Ÿï¼‰"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clear-btn"</span>&gt;</span>æ¸…é™¤å†å²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"send-btn"</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨è·å–ç”¨æˆ·IDï¼ˆé¿å…åˆ·æ–°ä¸¢å¤±ï¼‰</span>
        <span class="hljs-keyword">let</span> userId = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">"ecommerce_chat_userid"</span>);
        <span class="hljs-keyword">const</span> chatHistory = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"chat-history"</span>);
        <span class="hljs-keyword">const</span> messageInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"message-input"</span>);
        <span class="hljs-keyword">const</span> sendBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"send-btn"</span>);
        <span class="hljs-keyword">const</span> clearBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"clear-btn"</span>);

        <span class="hljs-comment">// æ·»åŠ æ¶ˆæ¯åˆ°ç•Œé¢</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">addMessage</span>(<span class="hljs-params">content, isUser = <span class="hljs-literal">false</span></span>) {
            <span class="hljs-keyword">const</span> messageDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
            messageDiv.<span class="hljs-property">className</span> = isUser ? <span class="hljs-string">"message user-message"</span> : <span class="hljs-string">"message ai-message"</span>;
            messageDiv.<span class="hljs-property">textContent</span> = content;
            chatHistory.<span class="hljs-title function_">appendChild</span>(messageDiv);
            <span class="hljs-comment">// æ»šåŠ¨åˆ°åº•éƒ¨</span>
            chatHistory.<span class="hljs-property">scrollTop</span> = chatHistory.<span class="hljs-property">scrollHeight</span>;
        }

        <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> message = messageInput.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
            <span class="hljs-keyword">if</span> (!message) <span class="hljs-keyword">return</span>;

            <span class="hljs-comment">// æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯</span>
            <span class="hljs-title function_">addMessage</span>(message, isUser = <span class="hljs-literal">true</span>);
            messageInput.<span class="hljs-property">value</span> = <span class="hljs-string">""</span>;

            <span class="hljs-comment">// è°ƒç”¨åç«¯API</span>
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/chat"</span>, {
                    <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
                    <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
                    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">user_id</span>: userId, <span class="hljs-attr">message</span>: message })
                });
                <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

                <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·ID</span>
                userId = result.<span class="hljs-property">user_id</span>;
                <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">"ecommerce_chat_userid"</span>, userId);

                <span class="hljs-comment">// æ˜¾ç¤ºAIå›å¤</span>
                <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
                    <span class="hljs-title function_">addMessage</span>(result.<span class="hljs-property">reply</span>);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-title function_">addMessage</span>(<span class="hljs-string">`æŠ±æ­‰ï¼ŒæœåŠ¡æš‚æ—¶ unavailableï¼š<span class="hljs-subst">${result.error}</span>`</span>, isUser = <span class="hljs-literal">false</span>);
                }
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-title function_">addMessage</span>(<span class="hljs-string">"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åå†è¯•"</span>, isUser = <span class="hljs-literal">false</span>);
            }
        }

        <span class="hljs-comment">// æ¸…é™¤å†å²</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">clearHistory</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">if</span> (userId) {
                <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/clear-history"</span>, {
                    <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
                    <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
                    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">user_id</span>: userId })
                });
            }
            chatHistory.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;div class="system-message"&gt;æ¬¢è¿å’¨è¯¢ï¼Œæˆ‘å¯ä»¥å¸®æ‚¨æŸ¥è¯¢è®¢å•ã€å¤„ç†å”®åé—®é¢˜~&lt;/div&gt;'</span>;
            <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">"ecommerce_chat_userid"</span>);
            userId = <span class="hljs-literal">null</span>;
        }

        <span class="hljs-comment">// ç»‘å®šäº‹ä»¶</span>
        sendBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, sendMessage);
        messageInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"keypress"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">"Enter"</span>) <span class="hljs-title function_">sendMessage</span>();
        });
        clearBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, clearHistory);
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h5 data-id="heading-30">æ­¥éª¤ 3ï¼šWindows ç¯å¢ƒéƒ¨ç½²ä¸è¿è¡Œ</h5>
<h6 data-id="heading-31">3.1 ç¯å¢ƒå‡†å¤‡</h6>
<ol>
<li>
<p><strong>å®‰è£… Python 3.13.5</strong>ï¼š</p>
<ul>
<li>è®¿é—®Python å®˜ç½‘ä¸‹è½½å¯¹åº” Windows å®‰è£…åŒ…</li>
<li>å®‰è£…æ—¶å‹¾é€‰ â€œAdd Python to PATHâ€ï¼Œå®Œæˆåæ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼ˆWin+Râ†’cmdï¼‰</li>
<li>éªŒè¯å®‰è£…ï¼š<code>python --version</code>Â æ˜¾ç¤º 3.13.5 å³ä¸ºæˆåŠŸ</li>
</ul>
</li>
<li>
<p><strong>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹</strong>ï¼š</p>
<pre><code class="hljs language-cmd" lang="cmd">mkdir C:\ecommerce-ai-chatbot
cd C:\ecommerce-ai-chatbot
</code></pre>
</li>
<li>
<p><strong>åˆ›å»ºé…ç½®æ–‡ä»¶</strong>ï¼š</p>
<ul>
<li>
<p>åœ¨æ–‡ä»¶å¤¹ä¸­æ–°å»º<code>.env</code>æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-env" lang="env">AIONLY_API_KEY=ä½ çš„APIå¯†é’¥
AIONLY_CHAT_URL=https://api.aiionly.com/v1/chat/completions
</code></pre>
</li>
</ul>
</li>
</ol>
<h6 data-id="heading-32">3.2 å®‰è£…ä¾èµ–ä¸å¯åŠ¨æœåŠ¡</h6>
<ol>
<li>
<p><strong>å®‰è£…ä¾èµ–åº“</strong>ï¼š</p>
<pre><code class="hljs language-cmd" lang="cmd">pip install -r requirements.txt
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d89a3d2f81154541a926f51251aea661~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=ogZIqGUG6KTWM%2B7ltv%2FmW%2F1CYj8%3D" alt="image.png" loading="lazy"/></p>
<p>ï¼ˆè‹¥æç¤º pip ç‰ˆæœ¬é—®é¢˜ï¼Œå…ˆè¿è¡Œ<code>python -m pip install --upgrade pip</code>ï¼‰</p>
</li>
<li>
<p><strong>å¯åŠ¨æœåŠ¡</strong>ï¼š</p>
<pre><code class="hljs language-cmd" lang="cmd">python app.py
</code></pre>
<p>çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹è¾“å‡ºå³ä¸ºæˆåŠŸï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">* Running on http://127.0.0.1:5000 (Press CTRL+C to quit)
</code></pre>
<p>PSï¼šè­¦å‘Šå¿½ç•¥å³å¯
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3d920bb43e6461693c326f557df6cf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=a9gbUxqfG6W918z6%2FG96qr%2Fu4d4%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>è®¿é—®å®¢æœç•Œé¢</strong>ï¼š</p>
<ul>
<li>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥<code>http://127.0.0.1:5000</code></li>
<li>å³å¯å¼€å§‹ä½¿ç”¨æ™ºèƒ½å®¢æœï¼ˆå…³é—­å‘½ä»¤æç¤ºç¬¦å³åœæ­¢æœåŠ¡ï¼‰</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e0f1acbd5f84a669a89b209755af848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=GOulT2JYY6Y4GsMqCCQTp%2FXhCPk%3D" alt="" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1dd01602e6044c990065e75b8474cd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976403&amp;x-signature=MQKWQypp15wbnxs5h7Zx85yTHwM%3D" alt="bace6d42b13227970f67168a34d8b873.png" loading="lazy"/></p>
<h4 data-id="heading-33">3.4 æ•ˆæœå±•ç¤ºä¸é€‚ç”¨åœºæ™¯</h4>
<h5 data-id="heading-34">åŠŸèƒ½æµ‹è¯•ç»“æœ</h5>





























<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th>å®é™…æ•ˆæœ</th><th>è€—æ—¶</th><th>å‡†ç¡®ç‡</th></tr></thead><tbody><tr><td>FAQ åŒ¹é…ï¼ˆâ€œé€€æ¬¾åˆ°è´¦æ—¶é—´â€ï¼‰</td><td>ç›´æ¥è¿”å›çŸ¥è¯†åº“ç­”æ¡ˆ</td><td>&lt;200ms</td><td>100%</td></tr><tr><td>å¤šè½®å¯¹è¯ï¼ˆâ€œæŸ¥è®¢å•â†’æ”¹åœ°å€â€ï¼‰</td><td>åŸºäºå†…å­˜å†å²ä¿æŒä¸Šä¸‹æ–‡ç†è§£</td><td>300-400ms</td><td>90%</td></tr><tr><td>å¤æ‚é—®é¢˜ï¼ˆâ€œæ¨èæ€§ä»·æ¯”é«˜çš„å•†å“â€ï¼‰</td><td>è°ƒç”¨ GPT-5 ç”Ÿæˆä¸ªæ€§åŒ–æ¨è</td><td>400-600ms</td><td>85%</td></tr></tbody></table>
<h5 data-id="heading-35">é€‚ç”¨åœºæ™¯</h5>
<ul>
<li>ä¸ªäººå–å®¶æˆ–å°å›¢é˜Ÿï¼šæ— éœ€æœåŠ¡å™¨ï¼Œæœ¬åœ°ç”µè„‘å³å¯éƒ¨ç½²ï¼Œæ—¥å‡æˆæœ¬â‰ˆ0.3 å…ƒ</li>
<li>ä¸´æ—¶æ´»åŠ¨å®¢æœï¼šä¿ƒé”€æœŸé—´å¿«é€Ÿä¸Šçº¿ï¼Œæ´»åŠ¨ç»“æŸåç›´æ¥å…³é—­ï¼Œæ— èµ„æºæµªè´¹</li>
<li>æµ‹è¯•éªŒè¯ï¼šå¿«é€ŸéªŒè¯ AI å®¢æœæ•ˆæœï¼Œå†å†³å®šæ˜¯å¦æ‰©å±•ä¸ºä¼ä¸šçº§æ–¹æ¡ˆ</li>
</ul>
<h5 data-id="heading-36">å±€é™æ€§è¯´æ˜</h5>
<ul>
<li>å†…å­˜å­˜å‚¨å¯¹è¯å†å²ï¼Œé‡å¯æœåŠ¡åä¸¢å¤±ï¼ˆé€‚åˆä¸´æ—¶ä½¿ç”¨ï¼‰</li>
<li>ä¸æ”¯æŒé«˜å¹¶å‘ï¼ˆå»ºè®®åŒæ—¶åœ¨çº¿ç”¨æˆ·â‰¤10 äººï¼‰</li>
<li>éœ€ä¿æŒå‘½ä»¤æç¤ºç¬¦çª—å£å¼€å¯ï¼ˆå¯æœ€å°åŒ–ï¼Œä¸å¯å…³é—­ï¼‰</li>
</ul>
<h3 data-id="heading-37">ç¬¬å››éƒ¨åˆ†ï¼šç»“è¯­</h3>
<h4 data-id="heading-38">4.1 å¹³å°æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“</h4>
<ol>
<li><strong>æ¥å…¥é—¨æ§›æä½</strong>ï¼šæ— éœ€æŠ€æœ¯èƒŒæ™¯ä¹Ÿèƒ½ 10 åˆ†é’Ÿå®Œæˆæ³¨å†Œâ†’å¼€é€šæ¨¡å‹â†’API è°ƒç”¨ï¼Œå¼€å‘è€…æ— éœ€é€‚é…ä¸åŒæ¨¡å‹çš„æ¥å£å·®å¼‚ï¼›</li>
<li><strong>æˆæœ¬å¯æ§æ€§å¼º</strong>ï¼šæŒ‰é‡è®¡è´¹ + ä¼˜æƒ é‡åŒ… + æ–°äººç¦åˆ©ï¼Œå¤§å¹…é™ä½è¯•é”™æˆæœ¬</li>
<li><strong>åœºæ™¯è¦†ç›–å…¨é¢</strong>ï¼šä»ä¸ªäºº AIGC åˆ›ä½œï¼ˆå›¾ç‰‡ / è§†é¢‘ç”Ÿæˆï¼‰åˆ°ä¼ä¸šçº§æ™ºèƒ½ä½“å¼€å‘ï¼ˆå®¢æœ / æ•°æ®åˆ†æï¼‰ï¼Œå…¨é“¾è·¯éœ€æ±‚å‡å¯æ»¡è¶³ï¼›</li>
<li><strong>æŠ€æœ¯æ”¯æ’‘å®Œå–„</strong>ï¼šæ ‡å‡†åŒ– API + ä¸“ä¸šå·¥å•å®¢æœ + RAG/Prompt ä¼˜è§£å·¥å…·ï¼Œå¼€å‘è€…ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œæ— éœ€å…³æ³¨æ¨¡å‹ç»´æŠ¤ã€‚</li>
</ol>
<h4 data-id="heading-39">4.2 é€‚ç”¨äººç¾¤ä¸åœºæ™¯</h4>






























<table><thead><tr><th>äººç¾¤ / è§’è‰²</th><th>æ¨èåœºæ™¯</th><th>æ ¸å¿ƒä»·å€¼</th></tr></thead><tbody><tr><td>AI å¼€å‘è€…</td><td>æ™ºèƒ½å®¢æœã€ä»£ç åŠ©æ‰‹ã€å¤šæ¨¡æ€äº¤äº’ç³»ç»Ÿ</td><td>å¿«é€Ÿé›†æˆå¤šæ¨¡å‹ï¼Œé™ä½å¼€å‘æˆæœ¬</td></tr><tr><td>å†…å®¹åˆ›ä½œè€…</td><td>çŸ­è§†é¢‘è„šæœ¬ç”Ÿæˆã€å›¾ç‰‡ç´ æåˆ¶ä½œã€æ–‡æ¡ˆæ’°å†™</td><td>æå‡åˆ›ä½œæ•ˆç‡ï¼Œé™ä½ç´ ææˆæœ¬</td></tr><tr><td>ä¼ä¸šè¿è¥ / å®¢æœå›¢é˜Ÿ</td><td>7Ã—24 å°æ—¶æ™ºèƒ½å®¢æœã€å®¢æˆ·é—®é¢˜è‡ªåŠ¨åˆ†ç±»</td><td>æ›¿ä»£ 30% äººå·¥å·¥ä½œï¼Œé™ä½è¿è¥æˆæœ¬</td></tr><tr><td>é«˜æ ¡ç§‘ç ”äººå‘˜</td><td>å‰æ²¿æ¨¡å‹å®éªŒã€å­¦æœ¯æ•°æ®åˆ†æã€è®ºæ–‡è¾…åŠ©æ’°å†™</td><td>ä½æˆæœ¬è°ƒç”¨é¡¶å°–æ¨¡å‹ï¼Œæ”¯æŒç§‘ç ”åˆ›æ–°</td></tr></tbody></table>
<h4 data-id="heading-40">4.3 åç»­æ¢ç´¢å»ºè®®</h4>
<ol>
<li>å°è¯•å¤šæ¨¡å‹åä½œï¼šç”¨ â€œGPT-5 ç”Ÿæˆæ–‡æ¡ˆ +Gemini-2.5-flash-imageï¼ˆNano Bananaï¼‰ + Sora 2 ç”ŸæˆçŸ­è§†é¢‘â€ï¼Œæ„å»ºå®Œæ•´ AIGC æµæ°´çº¿ï¼›</li>
<li>æ·±å…¥ RAG åŠŸèƒ½ï¼šä¸Šä¼ ä¼ä¸šç§æœ‰æ–‡æ¡£ï¼ˆå¦‚äº§å“æ‰‹å†Œã€å†…éƒ¨æµç¨‹ï¼‰ï¼Œæ„å»ºä¸“å±çŸ¥è¯†åº“ï¼Œæå‡å›ç­”ç²¾å‡†åº¦ï¼›</li>
</ol>
<p><strong>å¦‚éœ€è¿›ä¸€æ­¥å­¦ä¹ ï¼Œå¯è®¿é—®
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aiionly.com%2Flogin%3FinviteCode%3D0047994" target="_blank" title="https://www.aiionly.com/login?inviteCode=0047994" ref="nofollow noopener noreferrer">AiOnlyä¼ä¸šçº§MaaSå¹³å°å®˜ç½‘</a>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aiionly.com%2Flogin%3FinviteCode%3D0047994" target="_blank" title="https://www.aiionly.com/login?inviteCode=0047994" ref="nofollow noopener noreferrer">GPT/Claude/Gemini APIæ¥å…¥æ–‡æ¡£</a>
è·å–æœ€æ–°æŠ€æœ¯åŠ¨æ€ä¸ä¸“å±æ”¯æŒ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VinciCoderï¼šå¤šæ¨¡æ€ç»Ÿä¸€ä»£ç ç”Ÿæˆæ¡†æ¶å’Œè§†è§‰åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼Œæ•°æ®ä»£ç æ¨¡å‹æƒé‡å·²å¼€æº]]></title>    <link>https://juejin.cn/post/7573506713866354739</link>    <guid>https://juejin.cn/post/7573506713866354739</guid>    <pubDate>2025-11-17T09:31:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573506713866354739" data-draft-id="7573242085610700851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VinciCoderï¼šå¤šæ¨¡æ€ç»Ÿä¸€ä»£ç ç”Ÿæˆæ¡†æ¶å’Œè§†è§‰åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼Œæ•°æ®ä»£ç æ¨¡å‹æƒé‡å·²å¼€æº"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-11-17T09:31:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VinciCoderï¼šå¤šæ¨¡æ€ç»Ÿä¸€ä»£ç ç”Ÿæˆæ¡†æ¶å’Œè§†è§‰åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼Œæ•°æ®ä»£ç æ¨¡å‹æƒé‡å·²å¼€æº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:31:31.000Z" title="Mon Nov 17 2025 09:31:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é•¿æœŸä»¥æ¥ï¼Œå¤šæ¨¡æ€ä»£ç ç”Ÿæˆï¼ˆMultimodal Code Generationï¼‰çš„è®­ç»ƒä¸¥é‡ä¾èµ–äºç‰¹å®šä»»åŠ¡çš„ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰ã€‚å°½ç®¡è¿™ç§èŒƒå¼åœ¨ Chart-to-code ç­‰å•ä¸€ä»»åŠ¡ä¸Šå–å¾—äº†æ˜¾è‘—æˆåŠŸ ï¼Œä½†å…¶ â€œç‹­éš˜çš„è®­ç»ƒèŒƒå›´â€ ä»æ ¹æœ¬ä¸Šé™åˆ¶äº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œé˜»ç¢äº†é€šç”¨è§†è§‰ä»£ç æ™ºèƒ½ï¼ˆGeneralized VIsioN Code Intelligenceï¼‰çš„å‘å±• ã€‚åŒæ—¶ï¼Œã€ŒSFT-onlyã€çš„èŒƒå¼åœ¨ç¡®ä¿ä»£ç å¯æ‰§è¡Œæ€§å’Œé«˜è§†è§‰ä¿çœŸåº¦æ–¹é¢å­˜åœ¨æ˜¾è‘—ç“¶é¢ˆ ã€‚</p>
<p>åœ¨æ­¤èƒŒæ™¯ä¸‹ï¼Œä¸­ç§‘é™¢ &amp; ç¾å›¢ç ”ç©¶å›¢é˜Ÿæ¨å‡ºäº† VinciCoderÂ ï¼Œä¸€ä¸ªæ—¨åœ¨æ‰“ç ´ SFT ç“¶é¢ˆçš„ç»Ÿä¸€å¤šæ¨¡æ€ä»£ç ç”Ÿæˆæ¨¡å‹ã€‚VinciCoderÂ é¦–æ¬¡å°†å¼ºåŒ–å­¦ä¹ çš„å¥–åŠ±æœºåˆ¶ä»æ–‡æœ¬åŸŸè½¬å‘è§†è§‰åŸŸï¼Œæå‡ºè§†è§‰å¼ºåŒ–å­¦ä¹ ï¼ˆViRLï¼‰Â ï¼Œä¸“æ”» SFT æ— æ³•è§£å†³çš„è§†è§‰ä¿çœŸåº¦éš¾é¢˜ã€‚</p>
<p>æœ¬æ–‡æå‡ºçš„ç³»ç»Ÿæ€§æ¡†æ¶Â VinciCoderï¼Œé€šè¿‡ â€œå¤§è§„æ¨¡ SFT + ç²—ç»†ç²’åº¦ ViRLâ€ çš„ä¸¤é˜¶æ®µç­–ç•¥ï¼Œæœ‰æ•ˆç»Ÿä¸€äº†ä»å›¾è¡¨ã€ç½‘é¡µã€SVG åˆ°ç§‘å­¦ç»˜å›¾ï¼ˆLaTeXã€åŒ–å­¦åˆ†å­ï¼‰ç­‰å¤šæ ·åŒ–ä»£ç ç”Ÿæˆä»»åŠ¡ ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b8192aa8a0b4165b13b88b48c401bd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976690&amp;x-signature=3tyDaX38rb2TvKQemZuYgliBEiA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li>
<p>è®ºæ–‡æ ‡é¢˜ï¼šVinciCoder: Unifying Multimodal Code Generation via Coarse-to-fine Visual Reinforcement LearningÂ </p>
</li>
<li>
<p>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2511.00391%25C2%25A0" target="_blank" title="https://arxiv.org/abs/2511.00391%C2%A0" ref="nofollow noopener noreferrer">arxiv.org/abs/2511.00â€¦</a></p>
</li>
<li>
<p>Github é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDocTron-hub%2FVinciCoder%25C2%25A0" target="_blank" title="https://github.com/DocTron-hub/VinciCoder%C2%A0" ref="nofollow noopener noreferrer">github.com/DocTron-hubâ€¦</a></p>
</li>
</ul>
<p>æ•°æ®ä»£ç æ¨¡å‹æƒé‡å·²å¼€æºã€‚</p>
<p>æ ¸å¿ƒåˆ›æ–°ä¸æŠ€æœ¯çªç ´</p>
<p>è¯¥è®ºæ–‡åŒæ ·å¯¹ä¼ ç»Ÿ SFT èŒƒå¼çš„å±€é™æ€§è¿›è¡Œäº†æ·±å…¥åˆ†æï¼Œå‘ç°å…¶å…³é”®é—®é¢˜åœ¨äºè®­ç»ƒç›®æ ‡ä¸æœ€ç»ˆä»»åŠ¡ä¹‹é—´å­˜åœ¨ â€œè§†è§‰é¸¿æ²Ÿâ€ï¼š</p>
<ul>
<li>
<p>ç›®æ ‡æ˜¯å±€éƒ¨çš„ï¼šSFT é‡‡ç”¨è‡ªå›å½’çš„ â€œä¸‹ä¸€è¯å…ƒé¢„æµ‹â€ ç›®æ ‡ ï¼Œè¿™æœ¬è´¨ä¸Šæ˜¯å±€éƒ¨çš„ï¼Œæ— æ³•ä¸ºä»£ç  â€œå¯æ‰§è¡Œæ€§â€ ç­‰å…¨å±€å±æ€§æä¾›ç›‘ç£ä¿¡å· ã€‚</p>
</li>
<li>
<p>ç¼ºä¹è§†è§‰åé¦ˆï¼šæ¨¡å‹åœ¨è®­ç»ƒæ—¶å®Œå…¨çœ‹ä¸åˆ°ä»£ç çš„æ¸²æŸ“ç»“æœ ã€‚è¿™æ˜¯ä¸€ä¸ªè‡´å‘½ç¼ºé™·ï¼Œå› ä¸ºåœ¨ä»£ç ä¸­ â€œå¾®å°çš„ä¿®æ”¹å°±å¯èƒ½å¯¼è‡´æ¸²æŸ“å›¾åƒå‘ç”Ÿå·¨å¤§å˜åŒ–â€ ã€‚</p>
</li>
</ul>
<p>è¿™ç§ â€œè§†è§‰ - ä»£ç â€ ç›‘ç£çš„ç¼ºå¤±ï¼Œç›´æ¥å¯¼è‡´äº†ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ul>
<li>
<p>ä¿çœŸåº¦ä½ä¸”ä¸å¯é ï¼šæ¨¡å‹ä»…åœ¨è¯å…ƒå±‚é¢ï¼ˆtoken-levelï¼‰è¿›è¡Œä¼˜åŒ– ï¼Œæ— æ³•ä¿è¯æ¸²æŸ“å‡ºçš„å›¾åƒåœ¨è§†è§‰ä¸Šä¸è¾“å…¥å¯¹é½ï¼Œä¹Ÿæ— æ³•ä¿è¯ä»£ç å¯ä»¥æˆåŠŸæ‰§è¡Œ ã€‚</p>
</li>
<li>
<p>æ³›åŒ–èƒ½åŠ›å·®ï¼šä¾èµ–ç‰¹å®šä»»åŠ¡çš„æ•°æ®é›†è¿›è¡Œ SFTï¼Œéš¾ä»¥å½¢æˆä¸€ä¸ªç»Ÿä¸€çš„å¤šæ¨¡æ€ä»£ç ç”Ÿæˆæ¡†æ¶ ã€‚</p>
</li>
</ul>
<p>è€ƒè™‘åˆ° SFT çš„æ ¹æœ¬å±€é™æ€§ï¼Œç ”ç©¶è€…è®¤ä¸ºå¿…é¡»å¼•å…¥ä¸€ä¸ªèƒ½å¤Ÿæä¾›å…¨å±€è§†è§‰åé¦ˆçš„æœºåˆ¶ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„ RL æ–¹æ³•ä¾èµ–éš¾ä»¥æ³›åŒ–çš„ â€œåŸºäºè§„åˆ™çš„æ–‡æœ¬å¥–åŠ±â€ ã€‚VinciCoder çš„ç ´å±€ç‚¹åœ¨äº â€”â€”Â å°†å¥–åŠ±æœºåˆ¶ä»æ–‡æœ¬åŸŸå½»åº•è½¬å‘è§†è§‰åŸŸÂ ã€‚</p>
<p>VinciCoder çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼šç”¨å¤§è§„æ¨¡ã€å¤šæ ·åŒ–çš„ SFT æ„å»ºå¼ºå¤§çš„ä»£ç åŸºç¡€èƒ½åŠ› ï¼Œå†é€šè¿‡åˆ›æ–°çš„ ViRL ç­–ç•¥ä¸“é—¨ä¼˜åŒ– SFT æ— æ³•è§¦åŠçš„è§†è§‰ä¿çœŸåº¦å’Œå¯æ‰§è¡Œæ€§ ã€‚è®­ç»ƒæ¡†æ¶ç”±ã€Œ1.6M å¤§è§„æ¨¡ SFT é˜¶æ®µã€å’Œã€Œ42k ç²—ç»†ç²’åº¦ ViRL é˜¶æ®µã€ä¸¤éƒ¨åˆ†ç»„æˆ ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡ä¸¤é˜¶æ®µåä½œï¼ŒåŒæ—¶å®ç°å¼ºå¤§çš„ä»£ç ç†è§£ä¸é«˜ä¿çœŸçš„è§†è§‰å¯¹é½ã€‚</p>
<ol>
<li>å¤§è§„æ¨¡ SFT è¯­æ–™åº“ä¸ä»£ç ä¼˜åŒ–ä»»åŠ¡</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f448cf425444e14a164fae85639e6bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976690&amp;x-signature=R0IcEbXFpyWlc6LccAEdsMA1La4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç ”ç©¶å›¢é˜Ÿé¦–å…ˆæ„å»ºäº†ä¸€ä¸ªåŒ…å«Â 1.6MÂ å›¾åƒ - ä»£ç å¯¹çš„å¤§è§„æ¨¡ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰è¯­æ–™åº“ ã€‚è¯¥è¯­æ–™åº“ä¸ä»…è¦†ç›–äº†ç›´æ¥ä»£ç ç”Ÿæˆä»»åŠ¡ï¼Œè¿˜å¼•å…¥ â€œè§†è§‰ä»£ç ä¼˜åŒ–â€ çš„æ–°ä»»åŠ¡ ã€‚åœ¨è¿™é¡¹ä»»åŠ¡ä¸­ï¼Œæ¨¡å‹ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªç›®æ ‡å›¾åƒå’Œä¸€ä¸ª â€œæœ‰ç¼ºé™·â€ çš„ä»£ç ç‰‡æ®µï¼ˆåŒ…å«é€»è¾‘é”™è¯¯æˆ–åªèƒ½éƒ¨åˆ†æ¸²æŸ“ï¼‰ã€‚æ¨¡å‹çš„ç›®æ ‡æ˜¯ä¿®æ­£è¿™æ®µä»£ç ï¼Œä½¿å…¶è§†è§‰è¾“å‡ºä¸ç›®æ ‡å›¾åƒç²¾ç¡®å¯¹é½ ã€‚è¿™ä¸€è®¾è®¡æå¤§åœ°æå‡äº†æ¨¡å‹åœ¨ä»£ç å±‚é¢çš„çº é”™å’Œä¼˜åŒ–èƒ½åŠ›ï¼Œä¸ºåç»­çš„å¼ºåŒ–å­¦ä¹ é˜¶æ®µå¥ å®šäº†åšå®åŸºç¡€ ã€‚</p>
<ol start="2">
<li>ä» â€œæ–‡æœ¬å¥–åŠ±â€ åˆ° â€œè§†è§‰å¥–åŠ±â€ï¼šç²—ç»†ç²’åº¦ ViRL æ¡†æ¶</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53a263acf8cf4775b27135a3847cda91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976690&amp;x-signature=0Xsr4pMYWbhArXSRfnmgF6MaU08%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¼ ç»Ÿ SFT è®­ç»ƒåœ¨å¤šæ¨¡æ€ä»£ç ç”Ÿæˆä¸Šå­˜åœ¨æ ¹æœ¬ç¼ºé™·ï¼šå®ƒç¼ºä¹ â€œè§†è§‰ - ä»£ç â€ çš„é—­ç¯åé¦ˆ ï¼Œä¸”æ— æ³•ä¿è¯ä»£ç çš„å…¨å±€å¯æ‰§è¡Œæ€§ ã€‚</p>
<p>ä¸ºè§£å†³æ­¤é—®é¢˜ï¼ŒVinciCoder å¼•å…¥äº†è§†è§‰å¼ºåŒ–å­¦ä¹  (ViRL)Â æ¡†æ¶Â ã€‚è¯¥æ¡†æ¶æ‘’å¼ƒäº†ä¼ ç»Ÿå¼ºåŒ–å­¦ä¹ ä¸­è„†å¼±çš„ã€åŸºäºè§„åˆ™çš„ â€œæ–‡æœ¬å¥–åŠ±â€ ï¼Œè½¬è€Œä»è§†è§‰ç›´æ¥è·å–å¥–åŠ±ä¿¡å· ã€‚</p>
<p>å…¶æ ¸å¿ƒçªç ´åœ¨äºä¸€å¥—ç²— - ç»†ç²’åº¦ï¼ˆCoarse-to-fineï¼‰è§†è§‰å¥–åŠ±æœºåˆ¶ï¼š</p>
<ul>
<li>
<p>æ¸²æŸ“ä¸ç¼–ç ï¼šæ¨¡å‹ç”Ÿæˆçš„ä»£ç è¢«å®æ—¶æ¸²æŸ“æˆå›¾åƒ ã€‚</p>
</li>
<li>
<p>ç²—ç²’åº¦ï¼ˆå…¨å±€ï¼‰ï¼šé€šè¿‡ä¸‹é‡‡æ ·ç”Ÿæˆç¼©ç•¥å›¾ï¼Œè¯„ä¼°æ•´ä½“ç»“æ„çš„ç›¸ä¼¼æ€§ ã€‚</p>
</li>
<li>
<p>ç»†ç²’åº¦ï¼ˆå±€éƒ¨ï¼‰ï¼šå°†é«˜åˆ†è¾¨ç‡å›¾åƒåˆ†å‰²ä¸ºå¤šä¸ªå±€éƒ¨å›¾å—ï¼ˆpatchesï¼‰ï¼Œç²¾ç¡®è®¡ç®—å±€éƒ¨ç»†èŠ‚çš„ä¿çœŸåº¦ ã€‚</p>
</li>
<li>
<p>ViT å¥–åŠ±æ¨¡å‹ï¼šä½¿ç”¨ DINOv2-L è®¡ç®—æ¸²æŸ“å›¾åƒä¸ç›®æ ‡å›¾åƒåœ¨ä¸¤ä¸ªç²’åº¦ä¸Šçš„è§†è§‰ç›¸ä¼¼åº¦ï¼Œä½œä¸ºå¥–åŠ±ä¿¡å·ã€‚</p>
</li>
<li>
<p>å¯¹é½å¥–åŠ±Â ï¼šå¼•å…¥ä¸€ä¸ªè¾…åŠ©çš„è¯­è¨€å¯¹é½å¥–åŠ±ï¼Œç”¨äºæƒ©ç½šç”Ÿæˆäº†é”™è¯¯ä»£ç è¯­è¨€ï¼ˆå¦‚è¦æ±‚ Python å´ç”Ÿæˆäº† LaTeX çš„è¡Œä¸ºï¼‰</p>
</li>
<li>
<p>ç­–ç•¥ä¼˜åŒ–ï¼šé‡‡ç”¨ç¾¤ç»„ç›¸å¯¹ç­–ç•¥ä¼˜åŒ– (GRPO) ç®—æ³• å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œæ˜¾è‘—æå‡è§†è§‰å¯¹é½åº¦å’Œä»£ç å¯æ‰§è¡Œæ€§ã€‚</p>
</li>
</ul>
<p>æ®æˆ‘ä»¬æ‰€çŸ¥ï¼ŒVinciCoder æ˜¯ç¬¬ä¸€ä¸ªåº”ç”¨å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰æ¥å®ç°ç»Ÿä¸€è§†è§‰ä»£ç ç”Ÿæˆé¢†åŸŸä¸­ â€œè·¨é¢†åŸŸè§†è§‰ä¿çœŸåº¦â€ æå‡çš„è§†è§‰è¯­è¨€æ¨¡å‹Â ã€‚</p>
<p>å®éªŒç»“æœä¸æ€§èƒ½è¡¨ç°</p>
<p>è®ºæ–‡åœ¨äº”å¤§å¤šæ¨¡æ€ä»£ç ç”ŸæˆåŸºå‡†ä¸Šè¿›è¡Œäº†å…¨é¢å®éªŒï¼Œå¯¹æ¯”äº†åŒ…æ‹¬ Qwenã€InternVL ç­‰å¼€æºæ¨¡å‹ä»¥åŠ Gemini-2.5-Proã€Claude-4.5ã€GPT-5 ç­‰é—­æºæ¨¡å‹ ï¼Œæ ¸å¿ƒç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baf8581e0b1c4c248b966b9989dfa52e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976690&amp;x-signature=HRH3vvaR3VDl2xaQWsA7FUJWnVw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®éªŒç»“æœä»¤äººç©ç›®ï¼šVinciCoder åœ¨å¤šä¸ªä¸»æµå¤šæ¨¡æ€ä»£ç ç”ŸæˆåŸºå‡†ä¸Šå‡å–å¾—äº†å“è¶Šè¡¨ç°ã€‚</p>
<ul>
<li>
<p>SOTA æ€§èƒ½ï¼šVinciCoder åœ¨å¼€æºæ¨¡å‹å¯¹æ¯”ä¸­æ ‘ç«‹äº†æ–°çš„ SOTA æ ‡å‡† ï¼Œå…¶æ€§èƒ½æ˜¾è‘—ä¼˜äºæ‰€æœ‰åŒç­‰è§„æ¨¡çš„ç«äº‰å¯¹æ‰‹ ã€‚</p>
</li>
<li>
<p>åª²ç¾é—­æºæ¨¡å‹ï¼šåœ¨å¦‚ Image-to-SVG å’ŒåŒ–å­¦åˆ†å­å¼ç”Ÿç­‰é«˜éš¾åº¦ä»»åŠ¡ä¸Šï¼ŒVinciCoder å±•ç°å‡ºè¶…è¶Šé¡¶å°–é—­æºæ¨¡å‹çš„å“è¶Šæ€§èƒ½ ã€‚</p>
</li>
<li>
<p>ç­–ç•¥æœ‰æ•ˆæ€§ï¼šæ¶ˆèå®éªŒè¯æ˜ï¼Œä»… SFT é˜¶æ®µçš„ VinciCoder-SFT å°±å·²å»ºç«‹èµ·å¼ºå¤§çš„åŸºçº¿ ï¼›è€Œ ViRL é˜¶æ®µçš„å¼•å…¥ï¼Œåˆ™æˆåŠŸå°†æ¨¡å‹æ€§èƒ½æå‡è‡³ SOTA æ°´å¹³ ï¼Œå……åˆ†éªŒè¯äº† SFT-ViRL ä¸¤é˜¶æ®µç­–ç•¥çš„å‹å€’æ€§ä¼˜åŠ¿ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85479c23df78428583513967d097db13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976690&amp;x-signature=UW%2BUbfrf%2BCMcMiVxhmq2B7sq%2BFE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç ”ç©¶æ„ä¹‰ä¸åº”ç”¨å‰æ™¯</p>
<p>VinciCoder çš„ç ”ç©¶ä¸ä»…åœ¨æŠ€æœ¯ä¸Šå–å¾—äº†é‡å¤§çªç ´ï¼Œä¹Ÿä¸ºå¤šæ¨¡æ€ä»£ç ç”Ÿæˆé¢†åŸŸæä¾›äº†å…¨æ–°çš„ç ”ç©¶èŒƒå¼ï¼š</p>
<ul>
<li>
<p>éªŒè¯ RL æ–°è·¯å¾„ï¼šè¯æ˜äº† â€œè§†è§‰å¼ºåŒ–å­¦ä¹ â€ æ˜¯çªç ´ SFT ç“¶é¢ˆã€æå‡ä»£ç è§†è§‰ä¿çœŸåº¦çš„æœ‰æ•ˆé€”å¾„ï¼Œå°†å¥–åŠ±æœºåˆ¶ä»æ–‡æœ¬åŸŸæˆåŠŸæ‰©å±•åˆ°è§†è§‰åŸŸ ã€‚</p>
</li>
<li>
<p>ç»Ÿä¸€æ¡†æ¶çš„å®ç°ï¼šæ‰“ç ´äº†è¿‡å»æ¨¡å‹ â€œå„è‡ªä¸ºæˆ˜â€ çš„ç‹­éš˜èŒƒå¼ ï¼Œæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ç»Ÿä¸€æ¡†æ¶ï¼Œèƒ½å¤Ÿå¤„ç†åŒ…æ‹¬ Pythonã€HTMLã€SVGã€LaTeX ä¹ƒè‡³åŒ–å­¦ SMILES åœ¨å†…çš„å¤šæ ·åŒ–ä»£ç ç”Ÿæˆä»»åŠ¡ ã€‚</p>
</li>
<li>
<p>é«˜ä¿çœŸåº¦å¥–åŠ±æœºåˆ¶ï¼šâ€œç²— - ç»†ç²’åº¦â€ å¥–åŠ±è®¾è®¡ä¸ºå¤„ç†é«˜åˆ†è¾¨ç‡ã€é«˜å¤æ‚åº¦è§†è§‰è¾“å…¥çš„ RL ä»»åŠ¡æä¾›äº†å¥å£®ä¸”å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆ ã€‚</p>
</li>
</ul>
<p>ç»“è®º</p>
<p>VinciCoder çš„æ ¸å¿ƒä»·å€¼å¹¶éå•çº¯åœ°å †ç Œ SFT æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡ â€œSFT + ç²—ç»†ç²’åº¦ ViRLâ€ çš„ç»„åˆï¼Œè¯æ˜äº† â€œä»¥è§†è§‰åé¦ˆæŒ‡å¯¼ä»£ç ç”Ÿæˆâ€ çš„å¯è¡Œæ€§ä¸ä¼˜è¶Šæ€§ã€‚è¿™ä¸€æ€è·¯ä¸ä»…è§£å†³äº†ä¼ ç»Ÿ SFT èŒƒå¼åœ¨å¯æ‰§è¡Œæ€§ä¸è§†è§‰ä¿çœŸåº¦ä¸Šçš„ç—›ç‚¹ï¼Œä¹Ÿä¸ºåç»­é€šç”¨å¤šæ¨¡æ€æ™ºèƒ½ä½“çš„ç ”å‘æä¾›äº†æ–°çš„æ€è·¯ã€‚</p>
<p>åœ¨æ€»ä½“æ€è·¯ä¸Šï¼Œè¯¥è®ºæ–‡çš„æ€è·¯ä¸ R1-Style æ–¹æ³•é«˜åº¦ç›¸å…³ï¼Œéƒ½éªŒè¯äº†å¼ºåŒ–å­¦ä¹ åœ¨æå‡åŸºç¡€æ¨¡å‹é«˜çº§èƒ½åŠ›ä¸Šçš„å·¨å¤§æ½œåŠ›ã€‚VinciCoder çš„æˆåŠŸæ¢ç´¢è¡¨æ˜ï¼ŒRL ä¸ä»…å¯ä»¥ç”¨äºä¼˜åŒ–æ•°å­¦æ¨ç†ç­‰æ–‡æœ¬ä»»åŠ¡ï¼Œæ›´å¯ä»¥ä½œä¸ºè¿æ¥ â€œè§†è§‰â€ ä¸ â€œä»£ç â€ ä¸¤å¤§æ¨¡æ€çš„æ¡¥æ¢ï¼Œè§£å†³ SFT æ— æ³•ä¼åŠçš„è·¨æ¨¡æ€å¯¹é½éš¾é¢˜ã€‚</p>
<p>æ›´å¤šç»†èŠ‚è¯·å‚é˜…åŸè®ºæ–‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäºŒï¼‰â€”â€”åè®®ä¸é»˜è®¤å®ç°ï¼šå¦‚ä½•å†™å‡ºä¸ç”¨ç»§æ‰¿çš„å¤šæ€]]></title>    <link>https://juejin.cn/post/7573525927792623642</link>    <guid>https://juejin.cn/post/7573525927792623642</guid>    <pubDate>2025-11-17T09:46:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573525927792623642" data-draft-id="7553830228105986102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäºŒï¼‰â€”â€”åè®®ä¸é»˜è®¤å®ç°ï¼šå¦‚ä½•å†™å‡ºä¸ç”¨ç»§æ‰¿çš„å¤šæ€"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T09:46:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäºŒï¼‰â€”â€”åè®®ä¸é»˜è®¤å®ç°ï¼šå¦‚ä½•å†™å‡ºä¸ç”¨ç»§æ‰¿çš„å¤šæ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:46:56.000Z" title="Mon Nov 17 2025 09:46:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨ protocol + extension æŠŠä¸Šä¸€ç¯‡çš„ BOSS æˆ˜ä¾‹å½»åº•é‡æ„ï¼Œè®©ä»£ç è½»é‡ã€å¯æµ‹è¯•ã€æ˜“æ‰©å±•</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆâ€œä¸ç”¨ç»§æ‰¿â€</h2>
<p>ä¸Šä¸€ç¯‡æˆ‘ä»¬ç”¨ <code>class Entity â†’ Monster / Boss</code> çš„ç»å…¸ç»§æ‰¿æ ‘å®Œæˆäº†éœ€æ±‚ï¼Œä½†ç•™ä¸‹å‡ ä¸ªéšç—›ï¼š</p>
<ol>
<li>å€¼ç±»å‹æ— æ³•å‚ä¸ï¼šSwift çš„ struct ä¸èƒ½ç»§æ‰¿ classã€‚</li>
<li>å¤šç»§æ‰¿æ­»è·¯ï¼šä¸€ä¸ª BOSS æ—¢è¦â€œå¯æ”»å‡»â€åˆè¦â€œå¯é£è¡Œâ€è¿˜è¦â€œå¯åˆ†è£‚â€ï¼ŒSwift ä¸æ”¯æŒå¤šç±»ç»§æ‰¿ã€‚</li>
<li>éšå¼å…±äº«çŠ¶æ€ï¼šçˆ¶ç±»æ–°å¢çš„å­˜å‚¨å±æ€§ï¼Œæ‰€æœ‰å­ç±»è¢«è¿«ä¹°å•ï¼Œé€ æˆâ€œèƒ–åŸºç±»â€ã€‚</li>
<li>å•å…ƒæµ‹è¯•å›°éš¾ï¼šæƒ³å•ç‹¬æµ‹â€œç‹‚æš´é€»è¾‘â€å¿…é¡»æŠŠæ•´ä¸ª Boss å®ä¾‹ new å‡ºæ¥ï¼Œè¿˜è¦å–‚è¡€é‡ã€‚</li>
</ol>
<h2 data-id="heading-1">åè®®ï¼ˆprotocolï¼‰æ˜¯ä»€ä¹ˆ</h2>
<p>ä¸€å¥è¯ï¼šåè®®åªå®šä¹‰â€œå¥‘çº¦â€ï¼Œä¸å…³å¿ƒâ€œæ€ä¹ˆå­˜â€ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span>
}
</code></pre>
<p>ä»»ä½•ç±»å‹ï¼ˆclass / struct / enum / actorï¼‰åªè¦å®ç° <code>attack()</code>ï¼Œå°±è‡ªåŠ¨â€œç¬¦åˆâ€ Attackableï¼Œä»è€Œè·å¾—å¤šæ€èƒ½åŠ›ã€‚</p>
<p>åè®®æœ¬èº«ä¸èƒ½å­˜å±æ€§ï¼Œä½†å¯ä»¥é€šè¿‡â€œå…³è”å±æ€§â€æˆ–â€œåè®®æ‰©å±•â€ç»™å‡ºé»˜è®¤å®ç°ï¼Œè¾¾åˆ°â€œä»£ç å¤ç”¨â€è€Œâ€œä¸å¼ºåˆ¶ç»§æ‰¿â€ã€‚</p>
<h2 data-id="heading-2">åè®®æ‰©å±•ï¼šç»™åè®®åŠ â€œé»˜è®¤å®ç°â€</h2>
<p>è¯­æ³•ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> { <span class="hljs-number">10.0</span> }   <span class="hljs-comment">// é»˜è®¤ä¼¤å®³</span>
}
</code></pre>
<p>ç°åœ¨ä»»ä½•ç¬¦åˆè€…å¦‚æœä¸è‡ªå·±å†™ <code>attack()</code>ï¼Œå°±è‡ªåŠ¨æ‹¿åˆ° 10 ç‚¹ä¼¤å®³ã€‚</p>
<p>æƒ³å®šåˆ¶ï¼Ÿåœ¨è‡ªå·±çš„ç±»å‹é‡Œé‡æ–°å®ç°å³å¯ï¼Œä¸éœ€è¦ <code>override</code> å…³é”®å­—â€”â€”å› ä¸ºåè®®ä¸æ¶‰ç»§æ‰¿é“¾ã€‚</p>
<h2 data-id="heading-3">æ‹†æˆâ€œèƒ½åŠ›æ’ä»¶â€</h2>
<ol>
<li>å¯æ”»å‡»</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span>
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> { <span class="hljs-number">10.0</span> }
}
</code></pre>
<ol start="2">
<li>å¯å®šä½</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Locatable</span> {
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
    <span class="hljs-keyword">var</span> y: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
}
</code></pre>
<ol start="3">
<li>å¯å—ä¼¤</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Woundable</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
    <span class="hljs-keyword">var</span> maxHp: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> }
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Woundable</span> {
    <span class="hljs-keyword">var</span> isRage: <span class="hljs-type">Bool</span> { hp <span class="hljs-operator">&lt;</span> maxHp <span class="hljs-operator">*</span> <span class="hljs-number">0.2</span> }   <span class="hljs-comment">// ç‹‚æš´åˆ¤æ–­</span>
}
</code></pre>
<ol start="4">
<li>å¯éšæœºä¼¤å®³</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">RandomDamage</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">randomDamage</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">range</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Double</span>
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">RandomDamage</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">randomDamage</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">range</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-type">Double</span>.random(in: <span class="hljs-number">0.0</span><span class="hljs-operator">..&lt;</span><span class="hljs-type">Double</span>(range)) <span class="hljs-operator">+</span> <span class="hljs-type">Double</span>(base)
    }
}
</code></pre>
<h2 data-id="heading-4">ç”¨ struct ç»„è£…å„ç§å®ä½“</h2>
<p>Swift çš„ struct å¯ä»¥ç¬¦åˆå¤šä¸ªåè®®ï¼Œäº«å—æ‰€æœ‰é»˜è®¤å®ç°ï¼Œé›¶ç»§æ‰¿ã€‚</p>
<ol>
<li>æ™®é€šå°æ€ª</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Monster</span>: <span class="hljs-title class_">Attackable</span>, <span class="hljs-title class_">Locatable</span>, <span class="hljs-title class_">Woundable</span>, <span class="hljs-title class_">RandomDamage</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> y: <span class="hljs-type">Double</span>
    
    <span class="hljs-comment">// è‡ªå·±å®šåˆ¶ä¼¤å®³</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        randomDamage(base: <span class="hljs-number">5</span>, range: <span class="hljs-number">6</span>)
    }
}
</code></pre>
<ol start="2">
<li>BOSS</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Boss</span>: <span class="hljs-title class_">Attackable</span>, <span class="hljs-title class_">Locatable</span>, <span class="hljs-title class_">Woundable</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> y: <span class="hljs-type">Double</span>
    
    <span class="hljs-comment">// ç‹‚æš´æœºåˆ¶</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-keyword">let</span> base: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>
        <span class="hljs-keyword">return</span> isRage <span class="hljs-operator">?</span> base <span class="hljs-operator">*</span> <span class="hljs-number">2</span> : base
    }
}
</code></pre>
<ol start="3">
<li>é£è¡Œå°æ€ªï¼ˆæ–°å¢èƒ½åŠ›ï¼Œæ— éœ€æ”¹æ—§ä»£ç ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Flyable</span> {
    <span class="hljs-keyword">var</span> altitude: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span> }
}
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">FlyingMonster</span>: <span class="hljs-title class_">Attackable</span>, <span class="hljs-title class_">Locatable</span>, <span class="hljs-title class_">Woundable</span>, <span class="hljs-title class_">Flyable</span>, <span class="hljs-title class_">RandomDamage</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> y: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> altitude: <span class="hljs-type">Double</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Double</span> {
        randomDamage(base: <span class="hljs-number">4</span>, range: <span class="hljs-number">5</span>) <span class="hljs-operator">+</span> <span class="hljs-number">2</span>   <span class="hljs-comment">// ç©ºå¯¹åœ°åŠ  2</span>
    }
}
</code></pre>
<h2 data-id="heading-5">å¤šæ€ä¾æ—§å¯ç”¨ï¼šåè®®ä½œä¸ºç±»å‹</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> army: [<span class="hljs-keyword">any</span> <span class="hljs-type">Attackable</span> &amp; <span class="hljs-type">Woundable</span>] <span class="hljs-operator">=</span> [
    <span class="hljs-type">Monster</span>(hp: <span class="hljs-number">30</span>, maxHp: <span class="hljs-number">30</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">0</span>),
    <span class="hljs-type">Boss</span>(hp: <span class="hljs-number">100</span>, maxHp: <span class="hljs-number">100</span>, x: <span class="hljs-number">1</span>, y: <span class="hljs-number">1</span>),
    <span class="hljs-type">FlyingMonster</span>(hp: <span class="hljs-number">20</span>, maxHp: <span class="hljs-number">20</span>, x: <span class="hljs-number">2</span>, y: <span class="hljs-number">2</span>, altitude: <span class="hljs-number">10</span>)
]

<span class="hljs-keyword">for</span> unit <span class="hljs-keyword">in</span> army {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¼¤å®³=<span class="hljs-subst">\(unit.attack())</span>, ç‹‚æš´=<span class="hljs-subst">\(unit.isRage)</span>"</span>)
}
</code></pre>
<p>æ‰“å°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ä¼¤å®³=<span class="hljs-number">8.857546603881572</span>, ç‹‚æš´=<span class="hljs-literal">false</span>
ä¼¤å®³=<span class="hljs-number">10.0</span>, ç‹‚æš´=<span class="hljs-literal">false</span>
ä¼¤å®³=<span class="hljs-number">9.333377580674401</span>, ç‹‚æš´=<span class="hljs-literal">false</span>
</code></pre>
<p>æŠŠ Boss çš„è¡€é‡æ‰“åˆ° 19 å†è·‘ä¸€æ¬¡ï¼Œå°±èƒ½çœ‹åˆ°ä¼¤å®³ç¿»å€ï¼Œé€»è¾‘ä¸ç»§æ‰¿ç‰ˆå®Œå…¨ä¸€è‡´ã€‚</p>
<h2 data-id="heading-6">å•å…ƒæµ‹è¯•å˜å¾—å¤šç®€å•ï¼Ÿ</h2>
<p>æƒ³æµ‹â€œç‹‚æš´åˆ¤æ–­â€åªè¦ new ä¸€ä¸ªç¬¦åˆ <code>Woundable</code> çš„ä¼ªå¯¹è±¡å³å¯ï¼Œå®Œå…¨ä¸ç”¨æ„é€ æ•´ä¸ª Bossï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Mock</span>: <span class="hljs-title class_">Woundable</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
}

<span class="hljs-keyword">let</span> mock <span class="hljs-operator">=</span> <span class="hljs-type">Mock</span>(hp: <span class="hljs-number">19</span>)
<span class="hljs-type">XCTAssertTrue</span>(mock.isRage)
</code></pre>
<h2 data-id="heading-7">åè®®ç»„åˆï¼ˆProtocol Compositionï¼‰çš„è¯­æ³•ç³–</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">typealias</span> <span class="hljs-type">GameUnit</span> <span class="hljs-operator">=</span> <span class="hljs-type">Attackable</span> &amp; <span class="hljs-type">Woundable</span> &amp; <span class="hljs-type">Locatable</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">move</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">unit</span>: <span class="hljs-keyword">inout</span> <span class="hljs-type">GameUnit</span>, <span class="hljs-params">toX</span> <span class="hljs-params">x</span>: <span class="hljs-type">Double</span>, <span class="hljs-params">y</span>: <span class="hljs-type">Double</span>) {
    unit.x <span class="hljs-operator">=</span> x
    unit.y <span class="hljs-operator">=</span> y
}
</code></pre>
<p>ä¸€ä¸ªç±»å‹åˆ«åå³å¯æŠŠâ€œèƒ½åŠ›åŒ…â€å½“æˆä¸€ä¸ªæ•´ä½“ä½¿ç”¨ï¼Œæ¯”ç»§æ‰¿æ ‘æ¸…çˆ½å¾—å¤šã€‚</p>
<h2 data-id="heading-8">ä»€ä¹ˆæ—¶å€™ä»éœ€è¦ class ç»§æ‰¿</h2>
<ol>
<li>éœ€è¦ Objective-C è¿è¡Œæ—¶åŠ¨æ€æ›¿æ¢ï¼ˆKVOã€Swizzleï¼‰ã€‚</li>
<li>éœ€è¦ææ„å™¨ deinit åšèµ„æºæ¸…ç†ã€‚</li>
<li>éœ€è¦å…±äº«å¼•ç”¨è¯­ä¹‰ï¼ˆå¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å¯¹è±¡ï¼‰ã€‚</li>
<li>éœ€è¦äº’æ–¥é”ã€åŸå­æ“ä½œç­‰â€œå¼•ç”¨è®¡æ•°â€åœºæ™¯ã€‚</li>
</ol>
<p>å…¶ä½™åœºæ™¯ï¼Œä¼˜å…ˆ struct + åè®®ã€‚</p>
<h2 data-id="heading-9">å°ç»“ï¼šä¸€æ¡å†³ç­–æµç¨‹å›¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff7af0bc169b474690ac527b53e830e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdW5yYXZlbDIwMjU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977615&amp;x-signature=ZX2RZsH76wXfyAmdoSf%2BwWi4BvU%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ]]></title>    <link>https://juejin.cn/post/7573468493569589284</link>    <guid>https://juejin.cn/post/7573468493569589284</guid>    <pubDate>2025-11-17T09:26:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493569589284" data-draft-id="7573336057481297926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:26:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:26:00.000Z" title="Mon Nov 17 2025 09:26:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5198527003bf4a67a19606b3117e03e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=1299W9dvbcJ3i4%2B0wq3xaGoGK0g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹ï¼šTrae Solo+GLM-4.6å®ç°æ²‰æµ¸å¼å°è¯´åˆ›ä½œä½“éªŒ</h2>
<h3 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h3>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œå†…å®¹åˆ›ä½œæ­£ç»å†ä»â€œäººå·¥ä¸»å¯¼â€å‘â€œäººæœºååŒâ€çš„æ·±åˆ»å˜é©ã€‚ä¼ ç»Ÿå°è¯´åˆ›ä½œå¾€å¾€é¢ä¸´çµæ„Ÿæ¯ç«­ã€ç»“æ„æ··ä¹±ã€èŠ‚å¥æŠŠæ§éš¾ç­‰ç—›ç‚¹ï¼Œè€Œç°æœ‰AIå†™ä½œå·¥å…·å¤šä¸ºå•å‘è¾“å‡ºï¼Œç¼ºä¹äº’åŠ¨æ€§ä¸å™äº‹å¼ åŠ›ã€‚ä¸ºæ‰“ç ´è¿™ä¸€å±€é™ï¼Œæˆ‘ä»¬æ‰“é€ äº†ä¸€æ¬¾è½»é‡çº§ã€å…ç™»å½•çš„ AIå°è¯´åˆ›ä½œå¹³å°ï¼Œæ—¨åœ¨é€šè¿‡å‰æ²¿å¤§æ¨¡å‹èƒ½åŠ›èµ‹èƒ½æ¯ä¸€ä½æ•…äº‹åˆ›ä½œè€…ã€‚</p>
<p>æœ¬é¡¹ç›®æ·±åº¦èåˆ Trae Solo çš„é«˜æ•ˆå‰ç«¯å¼€å‘ä¸ä»»åŠ¡è°ƒåº¦èƒ½åŠ›ï¼Œä»¥åŠ GLM-4.6 åœ¨ä¸­æ–‡å™äº‹ã€æƒ…èŠ‚æ„å»ºå’Œé£æ ¼ä¸€è‡´æ€§ä¸Šçš„å“è¶Šè¡¨ç°ï¼Œæ„å»ºå‡ºâ€œç”¨æˆ·é€‰å‰§æƒ…ï¼ŒAIå†™æ•…äº‹â€çš„æ²‰æµ¸å¼åˆ›ä½œé—­ç¯ã€‚ç”¨æˆ·åªéœ€è¾“å…¥ä¸€ä¸ªæ•…äº‹å¼€å¤´ï¼Œç³»ç»Ÿå³åˆ»ç”Ÿæˆä¸‰ä¸ªé£æ ¼å„å¼‚çš„æƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆï¼›é€‰å®šå…¶ä¸€åï¼ŒAIå°†ç»­å†™300â€“500å­—çš„é«˜è´¨é‡æ­£æ–‡ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸ŠæŒç»­è¡ç”Ÿæ–°åˆ†æ”¯ï¼Œå½¢æˆä¸€æ£µåŠ¨æ€ç”Ÿé•¿çš„æ•…äº‹æ ‘ã€‚æ•´ä¸ªè¿‡ç¨‹æ— éœ€æ³¨å†Œï¼ŒAPI Key é€šè¿‡æœ¬åœ°å­˜å‚¨å®‰å…¨ä¿å­˜ï¼Œå…¼é¡¾éšç§ä¸ä¾¿æ·ã€‚</p>
<p>å¹³å°é‡‡ç”¨ æ–°ç²—é‡ä¸»ä¹‰ï¼ˆNeo-Brutalismï¼‰ è§†è§‰é£æ ¼ï¼Œä»¥ç™½è‰²ä¸ºåŸºåº•ï¼Œæ­é…æ©™ã€ç»¿ã€è“ã€ç°ç­‰é«˜å¯¹æ¯”è‰²å—ï¼Œå¼ºè°ƒæ“ä½œåé¦ˆä¸ä¿¡æ¯å±‚çº§ï¼Œè¥é€ å‡ºå…¼å…·ä¸ªæ€§ä¸æµç•…äº¤äº’çš„åˆ›ä½œä½“éªŒã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼ŒAIä¸åº”æ›¿ä»£åˆ›ä½œè€…ï¼Œè€Œåº”æˆä¸ºæ¿€å‘æƒ³è±¡åŠ›çš„ä¼™ä¼´â€”â€”è¿™æ¬¾å¹³å°æ­£æ˜¯å¯¹â€œäººæœºå…±åˆ›â€æœªæ¥çš„ä¸€æ¬¡å®è·µæ¢ç´¢ã€‚</p>
<h3 data-id="heading-2">æ™ºè°±å¤§æ¨¡å‹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">æ™ºè°±AI</a>ï¼ˆZhipu AIï¼‰æ˜¯ä¸­å›½é¢†å…ˆçš„å¤§æ¨¡å‹æŠ€æœ¯å…¬å¸ï¼Œè‡´åŠ›äºæ¨åŠ¨é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰çš„å‘å±•ã€‚å…¶è‡ªä¸»ç ”å‘çš„GLMï¼ˆGeneral Language Modelï¼‰ç³»åˆ—å¤§æ¨¡å‹ï¼Œå‡­å€Ÿå¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€å¤šæ¨¡æ€èåˆèƒ½åŠ›ä»¥åŠé«˜æ•ˆçš„æ¨ç†æ€§èƒ½ï¼Œå·²åœ¨å­¦æœ¯ç•Œå’Œäº§ä¸šç•Œè·å¾—å¹¿æ³›è®¤å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74c638c4a9044b328a505562da46e508~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=GHZU9Lt2skEP4q77TIzWiS4XKHY%3D" alt="" loading="lazy"/></p>
<p>æœ€æ–°å‘å¸ƒçš„GLM-4.6ä¸ä»…åœ¨é€»è¾‘æ¨ç†ã€ä»£ç ç”Ÿæˆã€å¤šè¯­è¨€æ”¯æŒç­‰æ–¹é¢å®ç°æ˜¾è‘—çªç ´ï¼Œè¿˜å…·å¤‡æ›´å¼ºçš„ä¸Šä¸‹æ–‡ç†è§£ä¸é•¿æ–‡æœ¬å¤„ç†èƒ½åŠ›ï¼›</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16ad64f02f4c413f9b5cab1bb8291e6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=W6dlj6mH857S9IP3RnZipahsOV4%3D" alt="" loading="lazy"/></p>
<p>åœ¨â€œAIå°è¯´åˆ›ä½œå¹³å°â€è¿™ä¸€åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ­£æ˜¯ä¾æ‰˜ Trae Solo çš„é«˜æ•ˆè°ƒåº¦èƒ½åŠ›ï¼Œç»“åˆ GLM-4.6 åœ¨å™äº‹ç”Ÿæˆã€æƒ…èŠ‚å»¶å±•ä¸é£æ ¼æ§åˆ¶ä¸Šçš„å¼ºå¤§è¯­è¨€å»ºæ¨¡ä¼˜åŠ¿ï¼Œå®ç°äº†ä»ç”¨æˆ·è¾“å…¥çš„æ•…äº‹å¼€å¤´åˆ°å¤šåˆ†æ”¯å‰§æƒ…æ¦‚è§ˆã€å†åˆ°æ²‰æµ¸å¼ç« èŠ‚å†…å®¹çš„ç«¯åˆ°ç«¯æ™ºèƒ½åˆ›ä½œã€‚é€šè¿‡æœ¬åœ°åŒ– API ç®¡ç†ä¸æ— ç™»å½•è½»é‡æ¶æ„ï¼Œæ™ºè°±å¤§æ¨¡å‹ä¸ä»…ä¸ºå†™ä½œè€…æä¾›äº†ä½é—¨æ§›ã€é«˜è‡ªç”±åº¦çš„åˆ›ä½œæ æ†ï¼Œæ›´é‡æ–°å®šä¹‰äº† AI é©±åŠ¨ä¸‹äº’åŠ¨å¼å°è¯´ç”Ÿæˆçš„æ–°èŒƒå¼ã€‚</p>
<h4 data-id="heading-3">è·å–API KEY</h4>
<p>åœ¨æ™ºè°±AIå¼€æ”¾å¹³å°çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fusercenter%2Fproj-mgmt%2Fapikeys" target="_blank" title="https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys" ref="nofollow noopener noreferrer">æ§åˆ¶å°</a>ä¸­ï¼Œå³å¯æ·»åŠ è´¦å·çš„API KEY</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/537e063ac2014f328d9b4dd0fb5a969e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=SKqj4ljcsZReLVV0MQaRnBOk2h4%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å®Œä¹‹åéœ€è¦ä½¿ç”¨çš„æ—¶å€™ç›´æ¥å¤åˆ¶API KEYå³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fc40498effa4bd4b10c0416abf9391c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=CNQpVQI8Kx26CX0yQPCCLATJP6w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">GLM-4.6</h4>
<p>æ™ºè°±æœ€æ–°æ——èˆ°ï¼Œä»£ç èƒ½åŠ›å…¨é¢å¯¹é½ Claude Sonnet 4ï¼Œæ˜¯å›½å†…æœ€å¥½çš„ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨çœŸå®ç¼–ç¨‹ã€é•¿ä¸Šä¸‹æ–‡å¤„ç†ã€æ¨ç†èƒ½åŠ›ã€ä¿¡æ¯æœç´¢ã€å†™ä½œèƒ½åŠ›ä¸æ™ºèƒ½ä½“åº”ç”¨ç­‰å¤šä¸ªæ–¹é¢å®ç°å…¨é¢æå‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32ce7fbc26324b168158b02b97a3f13d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=%2FdeHGA7nkboVXwxR6NWmcvyL3S4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a9fc3dcd13f4a4badc65e0e1c73a831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=7y5NfvlJOhSiShMUNDbql21osNs%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-vbnet" lang="vbnet">curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
</code></pre>
<h3 data-id="heading-5">Trae Solo</h3>
<p>è¿‡å»å‡ å¹´ï¼ŒPrompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰é£é¡ä¸€æ—¶â€”â€”äººä»¬é€šè¿‡ç²¾å¿ƒé›•ç¢è¾“å…¥æ–‡æœ¬ï¼Œè¯•å›¾â€œå¼•å¯¼â€å¤§æ¨¡å‹è¾“å‡ºç†æƒ³ç»“æœã€‚ç„¶è€Œï¼Œéšç€ AI åº”ç”¨æ—¥ç›Šæ·±å…¥å¤æ‚åœºæ™¯ï¼Œä»…é é™æ€ã€å­¤ç«‹çš„æç¤ºè¯å·²éš¾ä»¥ä¸ºç»§ã€‚</p>
<p>ä»¥æ™ºèƒ½å®¢æœä¸ºä¾‹ï¼šç³»ç»Ÿä¸ä»…è¦ç†è§£ç”¨æˆ·å½“å‰çš„æé—®ï¼Œè¿˜éœ€èåˆå†å²å¯¹è¯ã€ç”¨æˆ·èº«ä»½ã€ä¸šåŠ¡çŠ¶æ€ï¼Œç”šè‡³åŠ¨æ€è°ƒç”¨ä¸åŒåç«¯æœåŠ¡ã€‚æ­¤æ—¶ï¼Œä¼ ç»Ÿ Prompt Engineering çš„å±€é™æ€§æš´éœ²æ— é—â€”â€”å®ƒæŠŠ AI è°ƒç”¨å½“ä½œä¸€æ¬¡æ€§çš„â€œé»‘ç®±è¯·æ±‚â€ï¼Œç¼ºä¹å¯¹æ•´ä½“äº¤äº’è„‰ç»œçš„æŠŠæ¡ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼ŒContext Engineeringï¼ˆä¸Šä¸‹æ–‡å·¥ç¨‹ï¼‰åº”è¿è€Œç”Ÿï¼Œè€Œ Trae Solo æ­£æ˜¯è¿™ä¸€èŒƒå¼æ¼”è¿›çš„å…ˆè¡Œè€…ä¸æ ¸å¿ƒæ¨åŠ¨è€…ã€‚Trae Solo ä¸æ»¡è¶³äºä»…ä»…ä¼˜åŒ–æç¤ºè¯ï¼Œè€Œæ˜¯æ„å»ºäº†ä¸€ä¸ªç»“æ„åŒ–ã€å¯æ¼”åŒ–ã€å¯è¿½æº¯çš„ä¸Šä¸‹æ–‡ç©ºé—´â€”â€”åœ¨æ­£ç¡®çš„æ—¶é—´ï¼Œä¸ºæ­£ç¡®çš„æ¨¡å‹ï¼Œæ³¨å…¥æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å®ƒå°† AI äº¤äº’ä»â€œå•æ¬¡é—®ç­”â€å‡çº§ä¸ºâ€œæŒç»­ã€æ™ºèƒ½ã€æƒ…å¢ƒæ„ŸçŸ¥çš„å¯¹è¯æµâ€ï¼ŒçœŸæ­£å®ç°äº†ä» Prompt Engineering åˆ° Context Engineering çš„è·ƒè¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/990aef66c4d348fc938f9964c164bea3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=gXsn2icpxRBasD0z%2FCpW3PJmv88%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">Trae Soloå¼€å‘å®è·µ</h3>
<h4 data-id="heading-7">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½ä¸‹æ–¹çš„å¼€å‘æç¤ºè¯å¹¶è¾“å…¥Soloï¼š</p>
<pre><code class="hljs language-rust" lang="rust">æˆ‘ç°åœ¨è¦å¼€å‘ä¸€ä¸ªå«åšAIå°è¯´åˆ›ä½œå¹³å°ï¼Œæµç¨‹æ˜¯ç”¨æˆ·ç»™å‡ºä¸€ä¸ªæ•…äº‹çš„å¼€å¤´,åº”ç”¨ä¼šè°ƒç”¨GLM-<span class="hljs-number">4.6</span>,ç”Ÿæˆåç»­ä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ,ç”¨æˆ·å¯ä»¥ä»»æ„é€‰æ‹©ä¸€ä¸ªåˆ†æ”¯ã€‚é€‰æ‹©åˆ†æ”¯ä¹‹åç«‹é©¬è°ƒç”¨GLM-<span class="hljs-number">4.6</span>ç”Ÿæˆå…·ä½“çš„æƒ…èŠ‚,å¤§çº¦<span class="hljs-number">300</span>-<span class="hljs-number">500</span>ç™¾å­—å·¦å³ã€‚æœªè¢«é€‰æ‹©çš„åˆ†æ”¯å°±æŠ›å¼ƒæ‰ï¼Œé€‰æ‹©çš„åˆ†æ”¯ä½¿ç”¨æ ‘å½¢ç»“æ„ä¸€çº§ä¸€çº§å¾€ä¸‹å±•ç¤ºï¼Œä½†æ˜¯å§‹ç»ˆå±•ç¤ºå½“å‰çš„åˆ†æ”¯ï¼ŒæŒç»­é‡å¤ã€‚é‡‡ç”¨ReactæŠ€æœ¯ï¼Œé£æ ¼ä½¿ç”¨æ–°ç²—é‡é£æ ¼ï¼Œå¤šç”¨ç™½è‰²ã€æ©™è‰²ã€ç»¿è‰²ã€è“è‰²ã€ç°è‰²ç­‰ï¼Œæµç•…çš„äº¤äº’è®¾è®¡ã€‚è¿™ä¸ªæ²¡æœ‰ç™»å½•ï¼Œå°±æ˜¯æ‰€æœ‰äººéƒ½å¯ä»¥ç”¨ï¼Œè€Œä¸”åªæœ‰ä¸¤ä¸ªé¡µé¢ï¼Œä¸€ä¸ªæ˜¯é¦–é¡µ-æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸€ä¸ªæ˜¯API Key çš„é…ç½®é¡µé¢ï¼ˆä¿å­˜åˆ°æœ¬åœ°çš„local storageä¸­ï¼‰ï¼Œåœ¨äº§å“éœ€æ±‚æ–‡æ¡£ä¸­åŠ å…¥GLM4.<span class="hljs-number">6</span>è°ƒç”¨ç¤ºä¾‹ï¼š
<span class="hljs-keyword">const</span> url = ' https:<span class="hljs-comment">//open.bigmodel.cn/api/paas/v4/chat/completions ';</span>
<span class="hljs-keyword">const</span> options = {
method: <span class="hljs-symbol">'POST</span>',
headers: {Authorization: <span class="hljs-symbol">'Bearer</span> &lt;token&gt;', <span class="hljs-symbol">'Content</span>-Type': <span class="hljs-symbol">'application</span>/json'},
body: '{<span class="hljs-string">"model"</span>:<span class="hljs-string">"glm-4.6"</span>,<span class="hljs-string">"messages"</span>:[{<span class="hljs-string">"role"</span>:<span class="hljs-string">"system"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"è¯·ä»‹ç»ä¸€ä¸‹äººå·¥æ™ºèƒ½çš„å‘å±•å†ç¨‹ã€‚"</span>}],<span class="hljs-string">"temperature"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"max_tokens"</span>:<span class="hljs-number">65536</span>,<span class="hljs-string">"stream"</span>:<span class="hljs-literal">false</span>}'};
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ab6a0f282af490eace990dc6746fc34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=%2BK8wj5sL%2FMk0EpKTQXiULNb9amo%3D" alt="" loading="lazy"/></p>
<p>Soloé¦–å…ˆä¼šåˆ›å»ºä¸€ä»½äº§å“éœ€æ±‚æ–‡æ¡£å’ŒæŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22a40973b64a4b338717698f2d6de011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=VMo5eaTrZmQj88MgWzaEqbfeeyA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15747531b9cc4168a52001edef9eca3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=PxTq9YZZgDJn3Cso5UlM0WejSsY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">å¼€å‘æ–‡æ¡£</h4>
<p>äº§å“éœ€æ±‚æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84e3bac35a5e4499a438930dc7df53dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=c777I%2F2wLOJygvxihjHP4uc3Utg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caf96ec1189443259004b05a12980e70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=zO1hRpgY20nxEtjTd3s7cTrdnpU%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># AIå°è¯´åˆ›ä½œå¹³å° - äº§å“éœ€æ±‚æ–‡æ¡£</span>

<span class="hljs-section">## 1. äº§å“æ¦‚è¿°</span>

AIå°è¯´åˆ›ä½œå¹³å°æ˜¯ä¸€ä¸ªåŸºäºGLM-4.6å¤§è¯­è¨€æ¨¡å‹çš„äº¤äº’å¼æ•…äº‹åˆ›ä½œå·¥å…·ï¼Œç”¨æˆ·å¯ä»¥è¾“å…¥æ•…äº‹å¼€å¤´ï¼Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå¤šä¸ªæƒ…èŠ‚åˆ†æ”¯ä¾›ç”¨æˆ·é€‰æ‹©ï¼Œå½¢æˆä¸ªæ€§åŒ–çš„æ•…äº‹å‘å±•è·¯å¾„ã€‚

è¯¥å¹³å°æ—¨åœ¨ä¸ºåˆ›ä½œè€…ã€å°è¯´çˆ±å¥½è€…å’Œå¨±ä¹ç”¨æˆ·æä¾›ä¸€ä¸ªç®€å•æ˜“ç”¨çš„AIè¾…åŠ©åˆ›ä½œå·¥å…·ï¼Œé€šè¿‡æ ‘å½¢ç»“æ„å±•ç¤ºæ•…äº‹å‘å±•è„‰ç»œï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½èƒ½åˆ›ä½œå‡ºç‹¬ç‰¹çš„æ•…äº‹ã€‚

<span class="hljs-section">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-section">### 2.1 ç”¨æˆ·è§’è‰²</span>

æœ¬äº§å“æ— éœ€ç”¨æˆ·æ³¨å†Œç™»å½•ï¼Œæ‰€æœ‰è®¿é—®è€…å‡å¯ç›´æ¥ä½¿ç”¨å…¨éƒ¨åŠŸèƒ½ã€‚

<span class="hljs-section">### 2.2 åŠŸèƒ½æ¨¡å—</span>

æˆ‘ä»¬çš„AIå°è¯´åˆ›ä½œå¹³å°åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**é¦–é¡µï¼ˆæ•…äº‹åˆ›ä½œé¡µé¢ï¼‰**</span>ï¼šæ•…äº‹è¾“å…¥åŒºåŸŸã€æƒ…èŠ‚åˆ†æ”¯é€‰æ‹©åŒºåŸŸã€æ•…äº‹æ ‘å½¢å±•ç¤ºåŒºåŸŸã€å½“å‰æƒ…èŠ‚æ˜¾ç¤ºåŒºåŸŸ
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**API Keyé…ç½®é¡µé¢**</span>ï¼šAPI Keyè¾“å…¥è¡¨å•ã€é…ç½®ä¿å­˜åŠŸèƒ½ã€é…ç½®çŠ¶æ€æ˜¾ç¤º

<span class="hljs-section">### 2.3 é¡µé¢è¯¦æƒ…</span>

| é¡µé¢åç§°        | æ¨¡å—åç§°   | åŠŸèƒ½æè¿°                                     |
| ----------- | ------ | ---------------------------------------- |
| é¦–é¡µ          | æ•…äº‹è¾“å…¥åŒºåŸŸ | æä¾›æ–‡æœ¬è¾“å…¥æ¡†ï¼Œç”¨æˆ·è¾“å…¥æ•…äº‹å¼€å¤´ï¼ˆ50-200å­—ï¼‰ï¼ŒåŒ…å«è¾“å…¥æç¤ºå’Œå­—æ•°ç»Ÿè®¡    |
| é¦–é¡µ          | æƒ…èŠ‚åˆ†æ”¯ç”Ÿæˆ | è°ƒç”¨GLM-4.6 APIç”Ÿæˆä¸‰ä¸ªä¸åŒçš„æƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆï¼Œæ¯ä¸ªåˆ†æ”¯50-100å­—æè¿° |
| é¦–é¡µ          | åˆ†æ”¯é€‰æ‹©åŒºåŸŸ | å±•ç¤ºä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯é€‰é¡¹ï¼Œç”¨æˆ·ç‚¹å‡»é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼ŒåŒ…å«åˆ†æ”¯é¢„è§ˆå’Œé€‰æ‹©æŒ‰é’®        |
| é¦–é¡µ          | è¯¦ç»†æƒ…èŠ‚ç”Ÿæˆ | åŸºäºç”¨æˆ·é€‰æ‹©çš„åˆ†æ”¯è°ƒç”¨GLM-4.6ç”Ÿæˆ300-500å­—çš„è¯¦ç»†æƒ…èŠ‚å†…å®¹      |
| é¦–é¡µ          | æ•…äº‹æ ‘å½¢å±•ç¤º | ä½¿ç”¨æ ‘å½¢ç»“æ„å±•ç¤ºæ•…äº‹å‘å±•è·¯å¾„ï¼Œé«˜äº®å½“å‰é€‰æ‹©çš„åˆ†æ”¯ï¼Œæ˜¾ç¤ºå†å²é€‰æ‹©è·¯å¾„        |
| é¦–é¡µ          | å½“å‰æƒ…èŠ‚æ˜¾ç¤º | å±•ç¤ºå½“å‰ç”Ÿæˆçš„è¯¦ç»†æƒ…èŠ‚å†…å®¹ï¼ŒåŒ…å«ç»§ç»­åˆ›ä½œå’Œé‡æ–°å¼€å§‹åŠŸèƒ½              |
| é¦–é¡µ          | å¯¼èˆªåŠŸèƒ½   | æä¾›è¿”å›ä¸Šä¸€æ­¥ã€é‡æ–°å¼€å§‹ã€å‰å¾€é…ç½®é¡µé¢çš„å¯¼èˆªæŒ‰é’®                 |
| API Keyé…ç½®é¡µé¢ | é…ç½®è¡¨å•   | æä¾›API Keyè¾“å…¥æ¡†ï¼ŒåŒ…å«è¾“å…¥éªŒè¯å’Œæ ¼å¼æ£€æŸ¥                 |
| API Keyé…ç½®é¡µé¢ | æœ¬åœ°å­˜å‚¨   | å°†API Keyä¿å­˜åˆ°localStorageï¼ŒåŒ…å«ä¿å­˜ç¡®è®¤å’Œæ¸…é™¤åŠŸèƒ½      |
| API Keyé…ç½®é¡µé¢ | é…ç½®çŠ¶æ€   | æ˜¾ç¤ºå½“å‰API Keyé…ç½®çŠ¶æ€ï¼ŒåŒ…å«è¿æ¥æµ‹è¯•åŠŸèƒ½                 |

<span class="hljs-section">## 3. æ ¸å¿ƒæµç¨‹</span>

<span class="hljs-strong">**ä¸»è¦ç”¨æˆ·æ“ä½œæµç¨‹ï¼š**</span>

<span class="hljs-bullet">1.</span> ç”¨æˆ·è®¿é—®é¦–é¡µï¼Œæ£€æŸ¥API Keyé…ç½®çŠ¶æ€
<span class="hljs-bullet">2.</span> å¦‚æœªé…ç½®API Keyï¼Œå¼•å¯¼ç”¨æˆ·å‰å¾€é…ç½®é¡µé¢è®¾ç½®
<span class="hljs-bullet">3.</span> ç”¨æˆ·åœ¨é¦–é¡µè¾“å…¥æ•…äº‹å¼€å¤´
<span class="hljs-bullet">4.</span> ç³»ç»Ÿè°ƒç”¨GLM-4.6ç”Ÿæˆä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ
<span class="hljs-bullet">5.</span> ç”¨æˆ·é€‰æ‹©å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯
<span class="hljs-bullet">6.</span> ç³»ç»ŸåŸºäºé€‰æ‹©çš„åˆ†æ”¯ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚å†…å®¹
<span class="hljs-bullet">7.</span> ç”¨æˆ·å¯ä»¥ç»§ç»­åŸºäºå½“å‰æƒ…èŠ‚ç”Ÿæˆæ–°çš„åˆ†æ”¯ï¼Œæˆ–é‡æ–°å¼€å§‹åˆ›ä½œ

<span class="hljs-strong">**GLM-4.6 APIè°ƒç”¨ç¤ºä¾‹ï¼š**</span>

<span class="hljs-code">```javascript
const url = 'https://open.bigmodel.cn/api/paas/v4/chat/completions';

const options = {
  method: 'POST',
  headers: {
    Authorization: 'Bearer &lt;token&gt;', 
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    "model": "glm-4.6",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°è¯´åˆ›ä½œåŠ©æ‰‹ï¼Œæ“…é•¿æ ¹æ®ç»™å®šçš„æ•…äº‹å¼€å¤´åˆ›ä½œå¼•äººå…¥èƒœçš„æƒ…èŠ‚å‘å±•ã€‚"
      },
      {
        "role": "user",
        "content": "è¯·åŸºäºä»¥ä¸‹æ•…äº‹å¼€å¤´ï¼Œç”Ÿæˆä¸‰ä¸ªä¸åŒçš„æƒ…èŠ‚å‘å±•æ–¹å‘..."
      }
    ],
    "temperature": 1,
    "max_tokens": 65536,
    "stream": false
  })
};
```</span>

<span class="hljs-code">```mermaid
graph TD
  A[é¦–é¡µ] --&gt; B{æ£€æŸ¥API Key}
  B --&gt;|æœªé…ç½®| C[API Keyé…ç½®é¡µé¢]
  B --&gt;|å·²é…ç½®| D[è¾“å…¥æ•…äº‹å¼€å¤´]
  C --&gt; E[ä¿å­˜API Keyåˆ°localStorage]
  E --&gt; A
  D --&gt; F[ç”Ÿæˆä¸‰ä¸ªæƒ…èŠ‚åˆ†æ”¯]
  F --&gt; G[é€‰æ‹©åˆ†æ”¯]
  G --&gt; H[ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚]
  H --&gt; I[å±•ç¤ºåœ¨æ•…äº‹æ ‘ä¸­]
  I --&gt; J{ç»§ç»­åˆ›ä½œ?}
  J --&gt;|æ˜¯| F
  J --&gt;|å¦| K[é‡æ–°å¼€å§‹]
  K --&gt; D
```</span>

<span class="hljs-section">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-section">### 4.1 è®¾è®¡é£æ ¼</span>

é‡‡ç”¨æ–°ç²—é‡ä¸»ä¹‰ï¼ˆNeo-Brutalismï¼‰è®¾è®¡é£æ ¼ï¼Œå…·ä½“åŒ…æ‹¬ï¼š

<span class="hljs-bullet">*</span> <span class="hljs-strong">**ä¸»è‰²è°ƒ**</span>ï¼šç™½è‰² (#FFFFFF) ä½œä¸ºèƒŒæ™¯è‰²

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¼ºè°ƒè‰²**</span>ï¼šæ©™è‰² (#FF6B35)ã€ç»¿è‰² (#4ECDC4)ã€è“è‰² (#45B7D1)

<span class="hljs-bullet">*</span> <span class="hljs-strong">**è¾…åŠ©è‰²**</span>ï¼šæ·±ç°è‰² (#2C3E50)ã€æµ…ç°è‰² (#BDC3C7)

<span class="hljs-bullet">*</span> <span class="hljs-strong">**æŒ‰é’®é£æ ¼**</span>ï¼šç²—è¾¹æ¡†ã€é«˜å¯¹æ¯”åº¦ã€æ–¹å½¢è®¾è®¡ï¼Œå¸¦æœ‰é˜´å½±æ•ˆæœ

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å­—ä½“**</span>ï¼šç²—ä½“æ— è¡¬çº¿å­—ä½“ï¼Œä¸»æ ‡é¢˜18-24pxï¼Œæ­£æ–‡14-16px

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¸ƒå±€é£æ ¼**</span>ï¼šç½‘æ ¼åŒ–å¸ƒå±€ï¼Œæ˜ç¡®çš„åŒºå—åˆ†å‰²ï¼Œå¤§èƒ†çš„è‰²å½©å¯¹æ¯”

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å›¾æ ‡é£æ ¼**</span>ï¼šç®€æ´çš„çº¿æ€§å›¾æ ‡ï¼Œé…åˆå“ç‰Œè‰²å½©

<span class="hljs-section">### 4.2 é¡µé¢è®¾è®¡æ¦‚è§ˆ</span>

| é¡µé¢åç§°    | æ¨¡å—åç§°   | UIå…ƒç´                            |
| ------- | ------ | ------------------------------ |
| é¦–é¡µ      | æ•…äº‹è¾“å…¥åŒºåŸŸ | ç™½è‰²èƒŒæ™¯çš„å¤§å‹æ–‡æœ¬æ¡†ï¼Œæ©™è‰²è¾¹æ¡†ï¼Œå­—æ•°è®¡æ•°å™¨ï¼Œç»¿è‰²æäº¤æŒ‰é’®   |
| é¦–é¡µ      | åˆ†æ”¯é€‰æ‹©åŒºåŸŸ | ä¸‰ä¸ªå¹¶æ’çš„å¡ç‰‡ï¼Œè“è‰²è¾¹æ¡†ï¼Œæ‚¬åœæ—¶æ©™è‰²é«˜äº®ï¼Œç²—ä½“æ ‡é¢˜      |
| é¦–é¡µ      | æ•…äº‹æ ‘å±•ç¤º  | æ·±ç°è‰²èƒŒæ™¯ï¼Œç™½è‰²è¿æ¥çº¿ï¼Œå½©è‰²èŠ‚ç‚¹ï¼ˆæ©™/ç»¿/è“ï¼‰ï¼Œå½“å‰èŠ‚ç‚¹é«˜äº® |
| é¦–é¡µ      | æƒ…èŠ‚å†…å®¹åŒº  | ç™½è‰²èƒŒæ™¯ï¼Œæ·±ç°è‰²æ–‡å­—ï¼Œç»¿è‰²è¾¹æ¡†ï¼Œæ»šåŠ¨æ¡æ ·å¼å®šåˆ¶        |
| é¦–é¡µ      | å¯¼èˆªæŒ‰é’®   | ç²—è¾¹æ¡†æŒ‰é’®ï¼Œä¸åŒåŠŸèƒ½ä½¿ç”¨ä¸åŒé¢œè‰²ï¼Œæ‚¬åœæ•ˆæœæ˜æ˜¾        |
| APIé…ç½®é¡µé¢ | é…ç½®è¡¨å•   | å±…ä¸­å¸ƒå±€ï¼Œç™½è‰²å¡ç‰‡ï¼Œæ©™è‰²è¾“å…¥æ¡†è¾¹æ¡†ï¼Œå¤§å‹ä¿å­˜æŒ‰é’®       |
| APIé…ç½®é¡µé¢ | çŠ¶æ€æ˜¾ç¤º   | å½©è‰²çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ŒæˆåŠŸä¸ºç»¿è‰²ï¼Œé”™è¯¯ä¸ºæ©™è‰²ï¼Œæœªé…ç½®ä¸ºç°è‰²     |

<span class="hljs-section">### 4.3 å“åº”å¼è®¾è®¡</span>

äº§å“é‡‡ç”¨æ¡Œé¢ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡ï¼š

<span class="hljs-bullet">*</span> <span class="hljs-strong">**æ¡Œé¢ç«¯ï¼ˆ1200px+ï¼‰**</span>ï¼šä¸‰æ å¸ƒå±€ï¼Œæ•…äº‹æ ‘ã€å†…å®¹åŒºã€åˆ†æ”¯é€‰æ‹©å¹¶æ’æ˜¾ç¤º

<span class="hljs-bullet">*</span> <span class="hljs-strong">**å¹³æ¿ç«¯ï¼ˆ768px-1199pxï¼‰**</span>ï¼šä¸¤æ å¸ƒå±€ï¼Œæ•…äº‹æ ‘æŠ˜å ä¸ºæŠ½å±‰å¼ï¼Œä¸»è¦æ˜¾ç¤ºå†…å®¹åŒºå’Œåˆ†æ”¯é€‰æ‹©

<span class="hljs-bullet">*</span> <span class="hljs-strong">**ç§»åŠ¨ç«¯ï¼ˆ&lt;768pxï¼‰**</span>ï¼šå•æ å¸ƒå±€ï¼Œå„æ¨¡å—å‚ç›´å †å ï¼Œä¼˜åŒ–è§¦æ‘¸äº¤äº’

<span class="hljs-bullet">*</span> <span class="hljs-strong">**äº¤äº’ä¼˜åŒ–**</span>ï¼šæ”¯æŒè§¦æ‘¸æ‰‹åŠ¿ï¼ŒæŒ‰é’®å°ºå¯¸é€‚é…ç§»åŠ¨ç«¯ï¼Œæ–‡å­—å¤§å°è‡ªé€‚åº”
</code></pre>
<p>æŠ€æœ¯æ¶æ„æ–‡æ¡£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd36b9954a148b1b3f80b485fec76b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=g0obzgxngGqra1aSQbMGOVLK%2BQY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d56b97a8f35644e4a4cbb7582f951736~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=LM7Mi26pWljLPuPnnGl5O6mIJtM%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-css" lang="css"># AIå°è¯´åˆ›ä½œå¹³å° - æŠ€æœ¯æ¶æ„æ–‡æ¡£

## <span class="hljs-number">1</span>. æ¶æ„è®¾è®¡

```mermaid
graph <span class="hljs-selector-tag">TD</span>
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·æµè§ˆå™¨]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Reactå‰ç«¯åº”ç”¨]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[GLM-4.6 API]</span>
  <span class="hljs-selector-tag">B</span> --&gt; D<span class="hljs-selector-attr">[LocalStorage]</span>

  subgraph "å‰ç«¯å±‚"
    <span class="hljs-selector-tag">B</span>
    D
  end

  subgraph "å¤–éƒ¨æœåŠ¡"
    C
  end
```

## <span class="hljs-number">2</span>. æŠ€æœ¯æè¿°

- **å‰ç«¯**: React@<span class="hljs-number">18</span> + TypeScript + Vite + TailwindCSS
- **çŠ¶æ€ç®¡ç†**: React Context + useReducer
- **HTTPå®¢æˆ·ç«¯**: Fetch API
- **æœ¬åœ°å­˜å‚¨**: LocalStorage API
- **å¤–éƒ¨æœåŠ¡**: GLM-<span class="hljs-number">4.6</span> API (æ™ºè°±AI)

## <span class="hljs-number">3</span>. è·¯ç”±å®šä¹‰

| è·¯ç”± | ç”¨é€” |
|------|-----|
| / | é¦–é¡µï¼Œæ•…äº‹åˆ›ä½œä¸»ç•Œé¢ï¼ŒåŒ…å«è¾“å…¥åŒºåŸŸã€åˆ†æ”¯é€‰æ‹©ã€æ•…äº‹æ ‘å±•ç¤º |
| /config | API Keyé…ç½®é¡µé¢ï¼Œç”¨äºè®¾ç½®å’Œç®¡ç†GLM-<span class="hljs-number">4.6</span>çš„APIå¯†é’¥ |

## <span class="hljs-number">4</span>. APIå®šä¹‰

### <span class="hljs-number">4.1</span> GLM-<span class="hljs-number">4.6</span> APIé›†æˆ

**ç”Ÿæˆæƒ…èŠ‚åˆ†æ”¯æ¦‚è§ˆ**
```
POST https://open.bigmodel.cn/api/paas/v4/chat/completions
```

è¯·æ±‚å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æ˜¯å¦å¿…éœ€ | æè¿° |
|---------|---------|---------|------|
| model | string | true | å›ºå®šå€¼ <span class="hljs-string">"glm-4.6"</span> |
| messages | array | true | å¯¹è¯æ¶ˆæ¯æ•°ç»„ï¼ŒåŒ…å«ç³»ç»Ÿæç¤ºå’Œç”¨æˆ·è¾“å…¥ |
| temperature | number | true | ç”Ÿæˆéšæœºæ€§ï¼Œè®¾ç½®ä¸º<span class="hljs-number">0.8</span>ä»¥ä¿è¯åˆ›æ„æ€§ |
| max_tokens | number | true | æœ€å¤§ç”Ÿæˆtokenæ•°ï¼Œåˆ†æ”¯æ¦‚è§ˆè®¾ç½®ä¸º<span class="hljs-number">200</span> |
| stream | boolean | true | æ˜¯å¦æµå¼è¾“å‡ºï¼Œè®¾ç½®ä¸ºfalse |

å“åº”å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æè¿° |
|---------|---------|------|
| choices | array | ç”Ÿæˆçš„å›å¤é€‰é¡¹æ•°ç»„ |
| choices[<span class="hljs-number">0</span>].message.content | string | ç”Ÿæˆçš„æ–‡æœ¬å†…å®¹ |

**ç”Ÿæˆè¯¦ç»†æƒ…èŠ‚å†…å®¹**
```
POST https://open.bigmodel.cn/api/paas/v4/chat/completions
```

è¯·æ±‚å‚æ•°:
| å‚æ•°åç§° | å‚æ•°ç±»å‹ | æ˜¯å¦å¿…éœ€ | æè¿° |
|---------|---------|---------|------|
| model | string | true | å›ºå®šå€¼ <span class="hljs-string">"glm-4.6"</span> |
| messages | array | true | åŒ…å«æ•…äº‹ä¸Šä¸‹æ–‡å’Œé€‰æ‹©åˆ†æ”¯çš„æ¶ˆæ¯æ•°ç»„ |
| temperature | number | true | ç”Ÿæˆéšæœºæ€§ï¼Œè®¾ç½®ä¸º<span class="hljs-number">0.7</span> |
| max_tokens | number | true | æœ€å¤§ç”Ÿæˆtokenæ•°ï¼Œè¯¦ç»†æƒ…èŠ‚è®¾ç½®ä¸º<span class="hljs-number">800</span> |
| stream | boolean | true | æ˜¯å¦æµå¼è¾“å‡ºï¼Œè®¾ç½®ä¸ºfalse |

ç¤ºä¾‹è¯·æ±‚:
```json
{
  "model": <span class="hljs-string">"glm-4.6"</span>,
  <span class="hljs-string">"messages"</span>: [
    {
      "role": <span class="hljs-string">"system"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°è¯´åˆ›ä½œåŠ©æ‰‹ï¼Œæ“…é•¿æ ¹æ®ç»™å®šçš„æ•…äº‹å¼€å¤´å’Œé€‰æ‹©çš„æƒ…èŠ‚æ–¹å‘åˆ›ä½œå¼•äººå…¥èƒœçš„è¯¦ç»†æƒ…èŠ‚ã€‚è¯·ç”Ÿæˆ300-500å­—çš„è¯¦ç»†æƒ…èŠ‚å†…å®¹ã€‚"</span>
    },
    {
      "role": <span class="hljs-string">"user"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ•…äº‹å¼€å¤´ï¼š[ç”¨æˆ·è¾“å…¥çš„å¼€å¤´] \né€‰æ‹©çš„æƒ…èŠ‚æ–¹å‘ï¼š[ç”¨æˆ·é€‰æ‹©çš„åˆ†æ”¯] \nè¯·åŸºäºä»¥ä¸Šå†…å®¹ç”Ÿæˆè¯¦ç»†çš„æƒ…èŠ‚å‘å±•ã€‚"</span>
    }
  ],
  "temperature": <span class="hljs-number">0.7</span>,
  <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">800</span>,
  <span class="hljs-string">"stream"</span>: false
}
```

### <span class="hljs-number">4.2</span> æœ¬åœ°å­˜å‚¨API

**API Keyç®¡ç†**
```typescript
// ä¿å­˜API Key
localStorage<span class="hljs-selector-class">.setItem</span>('glm_api_key', apiKey);

// è·å–API Key
const apiKey = localStorage<span class="hljs-selector-class">.getItem</span>('glm_api_key');

// åˆ é™¤API Key
localStorage<span class="hljs-selector-class">.removeItem</span>('glm_api_key');
```

**æ•…äº‹æ•°æ®ç¼“å­˜**
```typescript
// ä¿å­˜å½“å‰æ•…äº‹çŠ¶æ€
localStorage<span class="hljs-selector-class">.setItem</span>('current_story', JSON<span class="hljs-selector-class">.stringify</span>(storyData));

// è·å–æ•…äº‹çŠ¶æ€
const storyData = JSON<span class="hljs-selector-class">.parse</span>(localStorage<span class="hljs-selector-class">.getItem</span>('current_story') || '{}');
```

## <span class="hljs-number">5</span>. æ•°æ®æ¨¡å‹

### <span class="hljs-number">5.1</span> æ•°æ®æ¨¡å‹å®šä¹‰

```mermaid
erDiagram
  STORY ||<span class="hljs-attr">--o</span>{ STORY_NODE : contains
  STORY_NODE ||--o{ BRANCH_OPTION : has
  
  STORY {
    string id PK
    string title
    string initialContent
    date createdAt
    string currentNodeId
  }
  
  STORY_NODE {
    string id PK
    string storyId FK
    string parentNodeId FK
    string <span class="hljs-attribute">content</span>
    int level
    boolean isSelected
    date createdAt
  }
  
  BRANCH_OPTION {
    string id PK
    string nodeId FK
    string title
    string description
    boolean isSelected
    int <span class="hljs-attribute">order</span>
  }
```

### <span class="hljs-number">5.2</span> TypeScriptç±»å‹å®šä¹‰

```typescript
// æ•…äº‹åˆ†æ”¯é€‰é¡¹
interface BranchOption {
  id: string;
  title: string;
  description: string;
  isSelected: boolean;
  <span class="hljs-attribute">order</span>: number;
}

// æ•…äº‹èŠ‚ç‚¹
interface StoryNode {
  id: string;
  parentNodeId?: string;
  <span class="hljs-attribute">content</span>: string;
  level: number;
  isSelected: boolean;
  createdAt: Date;
  branches?: BranchOption[];
}

// å®Œæ•´æ•…äº‹æ•°æ®
interface Story {
  id: string;
  title: string;
  initialContent: string;
  nodes: StoryNode[];
  currentNodeId?: string;
  createdAt: Date;
}

// APIå“åº”ç±»å‹
interface GLMResponse {
  choices: Array&lt;{
    message: {
      <span class="hljs-attribute">content</span>: string;
      role: string;
    };
    finish_reason: string;
  }&gt;;
  usage: {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
  };
}

// åº”ç”¨çŠ¶æ€ç±»å‹
interface AppState {
  story: Story | null;
  isLoading: boolean;
  error: string | null;
  apiKey: string | null;
  currentStep: <span class="hljs-string">'input'</span> | <span class="hljs-string">'branches'</span> | <span class="hljs-string">'content'</span>;
}
```

## <span class="hljs-number">6</span>. ç»„ä»¶æ¶æ„

### <span class="hljs-number">6.1</span> ç»„ä»¶å±‚æ¬¡ç»“æ„

```mermaid
graph <span class="hljs-selector-tag">TD</span>
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[App]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Router]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[HomePage]</span>
  <span class="hljs-selector-tag">B</span> --&gt; D<span class="hljs-selector-attr">[ConfigPage]</span>
  
  C --&gt; E<span class="hljs-selector-attr">[StoryInput]</span>
  C --&gt; F<span class="hljs-selector-attr">[BranchSelector]</span>
  C --&gt; G<span class="hljs-selector-attr">[StoryTree]</span>
  C --&gt; H<span class="hljs-selector-attr">[ContentDisplay]</span>
  C --&gt; <span class="hljs-selector-tag">I</span><span class="hljs-selector-attr">[Navigation]</span>
  
  D --&gt; J<span class="hljs-selector-attr">[ApiKeyForm]</span>
  D --&gt; K<span class="hljs-selector-attr">[ConfigStatus]</span>
  
  subgraph "å…±äº«ç»„ä»¶"
    L<span class="hljs-selector-attr">[Button]</span>
    M<span class="hljs-selector-attr">[Loading]</span>
    N<span class="hljs-selector-attr">[ErrorMessage]</span>
    O<span class="hljs-selector-attr">[Modal]</span>
  end
```

### <span class="hljs-number">6.2</span> æ ¸å¿ƒç»„ä»¶è¯´æ˜

**StoryInputç»„ä»¶**
- åŠŸèƒ½ï¼šå¤„ç†ç”¨æˆ·æ•…äº‹å¼€å¤´è¾“å…¥
- Propsï¼šonSubmit, isLoading, maxLength
- çŠ¶æ€ï¼šinputValue, charCount, validation

**BranchSelectorç»„ä»¶**
- åŠŸèƒ½ï¼šå±•ç¤ºå’Œé€‰æ‹©æƒ…èŠ‚åˆ†æ”¯
- Propsï¼šbranches, onSelect, isLoading
- çŠ¶æ€ï¼šselectedBranch, hoverBranch

**StoryTreeç»„ä»¶**
- åŠŸèƒ½ï¼šæ ‘å½¢å±•ç¤ºæ•…äº‹å‘å±•è·¯å¾„
- Propsï¼šstory, currentNodeId, onNodeClick
- çŠ¶æ€ï¼šexpandedNodes, treeLayout

**ContentDisplayç»„ä»¶**
- åŠŸèƒ½ï¼šæ˜¾ç¤ºå½“å‰æƒ…èŠ‚å†…å®¹
- Propsï¼š<span class="hljs-attribute">content</span>, isLoading, onContinue
- çŠ¶æ€ï¼šdisplayText, animationState

**ApiKeyFormç»„ä»¶**
- åŠŸèƒ½ï¼šAPI Keyé…ç½®å’ŒéªŒè¯
- Propsï¼šonSave, initialValue
- çŠ¶æ€ï¼šapiKey, isValid, testResult

## <span class="hljs-number">7</span>. çŠ¶æ€ç®¡ç†

### <span class="hljs-number">7.1</span> Contextè®¾è®¡

```typescript
// æ•…äº‹çŠ¶æ€Context
const StoryContext = createContext&lt;{
  state: AppState;
  dispatch: Dispatch&lt;StoryAction&gt;;
}&gt;({} as any);

// é…ç½®çŠ¶æ€Context
const ConfigContext = createContext&lt;{
  apiKey: string | null;
  setApiKey: (key: string) =&gt; void;
  isConfigured: boolean;
}&gt;({} as any);
```

### <span class="hljs-number">7.2</span> çŠ¶æ€æ›´æ–°æµç¨‹

```mermaid
graph LR
  <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[ç”¨æˆ·æ“ä½œ]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[Action Dispatch]</span>
  <span class="hljs-selector-tag">B</span> --&gt; C<span class="hljs-selector-attr">[Reducerå¤„ç†]</span>
  C --&gt; D<span class="hljs-selector-attr">[çŠ¶æ€æ›´æ–°]</span>
  D --&gt; E<span class="hljs-selector-attr">[ç»„ä»¶é‡æ¸²æŸ“]</span>
  E --&gt; F<span class="hljs-selector-attr">[UIæ›´æ–°]</span>
```

## <span class="hljs-number">8</span>. éƒ¨ç½²æ¶æ„

### <span class="hljs-number">8.1</span> æ„å»ºé…ç½®

- **æ„å»ºå·¥å…·**: Vite
- **è¾“å‡ºæ ¼å¼**: é™æ€HTML/CSS/JSæ–‡ä»¶
- **ä»£ç åˆ†å‰²**: è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½
- **èµ„æºä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©ã€CSS/JSå‹ç¼©

### <span class="hljs-number">8.2</span> éƒ¨ç½²æ–¹æ¡ˆ

- **æ¨èéƒ¨ç½²**: Vercelã€Netlifyç­‰é™æ€æ‰˜ç®¡å¹³å°
- **å¤‡é€‰æ–¹æ¡ˆ**: GitHub Pagesã€äº‘æœåŠ¡å™¨é™æ€æ‰˜ç®¡
- **CDNåŠ é€Ÿ**: è‡ªåŠ¨é…ç½®ï¼Œæå‡å…¨çƒè®¿é—®é€Ÿåº¦
- **HTTPS**: é»˜è®¤æ”¯æŒï¼Œç¡®ä¿APIè°ƒç”¨å®‰å…¨
</code></pre>
<h4 data-id="heading-9">å¼€å‘è°ƒæ•´</h4>
<p>æ£€æŸ¥å®Œæ¯•å¼€å‘æ–‡æ¡£ï¼Œå‘ç°ç¡®å®æŒ‰ç…§è‡ªå·±æ‰€æƒ³çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥è®©Soloæ ¹æ®æ–‡æ¡£è¿›è¡Œå¼€å‘äº†ã€‚å¦‚æœæ–‡æ¡£æœ‰é—®é¢˜çš„è¯ï¼Œå¯ä»¥æ‰‹åŠ¨è¿›è¡Œè°ƒæ•´ï¼Œä¹Ÿå¯ä»¥è®©è¾“å…¥éœ€æ±‚Soloè¿›è¡Œè°ƒæ•´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efc62e52276443c4b0b84438f6a606a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=x3KVlYv11yZf9JE8V4y8uWPc%2FRQ%3D" alt="" loading="lazy"/></p>
<p>Soloä¸ä»…ä¼šè‡ªåŠ¨å®šä¹‰éœ€è¦å®ç°çš„è¦ç‚¹å’Œä»»åŠ¡ï¼Œä¹Ÿä¼šåˆå§‹åŒ–é¡¹ç›®åŸºç¡€æ¶æ„ï¼ŒåŒ…æ‹¬ä¸‹è½½ä¾èµ–ï¼Œé…ç½®ç¯å¢ƒè¿™äº›ï¼ŒSoloç»Ÿç»Ÿç»™ä½ æ‰“åŒ…å®Œæˆï¼Œæ ¹æœ¬ä¸éœ€è¦è‡ªå·±æ“å¿ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eee090585514739b334833272599eca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=BQJpnQLUq0zZVs6dX4tzPzrAxDA%3D" alt="" loading="lazy"/></p>
<p>Soloä¼šä¸¥æ ¼æŒ‰ç…§è‡ªå·±æŒ‡å®šçš„ä»»åŠ¡è¿›è¡Œå®Œæˆï¼Œå¦‚æœæˆ‘ä»¬å†å¼€å‘çš„è¿‡ç¨‹ä¸­å‘ç°äº†Soloçš„æ–¹å‘ä¸å¯¹ï¼Œæˆ–è€…æœ‰éœ€è¦è¡¥å……çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æ‰“æ–­Soloè¾“å…¥éœ€æ±‚ï¼Œå› ä¸ºSoloå®Œå…¨éµå®ˆä¸Šä¸‹æ–‡å·¥ç¨‹çš„ç†å¿µçš„ï¼Œä¸ç®¡ä»å“ªé‡Œå¼€å§‹ï¼Œä»–éƒ½ä¼šé¡¹ç›®ç›®å‰å„ä¸ªä¿¡æ¯æ•´åˆä¹‹åè¿›è¡Œå¼€å‘ï¼Œå®Œå…¨ä¸ç”¨æ‹…å¿ƒæ‰“æ–­ä¼šå¯¹Soloçš„å¼€å‘è¿›åº¦äº§ç”Ÿä»€ä¹ˆå½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c0ff31fbb894fbeb5288c3ae095ef2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=V09D0CqvOxM2AiTtMI0HtMoUorE%3D" alt="" loading="lazy"/></p>
<p>å¼€å‘å®Œæ¯•ä¹‹åå¯ä»¥å†å†…ç½®æµè§ˆå…¶ä¸­è¿›è¡Œæ“ä½œæµ‹è¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7efb5c78f8b4db0a2f77c905b4efe75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=WZjp%2BQhXU2%2BWPUwdarCNMbQEWfM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030785197e6244a7908d64d464289bb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=UUpj6HRSDcw%2BdKlM1k%2FS8EZXF64%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯æˆ‘åœ¨æµ‹è¯•çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œåº”ç”¨åœ¨APIè°ƒç”¨å¤±è´¥çš„æ—¶å€™ä¼šä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œè¿™æ˜¯ç»å¯¹ä¸å…è®¸çš„ï¼Œé‚£ä¹ˆè¾“å…¥ä¸‹æ–¹æç¤ºè¯è®©Soloç»™æˆ‘æ”¹æˆå›æ¥ï¼</p>
<pre><code class="hljs language-vbnet" lang="vbnet">é¡¹ç›®ä¸­ç»å¯¹ä¸å…è®¸ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå¿…é¡»æ˜¯AIç”Ÿæˆçš„æ•°æ®ï¼ŒAPIè°ƒç”¨å‚è€ƒï¼š
curl -X POST <span class="hljs-string">" https://open.bigmodel.cn/api/paas/v4/chat/completions "</span> \
-H <span class="hljs-string">"Content-Type: application/json"</span> \
-H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
-d <span class="hljs-comment">'{</span>
<span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
<span class="hljs-string">"messages"</span>: [
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
},
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
},
{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
}
],
<span class="hljs-string">"thinking"</span>: {
<span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
},
<span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
<span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
}<span class="hljs-comment">'</span>
</code></pre>
<p>é‚£ä¹ˆSoloåœ¨æ¥æ”¶åˆ°ä¿®æ”¹éœ€æ±‚ä¹‹åï¼Œè¿˜æ˜¯ä¸¥æ ¼æŒ‰ç…§å…ˆå®šä¹‰ä»»åŠ¡åˆ—è¡¨ï¼Œå°†å¤§ä»»åŠ¡æ‹†è§£æˆå°ä»»åŠ¡ä¸€é¡¹ä¸€é¡¹çš„å»å®Œæˆä»»åŠ¡è¿™ä¸ªç†å¿µï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9c2abe870ed41979b4c7d362aa94044~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=pTLUtRyvGuLeIv6wxnkj6Akl%2B%2Fc%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”Soloåœ¨ä¿®æ”¹çš„è¿‡ç¨‹ä¸­è¿˜ä¼šè¿›è¡Œè‡ªæµ‹ï¼Œç¡®ä¿æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ç»™åˆ°æˆ‘ä»¬çš„æ—¶å€™æ˜¯å‡†å¤‡æ— è¯¯çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d870ee6fd789431da358605b887fce51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=fwu4XwXQAT6WDFLpEnX5lNv9amQ%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™æˆ‘åˆå‘ç°ï¼Œåœ¨AIè°ƒç”¨çš„è¿‡ç¨‹ä¸­çš„è¶…æ—¶æ—¶é—´å¤ªçŸ­äº†ï¼Œå¯¼è‡´AIæŠ¥é”™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç‚¹å‡»æ§åˆ¶å°ä¸­çš„æ—¥å¿—æŠ¥é”™ï¼Œæ·»åŠ åˆ°å¯¹è¯ä¸­ï¼Œå¹¶ç»™å‡ºå…·ä½“çš„éœ€æ±‚ï¼Œè¿™æ ·Soloå°±ä¼šå¸®æˆ‘ä»¬é’ˆå¯¹æ€§çš„è§£å†³æŠ¥é”™é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f58a0f040fa642498e77eb6ab97b2f3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=48ttEARqR93DldNfmL8QKcPgHTY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœé¡µé¢ä¸­è¿˜æœ‰ä»€ä¹ˆä¸æ»¡æ„çš„åœ°æ–¹ï¼Œä¹Ÿå¯ä»¥ç»§ç»­è®©Soloç»§ç»­æ”¹æ­£ï¼Œæ¯”å¦‚æˆ‘å‘ç°åœ¨ç”Ÿæˆæ–‡ç« åˆ†æ”¯çš„æ—¶å€™åªæ˜¯ä¸€å‘³çš„è½¬åœˆç­‰å¾…ï¼Œå¹¶æ²¡æœ‰è¿›åº¦æ¡æ˜¾ç¤ºï¼Œè¿™æ ·çš„è¯ç”¨æˆ·å°±ä¼šå¹²ç­‰ç€ï¼Œä¼šè®©ç”¨æˆ·ä½“éªŒæ„Ÿä¸‹é™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·ŸSoloè¯´è®©ä»–åŠ ä¸ŠåŠ¨æ€æ•ˆæœçš„è¿›åº¦æ¡ï¼Œè®©ç”¨æˆ·çŸ¥é“æˆ‘ä»¬åå°æ­£åœ¨æŒç»­ä¸æ–­çš„è¿è¡Œä¸­~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5601d4a9f87249399da41ceafa732177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sQO3ouHhUbOu6saz8R6V9Erfvf4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">éƒ¨ç½²å±•ç¤º</h3>
<p>æ‰€æœ‰çš„åŠŸèƒ½éƒ½æŒ‰ç…§è‡ªå·±çš„æƒ³æ³•å¼€å‘å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥è¿›å…¥åˆ°éƒ¨ç½²é˜¶æ®µã€‚åœ¨ Trae Solo ä¸­ï¼ŒVercel è¢«æ·±åº¦é›†æˆä½œä¸ºé»˜è®¤çš„å‰ç«¯éƒ¨ç½²ä¸æ‰˜ç®¡å¹³å°ï¼Œæå¤§ç®€åŒ–äº†ä»å¼€å‘åˆ°ä¸Šçº¿çš„å…¨æµç¨‹ã€‚å¼€å‘è€…åªéœ€åœ¨ Trae Solo é¡¹ç›®ä¸­å®ŒæˆåŸºç¡€é…ç½®ï¼ˆå¦‚æ¡†æ¶ç±»å‹ã€æ„å»ºå‘½ä»¤ç­‰ï¼‰ï¼Œå³å¯é€šè¿‡å†…ç½®çš„ â€œDeploy to Vercelâ€ ä¸€é”®å‘å¸ƒåŠŸèƒ½ï¼Œå°† Reactã€Next.js ç­‰ç°ä»£å‰ç«¯åº”ç”¨å¿«é€Ÿéƒ¨ç½²è‡³å…¨çƒ CDN ç½‘ç»œã€‚Vercel æä¾›çš„è‡ªåŠ¨ HTTPSã€è¾¹ç¼˜å‡½æ•°æ”¯æŒã€é¢„è§ˆéƒ¨ç½²ï¼ˆPreview Deploymentsï¼‰ä»¥åŠç¯å¢ƒå˜é‡ç®¡ç†ï¼Œä¸ Trae Solo çš„ AI è¾…åŠ©å¼€å‘ç†å¿µé«˜åº¦å¥‘åˆâ€”â€”ä¸ä»…åŠ é€Ÿäº†è¿­ä»£é€Ÿåº¦ï¼Œè¿˜ç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§ä¸å®‰å…¨æ€§ã€‚æ­¤å¤–ï¼ŒVercel çš„æ— ç¼ Git é›†æˆï¼ˆæ”¯æŒ GitHubã€GitLab ç­‰ï¼‰ä½¿å¾—æ¯æ¬¡ä»£ç æ¨é€éƒ½èƒ½è‡ªåŠ¨è§¦å‘æ„å»ºä¸éƒ¨ç½²ï¼ŒçœŸæ­£å®ç°â€œå†™å®Œå³ä¸Šçº¿â€ã€‚å¯¹äºåƒ AI å°è¯´åˆ›ä½œå¹³å°è¿™ç±»è½»é‡çº§ã€é™æ€ä¼˜å…ˆçš„åº”ç”¨ï¼ŒVercel çš„å…è´¹å¥—é¤å·²å®Œå…¨æ»¡è¶³éœ€æ±‚ï¼Œæ˜¯ Trae Solo æ¨èçš„é«˜æ•ˆã€å¯é éƒ¨ç½²æ–¹æ¡ˆã€‚Trae Solo</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85004701916a48bea6f195810bc5a991~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=MePdHAsRasoqVnhkogWsW9YHuGE%3D" alt="" loading="lazy"/></p>
<p>åœ¨Soloä¸­åªéœ€ä¸€å¥è¯å³å¯å®Œæˆéƒ¨ç½²ï¼Œè€Œä¸”æ•´ä¸ªè¿‡ç¨‹æ˜¯å®Œå…¨è‡ªåŠ¨çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6656e6d77a284d51aa36eba00fb3dfd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=ckOv4zl3IAJRqDXmIeOf4H4Gn7w%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7fb9fb1f4fe4d698d3d542004cdb189~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=FqDowsnxm9R1RtbSYemf1LAn5yc%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”è¿™æ—¶å€™å¯ä»¥å†vercelçš„é¡¹ç›®ç®¡ç†ä¸­çœ‹åˆ°é¡¹ç›®çš„è¿è¡ŒçŠ¶æ€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bca077e983a4af4ac8efde37ccb3497~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=2eO%2BcvVHEcCwAS8jPmF%2BjunwsTA%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡é¡¹ç›®é“¾æ¥ç›´æ¥è¿›å…¥åˆ°é¡¹ç›®ä¸­ï¼Œåœ¨è¿›å…¥é¡¹ç›®ä¹‹å‰éœ€è¦é…ç½®ä¸€ä¸‹æ™ºè°±çš„API KEYï¼Œè¿™ä¸ªæ“ä½œåœ¨å‰æ–‡ä¹Ÿæåˆ°è¿‡ï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df97f33926014518aa8df03457166770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=nX9jTdwL%2BhQXl7pM8d8sQzHjCUc%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥API KEYä¹‹åï¼Œç‚¹å‡»æµ‹è¯•é…ç½®ï¼Œæ£€éªŒAPI KEYæ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼Œæµ‹è¯•å®Œæ¯•ä¹‹åå³å¯ä¿å­˜è®¾ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7457fc1c0ad8414a951faba9a9689086~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=zrzARiVds1Xt2hrgPUdM9HI%2BSws%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4566a0a4e4a748d3b8978b4a7038efb0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=NDcm64SYINwJvMltxKip6VeKAlo%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å®Œæ¯•ä¹‹åï¼Œå³å¯å¼€å¯æ•…äº‹åˆ›ä½œï¼Œé‚£ä¹ˆéœ€è¦è‡ªå·±å…ˆæ‹Ÿå®šä¸€ä¸ªæ•…äº‹æ ‡é¢˜ï¼Œå’Œæ•…äº‹çš„å¼€å¤´ï¼Œç„¶åç‚¹å‡»ç”Ÿæˆæ•…äº‹åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ab4b19c05bf40278bca9ae2621d2e1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=HUt%2FVggabUrjgXPGbnywCMpT8c8%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ä¹‹åä¼šå…ˆè®²å½“å‰æ“ä½œçš„å†…å®¹ä¿å­˜åˆ°åˆ›ä½œæ ‘ä¸­</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edd8c60f67644a2d81dae4c03d7c5a29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=lJTWbRi4CwUSPumiMMS6pEYbYW8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå›åˆ°é¦–é¡µç‚¹å‡»ç”Ÿæˆæ–°åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd5fc87770f342ce96687ea5d9c19fe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=UQ6jmbHaP%2F4B82JVVTPxzky5VuU%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è¿›åº¦é‡å®æ—¶å±•ç¤ºç€åˆ›ä½œçš„è¿›åº¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/961031dfe4694110a12a142074894456~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=WV2ZidW6Mg7UTBoQgV57ty2AqkM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/231842353d524b5caeede14be8ac8c6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=SD9qDNxvRcQFmCVH033433XNcHg%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¸€ä¼šå„¿å°±ç”Ÿæˆå‡ºä¸‰ä¸ªä¸åŒçš„æ•…äº‹åˆ†æ”¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/006c48a2686f4cde86f426aa52ea908e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sErmTbbOcHD7oLb%2BKer%2FNP3Yx2c%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä»»ä¸€ä¸€ä¸ªæ•…äº‹åˆ†æ”¯ï¼Œç‚¹å‡»ç”Ÿæˆåˆ†æ”¯çš„è¯¦ç»†å†…å®¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e55d13289204f6fbe6fb1f033fa3e4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=YAZMySR9aKYzNRks7ln0CWj3qOE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„è¯¦ç»†å†…å®¹ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆæœ‰åˆ›æ„æ€§äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1aa2367abd2406487d21b039e38c786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=3bO6jIeWC7GG7697Sl%2B5Y5tZi%2BY%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™å†å›åˆ°åˆ›ä½œæ ‘ä¸­ï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšé€‰æ‹©çš„åˆ†æ”¯ä»¥åŠè¯¦æƒ…ï¼Œè¿™æ ·ä¸ç®¡åˆ›ä½œå¤šä¹…ä¹Ÿå¯ä»¥è¿”å›çœ‹åˆ°è‡ªå·±çš„åˆ›ä½œå†ç¨‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb147e3465a4a53b4bdea0e14bcf421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=aIsT3PiP6DmK8%2F9fdHgSvhH3OVQ%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä¸æ–­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œä¸€éåˆä¸€éé€‰æ‹©æ–°çš„åˆ†æ”¯ï¼Œæ¢ç´¢ä¸åŒåˆ†æ”¯å¸¦æ¥çš„ä¸åŒç»“æœï¼Œæœ€åå½¢æˆä¸€ç¯‡å°è¯´</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eb9c484e7d14f5199f32c668c6deba2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976360&amp;x-signature=sTntICxJeY3JKTGZSOBb56BDz78%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸‰ï¼‰â€”â€”æŠŠèƒ½åŠ›å†æŠ½è±¡ä¸€å±‚ï¼Œå†™ä¸€å¥—â€œä¼¤å®³è®¡ç®—å™¨â€æ¡†æ¶]]></title>    <link>https://juejin.cn/post/7573336057481412614</link>    <guid>https://juejin.cn/post/7573336057481412614</guid>    <pubDate>2025-11-17T09:51:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573336057481412614" data-draft-id="7553867623856652298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸‰ï¼‰â€”â€”æŠŠèƒ½åŠ›å†æŠ½è±¡ä¸€å±‚ï¼Œå†™ä¸€å¥—â€œä¼¤å®³è®¡ç®—å™¨â€æ¡†æ¶"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T09:51:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆä¸‰ï¼‰â€”â€”æŠŠèƒ½åŠ›å†æŠ½è±¡ä¸€å±‚ï¼Œå†™ä¸€å¥—â€œä¼¤å®³è®¡ç®—å™¨â€æ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:51:46.000Z" title="Mon Nov 17 2025 09:51:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦â€œå†æŠ½è±¡ä¸€å±‚â€</h2>
<p>ä¸Šä¸¤ç¯‡æˆ‘ä»¬å·²ç»ç”¨åè®®æŠŠâ€œæ”»å‡»â€æ‹†æˆäº†èƒ½åŠ›æ’ä»¶ï¼Œä½†é—ç•™äº†ä¸€ä¸ªç¡¬æ ¸é—®é¢˜ï¼š</p>
<ul>
<li>æ¸¸æˆå‰æœŸç”¨ <code>Int</code> è¶³å¤Ÿï¼ŒåæœŸä¸ºäº†é¿å…é™¤æ³•è¯¯å·®æƒ³æ¢æˆ <code>Double</code>ï¼Œç”šè‡³é‡‘èçº§ç²¾åº¦è¦ç”¨ <code>Decimal</code>ï¼›</li>
<li>å¦‚æœç»™æ¯ç§æ•°å€¼ç±»å‹éƒ½å¤åˆ¶ä¸€ä»½åè®®ï¼Œå°±ä¼šå‡ºç° <code>AttackableInt</code>ã€<code>AttackableDouble</code>â€¦çˆ†ç‚¸å¼å¢é•¿ã€‚</li>
</ul>
<p>Swift çš„æ³›å‹ï¼ˆGenericï¼‰+ å…³è”ç±»å‹ï¼ˆassociatedtypeï¼‰å¯ä»¥â€œä¸€æ¬¡æ€§â€å†™å‡ºç®—æ³•ï¼Œç„¶åè®©ç¼–è¯‘å™¨åœ¨è°ƒç”¨ç‚¹è‡ªåŠ¨ç”Ÿæˆå¯¹åº”ç‰ˆæœ¬çš„ä»£ç ï¼Œæ—¢ä¿è¯ç±»å‹å®‰å…¨ï¼Œåˆä¿æŒè¿è¡Œæ—¶é›¶æˆæœ¬ã€‚</p>
<h2 data-id="heading-1">æŠŠ Attackable å‡çº§æˆæ³›å‹åè®®</h2>
<ol>
<li>å®šä¹‰â€œæ•°å€¼â€å¥‘çº¦</li>
</ol>
<p>å…ˆçº¦å®šä¸€ä¸ªâ€œå¯è¿ç®—ã€å¯æ¯”è¾ƒâ€çš„åŸºæœ¬åè®®ï¼ŒæŠŠ <code>+</code>ã€<code>*</code>ã€<code>/</code>ã€<code>&gt;</code> ç­‰è¿ç®—ç¬¦åŒ…è¿›å»ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">NumericValue</span>: <span class="hljs-title class_">Comparable</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">+</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">*</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">/</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">&gt;</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-type">Bool</span>   <span class="hljs-comment">// ä¸æ ‡é‡ä¹˜</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Int</span>)                               <span class="hljs-comment">// èƒ½ä»æ•´æ•°å­—é¢é‡åˆå§‹åŒ–</span>
}
</code></pre>
<ol start="2">
<li>è®©æ ‡å‡†åº“ç±»å‹è‡ªåŠ¨ç¬¦åˆ</li>
</ol>
<p>Swift 5.7 ä¹‹åå¯ä»¥ç”¨ <code>extension</code> ç»™æ ‡å‡†åº“ç±»å‹â€œæ‰¹é‡â€å®ç°ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Int</span>: <span class="hljs-title class_">NumericValue</span> {}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Double</span>: <span class="hljs-title class_">NumericValue</span> {}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Decimal</span>: <span class="hljs-title class_">NumericValue</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">*</span>(<span class="hljs-params">lhs</span>: <span class="hljs-type">Decimal</span>, <span class="hljs-params">rhs</span>: <span class="hljs-type">Double</span>) -&gt; <span class="hljs-type">Decimal</span> {
        lhs <span class="hljs-operator">*</span> <span class="hljs-type">Decimal</span>(rhs)
    }
}
</code></pre>
<p>ï¼ˆ<code>Float</code>ã€<code>CGFloat</code> åŒç†ï¼‰</p>
<ol start="3">
<li>æ³›å‹ç‰ˆ Attackable</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Value</span>: <span class="hljs-type">NumericValue</span>   <span class="hljs-comment">// â‘  å…³è”ç±»å‹</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Value</span>
}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<p>â‘  è¿™é‡Œä¸èƒ½å†ç»™ <code>attack()</code> æä¾›é»˜è®¤å®ç°ï¼Œå› ä¸ºè¿”å›ç±»å‹æ˜¯æ³›å‹ï¼Œä¸åŒæ•°å€¼çš„â€œé»˜è®¤ä¼¤å®³â€è¯­ä¹‰ä¸åŒï¼›</p>
<p>â‘¡ å¦‚æœç¡®å®æƒ³æä¾›é»˜è®¤ï¼Œå¯ä»¥å†åŒ…ä¸€å±‚æ³›å‹æ‰©å±•</p>
<h2 data-id="heading-2">ç»™â€œé»˜è®¤ä¼¤å®³â€ä¸€ä¸ªæ³›å‹å®ç°</h2>
<p>åˆ©ç”¨åè®®æ‰©å±•çš„â€œwhere å­å¥â€åªå¯¹ç‰¹å®šæ•°å€¼ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">Attackable</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Value</span> == <span class="hljs-title class_">Double</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Value</span> { <span class="hljs-number">10.0</span> }
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Attackable</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Value</span> == <span class="hljs-title class_">Int</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Value</span> { <span class="hljs-number">10</span> }
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Attackable</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Value</span> == <span class="hljs-title class_">Decimal</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Value</span> { <span class="hljs-type">Decimal</span>(<span class="hljs-number">10</span>) }
}
</code></pre>
<p>è¿™æ ·ä»»ä½•ç¬¦åˆè€…åªè¦ <code>Value</code> æ˜¯ä¸Šè¿°ä¸‰ç§ä¹‹ä¸€ï¼Œä¸å®ç° <code>attack()</code> ä¹Ÿèƒ½ç¼–è¯‘é€šè¿‡ï¼›æƒ³å®šåˆ¶å°±å†å†™ä¸€éè¦†ç›–å³å¯ã€‚</p>
<h2 data-id="heading-3">æŠŠâ€œä¼¤å®³è®¡ç®—å™¨â€ä¹Ÿåšæˆæ³›å‹ç»„ä»¶</h2>
<p>éœ€æ±‚ï¼š</p>
<ul>
<li>æ”¯æŒâ€œæš´å‡»â€ã€â€œæ˜“ä¼¤â€ã€â€œå…ä¼¤â€å¤šå±‚ä¿®æ­£ï¼›</li>
<li>ç®—æ³•å†™ä¸€æ¬¡ï¼Œå¯¹ <code>Int / Double / Decimal</code> å…¨éƒ¨ç”Ÿæ•ˆï¼›</li>
<li>ç¼–è¯‘æœŸå†³å®šç±»å‹ï¼Œæ— è¿è¡Œæ—¶æ´¾å‘ã€‚</li>
</ul>
<ol>
<li>å®šä¹‰è®¡ç®—å™¨åè®®</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">DamageCalculator</span>&lt;<span class="hljs-title class_">Value</span>&gt; {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Value</span>: <span class="hljs-type">NumericValue</span>
    <span class="hljs-comment">/// ä¼ å…¥åŸºç¡€ä¼¤å®³ï¼Œè¿”å›æœ€ç»ˆä¼¤å®³</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span>
}
</code></pre>
<ol start="2">
<li>é»˜è®¤å®ç°ï¼šæš´å‡» * 1.5</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">CritCalculator</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">DamageCalculator</span> {
    <span class="hljs-keyword">let</span> rate: <span class="hljs-type">Value</span>   <span class="hljs-comment">// æš´å‡»å€ç‡</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span> {
        base <span class="hljs-operator">*</span> rate
    }
}
</code></pre>
<ol start="3">
<li>é“¾å¼ç»„åˆï¼šè£…é¥°å™¨æ¨¡å¼</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">MultiplierCalculator</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">DamageCalculator</span> {
    <span class="hljs-keyword">let</span> upstream: <span class="hljs-keyword">any</span> <span class="hljs-type">DamageCalculator</span>&lt;<span class="hljs-type">Value</span>&gt;  <span class="hljs-comment">// ä¸Šæ¸¸è®¡ç®—å™¨</span>
    <span class="hljs-keyword">let</span> multiplier: <span class="hljs-type">Double</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span> {
        <span class="hljs-keyword">let</span> upstreamDamage <span class="hljs-operator">=</span> upstream.calculate(base: base)
        <span class="hljs-keyword">return</span> upstreamDamage <span class="hljs-operator">*</span> multiplier
    }
}
</code></pre>
<p>ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> crit: <span class="hljs-keyword">any</span> <span class="hljs-type">DamageCalculator</span>&lt;<span class="hljs-type">Double</span>&gt; <span class="hljs-operator">=</span> <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">1.5</span>)
<span class="hljs-keyword">let</span> vulnerable <span class="hljs-operator">=</span> <span class="hljs-type">MultiplierCalculator</span>(upstream: crit, multiplier: <span class="hljs-number">1.2</span>)  <span class="hljs-comment">// æ˜“ä¼¤ +20%</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword">final</span> <span class="hljs-operator">=</span> vulnerable.calculate(base: <span class="hljs-number">100</span>)   <span class="hljs-comment">// 100 * 1.5 * 1.2 = 180.0</span>
</code></pre>
<h2 data-id="heading-4">æŠŠè®¡ç®—å™¨å¡è¿›å®ä½“â€”â€”â€œèƒ½åŠ›æ³¨å…¥â€</h2>
<p>æˆ‘ä»¬ä¸å†è®©å®ä½“â€œç»§æ‰¿â€ä¼¤å®³é€»è¾‘ï¼Œè€Œæ˜¯æŠŠè®¡ç®—å™¨å½“æˆå±æ€§æ³¨å…¥ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Warrior</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">Attackable</span> {
    <span class="hljs-keyword">let</span> calculator: <span class="hljs-keyword">any</span> <span class="hljs-type">DamageCalculator</span>&lt;<span class="hljs-type">Value</span>&gt;
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() -&gt; <span class="hljs-type">Value</span> {
        <span class="hljs-keyword">let</span> base: <span class="hljs-type">Value</span> <span class="hljs-operator">=</span> <span class="hljs-type">Value</span>(<span class="hljs-number">50</span>)        <span class="hljs-comment">// è‡ªå·±å®šåŸºç¡€å€¼</span>
        <span class="hljs-keyword">return</span> calculator.calculate(base: base)
    }
}
</code></pre>
<p>ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> warriorD <span class="hljs-operator">=</span> <span class="hljs-type">Warrior</span>&lt;<span class="hljs-type">Double</span>&gt;(calculator: vulnerable)
<span class="hljs-built_in">print</span>(warriorD.attack())   <span class="hljs-comment">// 90.0</span>
</code></pre>
<h2 data-id="heading-5">ä¸€ä¸ªæ–‡ä»¶é‡ŒåŒæ—¶ç©ä¸‰ç§ç²¾åº¦</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> wInt    <span class="hljs-operator">=</span> <span class="hljs-type">Warrior</span>&lt;<span class="hljs-type">Int</span>&gt;(calculator: <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">2</span>))
<span class="hljs-keyword">let</span> wDouble <span class="hljs-operator">=</span> <span class="hljs-type">Warrior</span>&lt;<span class="hljs-type">Double</span>&gt;(calculator: <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">2</span>))
<span class="hljs-keyword">let</span> wDec    <span class="hljs-operator">=</span> <span class="hljs-type">Warrior</span>&lt;<span class="hljs-type">Decimal</span>&gt;(calculator: <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">2</span>))

<span class="hljs-built_in">print</span>(wInt.attack())     <span class="hljs-comment">// 100</span>
<span class="hljs-built_in">print</span>(wDouble.attack())  <span class="hljs-comment">// 100.0</span>
<span class="hljs-built_in">print</span>(wDec.attack())     <span class="hljs-comment">// 100</span>
</code></pre>
<p>åŒä¸€å¥—ç®—æ³•ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆä¸‰ä»½ç‰¹åŒ–ï¼ˆspecializationï¼‰ä»£ç ï¼Œè¿è¡Œæ—¶æ— ç›’å­ã€æ— åŠ¨æ€æ´¾å‘ã€‚</p>
<h2 data-id="heading-6">æ€§èƒ½å®æµ‹ï¼šé›¶å¼€é”€æ‰¿è¯ºæ˜¯å¦å…‘ç°ï¼Ÿ</h2>
<p>æµ‹è¯•ç¯å¢ƒï¼šM1 Mac / Swift 5.9 / -O ä¼˜åŒ–</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> p <span class="hljs-operator">=</span> <span class="hljs-type">Warrior</span>&lt;<span class="hljs-type">Double</span>&gt;(calculator: <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">1.8</span>))
measure {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">1_000_000</span> { <span class="hljs-keyword">_</span> <span class="hljs-operator">=</span> p.attack() }
}
</code></pre>
<p>ç»“æœï¼š</p>
<ul>
<li>æ³›å‹ç‰¹åŒ–ç‰ˆæœ¬ï¼š0.047 s</li>
<li>æ‰‹å†™ <code>Double</code> ä¸“ç”¨ç‰ˆæœ¬ï¼š0.046 s</li>
</ul>
<p>å·®è·åœ¨ 2% ä»¥å†…ï¼Œå±äºæµ‹é‡è¯¯å·®ï¼›æ±‡ç¼–å±‚é¢å·²æ— çº¿ç¨‹å †åˆ†é…ã€æ—  protocol witness è°ƒç”¨ã€‚</p>
<h2 data-id="heading-7">ä»€ä¹ˆæ—¶å€™å›åˆ°å¼•ç”¨è¯­ä¹‰ï¼Ÿ</h2>
<ol>
<li>è®¡ç®—å™¨éœ€è¦çŠ¶æ€ç¼“å­˜ï¼ˆå¦‚éšæœºç§å­ã€CD è®¡æ—¶ï¼‰ä¸”è¦å…±äº«ï¼›</li>
<li>éœ€è¦ç»§æ‰¿ NSObjec ä»¥å…¼å®¹ KVO / Core Dataï¼›</li>
<li>éœ€è¦äº’æ–¥é”ã€åŸå­å¼•ç”¨è®¡æ•°ã€‚</li>
</ol>
<p>å…¶ä½™åœºæ™¯ç»§ç»­ <code>struct + æ³›å‹åè®®</code>ã€‚</p>
<h2 data-id="heading-8">æœ€ç»ˆå†³ç­–æ¸…å•ï¼ˆé€ŸæŸ¥è¡¨ï¼‰</h2>



































<table><thead><tr><th>éœ€æ±‚åœºæ™¯</th><th>é¦–é€‰æ–¹æ¡ˆ</th><th>å¤‡é€‰æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>åªæ˜¯å¤šæ€</td><td>protocol é»˜è®¤å®ç°</td><td>class + override</td></tr><tr><td>å¤šç²¾åº¦ç®—æ³•</td><td>æ³›å‹ protocol + associatedtype</td><td>å®/æ¨¡æ¿ä»£ç ç”Ÿæˆ</td></tr><tr><td>å…±äº«å¯å˜çŠ¶æ€</td><td>class</td><td>actor</td></tr><tr><td>å€¼è¯­ä¹‰ + ç»„åˆ</td><td>struct + protocol</td><td>æ— </td></tr><tr><td>è¿è¡Œæ—¶åŠ¨æ€æ›¿æ¢</td><td>class + objc</td><td>SwiftUI çš„ AnyView ç±»å‹æ“¦é™¤</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜]]></title>    <link>https://juejin.cn/post/7573332163388735542</link>    <guid>https://juejin.cn/post/7573332163388735542</guid>    <pubDate>2025-11-17T09:24:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573332163388735542" data-draft-id="7573300346263224374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:24:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:24:33.000Z" title="Mon Nov 17 2025 09:24:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93943b9c97b1427f8dc0bf354f1413ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=UjBKZ1XJm4Toa7xhsn848EU7QNc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">æŠ€æœ¯èåˆåˆ›æ–°ï¼šTrae+KAT-Coder+GLM-4.6æ‰“é€ åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>ä½œä¸ºè¿™æ¬¾â€œåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜â€åº”ç”¨çš„å¼€å‘è€…ï¼Œæˆ‘æ·±åˆ‡ä½“ä¼šåˆ°æŠ€æœ¯çœŸæ­£è½åœ°äºç”Ÿæ´»ç—›ç‚¹æ—¶çš„åŠ›é‡ã€‚é¢å¯¹çˆ¶æ¯è¾ˆæ‹¿ç€ä½“æ£€å•ä¸€è„¸èŒ«ç„¶çš„æ ·å­ï¼Œæˆ‘å†³å®šç”¨è‡ªå·±æ‰‹ä¸­çš„å·¥å…·åšç‚¹ä»€ä¹ˆâ€”â€”äºæ˜¯ï¼Œæˆ‘å°†å­—èŠ‚çš„ Trae IDE ä½œä¸ºå¼€å‘ä¸»æˆ˜åœºï¼Œæ¥å…¥å¿«æ‰‹ KAT-Coder å¼ºå¤§çš„ä»£ç ç”Ÿæˆä¸æ™ºèƒ½ä»£ç†èƒ½åŠ›ï¼Œå¹¶èåˆæ™ºè°± GLM-4.6 çš„è¯­è¨€ç†è§£ä¸ GLM-4.5V çš„è§†è§‰è¯†åˆ«ä¼˜åŠ¿ï¼Œæ„å»ºå‡ºä¸€ä¸ªèƒ½â€œçœ‹æ‡‚æŠ¥å‘Šã€è¯´å¾—æ˜ç™½â€çš„AIåŠ©æ‰‹ã€‚ä»ä¸€å¥æç¤ºè¯å‡ºå‘ï¼Œåˆ°å®Œæ•´é¡¹ç›®è‡ªåŠ¨ç”Ÿæˆã€æœ¬åœ°è°ƒè¯•ã€åå¤è¿­ä»£ï¼Œæ•´ä¸ªè¿‡ç¨‹é«˜æ•ˆè€Œå……æ»¡æˆå°±æ„Ÿã€‚æœ€ç»ˆï¼Œè¿™ä¸ªåº”ç”¨ä¸ä»…èƒ½æŠŠâ€œä½å¯†åº¦è„‚è›‹ç™½â€å˜æˆâ€œè¡€ç®¡é‡Œçš„åƒåœ¾è½¦â€ï¼Œæ›´è®©åŒ»å­¦çŸ¥è¯†ä¸å†é«˜ä¸å¯æ”€â€”â€”è¿™æ˜¯æˆ‘ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œé€ç»™æ™®é€šç”¨æˆ·ã€å°¤å…¶æ˜¯ä¸­è€å¹´ç¾¤ä½“çš„ä¸€ä»½æŠ€æœ¯æ¸©åº¦ã€‚</p>
<h3 data-id="heading-2">äº§å“å±•ç¤º</h3>
<p>è¿›å…¥åˆ°é¦–é¡µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47e7a14b75f1439083488ea78b17a894~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=yx4Sk7AX3aY32Q%2Fe9rGZhh1REvs%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆè¦è®¾ç½®GLMå¯†é’¥ï¼Œæ‰èƒ½ä½¿ç”¨åç»­çš„GLM4.6å’ŒGLM4.5VæœåŠ¡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0aa07e165364b1ba45b87781a708491~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=ipMj7qYkp7ie2q%2Fkl9Pk9FafK1Y%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæˆ‘ä»¬å°†è¿™ä¸ªç—…ä¾‹å•ä¸Šä¼ åˆ°åº”ç”¨ä¸­</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3098677e7f8d41db9ded2683052efea8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=2Mm7DP5KH0NptXp6KZSGNvTDnA8%3D" alt="" loading="lazy"/></p>
<p>GLM4.5Vå¼€å§‹è¯†åˆ«å›¾ç‰‡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/873e91b30c514d46866bd3fbfd732672~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=z9yDAr4Bgz5TKUQ1F9l1shaMiAA%3D" alt="" loading="lazy"/></p>
<p>è¯†åˆ«å®Œæ¯•ä¹‹åè¿˜ä¼šå¯¹åŸæœ‰çš„å†…å®¹è¿›è¡Œä¸€ä¸ªç»“æ„åŒ–çš„å†…å®¹è¾“å‡º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b65b001db12a4a7baabd22cb7fadfbf4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Y9%2Foq2Hcv3CJ9%2B7jv4ruU4cpOn4%3D" alt="" loading="lazy"/>ç‚¹å‡»ç»§ç»­ç¿»è¯‘ç›´æ¥è·³è½¬åˆ°æ–‡æœ¬ç¿»è¯‘ä¸­ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿå¯ä»¥è‡ªå·±è¾“å…¥å†…å®¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc4f4ec38da641b59d90ead8a7b1b20f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=ZkkeNfPU5C1ZEkGj958ziUu%2BIS4%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»å¼€å§‹ç¿»è¯‘ä¼šå°±å°†æ™¦æ¶©éš¾æ‡‚çš„å†…å®¹ç»™ç¿»è¯‘æˆé€šä¿—æ˜“æ‡‚çš„å†…å®¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ba38b51ac964a7e89d342c866e9960c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=5qdMAKVxCVJZJU2lLbM87h3cFBg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db7b9f959f844d278c564d080302c064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=%2FocLrEyecJvfyWe9Qrdqi72K4DQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1491d193689a4052a356e262937d9d3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=c6DvHYwIg%2FeSGOB%2F0Wm1FqrJfPk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h3>
<p>åœ¨å½“ä»ŠåŒ»ç–—å¥åº·é¢†åŸŸï¼ŒåŒ»æ‚£æ²Ÿé€šä¸ç•…å·²æˆä¸ºæ™®éé—®é¢˜ã€‚æ‚£è€…é¢å¯¹æ£€æŸ¥æŠ¥å‘Šä¸­çš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­å¦‚"ä½å¯†åº¦è„‚è›‹ç™½èƒ†å›ºé†‡"ã€"Cååº”è›‹ç™½"ç­‰æ—¶ï¼Œå¾€å¾€éš¾ä»¥ç†è§£ï¼Œè¿™ç§ä¿¡æ¯ä¸å¯¹ç§°ä¸ä»…å½±å“å¥åº·ç®¡ç†å†³ç­–ï¼Œè¿˜å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„ç„¦è™‘å’Œå»¶è¯¯æ²»ç–—ã€‚</p>
<p>æ®ç»Ÿè®¡ï¼Œè¶…è¿‡60%çš„æ‚£è€…æ— æ³•å‡†ç¡®ç†è§£åŒ»ç–—æŠ¥å‘Šä¸­çš„å…³é”®æŒ‡æ ‡ï¼Œçº¦40%çš„æ‚£è€…å› æ­¤å»¶è¯¯å¿…è¦åŒ»ç–—å¹²é¢„ã€‚ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆå¦‚åŒ»ç”Ÿå£å¤´è§£é‡Šæˆ–åœ¨çº¿æŸ¥è¯¢ï¼Œå­˜åœ¨æ—¶æ•ˆæ€§å·®ã€ä¸ªæ€§åŒ–ä¸è¶³ç­‰é—®é¢˜ï¼Œå°¤å…¶åœ¨åŒ»ç–—èµ„æºç´§å¼ çš„æƒ…å†µä¸‹éš¾ä»¥æ»¡è¶³éœ€æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1287119c3dbe4feeb7e36d513f53c3c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=BoTLRyWdtRNnpMy0IiIVBgqYenw%3D" alt="" loading="lazy"/></p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„çªç ´ï¼ŒAIä¸ºè§£å†³è¿™ä¸€ç—›ç‚¹æä¾›äº†æ–°å¯èƒ½ã€‚æœ¬é¡¹ç›®æ—¨åœ¨æ„å»ºæ™ºèƒ½åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ï¼Œé€šè¿‡å…ˆè¿›AIæ¨¡å‹å°†ä¸“ä¸šåŒ»å­¦æœ¯è¯­è½¬åŒ–ä¸ºç”Ÿæ´»åŒ–è¯­è¨€ï¼Œä¸ºæ‚£è€…æä¾›å³æ—¶ã€å‡†ç¡®ã€æ˜“æ‡‚çš„æŠ¥å‘Šè§£è¯»æœåŠ¡ï¼Œè®©ä¸“ä¸šåŒ»å­¦çŸ¥è¯†å˜å¾—è§¦æ‰‹å¯åŠã€‚</p>
<h3 data-id="heading-4">KAT-Coder</h3>
<p>KAT-Coderå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.streamlake.com%2Fproduct%2Fkat-coder" target="_blank" title="https://www.streamlake.com/product/kat-coder" ref="nofollow noopener noreferrer">www.streamlake.com/product/katâ€¦</a></p>
<p>KAT-Coder-Pro-V1æ˜¯å¿«æ‰‹æ——ä¸‹StreamLakeå¹³å°æ¨å‡ºçš„ä¸€æ¬¾é¡¶çº§ç¼–ç AIåŠ©æ‰‹ï¼Œä»£è¡¨äº†å½“å‰AIç¼–ç¨‹é¢†åŸŸçš„æœ€å…ˆè¿›æ°´å¹³ã€‚ è¯¥æ¨¡å‹åœ¨SWE-Benchè¯„æµ‹ä¸­è·å¾—äº†73.4%çš„è§£å†³ç‡ï¼Œè¿™ä¸€æˆç»©ç”šè‡³è¶…è¿‡äº†GPT-5å’ŒClaude Sonnet 4ç­‰å›½é™…çŸ¥åæ¨¡å‹ï¼Œå±•ç¤ºäº†å…¶åœ¨å¤æ‚ä»»åŠ¡å¤„ç†æ–¹é¢çš„å“è¶Šèƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d701028af128490bb0729e7570522077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=UF7XJ460gm7kRXVfST6SZPrT1ew%3D" alt="" loading="lazy"/></p>
<p>KAT-Coder-Pro-V1çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶å…ˆè¿›çš„æ™ºèƒ½ä»£ç†èƒ½åŠ›ã€‚è¯¥æ¨¡å‹æ”¯æŒå¤šå·¥å…·å¹¶è¡Œè°ƒç”¨ï¼Œèƒ½å¤Ÿè‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡ï¼Œè¿™ç§èƒ½åŠ›å¯¹äºæ„å»ºåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜è¿™æ ·éœ€è¦å¤šæ­¥éª¤å¤„ç†çš„åº”ç”¨è‡³å…³é‡è¦ã€‚ åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒKAT-Coder-Pro-V1ç”Ÿæˆçš„ä»£ç ä¸ä»…å¯ä»¥ç›´æ¥è¿è¡Œï¼Œè¿˜å±•ç°å‡ºè¾ƒä¸ºæˆç†Ÿçš„å·¥ç¨‹åŒ–æ°´å¹³ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢è®¾è®¡ã€å†…ç½®åº”ç”¨é›†æˆç­‰ï¼Œè¿™ä¸ºå¿«é€Ÿæ„å»ºå®Œæ•´çš„åŒ»ç–—åº”ç”¨æä¾›äº†å¼ºå¤§æ”¯æŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ea1809806384acab79a91d047e56c0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Db3hznXcPm%2F3BqpcGBOyc%2B5Mv1s%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">Trae</h3>
<p>Traeå®˜ç½‘ï¼š<a href="https://www.trae.ai/" target="_blank" title="https://www.trae.ai/" ref="nofollow noopener noreferrer">www.trae.ai/</a></p>
<p>Traeæ˜¯ç”±å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ä¸€æ¬¾AIé©±åŠ¨çš„æ™ºèƒ½é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œæ—¨åœ¨é€šè¿‡äººå·¥æ™ºèƒ½æŠ€æœ¯æ˜¾è‘—æå‡è½¯ä»¶å¼€å‘æ•ˆç‡ã€‚ ä½œä¸ºä¸€æ¬¾ç°ä»£åŒ–çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼ŒTraeä¸ä»…æ”¯æŒä¸»æµçš„AIæ¨¡å‹å¦‚Anthropicå’ŒOpenAIï¼Œè¿˜æä¾›äº†å¼ºå¤§çš„è‡ªå®šä¹‰æ¨¡å‹é›†æˆèƒ½åŠ›ï¼Œè¿™ä½¿å…¶æˆä¸ºæ„å»ºä¸“ä¸šé¢†åŸŸAIåº”ç”¨çš„ç†æƒ³å¹³å°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c64605228e844f1b4155a5659f79f1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=yRK0rkYy%2BQatTqbWVndqdb1sFFI%3D" alt="" loading="lazy"/></p>
<p>Traeå¯¹OpenRouterç­‰å¼€æ”¾å¹³å°çš„æ”¯æŒï¼Œè¿™ä¸ºå¼€å‘è€…æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©å’Œé›†æˆæœ€é€‚åˆçš„AIæ¨¡å‹ã€‚ åŒæ—¶ï¼Œç¤¾åŒºæ­£åœ¨ç§¯ææ¨åŠ¨å¯¹è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡å•†base_urlçš„æ”¯æŒèƒ½åŠ›ï¼Œè¿™å°†è¿›ä¸€æ­¥å¢å¼ºTraeåœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„é€‚åº”æ€§ã€‚è¿™äº›ç‰¹æ€§ä½¿å¾—Traeæˆä¸ºè¿æ¥è‡ªå®šä¹‰AIæ¨¡å‹ï¼ˆå¦‚KAT-Coder-Pro-V1ï¼‰ä¸ä¸“ä¸šåº”ç”¨åœºæ™¯ï¼ˆå¦‚åŒ»ç–—æŠ¥å‘Šç¿»è¯‘ï¼‰çš„ç†æƒ³æ¡¥æ¢ï¼Œä¸ºæˆ‘ä»¬çš„é¡¹ç›®æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12a7ba79f1894defa4a8035f452bfb61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=2dRomH3ncH51%2BXiOvQApT%2FxNhX4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">Traeæ¥å…¥è‡ªå®šä¹‰æ¨¡å‹KAT-Coder</h3>
<p>å®˜æ–¹æ–‡æ¡£å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKXSRoBaME_Wvv2wlRZ_FaA" target="_blank" title="https://mp.weixin.qq.com/s/KXSRoBaME_Wvv2wlRZ_FaA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/KXSRoBaMEâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f08abee52b174284bd2e2eed7afb06bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=kGMrgH1HX7H%2FZq%2F9QOa8xYb3224%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">è·å–API Key</h4>
<p>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnovita.ai%2Fsettings%2Fkey-management" target="_blank" title="https://novita.ai/settings/key-management" ref="nofollow noopener noreferrer">novita.ai/settings/keâ€¦</a>novita.aiæœåŠ¡å•†ç‚¹å‡»å¯†é’¥ç®¡ç†</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0a2577f207a4cbcbcd21e79d40003b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=etaQg8ggsNNuuSD%2FiTWlOZk5BsM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">æ¥å…¥Trae</h4>
<p>Traeä¸­ç‚¹å‡»ã€è®¾ç½®ã€‘-ã€æ¨¡å‹ã€‘-ã€è‡ªå®šä¹‰æ¨¡å‹ã€‘</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ad7b15e4334447a8dbdadc5f935e0d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=xe2aiiMQTw%2BnJXe7lNC303vEmZg%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©novita.aiæœåŠ¡å•†ï¼Œæ¨¡å‹è¾“å…¥kat-coderï¼Œå¯†é’¥å°±æ˜¯åˆšåˆšåˆ›å»ºçš„å¯†é’¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8128fe0fb5414c0bb7d4003fba84fea7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=iurHxI5cnV2otKA10Hjne5RE2XE%3D" alt="" loading="lazy"/></p>
<p>è‡ªå®šä¹‰æ¨¡å‹kat-coderåŠ å…¥æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a9dc43699c442d9b7066bc8eedc273e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=VMz91FWxkvwvFeSa8wUZzCMQuVc%3D" alt="" loading="lazy"/></p>
<p>åœ¨å¯¹è¯ä¸­é€‰æ‹©Kat-coder</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffd741ad816d4dab92a04e487229e52a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=mMlaZn%2F9%2FCt%2BBDsKrTHyy9IyI3c%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">æ™ºè°±å¤§æ¨¡å‹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">æ™ºè°±AI</a>ï¼ˆZhipu AIï¼‰æ˜¯ä¸­å›½é¢†å…ˆçš„å¤§æ¨¡å‹æŠ€æœ¯å…¬å¸ï¼Œè‡´åŠ›äºæ¨åŠ¨é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰çš„å‘å±•ã€‚å…¶è‡ªä¸»ç ”å‘çš„GLMï¼ˆGeneral Language Modelï¼‰ç³»åˆ—å¤§æ¨¡å‹ï¼Œå‡­å€Ÿå¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ã€å¤šæ¨¡æ€èåˆèƒ½åŠ›ä»¥åŠé«˜æ•ˆçš„æ¨ç†æ€§èƒ½ï¼Œå·²åœ¨å­¦æœ¯ç•Œå’Œäº§ä¸šç•Œè·å¾—å¹¿æ³›è®¤å¯ã€‚</p>
<p>åœ¨åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨GLM-4.6ä¸GLM-4.5VåŒæ¨¡å‹ååŒæ¶æ„ï¼Œåˆ†åˆ«è´Ÿè´£è¯­è¨€ç†è§£å’Œè§†è§‰è¯†åˆ«ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/246130590e974d9da4d7e948b3d61096~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=RCq4HwHS%2B5Mtca1T0FJ3EftBh88%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6ä½œä¸ºæ™ºè°±AIçš„æ——èˆ°è¯­è¨€æ¨¡å‹ï¼Œé‡‡ç”¨355Bå‚æ•°çš„æ··åˆä¸“å®¶æ¶æ„ï¼Œæ‹¥æœ‰200Kè¶…é•¿ä¸Šä¸‹æ–‡å¤„ç†èƒ½åŠ›ï¼Œç¨³å±…å›½å†…æ¨¡å‹æ€§èƒ½æ¦œé¦–ã€‚ è¯¥æ¨¡å‹åœ¨å·¥å…·ä½¿ç”¨å’Œä»£ç†ä»»åŠ¡æ–¹é¢è¡¨ç°å“è¶Šï¼Œèƒ½é«˜æ•ˆé›†æˆåˆ°å¤æ‚çš„å·¥ä½œæµä¸­ï¼Œç‰¹åˆ«é€‚åˆå°†ä¸“ä¸šåŒ»ç–—æœ¯è¯­è½¬åŒ–ä¸ºç”Ÿæ´»åŒ–è¡¨è¾¾ã€‚ å…¶tokenæ¶ˆè€—æ¯”å‰ä»£é™ä½30%ï¼Œä¸ºå®æ—¶äº¤äº’æä¾›äº†æˆæœ¬æ•ˆç›Šä¿éšœã€‚</p>
<p>GLM-4.5Våˆ™æ˜¯ä¸“ä¸ºè§†è§‰ä»»åŠ¡è®¾è®¡çš„å¼€æºå¤šæ¨¡æ€æ¨¡å‹ï¼Œåœ¨42ä¸ªè§†è§‰è¯­è¨€åŸºå‡†æµ‹è¯•ä¸­è¡¨ç°ä¼˜å¼‚ã€‚ è¯¥æ¨¡å‹å…·å¤‡å¼ºå¤§çš„OCRèƒ½åŠ›ï¼Œèƒ½å¤Ÿç²¾å‡†æå–åŒ»ç–—æŠ¥å‘Šå›¾åƒä¸­çš„æ–‡å­—å†…å®¹ï¼ŒåŒ…æ‹¬å¤æ‚çš„åŒ»å­¦å›¾è¡¨å’Œæ‰‹å†™ä½“ã€‚ åœ¨åŒ»ç–—å½±åƒåˆ†ææ–¹é¢ï¼ŒGLM-4.5Vèƒ½ç²¾ç¡®å®šä½å›¾åƒä¸­çš„å…³é”®å…ƒç´ ï¼Œä¸ºåç»­çš„è¯­è¨€è§£é‡Šæä¾›å‡†ç¡®çš„è§†è§‰è¾“å…¥ã€‚</p>
<p>åŒæ¨¡å‹ååŒå·¥ä½œæµç¨‹ä¸ºï¼šGLM-4.5Vè´Ÿè´£å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„çº¸è´¨æˆ–ç”µå­æŠ¥å‘Šå›¾ç‰‡ï¼Œé€šè¿‡OCRæŠ€æœ¯æå–æ–‡æœ¬å†…å®¹ï¼›GLM-4.6åˆ™æ¥æ”¶æå–çš„æ–‡æœ¬ï¼Œå°†ä¸“ä¸šåŒ»å­¦æœ¯è¯­è½¬åŒ–ä¸ºé€šä¿—æ˜“æ‡‚çš„æ—¥å¸¸è¡¨è¾¾ã€‚ è¿™ç§åˆ†å·¥æ¨¡å¼å……åˆ†å‘æŒ¥äº†å„è‡ªä¼˜åŠ¿ï¼Œç¡®ä¿ç³»ç»Ÿæ—¢èƒ½"çœ‹å¾—æ¸…"æŠ¥å‘Šå†…å®¹ï¼Œåˆèƒ½"è¯´å¾—æ‡‚"åŒ»å­¦å«ä¹‰ï¼Œä¸ºæ‚£è€…æä¾›æ— ç¼çš„åŒ»ç–—æŠ¥å‘Šè§£è¯»ä½“éªŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b7f27517345433ca1f70b2be2ee8ceb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=%2Fjo3WohWHAXYHt1KOQM44WKFkPY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">è·å–API KEY</h4>
<p>åœ¨æ™ºè°±AIå¼€æ”¾å¹³å°çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fusercenter%2Fproj-mgmt%2Fapikeys" target="_blank" title="https://www.bigmodel.cn/usercenter/proj-mgmt/apikeys" ref="nofollow noopener noreferrer">æ§åˆ¶å°</a>ä¸­ï¼Œå³å¯æ·»åŠ è´¦å·çš„API KEY</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8644bb20b9a348218f8d470ef90a821f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=YngpTsJ%2BPBv%2FePJnZyxnXdssrB8%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å®Œä¹‹åéœ€è¦ä½¿ç”¨çš„æ—¶å€™ç›´æ¥å¤åˆ¶API KEYå³å¯</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c844a16587443aebe38f8cfb4fc4f72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Jm0RQ6%2FYS89laq53BlSh6733KTY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-11">GLM-4.6</h4>
<p>æ™ºè°±æœ€æ–°æ——èˆ°ï¼Œä»£ç èƒ½åŠ›å…¨é¢å¯¹é½ Claude Sonnet 4ï¼Œæ˜¯å›½å†…æœ€å¥½çš„ç¼–ç¨‹æ¨¡å‹ã€‚åœ¨çœŸå®ç¼–ç¨‹ã€é•¿ä¸Šä¸‹æ–‡å¤„ç†ã€æ¨ç†èƒ½åŠ›ã€ä¿¡æ¯æœç´¢ã€å†™ä½œèƒ½åŠ›ä¸æ™ºèƒ½ä½“åº”ç”¨ç­‰å¤šä¸ªæ–¹é¢å®ç°å…¨é¢æå‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99b5860fe92f4e2f9a655f179c064cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=t4M7gUJDRaPlCkKqatau2kj%2BTK8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/141ad591f4b94e6a80806b8d0043a307~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=Ckh8JR0ahM3Ri%2BXMhaLsDaBUfBU%3D" alt="" loading="lazy"/></p>
<p>GLM-4.6è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-vbnet" lang="vbnet">curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
</code></pre>
<h4 data-id="heading-12">GLM-4.5V</h4>
<p>GLM-4.5V æ˜¯æ™ºè°±æ–°ä¸€ä»£åŸºäº MOE æ¶æ„çš„è§†è§‰æ¨ç†æ¨¡å‹ï¼Œä»¥ 106B çš„æ€»å‚æ•°é‡å’Œ 12B æ¿€æ´»å‚æ•°é‡ï¼Œåœ¨å„ç±»åŸºå‡†æµ‹è¯•ä¸­è¾¾åˆ°å…¨çƒåŒçº§åˆ«å¼€æºå¤šæ¨¡æ€æ¨¡å‹ SOTAï¼Œæ¶µç›–å›¾åƒã€è§†é¢‘ã€æ–‡æ¡£ç†è§£åŠ GUI ä»»åŠ¡ç­‰å¸¸è§ä»»åŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b85eec11df3425ca128370d4f9c8536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=fTLtcoDp3wjPiKTKI1w2M3xS%2Bb8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0a52341548740a58dceb6b1b33a0a0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=towuAW%2BYwiRNjbb23QXQkh%2FWpTU%3D" alt="" loading="lazy"/></p>
<p>è°ƒç”¨ç¤ºä¾‹</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -X POST \
  https:<span class="hljs-comment">//open.bigmodel.cn/api/paas/v4/chat/completions \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json" \
  -d '{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.5v"</span>,
    <span class="hljs-string">"messages"</span>: [
      {
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-string">"content"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
            <span class="hljs-string">"image_url"</span>: {
              <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://cloudcovert-1305175928.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87grounding.PNG"</span>
            }
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">"Where is the second bottle of beer from the right on the table?  Provide coordinates in [[xmin,ymin,xmax,ymax]] format"</span>
          }
        ]
      }
    ],
    <span class="hljs-string">"thinking"</span>: {
      <span class="hljs-string">"type"</span>:<span class="hljs-string">"enabled"</span>
    }
  }'
</code></pre>
<h3 data-id="heading-13">å¼€å‘å®è·µ</h3>
<h4 data-id="heading-14">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½å¼€å‘æç¤ºè¯å¹¶è¾“å…¥ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">æˆ‘è¦åšä¸€ä¸ªåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨ï¼Œç›®çš„æ˜¯è§£å†³ä¸­è€å¹´äººçœ‹ä¸æ‡‚çº¸è´¨ç—…ä¾‹ä¸Šçš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­
åŠŸèƒ½ï¼š
<span class="hljs-number">1</span>ã€è¯­è¨€äº¤äº’ï¼šè¾“å…¥æ£€æŸ¥æŠ¥å‘Šç»“è®ºï¼Œè°ƒç”¨GLM-<span class="hljs-number">4.6</span>ç”¨ç”Ÿæ´»åŒ–è¯­è¨€è§£é‡ŠæŒ‡æ ‡æ„ä¹‰ï¼Œä¹Ÿå°±æ˜¯è¯´å°†ç¹ççš„åŒ»ç–—æœ¯è¯­ç¿»è¯‘æˆæ™®é€šäººéƒ½èƒ½å¬å¾—æ‡‚çš„æ ·å­ï¼ˆå¦‚â€œä½å¯†åº¦è„‚è›‹ç™½=è¡€ç®¡åƒåœ¾è½¦â€ï¼‰ï¼Œç¿»è¯‘å‡ºçš„è¯­è¨€ç”¨ç²¾ç¾æŸ”å’Œçš„å¡ç‰‡é£æ ¼å±•ç¤ºã€‚
<span class="hljs-number">2</span>ã€è§†è§‰äº¤äº’ï¼šæ‹ç…§ä¸Šä¼ åŒ»é™¢çš„çº¸è´¨æŠ¥å‘Šå•æˆ–è€…ç”µå­æŠ¥å‘Šå•ï¼Œè°ƒç”¨GLM-<span class="hljs-number">4.5</span>Vè¯†åˆ«æ–‡å­—åï¼Œå†é‡å¤è¯­è¨€äº¤äº’çš„è¿‡ç¨‹
<span class="hljs-number">3</span>ã€GLMçš„å¯†é’¥å­˜æ”¾åœ¨localstorageä¸­ï¼Œæ¯æ¬¡è¿›å…¥é¡µé¢çš„æ—¶å€™éœ€è¦åœ¨è®¾ç½®ä¸­æ‰‹åŠ¨è¾“å…¥ï¼Œè®¾ç½®ä¸­åŒ…å«æµ‹è¯•é“¾æ¥çš„æŒ‰é’®
<span class="hljs-number">4</span>ã€æ•´ä½“ä»¥åŒ»ç–—æç®€é£æ ¼ï¼Œä½¿ç”¨ä½é¥±å’Œçš„è¾…åŠ©è‰²ï¼ˆå¦‚è“ã€ç»¿ï¼‰ï¼šè“è‰²ä»£è¡¨ä¿¡ä»»ä¸ç§‘æŠ€ï¼Œç»¿è‰²ä»£è¡¨å¥åº·ä¸å®‰å¿ƒï¼Œé¿å…ä½¿ç”¨çº¢è‰²ã€æ©™è‰²ç­‰åˆºæ¿€æ€§æš–è‰²
GLM4.<span class="hljs-number">6</span>æ¥å…¥ç¤ºä¾‹ï¼š
curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
    -H <span class="hljs-string">"Content-Type: application/json"</span> \
    -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
    -d <span class="hljs-comment">'{</span>
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
        <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½œä¸ºä¸€åè¥é”€ä¸“å®¶ï¼Œè¯·ä¸ºæˆ‘çš„äº§å“åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"å½“ç„¶ï¼Œè¦åˆ›ä½œä¸€ä¸ªå¸å¼•äººçš„å£å·ï¼Œè¯·å‘Šè¯‰æˆ‘ä¸€äº›å…³äºæ‚¨äº§å“çš„ä¿¡æ¯"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"æ™ºè°±AI å¼€æ”¾å¹³å°"</span>
        }
            ],
            <span class="hljs-string">"thinking"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"enabled"</span>
        },
            <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">65536</span>,
            <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>
        }<span class="hljs-comment">'</span>
GLM4.<span class="hljs-number">5</span>Væ¥å…¥ç¤ºä¾‹ï¼š
curl -X POST \
  https://open.bigmodel.cn/api/paas/v4/chat/completions \
  -H <span class="hljs-string">"Authorization: Bearer your-api-key"</span> \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-comment">'{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.5v"</span>,
    <span class="hljs-string">"messages"</span>: [
      {
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
        <span class="hljs-string">"content"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
            <span class="hljs-string">"image_url"</span>: {
              <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://cloudcovert-1305175928.cos.ap-guangzhou.myqcloud.com/%E5%9B%BE%E7%89%87grounding.PNG"</span>
            }
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">"Where is the second bottle of beer from the right on the table?  Provide coordinates in [[xmin,ymin,xmax,ymax]] format"</span>
          }
        ]
      }
    ],
    <span class="hljs-string">"thinking"</span>: {
      <span class="hljs-string">"type"</span>:<span class="hljs-string">"enabled"</span>
    }
  }<span class="hljs-comment">'</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7d384bb83af44a8b0116bcf350d2803~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=OMv4QHOG%2BcY5Sm7XWoXGNq7zzx0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">å¼€å‘æ–‡æ¡£</h4>
<p>æˆ‘ä¼šå…ˆè®©å…¶ç”Ÿæˆå¼€å‘æ–‡æ¡£ï¼Œè¿™æ ·ä¸ä¼šåœ¨åç»­çš„è¿‡ç¨‹ä¸­èµ°åæ–¹å‘ï¼Œä»¥ä¸‹æ˜¯æ–‡æ¡£çš„å…·ä½“å†…å®¹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## 1. äº§å“æ¦‚è¿°</span>
åŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜åº”ç”¨æ—¨åœ¨å¸®åŠ©ä¸­è€å¹´äººç†è§£çº¸è´¨ç—…å†ä¸Šçš„ä¸“ä¸šåŒ»å­¦æœ¯è¯­ï¼Œå°†å¤æ‚çš„åŒ»ç–—æŠ¥å‘Šè½¬åŒ–ä¸ºé€šä¿—æ˜“æ‡‚çš„ç”Ÿæ´»åŒ–è¯­è¨€ã€‚

é€šè¿‡AIæŠ€æœ¯å°†åŒ»ç–—æœ¯è¯­ç¿»è¯‘æˆå½¢è±¡çš„æ¯”å–»ï¼ˆå¦‚"ä½å¯†åº¦è„‚è›‹ç™½=è¡€ç®¡åƒåœ¾è½¦"ï¼‰ï¼Œè®©æ™®é€šç”¨æˆ·èƒ½å¤Ÿè½»æ¾ç†è§£è‡ªå·±çš„å¥åº·çŠ¶å†µã€‚

<span class="hljs-section">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-section">### 2.1 ç”¨æˆ·è§’è‰²</span>
| è§’è‰² | æ³¨å†Œæ–¹å¼ | æ ¸å¿ƒæƒé™ |
|------|----------|----------|
| æ™®é€šç”¨æˆ· | æ— éœ€æ³¨å†Œï¼Œç›´æ¥ä½¿ç”¨ | æ–‡æœ¬è¾“å…¥ç¿»è¯‘ã€å›¾ç‰‡ä¸Šä¼ è¯†åˆ«ã€APIå¯†é’¥è®¾ç½® |

<span class="hljs-section">### 2.2 åŠŸèƒ½æ¨¡å—</span>
åº”ç”¨åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š
<span class="hljs-bullet">1.</span> <span class="hljs-strong">**é¦–é¡µ**</span>ï¼šåŠŸèƒ½é€‰æ‹©ã€ä½¿ç”¨å¼•å¯¼ã€æœ€è¿‘ç¿»è¯‘è®°å½•
<span class="hljs-bullet">2.</span> <span class="hljs-strong">**æ–‡æœ¬ç¿»è¯‘é¡µ**</span>ï¼šåŒ»ç–—æœ¯è¯­è¾“å…¥ã€ç¿»è¯‘ç»“æœå±•ç¤ºã€æ”¶è—åŠŸèƒ½
<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å›¾ç‰‡è¯†åˆ«é¡µ**</span>ï¼šæ‹ç…§ä¸Šä¼ ã€å›¾ç‰‡é¢„è§ˆã€è¯†åˆ«ç»“æœå±•ç¤º
<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è®¾ç½®é¡µ**</span>ï¼šAPIå¯†é’¥è¾“å…¥ã€æµ‹è¯•è¿æ¥ã€ä½¿ç”¨è¯´æ˜

<span class="hljs-section">### 2.3 é¡µé¢è¯¦æƒ…</span>
| é¡µé¢åç§° | æ¨¡å—åç§° | åŠŸèƒ½æè¿° |
|-----------|-------------|-------------|
| é¦–é¡µ | åŠŸèƒ½é€‰æ‹©åŒº | æ˜¾ç¤ºæ–‡æœ¬ç¿»è¯‘å’Œå›¾ç‰‡è¯†åˆ«ä¸¤ä¸ªä¸»è¦åŠŸèƒ½å…¥å£ï¼Œä½¿ç”¨å¤§å›¾æ ‡å’Œç®€æ´æ–‡å­—è¯´æ˜ |
| é¦–é¡µ | ä½¿ç”¨å¼•å¯¼ | å±•ç¤ºåº”ç”¨ä½¿ç”¨æ­¥éª¤ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹ |
| é¦–é¡µ | æœ€è¿‘è®°å½• | æ˜¾ç¤ºæœ€è¿‘5æ¡ç¿»è¯‘è®°å½•ï¼Œç‚¹å‡»å¯æŸ¥çœ‹è¯¦æƒ… |
| æ–‡æœ¬ç¿»è¯‘é¡µ | è¾“å…¥åŒºåŸŸ | å¤šè¡Œæ–‡æœ¬æ¡†è¾“å…¥åŒ»ç–—æŠ¥å‘Šç»“è®ºï¼Œæ”¯æŒç²˜è´´å’Œæ¸…ç©ºæ“ä½œ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç¿»è¯‘æŒ‰é’® | è°ƒç”¨GLM-4.6 APIè¿›è¡Œç¿»è¯‘ï¼Œæ˜¾ç¤ºåŠ è½½çŠ¶æ€ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç»“æœå±•ç¤º | ç²¾ç¾å¡ç‰‡å±•ç¤ºç¿»è¯‘ç»“æœï¼ŒåŒ…å«åŸæ–‡å’Œé€šä¿—è§£é‡Š |
| æ–‡æœ¬ç¿»è¯‘é¡µ | æ”¶è—åŠŸèƒ½ | æ”¯æŒæ”¶è—å¸¸ç”¨ç¿»è¯‘ç»“æœï¼Œæœ¬åœ°å­˜å‚¨ |
| å›¾ç‰‡è¯†åˆ«é¡µ | æ‹ç…§ä¸Šä¼  | æ”¯æŒæ‹ç…§å’Œä»ç›¸å†Œé€‰æ‹©ï¼Œå›¾ç‰‡å‹ç¼©å’Œé¢„è§ˆ |
| å›¾ç‰‡è¯†åˆ«é¡µ | è¯†åˆ«è¿‡ç¨‹ | æ˜¾ç¤ºè¯†åˆ«è¿›åº¦ï¼Œè°ƒç”¨GLM-4.5V APIæå–æ–‡å­— |
| å›¾ç‰‡è¯†åˆ«é¡µ | ç»“æœç¡®è®¤ | å±•ç¤ºè¯†åˆ«çš„æ–‡å­—å†…å®¹ï¼Œç”¨æˆ·å¯ç¼–è¾‘ä¿®æ­£ |
| å›¾ç‰‡è¯†åˆ«é¡µ | ç¿»è¯‘è·³è½¬ | è¯†åˆ«å®Œæˆåè·³è½¬åˆ°æ–‡æœ¬ç¿»è¯‘é¡µç»§ç»­ç¿»è¯‘ |
| è®¾ç½®é¡µ | APIå¯†é’¥è®¾ç½® | è¾“å…¥GLM APIå¯†é’¥ï¼Œæœ¬åœ°å­˜å‚¨åœ¨localStorage |
| è®¾ç½®é¡µ | è¿æ¥æµ‹è¯• | æµ‹è¯•APIè¿æ¥çŠ¶æ€ï¼Œæ˜¾ç¤ºæˆåŠŸæˆ–å¤±è´¥æç¤º |
| è®¾ç½®é¡µ | ä½¿ç”¨è¯´æ˜ | è¯¦ç»†çš„åº”ç”¨ä½¿ç”¨æŒ‡å—å’Œæ³¨æ„äº‹é¡¹ |

<span class="hljs-section">## 3. æ ¸å¿ƒæµç¨‹</span>

<span class="hljs-section">### æ–‡æœ¬ç¿»è¯‘æµç¨‹</span>
<span class="hljs-bullet">1.</span> ç”¨æˆ·åœ¨æ–‡æœ¬ç¿»è¯‘é¡µè¾“å…¥åŒ»ç–—æŠ¥å‘Šç»“è®º
<span class="hljs-bullet">2.</span> ç‚¹å‡»ç¿»è¯‘æŒ‰é’®ï¼Œè°ƒç”¨GLM-4.6 API
<span class="hljs-bullet">3.</span> APIè¿”å›ç”Ÿæ´»åŒ–è¯­è¨€è§£é‡Š
<span class="hljs-bullet">4.</span> ä»¥ç²¾ç¾å¡ç‰‡å½¢å¼å±•ç¤ºç¿»è¯‘ç»“æœ
<span class="hljs-bullet">5.</span> ç”¨æˆ·å¯é€‰æ‹©æ”¶è—æˆ–åˆ†äº«

<span class="hljs-section">### å›¾ç‰‡è¯†åˆ«ç¿»è¯‘æµç¨‹</span>
<span class="hljs-bullet">1.</span> ç”¨æˆ·åœ¨å›¾ç‰‡è¯†åˆ«é¡µæ‹ç…§æˆ–é€‰æ‹©å›¾ç‰‡
<span class="hljs-bullet">2.</span> å›¾ç‰‡é¢„è§ˆå’Œå‹ç¼©å¤„ç†
<span class="hljs-bullet">3.</span> è°ƒç”¨GLM-4.5V APIè¯†åˆ«å›¾ç‰‡ä¸­çš„æ–‡å­—
<span class="hljs-bullet">4.</span> å±•ç¤ºè¯†åˆ«ç»“æœï¼Œç”¨æˆ·å¯ç¼–è¾‘ä¿®æ­£
<span class="hljs-bullet">5.</span> å°†ä¿®æ­£åçš„æ–‡æœ¬å‘é€åˆ°æ–‡æœ¬ç¿»è¯‘æµç¨‹

<span class="hljs-code">```mermaid
graph TD
    A[é¦–é¡µ] --&gt; B[æ–‡æœ¬ç¿»è¯‘é¡µ]
    A --&gt; C[å›¾ç‰‡è¯†åˆ«é¡µ]
    C --&gt; D[å›¾ç‰‡é¢„è§ˆ]
    D --&gt; E[æ–‡å­—è¯†åˆ«]
    E --&gt; F[è¯†åˆ«ç»“æœç¡®è®¤]
    F --&gt; B
    B --&gt; G[ç¿»è¯‘ç»“æœå±•ç¤º]
    A --&gt; H[è®¾ç½®é¡µ]
    H --&gt; I[APIå¯†é’¥é…ç½®]
    I --&gt; J[è¿æ¥æµ‹è¯•]
```</span>

<span class="hljs-section">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-section">### 4.1 è®¾è®¡é£æ ¼</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä¸»è‰²è°ƒ**</span>ï¼šä½é¥±å’Œåº¦è“è‰² (#4A90E2) - ä»£è¡¨ä¿¡ä»»ä¸ç§‘æŠ€
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¾…åŠ©è‰²**</span>ï¼šä½é¥±å’Œåº¦ç»¿è‰² (#7ED321) - ä»£è¡¨å¥åº·ä¸å®‰å¿ƒ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**èƒŒæ™¯è‰²**</span>ï¼šæµ…ç°è‰² (#F5F7FA) - è¥é€ åŒ»ç–—ä¸“ä¸šæ„Ÿ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æŒ‰é’®æ ·å¼**</span>ï¼šåœ†è§’çŸ©å½¢ï¼ŒæŸ”å’Œé˜´å½±ï¼Œæ‚¬åœæ•ˆæœ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å­—ä½“**</span>ï¼šæ€æºé»‘ä½“ï¼Œä¸»æ ‡é¢˜18pxï¼Œæ­£æ–‡14pxï¼Œå°å­—12px
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¸ƒå±€é£æ ¼**</span>ï¼šå¡ç‰‡å¼å¸ƒå±€ï¼Œå¤§é—´è·ï¼Œç®€æ´æ˜äº†
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å›¾æ ‡é£æ ¼**</span>ï¼šçº¿æ€§å›¾æ ‡ï¼Œç®€æ´æ˜“æ‡‚

<span class="hljs-section">### 4.2 é¡µé¢è®¾è®¡æ¦‚è¿°</span>
| é¡µé¢åç§° | æ¨¡å—åç§° | UIå…ƒç´  |
|-----------|-------------|-------------|
| é¦–é¡µ | åŠŸèƒ½é€‰æ‹©åŒº | ä¸¤ä¸ªå¤§åœ†å½¢æŒ‰é’®ï¼Œè“è‰²å’Œç»¿è‰²æ¸å˜ï¼Œä¸­å¤®æ”¾ç½®å›¾æ ‡å’Œæ–‡å­—ï¼ŒæŒ‰é’®é—´è·å……è¶³ |
| é¦–é¡µ | ä½¿ç”¨å¼•å¯¼ | ä¸‰æ­¥æµç¨‹å›¾ï¼Œä½¿ç”¨æŸ”å’Œçš„ç»¿è‰²è¿æ¥çº¿ï¼Œæ¯æ­¥é…æœ‰ç®€æ´å›¾æ ‡ |
| é¦–é¡µ | æœ€è¿‘è®°å½• | ç™½è‰²å¡ç‰‡åˆ—è¡¨ï¼Œæ˜¾ç¤ºåŸæ–‡æ‘˜è¦å’Œç¿»è¯‘æ—¶é—´ï¼Œå³ä¾§ç®­å¤´æŒ‡ç¤º |
| æ–‡æœ¬ç¿»è¯‘é¡µ | è¾“å…¥åŒºåŸŸ | æµ…è“è‰²è¾¹æ¡†çš„æ–‡æœ¬åŸŸï¼Œåœ†è§’è®¾è®¡ï¼Œæ”¯æŒè‡ªåŠ¨é«˜åº¦è°ƒæ•´ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç¿»è¯‘æŒ‰é’® | ç»¿è‰²æ¸å˜æŒ‰é’®ï¼Œåœ†å½¢è®¾è®¡ï¼ŒåŒ…å«ç¿»è¯‘å›¾æ ‡ |
| æ–‡æœ¬ç¿»è¯‘é¡µ | ç»“æœå±•ç¤º | ç²¾ç¾çš„ç™½è‰²å¡ç‰‡ï¼Œè“è‰²æ ‡é¢˜æ ï¼Œå†…éƒ¨å±•ç¤ºé€šä¿—è§£é‡Šï¼Œåº•éƒ¨æ“ä½œæŒ‰é’® |
| å›¾ç‰‡è¯†åˆ«é¡µ | æ‹ç…§åŒºåŸŸ | è™šçº¿è¾¹æ¡†çš„ä¸Šä¼ åŒºåŸŸï¼Œä¸­å¤®ç›¸æœºå›¾æ ‡ï¼Œæ”¯æŒæ‹–æ‹½ä¸Šä¼  |
| å›¾ç‰‡è¯†åˆ«é¡µ | å›¾ç‰‡é¢„è§ˆ | åœ†è§’å›¾ç‰‡å±•ç¤ºï¼Œæ”¯æŒç¼©æ”¾å’Œæ—‹è½¬ï¼Œåº•éƒ¨æ“ä½œæ  |
| è®¾ç½®é¡µ | APIè¾“å…¥ | å®‰å…¨çš„å¯†ç è¾“å…¥æ¡†ï¼Œæ˜¾ç¤º/éšè—åˆ‡æ¢æŒ‰é’®ï¼Œæµ‹è¯•æŒ‰é’® |

<span class="hljs-section">### 4.3 å“åº”å¼è®¾è®¡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ¡Œé¢ä¼˜å…ˆ**</span>ï¼šä¸»è¦é¢å‘å¹³æ¿å’Œæ‰‹æœºä½¿ç”¨ï¼Œé‡‡ç”¨å“åº”å¼è®¾è®¡
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–­ç‚¹è®¾ç½®**</span>ï¼š768pxï¼ˆå¹³æ¿ï¼‰ã€1024pxï¼ˆæ¡Œé¢ï¼‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**è§¦æ‘¸ä¼˜åŒ–**</span>ï¼šæŒ‰é’®å°ºå¯¸æœ€å°44pxï¼Œæ”¯æŒæ‰‹åŠ¿æ“ä½œ
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å­—ä½“é€‚é…**</span>ï¼šæ ¹æ®å±å¹•å¤§å°è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°
</code></pre>
<h4 data-id="heading-16">å¼€å‘äº¤äº’</h4>
<p>å¼€å§‹ç”Ÿæˆä¹‹åå¯ä»¥åœ¨æ§åˆ¶å°å®æ—¶ç›‘æ§</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39136e590790407290e6078698c513c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=cqs53ZlCs3vpkJo%2B3KH9j6e4vYE%3D" alt="" loading="lazy"/></p>
<p>ä¸ä¸€ä¼šå°±ç”Ÿæˆæˆäº†ä¸€æ•´ä¸ªå®Œæ•´çš„é¡¹ç›®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cec5b6f58deb444db992dfebc7c9a0cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=TuCpiKBwI8PPLIA8RxhsCXSXHzY%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”ä¹Ÿæ˜¯åœ¨æœ¬åœ°å¯åŠ¨äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡æµ‹è¯•ï¼Œå¹¶ä¸”ä¸æ–­çš„ç»™å‡ºåé¦ˆï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90e406b4226b41688f3d2cfe373ed18c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=8l51YhqFF9511aZ421U4LgF3bzA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee887db02a4346bb842e105ad7daae0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=lou%2Bl2hjJncm1HSbfJpjvEVRCyY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebd394f5153a405fbdfb5a2f2716d87d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=4ADOxtHGauUpfB9NyVHsnetXoMs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68ccc461859e4b6d9ad59540ec620ca7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976273&amp;x-signature=6jp54cbJAoupW2fDkv%2FpuLrEsoQ%3D" alt="" loading="lazy"/></p>
<p>é‡å¤å‡ æ¬¡ä¹‹åå°±ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œæ¥ä¸‹æ¥å°±æ˜¯éƒ¨ç½²ä¸Šçº¿~</p>
<h4 data-id="heading-17">æ€»ç»“</h4>
<p>æœ¬æ–‡ç³»ç»Ÿä»‹ç»äº†â€œåŒ»ç–—æŠ¥å‘Šç¿»è¯‘å®˜â€åº”ç”¨çš„å¼€å‘å…¨æµç¨‹ï¼Œèšç„¦äºè§£å†³ä¸­è€å¹´äººéš¾ä»¥ç†è§£ä¸“ä¸šåŒ»ç–—æœ¯è¯­çš„æ ¸å¿ƒç—›ç‚¹ã€‚é¡¹ç›®åŸºäº<strong>Trae IDE</strong>ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œé›†æˆ<strong>KAT-Coder</strong>ï¼ˆç”±å¿«æ‰‹StreamLakeæä¾›ï¼‰å®ç°é«˜æ•ˆä»£ç ç”Ÿæˆä¸å·¥ç¨‹åŒ–èƒ½åŠ›ï¼Œå¹¶ç»“åˆ<strong>æ™ºè°±AI</strong>çš„åŒæ¨¡å‹æ¶æ„â€”â€”<strong>GLM-4.6</strong>ï¼ˆè´Ÿè´£è‡ªç„¶è¯­è¨€ç†è§£ä¸é€šä¿—åŒ–ç¿»è¯‘ï¼‰ä¸<strong>GLM-4.5V</strong>ï¼ˆè´Ÿè´£åŒ»ç–—æŠ¥å‘Šå›¾åƒçš„OCRè¯†åˆ«ä¸ç»“æ„åŒ–æå–ï¼‰â€”â€”æ„å»ºç«¯åˆ°ç«¯çš„æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿã€‚åº”ç”¨æ”¯æŒæ–‡æœ¬è¾“å…¥ä¸å›¾ç‰‡ä¸Šä¼ ä¸¤ç§äº¤äº’æ¨¡å¼ï¼Œé‡‡ç”¨åŒ»ç–—å‹å¥½å‹UIè®¾è®¡ï¼Œå¼ºè°ƒä½é¥±å’Œè“ç»¿è‰²è°ƒä¸å¡ç‰‡å¼å¸ƒå±€ï¼Œæ³¨é‡å¯ç”¨æ€§ä¸æƒ…æ„Ÿä½“éªŒã€‚æ•´ä¸ªå¼€å‘è¿‡ç¨‹é€šè¿‡æç¤ºè¯é©±åŠ¨ã€è‡ªåŠ¨ç”Ÿæˆã€æœ¬åœ°æµ‹è¯•ä¸è¿­ä»£ä¼˜åŒ–ï¼Œä½“ç°äº†AIåŸç”Ÿå¼€å‘èŒƒå¼åœ¨å‚ç›´é¢†åŸŸäº§å“è½åœ°ä¸­çš„é«˜æ•ˆæ€§ä¸å¯è¡Œæ€§ã€‚</p>
<h4 data-id="heading-18">å‚è€ƒé“¾æ¥</h4>
<ul>
<li><strong>Trae IDE å®˜ç½‘</strong>ï¼š<a href="https://www.trae.ai/" target="_blank" title="https://www.trae.ai/" ref="nofollow noopener noreferrer">www.trae.ai/</a></li>
<li><strong>KAT-Coder äº§å“é¡µ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.streamlake.com%2Fproduct%2Fkat-coder" target="_blank" title="https://www.streamlake.com/product/kat-coder" ref="nofollow noopener noreferrer">www.streamlake.com/product/katâ€¦</a></li>
<li><strong>æ™ºè°±AI å¼€æ”¾å¹³å°</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2F" target="_blank" title="https://www.bigmodel.cn/" ref="nofollow noopener noreferrer">www.bigmodel.cn/</a></li>
<li><strong>GLM-4.6 ä¸ GLM-4.5V API æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.bigmodel.cn%2F" target="_blank" title="https://open.bigmodel.cn/" ref="nofollow noopener noreferrer">open.bigmodel.cn/</a></li>
<li><strong>è‡ªå®šä¹‰æ¨¡å‹æ¥å…¥ Trae æŒ‡å—</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FKXSRoBaME_Wvv2wlRZ_FaA" target="_blank" title="https://mp.weixin.qq.com/s/KXSRoBaME_Wvv2wlRZ_FaA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/KXSRoBaMEâ€¦</a></li>
<li><strong>Novita.ai å¯†é’¥ç®¡ç†</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnovita.ai%2Fsettings%2Fkey-management" target="_blank" title="https://novita.ai/settings/key-management" ref="nofollow noopener noreferrer">novita.ai/settings/keâ€¦</a></li>
</ul>
<p>#AIåŒ»ç–— #æ™ºèƒ½ç¿»è¯‘ #Trae #KATCoder #GLM4.6 #GLM4.5V</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"]]></title>    <link>https://juejin.cn/post/7573336057481314310</link>    <guid>https://juejin.cn/post/7573336057481314310</guid>    <pubDate>2025-11-17T09:26:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573336057481314310" data-draft-id="7573332163388751926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ &quot;AIè¯†èœé€š&quot;"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T09:26:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="_æ‘˜æ˜Ÿ_"/> <meta itemprop="url" content="https://juejin.cn/user/2228036358374227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2228036358374227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    _æ‘˜æ˜Ÿ_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:26:30.000Z" title="Mon Nov 17 2025 09:26:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1476bdb094a450384058ad83af0cbc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=d5KReQaPMwCngvjpc5g%2FdWUavVc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">Trae Solo+è±†åŒ…Version1.6+Seedream4.0æ‰“é€ "AIè¯†èœé€š"</h2>
<h3 data-id="heading-1">æ‘˜è¦</h3>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œå¤§æ¨¡å‹æ­£ä»¥å‰æ‰€æœªæœ‰çš„æ·±åº¦ä¸å¹¿åº¦æ¸—é€è¿›æ—¥å¸¸ç”Ÿæ´»çš„å„ä¸ªåœºæ™¯ã€‚ä»æ™ºèƒ½å®¢æœåˆ°å†…å®¹åˆ›ä½œï¼Œä»ä»£ç ç”Ÿæˆåˆ°å›¾åƒç†è§£ï¼ŒAI æ­£åœ¨é‡å¡‘äººä¸ä¿¡æ¯ã€äººä¸æœåŠ¡ä¹‹é—´çš„äº¤äº’æ–¹å¼ã€‚è€Œåœ¨é¤é¥®è¿™ä¸€é«˜é¢‘ã€é«˜æ„ŸçŸ¥çš„é¢†åŸŸï¼Œè¯­è¨€éšœç¢ä¸èœå•ç†è§£å›°éš¾é•¿æœŸå›°æ‰°ç€è·¨å›½æ—…è¡Œè€…ã€ç•™å­¦ç”Ÿä¹ƒè‡³æœ¬åœ°é£Ÿå®¢â€”â€”é¢å¯¹ä¸€å¼ æ»¡æ˜¯é™Œç”Ÿæ–‡å­—æˆ–æ¨¡ç³Šæ’ç‰ˆçš„èœå•ï¼Œå¦‚ä½•å¿«é€Ÿè¯†åˆ«èœå“ã€ç†è§£å…¶é£å‘³ã€å¹¶å‡†ç¡®ä¸‹å•ï¼Ÿæ­£æ˜¯åœ¨è¿™ä¸€ç°å®ç—›ç‚¹é©±åŠ¨ä¸‹ï¼Œæˆ‘ä»¬å¼€å‘äº†â€œAIè¯†èœé€šâ€â€”â€”ä¸€æ¬¾èåˆå¤šæ¨¡æ€æ„ŸçŸ¥ã€è·¨è¯­è¨€ç†è§£ä¸ç”Ÿæˆå¼è§†è§‰çš„æ™ºèƒ½ç‚¹é¤åŠ©æ‰‹ã€‚</p>
<p>â€œAIè¯†èœé€šâ€çš„æ ¸å¿ƒç›®æ ‡ï¼Œæ˜¯è®©ç”¨æˆ·åªéœ€ä¸Šä¼ ä¸€å¼ ä»»æ„è¯­è¨€çš„èœå•å›¾ç‰‡ï¼Œå³å¯åœ¨æ•°ç§’å†…è·å¾—ç»“æ„åŒ–ã€æœ¬åœ°åŒ–ï¼ˆä¸­æ–‡ï¼‰çš„èœå“åˆ—è¡¨ï¼Œæ¯é“èœé™„å¸¦ç²¾å‡†æè¿°ä¸é€¼çœŸå›¾åƒï¼Œå¹¶æ”¯æŒä¸€é”®åŠ å…¥è´­ç‰©è½¦ã€ç”Ÿæˆå¯ç›´æ¥å‘æœåŠ¡å‘˜å±•ç¤ºçš„ç‚¹é¤å­—ç¬¦ä¸²ã€‚è¿™ä¸€çœ‹ä¼¼ç®€å•çš„æµç¨‹èƒŒåï¼Œå®åˆ™æ¶‰åŠå›¾åƒè¯†åˆ«ã€å¤šè¯­è¨€ç¿»è¯‘ã€è¯­ä¹‰ç†è§£ã€å›¾åƒç”Ÿæˆã€çŠ¶æ€ç®¡ç†ä¸å‰ç«¯äº¤äº’ç­‰å¤šä¸ªæŠ€æœ¯æ¨¡å—çš„ååŒã€‚è€Œè¦è®©è¿™äº›æ¨¡å—é«˜æ•ˆã€å‡†ç¡®ã€ä¸€è‡´åœ°å·¥ä½œï¼Œå…³é”®ä¸åœ¨äºå•ä¸ªæ¨¡å‹çš„æ€§èƒ½ä¸Šé™ï¼Œè€Œåœ¨äºå¦‚ä½•æ„å»ºä¸€ä¸ªå¼ºå¤§ã€çµæ´»ã€å¯ç»´æŠ¤çš„<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰ä½“ç³»</strong>ã€‚</p>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åˆ›æ–°æ€§åœ°ä»¥ <strong>Trae Solo</strong> ä½œä¸ºä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ ¸å¿ƒå¼•æ“ï¼ŒååŒ <strong>å­—èŠ‚è·³åŠ¨è±†åŒ…å¤§æ¨¡å‹ Version 1.6</strong>ï¼ˆè´Ÿè´£å¤šè¯­è¨€ç†è§£ä¸ç»“æ„åŒ–è¾“å‡ºï¼‰ä¸ <strong>Seedream 4.0</strong>ï¼ˆè´Ÿè´£é«˜è´¨é‡èœå“å›¾åƒç”Ÿæˆï¼‰ï¼Œå…±åŒæ„å»ºäº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ™ºèƒ½ç‚¹é¤ç³»ç»Ÿã€‚æœ¬æ–‡å°†é‡ç‚¹å‰–æ Trae Solo åœ¨â€œAIè¯†èœé€šâ€ä¸­çš„ä¸Šä¸‹æ–‡å·¥ç¨‹å®è·µï¼Œæ­ç¤ºå…¶å¦‚ä½•é€šè¿‡ç²¾ç»†åŒ–çš„ä¸Šä¸‹æ–‡è®¾è®¡ã€åŠ¨æ€è®°å¿†ç®¡ç†ä¸å¤šè½®æ„å›¾å¯¹é½ï¼Œæ˜¾è‘—æå‡æ•´ä¸ªç³»ç»Ÿçš„å‡†ç¡®æ€§ã€é²æ£’æ€§ä¸ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-2">Trae Solo</h3>
<p>å®˜ç½‘ï¼š<a href="https://www.trae.ai/solo" target="_blank" title="https://www.trae.ai/solo" ref="nofollow noopener noreferrer">www.trae.ai/solo</a>ï¼Œç›®å‰Trae Soloæ¨¡å¼éœ€è¦åœ¨å®˜ç½‘ç”³è¯·ä½“éªŒç ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´èµ¶å¿«å»ç”³è¯·å§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4864a1e6e0fb43e4bf124213ddeb4744~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=ocv1W%2FvhtqxZjPQW7zMXXS55SFs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">1. ä» Prompt Engineering åˆ° Context Engineering</h4>
<p>è¿‡å»å‡ å¹´ï¼ŒPrompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰è¢«è§†ä¸ºé©¾é©­å¤§æ¨¡å‹çš„æ ¸å¿ƒæŠ€èƒ½ã€‚å¼€å‘è€…é€šè¿‡ç²¾å¿ƒè®¾è®¡è¾“å…¥æ–‡æœ¬ï¼Œå¼•å¯¼æ¨¡å‹è¾“å‡ºæœŸæœ›ç»“æœã€‚ç„¶è€Œï¼Œéšç€AIåº”ç”¨åœºæ™¯ä»å•è½®é—®ç­”èµ°å‘å¤šæ­¥éª¤ã€å¤šæ¨¡æ€ã€çŠ¶æ€ä¾èµ–çš„å¤æ‚ä»»åŠ¡ï¼ˆå¦‚æ™ºèƒ½å®¢æœã€è‡ªåŠ¨åŒ–åŠå…¬ã€ä¸ªæ€§åŒ–æ¨èï¼‰ï¼Œé™æ€ã€å­¤ç«‹çš„ prompt å·²æ˜¾ä¹åŠ›ã€‚é—®é¢˜åœ¨äºï¼šçœŸå®ä¸–ç•Œçš„ä»»åŠ¡å¾€å¾€å…·æœ‰<strong>ä¸Šä¸‹æ–‡ä¾èµ–æ€§</strong>â€”â€”å½“å‰æ“ä½œä¾èµ–äºå†å²è¡Œä¸ºï¼Œæ¨¡å‹è¾“å‡ºéœ€ä¸ç³»ç»ŸçŠ¶æ€å¯¹é½ï¼Œç”¨æˆ·æ„å›¾åœ¨äº¤äº’ä¸­åŠ¨æ€æ¼”åŒ–ã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹ï¼Œ<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰</strong> åº”è¿è€Œç”Ÿã€‚å®ƒä¸å†å°†AIè°ƒç”¨è§†ä¸ºä¸€æ¬¡æ€§çš„â€œé»‘ç®±è¯·æ±‚â€ï¼Œè€Œæ˜¯å°†å…¶åµŒå…¥ä¸€ä¸ª<strong>ç»“æ„åŒ–ã€å¯æ¼”åŒ–ã€å¯è¿½æº¯çš„ä¸Šä¸‹æ–‡ç©ºé—´</strong>ä¸­ã€‚ä¸Šä¸‹æ–‡å·¥ç¨‹å…³æ³¨çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•åœ¨æ­£ç¡®çš„æ—¶é—´ï¼Œå‘æ­£ç¡®çš„æ¨¡å‹ï¼Œæä¾›æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥é©±åŠ¨æ•´ä¸ªç³»ç»Ÿè¾¾æˆç›®æ ‡ï¼Ÿ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c268c13c980e49cb875d209c3bd68836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=EAsk6zKst2zA92OacoNUag29F0U%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">2. Trae Soloï¼šä¸Šä¸‹æ–‡å·¥ç¨‹çš„æ“ä½œç³»ç»Ÿ</h4>
<p>Trae Solo å¹¶éä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸“ä¸ºå¤æ‚AIåº”ç”¨è®¾è®¡çš„<strong>ä¸Šä¸‹æ–‡ç¼–æ’ä¸æ¨ç†è°ƒåº¦å¹³å°</strong>ã€‚å®ƒæ—¨åœ¨æˆä¸ºAIç³»ç»Ÿçš„â€œæ“ä½œç³»ç»Ÿâ€ï¼Œè´Ÿè´£ç®¡ç†ä»»åŠ¡æµã€ç»´æŠ¤çŠ¶æ€ã€åè°ƒå¤šæ¨¡å‹åä½œï¼Œå¹¶ç¡®ä¿ä¸Šä¸‹æ–‡åœ¨å…¨ç”Ÿå‘½å‘¨æœŸä¸­çš„ä¸€è‡´æ€§ä¸æœ‰æ•ˆæ€§ã€‚</p>
<p>Trae Solo çš„æ ¸å¿ƒèƒ½åŠ›å¯æ¦‚æ‹¬ä¸ºä»¥ä¸‹å››ç‚¹ï¼š</p>
<p><strong>ï¼ˆ1ï¼‰ç»“æ„åŒ–ä¸Šä¸‹æ–‡å»ºæ¨¡</strong><br/>
Trae Solo å…è®¸å¼€å‘è€…ä»¥å£°æ˜å¼æ–¹å¼å®šä¹‰æ•´ä¸ªåº”ç”¨çš„ä¸Šä¸‹æ–‡ç»“æ„ã€‚è¿™åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è¾“å…¥ä¸Šä¸‹æ–‡</strong>ï¼šç”¨æˆ·ä¸Šä¼ çš„å›¾åƒã€æ–‡æœ¬ã€åœ°ç†ä½ç½®ã€è®¾å¤‡ç±»å‹ç­‰åŸå§‹æ•°æ®ï¼›</li>
<li><strong>ç³»ç»ŸçŠ¶æ€ä¸Šä¸‹æ–‡</strong>ï¼šå½“å‰ä»»åŠ¡é˜¶æ®µã€å·²æå–çš„å®ä½“ã€ç”¨æˆ·é€‰æ‹©ã€é”™è¯¯çŠ¶æ€ç­‰ï¼›</li>
<li><strong>æ¨¡å‹èƒ½åŠ›ä¸Šä¸‹æ–‡</strong>ï¼šå„AIæ¨¡å‹çš„æ¥å£è§„èŒƒã€è¾“å…¥è¾“å‡ºæ ¼å¼ã€æ€§èƒ½è¾¹ç•Œã€è°ƒç”¨æˆæœ¬ç­‰ï¼›</li>
<li><strong>é¢†åŸŸçŸ¥è¯†ä¸Šä¸‹æ–‡</strong>ï¼šé¢„åŠ è½½çš„è¡Œä¸šæœ¯è¯­ã€å¸¸è§å®ä½“åº“ã€ä¸šåŠ¡è§„åˆ™ç­‰ã€‚</li>
</ul>
<p>è¿™äº›ä¸Šä¸‹æ–‡è¢«ç»„ç»‡ä¸ºä¸€ä¸ªåŠ¨æ€æ›´æ–°çš„â€œä¸Šä¸‹æ–‡å›¾è°±â€ï¼ˆContext Graphï¼‰ï¼Œæ‰€æœ‰æ¨¡å—å‡å¯è¯»å†™ï¼Œç¡®ä¿ä¿¡æ¯åŒæ­¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c1f1aa5b7554ea19fe84c8fc336e1ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=AXWpEv599h5A0wIuE8iWurRkcik%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ2ï¼‰åŠ¨æ€ä¸Šä¸‹æ–‡æ³¨å…¥ä¸è·¯ç”±</strong><br/>
åœ¨è°ƒç”¨ä»»ä¸€AIæ¨¡å‹å‰ï¼ŒTrae Solo ä¼šæ ¹æ®å½“å‰ä»»åŠ¡é˜¶æ®µä¸ç³»ç»ŸçŠ¶æ€ï¼Œ<strong>åŠ¨æ€ç»„è£…æœ€åˆé€‚çš„ä¸Šä¸‹æ–‡åŒ…</strong>ã€‚ä¾‹å¦‚ï¼Œåœ¨èœå•è¯†åˆ«é˜¶æ®µï¼Œå®ƒä¼šå°†å›¾åƒã€è¯­è¨€å…ˆéªŒã€èœç³»çŸ¥è¯†ã€ä»»åŠ¡æŒ‡ä»¤ç­‰æ‰“åŒ…å‘é€ç»™è±†åŒ…æ¨¡å‹ï¼›è€Œåœ¨ç”Ÿæˆç‚¹é¤å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™åªä¼ é€’é€‰ä¸­çš„èœå“åˆ—è¡¨ä¸æ ¼å¼è¦æ±‚ã€‚è¿™ç§æŒ‰éœ€æ³¨å…¥æœºåˆ¶ï¼Œæ—¢æå‡äº†æ¨¡å‹è¾“å‡ºçš„ç›¸å…³æ€§ï¼Œåˆé¿å…äº†ä¿¡æ¯è¿‡è½½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5c8767d29664092b9d52d4769cdd9f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=8VvOo%2FyzfXfnVu7qmXrvo0sv9lc%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ3ï¼‰å¤šè½®æ„å›¾å¯¹é½ä¸çŠ¶æ€ç®¡ç†</strong><br/>
ç”¨æˆ·äº¤äº’æ˜¯åŠ¨æ€çš„ã€‚Trae Solo å†…ç½®å¼ºå¤§çš„çŠ¶æ€æœºä¸æ„å›¾è¯†åˆ«æ¨¡å—ï¼Œèƒ½å¤Ÿå®æ—¶æ•è·ç”¨æˆ·è¡Œä¸ºï¼ˆå¦‚ç‚¹å‡»ã€å–æ¶ˆã€ä¿®æ”¹ï¼‰ï¼Œå¹¶æ›´æ–°ä¸Šä¸‹æ–‡å›¾è°±ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒæ”¯æŒ<strong>ä¸Šä¸‹æ–‡å›æº¯ã€åˆ†æ”¯ä¸åˆå¹¶</strong>â€”â€”å½“ç”¨æˆ·ä¿®æ”¹é€‰æ‹©æ—¶ï¼Œç³»ç»Ÿèƒ½å¿«é€Ÿæ’¤é”€ç›¸å…³æ“ä½œï¼Œè€Œä¸ä¼šå¯¼è‡´çŠ¶æ€æ··ä¹±ã€‚è¿™ç§å¯¹ç”¨æˆ·æ„å›¾çš„æŒç»­å¯¹é½ï¼Œæ˜¯æ„å»ºæµç•…ä½“éªŒçš„åŸºç¡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0a35fe3e05043f89134d8a32228117b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=GjIHZhGo2CDUae98Fw9Eqg49%2BkM%3D" alt="" loading="lazy"/></p>
<p><strong>ï¼ˆ4ï¼‰é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</strong><br/>
AIæ¨¡å‹å¹¶é100%å¯é ã€‚Trae Solo æä¾›äº†å®Œå–„çš„é”™è¯¯ç›‘æ§ä¸é™çº§æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œè‹¥è±†åŒ…æ¨¡å‹è¿”å›æ ¼å¼é”™è¯¯ï¼Œç³»ç»Ÿå¯è‡ªåŠ¨åˆ‡æ¢è‡³å¤‡ç”¨OCR+ç¿»è¯‘æµç¨‹ï¼›è‹¥Seedreamå›¾åƒç”Ÿæˆå¤±è´¥ï¼Œåˆ™å›é€€è‡³é»˜è®¤å ä½å›¾ã€‚æ‰€æœ‰é”™è¯¯å‡è¢«è®°å½•åˆ°ä¸Šä¸‹æ–‡æ—¥å¿—ä¸­ï¼Œä¾¿äºåç»­åˆ†æä¸ä¼˜åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdf930b7895a4396a866d83bf4ae2c48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=RR9PDcBq6C5dK59CjguOM1DZtl0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">3. ä¸Šä¸‹æ–‡å·¥ç¨‹çš„ä»·å€¼ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€</h4>
<p>é€šè¿‡ Trae Solo å®æ–½ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ŒAIç³»ç»Ÿå®ç°äº†ä¸‰å¤§è·ƒå‡ï¼š</p>
<ul>
<li><strong>å‡†ç¡®æ€§æå‡</strong>ï¼šä¸Šä¸‹æ–‡æä¾›é¢†åŸŸçŸ¥è¯†ä¸ä»»åŠ¡çº¦æŸï¼Œæ˜¾è‘—å‡å°‘æ¨¡å‹å¹»è§‰ï¼›</li>
<li><strong>é²æ£’æ€§å¢å¼º</strong>ï¼šçŠ¶æ€ç®¡ç†ä¸é”™è¯¯å¤„ç†æœºåˆ¶ä¿éšœç³»ç»Ÿåœ¨å¼‚å¸¸æƒ…å†µä¸‹ä»å¯è¿è¡Œï¼›</li>
<li><strong>å¯ç»´æŠ¤æ€§æé«˜</strong>ï¼šä¸Šä¸‹æ–‡ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—è§£è€¦ï¼Œä¾¿äºè¿­ä»£ä¸è°ƒè¯•ã€‚</li>
</ul>
<p>å¯ä»¥è¯´ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹æ˜¯AIåº”ç”¨ä»â€œæŠ€æœ¯æ¼”ç¤ºâ€èµ°å‘â€œäº§å“è½åœ°â€çš„å¿…ç»ä¹‹è·¯ã€‚è€Œ Trae Soloï¼Œæ­£æ˜¯è¿™æ¡è·¯ä¸Šçš„å¼ºå¤§å¼•æ“ã€‚</p>
<p>è€Œ <strong>Trae Solo</strong>ï¼Œæ­£æ˜¯ä¸ºå®ç°è¿™ä¸€ç›®æ ‡è€Œè®¾è®¡çš„ä¸Šä¸‹æ–‡å·¥ç¨‹æ¡†æ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d35e5dd88c4347afd46901599d1256~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=%2FncVco1RlxdSzClaxPZfAFadCkM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">è±†åŒ…å¤§æ¨¡å‹æ¥å…¥æŒ‡å—</h3>
<p>æœ¬é¡¹ç›®æ‰€ç”¨çš„è§†è§‰ç†è§£å¤§æ¨¡å‹å’Œæ–‡ç”Ÿå›¾å¤§æ¨¡å‹å‡é‡‡ç”¨ç«å±±å¼•æ“Masså¹³å°ï¼Œåˆ†åˆ«æ˜¯doubao-seed-1-6-vision-250815å’Œdoubao-seedream-4-0-250828</p>
<h4 data-id="heading-7">ç«å±±å¼•æ“Masså¹³å°</h4>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.volcengine.com%2F" target="_blank" title="https://www.volcengine.com/" ref="nofollow noopener noreferrer">www.volcengine.com/</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/780d34c2eec64d9696ed5e6a04b4f134~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Kow7mqm2Q8U8w1LxfP2XzEAOGxw%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»éœ€è¦çš„AI APIè¿›å…¥</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db94acdcff9c48fbbf019560b652b9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=2otmfEzkYTdujC1bzTS3HfhMtzc%3D" alt="" loading="lazy"/></p>
<p>è¿›è¡Œå¿«æ·API æ¥å…¥å³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3886602a3c2d42ffaad04c0e35520f5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=jCKDbBaS2StvuDvwzwUknmW5rPg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">doubao-seed-1-6-vision</h4>
<p>doubao-seed-1-6-visionï¼šé€‚ç”¨äºè§†é¢‘ç†è§£ã€Groundingã€GUI Agentç­‰é«˜å¤æ‚åº¦çš„åœºæ™¯ï¼Œä¸Doubao-1.5-thinking-vision-proç›¸æ¯”ï¼Œåœ¨æ•™è‚²ã€å›¾åƒå®¡æ ¸ã€å·¡æ£€ä¸å®‰é˜²å’ŒAIæœç´¢é—®ç­”ç­‰åœºæ™¯ä¸‹å±•ç°å‡ºæ›´å¼ºçš„é€šç”¨å¤šæ¨¡æ€ç†è§£å’Œæ¨ç†èƒ½åŠ›ï¼Œæ”¯æŒ 256k ä¸Šä¸‹æ–‡çª—å£ï¼Œè¾“å‡ºé•¿åº¦æ”¯æŒæœ€å¤§ 64k tokensã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eae046d7fd274303b87a3931f42d1c88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=CmUuEgAs7v7fDhWzJtBhCqHQmT8%3D" alt="" loading="lazy"/></p>
<p>ä¸‹æ–¹æ˜¯è°ƒç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your api key" \
  -d $'{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,
    <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"content"</span>: [
                {
                    <span class="hljs-string">"image_url"</span>: {
                        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://ark-project.tos-cn-beijing.ivolces.com/images/view.jpeg"</span>
                    },
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>
                },
                {
                    <span class="hljs-string">"text"</span>: <span class="hljs-string">"å›¾ç‰‡ä¸»è¦è®²äº†ä»€ä¹ˆ?"</span>,
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>
                }
            ],
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>
        }
    ]
}'
</code></pre>
<h4 data-id="heading-9">doubao-seedream-4.0</h4>
<p>doubao-seedream-4.0åŸºäºé¢†å…ˆæ¶æ„çš„SOTAçº§å¤šæ¨¡æ€å›¾åƒåˆ›ä½œæ¨¡å‹ã€‚å…¶æ‰“ç ´ä¼ ç»Ÿæ–‡ç”Ÿå›¾æ¨¡å‹çš„åˆ›ä½œè¾¹ç•Œï¼ŒåŸç”Ÿæ”¯æŒæ–‡æœ¬ã€å•å›¾å’Œå¤šå›¾è¾“å…¥ï¼Œç”¨æˆ·å¯è‡ªç”±èåˆæ–‡æœ¬ä¸å›¾åƒï¼Œåœ¨åŒä¸€æ¨¡å‹ä¸‹å®ç°åŸºäºä¸»ä½“ä¸€è‡´æ€§çš„å¤šå›¾èåˆåˆ›ä½œã€å›¾åƒç¼–è¾‘ã€ç»„å›¾ç”Ÿæˆç­‰å¤šæ ·ç©æ³•ï¼Œè®©å›¾åƒåˆ›ä½œæ›´åŠ è‡ªç”±å¯æ§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12f9c8570e75490eb91a0d21ed90dc7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=OBc0OBHrxIhw5lAV%2B2ndbTZbEtg%3D" alt="" loading="lazy"/></p>
<p>ä¸‹æ–¹æ˜¯æ¥å…¥ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -X POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your api key" \
  -d '{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,
    <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"Generate 3 images of a girl and a cow plushie happily riding a roller coaster in an amusement park, depicting morning, noon, and night."</span>,
    <span class="hljs-string">"image"</span>: [<span class="hljs-string">"https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_1.png"</span>, <span class="hljs-string">"https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_2.png"</span>],
    <span class="hljs-string">"sequential_image_generation"</span>: <span class="hljs-string">"auto"</span>,
    <span class="hljs-string">"sequential_image_generation_options"</span>: {
        <span class="hljs-string">"max_images"</span>: <span class="hljs-number">3</span>
    },
    <span class="hljs-string">"response_format"</span>: <span class="hljs-string">"url"</span>,
    <span class="hljs-string">"size"</span>: <span class="hljs-string">"2K"</span>,
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">"watermark"</span>: <span class="hljs-literal">true</span>
}'
</code></pre>
<h3 data-id="heading-10">é¡¹ç›®å¼€å‘</h3>
<h4 data-id="heading-11">å¼€å‘æç¤ºè¯</h4>
<p>å‡†å¤‡å¥½å¦‚ä¸‹å¼€å‘æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æˆ‘è¦åšä¸€ä¸ªAIè¯†èœé€šåº”ç”¨ã€‚åŠŸèƒ½æ˜¯ï¼šç”¨æˆ·å¯ä»¥ä¸Šä¼ ä¸€å¼ ä»»ä½•è¯­è¨€èœå•å›¾ç‰‡ï¼Œè°ƒç”¨è§†è§‰ç†è§£æ¨¡å‹doubao-seed-1-6-vision-250815ï¼Œåˆ†æèœå•ä¸­çš„å†…å®¹å¹¶ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œä¹‹åè¿›å…¥ç¬¬äºŒä¸ªé¡µé¢ï¼šç‚¹èœé¡µé¢ï¼Œç‚¹èœé¡µé¢ä¼šå°†AIç¿»è¯‘åçš„ä¸­æ–‡èœå•ä¸€ä¸€å±•ç¤ºï¼Œå¹¶ä¸”ç”¨æˆ·å¯ä»¥ç‚¹èœã€‚æ¯ä¸€é“èœéƒ½åŒ…å«å®ƒçš„åå­—ã€å®ƒçš„ä»‹ç»å’Œä¸€å¼ å›¾ç‰‡ï¼Œå›¾ç‰‡è°ƒç”¨doubao-seedream-4-0-250828æ¨¡å‹çš„ç”Ÿæˆå›¾ç‰‡ï¼Œç„¶åç”¨æˆ·ç‚¹åŠ å·å¯ä»¥æŠŠè¿™é“èœåŠ å…¥ä»–çš„è´­ç‰©è½¦ï¼Œæœ€åç‚¹æäº¤ç”Ÿæˆä¸€ä¸ªä¸€ä¸²å­—ç¬¦ï¼Œä¸Šé¢å†™ä»–æƒ³è¦ç‚¹å“ªäº›èœï¼Œæ–¹ä¾¿ä»–è·ŸæœåŠ¡å‘˜è¯´ä»–è¦ç‚¹å“ªäº›ã€‚è¿™ä¸ªå­—ç¬¦åº”è¯¥åŒ…åˆä¸­æ–‡åå’Œä»–å…ƒè¯­è¨€çš„åå­—ã€‚é¡¹ç›®éœ€è¦ä½¿ç”¨react å®ç°ï¼Œä½¿ç”¨ shadcnã€redix ç»„ä»¶åº“ã€‚AIæ¨¡å‹çš„API KEYæ”¾åœ¨<span class="hljs-built_in">local</span> storageï¼Œé€šè¿‡ç½‘é¡µå³ä¸Šè§’çš„é½¿è½®æŒ‰é’®è¾“å…¥ã€‚
</code></pre>
<p>è¾“å…¥åˆ°Trae Soloå¯¹è¯æ¡†ä¸­ï¼ŒTrae Soloä¸ä¼šç›´æ¥å¼€å§‹å¼€å‘ï¼Œè€Œæ˜¯ä¼šå…ˆè®¾è®¡ä¸¤ä»½æ–‡æ¡£ï¼Œå¾…æˆ‘ä»¬ç¡®è®¤ä¹‹åæ‰ä¼šå¼€å§‹å¼€å‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ca5eab56f6249f998b81b49d0610f80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Xk1xR%2FyWMUm3D5nce4%2F7reTpS5w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">é¡¹ç›®æ–‡æ¡£</h4>
<p>Trae Soloä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºä¸¤ä»½æ–‡æ¡£ï¼Œåˆ†åˆ«æ˜¯éœ€æ±‚æ–‡æ¡£å’Œæ¶æ„æ–‡æ¡£ï¼š</p>
<h5 data-id="heading-13">AIè¯†èœé€šäº§å“éœ€æ±‚æ–‡æ¡£</h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># AIè¯†èœé€šäº§å“éœ€æ±‚æ–‡æ¡£</span>

<span class="hljs-comment">## 1. äº§å“æ¦‚è¿°</span>

AIè¯†èœé€šæ˜¯ä¸€æ¬¾æ™ºèƒ½èœå•è¯†åˆ«ä¸ç‚¹é¤åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç†è§£ä»»ä½•è¯­è¨€çš„èœå•å†…å®¹å¹¶å®Œæˆç‚¹é¤ã€‚
ç”¨æˆ·åªéœ€ä¸Šä¼ èœå•å›¾ç‰‡ï¼ŒAIå³å¯è‡ªåŠ¨è¯†åˆ«å¹¶ç¿»è¯‘èœå•å†…å®¹ï¼Œç”Ÿæˆç²¾ç¾çš„èœå“å›¾ç‰‡ï¼Œè®©ç”¨æˆ·è½»æ¾å®Œæˆç‚¹é¤æµç¨‹ã€‚
è¯¥äº§å“ä¸»è¦é¢å‘å‡ºå›½æ—…æ¸¸ã€å•†åŠ¡å‡ºå·®æˆ–åœ¨å¤šè¯­è¨€ç¯å¢ƒç”¨é¤çš„ç”¨æˆ·ï¼Œè§£å†³è¯­è¨€éšœç¢å¸¦æ¥çš„ç‚¹é¤å›°æ‰°ã€‚

<span class="hljs-comment">## 2. æ ¸å¿ƒåŠŸèƒ½</span>

<span class="hljs-comment">### 2.1 ç”¨æˆ·è§’è‰²</span>

æœ¬äº§å“æ— éœ€ç”¨æˆ·æ³¨å†Œï¼Œæ‰€æœ‰åŠŸèƒ½å¯¹æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ã€‚

<span class="hljs-comment">### 2.2 åŠŸèƒ½æ¨¡å—</span>

æˆ‘ä»¬çš„AIè¯†èœé€šåº”ç”¨åŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š

1. **é¦–é¡µ**ï¼šèœå•ä¸Šä¼ åŠŸèƒ½ã€åº”ç”¨ä»‹ç»ã€å¯¼èˆªèœå•
2. **ç‚¹é¤é¡µé¢**ï¼šèœå“å±•ç¤ºåˆ—è¡¨ã€è´­ç‰©è½¦ç®¡ç†ã€è®¢å•ç”Ÿæˆ
3. **è®¾ç½®é¡µé¢**ï¼šAPIå¯†é’¥é…ç½®ã€åº”ç”¨è®¾ç½®

<span class="hljs-comment">### 2.3 é¡µé¢è¯¦æƒ…</span>

| é¡µé¢åç§° | æ¨¡å—åç§°   | åŠŸèƒ½æè¿°                              |
| ---- | ------ | --------------------------------- |
| é¦–é¡µ   | èœå•ä¸Šä¼ åŒºåŸŸ | æ”¯æŒæ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ èœå•å›¾ç‰‡ï¼Œæ˜¾ç¤ºä¸Šä¼ è¿›åº¦å’Œé¢„è§ˆ           |
| é¦–é¡µ   | åº”ç”¨ä»‹ç»   | å±•ç¤ºåº”ç”¨åŠŸèƒ½ç‰¹è‰²å’Œä½¿ç”¨è¯´æ˜                     |
| é¦–é¡µ   | å¯¼èˆªæ     | åŒ…å«è®¾ç½®æŒ‰é’®å’Œåº”ç”¨æ ‡é¢˜                       |
| ç‚¹é¤é¡µé¢ | èœå“åˆ—è¡¨   | å±•ç¤ºAIè¯†åˆ«çš„èœå“ä¿¡æ¯ï¼ŒåŒ…å«ä¸­æ–‡åç§°ã€åŸæ–‡åç§°ã€æè¿°å’ŒAIç”Ÿæˆå›¾ç‰‡ |
| ç‚¹é¤é¡µé¢ | è´­ç‰©è½¦    | æ˜¾ç¤ºå·²é€‰èœå“æ•°é‡å’Œæ€»è§ˆï¼Œæ”¯æŒå¢å‡æ•°é‡                |
| ç‚¹é¤é¡µé¢ | è®¢å•ç”Ÿæˆ   | ç”ŸæˆåŒ…å«ä¸­æ–‡å’ŒåŸæ–‡çš„ç‚¹é¤æ¸…å•å­—ç¬¦ä¸²                 |
| è®¾ç½®é¡µé¢ | APIé…ç½®  | è¾“å…¥å’Œä¿å­˜Doubao APIå¯†é’¥                 |
| è®¾ç½®é¡µé¢ | åº”ç”¨è®¾ç½®   | è¯­è¨€åå¥½ã€ä¸»é¢˜è®¾ç½®ç­‰åŸºç¡€é…ç½®                    |

<span class="hljs-comment">## 3. æ ¸å¿ƒæµç¨‹</span>

**ä¸»è¦ç”¨æˆ·æ“ä½œæµç¨‹ï¼š**

1. ç”¨æˆ·è¿›å…¥é¦–é¡µï¼Œç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ èœå•å›¾ç‰‡
2. ç³»ç»Ÿè°ƒç”¨è§†è§‰è¯†åˆ«AIåˆ†æèœå•å†…å®¹å¹¶ç¿»è¯‘ä¸ºä¸­æ–‡
3. è·³è½¬åˆ°ç‚¹é¤é¡µé¢ï¼Œå±•ç¤ºè¯†åˆ«ç»“æœå’ŒAIç”Ÿæˆçš„èœå“å›¾ç‰‡
4. ç”¨æˆ·æµè§ˆèœå“ï¼Œç‚¹å‡»åŠ å·å°†å¿ƒä»ªèœå“åŠ å…¥è´­ç‰©è½¦
5. ç¡®è®¤é€‰æ‹©åï¼Œç”ŸæˆåŒ…å«ä¸­æ–‡å’ŒåŸæ–‡çš„ç‚¹é¤æ¸…å•
6. ç”¨æˆ·å¯å°†æ¸…å•å±•ç¤ºç»™æœåŠ¡å‘˜å®Œæˆç‚¹é¤

```mermaid
graph TD
    A[é¦–é¡µ] --&gt; B[ä¸Šä¼ èœå•å›¾ç‰‡]
    B --&gt; C[AIè¯†åˆ«å¤„ç†]
    C --&gt; D[ç‚¹é¤é¡µé¢]
    D --&gt; E[æµè§ˆèœå“]
    E --&gt; F[æ·»åŠ åˆ°è´­ç‰©è½¦]
    F --&gt; G[ç”Ÿæˆç‚¹é¤æ¸…å•]
    A --&gt; H[è®¾ç½®é¡µé¢]
    H --&gt; I[é…ç½®APIå¯†é’¥]
```

<span class="hljs-comment">## 4. ç”¨æˆ·ç•Œé¢è®¾è®¡</span>

<span class="hljs-comment">### 4.1 è®¾è®¡é£æ ¼</span>

* **ä¸»è‰²è°ƒ**ï¼šç°ä»£è“è‰² (<span class="hljs-comment">#3B82F6) å’Œæ¸©æš–æ©™è‰² (#F59E0B)</span>

* **è¾…åŠ©è‰²**ï¼šä¸­æ€§ç°è‰²ç³» (<span class="hljs-comment">#6B7280, #F3F4F6)</span>

* **æŒ‰é’®æ ·å¼**ï¼šåœ†è§’è®¾è®¡ï¼Œæ‚¬åœæ•ˆæœï¼Œé˜´å½±å±‚æ¬¡

* **å­—ä½“**ï¼šä¸­æ–‡ä½¿ç”¨æ€æºé»‘ä½“ï¼Œè‹±æ–‡ä½¿ç”¨ Inter å­—ä½“ï¼Œä¸»è¦å­—å· 16px

* **å¸ƒå±€é£æ ¼**ï¼šå¡ç‰‡å¼è®¾è®¡ï¼Œé¡¶éƒ¨å¯¼èˆªï¼Œå“åº”å¼ç½‘æ ¼å¸ƒå±€

* **å›¾æ ‡é£æ ¼**ï¼šçº¿æ€§å›¾æ ‡ï¼Œç»Ÿä¸€çš„è§†è§‰è¯­è¨€ï¼Œæ”¯æŒæ·±æµ…ä¸»é¢˜

<span class="hljs-comment">### 4.2 é¡µé¢è®¾è®¡æ¦‚è§ˆ</span>

| é¡µé¢åç§° | æ¨¡å—åç§° | ç•Œé¢å…ƒç´                        |
| ---- | ---- | -------------------------- |
| é¦–é¡µ   | ä¸Šä¼ åŒºåŸŸ | è™šçº¿è¾¹æ¡†çš„æ‹–æ‹½åŒºåŸŸï¼Œä¸Šä¼ å›¾æ ‡ï¼Œè¿›åº¦æ¡ï¼Œå›¾ç‰‡é¢„è§ˆå¡ç‰‡  |
| é¦–é¡µ   | å¯¼èˆªæ   | åº”ç”¨Logoï¼Œæ ‡é¢˜ï¼Œè®¾ç½®é½¿è½®å›¾æ ‡æŒ‰é’®         |
| ç‚¹é¤é¡µé¢ | èœå“å¡ç‰‡ | åœ†è§’å¡ç‰‡ï¼ŒAIç”Ÿæˆå›¾ç‰‡ï¼Œèœåæ ‡é¢˜ï¼Œæè¿°æ–‡æœ¬ï¼ŒåŠ å·æŒ‰é’® |
| ç‚¹é¤é¡µé¢ | è´­ç‰©è½¦  | æµ®åŠ¨è´­ç‰©è½¦å›¾æ ‡ï¼Œæ•°é‡å¾½ç« ï¼Œä¾§è¾¹æ å±•å¼€é¢æ¿       |
| è®¾ç½®é¡µé¢ | é…ç½®è¡¨å• | è¾“å…¥æ¡†ï¼Œä¿å­˜æŒ‰é’®ï¼ŒçŠ¶æ€æç¤ºï¼Œåˆ†ç»„è®¾ç½®é¡¹        |

<span class="hljs-comment">### 4.3 å“åº”å¼è®¾è®¡</span>

åº”ç”¨é‡‡ç”¨ç§»åŠ¨ä¼˜å…ˆçš„å“åº”å¼è®¾è®¡ï¼Œå®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿å’Œæ¡Œé¢è®¾å¤‡ã€‚åœ¨ç§»åŠ¨ç«¯ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒï¼Œç¡®ä¿æŒ‰é’®å¤§å°é€‚åˆæ‰‹æŒ‡æ“ä½œã€‚

4.4 APIè°ƒç”¨ç¤ºä¾‹

doubao-seedream-4-0-250828è°ƒç”¨ç¤ºä¾‹å¦‚ä¸‹

curl -X POST &lt;https://ark.cn-beijing.volces.com/api/v3/images/generations&gt; \

-H <span class="hljs-string">"Content-Type: application/json"</span> \

-H <span class="hljs-string">"Authorization: Bearer your api key"</span> \

-d '{

<span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,

<span class="hljs-string">"prompt"</span>: <span class="hljs-string">"Generate 3 images of a girl and a cow plushie happily riding a roller coaster in an amusement park, depicting morning, noon, and night."</span>,

<span class="hljs-string">"image"</span>: [<span class="hljs-string">" &lt;https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_1.png&gt; "</span>, <span class="hljs-string">" &lt;https://ark-doc.tos-ap-southeast-1.bytepluses.com/doc_image/seedream4_imagesToimages_2.png&gt; "</span>],

<span class="hljs-string">"sequential_image_generation"</span>: <span class="hljs-string">"auto"</span>,

<span class="hljs-string">"sequential_image_generation_options"</span>: {

<span class="hljs-string">"max_images"</span>: 3

},

<span class="hljs-string">"response_format"</span>: <span class="hljs-string">"url"</span>,

<span class="hljs-string">"size"</span>: <span class="hljs-string">"2K"</span>,

<span class="hljs-string">"stream"</span>: true,

<span class="hljs-string">"watermark"</span>: true

}'

doubao-seed-1-6-vision-250815è°ƒç”¨ç¤ºä¾‹

curl &lt;https://ark.cn-beijing.volces.com/api/v3/chat/completions&gt; \

-H <span class="hljs-string">"Content-Type: application/json"</span> \

-H <span class="hljs-string">"Authorization: Bearer your api key"</span> \

-d $'{

<span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,

<span class="hljs-string">"messages"</span>: [

{

<span class="hljs-string">"content"</span>: [

{

<span class="hljs-string">"image_url"</span>: {

<span class="hljs-string">"url"</span>: <span class="hljs-string">" &lt;https://ark-project.tos-cn-beijing.ivolces.com/images/view.jpeg&gt; "</span>

},

<span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>

},

{

<span class="hljs-string">"text"</span>: <span class="hljs-string">"å›¾ç‰‡ä¸»è¦è®²äº†ä»€ä¹ˆ?"</span>,

<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>

}

],

<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>

}

]

}'
</code></pre>
<h5 data-id="heading-14">AIè¯†èœé€šæŠ€æœ¯æ¶æ„æ–‡æ¡£</h5>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># AIè¯†èœé€šæŠ€æœ¯æ¶æ„æ–‡æ¡£</span>

<span class="hljs-comment">## 1. Architecture design</span>

```mermaid
graph TD
    A[ç”¨æˆ·æµè§ˆå™¨] --&gt; B[Reactå‰ç«¯åº”ç”¨]
    B --&gt; C[Doubao Vision API]
    B --&gt; D[Doubao Image Generation API]
    B --&gt; E[LocalStorage]

    subgraph <span class="hljs-string">"å‰ç«¯å±‚"</span>
        B
        F[shadcn/uiç»„ä»¶]
        G[Radix UIç»„ä»¶]
        H[çŠ¶æ€ç®¡ç†]
        B --&gt; F
        B --&gt; G
        B --&gt; H
    end

    subgraph <span class="hljs-string">"å¤–éƒ¨æœåŠ¡"</span>
        C
        D
    end

    subgraph <span class="hljs-string">"æœ¬åœ°å­˜å‚¨"</span>
        E
    end
```

<span class="hljs-comment">## 2. Technology Description</span>

* Frontend: React@<span class="hljs-number">18</span> + TypeScript + Vite + TailwindCSS

* UI Components: shadcn/ui + Radix UI

* State Management: React Context + useState/useReducer

* HTTP Client: Fetch API

* Storage: LocalStorage

* Icons: Lucide React

* External APIs: Doubao Vision API, Doubao Image Generation API

<span class="hljs-comment">## 3. Route definitions</span>

| Route     | Purpose               |
| --------- | --------------------- |
| /         | é¦–é¡µï¼Œèœå•å›¾ç‰‡ä¸Šä¼ å’ŒAIå¤„ç†        |
| /menu     | ç‚¹èœé¡µé¢ï¼Œæ˜¾ç¤ºç¿»è¯‘åçš„èœå“åˆ—è¡¨å’Œè´­ç‰©è½¦åŠŸèƒ½ |
| /settings | è®¾ç½®é¡µé¢ï¼Œé…ç½®APIå¯†é’¥å’Œåº”ç”¨è®¾ç½®     |

<span class="hljs-comment">## 4. API definitions</span>

<span class="hljs-comment">### 4.1 Core API</span>

<span class="hljs-comment">#### Doubao Vision API è°ƒç”¨</span>

```
POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/chat/completions</span>
```

Request Headers:

| Header Name   | Value             | Description |
| ------------- | ----------------- | ----------- |
| Authorization | Bearer {API_KEY} | APIå¯†é’¥è®¤è¯     |
| Content-Type  | application/json  | è¯·æ±‚å†…å®¹ç±»å‹      |

Request Body:

```json
{
  <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seed-1-6-vision-250815"</span>,
  <span class="hljs-string">"messages"</span>: [
    {
      <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
      <span class="hljs-string">"content"</span>: [
        {
          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
          <span class="hljs-string">"text"</span>: <span class="hljs-string">"è¯·è¯†åˆ«è¿™å¼ èœå•å›¾ç‰‡ä¸­çš„æ‰€æœ‰èœå“ï¼Œå¹¶ç¿»è¯‘ä¸ºä¸­æ–‡ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹JSONæ ¼å¼è¿”å›ï¼š{"</span>dishes<span class="hljs-string">": [{"</span>originalName<span class="hljs-string">": "</span>åŸæ–‡åç§°<span class="hljs-string">", "</span>chineseName<span class="hljs-string">": "</span>ä¸­æ–‡åç§°<span class="hljs-string">", "</span>description<span class="hljs-string">": "</span>èœå“æè¿°<span class="hljs-string">", "</span>estimatedPrice<span class="hljs-string">": "</span>é¢„ä¼°ä»·æ ¼<span class="hljs-string">"}]}"</span>
        },
        {
          <span class="hljs-string">"type"</span>: <span class="hljs-string">"image_url"</span>,
          <span class="hljs-string">"image_url"</span>: {
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"data:image/jpeg;base64,{base64_image}"</span>
          }
        }
      ]
    }
  ]
}
```

<span class="hljs-comment">#### Doubao Image Generation API è°ƒç”¨</span>

```
POST https:<span class="hljs-comment">//ark.cn-beijing.volces.com/api/v3/images/generations</span>
```

Request Headers:

| Header Name   | Value             | Description |
| ------------- | ----------------- | ----------- |
| Authorization | Bearer {API_KEY} | APIå¯†é’¥è®¤è¯     |
| Content-Type  | application/json  | è¯·æ±‚å†…å®¹ç±»å‹      |

Request Body:

```json
{
  <span class="hljs-string">"model"</span>: <span class="hljs-string">"doubao-seedream-4-0-250828"</span>,
  <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"é«˜è´¨é‡çš„{èœå“åç§°}ç¾é£Ÿæ‘„å½±ï¼Œä¸“ä¸šé¤å…çº§åˆ«ï¼Œè‡ªç„¶å…‰çº¿ï¼Œç²¾ç¾æ‘†ç›˜"</span>,
  <span class="hljs-string">"n"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-string">"size"</span>: <span class="hljs-string">"1024x1024"</span>,
  <span class="hljs-string">"quality"</span>: <span class="hljs-string">"standard"</span>
}
```

<span class="hljs-comment">### 4.2 æ•°æ®ç±»å‹å®šä¹‰</span>

```typescript
<span class="hljs-comment">// èœå“ä¿¡æ¯</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Dish</span> </span>{
  id: <span class="hljs-keyword">string</span>;
  originalName: <span class="hljs-keyword">string</span>;
  chineseName: <span class="hljs-keyword">string</span>;
  description: <span class="hljs-keyword">string</span>;
  estimatedPrice?: <span class="hljs-keyword">string</span>;
  imageUrl?: <span class="hljs-keyword">string</span>;
  isGeneratingImage?: <span class="hljs-keyword">boolean</span>;
}

<span class="hljs-comment">// è´­ç‰©è½¦é¡¹ç›®</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">CartItem</span> </span>{
  dish: Dish;
  quantity: number;
}

<span class="hljs-comment">// APIé…ç½®</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ApiConfig</span> </span>{
  visionApiKey: <span class="hljs-keyword">string</span>;
  imageApiKey: <span class="hljs-keyword">string</span>;
}

<span class="hljs-comment">// åº”ç”¨çŠ¶æ€</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AppState</span> </span>{
  dishes: Dish[];
  cart: CartItem[];
  isProcessing: <span class="hljs-keyword">boolean</span>;
  processingStep: <span class="hljs-string">'uploading'</span> | <span class="hljs-string">'analyzing'</span> | <span class="hljs-string">'translating'</span> | <span class="hljs-string">'generating_images'</span> | <span class="hljs-string">'completed'</span>;
  apiConfig: ApiConfig;
}
```

<span class="hljs-comment">## 5. Data model</span>

<span class="hljs-comment">### 5.1 LocalStorage æ•°æ®ç»“æ„</span>

ç”±äºè¿™æ˜¯ä¸€ä¸ªçº¯å‰ç«¯åº”ç”¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æµè§ˆå™¨çš„LocalStorageä¸­ï¼š

```typescript
<span class="hljs-comment">// APIé…ç½®å­˜å‚¨</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-api-config'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">visionApiKey</span>: <span class="hljs-keyword">string</span>,
  <span class="hljs-attr">imageApiKey</span>: <span class="hljs-keyword">string</span>
}));

<span class="hljs-comment">// æœ€è¿‘å¤„ç†çš„èœå•ç¼“å­˜</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-recent-dishes'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">timestamp</span>: number,
  <span class="hljs-attr">dishes</span>: Dish[]
}));

<span class="hljs-comment">// ç”¨æˆ·åå¥½è®¾ç½®</span>
localStorage.<span class="hljs-title function_ invoke__">setItem</span>(<span class="hljs-string">'ai-menu-preferences'</span>, JSON.<span class="hljs-title function_ invoke__">stringify</span>({
  <span class="hljs-attr">language</span>: <span class="hljs-string">'zh-CN'</span>,
  <span class="hljs-attr">imageQuality</span>: <span class="hljs-string">'standard'</span>,
  <span class="hljs-attr">autoGenerateImages</span>: <span class="hljs-literal">true</span>
}));
```

<span class="hljs-comment">### 5.2 ç»„ä»¶çŠ¶æ€ç®¡ç†</span>

```typescript
<span class="hljs-comment">// å…¨å±€åº”ç”¨çŠ¶æ€ Context</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">AppContext</span> = createContext&lt;{
  state: AppState;
  dispatch: React.Dispatch&lt;AppAction&gt;;
}&gt;();

<span class="hljs-comment">// çŠ¶æ€æ›´æ–°åŠ¨ä½œ</span>
type AppAction = 
  | { type: <span class="hljs-string">'SET_DISHES'</span>; payload: Dish[] }
  | { type: <span class="hljs-string">'ADD_TO_CART'</span>; payload: Dish }
  | { type: <span class="hljs-string">'REMOVE_FROM_CART'</span>; payload: <span class="hljs-keyword">string</span> }
  | { type: <span class="hljs-string">'UPDATE_CART_QUANTITY'</span>; payload: { dishId: <span class="hljs-keyword">string</span>; quantity: number } }
  | { type: <span class="hljs-string">'SET_PROCESSING'</span>; payload: <span class="hljs-keyword">boolean</span> }
  | { type: <span class="hljs-string">'SET_PROCESSING_STEP'</span>; payload: AppState[<span class="hljs-string">'processingStep'</span>] }
  | { type: <span class="hljs-string">'UPDATE_DISH_IMAGE'</span>; payload: { dishId: <span class="hljs-keyword">string</span>; imageUrl: <span class="hljs-keyword">string</span> } };
```

<span class="hljs-comment">## 6. é¡¹ç›®ç»“æ„</span>

```
ai-menu/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                 <span class="hljs-comment"># shadcn/uiç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ ImageUpload.tsx     <span class="hljs-comment"># å›¾ç‰‡ä¸Šä¼ ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ DishCard.tsx        <span class="hljs-comment"># èœå“å¡ç‰‡ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ Cart.tsx            <span class="hljs-comment"># è´­ç‰©è½¦ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ OrderSummary.tsx    <span class="hljs-comment"># è®¢å•æ‘˜è¦ç»„ä»¶</span>
â”‚   â”‚   â””â”€â”€ ApiKeySettings.tsx  <span class="hljs-comment"># APIå¯†é’¥è®¾ç½®ç»„ä»¶</span>
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ HomePage.tsx        <span class="hljs-comment"># é¦–é¡µ</span>
â”‚   â”‚   â”œâ”€â”€ MenuPage.tsx        <span class="hljs-comment"># ç‚¹èœé¡µé¢</span>
â”‚   â”‚   â””â”€â”€ SettingsPage.tsx    <span class="hljs-comment"># è®¾ç½®é¡µé¢</span>
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useApiConfig.ts     <span class="hljs-comment"># APIé…ç½®ç®¡ç†</span>
â”‚   â”‚   â”œâ”€â”€ useImageUpload.ts   <span class="hljs-comment"># å›¾ç‰‡ä¸Šä¼ å¤„ç†</span>
â”‚   â”‚   â””â”€â”€ useCart.ts          <span class="hljs-comment"># è´­ç‰©è½¦é€»è¾‘</span>
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ doubaoApi.ts        <span class="hljs-comment"># Doubao APIè°ƒç”¨</span>
â”‚   â”‚   â””â”€â”€ imageService.ts     <span class="hljs-comment"># å›¾ç‰‡å¤„ç†æœåŠ¡</span>
â”‚   â”œâ”€â”€ context/
â”‚   â”‚   â””â”€â”€ AppContext.tsx      <span class="hljs-comment"># å…¨å±€çŠ¶æ€ç®¡ç†</span>
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts            <span class="hljs-comment"># TypeScriptç±»å‹å®šä¹‰</span>
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ storage.ts          <span class="hljs-comment"># LocalStorageå·¥å…·</span>
â”‚   â”‚   â””â”€â”€ imageUtils.ts       <span class="hljs-comment"># å›¾ç‰‡å¤„ç†å·¥å…·</span>
â”‚   â””â”€â”€ App.tsx
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ vite.config.ts
â””â”€â”€ tsconfig.json
```
</code></pre>
<h4 data-id="heading-15">ä¸Šä¸‹æ–‡å·¥ç¨‹å¼€å‘</h4>
<p>å¦‚æœè¯´å¯¹äºSOLOç”Ÿæˆçš„æ–‡æ¡£ä¸æ»¡æ„ï¼Œæˆ–è€…æœ‰éƒ¨åˆ†åœ°æ–¹éœ€è¦ä¿®æ”¹çš„è¯ï¼Œæ˜¯å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£ä¸­è¿›è¡Œç¼–è¾‘çš„ï¼Œè¿™ä¸€ç‚¹ åšå¾—å¯è°“æ˜¯éå¸¸ä¸æ»‘ï¼ŒSOLOç»™æˆ‘çš„æ•´ä½“ä½“éªŒå°±æ˜¯æ•´ä¸ªé¡¹ç›®å¼€å‘è¿‡ç¨‹å…¨åœ¨ä½ çš„æŒæ§ä¸­ä¸€èˆ¬ã€‚ğŸ‘</p>
<p>æ–‡æ¡£å…¶å®å°±æ˜¯Traeå¯¹æ•´ä¸ªé¡¹ç›®çš„ç†è§£ï¼Œè¿™ä¸ªä¿®æ­£è¿‡ç¨‹æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œåœ¨ç¡®ä¿Traeå®Œå…¨ç†è§£äº†æˆ‘ä»¬çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯ç¡®è®¤æ–‡æ¡£æ— è¯¯ä¹‹åå³å¯å‘Trae Soloå‘å‡ºå‘½ä»¤ï¼šæŒ‰ç…§æ–‡æ¡£è¿›è¡Œå¼€å‘ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732b69e5d2cc4a8bb5c1076481e95ab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=e0BTgkMdJehWQj2wC3SS47QR%2Be4%3D" alt="" loading="lazy"/></p>
<p>Trae Soloä¼šåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨ä¸‹è½½ä¾èµ–ã€åˆ›å»ºé…ç½®æ–‡ä»¶ã€ç”Ÿæˆå‡½æ•°ã€è¿è¡Œç»ˆç«¯ï¼Œè¿åˆ°çš„é—®é¢˜ä¹Ÿéƒ½ä¼šè¢«å½“åšä¸Šä¸‹æ–‡ç»§ç»­å®Œå–„å¼€å‘ï¼Œä¸æ„§æ˜¯å›½äº§ä¹‹å…‰ï¼Œç¬¬ä¸€ä½ä¸Šä¸‹æ–‡å·¥ç¨‹IDEï¼Œè®©æ•´ä¸ªä»0åˆ°1çš„è¿‡ç¨‹æ— æ¯”ä¸æ»‘æµç•…ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714cd0caec8a404491f1276859de9c73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=gjqKnZeM7B0glSTY%2Fl5QkqKc3sE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°Trae Soloä¸å…‰æ˜¯ä¼šåˆ›å»ºæ–‡ä»¶ï¼Œä¸‹è½½ä¾èµ–ï¼Œå¹¶ä¸”ä¸‹è½½ä¾èµ–ä¸­çš„é”™è¯¯ï¼Œä¹Ÿéƒ½ä¸€å¹¶ç»™è§£å†³æ‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c8d700f566a4cd686cad24fdd4d91b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=AMoycdiIu8eDFLq5pms3T%2Bzo7Mg%3D" alt="" loading="lazy"/></p>
<p>é‡åˆ°é”™è¯¯ä¹‹åä¹Ÿå¯ä»¥ä¸€é”®æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œä¿®å¤ï¼Œå¹¶ä¸”è¿˜ä¼šæ ¹æ®ä¸Šä¸‹æ–‡è‡ªæµ‹ä¸€ç•ªï¼Œæ¯”èµ·ä¼ ç»Ÿçš„å¤åˆ¶æ§åˆ¶å°çš„é”™è¯¯ï¼Œå†è¿›è¡Œè‡ªæµ‹ï¼Œè¿™ç§æ–¹å¼ä¸çŸ¥é“æœ‰å¤šè®©ç¨‹åºå‘˜å®‰å¿ƒï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d813b7399cbb44f98bb4893906c031e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=muT15VsNqAo%2BIkkNlLsO1lT4d14%3D" alt="" loading="lazy"/></p>
<p>è‹¥æœ‰ä»€ä¹ˆå°é—®é¢˜ä¹Ÿå¯ä»¥éšæ—¶æ‰“æ–­å¹¶æå‡ºé—®é¢˜ï¼ŒTrae Soloä¼šæ ¹æ®ä¸Šä¸‹æ–‡è¿›è¡Œé‡æ–°æ€è€ƒï¼Œå¹¶ä¸”ä¼šç»“åˆå·²ç»ç”Ÿæˆçš„å†…å®¹åŠ ä¸Šåˆšåˆšæå‡ºçš„å†…å®¹è¿›è¡Œç»¼åˆè€ƒé‡ï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒè¯´çªç„¶çš„æ‰“æ–­ä¼šè®©Traeä¹±äº†é˜µè„šï¼Œè¿™å…¶å®ä¸€åˆ‡éƒ½åœ¨å®ƒçš„æŒæ§ä¹‹ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0cfa96054074fbaaa2abb26db99b76e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=wTkTKNhBsugvYImlAbPDvptavLo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">æˆæœå±•ç¤º</h3>
<h4 data-id="heading-17">1. éƒ¨ç½²é˜¶æ®µ</h4>
<p>åœ¨é¡¹ç›®â€œAIè¯†èœé€šâ€çš„æœ€ç»ˆéƒ¨ç½²é˜¶æ®µï¼Œæˆ‘é€‰æ‹©äº† Vercel ä½œä¸ºå‰ç«¯åº”ç”¨çš„æ‰˜ç®¡å¹³å°ã€‚Vercel ä»¥å…¶å“è¶Šçš„å¼€å‘è€…ä½“éªŒå’Œå¯¹ç°ä»£å‰ç«¯æ¡†æ¶çš„æ·±åº¦æ”¯æŒï¼Œæå¤§ç®€åŒ–äº†éƒ¨ç½²æµç¨‹ã€‚æœ¬é¡¹ç›®åŸºäº React æ„å»ºï¼Œå¹¶ä½¿ç”¨äº† shadcn/ui å’Œ Radix UI ç»„ä»¶åº“ï¼ŒVercel èƒ½è‡ªåŠ¨è¯†åˆ«é¡¹ç›®ç»“æ„ï¼Œå®ç°ä¸€é”®éƒ¨ç½²å’ŒæŒç»­é›†æˆã€‚æ¯æ¬¡ä»£ç æ¨é€è‡³ GitHub ä»“åº“ï¼ŒVercel éƒ½ä¼šè‡ªåŠ¨æ„å»ºå¹¶ç”Ÿæˆé¢„è§ˆé“¾æ¥ï¼Œæ–¹ä¾¿å¿«é€Ÿæµ‹è¯•ä¸è¿­ä»£ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒVercel æä¾›å…¨çƒè¾¹ç¼˜ç½‘ç»œåˆ†å‘ï¼Œç¡®ä¿ç”¨æˆ·æ— è®ºèº«å¤„ä½•åœ°ï¼Œéƒ½èƒ½å¿«é€ŸåŠ è½½åº”ç”¨é¡µé¢ã€‚æ•´ä¸ªâ€œAIè¯†èœé€šâ€ä»å‰ç«¯äº¤äº’ã€å›¾ç‰‡ä¸Šä¼ ï¼Œåˆ°è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹è¿›è¡Œå¤šè¯­è¨€èœå•è¯†åˆ«ä¸èœå“å›¾åƒç”Ÿæˆï¼Œæœ€ç»ˆç”Ÿæˆç‚¹é¤å­—ç¬¦ä¸²ï¼Œå…¨éƒ¨é€šè¿‡ Vercel é«˜æ•ˆã€ç¨³å®šåœ°äº¤ä»˜ç»™ç”¨æˆ·ã€‚å€ŸåŠ© Vercel çš„å…è´¹è®¡åˆ’å’Œæ— ç¼ DevOps èƒ½åŠ›ï¼Œæˆ‘å¾—ä»¥å°†ç²¾åŠ›èšç„¦åœ¨æ ¸å¿ƒ AI åŠŸèƒ½å¼€å‘ä¸Šï¼Œè€Œæ— éœ€æ‹…å¿ƒæœåŠ¡å™¨è¿ç»´ï¼ŒçœŸæ­£å®ç°äº†â€œå¼€å‘å³éƒ¨ç½²â€çš„ç°ä»£ Web å¼€å‘ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9a28175eda0480c9d763a163df8f364~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=ywg84FUoWdJJ4H6kPbDDS6PSOTw%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸”æ•´ä½“çš„éƒ¨ç½²æµç¨‹ä¹Ÿä»…ä»…åªéœ€è¦ä¸€å¥è¯è€Œå·²ï¼Œå¦‚æœè¯´ç¼ºå°‘äº†KEYæˆ–è€…ä¾èµ–ç­‰ç­‰ï¼ŒTraeä¹Ÿä¼šåŠæ—¶çš„æé†’ä½ è¡¥å……ä¿¡æ¯ï¼Œçœå»äº†ç¹ççš„éƒ¨ç½²æµç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d41e6bd5cb1342a59628deb1064156a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=PUpvlUgwm%2Btthk42HEncyG9vaQk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">2. é¦–é¡µ</h4>
<p>é‚£ä¹ˆåœ¨éƒ¨ç½²å®Œæ¯•ä¹‹åè®¿é—®AIè¯†èœé€šç½‘å€çš„ç¬¬ä¸€å°è±¡å°±æ˜¯é¦–é¡µï¼Œå¯ä»¥è¯´è¿™ä¸ªç•Œé¢æ•´ä½“ï¼Œç®€æ´å¤§æ°”ï¼Œæ¯”å¾ˆå¤šç«å“ç”Ÿæˆçš„éƒ½è¦çˆ½ç›®ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å–œæ¬¢Trae Soloçš„ç‚¹ï¼Œå®¡ç¾éå¸¸åœ¨çº¿ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbd94394485b42c0a8d18bd1a8f0fe47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kdEFjkXU71MQ4uymHFBLbNICSC4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19">3. è®¾ç½®APIå¯†é’¥</h4>
<p>é‚£ä¹ˆæƒ³è¦ä½¿ç”¨æœ¬é¡¹ç›®çš„è¯ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®¾ç½®è±†åŒ…å¤§æ¨¡å‹çš„APIå¯†é’¥ï¼Œè¿™é‡Œå£°æ˜ä¸€ä¸‹ï¼šç”¨æˆ·è‡ªå·±çš„APIå¯†é’¥å­˜æ”¾åœ¨æœ¬åœ°çš„storageä¸­ï¼Œå¹¶ä¸ä¼šä¸Šä¼ åˆ°äº‘ç«¯ï¼Œç¡®ä¿ç”¨æˆ·çš„å¯†é’¥å®‰å…¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cf0991be7c84779ba4be14ddd42d2ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kShZ5EDCp8cUwbvXnueAhOryRW4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/732bddb7b9944556ba522f961734402b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=WId%2Fqww%2FLYh%2B824qRSK1gB5owrU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">4. è¯†åˆ«èœå•</h4>
<p>å‰ç½®æ¡ä»¶å‡†å¤‡å¥½ä¹‹åï¼Œæˆ‘ä»ç½‘ä¸Šä¸‹è½½äº†ä¸€ä»½è‹±æ–‡èœå•è¿›è¡Œæµ‹è¯•ï¼Œçœ‹çœ‹é¡¹ç›®åˆ°åº•èƒ½ä¸èƒ½æ‰“ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a8b01c7e6484bd98197f4c200a9e38d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=OZMZdEIyZ9fBJpp%2BwJD51P%2Bl5SI%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¼ å›¾ç‰‡ä¹‹åé¡¹ç›®å°±ä¼šè°ƒç”¨è±†åŒ…å¤§æ¨¡å‹è¿›è¡Œåˆ†æï¼Œæ•´ä½“çš„æ—¶é—´æ ¹æ®èœå•å†…å®¹çš„å¤šå°‘ä¼šæœ‰äº›å‡ºå…¥ï¼Œé™é™ç­‰å¾…å‡ åˆ†é’Ÿå°±å¥½ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbf62791e0014ee98df2d66986f2e322~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=kp0FqrH4up%2FIWKIUTO0GVvoKEPs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d9e028a4ee4c5bb94e9f3f0d2dd55f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=qMfrUtCdE4UMPZaBEt3XKOKNvDk%3D" alt="" loading="lazy"/></p>
<p>èœå•è¯†åˆ«å®Œæ¯•ä¹‹åï¼Œé¦–é¡µä¼šæç¤ºï¼Œç‚¹å‡»å»ç‚¹èœå³å¯çœ‹åˆ°ç”Ÿæˆçš„ä¸­æ–‡èœå•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b631edb6b82d42c18b7b1a2bf7c883bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=TaTJnHFmWyJpLnOy4SX11UjHiZQ%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯ç”Ÿæˆåçš„ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„å›¾ç‰‡æ˜¯å¾ˆç¬¦åˆèœå•ä¸­çš„æ ·å­çš„ï¼Œè¿™æ ·è®©æœ¬æ¥æ™¦æ¶©éš¾æ‡‚çš„èœå•æœ‰äº†æ´»åŠ›ï¼Œè¿™ä¹Ÿè®¸å°±æ˜¯ç§‘æŠ€å¸¦ç»™æˆ‘ä»¬çš„æ„ä¹‰å§ï¼ŒæœåŠ¡ç”Ÿæ´»ï¼Œç„¶åè¿™æ ·å°±å¯ä»¥é¡ºåˆ©ç‚¹èœäº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a3e3884fc3d4951ba4e2b16380db4f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=Z%2B2z0xzacf8fNPu%2FhTeh15FjACQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2f02085bd4648a6a7da0d6b6f7c6684~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=y%2BlCJkUMqHGyFfsMl1e7tTG%2BmOw%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">5. ç‚¹é¤è¿›å…¥è´­ç‰©è½¦</h4>
<p>é€‰æ‹©è‡ªå·±éœ€è¦ç‚¹çš„è§†é¢‘åŠ å…¥è´­ç‰©è½¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ea2e4fe2efa4c6881d76b269c6771df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=LnmpmS2uK6Oie9dbabQZ34gupDo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afa908f196ee491cbc60bf5a327a4023~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=GQ3xRpiE8vcWCXt8VzWHFZAeJH0%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ç”Ÿæˆè®¢å•æ±‡æ€»ï¼Œä¼šç”Ÿæˆä¸€ä»½åˆšåˆšçš„ç‚¹èœTXTæ ¼å¼çš„æ¸…å•ï¼š<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6182f8189e7c422999cef368d8bf236c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgX-aRmOaYn18=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976390&amp;x-signature=hPaq8oUHX%2FnSKYg9G%2BK5Rmhp1Gs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-22">æ€»ç»“</h3>
<p>â€œAIè¯†èœé€šâ€æ˜¯ä¸€ä¸ªèåˆå¤šæ¨¡æ€AIèƒ½åŠ›çš„æ™ºèƒ½ç‚¹é¤åº”ç”¨ï¼Œé€šè¿‡ç”¨æˆ·ä¸Šä¼ ä»»æ„è¯­è¨€çš„èœå•å›¾ç‰‡ï¼Œè‡ªåŠ¨è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹ï¼ˆdoubao-seed-1.6-visionï¼‰è¿›è¡Œè§†è§‰è¯†åˆ«ä¸ç¿»è¯‘ï¼Œå†ç»“åˆ Seedream 4.0 ç”Ÿæˆé«˜è´¨é‡èœå“å›¾åƒï¼Œæœ€ç»ˆå®ç°ç»“æ„åŒ–ä¸­æ–‡èœå•å±•ç¤ºã€è´­ç‰©è½¦ç®¡ç†ä¸ç‚¹é¤æ¸…å•ç”Ÿæˆã€‚æ•´ä¸ªé¡¹ç›®é‡‡ç”¨ React + TypeScript æŠ€æœ¯æ ˆï¼Œé›†æˆ shadcn/ui ä¸ Radix UI ç»„ä»¶åº“ï¼Œæ‰€æœ‰æ•°æ®ï¼ˆåŒ…æ‹¬ API å¯†é’¥ï¼‰å‡æœ¬åœ°å­˜å‚¨äºæµè§ˆå™¨ LocalStorageï¼Œæ— éœ€åç«¯ä¾èµ–ã€‚é¡¹ç›®é€šè¿‡ Vercel å®ç°ä¸€é”®éƒ¨ç½²ï¼Œå…·å¤‡å®Œæ•´çš„å“åº”å¼è®¾è®¡ä¸æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚</p>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰æˆä¸ºé¡¹ç›®æˆåŠŸçš„å…³é”®ã€‚ç›¸æ¯”ä¼ ç»Ÿ Prompt Engineeringï¼ŒTrae Solo æä¾›çš„ç»“æ„åŒ–ä¸Šä¸‹æ–‡å»ºæ¨¡ã€åŠ¨æ€æ³¨å…¥ã€å¤šè½®æ„å›¾å¯¹é½ä¸é”™è¯¯é™çº§æœºåˆ¶ï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿåœ¨å¤æ‚ä»»åŠ¡ä¸­çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ã€‚å°¤å…¶åœ¨å¤šæ¨¡å‹ååŒï¼ˆè§†è§‰è¯†åˆ« + å›¾åƒç”Ÿæˆï¼‰ã€çŠ¶æ€ç®¡ç†ï¼ˆå¦‚è´­ç‰©è½¦åŒæ­¥ã€å›¾ç‰‡ç”ŸæˆçŠ¶æ€è¿½è¸ªï¼‰å’Œå¼‚å¸¸å¤„ç†ï¼ˆå¦‚ API è°ƒç”¨å¤±è´¥å›é€€ï¼‰æ–¹é¢ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹è®©æ•´ä¸ªæµç¨‹æ›´å¯æ§ã€å¯ç»´æŠ¤ã€‚æ­¤å¤–ï¼Œå°† API å¯†é’¥ç»Ÿä¸€ç®€åŒ–ä¸ºå•å­—æ®µé…ç½®ã€åŠ å…¥è¯†åˆ«è¿›åº¦æ¡ç­‰ç»†èŠ‚ä¼˜åŒ–ï¼Œä¹Ÿæå¤§æå‡äº†ç”¨æˆ·ä½“éªŒã€‚</p>
<p>Trae Solo ä¸ä»…æ˜¯ä¸€æ¬¾å¼€å‘å·¥å…·ï¼Œæ›´åƒä¸€ä½â€œå…¨æ ˆ AI å·¥ç¨‹å¸ˆæ­æ¡£â€ã€‚å®ƒä»éœ€æ±‚ç†è§£å¼€å§‹ï¼Œè‡ªåŠ¨ç”Ÿæˆäº§å“æ–‡æ¡£ä¸æŠ€æœ¯æ¶æ„ï¼Œå†é€æ­¥å®Œæˆé¡¹ç›®åˆå§‹åŒ–ã€ä¾èµ–å®‰è£…ã€ç»„ä»¶å¼€å‘ã€é”™è¯¯ä¿®å¤ä¸éƒ¨ç½²ä¸Šçº¿ï¼Œå…¨ç¨‹ä¸æ»‘æµç•…ã€‚å…¶ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›æå¼ºâ€”â€”å³ä½¿ä¸­é€”æ‰“æ–­æˆ–ä¿®æ”¹éœ€æ±‚ï¼Œä¹Ÿèƒ½åŸºäºå·²æœ‰ä¸Šä¸‹æ–‡æ™ºèƒ½è°ƒæ•´ï¼Œç¡®ä¿é€»è¾‘è¿è´¯ã€‚æ›´éš¾å¾—çš„æ˜¯ï¼Œå®ƒå¯¹å¼€å‘è€…ä½“éªŒæåº¦å‹å¥½ï¼šè‡ªåŠ¨å¤„ç†ä¾èµ–å†²çªã€ä¸€é”®ä¿®å¤è¯­æ³•é”™è¯¯ã€å®æ—¶é¢„è§ˆæ•ˆæœï¼ŒçœŸæ­£å®ç°äº†â€œTalk. Think. Ship.â€çš„å¼€å‘å“²å­¦ã€‚ä½œä¸ºå›½äº§ä¸Šä¸‹æ–‡å·¥ç¨‹ IDE çš„å…ˆè¡Œè€…ï¼ŒTrae Solo æå¤§é™ä½äº†å¤æ‚ AI åº”ç”¨çš„å¼€å‘é—¨æ§›ï¼Œå ªç§°â€œå›½äº§ä¹‹å…‰â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œäº‘å¼ æ™¨ å—é‚€å‚åŠ KCD æ­å·ç«™ x OpenInfra Days Chinaï¼Œåˆ†äº«AIæ—¶ä»£çš„å¤§å‹é›†ç¾¤æ•°æ®å¤„ç†ä¹‹é“]]></title>    <link>https://juejin.cn/post/7573521516323815451</link>    <guid>https://juejin.cn/post/7573521516323815451</guid>    <pubDate>2025-11-17T09:41:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573521516323815451" data-draft-id="7573525927792541722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œäº‘å¼ æ™¨ å—é‚€å‚åŠ KCD æ­å·ç«™ x OpenInfra Days Chinaï¼Œåˆ†äº«AIæ—¶ä»£çš„å¤§å‹é›†ç¾¤æ•°æ®å¤„ç†ä¹‹é“"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-17T09:41:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œäº‘å¼ æ™¨ å—é‚€å‚åŠ KCD æ­å·ç«™ x OpenInfra Days Chinaï¼Œåˆ†äº«AIæ—¶ä»£çš„å¤§å‹é›†ç¾¤æ•°æ®å¤„ç†ä¹‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:41:05.000Z" title="Mon Nov 17 2025 09:41:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AIæ­£åœ¨é‡å¡‘ä¸€åˆ‡ï¼Œé©±åŠ¨äº‘åŸç”ŸåŸºç¡€è®¾æ–½ç»å†å…¶è¯ç”Ÿä»¥æ¥æœ€æ·±åˆ»çš„å˜é©ã€‚è¿™ä¸€å˜é©å¯¹åº•å±‚è®¾æ–½æå‡ºäº†å‰æ‰€æœªæœ‰çš„æ–°è¦æ±‚ï¼šæ›´æè‡´çš„å¼¹æ€§ä¼¸ç¼©ã€æ›´é«˜æ•ˆçš„ç®—åŠ›åˆ©ç”¨ã€æ›´å¤æ‚çš„è·¨åŸŸè°ƒåº¦å’Œæ›´å…¨é¢çš„å®‰å…¨é˜²æŠ¤ã€‚é¢å¯¹å¦‚æ­¤ç³»ç»Ÿæ€§çš„æŒ‘æˆ˜ï¼Œå•ä¸€æŠ€æœ¯æ ˆæˆ–ç¤¾åŒºå·²éš¾ä»¥ç»™å‡ºå®Œç¾ç­”æ¡ˆã€‚</p>
<p>KCDï¼ˆKubernetes Community Daysï¼ŒKubernetes ç¤¾åŒºæ—¥ï¼‰æ˜¯ç”±ç¤¾åŒºç»„ç»‡çš„æ´»åŠ¨ï¼Œæ±‡èšå¼€æºå’Œäº‘åŸç”Ÿé¢†åŸŸçš„é‡‡ç”¨è€…å’ŒæŠ€æœ¯äººå‘˜ï¼Œæ—¨åœ¨ä¿ƒè¿›æ•™è‚²ã€åä½œå’Œäº¤æµã€‚KCD æ´»åŠ¨ç”±äº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼ˆCNCFï¼‰æä¾›æ”¯æŒã€‚</p>
<p>OpenInfra Days æ¯å¹´ç”±å¼€æºç¤¾åŒºç”Ÿæ€ç³»ç»Ÿä¸­çš„æœ¬åœ°ç”¨æˆ·ç»„å’Œå…¬å¸ç»„ç»‡å’Œä¸»åŠï¼ŒåŒ…å«ä¸»é¢˜æ¼”è®²ã€åˆ†ç»„ä¼šè®®ç”šè‡³ç ”è®¨ä¼šã€‚è¿™æ˜¯ä¸€ä¸ªç»ä½³çš„æœºä¼šï¼Œåœ¨æ´»åŠ¨ä¸Šå¯ä»¥ç›´æ¥è†å¬æ°å‡ºçš„å¼€æºåŸºç¡€è®¾æ–½é¢†å¯¼è€…çš„æ¼”è®²ï¼Œå­¦ä¹ ç”¨æˆ·æ¡ˆä¾‹ï¼Œå»ºç«‹äººè„‰ï¼Œå¹¶èå…¥å½“åœ°ç¤¾åŒºã€‚</p>
<p><strong>ä»Šå¹´ç”±ä¸¤ä¸ªç¤¾åŒºç»„ç»‡è”åˆå‘èµ·çš„å¼€åˆ›æ€§èåˆç››ä¼šï¼Œæ ‡å¿—ç€äº‘è®¡ç®—é¢†åŸŸä¸¤å¤§æ ¸å¿ƒåŸºç¡€è®¾æ–½æŠ€æœ¯çš„æ·±åº¦åä½œä¸åˆ›æ–°ã€‚å®ƒå……åˆ†å±•ç°äº†å¼€æºç¤¾åŒºçš„å¼€æ”¾ç²¾ç¥å’Œè·¨ç¤¾åŒºåä½œçš„å¼ºå¤§åŠ›é‡ï¼Œæˆ‘ä»¬å°†å…±åŒæ¨åŠ¨ AI ä¸äº‘è®¡ç®—æŠ€æœ¯ çš„è¿›æ­¥ä¸å‘å±•ã€‚</strong></p>
<p>æœ¬æ¬¡ä¼šè®®ç”± äº¬ä¸œï¼Œäºšé©¬é€Š, Nvidia, é˜¿é‡Œï¼Œèš‚èšï¼Œå­—èŠ‚ï¼Œç™¾åº¦ï¼Œåä¸ºï¼Œä¸­ç§‘é™¢, Linux foundationç­‰å›½å†…å¤–é¡¶çº§ä¸“å®¶å­¦è€…åˆ†äº«CNCF/openinfraç›¸å…³æŠ€æœ¯è®®é¢˜ã€‚æœ¬æ¬¡ä¼šè®®JDOS çš„Chenå› Kata containerç­‰å¼€æºç¤¾åŒºè´¡çŒ®å—é‚€å‚åŠ æ­¤æ¬¡ä¼šè®®å¹¶åšå‡ºæŠ€æœ¯åˆ†äº«ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0469bfb7087b47c4a753dff947d127e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977265&amp;x-signature=EES9X8mAFeQwfaPuRytoIE43uw8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½œä¸ºå¯¹å…±åŒæŒ‘æˆ˜çš„å›åº”ï¼ŒKCDæ­å·ç«™ä¸OpenInfra Days Chinaå°†äº11æœˆ15æ—¥åœ¨æ­å·é¦–åº¦è”åˆä¸¾åŠï¼Œå…±åŒå‘ˆç°ä¸€åœºå¼€åˆ›æ€§çš„æŠ€æœ¯ç››ä¼šã€‚è¿™æ ‡å¿—ç€å›´Kubernetesæ•æ·åº”ç”¨ç¼–æ’ä¸OpenInfraç¨³å®šåŸºç¡€è®¾æ–½æ„å»ºçš„ä¸¤å¤§ç”Ÿæ€ï¼Œæ­£ä¸»åŠ¨æ‰“ç ´å£å’ï¼Œè¿ˆå‘èåˆååŒçš„æ–°é˜¶æ®µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d83cde56dca44b0bb57855e1c052686~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977265&amp;x-signature=F7bhyXMWkCte05huL5Kp7m0V748%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>äº¬ä¸œäº‘é«˜çº§å·¥ç¨‹å¸ˆå¼ æ™¨å—é‚€å°†åœ¨æœ¬æ¬¡å¤§ä¼šä¸­è¿›è¡Œåˆ†äº«ï¼Œä»–çš„ä¸»é¢˜æ˜¯ã€Šå¤§å‹é›†ç¾¤ä¸­çš„æ•°æ®å¤„ç†ï¼šå¦‚ä½•å…¼é¡¾æ•ˆç‡ã€å¯æ‹“å±•æ€§ä¸å¯æŒç»­æ€§ã€‹ã€‚</p>
<h4 data-id="heading-0">Chen Zhang</h4>
<p>Chen Zhang is a staff software engineer at JD cloud and a maintainer of theÂ </p>
<p>QEMU project. He works in the virtualization field for many years. Â As an accomplished speaker, Chen has presented at several international conferences, including KVM Forum 2022, Xen Summit 2019, LinuxCon China 2017, Open Source Summit Japan 2017, and CLK 2022, among others.</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4860af0c2a64a8eab8964ab2d3b7dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977265&amp;x-signature=Xnfa1HtQP0Zw1VTzZY0PNR%2B%2BRJQ%3D" alt="å›¾ç‰‡" loading="lazy"/>åœ¨AIé©±åŠ¨çš„æ•°æ®æ´ªæµæ—¶ä»£ï¼Œå¤§è§„æ¨¡é›†ç¾¤çš„æ•°æ®å¤„ç†èƒ½åŠ›æ˜¯è¡¡é‡äº‘åŸºç¡€è®¾æ–½æ ¸å¿ƒç«äº‰åŠ›çš„å…³é”®ã€‚å¼ æ™¨å°†åŸºäºäº¬ä¸œäº‘åœ¨è¶…å¤§è§„æ¨¡å¤æ‚åœºæ™¯ä¸‹çš„æ·±åšå®è·µï¼Œåˆ†äº«å¦‚ä½•æ„å»ºæ—¢é«˜æ•ˆã€åˆå¯å¹³æ»‘æ‰©å±•ï¼ŒåŒæ—¶ä¿è¯é•¿æœŸè¿è¥å¯æŒç»­æ€§çš„æ•°æ®å¤„ç†æ¶æ„ä¸ç­–ç•¥ã€‚ä»–çš„åˆ†äº«å°†ä¸ºä¸šç•ŒåŒè¡Œåº”å¯¹ç›¸ä¼¼æŒ‘æˆ˜æä¾›å®è´µçš„æ€è·¯ä¸å®æˆ˜ç»éªŒã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e7ba332520f47d59cca2b0227d0c03b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977265&amp;x-signature=jzC%2B6ImdtXZiZHjYCpzgFs1OhRs%3D" alt="å›¾ç‰‡" loading="lazy"/>è¿è¥å¤§å‹ Kubernetes é›†ç¾¤çš„ä¼ä¸šé¢ä¸´ä¸€ä¸ªå…³é”®éš¾é¢˜ï¼šå¦‚ä½•åœ¨ä¸ç‰ºç‰²å®¹å™¨æ€§èƒ½ä¸å¯†åº¦çš„å‰æä¸‹å®ç°å¼ºéš”ç¦»ã€‚é€šè¿‡é‡‡ç”¨ Kata å®¹å™¨ï¼Œäº¬ä¸œäº‘æˆåŠŸå®ç°äº†å®‰å…¨ä¸æ€§èƒ½éš”ç¦»ï¼Œå¹¶æ”¯æŒåœ¨çº¿åº”ç”¨ä¸ç¦»çº¿ä»»åŠ¡åœ¨æ•°åä¸‡ä¸ªèŠ‚ç‚¹ä¸Šçš„å…±å¤„è€Œå½¼æ­¤äº’ä¸å¹²æ‰°ï¼Œå¤§å¹…æé«˜ç‰©ç† CPU çš„åˆ©ç”¨ç‡ä»¥èŠ‚çœå·¨é¢æˆæœ¬ã€‚è¿™ä¸€æ–¹å¼åœ¨â€œ618 è´­ç‰©èŠ‚â€æœŸé—´æ˜¾è‘—é™ä½èƒ½è€—ã€‚æœ¬æ¬¡æ¼”è®²å°†æ·±å…¥è§£æäº¬ä¸œåœ¨éƒ¨ç½² Kata å®¹å™¨ä¸­çš„å†ç¨‹ï¼Œæ¶µç›–æ¶æ„è®¾è®¡ã€åŠ¨æœºå‡ºå‘ç‚¹åŠå…³é”®æ€§èƒ½æŒ‡æ ‡ã€‚å¦å¤–åˆ†äº«äº¬ä¸œè‡ªç ”çš„Kata Disk I/O æ€§èƒ½åŠ é€ŸæŠ€æœ¯ï¼Œå¯¹æ¯”é»˜è®¤é…ç½®å¯æœ€é«˜æå‡40%çš„é€šç”¨ç£ç›˜æ€§èƒ½ã€‚æˆ‘å°†åˆ†äº«ä¸€å¥—ç»å®é™…éƒ¨ç½²çš„æ–¹æ¡ˆç»éªŒï¼Œå¦‚ä½•åœ¨ä¸¥è‹›çš„çœŸå®åœºæ™¯ä¸­åŸºäºè™šæ‹Ÿæœºçš„éš”ç¦»æå‡å®‰å…¨æ€§ä¸æ•ˆç‡ï¼Œå¹¶å‰–æå…¶å®é™…åº”ç”¨ä»·å€¼ä¸æ³¨æ„äº‹é¡¹ã€‚<br/>
äº¬ä¸œäº‘é«˜çº§å·¥ç¨‹å¸ˆ-å¼ æ™¨ ã€Šå¤§å‹é›†ç¾¤ä¸­çš„æ•°æ®å¤„ç†ï¼šå¦‚ä½•å…¼é¡¾æ•ˆç‡ã€å¯æ‹“å±•æ€§ä¸å¯æŒç»­æ€§ã€‹ç°åœºåˆ†äº«å†…å®¹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80230b8bba7e46e998ca6975e4a74b23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977265&amp;x-signature=FvMjxeLHw5uoaDBD7XClAe35T2k%3D" alt="å›¾ç‰‡" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Win11æœ€æ–°å¼€å‘ç‰ˆå¼€æºå·¥å…·æ–°ç‰ˆå‘å¸ƒï¼Œè“å±ã€æ­»æœºåŸå› ã€å†…å­˜è¯Šæ–­åŠŸèƒ½éƒ½æœ‰ï¼Œæ•™ç¨‹æ¥äº†]]></title>    <link>https://juejin.cn/post/7573525927792607258</link>    <guid>https://juejin.cn/post/7573525927792607258</guid>    <pubDate>2025-11-17T09:43:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573525927792607258" data-draft-id="7566845621001535498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Win11æœ€æ–°å¼€å‘ç‰ˆå¼€æºå·¥å…·æ–°ç‰ˆå‘å¸ƒï¼Œè“å±ã€æ­»æœºåŸå› ã€å†…å­˜è¯Šæ–­åŠŸèƒ½éƒ½æœ‰ï¼Œæ•™ç¨‹æ¥äº†"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-11-17T09:43:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœç½—ä¸‡ç›¸"/> <meta itemprop="url" content="https://juejin.cn/user/4116175105041085"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Win11æœ€æ–°å¼€å‘ç‰ˆå¼€æºå·¥å…·æ–°ç‰ˆå‘å¸ƒï¼Œè“å±ã€æ­»æœºåŸå› ã€å†…å­˜è¯Šæ–­åŠŸèƒ½éƒ½æœ‰ï¼Œæ•™ç¨‹æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4116175105041085/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœç½—ä¸‡ç›¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:43:11.000Z" title="Mon Nov 17 2025 09:43:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆå·¥å…·ï¼Ÿ</h2>
<p>ViveToolæ˜¯ä¸€æ¬¾ä¸“ä¸ºWindowsç³»ç»Ÿè®¾è®¡çš„å¼€æºå·¥å…·ï¼Œä¸»è¦ç”¨äºå¯ç”¨ç³»ç»Ÿä¸­çš„å®éªŒæ€§éšè—åŠŸèƒ½ã€‚</p>
<p>å®ƒæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹å¼€æºçš„C#åº“å’Œæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œä¹Ÿæä¾›GUIç‰ˆæœ¬ã€‚ViveToolé€šè¿‡åŠŸèƒ½IDæ¥è¯†åˆ«å¯ç”¨åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæˆ–GUIå®ç”¨ç¨‹åºï¼Œä½¿ç”¨åŠŸèƒ½IDæ¥å¯ç”¨æˆ–ç¦ç”¨Windowsè®¡ç®—æœºä¸Šçš„æŸäº›åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨â€œvivetool /enable /id:åŠŸèƒ½IDâ€å‘½ä»¤å¯ä»¥å¯ç”¨ç‰¹å®šåŠŸèƒ½ï¼Œä½¿ç”¨â€œvivetool /disable /id:åŠŸèƒ½IDâ€å‘½ä»¤åˆ™å¯ä»¥ç¦ç”¨åŠŸèƒ½ã€‚</p>
<p>ViveToolä¸»è¦ç”¨äºWindows 10å’ŒWindows 11ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›è¿è¡ŒWindows 11å¼€å‘ç‰ˆæˆ–Insider Previewç‰ˆæœ¬çš„ç”¨æˆ·æ¥è¯´ï¼Œå®ƒå¯ä»¥å¸®åŠ©ç”¨æˆ·ç»•è¿‡å¾®è½¯å®æ–½çš„A/Bæµ‹è¯•é™åˆ¶ï¼Œä¸€äº›ä»…å¯¹éƒ¨åˆ†ç”¨æˆ·å¼€æ”¾çš„æ–°åŠŸèƒ½å¯ä»¥è¢«æ‰€æœ‰æ„Ÿå…´è¶£çš„ç”¨æˆ·æ‰€ä½¿ç”¨ã€‚è¿™äº›åŠŸèƒ½æœ¬è´¨ä¸Šæ˜¯å®éªŒæ€§çš„ï¼Œæ¿€æ´»å®ƒä»¬æœ‰æ—¶å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œå› æ­¤åœ¨ä½¿ç”¨å‰æœ€å¥½å¤‡ä»½ç³»ç»Ÿã€‚</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bf1d23644c84db5875aa3eb02a5012f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=gB8Y6BEvUPkIdmDfhW6I1ofqXrE%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>å¾®è½¯å®˜æ–¹è¡¨ç¤ºï¼Œæ¨å‡ºè¯¥åŠŸèƒ½çš„ä¸»è¦ç›®çš„æ˜¯å¸®åŠ©æå‡ç³»ç»Ÿçš„å¯é æ€§ã€‚å¦‚æœä½ çš„ç”µè„‘å‡ºç°é”™è¯¯æ£€æŸ¥ï¼ˆæ„å¤–é‡å¯ï¼‰ï¼Œå¯èƒ½ä¼šåœ¨ç™»å½•æ—¶çœ‹åˆ°ä¸€æ¡é€šçŸ¥ï¼šå»ºè®®è¿›è¡Œå¿«é€Ÿå†…å­˜æ‰«æã€‚</p>
<h2 data-id="heading-1">å¸¸è§çš„ä¸€äº›é—®é¢˜</h2>
<p>è“å±å¥”æºƒé—®é¢˜ï¼›</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d72fbcbda1d64082a6ef795bb80344ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=uYuUVr5aXsnL0h%2B8RyEtYWkgbKY%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>è«åæœªçŸ¥é—®é¢˜ï¼›</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6db9e8fa7b53474e8b71578abd4df67d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=e3M19%2FFf61bZLvhgQ9izMDk7%2B8o%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>å’Œå†…å­˜ç›¸å…³çš„å´©æºƒã€è“å±æ­»æœºåŠé»‘å±é—®é¢˜ï¼Œè€Œä¸”è¿™ç§æ•…éšœçš„è¯±å› è¾ƒä¸ºå¤šæ ·ï¼Œåƒå†…å­˜è¿è¡Œä¸ç¨³å®šã€å†…å­˜ç¡¬ä»¶å‡ºç°æ•…éšœã€å†…å­˜æ¨¡å—å‹å·ä¸å…¼å®¹ï¼Œæˆ–è€…æ˜¯XMP/EXPOè¶…é¢‘å‚æ•°è®¾ç½®ä¸åˆç†ç­‰ï¼Œéƒ½å¯èƒ½å¯¼è‡´é—®é¢˜å‘ç”Ÿã€‚</p>
<p>é€šè¿‡ä¸»åŠ¨æ‰§è¡Œå†…å­˜è¯Šæ–­æ‰«æï¼Œè¯¥è½¯ä»¶å¯ä»¥åˆ¤æ–­è®¾å¤‡å´©æºƒæ˜¯å¦ç”±å†…å­˜ç›¸å…³é—®é¢˜å¼•å‘è¿˜æ˜¯ä»€ä¹ˆå…¶å®ƒåŸå› ã€‚</p>
<p>å†…å­˜è¯Šæ–­åŠŸèƒ½å°†ç‡å…ˆåœ¨Windows 11 Insider Preview Build 26220.6982ï¼ˆå¼€å‘è€…é¢‘é“ï¼‰ä¸­ä¸Šçº¿ã€‚</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaef316666a744699d986917d8c197c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=o6d5de9VeGt2SmH%2BooToREQLwNE%3D" alt="alt text" loading="lazy"/>â€‹</p>
<h2 data-id="heading-2">ä½¿ç”¨æ•™ç¨‹</h2>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ba2e4cb907f4bc8aa8634922fc5adc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=utTqBS7vZybLJYW4r%2BIDRWKRDZU%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>å‘½ä»¤æç¤ºç¬¦ï¼šå³é”®ç‚¹å‡»å¼€å§‹èœå•é€‰æ‹©ç»ˆç«¯æˆ–ç»ˆç«¯ç®¡ç†å‘˜ï¼Œåœ¨ç»ˆç«¯è®¾ç½®é‡Œæ‰¾åˆ°å‘½ä»¤æç¤ºç¬¦ï¼Œå°†ç®¡ç†å‘˜èº«ä»½è¿è¡Œé…ç½®æ–‡ä»¶å¯ç”¨ã€‚</p>
<p>ç»ˆç«¯è®¾ç½®éœ€è¦ç‚¹å‡»å³ä¸Šè§’çš„å°ç®­å¤´é€‰ä¸­</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9195b7acd434aa0bd21ac1193e622d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=w01jf89cqRb7%2FfIet9ddNw9ZL%2Bg%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>ç„¶ååœ¨ç»ˆç«¯è®¾ç½®é‡Œå¸¦ç‚¹å‡»å·¦ä¾§å¯¼èˆªæ çš„å¯åŠ¨ï¼Œåœ¨æœ€ä¸Šé¢å°†é»˜è®¤é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸ºå‘½ä»¤æç¤ºç¬¦ï¼Œå®Œæˆåå†ç‚¹å‡»åº•éƒ¨ä¿å­˜æŒ‰é’®ã€‚å¦‚æœæ˜¯PowerShellä¹Ÿå¯ä»¥ã€‚</p>
<p>é¦–å…ˆä¸‹è½½ ViveTool å·¥å…·ï¼Œä¸‹è½½å®Œæˆåå°†å…¶è§£å‹åˆ°ç”µè„‘ä»»æ„æŒ‡å®šä½ç½®ã€‚æ¥ä¸‹æ¥æ‰¾åˆ° ViveTool çš„è§£å‹æ–‡ä»¶å¤¹å¹¶è¿›å…¥ï¼Œåœ¨æ–‡ä»¶è·¯çº¢ä¸Šé¢ç›´æ¥è¾“å…¥cmdæŒ‰å›è½¦ã€‚</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7fd120ba6f644a29d010ae95323cef7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=KtwO2K%2FOUwC48M3u3Y5GdH%2FUxDY%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>ç„¶ååœ¨ç»ˆç«¯é‡Œæ•²å…¥ â€œvivetoolâ€ï¼ŒæŒ‰å›è½¦çœ‹çœ‹ä¼šä¸ä¼šæŠ¥é”™ã€‚å¦‚æœèƒ½æ­£å¸¸å¼¹å‡ºä¸€å †å‚æ•°è¯´æ˜ï¼Œå°±è¯´æ˜ä¹‹å‰çš„æ­¥éª¤éƒ½æ²¡é—®é¢˜ï¼›å¦‚æœæ˜¯å¼¹å‡ºçº¢è‰²é”™è¯¯æˆ–è€…æç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ï¼Œé‚£å¯èƒ½æ˜¯æ–‡ä»¶å¤¹æ²¡æ‰¾å¯¹ï¼Œç»§ç»­é‡æ–°æ¥ä¸€éã€‚</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/714d59ac17714c3b85aa9ce9abaeac9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=HnhN75Hjt9wc7%2FWMlf1nPcgNLaw%3D" alt="alt text" loading="lazy"/>â€‹</p>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment">#åœ¨ViveTool v3.0+ç‰ˆä¸­ï¼Œå¯ç”¨å’Œç¦ç”¨åŠŸèƒ½åˆ†åˆ«å¦‚ä¸‹</span>
<span class="hljs-comment">#å¯ç”¨æŸä¸ªåŠŸèƒ½</span>
vivetool /enable /id:æ•°å­—
<span class="hljs-comment">#ç¦ç”¨æŸä¸ªåŠŸèƒ½</span>
vivetool /disable /id:æ•°å­—
<span class="hljs-comment">#æ•°å­—ä»£è¡¨åŠŸèƒ½çš„æ ‡è¯†ç¬¦</span>
<span class="hljs-comment">#åœ¨ViveTool 2.0åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­å¯ç”¨å’Œç¦ç”¨åŠŸèƒ½åˆ†åˆ«å¦‚ä¸‹</span>
<span class="hljs-comment">#å¯ç”¨æŸä¸ªåŠŸèƒ½</span>
vivetool addconfig æ•°å­— 2
<span class="hljs-comment">#ç¦ç”¨æŸä¸ªåŠŸèƒ½</span>
vivetool delconfig æ•°å­— 2
</code></pre>
<p>æ¯”å¦‚å¯ç”¨åŠŸèƒ½ï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰å›è½¦é”®ï¼švivetool /enable /id:57048231,47205210,56328729,48433719</p>
<p>æ–°çš„ç•Œé¢</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23327ff3ed1b4c09ac49b5fe6143bb83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=lZCGIWZly2HrXqiwaygHFL%2BdOj8%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>æ³¨æ„è¦é‡å¯ç”µè„‘</p>
<p>â€‹<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3525dad746d54328b72b70f9031a9e57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763977390&amp;x-signature=8p43JYln3oBdYy68pPpj2%2Bg6PoQ%3D" alt="alt text" loading="lazy"/>â€‹</p>
<h2 data-id="heading-3">ViveToolæœ€æ–°ç‰ˆä¸‹è½½åœ°å€ï¼š</h2>
<p>å‰å¾€Githubé¡¹ç›®ä¸»é¡µä¸‹è½½ViveToolæœ€æ–°ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthebookisclosed%2FViVe%2Freleases%2F" target="_blank" title="https://github.com/thebookisclosed/ViVe/releases/" ref="nofollow noopener noreferrer">github.com/thebookisclâ€¦</a></p>
<p>å¦‚æœä¸å¥½ä¸‹è½½ï¼Œæˆ‘è¿™é‡Œä¹Ÿæä¾›äº†</p>
<p>åœ°å€è·å–ä¸€ï¼šÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fweibo.com%2Fttarticle%2Fp%2Fshow%3Fid%3D2309405227188327940866" target="_blank" title="https://weibo.com/ttarticle/p/show?id=2309405227188327940866" ref="nofollow noopener noreferrer">ç³»ç»Ÿä¼˜åŒ–å·¥å…·ä¸€</a></p>
<p>åœ°å€è·å–äºŒï¼šÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.toutiao.com%2Farticle%2F7566624543708561947%2F" target="_blank" title="https://www.toutiao.com/article/7566624543708561947/" ref="nofollow noopener noreferrer">ç³»ç»Ÿä¼˜åŒ–å·¥å…·äºŒ</a></p>
<p>â€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini 3â€œè¶…å‰ç‚¹æ˜ â€æ•ˆæœç‚¸åœºï¼Œå·´è²ç‰¹305äº¿é‡ä»“è°·æ­Œ]]></title>    <link>https://juejin.cn/post/7573172586840375348</link>    <guid>https://juejin.cn/post/7573172586840375348</guid>    <pubDate>2025-11-17T10:02:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573172586840375348" data-draft-id="7573512056088592419" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini 3â€œè¶…å‰ç‚¹æ˜ â€æ•ˆæœç‚¸åœºï¼Œå·´è²ç‰¹305äº¿é‡ä»“è°·æ­Œ"/> <meta itemprop="keywords" content="Gemini,AIç¼–ç¨‹,Trae"/> <meta itemprop="datePublished" content="2025-11-17T10:02:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡å­ä½"/> <meta itemprop="url" content="https://juejin.cn/user/2858385963484488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini 3â€œè¶…å‰ç‚¹æ˜ â€æ•ˆæœç‚¸åœºï¼Œå·´è²ç‰¹305äº¿é‡ä»“è°·æ­Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2858385963484488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡å­ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T10:02:25.000Z" title="Mon Nov 17 2025 10:02:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Gemini 3 è¿˜æœªæ­£å¼å‘å¸ƒï¼Œâ€œè¶…å‰ç‚¹æ˜ â€ å·²æ‚„æ‚„äº®ç›¸ã€‚</p>
<p>è®¸å¤šç½‘å‹éƒ½åˆ†äº«äº†è‡ªå·±çš„ä¸€æ‰‹å®æµ‹ï¼Œè¡¨ç¤º Gemini 3 çš„è¡¨ç°å®åœ¨æ˜¯å¼ºåˆ°é£èµ·ã€‚</p>
<p>å®ƒå¯ä»¥å°†ä¸åŒæ¸¸æˆç¼åˆåˆ°ä¸€èµ·ï¼Œåœ¨ç½‘é¡µä¸­åˆ›å»ºä¸€ä¸ªã€Šæˆ‘çš„ä¸–ç•Œã€‹é£æ ¼çš„å¡”é˜²æ¸¸æˆï¼›</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa5a0e6c4f574f04859ac67f879e4da1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=0Qh%2BSvvG3ftWOhNlpDghKMOwV7I%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥ç”¨ SVG åŠ¨ç”»ç›´æ¥åœ¨ç½‘é¡µä¸­å¤åˆ»ä¸€ä¸ª Switchï¼Œè¿˜æ˜¯å¸¦å±å¹•èƒ½æ¨¡æ‹Ÿå®å¯æ¢¦çš„é‚£ç§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e6f5f91533042e9a763a4efb5d1720b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=2p9xkFdblWHrIofRwlzHdyaspKE%3D" alt="" loading="lazy"/></p>
<p>ä¸ä»…èƒ½åŠ›è¶…å¼ºï¼ŒGemini 3 çš„å…³æ³¨åº¦ä¹Ÿæ˜¯ç›¸å½“ç«çƒ­ã€‚</p>
<p>ç”šè‡³æœ‰æœºæ„å‘èµ·äº†çŒœçŒœä¹ï¼Œæ¶ˆæ¯è¿˜è¢«è°·æ­Œ CEO åŠˆæŸ´å“¥äº²è‡ªè½¬å‘ï¼Œå¹¶é…ä¸Šäº†ä¸¤ä¸ªè€äººå¯»å‘³çš„ emoji ç¬¦å·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c580357af5b43c3bdbe4b992d57737b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=50jRdYMaB2xVQhR53iIbCgAKXw0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">Gemini 3â€œè¶…å‰ç‚¹æ˜ â€ ä¸Šçº¿</h2>
<p>æ®ç½‘å‹ä»‹ç»ï¼ŒGemini 3â€œè¶…å‰ç‚¹æ˜ â€ çš„å…¥å£è—åœ¨ APP å½“ä¸­ã€‚</p>
<p>éœ€è¦å°† APP æ›´æ–°ç„¶åæ‰“å¼€ï¼Œå¹¶ä½¿ç”¨åŸºäº Gemini Pro 2.5 çš„ Canvas åŠŸèƒ½ï¼Œå®é™…è°ƒç”¨çš„å°±æ˜¯ Gemini 3ã€‚</p>
<p>è¿™åç½‘å‹è¿˜æ”¾å‡ºäº† APP å’Œç½‘é¡µç«¯çš„å¯¹æ¯” ï¼ŒåŒæ ·ä½¿ç”¨ 2.5 ç‰ˆæœ¬çš„ Canvasï¼Œç»“æœè¡¨ç°å·®å¼‚æ˜æ˜¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61bbb8c3f4ac42fbbee61760a9218023~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=WJSt2283o9JhMXvdHACqgevhI5E%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡éšååˆæœ‰å…¶ä»–ç½‘å‹è¡¨ç¤ºï¼Œç½‘é¡µç«¯ä¹Ÿå·²ç»ä¸Šçº¿äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2031479b450e45e296db0c728d88c601~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=yZd90Ke7oOzNAxTr2IGCV2%2BF24k%3D" alt="" loading="lazy"/></p>
<p>é™¤äº†å®˜æ–¹é€”å¾„ä¹‹å¤–ï¼Œä¸€äº›ç¬¬ä¸‰æ–¹å¹³å°ï¼Œä¾‹å¦‚ OpenRouter å½“ä¸­ï¼Œä¹Ÿæ®ä¼ è—æœ‰ Gemini 3.0ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/031a403610794ced9b27fa1ab64bda5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=UlNr13qLdfyclU9ZBp2jfao3dGU%3D" alt="" loading="lazy"/></p>
<p>æƒ³äº²è‡ªä½“éªŒçš„è¯å¯ä»¥æŒ‰ç…§ä¸Šé¢è¯´çš„è¯•è¯•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç»§ç»­çœ‹ Gemini 3 éƒ½è¢«ç½‘å‹ç©å‡ºäº†å“ªäº›èŠ±æ ·ã€‚</p>
<p>æ¯”å¦‚åšä¸€ä¸ª â€œæ–°ç²—é‡é£æ ¼â€ çš„ç½‘é¡µï¼ŒGemini 3 çš„è®¾è®¡ä¼˜ç¾ï¼Œçœ‹ä¸Šå»é¢œå€¼ç›¸å½“åœ¨çº¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b0f80bcd6c642bc84418209afb5aee1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=PxUgGBN%2BM48uHmM7pOWbrwf4zq0%3D" alt="" loading="lazy"/></p>
<p>å¹¶ä¸” Gemini 3 åœ¨ SVG å›¾å½¢ç»˜åˆ¶ä¸Šå¤§æœ‰é•¿è¿›ï¼Œç»˜åˆ¶å‡ºçš„è‹¹æœæ‰‹æœºï¼Œå·²ç»å®Œå…¨æ²¡æœ‰äº†çŸ¢é‡å…ƒç´ æ‹¼æ¥çš„ä¸çœŸå®æ„Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47d688f4f9c84d00b7e3f6492229061a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=akHqsSb9gBzTCgiNMFp5T%2FH4oso%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸” SVG ä¸ä»…é™äºé™æ€ï¼Œè¿˜æ”¯æŒäº¤äº’ï¼Œæ¯”å¦‚è¿™ä¸ªç½‘é¡µç‰ˆé£æ‰‡ï¼Œä¸ä»…å½¢çŠ¶å’Œè°ï¼Œè¿˜æ”¯æŒå¼€å…³å’Œé£é€Ÿè°ƒèŠ‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73faafce381841d18025882bb750a42c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=lLwFd6NrjQymUP05gnyefV8l2H8%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶è¯´åˆ°äº¤äº’ï¼Œè¿˜æœ‰æ›´å¤æ‚çš„æ•ˆæœï¼Œä¸‹é¢è¿™ä¸ªã€Šæˆ‘çš„ä¸–ç•Œã€‹é£æ ¼çš„ç«æŠ€åœºï¼Œä¸ä»…ç”»é£æ¯«æ— äºŒè‡´ï¼Œè¿˜æ”¯æŒåƒåœ¨çœŸçš„æ¸¸æˆå½“ä¸­ä¸€æ ·ç§»åŠ¨æ¢ç´¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f39cefedfa934bf5a6d751960669e566~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=IgHhMRun%2FWAZmCdlX2b7y%2BReL8A%3D" alt="" loading="lazy"/></p>
<p>ç”šè‡³æ˜¯å…‹éš†ä¸€ä¸ª YouTubeï¼Œè¿˜æ˜¯æœ‰è§†é¢‘èƒ½æ’­æ”¾çš„é‚£ç§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79b6cd3cf0094670804b4983bea747da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=Qy3KF98cFdD86ru%2FFU17KNnyJ4o%3D" alt="" loading="lazy"/></p>
<p>å‡­å€Ÿè¿™æ ·çš„è¡¨ç°ï¼ŒGemini 3 è¿™æ³¢ â€œè¶…å‰ç‚¹æ˜ â€ é™¤äº†å¸å¼•äº†ç½‘å‹çš„ç›®å…‰ï¼Œä¹Ÿè®©æŠ•èµ„ç•Œå¼€å§‹è ¢è ¢æ¬²åŠ¨ã€‚</p>
<h2 data-id="heading-1">å·´è²ç‰¹ 305 äº¿é‡ä»“è°·æ­Œ</h2>
<p>è°·æ­Œ Gemini 3 å‘å¸ƒåœ¨å³ï¼Œå¯¹å¸‚åœºè§‚æœ›å·²ä¹…çš„è‚¡ç¥å·´è²ç‰¹å‡ºæ‰‹äº†ï¼Œç›´æ¥æŠ›å‡º 43 äº¿ç¾å…ƒï¼ˆçº¦ 305 äº¿äººæ°‘å¸ï¼‰åŠ ä»“ Alphabetã€‚</p>
<p>å¹¶ä¸”æ®ä¼ è°·æ­Œè®©ä»–æå‰ä½“éªŒäº†ä¸€æ³¢ Gemini 3ï¼Œä»–çœ‹åˆ° Gemini 3 ä¸€æ¬¡å°±å®Œæˆäº†ä¸€ä¸ªå¤æ‚çš„ Python åˆ° Rust è¿ç§»ä»»åŠ¡ä¹‹åï¼Œåšå‡ºäº†é‡ä»“çš„å†³å®šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a2a0b5525bf462bb18be7398b0a0114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=KTDE5hysMBmkriBu1qFknhyrBuI%3D" alt="" loading="lazy"/></p>
<p>å·´è²ç‰¹çš„ä¼¯å…‹å¸Œå°” Â· å“ˆæ’’éŸ¦å…¬å¸æŠ«éœ²ï¼ŒAlphabet å·²æˆä¸ºè¯¥é›†å›¢ç¬¬åå¤§æœ€æœ‰ä»·å€¼çš„æŒè‚¡ã€‚</p>
<p>å¯¹æ¯”æ›´é²œæ˜çš„æ˜¯ï¼Œè¿‡å»ä¸€å¹´å¤šä»¥æ¥ï¼Œå·´è²ç‰¹æ£ç€å¤§æŠŠç°é‡‘å°±æ˜¯ä¸æŠ•èµ„ï¼Œä¸€ç›´åœ¨å›é¿ AI çƒ­æ½®ã€‚</p>
<p>ä»–æ­¤å‰çš„ 1540 äº¿ç¾å…ƒè´¢å¯Œï¼Œä¹Ÿæ˜¯é€šè¿‡æŠ•èµ„å¯é ä½†å¹¶ä¸å¼•äººæ³¨ç›®çš„å…¬å¸è·å¾—ï¼ŒåŸºæœ¬ä¸Šé¿å¼€äº†ç§‘æŠ€æŠ•èµ„ã€‚</p>
<p>ä»Šå¹´ä»¥æ¥ï¼ŒAlphabet çš„è‚¡ä»·é£™å‡äº† 46%ï¼Œäººå·¥æ™ºèƒ½çš„éœ€æ±‚æ¨åŠ¨äº†å…¶äº‘ä¸šåŠ¡çš„å‘å±•ï¼Œå¹¶å·©å›ºäº†å…¶åœ¨æœç´¢å’Œ YouTube é¢†åŸŸçš„ç»Ÿæ²»åœ°ä½ã€‚</p>
<p>å®é™…ä¸Šï¼Œè‡ªä» 2022 å¹´åº• ChatGPT æ¨ªç©ºå‡ºä¸–ä»¥æ¥ï¼Œå¤§å®¶æ™®éè§‰å¾—è°·æ­Œå¥½åƒåœ¨ AI ä¸Šæ…¢äº†ä¸€æ‹ï¼Œåœ¨åé¢æ‹¼å‘½è¿½èµ¶ã€‚</p>
<p>ä¸ºäº†è¿½èµ¶ï¼Œè°·æ­Œä½¿å‡ºäº†å®ƒçš„çœ‹å®¶æœ¬é¢†ï¼Œä¹Ÿå°±æ˜¯å…¨æ ˆä¼˜åŠ¿â€”â€”å®ƒä¸ä»…è‡ªå·±æœ‰èƒ½åŠ›ç ”å‘ AI æ¨¡å‹ï¼Œè¿˜æ‹¥æœ‰åºå¤§çš„äº§å“æ¥åˆ†é”€ï¼Œæ›´æœ‰è‡ªå·±çš„äº‘ä¸šåŠ¡æä¾›åŸºç¡€æŠ€æœ¯è®¾æ–½æ”¯æŒã€‚</p>
<p>ç‰¹åˆ«æ˜¯éšç€ Nano Banana çš„ç‚¸åœºï¼Œä½¿ç”¨ Gemini çš„ç”¨æˆ·å¿«é€Ÿé£™å‡ï¼Œè€Œä¸” AI éä½†æ²¡æœ‰åŠ¨æ‘‡è°·æ­Œæœ€èµšé’±çš„å¹¿å‘Šç”Ÿæ„ï¼Œåè€Œä½¿å…¶å¾—åˆ°äº†å¢å¼ºã€‚</p>
<p>å¢é•¿ä¹‹ä¸‹ï¼Œè¦æ±‚ CEO åŠˆæŸ´å“¥è¾èŒçš„å‘¼å£°ä¹Ÿé€æ¸å¹³æ¯ã€‚</p>
<p>å·´è²ç‰¹ç”šè‡³æ‰¿è®¤ï¼Œå¤šå¹´å‰æ²¡æœ‰ä¹°å…¥è°·æ­Œæ˜¯ä»– â€œé”™å¤±è‰¯æœºâ€ã€‚</p>
<h2 data-id="heading-2">One More Thing</h2>
<p>é™¤äº† Gemini 3ï¼ŒNano Banana2 ä¹Ÿæ®ä¼ å°†åœ¨æœ¬å‘¨å‘å¸ƒã€‚</p>
<p>å¦å¤–è¿˜æœ‰çŸ¥æƒ…äººå£«è¡¨ç¤ºï¼Œé™¤äº†è¿™ä¸¤ä¸ªæ¨¡å‹ï¼Œè°·æ­Œè¿˜å°†ä¼šæœ‰å…¶ä»–å‘å¸ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82490317a70e4bc3b28f74af3fcd7d7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YeP5a2Q5L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763978545&amp;x-signature=qST0%2FUv%2B6EBOBmx86VDZrTu25%2FQ%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥ç‹ ç‹ æœŸå¾…ä¸€æ³¢äº†ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<br/>
[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fminchoi%2Fstatus%2F1989372162336301115" target="_blank" title="https://x.com/minchoi/status/1989372162336301115" ref="nofollow noopener noreferrer">x.com/minchoi/staâ€¦</a><br/>
[2]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.businessinsider.com%2Fgemini-3-launch-google-ai-race-chatgpt-2025-11" target="_blank" title="https://www.businessinsider.com/gemini-3-launch-google-ai-race-chatgpt-2025-11" ref="nofollow noopener noreferrer">www.businessinsider.com/gemini-3-laâ€¦</a><br/>
[3]<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dailymail.co.uk%2Fyourmoney%2Farticle-15292817%2Fwarren-buffett-alphabet-investment.html" target="_blank" title="https://www.dailymail.co.uk/yourmoney/article-15292817/warren-buffett-alphabet-investment.html" ref="nofollow noopener noreferrer">www.dailymail.co.uk/yourmoney/aâ€¦</a></p>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼</strong></p>
<p>â€”Â <strong>å®Œ</strong>Â â€”</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆå››ï¼‰â€”â€”ç±»å‹æ“¦é™¤ä¸ Existentialï¼šå½“æ³›å‹é‡è§åŠ¨æ€æ´¾å‘]]></title>    <link>https://juejin.cn/post/7573521516323962907</link>    <guid>https://juejin.cn/post/7573521516323962907</guid>    <pubDate>2025-11-17T09:57:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573521516323962907" data-draft-id="7553845995845124142" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆå››ï¼‰â€”â€”ç±»å‹æ“¦é™¤ä¸ Existentialï¼šå½“æ³›å‹é‡è§åŠ¨æ€æ´¾å‘"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T09:57:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆå››ï¼‰â€”â€”ç±»å‹æ“¦é™¤ä¸ Existentialï¼šå½“æ³›å‹é‡è§åŠ¨æ€æ´¾å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:57:18.000Z" title="Mon Nov 17 2025 09:57:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆâ€œæ³›å‹â€è¿˜ä¸å¤Ÿ</h2>
<p>ä¸Šä¸€ç¯‡æˆ‘ä»¬å†™å‡ºäº†è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> calc: <span class="hljs-keyword">any</span> <span class="hljs-type">DamageCalculator</span>&lt;<span class="hljs-type">Double</span>&gt; <span class="hljs-operator">=</span> <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">1.5</span>)
</code></pre>
<p>å®ƒç¼–è¯‘å¾—å¿«ã€è·‘å¾—ä¹Ÿå¿«ï¼Œä½†å½“ä½ æƒ³æŠŠå®ƒå­˜è¿›æ•°ç»„ã€æˆ–è€…ä½œä¸ºå±æ€§é€ƒé€¸åˆ°è¿è¡Œæ—¶ï¼Œå°±ä¼šé‡åˆ°ä¸‰ä¸ªçµé­‚é—®é¢˜ï¼š</p>
<ol>
<li>ç¼–è¯‘å™¨ä¸çŸ¥é“å…·ä½“ç±»å‹æœ‰å¤šå¤§ï¼Œå¦‚ä½•åˆ†é…å†…å­˜ï¼Ÿ</li>
<li>åè®®é‡Œæœ‰ <code>associatedtype</code>ï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç”¨ <code>DamageCalculator</code> ç›´æ¥å½“åšç±»å‹ï¼Ÿ</li>
<li>åŒæ ·ä¸€å¥ <code>calculate(base:)</code>ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶èµ°å†…è”ã€æœ‰æ—¶èµ°è™šè¡¨ï¼Ÿ</li>
</ol>
<p>ç­”æ¡ˆéƒ½æŒ‡å‘åŒä¸€ä¸ªæœºåˆ¶ï¼šExistential Containerï¼ˆå­˜åœ¨æ€§å®¹å™¨ï¼‰ï¼Œç¤¾åŒºä¿—ç§°â€œç±»å‹æ“¦é™¤ç›’â€ã€‚</p>
<h2 data-id="heading-1">Existential æ˜¯ä»€ä¹ˆ</h2>
<p>Swift æŠŠâ€œç¬¦åˆæŸä¸ªåè®®çš„å€¼â€æ‰“åŒ…æˆä¸€ç§ç»Ÿä¸€å¤§å°çš„ç›’å­ï¼Œè¿™ä¸ªç›’å­å°±å« existentialã€‚</p>
<p>è¯­æ³•å±‚é¢ï¼š</p>
<ul>
<li><code>any Protocol</code>  // Swift 5.6+ æ˜¾å¼ existential</li>
<li>è€ä»£ç é‡Œçš„ <code>Protocol</code>  // éšå¼ existentialï¼Œå³å°†è¢«é€æ­¥åºŸå¼ƒ</li>
</ul>
<p>ç›’å­å†…éƒ¨åˆ°åº•é•¿ä»€ä¹ˆæ ·ï¼Ÿç»§ç»­çœ‹ã€‚</p>
<h2 data-id="heading-2">Existential Container çš„å†…å­˜å¸ƒå±€</h2>
<p>ä»¥ 64 bit ä¸ºä¾‹ï¼Œæ ‡å‡†å¸ƒå±€ 5 ä¸ªå­—ï¼ˆ40 byteï¼‰ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">+<span class="hljs-comment">-------- 0:  value buffer (3 ptr = 24 byte)  </span>
+<span class="hljs-comment">--------24:  value witness table (VWT)  </span>
+<span class="hljs-comment">--------32:  protocol witness table (PWT)  </span>
</code></pre>
<ol>
<li>
<p>value buffer</p>
<ul>
<li>å°å€¼ï¼ˆIntã€Doubleã€CGPointâ€¦ï¼‰ç›´æ¥å†…è”ï¼›</li>
<li>å¤§å€¼ï¼ˆStringã€Arrayã€è‡ªå®šä¹‰ classï¼‰å †åˆ†é…ï¼Œbuffer å­˜æŒ‡é’ˆï¼›</li>
</ul>
</li>
<li>
<p>VWT</p>
<p>ç®¡ç†â€œå€¼è¯­ä¹‰â€ç”Ÿå‘½å‘¨æœŸï¼šæ‹·è´ã€é”€æ¯ã€æ¬ç§»ã€‚</p>
</li>
<li>
<p>PWT</p>
<p>ç®¡ç†â€œåè®®æ–¹æ³•â€æ´¾å‘åœ°å€ï¼Œç›¸å½“äº C++ çš„ vtableã€‚</p>
</li>
</ol>
<p>ç»“è®ºï¼šå“ªæ€•åªæ˜¯ä¸€ä¸ª <code>Double</code>ï¼Œè£…è¿› <code>any NumericValue</code> åä¹Ÿä¼šè†¨èƒ€åˆ° 40 å­—èŠ‚ï¼›å¦‚æœé¢‘ç¹åœ¨æ•°ç»„é‡Œæ‹·è´ï¼Œå°±ä¼šå¸¦æ¥éšå¼å †åˆ†é…å’Œç¼“å­˜æŠ–åŠ¨ã€‚</p>
<h2 data-id="heading-3">å…³è”ç±»å‹åè®®çš„â€œé¢å¤–â€ç›’å­</h2>
<p>å½“åè®®å¸¦ <code>associatedtype</code> æ—¶ï¼Œexistential è¿˜éœ€è¦ä¸€ä»½é€šç”¨ç­¾åï¼ˆgeneric environmentï¼‰ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶ä¿å­˜ç±»å‹å…ƒæ•°æ®ã€‚</p>
<p>å› æ­¤ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> x: <span class="hljs-keyword">any</span> <span class="hljs-type">Attackable</span>        <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šassociatedtype Value æœªå®š</span>
<span class="hljs-keyword">let</span> y: <span class="hljs-keyword">any</span> <span class="hljs-type">Attackable</span>&lt;<span class="hljs-type">Int</span>&gt;   <span class="hljs-comment">// âœ… Swift 5.9 æ–°è¯­æ³•ï¼šparameterized existential</span>
</code></pre>
<p>åè€…å†…éƒ¨æ¯”â€œæ— å…³è”ç±»å‹â€å†å¤š 8 byteï¼Œæ€»è®¡ 48 byteã€‚</p>
<p>è‹¹æœåœ¨ WWDC23 ç»™å‡ºçš„æ€§èƒ½è­¦å‘Šï¼š&lt; 3 ä¸ª witness æ–¹æ³•ä¸” value â‰¤ 24 byte æ—¶ï¼Œexistential æ‰åŸºæœ¬æ— é¢å¤–å¼€é”€ï¼›å¦åˆ™è¯·è€ƒè™‘â€œæ‰‹å†™ç±»å‹æ“¦é™¤â€æˆ–â€œæ³›å‹ç‰¹åŒ–â€ã€‚</p>
<h2 data-id="heading-4">å®æˆ˜ï¼šæ‰‹å†™ AnyDamageCalculator</h2>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>å¯¹å¤–æš´éœ²å›ºå®šå¤§å°ï¼ˆæ— åŠ¨æ€ç›’å­ï¼‰ï¼›</li>
<li>å¯¹å†…ä¿å­˜ä»»æ„å…·ä½“è®¡ç®—å™¨ï¼›</li>
<li>ä»ä¿æŒ <code>Value</code> æ³›å‹å‚æ•°ã€‚</li>
</ul>
<ol>
<li>å®šä¹‰æŠ½è±¡åŸºç±»ï¼ˆå¼•ç”¨è¯­ä¹‰ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AnyDamageCalculatorBox</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">DamageCalculator</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span> { <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">"abstract"</span>) }
}
</code></pre>
<ol start="2">
<li>å®šä¹‰å…·ä½“ç›’å­ï¼ˆæ³›å‹ç±»ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcreteBox</span>&lt;<span class="hljs-title class_">T</span>: <span class="hljs-title class_">DamageCalculator</span>&gt;: <span class="hljs-title class_">AnyDamageCalculatorBox</span>&lt;<span class="hljs-title class_">T</span>.<span class="hljs-title class_">Value</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> concrete: <span class="hljs-type">T</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">concrete</span>: <span class="hljs-type">T</span>) { <span class="hljs-keyword">self</span>.concrete <span class="hljs-operator">=</span> concrete }
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span> {
        concrete.calculate(base: base)
    }
}
</code></pre>
<ol start="3">
<li>å®šä¹‰å€¼åŒ…è£…ï¼ˆå¯¹å¤–ç±»å‹ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AnyDamageCalculator</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">DamageCalculator</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> box: <span class="hljs-type">AnyDamageCalculatorBox</span>&lt;<span class="hljs-type">Value</span>&gt;
    
    <span class="hljs-keyword">init</span>&lt;<span class="hljs-type">C</span>: <span class="hljs-type">DamageCalculator</span>&gt;(<span class="hljs-keyword">_</span> <span class="hljs-params">concrete</span>: <span class="hljs-type">C</span>) <span class="hljs-keyword">where</span> <span class="hljs-type">C</span>.<span class="hljs-type">Value</span> <span class="hljs-operator">==</span> <span class="hljs-type">Value</span> {
        <span class="hljs-keyword">self</span>.box <span class="hljs-operator">=</span> <span class="hljs-type">ConcreteBox</span>(concrete)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">base</span>: <span class="hljs-type">Value</span>) -&gt; <span class="hljs-type">Value</span> {
        box.calculate(base: base)
    }
}
</code></pre>
<ol start="4">
<li>ä½¿ç”¨ï¼š</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> crit <span class="hljs-operator">=</span> <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">1.5</span>)
<span class="hljs-keyword">let</span> erased: <span class="hljs-type">AnyDamageCalculator</span>&lt;<span class="hljs-type">Double</span>&gt; <span class="hljs-operator">=</span> <span class="hljs-type">AnyDamageCalculator</span>(crit)
array.append(erased)   <span class="hljs-comment">// æ•°ç»„å…ƒç´ å¤§å° = 1 ptrï¼Œæ—  existential ç›’å­</span>
</code></pre>
<ul>
<li>å†…å­˜å¤§å°ï¼š8 byteï¼ˆä¸€ä¸ª class æŒ‡é’ˆï¼‰ï¼›</li>
<li>æ‹·è´æˆæœ¬ï¼šä¸€æ¬¡ ARC  retainï¼›</li>
<li>æ–¹æ³•æ´¾å‘ï¼šè™šè¡¨ä¸€æ¬¡ï¼Œä½†ä¸å†é¢å¤–å¸¦ VWT/PWTã€‚</li>
</ul>
<h2 data-id="heading-5">Swift 5.9 æ–°æ­¦å™¨ï¼šParameterized Existential</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> list: [<span class="hljs-keyword">any</span> <span class="hljs-type">DamageCalculator</span>&lt;<span class="hljs-type">Double</span>&gt;] <span class="hljs-operator">=</span> [
    <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">1.5</span>),
    <span class="hljs-type">MultiplierCalculator</span>(upstream: <span class="hljs-type">CritCalculator</span>(rate: <span class="hljs-number">2</span>), multiplier: <span class="hljs-number">1.2</span>)
]
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆâ€œéšè—ç›’å­â€ï¼Œä½†ä»å¸¦ 48 byte æ‹·è´æˆæœ¬ã€‚</p>
<p>é€‚åˆåœºæ™¯ï¼š</p>
<ul>
<li>åŸå‹é˜¶æ®µã€å¿«é€Ÿè¿­ä»£ï¼›</li>
<li>å¯¹æ€§èƒ½ä¸æ•æ„Ÿçš„å·¥å…·ä»£ç ï¼›</li>
</ul>
<p>é«˜æ€§èƒ½è·¯å¾„ï¼ˆæ¸²æŸ“ã€éŸ³é¢‘ã€ç½‘ç»œè§£æï¼‰ç»§ç»­ç”¨æ‰‹å†™æ“¦é™¤æˆ–æ³›å‹ç‰¹åŒ–ã€‚</p>
<h2 data-id="heading-6">ç±»å‹æ“¦é™¤çš„é€šç”¨å¥—è·¯ï¼ˆæ¨¡æ¿ï¼‰</h2>
<p>ä»»ä½•å¸¦ <code>associatedtype</code> çš„åè®®ï¼Œéƒ½å¯ä»¥å¥—ä¸‹é¢ 4 æ­¥ï¼š</p>
<ol>
<li>åˆ›å»º <code>AnyProtocolBase&lt;AssociatedType&gt;</code> æŠ½è±¡ç±»ï¼›</li>
<li>åˆ›å»º <code>ConcreteBox&lt;T: Protocol&gt;</code> å…·ä½“ç±»ï¼ŒæŒæœ‰ <code>T</code>ï¼›</li>
<li>åˆ›å»º <code>AnyProtocol&lt;AssociatedType&gt;</code> å€¼ç±»å‹ï¼Œå†…éƒ¨å­˜ <code>AnyProtocolBase</code> æŒ‡é’ˆï¼›</li>
<li>å¯¹å¤– API å…¨éƒ¨ <code>override / forward</code> åˆ°æŠ½è±¡ç±»ã€‚</li>
</ol>
<h2 data-id="heading-7">ä»€ä¹ˆæ—¶å€™ç”¨å“ªç§å½¢æ€ï¼Ÿ</h2>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">éœ€æ±‚ \ æ–¹æ¡ˆ        æ³›å‹ç‰¹åŒ–   any Protocol   æ‰‹å†™æ“¦é™¤
------------------------------------------------------------</span>
ç¼–è¯‘æœŸå·²çŸ¥ç±»å‹       âœ…          âŒ             âŒ
éœ€è¦è¿›æ•°ç»„/é€ƒé€¸      âŒ          âœ…             âœ…
å¯¹æ€§èƒ½æåº¦æ•æ„Ÿ       âœ…          âŒ             âœ…
ä¸æƒ³å†™æ ·æ¿ä»£ç        âœ…          âœ…             âŒï¼ˆå¯ç”¨å®ï¼‰
</code></pre>
<p>ä¸€å¥è¯ï¼šç¼–è¯‘æœŸèƒ½å®šç±»å‹å°±ç”¨æ³›å‹ï¼›è¿è¡Œæ—¶å†å†³å®šå°±ç”¨æ“¦é™¤ï¼›åŸå‹é˜¶æ®µå…ˆ <code>any</code> å†è¯´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäº”ï¼‰â€”â€”Swift å¹¶å‘ä¸–ç•Œï¼šæŠŠ Attackable æ¬è¿› actor]]></title>    <link>https://juejin.cn/post/7573468493569769508</link>    <guid>https://juejin.cn/post/7573468493569769508</guid>    <pubDate>2025-11-17T10:04:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493569769508" data-draft-id="7553845995845173294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäº”ï¼‰â€”â€”Swift å¹¶å‘ä¸–ç•Œï¼šæŠŠ Attackable æ¬è¿› actor"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T10:04:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸€ä¸ªå°å‹æ¸¸æˆå¯¹è±¡æ¨¡å‹æ¸è¿›å¼è®¾è®¡ï¼ˆäº”ï¼‰â€”â€”Swift å¹¶å‘ä¸–ç•Œï¼šæŠŠ Attackable æ¬è¿› actor
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T10:04:00.000Z" title="Mon Nov 17 2025 10:04:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆâ€œå¹¶å‘â€çªç„¶æˆäº†åˆšéœ€</h2>
<p>çœŸå®åœºæ™¯é‡Œï¼š</p>
<ul>
<li>æ¸¸æˆæœåŠ¡å™¨ï¼š32 æ¡ç½‘ç»œçº¿ç¨‹å¹¶å‘å¤„ç†ç©å®¶æŠ€èƒ½ï¼›</li>
<li>å®¢æˆ·ç«¯ï¼šä¸»çº¿ç¨‹å‘åŠ¨ç”»ï¼Œåå°çº¿ç¨‹ç®—ä¼¤å®³ï¼ŒTimer è§¦å‘ dotï¼›</li>
<li>å•æœºå¤šæ ¸ï¼šSceneKit ç‰©ç†å›è°ƒã€Vision è¯†åˆ«ã€Swift Concurrency Task åŒæ—¶è¯»å†™åŒä¸€ BOSS çš„è¡€é‡ã€‚</li>
</ul>
<p>å¦‚æœè¿˜ç”¨ä¼ ç»Ÿé”ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">objc_sync_enter(<span class="hljs-keyword">self</span>)
hp <span class="hljs-operator">-=</span> damage
objc_sync_exit(<span class="hljs-keyword">self</span>)
</code></pre>
<p>è½»åˆ™æ€§èƒ½æŠ–åŠ¨ï¼Œé‡åˆ™æ­»é”ï¼›è€Œ Swift 5.5 èµ·çš„ Actor æ¨¡å‹ æŠŠâ€œäº’æ–¥â€å‡çº§ä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œç¼–è¯‘æœŸå³å¯æ£€æŸ¥â€œè·¨ actor å¼•ç”¨æ˜¯å¦å®‰å…¨â€ï¼Œè®©â€œæ•°æ®ç«äº‰â€æˆä¸ºç¼–è¯‘é”™è¯¯ã€‚</p>
<h2 data-id="heading-1">Actor 101ï¼š30 ç§’é€Ÿè§ˆ</h2>
<ol>
<li>å®šä¹‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">Boss</span> {
    <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Double</span>) {
        hp <span class="hljs-operator">=</span> <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, hp <span class="hljs-operator">-</span> amount)
    }
}
</code></pre>
<ol start="2">
<li>è°ƒç”¨è§„åˆ™</li>
</ol>
<ul>
<li>å†…éƒ¨ï¼šåŒæ­¥å‡½æ•°ï¼Œç›´æ¥è®¿é—® <code>hp</code>ï¼›</li>
<li>å¤–éƒ¨ï¼šå¿…é¡»é€šè¿‡ <code>await</code> å¼‚æ­¥æ¶ˆæ¯ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨åŠ é˜Ÿåˆ—ã€‚</li>
</ul>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> boss <span class="hljs-operator">=</span> <span class="hljs-type">Boss</span>()
<span class="hljs-keyword">await</span> boss.takeDamage(<span class="hljs-number">10</span>)   <span class="hljs-comment">// ç¼–è¯‘é€šè¿‡</span>
boss.hp                     <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šactor-isolated</span>
</code></pre>
<ol start="3">
<li>å…³é”®ä¿è¯</li>
</ol>
<p>Actor éš”ç¦»åŸŸï¼ˆisolation domainï¼‰ï¼šåŒä¸€æ—¶é—´åªæœ‰ä¸€æ¡æ¶ˆæ¯åœ¨æ‰§è¡Œï¼Œå¤©ç„¶â€œå¯çº¿æ€§åŒ–â€ï¼ˆSerializabilityï¼‰ã€‚</p>
<h2 data-id="heading-2">æŠŠåè®®èƒ½åŠ›æ¬è¿› actor</h2>
<p>ç›®æ ‡ï¼š</p>
<ul>
<li>ä¸ç ´åå‰ä¸¤ç¯‡çš„æ³›å‹åè®®æ¶æ„ï¼›</li>
<li>è®©ä»»ä½•å®ä½“æ—¢èƒ½ä»¥â€œå€¼è¯­ä¹‰â€è·‘åœ¨å•çº¿ç¨‹ï¼Œä¹Ÿèƒ½ä»¥â€œ actor å¼•ç”¨â€è·‘åœ¨å¤šçº¿ç¨‹ï¼›</li>
<li>å®¢æˆ·ç«¯/æœåŠ¡å™¨å…±ç”¨åŒä¸€å¥—ç®—æ³•ã€‚</li>
</ul>
<ol>
<li>å®šä¹‰å¹¶å‘ç‰ˆåè®®</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">/// å¯å¹¶å‘å—ä¼¤</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">ConcurrentWoundable</span>: <span class="hljs-title class_">AnyObject</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Value</span>: <span class="hljs-type">NumericValue</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Value</span>) <span class="hljs-keyword">async</span>
    <span class="hljs-keyword">var</span> currentHp: <span class="hljs-type">Value</span> { <span class="hljs-keyword">get</span> }
}
</code></pre>
<p>æ³¨æ„ï¼š</p>
<ul>
<li><code>AnyObject</code> é™åˆ¶åªè®© class/actor ç¬¦åˆï¼Œå› ä¸ºéœ€è¦å…±äº«å¼•ç”¨ï¼›</li>
<li>æ–¹æ³•æ ‡è®° <code>async</code>ï¼Œè°ƒç”¨æ–¹å¿…é¡» <code>await</code>ã€‚</li>
</ul>
<ol start="2">
<li>è®© actor ç›´æ¥ç¬¦åˆ</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">actor</span> <span class="hljs-title class_">ConcurrentBoss</span>&lt;<span class="hljs-title class_">Value</span>: <span class="hljs-title class_">NumericValue</span>&gt;: <span class="hljs-title class_">ConcurrentWoundable</span> {
    <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Value</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Value</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">hp</span>: <span class="hljs-type">Value</span>, <span class="hljs-params">maxHp</span>: <span class="hljs-type">Value</span>) {
        <span class="hljs-keyword">self</span>.hp <span class="hljs-operator">=</span> hp; <span class="hljs-keyword">self</span>.maxHp <span class="hljs-operator">=</span> maxHp
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Value</span>) <span class="hljs-keyword">async</span> {
        hp <span class="hljs-operator">=</span> <span class="hljs-built_in">max</span>(<span class="hljs-type">Value</span>(<span class="hljs-number">0</span>), hp <span class="hljs-operator">-</span> amount)
    }
    
    <span class="hljs-keyword">nonisolated</span> <span class="hljs-keyword">var</span> currentHp: <span class="hljs-type">Value</span> { hp }   <span class="hljs-comment">// åªè¯»å¿«ç…§ï¼Œæ— éœ€ await</span>
}
</code></pre>
<p><code>nonisolated</code> å…³é”®å­—ï¼šç¼–è¯‘å™¨å…è®¸å¤–éƒ¨åŒæ­¥è¯»å–ï¼Œä½†ä¸èƒ½å†™ã€‚</p>
<ol start="3">
<li>å¹¶å‘å®‰å…¨æš´å‡»ç®—æ³•</li>
</ol>
<p>æŠŠä¸Šç¯‡çš„ <code>DamageCalculator</code> æ³›å‹ç®—æ³•ä¿æŒå€¼è¯­ä¹‰ï¼Œè®¡ç®—è¿‡ç¨‹æ— é”ï¼›åªæœ‰æœ€å <code>takeDamage</code> è¿› actor æ‰æ’é˜Ÿã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> calc <span class="hljs-operator">=</span> <span class="hljs-type">AnyDamageCalculator</span>(<span class="hljs-type">Double</span>.<span class="hljs-keyword">self</span>) { base <span class="hljs-keyword">in</span> base <span class="hljs-operator">*</span> <span class="hljs-number">1.5</span> }
<span class="hljs-keyword">let</span> damage <span class="hljs-operator">=</span> calc.calculate(base: <span class="hljs-number">50</span>)          <span class="hljs-comment">// æ— é”è®¡ç®—</span>
<span class="hljs-keyword">await</span> boss.takeDamage(damage)                  <span class="hljs-comment">// ä¸€æ¬¡æ¶ˆæ¯</span>
</code></pre>
<p>åˆ†ç¦»â€œè®¡ç®—â€ä¸â€œçŠ¶æ€å˜æ›´â€ï¼šè®¡ç®—æ— é”ã€å˜æ›´ä¸²è¡Œï¼Œå…¼é¡¾æ€§èƒ½ä¸å®‰å…¨ã€‚</p>
<h2 data-id="heading-3">åˆ†å¸ƒå¼ Actorï¼šè·¨è¿›ç¨‹ä¹Ÿèƒ½ â€œawait boss.takeDamageâ€</h2>
<p>Swift 5.9 èµ·å¼•å…¥ <code>distributed actor</code>ï¼ŒåŒä¸€è¯­æ³•å³å¯è·¨è¿›ç¨‹/è·¨æœºå™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">distributed</span> <span class="hljs-keyword">actor</span> <span class="hljs-title class_">RemoteBoss</span>: <span class="hljs-title class_">ConcurrentWoundable</span> {
    <span class="hljs-keyword">distributed</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Value</span>) <span class="hljs-keyword">async</span> {
        hp <span class="hljs-operator">=</span> <span class="hljs-built_in">max</span>(<span class="hljs-type">Value</span>(<span class="hljs-number">0</span>), hp <span class="hljs-operator">-</span> amount)
    }
}
</code></pre>
<p>è°ƒç”¨æ–¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> boss <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">RemoteBoss</span>.resolve(id: bossID, using: .<span class="hljs-keyword">init</span>())
<span class="hljs-keyword">await</span> boss.takeDamage(<span class="hljs-number">30</span>)
</code></pre>
<p>åº•å±‚ç”± Swift gRPC ä¼ è¾“æ¶ˆæ¯ï¼Œå¼€å‘è€…é›¶æˆæœ¬è·å¾—åˆ†å¸ƒå¼å¯¹è±¡æ¨¡å‹ã€‚</p>
<h2 data-id="heading-4">å®æˆ˜ï¼šå¹¶å‘ Boss æˆ˜æ¨¡æ‹Ÿå™¨</h2>
<p>åœºæ™¯ï¼š</p>
<ul>
<li>4 ä¸ªç©å®¶å¹¶å‘æ”¾æŠ€èƒ½ï¼Œä¼¤å®³éšæœºï¼›</li>
<li>1 ä¸ªåå°çº¿ç¨‹æ¯ 0.5 s è§¦å‘ dotï¼›</li>
<li>1 ä¸ªæ¸²æŸ“çº¿ç¨‹æ¯å¸§è¯»è¡€é‡æ›´æ–° UIï¼›</li>
</ul>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">NumericValue</span>: <span class="hljs-title class_">Comparable</span> &amp; <span class="hljs-title class_">Sendable</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">+</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">-</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">*</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">/</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-keyword">Self</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">&gt;</span> (<span class="hljs-params">lhs</span>: <span class="hljs-keyword">Self</span>, <span class="hljs-params">rhs</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-type">Bool</span>   <span class="hljs-comment">// ä¸æ ‡é‡ä¹˜</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">Int</span>)                               <span class="hljs-comment">// èƒ½ä»æ•´æ•°å­—é¢é‡åˆå§‹åŒ–</span>
}
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Double</span>: <span class="hljs-title class_">NumericValue</span> {}

<span class="hljs-comment">/// å¯å¹¶å‘å—ä¼¤</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">ConcurrentWoundable</span>: <span class="hljs-title class_">AnyObject</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Value</span>: <span class="hljs-type">NumericValue</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Value</span>) <span class="hljs-keyword">async</span>
    <span class="hljs-keyword">var</span> currentHp: <span class="hljs-type">Value</span> { <span class="hljs-keyword">get</span> }
}

<span class="hljs-comment">// 1. å¹¶å‘ BOSS</span>
<span class="hljs-keyword">actor</span> <span class="hljs-title class_">BossBattle</span>: @<span class="hljs-title class_">preconcurrency</span> <span class="hljs-title class_">ConcurrentWoundable</span> {
    <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> hp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">let</span> maxHp: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">init</span>(<span class="hljs-params">hp</span>: <span class="hljs-type">Double</span>) {
        <span class="hljs-keyword">self</span>.hp <span class="hljs-operator">=</span> hp;
        <span class="hljs-keyword">self</span>.maxHp <span class="hljs-operator">=</span> hp
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">takeDamage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">amount</span>: <span class="hljs-type">Double</span>) <span class="hljs-keyword">async</span> {
        hp <span class="hljs-operator">=</span> <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, hp <span class="hljs-operator">-</span> amount)
        <span class="hljs-keyword">if</span> hp <span class="hljs-operator">==</span> <span class="hljs-number">0</span> { <span class="hljs-built_in">print</span>(<span class="hljs-string">"BOSS è¢«å‡»è´¥ï¼"</span>) }
    }
    
    <span class="hljs-keyword">var</span> currentHp: <span class="hljs-type">Double</span> { hp }
}

<span class="hljs-comment">// 2. ç©å®¶æŠ€èƒ½</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">playerTask</span>(<span class="hljs-params">id</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">boss</span>: <span class="hljs-type">BossBattle</span>) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span><span class="hljs-number">5</span> {
        <span class="hljs-keyword">let</span> damage <span class="hljs-operator">=</span> <span class="hljs-type">Double</span>.random(in: <span class="hljs-number">5</span><span class="hljs-operator">...</span><span class="hljs-number">15</span>)
        <span class="hljs-keyword">await</span> boss.takeDamage(damage)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Player<span class="hljs-subst">\(id)</span> é€ æˆ <span class="hljs-subst">\(damage)</span>"</span>)
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .milliseconds(.random(in: <span class="hljs-number">100</span><span class="hljs-operator">...</span><span class="hljs-number">300</span>)))
    }
}

<span class="hljs-comment">// 3. dot åå°</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">dotTask</span>(<span class="hljs-params">boss</span>: <span class="hljs-type">BossBattle</span>) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">await</span> boss.currentHp <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> {
        <span class="hljs-keyword">await</span> boss.takeDamage(<span class="hljs-number">3</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"dot 3 ç‚¹"</span>)
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .milliseconds(<span class="hljs-number">500</span>))
    }
}

<span class="hljs-comment">// 4. æ¸²æŸ“çº¿ç¨‹ï¼ˆåªè¯»ï¼‰</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">renderTask</span>(<span class="hljs-params">boss</span>: <span class="hljs-type">BossBattle</span>) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">await</span> boss.currentHp <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> {
        <span class="hljs-keyword">let</span> hp <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> boss.currentHp
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"UI è¡€é‡ï¼š<span class="hljs-subst">\(Int(hp))</span>"</span>)
        <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">1</span><span class="hljs-operator">/</span><span class="hljs-number">60</span>))
    }
}

<span class="hljs-comment">// 5. å¯åŠ¨</span>

<span class="hljs-type">Task</span> {
    <span class="hljs-keyword">let</span> boss <span class="hljs-operator">=</span> <span class="hljs-type">BossBattle</span>(hp: <span class="hljs-number">100</span>)
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">_</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> withDiscardingTaskGroup { group <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">4</span> {
            group.addTask {
                <span class="hljs-keyword">await</span> playerTask(id: i, boss: boss)
            }
        }
        
        group.addTask {
            <span class="hljs-keyword">await</span> dotTask(boss: boss)
        }
        
        group.addTask {
            <span class="hljs-keyword">await</span> renderTask(boss: boss)
        }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼ˆèŠ‚é€‰ï¼‰ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">Player3 é€ æˆ <span class="hljs-number">11.0</span>
Player1 é€ æˆ <span class="hljs-number">8.0</span>
dot <span class="hljs-number">3</span> ç‚¹
UI è¡€é‡ï¼š<span class="hljs-number">78</span>
...
BOSS è¢«å‡»è´¥ï¼
</code></pre>
<p>å…¨ç¨‹æ— éœ€æ‰‹åŠ¨åŠ é”ï¼Œç¼–è¯‘å™¨ä¿è¯ä»»ä½•æ—¶åˆ»åªæœ‰ä¸€æ¡æ¶ˆæ¯åœ¨ä¿®æ”¹ <code>hp</code>ã€‚</p>
<h2 data-id="heading-5">ä¸ SwiftUI æ— ç¼è¡”æ¥</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BossModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> boss <span class="hljs-operator">=</span> <span class="hljs-type">BossBattle</span>(hp: <span class="hljs-number">100</span>)
    
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> hpText <span class="hljs-operator">=</span> <span class="hljs-string">""</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">start</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">await</span> renderLoop()
    }
    
    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">renderLoop</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">while</span> <span class="hljs-keyword">await</span> boss.currentHp <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> {
            hpText <span class="hljs-operator">=</span> <span class="hljs-string">"è¡€é‡ <span class="hljs-subst">\(Int(await boss.currentHp))</span>"</span>
            <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">1</span>))
        }
        hpText <span class="hljs-operator">=</span> <span class="hljs-string">"BOSS è¢«å‡»è´¥"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">attack</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">await</span> boss.takeDamage(<span class="hljs-type">Double</span>.random(in: <span class="hljs-number">10</span><span class="hljs-operator">...</span><span class="hljs-number">20</span>))
    }
}
</code></pre>
<p><code>@MainActor</code> ä¿è¯æ‰€æœ‰ SwiftUI çŠ¶æ€æ›´æ–°è·‘åœ¨ä¸»çº¿ç¨‹ï¼›ä¸šåŠ¡é€»è¾‘åœ¨åå° actor ä¸²è¡Œæ‰§è¡Œï¼Œé›¶æ•°æ®ç«äº‰ã€‚</p>
<h2 data-id="heading-6">å¸¸è§å‘ä¸æœ€ä½³å®è·µ</h2>
<ol>
<li>
<p>åœ¨ actor é‡Œè®¿é—®å…¨å±€å¯å˜çŠ¶æ€</p>
<p>åŒæ ·è¦ <code>await</code>ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚</p>
</li>
<li>
<p><code>nonisolated</code> åªèƒ½è¯»ï¼Œä¸èƒ½å†™ï¼›å†™å¿…é¡»èµ°æ¶ˆæ¯ã€‚</p>
</li>
<li>
<p>ä¸è¦æŠŠé•¿æ—¶é—´é˜»å¡ä»£ç ï¼ˆsleepã€sync I/Oï¼‰ç›´æ¥æ”¾è¿› actorï¼Œä¼šå¡ä½æ¶ˆæ¯é˜Ÿåˆ—ï¼›åº”æ‹†åˆ° <code>Task.detached</code> æˆ– <code>AsyncSequence</code>ã€‚</p>
</li>
<li>
<p>è·¨ actor è°ƒç”¨æ—¶ï¼Œå€¼ç±»å‹ä¼šè¢«æ‹·è´ï¼Œä¸è¦ä¼ é€’å¤§å‹æ•°ç»„ï¼›å¯æ”¹ç”¨ <code>AsyncSequence</code> æµå¼è¾“å‡ºã€‚</p>
</li>
<li>
<p>åˆ†å¸ƒå¼ actor çš„æ–¹æ³•å‚æ•°/è¿”å›å€¼å¿…é¡»éµå¾ª <code>Codable</code>ï¼Œå¦åˆ™æ— æ³•åºåˆ—åŒ–</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«JMeterï¼æˆ‘ç”¨ k6 5 åˆ†é’Ÿå®Œæˆé«˜å¹¶å‘å‹æµ‹]]></title>    <link>https://juejin.cn/post/7573512056088444963</link>    <guid>https://juejin.cn/post/7573512056088444963</guid>    <pubDate>2025-11-17T09:32:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573512056088444963" data-draft-id="7572836557142540288" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«JMeterï¼æˆ‘ç”¨ k6 5 åˆ†é’Ÿå®Œæˆé«˜å¹¶å‘å‹æµ‹"/> <meta itemprop="keywords" content="åç«¯,æµ‹è¯•"/> <meta itemprop="datePublished" content="2025-11-17T09:32:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è™å­_layor"/> <meta itemprop="url" content="https://juejin.cn/user/1109832819826707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«JMeterï¼æˆ‘ç”¨ k6 5 åˆ†é’Ÿå®Œæˆé«˜å¹¶å‘å‹æµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1109832819826707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è™å­_layor
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T09:32:26.000Z" title="Mon Nov 17 2025 09:32:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{font-family:-apple-system,BlinkMacSystemFont,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif;word-break:break-word;line-height:1.75;font-weight:200;font-size:16px;overflow-x:hidden;color:#666;letter-spacing:.5px}.markdown-body a{text-decoration:none;color:#0064c8;position:relative}.markdown-body a:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:rgba(0,100,200,.7);transform:scale(0);transition:all .4s ease-in-out}.markdown-body a:link:hover:after{transform:scale(1)}.markdown-body code{padding:2px 4px;font-size:.9em;font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px;background-color:rgba(0,46,70,.0431);color:#39f}.markdown-body strong{font-weight:400}.markdown-body em{color:#ff6a00}.markdown-body del,.markdown-body s{color:#bbb}.markdown-body small{font-size:.8em;color:#bbb}.markdown-body kbd{margin:0 .1em;padding:5px 8px 3px;border:1px solid #d1d5d9;border-radius:3px;box-shadow:0 1px 0 0 #e3e4e6,inset 0 0 0 2px #fff;background-color:#eee;font-weight:600;font-size:.8em;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;white-space:nowrap;color:#666}.markdown-body kbd:first-child{margin-left:0}.markdown-body kbd:last-child{margin-right:0}.markdown-body img{display:block;border:0;max-width:calc(100% - 20px);min-width:20px;min-height:20px;margin:0 10px;box-shadow:0 2px 8px 2px rgba(0,0,0,.2);transition:all .25s ease-in-out}.markdown-body img:hover{transform:translateY(-4px)}.markdown-body blockquote,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{line-height:inherit;font-size:inherit;color:inherit}.markdown-body blockquote:first-child,.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child,.markdown-body ol:first-child,.markdown-body p:first-child,.markdown-body pre:first-child,.markdown-body table:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body blockquote:last-child,.markdown-body h1:last-child,.markdown-body h2:last-child,.markdown-body h3:last-child,.markdown-body h4:last-child,.markdown-body h5:last-child,.markdown-body h6:last-child,.markdown-body ol:last-child,.markdown-body p:last-child,.markdown-body pre:last-child,.markdown-body table:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:1.6em 0 .6em;color:#333;font-weight:400;position:relative}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:-2em}.markdown-body h1{font-size:1.75em}.markdown-body h1:before{content:"#"}.markdown-body h1:first-child{margin-top:0}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.35em}.markdown-body h4{font-size:1.2em}.markdown-body h5{font-size:1.1em}.markdown-body h6{font-size:1em}.markdown-body blockquote,.markdown-body ol,.markdown-body pre,.markdown-body table,.markdown-body ul{margin:1em 0}.markdown-body p{margin:.7em 0;word-break:break-word}.markdown-body pre{padding:8px 12px;color:#666;background-color:rgba(0,46,70,.0431);border:1px solid #ebebeb;tab-size:4;white-space:pre-wrap;line-height:1.4}.markdown-body pre code{color:inherit;background-color:transparent;padding:0}.markdown-body ol,.markdown-body ul{margin:1em 0 1em 2em;padding:0;line-height:1.5!important;font-size:inherit;color:inherit}.markdown-body ol:first-child,.markdown-body ul:first-child{margin-top:0}.markdown-body ol:last-child,.markdown-body ul:last-child{margin-bottom:0}.markdown-body ol li,.markdown-body ul li{margin:.5em 0;list-style:inherit}.markdown-body ul{list-style:disc outside}.markdown-body ul ul{list-style-type:circle}.markdown-body ul ul ul{list-style-type:square}.markdown-body ol{list-style:decimal outside}.markdown-body ol ol{list-style-type:lower-alpha}.markdown-body ol ol ol{list-style-type:lower-roman}.markdown-body blockquote{font-size:.9em;padding:8px 20px 8px 15px;color:#666;border-left:5px solid rgba(0,100,200,.7);background-color:rgba(0,100,200,.1)}.markdown-body table{border-collapse:collapse;border-spacing:0;max-width:100%;min-width:50%;word-wrap:break-word;color:inherit}.markdown-body table thead tr{background-color:#f4f6f7}.markdown-body table td,.markdown-body table th{padding:4px 16px;font-size:.95em;text-align:left;color:inherit;border:0;min-width:72px}.markdown-body table td[align=center],.markdown-body table th[align=center]{text-align:center}.markdown-body table td[align=right],.markdown-body table th[align=right]{text-align:right}.markdown-body table th{border-bottom:2px solid #e3e4e6;color:#333;font-weight:400;white-space:nowrap}.markdown-body table td{border-bottom:1px solid #ebebeb}.markdown-body hr{margin:1.5em 0;padding:0;border:0;background:linear-gradient(90deg,rgba(0,46,70,.0431),#ebebeb 50%,rgba(0,46,70,.0431));height:1px}.markdown-body br{content:"";display:block}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆé€‰æ‹© k6ï¼Œè€Œä¸æ˜¯JMeterã€‚</h2>
<blockquote>
<p>æ›¾ç»æˆ‘ä¹Ÿç”¨ JMeter åšå‹æµ‹â€”â€”æ‹–æ‹½ç»„ä»¶ã€é…ç½®çº¿ç¨‹ç»„ã€è°ƒè¯•ç›‘å¬å™¨â€¦â€¦çœ‹ä¼¼å›¾å½¢åŒ–ï¼Œå®åˆ™ç¹çä½æ•ˆã€‚ç›´åˆ°é‡è§ <strong>k6</strong>ï¼šä¸€ä¸ªç”¨ JavaScript å†™è„šæœ¬ã€å‘½ä»¤è¡Œä¸€é”®è¿è¡Œã€å¤©ç„¶é›†æˆ CI/CD çš„ç°ä»£å‹æµ‹å·¥å…·ã€‚</p>
</blockquote>
<p><strong>é€‰æ‹© k6ï¼Œä¸æ˜¯å› ä¸ºå®ƒâ€œå–ä»£â€äº† JMeterï¼Œè€Œæ˜¯å› ä¸ºå®ƒè§£å†³äº† JMeter åœ¨â€œå¼€å‘è€…å·¥ä½œæµâ€ä¸­çš„ç—›ç‚¹</strong>ï¼š</p>
<ul>
<li>è„šæœ¬éš¾ç»´æŠ¤ â†’ ç”¨ JS å†™ï¼ŒGit å‹å¥½</li>
<li>èµ„æºæ¶ˆè€—å¤§ â†’ è½»é‡é«˜æ•ˆ</li>
<li>CI é›†æˆéº»çƒ¦ â†’ å‘½ä»¤è¡ŒåŸç”Ÿæ”¯æŒ</li>
<li>ç›‘æ§å¤æ‚ â†’ ä¸€é”®å¯¹æ¥ Grafana</li>
</ul>
<p>å¦‚æœä½ ä¹ŸåŒå€¦äº† JMeter çš„ç¬¨é‡é…ç½®ï¼Œk6 èƒ½è®©ä½ ç”¨å†™ä»£ç çš„æ–¹å¼ï¼Œ5 åˆ†é’Ÿå®Œæˆä¸€æ¬¡é«˜å¹¶å‘å‹æµ‹ã€‚</p>
<h2 data-id="heading-1">å¿«é€Ÿå®‰è£…</h2>
<ul>
<li>
<p>macOSï¼šbrew install k6</p>
</li>
<li>
<p>Linuxï¼ˆDebian/Ubuntuï¼‰ï¼š</p>
<ul>
<li>æ·»åŠ ä»“åº“å¯†é’¥ä¸æºï¼Œæ‰§è¡ŒÂ sudo apt-get install k6</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo gpg --no-default-keyring --keyring /usr/share/keyrings/k6-archive-keyring.gpg --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C5AD17C747E3415A3642D57D77C6C491D6AC1D69

<span class="hljs-built_in">echo</span> <span class="hljs-string">'deb [signed-by=/usr/share/keyrings/k6-archive-keyring.gpg] https://dl.k6.io/deb stable main'</span> | sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/k6.list

sudo apt-get update &amp;&amp; sudo apt-get install k6

</code></pre>
<ul>
<li>
<p>Windowsï¼ˆScoop/WSLï¼‰ï¼š</p>
<ul>
<li>scoop install k6Â æˆ–åœ¨ WSL å†…å®‰è£…</li>
</ul>
</li>
<li>
<p>éªŒè¯å®‰è£…</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">k6 version

<span class="hljs-comment"># è¾“å‡ºï¼šk6.exe v1.4.0 (commit/a9f9e3b28a, go1.25.4, windows/amd64)</span>
</code></pre>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong></p>
<ul>
<li>VUï¼ˆVirtual Userï¼‰ï¼šè™šæ‹Ÿç”¨æˆ·ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºã€‚</li>
<li>Iterationï¼šæ¯ä¸ª VU æ‰§è¡Œä¸€æ¬¡Â defaultÂ å‡½æ•°å³ä¸€æ¬¡è¿­ä»£ã€‚</li>
<li>Optionsï¼šå¹¶å‘æ•°ã€æŒç»­æ—¶é—´ã€é˜ˆå€¼ã€é˜¶æ®µï¼ˆstagesï¼‰ã€‚</li>
<li>Checksï¼šæ–­è¨€ï¼Œä¸å½±å“è¯·æ±‚ä½†è®¡å…¥é€šè¿‡ç‡ã€‚</li>
<li>Thresholdsï¼šæ€§èƒ½é˜ˆå€¼ï¼ˆå¦‚ P95 &lt; 200msï¼‰ï¼Œè¿ååˆ™æµ‹è¯•å¤±è´¥ã€‚</li>
</ul>
<h2 data-id="heading-2"><strong>ç¬¬ä¸€ä¸ªè„šæœ¬ï¼šæµ‹è¯•çŸ­é“¾è·³è½¬</strong></h2>
<ul>
<li>
<p>æ–‡ä»¶ï¼šweb/k6/redirect.js</p>
</li>
<li>
<p>è„šæœ¬è¦ç‚¹ï¼š</p>
<ul>
<li>è¿è¡Œé˜¶æ®µï¼ˆstagesï¼‰æ¨¡æ‹Ÿå¹¶å‘çˆ¬å¡ä¸å›è½ã€‚</li>
<li>é˜ˆå€¼çº¦æŸ p95ï¼Œé˜²æ­¢æ€§èƒ½å›å½’ã€‚</li>
<li>æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›– BASEã€CODESã€VUSã€‚</li>
<li>å†…ç½® HTML æŠ¥å‘Šç”Ÿæˆï¼ˆæ— éœ€é¢å¤–å®‰è£…ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span>Â httpÂ <span class="hljs-keyword">from</span>Â <span class="hljs-string">'k6/http'</span>
<span class="hljs-keyword">import</span>Â {Â check,Â sleepÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'k6'</span>
<span class="hljs-keyword">import</span>Â {Â htmlReportÂ }Â <span class="hljs-keyword">from</span>Â <span class="hljs-string">'https://raw.githubusercontent.com/benc-uk/
k6-reporter/main/dist/bundle.js'</span>
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">const</span>Â optionsÂ =Â {
Â Â <span class="hljs-attr">stages</span>:Â [
Â Â Â Â {Â <span class="hljs-attr">duration</span>:Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-attr">target</span>:Â <span class="hljs-title class_">Number</span>(__ENV.<span class="hljs-property">VUS1</span>Â ||Â <span class="hljs-number">100</span>)Â },
Â Â Â Â {Â <span class="hljs-attr">duration</span>:Â <span class="hljs-string">'2m'</span>,Â <span class="hljs-attr">target</span>:Â <span class="hljs-title class_">Number</span>(__ENV.<span class="hljs-property">VUS2</span>Â ||Â <span class="hljs-number">500</span>)Â },
Â Â Â Â {Â <span class="hljs-attr">duration</span>:Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-attr">target</span>:Â <span class="hljs-number">0</span>Â },
Â Â ],
Â Â <span class="hljs-attr">thresholds</span>:Â {
Â Â Â Â <span class="hljs-attr">http_req_duration</span>:Â [<span class="hljs-string">'p(95)&lt;300'</span>],
Â Â Â Â <span class="hljs-attr">checks</span>:Â [<span class="hljs-string">'rate&gt;0.99'</span>],
Â Â },
}
<span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">BASE</span>Â =Â __ENV.<span class="hljs-property">BASE</span>Â ||Â <span class="hljs-string">'http://localhost:8080'</span>
<span class="hljs-keyword">let</span>Â codesÂ =Â (__ENV.<span class="hljs-property">CODES</span>Â ||Â <span class="hljs-string">'åƒé—®,è…¾è®¯æŠ€æœ¯'</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">s</span>Â =&gt;</span>Â s.<span class="hljs-property">trim</span>
()).<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)
<span class="hljs-keyword">if</span>Â (codes.<span class="hljs-property">length</span>Â ===Â <span class="hljs-number">0</span>)Â codesÂ =Â [<span class="hljs-string">'test'</span>]
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">default</span>Â <span class="hljs-keyword">function</span>Â (<span class="hljs-params"/>)Â {
Â Â <span class="hljs-keyword">const</span>Â codeÂ =Â codes[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()Â *Â codes.<span class="hljs-property">length</span>)]
Â Â <span class="hljs-keyword">const</span>Â urlÂ =Â <span class="hljs-string">`<span class="hljs-subst">${BASE}</span>/<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(code)}</span>`</span>
Â Â <span class="hljs-keyword">const</span>Â resÂ =Â http.<span class="hljs-title function_">get</span>(url,Â {Â <span class="hljs-attr">redirects</span>:Â <span class="hljs-number">0</span>Â })
Â Â <span class="hljs-title function_">check</span>(res,Â {Â <span class="hljs-string">'302'</span>:Â <span class="hljs-function"><span class="hljs-params">r</span>Â =&gt;</span>Â r.<span class="hljs-property">status</span>Â ===Â <span class="hljs-number">302</span>Â })
Â Â <span class="hljs-title function_">sleep</span>(<span class="hljs-title class_">Number</span>(__ENV.<span class="hljs-property">SLEEP</span>Â ||Â <span class="hljs-number">0.3</span>))
}
<span class="hljs-keyword">export</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">handleSummary</span>(<span class="hljs-params">data</span>)Â {
Â Â <span class="hljs-keyword">return</span>Â {Â <span class="hljs-string">'summary.json'</span>:Â <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data),Â <span class="hljs-string">'summary.html'</span>:Â 
Â Â <span class="hljs-title function_">htmlReport</span>(data)Â }
}
</code></pre>
<blockquote>
<p>è„šæœ¬å¯ä»¥ç›´æ¥è®©aiç”Ÿæˆå¤§å¤§åŠ å¿«å‹æµ‹é€Ÿåº¦</p>
</blockquote>
<ul>
<li>
<p>è¿è¡Œï¼š</p>
<ul>
<li>cd web/k6</li>
<li>k6 run .\redirect.js</li>
<li>ç”ŸæˆÂ summary.html / summary.jsonï¼ˆç”¨æµè§ˆå™¨æ‰“å¼€ HTML å³å¯ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3"><strong>å‹æµ‹ç»“æœåˆ†æ</strong></h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a103b67ca4458395572099ab9202ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JmO5a2QX2xheW9y:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976746&amp;x-signature=hrjKKWuMhahhU9FyhUiBHVjV%2Bzo%3D" alt="å±å¹•æˆªå›¾ 2025-11-17 141055.png" loading="lazy"/></p>
<ul>
<li>http_reqsï¼šæ€»è¯·æ±‚ä¸é€Ÿç‡ï¼ˆQPSï¼‰ï¼Œè¡¡é‡ååã€‚</li>
<li>http_req_durationï¼šæ€»æ—¶å»¶ï¼ˆp50/p90/p95ï¼‰ï¼›p95 æ˜¯ä½“éªŒç›®æ ‡çš„ä¸»æŒ‡æ ‡ã€‚</li>
<li>http_req_waitingï¼šTTFBï¼ˆæœåŠ¡ç«¯å¤„ç†ä¸»è€—æ—¶ï¼‰ï¼›è‹¥â‰ˆdurationï¼Œç“¶é¢ˆåœ¨æœåŠ¡ç«¯ã€‚</li>
<li>http_req_failed / checksï¼šé”™è¯¯ç‡ä¸æ–­è¨€é€šè¿‡ç‡ï¼›ç†æƒ³â‰ˆ0%ã€â‰ˆ100%ã€‚</li>
<li>è¢«è¿åé˜ˆå€¼ï¼ˆbreached thresholdsï¼‰ï¼šæ€§èƒ½ç›®æ ‡æœªè¾¾æ ‡çš„ç›´æ¥è¯æ®ã€‚</li>
<li>è¶‹åŠ¿æ›²çº¿ï¼šéšé˜¶æ®µå˜åŒ–çš„å»¶è¿Ÿä¸ååï¼Œæ‹ç‚¹æš´éœ²ç“¶é¢ˆï¼ˆè¿æ¥æ± /çº¿ç¨‹/é˜Ÿåˆ—/GCï¼‰ã€‚</li>
</ul>
<blockquote>
<p>HTML æŠ¥å‘Šé€‚åˆå•æ¬¡æµ‹è¯•æŸ¥çœ‹ï¼Œä½†é•¿æœŸæ€§èƒ½è¶‹åŠ¿åˆ†æä»éœ€å¯¹æ¥ Grafanaã€‚</p>
</blockquote>
<h2 data-id="heading-4"><strong>ç”Ÿæˆå®æ—¶å¯è§†åŒ–æŠ¥å‘Šï¼ˆInfluxDB + Grafanaï¼‰</strong></h2>
<p>ç›®æ ‡ï¼šå‹æµ‹è¿‡ç¨‹ä¸­å°±èƒ½çœ‹åˆ°å¹¶å‘ã€QPSã€å»¶è¿Ÿæ›²çº¿ï¼Œä¾¿äºå®šä½æ—¶æ®µæ€§é—®é¢˜ã€‚</p>
<ul>
<li>
<p>å‡†å¤‡ï¼ˆDockerï¼Œä¸è£…å³ç”¨ï¼‰</p>
<ul>
<li>docker pull influxdb:1.8 &amp;&amp; docker run -d --name influxdb -p 8086:8086 influxdb:1.8</li>
<li>docker exec -it influxdb influx -execute "CREATE DATABASE k6"</li>
<li>docker pull grafana/grafana:latest &amp;&amp; docker run -d --name grafana -p 3000:3000 grafana/grafana:latest</li>
</ul>
</li>
<li>
<p>å°† k6 å†™å…¥ InfluxDBï¼š</p>
<ul>
<li>k6 run -o influxdb=<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8086%2Fk6" target="_blank" title="http://localhost:8086/k6" ref="nofollow noopener noreferrer">http://localhost:8086/k6</a> .\redirect.js</li>
</ul>
</li>
<li>
<p>Grafana é…ç½®ï¼š</p>
<ul>
<li>è®¿é—®Â <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%25EF%25BC%258C%25E5%25AF%2586%25E7%25A0%2581%25E9%25BB%2598%25E8%25AE%25A4%25EF%25BC%2588admin%2Cadmin%25EF%25BC%2589" target="_blank" title="http://localhost:3000%EF%BC%8C%E5%AF%86%E7%A0%81%E9%BB%98%E8%AE%A4%EF%BC%88admin,admin%EF%BC%89" ref="nofollow noopener noreferrer">http://localhost:3000ï¼Œå¯†ç é»˜è®¤ï¼ˆadmin,adminï¼‰</a></li>
<li>æ·»åŠ æ•°æ®æº InfluxDBï¼šURLÂ <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8086%25EF%25BC%258CDB%25C2%25A0k6" target="_blank" title="http://localhost:8086%EF%BC%8CDB%C2%A0k6" ref="nofollow noopener noreferrer">http://localhost:8086ï¼ŒDBÂ k6</a></li>
<li>å¯¼å…¥ k6 çœ‹æ¿ IDÂ 10660</li>
<li>å³å¯å®æ—¶æŸ¥çœ‹ VUsã€RPSã€http_req_durationã€é”™è¯¯ç‡æ›²çº¿</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6043b5252fb14f3f9d35ece2476f7e90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JmO5a2QX2xheW9y:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763976746&amp;x-signature=vQvzp%2FGmVXkrJIucMF1B6qFrCkw%3D" alt="å±å¹•æˆªå›¾ 2025-11-17 171252.png" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>å°†å‹æµ‹é›†æˆåˆ° CI/CDï¼šå®ç°è‡ªåŠ¨åŒ–æ€§èƒ½å›å½’</strong></h2>
<p>å…‰æœ‰æœ¬åœ°å‹æµ‹è¿˜ä¸å¤Ÿã€‚çœŸæ­£çš„å·¥ç¨‹å®è·µæ˜¯ï¼š<strong>æ¯æ¬¡ä»£ç æäº¤ï¼Œè‡ªåŠ¨è¿è¡Œå‹æµ‹ï¼Œæ€§èƒ½ä¸‹é™ç«‹å³å‘Šè­¦</strong>ã€‚</p>
<p>ä»¥ GitHub Actions ä¸ºä¾‹ï¼Œåœ¨é¡¹ç›®ä¸­æ·»åŠ  <code>.github/workflows/perf-test.yml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Performance</span> <span class="hljs-string">Test</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]  <span class="hljs-comment"># æ¨é€åˆ°ä¸»åˆ†æ”¯æ—¶è§¦å‘</span>
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">k6:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">k6</span> <span class="hljs-string">test</span>
        <span class="hljs-attr">env:</span>
          <span class="hljs-attr">BASE_URL:</span> <span class="hljs-string">https://example.com</span> <span class="hljs-comment">#æŒ‰éœ€ä¿®æ”¹</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          docker run -i --rm -v ${PWD}:/scripts -e BASE_URL \
            grafana/k6 run /scripts/web/k6/redirect.js
</span></code></pre>
<hr/>
<p><strong>æ€»ç»“</strong>ï¼šk6 ä¸æ˜¯ JMeter çš„æ›¿ä»£å“ï¼Œè€Œæ˜¯ä¸ºå¼€å‘è€…é‡èº«æ‰“é€ çš„â€œæ€§èƒ½éªŒè¯å·¥å…·â€ã€‚å®ƒç”¨ä»£ç ä»£æ›¿é…ç½®ï¼Œç”¨è‡ªåŠ¨åŒ–ä»£æ›¿æ‰‹åŠ¨ï¼Œè®©ä½ åœ¨å¼€å‘é˜¶æ®µå°±èƒ½å‘ç°æ€§èƒ½é—®é¢˜ã€‚</p>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<ul>
<li>k6 å®˜ç½‘ä¸æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fk6.io%2F" target="_blank" title="https://k6.io/" ref="nofollow noopener noreferrer">k6.io</a></li>
<li>k6 Reporterï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbenc-uk%2Fk6-reporter" target="_blank" title="https://github.com/benc-uk/k6-reporter" ref="nofollow noopener noreferrer">github.com/benc-uk/k6-â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Numpyæ•°æ®è¿ç®—ã€‘Numpyé€Ÿå­¦æ‰‹å†Œ]]></title>    <link>https://juejin.cn/post/7573170756869128244</link>    <guid>https://juejin.cn/post/7573170756869128244</guid>    <pubDate>2025-11-17T06:31:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573170756869128244" data-draft-id="7573241978901659663" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Numpyæ•°æ®è¿ç®—ã€‘Numpyé€Ÿå­¦æ‰‹å†Œ"/> <meta itemprop="keywords" content="Python,NumPy"/> <meta itemprop="datePublished" content="2025-11-17T06:31:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå°äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/4153318871926912"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Numpyæ•°æ®è¿ç®—ã€‘Numpyé€Ÿå­¦æ‰‹å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4153318871926912/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå°äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T06:31:40.000Z" title="Mon Nov 17 2025 06:31:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€Numpyçš„åŸºæœ¬ä»‹ç»å’Œé…ç½®</h3>
<h4 data-id="heading-1">1.1 numpyåŸºæœ¬ä»‹ç»</h4>
<p>numpyæ˜¯Pythonè¯­è¨€çš„ä¸€ä¸ªç¬¬ä¸‰æ–¹ç§‘å­¦è®¡ç®—åº“ï¼Œå®ƒçš„æ„æ€æ˜¯â€œNumeric Pythonâ€ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”±å¤šç»´æ•°ç»„å¯¹è±¡å’Œç”¨äºå¤„ç†æ•°ç»„çš„å‡½æ•°é›†åˆç»„æˆçš„åº“ã€‚</p>
<p>numpyæ”¯æŒNç»´æ•°ç»„è¿ç®—ã€å¤„ç†å¤§å‹çŸ©é˜µã€æˆç†Ÿçš„å¹¿æ’­å‡½æ•°åº“ã€çŸ¢é‡è®¡ç®—ã€çº¿æ€§ä»£æ•°ç­‰å¸¸è§ç§‘å­¦è¿ç®—æ“ä½œï¼Œè€Œä¸”å¤„ç†æ•ˆç‡éå¸¸é«˜ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹æ•°ç»„è¿ç®—ï¼Œæ‰€ä»¥æ˜¯éå¸¸å¸¸ç”¨çš„ä¸€ä¸ªç§‘å­¦è®¡ç®—å’Œæ•°æ®åˆ†æç”¨çš„åº“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d237438b8c344369962d9b2d833655b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlsI_kupE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763965899&amp;x-signature=hcvQq%2Fq8x0%2FB4bjPD6zh5JeDL54%3D" alt="1.png" loading="lazy"/></p>
<h4 data-id="heading-2">1.2 numpyçš„ä¼˜åŠ¿</h4>
<p>numpyçš„æ•°ç»„åœ¨è¿ç®—æ—¶æ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šç»´å‘é‡è¿ç®—æ—¶è¿œæ¯”pythonæ•°ç»„å¿«å¾—å¤šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥å¯¹æ¯”pythonæ•°ç»„å’Œnumpyæ•°ç»„çš„è¿è¡Œæ•ˆç‡å“ªä¸ªæ›´é«˜ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># numpyå’ŒpythonåŸç”Ÿåˆ—è¡¨æ±‚å’Œè®¡ç®—çš„å¯¹æ¯”</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> random
<span class="hljs-keyword">import</span> time
py_list = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">100000000</span>):
 Â  Â py_list.append(random.random()) Â  <span class="hljs-comment"># ç”Ÿæˆ100000000ä¸ªå…ƒç´ çš„éšæœºæ•°åˆ—è¡¨</span>
np_list = np.array(py_list) Â <span class="hljs-comment"># å°†100000000ä¸ªå…ƒç´ çš„éšæœºæ•°åˆ—è¡¨æ”¾å…¥åˆ°ndarrayä¸­</span>
<span class="hljs-comment"># åŸç”Ÿpython listæ±‚å’Œ</span>
st1 = time.time() Â <span class="hljs-comment"># è®°å½•å¼€å§‹æ—¶é—´</span>
<span class="hljs-built_in">sum</span>(py_list) Â  Â  Â  Â <span class="hljs-comment"># ç›´æ¥ä½¿ç”¨pythonåˆ—è¡¨æä¾›çš„sumæ–¹æ³•å¯¹åˆ—è¡¨æ±‚å’Œ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨åŸç”Ÿpythonåˆ—è¡¨è®¡ç®—è€—æ—¶ä¸ºï¼š"</span>, time.time()-st1)
<span class="hljs-comment"># ç”¨ndarrayæ±‚å’Œ</span>
st2 = time.time()
np.<span class="hljs-built_in">sum</span>(np_list) Â  Â  <span class="hljs-comment"># åˆ©ç”¨numpyæä¾›çš„sumæ–¹æ³•å¯¹åˆ—è¡¨æ±‚å’Œ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç”¨ndarrayè®¡ç®—è€—æ—¶ä¸ºï¼š"</span>, time.time()-st2)
</code></pre>
<p>pythonä¸ºä»€ä¹ˆæ…¢ï¼Ÿ</p>
<ol start="0">
<li>æ ‡å‡†çš„pythonä¸­ç”¨åˆ—è¡¨ä¿å­˜ä¸€ç»„å€¼ï¼Œå¯ä»¥å½“ä½œæ•°ç»„ä½¿ç”¨ã€‚ä½†ç”±äºåˆ—è¡¨çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ï¼Œå› æ­¤åˆ—è¡¨ä¸­ä¿å­˜çš„æ˜¯å¯¹è±¡çš„æŒ‡é’ˆï¼ˆåœ°å€ï¼‰ã€‚å¯¹äºæ•°å€¼è¿ç®—æ¥è¯´ï¼Œè¿™ç§ç»“æ„æ˜¾ç„¶æ¯”è¾ƒæµªè´¹å†…å­˜å’ŒCPUè¿ç®—ã€‚</li>
<li>Pythonæä¾›äº†arrayæ¨¡å—ï¼Œèƒ½ç›´æ¥ä¿å­˜æ•°å€¼ï¼Œä½†ç”±äºå®ƒä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼Œä¹Ÿæ²¡æœ‰å„ç§è¿ç®—å‡½æ•°ï¼Œå› ä¸ºä¹Ÿä¸é€‚åˆåšæ•°å€¼è¿ç®—ã€‚</li>
</ol>
<h3 data-id="heading-3">äºŒã€NumpyåŸºç¡€ä½¿ç”¨</h3>
<h4 data-id="heading-4">2.1 ç”Ÿæˆnumpyæ•°ç»„</h4>
<p>åœ¨numpyä¸­ï¼Œæœ€é‡è¦çš„å¯¹è±¡æ˜¯è¢«ç§°ä¸ºå«ndarrayçš„Nç»´æ•°ç»„ç±»å‹ã€‚ndarrayä¸­çš„æ¯ä¸ªå…ƒç´ åœ¨å†…å­˜ä¸­ä½¿ç”¨ç›¸åŒå¤§å°çš„å—ï¼Œå®ƒæè¿°ç›¸åŒç±»å‹çš„å…ƒç´ é›†åˆã€‚è¿™ä¸ªé›†åˆä¸­çš„å…ƒç´ æ˜¯åŸºäºé›¶çš„ç´¢å¼•æ¥è¿›è¡Œè®¿é—®ã€‚</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„numpyæ•°ç»„</li>
</ul>

<pre><code class="hljs language-php" lang="php">import numpy <span class="hljs-keyword">as</span> np
my_array = np.<span class="hljs-keyword">array</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
<span class="hljs-keyword">print</span>(my_array)
</code></pre>
<p>å®é™…ä¸Šä¸Šé¢çš„ä»£ç æ˜¯å°†ä¸€ä¸ªpythonæ•°ç»„è½¬åŒ–ä¸ºäº†ä¸€ä¸ªnumpyæ•°ç»„ã€‚</p>
<p>é™¤äº†å¯ä»¥å°†pythonæ•°ç»„è½¬åŒ–ä¸ºä¸€ä¸ªnumpyæ•°ç»„å¤–ï¼Œnumpyè¿˜å†…ç½®äº†å‡ ç§å¸¸è§çš„åˆ›å»ºæ•°ç»„çš„æ–¹å¼ã€‚</p>
<ul>
<li>åˆ›å»ºæŒ‡å®šå½¢çŠ¶çš„å…¨0çš„äºŒç»´æ•°ç»„</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">ndarr1</span> = np.zeros(shape=(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>), dtype=np.int_) Â <span class="hljs-comment"># np.int_æ˜¯numpyé‡Œé¢è‡ªå¸¦çš„æ•´å‹ç±»å‹</span>
print(ndarr1)
æ‰“å°å‡ºæ¥çš„ç»“æœæ˜¯ï¼š
<span class="hljs-section">[[0 0 0 0]</span>
 <span class="hljs-section">[0 0 0 0]</span>
 <span class="hljs-section">[0 0 0 0]]</span>
</code></pre>
<ul>
<li>åˆ›å»ºæŒ‡å®šå½¢çŠ¶å…¨1çš„äºŒç»´æ•°ç»„</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">nd2</span> = np.<span class="hljs-literal">on</span>es(shape=(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>), dtype=np.float_) <span class="hljs-comment"># æ³¨æ„ï¼ŒæŒ‡å®šçš„æ˜¯floatç±»å‹</span>
print(nd2)
è¾“å‡ºç»“æœä¸ºï¼š
<span class="hljs-section">[[1. 1. 1. 1.]</span>
 <span class="hljs-section">[1. 1. 1. 1.]</span>
 <span class="hljs-section">[1. 1. 1. 1.]]</span>
</code></pre>
<p>è¿™äº›æ–¹æ³•çš„ä¸»è¦æ„ä¹‰æ˜¯æ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿåˆ›å»ºæŒ‡å®šå¤§å°çš„å…¨é›¶æ•°ç»„ï¼Œå¹¶å°†å…¶ä½œä¸ºå…¶ä»–è®¡ç®—å’Œæ“ä½œçš„åŸºç¡€ã€‚</p>
<ul>
<li>ç”ŸæˆæŒ‡å®šç»´æ•°çš„å¤šç»´æ•°ç»„ï¼Œæ¯”å¦‚ä¸‰ç»´æ•°ç»„</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">np.full(<span class="hljs-attr">shape</span>=(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>), fill_value=<span class="hljs-number">1.23</span>) <span class="hljs-comment"># ç”Ÿæˆä¸€ä¸ªä¸‰ç»´æ•°ç»„ï¼Œç¬¬ä¸€ç»´æœ‰3è¡Œï¼Œç¬¬äºŒç»´æœ‰4è¡Œï¼Œç¬¬ä¸‰ç»´æœ‰5ä¸ªå…ƒç´ ã€‚æ‰€æœ‰çš„å…ƒç´ éƒ½ç”¨1.23æ¥å¡«å……ã€‚</span>
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
array(<span class="hljs-section">[[[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]]</span>,
 Â  Â  Â  <span class="hljs-section">[[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]]</span>,
 Â  Â  Â  <span class="hljs-section">[[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]</span>,
 Â  Â  Â   <span class="hljs-section">[1.23, 1.23, 1.23, 1.23, 1.23]]]</span>)
</code></pre>
<ul>
<li>ç”Ÿæˆéšæœºæ•°ç»„</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">np<span class="hljs-selector-class">.random</span><span class="hljs-selector-class">.randint</span>(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>, <span class="hljs-number">20</span>) Â # ç”Ÿæˆä¸€ä¸ª<span class="hljs-number">1</span>-<span class="hljs-number">100</span>ä¹‹é—´ï¼Œ<span class="hljs-number">20</span>ä¸ªéšæœºçš„æ•´æ•°å€¼
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
<span class="hljs-built_in">array</span>([<span class="hljs-number">83</span>, <span class="hljs-number">26</span>, <span class="hljs-number">69</span>, <span class="hljs-number">60</span>, <span class="hljs-number">86</span>, <span class="hljs-number">92</span>, Â <span class="hljs-number">2</span>, <span class="hljs-number">21</span>, <span class="hljs-number">13</span>, <span class="hljs-number">28</span>, <span class="hljs-number">71</span>, <span class="hljs-number">61</span>, <span class="hljs-number">49</span>, <span class="hljs-number">28</span>, <span class="hljs-number">34</span>, <span class="hljs-number">71</span>, <span class="hljs-number">13</span>,
 Â  Â  Â  <span class="hljs-number">63</span>, <span class="hljs-number">68</span>, <span class="hljs-number">25</span>])
</code></pre>
<ul>
<li>ç”Ÿæˆ0-1ä¹‹é—´çš„éšæœºæ•°</li>
</ul>

<pre><code class="hljs language-lua" lang="lua">np.<span class="hljs-built_in">random</span>.rand(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>) Â # ç”Ÿæˆ<span class="hljs-number">3</span>è¡Œ<span class="hljs-number">5</span>åˆ—çš„<span class="hljs-number">0</span><span class="hljs-number">-1</span>ä¹‹é—´çš„éšæœºæ•°
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
array(<span class="hljs-string">[[0.99575551, 0.15548124, 0.22529574, 0.51938085, 0.45664922],
 Â  Â  Â  [0.90502429, 0.3120783 , 0.8739342 , 0.94432649, 0.68055903],
 Â  Â  Â  [0.47818137, 0.17935855, 0.03667778, 0.1575434 , 0.03999879]]</span>)
</code></pre>
<ul>
<li>ç”Ÿæˆç­‰å·®æ•°åˆ—</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">np.arange(1, 100, <span class="hljs-attr">step</span>=<span class="hljs-number">2</span>) Â <span class="hljs-comment"># ç”Ÿæˆå·®å€¼ä¸º2çš„ç­‰å·®åºåˆ—</span>
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
array(<span class="hljs-section">[ 1, Â 3, Â 5, Â 7, Â 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
 Â  Â  Â  35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67,
 Â  Â  Â  69, 71, 73, 75, 77, 79, 81, 83, 85, 87, 89, 91, 93, 95, 97, 99]</span>)
np.linspace(1, 10, <span class="hljs-attr">num</span>=<span class="hljs-number">20</span>) Â <span class="hljs-comment"># ç”Ÿæˆä»1-10ä¹‹é—´çš„æœ‰20ä¸ªæ•°çš„ç­‰å·®æ•°åˆ—</span>
è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
array(<span class="hljs-section">[ 1. Â  Â  Â   , Â 1.47368421, Â 1.94736842, Â 2.42105263, Â 2.89473684,
 Â  Â  Â  Â 3.36842105, Â 3.84210526, Â 4.31578947, Â 4.78947368, Â 5.26315789,
 Â  Â  Â  Â 5.73684211, Â 6.21052632, Â 6.68421053, Â 7.15789474, Â 7.63157895,
 Â  Â  Â  Â 8.10526316, Â 8.57894737, Â 9.05263158, Â 9.52631579, 10. Â  Â  Â   ]</span>)
æ³¨æ„ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼š
1. arangeæ˜¯å·¦å¼€å³é—­ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šç­‰å·®çš„æ­¥é•¿ã€‚
2. linspaceæ˜¯å·¦å¼€å³å¼€ï¼Œé€šè¿‡å‚æ•°æŒ‡å®šçš„æ˜¯ç­‰å·®æ•°åˆ—çš„å€¼çš„ä¸ªæ•°ï¼Œæ— æ³•æŒ‡å®šæ­¥é•¿
</code></pre>
<ul>
<li>åˆ›å»ºå•ä½æ•°ç»„</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">np.eye(4) Â  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª4è¡Œ4åˆ—çš„æ•°ç»„ï¼Œå¯¹è§’çº¿å…¨ä¸º1</span>
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-section">[[1., 0., 0., 0.]</span>,
 Â  Â  Â  <span class="hljs-section">[0., 1., 0., 0.]</span>,
 Â  Â  Â  <span class="hljs-section">[0., 0., 1., 0.]</span>,
 Â  Â  Â  <span class="hljs-section">[0., 0., 0., 1.]]</span>)
</code></pre>
<ul>
<li>åˆ›å»ºå¯¹è§’æ•°ç»„</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">np.diag(<span class="hljs-section">[2,3,4,8]</span>) Â <span class="hljs-comment"># æ ¹æ®åˆ—è¡¨å‚æ•°åˆ›å»ºå¯¹è§’æ•°ç»„</span>
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-section">[[2, 0, 0, 0]</span>,
 Â  Â  Â  <span class="hljs-section">[0, 3, 0, 0]</span>,
 Â  Â  Â  <span class="hljs-section">[0, 0, 4, 0]</span>,
 Â  Â  Â  <span class="hljs-section">[0, 0, 0, 8]]</span>)
</code></pre>
<h4 data-id="heading-5">2.2 å…¶ä»–è¿ç®—æ“ä½œ</h4>
<p>æ•°ç»„çš„èšåˆè¿ç®—ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.array</span>([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]])
<span class="hljs-built_in">print</span>(np.sum(a))
<span class="hljs-built_in">print</span>(np.average(a))
<span class="hljs-built_in">print</span>(np.mean(a))
<span class="hljs-built_in">print</span>(np.std(a))
<span class="hljs-built_in">print</span>(np.var(a))
<span class="hljs-built_in">print</span>(np.min(a))
<span class="hljs-built_in">print</span>(np.max(a))
<span class="hljs-built_in">print</span>(np.median(a))
</code></pre>
<p>è½¬æ¢æ–¹å‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">print</span>(np.rot90(a)) Â  Â  Â  Â <span class="hljs-comment"># æ—‹è½¬90åº¦</span>
<span class="hljs-built_in">print</span>(np.rot90(a, k=3)) Â  Â <span class="hljs-comment"># æ—‹è½¬270åº¦</span>
</code></pre>
<p>ç‰¹æ®Šè¿ç®—ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">print</span>(np.power(a, 2)) Â  <span class="hljs-comment"># å„æ•°çš„å¹³æ–¹</span>
<span class="hljs-built_in">print</span>(np.exp(a)) Â  Â  Â  Â <span class="hljs-comment"># eçš„å„æ•°æ¬¡æ–¹</span>
<span class="hljs-built_in">print</span>(np.log(a)) Â  Â  Â  Â <span class="hljs-comment"># è‡ªç„¶å¯¹æ•°</span>
<span class="hljs-built_in">print</span>(np.log2(a)) Â  Â  Â  Â <span class="hljs-comment"># 2ä¸ºåº•æ•°</span>
<span class="hljs-built_in">print</span>(np.log10(a)) Â  Â  Â  Â <span class="hljs-comment"># 10ä¸ºåº•æ•°</span>
</code></pre>
<h4 data-id="heading-6">2.2 æŸ¥çœ‹æ•°ç»„å±æ€§</h4>
<p>æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶æŸ¥çœ‹æ•°ç»„çš„å„ä¸ªå¸¸è§å±æ€§ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">nd</span> = np.random.rand(<span class="hljs-number">3</span>,<span class="hljs-number">5</span>)
array(<span class="hljs-section">[[0.68500603, 0.33329822, 0.95843204, 0.88017799, 0.27872737]</span>,
 Â  Â  Â  <span class="hljs-section">[0.33032208, 0.26202034, 0.64646861, 0.79371605, 0.18761317]</span>,
 Â  Â  Â  <span class="hljs-section">[0.06157604, 0.2343893 , 0.55365721, 0.60644976, 0.81372911]]</span>)
<span class="hljs-comment"># æŸ¥çœ‹æ•°ç»„çš„å½¢çŠ¶</span>
nd.shape Â <span class="hljs-comment">#(3, 5)</span>
<span class="hljs-comment"># æŸ¥çœ‹æ•°ç»„çš„é•¿åº¦</span>
nd.size Â  <span class="hljs-comment"># 15</span>
<span class="hljs-comment"># æŸ¥çœ‹æ•°ç»„å…ƒç´ ç±»å‹</span>
nd.dtype Â <span class="hljs-comment"># dtype('float64')</span>
<span class="hljs-comment"># æŸ¥çœ‹æ•°ç»„çš„ç»´åº¦</span>
nd.ndim Â  <span class="hljs-comment"># 2</span>
</code></pre>
<h4 data-id="heading-7">2.3 å¸¸è§æ•°æ®ç±»å‹</h4>
<p>åœ¨numpyä¸­ï¼Œå¸¸è§çš„æ•°æ®ç±»å‹åŒ…æ‹¬intï¼Œfloatï¼Œstrï¼Œå’Œdatetime64ç­‰ç±»å‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">np.array(<span class="hljs-section">[1,2,3,4]</span>, <span class="hljs-attr">dtype</span>=<span class="hljs-string">"float16"</span>) Â <span class="hljs-comment"># åˆ›å»ºæ•°ç»„æ—¶æŒ‡å®šæ•°æ®ç±»å‹</span>
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-section">[1., 2., 3., 4.]</span>, <span class="hljs-attr">dtype</span>=float16)
<span class="hljs-comment"># æ–‡æœ¬å‹æ•°æ®ç±»å‹</span>
np.array(list('hello'))
è¾“å‡ºç»“æœï¼šarray(<span class="hljs-section">['h', 'e', 'l', 'l', 'o']</span>, <span class="hljs-attr">dtype</span>=<span class="hljs-string">'&lt;U1'</span>)
ä¹Ÿå¯ä»¥è¿›è¡Œæ•°æ®ç±»å‹çš„è½¬æ¢
<span class="hljs-attr">nd</span> = np.random.rand(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>)
nd.dtype Â  <span class="hljs-comment"># float64</span>
np.asarray(nd, <span class="hljs-attr">dtype</span>=<span class="hljs-string">"float16"</span>) Â  <span class="hljs-comment"># å°†ndæ•°ç»„ç”±float64ä½å˜ä¸ºfloat16ä½ï¼Œç²¾åº¦å‡å°</span>
np.asarray(nd, <span class="hljs-attr">dtype</span>=<span class="hljs-string">"int8"</span>) Â  Â  <span class="hljs-comment"># å°†ndæ•°ç»„å˜æˆintç±»å‹ï¼Œç»“æœå…¨éƒ¨æ˜¯0ï¼Œå› ä¸ºå°æ•°ä½æ•°èˆå»äº†</span>
é€šè¿‡å¯¹è±¡è‡ªèº«çš„astypeè¿›è¡Œç±»å‹è½¬æ¢
nd.astype(<span class="hljs-attr">dtype</span>=<span class="hljs-string">"float32"</span>)
</code></pre>
<p>æ—¶é—´ç±»å‹çš„ç”¨æ³• datetime64 ç±»å‹æ˜¯ Numpy ä¸­ä¸€ç§ç”¨äºè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„æ•°æ®ç±»å‹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª datetime å¯¹è±¡è¡¨ç¤º 2022-01-01 12:00:00</span>
dt = np.datetime64(<span class="hljs-string">'2022-01-01T12:00:00'</span>)
<span class="hljs-comment"># è¾“å‡ºå¯¹è±¡ä»¥åŠå…¶æ•°æ®ç±»å‹</span>
<span class="hljs-built_in">print</span>(dt)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">type</span>(dt))
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ª datetime å¯¹è±¡çš„æ•°ç»„</span>
dt_arr = np.array([<span class="hljs-string">'2022-01-01T12:00:00'</span>, <span class="hljs-string">'2022-01-02T06:30:00'</span>, <span class="hljs-string">'2022-01-03T14:15:00'</span>], dtype=<span class="hljs-string">'datetime64'</span>)
<span class="hljs-built_in">print</span>(dt_arr)
</code></pre>
<h4 data-id="heading-8">2.4 æ•°ç»„å…ƒç´ çš„ç´¢å¼•</h4>
<h5 data-id="heading-9">2.4.1 ä¸€ç»´æ•°ç»„çš„ç´¢å¼•</h5>
<p>ä¸€ç»´æ•°ç»„çš„ç´¢å¼•æ–¹å¼è·Ÿpythonä¸­çš„åˆ—è¡¨å…ƒç´ çš„ç´¢å¼•æ–¹å¼æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯é€šè¿‡0å¼€å§‹çš„æ•°å­—æ¥è¿›è¡Œç´¢å¼•ï¼Œä¹Ÿæ”¯æŒå€’åº-1å¼€å§‹çš„ç´¢å¼•ã€‚</p>
<h5 data-id="heading-10">2.4.2 å¤šç»´æ•°ç»„çš„ç´¢å¼•</h5>
<ul>
<li>äºŒç»´æ•°ç»„çš„ç´¢å¼•æ“ä½œ</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">nd</span> = np.random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>, size=(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>))
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[[47, Â 9, 51, 16, Â 9, 18]</span>,
 Â  Â  Â  <span class="hljs-section">[23, 74, 58, 91, 63, 84]</span>,
 Â  Â  Â  <span class="hljs-section">[97, 44, 33, 27, Â 9, 77]</span>,
 Â  Â  Â  <span class="hljs-section">[11, 41, 35, 61, 10, 71]</span>,
 Â  Â  Â  <span class="hljs-section">[87, 71, 20, 57, 83, Â 2]]</span>)
nd<span class="hljs-section">[0, 1:]</span> Â <span class="hljs-comment"># ç¬¬1è¡Œç¬¬2ä¸ªåˆ°æœ€åä¸€ä¸ªæ•°</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[ 9, 51, 16, Â 9, 18]</span>)
nd<span class="hljs-section">[:, 0]</span> Â <span class="hljs-comment"># æ‰€æœ‰è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[47, 23, 97, 11, 87]</span>)
nd<span class="hljs-section">[1:4, 1:5]</span> Â <span class="hljs-comment"># ç¬¬2åˆ°4è¡Œï¼Œç¬¬2åˆ°5åˆ—çš„æ•°å­—</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[[74, 58, 91, 63]</span>,
 Â  Â  Â  <span class="hljs-section">[44, 33, 27, Â 9]</span>,
 Â  Â  Â  <span class="hljs-section">[41, 35, 61, 10]]</span>)
nd<span class="hljs-section">[::2, ::-1]</span> Â <span class="hljs-comment"># éš”ä¸€è¡Œå–ï¼Œå¹¶ä¸”æ¯è¡Œçš„æ•°å­—ååºè¾“å‡º</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[[18, Â 9, 16, 51, Â 9, 47]</span>,
 Â  Â  Â  <span class="hljs-section">[77, Â 9, 27, 33, 44, 97]</span>,
 Â  Â  Â  <span class="hljs-section">[ 2, 83, 57, 20, 71, 87]]</span>)
nd<span class="hljs-section">[2:, (1,4,5)]</span> Â  <span class="hljs-comment"># æŒ‡å®šé€‰æ‹©æŸå‡ åˆ—çš„æ•°å­—</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[[44, Â 9, 77]</span>,
 Â  Â  Â  <span class="hljs-section">[41, 10, 71]</span>,
 Â  Â  Â  <span class="hljs-section">[71, 83, Â 2]]</span>)
nd<span class="hljs-section">[(1,3,4), 2:]</span> Â <span class="hljs-comment"># æŒ‡å®šé€‰æ‹©æŸå‡ è¡Œçš„æ•°å­—</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[[58, 91, 63, 84]</span>,
 Â  Â  Â  <span class="hljs-section">[35, 61, 10, 71]</span>,
 Â  Â  Â  <span class="hljs-section">[20, 57, 83, Â 2]]</span>)
<span class="hljs-comment"># å•æ¡ä»¶ç­›é€‰ï¼Œç­›é€‰å‡ºæ‰€æœ‰å¤§äº50çš„æ•°å­—</span>
print(nd<span class="hljs-section">[nd&gt;50]</span>)
<span class="hljs-comment"># å¤šæ¡ä»¶ç­›é€‰ï¼Œç­›é€‰å‡ºæ‰€æœ‰å¤§äº50ä½†å°äº70çš„æ•°å­—</span>
print(nd<span class="hljs-section">[(nd&gt;50) &amp; (nd&lt;70)]</span>)
<span class="hljs-comment"># å¤šæ¡ä»¶ç­›é€‰ï¼Œç­›é€‰å‡ºå°äº10æˆ–è€…æ˜¯å¤§äº90çš„</span>
print(nd<span class="hljs-section">[(nd&lt;10) | (nd&gt;90)]</span>)
nd<span class="hljs-section">[(1,2,3,4), (1,2,4,3)]</span> Â <span class="hljs-comment"># èŠ±å¼ç´¢å¼•ã€‚è§„åˆ™ï¼Œè¦å–çš„æ¯ä¸ªå…ƒç´ çš„è¡Œå’Œåˆ—ç´¢å¼•ï¼Œåˆ†åˆ«ç»„æˆè¡Œçš„ç´¢å¼•æ•°ç»„å’Œåˆ—çš„ç´¢å¼•æ•°ç»„ã€‚</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[74, 33, 10, 57]</span>)
</code></pre>
<p>æ³¨æ„ï¼ŒèŠ±å¼ç´¢å¼•çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/810dfd3a429245c3871361d5819191fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlsI_kupE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763965899&amp;x-signature=XCh1kZuJyhnnqebgaPRlkzD0k%2BA%3D" alt="2.png" loading="lazy"/></p>
<ul>
<li>ä¸‰ç»´æ•°ç»„çš„ç´¢å¼•æ“ä½œ</li>
</ul>

<pre><code class="hljs language-lua" lang="lua">nd = np.arange(<span class="hljs-number">18</span>).reshape(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>) Â # ç”Ÿæˆä¸€ä¸ªä¸‰ç»´æ•°ç»„
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-string">[[[ 0, Â 1, Â 2],
 Â  Â  Â   [ 3, Â 4, Â 5],
 Â  Â  Â   [ 6, Â 7, Â 8]]</span>,
 Â  Â  Â  <span class="hljs-string">[[ 9, 10, 11],
 Â  Â  Â   [12, 13, 14],
 Â  Â  Â   [15, 16, 17]]</span>])
# å–ä¸‰ç»´æ•°ç»„æ¯ç»„çš„ç¬¬ä¸€è¡Œæ•°æ®ã€‚
# å‚æ•°åŒ…å«<span class="hljs-number">3</span>ä¸ªéƒ¨åˆ†
# ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šè¦å–å“ªäº›ç»„
# ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè¦å–ç¬¬å‡ è¡Œ
# ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šè¦å–å“ªå‡ åˆ—çš„å€¼
nd[:, <span class="hljs-number">0</span>, :]
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-string">[[ 0, Â 1, Â 2],
 Â  Â  Â  [ 9, 10, 11]]</span>)
nd[:, :, <span class="hljs-number">0</span>] Â  # å–æ‰€æœ‰è¡Œçš„ç¬¬ä¸€åˆ—çš„å€¼
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-string">[[ 0, Â 3, Â 6],
 Â  Â  Â  [ 9, 12, 15]]</span>)
nd[:, ::<span class="hljs-number">2</span>, ::<span class="hljs-number">2</span>] Â  # éš”ä¸€è¡Œéš”ä¸€åˆ—å–å€¼
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-string">[[[ 0, Â 2],
 Â  Â  Â   [ 6, Â 8]]</span>,
 Â  Â  Â  <span class="hljs-string">[[ 9, 11],
 Â  Â  Â   [15, 17]]</span>])
</code></pre>
<h4 data-id="heading-11">2.5 å˜æ¢æ•°ç»„å½¢æ€</h4>
<p>æ•°ç»„çš„å½¢æ€å˜æ¢ä¸»è¦æ¶‰åŠåˆ°é‡å¡‘ã€å±•å¹³ã€å †å ã€æ‹¼æ¥å’Œåˆ†å‰²ã€‚</p>
<h5 data-id="heading-12">2.5.1 é‡å¡‘reshapeï¼ˆé‡ç‚¹ï¼‰</h5>
<p>ä½¿ç”¨reshapeå¯ä»¥å°†ä¸€ä¸ªæ•°ç»„è½¬åŒ–ä¸ºä¸€ä¸ªä»»æ„å½¢çŠ¶çš„æ•°ç»„ã€‚æ³¨æ„ï¼Œè½¬æ¢æ—¶å¿…é¡»ä½¿å…ƒç´ èƒ½å¤Ÿå¯¹é½ã€‚</p>
<pre><code class="hljs language-lua" lang="lua">nd = np.arange(<span class="hljs-number">18</span>) Â  # ç”Ÿæˆä¸€ä¸ª<span class="hljs-number">18</span>ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„
nd.reshape(<span class="hljs-number">3</span>,<span class="hljs-number">6</span>) Â # å°†ä¸€ç»´å˜æˆäºŒç»´
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-string">[[ 0, Â 1, Â 2, Â 3, Â 4, Â 5],
 Â  Â  Â  [ 6, Â 7, Â 8, Â 9, 10, 11],
 Â  Â  Â  [12, 13, 14, 15, 16, 17]]</span>)
nd.reshape(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>) Â  Â # å…ƒç´ ä¸ªæ•°èƒ½å¯¹é½å¯ä»¥ç”Ÿæˆ
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-string">[[[ 0, Â 1, Â 2],
 Â  Â  Â   [ 3, Â 4, Â 5],
 Â  Â  Â   [ 6, Â 7, Â 8]]</span>,
 Â  Â  Â  <span class="hljs-string">[[ 9, 10, 11],
 Â  Â  Â   [12, 13, 14],
 Â  Â  Â   [15, 16, 17]]</span>])
nd.reshape(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>) Â  # ç»´åº¦ç›¸ä¹˜å’Œæ€»çš„æ•°å€¼ä¸ªæ•°ä¸ç¬¦ï¼Œå…ƒç´ æ— æ³•å¯¹é½
è¾“å‡ºç»“æœï¼š
<span class="hljs-comment">---------------------------------------------------------------------------</span>
ValueError Traceback (most recent call last)
~\AppData\Local\Temp\ipykernel_26616\<span class="hljs-number">1265043701.</span>py <span class="hljs-keyword">in</span> &lt;<span class="hljs-built_in">module</span>&gt;
<span class="hljs-comment">----&gt; 1 nd.reshape(2,4,3)</span>
ValueError: cannot reshape array of size <span class="hljs-number">18</span> into shape (<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>)
nd.reshape(<span class="hljs-number">2</span>,<span class="hljs-number">9</span>) Â  Â # ä»ä¸‰ç»´é™åˆ°äºŒç»´
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-string">[[ 0, Â 1, Â 2, Â 3, Â 4, Â 5, Â 6, Â 7, Â 8],
 Â  Â  Â  [ 9, 10, 11, 12, 13, 14, 15, 16, 17]]</span>)
nd.reshape(<span class="hljs-number">-1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>) Â  # ä»»ä¸€ç»´åº¦è®¾ç½®æˆ<span class="hljs-number">-1</span>è¡¨ç¤ºè¯¥ç»´åº¦è‡ªåŠ¨è®¡ç®—
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-string">[[[ 0, Â 1, Â 2],
 Â  Â  Â   [ 3, Â 4, Â 5]]</span>,
 Â  Â  Â  <span class="hljs-string">[[ 6, Â 7, Â 8],
 Â  Â  Â   [ 9, 10, 11]]</span>,
 Â  Â  Â  <span class="hljs-string">[[12, 13, 14],
 Â  Â  Â   [15, 16, 17]]</span>])
æ³¨æ„ï¼Œä¸€æ¬¡åªèƒ½æœ‰ä¸€ä¸ªç»´åº¦çš„å€¼è®¾ç½®ä¸º<span class="hljs-number">-1</span>è®©numpyè‡ªè¡Œè®¡ç®—ã€‚
</code></pre>
<h5 data-id="heading-13">2.5.2 å±•å¹³flattenï¼ˆé‡ç‚¹ï¼‰</h5>
<p>å±•å¹³æ“ä½œå°±æ˜¯å°†å¤šç»´æ•°ç»„å˜æˆä¸€ç»´çš„æ•°ç»„ï¼Œä¿—ç§°é™ç»´æ“ä½œã€‚</p>
<pre><code class="hljs language-ini" lang="ini">nd.flatten() Â  Â <span class="hljs-comment"># æ¨ªå‘å±•å¹³ï¼Œå°†å¤šç»´é™ä¸ºä¸€ç»´</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[ 0, Â 1, Â 2, Â 3, Â 4, Â 5, Â 6, Â 7, Â 8, Â 9, 10, 11, 12, 13, 14, 15, 16,
 Â  Â  Â  17]</span>)
nd.flatten(<span class="hljs-attr">order</span>=<span class="hljs-string">'F'</span>) Â  <span class="hljs-comment"># æŒ‰åˆ—æ–¹å‘è¿›è¡Œæ‹¼æ¥å±•å¹³</span>
è¾“å‡ºå†…å®¹ï¼š
array(<span class="hljs-section">[ 0, Â 6, 12, Â 1, Â 7, 13, Â 2, Â 8, 14, Â 3, Â 9, 15, Â 4, 10, 16, Â 5, 11,
 Â  Â  Â  17]</span>)
</code></pre>
<h5 data-id="heading-14">2.5.6 æ‹¼æ¥concatenateï¼ˆé‡ç‚¹ï¼‰</h5>
<p>concatenateå’Œstackéå¸¸ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºæŠŠå¤šä¸ªæ•°ç»„è¿›è¡Œæ‹¼æ¥ã€‚å”¯ä¸€åŒºåˆ«æ˜¯concatenateæ˜¯ä½¿ç”¨å‚æ•°æ¥æ§åˆ¶æ‹¼æ¥æ–¹å‘ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">np.concatenate(<span class="hljs-section">[nd1, nd2]</span>, <span class="hljs-attr">axis</span>=<span class="hljs-number">0</span>) Â  Â <span class="hljs-comment"># 0è½´æ˜¯ç«–ç›´æ–¹å‘è¿›è¡Œæ‹¼æ¥ï¼Œå¿…é¡»ä¿è¯ä¸¤ä¸ªæ•°ç»„çš„åˆ—æ•°ä¸€è‡´</span>
np.concatenate(<span class="hljs-section">[nd1, nd2]</span>, <span class="hljs-attr">axis</span>=<span class="hljs-number">1</span>) Â  Â <span class="hljs-comment"># 1è½´æ˜¯æ°´å¹³æ–¹å‘è¿›è¡Œæ‹¼æ¥ï¼Œå¿…é¡»ä¿è¯ä¸¤ä¸ªæ•°ç»„çš„è¡Œæ•°ä¸€è‡´</span>
</code></pre>
<h4 data-id="heading-15">2.6 æ•°ç»„çš„è¿ç®—</h4>
<p>æ•°ç»„è¿ç®—åˆå«é€šç”¨å‡½æ•°è¿ç®—ï¼Œæ˜¯æŒ‡numpyçš„æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼éƒ½å‚ä¸è¿ç®—ã€‚è¿™é‡Œé¢åˆåˆ†ä¸ºæ•°ç»„ä¸å€¼ä¹‹é—´çš„è¿ç®—å’Œæ•°ç»„ä¸æ•°ç»„ä¹‹é—´çš„è¿ç®—ä¸¤ç§æƒ…å†µã€‚</p>
<p>é€šç”¨å‡½æ•°è¿ç®—ä¼šä½¿ç”¨åˆ°numpyçš„å¹¿æ’­æœºåˆ¶ï¼Œæ‰€è°“å¹¿æ’­æœºåˆ¶æ˜¯æŒ‡å½“æˆ‘ä»¬ä½¿ç”¨é€šç”¨å‡½æ•°å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œè®¡ç®—æ—¶ï¼Œé€šç”¨å‡½æ•°ä¼šå¯¹è¿™ä¸¤ä¸ªæ•°ç»„çš„å¯¹åº”å…ƒç´ è¿›è¡Œè¿ç®—ï¼Œå› æ­¤å®ƒè¦æ±‚è¿™ä¸¤ä¸ªæ•°ç»„shapeç›¸åŒã€‚å¦‚æœå½¢çŠ¶ä¸åŒæ—¶ä¸ä¸€å®šèƒ½è¿›è¡Œè¿ç®—ï¼Œè¦çœ‹æƒ…å†µã€‚</p>
<p>ä¸€ã€æ•°ç»„ä¸å•ä¸ªå€¼ä¹‹é—´çš„è¿ç®—</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">nd1</span> = np.arange(<span class="hljs-number">18</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">6</span>)
nd1 * 3 Â  Â <span class="hljs-comment"># ç›´æ¥å°†nd1ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥3</span>
</code></pre>
<p>äºŒã€æ•°ç»„ä¸æ•°ç»„ä¹‹é—´çš„è¿ç®—</p>
<ul>
<li>æ•°ç»„å½¢çŠ¶ä¸€è‡´</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">nd1</span> = np.arange(<span class="hljs-number">12</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)
<span class="hljs-attr">nd2</span> = np.arange(<span class="hljs-number">12</span>).reshape(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)
nd1 * nd2 Â  Â  <span class="hljs-comment"># ä¸¤ä¸ªæ•°ç»„å½¢çŠ¶ä¸€è‡´ï¼Œåˆ™ä¼šå°†æ¯ä¸ªæ•°ç»„å¯¹åº”ä½ç½®çš„æ•°å­—è¿›è¡Œè¿ç®—</span>
è¾“å‡ºç»“æœï¼š
array(<span class="hljs-section">[[ Â 0, Â  1, Â  4, Â  9]</span>,
 Â  Â  Â  <span class="hljs-section">[ 16, Â 25, Â 36, Â 49]</span>,
 Â  Â  Â  <span class="hljs-section">[ 64, Â 81, 100, 121]]</span>)
</code></pre>
<p>æ•°ç»„å½¢çŠ¶ä¸€è‡´ï¼Œå¯ä»¥åˆ©ç”¨å¹¿æ’­æœºåˆ¶å¯¹å¯¹åº”ä½ç½®çš„æ•°å­—è¿›è¡Œè¿ç®—ã€‚</p>
<ul>
<li>æ•°ç»„å½¢çŠ¶ä¸åŒ</li>
</ul>
<p>å½“ä¸¤ä¸ªNumPyæ•°ç»„çš„ç»´åº¦ä¸åŒæ—¶ï¼Œè¿™ä¸¤ä¸ªNumpyæ•°ç»„ä¸ä¸€å®šèƒ½å¤Ÿè¿›è¡Œè¿ç®—ï¼Œæ˜¯å¦èƒ½å¤Ÿè¿ç®—å–å†³äºNumpyçš„å¹¿æ’­æœºåˆ¶ã€‚å¹¿æ’­æœºåˆ¶è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´æ•°ä¸åŒï¼Œåˆ™å‘è¾ƒå°‘ç»´åº¦çš„æ•°ç»„æ·»åŠ ä¸€ä¸ªâ€1â€³ä»¥åŒ¹é…ä¸¤ä¸ªæ•°ç»„çš„å½¢çŠ¶</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æŸä¸ªç»´åº¦ä¸Šçš„å¤§å°ä¸åŒï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªæ•°ç»„çš„è¯¥ç»´åº¦å¤§å°ä¸º 1ï¼Œåˆ™ä½¿ç”¨å¸¦æœ‰å¤§å° 1 çš„è¯¥ç»´åº¦çš„æ•°ç»„è¿›è¡Œæ“ä½œï¼Œä»¥åŒ¹é…å¦ä¸€ä¸ªæ•°ç»„çš„å½¢çŠ¶ï¼›</li>
<li>å¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æŸä¸ªç»´åº¦ä¸Šçš„å¤§å°ä¸åŒä¸”éƒ½ä¸ä¸º 1ï¼Œåˆ™æ— æ³•è¿›è¡Œå¹¿æ’­ã€‚å¯¹äºä¸åŒå½¢çŠ¶çš„æ•°ç»„ï¼Œé€šå¸¸éœ€è¦é€šè¿‡é‡å¡‘æ•°ç»„æ¥è¿›è¡ŒåŒ¹é…ã€‚</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¹¿æ’­è§„åˆ™ä¸€ï¼Œç»´æ•°ä¸åŒï¼Œreshapeè¾ƒå°‘ç»´åº¦æ•°ç»„ä»¥é€‚é…ä¸¤ä¸ªæ•°ç»„çš„å½¢çŠ¶</span>
import numpy as np
<span class="hljs-attr">a</span> = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸ºä¸€ç»´ (3,)ï¼Œä¼šè‡ªåŠ¨reshapeåˆ°(1, 3),ç›¸å½“äºæ‰§è¡Œäº†a.reshape(1,3)</span>
<span class="hljs-attr">b</span> = np.array([[<span class="hljs-number">4</span>], [<span class="hljs-number">5</span>], [<span class="hljs-number">6</span>]]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸º (3, 1),æ³¨æ„ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªç»´åº¦çš„å€¼ä¸º1ï¼Œå¦åˆ™æ— æ³•è®¡ç®—</span>
<span class="hljs-comment"># å¯ä»¥è¿›è¡Œå¹¿æ’­è®¡ç®—</span>
<span class="hljs-attr">result</span> = a + b
print(result)
<span class="hljs-comment"># å¹¿æ’­è§„åˆ™äºŒï¼Œç»´æ•°ç›¸åŒï¼Œä½†ä¸¤ä¸ªæ•°ç»„åœ¨æŸä¸ªç»´åº¦ä¸Šçš„å¤§å°ä¸åŒï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªæ•°ç»„çš„è¯¥ç»´åº¦å¤§å°ä¸º 1</span>
import numpy as np
<span class="hljs-attr">a</span> = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸º (2, 3)</span>
<span class="hljs-attr">b</span> = np.array([[<span class="hljs-number">10</span>], [<span class="hljs-number">11</span>]]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸º (2, 1)</span>
<span class="hljs-comment"># å¯ä»¥è¿›è¡Œå¹¿æ’­è®¡ç®—</span>
<span class="hljs-attr">result</span> = a + b
print(result)
<span class="hljs-comment"># å¹¿æ’­è§„åˆ™ä¸‰ï¼Œå¦‚æœä¸¤ä¸ªæ•°ç»„åœ¨æŸä¸ªç»´åº¦ä¸Šçš„å¤§å°ä¸åŒä¸”éƒ½ä¸ä¸º 1ï¼Œåˆ™æ— æ³•è¿›è¡Œå¹¿æ’­</span>
import numpy as np
<span class="hljs-attr">a</span> = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸º (2, 3)</span>
<span class="hljs-attr">b</span> = np.array([[<span class="hljs-number">10</span>, <span class="hljs-number">11</span>], [<span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]) Â <span class="hljs-comment"># å½¢çŠ¶ä¸º (2, 2)</span>
<span class="hljs-comment"># æ— æ³•è¿›è¡Œå¹¿æ’­è®¡ç®—</span>
<span class="hljs-attr">result</span> = a + b
print(result)
</code></pre>
<p>å¦‚æœæ˜¯å¤šç»´æ•°ç»„ä¹‹é—´è¿›è¡Œè¿ç®—ï¼Œåº”å°½é‡ä¿è¯å½¢çŠ¶ç›¸åŒï¼Œå¦åˆ™å› ä¸ºnumpyå»è°ƒæ•´æ•°ç»„çš„å½¢çŠ¶åï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿè®¡ç®—é”™è¯¯ã€‚</p>
<h3 data-id="heading-16">ä¸‰ã€çŸ©é˜µè¿ç®—</h3>
<p>çŸ©é˜µä¹˜æ³•è§„åˆ™ï¼šçŸ©é˜µAçš„åˆ—æ•°å¿…é¡»ç­‰äºçŸ©é˜µBçš„è¡Œæ•°ï¼Œæ‰èƒ½ç›¸ä¹˜ã€‚ A(Mè¡Œï¼ŒNåˆ—) * B(Nè¡Œï¼ŒPåˆ—) = C(Mè¡Œï¼ŒPåˆ—)ï¼Œ ä¸”ï¼ŒAä¸­è¡Œå·iä¸Bä¸­åˆ—å·jç›¸åŒæ—¶ç›¸ä¹˜ï¼Œå†æ±‚å’Œå³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87ff0f079c014db9b3075fb5b1f6d9f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlsI_kupE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763965899&amp;x-signature=vwrdD7%2BH%2BW5LtS2vMf1E%2BFdNlY8%3D" alt="3.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab867d79859f4f0ab6e46135368bfe16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlsI_kupE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763965899&amp;x-signature=DbxtHMpmS2RxrAbxlEzAG2v493o%3D" alt="4.png" loading="lazy"/></p>
<p>ç»“æœçŸ©é˜µä¸­ï¼Œ9çš„æ¥æºä¸ºï¼š<code>1*3+3*2=9</code>ï¼Œ19çš„æ¥æºä¸ºï¼š<code>5*3+2*2=19</code>ï¼Œ12çš„æ¥æºä¸ºï¼š<code>0*4+4*3=12</code></p>
<pre><code class="hljs language-css" lang="css"># å®šä¹‰æ•°ç»„<span class="hljs-selector-tag">A</span>ä¸º<span class="hljs-number">3</span>è¡Œ<span class="hljs-number">4</span>åˆ—
<span class="hljs-selector-tag">A</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[11,12,13,14]</span>,<span class="hljs-selector-attr">[21,22,23,24]</span>,<span class="hljs-selector-attr">[31,32,33,34]</span>])
# å®šä¹‰æ•°ç»„<span class="hljs-selector-tag">B</span>ä¸º<span class="hljs-number">4</span>è¡Œ<span class="hljs-number">2</span>åˆ—
<span class="hljs-selector-tag">B</span> = np<span class="hljs-selector-class">.array</span>(<span class="hljs-selector-attr">[[41,42]</span>, <span class="hljs-selector-attr">[51,52]</span>, <span class="hljs-selector-attr">[61,62]</span>, <span class="hljs-selector-attr">[71, 72]</span>])
# åˆ™æœ€ç»ˆçŸ©é˜µä¹˜æ³•çš„ç»“æœä¸º<span class="hljs-number">3</span>è¡Œ<span class="hljs-number">2</span>åˆ—
print(np<span class="hljs-selector-class">.dot</span>(<span class="hljs-selector-tag">A</span>, <span class="hljs-selector-tag">B</span>))
# è¾“å‡ºç»“æœä¸ºï¼š
'''
<span class="hljs-selector-attr">[[2850 2900]</span>
 <span class="hljs-selector-attr">[5090 5180]</span>
 <span class="hljs-selector-attr">[7330 7460]</span>]
'''
</code></pre>
<p>å…¶å®æ˜ç™½äº†è¿ç®—è§„åˆ™ï¼Œå³ä½¿ä½¿ç”¨æœ€åŸå§‹çš„Pythonä¹Ÿä¸€æ ·å¯ä»¥å¿«é€Ÿæå®š</p>
<pre><code class="hljs language-less" lang="less"># <span class="hljs-selector-tag">A</span>ä¸­çš„æ¯ä¸€è¡Œä¸<span class="hljs-selector-tag">B</span>ä¸­çš„ç¬¬ä¸€åˆ—ç›¸ä¹˜ï¼Œå¾—åˆ°ç»“æœ<span class="hljs-selector-tag">C</span>ä¸­çš„ç¬¬ä¸€åˆ—ï¼Œ<span class="hljs-selector-tag">A</span>ä¸­çš„æ¯ä¸€è¡Œä¸<span class="hljs-selector-tag">B</span>ä¸­çš„ç¬¬äºŒåˆ—ç›¸ä¹˜ï¼Œå¾—åˆ°ç»“æœ<span class="hljs-selector-tag">C</span>ä¸­çš„ç¬¬äºŒåˆ—
<span class="hljs-selector-tag">listA</span> = <span class="hljs-selector-attr">[[11,12,13,14]</span>,
 Â  Â  Â  Â  <span class="hljs-selector-attr">[21,22,23,24]</span>,
 Â  Â  Â  Â  <span class="hljs-selector-attr">[31,32,33,34]</span>]
<span class="hljs-selector-tag">listB</span> = <span class="hljs-selector-attr">[[41,42]</span>,
 Â  Â  Â  Â  <span class="hljs-selector-attr">[51,52]</span>,
 Â  Â  Â  Â  <span class="hljs-selector-attr">[61,62]</span>,
 Â  Â  Â  Â  <span class="hljs-selector-attr">[71, 72]</span>]
<span class="hljs-selector-tag">listC</span> = <span class="hljs-selector-attr">[[0,0]</span>,<span class="hljs-selector-attr">[0,0]</span>,<span class="hljs-selector-attr">[0,0]</span>] Â # åˆå§‹åŒ–ä¸º<span class="hljs-number">3</span>è¡Œ<span class="hljs-number">2</span>åˆ—çš„åˆ—è¡¨
# å¾ªç¯<span class="hljs-selector-tag">B</span>çš„åˆ—æ•°
<span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(listB[<span class="hljs-number">0</span>])):
 Â  Â # å¾ªç¯<span class="hljs-selector-tag">A</span>çš„è¡Œæ•°
 Â  Â <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(listA)):
 Â  Â  Â  Â <span class="hljs-selector-tag">sum</span> = <span class="hljs-number">0</span>
 Â  Â  Â  Â # å¾ªç¯<span class="hljs-selector-tag">A</span>çš„åˆ—æ•°ï¼Œç”±<span class="hljs-selector-tag">A</span>çš„è¡Œå’Œåˆ—å–å¾—æ¯ä¸ªæ•°ï¼Œå¹¶ä¸<span class="hljs-selector-tag">B</span>çš„åˆ—ç›¸ä¹˜å†æ±‚å’Œ
 Â  Â  Â  Â <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">ai</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(listA[a])):
 Â  Â  Â  Â  Â  Â <span class="hljs-selector-tag">sum</span> += (listA[a][ai] * listB[ai][b])
 Â  Â  Â  Â <span class="hljs-selector-tag">listC</span><span class="hljs-selector-attr">[a]</span><span class="hljs-selector-attr">[b]</span> = <span class="hljs-selector-tag">sum</span>
<span class="hljs-selector-tag">print</span>(listC)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[pythonæ¢æœ¬] å†…å­˜æ•°æ®å­˜å‚¨æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7573310642959613990</link>    <guid>https://juejin.cn/post/7573310642959613990</guid>    <pubDate>2025-11-17T07:35:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573310642959613990" data-draft-id="7573002274324660270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[pythonæ¢æœ¬] å†…å­˜æ•°æ®å­˜å‚¨æœºåˆ¶"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-17T07:35:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="rimoyee"/> <meta itemprop="url" content="https://juejin.cn/user/564483199874953"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [pythonæ¢æœ¬] å†…å­˜æ•°æ®å­˜å‚¨æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/564483199874953/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    rimoyee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T07:35:28.000Z" title="Mon Nov 17 2025 07:35:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ™ï¸ å‰è¨€</h2>
<p>pythonæ˜¯ä¸€é—¨è¿·æƒ‘æ€§å¾ˆå¼ºçš„ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>åœ¨åˆšå¼€å§‹æ¥è§¦çš„æ—¶å€™, å¤§å­¦æœŸé—´è®©äººå¤´ç–¼çš„ç¼–ç¨‹è¯­è¨€çªç„¶ä»é¢ç›®ç‹°ç‹çš„Cå˜æˆäº†pythonã€‚ç›´æ¥æ— ç—›å…¥é—¨ã€‚</p>
<p>ä»å¤´åˆ°å°¾æ•²å®Œä¸€æœ¬ã€Špythonç¼–ç¨‹-ä»å…¥é—¨åˆ°å®è·µã€‹, æ€»è§‰ç€è‡ªå·±ç‰›é€¼åäº†, è¿™ä¸å…¨éƒ½æŒæ¡äº†, å°å°pythonä¸€ä¸¾æ‹¿ä¸‹ã€‚</p>
<p>åé¢å†å»æ¥è§¦çˆ¬è™«, ä¸€æ•´ä¸ªå¤§å‚»çœ¼ã€‚è¿™éƒ½å•¥? å¤§è„‘ä¸€ç‰‡ç©ºç™½ã€‚ğŸ˜£</p>
<p>å†å›å¤´é‡æ–°åæ€è‡ªå·±çš„å­¦ä¹ é“è·¯, å‘ç°å¾ˆå¤§çš„ç¼ºé™·å°±åœ¨äºä¸€ç›´éƒ½æ˜¯æŒ‰ç…§ä¹¦æœ¬ä¸Šæˆ–è€…æ˜¯è§†é¢‘ä¸Šçš„æ¡ˆä¾‹åœ¨èªŠæŠ„ä»£ç , å¹¶æ²¡æœ‰å½¢æˆè‡ªå·±çš„ç¼–ç¨‹æ€ç»´; ä»¥åŠåº•å±‚çš„æ•°æ®ç»“æ„ä»ç„¶æ˜¯ä¸äº†è§£çŠ¶æ€ã€‚å°¤å…¶æ˜¯å½“aiå·¥å…·å‡ºç°ä¹‹å, æœ¬èº«å°±ç«™ç«‹ä¸ä½çš„è…¿å¤šäº†è¿™æ¡æ‹æ–, æ›´æ˜¯æ‹¿èµ°åä¸€æ­¥éƒ½èµ°ä¸è¿œã€‚</p>
<p>å·²ç»æ‹¿åˆ°äº†pythonè¿™æŠŠåˆ©å™¨, å´æ— æ³•å……åˆ†å‘æŒ¥å®ƒçš„æ•ˆç”¨, é€šè¿‡è‡ªå·±çš„å°è¯•å»è½åœ°æœ‰è¶£å¥½ç©çš„é¡¹ç›®, å®åœ¨æ˜¯ä»¶è›®é—æ†¾çš„äº‹æƒ…ã€‚</p>
<p>æŠ›å¼ƒæ‰è‡ªå·±çš„è‡ªè´Ÿ, è¸è¸å®å®å›å¤´é‡æ–°æ¢³ç†åŸºç¡€ã€‚ä¸ä»…ä»…æ˜¯è¢«åŠ¨æ¥æ”¶, è€Œæ˜¯ç†è§£ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾è®¡? éœ€æ±‚å¯ä»¥ç”¨è¿™ç§æ–¹å¼å®ç°, æ¢ç§æ–¹å¼å¯ä¸å¯ä»¥? æ›´æ–°çš„ç‰ˆæœ¬ä¸­æœ‰æ²¡æœ‰æä¾›æ›´å¥½ç”¨çš„æ¨¡å—, ä»è€Œé¿å…è‡ªå·±é‡å¤é€ è½®å­?</p>
<p>ä¸ºæ­¤æˆ‘é‡æ–°æ¢³ç†äº†è‡ªå·±çš„å­¦ä¹ ç¬”è®°, å¸Œæœ›ä¸ä»…ä»…æ˜¯å¯¹æˆ‘, è¿˜æ˜¯å¯¹åƒæˆ‘ä¸€æ ·ä»ç„¶å›°åœ¨åŠè·¯çš„è‹¦è¡Œè€…, èƒ½æœ‰ä¸€ç‚¹ç‚¹å¸®åŠ©ã€‚</p>
<h2 data-id="heading-1">ğŸ—‚ï¸ å­˜å‚¨ç®¡ç†ç³»ç»Ÿ</h2>
<p>ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨çš„æ•°æ®ä¿å­˜åœ¨è®¡ç®—æœºçš„å†…å­˜å‚¨å™¨(ç®€ç§°<strong>å†…å­˜</strong>)ä¸­, å†…å­˜å¯ä»¥<strong>é€šè¿‡CPUç›´æ¥è®¿é—®</strong>ã€‚æš‚æ—¶ä¸ä½¿ç”¨çš„æ•°æ®å­˜å‚¨åœ¨å¤–å­˜å‚¨å™¨(ç£ç›˜ã€å…‰ç›˜ç­‰, ç®€ç§°<strong>å¤–å­˜</strong>)ä¸­, å¦‚æœæƒ³è¦è¯»å–å¤–å­˜ä¸­çš„æ•°æ®, éœ€è¦å…ˆè£…å…¥å†…å­˜, ç„¶åCPUæ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>å†…å­˜å­˜å‚¨çš„ç»“æ„æ˜¯çº¿æ€§çš„, æ¯ä¸ªå•å…ƒçš„å¤§å°ç›¸åŒ, å¯ä»¥ä¿å­˜ä¸€ä¸ªå•ä½å¤§å°çš„æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35180c7a39df429095b6683261acd303~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=UCC04F7OpGj%2FAH2Ba82JfJFkQEk%3D" alt="image-20251114105523498.png" loading="lazy"/></p>
<p>ä¸ºäº†æ–¹ä¾¿è®¿é—®, <strong>æ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½æœ‰ä¸€ä¸ªåœ°å€(æ•°æ®æ ‡è¯†)</strong>, åœ¨ç¨‹åºæ‰§è¡Œæ—¶, ç›´æ¥æ‰¾åˆ°åœ°å€å°±å¯ä»¥è¯»å–å­˜å‚¨çš„æ•°æ®å†…å®¹ã€‚
åŒæ—¶, ç¨‹åºåœ¨è¿è¡Œæ—¶ä¼šå¤„ç†å„ç§å„æ ·çš„æ•°æ®, å¦‚æœæ•°æ®å­˜å‚¨åœ¨ç›¸é‚»çš„ä¸€å—æˆ–è€…å‡ å—åŒºåŸŸ, è®¿é—®å°±ä¼šå¾ˆæ–¹ä¾¿ã€‚
å†…å­˜ä¸­çš„å­˜å‚¨å•å…ƒæ˜¯æœ‰é™çš„, æ‰€ä»¥è¦åšåˆ°åˆç†çš„åˆ†é…å’Œåˆ©ç”¨ã€‚</p>
<p>pythonæä¾›<strong>å­˜å‚¨ç®¡ç†ç³»ç»Ÿ</strong>æ¥è´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œç®¡ç†å·¥ä½œ, ä¸éœ€è¦åƒCå’ŒC++ä¸€æ ·, æ‰‹åŠ¨åˆ†é…å’Œå›æ”¶å†…å­˜, å¤§å¤§æå‡äº†ç¼–å†™ä»£ç çš„ä¾¿æ·æ€§ã€‚</p>
<p>åŒæ—¶pythonä½œä¸º<strong>é¢å‘å¯¹è±¡</strong>çš„è¯­è¨€, <strong>å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•éƒ½å°è£…åœ¨å¯¹è±¡ä¸­, é€šè¿‡å’Œå¯¹è±¡çš„äº¤äº’æ¥å®Œæˆä»»åŠ¡</strong>ã€‚
åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­, ä¸æ–­å»ºç«‹å¯¹è±¡å¹¶ä½¿ç”¨å®ƒä»¬, åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç¡®å®šçš„å”¯ä¸€æ ‡è¯†(å³åœ°å€), ç”¨äºè¯†åˆ«å’Œä½¿ç”¨è¿™ä¸ªå¯¹è±¡ã€‚åœ¨ä¸€ä¸ªå¯¹è±¡çš„å­˜ç»­æœŸé—´, åœ°å€æ˜¯ä¿æŒä¸å˜çš„ã€‚</p>
<p>å¦‚ä½•å»æŸ¥çœ‹å¯¹è±¡åœ¨ç¨‹åºè¿è¡Œæ—¶çš„åœ°å€æ ‡è¯†?</p>
<p>é€šè¿‡å†…ç½®å‡½æ•°<code>id()</code></p>
<pre><code class="hljs language-python" lang="python">a = <span class="hljs-number">10</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">id</span>(a)))  <span class="hljs-comment"># é€šè¿‡hex()å°†åœ°å€è½¬åŒ–ä¸ºåå…­è¿›åˆ¶, æ–¹ä¾¿è§‚çœ‹</span>
<span class="hljs-comment"># 0x7ffb06ab4ad8  </span>
</code></pre>
<p>åŒæ—¶å¯ä»¥ä¹Ÿé€šè¿‡<code>is</code>å’Œ<code>is not</code>å…³é”®å­—æ¥åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡, è¿™ç§æ–¹æ³•å°±æ˜¯é€šè¿‡å¯¹æ¯”åœ°å€æ¥åˆ¤æ–­çš„</p>
<pre><code class="hljs language-python" lang="python">a = <span class="hljs-number">10</span>
b = <span class="hljs-number">10</span>
c = <span class="hljs-number">20</span>
<span class="hljs-built_in">print</span>(a <span class="hljs-keyword">is</span> b)  <span class="hljs-comment"># True</span>
<span class="hljs-built_in">print</span>(a <span class="hljs-keyword">is</span> c)  <span class="hljs-comment"># False</span>
<span class="hljs-built_in">print</span>(b <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> c)  <span class="hljs-comment"># True</span>
</code></pre>
<p>ä¸Šé¢çš„ä»£ç æœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡, ä¼šå‘ç°å®šä¹‰çš„å˜é‡aå’Œå˜é‡bæ˜¯ä¸€ä¸ªå¯¹è±¡, å³å†…å­˜ä¸­å­˜å‚¨çš„åœ°å€æ˜¯ä¸€ä¸ªã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·?</p>
<p>è¿™å°±æ¶‰åŠåˆ°äº†å†…å­˜ä¸­æ•°æ®çš„å­˜å‚¨æ–¹å¼ã€‚å†…å­˜ä¸­, åŒ…å«æœ‰ä¸‰ä¸ªåŒºåŸŸ: <strong>ä»£ç åŒºã€æ ˆåŒºå’Œå †åŒº</strong>ã€‚</p>
<p>(1) <strong>ä»£ç åŒº</strong>: å­˜å‚¨ç¼–å†™çš„ä»£ç </p>
<p>(2) <strong>æ ˆåŒº</strong>: å­˜å‚¨å˜é‡åå’Œåœ°å€, ä»¥åŠå‡½æ•°è°ƒç”¨ç›¸å…³ä¿¡æ¯, éµå¾ªLIFO(å…ˆè¿›åå‡º)åŸåˆ™, å­˜å‚¨å°å‹ã€ä¸´æ—¶æ•°æ®</p>
<p>(3) <strong>å †åŒº</strong>: å­˜å‚¨çœŸæ­£çš„å˜é‡æ•°æ®, æ— åºå­˜å‚¨, ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿, å­˜å‚¨å¤æ‚æˆ–å¤§å‹æ•°æ®</p>
<p>ä¸‹é¢å…ˆé€šè¿‡æ ˆä¸å †çš„å­˜å‚¨æœºåˆ¶æ¥äº†è§£è¿™ä¸‰ä¸ªåŒºåŸŸéƒ½æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<h2 data-id="heading-2">ğŸ›’ æ ˆä¸å †çš„å­˜å‚¨</h2>
<p>ä¸Šé¢æˆ‘ä»¬æåˆ°, å†…å­˜ä¸­å­˜å‚¨äº†å¤§é‡çš„æ•°æ®å’Œæ“ä½œæ–¹æ³•, å‡å°è£…åœ¨å¯¹è±¡ä¸­, å¯ä»¥ç§°ä¹‹ä¸º<strong>æ•°æ®å¯¹è±¡</strong>ã€‚è¿™äº›æ•°æ®å¯¹è±¡è¢«å­˜å‚¨åœ¨å®¹å™¨ä¸­, å®¹å™¨æ”¯æŒå¯¹è¿™äº›æ•°æ®å­˜å‚¨ã€ç®¡ç†å’Œä½¿ç”¨ã€‚</p>
<p><strong>æ ˆå’Œé˜Ÿåˆ—éƒ½æ˜¯ä¿å­˜æ•°æ®å…ƒç´ çš„å®¹å™¨</strong>, æ˜¯è®¡ç®—ä¸­æœ€å¹¿æ³›çš„<strong>ç¼“å­˜ç»“æ„</strong>ã€‚ä¸»è¦ç”¨äºåœ¨è®¡ç®—è¿‡ç¨‹ä¸­ä¿å­˜ä¸´æ—¶æ•°æ®, è¿™äº›æ•°æ®éƒ½æ˜¯åœ¨è®¡ç®—ä¸­å‘ç°æˆ–è€…äº§ç”Ÿçš„, åœ¨åé¢çš„è®¡ç®—ä¸­å¯èƒ½ä½¿ç”¨å®ƒä»¬ã€‚</p>
<p>åœ¨æ ˆåŒºä¸»è¦ä½¿ç”¨æ ˆæ¥æ“ä½œæ•°æ®, ä¸‹é¢å…ˆæ¥ä»‹ç»ä¸€ä¸‹æ ˆçš„æœºåˆ¶ã€‚</p>
<h3 data-id="heading-3">ğŸ¤” æ ˆæ˜¯ä»€ä¹ˆ?</h3>
<p>æ ˆæ˜¯é™åˆ¶åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œå’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨, å…è®¸è¿›è¡Œæ“ä½œçš„ä¸€ç«¯ç§°ä¸º"æ ˆé¡¶", å¦ä¸€å›ºå®šç«¯ç§°ä¸º"æ ˆåº•", å½“æ ˆä¸­æ²¡æœ‰å…ƒç´ æ—¶ç§°ä¸º"ç©ºæ ˆ"ã€‚æ ˆå†…å…ƒç´ éµå¾ªLIFO(å…ˆè¿›åå‡º)çš„åŸåˆ™ã€‚</p>
<p>æ ˆçš„æœºåˆ¶å¦‚ä¸‹å›¾æ‰€ç¤º:  <code>s1 = (a1,a2,...,an)</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e056b484fca4a76ac5364231245c18b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=kjWHHfwINQrDTrAho%2FO2ZHFICu8%3D" alt="image-20251114150244267.png" loading="lazy"/></p>
<p>æ ˆçš„æŠ½è±¡æ•°æ®ç±»å‹(é¢„å®šä¹‰çš„æ“ä½œ):</p>
<ul>
<li>æ ˆçš„åˆ›å»º (åˆ›å»ºä¸€ä¸ªç©ºæ ˆ)</li>
<li>åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</li>
<li>å°†å…ƒç´ å‹å…¥æ ˆä¸­ (ä¹Ÿç§°è¿›æ ˆæˆ–å…¥æ ˆ)</li>
<li>ä»æ ˆä¸­å¼¹å‡ºå…ƒç´ å¹¶å°†å…¶è¿”å› (ä¹Ÿç§°é€€æ ˆæˆ–å‡ºæ ˆ)</li>
<li>æ£€æŸ¥æ ˆå…ƒç´  (è®¿é—®æœ€åå…¥æ ˆå…ƒç´ )</li>
</ul>
<p><strong>pythonä¸­çš„æ ˆæœºåˆ¶</strong></p>
<p>ä¸‰ä¸ªåŒºåŸŸçš„å­˜å‚¨æƒ…å†µå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><strong>æ ˆåŒºä¸­å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨(æŒ‡é’ˆ)</strong>,ä¹Ÿå°±æ˜¯è¯´å­˜å‚¨çš„å¹¶ä¸æ˜¯æ•°æ®, çœŸæ­£çš„æ•°æ®å­˜å‚¨åœ¨å †åŒºä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e420e7d5ea9410e83eedc08417f3660~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=yW4ccDoyGnE00iM%2FheWFrUyQbh4%3D" alt="image-20251114164920222.png" loading="lazy"/></p>
<h3 data-id="heading-4">ğŸ¤” å †æ˜¯ä»€ä¹ˆ?</h3>
<p>ä¸Šé¢è¯´åˆ°, æ ˆæœ¬è´¨ä¸Šæ˜¯ä¸€ç§çº¿æ€§è¡¨, è€Œpythonä¸­çš„ "å †", å¹¶ä¸æ˜¯ä¸€ç§å›ºå®šçš„æ•°æ®ç»“æ„, è€Œæ˜¯è§£é‡Šå™¨å‘æ“ä½œç³»ç»Ÿç”³è¯·çš„åŠ¨æ€å†…å­˜åŒºåŸŸ, ç”±pythonçš„å†…å­˜ç®¡ç†å™¨åœ¨è¿™ä¸ªåŒºåŸŸå†…è¿›è¡Œçµæ´»åˆ†é…ã€‚</p>
<p>åœ¨åŒºåŸŸçš„å†…éƒ¨, pythonä½¿ç”¨<strong>pymallocåˆ†é…å™¨</strong>è¿›è¡Œç®¡ç†ã€‚</p>
<p>ä¸‹é¢æ˜¯å †åŒºæ€»ä½“ç»“æ„å›¾:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed6169f5d8e44cbebcb03ca87fb5a519~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=%2B2eXtnZ0%2BKrmhLfypUtwSQ3fgc8%3D" alt="image-20251114153418482.png" loading="lazy"/></p>
<h2 data-id="heading-5">ğŸ—‘ï¸ åƒåœ¾å›æ”¶æœºåˆ¶</h2>
<p>å†…å­˜ç©ºé—´æ˜¯æœ‰é™çš„, æ—¢ç„¶æœ‰å­˜å‚¨, å°±å¿…ç„¶æœ‰å›æ”¶ã€‚</p>
<p>pythonä½¿ç”¨<strong>å¼•ç”¨è®¡æ•°</strong>ä½œä¸ºä¸»è¦æœºåˆ¶, è¾…ä»¥<strong>æ ‡è®°-æ¸…é™¤</strong>å’Œ<strong>åˆ†ä»£å›æ”¶</strong>æ¥å¤„ç†å¾ªç¯åº”ç”¨é—®é¢˜ã€‚</p>
<p><strong>å¼•ç”¨è®¡æ•°</strong></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º, åœ¨å †åŒºä¸­, æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªå¼•ç”¨è®¡æ•°, ç”¨äºç»Ÿè®¡å½“å‰å¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚å½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶, è¯¥å¯¹è±¡è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43ba327faa8c4834b8626cb7430c4ee8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=5sUvCz%2B%2BtpjRJPouAsLB21iNRY4%3D" alt="image-20251117112540368.png" loading="lazy"/></p>
<p>å¯ä»¥é€šè¿‡<code>sys.getrefcount()</code>æ–¹æ³•æ¥æŸ¥çœ‹å¼•ç”¨è®¡æ•°çš„æ•°é‡</p>
<p>ğŸ“ Note: éœ€è¦åœ¨pythonäº¤äº’å¼è§£é‡Šå™¨ä¸‹æ‰§è¡Œ, åœ¨å…¶ä»–ç¯å¢ƒä¸‹, ä¼šåšä¼˜åŒ–å¤„ç†, å¯¼è‡´ç»“æœä¸ç¬¦</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> sys
<span class="hljs-meta">&gt;&gt;&gt; </span>x = <span class="hljs-number">532</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>y = x
<span class="hljs-meta">&gt;&gt;&gt; </span>sys.getrefcount(x)
<span class="hljs-number">3</span>
</code></pre>
<p><strong>ğŸƒ ä¸€ä¸ªæœ‰è¶£çš„å°è¯•</strong></p>
<p>å®šä¹‰å˜é‡aå’Œb, å¹¶å­˜å‚¨åˆ°å˜é‡cä¸­, æŸ¥çœ‹å„ä¸ªå˜é‡çš„å¼•ç”¨è®¡æ•°</p>
<pre><code class="hljs language-ini" lang="ini">&gt;&gt;&gt; <span class="hljs-attr">a</span> = <span class="hljs-number">10</span>
&gt;&gt;&gt; <span class="hljs-attr">b</span> = <span class="hljs-number">20</span>
&gt;&gt;&gt; <span class="hljs-attr">c</span> = [a,b]
&gt;&gt;&gt; sys.getrefcount(a)
4294967295
&gt;&gt;&gt; sys.getrefcount(b)
4294967295
&gt;&gt;&gt; sys.getrefcount(c)
2
</code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­, ä¼šå‘ç°aå’Œbçš„è®¡æ•°æ•°å€¼å°¤å…¶å¤§ã€‚æŒ‰é“ç†æ¥è¯´ä¸åº”è¯¥aå’Œbçš„åº”ç”¨è®¡æ•°éƒ½æ˜¯1å—?</p>
<p>ğŸ” åŸå› åˆ†æ</p>
<p>å°æ•´æ•°å¯¹è±¡(é€šå¸¸åœ¨-5~256)ä¼šè¢«ç¼“å­˜å’Œå¤ç”¨, è¿™äº›ç¼“å­˜å¯¹è±¡çš„åº”ç”¨è®¡æ•°æœºåˆ¶è¢«ä¼˜åŒ–æ‰äº†, å½“<code>sys.getrefcount()</code>æ£€æµ‹åˆ°è¿™ç§æƒ…å†µæ—¶, ä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šå€¼ã€‚</p>
<p>åœ¨å †åŒºæ€»ä½“ç»“æ„å›¾ä¸­, å¯ä»¥çœ‹åˆ°åœ¨å¯¹è±¡æ± /ç¼“å­˜æ± ä¸­, æœ‰å°æ•´æ•°æ± ã€‚å¸¸ç”¨çš„å°æ•´æ•°å¯¹è±¡å­˜å‚¨åœ¨è¿™é‡Œ, é¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯, å‡å°‘äº†å†…å­˜åˆ†é…çš„å¼€é”€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d760f70b7404bfb90b06a3924a2b1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=kJQfnoj23eBM9jgQDT4tdPic7OA%3D" alt="image-20251116101843128.png" loading="lazy"/></p>
<h2 data-id="heading-6">ğŸ” ç›¸åŒå¯¹è±¡åˆ¤æ–­ <code>==</code> ä¸ <code>is</code></h2>
<p>åœ¨ <em>âŒˆå­˜å‚¨ç®¡ç†ç³»ç»ŸâŒ‹</em> çš„ç« èŠ‚ä¸­, æˆ‘ä»¬äº†è§£åˆ°å¯ä»¥ä½¿ç”¨<code>is</code>å…³é”®å­—æ¥åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>åŒæ—¶, æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>==</code>è¿ç®—ç¬¦æ¥åˆ¤æ–­ä¸¤è€…çš„å€¼æ˜¯å¦ç›¸åŒ, é‚£ä¹ˆåœ¨ä½¿ç”¨çš„æ—¶å€™, è¿™ä¸¤è€…æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„å—?</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®šä¹‰ä¸‰ä¸ªå˜é‡, è¿™ä¸‰ä¸ªå˜é‡çš„å€¼æ˜¯ä¸€æ ·çš„</span>
s1 = <span class="hljs-string">"helloworld"</span>
s2 = <span class="hljs-string">"hello"</span> + <span class="hljs-string">"world"</span>
s3 = <span class="hljs-string">""</span>.join([<span class="hljs-string">'hello'</span>, <span class="hljs-string">'world'</span>])

<span class="hljs-built_in">print</span>(s1, s2, s3)  <span class="hljs-comment"># helloworld</span>

<span class="hljs-comment"># çœ‹ä¸€ä¸‹è¿™äº›å¯¹è±¡çš„åœ°å€</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">id</span>(s1)))  <span class="hljs-comment"># 0x2f489ed91f0</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">id</span>(s2)))  <span class="hljs-comment"># 0x2f489ed91f0</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">id</span>(s3)))  <span class="hljs-comment"># 0x2f489fa3570</span>
</code></pre>
<p>æŸ¥çœ‹åœ°å€åå‘ç°, <code>s1</code>å’Œ<code>s2</code>çš„åœ°å€æ˜¯ä¸€æ ·çš„, ä½†æ˜¯<code>s3</code>çš„åœ°å€å´ä¸åŒã€‚</p>
<p>æˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨<code>==</code>å’Œ<code>is</code>æ¥åˆ¤æ–­è¿™äº›å˜é‡</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(s1 == s2)  <span class="hljs-comment"># True</span>
<span class="hljs-built_in">print</span>(s1 == s3)  <span class="hljs-comment"># True</span>

<span class="hljs-built_in">print</span>(s1 <span class="hljs-keyword">is</span> s2)  <span class="hljs-comment"># True</span>
<span class="hljs-built_in">print</span>(s1 <span class="hljs-keyword">is</span> s3)  <span class="hljs-comment"># False</span>
</code></pre>
<p>ğŸ™‹â€ é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹, æˆ‘äº§ç”Ÿäº†ä¸‹é¢çš„ç–‘é—®:</p>
<p>â“ é—®é¢˜1: ä¸ºä»€ä¹ˆ<code>s3</code>å’Œ<code>s1</code>ä¸<code>s2</code>çš„åœ°å€ä¸åŒ?</p>
<p>â“ é—®é¢˜2: <code>==</code>å’Œ<code>is</code>çš„åº•å±‚åˆ¤æ–­æœºåˆ¶æ˜¯æ€æ ·çš„? ä¸ºä»€ä¹ˆä¼šæœ‰ä¸ä¸€æ ·çš„è¿”å›ç»“æœ?</p>
<h3 data-id="heading-7">ğŸ’¡ <strong>å­—ç¬¦ä¸²é©»ç•™æœºåˆ¶</strong></h3>
<p>pythonçš„ä¸€ç§ä¼˜åŒ–æŠ€æœ¯, å®ƒä¿å­˜ä¸å¯å˜å¯¹è±¡(å¦‚å­—ç¬¦ä¸²)çš„å”¯ä¸€å‰¯æœ¬, å½“éœ€è¦æ—¶, è®©å¤šä¸ªåº”ç”¨æŒ‡å‘è¿™ä¸ªå‰¯æœ¬, ä»¥èŠ‚çœå†…å­˜ã€‚</p>
<p>ä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä¼šè¢«é©»ç•™, å­—ç¬¦ä¸²çš„åˆ›å»ºæ–¹å¼ä¼šå½±å“å®ƒä»¬æ˜¯å¦è¢«é©»ç•™(<code>Interned</code>)ã€‚</p>
<p>è‡ªåŠ¨é©»ç•™çš„è§„åˆ™:</p>
<ul>
<li>ç¼–è¯‘æ—¶å¸¸é‡: åœ¨ä»£ç ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šçš„å­—ç¬¦ä¸²å­—é¢é‡</li>
<li>çŸ­å­—ç¬¦ä¸²: é€šå¸¸åªåŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿çš„çŸ­å­—ç¬¦ä¸²</li>
<li>æ ‡è¯†ç¬¦: å˜é‡åã€å‡½æ•°åç­‰</li>
</ul>
<p>ğŸ™‹â€ å¦‚æœåœ¨å®šä¹‰å­—ç¬¦ä¸²å˜é‡çš„æ—¶å€™åŠ å…¥ç©ºæ ¼ä¼šæ€ä¹ˆæ ·?</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">&gt;&gt;&gt; </span>s1 = <span class="hljs-string">"hello world"</span>  
<span class="hljs-meta">&gt;&gt;&gt; </span>s2 = <span class="hljs-string">"hello"</span> + <span class="hljs-string">" "</span> + <span class="hljs-string">"world"</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>s1 <span class="hljs-keyword">is</span> s2
<span class="hljs-literal">False</span>
</code></pre>
<p>åœ¨pythonäº¤äº’å¼è§£é‡Šå™¨ä¸­æŸ¥çœ‹, å¯ä»¥çœ‹åˆ°å› ä¸ºåŒ…å«æœ‰ç©ºæ ¼, å®šä¹‰çš„å¯¹è±¡å¹¶æ²¡æœ‰è¢«é©»ç•™, æ‰€ä»¥<code>s1</code>å’Œ<code>s2</code>å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>â¬†ï¸ è§£ç­”é—®é¢˜1</p>
<p>äº†è§£ä¸Šé¢çš„çŸ¥è¯†ç‚¹ä¹‹å, å†å»åˆ†æä¸Šé¢çš„ä»£ç </p>
<p>(1) <code>s1</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡, åœ¨ç¼–è¯‘æ—¶è¢«åˆ›å»º, ä¼šè¢«é©»ç•™</p>
<p>(2) <code>s2</code>ä½œä¸ºè¡¨è¾¾å¼, åœ¨ç¼–è¯‘æ—¶ä¼šè¢«ä¼˜åŒ–æˆå­—ç¬¦ä¸²å­—é¢é‡, å› æ­¤å’Œ<code>s1</code>æ˜¯åŒä¸€ä¸ªå¯¹è±¡</p>
<p>(3) <code>s3</code>æ˜¯åœ¨è¿è¡Œæ—¶é€šè¿‡<code>join</code>æ–¹æ³•åŠ¨æ€åˆ›å»ºçš„å­—ç¬¦ä¸², æ— æ³•åœ¨ç¼–è¯‘æ—¶ç¡®å®šç»“æœ, å› æ­¤å¹¶ä¸ä¼šè¢«é©»ç•™ä¼˜åŒ–, æ˜¯ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡</p>
<p>é€šè¿‡ä¸Šé¢çš„åˆ†æ, æˆ‘ä»¬å°±äº†è§£äº†ä¸ºä»€ä¹ˆä¼šæœ‰å€¼ç›¸åŒä½†åœ°å€ä¸åŒçš„ç°è±¡ã€‚</p>
<p>â¬†ï¸ è§£ç­”é—®é¢˜2</p>
<p>è°ƒç”¨<code>==</code>æ¥æ¯”å¯¹ä¸¤ä¸ªå˜é‡çš„å€¼æ—¶, è°ƒç”¨å¯¹è±¡çš„<code>__eq__()</code>æ–¹æ³•(ç»§æ‰¿è‡ª<code>object</code>), å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/195c450a35414b198bb683dd2915a5d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmltb3llZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763969728&amp;x-signature=3XHh0dbrrAsd2NM7U28iA81cSyI%3D" alt="image-20251117110420927.png" loading="lazy"/></p>
<p>è€Œä¸Šé¢çš„æ¡ˆä¾‹ä¸­, ä¸¤ä¸ªå˜é‡çš„ç±»å‹æ˜¯å­—ç¬¦ä¸², <code>str()</code>æ–¹æ³•ä¼šé‡å†™ç»§æ‰¿çš„<code>__eq__()</code>æ–¹æ³•, ä½¿å¾—åˆ¤æ–­çš„æ—¶å€™æ¯”è¾ƒçš„æ˜¯ä¸¤è€…çš„å€¼, è€Œä¸æ˜¯åœ°å€ã€‚</p>
<p>è€Œè°ƒç”¨<code>is</code>æ¯”è¾ƒä¸¤ä¸ªå˜é‡æ—¶, æ¯”è¾ƒçš„å°±æ˜¯ä¸¤è€…çš„åœ°å€æ˜¯å¦ç›¸åŒã€‚</p>
<p>ğŸ“ Tips: å†…å­˜ä¸­å­˜å‚¨çš„å¸¸é‡, å¦‚<code>True</code>, <code>False</code>, <code>None</code>, åˆ¤æ–­çš„æ—¶å€™ç›´æ¥ä½¿ç”¨<code>is</code>å…³é”®å­—, ä¸è¦ç”¨<code>==</code>ã€‚å› ä¸ºè¿™äº›å¸¸é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€åªæœ‰ä¸€ä¸ª, é€šè¿‡<code>is</code>å»åˆ¤æ–­åœ°å€å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®æ—¶å…‰çº¿è¿½è¸ªåŠ é€Ÿç¡¬ä»¶ç»“æ„ï¼ˆè¯¦ç»†ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7573225720697536564</link>    <guid>https://juejin.cn/post/7573225720697536564</guid>    <pubDate>2025-11-17T06:47:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573225720697536564" data-draft-id="7490815158190571546" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®æ—¶å…‰çº¿è¿½è¸ªåŠ é€Ÿç¡¬ä»¶ç»“æ„ï¼ˆè¯¦ç»†ç‰ˆï¼‰"/> <meta itemprop="keywords" content="æ¸¸æˆ,GPU,è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2025-11-17T06:47:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒç´ ä¹‹å¢ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/721729778626808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®æ—¶å…‰çº¿è¿½è¸ªåŠ é€Ÿç¡¬ä»¶ç»“æ„ï¼ˆè¯¦ç»†ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/721729778626808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒç´ ä¹‹å¢ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T06:47:42.000Z" title="Mon Nov 17 2025 06:47:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="atom-one-dark-reasonable">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-keyword,.hljs-operator,.hljs-pattern-match{color:#f92672}.hljs-function,.hljs-pattern-match .hljs-constructor{color:#61aeee}.hljs-function .hljs-params{color:#a6e22e}.hljs-function .hljs-params .hljs-typing{color:#fd971f}.hljs-module-access .hljs-module{color:#7e57c2}.hljs-constructor{color:#e2b93d}.hljs-constructor .hljs-string{color:#9ccc65}.hljs-comment,.hljs-quote{color:#b18eb1;font-style:italic}.hljs-doctag,.hljs-formula{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>è¿‘å‡ å¹´ä¸€äº›å¤§å‹æ¸¸æˆå¼€å§‹æ”¯æŒ<strong>å…‰çº¿è¿½è¸ªæ¸²æŸ“</strong>ï¼Œåœ¨è®¾ç½®ä¸­å¼€å¯å…‰è¿½åï¼Œç”»è´¨èƒ½æœ‰æ˜æ˜¾çš„æå‡ã€‚ä½†è¦å®ç°è¿™ç§<strong>å®æ—¶çš„å…‰è¿½æ¸²æŸ“</strong>å¹¶ä¸ç®€å•ï¼Œå…¶ä¸ä»…éœ€è¦æ¸¸æˆä¸­ç¼–å†™äº†ç›¸å…³çš„<strong>ç®—æ³•åŠç¨‹åº</strong>ï¼Œæ›´éœ€è¦ä½ çš„<strong>ç”µè„‘ç¡¬ä»¶</strong>æ”¯æŒã€‚</p>
<p>ä½†å…‰è¿½ç®—æ³•ç‰¹æ®Šï¼Œä¸”è®¡ç®—é‡å¤§ï¼Œæ™®é€šGPUæ˜¯æ— æ³•è¾¾æˆå®æ—¶æ¸²æŸ“è¦æ±‚çš„ï¼Œç›®å‰å„å¤„ç†å™¨å‚å•†éƒ½æ˜¯æ­é…ä¸“é—¨çš„<strong>å®æ—¶å…‰çº¿è¿½è¸ªåŠ é€Ÿç¡¬ä»¶</strong>è¿›è¡Œæ”¯æŒï¼Œæ¯”å¦‚<code>NVIDIA</code>çš„<code>RT Cores</code>ï¼Œ<code>AMD</code>çš„<code>Ray Accelerator</code>ç­‰ç­‰ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä¸»è¦ç†æ¸…<strong>å®æ—¶å…‰è¿½åŠ é€Ÿç¡¬ä»¶çš„å¤§è‡´ç»“æ„å’Œå…¶å®ç°åŸç†</strong>ï¼Œä¼šåå‘äºå¹¿åº¦ï¼Œç•¥è¿‡ä¸€äº›è¯¦ç»†éƒ¨åˆ†ã€‚å› ä¸ºå…‰çº¿è¿½è¸ªåŠ é€Ÿç¡¬ä»¶æ˜¯å¯¹å…‰çº¿è¿½è¸ªç®—æ³•çš„å®ç°ï¼Œæ‰€ä»¥ä¸‹é¢å…ˆå¯¹<strong>å…‰çº¿è¿½è¸ªç®—æ³•</strong>åšä¸€äº›æåŠï¼Œå†æ¢³ç†<strong>ç¡¬ä»¶</strong>çš„çŸ¥è¯†ã€‚</p>
<h2 data-id="heading-0">1 å…‰çº¿è¿½è¸ªæŠ€æœ¯</h2>
<p>å…‰çº¿è¿½è¸ªæ˜¯ä¸€ç§æ¨¡æ‹Ÿç°å®ä¸–ç•Œï¼Œå…‰çº¿åœ¨åœºæ™¯ä¸­å¤šæ¬¡<strong>åå°„ã€æŠ˜å°„</strong>çš„ä¸€ä¸ªè¿‡ç¨‹ã€‚æ‰€ä»¥å…‰è¿½ç®—æ³•é‡Œï¼Œç‰©ä½“æ‰€å—å…‰ç…§é™¤äº†ä¸»è¦æ¥è‡ªå…‰æºç›´æ¥ç…§å°„å¤–ï¼Œè¿˜æ¥è‡ªå…¶å®ƒé—´æ¥çš„å…‰çº¿ã€‚è‹¥èƒ½è€ƒè™‘åˆ°<strong>è¶³å¤Ÿæ•°é‡çš„é—´æ¥å…‰çº¿</strong>ï¼Œå°±å¯ä»¥å¾—åˆ°æ›´çœŸå®çš„æ¸²æŸ“æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27488e23cfe5463b9e8e3d9959e3001d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=PSNL4PPWD4sKarqDVddiWtfQ5Io%3D" alt="rays.png" loading="lazy"/></p>
<p>å…‰çº¿è¿½è¸ªå±äºå…¨å±€å…‰ç…§æŠ€æœ¯çš„ä¸€ç§ï¼Œèµ·åˆè¾ƒä¸ºå®Œå–„çš„æ˜¯â€œåŸºäºWhittedâ€é£æ ¼çš„å…‰çº¿è¿½è¸ªï¼Œåç»­å­¦è€…ä»¬åœ¨å…¶åŸºç¡€ä¸Šæ”¹å–„ï¼Œè¡ç”Ÿå‡ºè®¸å¤šå…¶å®ƒç®—æ³•ï¼Œå¦‚ï¼šå…‰å­æ˜ å°„ã€æ¢…ç‰¹æ³¢åˆ©æ–¯å…‰ç…§ä¼ è¾“ã€åŒå‘è·¯å¾„è¿½è¸ªç­‰ã€‚å®ƒä»¬æ ¸å¿ƒçš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ„å»ºåœºæ™¯æ ‘</strong>ï¼šå°†åœºæ™¯æŒ‰ç©ºé—´ã€ç‰©ä½“ï¼ˆä¸‰è§’å½¢ç»„æˆï¼‰åˆ’åˆ†ä¸ºä¸€é¢—<strong>æ ‘å½¢æ•°æ®</strong>ä¿å­˜ï¼Œæ–¹ä¾¿ç¬¬2æ­¥ä½¿ç”¨ã€‚</li>
<li><strong>å…‰çº¿æ±‚äº¤</strong>ï¼šå…‰çº¿ä»å…‰æºå‡ºå‘ï¼Œåœ¨<strong>åœºæ™¯æ ‘</strong>ä¸­æŸ¥æ‰¾ï¼Œåˆ¤æ–­æ˜¯ä¸å“ªä¸€ä¸ªç‰©ä½“ç›¸äº¤ï¼Œè®¡ç®—å…·ä½“çš„äº¤ç‚¹ã€‚</li>
<li><strong>å…‰ç…§æ•ˆæœè®¡ç®—</strong>ï¼šåœ¨ç›¸äº¤ç‚¹å¤„è¦è®¡ç®—å…‰çº¿çš„è¾å°„å¼ºåº¦ã€äº®åº¦ï¼Œè¿›è¡Œå¾®é¢å…ƒæ¨¡æ‹Ÿã€è²æ¶…å°”æ•ˆæœç­‰ç­‰ï¼Œè®°å½•è¿™æ¡å…‰çº¿å…‰ç…§æ•ˆæœã€‚</li>
<li><strong>ç”Ÿæˆæ¬¡çº§å…‰çº¿</strong>ï¼šäº¤ç‚¹å¤„è¦æ ¹æ®ç‰©ä½“æè´¨äº§ç”Ÿ<strong>æ¬¡çº§å…‰çº¿</strong>ï¼ˆåå°„ã€æŠ˜å°„ã€é˜´å½±å…‰çº¿ï¼‰ï¼Œå…‰çº¿èƒ½é‡è¡°å‡åˆ°é˜ˆå€¼ï¼Œæˆ–è€…è¿›å…¥æ‘„åƒæœºåç»“æŸã€‚</li>
<li><strong>ç€è‰²è®¡ç®—</strong>ï¼šæ¯æ¡å…‰çº¿éƒ½é‡å¤2,3,4æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰çš„å…‰çº¿åœ¨åœºæ™¯ä¸­å®Œæˆä¼ æ’­å’Œè®¡ç®—ã€‚æ¯ä¸ªç‚¹çš„ç€è‰²ç”±å…¶ä¸Šæ–¹åŠç©ºé—´å†…æ‰€æœ‰å…‰çº¿ç§¯åˆ†å¾—åˆ°ã€‚</li>
</ol>
<p><strong>è€—æ—¶çš„éƒ¨åˆ†</strong>ï¼š</p>
<ul>
<li>å…‰çº¿ä¸åŸºå…ƒçš„æ±‚äº¤ï¼šæ¯ç§’æ•°åäº¿çš„å…‰çº¿ï¼Œæ•°ç™¾ä¸‡çš„ä¸‰è§’å½¢åœºæ™¯ï¼Œæ¯æ¡å…‰çº¿è¦è®¡ç®—ä¸å“ªä¸ªä¸‰è§’å½¢ç›¸äº¤ï¼Œè¿™ä¸ªæ•°é‡éå¸¸åºå¤§ã€‚</li>
<li>ç‚¹çš„ç€è‰²ï¼šæ¯ä¸ªå…‰çº¿ç›¸äº¤ç‚¹éœ€è¦è®¡ç®—è¾å°„åº¦ã€èƒ½é‡è¡°å‡ã€è²æ¶…å°”æ•ˆæœç­‰ï¼Œæœ€ç»ˆæ¯ä¸ªåƒç´ ç‚¹è¿˜è¦å¯¹å…¶ä¸ŠåŠç©ºé—´çš„å…‰çº¿è¿›è¡Œç§¯åˆ†ï¼ˆä¸€æ¡å…‰çº¿åŒ…æ‹¬å…¶ä»å…‰æºå¤šæ¬¡åå°„æŠ˜å°„ï¼‰å¾—åˆ°æœ€ç»ˆé¢œè‰²ã€‚è¿™ä¸€ç³»åˆ—è®¡ç®—éå¸¸å¤æ‚ã€‚</li>
</ul>
<p>ä»¥ä¸Šè¯´çš„åªæ˜¯å¤§æ¦‚æ€æƒ³ï¼Œå…·ä½“ç®—æ³•ä¼šæœ‰æ‰€å˜åŒ–ï¼Œå†å¯¹åº”åˆ°å…‰è¿½ç¡¬ä»¶åˆä¼š<strong>æœ‰æ‰€ç®€åŒ–</strong>ï¼Œå…·ä½“åœ¨æåˆ°ç›¸å…³ç¡¬ä»¶æ¶æ„æ—¶ç»†è¿°ã€‚</p>
<h2 data-id="heading-1">2 å…‰çº¿è¿½è¸ªç®¡çº¿</h2>
<p>å…‰çº¿è¿½è¸ªç®¡çº¿æ˜¯å¯¹<strong>å…‰çº¿è¿½è¸ªæŠ€æœ¯</strong>å®ç°è¿‡ç¨‹çš„ä¸€ä¸ª<strong>æŠ½è±¡</strong>ï¼Œæ€»ä½“ä½¿ç”¨åŸºäºWhittedé£æ ¼çš„å…‰çº¿è¿½è¸ªã€‚ç°æœ‰çš„å…‰è¿½ç¡¬ä»¶å¤šæ•°éƒ½æŒ‰ç…§ä¸€ä¸ªè¿‡ç¨‹å®ç°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e95ba77713014ab9854e1e05c73240a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=BvYgfyBOCoATis%2FWn%2FfxmeChALQ%3D" alt="ray-tra-pipline.png" loading="lazy"/></p>
<ul>
<li><strong>åŠ é€Ÿç»“æ„æ„å»º</strong>ï¼šå°†ç»™å®šçš„åœºæ™¯æŒ‰ç…§ç©ºé—´ã€<strong>åŸºå…ƒ</strong>ï¼ˆä¸‰è§’å½¢ï¼‰åˆ’åˆ†æˆä¸€é¢—æ ‘å½¢ç»“æ„ã€‚</li>
<li><strong>ä¸»å…‰çº¿ç”Ÿæˆ</strong>ï¼šç›¸æœºå‘å„åƒç´ ç‚¹æŠ•å°„æŒ‡å®šæ•°é‡çš„å…‰çº¿ã€‚</li>
<li><strong>å…‰çº¿éå†</strong>ï¼šç”Ÿæˆçš„ä¸»å…‰çº¿å’Œæ¬¡çº§å…‰çº¿ï¼ˆç›¸äº¤åæŠ˜å°„/åå°„ç­‰äº§ç”Ÿï¼‰è¦åœ¨ç¬¬ä¸€æ­¥ç”Ÿæˆçš„<strong>åŠ é€Ÿç»“æ„</strong>ä¸­éå†ï¼Œåˆ¤æ–­ä¸å“ªä¸ªå¶å­ç©ºé—´ç›¸äº¤ã€‚</li>
<li><strong>å…‰çº¿æ±‚äº¤</strong>ï¼šéå†å¾—åˆ°çš„å¶å­ç©ºé—´ä¸­å¯èƒ½åŒ…å«å¤šä¸ªåŸºå…ƒï¼Œè¦ç»§ç»­è®¡ç®—ä¸å“ªä¸ªåŸºäºç›¸äº¤åŠäº¤ç‚¹åæ ‡ï¼Œå¹¶äº§ç”Ÿæ¬¡çº§å…‰çº¿ã€‚</li>
<li><strong>ç€è‰²</strong>ï¼šæ¯ä¸ªåƒç´ æ ¹æ®å½“å‰ç‚¹æè´¨ã€çº¹ç†ã€æœ‰è´¡çŒ®çš„å…‰çº¿ï¼Œè¿›è¡Œæœ€ç»ˆçš„ç€è‰²è®¡ç®—ã€‚</li>
</ul>
<h2 data-id="heading-2">3 å®æ—¶å…‰çº¿è¿½è¸ªç¡¬ä»¶</h2>
<p>å®æ—¶å…‰çº¿è¿½è¸ªç¡¬ä»¶æ¶æ„å¯ä»¥æŒ‰ä¸“ç”¨æ€§åˆ†æˆä¸¤ç±»ï¼š</p>
<ul>
<li>ä¸€ç±»æ˜¯<strong>æ··åˆæ¶æ„</strong>ï¼Œç»“åˆCPUï¼ŒGPUï¼Œä¼˜åŒ–ç®—æ³•ã€è¾…ä»¥éƒ¨åˆ†ç¡¬ä»¶ç­‰æ–¹å¼å®ç°ã€‚æ›´å¤šçš„å¯ç¼–ç¨‹æ€§ï¼Œæ—©æœŸå’Œç§»åŠ¨ç«¯é‡‡ç”¨çš„è¾ƒå¤šã€‚</li>
<li>å¦ä¸€ç±»æ˜¯<strong>ä¸“ç”¨æ¶æ„</strong>ï¼Œä»ä¸€å¼€å§‹å°±æ˜¯ä¸ºå…‰çº¿è¿½è¸ªè€Œè®¾è®¡ï¼ŒåŠŸèƒ½å¤šç”¨æ–°çš„ç¡¬ä»¶ç›´æ¥å®ç°ï¼Œæ€§èƒ½æ›´ä½³ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä¸»è¦è®²è¿°çš„æ˜¯ä¸€ä¸ªå¤§è‡´ç»“æ„ï¼Œæ‰€ä»¥ä¼šæåˆ°å¤šç§æ¶æ„çš„çŸ¥è¯†ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªåä¸“ç”¨å‹å…‰è¿½æ¶æ„çš„ç¤ºæ„å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cbd642b80e24be7bde0a06e737bd24c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=%2B5g4oBvHgITIoz6d2QhQWNbsYXU%3D" alt="ray-trace.png" loading="lazy"/></p>
<p><strong>CPU</strong>ï¼šåº”ç”¨ç¨‹åºä¸»ä½“ä»ç„¶åœ¨cpuè¿è¡Œï¼Œä½†ç¼–è¯‘åçš„ç€è‰²å™¨ä»£ç ã€åœºæ™¯æ•°æ®ã€å‚æ•°ç­‰è¦ç»è¿‡ç³»ç»Ÿæ€»çº¿å‘é€åˆ°å…‰è¿½åŠ é€Ÿç¡¬ä»¶ä¸Šæ‰§è¡Œã€‚</p>
<ul>
<li><strong>ç€è‰²å™¨</strong>ï¼šæœ‰è‡ªå®šä¹‰<strong>å…‰çº¿ç”Ÿæˆç€è‰²å™¨</strong>ï¼ˆåˆå§‹ä¸»å…‰çº¿ç”Ÿæˆï¼‰ã€<strong>ç›¸äº¤ç€è‰²å™¨</strong>ï¼ˆè‡ªå®šä¹‰å‡ ä½•ä½“çš„ç›¸äº¤æ£€æµ‹ï¼‰ã€å‘½ä¸­/æœªå‘½ä¸­ç­‰ç€è‰²å™¨ã€‚è‹¥å…‰è¿½ç¡¬ä»¶æ”¯æŒï¼Œé‚£ä¹ˆç€è‰²å™¨ç¨‹åºåœ¨ä½¿ç”¨ç¡¬ä»¶å‚å•†æä¾›çš„ç¼–è¯‘å™¨<strong>ç¼–è¯‘</strong>ä¹‹åå‘é€ã€‚</li>
<li><strong>åœºæ™¯ä¸‰è§’å½¢</strong>ï¼š3dåœºæ™¯ç”±ä¼—å¤šä¸‰è§’å½¢æ„æˆï¼Œéœ€è¦å°†å…¶å‘é€åˆ°å…‰è¿½ç¡¬ä»¶ç”¨äºæ„å»º<strong>åŠ é€Ÿç»“æ„</strong>ã€‚</li>
<li>å…¶å®ƒé…ç½®ï¼šåœºæ™¯ç‰©ä½“ä¸Šç”¨åˆ°çš„çº¹ç†è´´å›¾ã€æ‘„åƒæœºä½ç½®ã€å…‰æºä½ç½®ç­‰é…ç½®ã€‚</li>
</ul>
<p><strong>TBU</strong>ï¼šï¼ˆTree Building Unitï¼‰æ„å»ºå™¨ï¼Œæ ¹æ®<code>kd-Tree</code>ç®—æ³•æˆ–<code>BVH</code>ç®—æ³•æ„å»ºä¸€ä¸ª<strong>æ ‘å½¢åŠ é€Ÿç»“æ„</strong>ï¼Œæ¯ä¸€å¸§éƒ½éœ€è¦æ ¹æ®åœºæ™¯çš„å˜åŒ–æ„å»ºæˆ–<strong>æ›´æ–°åŠ é€Ÿç»“æ„</strong>ï¼Œå…¶ç»“æœåœ¨RTUä¸Šä½¿ç”¨ã€‚</p>
<p><strong>RTU</strong>ï¼šï¼ˆRay Tracing Unitï¼‰å…‰è¿½å•å…ƒï¼Œå…‰çº¿çš„ç”Ÿæˆã€éå†ã€ç›¸äº¤è®¡ç®—ã€ç€è‰²è®¡ç®—åœ¨è¿™ä¸ªå•å…ƒè¿›è¡Œã€‚</p>
<p><strong>External Memory</strong>ï¼šä¸€ä¸ªå…±äº«å†…å­˜ï¼Œä½¿ç”¨çš„å‡ ä½•æ•°æ®ã€åŠ é€Ÿç»“æ„ç­‰å­˜å‚¨åœ¨è¿™é‡Œã€‚</p>
<h2 data-id="heading-3">4 TBUè¯¦ç»†</h2>
<p>å› ä¸ºåœºæ™¯å¯èƒ½æ˜¯<strong>åŠ¨æ€å˜åŒ–</strong>çš„ï¼Œæ‰€ä»¥æ¯ä¸€å¸§ï¼ŒTBUéƒ½è¦æ„å»ºå‡ºå¯¹åº”åœºæ™¯çš„<strong>åŠ é€Ÿç»“æ„</strong>ï¼Œè¿™æ˜¯å®ç°å®æ—¶å…‰è¿½çš„ä¸€ä¸ªé‡è¦å‰ææ¡ä»¶ã€‚</p>
<p><strong>æ··åˆæ¶æ„</strong>ä¸­ä¸å«TBUå•å…ƒï¼Œè€Œæ˜¯åˆ©ç”¨CPUå’Œä¸€äº›å…¶å®ƒæ–¹å¼å®ç°ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>æ ‘çš„æ„å»º</strong>ï¼šæ··åˆæ¶æ„ä¸­æ„å»ºåŠ é€Ÿç»“æ„ä¼šè®©CPUå®ç°ï¼Œå› ä¸ºCPUçš„<strong>å¤šçº§ç¼“å­˜</strong>å’Œä¼˜ç§€çš„<strong>æ§åˆ¶æµ</strong>ï¼Œè¿™ä¸¤ç‚¹é€‚åˆæ ‘çš„æ„å»ºè¿‡ç¨‹ã€‚</li>
<li><strong>æ ‘çš„æ›´æ–°</strong>ï¼šè‹¥æ¯å¸§éƒ½è®©CPUæ„å»ºå†ä¼ åˆ°å…‰è¿½ç¡¬ä»¶ï¼Œè¿™æ ·çš„æ–¹å¼éå¸¸ç¼“æ…¢ã€‚è¿˜éœ€è¦é…åˆä¸€ä¸ª<code>GTU</code>ï¼ˆæ ‘æ›´æ–°å•å…ƒï¼‰æ‹Ÿåˆå˜åŒ–çš„éƒ¨åˆ†ï¼Œå†é…åˆä¸€äº›æ ‘æ”¹é€ ã€ç®—æ³•è°ƒæ•´ç­‰æ–¹å¼è¾¾åˆ°å®æ—¶æ„å»ºçš„è¦æ±‚ã€‚</li>
</ul>
<p>ç¡¬ä»¶<code>TBU</code>ä¸€èˆ¬æœ‰<code>kd-tree</code>æˆ–<code>BVH</code>ç®—æ³•å®ç°çš„ä¸¤ç§ï¼Œè¿™ä¸¤è€…åªè¦è¿›è¡Œè¶³å¤Ÿè°ƒä¼˜éƒ½èƒ½è¾¾åˆ°ç›¸è¿‘çš„æ€§èƒ½ã€‚å®ƒä»¬é€šå¸¸ä¸æ”¯æŒç¼–ç¨‹ï¼Œä½†ä¸ºäº†æ”¯æŒ<strong>åŠ¨æ€æ›´æ–°åœºæ™¯</strong>ï¼Œ<code>TBU</code>ä¼šæ”¯æŒä¸‰æ¡ç‰¹æ®Š<strong>æŒ‡ä»¤</strong>ï¼šâ€œæ›´æ–°èŠ‚ç‚¹â€ã€â€œå¤„ç†å¶å­â€å’Œâ€œåŠ è½½é¡¶ç‚¹â€ã€‚CPUåªéœ€å°†å˜åŒ–äº†çš„éƒ¨åˆ†å‡ ä½•æ•°æ®å‘ç»™TBUå³å¯ã€‚</p>
<p>ä½¿ç”¨TBUç¡¬ä»¶æ¥æ„å»ºåŠ é€Ÿç»“æ„çš„æƒ…å†µä¸€èˆ¬æ¯”ä½¿ç”¨CPU/GPUæ„å»ºçš„é€Ÿåº¦å¿«4å€å·¦å³ã€‚</p>
<h3 data-id="heading-4">4.1 ä½¿ç”¨SAH+BVHçš„TBU</h3>
<p>ä¸‹é¢å…ˆå¤§è‡´ä»‹ç»ä¸€ä¸‹BVHç®—æ³•ï¼Œå†å™è¿°ç›¸å…³ç¡¬ä»¶ç»“æ„ï¼Œæ–¹ä¾¿ç†è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/839290c8281248749f3dd99659982bd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=HTpGpky%2BI75jVBvJxZigXXXe%2BQE%3D" alt="BVH-struct.png" loading="lazy"/></p>
<p><strong>BVH</strong>ï¼ˆBounding Volume Hierarchyï¼‰åŒ…å›´ä½“å±‚æ¬¡ç»“æ„</p>
<ul>
<li>å…ˆå¯¹åœºæ™¯ç©ºé—´è¿›è¡ŒäºŒåˆ†ï¼Œå†å¯¹åˆ†å‰²å‡ºçš„å­åœºæ™¯è¿›è¡ŒäºŒåˆ†ã€‚</li>
<li>æ¯æ¬¡åˆ†å‰²é€’å½’æ—¶è¦ä¸ºå½“å‰å­ç©ºé—´ä¸­çš„æ‰€æœ‰å‡ ä½•ä½“è®¡ç®—ä¸€ä¸ªå¯ä»¥åŒ…å›´å®ƒä»¬çš„<strong>åŒ…å›´ç›’</strong>ï¼ˆé€šå¸¸ä½¿ç”¨BBAAåŒ…å›´ç›’â€”â€”ç«‹æ–¹ä½“ï¼‰ã€‚</li>
<li>ä¸€ç›´åˆ†å‰²åˆ°åªå‰©ä¸€ä¸ªæˆ–å°‘é‡å‡ ä¸ªç‰©ä½“ä¸ºæ­¢ã€‚</li>
<li>åˆ†å‰²å’Œè®¡ç®—æ‰€å¾—åŒ…å›´ç›’å­˜å‚¨åœ¨ä¸€ä¸ªæ ‘å½¢ç»“æ„çš„æ•°æ®ä¸­ã€‚</li>
</ul>
<p><strong>SAH</strong>ï¼ˆSurface Area Heuristicï¼‰ï¼šä¸€ç§åˆ’åˆ†æ–¹æ³•ã€‚è¿›è¡Œç©ºé—´äºŒåˆ†æ—¶ï¼Œæ ¹æ®åŒ…å›´ç›’çš„è¡¨é¢ç§¯å’Œå…‰çº¿ä¸åŒ…å›´ç›’ç›¸äº¤çš„æ¦‚ç‡æ¥é€‰æ‹©åˆ’åˆ†ç‚¹ï¼Œä»¥æœ€å°åŒ–æ±‚äº¤è®¡ç®—çš„æˆæœ¬ã€‚</p>
<p>æ„å»ºå™¨æ•´ä½“æ¶æ„å¦‚ä¸‹å›¾ï¼ˆaï¼‰æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7ff179f4cfc48da8757aabb766408ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=jJDYpauN4ve6R6R7owq0ZWnrUHI%3D" alt="sah-bvh.jpg" loading="lazy"/></p>
<p><strong>DRAM</strong>ï¼šåŠ¨æ€å­˜å‚¨å™¨ã€‚åœ¨æ„å»ºå¼€å§‹ä¹‹å‰ï¼Œåœºæ™¯å›¾å…ƒä¼šè¢«åˆ†é…åˆ°å„ä¸ªDRAMå¯¹ä¸­ã€‚</p>
<p><strong>upper builder(ä¸Šå±‚æ„å»ºå™¨)</strong>ï¼šç›´æ¥è¯»å†™<code>DRAM</code>ä¸­çš„å›¾å…ƒæ•°æ®ï¼Œè´Ÿè´£æ„å»ºå±‚æ¬¡ç»“æ„çš„ä¸Šå±‚ã€‚</p>
<ul>
<li>è¯¥æ„å»ºå™¨åŒ…å«åˆ’åˆ†å•å…ƒã€åˆ†ç®±å•å…ƒä»¥åŠä¸€å¯¹ SAHè®¡ç®—å™¨ï¼ˆè¯¦ç»†å‚è€ƒä¸‹é¢çš„å­æ ‘æ„å»ºå™¨ï¼‰</li>
<li>ä¸Šå±‚æ„å»ºå™¨çš„å·¥ä½œè¾ƒå°‘ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è´Ÿè´£ã€‚</li>
</ul>
<p><strong>subtree builderï¼ˆå­æ ‘æ„å»ºå™¨ï¼‰</strong>ï¼šå¦‚ä¸Šå³å›¾ï¼ˆbï¼‰æ‰€ç¤ºï¼Œè´Ÿè´£æ„å»ºä¸Šå±‚æ„å»ºå™¨ä¼ æ¥çš„å­æ ‘ã€‚</p>
<ul>
<li><strong>Buffer(å›¾å…ƒç¼“å†²åŒº)</strong>ï¼šæœ‰ä¸€æ’æˆå¯¹çš„bufferï¼Œæ¯å¯¹ä¸­çš„ä¸€ä¸ªBufferå…ˆæ¥æ”¶ä¸Šå±‚æ„å»ºå™¨åˆ’åˆ†æ¥çš„å›¾å…ƒï¼Œå¦ä¸€ä¸ªç¼“å†²åŒºåˆ™ä¿æŒä¸ºç©ºã€‚</li>
<li><strong>PUnit(åˆ†åŒºå•å…ƒ)</strong>ï¼šä»Bufferè¯»å–å›¾å…ƒå‘é‡ï¼Œå®ƒä»¬çš„åˆ†å‰²ç‚¹ç”±<code>Bin unit</code>å’Œ<code>SAH</code>è®¡ç®—å¾—å‡ºï¼Œæ ¹æ®ç»“æœï¼Œåˆ†åŒºå•å…ƒå¯¹å…¶Bufferä¸­çš„å›¾å…ƒè¿›è¡Œåˆ’åˆ†ï¼Œå°†ç»“æœå†™å…¥å¦ä¸€ä¸ªBufferã€‚åœ¨ä¸‹ä¸€æ¬¡é€’å½’åˆ’åˆ†æ—¶ï¼Œä¸¤ä¸ªBufferçš„ä½œç”¨äº’æ¢ã€‚</li>
<li><strong>Bin Unit(åˆ†ç®±å•å…ƒ)</strong>ï¼šæ¯ä¸ª<code>PUnit</code>è¿æ¥åˆ°ä¸‰ä¸ª<code>Bin Unit</code>â€”â€”Bin x/y/zå®ƒä»¬åˆ†åˆ«å¤„ç†å›¾å…ƒAABBï¼ˆåŒ…å›´ç›’ï¼‰å„è½´çš„ä¸­å¿ƒç‚¹ï¼Œæœ€åè¾“å‡ºåœ¨ä¸‰ä¸ªè½´ä¸Šé€‰æ‹©çš„åˆ†ç®±ä½ç½®ï¼Œä»¥åŠç”¨äºè®¡ç®—è¿™äº›åˆ†ç®±ä½ç½®çš„åŸå§‹å›¾å…ƒAABBã€‚</li>
<li><strong>SAH Calc(å®ç°SAHç®—æ³•çš„è®¡ç®—å™¨)</strong>ï¼š<code>Bin Unit</code>è¾“å‡ºçš„AABBåŠå…¶é€‰æ‹©çš„åˆ†ç®±ä½ç½®è¢«è¾“å…¥åˆ°SAHè®¡ç®—å™¨ä¸­ï¼Œè¿™äº›è®¡ç®—å™¨ä¸ºæ¯ä¸ªè½´ä¸Šçš„æ¯ä¸ªåˆ†ç®±ç´¯ç§¯ä¸€ä¸ªAABBå’Œä¸€ä¸ªè®¡æ•°å™¨ã€‚ä¸€æ—¦æ‰€æœ‰å›¾å…ƒéƒ½è¢«ç´¯ç§¯ï¼ŒSAHè®¡ç®—å™¨å°±ä¼šè¯„ä¼°æ¯ä¸ªå¯èƒ½åˆ’åˆ†çš„SAHæˆæœ¬ï¼Œå¹¶è¾“å‡ºæ‰¾åˆ°çš„æœ€ä½æˆæœ¬åˆ’åˆ†ï¼Œå°†åˆ’åˆ†ä¿¡æ¯åé¦ˆåˆ°<code>PUnit</code>ã€‚</li>
<li><strong>Main Control Logic(ä¸»æ§é€»è¾‘)</strong>ï¼šç”¨äºæ§åˆ¶å­æ ‘é€»è¾‘çš„è¿è¡Œã€å„å•å…ƒçš„æ‰§è¡Œé¡ºåºã€ç¼“å†²åŒºçš„è´Ÿè½½å‡è¡¡ç­‰ã€‚</li>
<li><strong>å­æ ‘çš„å¤šçº¿ç¨‹</strong>ï¼šä¸Šå±‚æ„å»ºå™¨æ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œåˆ’åˆ†åˆ°å„å­æ ‘åï¼Œæ¯ä¸ªå­æ ‘éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œã€‚ä¸€ä¸ªçº¿ç¨‹ç”±1ä¸ªå¯„å­˜å™¨ï¼ˆå­˜å‚¨å½“å‰åˆ’åˆ†å›¾å…ƒåœ¨bufferä¸­çš„å¼€å§‹ä¸ç»“æŸåœ°å€ï¼‰ï¼Œ1ä¸ªåˆ’åˆ†æ–¹æ¡ˆï¼ˆSAHè®¡ç®—å¾—çš„åˆ’åˆ†ä¿¡æ¯ï¼‰ï¼Œ1ä¸ªæ ˆï¼ˆåˆ’åˆ†å›¾å…ƒæ—¶è¾…åŠ©æ“ä½œç”¨ï¼‰å’Œæ ˆé¡¶æŒ‡é’ˆç­‰ç»„æˆã€‚</li>
</ul>
<h3 data-id="heading-5">4.2 PLOCTreeï¼šå¦ä¸€ç§å®ç°BVHçš„TBU</h3>
<p>PLOCTreeæ˜¯ä¸€ç§åŸºäºå¹¶è¡Œå±€éƒ¨<strong>æœ‰åºèšç±»</strong>ï¼ˆParallel Locally-Ordered Clusteringï¼ŒPLOCï¼‰ç®—æ³•çš„æ ‘æ„å»ºåŠ é€Ÿå™¨ã€‚PLOCç®—æ³•ä»æ ‘çš„åº•éƒ¨å¼€å§‹æ„å»ºï¼Œå¯¹æ‰€æœ‰å›¾å…ƒçš„AABBåŒ…å›´ç›’è¿›è¡Œèšç±»ï¼ˆè·ç¦»è¾ƒè¿‘çš„ä¸€äº›å›¾å…ƒå½’ä¸ºä¸€ç±»ï¼Œä¸ºå®ƒä»¬è®¡ç®—1ä¸ªæ–°çš„åŒ…å›´ç›’ï¼‰ï¼Œé€å±‚ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œæœ€ç»ˆåªæœ‰ä¸€ä¸ªåŒ…å›´ç›’æ—¶æ•´é¢—æ ‘æ„å»ºå®Œæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a58b5a10ea44428ac10fa8c3dbb2420~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=3hj2mFT%2BStheJu%2BsGHzPfA3Rch8%3D" alt="ploctree-bvh.png" loading="lazy"/></p>
<ul>
<li>ä»å·¦ä¾§è¾“å…¥æ‰€æœ‰å›¾å…ƒçš„AABBåŒ…å›´ç›’ã€‚</li>
<li>ä¸ºæ¯ä¸ªåŒ…å›´ç›’çš„<code>x,y,z</code>åæ ‡ç”Ÿæˆè«é¡¿ç ï¼Œä½¿ç”¨æ’åºå™¨æŒ‰è«é¡¿ç æ’åºï¼ˆæ’åºä¸Šç›¸é‚»çš„å…¶ç©ºé—´ä½ç½®ä¸Šä¹Ÿç›¸é‚»ï¼‰</li>
<li>å°†è¿™äº›åŒ…å›´ç›’åˆ†ç»™å¤šä¸ªæ‰«ææµæ°´çº¿ï¼Œæ¯ä¸ªæµæ°´çº¿æœ‰1ä¸ªæ‰«æçª—å£å°†æ‰«æçš„åŒ…å›´ç›’å­˜å…¥çª—å£ç¼“å†²åŒºã€‚</li>
<li>å°†2R+1ä¸ªè¾“å…¥åˆ°2Rä¸ª<strong>è·ç¦»è¯„ä¼°å™¨</strong>ä¸­ï¼ˆ<code>Distance Metric Evaluator DME</code>ï¼‰ã€‚</li>
<li><strong>æ¯”è¾ƒæ ‘</strong>ï¼ˆ<code>Comparator Tree</code>ï¼‰æ¥æ”¶æ¥è‡ªDMEç»„çš„2Rä¸ªè·ç¦»ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¾“å‡ºå…·æœ‰æœ€ä½è·ç¦»çš„AABBçš„ç›¸å¯¹ç´¢å¼•</li>
<li><strong>åå¤„ç†æ¨¡å—</strong>ï¼ˆ<code>Postprocessing</code>ï¼‰ä»æ¯”è¾ƒæ ‘çš„ç»“æœä¸­å°†æœ€ç›¸è¿‘çš„ä¸¤ä¸ªAABBåˆå¹¶ï¼Œç”¨ä¸€ä¸ªæ–°çš„AABBè¡¨ç¤ºï¼Œå†æ¬¡ä»æœ€å·¦ä¾§è¾“å…¥è¿›è¡Œç¬¬äºŒè½®å¤„ç†ã€‚</li>
</ul>
<h3 data-id="heading-6">4.3 FastTreeï¼šä¸€ä¸ªå®ç°kd-treeç®—æ³•çš„TBU</h3>
<p>BVHç®—æ³•çš„ä¸€ä¸ªå›ºæœ‰é—®é¢˜æ˜¯ï¼š<strong>åŒä¸€çº§åˆ«çš„ä¸¤ä¸ªèŠ‚ç‚¹åœ¨ç©ºé—´ä¸Šå¯èƒ½é‡å </strong>ï¼ˆåŒ…å›´ç›’çš„é‡å ï¼‰ï¼Œå› æ­¤åœ¨å®šä½åˆ°å‘½ä¸­ä¹‹å‰å¯èƒ½ä¼šè®¿é—®å¤§é‡èŠ‚ç‚¹ã€‚kdæ ‘ç®—æ³•æ²¡æœ‰å­˜å‚¨åŒ…å›´ç›’ï¼Œä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½†åœ¨å¤„ç†å›¾å…ƒæ—¶éœ€è¦é¢å¤–çš„å¤„ç†æ­¥éª¤ã€‚</p>
<p><code>FastTree</code>æ¶æ„å›¾åŠåŠŸèƒ½æè¿°å¦‚ä¸‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d489d903e6b24a0987914b5a81553ca2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=oIzM%2FFdl5i2TXk%2BzsAwJ9rUHee8%3D" alt="FasterTree-kdTree.png" loading="lazy"/></p>
<ul>
<li><strong>SBCU(åœºæ™¯è¾¹ç•Œè®¡ç®—å•å…ƒ)</strong>ï¼šä»å³ä¸Šè§’æ‰¹é‡è¾“å…¥çš„å›¾å…ƒä¸­è®¡ç®—å®ƒä»¬çš„<code>x, y, z</code>æœ€å¤§æœ€å°å€¼æ›´æ–°ä¸ºè¾¹ç•Œå€¼ã€‚</li>
<li><strong>MCGU(è«é¡¿ç ç”Ÿæˆå•å…ƒ)</strong>ï¼šè®¡ç®—è¾“å…¥å›¾å…ƒçš„åŒ…å›´ç›’ï¼Œå¹¶ä¸ºæ¯ä¸ªå›¾å…ƒç”Ÿæˆè«é¡¿ç ã€‚</li>
<li><strong>PSU(å‰ç¼€å’Œå•å…ƒ)</strong>ï¼šè®¡ç®—æ•°ç»„çš„å‰ç¼€å’Œï¼Œé…åˆRSUå•å…ƒè¿›è¡Œæ’åºã€‚</li>
<li><strong>RSU(åŸºæ•°æ’åºå•å…ƒ)</strong>ï¼šè®¾è®¡ä¸ºå¤šè½®è®¡æ•°æ’åºï¼Œç”¨å‰ç¼€å’Œè®¡ç®—ï¼Œä¾æ®è«é¡¿ç æ’åºã€‚</li>
<li><strong>LNGU(å¶èŠ‚ç‚¹ç”Ÿæˆå•å…ƒ)</strong>ï¼šè·å–æ’åºæ•°ç»„ä¸­ç›¸é‚»çš„ä¸¤ä¸ªè«é¡¿ç ç å­—ï¼Œç›¸è·è¾ƒè¿‘åŸºå…ƒçš„åšä¸ºä¸€ç»„å¶èŠ‚ç‚¹ï¼Œå¦åˆ™å•ç‹¬ä½œä¸ºä¸€ä¸ªå¶èŠ‚ç‚¹ã€‚</li>
<li><strong>INGU(å†…éƒ¨èŠ‚ç‚¹ç”Ÿæˆå•å…ƒ)</strong>ï¼šè¾“å…¥ä¸¤ä¸ªå¶å­èŠ‚ç‚¹çš„è«é¡¿ç ï¼Œç¡®å®š1ä¸ªåˆ†å‰²å¹³é¢ï¼Œå°†ä¸¤ä¸ªå¶å­èŠ‚ç‚¹åˆ’åˆ†åˆ°ä¸åŒå­ç©ºé—´,ç»“æœå‘é€åˆ°ä½ç¼–ç å•å…ƒï¼ˆBEUï¼‰ã€‚ç¼–ç ç»“æœé€šè¿‡ç‰‡ä¸Šç¼“å­˜å†™å…¥ç‰‡å¤–å­˜å‚¨å™¨ã€‚</li>
<li><strong>PCU(è·¯å¾„å‹ç¼©å•å…ƒ)</strong>ï¼šè¾“å…¥æ¯ä¸ªèŠ‚ç‚¹çš„è«é¡¿ç ï¼ŒæŸ¥æ‰¾å…¶çˆ¶èŠ‚ç‚¹ï¼Œåˆ¤æ–­çˆ¶èŠ‚ç‚¹æ˜¯å¦ä¸ºå¿…è¦èŠ‚ç‚¹ï¼Œä¸æ˜¯åˆ™èˆå¼ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå¿…è¦èŠ‚ç‚¹ã€‚</li>
</ul>
<h2 data-id="heading-7">5 RTUè¯¦ç»†</h2>
<p>è¿™é‡Œé€‰ç”¨ä¸€ä¸ªèµ„æ–™è¾ƒè¯¦ç»†çš„<code>SGRT</code>æ¶æ„åšä¸»è¦è®²è§£ï¼Œé€‚å½“æ‹“å±•å…¶å®ƒæ¶æ„çŸ¥è¯†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a450140ae8d4bd5b151446a84cc7dfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=7g3xNWqWqmtlISKxrjzMj8vWEy8%3D" alt="SGRT.png" loading="lazy"/></p>
<p>SGRTæ˜¯ä¸€ä¸ªç§»åŠ¨ç«¯çš„å®æ—¶å…‰çº¿è¿½è¸ªå›¾å½¢ç³»ç»Ÿï¼Œå±äºæ··åˆå‹æ¶æ„ï¼Œæ²¡æœ‰<code>TBU</code>ç¡¬ä»¶ï¼Œå…¶åŠ é€Ÿç»“æ„åœ¨CPUæ„å»ºã€‚<code>SGRT</code>ä½¿ç”¨çš„é™æ€åœºæ™¯æµ‹è¯•ï¼Œæš‚æœªæ·»åŠ <strong>æ ‘æ›´æ–°å•å…ƒ</strong>ï¼Œä½†ä»–çš„æ¶æ„æ˜¯ä¸ºæ€åœºæ™¯è®¾è®¡çš„ï¼Œåªæ˜¯æš‚æœªæ‰©å±•ï¼Œå¯åšæˆ‘ä»¬å‚è€ƒç”¨ã€‚</p>
<p>SGRTæ‹¥æœ‰å¤šä¸ªæ ¸å¿ƒï¼Œæ¯ä¸ªæ ¸å¿ƒéƒ½åŒ…å«ä¸€ä¸ª<code>T&amp;I</code>ï¼ˆéå†ä¸ç›¸äº¤ï¼‰å•å…ƒå’Œä¸€ä¸ª<strong>SRP</strong>ï¼ˆä¸‰æ˜Ÿå¯é‡æ„å¤„ç†å™¨ï¼‰å•å…ƒã€‚å„éƒ¨åˆ†è¯¦ç»†ç»“æ„åŠåŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-8">5.1 SRPç»“æ„</h3>
<p><code>SRP</code>ä½¿ç”¨çš„æ˜¯[Leeç­‰äºº2011]ä¸­å¼€å‘çš„GPUç€è‰²å™¨æ ¸å¿ƒï¼Œç”¨äºæ‰§è¡Œ<strong>å…‰çº¿ç”Ÿæˆ</strong>ï¼ˆåˆå§‹ç”Ÿæˆçš„ä¸»å…‰çº¿ã€éå†ã€ç›¸äº¤æ—¶äº§ç”Ÿçš„<strong>æ¬¡çº§å…‰çº¿</strong>ï¼‰ã€ç›¸äº¤ç­‰å„ç§å…‰çº¿<strong>ç€è‰²å™¨ç¨‹åº</strong>å’Œ<strong>ç€è‰²è®¡ç®—</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6f370233dbd44c3a7c2dfe1827a6a9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=eOQgrf98921davfM%2FyWWNyDfmrc%3D" alt="SRP.png" loading="lazy"/></p>
<p><strong>VLIW</strong>ï¼ˆè¶…é•¿æŒ‡ä»¤å­—ï¼‰å¼•æ“é€‚ç”¨äºé€šç”¨è®¡ç®—ï¼Œä¾‹å¦‚å‡½æ•°è°ƒç”¨å’Œåˆ†æ”¯é€‰æ‹©ã€‚<strong>CGRA</strong>ï¼ˆç²—ç²’åº¦å¯é‡æ„é˜µåˆ—ï¼‰ä½¿ç”¨SIMDæ¶æ„ï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰ï¼Œç”¨äºé«˜æ•ˆæ‰§è¡Œå¯†é›†å‹è®¡ç®—ã€‚</p>
<p>ä¸»æœºç«¯è°ƒç”¨<code>SGRT</code>æä¾›çš„<strong>ç¼–è¯‘å™¨</strong>ï¼Œå¯¹ç€è‰²å™¨ä»£ç ï¼ˆå…‰çº¿ç”Ÿæˆã€ç›¸äº¤ç­‰ï¼‰è¿›è¡Œç¼–è¯‘æ—¶ï¼Œä¼šé’ˆå¯¹<code>VLIW,CGRA</code>çš„ç‰¹æ€§è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚æ§åˆ¶æµè¯­å¥åœ¨VLIWä¸­æ‰§è¡Œï¼Œå…‰çº¿çš„è®¡ç®—åœ¨CGRAä¸­æ‰§è¡Œã€‚</p>
<p><strong>Configuration Memory</strong>ï¼šSRPæä¾›çš„ä¸ºè®¾è®¡äººå‘˜è‡ªå®šä¹‰çš„ä¸€äº›<strong>é…ç½®</strong>ç”¨æ¥è¾…åŠ©å®ç°åŠŸèƒ½ã€‚</p>
<p><strong>FU</strong>ï¼ˆåŠŸèƒ½å•å…ƒï¼‰ï¼š å†…éƒ¨çš„ç»„ä»¶åŒ…æ‹¬ï¼š<strong>æœ¬åœ°ç¼“å†²åŒº</strong>ã€<strong>ç®—æœ¯é€»è¾‘å•å…ƒ</strong>ï¼ˆALUï¼‰ã€è¾“å…¥å’Œè¾“å‡º<strong>å¤šè·¯å¤ç”¨å™¨</strong>ä»¥åŠ<strong>å¯„å­˜å™¨æ–‡ä»¶</strong>ï¼ˆRFï¼‰ã€‚</p>
<h3 data-id="heading-9">5.2 å…‰çº¿ç”Ÿæˆä¸ç€è‰²</h3>
<p><code>SGRT</code>æ¶æ„çš„ä¸»å…‰çº¿ç”Ÿæˆç›´æ¥ç”±SRPæ‰§è¡Œå…‰çº¿ç”Ÿæˆç€è‰²å™¨äº§ç”Ÿï¼Œåœ¨<strong>ç¼–è¯‘</strong>æ—¶ï¼ŒSGRTæä¾›çš„ç¼–è¯‘å™¨ä¼šä¸ºå„ç±»å‹çš„å…‰çº¿æ‰§è¡Œä¸åŒçš„å†…æ ¸ä»£ç ï¼Œå¹¶ä¸ºå®ƒä»¬æ·»åŠ <strong>ç€è‰²ä»£ç </strong>ã€‚ç”Ÿæˆçš„å…‰çº¿ä¼šè¢«æ”¾åˆ°ç¼“å†²åŒºï¼Œä»¥ä¾¿è¢«æ‰¹é‡åˆ†é…ç»™T&amp;Iå•å…ƒã€‚</p>
<p><strong>å…‰çº¿ç”Ÿæˆå•å…ƒ</strong>ï¼šä¸€äº›ä¸“ç”¨å‹å…‰è¿½æ¶æ„ä¸­ä¼šå•ç‹¬ç”¨ç¡¬ä»¶å®ç°<strong>ä¸»å…‰çº¿ç”Ÿæˆ</strong>ï¼Œå¯ä»¥ä¸ºä¸»å…‰çº¿æŒ‰è«é¡¿é¡ºåºï¼ˆç©ºé—´ä¸Šæ’åºï¼‰ä»¥æé«˜ç¼“å­˜æ•ˆç‡ã€‚è¿˜å¯ä»¥å‰”é™¤åœ¨ä¸‰è§’å½¢èƒŒé¢ç”Ÿæˆçš„é˜´å½±å…‰çº¿ï¼Œç”Ÿæˆé‡‡æ ·å…‰çº¿ä»¥æ”¯æŒåˆ†å¸ƒå¼å…‰çº¿è¿½è¸ªå’Œè¶…çº§é‡‡æ ·æŠ—é”¯é½¿ç­‰ã€‚</p>
<p><strong>ç€è‰²</strong>ï¼šéƒ¨åˆ†ç¡¬ä»¶æ¶æ„æ”¯æŒ<strong>è‡ªå®šä¹‰ç€è‰²ä»£ç </strong>ï¼Œä½†<code>SGRT</code>æ¶æ„çš„ç€è‰²ç”±ç¼–è¯‘æ—¶é™„åŠ ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>åœ¨<strong>ç¼–è¯‘</strong>æ—¶å¯¹ä¸åŒçš„å…‰çº¿ç±»å‹å’Œæ˜¯å¦å‘½ä¸­åˆ†ç±»ï¼ˆé˜´å½±å…‰çº¿æœªå‘½ä¸­ã€å…¶å®ƒå…‰çº¿å‘½ä¸­ç­‰ï¼‰ï¼Œæ·»åŠ ä¸åŒçš„ç€è‰²å†…æ ¸ä»£ç ã€‚</li>
<li>å…¶ä»–å…‰çº¿ä¸”å‘½ä¸­çš„æƒ…å†µæ˜¯è®¡ç®—é‡æœ€å¤§çš„ï¼Œç¼–è¯‘æ—¶ä¸ºå…¶æ·»åŠ çš„å†…æ ¸ä»£ç ä¸­ä¼šåŒ…æ‹¬ï¼šä¸­å¿ƒåæ ‡è®¡ç®—æ³•å‘é‡ã€æ˜¯å¦ç”Ÿæˆæ¬¡çº§å…‰çº¿ã€çº¹ç†æ˜ å°„ã€<strong>å…‰ç…§è®¡ç®—</strong>ã€‚</li>
<li>å½“å‰å…‰çº¿è®¡ç®—å‡ºçš„é¢œè‰²è¢«æ·»åŠ åˆ°ç€è‰²ç¼“å†²åŒºä¸­çš„å…ˆå‰é¢œè‰²ä¸Šï¼›æœ€ç»ˆé¢œè‰²ç”±ä»ç»™å®šåƒç´ ç”Ÿæˆçš„æ‰€æœ‰å…‰çº¿çš„é¢œè‰²å€¼<strong>ç´¯åŠ å¾—åˆ°</strong>ã€‚</li>
</ul>
<p><strong>å…‰ç…§è®¡ç®—</strong>ï¼šç”±äºè¾å°„åº¦çš„è®¡ç®—æ–¹å¼å¤æ‚ï¼Œå®ç°æˆæœ¬é«˜ï¼Œä¸”å®ç°äº†çš„è¾å°„åº¦æ–¹æ³•ä¾ç„¶å¾ˆéš¾è¾¾åˆ°å®æ—¶å¸§ç‡è¦æ±‚ï¼Œæ‰€ä»¥ç°åœ¨å®æ—¶å…‰è¿½ç¡¬ä»¶ä¸­çš„å…‰ç…§è®¡ç®—å‡ ä¹éƒ½ä½¿ç”¨æ›´ç®€å•çš„<code>Phong</code>å…‰ç…§æ¨¡å‹ã€‚</p>
<h3 data-id="heading-10">5.3 T&amp;Iå•å…ƒè¯¦ç»†</h3>
<p>å…‰çº¿çš„éå†ä¸ç›¸äº¤è®¡ç®—æ˜¯æ•´ä¸ªå…‰è¿½ç®¡çº¿ä¸­<strong>æœ€è€—èµ„æºçš„é˜¶æ®µ</strong>ï¼Œæ‰€ä»¥å¤šæ•°å…‰è¿½æ¶æ„ä¸­éƒ½å«æœ‰<code>T&amp;I</code>å•å…ƒï¼Œå…¶ç¡¬ä»¶åŒ–ç¨‹åº¦é«˜ï¼Œå¤šé‡‡ç”¨ç¡¬è¿çº¿ä»£æ›¿é€šç”¨å¯„å­˜å™¨ï¼Œä¸”åŒ…å«<code>TRV</code>å’Œ<code>IST</code>ç¡¬ä»¶ã€‚</p>
<p><code>SGRT</code>çš„<code>T&amp;I</code>ç”±<strong>å…‰çº¿åˆ†é…å•å…ƒï¼ˆRDï¼‰</strong> ã€å››ä¸ª<strong>éå†å•å…ƒï¼ˆTRVï¼‰</strong> å’Œä¸€ä¸ª<strong>ç›¸äº¤å•å…ƒï¼ˆISTï¼‰</strong> ç»„æˆã€‚æ¯ä¸ªå•å…ƒéƒ½é€šè¿‡ä¸€ä¸ªå†…éƒ¨ç¼“å†²åŒºè¿æ¥ï¼Œç¼“å†²åŒºå°†å…‰çº¿ä»ä¸€ä¸ªå•å…ƒä¼ é€’åˆ°å…¶ä»–å•å…ƒã€‚T&amp;Iå•å…ƒå’ŒSRPé€šè¿‡åŸºäºFIFOçš„<strong>ä¸“ç”¨æ¥å£</strong>è¿›è¡Œé€šä¿¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a078ad273ec4ee2926dde265b63b366~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YOP57Sg5LmL5aKD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763966862&amp;x-signature=%2BVsT0B6apyTIVjEDz2Nj7uddPtw%3D" alt="SGRT-T&amp;I.png" loading="lazy"/></p>
<p><strong>å…‰çº¿åˆ†é…å•å…ƒ</strong>ï¼ˆ<code>RD</code>ï¼‰ï¼šä»å…‰çº¿ç¼“å†²åŒºä¸­è·å–å…‰çº¿ï¼ˆä¸»å…‰çº¿ä¸æ¬¡çº§å…‰çº¿ï¼‰ï¼Œå¹¶é¦–å…ˆå°†å…¶åˆ†é…ç»™ç©ºé—²çš„<code>TRV</code>ï¼ˆæ¯ä¸ªå‘¨æœŸåªæä¾›ä¸€æ¡å…‰çº¿ï¼‰ã€‚</p>
<p><strong>TRV</strong>ï¼šå°†æ‰€ç»™çš„å…‰çº¿åœ¨<code>TBU</code>æ‰€æ„å»ºçš„åŠ é€Ÿç»“æ„ä¸­éå†ï¼ŒæŸ¥æ‰¾åˆ°ä¸å½“å‰å…‰çº¿ç›¸äº¤çš„<strong>å¶å­èŠ‚ç‚¹</strong>ï¼ˆåŒ…å«1ä¸ªæˆ–å¤šä¸ªåŸºå…ƒï¼‰</p>
<ul>
<li>æ¯ä¸ªTRVéƒ½ç”±ä¸€ä¸ªå†…å­˜å¤„ç†æ¨¡å—ï¼ˆè¾“å…¥ç¼“å†²åŒºã€RAUã€L1ç¼“å­˜ã€çŸ­æ ˆï¼‰å’Œè®¡ç®—æµæ°´çº¿ç»„æˆã€‚</li>
<li>TRVæµæ°´çº¿çš„è¾“å‡ºåˆ†ä¸ºä¸‰æ¡è·¯å¾„ï¼šä¸€æ¡åé¦ˆå›è·¯è·¯å¾„è¿”å›è¾“å…¥ç¼“å†²åŒºï¼Œç”¨äºå¯¹å†…éƒ¨èŠ‚ç‚¹è¿›è¡Œè¿­ä»£è®¿é—®ï¼›</li>
<li>ä¸€æ¡è¾“å‡ºè·¯å¾„ç”¨äºåœ¨å…‰çº¿åˆ°è¾¾å¶èŠ‚ç‚¹æ—¶å°†å…‰çº¿å‘é€åˆ°<code>IST</code>ã€‚</li>
<li>è¿˜æœ‰ä¸€æ¡è¾“å‡ºè·¯å¾„ç”¨äºåœ¨å…‰çº¿å®Œæˆ<code>BVH</code>æ ‘éå†åå°†å…‰çº¿å‘é€åˆ°<strong>SRPï¼ˆç€è‰²èµ„æºå¤„ç†å™¨ï¼‰</strong> ã€‚</li>
<li><code>TRV</code>çš„<strong>è®¡ç®—æµæ°´çº¿</strong>ç”±4ä¸ªæµ®ç‚¹åŠ æ³•å™¨ã€4ä¸ªæµ®ç‚¹ä¹˜æ³•å™¨å’Œ11ä¸ªæµ®ç‚¹æ¯”è¾ƒå™¨ç»„æˆã€‚</li>
</ul>
<p><strong>IST</strong>ï¼šè®¡ç®—å½“å‰å…‰çº¿ä¸TRVæ‰€ç»™çš„å¤šä¸ª<strong>åŸºå…ƒ</strong>ï¼ˆä¸€èˆ¬æ˜¯ä¸‰è§’å½¢ï¼‰æ˜¯å¦ç›¸äº¤ï¼ŒåŠå…¶äº¤ç‚¹ã€‚</p>
<ul>
<li>å…¶ç”±ä¸€ä¸ªå†…å­˜å¤„ç†æ¨¡å—ï¼ˆè¾“å…¥ç¼“å†²åŒºã€RAUã€L1ç¼“å­˜ï¼‰å’Œè®¡ç®—æµæ°´çº¿ç»„æˆã€‚</li>
<li><code>IST</code>æµæ°´çº¿çš„è¾“å‡ºåˆ†ä¸ºä¸¤æ¡è·¯å¾„ï¼šä¸€æ¡åé¦ˆå›è·¯è·¯å¾„è¿”å›è¾“å…¥ç¼“å†²åŒºï¼Œç”¨äºå¯¹åŒä¸€å¶èŠ‚ç‚¹ä¸­çš„ä¸‰è§’å½¢è¿›è¡Œè¿­ä»£æµ‹è¯•ï¼›</li>
<li>è¿˜æœ‰ä¸€æ¡è¾“å‡ºè·¯å¾„ç”¨äºå°†å…‰çº¿å‘é€åˆ°<code>TRV</code>ï¼Œä»¥ä¾¿è®¿é—®ä¸‹ä¸€ä¸ªæ ‘èŠ‚ç‚¹ã€‚</li>
</ul>
<p><strong>ä¸‰é˜¶æ®µç›¸äº¤è®¡ç®—</strong>ï¼šè¾ƒå¥½çš„T&amp;Iç¡¬ä»¶æœ‰<strong>ä¸‰é˜¶æ®µç›¸äº¤æµ‹è¯•å•å…ƒ</strong>ï¼Œè¯¥å•å…ƒå°†ç›¸äº¤æµ‹è¯•é˜¶æ®µåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µã€‚</p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µæ˜¯å…‰çº¿å¹³é¢æµ‹è¯•ï¼šåˆ¤æ–­å…‰çº¿æ˜¯å¦ä¸ä¸‰è§’å½¢æ‰€åœ¨çš„å¹³é¢æœ‰äº¤ç‚¹ï¼Œæ²¡æœ‰åˆ™ç»ˆæ­¢ã€‚</li>
<li>ç¬¬äºŒé˜¶æ®µæ˜¯é‡å¿ƒåæ ‡æµ‹è¯•ï¼šåˆ¤æ–­å…‰çº¿æ˜¯å¦ä¸è¯¥ä¸‰è§’å½¢æœ‰äº¤ç‚¹ï¼Œæ²¡æœ‰åˆ™ç»ˆæ­¢ã€‚</li>
<li>ç¬¬ä¸‰é˜¶æ®µæ˜¯æœ€ç»ˆçš„å‘½ä¸­ç‚¹è®¡ç®—ï¼šè®¡ç®—ç¡®åˆ‡çš„ç›¸äº¤åæ ‡ã€‚</li>
</ul>
<p><strong>åŒ…è¿½è¸ªä¸å•å…‰çº¿è¿½è¸ª</strong>ï¼šT&amp;Iå¯ä»¥è®¾è®¡ä¸ºå¤šæ¡å…‰çº¿æˆ–å•æ¡å…‰çº¿ä¸€èµ·è¿›è¡Œå¤„ç†ï¼Œä¸¤è€…å„æœ‰å·®åˆ«ï¼š</p>
<ul>
<li>åŒ…è¿½è¸ªï¼ˆå¤šæ¡å…‰çº¿ï¼‰ï¼šå¯¹ä¸å•ä¸ªç›’å­ç›¸äº¤çš„å¤šæ¡å…‰çº¿è¿›è¡Œ<code>SIMD</code>ï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰å¹¶è¡ŒåŒ–ï¼Œä½†ç”±äºåˆ†æ”¯å‘æ•£é—®é¢˜ï¼Œå®ƒä¸é€‚ç”¨äºæ¬¡çº§å…‰çº¿ã€‚ä¸€èˆ¬ä¼šåº”ç”¨å…‰çº¿é‡æ–°æ’åºã€æ’åºæˆ–è°ƒåº¦ç®—æ³•ä»¥æé«˜å…‰çº¿è¿è´¯æ€§ã€‚</li>
<li>å•å…‰çº¿è¿½è¸ªï¼šæ¯æ¡å…‰çº¿éƒ½è¢«è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼Œè¿™æ„å‘³ç€åœ¨å¤„ç†éç›¸å¹²å…‰çº¿æ—¶å¯ä»¥è·å¾—æ›´é«˜çš„ç¡¬ä»¶åˆ©ç”¨ç‡ã€‚å¯¹äºä¸è¿è´¯å…‰çº¿è€Œè¨€ï¼Œå•å…‰çº¿è¿½è¸ªæ›´ç¨³å¥ã€‚<code>SGRT</code>çš„T&amp;Iå°±é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚</li>
</ul>
<h3 data-id="heading-11">5.4 è®¡ç®—æ¶æ„</h3>
<p>å…‰çº¿è¿½è¸ªè¿‡ç¨‹ä¼šäº§ç”Ÿå¤§é‡çš„å…‰çº¿ï¼Œå¯¹è¿™äº›å…‰çº¿éœ€è¦é«˜å¹¶è¡Œæ€§çš„å¤„ç†å’Œè®¡ç®—ï¼ŒT&amp;Içš„<code>SIMD</code>æ¶æ„æ–¹å¼æ˜¯è¾ƒé€‚åˆå¤„ç†å…‰çº¿çš„æ–¹æ³•ä¹‹ä¸€ã€‚è¿˜æœ‰å…¶å®ƒå‡ ç§è®¡ç®—æ¶æ„ï¼Œä»¥ä¸‹æ˜¯ä»–ä»¬çš„ä½¿ç”¨æƒ…å†µï¼š</p>
<p><strong>SIMD</strong>ï¼šæ¯æ¡å…‰çº¿éƒ½ç”±ç›¸åŒçš„éå†ç¨‹åºå¤„ç†ï¼Œä½†ä½¿ç”¨æ•°æ®ä¸åŒï¼Œè¿™ä¸€ç‚¹å¾ˆé€‚åˆä½¿ç”¨SIMDç»“æ„ã€‚åªæ˜¯å…‰çº¿åœ¨åœºæ™¯ä¸­åå°„ã€æŠ˜å°„ï¼Œä¸åŸºå…ƒç›¸äº¤ã€æœªç›¸äº¤ç­‰æƒ…å†µå­˜åœ¨è®¸å¤šåˆ†æ”¯æŒ‡ä»¤æƒ…å†µï¼Œçº¯SIMDæœºåˆ¶æ— æ³•æä¾›è¶³å¤Ÿçš„çµæ´»æ€§ã€‚</p>
<p><strong>SIMD+SIMT</strong>ï¼šå¼•å…¥<code>SIMT</code>ï¼ˆå•æŒ‡ä»¤å¤šçº¿ç¨‹ï¼‰å¯ä»¥ä¸ºä¸€ç»„SIMDç¡¬ä»¶æ‰§è¡Œçš„ä½œä¸šä¸­çš„åˆ†æ”¯æŒ‡ä»¤æä¾›æ›´çµæ´»çš„æ”¯æŒï¼›ä¸å¤šçº¿ç¨‹é›†æˆï¼Œé€šè¿‡æ—¶é—´å¤ç”¨SIMDç¡¬ä»¶æ¥éšè—å†…å­˜å»¶è¿Ÿã€‚ä½†è¿™ç§æ¨¡å‹ä¸é€‚åˆéç›¸å¹²å…‰çº¿è¿½è¸ªï¼Œå› ä¸ºå®ƒä¼šå¯¼è‡´<strong>åˆ†æ”¯å‘æ•£</strong>å’Œ<strong>å…±äº«å†…å­˜äº‰ç”¨</strong>ã€‚</p>
<p><strong>MIMD</strong>ï¼ˆå¤šæŒ‡ä»¤å¤šæ•°æ®ï¼‰ï¼šæ¯ä¸ªæ ¸å¿ƒéƒ½æœ‰è‡ªå·±çš„å…‰çº¿ç¼“å†²åŒºï¼Œæœ‰ç‹¬ç«‹çš„æŒ‡ä»¤æµå’Œæ•°æ®æµï¼Œå¢åŠ å¤šç»„æŒ‡ä»¤è·å–ã€è§£ç å’Œåˆ†å‘é€»è¾‘ã€‚<code>MIMD</code>æ¶æ„æä¾›äº†æœ€ä½³çš„æ‰§è¡Œçµæ´»æ€§ï¼Œä½†æ›´å¤æ‚ï¼Œç¡…é¢ç§¯å ç”¨å¤šã€‚</p>
<h2 data-id="heading-12">6 æ€»ç»“</h2>
<p><strong>å®æ—¶å…‰è¿½ç¡¬ä»¶</strong>æ ¹æ®é¢å‘çš„åœºæ™¯ä¸åŒï¼Œå…¶ç¡¬ä»¶åŒ–ç¨‹åº¦æœ‰å¾ˆå¤§å·®å¼‚ï¼Œä¸€èˆ¬é¢å‘ä¸“ç”¨é›†æˆç”µè·¯ã€ä¸“ç”¨é›†æˆå¤„ç†å™¨çš„æƒ…å†µï¼Œç¡¬ä»¶ç¨‹åº¦é«˜ï¼Œå¯èƒ½æœ‰ä¸“é—¨å®ç°çš„<code>TBU</code>ã€<strong>å…‰çº¿ç”Ÿæˆã€ç€è‰²å•å…ƒ</strong>ç­‰ç¡¬ä»¶ã€‚å®ƒä»¬è™½ç„¶æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œä½†å¯ç¼–ç¨‹æ€§å°‘ã€çµæ´»åº¦ä½ã€‚</p>
<p>é¢å‘<strong>é€šç”¨å¤„ç†å™¨</strong>ï¼Œä¹Ÿå°±æ˜¯å¤§ä¼—ç”¨æˆ·çš„æƒ…å†µï¼Œåˆ™è¦æœ‰ä¸€å®šçš„çµæ´»æ€§ï¼Œé€šå¸¸æ”¯æŒéƒ¨åˆ†<strong>è‡ªå®šä¹‰ç€è‰²å™¨</strong>ç¨‹åºã€‚ç§»åŠ¨ç«¯é™äºç©ºé—´ã€å‘çƒ­ç­‰æ¡ä»¶ï¼Œæ›´å¤šä½¿ç”¨æ··åˆæ¶æ„ï¼Œå³ï¼šæ ‘æ„å»ºåœ¨CPUæ‰§è¡Œï¼Œé…åˆä¸€ä¸ªå¼‚æ­¥æ„å»ºçš„<strong>æ ‘æ›´æ–°å•å…ƒ</strong>ï¼Œç€è‰²å™¨çš„æ‰§è¡Œä¹Ÿå¯èƒ½ä¸<code>GPU</code>å…±ç”¨ã€‚</p>
<p>PCç«¯çš„ç›¸å…³ç ”ç©¶è¾ƒå¤šï¼Œèƒ½è¾¾åˆ°æ›´é«˜çš„æ€§èƒ½ï¼Œå¥½çš„å®æ—¶å…‰è¿½ç¡¬ä»¶å¤šä¼šç”¨TBUç¡¬ä»¶ã€æ›´é€‚åˆå…‰è¿½çš„<code>MIMD</code>æ¶æ„ã€‚å…‰è¿½ç¡¬ä»¶ä¸€èˆ¬æ”¾åˆ°æ˜¾å¡ä¸­ï¼Œä½œä¸º<code>GPU</code>æ¶æ„çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p><strong>å…‰è¿½æ•ˆæœä¸æ€§èƒ½</strong>ï¼šå…‰è¿½æ¸²æŸ“ä¸­ï¼Œå› ä¸ºæ¯ä¸ªç‰©ä½“è€ƒè™‘åˆ°äº†æ›´å¤šçš„é—´æ¥å…‰çº¿ï¼Œæ‰€ä»¥ç”»é¢æ•ˆæœæ›´äº®ï¼›é˜´å½±ã€é•œé¢ã€å€’å½±ç­‰æ•ˆæœæ›´æ˜æ˜¾ï¼Œæ›´çœŸå®ã€‚é«˜ç«¯å…‰è¿½ç¡¬ä»¶æ¯ç§’å¯æ‰§è¡Œ<strong>æ•°äº¿~ç™¾äº¿</strong>æ ¹å…‰çº¿ã€‚</p>
<p>ä½†å®é™…åº”ç”¨ä¸­æœ‰é«˜æ¸…åƒç´ ã€å¸§ç‡çš„è¦æ±‚ï¼Œé«˜ç«¯çš„å®æ—¶å…‰è¿½ç¡¬ä»¶ä¹Ÿå¾ˆå®¹æ˜“äº§ç”Ÿ<strong>å™ªç‚¹</strong>ï¼Œä¸€èˆ¬ä¼šç»“åˆ<strong>é™å™ªç®—æ³•</strong>åå¤„ç†ï¼Œ<strong>å…‰æµæ’å¸§</strong>æŠ€æœ¯æå‡å¸§ç‡ç­‰ã€‚è½¯ä»¶ç«¯æ¸²æŸ“ä¸€ä¸ªåœºæ™¯æ—¶ä¹Ÿä¸ä¸€å®šå…¨ç”¨å…‰è¿½æ¸²æŸ“ï¼Œæ¯”å¦‚è¿œå¤„çš„åœºæ™¯ä½¿ç”¨ä¼ ç»Ÿ<strong>å…‰æ …åŒ–æ¸²æŸ“</strong>ï¼Œè¿‘å¤„åœºæ™¯ç”¨å…‰è¿½æ¸²æŸ“ï¼Œæœ€åä¸¤è€…ç»“åˆã€‚</p>
<h2 data-id="heading-13">7 ä¸»è¦å‚è€ƒ</h2>
<ol>
<li>A Hardware Unit for Fast SAH-optimised BVH Construction</li>
<li>PLOCTree: A Fast, High-Quality Hardware BVH Builder</li>
<li>FastTree: A Hardware KD-Tree Construction Acceleration Engine for Real-Time Ray Tracing</li>
<li>HART: A Hybrid Architecture for Ray Tracing Animated Scenes</li>
<li>MergeTree: a HLBVH constructor for mobile systems</li>
<li>MRTP: Mobile Ray Tracing Processor With Reconfigurable Stream Multi-Processors for High Datapath Utilization</li>
<li>RayCore: A ray-tracing hardware architecture for mobile devices</li>
<li>SGRT: A Mobile GPU Architecture for Real-Time Ray Tracing</li>
<li>A Reconfigurable SIMT Processor for Mobile Ray Tracing With Contention Reduction in Shared Memory</li>
<li>T&amp;I Engine: Traversal and Intersection Engine for Hardware Accelerated Ray Tracing</li>
<li>Toward Real-Time Ray Tracing: A Survey on Hardware Acceleration and Microarchitecture Techniques</li>
<li>TRaX: A Multicore Hardware Architecture for Real-Time Ray Tracing</li>
<li>å…‰çº¿è¿½è¸ªç¡¬ä»¶åŠ é€Ÿæ–¹æ¡ˆç»¼è¿°</li>
<li>ã€Šå…¨å±€å…‰ç…§ã€‹</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå…¥é—¨åˆ°å®æˆ˜ï¼šç½‘ç»œè¯·æ±‚ä¸æ•°æ®è·å–]]></title>    <link>https://juejin.cn/post/7573242085610176563</link>    <guid>https://juejin.cn/post/7573242085610176563</guid>    <pubDate>2025-11-17T08:10:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573242085610176563" data-draft-id="7572939250586910771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå…¥é—¨åˆ°å®æˆ˜ï¼šç½‘ç»œè¯·æ±‚ä¸æ•°æ®è·å–"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-17T08:10:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ¤æ±‰å ¡"/> <meta itemprop="url" content="https://juejin.cn/user/3563932375586313"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå…¥é—¨åˆ°å®æˆ˜ï¼šç½‘ç»œè¯·æ±‚ä¸æ•°æ®è·å–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3563932375586313/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ¤æ±‰å ¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:10:21.000Z" title="Mon Nov 17 2025 08:10:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡ï¼Œå®‰è£…requestsåº“</h2>
<h3 data-id="heading-1">1.å®‰è£…å‘½ä»¤ï¼ˆç»ˆç«¯æ‰§è¡Œï¼‰</h3>
<pre><code class="hljs language-python" lang="python"> <span class="hljs-comment">#å®‰è£…requestsåº“</span>
pip install requests -i https://pypi.tuna.tsinghua.edu.cn/simple/
<span class="hljs-comment">#(è¯¥æ–¹å¼æ˜¯ä¸´æ—¶æŒ‡å®šçš„,æ¯æ¬¡ä¸‹è½½éœ€è¦å»cmdç»ˆç«¯ä¸‹è½½åº“ ç›¸å¯¹æ¥è¯´æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡æ·»åŠ åº“çš„æ—¶å€™å°±è¦å»cmdç»ˆç«¯å»ä¸‹è½½)</span>
</code></pre>
<h3 data-id="heading-2">2.è§£å†³å®‰è£…è¶…æ—¶çš„é—®é¢˜ï¼ˆé…ç½®å›½å†…é•œåƒæºï¼‰</h3>
<pre><code class="hljs language-python" lang="python">pip config <span class="hljs-built_in">set</span> <span class="hljs-keyword">global</span>.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h6 data-id="heading-3"><strong>è¯´æ˜ï¼šé»˜è®¤è¿æ¥Pythonå®˜æ–¹ä»“åº“ï¼Œå›½å†…é•œåƒæºï¼ˆå¦‚æ¸…åæºï¼‰å¯æå‡ä¸‹è½½é€Ÿåº¦ã€‚</strong></h6>
<h2 data-id="heading-4">äºŒã€åŸºæœ¬ç”¨æ³•ï¼šå‘èµ·GETè¯·æ±‚</h2>
<h3 data-id="heading-5">1.å¯¼å…¥æ¨¡å—ä¸åŸºç¡€è¯·æ±‚</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests <span class="hljs-comment">#å¯¼å…¥requestsåº“</span>
<span class="hljs-comment"># åœ¨è¦è·å–æ•°æ®çš„æµè§ˆå™¨é¡µé¢é‡Œï¼Œæ‰¾åˆ°ç›®æ ‡URLï¼ˆä»¥ç–¾ç—…æŸ¥è¯¢é¡µé¢ä¸ºä¾‹ï¼‰,é”®ç›˜æŒ‰ä¸‹Fn+F12ï¼ŒæŸ¥çœ‹æ˜¯ä»€ä¹ˆè¯·æ±‚æ–¹å¼</span>
url = <span class="hljs-string">'https://www.youlai.cn/dise'</span>
<span class="hljs-comment"># å‘èµ·getè¯·æ±‚ï¼Œè·å–å“åº”å¯¹è±¡ å°†è·å–åˆ°çš„å“åº”å¯¹è±¡çš„ç»“æœç»™åˆ°å˜é‡res</span>
res = requests.get(url) 
<span class="hljs-comment"># æ‰“å°å“åº”å†…å®¹ï¼ˆå¦‚æœå“åº”ç»“æœæ˜¯HTMLæ–‡æœ¬å†…å®¹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å“åº”å†…å®¹ï¼š"</span>,res.text)
</code></pre>
<h3 data-id="heading-6">2.å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
url = <span class="hljs-string">'https://www.tjwenming.cn/'</span>
res = requests.get(url)
<span class="hljs-comment"># æ‰‹åŠ¨æŒ‡å®šç¼–ç ï¼ˆæ ¹æ®ç›®æ ‡ç½‘é¡µçš„metaæ ‡ç­¾è®¾ç½®ï¼Œæ­¤å¤„ä»¥gb2312ä¸ºä¾‹ï¼‰</span>
res.encoding = <span class="hljs-string">'gb2312'</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'å¤„ç†åçš„ä¸­åˆå†…å®¹ï¼š'</span>,res.text)
</code></pre>
<p>è°ƒç”¨encodingå‰
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bce0d84f852c4b6c9d13bb336241f93d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Ok5rGJ5aCh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763972330&amp;x-signature=umqPC17N76SSDKgpedcmdYWtBIc%3D" alt="628f3e95-898f-4d77-a032-162c7db7f13d.png" loading="lazy"/>
è°ƒç”¨encodingå
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4b8bc3c9ad848bca09247983e316e10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Ok5rGJ5aCh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763972330&amp;x-signature=rquQvudDyFSshS0D29PUtjqH7Lo%3D" alt="33a8a6bb-8de0-4500-9089-7971429fd69e.png" loading="lazy"/></p>
<h6 data-id="heading-7"><strong>å…³é”®æ­¥éª¤ï¼š</strong></h6>
<ul>
<li>æ£€æŸ¥ç½‘é¡µæºç ä¸­çš„&lt;metacharset="xxx"&gt;æ ‡ç­¾ï¼Œè·å–ç¼–ç æ ¼å¼ï¼ˆå¦‚utf-8ã€gbkã€gb2312ï¼‰ã€‚</li>
<li>é€šè¿‡response.encodingè®¾ç½®ç¼–ç ï¼Œç¡®ä¿ä¸­æ–‡æ­£å¸¸æ˜¾ç¤ºã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€å¸¦å‚æ•°çš„GETè¯·æ±‚</h2>
<h3 data-id="heading-9">1.å‚æ•°ä¼ é€’æ–¹å¼</h3>
<h4 data-id="heading-10">æ–¹å¼ä¸€ï¼šURLæ‹¼æ¥å‚æ•°ï¼ˆç›´æ¥åœ¨URLä¸­æºå¸¦å‚æ•°ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-comment">#åŒ…å«å‚æ•°çš„å®Œæ•´URLï¼ˆä»æµè§ˆå™¨å¤åˆ¶ï¼‰</span>
url=<span class="hljs-string">'https://careers.tencent.com/tencentcareer/api/post/Query?timestamp=1763364793381&amp;countryId=&amp;cityId=&amp;bgIds=&amp;productId=&amp;categoryId=&amp;parentCategoryId=&amp;attrId=2,3&amp;keyword=&amp;pageIndex=1&amp;pageSize=10&amp;language=zh-cn&amp;area=cn'</span>
res = requests.get(url)
<span class="hljs-built_in">print</span>(res.text)
</code></pre>
<h4 data-id="heading-11">æ–¹å¼äºŒï¼šé€šè¿‡paramså‚æ•°ä¼ é€’</h4>
<pre><code class="hljs language-python" lang="python">url = <span class="hljs-string">'https://careers.tencent.com/tencentcareer/api/post/Query'</span> <span class="hljs-comment"># æ³¨æ„å†™åŸºç¡€çš„URL ä¸å¸¦åé¢çš„è¯·æ±‚å‚æ•°</span>
params = { <span class="hljs-comment"># å°†è¯·æ±‚å‚æ•°é€šè¿‡å­—å…¸çš„å½¢å¼å­˜èµ·æ¥ï¼Œç»™åˆ°params</span>
    <span class="hljs-string">'timestamp'</span>: <span class="hljs-number">1763364793381</span>,
    <span class="hljs-string">'ountryId'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'cityId'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'bgIds'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'productId'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'categoryId'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'parentCategoryId'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'attrId'</span>: <span class="hljs-string">'2,3'</span>, <span class="hljs-comment"># æ³¨æ„å‚æ•°ä¸ºå­—ç¬¦ä¸²ç±»å‹</span>
    <span class="hljs-string">'keyword'</span>: <span class="hljs-string">''</span>,
    <span class="hljs-string">'pageIndex'</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">'pageSize'</span>: <span class="hljs-number">10</span>,
    <span class="hljs-string">'language'</span>: <span class="hljs-string">'zh-cn'</span>,
    <span class="hljs-string">'area'</span>: <span class="hljs-string">'cn'</span>
}
<span class="hljs-comment"># å‘èµ·è¯·æ±‚æ—¶ä¼ é€’paramså‚æ•°</span>
res = requests.get(url,params=params)
<span class="hljs-built_in">print</span>(res.text)
</code></pre>
<h2 data-id="heading-12">å››ã€è·å–äºŒè¿›åˆ¶æ•°æ®ï¼ˆå›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰</h2>
<h3 data-id="heading-13">ï¼šä¸‹è½½ç½‘ç»œå›¾ç‰‡å¹¶ä¿å­˜</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
url = <span class="hljs-string">'http://pic.enorth.com.cn/005/026/920/00502692031_21660ab6.jpg'</span>
res = requests.get(url)
<span class="hljs-comment">#å¦‚æœè¯·æ±‚ç½‘å€å¯¹åº”çš„æ•°æ®ä¸ºå›¾ç‰‡è§†é¢‘éŸ³é¢‘</span>
<span class="hljs-comment">#è·å–æ•°æ®çš„æ–¹å¼ï¼šå“åº”å¯¹è±¡.content---&gt;å­—èŠ‚æ•°æ®</span>
res_img = res.content 
<span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'1.jpg'</span>,<span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:
    f.write(res_img)
</code></pre>
<h6 data-id="heading-14"><strong>å…³é”®ç‚¹ï¼š</strong></h6>
<ul>
<li>äºŒè¿›åˆ¶æ•°æ®é€šè¿‡response.contentè·å–ï¼Œè€Œétextã€‚</li>
<li>æ–‡ä»¶æ‰©å±•åéœ€ä¸å†…å®¹ç±»å‹åŒ¹é…ï¼ˆå¦‚.gifã€.mp4ã€.jpgï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä¸ºä»€ä¹ˆè¯´å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7573172586839834676</link>    <guid>https://juejin.cn/post/7573172586839834676</guid>    <pubDate>2025-11-17T08:15:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573172586839834676" data-draft-id="7573170756869701684" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä¸ºä»€ä¹ˆè¯´å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T08:15:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ErpanOmer"/> <meta itemprop="url" content="https://juejin.cn/user/3878732754331096"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä¸ºä»€ä¹ˆè¯´å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3878732754331096/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ErpanOmer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:15:42.000Z" title="Mon Nov 17 2025 08:15:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘åˆæ¥äº†ğŸ¤£ã€‚</p>
<p>æ‰“å¼€2025å¹´çš„æ‹›è˜è½¯ä»¶ï¼Œåä¸ªèµ„æ·±å‰ç«¯å²—ä½ï¼Œæœ‰å…«ä¸ªåœ¨JDï¼ˆèŒä½æè¿°ï¼‰é‡Œå†™ç€ï¼šâ€œ<strong>æœ‰Node.js/Serverless/å…¨æ ˆç»éªŒè€…ä¼˜å…ˆ</strong>â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/396bd4a478b94074abdb22cf0bcd992c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763972142&amp;x-signature=KgZ0NpU4hqp6nYYJQiiCF2T8pPI%3D" alt="50fb0729f6733fc5092ecfc91f063c6.jpg" loading="lazy"/></p>
<p>å…¨æ ˆ ğŸ‘‰ æˆäº†æˆ‘ä»¬å‰ç«¯å·¥ç¨‹å¸ˆå†…å·çš„ä¸€ç§æ–¹å¼ã€‚ä»¿ä½›ä½ ä¸€ä¸ªå¹²å‰ç«¯çš„ï¼Œè¦æ˜¯ä¸æ‡‚ç‚¹BFFã€ä¸ä¼šé…Nginxã€ä¸èŠèŠK8sï¼Œä½ éƒ½ä¸å¥½æ„æ€è·Ÿäººè¯´ä½ æ˜¯èµ„æ·±ã€‚</p>
<p>æˆ‘ä»¬éƒ½åœ¨æ‹¼å‘½åœ°ï¼Œå»å­¦Nest.jsã€å­¦æ•°æ®åº“ã€å­¦è¿ç»´ã€‚<strong>æˆ‘ä»¬çœ‹èµ·æ¥ï¼Œå˜å¾—è¶Šæ¥è¶Šå…¨èƒ½äº†ã€‚</strong></p>
<p>ä½†ä»Šå¤©ï¼Œæˆ‘æƒ³æ³¼ä¸€ç›†å†·æ°´ğŸ¤”ï¼š</p>
<p><strong>å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯ã€‚</strong></p>
<hr/>
<h4 data-id="heading-0"><strong>å…¨æ ˆåˆ°åº•æ˜¯ä»€ä¹ˆ</strong></h4>
<p>æˆ‘ä»¬å…ˆè¦ææ¸…æ¥šï¼Œç°åœ¨å…¬å¸è€æ¿ä»¬æƒ³è¦çš„å…¨æ ˆï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/983308b05bc44a6987b2efdfb2ef63f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763972142&amp;x-signature=rmdBMjFP0%2BDvXkU9IDhKJ6aceP0%3D" alt="image.png" loading="lazy"/></p>
<p>ä»–ä»¬æƒ³è¦çš„ï¼Œä¸æ˜¯ä¸€ä¸ªTå‹äººæ‰ï¼ˆåœ¨ä¸€ä¸ªé¢†åŸŸæ˜¯ä¸“å®¶ï¼ŒåŒæ—¶æ‡‚å…¶ä»–é¢†åŸŸï¼‰ã€‚</p>
<p>ä»–ä»¬æƒ³è¦çš„æ˜¯ï¼šä¸€ä¸ªèƒ½å¹²ä¸¤ä¸ªäººï¼ˆå‰ç«¯+åç«¯ï¼‰çš„æ´»ï¼Œä½†åªéœ€è¦ä»˜1.5ä¸ªäººçš„å·¥èµ„ã€‚</p>
<p>ä½†ä¸€ä¸ªäººçš„ç²¾åŠ›ï¼Œæ¯•ç«Ÿæ˜¯æœ‰é™çš„ã€‚</p>
<ul>
<li>å½“æˆ‘èŠ±äº†3ä¸ªæœˆï¼Œå»æ­»ç£•K8sçš„éƒ¨ç½²å’ŒNest.jsçš„ä¾èµ–æ³¨å…¥æ—¶ï¼Œæˆ‘å¿…ç„¶æ²¡æœ‰æ—¶é—´ï¼Œå»ç ”ç©¶æ–°å‡ºç‚‰çš„<code>INP</code>æ€§èƒ½æŒ‡æ ‡è¯¥å¦‚ä½•ä¼˜åŒ–ã€‚</li>
<li>å½“æˆ‘èŠ±äº†åŠå‘¨æ—¶é—´ï¼Œå»è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„å’ŒBFFæ¥å£æ—¶ï¼Œæˆ‘å¿…ç„¶æ²¡æœ‰ç²¾åŠ›ï¼Œå»æ‰“ç£¨é‚£ä¸ªReactç»„ä»¶çš„å¯è®¿é—®æ€§ï¼Œæ— éšœç¢ï¼ˆa11yï¼‰å’ŒåŠ¨ç”»ç»†èŠ‚ã€‚</li>
</ul>
<p>æˆ‘ä»¬å¼•ä»¥ä¸ºå‚²çš„å‰ç«¯ç²¾ç¥ï¼Œæ­£åœ¨è¢«å…¨æ ˆçš„å¹¿åº¦è¦æ±‚ï¼Œç¨€é‡Šå¾—ä¸€å¹²äºŒå‡€ã€‚</p>
<p><strong>å…¨æ ˆçš„è¶‹åŠ¿ï¼Œæ­£åœ¨é€¼è¿«æˆ‘ä»¬ï¼Œä»ä¸€ä¸ªèƒ½æ‹¿90åˆ†çš„å‰ç«¯ä¸“å®¶ï¼Œå˜æˆä¸€ä¸ªå‰åç«¯éƒ½æ˜¯åŠæ ¼çš„åŠŸèƒ½å®ç°è€…ã€‚</strong></p>
<hr/>
<h4 data-id="heading-1"><strong>å…³äºå‰ç«¯ä½“éªŒ</strong></h4>
<p>åšå…¨æ ˆçš„åæœï¼Œæœ€ç»ˆç”±è°æ¥ä¹°å•ï¼Ÿ</p>
<p><strong>æ˜¯ç”¨æˆ·ã€‚</strong></p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å…¨æ ˆå‰ç«¯ä¸»å¯¼ä¸‹ï¼Œæœ€å®¹æ˜“å‡ºç°çš„å—ç¾ç°åœºï¼š</p>
<p><strong>1.èƒ½ç”¨å°±è¡Œçš„äº¤äº’</strong></p>
<p>å…¨æ ˆæ€ç»´ï¼Œæ˜¯åŠŸèƒ½é©±åŠ¨çš„ã€‚</p>
<p>æ•°æ®èƒ½ä»æ•°æ®åº“é‡ŒæŸ¥å‡ºæ¥ï¼Œé€šè¿‡APIå‘åˆ°å‰ç«¯ï¼Œå†ç”¨v-foræ¸²æŸ“å‡ºæ¥ï¼Œå¥½äº†ï¼Œè¿™ä¸ªåŠŸèƒ½å®Œæˆäº†ğŸ˜ã€‚</p>
<p>è‡³äºï¼š</p>
<ul>
<li>åˆ—è¡¨çš„è™šæ‹Ÿæ»šåŠ¨åšäº†å—ï¼Ÿ</li>
<li>å›¾ç‰‡çš„æ‡’åŠ è½½åšäº†å—ï¼Ÿ</li>
<li>æŒ‰é’®çš„<code>loading</code>å’Œ<code>disabled</code>çŠ¶æ€ï¼Œåœ¨APIè¯·æ±‚æ—¶åŠ äº†å—ï¼Ÿ</li>
<li>é¡µé¢åˆ‡æ¢çš„éª¨æ¶å±åšäº†å—ï¼Ÿ</li>
<li>å¼±ç½‘ç¯å¢ƒä¸‹çš„è¶…æ—¶å’Œé‡è¯•é€»è¾‘å†™äº†å—ï¼Ÿ</li>
<li>UIæµ‹è¯•å‘¢ï¼Ÿ</li>
</ul>
<p><strong>æŠ±æ­‰ï¼Œæ²¡æ—¶é—´ã€‚æˆ‘è¿˜è¦å»å†™BFFå±‚çš„å•å…ƒæµ‹è¯•ã€‚</strong></p>
<p><strong>2.æ— éšœç¢ï¼Œå¯è®¿é—®æ€§ï¼ˆa11yï¼‰</strong></p>
<p>ä½ çŒœä¸€ä¸ªå…¨æ ˆï¼Œåœ¨ç”¨ <code>&lt;div&gt;</code> è¿˜æ˜¯ <code>&lt;button&gt;</code> æ¥å®ç°ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œä¼šæ€è€ƒ <code>aria-*</code> å±æ€§å—ï¼Ÿä»–ä¼šå…³å¿ƒTabé”®çš„ç„¦ç‚¹é¡ºåºå—ï¼Ÿ</p>
<p><strong>æ ¹æœ¬ä¸ä¼šã€‚</strong></p>
<p>å› ä¸ºå¯è®¿é—®æ€§è¿™ä¸ªä¸œè¥¿ï¼Œæ˜¯çº¯ç²¹çš„çº¯å‰ç«¯èŒƒå›´ï¼Œå®ƒä¸å±äºå…¨æ ˆèƒ½åŠ›èŒƒå›´ã€‚</p>
<p><strong>3. æ€§èƒ½ä¼˜åŒ–</strong></p>
<p>å½“ä¸€ä¸ªå…¨æ ˆå·¥ç¨‹å¸ˆçš„æ³¨æ„åŠ›ï¼Œè¢«æ•°æ®åº“ç´¢å¼•ã€Nginxç¼“å­˜ã€Dockeré•œåƒå¤§å°ç»™å æ»¡æ—¶ï¼Œä»–è¿˜æœ‰å¤šå°‘è„‘å®¹é‡ï¼Œå»å…³å¿ƒLCPã€CLSã€Tree Shakingã€Code Splittingï¼Ÿ</p>
<p><code>useMemo</code>ï¼Ÿ<code>PureComponent</code>ï¼Ÿèƒ½è·‘å°±è¡Œäº†ï¼Œåˆ«æé‚£ä¹ˆå¤æ‚ã€‚</p>
<p><strong>å‰ç«¯ï¼Œæ­£åœ¨ä»ç”¨æˆ·ä½“éªŒçš„ç¬¬ä¸€è´Ÿè´£äººï¼Œè¢«é™ç»´æˆäº†å…¨æ ˆæµç¨‹çš„æœ€åä¸€ä¸ªç¯èŠ‚â€”â€”é‚£ä¸ªæŠŠæ•°æ®æ˜¾ç¤ºå‡ºæ¥UIå°±è¡Œã€‚</strong></p>
<hr/>
<h4 data-id="heading-2"><strong>ä¸€ä¸ªå‰ç«¯çš„ä¸“ä¸šæ€§</strong></h4>
<p>æœ€è®©æˆ‘å‘æ…Œçš„ï¼Œæ˜¯ä¸€ç§é£æ°”çš„è½¬å˜ã€‚</p>
<p>äº”å¹´å‰ï¼Œæˆ‘ä»¬å›¢é˜Ÿï¼Œä¼šä¸ºä¸€ä¸ª<strong>å¦‚ä½•æŠŠç™½å±æ—¶é—´å†å‡å°‘100ms</strong>çš„è®®é¢˜ï¼Œåœ¨ç™½æ¿å‰åµä¸€ä¸ªä¸‹åˆã€‚æˆ‘ä»¬ä¼šä¸º<strong>è¯¥ç”¨<code>padding</code>è¿˜æ˜¯<code>margin</code>æ¥å®ç°é—´è·</strong> è¿™ç§åƒç´ çº§çš„ç»†èŠ‚ï¼Œåœ¨CRï¼ˆCode Reviewï¼‰é‡Œåµæ¶ã€‚</p>
<p>ç°åœ¨å‘¢ï¼Ÿ</p>
<p>CRæ—¶ï¼Œå¤§å®¶éƒ½åœ¨èŠï¼šä½ è¿™ä¸ªBFFçš„Controllerå±‚ï¼Œä¸è¯¥å†™ä¸šåŠ¡é€»è¾‘ã€ä½ è¿™ä¸ªæ•°æ®åº“ç±»å‹å®šä¹‰ä¸è§„èŒƒã€‚</p>
<p><strong>æ²¡äººå†å…³å¿ƒé‚£ä¸ªå‰ç«¯æŒ‰é’®é€»è¾‘äº†ã€‚</strong></p>
<p>å…¨æ ˆï¼Œæ­£åœ¨æ€æ­»å‰ç«¯çš„ä¸“ä¸šæ€§ã€‚å®ƒè®©å‰ç«¯è¿™ä¸ªèŒä¸šï¼Œå˜å¾—ä¸å†çº¯ç²¹ï¼Œä¸å†ä¸“æ³¨ä¸€ä¸ªé¢†åŸŸã€‚</p>
<hr/>
<h4 data-id="heading-3"><strong>æˆ‘ä¸æƒ³åšå…¨æ ˆå¼€å‘ğŸ˜ </strong></h4>
<p>èŠäº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä¸æ˜¯åœ¨è´©å–ç„¦è™‘ï¼Œä¹Ÿä¸æ˜¯åœ¨æŠµåˆ¶å­¦ä¹ åç«¯çŸ¥è¯†ã€‚</p>
<p>ä½œä¸º8å¹´è€å‰ç«¯ï¼Œæˆ‘ç°åœ¨ç»™è‡ªå·±çš„å®šä½æ˜¯ï¼š<strong>ä¸€ä¸ªTå‹å‰ç«¯å·¥ç¨‹å¸ˆã€‚</strong></p>
<p>æˆ‘å¿…é¡»æ˜¯å›¢é˜Ÿé‡Œï¼Œå¯¹æµè§ˆå™¨æ¸²æŸ“åŸç†ã€JSæ€§èƒ½ä¼˜åŒ–ã€CSSå¸ƒå±€ã€ç»„ä»¶åŒ–æ¶æ„ã€å¯è®¿é—®æ€§ç†è§£æœ€æ·±çš„é‚£ä¸ªäººã€‚è¿™æ˜¯æˆ‘çš„å‰ç«¯èº«ä»½ï¼Œæ˜¯æˆ‘çš„æŠ€èƒ½ã€‚</p>
<p>æˆ‘æ‡‚Node.jsï¼Œæ˜¯ä¸ºäº†èƒ½å’Œåç«¯åµæ¶æ—¶ï¼Œæå‡ºæ›´åˆç†çš„BFFæ¥å£è®¾è®¡ã€‚</p>
<p>æˆ‘æ‡‚Dockerï¼Œæ˜¯ä¸ºäº†èƒ½ç†è§£æˆ‘çš„ä»£ç ï¼Œæ˜¯å¦‚ä½•åœ¨CI/CDä¸Šé—ªé€€çš„ã€‚</p>
<p>æˆ‘æ‡‚SQLï¼Œæ˜¯ä¸ºäº†èƒ½ç†è§£ä¸ºä»€ä¹ˆæˆ‘çš„ä¸€ä¸ªæŸ¥è¯¢ï¼Œä¼šå¯¼è‡´æŸ¥è¯¢æ…¢ã€‚</p>
<hr/>
<p>è¯·å¤§å®¶åˆ«å†ç¥è¯å…¨æ ˆäº†ğŸ˜’ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533b70c9236940c8819809215bc94615~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXJwYW5PbWVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763972142&amp;x-signature=A7U8o8c6C9mMuLLE5cHg7Wrw%2F7M%3D" alt="Suggestion.gif" loading="lazy"/></p>
<p>å…¨æ ˆçš„å°½å¤´ï¼Œå¾ˆå¯èƒ½æ˜¯å…¨åºŸäº†ï¼Œè¿™ä¸ªä¹Ÿä¸ç²¾ï¼Œé‚£ä¸ªä¹Ÿä¸ç²¾ã€‚</p>
<p>æˆ‘å®æ„¿è¦åšä¸€ä¸ª95åˆ†çš„å‰ç«¯ä¸“å®¶ï¼Œå’Œä¸€ä¸ª95åˆ†çš„åç«¯ä¸“å®¶ï¼Œè®©ä»–ä»¬å¼ºå¼ºè”æ‰‹ï¼›</p>
<p>ä¹Ÿä¸æƒ³è¦ä¸¤ä¸ªåŠæ ¼çš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œæœ€ç»ˆäº¤ä»˜ä¸€ä¸ª50åˆ†çš„ã€èƒ½è·‘å°±è¡Œçš„åƒåœ¾ä»£ç ğŸ’©ã€‚</p>
<p>æ¬¢å‘¼å¤§å®¶ï¼Œå°Šé‡å‰ç«¯è¿™ä¸ªèŒä¸šçš„ä¸“ä¸šæ€§ã€‚</p>
<p>è°¢è°¢ğŸ™Œ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Set å’Œ Mapå¸¸ç”¨åœºæ™¯ä»£ç ç‰‡æ®µ]]></title>    <link>https://juejin.cn/post/7573468493569179684</link>    <guid>https://juejin.cn/post/7573468493569179684</guid>    <pubDate>2025-11-17T08:23:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573468493569179684" data-draft-id="7571490332372172819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Set å’Œ Mapå¸¸ç”¨åœºæ™¯ä»£ç ç‰‡æ®µ"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-17T08:23:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MoMoDad"/> <meta itemprop="url" content="https://juejin.cn/user/2788017221151342"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Set å’Œ Mapå¸¸ç”¨åœºæ™¯ä»£ç ç‰‡æ®µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2788017221151342/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MoMoDad
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:23:48.000Z" title="Mon Nov 17 2025 08:23:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€Set å®ç”¨ä»£ç ç‰‡æ®µ</h3>
<h4 data-id="heading-1">1. æ•°ç»„å»é‡ï¼ˆåŸºç¡€ç‰ˆï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šæ¥å£è¿”å›æ•°ç»„ã€ç”¨æˆ·è¾“å…¥åˆ—è¡¨ç­‰éœ€è¦å¿«é€Ÿå»é‡ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ•°ç»„å»é‡ï¼ˆæ”¯æŒåŸºæœ¬ç±»å‹ï¼Œå¼•ç”¨ç±»å‹éœ€é¢å¤–å¤„ç†ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">arr</span> - å¾…å»é‡æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Array</span>} å»é‡åæ•°ç»„
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">uniqueArray</span> = (<span class="hljs-params">arr</span>) =&gt; [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)];

<span class="hljs-comment">// ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'a'</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">uniqueArray</span>(arr)); <span class="hljs-comment">// [1, 2, 3, 'a']</span>
</code></pre>
<h4 data-id="heading-2">2. æ£€æŸ¥æ•°ç»„æ˜¯å¦æœ‰é‡å¤å…ƒç´ </h4>
<p><strong>åœºæ™¯</strong>ï¼šè¡¨å•éªŒè¯ï¼ˆå¦‚ â€œæ ‡ç­¾ä¸å¯é‡å¤â€ï¼‰ã€æ•°æ®æ ¡éªŒã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ 
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">arr</span> - å¾…æ£€æŸ¥æ•°ç»„
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦æœ‰é‡å¤
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">hasDuplicates</span> = (<span class="hljs-params">arr</span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr).<span class="hljs-property">size</span> !== arr.<span class="hljs-property">length</span>;

<span class="hljs-comment">// ç¤ºä¾‹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hasDuplicates</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])); <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hasDuplicates</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])); <span class="hljs-comment">// true</span>
</code></pre>
<h4 data-id="heading-3">3. é›†åˆæ“ä½œï¼ˆäº¤é›† / å¹¶é›† / å·®é›†ï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šæƒé™å¯¹æ¯”ï¼ˆå¦‚ â€œç”¨æˆ·æƒé™ä¸è§’è‰²æƒé™çš„äº¤é›†â€ï¼‰ã€æ•°æ®ç­›é€‰ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">// äº¤é›†ï¼šä¸¤ä¸ªæ•°ç»„çš„å…±åŒå…ƒç´ 
const <span class="hljs-attr">intersection</span> = (arr1, arr2) =&gt; {
  const <span class="hljs-attr">set2</span> = new Set(arr2)<span class="hljs-comment">;</span>
  return arr1.filter(<span class="hljs-attr">item</span> =&gt; set2.has(item))<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// å¹¶é›†ï¼šä¸¤ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼ˆå»é‡ï¼‰
const <span class="hljs-attr">union</span> = (arr1, arr2) =&gt; [...new Set([...arr1, ...arr2])]<span class="hljs-comment">;</span>

// å·®é›†ï¼šarr1 æœ‰ä½† arr2 æ²¡æœ‰çš„å…ƒç´ 
const <span class="hljs-attr">difference</span> = (arr1, arr2) =&gt; {
  const <span class="hljs-attr">set2</span> = new Set(arr2)<span class="hljs-comment">;</span>
  return arr1.filter(<span class="hljs-attr">item</span> =&gt; !set2.has(item))<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// ç¤ºä¾‹
const <span class="hljs-attr">a</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
const <span class="hljs-attr">b</span> = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<span class="hljs-comment">;</span>
console.log(intersection(a, b))<span class="hljs-comment">; // [2, 3]</span>
console.log(union(a, b))<span class="hljs-comment">; // [1, 2, 3, 4]</span>
console.log(difference(a, b))<span class="hljs-comment">; // [1]</span>
</code></pre>
<h4 data-id="heading-4">4. ä¸´æ—¶å­˜å‚¨ â€œå·²å¤„ç†é¡¹â€ï¼ˆé¿å…é‡å¤æ“ä½œï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šæ‰¹é‡å¤„ç†æ•°æ®æ—¶è®°å½•å·²å¤„ç† IDï¼Œé˜²æ­¢é‡å¤è¯·æ±‚ / è®¡ç®—ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è®°å½•å·²å¤„ç†çš„ä»»åŠ¡ID</span>
const processedTaskIds = new <span class="hljs-built_in">Set</span>();

<span class="hljs-comment">/**
 * å¤„ç†ä»»åŠ¡ï¼ˆä»…å¤„ç†æœªå¤„ç†è¿‡çš„ï¼‰
 * @param {number} taskId - ä»»åŠ¡ID
 */</span>
const processTask = (taskId) =&gt; {
  if (processedTaskIds.has(taskId)) {
    console<span class="hljs-selector-class">.log</span>(`ä»»åŠ¡ ${taskId} å·²å¤„ç†ï¼Œè·³è¿‡`);
    return;
  }
  <span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†é€»è¾‘</span>
  console<span class="hljs-selector-class">.log</span>(`å¤„ç†ä»»åŠ¡ ${taskId}`);
  processedTaskIds<span class="hljs-selector-class">.add</span>(taskId);
};

<span class="hljs-comment">// ç¤ºä¾‹</span>
<span class="hljs-built_in">processTask</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// å¤„ç†ä»»åŠ¡ 1</span>
<span class="hljs-built_in">processTask</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// ä»»åŠ¡ 1 å·²å¤„ç†ï¼Œè·³è¿‡</span>
<span class="hljs-built_in">processTask</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// å¤„ç†ä»»åŠ¡ 2</span>
</code></pre>
<h3 data-id="heading-5">äºŒã€Map å®ç”¨ä»£ç ç‰‡æ®µ</h3>
<h4 data-id="heading-6">1. å¤æ‚é”®åæ˜ å°„ï¼ˆæ›¿ä»£å¯¹è±¡çš„å±€é™æ€§ï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šç”¨å¯¹è±¡ï¼ˆå¦‚ DOM å…ƒç´ ã€å®ä¾‹ï¼‰ä½œä¸ºé”®å­˜å‚¨æ•°æ®ï¼ˆå¯¹è±¡çš„é”®ä¼šè¢«è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œæ— æ³•ç›´æ¥ç”¨å¯¹è±¡å½“é”®ï¼‰ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åœºæ™¯ï¼šç»™DOMå…ƒç´ ç»‘å®šé¢å¤–æ•°æ®ï¼ˆå¦‚ç‚¹å‡»æ¬¡æ•°ã€çŠ¶æ€ï¼‰</span>
<span class="hljs-keyword">const</span> elementData = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>();

<span class="hljs-comment">// è·å–DOMå…ƒç´ </span>
<span class="hljs-keyword">const</span> btn = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'submit-btn'</span>);
<span class="hljs-keyword">const</span> input = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'username-input'</span>);

<span class="hljs-comment">// å­˜å‚¨æ•°æ®ï¼ˆé”®ä¸ºDOMå…ƒç´ ï¼Œå€¼ä¸ºä»»æ„ç±»å‹ï¼‰</span>
elementData.<span class="hljs-keyword">set</span>(btn, { clickCount: <span class="hljs-number">0</span>, disabled: <span class="hljs-keyword">false</span> });
elementData.<span class="hljs-keyword">set</span>(input, { value: <span class="hljs-string">''</span>, touched: <span class="hljs-keyword">false</span> });

<span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
btn.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> data = elementData.<span class="hljs-keyword">get</span>(btn);
  elementData.<span class="hljs-keyword">set</span>(btn, { ...data, clickCount: data.clickCount + <span class="hljs-number">1</span> });
  console.log(`æŒ‰é’®ç‚¹å‡»æ¬¡æ•°ï¼š${elementData.<span class="hljs-keyword">get</span>(btn).clickCount}`);
});
</code></pre>
<h4 data-id="heading-7">2. æ¥å£æ•°æ®ç¼“å­˜ï¼ˆé¿å…é‡å¤è¯·æ±‚ï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šåŒä¸€å‚æ•°çš„æ¥å£è¯·æ±‚ï¼Œä¼˜å…ˆè¿”å›ç¼“å­˜æ•°æ®ï¼Œå‡å°‘æ¥å£è°ƒç”¨ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * å¸¦ç¼“å­˜çš„æ¥å£è¯·æ±‚å·¥å…·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">fetchFn</span> - å®é™…è¯·æ±‚å‡½æ•°ï¼ˆè¿”å›Promiseï¼‰
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Function</span>} åŒ…è£…åçš„è¯·æ±‚å‡½æ•°
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">withCache</span> = (<span class="hljs-params">fetchFn</span>) =&gt; {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// ç¼“å­˜ï¼šé”®ä¸ºå‚æ•°å­—ç¬¦ä¸²ï¼Œå€¼ä¸ºè¯·æ±‚ç»“æœ</span>

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> (...args) =&gt; {
    <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€ç¼“å­˜é”®ï¼ˆå°†å‚æ•°è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œæ”¯æŒå¤šå‚æ•°ï¼‰</span>
    <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args);

    <span class="hljs-comment">// å‘½ä¸­ç¼“å­˜ï¼šç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(cacheKey)) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ç¼“å­˜æ•°æ®'</span>);
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(cacheKey);
    }

    <span class="hljs-comment">// æœªå‘½ä¸­ï¼šè¯·æ±‚å¹¶ç¼“å­˜</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‘èµ·æ–°è¯·æ±‚'</span>);
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchFn</span>(...args);
    cache.<span class="hljs-title function_">set</span>(cacheKey, result);
    <span class="hljs-keyword">return</span> result;
  };
};

<span class="hljs-comment">// ç¤ºä¾‹ï¼šåŒ…è£…ä¸€ä¸ªè·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchUser</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">userId</span>) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${userId}</span>`</span>);
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();
};

<span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜ç‰ˆè¯·æ±‚</span>
<span class="hljs-keyword">const</span> fetchUserWithCache = <span class="hljs-title function_">withCache</span>(fetchUser);

<span class="hljs-comment">// ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ˆæ— ç¼“å­˜ï¼‰</span>
<span class="hljs-title function_">fetchUserWithCache</span>(<span class="hljs-number">1</span>); 
<span class="hljs-comment">// ç¬¬äºŒæ¬¡è¯·æ±‚åŒä¸€ç”¨æˆ·ï¼ˆç”¨ç¼“å­˜ï¼‰</span>
<span class="hljs-title function_">fetchUserWithCache</span>(<span class="hljs-number">1</span>); 
</code></pre>
<h4 data-id="heading-8">3. å¤šç»´åº¦æ•°æ®æ˜ å°„ï¼ˆå¿«é€ŸæŸ¥è¯¢ï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šåŒä¸€ä»½æ•°æ®éœ€è¦é€šè¿‡å¤šä¸ª â€œé”®â€ æŸ¥è¯¢ï¼ˆå¦‚ç”¨æˆ·ä¿¡æ¯å¯é€šè¿‡ IDã€æ‰‹æœºå·ã€ç”¨æˆ·åæŸ¥è¯¢ï¼‰ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åŸå§‹ç”¨æˆ·æ•°æ®</span>
<span class="hljs-keyword">const</span> users = [
  { id: <span class="hljs-number">1</span>, name: <span class="hljs-string">'å¼ ä¸‰'</span>, phone: <span class="hljs-string">'13800138000'</span> },
  { id: <span class="hljs-number">2</span>, name: <span class="hljs-string">'æå››'</span>, phone: <span class="hljs-string">'13900139000'</span> }
];

<span class="hljs-comment">// æ„å»ºå¤šç»´åº¦æ˜ å°„</span>
<span class="hljs-keyword">const</span> userMaps = {
  byId: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(),    <span class="hljs-comment">// é”®ï¼šid</span>
  byName: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(),  <span class="hljs-comment">// é”®ï¼šname</span>
  byPhone: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()  <span class="hljs-comment">// é”®ï¼šphone</span>
};

users.forEach(user =&gt; {
  userMaps.byId.<span class="hljs-keyword">set</span>(user.id, user);
  userMaps.byName.<span class="hljs-keyword">set</span>(user.name, user);
  userMaps.byPhone.<span class="hljs-keyword">set</span>(user.phone, user);
});

<span class="hljs-comment">// å¿«é€ŸæŸ¥è¯¢ç¤ºä¾‹</span>
console.log(userMaps.byId.<span class="hljs-keyword">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// {id:1, name:'å¼ ä¸‰', ...}</span>
console.log(userMaps.byPhone.<span class="hljs-keyword">get</span>(<span class="hljs-string">'13900139000'</span>)); <span class="hljs-comment">// {id:2, ...}</span>
</code></pre>
<h4 data-id="heading-9">4. æœ‰åºé”®å€¼å¯¹éå†ï¼ˆä¿ç•™æ’å…¥é¡ºåºï¼‰</h4>
<p><strong>åœºæ™¯</strong>ï¼šéœ€è¦æŒ‰ â€œæ’å…¥é¡ºåºâ€ éå†é”®å€¼å¯¹ï¼ˆå¯¹è±¡çš„é”®éå†é¡ºåºä¸ç¨³å®šï¼Œå°¤å…¶æ˜¯æ•°å­—é”®ï¼‰ã€‚</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœºæ™¯ï¼šæŒ‰ç”¨æˆ·æ“ä½œé¡ºåºè®°å½•æ—¥å¿—ï¼ˆéœ€ä¿ç•™é¡ºåºï¼‰</span>
<span class="hljs-keyword">const</span> actionLog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">// æŒ‰é¡ºåºæ’å…¥æ“ä½œ</span>
actionLog.<span class="hljs-title function_">set</span>(<span class="hljs-string">'login'</span>, { <span class="hljs-attr">time</span>: <span class="hljs-string">'09:00'</span>, <span class="hljs-attr">user</span>: <span class="hljs-string">'å¼ ä¸‰'</span> });
actionLog.<span class="hljs-title function_">set</span>(<span class="hljs-string">'view'</span>, { <span class="hljs-attr">time</span>: <span class="hljs-string">'09:05'</span>, <span class="hljs-attr">page</span>: <span class="hljs-string">'é¦–é¡µ'</span> });
actionLog.<span class="hljs-title function_">set</span>(<span class="hljs-string">'logout'</span>, { <span class="hljs-attr">time</span>: <span class="hljs-string">'10:00'</span>, <span class="hljs-attr">user</span>: <span class="hljs-string">'å¼ ä¸‰'</span> });

<span class="hljs-comment">// æŒ‰æ’å…¥é¡ºåºéå†ï¼ˆMap ä¼šä¿ç•™æ’å…¥é¡ºåºï¼‰</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [action, detail] <span class="hljs-keyword">of</span> actionLog) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${action}</span>ï¼š<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(detail)}</span>`</span>);
}
<span class="hljs-comment">// è¾“å‡ºé¡ºåºï¼šlogin â†’ view â†’ logoutï¼ˆä¸æ’å…¥é¡ºåºä¸€è‡´ï¼‰</span>
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€ä½¿ç”¨å°è´´å£«</h3>
<ol>
<li>
<p><strong>é€‰æ‹© Set è¿˜æ˜¯ Map</strong>ï¼Ÿ</p>
<ul>
<li>åªéœ€è¦ â€œå”¯ä¸€å…ƒç´ é›†åˆâ€ â†’ ç”¨ Setï¼›</li>
<li>éœ€è¦ â€œé”®å€¼å¯¹æ˜ å°„â€ï¼ˆå°¤å…¶æ˜¯å¤æ‚é”®ï¼‰ â†’ ç”¨ Mapã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½è€ƒé‡</strong>ï¼š</p>
<ul>
<li>Set/Map çš„Â <code>has</code>/<code>get</code>/<code>set</code>Â æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸º O (1)ï¼Œæ¯”æ•°ç»„çš„Â <code>indexOfã€includes</code>ç­‰ï¼ˆO (n)ï¼‰æ›´é«˜æ•ˆï¼Œæ•°æ®é‡å¤§æ—¶ä¼˜å…ˆä½¿ç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>è½¬æ¢æŠ€å·§</strong>ï¼š</p>
<ul>
<li>Set è½¬æ•°ç»„ï¼š<code>[...mySet]</code>Â æˆ–Â <code>Array.from(mySet)</code>ï¼›</li>
<li>Map è½¬å¯¹è±¡ï¼ˆé”®ä¸ºå­—ç¬¦ä¸²æ—¶ï¼‰ï¼š<code>Object.fromEntries(myMap)</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è½¬æ¢æŠ€å·§</strong>ï¼š</p>
<ul>
<li>Set/Map çš„Â <code>has</code>/<code>get</code>/<code>set</code>Â æ“ä½œéƒ½æ˜¯ O (1)ï¼Œæ¯”æ•°ç»„Â <code>indexOf</code>ï¼ˆO (n)ï¼‰ã€å¯¹è±¡å¾ªç¯æŸ¥è¯¢å¿«ï¼Œ<strong>æ•°æ®é‡å¤§ï¼ˆ&gt;100ï¼‰æ—¶ä¼˜å…ˆç”¨</strong>ã€‚</li>
<li>ä¸´æ—¶ç¼“å­˜ï¼ˆæ¯”å¦‚æ¥å£ç¼“å­˜ï¼‰å¦‚æœä¸éœ€è¦æŒä¹…åŒ–ï¼Œç”¨ Map å³å¯ï¼›éœ€è¦æŒä¹…åŒ–åˆ° localStorageï¼Œè¦å…ˆè½¬æˆæ•°ç»„ / å¯¹è±¡ï¼ˆå› ä¸º localStorage åªèƒ½å­˜å­—ç¬¦ä¸²ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é¿å‘æé†’</strong></p>
<ul>
<li>Set å­˜å¼•ç”¨ç±»å‹ï¼ˆå¯¹è±¡ã€æ•°ç»„ï¼‰æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨å»é‡ï¼ˆå› ä¸ºå¼•ç”¨åœ°å€ä¸åŒï¼‰ï¼Œæ¯”å¦‚Â <code>new Set([{a:1}, {a:1}])</code>Â ä¼šå­˜ä¸¤ä¸ªå¯¹è±¡ã€‚</li>
<li>Map çš„é”®æ˜¯ â€œå¼•ç”¨ç›¸ç­‰â€ï¼Œæ¯”å¦‚Â <code>map.set({}, 1)</code>Â å’ŒÂ <code>map.set({}, 2)</code>Â æ˜¯ä¸¤ä¸ªä¸åŒçš„é”®ï¼ˆå¯¹è±¡å¼•ç”¨ä¸åŒï¼‰ã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ä»£ç ä¸€é”®æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨ï¼Ÿ10åˆ†é’Ÿé…å¥½æ°¸ä¹…å‘Šåˆ«æ‰‹åŠ¨éƒ¨ç½²ï¼]]></title>    <link>https://juejin.cn/post/7573299401046802478</link>    <guid>https://juejin.cn/post/7573299401046802478</guid>    <pubDate>2025-11-17T08:26:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573299401046802478" data-draft-id="7573506713865682995" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ä»£ç ä¸€é”®æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨ï¼Ÿ10åˆ†é’Ÿé…å¥½æ°¸ä¹…å‘Šåˆ«æ‰‹åŠ¨éƒ¨ç½²ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2025-11-17T08:26:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰‘æ£±è›¾å­"/> <meta itemprop="url" content="https://juejin.cn/user/2823201593493790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ä»£ç ä¸€é”®æ‰“åŒ…ä¸Šä¼ æœåŠ¡å™¨ï¼Ÿ10åˆ†é’Ÿé…å¥½æ°¸ä¹…å‘Šåˆ«æ‰‹åŠ¨éƒ¨ç½²ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2823201593493790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰‘æ£±è›¾å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:26:46.000Z" title="Mon Nov 17 2025 08:26:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>æäº†ä¸€ä¸ªæœåŠ¡å™¨å‡†å¤‡æŠ˜è…¾ä¸€ä¸‹ï¼Œä½†æ˜¯æ¯æ¬¡æ‰“åŒ…ç”¨FTPä¸€ä¸ªä¸ªä¼ æ–‡ä»¶å¤ªéº»çƒ¦äº†ã€‚
å—ä¸äº†äºæ˜¯å‡†å¤‡æä¸ªè„šæœ¬è‡ªåŠ¨éƒ¨ç½²ä¸‹ã€‚</p>
<p>äºæ˜¯ä¹ï¼Œæˆ‘ä»Šå¤©æ•™ä½ é…ä¸€å¥—<strong>è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬</strong>ï¼Œä»¥åæ”¹å®Œä»£ç ç›´æ¥ä¸€ä¸ªå‘½ä»¤<code>npm run deploy</code>ï¼Œå–æ¯å’–å•¡ååˆ†é’Ÿçš„åŠŸå¤«ï¼Œå°±è‡ªåŠ¨æ‰“åŒ…éƒ¨ç½²å®Œäº†ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šé…ç½®å…å¯†ç™»å½•</h2>
<p>è®©æœ¬åœ°ç”µè„‘å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¿¡ä»»å…³ç³»ï¼Œä¸ç„¶æ¯æ¬¡ä¸Šä¼ éƒ½è¦è¾“å¯†ç ï¼Œçƒ¦éƒ½çƒ¦æ­»ã€‚</p>
<p><strong>æœ¬åœ°ç”Ÿæˆå¯†é’¥</strong>ï¼ˆå¦‚æœä½ ä¹‹å‰æ²¡æè¿‡çš„è¯ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ssh-keygen -t rsa -b 4096 -C â€œyour-email@example.comâ€
</code></pre>
<p>ä¸€è·¯å›è½¦å°±è¡Œã€‚è¿™å°±åƒç»™ä½ çš„ç”µè„‘åŠäº†å¼ èº«ä»½è¯ã€‚</p>
<p><strong>æŸ¥çœ‹åˆšç”Ÿæˆçš„å¯†é’¥</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> ~/.ssh/id_rsa.pub
</code></pre>
<p>ä¼šå‡ºæ¥ä¸€é•¿ä¸²å­—ç¬¦ï¼Œå…¨é€‰å¤åˆ¶å®ƒï¼è¿™æ˜¯ä½ ç”µè„‘çš„â€œèº«ä»½è¯å·â€ã€‚</p>
<p><strong>ç™»å½•æœåŠ¡å™¨æ·»åŠ ä¿¡ä»»</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ssh username@your-server-ip
</code></pre>
<p>è¾“å®Œå¯†ç è¿›å»åï¼Œæ‰§è¡Œä¸‹é¢è¿™å‡ æ¡å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå­˜æ”¾å¯†é’¥çš„æ–‡ä»¶å¤¹</span>
<span class="hljs-built_in">mkdir</span> -p ~/.ssh

<span class="hljs-comment"># è®¾ç½®æ–‡ä»¶å¤¹æƒé™</span>
<span class="hljs-built_in">chmod</span> 700 ~/.ssh

<span class="hljs-comment"># æŠŠåˆšæ‰å¤åˆ¶çš„å…¬é’¥ç²˜è´´è¿›å»</span>
<span class="hljs-built_in">echo</span> â€œç²˜è´´ä½ åˆšæ‰å¤åˆ¶çš„é‚£ä¸€é•¿ä¸²â€ &gt;&gt; ~/.ssh/authorized_keys

<span class="hljs-comment"># è®¾ç½®å¯†é’¥æ–‡ä»¶æƒé™</span>
<span class="hljs-built_in">chmod</span> 600 ~/.ssh/authorized_keys
</code></pre>
<blockquote>
<p><strong>æµ‹è¯•ä¸€ä¸‹æœ‰æ²¡æœ‰é…å¥½</strong>ï¼šé€€å‡ºæœåŠ¡å™¨åé‡æ–°æ‰§è¡Œ<code>ssh username@your-server-ip</code>ï¼Œå¦‚æœä¸ç”¨è¾“å¯†ç ç›´æ¥è¿›å»äº†ï¼Œé‚£å°±æˆäº†ï¼</p>
</blockquote>
<h2 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²è„šæœ¬</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª<code>deployã€‚js</code>æ–‡ä»¶ï¼Œç›´æ¥æŠŠä¸‹é¢ä»£ç å¤åˆ¶è¿›å»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// deploy.js - å®Œæ•´çš„éƒ¨ç½²è„šæœ¬ï¼ˆç›´æ¥ä¸Šä¼ æ–‡ä»¶ç‰ˆæœ¬ï¼‰</span>
<span class="hljs-keyword">import</span> { execSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'child_process'</span>
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-comment">// é…ç½®ä¿¡æ¯ - æ ¹æ®ä½ çš„å®é™…æƒ…å†µä¿®æ”¹</span>
<span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">server</span>: <span class="hljs-string">'username@your-server-ip'</span>, <span class="hljs-comment">// æ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨ä¿¡æ¯</span>
  <span class="hljs-attr">deployPath</span>: <span class="hljs-string">'yourpath'</span>
}

<span class="hljs-comment">// å½©è‰²æ—¥å¿—</span>
<span class="hljs-keyword">const</span> colors = {
  <span class="hljs-attr">reset</span>: <span class="hljs-string">'\x1b[0m'</span>,
  <span class="hljs-attr">red</span>: <span class="hljs-string">'\x1b[31m'</span>,
  <span class="hljs-attr">green</span>: <span class="hljs-string">'\x1b[32m'</span>,
  <span class="hljs-attr">yellow</span>: <span class="hljs-string">'\x1b[33m'</span>,
  <span class="hljs-attr">blue</span>: <span class="hljs-string">'\x1b[34m'</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">message, color = colors.reset</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(color + message + colors.<span class="hljs-property">reset</span>)
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">runCommand</span>(<span class="hljs-params">command, description</span>) {
  <span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ“ <span class="hljs-subst">${description}</span>`</span>, colors.<span class="hljs-property">blue</span>)
  <span class="hljs-title function_">log</span>(<span class="hljs-string">`  æ‰§è¡Œ: <span class="hljs-subst">${command}</span>`</span>, colors.<span class="hljs-property">yellow</span>)

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> output = <span class="hljs-title function_">execSync</span>(command, { <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span> })
    <span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… <span class="hljs-subst">${description}</span> æˆåŠŸ`</span>, colors.<span class="hljs-property">green</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-title function_">log</span>(<span class="hljs-string">`âŒ <span class="hljs-subst">${description}</span> å¤±è´¥: <span class="hljs-subst">${error.message}</span>`</span>, colors.<span class="hljs-property">red</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
}

<span class="hljs-comment">// é€’å½’è·å–ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAllFiles</span>(<span class="hljs-params">dirPath, arrayOfFiles = []</span>) {
  <span class="hljs-keyword">const</span> files = fs.<span class="hljs-title function_">readdirSync</span>(dirPath)

  files.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">file</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> fullPath = path.<span class="hljs-title function_">join</span>(dirPath, file)
    <span class="hljs-keyword">if</span> (fs.<span class="hljs-title function_">statSync</span>(fullPath).<span class="hljs-title function_">isDirectory</span>()) {
      arrayOfFiles = <span class="hljs-title function_">getAllFiles</span>(fullPath, arrayOfFiles)
    } <span class="hljs-keyword">else</span> {
      arrayOfFiles.<span class="hljs-title function_">push</span>(fullPath)
    }
  })

  <span class="hljs-keyword">return</span> arrayOfFiles
}

<span class="hljs-comment">// ä¸»éƒ¨ç½²å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deploy</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ å¼€å§‹ç›´æ¥æ–‡ä»¶ä¸Šä¼ éƒ¨ç½²æµç¨‹'</span>, colors.<span class="hljs-property">blue</span>)
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'='</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>))

  <span class="hljs-comment">// 1. æ£€æŸ¥ dist ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™æ„å»º</span>
  <span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-string">'dist'</span>)) {
    <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“¦ dist ç›®å½•ä¸å­˜åœ¨ï¼Œå¼€å§‹æ„å»ºé¡¹ç›®...'</span>, colors.<span class="hljs-property">yellow</span>)
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">'npm run build'</span>, <span class="hljs-string">'é¡¹ç›®æ„å»º'</span>)) {
      <span class="hljs-keyword">return</span>
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“¦ å‘ç°å·²å­˜åœ¨çš„ dist ç›®å½•ï¼Œè·³è¿‡æ„å»º'</span>, colors.<span class="hljs-property">green</span>)
  }

  <span class="hljs-comment">// 2. è·å– dist ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“‹ æ‰«æ dist ç›®å½•ä¸­çš„æ–‡ä»¶...'</span>, colors.<span class="hljs-property">blue</span>)
  <span class="hljs-keyword">const</span> distFiles = <span class="hljs-title function_">getAllFiles</span>(<span class="hljs-string">'dist'</span>)
  <span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ“„ æ‰¾åˆ° <span class="hljs-subst">${distFiles.length}</span> ä¸ªæ–‡ä»¶éœ€è¦ä¸Šä¼ `</span>, colors.<span class="hljs-property">green</span>)

  <span class="hljs-comment">// 3. æµ‹è¯•æœåŠ¡å™¨è¿æ¥</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ”— æµ‹è¯•æœåŠ¡å™¨è¿æ¥...'</span>, colors.<span class="hljs-property">blue</span>);
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">`ssh -o ConnectTimeout=10 <span class="hljs-subst">${config.server}</span> "echo 'è¿æ¥æˆåŠŸ'; exit"`</span>, <span class="hljs-string">'æµ‹è¯•SSHè¿æ¥'</span>)) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 4. åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºå¤‡ä»½</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ’¾ åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºå¤‡ä»½...'</span>, colors.<span class="hljs-property">blue</span>);
  <span class="hljs-keyword">const</span> backupCommands = <span class="hljs-string">`set -e; cd <span class="hljs-subst">${config.deployPath}</span>; echo "å¤‡ä»½å½“å‰æ–‡ä»¶..."; if [ -f "index.html" ] || [ -d "assets" ]; then tar -czf backup_old.tar.gz index.html assets 2&gt;/dev/null || true; echo "âœ… å½“å‰æ–‡ä»¶å·²å¤‡ä»½ä¸º backup_old.tar.gz"; else echo "âš ï¸ æ²¡æœ‰æ‰¾åˆ°å½“å‰æ–‡ä»¶ï¼Œè·³è¿‡å¤‡ä»½"; fi; echo "æ¸…ç†æ—§æ–‡ä»¶..."; rm -rf index.html assets; echo "âœ… æœåŠ¡å™¨å‡†å¤‡å®Œæˆ"; exit 0`</span>;
  
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">runCommand</span>(<span class="hljs-string">`ssh -o ConnectTimeout=30 <span class="hljs-subst">${config.server}</span> "<span class="hljs-subst">${backupCommands}</span>"`</span>, <span class="hljs-string">'æœåŠ¡å™¨å‡†å¤‡'</span>)) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 5. é€ä¸ªä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“¤ å¼€å§‹ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨...'</span>, colors.<span class="hljs-property">blue</span>)
  <span class="hljs-keyword">let</span> uploadedCount = <span class="hljs-number">0</span>

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> filePath <span class="hljs-keyword">of</span> distFiles) {
    <span class="hljs-keyword">const</span> relativePath = path.<span class="hljs-title function_">relative</span>(<span class="hljs-string">'dist'</span>, filePath)
    <span class="hljs-keyword">const</span> remotePath = path
      .<span class="hljs-title function_">join</span>(config.<span class="hljs-property">deployPath</span>, relativePath)
      .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">'/'</span>)
    <span class="hljs-keyword">const</span> remoteDir = path.<span class="hljs-title function_">dirname</span>(remotePath).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">'/'</span>)

    <span class="hljs-comment">// ç¡®ä¿è¿œç¨‹ç›®å½•å­˜åœ¨</span>
    <span class="hljs-keyword">const</span> mkdirCommand = <span class="hljs-string">`ssh <span class="hljs-subst">${config.server}</span> "mkdir -p <span class="hljs-subst">${remoteDir}</span>"`</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">runCommand</span>(mkdirCommand, <span class="hljs-string">`åˆ›å»ºç›®å½•: <span class="hljs-subst">${remoteDir}</span>`</span>)) {
      <span class="hljs-keyword">continue</span>
    }

    <span class="hljs-comment">// ä¸Šä¼ æ–‡ä»¶</span>
    <span class="hljs-keyword">const</span> scpCommand = <span class="hljs-string">`scp <span class="hljs-subst">${filePath}</span> <span class="hljs-subst">${config.server}</span>:<span class="hljs-subst">${remotePath}</span>`</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">runCommand</span>(scpCommand, <span class="hljs-string">`ä¸Šä¼ æ–‡ä»¶: <span class="hljs-subst">${relativePath}</span>`</span>)) {
      uploadedCount++
    }
  }

  <span class="hljs-title function_">log</span>(
    <span class="hljs-string">`âœ… æ–‡ä»¶ä¸Šä¼ å®Œæˆ: <span class="hljs-subst">${uploadedCount}</span>/<span class="hljs-subst">${distFiles.length}</span> ä¸ªæ–‡ä»¶`</span>,
    colors.<span class="hljs-property">green</span>
  )

  <span class="hljs-comment">// 6. åœ¨æœåŠ¡å™¨ä¸Šè®¾ç½®æ–‡ä»¶æƒé™</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ”’ è®¾ç½®æœåŠ¡å™¨æ–‡ä»¶æƒé™...'</span>, colors.<span class="hljs-property">blue</span>);
  <span class="hljs-keyword">const</span> permissionCommands = <span class="hljs-string">`set -e; cd <span class="hljs-subst">${config.deployPath}</span>; echo "è®¾ç½®æ–‡ä»¶æƒé™..."; chmod -R 755 .; echo "âœ… æƒé™è®¾ç½®å®Œæˆ"; exit 0`</span>;
  
  <span class="hljs-title function_">runCommand</span>(<span class="hljs-string">`ssh -o ConnectTimeout=30 <span class="hljs-subst">${config.server}</span> "<span class="hljs-subst">${permissionCommands}</span>"`</span>, <span class="hljs-string">'è®¾ç½®æ–‡ä»¶æƒé™'</span>);

  <span class="hljs-comment">// 7. éªŒè¯éƒ¨ç½²</span>
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ” éªŒè¯éƒ¨ç½²ç»“æœ...'</span>, colors.<span class="hljs-property">blue</span>);
  <span class="hljs-title function_">runCommand</span>(
    <span class="hljs-string">`ssh -o ConnectTimeout=10 <span class="hljs-subst">${config.server}</span> "cd <span class="hljs-subst">${config.deployPath}</span> &amp;&amp; ls -la &amp;&amp; echo '--- æ–‡ä»¶ç»Ÿè®¡ ---' &amp;&amp; find . -type f | wc -l; exit"`</span>,
    <span class="hljs-string">'æ£€æŸ¥éƒ¨ç½²ç›®å½•'</span>
  );

  <span class="hljs-title function_">log</span>(<span class="hljs-string">'\nğŸ‰ éƒ¨ç½²å®Œæˆï¼'</span>, colors.<span class="hljs-property">green</span>)
  <span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸŒ è¯·è®¿é—®: http://<span class="hljs-subst">${config.server.split(<span class="hljs-string">'@'</span>)[<span class="hljs-number">1</span>]}</span>`</span>, colors.<span class="hljs-property">green</span>)
  <span class="hljs-title function_">log</span>(<span class="hljs-string">'='</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>))
}

<span class="hljs-comment">// æ‰§è¡Œéƒ¨ç½²</span>
<span class="hljs-title function_">deploy</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ’¥ éƒ¨ç½²è¿‡ç¨‹å‡ºç°é”™è¯¯: <span class="hljs-subst">${error.message}</span>`</span>, colors.<span class="hljs-property">red</span>)
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>)
})
</code></pre>
<p><strong>è¿™è„šæœ¬å¹²äº†å•¥ï¼Ÿ</strong></p>
<ol>
<li>è‡ªåŠ¨æ£€æŸ¥æœ‰æ²¡æœ‰æ‰“åŒ…æ–‡ä»¶ï¼Œæ²¡æœ‰å°±å…ˆæ‰“åŒ…</li>
<li>æµ‹è¯•æœåŠ¡å™¨è¿æ¥ï¼ˆåˆ«ä¼ åˆ°ä¸€åŠæ–­äº†ï¼‰</li>
<li>å¤‡ä»½æœåŠ¡å™¨ä¸Šçš„æ—§æ–‡ä»¶ï¼ˆä¸‡ä¸€æ–°ç‰ˆæœ¬æœ‰é—®é¢˜èƒ½å›æ»šï¼‰</li>
<li>ä¸Šä¼ æ‰€æœ‰æ–°æ–‡ä»¶</li>
<li>è®¾ç½®å¥½æƒé™è®©Nginxèƒ½è®¿é—®</li>
</ol>
<h2 data-id="heading-2">ç¬¬ä¸‰æ­¥ï¼šé…ç½®æ‰“åŒ…å‘½ä»¤</h2>
<p>æ‰“å¼€<code>package.json</code>ï¼Œåœ¨<code>scripts</code>é‡ŒåŠ ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite build"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"deploy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite build &amp;&amp; node deploy.js"</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼</p>
<h2 data-id="heading-3">å¼€å§‹äº«å—ä¸€é”®éƒ¨ç½²</h2>
<p>ä»¥åæ¯æ¬¡æ”¹å®Œä»£ç éœ€è¦éƒ¨ç½²çš„æ—¶å€™ï¼Œç»ˆç«¯é‡Œè¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run deploy
</code></pre>
<p>ç„¶åä½ å°±ä¼šçœ‹åˆ°å½©è‰²çš„æ—¥å¿—åœ¨è·‘ï¼Œ<strong>æ‰“åŒ…â†’ä¸Šä¼ â†’éƒ¨ç½²</strong>ä¸€æ°”å‘µæˆã€‚ç­‰å‡ºç°<code>ğŸ‰ éƒ¨ç½²å®Œæˆï¼</code>çš„æ—¶å€™ï¼Œåˆ·æ–°æµè§ˆå™¨å°±èƒ½çœ‹åˆ°æ–°ç‰ˆæœ¬äº†ã€‚æ²¡çœ‹åˆ°è®°å¾—é‡å¯ä¸€ä¸‹nginxã€‚</p>
<p><strong>æ˜¯ä¸æ˜¯è¶…ç®€å•ï¼Ÿ</strong></p>
<p>ä»¥åå†ä¹Ÿä¸ç”¨æ‰“å¼€ä¸€å †å·¥å…·æ‰‹åŠ¨ä¼ æ–‡ä»¶äº†ï¼Œæ”¹å®Œä»£ç ä¸€ä¸ªå‘½ä»¤æå®šï¼Œçœä¸‹çš„æ—¶é—´å¤Ÿä½ å¤šæ‘¸å‡ æ¬¡é±¼äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€hvigorä¸“æ ã€‘OpenHarmonyåº”ç”¨å¼€å‘-hvigoræ’ä»¶ä¹‹åŠ¨æ€ä¿®æ”¹åº”ç”¨hapæ–‡ä»¶å]]></title>    <link>https://juejin.cn/post/7573300346262945846</link>    <guid>https://juejin.cn/post/7573300346262945846</guid>    <pubDate>2025-11-17T08:30:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573300346262945846" data-draft-id="7573486671296643114" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€hvigorä¸“æ ã€‘OpenHarmonyåº”ç”¨å¼€å‘-hvigoræ’ä»¶ä¹‹åŠ¨æ€ä¿®æ”¹åº”ç”¨hapæ–‡ä»¶å"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-17T08:30:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Winslei"/> <meta itemprop="url" content="https://juejin.cn/user/4336129592008104"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€hvigorä¸“æ ã€‘OpenHarmonyåº”ç”¨å¼€å‘-hvigoræ’ä»¶ä¹‹åŠ¨æ€ä¿®æ”¹åº”ç”¨hapæ–‡ä»¶å
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129592008104/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Winslei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:30:03.000Z" title="Mon Nov 17 2025 08:30:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨OpenHarmonyåº”ç”¨å¼€å‘ä¸­ï¼ŒåŠ¨æ€ä¿®æ”¹åº”ç”¨hapæ–‡ä»¶åæ˜¯è¾ƒä¸ºå¸¸è§çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ–‡ä»¶ååŒ…å«ç‰ˆæœ¬å·ã€æ„å»ºæ—¶é—´ã€ç¼–è¯‘æ¨¡å¼ç­‰ç­‰ã€‚ä¸‹æ–‡ä¼šä»¥ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ä¸ºå¤§å®¶è®²è¿°å¦‚ä½•å®ç°æ­¤åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-1">å¼€å‘ç¯å¢ƒ</h2>
<p><strong>DevEco Studioï¼š</strong> DevEco Studio 6.0.0 Releaseï¼ˆBuild Versionï¼š 6.0.0.858ï¼‰</p>
<h2 data-id="heading-2">å¼€å‘æµç¨‹</h2>
<h3 data-id="heading-3">å‰ç½®æ­¥éª¤</h3>
<ol>
<li>
<p>åˆ›å»ºæ–°å·¥ç¨‹ã€‚</p>
</li>
<li>
<p>ç¼–è¯‘å·¥ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°<code>build/default/outputs/default/</code>ç›®å½•ä¸‹ç”Ÿæˆäº†åä¸º<strong>entry-default-unsigned.hap</strong>çš„é»˜è®¤hapã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">æ–°å¢artifactName</h3>
<p>åœ¨<code>entry</code>æ¨¡å—çš„<code>build-profile.json5</code>ä¸‹æ–°å¢</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  Â·Â·Â·
  <span class="hljs-attr">"targets"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span>
      Â·Â·Â·
      <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"artifactName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"samples"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">æ–°å¢hvigorä»»åŠ¡</h3>
<p>åœ¨æ ¹ç›®å½•<code>hvigorfile.ts</code>é‡Œä¿®æ”¹ä¸ºä»¥ä¸‹ä»£ç </p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { appTasks, <span class="hljs-title class_">OhosAppContext</span>, <span class="hljs-title class_">OhosHapContext</span>, <span class="hljs-title class_">OhosPluginId</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos/hvigor-ohos-plugin'</span>;
<span class="hljs-keyword">import</span> { hvigor } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos/hvigor'</span>;

<span class="hljs-comment">// åŠ¨æ€ä¿®æ”¹åº”ç”¨hapæ–‡ä»¶å</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">dynamicChangeNamePlugin</span>(<span class="hljs-params"/>): <span class="hljs-title class_">HvigorPlugin</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">pluginId</span>: <span class="hljs-string">'dynamicChangeNamePlugin'</span>,
    <span class="hljs-title function_">context</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">data</span>: <span class="hljs-string">'modify output name'</span>
      };
    },
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">apply</span>(<span class="hljs-attr">currentNode</span>: <span class="hljs-title class_">HvigorNode</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
      <span class="hljs-comment">// è·å–appæ’ä»¶çš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>
      <span class="hljs-keyword">const</span> appContext = currentNode.<span class="hljs-title function_">getContext</span>(<span class="hljs-title class_">OhosPluginId</span>.<span class="hljs-property">OHOS_APP_PLUGIN</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">OhosAppContext</span>;
      <span class="hljs-comment">// é€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡è·å–ä»æ ¹ç›®å½•build-profile.json5æ–‡ä»¶ä¸­è¯»å‡ºæ¥çš„objå¯¹è±¡</span>
      <span class="hljs-keyword">const</span> buildProfileOpt = appContext.<span class="hljs-title function_">getBuildProfileOpt</span>();
      <span class="hljs-keyword">const</span> appJsonOpt = appContext.<span class="hljs-title function_">getAppJsonOpt</span>();
      <span class="hljs-comment">// ä¿®æ”¹objå¯¹è±¡ä¸ºæƒ³è¦çš„ï¼Œæ­¤å¤„ä¸¾ä¾‹ä¿®æ”¹appä¸­çš„signingConfigs</span>
      <span class="hljs-keyword">const</span> products = buildProfileOpt.<span class="hljs-property">app</span>.<span class="hljs-property">products</span>;
      <span class="hljs-keyword">let</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
      <span class="hljs-keyword">let</span> formatDate = date.<span class="hljs-title function_">getFullYear</span>().<span class="hljs-title function_">toString</span>() + (date.<span class="hljs-title function_">getMonth</span>() + <span class="hljs-number">1</span>).<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) +
      date.<span class="hljs-title function_">getDate</span>().<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + <span class="hljs-string">'_'</span> + date.<span class="hljs-title function_">getHours</span>().<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) +
      date.<span class="hljs-title function_">getMinutes</span>().<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>) + date.<span class="hljs-title function_">getSeconds</span>().<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'0'</span>);
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> product <span class="hljs-keyword">of</span> products) {
        <span class="hljs-keyword">if</span> (product.<span class="hljs-property">name</span> == <span class="hljs-string">'default'</span>) {
          product.<span class="hljs-property">output</span>.<span class="hljs-property">artifactName</span> = formatDate + <span class="hljs-string">'_'</span> + appJsonOpt.<span class="hljs-property">app</span>.<span class="hljs-property">versionName</span> + <span class="hljs-string">'_'</span> +
          product.<span class="hljs-property">output</span>.<span class="hljs-property">artifactName</span> + <span class="hljs-string">'_'</span> + appContext.<span class="hljs-title function_">getBuildMode</span>();
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`output app name: <span class="hljs-subst">${product.output.artifactName}</span>`</span>);
        }
      }
      <span class="hljs-comment">// å°†objå¯¹è±¡è®¾ç½®å›ä¸Šä¸‹æ–‡å¯¹è±¡ä»¥ä½¿èƒ½åˆ°æ„å»ºçš„è¿‡ç¨‹ä¸ç»“æœä¸­</span>
      appContext.<span class="hljs-title function_">setBuildProfileOpt</span>(buildProfileOpt);
      hvigor.<span class="hljs-title function_">nodesEvaluated</span>(<span class="hljs-keyword">async</span> () =&gt; {
        currentNode.<span class="hljs-title function_">subNodes</span>(<span class="hljs-function">(<span class="hljs-params">node: HvigorNode</span>) =&gt;</span> {
          <span class="hljs-comment">// è·å–hppæ’ä»¶çš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>
          <span class="hljs-keyword">const</span> hapContext = node.<span class="hljs-title function_">getContext</span>(<span class="hljs-title class_">OhosPluginId</span>.<span class="hljs-property">OHOS_HAP_PLUGIN</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">OhosHapContext</span>;
          <span class="hljs-comment">// é€šè¿‡ä¸Šä¸‹æ–‡å¯¹è±¡è·å–ä»æ ¹ç›®å½•build-profile.json5æ–‡ä»¶ä¸­è¯»å‡ºæ¥çš„objå¯¹è±¡</span>
          <span class="hljs-keyword">const</span> hapBuildProfileOpt = hapContext?.<span class="hljs-title function_">getBuildProfileOpt</span>();
          <span class="hljs-keyword">if</span> (hapBuildProfileOpt != <span class="hljs-literal">undefined</span>) {
            <span class="hljs-keyword">const</span> targets = hapBuildProfileOpt[<span class="hljs-string">'targets'</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> target <span class="hljs-keyword">of</span> targets) {
              <span class="hljs-keyword">if</span> (target.<span class="hljs-property">name</span> == <span class="hljs-string">'default'</span> &amp;&amp; target.<span class="hljs-property">output</span>?.<span class="hljs-property">artifactName</span> != <span class="hljs-literal">undefined</span>) {
                target.<span class="hljs-property">output</span>.<span class="hljs-property">artifactName</span> = formatDate + <span class="hljs-string">'_'</span> + appJsonOpt.<span class="hljs-property">app</span>.<span class="hljs-property">versionName</span> + <span class="hljs-string">'_'</span> +
                target.<span class="hljs-property">output</span>.<span class="hljs-property">artifactName</span> + <span class="hljs-string">'_'</span> + appContext.<span class="hljs-title function_">getBuildMode</span>();
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`output hap name: <span class="hljs-subst">${target.output?.artifactName}</span>`</span>);
              }
            }
            hapContext.<span class="hljs-title function_">setBuildProfileOpt</span>(hapBuildProfileOpt);
          }
        })
      })
    }
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">system</span>: appTasks, <span class="hljs-comment">/* Built-in plugin of Hvigor. It cannot be modified. */</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">dynamicChangeNamePlugin</span>()
  ]       <span class="hljs-comment">/* Custom plugin to extend the functionality of Hvigor. */</span>
}
</code></pre>
<h3 data-id="heading-6">ç¼–è¯‘éªŒè¯</h3>
<ol>
<li>ç¼–è¯‘å·¥ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°<code>build/default/outputs/default/</code>ç›®å½•ä¸‹ç”Ÿæˆäº†åä¸º<strong>20251117_113634_1.0.0_samples_debug-unsigned.hap</strong>çš„è‡ªå®šä¹‰æ–‡ä»¶åhapï¼Œå…¶ä¸­åŒ…å«äº†æ„å»ºæ—¶é—´ã€ç‰ˆæœ¬å·ã€è‡ªå®šä¹‰äº§ç‰©åã€ç¼–è¯‘æ¨¡å¼ã€æ˜¯å¦ç­¾åç­‰ä¿¡æ¯ã€‚</li>
</ol>
<h3 data-id="heading-7">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>å¦‚æœè‡ªå®šä¹‰æ–‡ä»¶åé‡ŒåŒ…å«äº†æ—¶é—´è§„åˆ™ï¼Œé‚£ä¹ˆå› ä¸ºæ—¶é—´çš„å˜åŒ–ï¼Œæ¯æ¬¡æ‰“å‡ºçš„hapéƒ½ä¸ä¼šè¦†ç›–å‰ä¸€ä¸ªï¼Œè€Œæ˜¯ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œä»è€Œå¯¼è‡´hapè¶Šæ¥è¶Šå¤šï¼Œæœ¬åœ°å·¥ç¨‹ä½“ç§¯è¶Šæ¥è¶Šå¤§ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[17. Vue3 ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†]]></title>    <link>https://juejin.cn/post/7572480736362119174</link>    <guid>https://juejin.cn/post/7572480736362119174</guid>    <pubDate>2025-11-16T09:53:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572480736362119174" data-draft-id="7567194020462133274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="17. Vue3 ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-11-16T09:53:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Cobyte"/> <meta itemprop="url" content="https://juejin.cn/user/668147376989517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            17. Vue3 ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/668147376989517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Cobyte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T09:53:14.000Z" title="Sun Nov 16 2025 09:53:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    31
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>æœ€è¿‘åœ¨å…¬å¸å®ç°ä¸€ä¸ªä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„éœ€æ±‚ã€‚ç®€å•æ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªéœ€æ±‚ï¼Œç¬¬ä¸€ä¸ªæ˜¯å®ç°ä¸šåŠ¡ç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½ï¼Œç¬¬äºŒï¼Œå› ä¸ºä¸šåŠ¡ç»„ä»¶åº“é‡Œé¢æœ‰å¼•ç”¨äº†ç±»ä¼¼ Element Plus çš„ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼Œæ‰€ä»¥åœ¨å®ç°ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„åŒæ—¶ï¼Œä¸šåŠ¡ç»„ä»¶åº“é‡Œé¢çš„å¼•ç”¨çš„ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ä¹Ÿè¦å®ç°æŒ‰éœ€åŠ è½½ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªç¼–ç¨‹æŠ€æœ¯äººå‘˜ï¼Œå³ä¾¿æœ‰äº†AIï¼Œä¹Ÿéœ€è¦ç ”ç©¶åº•å±‚çš„æŠ€æœ¯åŸç†ï¼Œç”šè‡³éœ€è¦æ¯”æ²¡æœ‰AIçš„æ—¶ä»£ï¼Œéœ€è¦æ›´åŠ æ·±å…¥ç ”ç©¶ï¼Œåœ¨AIæ—¶ä»£ï¼ŒåŸºç¡€çš„éƒ½é€šè¿‡AIå®ç°äº†ï¼Œåªæœ‰AIè§£å†³ä¸äº†çš„é—®é¢˜ï¼Œæœ€ç»ˆè¿˜å¾—é ä½ è‡ªå·±çš„ä¸“ä¸šçŸ¥è¯†å»è§£å†³ï¼Œè€Œè¿™å°†æ˜¯ä½ çš„æ ¸å¿ƒç«äº‰åŠ›çš„ä½“ç°ï¼Œæ‰€ä»¥åœ¨AIæ—¶ä»£å¯¹æŠ€æœ¯äººå‘˜çš„æŠ€æœ¯ç´ å…»è¦æ±‚å°†æ›´åŠ çš„é«˜ã€‚</p>
<p>æ‰¯è¿œäº†ï¼Œæˆ‘ä»¬å›åˆ°ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†çš„ä¸»é¢˜ä¸Šæ¥ã€‚</p>
<p>ä¸€èˆ¬åœ¨é¡¹ç›®ä¸­å¦‚æœæ²¡æœ‰è¿›è¡Œç»„ä»¶åº“æŒ‰éœ€åŠ è½½é…ç½®ï¼Œéƒ½æ˜¯ä¸€å¼€å§‹å°±å…¨é‡åŠ è½½è¿›è¡Œå…¨å±€ç»„ä»¶æ³¨å†Œï¼Œè¿™æ ·å°±ç­‰äºæ•´ä¸ªç»„ä»¶åº“åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±å…¨éƒ¨åŠ è½½äº†ï¼Œå¦‚æœåœ¨è¿½æ±‚æ€§èƒ½çš„é¡¹ç›®ä¸­ï¼Œè¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚è¿™æ—¶æˆ‘ä»¬å°±è¦å®ç°ç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½ï¼Œæ¥æé«˜æ€§èƒ½ã€‚</p>
<h3 data-id="heading-1">æŒ‰éœ€åŠ è½½çš„åŸºæœ¬å®ç°åŸç†</h3>
<p>é¦–å…ˆä»€ä¹ˆæ˜¯æŒ‰éœ€åŠ è½½ï¼Ÿ</p>
<p>æ‰€è°“æŒ‰éœ€åŠ è½½ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æœ‰éœ€è¦å°±åŠ è½½ï¼Œä¸éœ€è¦å°±ä¸åŠ è½½ï¼Œæ¯”å¦‚ <code>Element Plus</code> ç»„ä»¶åº“æœ‰å‡ åä¸ªç»„ä»¶ï¼Œå¯èƒ½åœ¨æˆ‘ä»¬çš„é¡¹ç›®åªç”¨åˆ°äº†åˆ°äº†å…¶ä¸­ä¸€ä¸ªç»„ä»¶ <code>&lt;el-button&gt;</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¸Œæœ›åªåŠ è½½è·Ÿè¿™ä¸ªæŒ‰é’®ç»„ä»¶ç›¸å…³çš„ä»£ç ï¼Œä»è€Œè¾¾åˆ°å‡å°‘æ‰“åŒ…ä½“ç§¯çš„æ•ˆæœã€‚</p>
<p>æŒ‰éœ€åŠ è½½æœ€ç®€å•çš„å®ç°æ–¹å¼å°±æ˜¯æ‰‹åŠ¨è®¾ç½®ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElButton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus/es/components/button'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-plus/es/components/button/style/index'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ElButton</span> },
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æˆ‘ä»¬åƒä¸Šè¿°ä¾‹å­è¿™æ ·æ‰‹åŠ¨å¼•ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„è¯ï¼Œåœ¨æ‰“åŒ…çš„æ—¶å€™å°±åªä¼šæ‰“åŒ…å¼•ç”¨åˆ°çš„ç»„ä»¶ï¼Œå› ä¸ºç›®å‰çš„å¼€æºç»„ä»¶åº“åŸºæœ¬éƒ½å®ç°äº†åˆ©äº Tree Shaking çš„ <code>ESM</code> æ¨¡å—åŒ–å®ç°ã€‚</p>
<p>å¦‚æœæ¯ä¸ªä¸šåŠ¡ç»„ä»¶éƒ½éœ€è¦è¿›è¡Œä¸Šè¿°è®¾ç½®ï¼Œå…¶å®è¿˜æ˜¯æŒºç¹ççš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›åªåœ¨ template ä¸­ç›´æ¥è°ƒç”¨å°±å¥½ï¼Œå…¶ä»–ä»€ä¹ˆè®¾ç½®éƒ½ä¸éœ€è¦ï¼Œå°±åƒå…¨å±€æ³¨å†Œç»„ä»¶é‚£æ ·ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>è€Œå‰©ä¸‹éƒ¨åˆ†çš„ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ‰“åŒ…æˆ–è€…è¿è¡Œçš„æ—¶å€™è‡ªåŠ¨è®¾ç½®ä¸Šå»ã€‚ä¸»è¦æ˜¯ä»¥ä¸‹éƒ¨åˆ†çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElButton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus/es/components/button'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'element-plus/es/components/button/style/index'</span>
</code></pre>
<p>ä¸Šè¿°éƒ¨åˆ†çš„ä»£ç ï¼Œå¸Œæœ›è‡ªåŠ¨åŠ è½½ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚æ•´ä¸ªæ‰€è°“æŒ‰éœ€åŠ è½½æ‰€éœ€è¦å®ç°çš„å°±æ˜¯ä¸Šè¿°çš„åŠŸèƒ½ã€‚</p>
<p>é‚£ä¹ˆæ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆä¸Šè¿°æ¨¡æ¿ä»£ç çš„ç¼–è¯‘ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createTextVNode <span class="hljs-keyword">as</span> _createTextVNode, resolveComponent <span class="hljs-keyword">as</span> _resolveComponent, withCtx <span class="hljs-keyword">as</span> _withCtx, createVNode <span class="hljs-keyword">as</span> _createVNode, openBlock <span class="hljs-keyword">as</span> _openBlock, createElementBlock <span class="hljs-keyword">as</span> _createElementBlock } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">_ctx, _cache, $props, $setup, $data, $options</span>) {
  <span class="hljs-keyword">const</span> _component_el_button = <span class="hljs-title function_">_resolveComponent</span>(<span class="hljs-string">"el-button"</span>)

  <span class="hljs-keyword">return</span> (<span class="hljs-title function_">_openBlock</span>(), <span class="hljs-title function_">_createElementBlock</span>(<span class="hljs-string">"template"</span>, <span class="hljs-literal">null</span>, [
    <span class="hljs-title function_">_createVNode</span>(_component_el_button, <span class="hljs-literal">null</span>, {
      <span class="hljs-attr">default</span>: <span class="hljs-title function_">_withCtx</span>(<span class="hljs-function">() =&gt;</span> [
        <span class="hljs-title function_">_createTextVNode</span>(<span class="hljs-string">"æŒ‰é’®"</span>)
      ], <span class="hljs-literal">undefined</span>, <span class="hljs-literal">true</span>),
      <span class="hljs-attr">_</span>: <span class="hljs-number">1</span> <span class="hljs-comment">/* STABLE */</span>
    })
  ]))
}
</code></pre>
<p>æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ° Vue3 çš„å†…ç½®å‡½æ•° <code>_resolveComponent("el-button")</code> éƒ¨åˆ†ï¼Œç„¶åæ›¿æ¢æˆå¯¹åº”çš„ç»„ä»¶ä»£ç å³å¯ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ import { ElButton } from 'element-plus/es/components/button'</span>
<span class="hljs-addition">+ import 'element-plus/es/components/button/style/index'</span>
import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from "vue"

export function render(_ctx, _cache, $props, $setup, $data, $options) {
<span class="hljs-deletion">-  const _component_el_button = _resolveComponent("el-button")</span>
<span class="hljs-addition">+ const _component_el_button = ElButton</span>

  return (_openBlock(), _createElementBlock("template", null, [
    _createVNode(_component_el_button, null, {
      default: _withCtx(() =&gt; [
        _createTextVNode("æŒ‰é’®")
      ], undefined, true),
      _: 1 /* STABLE */
    })
  ]))
}
</code></pre>
<p>ä¸Šè¿°å°±æ˜¯ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„åŸºæœ¬å®ç°åŸç†ã€‚</p>
<h3 data-id="heading-2">ä½¿ç”¨ Vite æ‰“åŒ…ç»„ä»¶åº“</h3>
<p>ä¸ºäº†æ›´å¥½è¿˜åŸå®é™…åœºæ™¯ï¼Œæˆ‘ä»¬å¿«é€Ÿåˆ›å»ºä¸€ä¸ªç»„ä»¶åº“é¡¹ç›®å¹¶ä¸”é€šè¿‡ Vite è¿›è¡Œæ‰“åŒ…ã€‚
é¦–å…ˆåˆ›å»ºä¸€ä¸ª <code>cobyte-vite-ui</code> çš„ç»„ä»¶åº“ç›®å½•ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆå§‹åŒ– Node é¡¹ç›®ï¼Œæ‰§è¡Œ <code>pnpm init</code>, ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>package.json</code>  æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cobyte-vite-ui"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ISC"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"packageManager"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pnpm@10.20.0"</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨æ ¹ç›®å½•æ–°å»º <code>pnpm-workspace.yaml</code> æ–‡ä»¶è¿›è¡Œ Monorepo é¡¹ç›®é…ç½®ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">packages:
<span class="hljs-bullet">  -</span> packages/*
<span class="hljs-bullet">  -</span> play
</code></pre>
<p>æ€»çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go">â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ components
â”‚   â”œâ”€â”€ hooks
â”‚   â””â”€â”€ utils
â”œâ”€â”€ play
â”œâ”€â”€ <span class="hljs-keyword">package</span>.json
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<p>æ¥ç€æˆ‘ä»¬å®‰è£…ä¸€äº›å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">pnpm <span class="hljs-keyword">add</span> vite typescript <span class="hljs-variable">@vitejs</span><span class="hljs-operator">/</span>plugin<span class="hljs-operator">-</span>vue sass <span class="hljs-variable">@types</span><span class="hljs-operator">/</span>node <span class="hljs-operator">-</span>D <span class="hljs-operator">-</span>w
</code></pre>
<p>æ¥ç€æˆ‘ä»¬å®‰è£…ä¸€ä¸‹ vue ä¾èµ–ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> vue -w
</code></pre>
<p>åŸºç¡€ä¾èµ–å®‰è£…å®Œæ¯•ï¼Œæˆ‘ä»¬è®¾ç½®ä¸€ä¸‹ TS çš„é…ç½®ï¼Œå› ä¸ºæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ª TS çš„é¡¹ç›®ï¼Œåœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>tsconfig.json</code>ï¼Œé…ç½®å†…å®¹å¯ä»¥ç®€å•è®¾ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
    <span class="hljs-string">"compilerOptions"</span>: {
      <span class="hljs-string">"target"</span>: <span class="hljs-string">"ESNext"</span>,
      <span class="hljs-string">"module"</span>: <span class="hljs-string">"NodeNext"</span>,
      <span class="hljs-string">"sourceMap"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å…³é”®ï¼šå¯ç”¨æºæ˜ å°„</span>
      <span class="hljs-string">"outDir"</span>: <span class="hljs-string">"./dist"</span>, <span class="hljs-comment">// å¯é€‰ï¼šæŒ‡å®šè¾“å‡ºç›®å½•</span>
      <span class="hljs-string">"esModuleInterop"</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre>
<p>æ¥ç€æˆ‘ä»¬å°±åœ¨ <code>packages/components</code> ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæµ‹è¯•æŒ‰é’®ç»„ä»¶</p>
<p>ç›®å½•è·¯å¾„ï¼š<code>packages/components/button/button.vue</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æµ‹è¯•æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineOptions</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'co-button'</span>,
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">button</span> {
  <span class="hljs-attribute">color</span>: red;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>ç›®å½•è·¯å¾„ï¼š<code>packages/components/button/index.ts</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> button <span class="hljs-keyword">from</span> <span class="hljs-string">"./button.vue"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">CoButton</span> = button;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CoButton</span>;
</code></pre>
<p>ç›®å½•è·¯å¾„ï¼š<code>packages/components/components.ts</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">CoButton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./button'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> [
    <span class="hljs-title class_">CoButton</span>
]
</code></pre>
<p>å°†æ‰€æœ‰ç»„ä»¶é›†ä¸­åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ç»Ÿä¸€å¯¼å‡ºï¼Œæ–¹ä¾¿æ‰¹é‡ç®¡ç†å’Œä½¿ç”¨ã€‚</p>
<p>ç›®å½•è·¯å¾„ï¼š<code>packages/components/defaults.ts</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">App</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> components <span class="hljs-keyword">from</span> <span class="hljs-string">'./components'</span>;

<span class="hljs-keyword">const</span> install = <span class="hljs-keyword">function</span> (<span class="hljs-params">app: App</span>) {
    components.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> {
        app.<span class="hljs-title function_">component</span>(component.<span class="hljs-property">name</span>, component);
    });
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    install
};
</code></pre>
<p>ç›®å½•è·¯å¾„ï¼š<code>packages/components/index.ts</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./button'</span>;

<span class="hljs-keyword">import</span> install <span class="hljs-keyword">from</span>  <span class="hljs-string">'./defaults'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> install;
</code></pre>
<p>æˆ‘ä»¬å†é…ç½®ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œç›®å½•è·¯å¾„ï¼š<code>packages/utils/index.ts</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">testUtils</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'testUtils'</span>);
}
</code></pre>
<p>å¦‚æœå¤§å®¶å¯¹åˆ›å»ºç»„ä»¶åº“æ¯”è¾ƒæœ‰ç»éªŒçš„è¯ï¼Œå°±çŸ¥é“ä¸Šè¿°æ­¥éª¤ï¼Œæ˜¯ Vue3 ç»„ä»¶åº“çš„åŸºç¡€è®¾ç½®ï¼Œå„å¤§ç»„ä»¶åº“çš„å®ç°è™½ç„¶å·®å¼‚å¾ˆå¤§ï¼Œä½†æœ€æ ¸å¿ƒæœºåˆ¶éƒ½å¯ä»¥ç®€å•å½’çº³ä¸ºä¸Šè¿°è®¾ç½®å†…å®¹ã€‚
å¤§å®¶å¦‚æœæƒ³è¯¦ç»†äº†è§£æ›´å¤šä¹Ÿå¯ä»¥çœ‹çœ‹æœ¬æ ç›®å‰é¢ç« èŠ‚çš„å†…å®¹ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬å°±åˆ°äº†æˆ‘ä»¬æœ€æ ¸å¿ƒçš„ç»„ä»¶åº“æ‰“åŒ…çš„ç¯èŠ‚äº†ï¼Œæˆ‘ä»¬åœ¨æ ¹æœ¬ç›®å½•åˆ›å»ºä¸€ä¸ª <code>vite.config.ts</code>ï¼Œè®¾ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">"vite"</span>;
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">"@vitejs/plugin-vue"</span>;
<span class="hljs-keyword">import</span> path, { resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">"path"</span>;
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">"fs"</span>;

<span class="hljs-comment">// åŠ¨æ€è·å–ç»„ä»¶ç›®å½•åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> componentsDir = <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"./packages/components"</span>);
<span class="hljs-keyword">const</span> modules = fs.<span class="hljs-title function_">readdirSync</span>(componentsDir).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> fullPath = path.<span class="hljs-title function_">join</span>(componentsDir, name);
    <span class="hljs-comment">// åªè·å–ç›®å½•ï¼Œæ’é™¤æ–‡ä»¶</span>
    <span class="hljs-keyword">return</span> fs.<span class="hljs-title function_">statSync</span>(fullPath).<span class="hljs-title function_">isDirectory</span>();
});

<span class="hljs-keyword">const</span> entryArr = {
    <span class="hljs-comment">// ä¸»å…¥å£</span>
    <span class="hljs-attr">index</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"./packages/components/index.ts"</span>),

    <span class="hljs-comment">// å·¥å…·å…¥å£</span>
    <span class="hljs-attr">utils</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">"./packages/utils/index.ts"</span>),
};

<span class="hljs-comment">// ä¸ºæ¯ä¸ªç»„ä»¶åˆ›å»ºç‹¬ç«‹å…¥å£</span>
modules.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
    entryArr[<span class="hljs-string">`components/<span class="hljs-subst">${name}</span>/index`</span>] = <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">`./packages/components/<span class="hljs-subst">${name}</span>/index.ts`</span>);
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">(<span class="hljs-params">{ command, mode }</span>) =&gt;</span> {
    <span class="hljs-comment">// ä¸»æ„å»ºé…ç½®</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">plugins</span>: [
            <span class="hljs-title function_">vue</span>(),
        ],
        <span class="hljs-attr">build</span>: {
            <span class="hljs-attr">lib</span>: {
                <span class="hljs-attr">entry</span>: entryArr,
                <span class="hljs-attr">formats</span>: [<span class="hljs-string">"es"</span>], <span class="hljs-comment">// åªæ„å»º ES æ¨¡å—</span>
                <span class="hljs-attr">cssFileName</span>: <span class="hljs-string">"style"</span>,
            },
            <span class="hljs-attr">rollupOptions</span>: {
                <span class="hljs-attr">external</span>: [
                    <span class="hljs-string">"vue"</span>,
                ],
                <span class="hljs-attr">output</span>: {
                    <span class="hljs-attr">format</span>: <span class="hljs-string">"es"</span>,
                    <span class="hljs-attr">preserveModules</span>: <span class="hljs-literal">true</span>,
                },
            },
        },
    };
});
</code></pre>
<p>è®¾ç½®å®Œ Vite é…ç½®æ–‡ä»¶åï¼Œæˆ‘ä»¬è¿˜è¦è®¾ç½® <code>packages.json</code> ä¸­çš„æ‰“åŒ…å‘½ä»¤è„šæœ¬é…ç½®ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"vite build"</span>
  },
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ ¹ç›®å½•è¿è¡Œæ‰“åŒ…å‘½ä»¤äº†ï¼š<code>pnpm build</code>ã€‚</p>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬æˆåŠŸæ‰“åŒ…äº†æˆ‘ä»¬çš„ç»„ä»¶åº“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c195ef5bfdd043c2a61e6435e0d4c4f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=uSri%2FlN4ICmesLuFyDi%2BF3Vssl8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">é€šè¿‡ pnpm å®‰è£…æœ¬åœ° npm åŒ…</h3>
<p>æ¥ç€æˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">pnpm <span class="hljs-built_in">create</span> vite play <span class="hljs-comment">--template vue-ts</span>
</code></pre>
<p>ä¸Šè¿° play å°±æ˜¯æµ‹è¯•é¡¹ç›®ç›®å½•ï¼Œæˆ‘ä»¬åŸæœ¬å°±å»ºäº†ä¸€ä¸ª play ç›®å½•ï¼Œç°åœ¨è¿™æ¡å‘½ä»¤ä¼šç›´æ¥åœ¨ play ç›®å½•ä¸­ç”Ÿæˆä¸€ä¸ªä½¿ç”¨ Vite åˆ›å»ºçš„ Vue é¡¹ç›®ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬ä¿®æ”¹æ ¹ç›®å½•çš„ package.json æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- "main": "index.js",</span>
<span class="hljs-addition">+ "module": "/dist/index.mjs",</span>
</code></pre>
<p>æ¥ç€æˆ‘ä»¬è¿›å…¥ play ç›®å½•ï¼Œé€šè¿‡ pnpm å®‰è£…æœ¬åœ° npm åŒ…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> ../
</code></pre>
<p>è¿è¡Œå®Œä¸Šè¿°å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>./play/packages.json</code> æ–‡ä»¶å˜åŒ–å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3f21a2e6b8f4ee08a4a56ae78e9f51e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=GmvFW3i3GJ9n8Fuw656PlJx5h%2Fc%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸæŠŠæˆ‘ä»¬æœ¬åœ°çš„ npm åŒ…å®‰è£…åˆ° play æµ‹è¯•é¡¹ç›®ä¸­äº†ã€‚</p>
<p>æ¥ç€ä¿®æ”¹ <code>./play/main.ts</code> å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CobyteViteUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'cobyte-vite-ui'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'cobyte-vite-ui/dist/style.css'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">CobyteViteUI</span>)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>æˆ‘ä»¬ç›´æ¥å¼•ç”¨æˆ‘ä»¬æœ¬åœ°åˆ›å»ºçš„ npm åŒ…ã€‚</p>
<p>æ¥ç€ä¿®æ”¹ <code>./play/App.vue</code> å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">co-button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">co-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æœ€åæˆ‘ä»¬è¿è¡Œ play æµ‹è¯•é¡¹ç›®ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74f6c189f9d44171887736447e2e142d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=kvnojOly9beWhKfj52wsCyNla5U%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆåŠŸè¿è¡Œäº†æœ¬åœ°ç»„ä»¶åº“çš„ npm åŒ…ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å¸Œæœ›ä¸è¿›è¡Œå®Œæ•´å¼•å…¥ç»„ä»¶åº“ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">import { createApp } from 'vue'
import App from './App.vue'
<span class="hljs-deletion">- import CobyteViteUI from 'cobyte-vite-ui'</span>
<span class="hljs-deletion">- import 'cobyte-vite-ui/dist/style.css'</span>

const app = createApp(App)
<span class="hljs-deletion">- app.use(CobyteViteUI)</span>
app.mount('#app')
</code></pre>
<p>å³ä¾¿è¿™æ ·æˆ‘ä»¬åŒæ ·å¯ä»¥åœ¨æµ‹è¯•é¡¹ç›®ä¸­ä½¿ç”¨æˆ‘ä»¬çš„æµ‹è¯•ç»„ä»¶ã€‚</p>
<h3 data-id="heading-4">é€šè¿‡é™æ€åˆ†æå®ç°æŒ‰éœ€åŠ è½½</h3>
<p>æ ¹æ®ä¸Šæ–‡æˆ‘ä»¬çŸ¥é“ App.vue çš„æ¨¡æ¿å†…å®¹ä¼šè¢«ç¼–è¯‘æˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { resolveComponent <span class="hljs-keyword">as</span> _resolveComponent, createVNode <span class="hljs-keyword">as</span> _createVNode, openBlock <span class="hljs-keyword">as</span> _openBlock, createElementBlock <span class="hljs-keyword">as</span> _createElementBlock } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">_ctx, _cache, $props, $setup, $data, $options</span>) {
  <span class="hljs-keyword">const</span> _component_co_button = <span class="hljs-title function_">_resolveComponent</span>(<span class="hljs-string">"co-button"</span>)

  <span class="hljs-keyword">return</span> (<span class="hljs-title function_">_openBlock</span>(), <span class="hljs-title function_">_createElementBlock</span>(<span class="hljs-string">"template"</span>, <span class="hljs-literal">null</span>, [
    <span class="hljs-title function_">_createVNode</span>(_component_co_button)
  ]))
}
</code></pre>
<p>é‚£ä¹ˆæ ¹æ®ä¸Šæ–‡æˆ‘ä»¬çŸ¥é“éœ€è¦æŠŠ <code>_resolveComponent("co-button")</code> éƒ¨åˆ†æ›¿æ¢æˆå¯¹åº”çš„ç»„ä»¶å¯¹è±¡ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ import CoButton from 'cobyte-vite-ui/dist/components/button'</span>
<span class="hljs-addition">+ import 'cobyte-vite-ui/dist/style.css'</span>
import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from "vue"

export function render(_ctx, _cache, $props, $setup, $data, $options) {
<span class="hljs-deletion">-  const _component_co_button = _resolveComponent("co-button")</span>
<span class="hljs-addition">+  const _component_co_button = CoButton</span>

  return (_openBlock(), _createElementBlock("template", null, [
    _createVNode(_component_co_button)
  ]))
}
</code></pre>
<p>é‚£ä¹ˆè¦å®ç°ä¸Šè¿°åŠŸèƒ½ï¼Œæˆ‘ä»¬å¾—é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vitejs.dev%2Fguide%2Fapi-plugin" target="_blank" title="https://cn.vitejs.dev/guide/api-plugin" ref="nofollow noopener noreferrer">Vite æ’ä»¶</a>æ¥å®ç°ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢å®‰è£…äº†ä¸€ä¸ª <code>@vitejs/plugin-vue</code> æ’ä»¶ï¼Œè¿™ä¸ª Vite æ’ä»¶çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯æŠŠ <code>.vue</code> æ–‡ä»¶ç¼–è¯‘æˆä¸Šè¿°çš„ js å†…å®¹ã€‚é‚£ä¹ˆæˆ‘ä»¬è¿™æ ·åœ¨å®ƒçš„åé¢ç»§ç»­æ·»åŠ ä¸€ä¸ªæ’ä»¶åœ¨ç¼–è¯‘åçš„ js å†…å®¹ä¸­å»å®ç°ä¸Šè¿°æ›¿æ¢åŠŸèƒ½å³å¯ã€‚</p>
<p>æˆ‘ä»¬åœ¨ <code>./packages/utils/index.ts</code> æ–‡ä»¶ä¸­å®ç°è¿™ä¸ªè‡ªåŠ¨åŠ è½½ç»„ä»¶çš„ Vite æ’ä»¶ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MagicString</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'magic-string'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">VitePluginAutoComponents</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// æ’ä»¶åç§°ï¼Œç”¨äºè°ƒè¯•å’Œé”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-attr">name</span>: <span class="hljs-string">'vite-plugin-auto-component'</span>,

    <span class="hljs-comment">// transform é’©å­å‡½æ•°ï¼Œåœ¨è½¬æ¢æ¨¡å—æ—¶è°ƒç”¨</span>
    <span class="hljs-comment">// code: æ–‡ä»¶å†…å®¹ï¼Œid: æ–‡ä»¶è·¯å¾„</span>
    <span class="hljs-title function_">transform</span>(<span class="hljs-params">code, id</span>) {
      <span class="hljs-comment">// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º.vueæ–‡ä»¶</span>
      <span class="hljs-comment">// å¦‚æœä¸æ˜¯.vueæ–‡ä»¶ï¼Œä¸è¿›è¡Œå¤„ç†</span>
      <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/\.vue$/</span>.<span class="hljs-title function_">test</span>(id)) {
          <span class="hljs-comment">// åˆ›å»º MagicString å®ä¾‹ï¼Œç”¨äºé«˜æ•ˆåœ°ä¿®æ”¹å­—ç¬¦ä¸²å¹¶ç”Ÿæˆ source map</span>
          <span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MagicString</span>(code)
          <span class="hljs-comment">// åˆå§‹åŒ–ç»“æœæ•°ç»„ï¼Œç”¨äºå­˜å‚¨åŒ¹é…åˆ°çš„ç»„ä»¶ä¿¡æ¯</span>
          <span class="hljs-keyword">const</span> results = []

          <span class="hljs-comment">// ä½¿ç”¨ matchAll æ–¹æ³•æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„ resolveComponent è°ƒç”¨</span>
          <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼è§£é‡Šï¼š</span>
          <span class="hljs-comment">// _?resolveComponent\d* - åŒ¹é…å¯èƒ½çš„å‡½æ•°åå˜ä½“ï¼ˆå¯èƒ½å¸¦ä¸‹åˆ’çº¿æˆ–æ•°å­—åç¼€ï¼‰</span>
          <span class="hljs-comment">// \("(.+?)"\) - åŒ¹é…æ‹¬å·å†…çš„å­—ç¬¦ä¸²å‚æ•°</span>
          <span class="hljs-comment">// g - å…¨å±€åŒ¹é…</span>
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> match <span class="hljs-keyword">of</span> code.<span class="hljs-title function_">matchAll</span>(<span class="hljs-regexp">/_?resolveComponent\d*\("(.+?)"\)/g</span>)) {
              <span class="hljs-comment">// match[1] æ˜¯ç¬¬ä¸€ä¸ªæ•è·ç»„ï¼Œå³ç»„ä»¶åç§°å­—ç¬¦ä¸²</span>
              <span class="hljs-keyword">const</span> matchedName = match[<span class="hljs-number">1</span>]
              <span class="hljs-comment">// æ£€æŸ¥åŒ¹é…æ˜¯å¦æœ‰æ•ˆï¼š</span>
              <span class="hljs-comment">// match.index != null - ç¡®ä¿æœ‰åŒ¹é…ä½ç½®</span>
              <span class="hljs-comment">// matchedName - ç¡®ä¿æ•è·åˆ°ç»„ä»¶å</span>
              <span class="hljs-comment">// !matchedName.startsWith('_') - ç¡®ä¿ç»„ä»¶åä¸ä»¥_å¼€å¤´ï¼ˆå¯èƒ½æ˜¯å†…éƒ¨ç»„ä»¶ï¼‰</span>
              <span class="hljs-keyword">if</span> (match.<span class="hljs-property">index</span> != <span class="hljs-literal">null</span> &amp;&amp; matchedName &amp;&amp; !matchedName.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'_'</span>)) {
                  <span class="hljs-comment">// è®¡ç®—åŒ¹é…å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®</span>
                  <span class="hljs-keyword">const</span> start = match.<span class="hljs-property">index</span>
                  <span class="hljs-comment">// è®¡ç®—åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®</span>
                  <span class="hljs-keyword">const</span> end = start + match[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>
                  <span class="hljs-comment">// å°†åŒ¹é…ä¿¡æ¯å­˜å…¥ç»“æœæ•°ç»„</span>
                  results.<span class="hljs-title function_">push</span>({
                      <span class="hljs-attr">rawName</span>: matchedName,  <span class="hljs-comment">// åŸå§‹ç»„ä»¶åç§°</span>
                      <span class="hljs-comment">// åˆ›å»ºæ›¿æ¢å‡½æ•°ï¼Œä½¿ç”¨ MagicString çš„ overwrite æ–¹æ³•æ›¿æ¢æŒ‡å®šèŒƒå›´çš„æ–‡æœ¬</span>
                      <span class="hljs-attr">replace</span>: <span class="hljs-function"><span class="hljs-params">resolved</span> =&gt;</span> s.<span class="hljs-title function_">overwrite</span>(start, end, resolved),
                  })
              }
          }

          <span class="hljs-comment">// éå†æ‰€æœ‰åŒ¹é…ç»“æœè¿›è¡Œå¤„ç†</span>
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> { rawName, replace } <span class="hljs-keyword">of</span> results) {
              <span class="hljs-comment">// å®šä¹‰è¦æ›¿æ¢çš„å˜é‡åï¼ˆè¿™é‡Œæš‚æ—¶ç¼–ç ä¸º CoButtonï¼‰</span>
              <span class="hljs-keyword">const</span> varName = <span class="hljs-string">`CoButton`</span>
              <span class="hljs-comment">// åœ¨ä»£ç å¼€å¤´æ·»åŠ å¯¼å…¥è¯­å¥ï¼š</span>
              <span class="hljs-comment">// 1. å¯¼å…¥ CoButton ç»„ä»¶</span>
              <span class="hljs-comment">// 2. å¯¼å…¥æ ·å¼æ–‡ä»¶</span>
              s.<span class="hljs-title function_">prepend</span>(<span class="hljs-string">`import CoButton from 'cobyte-vite-ui/dist/components/button';\nimport 'cobyte-vite-ui/dist/style.css';\n`</span>)

              <span class="hljs-comment">// æ‰§è¡Œæ›¿æ¢ï¼šå°† resolveComponent("xxx") è°ƒç”¨æ›¿æ¢ä¸ºç»„ä»¶å˜é‡å</span>
              <span class="hljs-title function_">replace</span>(varName)
          }

          <span class="hljs-comment">// è¿”å›è½¬æ¢åçš„ä»£ç </span>
          <span class="hljs-keyword">return</span> {
              <span class="hljs-attr">code</span>: s.<span class="hljs-title function_">toString</span>(),  <span class="hljs-comment">// è½¬æ¢åçš„ä»£ç å­—ç¬¦ä¸²</span>
              <span class="hljs-attr">map</span>: <span class="hljs-literal">null</span>, 
          }
      }
    },
  }
}
</code></pre>
<p>æˆ‘ä»¬åœ¨ä¸Šè¿° Vite æ’ä»¶ä¸­ä½¿ç”¨åˆ°äº†ä¸€ä¸ªæ–°å·¥å…·åº“ <code>magic-string</code>ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸‹å®ƒçš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> magic-<span class="hljs-built_in">string</span> -D -w
</code></pre>
<p><code>magic-string</code>Â æ˜¯ä¸€ä¸ªä¸“æ³¨äºå­—ç¬¦ä¸²æ“ä½œï¼Œä¸»è¦ä½œç”¨æ˜¯å¯¹æºä»£ç å¯ä»¥è¿›è¡Œ<strong>ç²¾å‡†çš„æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢ç­‰æ“ä½œ</strong>ã€‚</p>
<p>ä¸Šè¿°ç¼–å†™çš„ Vite çš„æ’ä»¶ä¸»è¦æ˜¯å®ç°åœ¨<code>.vue</code> æ–‡ä»¶ä¸­æŸ¥æ‰¾æ‰€æœ‰å½¢å¦‚ <code>resolveComponent("xxx")</code> çš„å‡½æ•°è°ƒç”¨ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ‰¾åˆ°çš„è°ƒç”¨ï¼Œå®ƒä¼šåœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ ä¸€ä¸ªå›ºå®šçš„å¯¼å…¥è¯­å¥ï¼Œä¾‹å¦‚å¯¼å…¥ <code>CoButton</code> ç»„ä»¶å’Œæ ·å¼ã€‚æœ€åæŠŠæ‰¾åˆ°çš„<code>resolveComponent("xxx")</code> æ›¿æ¢æˆå¯¹åº”çš„ç»„ä»¶ï¼Œä¾‹å¦‚ <code>CoButton</code>ã€‚</p>
<p>ç„¶åæˆ‘ä»¬åœ¨æ ¹ç›®å½•é‡æ–°æ‰“åŒ…ï¼Œæ¥ç€åœ¨ play ç›®å½•ä¸­çš„ <code>vite.config.ts</code> æ–‡ä»¶ä¸­è¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
<span class="hljs-addition">+ import AutoComponents from 'cobyte-vite-ui/dist/utils'</span>

// https://vite.dev/config/
export default defineConfig({
<span class="hljs-deletion">-  plugins: [vue()],</span>
<span class="hljs-addition">+  plugins: [vue(), AutoComponents()],</span>
})
</code></pre>
<p>æ¥ç€æˆ‘ä»¬å†æ¬¡é‡å¯ play æµ‹è¯•é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä¾¿æˆ‘ä»¬ä¸å¯¼å…¥ä»»ä½•æˆ‘ä»¬ç¼–å†™çš„ç»„ä»¶åº“è®¾ç½®ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥åœ¨ play é¡¹ç›®ä¸­æˆåŠŸä½¿ç”¨ <code>CoButton</code> ç»„ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74f6c189f9d44171887736447e2e142d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=kvnojOly9beWhKfj52wsCyNla5U%3D" alt="image.png" loading="lazy"/></p>
<p>åŒæ—¶æˆ‘ä»¬åœ¨ç½‘ç»œçª—å£å¯ä»¥æŸ¥çœ‹åˆ° App.vue æ–‡ä»¶çš„å†…å®¹å˜åŒ–å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f36029b5c57d4c9ca82ddb0fecd2f3be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=t1CzRagQrOlUssF9zNOZpEvdDqI%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°<strong>æˆ‘ä»¬é€šè¿‡é™æ€åˆ†æä»£ç ï¼Œè¯†åˆ«å¹¶æ›¿æ¢ Vue3 çš„ç»„ä»¶è§£æå‡½æ•°ï¼ŒæˆåŠŸå®ç°äº†ç»„ä»¶çš„è‡ªåŠ¨å¯¼å…¥åŠŸèƒ½</strong>ã€‚ä½†ä¸Šè¿°å®ç°ä¸ºäº†å¿«é€ŸéªŒè¯åŠŸèƒ½ï¼Œæ— è®ºåŒ¹é…åˆ°çš„ç»„ä»¶åæ˜¯ä»€ä¹ˆï¼Œéƒ½å¯¼å…¥ <code>CoButton</code> ç»„ä»¶ï¼Œå¹¶æ›¿æ¢ä¸º <code>CoButton</code>ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸æ­£ç¡®çš„ï¼Œåº”è¯¥æ ¹æ®åŒ¹é…åˆ°çš„ç»„ä»¶ååŠ¨æ€å¯¼å…¥å¯¹åº”çš„ç»„ä»¶ã€‚</p>
<h3 data-id="heading-5">è‡ªåŠ¨åŒ–è·¯å¾„è§£æ</h3>
<p>å› ä¸ºæˆ‘ä»¬çš„ç»„ä»¶ç¼–è¯‘åçš„è°ƒç”¨å˜æˆ <code>_resolveComponent("co-button")</code>ï¼Œç»„ä»¶åç§°å˜æˆäº† <code>co-button</code>ï¼Œè€Œæˆ‘ä»¬åœ¨å¯¼å…¥çš„è¯­å¥æ˜¯è¿™æ ·çš„ <code>import CoButton from 'cobyte-vite-ui/dist/components/button'</code>ï¼Œç»„ä»¶åç§°åˆéœ€è¦å˜æˆ <code>CoButton</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåŒ¹é…åˆ°çš„ <code>co-button</code> å˜æˆ <code>CoButton</code>ã€‚</p>
<p>ä»£ç è¿­ä»£å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¸•æ–¯å¡å‘½åï¼ˆå³å¤§é©¼å³°ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ï¼‰</span>
<span class="hljs-addition">+ export function pascalCase(str: string) {</span>
<span class="hljs-addition">+    return capitalize(camelCase(str))</span>
<span class="hljs-addition">+ }</span>
<span class="hljs-addition">+ // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºé©¼å³°å‘½å  </span>
<span class="hljs-addition">+ export function camelCase(str: string) {</span>
<span class="hljs-addition">+    return str.replace(/-(\w)/g, (_, c) =&gt; (c ? c.toUpperCase() : ''))</span>
<span class="hljs-addition">+ }</span>
<span class="hljs-addition">+ // å°†å­—ç¬¦ä¸²çš„é¦–å­—æ¯å¤§å†™ï¼Œä½¿ç”¨ charAt(0) è·å–ç¬¬ä¸€ä¸ªå­—ç¬¦å¹¶è½¬æ¢ä¸ºå¤§å†™ï¼Œç„¶ååŠ ä¸Šå‰©ä½™å­—ç¬¦ä¸²ï¼ˆä»ç´¢å¼•1å¼€å§‹ï¼‰</span>
<span class="hljs-addition">+ export function capitalize(str: string) {</span>
<span class="hljs-addition">+    return str.charAt(0).toUpperCase() + str.slice(1)</span>
<span class="hljs-addition">+ }</span>

export default function VitePluginAutoComponents() {
    return {
      // æ’ä»¶åç§°ï¼Œç”¨äºè°ƒè¯•å’Œé”™è¯¯ä¿¡æ¯
      name: 'vite-plugin-auto-component',
  
      // transform é’©å­å‡½æ•°ï¼Œåœ¨è½¬æ¢æ¨¡å—æ—¶è°ƒç”¨
      // code: æ–‡ä»¶å†…å®¹ï¼Œid: æ–‡ä»¶è·¯å¾„
      transform(code, id) {
        // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º.vueæ–‡ä»¶
        // å¦‚æœä¸æ˜¯.vueæ–‡ä»¶ï¼Œä¸è¿›è¡Œå¤„ç†
        if(/\.vue$/.test(id)) {
            // çœç•¥...
  
            // éå†æ‰€æœ‰åŒ¹é…ç»“æœè¿›è¡Œå¤„ç†
            for (const { rawName, replace } of results) {
<span class="hljs-addition">+                // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§é©¼å³°</span>
<span class="hljs-addition">+                const name = pascalCase(rawName)</span>
<span class="hljs-addition">+                // åªå¤„ç† Co å¼€å¤´çš„ç»„ä»¶</span>
<span class="hljs-addition">+                if (!name.match(/^Co[A-Z]/)) return</span>
                // å®šä¹‰è¦æ›¿æ¢çš„å˜é‡å
<span class="hljs-deletion">-                const varName = `CoButton`</span>
<span class="hljs-addition">+                const varName = name</span>
                // åœ¨ä»£ç å¼€å¤´æ·»åŠ å¯¼å…¥è¯­å¥ï¼š
                // 1. å¯¼å…¥ CoButton ç»„ä»¶
                // 2. å¯¼å…¥æ ·å¼æ–‡ä»¶
                s.prepend(`\nimport ${varName} from 'cobyte-vite-ui/dist/components/button';\nimport 'cobyte-vite-ui/dist/style.css';\n`)
  
                // æ‰§è¡Œæ›¿æ¢ï¼šå°† resolveComponent("xxx") è°ƒç”¨æ›¿æ¢ä¸ºç»„ä»¶å˜é‡å
                replace(varName)
            }
  
            // è¿”å›è½¬æ¢åçš„ä»£ç 
            return {
                code: s.toString(),  // è½¬æ¢åçš„ä»£ç å­—ç¬¦ä¸²
                map: null, 
            }
        }
      },
    }
}
</code></pre>
<p>ç»è¿‡ä¸Šè¿°å®ç°è¿˜æ˜¯å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼Œæ— è®ºÂ <code>rawName</code>Â æ˜¯ä»€ä¹ˆï¼Œç»„ä»¶éƒ½æ˜¯ä»Â <code>'cobyte-vite-ui/dist/components/button'</code>Â è¿™ä¸ªå›ºå®šè·¯å¾„å¯¼å…¥ã€‚è¿™æ„å‘³ç€å³ä½¿ä½¿ç”¨äº†Â <code>resolveComponent("CoTable")</code>ï¼Œæ’ä»¶ä¾ç„¶ä¼šå°è¯•ä»Â <code>button</code>Â æ–‡ä»¶å¯¼å…¥ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå¯¼å…¥è·¯å¾„åº”æ ¹æ®ç»„ä»¶ååŠ¨æ€ç”Ÿæˆã€‚æ‰€ä»¥æˆ‘ä»¬ç»§ç»­å®ç°åŠ¨æ€ç»„ä»¶è·¯å¾„ï¼Œä¾‹å¦‚Â <code>CoTableColumn</code>Â ç»„ä»¶æ˜ å°„åˆ°Â <code>'cobyte-vite-ui/dist/components/table-column'</code>ã€‚</p>
<p>æˆ‘ä»¬ä¸Šè¿°çš„ç»„ä»¶æ˜¯ "CoButton"ï¼Œé‚£ä¹ˆè½¬æ¢è¿‡ç¨‹åˆ™æ˜¯ï¼š<br/>
"CoButton" -&gt; å»æ‰"Co" -&gt; "Button" -&gt; kebabCase -&gt; "button"ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡å®ç°ä¸€ä¸ª kebabCase å‡½æ•°è¿›è¡Œç»„ä»¶è·¯å¾„è½¬æ¢è§£æï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">// çœç•¥...

<span class="hljs-addition">+ // å°†é©¼å³°å‘½åçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºçŸ­æ¨ªçº¿åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ˆå³kebab-caseï¼‰</span>
<span class="hljs-addition">+ export function kebabCase(key: string) {</span>
<span class="hljs-addition">+    const result = key.replace(/([A-Z])/g, ' $1').trim()</span>
<span class="hljs-addition">+    return result.split(' ').join('-').toLowerCase()</span>
<span class="hljs-addition">+ }</span>

export default function VitePluginAutoComponents() {
    return {
      // æ’ä»¶åç§°ï¼Œç”¨äºè°ƒè¯•å’Œé”™è¯¯ä¿¡æ¯
      name: 'vite-plugin-auto-component',
  
      // transform é’©å­å‡½æ•°ï¼Œåœ¨è½¬æ¢æ¨¡å—æ—¶è°ƒç”¨
      // code: æ–‡ä»¶å†…å®¹ï¼Œid: æ–‡ä»¶è·¯å¾„
      transform(code, id) {
        // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º.vueæ–‡ä»¶
        // å¦‚æœä¸æ˜¯.vueæ–‡ä»¶ï¼Œä¸è¿›è¡Œå¤„ç†
        if(/\.vue$/.test(id)) {
            // çœç•¥...
  
            // éå†æ‰€æœ‰åŒ¹é…ç»“æœè¿›è¡Œå¤„ç†
            for (const { rawName, replace } of results) {
                // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§é©¼å³°
                const name = pascalCase(rawName)
                // åªå¤„ç† Co å¼€å¤´çš„ç»„ä»¶
                if (!name.match(/^Co[A-Z]/)) return
<span class="hljs-addition">+                // ç»„ä»¶è·¯å¾„è½¬æ¢</span>
<span class="hljs-addition">+                const partialName = kebabCase(name.slice(2))</span>
                // å®šä¹‰è¦æ›¿æ¢çš„å˜é‡å
                const varName = name
                // åœ¨ä»£ç å¼€å¤´æ·»åŠ å¯¼å…¥è¯­å¥ï¼š
                // 1. å¯¼å…¥ CoButton ç»„ä»¶
                // 2. å¯¼å…¥æ ·å¼æ–‡ä»¶
<span class="hljs-deletion">-                s.prepend(`\nimport ${varName} from 'cobyte-vite-ui/dist/components/button';\nimport 'cobyte-vite-ui/dist/style.css';\n`)</span>
<span class="hljs-addition">+                s.prepend(`\nimport ${varName} from 'cobyte-vite-ui/dist/components/${partialName}';\nimport 'cobyte-vite-ui/dist/style.css';\n`)</span>
  
                // æ‰§è¡Œæ›¿æ¢ï¼šå°† resolveComponent("xxx") è°ƒç”¨æ›¿æ¢ä¸ºç»„ä»¶å˜é‡å
                replace(varName)
            }
  
            // è¿”å›è½¬æ¢åçš„ä»£ç 
            return {
                code: s.toString(),  // è½¬æ¢åçš„ä»£ç å­—ç¬¦ä¸²
                map: null, 
            }
        }
      },
    }
}
</code></pre>
<p>ç»è¿‡ä¸Šè¿°è¿­ä»£åï¼Œæˆ‘ä»¬é‡æ–°æ‰“åŒ…ï¼Œé‡æ–°å¯åŠ¨ play æµ‹è¯•é¡¹ç›®ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„ä»£ç æ˜¯èƒ½å¤Ÿæ­£å¸¸è¿è¡Œçš„ï¼Œè¯´æ˜æˆ‘ä»¬ä¸Šè¿°çš„è¿­ä»£æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚<strong>è‡³æ­¤æˆ‘ä»¬ä¸ºç»„ä»¶è‡ªåŠ¨å¯¼å…¥æä¾›äº†æ ¸å¿ƒçš„è·¯å¾„è§£æèƒ½åŠ›</strong>ã€‚</p>
<h3 data-id="heading-6">å¼•å…¥è§£æå™¨ (Resolver) æ¦‚å¿µ</h3>
<p>å½“å‰æ’ä»¶ç¡¬ç¼–ç äº†ç»„ä»¶åº“çš„è·¯å¾„å’Œæ ·å¼æ–‡ä»¶ï¼Œåªèƒ½ç”¨äºç‰¹å®šçš„ç»„ä»¶åº“ï¼ˆcobyte-vite-uiï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥è§£æå™¨(Resolver)ï¼Œè®©æ’ä»¶æ”¯æŒä¸åŒçš„ç»„ä»¶åº“ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é…ç½®ä¸åŒçš„è§£æå™¨ã€‚</p>
<p>è§£æå™¨çš„ä½œç”¨æ˜¯æ ¹æ®ç»„ä»¶åè¿”å›ä¸€ä¸ªè§£æç»“æœï¼ŒåŒ…æ‹¬ç»„ä»¶çš„å¯¼å…¥è·¯å¾„å’Œæ ·å¼æ–‡ä»¶è·¯å¾„ä»¥åŠç»„ä»¶åŸå§‹åç§°ã€‚è¿™æ ·ï¼Œæ’ä»¶å°±å¯ä»¥é€šè¿‡è§£æå™¨è¿”å›çš„å¯¹è±¡ä¿¡æ¯åŠ¨æ€è·å–ç»„ä»¶çš„å¯¼å…¥ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å›ºå®šå†™æ­»ã€‚</p>
<p>åœ¨å®ç°è§£æå™¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè®¾è®¡è§£æå™¨è¿”å›çš„å¯¹è±¡ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> component = {
    name, <span class="hljs-comment">// ç»„ä»¶åŸå§‹åç§°</span>
    <span class="hljs-attr">from</span>: <span class="hljs-string">`cobyte-vite-ui/dist/components/<span class="hljs-subst">${partialName}</span>`</span>, <span class="hljs-comment">// ç»„ä»¶çš„å¯¼å…¥è·¯å¾„</span>
    <span class="hljs-attr">sideEffects</span>: [<span class="hljs-string">'cobyte-vite-ui/dist/style.css'</span>] <span class="hljs-comment">// ç»„ä»¶çš„æ ·å¼æ–‡ä»¶è·¯å¾„</span>
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</p>
<ol>
<li>ç»„ä»¶å (name):<br/>
ç”¨äºåœ¨å¯¼å…¥è¯­å¥ä¸­ä½œä¸ºæ ‡è¯†ç¬¦ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯å¸•æ–¯å¡å‘½åï¼Œå› ä¸ºå®ƒåœ¨ Vue ä¸­é€šå¸¸ç”¨äºç»„ä»¶æ³¨å†Œå’Œæ¨¡æ¿ä¸­ã€‚</li>
<li>å¯¼å…¥è·¯å¾„ (from):<br/>
è¿™é‡Œä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²åŠ¨æ€æ„å»ºå¯¼å…¥è·¯å¾„ã€‚å…¶ä¸­ï¼Œ<code>partialName</code>Â æ˜¯é€šè¿‡å°†ç»„ä»¶åå»æ‰å‰ä¸¤ä¸ªå­—ç¬¦ï¼ˆå³å»æ‰"Co"ï¼‰å¹¶è½¬æ¢ä¸º kebab-case å¾—åˆ°çš„ã€‚<br/>
ä¾‹å¦‚ï¼Œç»„ä»¶å "CoTableColumn" è½¬æ¢ä¸º "table-column"ï¼Œç„¶åæ‹¼æ¥æˆè·¯å¾„ 'cobyte-vite-ui/dist/components/table-column'ã€‚<br/>
è¿™æ ·è®¾è®¡æ˜¯å› ä¸ºç»„ä»¶åº“çš„ç›®å½•ç»“æ„å¯èƒ½æ˜¯æŒ‰ç…§ kebab-case å‘½åçš„ï¼Œè€Œç»„ä»¶åœ¨ä»£ç ä¸­æ˜¯ä»¥å¸•æ–¯å¡å‘½åä½¿ç”¨çš„ã€‚</li>
<li>å‰¯ä½œç”¨ (sideEffects):<br/>
è¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒæŒ‡å®šåœ¨å¯¼å…¥ç»„ä»¶æ—¶éœ€è¦åŒæ—¶å¯¼å…¥çš„æ ·å¼æ–‡ä»¶æˆ–å…¶ä»–èµ„æºã€‚è¿™é‡ŒæŒ‡å®šäº†ç»„ä»¶åº“çš„å…¨å±€æ ·å¼æ–‡ä»¶ã€‚<br/>
æ³¨æ„ï¼šè¿™ä¸ªæ ·å¼æ–‡ä»¶æ˜¯å…¨å±€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡å¯¼å…¥å“ªä¸ªç»„ä»¶ï¼Œéƒ½ä¼šå¯¼å…¥æ•´ä¸ªç»„ä»¶åº“çš„æ ·å¼ã€‚è¿™å¯èƒ½ä¼šé€ æˆæ ·å¼å†—ä½™ã€‚<br/>
æ›´ç²¾ç»†çš„åšæ³•æ˜¯ä¸ºæ¯ä¸ªç»„ä»¶æŒ‡å®šå…¶å¯¹åº”çš„æ ·å¼æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š<br/>
sideEffects: [<code>cobyte-vite-ui/dist/components/${partialName}/style.css</code>]</li>
</ol>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å½“å‰ç»„ä»¶åº“æ²¡æœ‰ä¸ºæ¯ä¸ªç»„ä»¶å•ç‹¬æä¾›æ ·å¼æ–‡ä»¶ï¼Œæˆ‘ä»¬åªæä¾›äº†å›ºå®šçš„å…¨å±€æ ·å¼æ–‡ä»¶ã€‚</p>
<p>ä¸Šé¢è®¾è®¡è§£æå™¨è¿”å›çš„å¯¹è±¡å°è£…äº†ç»„ä»¶çš„å®Œæ•´å¯¼å…¥ä¿¡æ¯ï¼Œä½œä¸ºæ•°æ®è½½ä½“ä¼ é€’ç»™åç»­å¤„ç†å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºæ­¤è¿›è¡Œè¿­ä»£ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">// çœç•¥...

<span class="hljs-addition">+ // æ ¹æ®ä¼ å…¥çš„ä¿¡æ¯ç”Ÿæˆå¯¹åº”çš„å¯¼å…¥è¯­å¥å­—ç¬¦ä¸²</span>
<span class="hljs-addition">+ export function stringifyImport(info) {</span>
<span class="hljs-addition">+    if (typeof info === 'string')</span>
<span class="hljs-addition">+      return `import '${info}'`</span>
<span class="hljs-addition">+    if (!info.as)</span>
<span class="hljs-addition">+      return `import '${info.from}'`</span>
<span class="hljs-addition">+    else if (info.name)</span>
<span class="hljs-addition">+      return `import { ${info.name} as ${info.as} } from '${info.from}'`</span>
<span class="hljs-addition">+    else</span>
<span class="hljs-addition">+      return `import ${info.as} from '${info.from}'`</span>
<span class="hljs-addition">+ }</span>
<span class="hljs-addition">+ // æ ¹æ®ç»„ä»¶çš„å¯¼å…¥ä¿¡æ¯ç”Ÿæˆå®Œæ•´çš„å¯¼å…¥è¯­å¥ï¼ŒåŒ…æ‹¬ç»„ä»¶æœ¬èº«çš„å¯¼å…¥å’Œå…¶å‰¯ä½œç”¨ï¼ˆå¦‚æ ·å¼æ–‡ä»¶ï¼‰çš„å¯¼å…¥ã€‚</span>
<span class="hljs-addition">+ export function stringifyComponentImport({ as: name, from: path, name: importName, sideEffects }) {</span>
<span class="hljs-addition">+    const imports = [</span>
<span class="hljs-addition">+      // ç”Ÿæˆç»„ä»¶å¯¼å…¥è¯­å¥</span>
<span class="hljs-addition">+      stringifyImport({ as: name, from: path, name: importName }),</span>
<span class="hljs-addition">+    ]</span>
  
<span class="hljs-addition">+    if (sideEffects) {</span>
<span class="hljs-addition">+      // ç”Ÿæˆå‰¯ä½œç”¨å¯¼å…¥è¯­å¥</span>
<span class="hljs-addition">+      sideEffects.forEach(i =&gt; imports.push(stringifyImport(i)))</span>
<span class="hljs-addition">+    }</span>
  
<span class="hljs-addition">+    return imports.join(';')</span>
<span class="hljs-addition">+ }</span>

  export default function VitePluginAutoComponents() {
    return {
      // æ’ä»¶åç§°ï¼Œç”¨äºè°ƒè¯•å’Œé”™è¯¯ä¿¡æ¯
      name: 'vite-plugin-auto-component',
  
      // transform é’©å­å‡½æ•°ï¼Œåœ¨è½¬æ¢æ¨¡å—æ—¶è°ƒç”¨
      // code: æ–‡ä»¶å†…å®¹ï¼Œid: æ–‡ä»¶è·¯å¾„
      transform(code, id) {
        // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º.vueæ–‡ä»¶
        // å¦‚æœä¸æ˜¯.vueæ–‡ä»¶ï¼Œä¸è¿›è¡Œå¤„ç†
        if(/\.vue$/.test(id)) {
            // çœç•¥...
<span class="hljs-addition">+            let no = 0</span>
            // éå†æ‰€æœ‰åŒ¹é…ç»“æœè¿›è¡Œå¤„ç†
            for (const { rawName, replace } of results) {
                // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§é©¼å³°
                const name = pascalCase(rawName)
                // åªå¤„ç† Co å¼€å¤´çš„ç»„ä»¶
                if (!name.match(/^Co[A-Z]/)) return
                // ç»„ä»¶è·¯å¾„è½¬æ¢
                const partialName = kebabCase(name.slice(2))
<span class="hljs-addition">+                // å°è£…äº†ç»„ä»¶çš„å®Œæ•´å¯¼å…¥ä¿¡æ¯ï¼Œä½œä¸ºæ•°æ®è½½ä½“ä¼ é€’ç»™åç»­å¤„ç†å‡½æ•°</span>
<span class="hljs-addition">+                const component = {</span>
<span class="hljs-addition">+                    name,</span>
<span class="hljs-addition">+                    from: `cobyte-vite-ui/dist/components/${partialName}`,</span>
<span class="hljs-addition">+                    sideEffects: ['cobyte-vite-ui/dist/style.css']</span>
<span class="hljs-addition">+                }</span>
<span class="hljs-deletion">-                // å®šä¹‰è¦æ›¿æ¢çš„å˜é‡åï¼ˆè¿™é‡Œæš‚æ—¶ç¼–ç ä¸º CoButtonï¼‰</span>
<span class="hljs-deletion">-                const varName = name</span>
<span class="hljs-addition">+                // ä½¿ç”¨ç‰¹æ®Šå‰ç¼€å‡å°‘ä¸ç”¨æˆ·å˜é‡çš„å†²çªï¼Œä»¥åŠä½¿ç”¨é€’å¢çš„åºå·ï¼Œä¿è¯å”¯ä¸€æ€§ï¼Œé¿å…å˜é‡åå†²çª</span>
<span class="hljs-addition">+                const varName = `__unplugin_components_${no}`</span>
                // åœ¨ä»£ç å¼€å¤´æ·»åŠ å¯¼å…¥è¯­å¥ï¼š
                // 1. å¯¼å…¥ CoButton ç»„ä»¶
                // 2. å¯¼å…¥æ ·å¼æ–‡ä»¶
<span class="hljs-deletion">-                 s.prepend(`\nimport ${varName} from 'cobyte-vite-ui/dist/components/${partialName}';\nimport 'cobyte-vite-ui/dist/style.css';\n`)</span>
<span class="hljs-addition">+                // è¿™é‡Œå°† component å¯¹è±¡å±•å¼€ï¼Œå¹¶æ·»åŠ  as: varName å‚æ•°ï¼Œå½¢æˆå®Œæ•´çš„å¯¼å…¥é…ç½®</span>
<span class="hljs-addition">+                s.prepend(`${stringifyComponentImport({ ...component, as: varName })};\n`)</span>
<span class="hljs-addition">+                no += 1</span>
                // æ‰§è¡Œæ›¿æ¢ï¼šå°† resolveComponent("xxx") è°ƒç”¨æ›¿æ¢ä¸ºç»„ä»¶å˜é‡å
                replace(varName)
            }
  
            // è¿”å›è½¬æ¢åçš„ä»£ç 
            return {
                code: s.toString(),  // è½¬æ¢åçš„ä»£ç å­—ç¬¦ä¸²
                map: null, 
            }
        }
      },
    }
}
</code></pre>
<p>æˆ‘ä»¬æ·»åŠ äº†æ ¹æ®ä¼ å…¥çš„ä¿¡æ¯ç”Ÿæˆå¯¹åº”çš„å¯¼å…¥è¯­å¥å­—ç¬¦ä¸²çš„ <code>stringifyImport</code> å‡½æ•°å’Œæ ¹æ®ç»„ä»¶çš„å¯¼å…¥ä¿¡æ¯ç”Ÿæˆå®Œæ•´çš„å¯¼å…¥è¯­å¥ï¼ŒåŒ…æ‹¬ç»„ä»¶æœ¬èº«çš„å¯¼å…¥å’Œå…¶å‰¯ä½œç”¨ï¼ˆå¦‚æ ·å¼æ–‡ä»¶ï¼‰çš„å¯¼å…¥çš„ <code>stringifyComponentImport</code> å‡½æ•°ã€‚å…¶ä¸­ stringifyImport å¤„ç†å•ä¸€å¯¼å…¥è¯­å¥ï¼Œ<code>stringifyComponentImport</code> å¤„ç†ç»„åˆå¤šä¸ªç›¸å…³å¯¼å…¥ï¼Œå®ç°äº†èŒè´£åˆ†ç¦»å’Œé…ç½®çµæ´»çš„è®¾è®¡ä¼˜åŠ¿ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å…±åŒæ„æˆäº†ä¸€ä¸ªçµæ´»çš„å¯¼å…¥è¯­å¥ç”Ÿæˆç³»ç»Ÿï¼Œä¸ºè‡ªåŠ¨å¯¼å…¥æ’ä»¶æä¾›äº†å¼ºå¤§çš„ä»£ç ç”Ÿæˆèƒ½åŠ›ã€‚</p>
<p>æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªè§£æç»“æœåŒ…æ‹¬ï¼š<code>name</code>ï¼ˆç»„ä»¶åï¼‰ã€<code>from</code>ï¼ˆå¯¼å…¥è·¯å¾„ï¼‰ã€<code>sideEffects</code>ï¼ˆæ ·å¼ç­‰å‰¯ä½œç”¨å¯¼å…¥ï¼‰çš„æ•°æ®ç»“æ„å¯¹è±¡ <code>component</code> ä½œä¸ºæ•°æ®è½½ä½“ä¼ é€’ç»™åç»­å¤„ç†å‡½æ•°ï¼Œåç»­ç¨‹åºåŸºäºæ­¤æ¥ç”Ÿæˆå¯¼å…¥è¯­å¥å’Œæ›¿æ¢ä»£ç ã€‚</p>
<p>å…¶ä¸­å˜é‡åç”Ÿæˆç­–ç•¥ä½¿ç”¨ç‰¹æ®Šå‰ç¼€å‡å°‘ä¸ç”¨æˆ·å˜é‡çš„å†²çªä»è€Œ<strong>é¿å…æ±¡æŸ“</strong>ï¼ŒåŒæ—¶ä½¿ç”¨é€’å¢åºå·æ¥<strong>ä¿è¯å”¯ä¸€æ€§</strong>ã€‚</p>
<p>æœ€ç»ˆæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåŸºäºæ•°æ®é©±åŠ¨çš„æ¶æ„ï¼Œå°†æ¥è§£æå™¨åªè´Ÿè´£è¯†åˆ«ç»„ä»¶å’Œè¿”å›è·¯å¾„çš„æ•°æ®ä¿¡æ¯ï¼Œç„¶åå¯¼å…¥ç”Ÿæˆå™¨å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸Šè¿°çš„ <code>stringifyComponentImport</code> å’Œ <code>stringifyImport</code> è´Ÿè´£æ ¹æ®é…ç½®ç”Ÿæˆå¯¼å…¥ä»£ç ï¼Œæˆ‘ä»¬æ•´ä½“çš„ Vite æ’ä»¶å°±åªè´Ÿè´£åè°ƒæµç¨‹å’Œä»£ç ä¿®æ”¹ã€‚</p>
<p>è¿™ç§æ¶æ„ä¸ºåç»­å¼•å…¥çœŸæ­£çš„å¤šè§£æå™¨æ”¯æŒå¥ å®šäº†è‰¯å¥½åŸºç¡€ï¼Œåªéœ€è¦å°†ç¡¬ç¼–ç çš„è§£æé€»è¾‘æ›¿æ¢ä¸ºå¯é…ç½®çš„è§£æå™¨æ•°ç»„å³å¯ã€‚</p>
<h3 data-id="heading-7">å®ç°è§£æå™¨ (Resolver)</h3>
<p>æˆ‘ä»¬å¼•å…¥è§£æå™¨æ˜¯ä¸ºäº†æé«˜æ’ä»¶çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚å½“å‰æ’ä»¶ç¡¬ç¼–ç äº†ç»„ä»¶åº“çš„è·¯å¾„å’Œæ ·å¼æ–‡ä»¶ï¼Œåªèƒ½ç”¨äºç‰¹å®šçš„ç»„ä»¶åº“ï¼ˆcobyte-vite-uiï¼‰ã€‚é€šè¿‡å¼•å…¥è§£æå™¨ï¼Œæˆ‘ä»¬å¯ä»¥è®©æ’ä»¶æ”¯æŒä¸åŒçš„ç»„ä»¶åº“ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é…ç½®ä¸åŒçš„è§£æå™¨ã€‚</p>
<p>è§£æå™¨çš„ä½œç”¨æ˜¯æ ¹æ®ç»„ä»¶åè¿”å›ä¸€ä¸ªè§£æç»“æœï¼ŒåŒ…æ‹¬ç»„ä»¶çš„å¯¼å…¥è·¯å¾„å’Œæ ·å¼æ–‡ä»¶è·¯å¾„ç­‰ã€‚è¿™æ ·ï¼Œæ’ä»¶å°±å¯ä»¥é€šè¿‡è§£æå™¨æ¥åŠ¨æ€è·å–ç»„ä»¶çš„å¯¼å…¥ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å›ºå®šå†™æ­»ã€‚</p>
<p>æ”¹é€ æ­¥éª¤ï¼š</p>
<ol>
<li>ä¿®æ”¹æ’ä»¶å‡½æ•°ï¼Œä½¿å…¶å¯ä»¥æ¥å—ä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼Œé€‰é¡¹ä¸­åŒ…å«è§£æå™¨æ•°ç»„ã€‚</li>
<li>åœ¨æ’ä»¶å†…éƒ¨ï¼Œéå†è§£æå™¨æ•°ç»„ï¼Œå¯¹æ¯ä¸ªç»„ä»¶åå°è¯•ä½¿ç”¨è§£æå™¨è¿›è¡Œè§£æã€‚</li>
<li>å¦‚æœæŸä¸ªè§£æå™¨è¿”å›äº†ç»“æœï¼Œåˆ™ä½¿ç”¨è¯¥ç»“æœæ¥ç”Ÿæˆå¯¼å…¥è¯­å¥ã€‚</li>
<li>å¦‚æœæ²¡æœ‰è§£æå™¨åŒ¹é…ï¼Œå¯ä»¥è·³è¿‡è¯¥ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚åšå…¶ä»–å¤„ç†ã€‚</li>
</ol>
<p>å‚è€ƒ <code>NaiveUi</code> åŸºäº <code>unplugin-vue-components</code> å®ç°çš„è§£æå™¨ç»“æ„ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">NaiveUiResolver</span>(<span class="hljs-params"/>): <span class="hljs-title class_">ComponentResolver</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'component'</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">name: string</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(N[A-Z]|n-[a-z])/</span>))
        <span class="hljs-keyword">return</span> { name, <span class="hljs-attr">from</span>: <span class="hljs-string">'naive-ui'</span>, <span class="hljs-attr">sideEffects</span>: [] }
    },
  }
}
</code></pre>
<ul>
<li>è§£æå™¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä¸€ä¸ª<code>resolve</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ç»„ä»¶åï¼Œè¿”å›ä¸€ä¸ªè§£æç»“æœå¯¹è±¡æˆ–undefinedã€‚</li>
<li>è§£æç»“æœå¯¹è±¡åŒ…æ‹¬ï¼š<code>name</code>ï¼ˆç»„ä»¶åï¼Œå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨åŸå§‹åï¼‰ï¼Œ<code>from</code>ï¼ˆå¯¼å…¥è·¯å¾„ï¼‰ï¼Œ<code>sideEffects</code>ï¼ˆæ ·å¼æ–‡ä»¶è·¯å¾„ç­‰ï¼Œå¯é€‰ï¼‰</li>
</ul>
<p>æˆ‘ä»¬è¿˜å¯ä»¥æ”¯æŒå¤šç§è§£æå™¨ï¼Œè¿™æ ·æ’ä»¶å¯ä»¥åŒæ—¶æ”¯æŒå¤šä¸ªç»„ä»¶åº“ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªæ€è·¯æ”¹é€ æ’ä»¶ä»£ç ã€‚é¦–å…ˆåŸºäºä¸Šè¿° <code>NaiveUi</code> çš„è§£æå™¨å®ç°æˆ‘ä»¬çš„æµ‹è¯•ç»„ä»¶çš„è§£æå™¨ï¼Œ<code>./packages/utils/index.ts</code> æ–°å¢ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è§£æå™¨å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">CobyteViteUiResolver</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'component'</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">name: string</span>) =&gt;</span> {
      <span class="hljs-comment">// åªå¤„ç† Co å¼€å¤´çš„ç»„ä»¶</span>
      <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^Co[A-Z]/</span>)) {
        <span class="hljs-keyword">const</span> partialName = <span class="hljs-title function_">kebabCase</span>(name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>)) <span class="hljs-comment">// CoTableColumn -&gt; table-column</span>
        <span class="hljs-keyword">return</span> { 
          name, 
          <span class="hljs-attr">from</span>: <span class="hljs-string">`cobyte-vite-ui/dist/components/<span class="hljs-subst">${partialName}</span>`</span>, 
          <span class="hljs-attr">sideEffects</span>: [<span class="hljs-string">'cobyte-vite-ui/dist/style.css'</span>] 
        }
      }
    },
  }
}
</code></pre>
<p>æ¥ä¸‹æ¥ä¿®æ”¹æ’ä»¶å‡½æ•°ï¼Œä½¿å…¶å¯ä»¥æ¥å—ä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼Œé€‰é¡¹ä¸­åŒ…å«è§£æå™¨æ•°ç»„ï¼Œé‡‡ç”¨ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œå› æ­¤æˆ‘ä»¬å¼•å…¥ Context ç±»ï¼Œåˆ›å»º Context ç±»æ¥ç®¡ç†æ’ä»¶é…ç½®å’Œè§£æå™¨ï¼Œå¹¶ç¼“å­˜è§£æç»“æœï¼Œæ¥ç€åœ¨ transform é’©å­ä¸­ï¼Œä½¿ç”¨ Context å®ä¾‹æ¥æŸ¥æ‰¾ç»„ä»¶ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç è§£æé€»è¾‘ã€‚</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+ export class Context {</span>
<span class="hljs-addition">+  options: any;</span>
<span class="hljs-addition">+  private _componentNameMap = {} // ç»„ä»¶ç¼“å­˜</span>
<span class="hljs-addition">+  constructor(private rawOptions: any) {</span>
<span class="hljs-addition">+    this.options = rawOptions</span>
<span class="hljs-addition">+  }</span>

<span class="hljs-addition">+  async findComponent(name: string) {</span>
<span class="hljs-addition">+    // 1. æ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥ç»„ä»¶çš„ä¿¡æ¯</span>
<span class="hljs-addition">+    let info = this._componentNameMap[name]</span>
<span class="hljs-addition">+    if (info) {</span>
<span class="hljs-addition">+      return info // ç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›</span>
<span class="hljs-addition">+    }</span>
<span class="hljs-addition">+    // 2. éå†æ‰€æœ‰è§£æå™¨</span>
<span class="hljs-addition">+    for (const resolver of this.options.resolvers) {</span>
<span class="hljs-addition">+      const result = await resolver.resolve(name)</span>
<span class="hljs-addition">+      // 3. åˆ¤æ–­è§£æå™¨æ˜¯å¦è¿”å›äº†ç»“æœ</span>
<span class="hljs-addition">+      if (!result) {</span>
<span class="hljs-addition">+        continue</span>
<span class="hljs-addition">+      }</span>
<span class="hljs-addition">+      // 4. æ„å»ºå®Œæ•´ç»„ä»¶ä¿¡æ¯</span>
<span class="hljs-addition">+      info = {</span>
<span class="hljs-addition">+        as: name, // æ·»åŠ åˆ«å</span>
<span class="hljs-addition">+        ...result,</span>
<span class="hljs-addition">+      }</span>
<span class="hljs-addition">+      // 5. å­˜å…¥ç¼“å­˜</span>
<span class="hljs-addition">+      this._componentNameMap[name] = info</span>
<span class="hljs-addition">+      return info</span>
<span class="hljs-addition">+    }</span>
<span class="hljs-addition">+    // æ‰€æœ‰è§£æå™¨éƒ½ä¸åŒ¹é…ï¼Œè¿”å› undefined</span>
<span class="hljs-addition">+  }</span>
<span class="hljs-addition">+ }</span>

<span class="hljs-deletion">-  export default function VitePluginAutoComponents() {</span>
<span class="hljs-addition">+  export default function VitePluginAutoComponents(options = {}) {</span>
<span class="hljs-addition">+    // åˆ›å»º Context å®ä¾‹ï¼Œç”¨äºå­˜å‚¨æ’ä»¶é…ç½®å’Œç»„ä»¶ä¿¡æ¯</span>
<span class="hljs-addition">+    const ctx = new Context(options)</span>
    return {
      // æ’ä»¶åç§°ï¼Œç”¨äºè°ƒè¯•å’Œé”™è¯¯ä¿¡æ¯
      name: 'vite-plugin-auto-component',
  
      // transform é’©å­å‡½æ•°ï¼Œåœ¨è½¬æ¢æ¨¡å—æ—¶è°ƒç”¨
      // code: æ–‡ä»¶å†…å®¹ï¼Œid: æ–‡ä»¶è·¯å¾„
      async transform(code, id) {
        // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸º.vueæ–‡ä»¶
        // å¦‚æœä¸æ˜¯.vueæ–‡ä»¶ï¼Œä¸è¿›è¡Œå¤„ç†
        if(/\.vue$/.test(id)) {
            // çœç•¥...
            
            let no = 0
            // éå†æ‰€æœ‰åŒ¹é…ç»“æœè¿›è¡Œå¤„ç†
            for (const { rawName, replace } of results) {
                // å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§é©¼å³°
                const name = pascalCase(rawName)
<span class="hljs-deletion">-                // åªå¤„ç† Co å¼€å¤´çš„ç»„ä»¶</span>
<span class="hljs-deletion">-                 if (!name.match(/^Co[A-Z]/)) return</span>
<span class="hljs-deletion">-                // ç»„ä»¶è·¯å¾„è½¬æ¢</span>
<span class="hljs-deletion">-                 const partialName = kebabCase(name.slice(2))</span>
<span class="hljs-deletion">-                // å°è£…äº†ç»„ä»¶çš„å®Œæ•´å¯¼å…¥ä¿¡æ¯ï¼Œä½œä¸ºæ•°æ®è½½ä½“ä¼ é€’ç»™åç»­å¤„ç†å‡½æ•°</span>
<span class="hljs-deletion">-                 const component = {</span>
<span class="hljs-deletion">-                     name,</span>
<span class="hljs-deletion">-                     from: `cobyte-vite-ui/dist/components/${partialName}`,</span>
<span class="hljs-deletion">-                     sideEffects: ['cobyte-vite-ui/dist/style.css']</span>
<span class="hljs-deletion">-                 }</span>
<span class="hljs-addition">+                const component = await ctx.findComponent(name)</span>
<span class="hljs-addition">+                if (component) {</span>
                  // å®šä¹‰è¦æ›¿æ¢çš„å˜é‡åï¼ˆè¿™é‡Œæš‚æ—¶ç¼–ç ä¸º CoButtonï¼‰
                  // const varName = name
                  // ä½¿ç”¨ç‰¹æ®Šå‰ç¼€å‡å°‘ä¸ç”¨æˆ·å˜é‡çš„å†²çªï¼Œä»¥åŠä½¿ç”¨é€’å¢çš„åºå·ï¼Œä¿è¯å”¯ä¸€æ€§ï¼Œé¿å…å˜é‡åå†²çª
                  const varName = `__unplugin_components_${no}`
                  // åœ¨ä»£ç å¼€å¤´æ·»åŠ å¯¼å…¥è¯­å¥ï¼š
                  // 1. å¯¼å…¥ CoButton ç»„ä»¶
                  // 2. å¯¼å…¥æ ·å¼æ–‡ä»¶
                  // s.prepend(`\nimport ${varName} from 'cobyte-vite-ui/dist/components/${partialName}';\nimport 'cobyte-vite-ui/dist/style.css';\n`)
                  // è¿™é‡Œå°† component å¯¹è±¡å±•å¼€ï¼Œå¹¶æ·»åŠ  as: varName å‚æ•°ï¼Œå½¢æˆå®Œæ•´çš„å¯¼å…¥é…ç½®
                  s.prepend(`${stringifyComponentImport({ ...component, as: varName })};\n`)
                  no += 1
                  // æ‰§è¡Œæ›¿æ¢ï¼šå°† resolveComponent("xxx") è°ƒç”¨æ›¿æ¢ä¸ºç»„ä»¶å˜é‡å
                  replace(varName)
<span class="hljs-addition">+                }</span>
            }
  
            // è¿”å›è½¬æ¢åçš„ä»£ç 
            return {
                code: s.toString(),  // è½¬æ¢åçš„ä»£ç å­—ç¬¦ä¸²
                map: null, 
            }
        }
      },
    }
}
</code></pre>
<p>æ’ä»¶åˆå§‹åŒ–æ—¶ï¼Œåˆ›å»º Context å®ä¾‹ï¼Œä¼ å…¥optionsï¼Œå…¶ä¸­åŒ…å«è§£æå™¨ resolversã€‚Context ç±»æä¾›äº†ä¸€ä¸ªfindComponentæ–¹æ³•ï¼Œç”¨äºæ ¹æ®ç»„ä»¶åæŸ¥æ‰¾ç»„ä»¶ä¿¡æ¯ã€‚è¯¥æ–¹æ³•ä¼šå…ˆæŸ¥çœ‹ç¼“å­˜ï¼Œå¦‚æœç¼“å­˜ä¸­æ²¡æœ‰ï¼Œåˆ™ä¾æ¬¡è°ƒç”¨æ¯ä¸ªè§£æå™¨çš„ resolve æ–¹æ³•ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªè§£æå™¨è¿”å›ç»“æœã€‚ç„¶åå°†ç»“æœç¼“å­˜èµ·æ¥ã€‚åœ¨ transform é’©å­ä¸­ï¼Œä½¿ç”¨ Context å®ä¾‹çš„findComponent æ–¹æ³•æ¥æŸ¥æ‰¾ç»„ä»¶ä¿¡æ¯ï¼Œè€Œä¸å†æ˜¯ç¡¬ç¼–ç è§£æé€»è¾‘ã€‚è¿™æ¬¡è¿­ä»£ä½¿æ’ä»¶ä»å•ä¸€ç»„ä»¶åº“çš„æ”¯æŒæ‰©å±•åˆ°å¤šç»„ä»¶åº“ï¼Œä½¿ç”¨ç¼“å­˜æé«˜æ€§èƒ½ï¼Œé€šè¿‡è§£æå™¨æ¨¡å¼æé«˜æ‰©å±•æ€§ï¼Œå¹¶ä¸”é€šè¿‡å¼‚æ­¥è§£ææŸ¥æ‰¾ç»„ä»¶ä¿¡æ¯ã€ä¸ºæœªæ¥å¼‚æ­¥è§£æé¢„ç•™æ¥å£ã€‚</p>
<p>ç»è¿‡æ­¤æ¬¡çš„è¿­ä»£ï¼Œæˆ‘ä»¬çš„æ’ä»¶å®ç°äº†çœŸæ­£çš„è§£è€¦ï¼Œæ’ä»¶æ ¸å¿ƒåªè´Ÿè´£æµç¨‹æ§åˆ¶ï¼Œè§£æé€»è¾‘åˆ™å®Œå…¨ç”±è§£æå™¨å¤„ç†ï¼Œé…ç½®ç®¡ç†åˆ™ç”± Context ç»Ÿä¸€ç®¡ç†ï¼Œæ ‡å‡†åŒ–äº†è§£æå™¨çš„æ¥å£ï¼Œè¿™æ ·æ‰€æœ‰è§£æå™¨éƒ½éµå¾ªç›¸åŒçš„æ¥å£ï¼Œç”±æ­¤å®ç°äº†å¼ºå¤§çš„æ‹“å±•æ€§ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬æ›´æ–° play é¡¹ç›®ä¸­çš„ Vite é…ç½®æ–‡ä»¶ <code>vite.config.ts</code>ï¼Œæ›´æ–°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
<span class="hljs-deletion">- import AutoComponents from 'cobyte-vite-ui/dist/utils'</span>
<span class="hljs-addition">+ import AutoComponents, { CobyteViteUiResolver} from 'cobyte-vite-ui/dist/utils'</span>

export default defineConfig({
<span class="hljs-deletion">-  plugins: [vue(), AutoComponents()]</span>
<span class="hljs-addition">+  plugins: [vue(), AutoComponents({</span>
<span class="hljs-addition">+    resolvers: [CobyteViteUiResolver()]</span>
<span class="hljs-addition">+  })],</span>
})
</code></pre>
<p>æ¥ç€é‡æ–°æ‰“åŒ…ç»„ä»¶åº“ï¼Œå†é‡å¯ play é¡¹ç›®ï¼Œæˆ‘ä»¬å‘ç°ä¾ç„¶æ­£å¸¸ï¼Œè¯´æ˜æˆ‘ä»¬ä¸Šè¿°çš„æ”¹åŠ¨æ˜¯æ­£ç¡®çš„ã€‚</p>
<h3 data-id="heading-8">å¤šè§£æå™¨é…ç½®</h3>
<p>ä¸Šæ–‡è¯´äº†æˆ‘ä»¬å®ç°äº†æ’ä»¶ä»å•ä¸€ç»„ä»¶åº“çš„æ”¯æŒæ‰©å±•åˆ°å¤šç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½è§£æï¼Œé‚£ä¹ˆä¸‹é¢å°±è®©æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚
é¦–å…ˆæˆ‘ä»¬å¾€ <code>packages/utils/index.ts</code> æ–‡ä»¶æ·»åŠ  Naive UI çš„è§£æå™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * Resolver for Naive UI
 *
 * <span class="hljs-doctag">@link</span> https://www.naiveui.com/
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">NaiveUiResolver</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'component'</span>,
    <span class="hljs-attr">resolve</span>: <span class="hljs-function">(<span class="hljs-params">name: string</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'NaiveUiResolver'</span>, name, name.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(N[A-Z]|n-[a-z])/</span>));
      <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(N[A-Z]|n-[a-z])/</span>))
        <span class="hljs-keyword">return</span> { name, <span class="hljs-attr">from</span>: <span class="hljs-string">'naive-ui'</span> }
    },
  }
}
</code></pre>
<p>è¿™ä¸ªè§£æå™¨æ˜¯å®Œå…¨ä» <code>unplugin-vue-components</code> æ’ä»¶ä¸­æ¬è¿‡æ¥çš„ï¼Œæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½å¤Ÿåœ¨æˆ‘ä»¬å®ç°çš„æ’ä»¶ä¸­ä½¿ç”¨ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬åœ¨ play é¡¹ç›®ä¸­å®‰è£… Naive UI çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> naive-ui
</code></pre>
<p>ç„¶ååœ¨ App.vue æ–‡ä»¶ä¸­å¼•ç”¨ Naive UI çš„ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">co-button</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">co-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>&gt;</span>naive-ui<span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>æ¥ç€ä¿®æ”¹ <code>./play/vite.config.ts</code> æ–‡ä»¶ä¸­çš„é…ç½®ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
<span class="hljs-deletion">- import AutoComponents, { CobyteViteUiResolver } from 'cobyte-vite-ui/dist/utils'</span>
<span class="hljs-addition">+ import AutoComponents, { CobyteViteUiResolver, NaiveUiResolver } from 'cobyte-vite-ui/dist/utils'</span>

// https://vite.dev/config/
export default defineConfig({
  plugins: [vue(), AutoComponents({
<span class="hljs-deletion">-   resolvers: [CobyteViteUiResolver()]</span>
<span class="hljs-addition">+    resolvers: [CobyteViteUiResolver(), NaiveUiResolver()]</span>
  })],
})
</code></pre>
<p>æ¥ç€æˆ‘ä»¬é‡æ–°æ‰“åŒ…æˆ‘ä»¬çš„æµ‹è¯•ç»„ä»¶åº“ï¼Œå†é‡å¯ play æµ‹è¯•é¡¹ç›®ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9fc0afaa6f74916a0a1ba1e7f0b866c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=NmSVWgC%2B09BWju5OVR4Mw3s6Ev8%3D" alt="01.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆåŠŸéªŒè¯äº†æˆ‘ä»¬ä¸Šè¿°çš„ç»“è®ºï¼š<strong>æˆ‘ä»¬å®ç°äº†æ’ä»¶ä»å•ä¸€ç»„ä»¶åº“çš„æ”¯æŒæ‰©å±•åˆ°å¤šç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½è§£</strong>ã€‚</p>
<p>æˆ‘ä»¬ä¸Šé¢æ‰€å®ç°çš„æ’ä»¶å…¶å®å°±æ˜¯ <code>unplugin-vue-components</code> åº“çš„å®ç°åŸç†ï¼Œåœ¨ Vue æŠ€æœ¯æ ˆä¸­éƒ½æ˜¯é€šè¿‡è¿™ä¸ªåº“æ¥å®ç°ç»„ä»¶æŒ‰éœ€åŠ è½½çš„ã€‚</p>
<h3 data-id="heading-9">ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½å®è·µ</h3>
<p>æˆ‘ä»¬åœ¨ play é¡¹ç›®ä¸­å®‰è£… <code>unplugin-vue-components</code> åº“æ¥æ›¿æ¢æˆ‘ä»¬æ‰‹å†™çš„æ’ä»¶ã€‚å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> unplugin-vue-components -D 
</code></pre>
<p>æ¥ç€ä¿®æ”¹ play é¡¹ç›®ä¸­çš„ <code>vite.config.ts</code> æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
<span class="hljs-deletion">- import AutoComponent, { CobyteViteUiResolver, NaiveUiResolver } from 'cobyte-vite-ui/dist/utils'</span>
<span class="hljs-addition">+ import { CobyteViteUiResolver, NaiveUiResolver } from 'cobyte-vite-ui/dist/utils'</span>
<span class="hljs-addition">+ import AutoComponents from 'unplugin-vue-components/vite';</span>

// https://vite.dev/config/
export default defineConfig({
  plugins: [vue(), AutoComponents({
    resolvers: [CobyteViteUiResolver(), NaiveUiResolver()]
  })],
})
</code></pre>
<p>ç„¶åé‡å¯ play é¡¹ç›®ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„æµ‹è¯•ä¾‹å­ä¾ç„¶æ˜¯æ­£å¸¸è¿è¡Œçš„ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬çš„ç»„ä»¶åº“æˆ–è€…ä¸šåŠ¡ç»„ä»¶åº“æƒ³è¦å®ç°æŒ‰éœ€åŠ è½½ï¼Œåªéœ€è¦å‚è€ƒ <code>unplugin-vue-components</code> åº“ä¸­æä¾›çš„è§£æå™¨ï¼Œå†™ä¸€ä¸ªç¬¦åˆè‡ªå·±çš„ç»„ä»¶åº“çš„è§£æå™¨å†é…åˆ <code>unplugin-vue-components</code> å³å¯ã€‚å½“ç„¶è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å‰æï¼Œä½ çš„ç»„ä»¶åº“å¾—è®¾è®¡æˆæ¨¡å—åŒ–ï¼Œå³ä¸€ä¸ªç»„ä»¶ä¸€ä¸ªæ¨¡å—ï¼Œäº’ä¸å…³è”æˆ–è€…å¼±å…³è”ã€‚</p>
<h3 data-id="heading-10">ä¸šåŠ¡ç»„ä»¶åº“å¼•ç”¨ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„æŒ‰éœ€åŠ è½½</h3>
<p>æˆ‘ä»¬çŸ¥é“æ‰€è°“ä¸šåŠ¡ç»„ä»¶åº“ï¼Œå°±æ˜¯ä¸€äº›åŸºäºç¬¬ä¸‰æ–¹ç»„ä»¶åº“å¼€å‘çš„ç»„ä»¶åº“ï¼Œæ¯”å¦‚åŸºäº Element Plusã€Naive UI å¼€å‘çš„ç»„ä»¶åº“ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„æµ‹è¯•ç»„ä»¶åº“ <code>./packages/components/button</code>ï¼Œè®©å®ƒä½¿ç”¨ Naive UI çš„ button ç»„ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">n-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"warning"</span>&gt;</span>
    Warning
  <span class="hljs-tag">&lt;/<span class="hljs-name">n-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">defineOptions</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'co-button'</span>,
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-tag">button</span> {
  <span class="hljs-attribute">color</span>: red;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<p>æ¥ç€æˆ‘ä»¬é‡æ–°æ‰“åŒ…æµ‹è¯•ç»„ä»¶åº“ï¼Œç„¶åé‡å¯ play é¡¹ç›®ã€‚æˆ‘ä»¬å‘ç°æµ‹è¯•ç»„ä»¶åº“ä¸­ Naive UI çš„æŒ‰é’® Button å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚å¹¶ä¸”åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°æŠ¥ä»¥ä¸‹è­¦æŠ¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">Failed <span class="hljs-selector-tag">to</span> resolve component: n-button
</code></pre>
<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ Vite æ¥æ‰“åŒ…ç»„ä»¶åº“ï¼ŒVite é»˜è®¤ä¼šæŠŠä»£ç è¿›è¡Œå‹ç¼©æ··æ·†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹æ‰“åŒ…åçš„æµ‹è¯• button ç»„ä»¶çš„ä»£ç ã€‚å¯ä»¥çœ‹åˆ°åŸæœ¬åº”è¯¥æ˜¯ <code>_resolveComponent("n-button")</code> çš„ä»£ç ï¼Œå› ä¸º Vite è¿›è¡Œäº†å‹ç¼©æ··æ·†è€Œå˜æˆäº† o("n-button")ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a1fd47f258b45e7825b38666b32cef5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=xj9PMv0rEFl1dTwVMX%2F0Hu3GpE4%3D" alt="02.png" loading="lazy"/></p>
<p>è€Œæˆ‘ä»¬çš„æ’ä»¶æ˜¯åŸºäº <code>_resolveComponent</code> ä¸ºå‰ç¼€è¿›è¡ŒåŒ¹é…çš„ï¼Œç°åœ¨å‰ç¼€è¢«å‹ç¼©äº†ä¹Ÿå°±è‚¯å®šåŒ¹é…åˆ°ä¸åˆ°äº†ã€‚æ‰€ä»¥ç®€å•çš„å¤„ç†æ–¹æ³•å°±æ˜¯ä¿®æ”¹ Vite æ‰“åŒ…é…ç½®ï¼Œè®©å…¶ä¸è¿›è¡Œå‹ç¼©æ··æ·†ï¼Œæ¯•ç«Ÿ Element Plusã€Naive UI è¿™äº›å¼€æºç»„ä»¶åº“æ‰“åŒ…åçš„äº§ç‰©ä¹Ÿæ²¡æœ‰è¿›è¡Œå‹ç¼©æ··æ·†ã€‚æ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹ Vite æ‰“åŒ…é…ç½®ç¦æ­¢æ„å»ºå‹ç¼©æ··æ·†ã€‚ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ <code>vite.config.ts</code> å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">// çœç•¥...

export default defineConfig(({ command, mode }) =&gt; {
    // ä¸»æ„å»ºé…ç½®
    return {
        // çœç•¥...
        build: {
<span class="hljs-addition">+            minify: false, // ç¦æ­¢å‹ç¼©æ··æ·†</span>
            // çœç•¥...
        },
    };
});
</code></pre>
<p>æˆ‘ä»¬å‘ç°æ‰“åŒ…åçš„ç»„ä»¶ä»£ç ä¸å‹ç¼©æ··æ·†äº†ï¼Œä½†è¿˜æ˜¯ä¸ç”Ÿæ•ˆï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å†™çš„æ’ä»¶åªè§£æ <code>.vue</code> æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬æ‰“åŒ…åçš„æ–‡ä»¶å˜æˆäº† <code>.mjs</code> äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿®æ”¹ä¸€ä¸‹ play é¡¹ç›®çš„ Vite é…ç½®è®© <code>.mjs</code> æ–‡ä»¶ä¹Ÿå¯ä»¥è¢«è§£æã€‚ä¿®æ”¹ <code>./play/vite.config.ts</code>  æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">  // çœç•¥...
export default defineConfig({
  plugins: [vue(), AutoComponents({
<span class="hljs-addition">+    include: [</span>
<span class="hljs-addition">+      /\.vue$/,</span>
<span class="hljs-addition">+      /\.mjs$/</span>
<span class="hljs-addition">+    ],</span>
    resolvers: [CobyteViteUiResolver(), NaiveUiResolver()]
  })],
})
</code></pre>
<p>ç»è¿‡ä¸Šè¿°ä¿®æ”¹åæˆ‘ä»¬é‡å¯ play é¡¹ç›®ï¼Œå‘ç°åŸºäº Naive UI äºŒæ¬¡å¼€å‘çš„ç»„ä»¶å¯ä»¥æˆåŠŸåŠ è½½äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40241ada01dc43be8f8adfdd50ebac34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=fTIbzwPyquF5rKqzxpe8urIlk2g%3D" alt="03.png" loading="lazy"/></p>
<h3 data-id="heading-11">ä¾èµ–é¢„æ„å»ºé…ç½®</h3>
<p>æˆ‘ä»¬çŸ¥é“ Vite ä¼šåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™æŠŠä¾èµ–é¢„æ„å»ºå¹¶ç¼“å­˜åˆ° <code>node_modules/.vite</code> ç›®å½•ä¸­ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol>
<li>æ¨¡å—æ ¼å¼è½¬æ¢</li>
</ol>
<p>è®¸å¤š npm åŒ…ä½¿ç”¨çš„æ˜¯ CommonJS æˆ– UMD æ ¼å¼ï¼Œè€Œ Vite åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨çš„æ˜¯åŸç”Ÿ ES æ¨¡å—ï¼ˆESMï¼‰ã€‚é¢„æ„å»ºä¼šå°†è¿™äº›åŒ…è½¬æ¢ä¸º ESM æ ¼å¼ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­ç›´æ¥è¿è¡Œã€‚</p>
<ol start="2">
<li>æ€§èƒ½ä¼˜åŒ– - å‡å°‘ HTTP è¯·æ±‚</li>
</ol>
<p>æŸäº›åŒ…ä¼šæœ‰å¾ˆå¤šå†…éƒ¨æ¨¡å—ï¼Œå¦‚æœä¸é¢„æ„å»ºï¼Œæµè§ˆå™¨å¯èƒ½éœ€è¦å‘èµ·æ•°ç™¾ä¸ª HTTP è¯·æ±‚ã€‚é¢„æ„å»ºä¼šå°†è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å°‘æ•°å‡ ä¸ªæ–‡ä»¶ã€‚</p>
<p>å…¸å‹ä¾‹å­ï¼š</p>
<ul>
<li>lodash-es æœ‰è¶…è¿‡ 600 ä¸ªå†…ç½®æ¨¡å—</li>
<li>å¦‚æœä¸é¢„æ„å»ºï¼Œä¼šå¯¼è‡´ 600+ ä¸ª HTTP è¯·æ±‚</li>
<li>é¢„æ„å»ºååªéœ€è¦ 1-2 ä¸ªè¯·æ±‚</li>
</ul>
<ol start="3">
<li>æå‡é¡µé¢åŠ è½½é€Ÿåº¦</li>
</ol>
<p>é¢„æ„å»ºä½¿ç”¨ esbuildï¼ˆç”¨ Go ç¼–å†™ï¼‰ï¼Œé€Ÿåº¦æ¯”ä¼ ç»Ÿ JavaScript æ‰“åŒ…å·¥å…·å¿« 10-100 å€ã€‚é€šè¿‡å°†ä¾èµ–é¢„å…ˆæ‰“åŒ…å¹¶ç¼“å­˜ï¼Œå¯ä»¥æ˜¾è‘—æå‡å¼€å‘æœåŠ¡å™¨çš„å¯åŠ¨é€Ÿåº¦å’Œæ¨¡å—çƒ­æ›´æ–°ï¼ˆHMRï¼‰çš„å“åº”é€Ÿåº¦ã€‚</p>
<p>é»˜è®¤çš„æ—¶å€™ Vite æ˜¯é€šè¿‡ import è¯­å¥è¿›è¡Œåˆ†æéœ€è¦é¢„æ„å»ºçš„ä¾èµ–çš„ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨æŒ‰éœ€åŠ è½½çš„æ’ä»¶ä¹‹åï¼Œåœ¨ä»£ç ä¸­å°±æœ‰äº› npm åŒ…ä¸å­˜åœ¨ import è¯­å¥äº†ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é€šè¿‡ <code>optimizeDeps.include</code> é€‰é¡¹è®¾ç½®é¢„æ„å»ºã€‚</p>
<p>æˆ‘ä»¬å¯¹ <code>./play/vite.config.ts</code> è®¾ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { CobyteViteUiResolver, NaiveUiResolver } from 'cobyte-vite-ui/dist/utils'
import AutoComponents from 'unplugin-vue-components/vite';
<span class="hljs-addition">+ import pkg from './package.json';</span>
<span class="hljs-addition">+ const dependencies = Object.keys(pkg.dependencies);</span>

export default defineConfig({
  plugins: [vue(), AutoComponents({
    include: [
      /\.vue$/,
      /\.mjs$/
    ],
    resolvers: [CobyteViteUiResolver(), NaiveUiResolver()]
  })],
<span class="hljs-addition">+  optimizeDeps: {</span>
<span class="hljs-addition">+    include: [...dependencies]</span>
<span class="hljs-addition">+  }</span>
})
</code></pre>
<p>ç”±äº Node ä¸å¤„ç†è™šæ‹Ÿé“¾æ¥ï¼ŒåŒæ—¶ä¸ºäº†æ›´çœŸå®éªŒè¯çœŸå®åœºæ™¯ï¼Œæˆ‘ä»¬æŠŠæµ‹è¯•ç»„ä»¶åº“æ”¹æˆæ›´åŠ çœŸå®ï¼Œé¦–å…ˆä¿®æ”¹ <code>./play/packages.json</code></p>
<pre><code class="hljs language-diff" lang="diff">{
  // çœç•¥...
  "dependencies": {
<span class="hljs-deletion">-    "cobyte-vite-ui": "link:..",</span>
    "cobyte-vite-ui": "^1.0.0",
    "naive-ui": "^2.43.1",
    "vue": "^3.5.22"
  },
  // çœç•¥...
}
</code></pre>
<p>åŒæ—¶åˆ æ‰ <code>./play/node_modules</code> ç›®å½•ä¸­çš„ <code>cobyte-vite-ui</code> è™šæ‹Ÿç›®å½•ï¼Œå†é‡æ–°åˆ›å»ºä¸€ä¸ª <code>cobyte-vite-ui</code> ç›®å½•ï¼ŒåŒæ—¶æŠŠæ ¹ç›®å½•ä¸‹çš„ <code>./dist</code> ç›®å½•ä¸­çš„å†…å®¹å’Œæ ¹ç›®å½•ä¸‹çš„ <code>packages.json</code> æ–‡ä»¶å¤åˆ¶åˆ°åˆšåˆšæ–°åˆ›å»ºçš„
<code>cobyte-vite-ui</code> ç›®å½•ä¸­ï¼Œè¿™ç›¸å½“äºæ‰‹åŠ¨å®‰è£…æˆ‘ä»¬åˆ›å»ºçš„æµ‹è¯•ç»„ä»¶åº“çš„ä¾èµ–äº†ã€‚ä¹‹åæˆ‘ä»¬å†åˆ æ‰ <code>./play/node_modules/.vite</code> ç›®å½•çš„é¢„æ„å»ºç¼“å­˜ï¼Œå†é‡å¯ play é¡¹ç›®ã€‚è¿™æ—¶æˆ‘ä»¬å‘ç° <code>cobyte-vite-ui</code> ç»„ä»¶åº“ä¸­å¼•ç”¨çš„ Naive UI çš„ button ç»„ä»¶ä¸ç”Ÿæ•ˆäº†ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æŠŠ <code>cobyte-vite-ui</code> è¿›è¡Œé¢„æ„å»ºåï¼Œå®ƒçš„å†…å®¹å°±ä¼šè¢«é¢„æ„å»ºåç¼“å­˜åˆ° <code>./play/node_modules/.vite</code> ç›®å½•ä¸­äº†ï¼Œè€Œ unplugin-vue-components æ’ä»¶é»˜è®¤æ˜¯ä¸è§£æ <code>node_modules</code> ç›®å½•ä¸­çš„æ–‡ä»¶çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ unplugin-vue-components æ’ä»¶çš„é…ç½®è®©å…¶å¯ä»¥è§£æ <code>node_modules</code> ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œä½†è¿™ä¸æ˜¯æœ€ä¼˜çš„æ–¹æ¡ˆã€‚æœ€ä¼˜çš„æ–¹æ¡ˆæ˜¯åœ¨æ‰“åŒ… <code>cobyte-vite-ui</code> ç»„ä»¶åº“çš„æ—¶å€™å°±
è¿›è¡ŒæŒ‰éœ€æ‰“åŒ…ã€‚æˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹å®‰è£… <code>unplugin-vue-components</code> ä¾èµ–ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">add</span> unplugin-vue-components -D -w
</code></pre>
<p>æˆ‘ä»¬åœ¨å®‰è£…ä¸Šè¿°ä¾èµ–çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6746af5fde3446af853e12ef3aa69e0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29ieXRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763905528&amp;x-signature=AaAWOg3oR8etvN4X%2FocknaSdzaQ%3D" alt="04.png" loading="lazy"/></p>
<p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆšåˆšæŠŠ play ç›®å½•ä¸­çš„æµ‹è¯•ç»„ä»¶åº“ <code>cobyte-vite-ui</code> æ”¹äº†æ­£å¼åº“ä¸€æ ·çš„ä¾èµ–ï¼Œæˆ‘ä»¬å¯ä»¥æš‚æ—¶æŠŠå®ƒæ”¹å›è™šæ‹Ÿä¾èµ–ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">"dependencies": {
<span class="hljs-deletion">-    "cobyte-vite-ui": "^1.0.0",</span>
<span class="hljs-addition">+    "cobyte-vite-ui": "link:..",</span>
    "naive-ui": "^2.43.1",
    "vue": "^3.5.22"
},
</code></pre>
<p>å†è¿›è¡Œå®‰è£…å³å¯ã€‚</p>
<p>ç„¶åæ–°å¢æ ¹ç›®å½•ä¸‹çš„ <code>vite.config.ts</code> æ–‡ä»¶çš„é…ç½®ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">// çœç•¥...
<span class="hljs-addition">+ import AutoComponents from 'unplugin-vue-components/vite';</span>
<span class="hljs-addition">+ import { NaiveUiResolver } from 'unplugin-vue-components/resolvers';</span>

// çœç•¥...

export default defineConfig(({ command, mode }) =&gt; {
    // ä¸»æ„å»ºé…ç½®
    return {
        plugins: [
            vue(),
<span class="hljs-addition">+            AutoComponents({</span>
<span class="hljs-addition">+                resolvers: [NaiveUiResolver()]</span>
<span class="hljs-addition">+            })</span>
        ],
        build: {
            // çœç•¥...
            rollupOptions: {
                external: [
                    "vue", 
<span class="hljs-addition">+                    "naive-ui", // æ’é™¤æ‰“åŒ…</span>
                ],
            // çœç•¥..
            },
        },
    };
});
</code></pre>
<p>é…ç½®å®Œåï¼Œé‡æ–°æ‰“åŒ…æˆ‘ä»¬çš„æµ‹è¯•ç»„ä»¶åº“ï¼Œæ‰“åŒ…å®Œåï¼Œé‡æ–°åˆ æ‰ <code>./play/node_modules/.vite</code> ä¸­çš„ç¼“å­˜ï¼Œå’Œ <code>./play/node_modules/cobyte-vite-ui</code> ä¸­çš„å†…å®¹ï¼Œé‡æ–°æŠŠåˆšåˆšæ–°æ‰“åŒ…çš„æ ¹ç›®å½•ä¸‹çš„ <code>./dist</code> ç›®å½•ä¸­çš„å†…å®¹å’Œæ ¹ç›®å½•ä¸‹çš„ <code>packages.json</code> æ–‡ä»¶å¤åˆ¶åˆ° <code>./play/node_modules/cobyte-vite-ui</code> ä¸­ï¼ŒåŒæ—¶æ¢å¤ä¿®æ”¹çš„ <code>./play/packages.json</code> æ–‡ä»¶ï¼Œç„¶åé‡å¯ play é¡¹ç›®ã€‚</p>
<p>è¿™æ—¶æˆ‘ä»¬å°±å‘ç°æµ‹è¯•é¡¹ç›®å¯ä»¥æ­£å¸¸æ¸²æŸ“äº†ã€‚</p>
<p>è‡³æ­¤æˆ‘ä»¬ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†å°±éƒ½è®²å¾—å·®ä¸å¤šäº†ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµã€‚</p>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p>çœ‹å®Œäº†å…¨ç¯‡æ–‡ç« ç›¸ä¿¡ä½ ä¼šè§‰å¾—ï¼Œæ‰€è°“ç»„ä»¶åº“æŒ‰éœ€åŠ è½½æˆ–è€…ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½å…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆç»„ä»¶åº“çš„æ¯ä¸€ä¸ªç»„ä»¶éƒ½å¾—è®¾è®¡æˆç‹¬ç«‹çš„æ¨¡å—ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰æ¨¡å—å¯¼å…¥ï¼Œä¹Ÿå°±æ˜¯ ESM åŒ–ï¼Œå¯ä»¥è¿›è¡Œ Tree Shakingï¼Œåªæœ‰è¿™æ ·æŒ‰éœ€åŠ è½½æ‰æœ‰æ„ä¹‰ï¼Œæ‰èƒ½è¾¾åˆ°å‡å°åŒ…ä½“ç§¯çš„ä½œç”¨ã€‚</p>
<p>å…¨å±€ç»„ä»¶åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨è¢«ç¼–è¯‘åä¼šé€šè¿‡ä¸€ä¸ªå†…ç½®å‡½æ•° <strong>resolveComponent</strong> æ¥è°ƒç”¨ç»„ä»¶ï¼ŒæŒ‰éœ€åŠ è½½çš„å®ç°åŸç†å°±æ˜¯é€šè¿‡æ’ä»¶è¿›è¡Œæ­£åˆ™åŒ¹é…æŸ¥æ‰¾ç¼–è¯‘åçš„æ¨¡æ¿ä»£ç ä¸­çš„ <strong>resolveComponent</strong> å‡½æ•°çš„ç›¸å…³ä»£ç æ¥æ‰¾åˆ°éœ€è¦æŒ‰éœ€åŠ è½½çš„ç»„ä»¶ï¼Œç„¶åè‡ªåŠ¨æŒ‰ç¼–è¯‘åçš„ä»£ç çš„å¤´éƒ¨æ·»åŠ éœ€è¦åŠ è½½çš„ç»„ä»¶çš„å¯¼å…¥è¯­å¥ä»£ç ä»¥åŠæ›¿æ¢æ‰ <strong>resolveComponent</strong> å‡½æ•°çš„ç›¸å…³ä»£ç ä¸ºå¯¹åº”çš„ç»„ä»¶å¯¹è±¡ã€‚</p>
<p>è€Œä¸šåŠ¡ç»„ä»¶å®ç°æŒ‰éœ€åŠ è½½çš„å…³é”®æ˜¯éœ€è¦åœ¨ä¸šåŠ¡ç»„ä»¶åº“æ‰“åŒ…çš„æ—¶å€™ä¹Ÿè¿›è¡ŒæŒ‰éœ€åŠ è½½é…ç½®ã€‚è™½ç„¶è¿™ä¸ªå…³é”®æ­¥éª¤å¾ˆç®€å•ï¼Œä½†ç”±äºè¿™æ˜¯ä¸€ä¸ªä½é¢‘ä¸”è·¨é¡¹ç›®çš„éœ€æ±‚ï¼Œæ‰€ä»¥AIå¯¹ä½é¢‘çš„éœ€æ±‚çš„å®ç°å’Œç»™çš„è§£å†³æ–¹æ¡ˆéƒ½ä¸å°½äººæ„ï¼Œè‡³å°‘æœ¬äººè§£å†³ä¸Šè¿°é—®é¢˜æ—¶ï¼ŒAIæä¾›æ–¹æ¡ˆæ²¡æœ‰ä¸€ä¸ªå¯ä»¥å®ç°çš„ï¼Œè™½ç„¶æœ€åçš„å®ç°å…¶å®å¾ˆç®€å•ã€‚</p>
<p>æœ€åï¼Œå†è¯´è¯´ä¸ªäººå¯¹AIçš„ä¸€äº›æ„Ÿæ‚Ÿå§ï¼Œä¸ªäººè§‰å¾—åœ¨AIæ—¶ä»£ï¼Œå°±ç¼–ç¨‹è¿™ä¸ªé¢†åŸŸè€Œè¨€å¯¹ä¸ªäººçš„ä¸“ä¸šè¦æ±‚ä¼šæ¯”ä»¥å‰æ›´åŠ çš„é«˜ï¼Œè‡³å°‘ä½ å¾—æœ‰èƒ½åŠ›å»è§£å†³AIä¸ä¼šçš„é—®é¢˜ã€‚</p>
<p>ä¸Šè¿°ç»„ä»¶åº“æµ‹è¯•ä»£ç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Famebyte%2Fcobyte-vite-ui" target="_blank" title="https://github.com/amebyte/cobyte-vite-ui" ref="nofollow noopener noreferrer">github.com/amebyte/cobâ€¦</a></p>
<p>æ¬¢è¿å…³æ³¨æœ¬ä¸“æ ï¼Œäº†è§£æ›´å¤š Element Plus ç»„ä»¶åº“çŸ¥è¯†</p>
<p>æœ¬ä¸“æ æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7143196940992413709" target="_blank" title="https://juejin.cn/post/7143196940992413709">1. Vue3 ç»„ä»¶åº“çš„è®¾è®¡å’Œå®ç°åŸç†</a></p>
<p><a href="https://juejin.cn/post/7146183222425518093" target="_blank" title="https://juejin.cn/post/7146183222425518093">2. ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜ä¹‹ Monorepo æ¶æ„æ­å»º</a></p>
<p><a href="https://juejin.cn/post/7153659360177029150" target="_blank" title="https://juejin.cn/post/7153659360177029150">3. ESLint æ ¸å¿ƒåŸç†å‰–æ</a></p>
<p><a href="https://juejin.cn/post/7157743898939359262" target="_blank" title="https://juejin.cn/post/7157743898939359262">4. ESLint æŠ€æœ¯åŸç†ä¸å®æˆ˜åŠä»£ç è§„èŒƒè‡ªåŠ¨åŒ–è¯¦è§£</a></p>
<p><a href="https://juejin.cn/post/7161063570594070559" target="_blank" title="https://juejin.cn/post/7161063570594070559">5. ä»ç»ˆç«¯å‘½ä»¤è§£æå™¨è¯´èµ·è°ˆè°ˆ npm åŒ…ç®¡ç†å·¥å…·çš„è¿è¡ŒåŸç†</a></p>
<p><a href="https://juejin.cn/post/7165503808217284616" target="_blank" title="https://juejin.cn/post/7165503808217284616">6. CSS æ¶æ„æ¨¡å¼ä¹‹ BEM åœ¨ç»„ä»¶åº“ä¸­çš„å®è·µ</a></p>
<p><a href="https://juejin.cn/post/7168835045984043022" target="_blank" title="https://juejin.cn/post/7168835045984043022">7. ç»„ä»¶å®ç°çš„åŸºæœ¬æµç¨‹åŠ Icon ç»„ä»¶çš„å®ç°</a></p>
<p><a href="https://juejin.cn/post/7170716245762048036" target="_blank" title="https://juejin.cn/post/7170716245762048036">8. ä¸ºä»€ä¹ˆç»„ä»¶åº“æˆ–æ’ä»¶éœ€è¦å®šä¹‰ peerDependencies</a></p>
<p><a href="https://juejin.cn/post/7179257832632483896" target="_blank" title="https://juejin.cn/post/7179257832632483896">9. ç»„ä»¶å¼€å‘ä¸­ Vue3 ç›¸å…³çŸ¥è¯†çš„åº”ç”¨ä¸è§£æåŠ Button ç»„ä»¶çš„å®ç°</a></p>
<p><a href="https://juejin.cn/post/7186683381470462007" target="_blank" title="https://juejin.cn/post/7186683381470462007">10. CSS ç³»ç»Ÿé¢œè‰²å’Œæš—é»‘æ¨¡å¼çš„å…³ç³»åŠæ„ä¹‰</a></p>
<p><a href="https://juejin.cn/post/7190370726677839932" target="_blank" title="https://juejin.cn/post/7190370726677839932">11. æ·±å…¥ç†è§£ç»„ä»¶åº“ä¸­SCSSå’ŒCSSå˜é‡çš„æ¶æ„åº”ç”¨å’Œå®è·µ</a></p>
<p><a href="https://juejin.cn/post/7204454572890046501" target="_blank" title="https://juejin.cn/post/7204454572890046501">12. ç»„ä»¶ v-model çš„å°è£…å®ç°åŸç†åŠ Input ç»„ä»¶çš„æ ¸å¿ƒå®ç°</a></p>
<p><a href="https://juejin.cn/post/7217399337989881911" target="_blank" title="https://juejin.cn/post/7217399337989881911">13. æ·±å…¥ç†è§£ Vue3 çš„ v-model åŠè‡ªå®šä¹‰æŒ‡ä»¤çš„å®ç°åŸç†</a></p>
<p><a href="https://juejin.cn/post/7249299811497066551" target="_blank" title="https://juejin.cn/post/7249299811497066551">14. React å’Œ Vue éƒ½ç¦»ä¸å¼€çš„è¡¨å•éªŒè¯å·¥å…·åº“ async-validator ä¹‹ç­–ç•¥æ¨¡å¼çš„åº”ç”¨</a></p>
<p><a href="https://juejin.cn/post/7258966810350174263" target="_blank" title="https://juejin.cn/post/7258966810350174263">15. Form è¡¨å•çš„è®¾è®¡ä¸å®ç°</a></p>
<p><a href="https://juejin.cn/post/7313380227160522763" target="_blank" title="https://juejin.cn/post/7313380227160522763">16. ç»„ä»¶åº“çš„æ‰“åŒ…åŸç†ä¸å®è·µè¯¦è§£</a></p>
<p><a href="https://juejin.cn/post/7572480736362119174" target="_blank" title="https://juejin.cn/post/7572480736362119174">17. Vue3 ä¸šåŠ¡ç»„ä»¶åº“æŒ‰éœ€åŠ è½½çš„å®ç°åŸç†</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ç”¨ SOLO Coder åš Excalidraw å¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘]]></title>    <link>https://juejin.cn/post/7572697146286735410</link>    <guid>https://juejin.cn/post/7572697146286735410</guid>    <pubDate>2025-11-16T00:17:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572697146286735410" data-draft-id="7572387666979979290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ç”¨ SOLO Coder åš Excalidraw å¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-16T00:17:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸æƒ‘_"/> <meta itemprop="url" content="https://juejin.cn/user/1471609400466218"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ç”¨ SOLO Coder åš Excalidraw å¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1471609400466218/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸æƒ‘_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T00:17:44.000Z" title="Sun Nov 16 2025 00:17:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ€»è§‰å¾—ï¼ŒçœŸæ­£çš„äºŒæ¬¡å¼€å‘ä¸æ˜¯æŠŠåŠŸèƒ½è´´åˆ°ä»£ç é‡Œé‚£ä¹ˆç®€å•ï¼Œè€Œæ˜¯è¦åœ¨ä¸€ä¸ªæœ‰ç”Ÿå‘½åŠ›çš„å¼€æºé¡¹ç›®é‡Œï¼Œæ‘¸ç´¢å‡ºå®ƒçš„æ°”è´¨å’Œè„‰ç»œï¼Œç„¶åæŠŠè‡ªå·±çš„æ”¹åŠ¨åƒä¸€å—åˆé€‚çš„æœ¨æ–™ï¼Œæ‰“ç£¨åˆ°æ°å¥½å’¬åˆçš„ä½ç½®ã€‚Excalidraw æ­£å¥½æ˜¯é‚£ç§é€‚åˆé›•ç¢çš„é¡¹ç›®ï¼šæ¥å£æ¸…æ™°ã€ç»“æ„åˆ†æ˜ã€ç¤¾åŒºç¨³å¥ï¼Œç”šè‡³å®ƒçš„ç™½æ¿æœ¬èº«å°±é¼“åŠ±ä½ åœ¨ä¸Šé¢ç”»æ¥ç”»å»ã€‚äºæ˜¯æˆ‘æŠŠä¸€ä¸ªå°æ„¿æœ›ä¸¢ç»™ SOLO Coderï¼šæŠŠæ–‡æœ¬ â†’ å›¾å½¢çš„æ™ºèƒ½ç”Ÿæˆåšè¿›æ¥ï¼Œæµç¨‹å›¾ä¹Ÿå¥½ï¼Œæ€ç»´å¯¼å›¾ä¹Ÿç½¢ï¼Œæœ€å¥½çš„ç»“æœå°±æ˜¯æˆ‘èƒ½åœ¨ç¼–è¾‘å™¨é‡Œå†™ä¸€å¥è¯ï¼Œè½»è½»ä¸€ç‚¹ï¼Œå°±çœ‹åˆ°å›¾åƒåœ¨é¢å‰æˆå½¢ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44c9372d06e84782bc5118f4f5aad85a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=RC5YxC7RVoQcAgqy1bxDgb8PN4M%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€ç¯‡å®Œæ•´çš„AIç»˜å›¾åŠŸèƒ½äºŒæ¬¡å¼€å‘ç¬”è®°ï¼šæˆ‘ç”¨ SOLO Coder åœ¨ Excalidraw å¼€æºé¡¹ç›®ä¸­å¢åŠ æ–‡æœ¬â†’å›¾å½¢çš„ AI èƒ½åŠ›ï¼Œæ”¯æŒæµç¨‹å›¾ä¸æ€ç»´å¯¼å›¾ï¼Œå¹¶åœ¨ç¼–è¾‘å™¨é‡Œç›´æ¥é¢„è§ˆå’Œæ’å…¥ã€‚æ–‡ç« è¦†ç›–ç¯å¢ƒæ­å»ºã€å‰åç«¯æ”¹é€ ã€è”è°ƒéªŒè¯ã€é—®é¢˜å¤„ç†ä¸å¯å¤åˆ¶çš„æ“ä½œæ­¥éª¤ï¼Œå…ˆçœ‹æ•ˆæœå§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccc064be923f4f33aa161ff06c16a3b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=RaInPrvxWlWbgdAc6HCl%2F1%2Fj1tE%3D" alt="1114-2.gif" loading="lazy"/></p>
<p>ä½ å°†è·å¾—</p>
<ul>
<li>åœ¨ä¸»èœå•æ–°å¢AIç»˜å›¾å…¥å£ï¼Œæ‰“å¼€æ–‡æœ¬è½¬å›¾å¯¹è¯æ¡†ï¼ˆTTDï¼‰</li>
<li>å‰ç«¯å°†æ–‡æœ¬ä¸å›¾ç±»å‹å‘é€åˆ°åç«¯ï¼›åç«¯æ¥å…¥è±†åŒ…ï¼ˆVolcengine Arkï¼‰ç”Ÿæˆ Mermaid æ–‡æœ¬</li>
<li>é¢„è§ˆåŒºæ¸²æŸ“å¹¶ä¸€é”®æ’å…¥åˆ°ç”»å¸ƒï¼›å¤±è´¥æ—¶æœ‰æ¸…æ´—ä¸å…œåº•ç­–ç•¥</li>
</ul>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡SOLO Coder éƒ¨ç½²äº†æœ¬åœ°çš„Excalidrawï¼Œæ¥ç€è¦æ‰¾å…¥å£ï¼Œæ‰¾ä¸€ä¸ªäººèµ°è¿‘ç™½æ¿æ—¶è‡ªç„¶ä¼šæŒ‰ä¸‹çš„åœ°æ–¹ã€‚æˆ‘æŠŠAIç»˜å›¾æ”¾åˆ°ä¸»èœå•é‡Œï¼Œè®©å®ƒåƒä¸€ä¸ªè½»å¾®çš„é‚€è¯·è€Œä¸æ˜¯å¼ºåˆ¶çš„å¼•å¯¼ã€‚ç‚¹å‡»ä»¥åï¼Œå‰ç«¯æŠ›ç»™æˆ‘ç¬¬ä¸€ä¸ªæ€åº¦ä¸å¥½çš„æŠ¥é”™ï¼š<code>setAppState is not a function</code>ã€‚ä¸¤ç§’é’Ÿçš„å¿ƒæƒ…èµ·ä¼ä¹‹åï¼Œæˆ‘æ„è¯†åˆ°æ˜¯è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡AIå»è§£å†³ï¼Œäºæ˜¯æˆ‘æŠŠAIäº§ç”Ÿçš„é—®é¢˜æ¢ä¸ªäº†AIã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5f338985e11406b9860ce6e8fcf6165~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=SJLxzCniCWg6aBii2Pvtg3Yj9Bo%3D" alt="image.png" loading="lazy"/>
ä¸éš¾å‘ç°ï¼Œå®ƒå¾ˆå¿«ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼ŒExcalidraw çš„å‘½ä»¤å¼æ¥å£é‡Œæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œåº”è¯¥ç”¨ <code>updateScene</code>ã€‚æŠŠå…¨å±€äº‹ä»¶æ”¹æˆ <code>updateScene({ appState: { openDialog: ... } })</code>ï¼Œå¯¹è¯æ¡†ä¹–ä¹–å¼¹å‡ºæ¥ï¼Œåƒç»ˆäºæ»‘åˆ°æ¡Œé¢æ­£ä¸­é—´çš„ä¸€æ¯èŒ¶ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ff559656a01476f87b1c4964105393b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=QxiB4NbZKEmsniQ%2FAzMthsodwDg%3D" alt="image.png" loading="lazy"/>
è¿™æ‰‡çª—å« TTDï¼Œå¯¹è¯æ¡†çš„å…¨åæ˜¯ Text-to-Diagramã€‚ä¹Ÿå°±æ˜¯ Text-to-Diagramã€‚å¯¹è¯æ¡†çš„å½¢æ€å¾ˆå‹å¥½ï¼Œå·¦è¾¹ä¸€ä¸ªæ–‡æœ¬æ¡†ï¼Œå³è¾¹ä¸€ä¸ªé¢„è§ˆåŒºï¼Œé¼ æ ‡åœ¨æ–‡æœ¬æ¡†é‡Œç‚¹å‡»ä¸€ä¸‹ï¼Œé‚£ç§æ‰‹æŒ‡å‹ä¸‹å»çš„ç¬é—´ï¼Œæˆ‘é¡ºæ‰‹æˆªäº†ä¸€å¼ å›¾ï¼Œç•™ä½œäº¤äº’èµ·ç‚¹çš„æ ‡è®°ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d2a10c0cf9c474eaa863bed731efa38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=unYW20bZPrUY%2FyH1AhcX1cZ0HUY%3D" alt="image.png" loading="lazy"/>
ç¬¬ä¸€æ¬¡æŒ‰ä¸‹Generateï¼Œæˆ‘çœ‹åˆ°çš„æ˜¯ä¸€ç‰‡æ²‰é»˜ï¼Œé¢„è§ˆåŒºå®‰é™åœ°ä¸åŠ¨ï¼Œè¿˜ç»™æˆ‘æŠ›äº†ä¸€ä¸ªGenerated an invalid diagramã€‚æˆ‘æŠŠè¿™ä¸ªæˆªå›¾ä¹Ÿç•™ä¸‹ï¼Œä½œä¸ºä¸€æ¬¡ä¸å¤ªæˆåŠŸçš„å°è¯•ã€‚é‚£ä¼šå„¿æˆ‘å°±æ˜ç™½äº†ï¼Œè¿™ä¸æ˜¯æ²¡è°ƒç”¨ï¼Œè€Œæ˜¯è°ƒç”¨äº†ï¼Œä½†è¿”å›çš„ Mermaid æ–‡æœ¬ä¸åˆèº«ã€‚æ€ç»´å¯¼å›¾çš„ Mermaid è¯­æ³•ç®—æ˜¯å®éªŒæ€§ï¼Œè½¬æ¢åº“ä¸æ˜¯å¯¹æ‰€æœ‰æƒ…å†µéƒ½æ‹¿å¾—å¾ˆç¨³ã€‚äºæ˜¯æˆ‘æŠŠåç«¯æ´¾ä¸Šå°ï¼Œæ­äº†ä¸€ä¸ªå¹²å‡€çš„ ai-backend ï¼Œç”¨ Express åšè·¯ç”±ï¼Œè®©å®ƒç«™åœ¨ excalidraw-master çš„æ—è¾¹ï¼ŒåŒæ—¶æ‚„æ‚„æ¥å…¥è±†åŒ…ï¼ˆVolcengine Arkï¼‰çš„ Chat Completionsï¼Œç”¨ .env.local ç•™ä½å¯†é’¥ï¼Œä¸å¾€å‰ç«¯æš´éœ²ï¼Œä¿æŒæ•´ä¸ªç»“æ„æ¸…çˆ½ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2678a90256624a3d928c1cf9c57e0aa3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=H07Z5HgwuhGmbTnB3mWtOEkwAKM%3D" alt="image.png" loading="lazy"/></p>
<p>åç«¯è¿™è¾¹ï¼Œæˆ‘ç›´æ¥æŠŠè±†åŒ…APIè¾“å…¥ä¸ªSOLOã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/788f70c912c3481ba51dab0abaf55e2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=ryqs5pm7F3UA%2BSSpRI%2B2DI3CE6U%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œæœ‰è¯¦è§£çš„APIæ–‡æ¡£ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a761f7773fc40099239adccf93a0852~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=pZg82gVjaAonuZXXlMvFp284wM4%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ä¼šæ–°å»ºä¸€ä¸ª <code>ai-backend</code>ï¼Œè®©å®ƒç«™åœ¨ä¸»é¡¹ç›®çš„æ—ä¾§ï¼Œå•çº¯ã€å®‰é™ï¼Œè¯» <code>.env.local</code> é‡Œçš„å¯†é’¥ï¼Œä¸æŠŠä»»ä½•æ•æ„Ÿä¿¡æ¯æš´éœ²åˆ°å‰ç«¯ï¼Œä¹Ÿä¸å¾€ä»“åº“é‡Œä¹±æäº¤ã€‚è·¯ç”±åªåšä¸€ä»¶äº‹ï¼š<code>/v1/ai/text-to-diagram/generate</code> æ¥å— <code>prompt</code> å’Œ <code>type</code>ï¼Œä¼˜å…ˆè°ƒç”¨è±†åŒ… Ark Chat Completionsï¼ŒæŠŠè¿”å›çš„å†…å®¹æ¸…æ´—ä¸€ä¸‹ã€‚</p>
<p>æˆ‘å¾ˆåœ¨æ„äº¤äº’çš„å¾®å¦™ã€‚TTD å¯¹è¯æ¡†é‡Œé‚£æ®µè‹±æ–‡æç¤ºï¼Œè¯´ç³»ç»Ÿç›®å‰ç”¨ Mermaid å½“ä¸­é—´æ­¥éª¤ï¼Œè¿™å¥è¯åƒä¸€ä¸ªå‰ç½®çš„åè®®ï¼šä½ è¦ä¹ˆç»™æˆ‘æµç¨‹ã€è¦ä¹ˆç»™æˆ‘ç»“æ„ï¼Œæˆ‘æ¥æƒ³åŠæ³•å¸®ä½ æˆé•¿ä¸ºå›¾åƒã€‚ç”¨æˆ·å†™çš„æ˜¯äººè¯ï¼Œæ¨¡å‹ç†è§£çš„æ˜¯äººè¯ï¼Œä½†é¢„è§ˆéœ€è¦çš„æ˜¯è§„æ•´çš„è¯­è¨€ã€‚æ‰€ä»¥æˆ‘æŠŠç±»å‹çš„é€‰æ‹©å‰ç½®åˆ°ç”ŸæˆåŠ¨ä½œçš„ä¸Šæ–¹ï¼Œè®©è¿™ç»„ UI å½¢æˆä¸€ä¸ªå¿ƒæ™ºé“¾æ¡ï¼šè¾“å…¥ã€é€‰æ‹©ã€ç”Ÿæˆã€é¢„è§ˆã€æ’å…¥ã€‚ä½ èƒ½æ„Ÿåˆ°æ‰‹åŠ¿çš„é¡ºç•…ï¼Œèƒ½çœ‹åˆ°é¢„æœŸçš„ç»“æœï¼Œè¿™æ¯”ä»»ä½•æ–‡æ¡£æç¤ºéƒ½æœ‰æ•ˆã€‚</p>
<p>è¿‡ç¨‹ä¸­æœ‰ä¸€äº›æ¬¡è¦çš„æ’æ›²ï¼Œæ¯”å¦‚æµè§ˆå™¨æ ‡ç­¾æ„å¤–æ‰“å¼€æ—§ç«¯å£ 3000ï¼Œæ‰€ä»¥äº‹ä»¶ç›‘å¬å¹¶æ²¡æœ‰æ³¨å†Œåˆ°ä½ çœ‹çš„é¡µé¢ä¸Šï¼›æ¯”å¦‚æˆ‘ä¸€åº¦å°è¯•ç”¨ <code>window.addEventListener</code> åšä¸€äº›å…¨å±€æ§åˆ¶ï¼Œåæ¥è¿˜æ˜¯æŠŠå®ƒè§„æ•´åˆ° <code>useEffect</code>ï¼Œè·Ÿç€ <code>excalidrawAPI</code> èµ°ç”Ÿå‘½å‘¨æœŸï¼›æ¯”å¦‚Mermaid åŸæ–‡é‚£ä¸€é¡µä¼šè®©äººæƒ³æŸ¥çœ‹ç»†èŠ‚ï¼Œæˆ‘å°±ä¿ç•™äº†View as Mermaidçš„è·³è½¬ï¼Œç»™è°ƒè¯•è€…ä¸€ä¸ªåå¤‡çš„å·¥å…·ã€‚æ¯ä¸€ä¸ªå°åŠ¨ä½œéƒ½ä¸æ˜¯å¿…é¡»ï¼Œä½†å®ƒä»¬æ˜¯è´´å¿ƒï¼Œæˆ‘å¸Œæœ›è¿™å¥—ä½“éªŒä¸æ˜¯ç¡¬å¡è¿›å»çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§è‡ªç„¶çš„å»¶ä¼¸ã€‚</p>
<p>è±†åŒ…çš„æ¥å…¥è‡ªå·±ä¹Ÿå¸¦äº†ä¸€ç‚¹ä¸ªæ€§ã€‚æˆ‘æŠŠå¯†é’¥æ”¾åœ¨æœ¬åœ° <code>.env.local</code> é‡Œï¼Œä¸åœ¨ä»£ç é‡Œè½ç¬”ï¼Œä¹Ÿä¸åœ¨ç»ˆç«¯é‡Œå†™é•¿ä¸²çš„ä¸´æ—¶å˜é‡ã€‚æ¨¡å‹çš„å‚æ•°æ²¡æœ‰èµ°æç«¯ï¼Œ<code>max_completion_tokens</code> è®¾ä¸ªæ¸©å’Œçš„ä¸Šé™ï¼Œ<code>reasoning_effort</code> æ”¾åœ¨ä¸­ç­‰ï¼Œç¡®ä¿ç¨³å®šå’Œæˆæœ¬å¯æ§ã€‚æœ‰æ—¶ä¸ºäº†è®©é¢„è§ˆç¨³å®šï¼Œæˆ‘ä¼šæŠŠ Mindmap çš„ç”Ÿæˆæç¤ºæ‚„æ‚„å¼•å¯¼æˆ Flowchart çš„å±‚çº§è¡¨è¾¾ï¼Œæ¯•ç«Ÿè½¬æ¢é“¾è·¯å¯¹æµç¨‹å›¾æ›´å‹å¥½ï¼Œè¿™ä¸æ˜¯èƒŒå›ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªå®ç”¨ä¸»ä¹‰çš„é€‰æ‹©ã€‚ç”¨æˆ·è¦çš„æ˜¯çœ‹åˆ°ç»“æ„å¹¶å¯ç¼–è¾‘çš„å›¾å½¢ï¼Œå›¾çš„æ ·å¼å¯ä»¥æ…¢æ…¢æ‰“ç£¨ï¼Œä½†ç©ºç™½çš„é¢„è§ˆç­‰ä¸åŠã€‚</p>
<p>è¿™æ—¶å€™æ•´æ¡é“¾è·¯å¼€å§‹æœ‰äº†æ¡æ‰‹çš„æ„Ÿè§‰ã€‚æˆ‘åœ¨é¦–é¡µæˆªå›¾ä¹‹åï¼Œåˆæˆªäº†ä¸€ä¸ªä¸»èœå•å±•å¼€çš„ç”»é¢ï¼Œé‚£é‡Œæœ‰AIç»˜å›¾è¿™ä¸ªæ–°æœ‹å‹ã€‚æˆ‘ç‚¹å¼€å¯¹è¯æ¡†ï¼Œåœ¨æ–‡æœ¬æ¡†é‡Œæ•²äº†ä¸€æ®µç»“æ„â€”â€”æ¯”å¦‚æŠŠé¡¹ç›®è§„åˆ’æ”¾åœ¨é¦–è¡Œï¼Œç„¶åç”¨çŸ­å¥æŠŠç›®æ ‡èŒƒå›´æ—¶é—´èµ„æºå›¢é˜Ÿé¢„ç®—ä¸€è¡Œä¸€è¡Œåˆ—å‡ºæ¥ï¼Œç„¶åæŒ‰ä¸‹Generateã€‚è¿™å›é¢„è§ˆåŒºä¸å†å†·åœºï¼Œå›¾åƒä»å³è¾¹é•¿å‡ºæ¥ï¼ŒèŠ‚ç‚¹ç´§ç´§æ’åˆ—ï¼ŒåƒæŠŠæ•£è½çš„ä¹¦é¡µç”¨çº¿ç©¿åœ¨ä¸€èµ·ã€‚æˆ‘è®©å®ƒè½åˆ°ç”»å¸ƒä¸­å¤®ï¼Œæ”¾å¤§ä¸€ç‚¹ï¼Œç»™è¿™ä¸ªæ—¶åˆ»ç•™ä¸€å¼ å¹²å‡€çš„æˆªå›¾ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06827f2c5b5f47cea490247124f5e17a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=4bEMWKimkbIA9yfzYrI7EG5AcW0%3D" alt="image.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ç‚¹å‡»InsertæŒ‰é’®ï¼Œå°±å¯ä»¥å°†å†…å®¹æ’å…¥åˆ°ç”»å¸ƒä¸­ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6508bd6916cc41dbb9b238748e363c0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5oORXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763857063&amp;x-signature=vbRCSy2zV9VNECpx1p1IKCLSYKs%3D" alt="image.png" loading="lazy"/></p>
<p>å¶å°”ï¼Œå®ƒè¿˜ä¼šé—¹äº›æƒ…ç»ªã€‚æ¯”å¦‚ä½ è¾“å…¥äº†å¤ªé•¿çš„ä¸€æ®µè¯ï¼Œæ²¡æœ‰æ¸…æ™°çš„ç»“æ„ï¼Œå®ƒä¼šå†æ¬¡ç”¨Generated an invalid diagramæé†’ä½ ï¼Œè¯­æ°”åƒæœ‹å‹ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä¸è¦æŠŠé”…ä¸¢ç»™æ¨¡å‹ï¼Œç¨å¾®è°ƒæ•´ä¸€ä¸‹æ–‡æœ¬ï¼ŒæŠŠä¸»é¢˜æ”¾åœ¨ç¬¬ä¸€è¡Œï¼ŒæŠŠä¸€çº§è¦ç‚¹ä¸€è¡Œä¸€ä¸ªï¼Œé£æ ¼æ›´åƒå¤§çº²ï¼Œå†æŒ‰ä¸€ä¸‹ç”Ÿæˆã€‚å®ƒä¼šç»™ä½ é¢å­ï¼Œé¢„è§ˆå°±å‡ºæ¥äº†ã€‚å¦‚æœä½ æƒ³æ›´ç¡®å®šä¸€ç‚¹ï¼ŒæŠŠå³ä¸Šè§’çš„ç±»å‹åˆ‡åˆ° Flowchartï¼Œå®ƒå‡ ä¹ä¸ä¼šè®©ä½ å¤±æœ›ã€‚</p>
<p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘å¼€å§‹è§‰å¾—è¿™ä»¶äº‹å¹¶ä¸åªæ˜¯ç»™é¡¹ç›®åŠ äº†ä¸€ä¸ªAIåŠŸèƒ½ã€‚å®ƒæ›´åƒæ˜¯è®©ä¸€ä¸ªæˆç†Ÿçš„å·¥å…·ï¼Œå­¦ä¼šå¬å¦ä¸€ç§è¯­è¨€ã€‚Excalidraw åŸæœ¬é¼“åŠ±ä½ ç”¨æ‰‹å»ç”»ï¼Œç°åœ¨å®ƒä¹Ÿå¯ä»¥ç†è§£ä½ è¯´ç”»ä¸€ä¸ªè¿™æ ·çš„ç»“æ„ã€‚TTD å¯¹è¯æ¡†ä¸æ˜¯é­”æ³•ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç†æ€§çš„æ¡¥æ¢ï¼ŒæŠŠäººçš„è¡¨è¾¾è¿æ¥åˆ°å›¾çš„è¡¨è¾¾ï¼Œå¸®ä½ è·¨è¿‡å»ã€‚SOLO Coder åœ¨è¿™ä»¶äº‹ä¸Šæ‰®æ¼”çš„è§’è‰²ï¼Œæ˜¯æŠŠé‚£äº›æ˜“ç¢çš„è¡”æ¥ç‚¹ï¼Œæ›¿ä½ ç¨³ç¨³åœ°å›ºå®šä½ã€‚ä¸‹è½½ã€å®‰è£…ã€èµ·æœåŠ¡ã€ä¿®äº‹ä»¶ã€æ¥æ¨¡å‹ã€æ¸…æ–‡æœ¬ã€å…œåº•ï¼Œè¿™äº›çœ‹èµ·æ¥åƒæ˜¯å·¥ç¨‹ç»†èŠ‚ï¼Œä½†å®ƒä»¬æ„æˆäº†æ•´ä¸ªä½“éªŒçš„å®æ„Ÿã€‚</p>
<p>å¦‚æœä½ é—®æˆ‘ï¼ŒSOLO Coder åœ¨è¿™ä»¶äº‹é‡Œåšäº†ä»€ä¹ˆï¼Œæˆ‘æƒ³è¯´å®ƒå¹¶æ²¡æœ‰æ›¿æˆ‘å†™æ‰æ‰€æœ‰ä»£ç ï¼Œä½†å®ƒå¸®æˆ‘æŠŠé‚£æ¡ä»ä¸‹è½½åˆ°çœ‹è§çš„è·¯å¾„é“ºå¹³äº†ã€‚åœ¨æœ¬åœ°æ‹‰èµ·é¡¹ç›®ï¼Œåè°ƒå·¥ä½œåŒºä¾èµ–ã€å¯åŠ¨ Viteï¼Œä¿®å¥½å…¥å£äº‹ä»¶ï¼ŒæŠŠåç«¯æœåŠ¡è·‘èµ·æ¥ï¼Œè±†åŒ…çš„å¯†é’¥è—åœ¨ .env.local ï¼Œè°ƒç”¨é“¾æ¡ä¸²ä¸Šå»ï¼Œé¢„è§ˆé“¾æ¡åˆç¨³ä½ï¼Œå†ç»™è¿™æ¡è·¯æ”¾å‡ ä¸ªè·¯æ ‡ï¼Œè¿™äº›å·¥ä½œå¬èµ·æ¥ä¸èµ·çœ¼ï¼Œå´è®©ä¸€åˆ‡å˜å¾—é¡ºç•…ã€‚äºŒæ¬¡å¼€å‘çœŸæ­£çš„é­…åŠ›åœ¨äºæ­¤ï¼šä½ ä¸æ˜¯æŠŠè‡ªå·±çš„æƒ³æ³•è´´ä¸Šå»ï¼Œè€Œæ˜¯æŠŠå®ƒæ‰è¿›æ¥ï¼Œè·Ÿé¡¹ç›®çš„è¯­è¨€åœ¨ä¸€èµ·ï¼Œè·Ÿå®ƒçš„èŠ‚å¥åœ¨ä¸€èµ·ã€‚</p>
<p>æˆ‘æŠŠè¿™ç¯‡æ–‡ç« å†™æˆä¸€æ®µè¿ç»­çš„å™äº‹ï¼Œä¸è®²é¦–å…ˆã€å…¶æ¬¡ã€æœ€åï¼Œä¸åšæŠ¥å‘Šé‚£æ ·å †è§‚ç‚¹ã€‚æˆ‘åªæ˜¯æŠŠè‡ªå·±çš„å®æ“æ‘Šå¼€ï¼Œè®©é‚£äº›æŒ‰é”®ã€é“¾æ¥ã€è·¯å¾„ã€æ‹è§’ã€é”™è¯¯å’Œä¿®å¤å…¨éƒ½åœ¨åœ°ä¸Šï¼Œå¸¦ç€ä½ èµ°è¿‡ä¸€æ¬¡ã€‚ç­‰ä½ èµ°å®Œï¼Œä½ ä¼šå‘ç°ä½ ä¹Ÿèƒ½è¿™æ ·ï¼ŒæŠŠä¸€ä¸ªæƒ³æ³•äº¤ç»™ SOLO Coderï¼Œç»™å®ƒä¸€ä¸ªè¢«éªŒè¯çš„å‡ºå£ï¼Œåªè¦ä½ æ„¿æ„åœ¨ä¸­é—´è¡¥ä¸Šä¸€ç‚¹ç‚¹è€å¿ƒï¼Œè¿™æ¡è·¯ä¼šå˜å¾—åƒä¸€æ¡å¹³æ•´çš„æœ¨æ¿é“ï¼Œè¸©ä¸Šå»ä¸ä¼šå‘å‡ºå±å˜çš„å£°å“ã€‚è¿™ä¸ªé¡¹ç›®äºæ˜¯æœ‰äº†ä¸€ä¸ªæ–°ä¹ æƒ¯ï¼šä¸ä»…ç”¨æ‰‹ç”»ï¼Œè¿˜èƒ½ç”¨è¯ç”»ã€‚å›¾åƒä¸å†éœ€è¦ä½ å»ä¸€ä¸ªä¸ªæ‘†æ”¾ï¼Œå®ƒå¯ä»¥æŒ‰ç…§ä½ çš„æ–‡å­—ï¼Œè‡ªå·±ç«™åœ¨ç”»å¸ƒä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift ä¸­çš„è¿­ä»£æœºåˆ¶ï¼šSequenceã€Collection ä¸ Iterator å®Œå…¨æ‹†è§£]]></title>    <link>https://juejin.cn/post/7573506713865863219</link>    <guid>https://juejin.cn/post/7573506713865863219</guid>    <pubDate>2025-11-17T08:23:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573506713865863219" data-draft-id="7571729676344049727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift ä¸­çš„è¿­ä»£æœºåˆ¶ï¼šSequenceã€Collection ä¸ Iterator å®Œå…¨æ‹†è§£"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T08:23:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift ä¸­çš„è¿­ä»£æœºåˆ¶ï¼šSequenceã€Collection ä¸ Iterator å®Œå…¨æ‹†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:23:31.000Z" title="Mon Nov 17 2025 08:23:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ—¥å¸¸å¼€å‘é‡Œï¼Œæˆ‘ä»¬å†™ <code>for item in list</code> åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ã€‚</p>
<p>ä½† Swift ç¼–è¯‘å™¨åœ¨èƒŒåæ‚„æ‚„åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>list.makeIterator()</code> æ‹¿åˆ°ä¸€ä¸ªè¿­ä»£å™¨</li>
<li>åå¤è°ƒç”¨ <code>iterator.next()</code></li>
<li>æŠŠè¿”å›çš„å¯é€‰å€¼è§£åŒ…åèµ‹ç»™ <code>item</code></li>
</ol>
<p>ä¸€æ—¦ç†è§£è¿™ä¸‰æ­¥ï¼Œä½ å°±èƒ½</p>
<ul>
<li>è‡ªå·±å†™â€œèƒ½ for-in çš„æ•°æ®ç»“æ„â€</li>
<li>é¿å…â€œéå†åŒæ—¶ä¿®æ”¹â€å¯¼è‡´çš„å´©æºƒ</li>
<li>æŠŠå›è°ƒå¼ API ä¼˜é›…åœ°è½¬æˆ <code>AsyncSequence</code></li>
</ul>
<h2 data-id="heading-1">Sequenceï¼šæœ€å°è¿­ä»£å•å…ƒ</h2>
<p>åè®®å®šä¹‰ï¼ˆæ ¸å¿ƒéƒ¨åˆ†ï¼ŒSwift 5.9 ä»ä¸å˜ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Sequence</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Element</span>
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Iterator</span>: <span class="hljs-type">IteratorProtocol</span> <span class="hljs-keyword">where</span> <span class="hljs-type">Iterator</span>.<span class="hljs-type">Element</span> <span class="hljs-operator">==</span> <span class="hljs-type">Element</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeIterator</span>() -&gt; <span class="hljs-type">Iterator</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">IteratorProtocol</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Element</span>
    <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">next</span>() -&gt; <span class="hljs-type">Element</span>?
}
</code></pre>
<p>å…³é”®çŸ¥è¯†ç‚¹</p>
<ol>
<li>Sequence åªæ‰¿è¯ºâ€œèƒ½ç”Ÿæˆè¿­ä»£å™¨â€ï¼Œä¸ä¿è¯èƒ½åå¤éå†ï¼Œä¹Ÿä¸ä¿è¯æœ‰ <code>count</code>ã€‚</li>
<li>è¿­ä»£å™¨å‡ ä¹æ€»æ˜¯ <code>struct</code>ï¼šå€¼è¯­ä¹‰ä¿è¯â€œå¤åˆ¶ä¸€ä»½å°±ä»å¤´å¼€å§‹â€ï¼Œä¸ä¼šæ„å¤–å…±äº«çŠ¶æ€ã€‚</li>
<li>å•è¶Ÿåºåˆ—ï¼ˆä¾‹å¦‚ç½‘ç»œæµï¼‰å®Œå…¨åˆæ³•ï¼›ç¬¬äºŒæ¬¡ <code>makeIterator()</code> å¯ä»¥è¿”å›ç©ºè¿­ä»£å™¨ã€‚</li>
</ol>
<p>ä»£ç ç¤ºä¾‹ï¼šè‡ªå®šä¹‰ä¸€ä¸ªâ€œä» n å€’æ•°åˆ° 0â€çš„åºåˆ—</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Countdown</span>: <span class="hljs-title class_">Sequence</span> {
    <span class="hljs-keyword">let</span> start: <span class="hljs-type">Int</span>
    
    <span class="hljs-comment">// æ¯æ¬¡ for-in éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œç”Ÿæˆæ–°çš„è¿­ä»£å™¨</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeIterator</span>() -&gt; <span class="hljs-type">Iterator</span> {
        <span class="hljs-type">Iterator</span>(current: start)
    }
    
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Iterator</span>: <span class="hljs-title class_">IteratorProtocol</span> {
        <span class="hljs-keyword">var</span> current: <span class="hljs-type">Int</span>
        
        <span class="hljs-comment">// è¿”å› nil æ—¶ä»£è¡¨è¿­ä»£ç»“æŸ</span>
        <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">next</span>() -&gt; <span class="hljs-type">Int</span>? {
            <span class="hljs-keyword">guard</span> current <span class="hljs-operator">&gt;=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
            <span class="hljs-keyword">defer</span> { current <span class="hljs-operator">-=</span> <span class="hljs-number">1</span> }          <span class="hljs-comment">// å…ˆè¿”å›ï¼Œå†å‡</span>
            <span class="hljs-keyword">return</span> current
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">for</span> number <span class="hljs-keyword">in</span> <span class="hljs-type">Countdown</span>(start: <span class="hljs-number">3</span>) {
    <span class="hljs-built_in">print</span>(number)   <span class="hljs-comment">// 3 2 1 0</span>
}
</code></pre>
<h2 data-id="heading-2">Collectionï¼šåœ¨ Sequence ä¸ŠåŠ äº†ä¸‰æŠŠé”</h2>
<p>Collection é¢å¤–ä¿è¯</p>
<ul>
<li>å¯å¤šæ¬¡éå†ä¸”é¡ºåºç¨³å®šï¼ˆé™¤éè‡ªå·±æŠŠæ–‡æ¡£å†™é”™ï¼‰</li>
<li>æä¾› <code>count</code>ã€<code>endIndex</code>ã€ä¸‹æ ‡è®¿é—®</li>
<li>æ”¯æŒåˆ‡ç‰‡ã€å‰ç¼€ã€åç¼€ç­‰é»˜è®¤å®ç°</li>
</ul>
<p>åè®®ç‰‡æ®µ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Collection</span>: <span class="hljs-title class_">Sequence</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Index</span>: <span class="hljs-type">Comparable</span>
    <span class="hljs-keyword">var</span> startIndex: <span class="hljs-type">Index</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">var</span> endIndex: <span class="hljs-type">Index</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">subscript</span>(<span class="hljs-params">position</span>: <span class="hljs-type">Index</span>) -&gt; <span class="hljs-type">Element</span> { <span class="hljs-keyword">get</span> }
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">index</span>(<span class="hljs-params">after</span> <span class="hljs-params">i</span>: <span class="hljs-type">Index</span>) -&gt; <span class="hljs-type">Index</span>
}
</code></pre>
<p>å› ä¸ºå¤šè¶Ÿå®‰å…¨ï¼Œ<code>map</code>ã€<code>filter</code> å¯ä»¥æå‰åˆ†é…å†…å­˜ï¼›</p>
<p>å› ä¸ºä¸‹æ ‡å­˜åœ¨ï¼Œ<code>Array</code>ã€<code>Dictionary</code>ã€<code>Set</code> éƒ½ç›´æ¥ conformã€‚</p>
<h2 data-id="heading-3">for-in çš„ç³–è¡£å‰¥å¼€é•¿è¿™æ ·</h2>
<p>ç¼–è¯‘å™¨æŠŠ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">for</span> element <span class="hljs-keyword">in</span> container {
    <span class="hljs-built_in">print</span>(element)
}
</code></pre>
<p>ç¿»è¯‘æˆ</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">var</span> iterator <span class="hljs-operator">=</span> container.makeIterator()
<span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> element <span class="hljs-operator">=</span> iterator.next() {
    <span class="hljs-built_in">print</span>(element)
}
</code></pre>
<p>ç†è§£è¿™æ®µæ¨¡æ¿ä»£ç ï¼Œä½ å°±èƒ½ï¼š</p>
<ul>
<li>åœ¨ Playground é‡Œæ‰‹åŠ¨æ¨¡æ‹Ÿ <code>for</code> å¾ªç¯</li>
<li>æŠŠâ€œéå†åŒæ—¶ä¿®æ”¹â€çš„å´©æºƒåœºæ™¯å¤ç°å‡ºæ¥</li>
</ul>
<h2 data-id="heading-4">éå†åŒæ—¶ä¿®æ”¹ï¼šå´©æºƒç°åœºä¸ä¸‰ç§å®‰å…¨å†™æ³•</h2>
<p>ç°åœºï¼šéå†æ•°ç»„æ—¶åˆ é™¤å…ƒç´ </p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">var</span> todoItems <span class="hljs-operator">=</span> [<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>]

<span class="hljs-comment">// ç›®å‰å€’æ˜¯æ²¡æœ‰å´©æºƒï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯å¾ˆç¬¦åˆé€»è¾‘</span>
<span class="hljs-keyword">for</span> (index, item) <span class="hljs-keyword">in</span> todoItems.enumerated() {
    <span class="hljs-keyword">if</span> item <span class="hljs-operator">==</span> <span class="hljs-string">"B"</span> {
        todoItems.remove(at: index)   <span class="hljs-comment">// âŒ Fatal error: Collection modified while enumerating</span>
    }
}
</code></pre>
<p>åŸå› ï¼šæ•°ç»„ç¼“å†²åŒºæ¬è¿ï¼Œè¿­ä»£å™¨æŒ‡é’ˆå¤±æ•ˆã€‚</p>
<p>ä¸‰ç§å®‰å…¨å†™æ³•ï¼š</p>
<ol>
<li>å®˜æ–¹ä¸€æ¬¡æ€§ API</li>
</ol>
<pre><code class="hljs language-swift" lang="swift">todoItems.removeAll { <span class="hljs-variable">$0</span> <span class="hljs-operator">==</span> <span class="hljs-string">"B"</span> }
</code></pre>
<ol start="2">
<li>å…ˆè®°ä¸‹ç´¢å¼•ï¼Œååˆ é™¤</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> indexesToRemove <span class="hljs-operator">=</span> todoItems.indices.filter { todoItems[<span class="hljs-variable">$0</span>] <span class="hljs-operator">==</span> <span class="hljs-string">"B"</span> }
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> indexesToRemove.reversed() {
    todoItems.remove(at: i)
}
</code></pre>
<ol start="3">
<li>è¿‡æ»¤åæ•´ä½“æ›¿æ¢</li>
</ol>
<pre><code class="hljs language-swift" lang="swift">todoItems <span class="hljs-operator">=</span> todoItems.filter { <span class="hljs-variable">$0</span> <span class="hljs-operator">!=</span> <span class="hljs-string">"B"</span> }
</code></pre>
<h2 data-id="heading-5">AsyncSequenceï¼šæŠŠâ€œè¿­ä»£â€æ¬åˆ°å¼‚æ­¥ä¸–ç•Œ</h2>
<p>åè®®å®šä¹‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">AsyncSequence</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Element</span>
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">AsyncIterator</span>: <span class="hljs-type">AsyncIteratorProtocol</span> <span class="hljs-keyword">where</span> <span class="hljs-type">AsyncIterator</span>.<span class="hljs-type">Element</span> <span class="hljs-operator">==</span> <span class="hljs-type">Element</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeAsyncIterator</span>() -&gt; <span class="hljs-type">AsyncIterator</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">AsyncIteratorProtocol</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Element</span>
    <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">next</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-type">Element</span>?
}
</code></pre>
<p>æ¶ˆè´¹æ–¹å¼</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> element <span class="hljs-keyword">in</span> stream {
    <span class="hljs-built_in">print</span>(element)          <span class="hljs-comment">// ä¼šåœ¨æ¯æ¬¡ next() æŒ‚èµ·æ—¶è®©å‡ºçº¿ç¨‹</span>
}
</code></pre>
<p>æ¡¥æ¥å›è°ƒå¼ API çš„æ¨¡æ¿ï¼šè¿›åº¦æ¡åœºæ™¯</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">makeProgressStream</span>() -&gt; <span class="hljs-type">AsyncStream</span>&lt;<span class="hljs-type">Double</span>&gt; {
    <span class="hljs-type">AsyncStream</span> { continuation <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">let</span> token <span class="hljs-operator">=</span> <span class="hljs-type">ProgressCenter</span>.onUpdate { value <span class="hljs-keyword">in</span>
            continuation.yield(value)
            <span class="hljs-keyword">if</span> value <span class="hljs-operator">&gt;=</span> <span class="hljs-number">1.0</span> { continuation.finish() }
        }
        continuation.onTermination <span class="hljs-operator">=</span> { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
            <span class="hljs-type">ProgressCenter</span>.removeObserver(token)
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-type">Task</span> {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> p <span class="hljs-keyword">in</span> makeProgressStream() {
        progressView.progress <span class="hljs-operator">=</span> <span class="hljs-type">Float</span>(p)
    }
}
</code></pre>
<h2 data-id="heading-6">è‡ªå·±åŠ¨æ‰‹ï¼šä¸€ä¸ªå›ºå®šå®¹é‡çš„ RingBuffer</h2>
<p>éœ€æ±‚ï¼šä¿æŒæœ€æ–° N æ¡æ—¥å¿—ï¼Œæ”¯æŒ for-in æ‰“å°ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RingBuffer</span>&lt;<span class="hljs-title class_">Element</span>&gt;: <span class="hljs-title class_">Collection</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> storage: [<span class="hljs-type">Element</span>?]   <span class="hljs-comment">// ç”¨ Optional å ä½</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> head <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> tail <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">private(set)</span> <span class="hljs-keyword">var</span> count <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> capacity: <span class="hljs-type">Int</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">capacity</span>: <span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">self</span>.capacity <span class="hljs-operator">=</span> capacity
        storage <span class="hljs-operator">=</span> <span class="hljs-type">Array</span>(repeating: <span class="hljs-literal">nil</span>, count: capacity)
    }
    
    <span class="hljs-comment">// å†™å…¥æ–°å…ƒç´ ï¼Œè¦†ç›–æœ€æ—§æ•°æ®</span>
    <span class="hljs-keyword">mutating</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">append</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">newElement</span>: <span class="hljs-type">Element</span>) {
        storage[tail] <span class="hljs-operator">=</span> newElement
        tail <span class="hljs-operator">=</span> (tail <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) <span class="hljs-operator">%</span> capacity
        <span class="hljs-keyword">if</span> count <span class="hljs-operator">==</span> capacity {
            head <span class="hljs-operator">=</span> (head <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) <span class="hljs-operator">%</span> capacity   <span class="hljs-comment">// ä¸¢å¼ƒæœ€æ—§</span>
        } <span class="hljs-keyword">else</span> {
            count <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>
        }
    }
    
    <span class="hljs-comment">// MARK: Collection å¿…å¤‡</span>
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">Index</span> <span class="hljs-operator">=</span> <span class="hljs-type">Int</span>
    
    <span class="hljs-keyword">var</span> startIndex: <span class="hljs-type">Int</span> { <span class="hljs-number">0</span> }
    <span class="hljs-keyword">var</span> endIndex: <span class="hljs-type">Int</span> { count }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">index</span>(<span class="hljs-params">after</span> <span class="hljs-params">i</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-built_in">precondition</span>(i <span class="hljs-operator">&lt;</span> endIndex, <span class="hljs-string">"Index out of bounds"</span>)
        <span class="hljs-keyword">return</span> i <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
    }
    
    <span class="hljs-keyword">subscript</span>(<span class="hljs-params">position</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Element</span> {
        <span class="hljs-built_in">precondition</span>((<span class="hljs-number">0</span><span class="hljs-operator">..&lt;</span>count).contains(position), <span class="hljs-string">"Index out of bounds"</span>)
        <span class="hljs-keyword">let</span> offset <span class="hljs-operator">=</span> (head <span class="hljs-operator">+</span> position) <span class="hljs-operator">%</span> capacity
        <span class="hljs-keyword">return</span> storage[offset]<span class="hljs-operator">!</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">var</span> buffer <span class="hljs-operator">=</span> <span class="hljs-type">RingBuffer</span>&lt;<span class="hljs-type">Int</span>&gt;(capacity: <span class="hljs-number">3</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">5</span> {
    buffer.append(i)   <span class="hljs-comment">// 1,2,3 â†’ 2,3,4 â†’ 3,4,5</span>
}

<span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> buffer {
    <span class="hljs-built_in">print</span>(value)   <span class="hljs-comment">// 3 4 5</span>
}
</code></pre>
<h2 data-id="heading-7">æ€»ç»“ä¸æ‰©å±•åœºæ™¯</h2>
<ol>
<li>åè®®å±‚æ¬¡</li>
</ol>
<p><code>IteratorProtocol</code> â†’ <code>Sequence</code> â†’ <code>Collection</code> â†’ <code>BidirectionalCollection</code> â†’ <code>RandomAccessCollection</code></p>
<p>æ¯ä¸€å±‚åªåŠ å¿…è¦çº¦æŸï¼Œç»ä¸å¤šè¦ä¸€é¢—ç³–ã€‚</p>
<ol start="2">
<li>å€¼è¯­ä¹‰æ˜¯ Swift è¿­ä»£çš„çµé­‚</li>
</ol>
<p>ç»“æ„ä½“è¿­ä»£å™¨å¤åˆ¶å³â€œæ–°æ¸¸æ ‡â€ï¼Œé¿å…å…±äº«çŠ¶æ€ï¼Œè¿™ç‚¹ä¸ Objective-C çš„ NSEnumerator å½¢æˆé²œæ˜å¯¹æ¯”ã€‚</p>
<ol start="3">
<li>éå†åŒæ—¶ä¿®æ”¹çš„å´©æºƒæœ¬è´¨æ˜¯â€œè¿­ä»£å™¨å¤±æ•ˆâ€</li>
</ol>
<p>æ‰€æœ‰å¸¦æŒ‡é’ˆ/ç´¢å¼•çš„é›†åˆéƒ½å­˜åœ¨ï¼ŒæŒæ¡â€œå…ˆè®°å½•åæ”¹â€æˆ–â€œä¸€æ¬¡æ€§ APIâ€å³å¯ã€‚</p>
<ol start="4">
<li>AsyncSequence è®©â€œäº‹ä»¶æµâ€å˜æˆæ™®é€š for-in</li>
</ol>
<p>ç½‘ç»œä¸‹è½½ã€è“ç‰™æ•°æ®ã€ç”¨æˆ·ç‚¹å‡»åºåˆ—éƒ½èƒ½ç”¨åŒä¸€å¥—æ€ç»´å»ºæ¨¡ï¼›é…åˆ <code>AsyncStream</code> å‡ ä¹é›¶æˆæœ¬æ¡¥æ¥è€ä»£ç ã€‚</p>
<ol start="5">
<li>è‡ªå®šä¹‰ Collection æ˜¯æ¶æ„è¯•é‡‘çŸ³</li>
</ol>
<p>RingBuffer è¿™ç±»å°å®¹å™¨å†™ä¸€éï¼Œä½ ä¼šæ·±åˆ»ç†è§£â€œä¸‹æ ‡æ¢ç®—â€ã€â€œå®¹é‡ä¸ count åŒºåˆ«â€ã€â€œå‰ç½®æ¡ä»¶æ–­è¨€â€è¿™äº›æ—¥å¸¸è¢«æ ‡å‡†åº“éšè—çš„ç»†èŠ‚ã€‚</p>
<h2 data-id="heading-8">å­¦ä¹ èµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.donnywals.com%2Fa-deep-dive-into-collections-sequences-and-iterators-in-swift%2F" target="_blank" title="https://www.donnywals.com/a-deep-dive-into-collections-sequences-and-iterators-in-swift/" ref="nofollow noopener noreferrer">www.donnywals.com/a-deep-diveâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nacos æºç æ·±åº¦ç•…æ¸¸ï¼šæ³¨å†Œä¸­å¿ƒæ ¸å¿ƒæµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7572537221540560911</link>    <guid>https://juejin.cn/post/7572537221540560911</guid>    <pubDate>2025-11-16T01:15:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572537221540560911" data-draft-id="7572502156486606874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nacos æºç æ·±åº¦ç•…æ¸¸ï¼šæ³¨å†Œä¸­å¿ƒæ ¸å¿ƒæµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,GitHub,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-11-16T01:15:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–¹åœ†æƒ³å½“å›¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/386633160473101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nacos æºç æ·±åº¦ç•…æ¸¸ï¼šæ³¨å†Œä¸­å¿ƒæ ¸å¿ƒæµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/386633160473101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–¹åœ†æƒ³å½“å›¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T01:15:36.000Z" title="Sun Nov 16 2025 01:15:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <strong>æ–¹åœ†</strong>ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ Nacos å¦ä¸€å¤§åŠŸèƒ½ï¼š<strong>æ³¨å†Œä¸­å¿ƒ</strong>ã€‚æœ¬æ–‡ä¼šå…ˆä»‹ç»ä¸€ä¸‹ Nacos æ³¨å†Œä¸­å¿ƒçš„æ•°æ®å­˜å‚¨æ¨¡å‹ï¼Œè®©å¤§å®¶å¯¹ Nacos æ³¨å†Œä¸­å¿ƒæœ‰ä¸€ä¸ªå¤§è‡´çš„ç†è§£ï¼Œéšåæ ¹æ®æµç¨‹å›¾ç®€è¦ä»‹ç» Nacos æ³¨å†Œä¸­å¿ƒçš„æ ¸å¿ƒæµç¨‹ï¼Œé¿å…ç›´æ¥é˜…è¯»æºç æ—¶å¤ªè¿‡æ™¦æ¶©ï¼Œå¹¶è®©å¤§å®¶å¯¹ Nacos æ³¨å†Œä¸­å¿ƒæœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ï¼Œéšåé˜…è¯»è¿™ä¸€éƒ¨åˆ†æºç èƒ½è®©å¤§å®¶å¯¹åˆ†å¸ƒå¼æœåŠ¡æˆ–æ³¨å†Œä¸­å¿ƒæœ‰ä¸€ä¸ªæ›´å¥½çš„è®¤è¯†ï¼Œæ›´å¥½çš„ç†è§£ CP æˆ– AP å®šç†ï¼›æ³¨å†Œä¸­å¿ƒå†…å¯¹æ•°æ®ä¸€è‡´æ€§çš„ä¿è¯ï¼›ä»¥åŠå¤æ‚æµç¨‹ä¸­å¦‚ä½•å°†å„ä¸ªæ“ä½œè§£è€¦å¹¶ä¸ä½¿æ“ä½œä¸¢å¤±ç­‰ç­‰ï¼Œä»¥è¾…åŠ©å¤§å®¶æ—¥åçš„ç³»ç»Ÿè®¾è®¡ã€‚</p>
<hr/>
<p>Nacos çš„æ³¨å†Œä¸­å¿ƒæœåŠ¡å°†æœåŠ¡çš„æ³¨å†Œä¿¡æ¯çš„ <strong>å­˜å‚¨æ¨¡å‹</strong> åˆ†ä¸ºä¸‰çº§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1efe507f1b814d8fb8154e6a881fe0f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=pZjupmcm1sQSwZGm3dnaLF9BGPA%3D" alt="img_2.png" loading="lazy"/></p>
<ol>
<li>ä¸€çº§æ˜¯ <strong>æœåŠ¡</strong>ï¼šä¾‹å¦‚ç³»ç»Ÿçš„å¾®æœåŠ¡åˆ’åˆ†ï¼Œæä¾›ç”¨æˆ·æœåŠ¡çš„ <code>user-service</code>ï¼ŒæœåŠ¡çš„ç±»å®šä¹‰åœ¨ Nacos ä¸­æ˜¯ <code>com.alibaba.nacos.naming.core.v2.pojo.Service</code></li>
<li>äºŒçº§æ˜¯ <strong>é›†ç¾¤</strong>ï¼šæ¯”å¦‚å¯ä»¥æŒ‰åŒºåŸŸæœºæˆ¿åˆ’åˆ†é›†ç¾¤ï¼ŒåŒ—äº¬é›†ç¾¤ã€ä¸Šæµ·é›†ç¾¤ã€å¹¿å·é›†ç¾¤ç­‰ç­‰ï¼Œé›†ç¾¤åœ¨ Nacos ä¸­æ²¡æœ‰ä¸“é—¨çš„ç±»å®šä¹‰ï¼Œä½¿ç”¨ <code>clusterName</code> è¯†åˆ«</li>
<li>ä¸‰çº§æ˜¯ <strong>å®ä¾‹</strong>ï¼šä¾‹å¦‚åŒ—äº¬æœºæˆ¿çš„æŸå°æœåŠ¡å™¨éƒ¨ç½²çš„æŸä¸ªå®ä¾‹ï¼Œå®ä¾‹çš„ç±»å®šä¹‰åœ¨ Nacos ä¸­æ˜¯ <code>com.alibaba.nacos.api.naming.pojo.Instance</code></li>
</ol>
<p>å¦‚æœæˆ‘ä»¬å‘ <code>test-server</code> æœåŠ¡ä¸‹ï¼Œé›†ç¾¤ä¸º <code>clusterA</code> ä¸‹æ³¨å†Œä¸¤ä¸ªå®ä¾‹æ—¶ï¼ˆé»˜è®¤ public çš„å‘½åç©ºé—´ï¼‰ï¼Œåœ¨æ§åˆ¶å°æŸ¥è¯¢å®ä¾‹ä¿¡æ¯æ—¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74bad56d73de417ba3787f5c94b46b4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=xVvXXpTJR5rwElMiC0cUdGZYACw%3D" alt="img_3.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ad7092ab3594418815cd1f4898b4ee1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=1YIPxPzIozbwoSMEOE7gG9O5Mz8%3D" alt="img_4.png" loading="lazy"/></p>
<p>åœ¨æœåŠ¡è¯¦æƒ…ä¸­ä¼šå±•ç¤ºè¿™ä¸ªé›†ç¾¤ä¸‹æ‰€æœ‰çš„å®ä¾‹ä¿¡æ¯ã€‚åœ¨æ·±å…¥åˆ†ææºç ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ ¹æ®æµç¨‹å›¾ç®€è¿°ä¸€ä¸‹ Nacos ä½œä¸ºæ³¨å†Œä¸­å¿ƒæ—¶ï¼Œæ³¨å†Œå®ä¾‹ä¿¡æ¯çš„æ ¸å¿ƒæµç¨‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82d5e2b6f92d4684befb47e65262331d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=EY6A5O2YJRhCBnHrAEK%2FIOP%2BarM%3D" alt="nacos-naming.drawio.png" loading="lazy"/></p>
<p>é¦–å…ˆï¼ŒNacos Client ä¼šå¯¹ Nacos Server é›†ç¾¤ä¸­æŸä¸€ä¸ªèŠ‚ç‚¹å‘é€ gRPC è¯·æ±‚è¿›è¡Œå®ä¾‹æ³¨å†Œï¼›æœåŠ¡ç«¯å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œä¼šå…ˆå°† <strong>Service ä¿¡æ¯</strong> å’Œ <strong>å®ä¾‹ä¿¡æ¯</strong> å†™å…¥æœ¬åœ°ç¼“å­˜ï¼Œå¹¶è§¦å‘ <code>ClientRegisterServiceEvent</code> å’Œ <code>ClientChangedEvent</code> ä¸¤ä¸ªäº‹ä»¶ã€‚</p>
<p><code>ClientRegisterServiceEvent</code> äº‹ä»¶çš„ä½œç”¨æ˜¯åˆ›å»ºæ¨é€ç»™è®¢é˜…äº†æœåŠ¡çš„å®¢æˆ·ç«¯çš„ä»»åŠ¡ï¼Œåœ¨ <code>ScheduledExecutorService</code> ä¸­å®šæ—¶å¼‚æ­¥æ‰§è¡Œï¼Œå¹¶ä¸”æœ‰å¤±è´¥é‡è¯•æœºåˆ¶ï¼Œä¿è¯å®¢æˆ·ç«¯åŠæ—¶æ¥æ”¶åˆ°æ³¨å†Œå®ä¾‹å‘ç”Ÿå˜æ›´çš„æ•°æ®ã€‚</p>
<p><code>ClientChangedEvent</code> äº‹ä»¶çš„ä½œç”¨æ˜¯åˆ›å»ºå»¶è¿Ÿæ‰§è¡Œ Distro åè®®æ•°æ®åŒæ­¥çš„ä»»åŠ¡ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¾èµ– <code>ScheduledExecutorService</code> å»¶è¿Ÿæ‰§è¡Œã€‚<strong>Distro åè®®æ˜¯ Nacos ä¸­ä¸“é—¨ç”¨äºå¤„ç†ä¸´æ—¶å®ä¾‹æ•°æ®ä¸€è‡´æ€§çš„åˆ†å¸ƒå¼åè®®</strong>ï¼Œå®ƒä¿è¯é›†ç¾¤å†…æ•°æ®ä¸€è‡´æ€§çš„æ–¹æ³•éå¸¸ç®€å•ï¼Œç”±æ¥æ”¶åˆ°å®ä¾‹æ³¨å†Œä¿¡æ¯çš„èŠ‚ç‚¹å°†æ•°æ®å¼‚æ­¥å‘é€ç»™é›†ç¾¤å†…å…¶ä»–èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹ä¼šå‘è¯¥èŠ‚ç‚¹ä¸€æ ·æ‰§è¡Œä¸€æ¬¡å®ä¾‹æ³¨å†Œçš„æµç¨‹ã€‚èƒ½é€šè¿‡è¿™ä¹ˆç®€å•çš„æ–¹å¼æ¥å®Œæˆæ•°æ®åŒæ­¥ï¼Œå› ä¸ºä»¥ä¸‹åŸå› ï¼š</p>
<ol>
<li><strong>æœåŠ¡æ³¨å†Œæ•°æ®æ¨¡å‹çš„å±æ€§ç®€åŒ–äº†åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ï¼Œé¿å…äº†å¤æ‚çš„å†²çªè§£å†³æœºåˆ¶</strong>ï¼š<strong>æœåŠ¡å®ä¾‹é€šè¿‡å¤šä¸ªç»´åº¦ç¡®å®šå”¯ä¸€æ€§</strong>ï¼šå‘½åç©ºé—´ + æœåŠ¡å + é›†ç¾¤å + IPåœ°å€ + ç«¯å£å·ï¼Œè¿™ç§å”¯ä¸€æ€§è®¾è®¡ç¡®ä¿äº†åŒä¸€ä¸ªæœåŠ¡å®ä¾‹çš„æ³¨å†Œä¿¡æ¯åœ¨ä»»ä½•èŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥åŒä¸€å®ä¾‹çš„æ³¨å†Œä¿¡æ¯åœ¨ä¸åŒèŠ‚ç‚¹ã€ä¸åŒæ—¶é—´å…ˆåå†™å…¥éƒ½ä¸ä¼šå­˜åœ¨æ•°æ®å†²çªé—®é¢˜ï¼Œ<strong>å†™å…¥æ“ä½œæ˜¯å¹‚ç­‰çš„</strong>ï¼Œå¤§å¤§é™ä½äº†ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å¤æ‚åº¦</li>
<li>æœåŠ¡å®ä¾‹çš„æ³¨å†Œä¿¡æ¯æ˜¯ <strong>ä¸´æ—¶æ•°æ®</strong>ï¼šæ•°æ®å…·æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¼šè‡ªåŠ¨è¿‡æœŸæˆ–è¢«æ¸…ç†ï¼Œä¸éœ€è¦æŒä¹…åŒ–å­˜å‚¨ï¼Œä¸¢å¤±åå¯ä»¥é‡æ–°ç”Ÿæˆï¼Œé™ä½äº†ç»´æŠ¤å®ä¾‹æ•°æ®çš„éš¾åº¦</li>
<li>ä¸šåŠ¡åœºæ™¯èƒ½å¤Ÿæ¥å—æ•°æ®çš„ <strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼šå¯ç”¨æ€§ï¼ˆAvailabilityï¼‰æ¯”ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰æ›´é‡è¦ï¼ŒçŸ­æ—¶é—´å†…éƒ¨åˆ†å®ä¾‹æ³¨å†Œä¿¡æ¯ä¸ä¸€è‡´ä¸å½±å“ä¸šåŠ¡</li>
<li>å¤šä¸ª Nacos Client å®¢æˆ·ç«¯ä¼šè¿æ¥åˆ°ä¸åŒçš„ Nacos Server æœåŠ¡ç«¯ï¼Œç›¸å½“äºè¿›è¡Œäº† <strong>åˆ†ç‰‡</strong>ï¼šæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹è´Ÿè´£ç‰¹å®šçš„å®¢æˆ·ç«¯å®ä¾‹ï¼Œå®¢æˆ·ç«¯æ³¨å†Œçš„æ“ä½œåŸºæœ¬åªåœ¨ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹å‘ç”Ÿï¼Œå¤§å¤§é™ä½äº†å‘ç”Ÿå†™å…¥å†²çªçš„å¯èƒ½</li>
</ol>
<p>æ‰€ä»¥ Distro åè®®æ‰èƒ½å¦‚æ­¤ç®€å•å’Œé«˜æ•ˆï¼Œä¿è¯ Nacos é›†ç¾¤å†…æ³¨å†Œå®ä¾‹ä¿¡æ¯çš„ <strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ã€‚ä»¥ä¸Šä¾¿æ˜¯åœ¨ Nacos æ³¨å†Œä¸­å¿ƒæ³¨å†Œå®ä¾‹çš„å¤§è‡´æµç¨‹ï¼Œåšäº†ä¸€äº›çœç•¥ï¼Œä½†æ˜¯ä¸»è¦çš„åŸç†æ²¡æœ‰æ”¹å˜ï¼šåŒæ­¥å†™å…¥æœ¬åœ°ç¼“å­˜è®°å½•æœåŠ¡å’Œå®ä¾‹ä¿¡æ¯ï¼Œå¼‚æ­¥å¤„ç†äº‹ä»¶æ‰§è¡Œå®¢æˆ·ç«¯çš„è®¢é˜…æ¨é€å’Œ Distro åè®®çš„æ•°æ®åŒæ­¥ï¼Œä¿è¯é›†ç¾¤å†…å®ä¾‹ä¿¡æ¯çš„æ•°æ®ä¸€è‡´æ€§ï¼Œå¦‚æœå¤§å®¶æƒ³æ·±å…¥åˆ°æºç çš„ç»†èŠ‚ä¸­ï¼Œæ¬¢è¿é˜…è¯»ä»¥ä¸‹å†…å®¹ã€‚</p>
<h3 data-id="heading-0">æºç åˆ†æ</h3>
<p>ä»¥å¦‚ä¸‹æºç æ¥ä½œä¸ºæ³¨å†ŒæœåŠ¡å®ä¾‹çš„å…¥å£æ¥éªŒè¯å‘ Nacos æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡å®ä¾‹çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestNaming</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">testNacosNamingService</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException, NacosException {
        <span class="hljs-type">Properties</span> <span class="hljs-variable">properties</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();
        properties.put(PropertyKeyConst.SERVER_ADDR, <span class="hljs-string">"127.0.0.1:8848"</span>);
        properties.put(PropertyKeyConst.NAMESPACE, <span class="hljs-string">"public"</span>);
        <span class="hljs-type">NamingService</span> <span class="hljs-variable">namingService</span> <span class="hljs-operator">=</span> NacosFactory.createNamingService(properties);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æ³¨å†Œä¸€ä¸ªæœåŠ¡å®ä¾‹</span>
            namingService.registerInstance(<span class="hljs-string">"test-service"</span>, <span class="hljs-string">"127.0.0.1"</span>, <span class="hljs-number">8080</span>, <span class="hljs-string">"clusterA"</span>);

            <span class="hljs-comment">// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</span>
            namingService.subscribe(<span class="hljs-string">"test-service"</span>, event -&gt; System.out.println(<span class="hljs-string">"æœåŠ¡å®ä¾‹å˜åŒ–: "</span> + event));
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.out.println(<span class="hljs-string">"æœåŠ¡æ³¨å†Œå¤±è´¥(é¢„æœŸï¼Œå› ä¸ºæœåŠ¡å™¨å¯èƒ½æœªå¯åŠ¨): "</span> + e.getMessage());
        }

        TimeUnit.HOURS.sleep(<span class="hljs-number">5</span>);

        namingService.shutDown();
    }
}
</code></pre>
<p>æœ€å…ˆå®ƒä¼šæ‰§è¡Œ <code>NamingService#registerInstance</code> æ–¹æ³•ï¼Œ<code>Instance</code> å¯¹è±¡ä¾¿æ˜¯å­˜å‚¨æ¨¡å‹çš„å®ä¾‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NacosNamingService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NamingService</span> {

    <span class="hljs-keyword">private</span> NamingClientProxy clientProxy;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerInstance</span><span class="hljs-params">(String serviceName, String groupName, String ip, <span class="hljs-type">int</span> port, String clusterName)</span>
            <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-type">Instance</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Instance</span>();
        instance.setIp(ip);
        instance.setPort(port);
        <span class="hljs-comment">// é»˜è®¤æƒé‡å€¼ä¸º 1</span>
        instance.setWeight(<span class="hljs-number">1.0</span>);
        instance.setClusterName(clusterName);
        registerInstance(serviceName, groupName, instance);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerInstance</span><span class="hljs-params">(String serviceName, String groupName, Instance instance)</span> <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>
        NamingUtils.checkInstanceIsLegal(instance);
        checkAndStripGroupNamePrefix(instance, groupName);
        <span class="hljs-comment">// åœ¨è¿™é‡Œå®é™…ä¸Šä½¿ç”¨äº†é™æ€ä»£ç†æ¨¡å¼æ¥åŒºåˆ†æ˜¯ä½¿ç”¨ HTTPClient è¿˜æ˜¯ GrpcClientï¼Œé»˜è®¤ä¸ºåè€…</span>
        clientProxy.registerService(serviceName, groupName, instance);
    }
}
</code></pre>
<p>å®é™…æ‰§è¡Œæ³¨å†Œçš„ä¸º <code>NamingGrpcClientProxy</code> å®ç°ç±»ï¼Œåœ¨å‘æ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡çš„é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬ <strong>åªå…³æ³¨åˆ›å»ºä¸´æ—¶ï¼ˆEphemeralï¼‰æœåŠ¡å®ä¾‹</strong> çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NamingGrpcClientProxy</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractNamingClientProxy</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> NamingGrpcRedoService redoService;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerService</span><span class="hljs-params">(String serviceName, String groupName, Instance instance)</span> <span class="hljs-keyword">throws</span> NacosException {
        NAMING_LOGGER.info(<span class="hljs-string">"[REGISTER-SERVICE] {} registering service {} with instance {}"</span>, namespaceId, serviceName,
                instance);
        <span class="hljs-comment">// [registerInstance] æ­¥éª¤1ï¼šåˆ›å»ºæœåŠ¡å®ä¾‹åŒºåˆ†æ˜¯å¦ä¸ºä¸´æ—¶</span>
        <span class="hljs-keyword">if</span> (instance.isEphemeral()) { 
            registerServiceForEphemeral(serviceName, groupName, instance);
        } <span class="hljs-keyword">else</span> {
            doRegisterServiceForPersistent(serviceName, groupName, instance);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerServiceForEphemeral</span><span class="hljs-params">(String serviceName, String groupName, Instance instance)</span>
            <span class="hljs-keyword">throws</span> NacosException {
        redoService.cacheInstanceForRedo(serviceName, groupName, instance);
        doRegisterService(serviceName, groupName, instance);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doRegisterService</span><span class="hljs-params">(String serviceName, String groupName, Instance instance)</span> <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-comment">// å®¢æˆ·ç«¯åˆ›å»ºæ³¨å†Œå®ä¾‹è¯·æ±‚å¯¹è±¡ï¼ŒåŒ…å«å‘½åç©ºé—´ã€æœåŠ¡åã€åˆ†ç»„åå’Œå®ä¾‹ä¿¡æ¯</span>
        <span class="hljs-type">InstanceRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InstanceRequest</span>(namespaceId, serviceName, groupName,
                NamingRemoteConstants.REGISTER_INSTANCE, instance);
        <span class="hljs-comment">// [registerInstance] æ­¥éª¤2ï¼šé€šè¿‡gRPCåè®®å‘æœåŠ¡ç«¯å‘é€æ³¨å†Œè¯·æ±‚</span>
        requestToServer(request, Response.class);
        redoService.instanceRegistered(serviceName, groupName);
    }
}
</code></pre>
<p>åœ¨ä¸Šè¿°æ­¥éª¤ä¸­ï¼Œå¯ä»¥å‘ç°åˆ†åˆ«ä¸¤æ¬¡è°ƒç”¨äº† <code>redoServer</code> çš„ <code>cacheInstanceForRedo</code> å’Œ <code>instanceRegistered</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NamingGrpcRedoService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ConnectionEventListener</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentMap&lt;String, InstanceRedoData&gt; registeredInstances = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// åˆ›å»º InstanceRedoData å¯¹è±¡åœ¨ ConcurrentMap ä¸­</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheInstanceForRedo</span><span class="hljs-params">(String serviceName, String groupName, Instance instance)</span> {
        <span class="hljs-comment">// eg: DEFAULT_GROUP@@test-service</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> NamingUtils.getGroupedName(serviceName, groupName);
        <span class="hljs-type">InstanceRedoData</span> <span class="hljs-variable">redoData</span> <span class="hljs-operator">=</span> InstanceRedoData.build(serviceName, groupName, instance);
        <span class="hljs-keyword">synchronized</span> (registeredInstances) {
            registeredInstances.put(key, redoData);
        }
    }
}
</code></pre>
<p>é¦–å…ˆå®ƒä¼šåˆ›å»º <code>InstanceRedoData</code> å¯¹è±¡ä¿å­˜åœ¨ <code>ConcurrentMap</code> ä¸­ï¼Œåˆå§‹å­—æ®µå€¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e384e223d7864c9e8ffe2f6384976b38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=GjJ0dffh%2BVrt%2BPLe5jHzzQZ1NtA%3D" alt="img.png" loading="lazy"/></p>
<p>åœ¨æˆåŠŸè°ƒç”¨å‘æœåŠ¡ç«¯æ³¨å†Œå®ä¾‹åï¼Œä¼šå°† <code>InstanceRedoData#registered</code> å­—æ®µæ ‡è®°ä¸º trueï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NamingGrpcRedoService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ConnectionEventListener</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentMap&lt;String, InstanceRedoData&gt; registeredInstances = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">instanceRegistered</span><span class="hljs-params">(String serviceName, String groupName)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> NamingUtils.getGroupedName(serviceName, groupName);
        <span class="hljs-keyword">synchronized</span> (registeredInstances) {
            <span class="hljs-type">InstanceRedoData</span> <span class="hljs-variable">redoData</span> <span class="hljs-operator">=</span> registeredInstances.get(key);
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != redoData) {
                <span class="hljs-comment">// æ ‡è®° registered å­—æ®µä¸º true</span>
                redoData.registered();
            }
        }
    }
}
</code></pre>
<p>è‡³äº <code>InstanceRedoData</code> å¯¹è±¡æœ‰ä»€ä¹ˆä½œç”¨æˆ‘ä»¬ä¹‹åå†çœ‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆå›åˆ° gRPC è¯·æ±‚æœåŠ¡ç«¯æ³¨å†Œå®ä¾‹çš„é€»è¾‘ä¸­ã€‚Nacos Client ä¼šå‘æœåŠ¡ç«¯å‘é€ <code>InstanceRequest</code> è¯·æ±‚ï¼Œå¹¶æœ‰ Nacos Server ç«¯çš„ <code>InstanceRequestHandler</code> æ‰¿æ¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InstanceRequestHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RequestHandler</span>&lt;InstanceRequest, InstanceResponse&gt; {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> EphemeralClientOperationServiceImpl clientOperationService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">InstanceRequestHandler</span><span class="hljs-params">(EphemeralClientOperationServiceImpl clientOperationService)</span> {
        <span class="hljs-built_in">this</span>.clientOperationService = clientOperationService;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@NamespaceValidation</span>
    <span class="hljs-meta">@TpsControl(pointName = "RemoteNamingInstanceRegisterDeregister", name = "RemoteNamingInstanceRegisterDeregister")</span>
    <span class="hljs-meta">@Secured(action = ActionTypes.WRITE)</span>
    <span class="hljs-meta">@ExtractorManager</span>.Extractor(rpcExtractor = InstanceRequestParamExtractor.class)
    <span class="hljs-keyword">public</span> InstanceResponse <span class="hljs-title function_">handle</span><span class="hljs-params">(InstanceRequest request, RequestMeta meta)</span> <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-comment">// [registerInstance] æ­¥éª¤3ï¼šæ ¹æ®è¯·æ±‚å‚æ•°åˆ›å»ºæœåŠ¡å¯¹è±¡ï¼Œè®¾ç½®ä¸ºephemeralï¼ˆä¸´æ—¶ï¼‰æœåŠ¡</span>
        <span class="hljs-type">Service</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> Service.newService(request.getNamespace(), request.getGroupName(), request.getServiceName(),
                <span class="hljs-literal">true</span>);
        InstanceUtil.setInstanceIdIfEmpty(request.getInstance(), service.getGroupedServiceName());
        <span class="hljs-keyword">switch</span> (request.getType()) {
            <span class="hljs-keyword">case</span> NamingRemoteConstants.REGISTER_INSTANCE:
                <span class="hljs-comment">// æ ¹æ®è¯·æ±‚ç±»å‹åˆ†å‘åˆ°å…·ä½“çš„æ³¨å†Œå®ä¾‹æ–¹æ³•</span>
                <span class="hljs-keyword">return</span> registerInstance(service, request, meta);
            <span class="hljs-keyword">case</span> NamingRemoteConstants.DE_REGISTER_INSTANCE:
                <span class="hljs-keyword">return</span> deregisterInstance(service, request, meta);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NacosException</span>(NacosException.INVALID_PARAM,
                        String.format(<span class="hljs-string">"Unsupported request type %s"</span>, request.getType()));
        }
    }

    <span class="hljs-keyword">private</span> InstanceResponse <span class="hljs-title function_">registerInstance</span><span class="hljs-params">(Service service, InstanceRequest request, RequestMeta meta)</span>
            <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-comment">// è°ƒç”¨å®¢æˆ·ç«¯æ“ä½œæœåŠ¡æ³¨å†Œå®ä¾‹ï¼Œä¼ å…¥æœåŠ¡ã€å®ä¾‹å’Œè¿æ¥ID</span>
        clientOperationService.registerInstance(service, request.getInstance(), meta.getConnectionId());
        <span class="hljs-comment">// å‘å¸ƒå®ä¾‹æ³¨å†Œè·Ÿè¸ªäº‹ä»¶ï¼Œè®°å½•æ³¨å†Œæ“ä½œçš„è¯¦ç»†ä¿¡æ¯</span>
        NotifyCenter.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegisterInstanceTraceEvent</span>(System.currentTimeMillis(),
                NamingRequestUtil.getSourceIpForGrpcRequest(meta), <span class="hljs-literal">true</span>, service.getNamespace(), service.getGroup(),
                service.getName(), request.getInstance().getIp(), request.getInstance().getPort()));
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InstanceResponse</span>(NamingRemoteConstants.REGISTER_INSTANCE);
    }
}
</code></pre>
<p>å®ƒä¼šåˆ›å»º <code>Service</code> å¯¹è±¡ï¼Œå®ƒæ˜¯å­˜å‚¨æ¨¡å‹ä¸­çš„æœåŠ¡ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37b23fbb9a9e4a7ea343c8d4e90d6487~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pa55ZyG5oOz5b2T5Zu-54G1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860535&amp;x-signature=bDn4A65AAZlt%2BrS0O7PvXd7rfx8%3D" alt="img_1.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆæ·±å…¥åˆ°å…¶ä¸­è°ƒç”¨çš„ <code>EphemeralClientOperationServiceImpl#registerInstance</code> æ–¹æ³•ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EphemeralClientOperationServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ClientOperationService</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerInstance</span><span class="hljs-params">(Service service, Instance instance, String clientId)</span> <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-comment">// éªŒè¯å®ä¾‹çš„åˆæ³•æ€§ï¼ˆIPã€ç«¯å£ç­‰ï¼‰</span>
        NamingUtils.checkInstanceIsLegal(instance);

        <span class="hljs-comment">// [registerInstance] æ­¥éª¤4ï¼šä»æœåŠ¡ç®¡ç†å™¨è·å–å•ä¾‹æœåŠ¡å¯¹è±¡</span>
        <span class="hljs-type">Service</span> <span class="hljs-variable">singleton</span> <span class="hljs-operator">=</span> ServiceManager.getInstance().getSingleton(service);
        <span class="hljs-keyword">if</span> (!singleton.isEphemeral()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NacosRuntimeException</span>(NacosException.INVALID_PARAM,
                    String.format(<span class="hljs-string">"Current service %s is persistent service, can't register ephemeral instance."</span>,
                            singleton.getGroupedServiceName()));
        }
        <span class="hljs-comment">// è·å–å®¢æˆ·ç«¯è¿æ¥å¯¹è±¡å¹¶éªŒè¯å…¶åˆæ³•æ€§</span>
        <span class="hljs-type">Client</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> clientManager.getClient(clientId);
        checkClientIsLegal(client, clientId);
        <span class="hljs-comment">// å°†å®ä¾‹ä¿¡æ¯è½¬æ¢ä¸ºå‘å¸ƒä¿¡æ¯å¯¹è±¡</span>
        <span class="hljs-type">InstancePublishInfo</span> <span class="hljs-variable">instanceInfo</span> <span class="hljs-operator">=</span> getPublishInfo(instance);
        <span class="hljs-comment">// [registerInstance] æ­¥éª¤5ï¼šå°†å®ä¾‹ä¿¡æ¯ InstancePublishInfo æ·»åŠ åˆ°å®¢æˆ·ç«¯çš„æœåŠ¡å®ä¾‹åˆ—è¡¨ä¸­</span>
        client.addServiceInstance(singleton, instanceInfo);
        client.setLastUpdatedTime();
        client.recalculateRevision();
        <span class="hljs-comment">// å‘å¸ƒå®¢æˆ·ç«¯æ³¨å†ŒæœåŠ¡äº‹ä»¶</span>
        NotifyCenter.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientOperationEvent</span>(singleton, clientId));
        <span class="hljs-comment">// å‘å¸ƒå®ä¾‹å…ƒæ•°æ®äº‹ä»¶ï¼Œå®Œæˆæ³¨å†Œæµç¨‹</span>
        NotifyCenter
                .publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MetadataEvent</span>.InstanceMetadataEvent(singleton, instanceInfo.getMetadataId(), <span class="hljs-literal">false</span>));
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceManager</span> {

    <span class="hljs-comment">// å•ä¾‹æ¨¡å¼ï¼šé¥¿æ±‰å¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ServiceManager</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceManager</span>();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ServiceManager <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> INSTANCE;
    }


    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;Service, Service&gt; singletonRepository;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, Set&lt;Service&gt;&gt; namespaceSingletonMaps;

    <span class="hljs-keyword">private</span> <span class="hljs-title function_">ServiceManager</span><span class="hljs-params">()</span> {
        singletonRepository = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;(<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">10</span>);
        namespaceSingletonMaps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;(<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">2</span>);
    }
    
    <span class="hljs-keyword">public</span> Service <span class="hljs-title function_">getSingleton</span><span class="hljs-params">(Service service)</span> {
        <span class="hljs-comment">// é¦–å…ˆåœ¨ singletonRepository ä¸­æŸ¥æ‰¾æˆ–åˆ›å»ºæœåŠ¡å•ä¾‹</span>
        <span class="hljs-type">Service</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> singletonRepository.computeIfAbsent(service, key -&gt; {
            NotifyCenter.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MetadataEvent</span>.ServiceMetadataEvent(service, <span class="hljs-literal">false</span>));
            <span class="hljs-keyword">return</span> service;
        });
        <span class="hljs-comment">// [registerInstance] å…³é”®æ•°æ®å†™å…¥ï¼šå°†æœåŠ¡æ·»åŠ åˆ°å‘½åç©ºé—´æœåŠ¡æ˜ å°„è¡¨ä¸­ namespaceSingletonMaps</span>
        namespaceSingletonMaps.computeIfAbsent(result.getNamespace(), namespace -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashSet</span>&lt;&gt;()).add(result);
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p>åœ¨ <strong>[registerInstance] æ­¥éª¤4</strong> ä¸­å®Œæˆäº† <strong>æœåŠ¡å®ä¾‹ä¿¡æ¯æ³¨å†Œåæœ¬åœ°ç¼“å­˜çš„å†™å…¥</strong>ï¼Œå®ƒä¼šè¢«è®°å½•åˆ° <code>ServiceManager#singletonRepository</code> å’Œ <code>ServiceManager#namespaceSingletonMaps</code> ä¸¤ä¸ªå˜é‡ä¸­ï¼Œå¹¶ä¸”åœ¨åœ¨é¦–æ¬¡é€šè¿‡ <code>ConcurrentHashMap#computeIfAbsent</code> æ–¹æ³•æ·»åŠ æ—¶ä¼šè§¦å‘ <code>ServiceMetadataEvent</code> äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶ç”¨äºæ›´æ–°æœåŠ¡ä¿¡æ¯çš„å…ƒæ•°æ®ï¼Œæ¯”è¾ƒç®€å•å°±ä¸å†è§£é‡Šäº†ï¼Œè¿™æœ‰ä¸€ç‚¹ <strong>ä»£ç è§„èŒƒ</strong> éœ€è¦æ³¨æ„ï¼šå®ƒå°† <code>ServiceManager#getSingleton</code> å‘½åä¸ºè·å–æœåŠ¡å®ä¾‹çš„æ–¹æ³•ï¼Œä½†æ˜¯å´åœ¨è¿™ä¸ª <code>get</code> æ–¹æ³•ä¸­æ‰§è¡Œäº†å†™å…¥é€»è¾‘ï¼Œå…·æœ‰è¿·æƒ‘æ€§ï¼Œåº”è¯¥ä¿®æ”¹å‘½åä¸º <code>registerAndGetSingleton</code> æ‰å¯¹ã€‚å†å›åˆ° <code>registerInstance</code> æ–¹æ³•ä¸­ï¼Œ<strong>[registerInstance] æ­¥éª¤5</strong> ä¹Ÿæ˜¯ä¸€æ®µé‡è¦çš„é€»è¾‘ï¼Œå®ƒä¼šåœ¨ <code>ConcurrentHashMap&lt;Service, InstancePublishInfo&gt; publishers</code> è®°å½•æ³¨å†Œå®ä¾‹çš„å‘å¸ƒä¿¡æ¯ <code>InstancePublishInfo</code>ï¼ŒåŒ…å« <strong>å®ä¾‹çš„ IPï¼Œç«¯å£å’Œé›†ç¾¤ç­‰å¿…è¦ä¿¡æ¯</strong>ï¼Œåç»­ä¼šä»å‘å¸ƒä¿¡æ¯ä¸­æ¥è·å–è¿™äº›å­—æ®µå€¼ï¼Œå¹¶ä¸”ä¼šè§¦å‘ <code>ClientChangedEvent</code> äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractClient</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Client</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;Service, InstancePublishInfo&gt; publishers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;(<span class="hljs-number">16</span>, <span class="hljs-number">0.75f</span>, <span class="hljs-number">1</span>);
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">addServiceInstance</span><span class="hljs-params">(Service service, InstancePublishInfo instancePublishInfo)</span> {
        <span class="hljs-keyword">if</span> (instancePublishInfo <span class="hljs-keyword">instanceof</span> BatchInstancePublishInfo) {
            <span class="hljs-type">InstancePublishInfo</span> <span class="hljs-variable">old</span> <span class="hljs-operator">=</span> publishers.put(service, instancePublishInfo);
            MetricsMonitor.incrementIpCountWithBatchRegister(old, (BatchInstancePublishInfo) instancePublishInfo);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// è®°å½•å®ä¾‹çš„å‘å¸ƒä¿¡æ¯ï¼Œç”¨äºåç»­ä»å‘å¸ƒä¿¡æ¯ä¸­è§£æè·å–æ³¨å†Œå®ä¾‹çš„ IP ä¿¡æ¯ç­‰</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == publishers.put(service, instancePublishInfo)) {
                MetricsMonitor.incrementInstanceCount();
            }
        }
        <span class="hljs-comment">// è§¦å‘ ClientChangedEvent äº‹ä»¶</span>
        NotifyCenter.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientEvent</span>.ClientChangedEvent(<span class="hljs-built_in">this</span>));
        Loggers.SRV_LOG.info(<span class="hljs-string">"Client change for service {}, {}"</span>, service, getClientId());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p>åœ¨ <code>registerInstance</code> æ–¹æ³•ä¸­è¿˜ä¼šå‘å¸ƒä¸¤ä¸ªäº‹ä»¶ï¼š<code>ClientRegisterServiceEvent</code> å’Œ <code>InstanceMetadataEvent</code>ï¼Œåè€…ç”¨äºå†™å…¥å®ä¾‹çš„å…ƒæ•°æ®æ¯”è¾ƒç®€å•ï¼Œå°±ä¸å†èµ˜è¿°äº†ã€‚åœ¨ä»¥ä¸Šé€»è¾‘ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†æœåŠ¡ä¿¡æ¯ <code>Service</code> è¢«è®°å½•åœ¨äº† <code>ServiceManager</code> ä¸­ï¼ŒæœåŠ¡ä¸‹å®ä¾‹çš„ä¿¡æ¯è¢«ä¿å­˜åœ¨äº† <code>AbstractClient#publishers</code> å­—æ®µä¸­ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ <code>ClientRegisterServiceEvent</code> äº‹ä»¶å’Œ <code>ClientChangedEvent</code> äº‹ä»¶æ˜¯å¦‚ä½•è¢«å¤„ç†çš„ã€‚</p>
<h4 data-id="heading-1">ClientRegisterServiceEvent</h4>
<p><code>ClientRegisterServiceEvent</code> äº‹ä»¶ç”± <code>ClientServiceIndexesManager</code> è®¢é˜…å¹¶æ¶ˆè´¹ï¼Œåœ¨è¿™é‡Œä¹Ÿä¼šè®°å½•æœåŠ¡ä¿¡æ¯ï¼Œå¦‚ä¸‹æ–¹ä»£ç æ‰€ç¤ºï¼Œå®ƒè¿˜ä¼šè§¦å‘ <code>ServiceChangedEvent</code> äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClientServiceIndexesManager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SmartSubscriber</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentMap&lt;Service, Set&lt;String&gt;&gt; publisherIndexes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleClientOperation</span><span class="hljs-params">(ClientOperationEvent event)</span> {
        <span class="hljs-type">Service</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> event.getService();
        <span class="hljs-type">String</span> <span class="hljs-variable">clientId</span> <span class="hljs-operator">=</span> event.getClientId();
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientOperationEvent.ClientRegisterServiceEvent) {
            <span class="hljs-comment">// [registerInstance] æ­¥éª¤6ï¼šå¤„ç†å®¢æˆ·ç«¯æ³¨å†ŒæœåŠ¡äº‹ä»¶ï¼Œå°†æœåŠ¡å’Œå®¢æˆ·ç«¯IDæ·»åŠ åˆ°å‘å¸ƒè€…ç´¢å¼• publisherIndexes ä¸­</span>
            addPublisherIndexes(service, clientId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientOperationEvent.ClientDeregisterServiceEvent) {
            removePublisherIndexes(service, clientId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientOperationEvent.ClientSubscribeServiceEvent) {
            addSubscriberIndexes(service, clientId);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientOperationEvent.ClientUnsubscribeServiceEvent) {
            removeSubscriberIndexes(service, clientId);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addPublisherIndexes</span><span class="hljs-params">(Service service, String clientId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">serviceChangedType</span> <span class="hljs-operator">=</span> Constants.ServiceChangedType.INSTANCE_CHANGED;
        <span class="hljs-keyword">if</span> (!publisherIndexes.containsKey(service)) {
            <span class="hljs-comment">// å”¯ä¸€éœ€è¦æ›´æ–°ç´¢å¼•çš„æ—¶é—´æ˜¯ "é¦–æ¬¡" åˆ›å»ºæœåŠ¡çš„æ—¶</span>
            serviceChangedType = Constants.ServiceChangedType.ADD_SERVICE;
        }
        <span class="hljs-comment">// å‘å¸ƒæœåŠ¡å˜æ›´äº‹ä»¶ï¼Œé€šçŸ¥è®¢é˜…è€…æœ‰æ–°çš„æœåŠ¡å®ä¾‹æ³¨å†Œ</span>
        NotifyCenter.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceEvent</span>.ServiceChangedEvent(service, serviceChangedType, <span class="hljs-literal">true</span>));
        publisherIndexes.computeIfAbsent(service, key -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashSet</span>&lt;&gt;()).add(clientId);
    }
}
</code></pre>
<p><code>ServiceChangedEvent</code> äº‹ä»¶è¢« <code>NamingSubscriberServiceV2Impl</code> è®¢é˜…å¹¶æ¶ˆè´¹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NamingSubscriberServiceV2Impl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SmartSubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NamingSubscriberService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PushDelayTaskExecuteEngine delayTaskEngine;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onEvent</span><span class="hljs-params">(Event event)</span> {
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ServiceEvent.ServiceChangedEvent) {
            <span class="hljs-comment">// [registerInstance] æ­¥éª¤7ï¼šå¤„ç†æœåŠ¡å˜æ›´äº‹ä»¶ï¼Œåˆ›å»ºæ¨é€ä»»åŠ¡å°†æœåŠ¡å˜æ›´é€šçŸ¥ç»™æ‰€æœ‰è®¢é˜…è€…</span>
            ServiceEvent.<span class="hljs-type">ServiceChangedEvent</span> <span class="hljs-variable">serviceChangedEvent</span> <span class="hljs-operator">=</span> (ServiceEvent.ServiceChangedEvent) event;
            <span class="hljs-type">Service</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> serviceChangedEvent.getService();
            delayTaskEngine.addTask(service, <span class="hljs-keyword">new</span> <span class="hljs-title class_">PushDelayTask</span>(service, PushConfig.getInstance().getPushTaskDelay()));
            MetricsMonitor.incrementServiceChangeCount(service);
        }
    }
}
</code></pre>
<p>å®ƒä¼šåˆ›å»ºä¸€ä¸ª <code>PushDelayTask</code> æ·»åŠ åˆ° <code>NacosDelayTaskExecuteEngine#tasks</code> ä¸­ï¼Œè¿™ä¸ª <code>NacosDelayTaskExecuteEngine</code> æˆ‘ä»¬åœ¨é…ç½®å‘å¸ƒçš„ç« èŠ‚ä»‹ç»è¿‡ï¼Œæœ¬è´¨ä¸Šå®ƒæ˜¯ä¸€ä¸ª <code>ScheduledExecutorService</code> åœ¨æ¯ 100ms æ‰§è¡Œä¸€ä¸ª <code>ConcurrentHashMap&lt;Object, AbstractDelayTask&gt; tasks</code> çš„ä»»åŠ¡ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ <code>PushDelayTask</code> ä»»åŠ¡ï¼Œé‡ç‚¹å…³æ³¨æ³¨é‡Šä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PushDelayTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractDelayTask</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Service service;

    <span class="hljs-comment">// æ˜¯å¦æ¨é€ç»™æ‰€æœ‰è®¢é˜…æœåŠ¡ä¿¡æ¯çš„ Client</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> pushToAll;

    <span class="hljs-keyword">private</span> Set&lt;String&gt; targetClients;

    <span class="hljs-comment">// åˆ›å»ºæ¨é€æ‰€æœ‰è®¢é˜…è€…çš„ä»»åŠ¡ï¼Œä¸Šæ–‡ä¸­ä¾¿æ˜¯è°ƒç”¨çš„è¿™ä¸ªæ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PushDelayTask</span><span class="hljs-params">(Service service, <span class="hljs-type">long</span> delay)</span> {
        <span class="hljs-built_in">this</span>.service = service;
        pushToAll = <span class="hljs-literal">true</span>;
        targetClients = <span class="hljs-literal">null</span>;
        setTaskInterval(delay);
        setLastProcessTime(System.currentTimeMillis());
    }

    <span class="hljs-comment">// åˆ›å»ºæ¨é€æŸä¸€ä¸ªè®¢é˜…è€…çš„ä»»åŠ¡ï¼Œä¸“é—¨ç”¨äºå¤„ç†æŸä¸ª IP æ¨é€å¤±è´¥çš„æƒ…å†µ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PushDelayTask</span><span class="hljs-params">(Service service, <span class="hljs-type">long</span> delay, String targetClient)</span> {
        <span class="hljs-built_in">this</span>.service = service;
        <span class="hljs-built_in">this</span>.pushToAll = <span class="hljs-literal">false</span>;
        <span class="hljs-built_in">this</span>.targetClients = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(<span class="hljs-number">1</span>);
        <span class="hljs-built_in">this</span>.targetClients.add(targetClient);
        setTaskInterval(delay);
        setLastProcessTime(System.currentTimeMillis());
    }

    <span class="hljs-comment">// åˆå¹¶ä»»åŠ¡ï¼Œé¿å…å¤šæ¬¡é‡å¤è°ƒç”¨</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">merge</span><span class="hljs-params">(AbstractDelayTask task)</span> {
        <span class="hljs-keyword">if</span> (!(task <span class="hljs-keyword">instanceof</span> PushDelayTask)) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-type">PushDelayTask</span> <span class="hljs-variable">oldTask</span> <span class="hljs-operator">=</span> (PushDelayTask) task;
        <span class="hljs-keyword">if</span> (isPushToAll() || oldTask.isPushToAll()) {
            pushToAll = <span class="hljs-literal">true</span>;
            targetClients = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">else</span> {
            targetClients.addAll(oldTask.getTargetClients());
        }
        setLastProcessTime(Math.min(getLastProcessTime(), task.getLastProcessTime()));
        Loggers.PUSH.info(<span class="hljs-string">"[PUSH] Task merge for {}"</span>, service);
    }

    <span class="hljs-keyword">public</span> Service <span class="hljs-title function_">getService</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> service;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPushToAll</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> pushToAll;
    }

    <span class="hljs-comment">// è·å–ç›®æ ‡æ¨é€ Client</span>
    <span class="hljs-keyword">public</span> Set&lt;String&gt; <span class="hljs-title function_">getTargetClients</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> targetClients;
    }
}
</code></pre>
<p>æˆ‘ä»¬èƒ½äº†è§£åˆ° <code>PushDelayTask</code> èƒ½å¤Ÿ <strong>åŒºåˆ†æ˜¯æ¨é€ç»™æ‰€æœ‰å®¢æˆ·ç«¯è¿˜æ˜¯åªæ¨é€å•ä¸€å®¢æˆ·ç«¯ï¼Œè¿™ä¹ˆåšçš„ç›®çš„æ˜¯å¯ä»¥é’ˆå¯¹æŸäº›æ¨é€å¼‚å¸¸çš„å®¢æˆ·ç«¯è¿›è¡Œä»»åŠ¡é‡è¯•</strong>ã€‚éšå <code>PushDelayTask</code> ä¼šè¢« <code>PushDelayTaskProcessor</code> å¤„ç†ï¼Œä¼šè¢«å°è£…åˆ° <code>PushExecuteTask</code> ä»»åŠ¡ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PushDelayTaskProcessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NacosTaskProcessor</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PushDelayTaskExecuteEngine executeEngine;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PushDelayTaskProcessor</span><span class="hljs-params">(PushDelayTaskExecuteEngine executeEngine)</span> {
        <span class="hljs-built_in">this</span>.executeEngine = executeEngine;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(NacosTask task)</span> {
        <span class="hljs-type">PushDelayTask</span> <span class="hljs-variable">pushDelayTask</span> <span class="hljs-operator">=</span> (PushDelayTask) task;
        <span class="hljs-type">Service</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> pushDelayTask.getService();
        <span class="hljs-comment">// [registerInstance] æ­¥éª¤8ï¼šåˆ†å‘æ¨é€ä»»åŠ¡åˆ°æ‰§è¡Œå™¨ï¼Œå‡†å¤‡å°†æœåŠ¡å˜æ›´æ¨é€ç»™å®¢æˆ·ç«¯</span>
        NamingExecuteTaskDispatcher.getInstance()
                .dispatchAndExecuteTask(service, <span class="hljs-keyword">new</span> <span class="hljs-title class_">PushExecuteTask</span>(service, executeEngine, pushDelayTask));
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><code>NamingExecuteTaskDispatcher#dispatchAndExecuteTask</code> æ–¹æ³•ä¼šæ‰§è¡Œåˆ°å¦‚ä¸‹é€»è¾‘ä¸­ï¼Œåˆ†é…ç»™æŸä¸€æ¡çº¿ç¨‹å»å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NacosExecuteTaskExecuteEngine</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractNacosTaskExecuteEngine</span>&lt;AbstractExecuteTask&gt; {

    <span class="hljs-comment">// æœ¬è´¨ä¸Šæ˜¯å¤šæ¡çº¿ç¨‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TaskExecuteWorker[] executeWorkers;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">NacosExecuteTaskExecuteEngine</span><span class="hljs-params">(String name, Logger logger, <span class="hljs-type">int</span> dispatchWorkerCount)</span> {
        <span class="hljs-built_in">super</span>(logger);
        executeWorkers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TaskExecuteWorker</span>[dispatchWorkerCount];
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">mod</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; mod &lt; dispatchWorkerCount; ++mod) {
            executeWorkers[mod] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TaskExecuteWorker</span>(name, mod, dispatchWorkerCount, getEngineLog());
        }
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTask</span><span class="hljs-params">(Object tag, AbstractExecuteTask task)</span> {
        <span class="hljs-type">NacosTaskProcessor</span> <span class="hljs-variable">processor</span> <span class="hljs-operator">=</span> getProcessor(tag);
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != processor) {
            processor.process(task);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// åˆ†é…ç»™æŸä¸ªçº¿ç¨‹å¤„ç†</span>
        <span class="hljs-type">TaskExecuteWorker</span> <span class="hljs-variable">worker</span> <span class="hljs-operator">=</span> getWorker(tag);
        worker.process(task);
    }

    <span class="hljs-keyword">private</span> TaskExecuteWorker <span class="hljs-title function_">getWorker</span><span class="hljs-params">(Object tag)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">idx</span> <span class="hljs-operator">=</span> (tag.hashCode() &amp; Integer.MAX_VALUE) % workersCount();
        <span class="hljs-keyword">return</span> executeWorkers[idx];
    }
}
</code></pre>
<p>ä»¥ä¸Šé€»è¾‘è¿˜æœªæ¶‰åŠ <code>PushExecuteTask</code> æ¨é€æœåŠ¡å˜æ›´çš„é€»è¾‘å¤„ç†ï¼Œå¤§å®¶åªéœ€è¦äº†è§£åˆ°ï¼Œè‡³æ­¤å°†æ¨é€ä»»åŠ¡è½¬äº¤åˆ°äº†æŸä¸ªå•ä¸€çš„çº¿ç¨‹ä¸­å»æ‰§è¡Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹ <code>PushExecuteTask</code> çš„å…·ä½“é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PushExecuteTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractExecuteTask</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PushDelayTaskExecuteEngine delayTaskEngine;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PushDelayTask delayTask;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// [registerInstance] æ­¥éª¤9ï¼šç”Ÿæˆæ¨é€æ•°æ®ï¼ŒåŒ…å«æœåŠ¡å®ä¾‹ä¿¡æ¯å’Œå…ƒæ•°æ®</span>
            <span class="hljs-type">PushDataWrapper</span> <span class="hljs-variable">wrapper</span> <span class="hljs-operator">=</span> generatePushData();
            <span class="hljs-type">ClientManager</span> <span class="hljs-variable">clientManager</span> <span class="hljs-operator">=</span> delayTaskEngine.getClientManager();
            <span class="hljs-comment">// éå†ç›®æ ‡å®¢æˆ·ç«¯ï¼Œå‘è®¢é˜…äº†è¯¥æœåŠ¡çš„å®¢æˆ·ç«¯æ¨é€æ•°æ®</span>
            <span class="hljs-keyword">for</span> (String each : getTargetClientIds()) {
                <span class="hljs-type">Client</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> clientManager.getClient(each);
                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == client) {
                    <span class="hljs-comment">// means this client has disconnect</span>
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-type">Subscriber</span> <span class="hljs-variable">subscriber</span> <span class="hljs-operator">=</span> client.getSubscriber(service);
                <span class="hljs-comment">// skip if null</span>
                <span class="hljs-keyword">if</span> (subscriber == <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-comment">// é€šè¿‡æ¨é€æ‰§è¡Œå™¨å‘å®¢æˆ·ç«¯æ¨é€æœåŠ¡å˜æ›´é€šçŸ¥</span>
                delayTaskEngine.getPushExecutor().doPushWithCallback(each, subscriber, wrapper,
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServicePushCallback</span>(each, subscriber, wrapper.getOriginalData(), delayTask.isPushToAll()));
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            Loggers.PUSH.error(<span class="hljs-string">"Push task for service"</span> + service.getGroupedServiceName() + <span class="hljs-string">" execute failed "</span>, e);
            <span class="hljs-comment">// å¼‚å¸¸é‡è¯•</span>
            delayTaskEngine.addTask(service, <span class="hljs-keyword">new</span> <span class="hljs-title class_">PushDelayTask</span>(service, <span class="hljs-number">1000L</span>));
        }
    }

    <span class="hljs-comment">// åˆå§‹æ¨é€æ—¶è·å–æ‰€æœ‰è®¢é˜…æœåŠ¡ä¿¡æ¯çš„ Clientï¼›å¦‚æœä¸æ˜¯æ¨é€æ‰€æœ‰ï¼Œè¯´æ˜æ˜¯å¤„ç†å¤±è´¥é‡è¯•çš„åœºæ™¯ï¼Œåˆ™åªæ¨é€ç›®æ ‡ Client å³å¯</span>
    <span class="hljs-keyword">private</span> Collection&lt;String&gt; <span class="hljs-title function_">getTargetClientIds</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> delayTask.isPushToAll() ? delayTaskEngine.getIndexesManager().getAllClientsSubscribeService(service)
                : delayTask.getTargetClients();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServicePushCallback</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NamingPushCallback</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// monitor and log</span>
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFail</span><span class="hljs-params">(Throwable e)</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">pushCostTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - executeStartTime;
            <span class="hljs-keyword">if</span> (!(e <span class="hljs-keyword">instanceof</span> NoRequiredRetryException)) {
                Loggers.PUSH.error(<span class="hljs-string">"Reason detail: "</span>, e);
                <span class="hljs-comment">// å¦‚æœé’ˆå¯¹æŸä¸ª IP æ¨é€å¤±è´¥ï¼Œåˆ™åˆ›å»ºæ¨é€é’ˆå¯¹ç›®æ ‡ IP çš„ä»»åŠ¡é‡è¯•æ¨é€</span>
                delayTaskEngine.addTask(service,
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">PushDelayTask</span>(service, PushConfig.getInstance().getPushTaskRetryDelay(), clientId));
            }
            <span class="hljs-type">PushResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> PushResult
                    .pushFailed(service, clientId, actualServiceInfo, subscriber, pushCostTime, e, isPushToAll);
            PushResultHookHolder.getInstance().pushFailed(result);
        }
    }

}
</code></pre>
<p>ä»ä»¥ä¸Šé€»è¾‘ä¸­å¯çŸ¥ï¼šæœåŠ¡æ³¨å†Œä¿¡æ¯å°†æ¨é€ç»™æ¯ä¸ªè®¢é˜…äº†è¿™ä¸ªæœåŠ¡çš„ Clientï¼Œå¦‚æœæ¨é€å¤±è´¥ä¼šé‡æ–°æ·»åŠ  <code>PushDelayTask</code> ä»»åŠ¡é‡è¯•ï¼Œä»¥æ­¤æ¥ä¿è¯è®¢é˜…æœåŠ¡å®ä¾‹ä¿¡æ¯çš„ Client éƒ½æ¥æ”¶åˆ°å˜æ›´ã€‚éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ <strong>[registerInstance] æ­¥éª¤9</strong> ä¸­æœ‰ä»¥ä¸‹éå¸¸å…³é”®çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PushExecuteTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractExecuteTask</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PushDelayTaskExecuteEngine delayTaskEngine;
    
    <span class="hljs-comment">// ç”Ÿæˆæ¨é€è¯·æ±‚ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> PushDataWrapper <span class="hljs-title function_">generatePushData</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–è¦æ¨é€çš„æœåŠ¡ä¿¡æ¯ï¼ŒåŒ…å«å®ä¾‹ä¿¡æ¯</span>
        <span class="hljs-type">ServiceInfo</span> <span class="hljs-variable">serviceInfo</span> <span class="hljs-operator">=</span> delayTaskEngine.getServiceStorage().getPushData(service);
        <span class="hljs-type">ServiceMetadata</span> <span class="hljs-variable">serviceMetadata</span> <span class="hljs-operator">=</span> delayTaskEngine.getMetadataManager().getServiceMetadata(service).orElse(<span class="hljs-literal">null</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PushDataWrapper</span>(serviceMetadata, serviceInfo);
    }
}

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceStorage</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentMap&lt;Service, Set&lt;String&gt;&gt; serviceClusterIndex;
    
    <span class="hljs-keyword">public</span> ServiceInfo <span class="hljs-title function_">getPushData</span><span class="hljs-params">(Service service)</span> {
        <span class="hljs-type">ServiceInfo</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> emptyServiceInfo(service);
        <span class="hljs-keyword">if</span> (!ServiceManager.getInstance().containSingleton(service)) {
            <span class="hljs-keyword">return</span> result;
        }
        <span class="hljs-type">Service</span> <span class="hljs-variable">singleton</span> <span class="hljs-operator">=</span> ServiceManager.getInstance().getSingleton(service);
        result.setHosts(getAllInstancesFromIndex(singleton));
        serviceDataIndexes.put(singleton, result);
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-keyword">private</span> ServiceInfo <span class="hljs-title function_">emptyServiceInfo</span><span class="hljs-params">(Service service)</span> {
        <span class="hljs-type">ServiceInfo</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceInfo</span>();
        result.setName(service.getName());
        result.setGroupName(service.getGroup());
        result.setLastRefTime(System.currentTimeMillis());
        result.setCacheMillis(switchDomain.getDefaultPushCacheMillis());
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-comment">// è·å–æœåŠ¡ä¸‹æ‰€æœ‰çš„å®ä¾‹ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> List&lt;Instance&gt; <span class="hljs-title function_">getAllInstancesFromIndex</span><span class="hljs-params">(Service service)</span> {
        Set&lt;Instance&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        Set&lt;String&gt; clusters = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        <span class="hljs-comment">// è·å– ClientId</span>
        <span class="hljs-keyword">for</span> (String each : serviceIndexesManager.getAllClientsRegisteredService(service)) {
            <span class="hljs-comment">// è·å–å®ä¾‹æ³¨å†Œä¿¡æ¯ InstancePublishInfo</span>
            Optional&lt;InstancePublishInfo&gt; instancePublishInfo = getInstanceInfo(each, service);
            <span class="hljs-keyword">if</span> (instancePublishInfo.isPresent()) {
                <span class="hljs-type">InstancePublishInfo</span> <span class="hljs-variable">publishInfo</span> <span class="hljs-operator">=</span> instancePublishInfo.get();
                <span class="hljs-comment">//If it is a BatchInstancePublishInfo type, it will be processed manually and added to the instance list</span>
                <span class="hljs-keyword">if</span> (publishInfo <span class="hljs-keyword">instanceof</span> BatchInstancePublishInfo) {
                    <span class="hljs-type">BatchInstancePublishInfo</span> <span class="hljs-variable">batchInstancePublishInfo</span> <span class="hljs-operator">=</span> (BatchInstancePublishInfo) publishInfo;
                    List&lt;Instance&gt; batchInstance = parseBatchInstance(service, batchInstancePublishInfo, clusters);
                    result.addAll(batchInstance);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// æ ¹æ®è¯·æ±‚æ—¶ InstancePublishInfo çš„æ³¨å†Œå®ä¾‹å¯¹è±¡åˆ›å»ºå‡º Instance å®ä¾‹</span>
                    <span class="hljs-type">Instance</span> <span class="hljs-variable">instance</span> <span class="hljs-operator">=</span> parseInstance(service, instancePublishInfo.get());
                    result.add(instance);
                    clusters.add(instance.getClusterName());
                }
            }
        }
        <span class="hljs-comment">// ç¼“å­˜è®°å½•è¿™ä¸ªæœåŠ¡çš„é›†ç¾¤</span>
        serviceClusterIndex.put(service, clusters);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;(result);
    }
}
</code></pre>
<p>åœ¨ <code>generatePushData</code> æ–¹æ³•ä¸­ï¼Œç”Ÿæˆäº† <code>ServiceInfo</code> å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æœåŠ¡å’Œè¯¥æœåŠ¡ä¸‹æ³¨å†Œçš„æ‰€æœ‰å®ä¾‹ï¼Œå®ä¾‹ä¿¡æ¯æ˜¯ä» <code>InstancePublishInfo</code> ä¸­è§£æå‡ºæ¥çš„ï¼Œå®ä¾‹çš„å‘å¸ƒä¿¡æ¯æˆ‘ä»¬åœ¨ä¸Šæ–‡ä¸­æåˆ°è¿‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„åœ¨ <code>getAllInstancesFromIndex</code> <strong>è¯»æ–¹æ³•ä¸­åŒ…å«äº†ç¼“å­˜å†™å…¥çš„é€»è¾‘</strong>ï¼Œè¿™ç§å†™æ³•æ˜¯éå¸¸ä¸æ¨èçš„ï¼Œå…·æœ‰è¿·æƒ‘æ€§ï¼šè°ä¼šæƒ³åˆ°åœ¨è¯»æ–¹æ³•ä¸­è¿˜ä¼šåŒ…å«å†™é€»è¾‘å‘¢ï¼Ÿæ‰€ä»¥åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸€å®šè¦é¿å…è¿™ç§å†™æ³•ï¼</p>
<p>æ€»ç»“ä¸€ä¸‹ï¼š<code>ClientRegisterServiceEvent</code> äº‹ä»¶çš„ä½œç”¨æ˜¯å°†æœåŠ¡å®ä¾‹çš„å˜æ›´ä¿¡æ¯æ¨é€ç»™è®¢é˜…äº†è¿™ä¸ªæœåŠ¡çš„æ‰€æœ‰å®¢æˆ·ç«¯ã€‚</p>
<h4 data-id="heading-2">ClientChangedEvent</h4>
<p><code>ClientChangedEvent</code> äº‹ä»¶ä¼šè¢« <code>DistroClientDataProcessor</code> è®¢é˜…å¹¶æ¶ˆè´¹ï¼Œåœ¨å®ƒçš„ <code>onEvent</code> æ–¹æ³•ä¸­çš„ <code>else</code> é€»è¾‘ä¸­å¯ä»¥å‘ç°å®ƒè°ƒç”¨äº† <code>syncToAllServer</code> æ–¹æ³•ï¼Œä»æ–¹æ³•åä¸­å¯ä»¥å¤§æ¦‚èƒ½çŒœå‡ºæ¥ï¼Œåœ¨ Nacos é‡‡ç”¨é›†ç¾¤æ¨¡å¼éƒ¨ç½²æ—¶ï¼Œä¼šé€šè¿‡è¿™ä¸ªæ–¹æ³•å°†æ³¨å†Œçš„æœåŠ¡ä¿¡æ¯åŒæ­¥åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroClientDataProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SmartSubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DistroDataStorage</span>, DistroDataProcessor {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroProtocol distroProtocol;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onEvent</span><span class="hljs-params">(Event event)</span> {
        <span class="hljs-keyword">if</span> (EnvUtil.getStandaloneMode()) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientEvent.ClientVerifyFailedEvent) {
            syncToVerifyFailedServer((ClientEvent.ClientVerifyFailedEvent) event);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// [registerInstance] æ­¥éª¤10ï¼šåŒæ­¥æ‰€æœ‰æœåŠ¡</span>
            syncToAllServer((ClientEvent) event);
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">syncToAllServer</span><span class="hljs-params">(ClientEvent event)</span> {
        <span class="hljs-type">Client</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> event.getClient();
        <span class="hljs-keyword">if</span> (isInvalidClient(client)) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// åŒºåˆ†å®¢æˆ·ç«¯æ–­å¼€è¿æ¥çš„äº‹ä»¶å®¢æˆ·ç«¯å˜æ›´äº‹ä»¶</span>
        <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientEvent.ClientDisconnectEvent) {
            <span class="hljs-type">DistroKey</span> <span class="hljs-variable">distroKey</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroKey</span>(client.getClientId(), TYPE);
            distroProtocol.sync(distroKey, DataOperation.DELETE);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event <span class="hljs-keyword">instanceof</span> ClientEvent.ClientChangedEvent) {
            <span class="hljs-type">DistroKey</span> <span class="hljs-variable">distroKey</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroKey</span>(client.getClientId(), TYPE);
            distroProtocol.sync(distroKey, DataOperation.CHANGE);
        }
    }
}
</code></pre>
<p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œå¯ä»¥å‘ç°è°ƒç”¨äº† <code>DistroProtocol#sync</code> æ–¹æ³•ï¼Œ<code>DistroProtocol</code> è¡¨ç¤º <strong>Distro åè®®</strong>ï¼š<strong>ä¸“é—¨ç”¨äºå¤„ç†ä¸´æ—¶å®ä¾‹æ•°æ®ä¸€è‡´æ€§çš„åˆ†å¸ƒå¼åè®®</strong>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ Nacos çš„é€»è¾‘æ¥äº†è§£ä¸€ä¸‹è¿™ä¸ªåè®®ã€‚åœ¨ <code>DistroProtocol#sync</code> æ–¹æ³•ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroProtocol</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroTaskEngineHolder distroTaskEngineHolder;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sync</span><span class="hljs-params">(DistroKey distroKey, DataOperation action)</span> {
        sync(distroKey, action, DistroConfig.getInstance().getSyncDelayMillis());
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sync</span><span class="hljs-params">(DistroKey distroKey, DataOperation action, <span class="hljs-type">long</span> delay)</span> {
        <span class="hljs-keyword">for</span> (Member each : memberManager.allMembersWithoutSelf()) {
            syncToTarget(distroKey, action, each.getAddress(), delay);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">syncToTarget</span><span class="hljs-params">(DistroKey distroKey, DataOperation action, String targetServer, <span class="hljs-type">long</span> delay)</span> {
        <span class="hljs-type">DistroKey</span> <span class="hljs-variable">distroKeyWithTarget</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroKey</span>(distroKey.getResourceKey(), distroKey.getResourceType(),
                targetServer);
        <span class="hljs-comment">// åˆ›å»ºå¼‚æ­¥ DistroDelayTask ä»»åŠ¡</span>
        <span class="hljs-type">DistroDelayTask</span> <span class="hljs-variable">distroDelayTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroDelayTask</span>(distroKeyWithTarget, action, delay);
        <span class="hljs-comment">// æ·»åŠ åˆ°ä»»åŠ¡åˆ—è¡¨ä¸­å»¶è¿Ÿæ‰§è¡Œ</span>
        distroTaskEngineHolder.getDelayTaskExecuteEngine().addTask(distroKeyWithTarget, distroDelayTask);
        <span class="hljs-keyword">if</span> (Loggers.DISTRO.isDebugEnabled()) {
            Loggers.DISTRO.debug(<span class="hljs-string">"[DISTRO-SCHEDULE] {} to {}"</span>, distroKey, targetServer);
        }
    }
}
</code></pre>
<p>å®ƒä¼šåˆ›å»ºä¸€ä¸ª <code>DistroDelayTask</code> æ·»åŠ åˆ° <code>NacosDelayTaskExecuteEngine#tasks</code> ä¸­ï¼Œè¿™ä¸ª <code>NacosDelayTaskExecuteEngine</code> æˆ‘ä»¬åœ¨é…ç½®å‘å¸ƒçš„ç« èŠ‚ä»‹ç»è¿‡ï¼Œæœ¬è´¨ä¸Šå®ƒæ˜¯ä¸€ä¸ª <code>ScheduledExecutorService</code> åœ¨æ¯ 100ms æ‰§è¡Œä¸€ä¸ª <code>ConcurrentHashMap&lt;Object, AbstractDelayTask&gt; tasks</code> çš„ä»»åŠ¡ã€‚<code>DistroDelayTask</code> ä»»åŠ¡ä¸­æ²¡æœ‰ä»€ä¹ˆé‡è¦çš„é€»è¾‘ï¼Œç›´æ¥æ¥çœ‹å¤„ç†è¿™ä¸ªä»»åŠ¡çš„å®ç°ç±» <code>DistroDelayTaskProcessor</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroDelayTaskProcessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NacosTaskProcessor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroTaskEngineHolder distroTaskEngineHolder;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroComponentHolder distroComponentHolder;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistroDelayTaskProcessor</span><span class="hljs-params">(DistroTaskEngineHolder distroTaskEngineHolder,
                                    DistroComponentHolder distroComponentHolder)</span> {
        <span class="hljs-built_in">this</span>.distroTaskEngineHolder = distroTaskEngineHolder;
        <span class="hljs-built_in">this</span>.distroComponentHolder = distroComponentHolder;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">process</span><span class="hljs-params">(NacosTask task)</span> {
        <span class="hljs-keyword">if</span> (!(task <span class="hljs-keyword">instanceof</span> DistroDelayTask)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-type">DistroDelayTask</span> <span class="hljs-variable">distroDelayTask</span> <span class="hljs-operator">=</span> (DistroDelayTask) task;
        <span class="hljs-type">DistroKey</span> <span class="hljs-variable">distroKey</span> <span class="hljs-operator">=</span> distroDelayTask.getDistroKey();
        <span class="hljs-keyword">switch</span> (distroDelayTask.getAction()) {
            <span class="hljs-keyword">case</span> DELETE:
                <span class="hljs-type">DistroSyncDeleteTask</span> <span class="hljs-variable">syncDeleteTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroSyncDeleteTask</span>(distroKey, distroComponentHolder);
                distroTaskEngineHolder.getExecuteWorkersManager().addTask(distroKey, syncDeleteTask);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> CHANGE:
            <span class="hljs-keyword">case</span> ADD:
                <span class="hljs-comment">// [registerInstance] æ­¥éª¤11ï¼šåˆ›å»º DistroSyncChangeTask ä»»åŠ¡å¼‚æ­¥æ‰§è¡Œ</span>
                <span class="hljs-type">DistroSyncChangeTask</span> <span class="hljs-variable">syncChangeTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroSyncChangeTask</span>(distroKey, distroComponentHolder);
                distroTaskEngineHolder.getExecuteWorkersManager().addTask(distroKey, syncChangeTask);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<p><strong>[registerInstance] æ­¥éª¤11</strong> ä¼šåˆ›å»º <code>DistroSyncChangeTask</code> ä»»åŠ¡åŒæ ·æ·»åŠ åˆ°å»¶è¿Ÿæ‰§è¡Œçš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ï¼Œè¿™ä¸ªä»»åŠ¡çš„é€»è¾‘æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroSyncChangeTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractDistroExecuteTask</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">DataOperation</span> <span class="hljs-variable">OPERATION</span> <span class="hljs-operator">=</span> DataOperation.CHANGE;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistroSyncChangeTask</span><span class="hljs-params">(DistroKey distroKey, DistroComponentHolder distroComponentHolder)</span> {
        <span class="hljs-built_in">super</span>(distroKey, distroComponentHolder);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> DataOperation <span class="hljs-title function_">getDataOperation</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> OPERATION;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">doExecute</span><span class="hljs-params">()</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> getDistroKey().getResourceType();
        <span class="hljs-type">DistroData</span> <span class="hljs-variable">distroData</span> <span class="hljs-operator">=</span> getDistroData(type);
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == distroData) {
            Loggers.DISTRO.warn(<span class="hljs-string">"[DISTRO] {} with null data to sync, skip"</span>, toString());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-comment">// gRPC é€šçŸ¥å…¶ä»–èŠ‚ç‚¹æœåŠ¡å®ä¾‹ä¿¡æ¯</span>
        <span class="hljs-keyword">return</span> getDistroComponentHolder().findTransportAgent(type).syncData(distroData, getDistroKey().getTargetServer());
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doExecuteWithCallback</span><span class="hljs-params">(DistroCallback callback)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> getDistroKey().getResourceType();
        <span class="hljs-type">DistroData</span> <span class="hljs-variable">distroData</span> <span class="hljs-operator">=</span> getDistroData(type);
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == distroData) {
            Loggers.DISTRO.warn(<span class="hljs-string">"[DISTRO] {} with null data to sync, skip"</span>, toString());
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// gRPC é€šçŸ¥å…¶ä»–èŠ‚ç‚¹æœåŠ¡å®ä¾‹ä¿¡æ¯</span>
        getDistroComponentHolder().findTransportAgent(type).syncData(distroData, getDistroKey().getTargetServer(), callback);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"DistroSyncChangeTask for "</span> + getDistroKey().toString();
    }
    
    <span class="hljs-comment">// è·å– Distro è¦æ¨é€çš„æ•°æ®</span>
    <span class="hljs-keyword">private</span> DistroData <span class="hljs-title function_">getDistroData</span><span class="hljs-params">(String type)</span> {
        <span class="hljs-type">DistroData</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> getDistroComponentHolder().findDataStorage(type).getDistroData(getDistroKey());
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != result) {
            result.setType(OPERATION);
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p>å®ƒçš„æºç å¾ˆç®€çŸ­ï¼Œä¸»è¦å…³æ³¨ <code>doExecute</code> å’Œ <code>doExecuteWithCallback</code> æ–¹æ³•ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•çš„é€»è¾‘æ˜¯å€ŸåŠ© gRPC é€šçŸ¥é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹ï¼ŒåŒºåˆ«æ˜¯æ˜¯å¦åœ¨ gRPC è°ƒç”¨å®Œæˆåæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ˜¯åœ¨ <code>NacosExecuteTaskExecuteEngine</code> ä¸­å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå› ä¸ºåœ¨ä¸Šæ–‡ä¸­è®²è§£è¿‡å°±ä¸å†èµ˜è¿°äº†ï¼Œå¤±è´¥é‡è¯•é‡‡ç”¨çš„è¿˜æ˜¯é‡æ–°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œã€‚é™¤æ­¤ä¹‹å¤–æˆ‘ä»¬ä¹Ÿè¦å¼„æ¸…æ¥šæ¨é€çš„ DistroData ä¸­åˆ°åº•éƒ½åŒ…å«å“ªäº›ä¿¡æ¯ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼Œå®ƒä¼šæ‰§è¡Œåˆ° <code>AbstractClient#generateSyncData</code> çš„é€»è¾‘ä¸­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AbstractClient</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Client</span> {
    <span class="hljs-comment">// ...</span>
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> ClientSyncData <span class="hljs-title function_">generateSyncData</span><span class="hljs-params">()</span> {
        List&lt;String&gt; namespaces = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        List&lt;String&gt; groupNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        List&lt;String&gt; serviceNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();

        List&lt;String&gt; batchNamespaces = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        List&lt;String&gt; batchGroupNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        List&lt;String&gt; batchServiceNames = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();

        List&lt;InstancePublishInfo&gt; instances = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        List&lt;BatchInstancePublishInfo&gt; batchInstancePublishInfos = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();
        <span class="hljs-type">BatchInstanceData</span>  <span class="hljs-variable">batchInstanceData</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BatchInstanceData</span>();
        <span class="hljs-keyword">for</span> (Map.Entry&lt;Service, InstancePublishInfo&gt; entry : publishers.entrySet()) {
            <span class="hljs-type">InstancePublishInfo</span> <span class="hljs-variable">instancePublishInfo</span> <span class="hljs-operator">=</span> entry.getValue();
            <span class="hljs-keyword">if</span> (instancePublishInfo <span class="hljs-keyword">instanceof</span> BatchInstancePublishInfo) {
                <span class="hljs-type">BatchInstancePublishInfo</span> <span class="hljs-variable">batchInstance</span> <span class="hljs-operator">=</span> (BatchInstancePublishInfo) instancePublishInfo;
                batchInstancePublishInfos.add(batchInstance);
                buildBatchInstanceData(batchInstanceData, batchNamespaces, batchGroupNames, batchServiceNames, entry);
                batchInstanceData.setBatchInstancePublishInfos(batchInstancePublishInfos);
            } <span class="hljs-keyword">else</span> {
                namespaces.add(entry.getKey().getNamespace());
                groupNames.add(entry.getKey().getGroup());
                serviceNames.add(entry.getKey().getName());
                instances.add(entry.getValue());
            }
        }
        <span class="hljs-comment">// åŒ…å«äº†å‘½åç©ºé—´ã€æœåŠ¡ä¿¡æ¯å’Œå®ä¾‹ä¿¡æ¯ï¼ˆInstancePublishInfo æˆ– BatchInstanceDataï¼‰ç­‰</span>
        <span class="hljs-type">ClientSyncData</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientSyncData</span>(getClientId(), namespaces, groupNames, serviceNames, instances, batchInstanceData);
        data.getAttributes().addClientAttribute(REVISION, getRevision());
        <span class="hljs-keyword">return</span> data;
    }
}
</code></pre>
<p>è™½ç„¶æ¯”è¾ƒé•¿ï¼Œåªçœ‹æ³¨é‡Šç›¸å…³çš„å†…å®¹å³å¯ï¼Œæ¨é€å†…å®¹åŒ…å«äº†å‘½åç©ºé—´ã€æœåŠ¡ä¿¡æ¯å’Œå®ä¾‹ä¿¡æ¯ç­‰ï¼Œè¿™äº›ä¿¡æ¯å¤§éƒ¨åˆ†éƒ½æ¥è‡ª <code>InstancePublishInfo</code>ï¼Œå¯è§è¿™ä¸ªå¯¹è±¡å¤šä¹ˆé‡è¦ã€‚</p>
<p><code>DistroSyncChangeTask</code> ä»»åŠ¡ä¼šå‘å…¶ä»–èŠ‚ç‚¹å‘é€ <code>DistroDataRequest</code> è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚æ˜¯å¦‚ä½•è¢«å¤„ç†çš„å‘¢ï¼Ÿç»§ç»­çœ‹ <code>DistroDataRequestHandler</code> çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@InvokeSource(source = {RemoteConstants.LABEL_SOURCE_CLUSTER})</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroDataRequestHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RequestHandler</span>&lt;DistroDataRequest, DistroDataResponse&gt; {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroProtocol distroProtocol;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DistroDataRequestHandler</span><span class="hljs-params">(DistroProtocol distroProtocol)</span> {
        <span class="hljs-built_in">this</span>.distroProtocol = distroProtocol;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Secured(apiType = ApiType.INNER_API)</span>
    <span class="hljs-keyword">public</span> DistroDataResponse <span class="hljs-title function_">handle</span><span class="hljs-params">(DistroDataRequest request, RequestMeta meta)</span> <span class="hljs-keyword">throws</span> NacosException {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">switch</span> (request.getDataOperation()) {
                <span class="hljs-keyword">case</span> VERIFY:
                    <span class="hljs-keyword">return</span> handleVerify(request.getDistroData(), meta);
                <span class="hljs-keyword">case</span> SNAPSHOT:
                    <span class="hljs-keyword">return</span> handleSnapshot();
                <span class="hljs-keyword">case</span> ADD:
                <span class="hljs-keyword">case</span> CHANGE:
                <span class="hljs-keyword">case</span> DELETE:
                    <span class="hljs-comment">// [registerInstance] æ­¥éª¤12 å¤„ç† DistroDataRequest è¯·æ±‚</span>
                    <span class="hljs-keyword">return</span> handleSyncData(request.getDistroData());
                <span class="hljs-keyword">case</span> QUERY:
                    <span class="hljs-keyword">return</span> handleQueryData(request.getDistroData());
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroDataResponse</span>();
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            Loggers.DISTRO.error(<span class="hljs-string">"[DISTRO-FAILED] distro handle with exception"</span>, e);
            <span class="hljs-type">DistroDataResponse</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroDataResponse</span>();
            result.setResultCode(ResponseCode.FAIL.getCode());
            result.setErrorCode(ResponseCode.FAIL.getCode());
            result.setMessage(<span class="hljs-string">"handle distro request with exception"</span>);
            <span class="hljs-keyword">return</span> result;
        }
    }

    <span class="hljs-keyword">private</span> DistroDataResponse <span class="hljs-title function_">handleSyncData</span><span class="hljs-params">(DistroData distroData)</span> {
        <span class="hljs-type">DistroDataResponse</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DistroDataResponse</span>();
        <span class="hljs-keyword">if</span> (!distroProtocol.onReceive(distroData)) {
            result.setErrorCode(ResponseCode.FAIL.getCode());
            result.setMessage(<span class="hljs-string">"[DISTRO-FAILED] distro data handle failed"</span>);
        }
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p>æˆ‘ä»¬éœ€è¦å…³æ³¨ <code>DistroProtocol#onReceive</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroProtocol</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DistroComponentHolder distroComponentHolder;
    
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(DistroData distroData)</span> {
        Loggers.DISTRO.info(<span class="hljs-string">"[DISTRO] Receive distro data type: {}, key: {}"</span>, distroData.getType(),
                distroData.getDistroKey());
        <span class="hljs-type">String</span> <span class="hljs-variable">resourceType</span> <span class="hljs-operator">=</span> distroData.getDistroKey().getResourceType();
        <span class="hljs-type">DistroDataProcessor</span> <span class="hljs-variable">dataProcessor</span> <span class="hljs-operator">=</span> distroComponentHolder.findDataProcessor(resourceType);
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == dataProcessor) {
            Loggers.DISTRO.warn(<span class="hljs-string">"[DISTRO] Can't find data process for received data {}"</span>, resourceType);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> dataProcessor.processData(distroData);
    }
}
</code></pre>
<p>å®ƒä¼šæ‰§è¡Œåˆ° <code>DistroClientDataProcessor#processData</code> æ–¹æ³•ï¼Œå…¶ä¸­çš„ <code>upgradeClient</code> æ–¹æ³•æ˜¯å…³é”®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistroClientDataProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SmartSubscriber</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DistroDataStorage</span>, DistroDataProcessor {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(DistroData distroData)</span> {
        <span class="hljs-keyword">switch</span> (distroData.getType()) {
            <span class="hljs-keyword">case</span> ADD:
            <span class="hljs-keyword">case</span> CHANGE:
                <span class="hljs-comment">// [registerInstance] æ­¥éª¤12ï¼šå¤„ç† Distro åè®®åŒæ­¥çš„æ•°æ®</span>
                <span class="hljs-type">ClientSyncData</span> <span class="hljs-variable">clientSyncData</span> <span class="hljs-operator">=</span> ApplicationUtils.getBean(Serializer.class)
                        .deserialize(distroData.getContent(), ClientSyncData.class);
                handlerClientSyncData(clientSyncData);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> DELETE:
                <span class="hljs-type">String</span> <span class="hljs-variable">deleteClientId</span> <span class="hljs-operator">=</span> distroData.getDistroKey().getResourceKey();
                Loggers.DISTRO.info(<span class="hljs-string">"[Client-Delete] Received distro client sync data {}"</span>, deleteClientId);
                clientManager.clientDisconnected(deleteClientId);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handlerClientSyncData</span><span class="hljs-params">(ClientSyncData clientSyncData)</span> {
        Loggers.DISTRO
                .info(<span class="hljs-string">"[Client-Add] Received distro client sync data {}, revision={}"</span>, clientSyncData.getClientId(),
                        clientSyncData.getAttributes().getClientAttribute(ClientConstants.REVISION, <span class="hljs-number">0L</span>));
        clientManager.syncClientConnected(clientSyncData.getClientId(), clientSyncData.getAttributes());
        <span class="hljs-type">Client</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> clientManager.getClient(clientSyncData.getClientId());
        <span class="hljs-comment">// upgrade æ˜¯å‡çº§çš„å«ä¹‰ï¼Œå®é™…é€»è¾‘æ˜¯å®Œæˆ Distro æ•°æ®çš„å†™å…¥</span>
        upgradeClient(client, clientSyncData);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">upgradeClient</span><span class="hljs-params">(Client client, ClientSyncData clientSyncData)</span> {
        Set&lt;Service&gt; syncedService = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        <span class="hljs-comment">// process batch instance sync logic</span>
        processBatchInstanceDistroData(syncedService, client, clientSyncData);
        List&lt;String&gt; namespaces = clientSyncData.getNamespaces();
        List&lt;String&gt; groupNames = clientSyncData.getGroupNames();
        List&lt;String&gt; serviceNames = clientSyncData.getServiceNames();
        List&lt;InstancePublishInfo&gt; instances = clientSyncData.getInstancePublishInfos();

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; namespaces.size(); i++) {
            <span class="hljs-type">Service</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> Service.newService(namespaces.get(i), groupNames.get(i), serviceNames.get(i));
            <span class="hljs-comment">// æ³¨å†Œå¹¶è·å–æœåŠ¡ä¿¡æ¯</span>
            <span class="hljs-type">Service</span> <span class="hljs-variable">singleton</span> <span class="hljs-operator">=</span> ServiceManager.getInstance().getSingleton(service);
            syncedService.add(singleton);
            <span class="hljs-type">InstancePublishInfo</span> <span class="hljs-variable">instancePublishInfo</span> <span class="hljs-operator">=</span> instances.get(i);
            <span class="hljs-keyword">if</span> (!instancePublishInfo.equals(client.getInstancePublishInfo(singleton))) {
                <span class="hljs-comment">// æ‰§è¡Œçš„æ˜¯ [registerInstance] æ­¥éª¤5 çš„é€»è¾‘ï¼šå°†å®ä¾‹ä¿¡æ¯ InstancePublishInfo æ·»åŠ åˆ°å®¢æˆ·ç«¯çš„æœåŠ¡å®ä¾‹åˆ—è¡¨ä¸­</span>
                client.addServiceInstance(singleton, instancePublishInfo);
                <span class="hljs-comment">// è§¦å‘ ClientRegisterServiceEvent äº‹ä»¶</span>
                NotifyCenter.publishEvent(
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientOperationEvent</span>.ClientRegisterServiceEvent(singleton, client.getClientId()));
                NotifyCenter.publishEvent(
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">MetadataEvent</span>.InstanceMetadataEvent(singleton, instancePublishInfo.getMetadataId(), <span class="hljs-literal">false</span>));
            }
        }
        <span class="hljs-keyword">for</span> (Service each : client.getAllPublishedService()) {
            <span class="hljs-keyword">if</span> (!syncedService.contains(each)) {
                client.removeServiceInstance(each);
                NotifyCenter.publishEvent(
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClientOperationEvent</span>.ClientDeregisterServiceEvent(each, client.getClientId()));
            }
        }
        client.setRevision(clientSyncData.getAttributes().&lt;Integer&gt;getClientAttribute(ClientConstants.REVISION, <span class="hljs-number">0</span>));
    }
}
</code></pre>
<p><code>DistroClientDataProcessor#upgradeClient</code> æ–¹æ³•ä¼šæ‰§è¡Œæ—¶å°±å’Œå¼€ç¯‡ä»‹ç»çš„ <code>EphemeralClientOperationServiceImpl#registerInstance</code> æ–¹æ³•åŸºæœ¬ä¸€è‡´çš„é€»è¾‘ï¼Œæ³¨å†Œ <code>Service</code> ä¿¡æ¯ï¼Œå†™å…¥å®ä¾‹ä¿¡æ¯ <code>InstancePublishInfo</code>ï¼Œå¹¶åœ¨éšåå‘å¸ƒ <code>ClientRegisterServiceEvent</code> äº‹ä»¶ï¼Œè¿™ä¸ªäº‹ä»¶æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªå°èŠ‚ä¸“é—¨ä»‹ç»è¿‡ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†æœåŠ¡å®ä¾‹çš„å˜æ›´ä¿¡æ¯æ¨é€ç»™è®¢é˜…äº†è¿™ä¸ªæœåŠ¡çš„æ‰€æœ‰å®¢æˆ·ç«¯ã€‚</p>
<p>æ€»è€Œè¨€ä¹‹ï¼Œé€šè¿‡ Distro åè®®åŒæ­¥æ•°æ®ç»™é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹ç›¸å½“äºåœ¨å…¶ä»–èŠ‚ç‚¹é‡æ–°æ‰§è¡Œäº†ä¸€æ¬¡å®ä¾‹æ³¨å†Œçš„é€»è¾‘ã€‚ä¸è¿‡ï¼Œå¤§å®¶æœ‰æ²¡æœ‰è€ƒè™‘è¿‡è¿™ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆ Distro åè®®èƒ½å¤Ÿé€šè¿‡å¦‚æ­¤ç®€å•çš„æ–¹å¼åœ¨æœåŠ¡å‘ç°åœºæ™¯ä¸‹ä¿è¯æ•°æ®çš„æœ€ç»ˆä¸€è‡´æ€§å‘¢ï¼Ÿ</p>
<p>æœ€ä¸»è¦çš„åŸå› æ˜¯ï¼š<strong>æœåŠ¡æ³¨å†Œæ•°æ®æ¨¡å‹çš„å±æ€§ç®€åŒ–äº†åˆ†å¸ƒå¼ä¸€è‡´æ€§é—®é¢˜ï¼Œé¿å…äº†å¤æ‚çš„å†²çªè§£å†³æœºåˆ¶</strong>ã€‚è¯¥å¦‚ä½•ç†è§£è¿™ä¸ªç‰¹ç‚¹å‘¢ï¼Ÿ</p>
<ul>
<li><strong>æœåŠ¡å®ä¾‹é€šè¿‡å¤šä¸ªç»´åº¦ç¡®å®šå”¯ä¸€æ€§</strong>ï¼šå‘½åç©ºé—´ + æœåŠ¡å + é›†ç¾¤å + IPåœ°å€ + ç«¯å£å·ï¼Œè¿™ç§å”¯ä¸€æ€§è®¾è®¡ç¡®ä¿äº†åŒä¸€ä¸ªæœåŠ¡å®ä¾‹çš„æ³¨å†Œä¿¡æ¯åœ¨ä»»ä½•èŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥åŒä¸€å®ä¾‹çš„æ³¨å†Œä¿¡æ¯åœ¨ä¸åŒèŠ‚ç‚¹ã€ä¸åŒæ—¶é—´å…ˆåå†™å…¥éƒ½ä¸ä¼šå­˜åœ¨æ•°æ®å†²çªé—®é¢˜ï¼Œ<strong>å†™å…¥æ“ä½œæ˜¯å¹‚ç­‰çš„</strong>ï¼Œå¤§å¤§é™ä½äº†ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å¤æ‚åº¦ã€‚</li>
</ul>
<p>ç†è§£äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘è§‰å¾—ä¾¿æ¸…æ¥šäº† Distro åè®®çš„ç²¾é«“ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹åŸå› ä½¿å¾— Distro åè®®é€‚ç”¨ï¼š</p>
<ol>
<li>æœåŠ¡å®ä¾‹çš„æ³¨å†Œä¿¡æ¯æ˜¯ <strong>ä¸´æ—¶æ•°æ®</strong>ï¼šæ•°æ®å…·æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¼šè‡ªåŠ¨è¿‡æœŸæˆ–è¢«æ¸…ç†ï¼Œä¸éœ€è¦æŒä¹…åŒ–å­˜å‚¨ï¼Œä¸¢å¤±åå¯ä»¥é‡æ–°ç”Ÿæˆï¼Œé™ä½äº†ç»´æŠ¤å®ä¾‹æ•°æ®çš„éš¾åº¦</li>
<li>ä¸šåŠ¡åœºæ™¯èƒ½å¤Ÿæ¥å—æ•°æ®çš„ <strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼šå¯ç”¨æ€§ï¼ˆAvailabilityï¼‰æ¯”ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰æ›´é‡è¦ï¼ŒçŸ­æ—¶é—´å†…éƒ¨åˆ†å®ä¾‹æ³¨å†Œä¿¡æ¯ä¸ä¸€è‡´ä¸å½±å“ä¸šåŠ¡</li>
<li>å¤šä¸ª Nacos Client å®¢æˆ·ç«¯ä¼šè¿æ¥åˆ°ä¸åŒçš„ Nacos Server æœåŠ¡ç«¯ï¼Œç›¸å½“äºè¿›è¡Œäº† <strong>åˆ†ç‰‡</strong>ï¼šæ¯ä¸ªæœåŠ¡èŠ‚ç‚¹è´Ÿè´£ç‰¹å®šçš„å®¢æˆ·ç«¯å®ä¾‹ï¼Œå®¢æˆ·ç«¯æ³¨å†Œçš„æ“ä½œåŸºæœ¬åªåœ¨ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹å‘ç”Ÿï¼Œå¤§å¤§é™ä½äº†å‘ç”Ÿå†™å…¥å†²çªçš„å¯èƒ½</li>
</ol>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹åœ¨ Distro åè®®ä¸­æ˜¯å¦‚ä½•æ¸…ç†è¿‡æœŸæ•°æ®çš„ï¼Œæ ¸å¿ƒé€»è¾‘åœ¨ <code>ExpiredClientCleaner</code> ä¸­ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®šæœŸæ‰§è¡Œçš„ä»»åŠ¡ï¼Œä»»åŠ¡é€»è¾‘å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpiredClientCleaner</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> EphemeralIpPortClientManager clientManager;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">currentTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-comment">// è·å–å½“å‰ Nacos Server ä¸‹è¿æ¥çš„æ‰€æœ‰å®¢æˆ·ç«¯</span>
        <span class="hljs-keyword">for</span> (String each : clientManager.allClientId()) {
            <span class="hljs-comment">// éå†å¤„ç†å®¢æˆ·ç«¯ä¿¡æ¯</span>
            <span class="hljs-type">IpPortBasedClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> (IpPortBasedClient) clientManager.getClient(each);
            <span class="hljs-comment">// å¦‚æœå®¢æˆ·ç«¯å·²ç»å¤±æ•ˆï¼ˆåœ¨è§„å®šæ—¶é—´æ®µå†…å¤±å»å¿ƒè·³ï¼‰äº†</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != client &amp;&amp; isExpireClient(currentTime, client)) {
                <span class="hljs-comment">// æ‰§è¡Œå®¢æˆ·ç«¯æ–­å¼€çš„é€»è¾‘ï¼Œä¼šè§¦å‘ ClientDisconnectEvent äº‹ä»¶ï¼Œåˆ é™¤å¤±æ•ˆçš„é“¾æ¥å¹¶é€šçŸ¥é›†ç¾¤å†…å…¶ä»–èŠ‚ç‚¹</span>
                clientManager.clientDisconnected(each);
            }
        }
    }
}
</code></pre>
<p>è¿™ä¸ªå®šæ—¶ä»»åŠ¡ä¼šåœ¨ Nacos Server å¯åŠ¨æ—¶ï¼Œåœ¨ <code>ScheduledExecutorService</code> ä¸­å®šæœŸ 5s æ‰§è¡Œä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EphemeralIpPortClientManager</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ClientManager</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">EphemeralIpPortClientManager</span><span class="hljs-params">(DistroMapper distroMapper, SwitchDomain switchDomain)</span> {
        <span class="hljs-comment">// é»˜è®¤å®šæœŸ 5s æ£€æŸ¥ä¸€æ¬¡</span>
        GlobalExecutor.scheduleExpiredClientCleaner(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ExpiredClientCleaner</span>(<span class="hljs-built_in">this</span>, switchDomain), <span class="hljs-number">0</span>,
                Constants.DEFAULT_HEART_BEAT_INTERVAL, TimeUnit.MILLISECONDS);
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p>ä»¥æ­¤æ¥ä¿è¯è¿‡æœŸçš„å®ä¾‹æ•°æ®èƒ½åŠæ—¶è¢«ç§»é™¤ã€‚</p>
<hr/>
<h3 data-id="heading-3">å·¨äººçš„è‚©è†€</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos" target="_blank" title="https://github.com/alibaba/nacos" ref="nofollow noopener noreferrer">Github - alibaba/nacos</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fwenxuehai%2Fp%2F16179629.html" target="_blank" title="https://www.cnblogs.com/wenxuehai/p/16179629.html" ref="nofollow noopener noreferrer">åšå®¢å›­ - Nacosçš„åŸºæœ¬ä½¿ç”¨ï¼ˆæ³¨å†Œä¸­å¿ƒã€é…ç½®ä¸­å¿ƒï¼‰</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claudeå‘å¸ƒæ–°åŠŸèƒ½Agent Skillsï¼Œè®©ä½ çš„Agentæ›´ä¸“ä¸š]]></title>    <link>https://juejin.cn/post/7572714389942435892</link>    <guid>https://juejin.cn/post/7572714389942435892</guid>    <pubDate>2025-11-16T01:18:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572714389942435892" data-draft-id="7567208390369247272" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claudeå‘å¸ƒæ–°åŠŸèƒ½Agent Skillsï¼Œè®©ä½ çš„Agentæ›´ä¸“ä¸š"/> <meta itemprop="keywords" content="Claude,AIGC"/> <meta itemprop="datePublished" content="2025-11-16T01:18:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æºªå½¼å²¸"/> <meta itemprop="url" content="https://juejin.cn/user/976781670357400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claudeå‘å¸ƒæ–°åŠŸèƒ½Agent Skillsï¼Œè®©ä½ çš„Agentæ›´ä¸“ä¸š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976781670357400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æºªå½¼å²¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T01:18:54.000Z" title="Sun Nov 16 2025 01:18:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æºªï¼Œè§å­—å¦‚é¢ã€‚2025å¹´10æœˆ16æ—¥ï¼ŒAnthropicå‘å¸ƒäº†Claudeæ¨¡å‹çš„ä¸€é¡¹é‡å¤§æ›´æ–°Agent Skillsï¼Œå®ƒå…è®¸ç”¨æˆ·å°†ä¸“ä¸šçŸ¥è¯†ã€è„šæœ¬å’Œèµ„æºæ‰“åŒ…æˆæ¨¡å—åŒ–çš„â€œæŠ€èƒ½æ–‡ä»¶å¤¹â€ï¼ˆSkill foldersï¼‰ï¼Œè®© AI èƒ½åœ¨ç‰¹å®šå·¥ä½œåœºæ™¯ä¸­æ›´ä¸“ä¸šåœ°æ‰§è¡Œä»»åŠ¡ã€‚å¯¹Claude Code CLIå¾€æœŸå†…å®¹æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥çœ‹å¾€æœŸå†…å®¹ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493170%26idx%3D1%26sn%3D13e9d5122d788175ab587ce33720f777%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493170&amp;idx=1&amp;sn=13e9d5122d788175ab587ce33720f777&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Hooksæ‰æ˜¯Claude Code CLI çš„é©å‘½æ€§æ›´æ–°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493196%26idx%3D1%26sn%3Db4efa96c86f66fff3acd21c175ceb89f%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493196&amp;idx=1&amp;sn=b4efa96c86f66fff3acd21c175ceb89f&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Claude Codeé¢ è¦†ç¼–ç¨‹é£æ ¼çš„Output Styles</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493228%26idx%3D1%26sn%3D7bb969019478e4e38974776bb04fedda%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493228&amp;idx=1&amp;sn=7bb969019478e4e38974776bb04fedda&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åˆ†äº«ä¸€ä¸ªClaude Codeå®è—ç½‘ç«™Claude Code Templates</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493269%26idx%3D1%26sn%3D4775c90a4fab04126502bf79b0f75d70%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493269&amp;idx=1&amp;sn=4775c90a4fab04126502bf79b0f75d70&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Claude Codeä¸Šçº¿æ’ä»¶ç³»ç»Ÿï¼ŒAIç¼–ç¨‹æ¨¡å¼å†æ¬¡å‡çº§</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493288%26idx%3D1%26sn%3D0274d7f3a741cbfde4d09adf7a595efb%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493288&amp;idx=1&amp;sn=0274d7f3a741cbfde4d09adf7a595efb&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¦‚ä½•ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªClaude Codeæ’ä»¶</a></li>
</ul>
<h2 data-id="heading-1">å½“å‰ä½¿ç”¨ç‰ˆæœ¬</h2>
<p>2.0.24 (Claude Code)</p>
<h2 data-id="heading-2">ç®€ä»‹</h2>
<p>å®˜æ–¹çš„æè¿°æ˜¯ï¼šâ€œä»£ç†æŠ€èƒ½å°†ä¸“ä¸šçŸ¥è¯†æ‰“åŒ…åˆ°å¯å‘ç°çš„åŠŸèƒ½ä¸­ã€‚æ¯ä¸ªæŠ€èƒ½éƒ½ç”±ä¸€ä¸ª SKILL.md æ–‡ä»¶ç»„æˆï¼Œå…¶ä¸­åŒ…å«Claudeåœ¨éœ€è¦æ—¶é˜…è¯»çš„ è¯´æ˜ã€è„šæœ¬ å’Œ æ¨¡æ¿ ç­‰å¯é€‰æ”¯æŒæ–‡ä»¶â€ã€‚</p>
<p>ç”¨ç™½è¯è®²å°±æ˜¯ï¼ŒAgent Skillæ˜¯ä¸€ä¸ªç”¨äºå‘Šè¯‰æ¨¡å‹å¦‚ä½•æ‰§è¡ŒæŸé¡¹æ“ä½œçš„Markdownæ–‡ä»¶ï¼ŒåŒæ—¶å…è®¸é™„å¸¦é¢å¤–çš„æ–‡æ¡£å’Œé¢„å…ˆç¼–å†™çš„è„šæœ¬ï¼Œé€šè¿‡è¿è¡Œè¿™äº›è„šæœ¬ï¼Œä½¿æ¨¡å‹åœ¨æ‰§è¡Œç‰¹å®šä»»åŠ¡æ—¶æ›´ä¸“ä¸šã€æ›´é«˜æ•ˆï¼Œæ˜¯AIâ€œå¯åŠ è½½çš„èƒ½åŠ›åŒ…â€</p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.claude.com%2Fen%2Fdocs%2Fclaude-code%2Fskills" target="_blank" title="https://docs.claude.com/en/docs/claude-code/skills" ref="nofollow noopener noreferrer">docs.claude.com/en/docs/claâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbaf20322f164eda82b6bdb74dddb3d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=cqXXFH5QK%2BT4hFH5I2Xs3zE2e98%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Anthropicæä¾›äº†ä¸€ç³»åˆ—Skillç¤ºä¾‹ï¼Œéƒ¨åˆ†å·²ç»é›†æˆåˆ°äº†Claude Codeæ¡Œé¢ç«¯ï¼Œä¹Ÿå¯ä»¥åœ¨Claude Code CLIä¸­ä½¿ç”¨ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p>
<p>Githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31ad3b7da1224a5b9b049e643cd29f30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=aOUWIj6Gd4yGTG3L9YztKUoriI8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-3">ä¼˜åŠ¿</h2>
<p>Agent Skillså…·å¤‡å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>ä¸ºæ‚¨çš„ç‰¹å®šå·¥ä½œæµç¨‹æ‰©å±• Claude çš„åŠŸèƒ½</li>
<li>é€šè¿‡ git åœ¨å›¢é˜Ÿä¸­å…±äº«ä¸“ä¸šçŸ¥è¯†</li>
<li>å‡å°‘é‡å¤æç¤º</li>
<li>ä¸ºå¤æ‚ä»»åŠ¡ç¼–å†™å¤šç§æŠ€èƒ½</li>
</ul>
<h2 data-id="heading-4">å¦‚ä½•è°ƒç”¨ï¼Ÿ</h2>
<p>æŠ€èƒ½æ˜¯æ¨¡å‹è°ƒç”¨çš„ï¼ŒClaude æ ¹æ®æ‚¨çš„è¯·æ±‚å’ŒæŠ€èƒ½çš„æè¿°è‡ªä¸»å†³å®šä½•æ—¶ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h2 data-id="heading-5">Skillsç±»å‹</h2>
<p>Agent Skillsæœ‰ 3ç§ç±»å‹ï¼ŒClaude Codeä»ä»¥ä¸‹æ¥æºè‡ªåŠ¨å‘ç°Skillsï¼š</p>
<ul>
<li>ä¸ªäºº(å…¨å±€)æŠ€èƒ½ï¼šä½œç”¨äºæ‰€æœ‰é¡¹ç›®ï¼Œè·¯å¾„åœ¨ ~/.claude/skills/ ç›®å½•ä¸‹</li>
<li>é¡¹ç›®æŠ€èƒ½ï¼šä½œç”¨äºç‰¹å®šé¡¹ç›®ï¼Œè·¯å¾„åœ¨ .claude/skills/ ç›®å½•ä¸‹</li>
<li>æ’ä»¶æŠ€èƒ½ï¼šä¸å·²å®‰è£…çš„æ’ä»¶æ†ç»‘åœ¨ä¸€èµ·</li>
</ul>
<h2 data-id="heading-6">Skillsç›®å½•åŠæ“ä½œ</h2>
<h3 data-id="heading-7">Skillç›®å½•ç»“æ„</h3>
<p>Agent Skillsçš„æ–‡ä»¶ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-skill/
â”œâ”€â”€ SKILL.mdÂ <span class="hljs-comment"># æŒ‡ä»¤ä¸è¯´æ˜æ–‡ä»¶ å¿…éœ€é¡¹</span>
â”œâ”€â”€ reference.mdÂ <span class="hljs-comment"># æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰</span>
â”œâ”€â”€ examples.mdÂ <span class="hljs-comment"># ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰</span>
â”œâ”€â”€ scripts/Â <span class="hljs-comment"># è„šæœ¬ï¼ˆå¯é€‰ï¼‰</span>
â”‚ Â  â””â”€â”€ helper.py
â””â”€â”€ templates/ Â <span class="hljs-comment"># æ¨¡ç‰ˆï¼ˆå¯é€‰ï¼‰</span>
Â  Â  â””â”€â”€ template.txt
</code></pre>
<h3 data-id="heading-8">SKILL.md</h3>
<p>æ¯ä¸ªSkillséƒ½å®šä¹‰åœ¨å…·æœ‰ä»¥ä¸‹ç»“æ„çš„ Markdown æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">your-skill-name</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Introduce</span> <span class="hljs-string">the</span> <span class="hljs-string">Skills</span>Â <span class="hljs-string">functionã€‚Description</span>Â <span class="hljs-string">of</span>Â <span class="hljs-string">when</span>Â <span class="hljs-string">this</span> <span class="hljs-string">Skill</span> <span class="hljs-string">should</span> <span class="hljs-string">be</span> <span class="hljs-string">invoked</span>
<span class="hljs-attr">allowed-tools:</span> <span class="hljs-string">which</span> <span class="hljs-string">tools</span> <span class="hljs-string">Claude</span> <span class="hljs-string">can</span> <span class="hljs-string">use</span>Â <span class="hljs-string">when</span>Â <span class="hljs-string">a</span> <span class="hljs-string">Skill</span>Â <span class="hljs-string">is</span>Â <span class="hljs-string">active</span>
<span class="hljs-string">licenseï¼šskill</span> <span class="hljs-string">license</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">Skill</span> <span class="hljs-string">Implementation</span>Â <span class="hljs-string">and</span>Â <span class="hljs-string">Requirements</span>
</code></pre>
<p>SkillæŠ€èƒ½Markdown Frontmatterå±æ€§ï¼š</p>
<ul>
<li>nameï¼šSkillåç§°</li>
<li>descriptionï¼šæè¿°SkillåŠŸèƒ½åŠä½•æ—¶åº”è¯¥è°ƒç”¨æ­¤Skill</li>
<li>allowed-toolsï¼šSkillå¤„äºæ´»åŠ¨çŠ¶æ€æ—¶å¯ä»¥ä½¿ç”¨çš„å·¥å…·</li>
<li>licenseï¼šå¼€æºè®¸å¯åè®®</li>
</ul>
<p>Skillä¸­å¯ä»¥å¼•ç”¨å…¶ä»–é¢å¤–çš„æ–‡ä»¶ä½œä¸ºä¸Šä¸‹æ–‡ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">For advanced usage, seeÂ <span class="hljs-selector-attr">[reference.md]</span>(reference.md).
</code></pre>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶è·¯å¾„å½¢å¼</p>
<pre><code class="hljs language-bash" lang="bash">For advanced usage, see ./reference.md
</code></pre>
<p>éœ€è¦æ‰§è¡Œè„šæœ¬çš„æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æŒ‡å®šï¼š</p>
<pre><code class="hljs language-go" lang="go">Run the helper script:
<span class="hljs-string">``</span><span class="hljs-string">`bash
python scripts/helper.py input.txt
`</span><span class="hljs-string">``</span>
</code></pre>
<p>å¯¹äº allowed-tools çš„ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ frontmatter ä¸­æ¥é™åˆ¶ Claude åœ¨æŠ€èƒ½å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶å¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">your-skill-name</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">Introduce</span> <span class="hljs-string">the</span> <span class="hljs-string">Skills</span> <span class="hljs-string">functionã€‚Description</span> <span class="hljs-string">of</span> <span class="hljs-string">when</span> <span class="hljs-string">this</span> <span class="hljs-string">Skill</span> <span class="hljs-string">should</span> <span class="hljs-string">be</span> <span class="hljs-string">invoked</span>
<span class="hljs-attr">allowed-tools:</span> <span class="hljs-string">Read,</span> <span class="hljs-string">Grep,</span> <span class="hljs-string">Glob</span>
<span class="hljs-meta">---
</span></code></pre>
<h2 data-id="heading-9">åŸºæœ¬ä½¿ç”¨</h2>
<h3 data-id="heading-10">å‰ææ¡ä»¶</h3>
<ul>
<li>Claude Code ç‰ˆæœ¬ 1.0 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
</ul>
<h3 data-id="heading-11">å®˜æ–¹Skillå®‰è£…ä½¿ç”¨</h3>
<p>é¦–å…ˆä»¥Claude Codeå®˜æ–¹Skill å¸‚åœºä¸ºä¾‹ï¼Œåœ¨äº¤äº’å¼å‘½ä»¤ä¸­è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤æ·»åŠ Skillå¸‚åœºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin marketplace add anthropics/skills
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76b51ed79fe44f21be947774fda099b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=tXfzksxxUkyi%2BuF5DLKp0CW0mE4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨æ’ä»¶å¸‚åœºé€‰æ‹©ã€Browse and install pluginsã€‘æµè§ˆå¹¶å®‰è£…</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3ac55bc3fb945ad8886307c0891c197~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=rdpFaS2I6CjMib0bE6YISU3tD9c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ–è€…é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç›´æ¥å®‰è£…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">/plugin installÂ <span class="hljs-variable language_">document</span>-skills\<span class="hljs-meta">@anthropic</span>-agent-skills
/plugin install example-skills\<span class="hljs-meta">@anthropic</span>-agent-skills
</code></pre>
<p>document-skills å’Œ example-skills åŒ…å«çš„Skillså¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59b3b19575114609ba101408b7f4be8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=bJtdGd3lTOVZBjSQZGFG7zUwC%2Fk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œæ ¹æ®æç¤ºé‡å¯Claude Code CLI</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c51b45603f3a4bdb902bb0e06d218bcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=sQbiUb6BPwb4sLXU3MRvU8Zifa8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨äº¤äº’å¼å‘½ä»¤ä¸­ç›´æ¥è¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æå–Â /Users/username/Desktop/å·¥ä½œç°¿1.xlsx æ–‡ä»¶å†…å®¹Â 
</code></pre>
<p>Claude Code CLIä¼šå…ˆè¿›è¡Œæƒé™è¯·æ±‚ï¼Œç„¶åå¯åŠ¨Excelå¤„ç†æŠ€èƒ½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b6a82c077ba439d8e1d8548612b1e35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=mSn%2FRUkiXeXZO9tbG2Mqnhj299w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…è®¸åï¼ŒClaude Code CLIä¼šå®‰è£…æ‰€éœ€çš„ä¾èµ–å¹¶åˆ›å»ºè„šæœ¬</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1df6bf7bf2c74e6ebbc7d58cacb75a63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=4G2S%2B6u8JCdpooAKNrypZRVow0I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…è®¸è„šæœ¬åæœ€ç»ˆè¯»å–åˆ°äº†Excelè¡¨æ ¼å†…å®¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1873d8d1fd5b4602a257e58ce16c973c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=WFC1qRxMIlBUBTvDL35agKgJA9I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€åçœ‹ä¸€ä¸‹ä¼ ç»ŸClaude Code CLIè¯»å–Excelè¡¨æ ¼çš„æ•ˆæœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d04c69d89837447aacf2f1c8bd577905~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=Z2fIbFAW8KwBCzT8Qc8XeGqoVGA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-12">ä¸‰æ–¹Skillå®‰è£…ä½¿ç”¨</h3>
<p>è¿™é‡Œä»¥Claude Code Templatesæä¾›çš„Skillsä¸ºä¾‹ï¼Œå¯¹Claude Code Templatesè¿˜ä¸äº†è§£çš„å°ä¼™ä¼´å¯ä»¥çœ‹å¾€æœŸå†…å®¹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzU5Njg3ODUzOA%3D%3D%26mid%3D2247493228%26idx%3D1%26sn%3D7bb969019478e4e38974776bb04fedda%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzU5Njg3ODUzOA==&amp;mid=2247493228&amp;idx=1&amp;sn=7bb969019478e4e38974776bb04fedda&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åˆ†äº«ä¸€ä¸ªClaude Codeå®è—ç½‘ç«™Claude Code Templates</a></p>
<p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œåœ¨å‘½ä»¤è¡Œç»ˆç«¯è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤è¿›è¡Œå®‰è£…ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">$Â npx claude-code-templates\@latest <span class="hljs-attr">--skill</span>=creative-design/canvas-design --<span class="hljs-literal">yes</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ebaee8eeced443e836dd6816fa30d36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=AltEG%2B2VIw1KNnX6pcg7fzrw6Lo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼Œé¡¹ç›® .claude/ ç›®å½•ä¼šå¤šå‡ºä¸€ä¸ª skills ç›®å½•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/755ed8a633cf4e91beb7f978278fa55a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=iJn8Pa43k6yVBKFy9EA6hwvt1fo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®Œæ•´çš„ SKILL.md å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">name:</span> canvas-design
<span class="hljs-symbol">description:</span>Â CreateÂ beautiful visual artÂ <span class="hljs-keyword">in</span>Â .pngÂ <span class="hljs-built_in">and</span>Â .pdf documentsÂ <span class="hljs-keyword">using</span>Â design philosophy. You should use this skillÂ <span class="hljs-keyword">when</span>Â theÂ userÂ asksÂ <span class="hljs-keyword">to</span>Â createÂ a poster, pieceÂ <span class="hljs-keyword">of</span>Â art, design,Â <span class="hljs-built_in">or</span>Â otherÂ <span class="hljs-keyword">static</span>Â piece.Â CreateÂ original visual designs, never copying existing artists<span class="hljs-comment">' work to avoid copyright violations.</span>
<span class="hljs-symbol">license:</span> Complete terms <span class="hljs-keyword">in</span> LICENSE.txt
--------------------------------------

These are instructions <span class="hljs-keyword">for</span> creating design philosophies - aesthetic movements that are <span class="hljs-keyword">then</span> EXPRESSED VISUALLY. Output only .md files, .pdf files, <span class="hljs-built_in">and</span> .png files.
Complete this <span class="hljs-keyword">in</span> two steps:

<span class="hljs-number">1</span>.  Design Philosophy Creation (.md file)
<span class="hljs-number">2</span>.  Express <span class="hljs-keyword">by</span> creating it <span class="hljs-keyword">on</span> a canvas (.pdf file <span class="hljs-built_in">or</span> .png file)
    First, undertake this task:

## DESIGN PHILOSOPHY CREATION

<span class="hljs-keyword">To</span> begin, create a VISUAL PHILOSOPHY (<span class="hljs-built_in">not</span> layouts <span class="hljs-built_in">or</span> templates) that will be interpreted through:

*   Form, space, color, composition
*   Images, graphics, shapes, patterns
*   Minimal <span class="hljs-keyword">text</span> <span class="hljs-keyword">as</span> visual accent

### THE CRITICAL UNDERSTANDING

*   What <span class="hljs-built_in">is</span> received: Some subtle input <span class="hljs-built_in">or</span> instructions <span class="hljs-keyword">by</span> the user that should be taken <span class="hljs-keyword">into</span> account, but used <span class="hljs-keyword">as</span> a foundation; it should <span class="hljs-built_in">not</span> constrain creative freedom.
*   What <span class="hljs-built_in">is</span> created: A design philosophy/aesthetic movement.
*   What happens <span class="hljs-keyword">next</span>: <span class="hljs-keyword">Then</span>, the same version receives the philosophy <span class="hljs-built_in">and</span> EXPRESSES IT VISUALLY - creating artifacts that are <span class="hljs-number">90%</span> visual design, <span class="hljs-number">10%</span> essential <span class="hljs-keyword">text</span>.
    Consider this approach:
*   Write a manifesto <span class="hljs-keyword">for</span> an art movement
*   The <span class="hljs-keyword">next</span> phase involves making the artwork
    The philosophy must emphasize: Visual expression. Spatial communication. Artistic interpretation. Minimal words.

### HOW <span class="hljs-keyword">TO</span> GENERATE A VISUAL PHILOSOPHY

**Name the movement** (<span class="hljs-number">1</span>-<span class="hljs-number">2</span> words): <span class="hljs-string">"Brutalist Joy"</span> / <span class="hljs-string">"Chromatic Silence"</span> / <span class="hljs-string">"Metabolist Dreams"</span>
**Articulate the philosophy** (<span class="hljs-number">4</span>-<span class="hljs-number">6</span> paragraphs - concise but complete):
<span class="hljs-keyword">To</span> capture the VISUAL essence, express how the philosophy manifests through:

*   Space <span class="hljs-built_in">and</span> form
*   Color <span class="hljs-built_in">and</span> material
*   Scale <span class="hljs-built_in">and</span> rhythm
*   Composition <span class="hljs-built_in">and</span> balance
*   Visual hierarchy
    **CRITICAL GUIDELINES:**
*   **Avoid redundancy**: <span class="hljs-keyword">Each</span> design aspect should be mentioned once. Avoid repeating points about color theory, spatial relationships, <span class="hljs-built_in">or</span> typographic principles unless adding <span class="hljs-built_in">new</span> depth.
*   **Emphasize craftsmanship REPEATEDLY**: The philosophy MUST stress multiple times that the final work should appear <span class="hljs-keyword">as</span> though it took countless hours <span class="hljs-keyword">to</span> create, was labored over <span class="hljs-keyword">with</span> care, <span class="hljs-built_in">and</span> comes <span class="hljs-keyword">from</span> someone at the absolute top <span class="hljs-keyword">of</span> their field. This framing <span class="hljs-built_in">is</span> essential - repeat phrases <span class="hljs-built_in">like</span> <span class="hljs-string">"meticulously crafted,"</span> <span class="hljs-string">"the product of deep expertise,"</span> <span class="hljs-string">"painstaking attention,"</span> <span class="hljs-string">"master-level execution."</span>
*   **Leave creative space**: Remain specific about the aesthetic direction, but concise enough that the <span class="hljs-keyword">next</span> Claude has room <span class="hljs-keyword">to</span> make interpretive choices also at a extremely high level <span class="hljs-keyword">of</span> craftmanship.
    The philosophy must guide the <span class="hljs-keyword">next</span> version <span class="hljs-keyword">to</span> express ideas VISUALLY, <span class="hljs-built_in">not</span> through <span class="hljs-keyword">text</span>. Information lives <span class="hljs-keyword">in</span> design, <span class="hljs-built_in">not</span> paragraphs.

### PHILOSOPHY EXAMPLES

**<span class="hljs-string">"Concrete Poetry"</span>**
<span class="hljs-symbol">Philosophy:</span> Communication through monumental form <span class="hljs-built_in">and</span> bold geometry.
Visual expression: Massive color blocks, sculptural typography (huge <span class="hljs-type">single</span> words, tiny labels), Brutalist spatial divisions, Polish poster energy meets Le Corbusier. Ideas expressed through visual weight <span class="hljs-built_in">and</span> spatial tension, <span class="hljs-built_in">not</span> explanation. <span class="hljs-keyword">Text</span> <span class="hljs-keyword">as</span> rare, powerful gesture - never paragraphs, only essential words integrated <span class="hljs-keyword">into</span> the visual architecture. Every element placed <span class="hljs-keyword">with</span> the precision <span class="hljs-keyword">of</span> a master craftsman.
**<span class="hljs-string">"Chromatic Language"</span>**
<span class="hljs-symbol">Philosophy:</span> Color <span class="hljs-keyword">as</span> the primary information system.
Visual expression: Geometric precision <span class="hljs-keyword">where</span> color zones create meaning. Typography minimal - small sans-serif labels letting chromatic fields communicate. Think Josef Albers<span class="hljs-comment">' interaction meets data visualization. Information encoded spatiallyÂ andÂ chromatically. WordsÂ onlyÂ toÂ anchor what color already shows. TheÂ resultÂ ofÂ painstaking chromatic calibration.</span>
**<span class="hljs-string">"Analog Meditation"</span>**
<span class="hljs-symbol">Philosophy:</span> Quiet visual contemplation through textureÂ <span class="hljs-built_in">and</span>Â breathing room.
Visual expression: Paper grain, ink bleeds, vast negative space. PhotographyÂ <span class="hljs-built_in">and</span>Â illustration dominate. Typography whispered (small, restrained, serving the visual). Japanese photobook aesthetic. Images breathe across pages. <span class="hljs-keyword">Text</span> appears sparinglyÂ -Â <span class="hljs-type">short</span> phrases, never explanatory blocks.Â <span class="hljs-keyword">Each</span>Â composition balancedÂ <span class="hljs-keyword">with</span>Â the careÂ <span class="hljs-keyword">of</span>Â a meditation practice.
**<span class="hljs-string">"Organic Systems"</span>**
<span class="hljs-symbol">Philosophy:</span>Â NaturalÂ clusteringÂ <span class="hljs-built_in">and</span>Â modular growth patterns.
Visual expression: Rounded forms, organic arrangements, colorÂ <span class="hljs-keyword">from</span>Â nature through architecture. Information shown through visual diagrams, spatial relationships, iconography. <span class="hljs-keyword">Text</span>Â onlyÂ <span class="hljs-keyword">for</span>Â <span class="hljs-keyword">key</span> labels floatingÂ <span class="hljs-keyword">in</span>Â space. The composition tells the story through expert spatial orchestration.
**<span class="hljs-string">"Geometric Silence"</span>**
<span class="hljs-symbol">Philosophy:</span> PureÂ <span class="hljs-keyword">order</span>Â <span class="hljs-built_in">and</span>Â restraint.
Visual expression: Grid-basedÂ precision, bold photographyÂ <span class="hljs-built_in">or</span>Â stark graphics, dramatic negative space. Typography precise but minimalÂ -Â small essential <span class="hljs-keyword">text</span>,Â largeÂ quiet zones. Swiss formalism meets Brutalist material honesty. <span class="hljs-keyword">Structure</span> communicates,Â <span class="hljs-built_in">not</span>Â words.Â EveryÂ alignment the workÂ <span class="hljs-keyword">of</span>Â countless refinements.
*TheseÂ areÂ condensed examples. The actual design philosophy should beÂ <span class="hljs-number">4</span>-<span class="hljs-number">6</span>Â substantial paragraphs.*

### ESSENTIAL PRINCIPLES

\-Â **VISUAL PHILOSOPHY**:Â CreateÂ an aesthetic worldviewÂ <span class="hljs-keyword">to</span>Â be expressed through design
\-Â **MINIMAL <span class="hljs-keyword">TEXT</span>**: Always emphasize that <span class="hljs-keyword">text</span>Â <span class="hljs-built_in">is</span>Â sparse, essential-only, integratedÂ <span class="hljs-keyword">as</span>Â visual elementÂ -Â never lengthy
\-Â **SPATIAL EXPRESSION**: Ideas communicate through space, form, color, compositionÂ -Â <span class="hljs-built_in">not</span>Â paragraphs
\-Â **ARTISTIC FREEDOM**: The <span class="hljs-keyword">next</span> Claude interprets the philosophy visuallyÂ -Â provide creative room
\-Â **PURE DESIGN**: ThisÂ <span class="hljs-built_in">is</span>Â about making ART OBJECTS,Â <span class="hljs-built_in">not</span>Â documentsÂ <span class="hljs-keyword">with</span>Â decoration
\-Â **EXPERT CRAFTSMANSHIP**: Repeatedly emphasize theÂ finalÂ work must look meticulously crafted, laboredÂ overÂ <span class="hljs-keyword">with</span>Â care, the productÂ <span class="hljs-keyword">of</span>Â countless hoursÂ <span class="hljs-keyword">by</span>Â someoneÂ atÂ the topÂ <span class="hljs-keyword">of</span>Â their field
**The design philosophy should beÂ <span class="hljs-number">4</span>-<span class="hljs-number">6</span>Â paragraphs <span class="hljs-type">long</span>.**Â Fill itÂ <span class="hljs-keyword">with</span>Â poetic design philosophy that brings together the core vision. Avoid repeating the same points. Keep the design philosophy genericÂ withoutÂ mentioning the intentionÂ <span class="hljs-keyword">of</span>Â the art,Â <span class="hljs-keyword">as</span>Â <span class="hljs-keyword">if</span> it can be used wherever. Output the design philosophyÂ <span class="hljs-keyword">as</span>Â a .md file.
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

## DEDUCING THE SUBTLE REFERENCE

**CRITICAL <span class="hljs-keyword">STEP</span>**: Before creating the canvas, identify the subtle conceptual threadÂ <span class="hljs-keyword">from</span>Â the original request.
**THE ESSENTIAL PRINCIPLE**:
The topicÂ <span class="hljs-built_in">is</span>Â aÂ **subtle, niche reference embeddedÂ withinÂ the art itself**Â -Â <span class="hljs-built_in">not</span>Â always literal, always sophisticated. Someone familiarÂ <span class="hljs-keyword">with</span>Â the subject should feel it intuitively, <span class="hljs-keyword">while</span> others simply experience a masterful abstract composition. The design philosophy provides the aesthetic language. The deduced topic provides the soulÂ -Â the quiet conceptual DNA woven invisiblyÂ <span class="hljs-keyword">into</span>Â form, color,Â <span class="hljs-built_in">and</span>Â composition.
ThisÂ <span class="hljs-built_in">is</span>Â **VERY IMPORTANT**: The reference must be refined so it enhances the work<span class="hljs-comment">'s depth without announcing itself. Think like a jazz musician quoting another song - only those who know will catch it, but everyone appreciates the music.</span>
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

## CANVAS CREATION

<span class="hljs-keyword">With</span> both the philosophy <span class="hljs-built_in">and</span> the conceptual framework established, express it <span class="hljs-keyword">on</span> a canvas. <span class="hljs-keyword">Take</span> a moment <span class="hljs-keyword">to</span> gather thoughts <span class="hljs-built_in">and</span> clear the mind. Use the design philosophy created <span class="hljs-built_in">and</span> the instructions below <span class="hljs-keyword">to</span> craft a masterpiece, embodying all aspects <span class="hljs-keyword">of</span> the philosophy <span class="hljs-keyword">with</span> expert craftsmanship.
**IMPORTANT**: <span class="hljs-keyword">For</span> any type <span class="hljs-keyword">of</span> content, even <span class="hljs-keyword">if</span> the user requests something <span class="hljs-keyword">for</span> a movie/game/book, the approach should still be sophisticated. Never lose sight <span class="hljs-keyword">of</span> the idea that this should be art, <span class="hljs-built_in">not</span> something that<span class="hljs-comment">'s cartoonyÂ orÂ amateur.</span>
<span class="hljs-keyword">To</span>Â createÂ museumÂ <span class="hljs-built_in">or</span>Â magazine quality work, use the design philosophyÂ <span class="hljs-keyword">as</span>Â the foundation.Â CreateÂ oneÂ <span class="hljs-type">single</span> page, highly visual, design-forward PDFÂ <span class="hljs-built_in">or</span>Â PNG output (unless askedÂ <span class="hljs-keyword">for</span>Â more pages). Generally use repeating patternsÂ <span class="hljs-built_in">and</span>Â perfect shapes. Treat the abstract philosophical designÂ <span class="hljs-keyword">as</span>Â <span class="hljs-keyword">if</span> it were a scientific bible, borrowing the visualÂ languageÂ <span class="hljs-keyword">of</span>Â systematic observationâ€”dense accumulationÂ <span class="hljs-keyword">of</span>Â marks, repeated elements,Â <span class="hljs-built_in">or</span>Â layered patterns that build meaning through patient repetitionÂ <span class="hljs-built_in">and</span>Â reward sustained viewing.Â AddÂ sparse, clinical typographyÂ <span class="hljs-built_in">and</span>Â systematic reference markers that suggest this could be a diagramÂ <span class="hljs-keyword">from</span>Â an imaginary discipline, treating the invisible subjectÂ <span class="hljs-keyword">with</span>Â the same reverence typically reservedÂ <span class="hljs-keyword">for</span>Â documenting observable phenomena. Anchor the pieceÂ <span class="hljs-keyword">with</span>Â simple phrase(s)Â <span class="hljs-built_in">or</span>Â details positioned subtly,Â <span class="hljs-keyword">using</span>Â a limited color palette that feels intentionalÂ <span class="hljs-built_in">and</span>Â cohesive. Embrace the paradoxÂ <span class="hljs-keyword">of</span>Â <span class="hljs-keyword">using</span>Â analytical visualÂ languageÂ <span class="hljs-keyword">to</span>Â express ideas about human experience: theÂ resultÂ should feelÂ <span class="hljs-built_in">like</span>Â an artifact that proves something ephemeral can be studied, mapped,Â <span class="hljs-built_in">and</span>Â understood through careful attention. ThisÂ <span class="hljs-built_in">is</span>Â <span class="hljs-literal">true</span>Â art.Â 
**<span class="hljs-keyword">Text</span>Â <span class="hljs-keyword">as</span>Â a contextual element**: <span class="hljs-keyword">Text</span>Â <span class="hljs-built_in">is</span>Â always minimalÂ <span class="hljs-built_in">and</span>Â visual-first, but <span class="hljs-keyword">let</span> context guide whether that means whisper-quiet labelsÂ <span class="hljs-built_in">or</span>Â bold typographic gestures. A punk venue poster might have larger, more aggressive type than a minimalist ceramics studio identity. MostÂ <span class="hljs-keyword">of</span>Â theÂ time, font should be thin.Â AllÂ useÂ <span class="hljs-keyword">of</span>Â fonts must be design-forwardÂ <span class="hljs-built_in">and</span>Â prioritize visual communication. RegardlessÂ <span class="hljs-keyword">of</span>Â <span class="hljs-keyword">text</span> scale, <span class="hljs-literal">nothing</span> falls <span class="hljs-keyword">off</span> the pageÂ <span class="hljs-built_in">and</span>Â <span class="hljs-literal">nothing</span> overlaps.Â EveryÂ element must be containedÂ withinÂ the canvas boundariesÂ <span class="hljs-keyword">with</span>Â proper margins.Â CheckÂ carefully thatÂ allÂ <span class="hljs-keyword">text</span>, graphics,Â <span class="hljs-built_in">and</span>Â visual elements have breathing roomÂ <span class="hljs-built_in">and</span>Â clear separation. ThisÂ <span class="hljs-built_in">is</span>Â non-negotiableÂ <span class="hljs-keyword">for</span>Â professional execution.Â **IMPORTANT: Use different fonts <span class="hljs-keyword">if</span> writing <span class="hljs-keyword">text</span>.Â SearchÂ the `./canvas-fonts` directory. RegardlessÂ <span class="hljs-keyword">of</span>Â approach, sophisticationÂ <span class="hljs-built_in">is</span>Â non-negotiable.**
DownloadÂ <span class="hljs-built_in">and</span>Â use whatever fontsÂ areÂ neededÂ <span class="hljs-keyword">to</span>Â make this a reality.Â <span class="hljs-keyword">Get</span>Â creativeÂ <span class="hljs-keyword">by</span>Â making the typography actually partÂ <span class="hljs-keyword">of</span>Â the art itselfÂ -- <span class="hljs-keyword">if</span> the art <span class="hljs-built_in">is</span> abstract, bring the font onto the canvas, <span class="hljs-built_in">not</span> typeset digitally.
<span class="hljs-keyword">To</span>Â push boundaries, follow design instinct/intuition <span class="hljs-keyword">while</span>Â <span class="hljs-keyword">using</span>Â the philosophyÂ <span class="hljs-keyword">as</span>Â a guiding principle. Embrace ultimate design freedomÂ <span class="hljs-built_in">and</span>Â choice. Push aestheticsÂ <span class="hljs-built_in">and</span>Â designÂ <span class="hljs-keyword">to</span>Â the frontier.Â 
**CRITICAL**:Â <span class="hljs-keyword">To</span>Â achieve human-crafted quality (<span class="hljs-built_in">not</span>Â AI-generated),Â createÂ work that looksÂ <span class="hljs-built_in">like</span>Â it took countless hours. Make it appearÂ <span class="hljs-keyword">as</span>Â though someoneÂ atÂ the absolute topÂ <span class="hljs-keyword">of</span>Â their field laboredÂ overÂ everyÂ detailÂ <span class="hljs-keyword">with</span>Â painstaking care. Ensure the composition, spacing, color choices, typographyÂ -Â everything screams expert-level craftsmanship.Â <span class="hljs-type">Double</span>-checkÂ that <span class="hljs-literal">nothing</span>Â overlaps, formattingÂ <span class="hljs-built_in">is</span>Â flawless,Â everyÂ detail perfect.Â CreateÂ something that could be shownÂ <span class="hljs-keyword">to</span>Â peopleÂ <span class="hljs-keyword">to</span>Â prove expertiseÂ <span class="hljs-built_in">and</span>Â rankÂ <span class="hljs-keyword">as</span>Â undeniably impressive.
Output theÂ finalÂ resultÂ <span class="hljs-keyword">as</span>Â a <span class="hljs-type">single</span>, downloadable .pdfÂ <span class="hljs-built_in">or</span>Â .png file, alongside the design philosophy usedÂ <span class="hljs-keyword">as</span>Â a .md file.
------------------------------------------------------------------------------------------------------------------------

\##Â FINALÂ <span class="hljs-keyword">STEP</span>
**IMPORTANT**: TheÂ userÂ ALREADY said <span class="hljs-string">"It isn't perfect enough. It must be pristine, a masterpiece if craftsmanship, as if it were about to be displayed in a museum."</span>
**CRITICAL**:Â <span class="hljs-keyword">To</span>Â refine the work, avoid adding more graphics; instead refine what has been createdÂ <span class="hljs-built_in">and</span>Â make it extremely crisp, respecting the design philosophyÂ <span class="hljs-built_in">and</span>Â the principlesÂ <span class="hljs-keyword">of</span>Â minimalism entirely. Rather than adding a funÂ filterÂ <span class="hljs-built_in">or</span>Â refactoring a font, consider howÂ <span class="hljs-keyword">to</span>Â make the existing composition more cohesiveÂ <span class="hljs-keyword">with</span>Â the art. <span class="hljs-keyword">If</span> the instinctÂ <span class="hljs-built_in">is</span>Â <span class="hljs-keyword">to</span>Â <span class="hljs-keyword">call</span>Â aÂ <span class="hljs-built_in">new</span>Â <span class="hljs-keyword">function</span>Â <span class="hljs-built_in">or</span>Â draw aÂ <span class="hljs-built_in">new</span>Â shape, <span class="hljs-keyword">STOP</span>Â <span class="hljs-built_in">and</span>Â instead ask: <span class="hljs-string">"How can I make what's already here more of a piece of art?"</span>
<span class="hljs-keyword">Take</span> aÂ secondÂ pass. Go backÂ <span class="hljs-keyword">to</span>Â the codeÂ <span class="hljs-built_in">and</span>Â refine/polish furtherÂ <span class="hljs-keyword">to</span>Â make this a philosophically designed masterpiece.

## MULTI-PAGE <span class="hljs-keyword">OPTION</span>

<span class="hljs-keyword">To</span>Â createÂ additional pagesÂ <span class="hljs-keyword">when</span>Â requested,Â createÂ more creative pages along the same linesÂ <span class="hljs-keyword">as</span>Â the design philosophy but distinctly differentÂ <span class="hljs-keyword">as</span>Â well. Bundle those pagesÂ <span class="hljs-keyword">in</span>Â the same .pdfÂ <span class="hljs-built_in">or</span>Â many .pngs. Treat theÂ firstÂ pageÂ <span class="hljs-keyword">as</span>Â just a <span class="hljs-type">single</span> pageÂ <span class="hljs-keyword">in</span>Â a whole coffeeÂ tableÂ book waitingÂ <span class="hljs-keyword">to</span>Â be filled. Make the <span class="hljs-keyword">next</span> pagesÂ uniqueÂ twistsÂ <span class="hljs-built_in">and</span>Â memoriesÂ <span class="hljs-keyword">of</span>Â the original. Have them almost tell a storyÂ <span class="hljs-keyword">in</span>Â a very tasteful way. ExerciseÂ fullÂ creative freedom.
</code></pre>
<p>åŒ…å« æ‰§è¡Œæµç¨‹ã€è®¾è®¡ç†å¿µå…³é”®ç†è§£ã€å“²å­¦ç¤ºä¾‹ã€ç”»å¸ƒåˆ›å»º ç­‰æ“ä½œæè¿°ã€‚</p>
<p>é‡å¯Claude Code CLIï¼Œè¦æŸ¥çœ‹å½“å‰æ‰€æœ‰å¯ç”¨çš„æŠ€èƒ½ï¼Œå¯ä»¥åœ¨äº¤äº’å¼å‘½ä»¤ä¸­ç›´æ¥è¯¢é—® Claude Code CLIï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ListÂ allÂ available Skills
</code></pre>
<p>Claude Code CLIä¼šæŸ¥æ‰¾æ‰€æœ‰å¯ç”¨çš„Skill</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c76ed90d9cb4c99ac3c2ab284967072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=USF%2BaXxiAouSxtj%2B9G2t0dpxosw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Skillçš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥è¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs">ã€ŒæµæµªçŒ«é¢†å…»å…¬ç›Šæµ·æŠ¥ï¼Œè§†è§‰ä¸»ä½“æ˜¯ 3 åªä¸åŒæ¯›è‰²çš„æµæµªçŒ«ï¼ˆæ©˜çŒ«ã€ä¸‰èŠ±çŒ«ã€é»‘çŒ«ï¼Œå§¿æ€æ¸©é¡ºï¼Œçç€åœ†çœ¼çœ‹å‘é•œå¤´ï¼‰ï¼Œè¶´åœ¨é“ºç€æŸ”è½¯ç°è‰²æ¯›æ¯¯çš„æœ¨è´¨å¹³å°ä¸Šï¼ŒèƒŒæ™¯æ˜¯æµ…è–„è·ç»¿çº¯è‰²èƒŒæ™¯ï¼Œè§’è½ç‚¹ç¼€å°å‹ç™½è‰²çˆ±å¿ƒå›¾æ¡ˆï¼Œé£æ ¼ä¸ºæ¸…æ–°æ²»æ„ˆçš„æ‰å¹³æ’ç”»é£ï¼Œ
è‰²è°ƒä»¥è–„è·ç»¿ã€å¥¶ç™½ã€æ©˜è‰²ä¸ºä¸»ï¼Œé¡¶éƒ¨ç”¨åœ†æ¶¦å­—ä½“å†™â€˜ç»™å®ƒä¸€ä¸ªå®¶ â€”â€” æµæµªçŒ«é¢†å…»æ—¥â€™ï¼Œä¸‹æ–¹æ ‡æ³¨æ—¶é—´ï¼ˆ10.1-10.7ï¼‰å’Œåœ°ç‚¹ï¼ˆåŸå¸‚ä¸­å¿ƒå¹¿åœºï¼‰ï¼Œç”»é¢æ— å°–é”å…ƒç´ ï¼Œæ•´ä½“æ¸©æš–æŸ”å’Œï¼Œä¼ é€’â€˜å…³çˆ±ç”Ÿå‘½â€™çš„æ°›å›´ã€ï¼Œæ ¹æ®ä¸Šé¢æç¤ºè¯ç”Ÿæˆå¯¹åº”å†…å®¹æµ·æŠ¥
</code></pre>
<p>Claude Code CLIä¼šæ ¹æ®Skillè¦æ±‚å…ˆè¿›è¡Œè®¾è®¡å“²å­¦åˆ›ä½œå¹¶ä¿å­˜åˆ° tender_sanctuary_philosophy.md æ–‡ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ca013a34c324535a53821b8b4b2a1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=NV9hkW9IJtX0LRkWvw77tcGpFws%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶åæ ¹æ®åˆ›ä½œè®¾è®¡æ–‡ä»¶ç¼–å†™Pythonè„šæœ¬ç»˜åˆ¶å›¾ç‰‡</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d78c9de9a8c147c0a6c0d26a67b2d65d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=JTlrKQBhYXHiH1s47OhmbVys7HU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç»˜åˆ¶å®Œæˆåï¼Œæ•ˆæœå¦‚ä¸‹ï¼Œæ•ˆæœæœ‰ç‚¹ä¸€è¨€éš¾å°½ï¼Œå¯¹ä¸­æ–‡æ”¯æŒæœ‰é—®é¢˜ï¼Œä¸­æ–‡æ²¡æœ‰å±•ç¤ºå‡ºæ¥</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c3c3fa44640400e908b0b972a1cedae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=Xa%2BwItPw41pT7wRG1ewQ8pUmcZw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ€åæ›¿æ¢ä¸ºè‹±æ–‡ç‰ˆï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96da3fefc42443d695aadd5876d261b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=yBcqq5bKWS3%2FcSx6CCMYHweWe9A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-13">è‡ªå®šä¹‰Skill</h3>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹ä¸ºä¾‹ï¼Œè‡ªå®šä¹‰Skillé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª skillsç›®å½•ï¼Œå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$</span><span class="bash">Â <span class="hljs-built_in">mkdir</span>Â -p .claude/skills/my-skill-name</span>
</code></pre>
<p>åœ¨ my-skill-name ç›®å½•ä¸‹åˆ›å»º SKILL.md æ–‡ä»¶ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªç®€å•çš„Skillè¾“å…¥æç¤ºè¯å†…å®¹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">my-first-skill</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">è°ƒç”¨ä¸ªäººå·¥ä½œæµã€‚å½“ç”¨æˆ·éœ€è¦æ‰§è¡Œä¸ªäººå·¥ä½œæµæ—¶è°ƒç”¨è¯¥Skill</span>
<span class="hljs-attr">allowed-tools:</span> <span class="hljs-string">Read,Grep,Glob</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment">## æ‰§è¡Œæ­¥éª¤</span>
<span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">æŸ¥æ‰¾é¡¹ç›®ä¸­</span> <span class="hljs-string">task.md</span> <span class="hljs-string">æ–‡ä»¶ï¼š</span>
<span class="hljs-string">```bash</span>
<span class="hljs-string">find</span> <span class="hljs-string">.</span> <span class="hljs-string">-name</span> <span class="hljs-string">"task.md"</span>
<span class="hljs-string">```</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">æ²¡æœ‰æŸ¥æ‰¾åˆ°è¾“å‡º</span> <span class="hljs-string">â€œé¡¹ç›®ä¸­ä¸å­˜åœ¨task.mdâ€</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">æ‰§è¡Œä¸‹ä¸€æ­¥</span>
<span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">è¾“å‡º</span> <span class="hljs-string">task.md</span> <span class="hljs-string">æ–‡ä»¶ä¸­çš„æœªè¯»é¡¹</span>
</code></pre>
<p>è°ƒç”¨ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥è¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs">è°ƒç”¨ä¸ªäººå·¥ä½œæµSkillÂ 
</code></pre>
<p>Claude Code CLIä¼šæŒ‰ç…§æŒ‡å®šçš„Shellè¯­å¥æŸ¥æ‰¾ task.md æ–‡ä»¶ï¼Œæ²¡æœ‰æ‰¾åˆ°æœ€ç»ˆè¾“å‡ºäº†â€œé¡¹ç›®ä¸­ä¸å­˜åœ¨task.mdâ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dbea69612df4641b67ef4cf7f8ac052~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=d5BKk0i81k1J4Yp2F1U9Hq1kirw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª task.md æ–‡ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/565a492e7a8f4db59b7a895f1c1bdaba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=eRDagrb2aA43DyD6eV02sUr%2FuEw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å†æ¬¡æ‰§è¡Œè‡ªå®šä¹‰Skillï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61fa819a90514dca967bf73217d84ae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=WmWfLOKJUEp3Y6iekbnZ7Fc93JA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°† task.md æ–‡ä»¶çš„æŸ¥æ‰¾å’Œè¾“å‡ºè§„åˆ™è¿›è¡Œè°ƒæ•´ï¼Œå¯¹Skillè¿›è¡Œå®Œå–„å’Œä¼˜åŒ–</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d7f9b5c9b064511b557eb93d246f4de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=RwH%2BffPVaej%2BFkN%2Bnkowqj1xHJY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-markdown" lang="markdown">name: my-first-skill
description: è°ƒç”¨ä¸ªäººå·¥ä½œæµã€‚å½“ç”¨æˆ·éœ€è¦æ‰§è¡Œä¸ªäººå·¥ä½œæµæ—¶è°ƒç”¨è¯¥Skill
<span class="hljs-section">allowed-tools: Read,Grep,Glob
-----------------------------</span>

<span class="hljs-section">## æ‰§è¡Œæ­¥éª¤</span>

<span class="hljs-bullet">1.</span>Â æŸ¥æ‰¾é¡¹ç›®æ ¹ç›®å½•æ˜¯å¦å­˜åœ¨ task.md æ–‡ä»¶ï¼Œ å‚è€ƒ [<span class="hljs-string">reference.md</span>](<span class="hljs-link">./reference.md</span>)ï¼š
Â  Â  - æ²¡æœ‰æŸ¥æ‰¾åˆ°è¾“å‡º â€œé¡¹ç›®ä¸­ä¸å­˜åœ¨task.mdâ€
Â  Â  - æ‰¾åˆ°æ‰§è¡Œä¸‹ä¸€æ­¥
<span class="hljs-bullet">2.</span>Â è¾“å‡º task.md æ–‡ä»¶ä¸­çš„æœªè¯»é¡¹
Â  Â  - æ²¡æœ‰æœªè¯»é¡¹è¾“å‡º â€œæ²¡æœ‰æœªè¯»é¡¹â€
Â  Â  - è¾“å‡ºæœªè¯»é¡¹ï¼Œè¾“å‡ºæ ¼å¼å‚è€ƒ [<span class="hljs-string">templates.md</span>](<span class="hljs-link">./templates/templates.md</span>)
</code></pre>
<p>reference.md</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># task.mdæ–‡ä»¶æŸ¥æ‰¾è§„åˆ™</span>
<span class="hljs-string">``</span><span class="hljs-string">`bash
find . -name "task.md"
`</span><span class="hljs-string">``</span>
</code></pre>
<p>templates.md</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä»»åŠ¡æœªè¯»é¡¹æ ¼å¼</span>
<span class="hljs-bullet">-</span> ã€ä»»åŠ¡1ã€‘ï¼ˆæœªå®Œæˆï¼‰
<span class="hljs-bullet">-</span> ã€ä»»åŠ¡2ã€‘ï¼ˆæœªå®Œæˆï¼‰
</code></pre>
<p>å†æ¬¡æ‰§è¡ŒSkillä»»åŠ¡ï¼Œå¯ä»¥å‘ç°AIæŒ‰ç…§æˆ‘ä»¬æŒ‡å®šçš„è§„åˆ™è¾“å‡ºäº†ç»“æœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04d622c4789c46b78a316d69b79aa716~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5rqq5b285bK4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763860734&amp;x-signature=dEJOXp4q7X8O5Cui%2BOB%2FMwnMzgo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶Skillè¿˜å¯ä»¥åšæ›´å¤šæ›´å¼ºå¤§çš„èƒ½åŠ›æ‰©å±•ï¼Œä»¥ä¸Šåªæ˜¯ç®€å•çš„æŠ›ç –å¼•ç‰ã€‚</p>
<h2 data-id="heading-14">å‹æƒ…æç¤º</h2>
<p>è§åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FP674ZIjwoeD1kjUELMkaBg" target="_blank" title="https://mp.weixin.qq.com/s/P674ZIjwoeD1kjUELMkaBg" ref="nofollow noopener noreferrer">Claudeå‘å¸ƒæ–°åŠŸèƒ½Agent Skillsï¼Œè®©ä½ çš„Agentæ›´ä¸“ä¸š</a></p>
<blockquote>
<p>æœ¬æ–‡åŒæ­¥è‡ªå¾®ä¿¡å…¬ä¼—å· "<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FP674ZIjwoeD1kjUELMkaBg" target="_blank" title="https://mp.weixin.qq.com/s/P674ZIjwoeD1kjUELMkaBg" ref="nofollow noopener noreferrer">ç¨‹åºå‘˜å°æºª</a>" ï¼Œè¿™é‡Œåªæ˜¯åŒæ­¥ï¼Œæƒ³çœ‹åŠæ—¶æ¶ˆæ¯è¯·ç§»æ­¥æˆ‘çš„å…¬ä¼—å·ï¼Œä¸å®šæ—¶æ›´æ–°æˆ‘çš„å­¦ä¹ ç»éªŒã€‚å‹æƒ…æç¤ºå‹æƒ…æç¤º</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter,Compose,Web åœ¨Androidå¹³å°ä¸Šä»å¸ƒå±€åˆ°å±å¹•çš„æœºåˆ¶æ¢ç©¶]]></title>    <link>https://juejin.cn/post/7572480736362266630</link>    <guid>https://juejin.cn/post/7572480736362266630</guid>    <pubDate>2025-11-16T12:41:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572480736362266630" data-draft-id="7572525491538821162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter,Compose,Web åœ¨Androidå¹³å°ä¸Šä»å¸ƒå±€åˆ°å±å¹•çš„æœºåˆ¶æ¢ç©¶"/> <meta itemprop="keywords" content="Flutter,Android,WebView"/> <meta itemprop="datePublished" content="2025-11-16T12:41:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="apigfly"/> <meta itemprop="url" content="https://juejin.cn/user/2488950054453613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter,Compose,Web åœ¨Androidå¹³å°ä¸Šä»å¸ƒå±€åˆ°å±å¹•çš„æœºåˆ¶æ¢ç©¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2488950054453613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    apigfly
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T12:41:46.000Z" title="Sun Nov 16 2025 12:41:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘ç”¨åˆ°äº† Flutter åšè·¨å¹³å°é¡¹ç›®ï¼Œæ¯”è¾ƒå¥½å¥‡è·¨å¹³å°é¡¹ç›®æ˜¯æ€ä¹ˆèƒ½å¤Ÿåœ¨ Android è®¾å¤‡ä¸Šæ˜¾ç¤ºå‡ºæ¥çš„ï¼Œå°±æœ‰äº†ä»Šå¤©çš„æ–‡ç« ï¼Œå› ä¸ºä¹‹å‰å†™çš„ <a href="https://juejin.cn/post/6944960866404007944" target="_blank" title="https://juejin.cn/post/6944960866404007944">Android å›¾å½¢æ˜¾ç¤ºç³»ç»Ÿ</a> ï¼Œä¹Ÿç®—æ˜¯æ‰¿ä¸Šå¯ä¸‹äº†å§ï¼Œæ¯•ç«Ÿè¿™ä¹ˆå¤šå¹´æ²¡æ›´å•¦</p>
</blockquote>
<h2 data-id="heading-0"><strong>1. æ ¸å¿ƒæ¶æ„åŸºç¡€ï¼šAndroid å›¾å½¢æ ˆä¸æ•°æ®æµ</strong></h2>
<p>ç†è§£ä»»ä½• Android UI ç»„ä»¶çš„æ¸²æŸ“è¿‡ç¨‹ï¼Œéƒ½å¿…é¡»ä»æ“ä½œç³»ç»Ÿçš„åº•å±‚å›¾å½¢æ¶æ„å¼€å§‹ï¼Œç‰¹åˆ«æ˜¯ç¼“å†²åŒºç®¡ç†ã€Surface æŠ½è±¡ä»¥åŠç³»ç»Ÿåˆæˆå™¨çš„åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1"><strong>1.1. Android æ¸²æŸ“æ•°æ®æµï¼šBufferQueue, Surface ä¸ Layer æ¨¡å‹</strong></h3>
<p>Android å›¾å½¢ç³»ç»ŸåŸºäº<code>ç”Ÿäº§è€…-æ¶ˆè´¹è€…</code>æ¨¡å‹ã€‚
åœ¨è¿™ç§æ¨¡å‹ä¸­ï¼Œåº”ç”¨æˆ–å…¶æ¸²æŸ“å¼•æ“è¢«è§†ä¸º<code>ç”Ÿäº§è€…</code>ï¼Œè€Œç³»ç»Ÿåˆæˆå™¨ <code>SurfaceFlinger</code> åˆ™å……å½“<code>æ¶ˆè´¹è€…</code>ã€‚å…·ä½“å¤§å®¶å¯ä»¥çœ‹ä¹‹å‰çš„æ–‡ç« ï¼š<a href="https://juejin.cn/post/6944960866404007944#heading-0" target="_blank" title="https://juejin.cn/post/6944960866404007944#heading-0">æ˜¾ç¤ºåŸç†</a></p>
<p>ç®€è¦ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1eb1d3858e0a4552bdcf7f7ab7935270~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=dv7A%2FgboMU5H0jYcGQ0o2kt6evw%3D" alt="graphics-pipeline.png" loading="lazy"/></p>
<h4 data-id="heading-2"><code>BufferQueue</code></h4>
<p>æ•°æ®äº¤æ¢çš„æ ¸å¿ƒã€‚è¿™æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰é˜Ÿåˆ—ï¼Œä½äº <code>libgui IPC</code> åº“ä¸­ï¼Œç”¨äºè·¨è¿›ç¨‹å®‰å…¨åœ°ä¼ è¾“å›¾å½¢ç¼“å†²åŒºã€‚</p>
<p><code>ç”Ÿäº§è€…</code>è´Ÿè´£å‘é˜Ÿåˆ—ä¸­å†™å…¥å·²æ¸²æŸ“çš„å¸§ï¼Œè€Œ<code>æ¶ˆè´¹è€…</code>åˆ™ä»é˜Ÿåˆ—ä¸­å–å‡ºå¸§è¿›è¡Œåˆæˆã€‚
è¿™ç§æœºåˆ¶çš„è®¾è®¡ç›®æ ‡æ˜¯ç¡®ä¿æ•°æ®çš„åŸå­æ€§ä¼ è¾“å’ŒåŒæ­¥ã€‚</p>
<p><code>æ¶ˆè´¹è€…</code>é€šå¸¸æ˜¯ Android çš„æ ¸å¿ƒåˆæˆå™¨ <code>SurfaceFlinger</code>ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç»„ä»¶ï¼Œä¾‹å¦‚ <code>SurfaceView</code>ã€<code>SurfaceTexture</code> æˆ– <code>ImageReader</code>ã€‚</p>
<h4 data-id="heading-3"><code>Surface</code></h4>
<p><code>Surface</code> å¯¹è±¡æ˜¯åº”ç”¨è¿›ç¨‹ç”¨äºä¸ <code>BufferQueue</code> äº¤äº’çš„é«˜çº§ API æ¥å£ã€‚
å®ƒæœ¬èº«å¹¶ä¸å­˜å‚¨åƒç´ æ•°æ®ï¼Œè€Œæ˜¯æŒæœ‰ä¸€ä¸ªå¯¹åº•å±‚ <code>IGraphicBufferProducer</code> æ¥å£çš„å¼•ç”¨ã€‚
è¿™ä¸ªæ¥å£å…è®¸åº”ç”¨è·¨è¿›ç¨‹å°†æ¸²æŸ“å®Œæˆçš„å›¾å½¢ç¼“å†²åŒºæ’é˜Ÿç­‰å¾…æ¶ˆè´¹ã€‚</p>
<h4 data-id="heading-4"><code>Layer</code></h4>
<p><code>Layer</code> æ˜¯ <code>SurfaceFlinger</code> å†…éƒ¨ç”¨äºåˆæˆçš„åŸºæœ¬å•ä½ã€‚
å®ƒä¸ <code>Surface</code> ä¸åŒï¼Œ<code>Surface</code> ä¸“æ³¨äºåƒç´ å†…å®¹çš„ç”Ÿäº§ï¼Œè€Œ <code>Layer</code> ä¸“æ³¨äºè¯¥å†…å®¹çš„åˆæˆæ–¹å¼ã€‚
ä¸€ä¸ª <code>Layer</code> å°è£…äº†åˆæˆæ‰€éœ€çš„å…¨éƒ¨å…ƒæ•°æ®å’ŒçŠ¶æ€ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šZ è½´é¡ºåºï¼ˆå†³å®šé®æŒ¡å…³ç³»ï¼‰ã€å¯è§æ€§ã€æ··åˆæ¨¡å¼ï¼ˆAlpha æ··åˆï¼‰ã€è£å‰ªåŒºåŸŸã€å®Œæ•´çš„ 2D/3D è½¬æ¢çŸ©é˜µï¼ˆTranslation, Rotation, Scaleï¼‰ã€‚</p>
<h4 data-id="heading-5">é›¶æ‹·è´ä¼˜åŒ–</h4>
<p>ç°ä»£ Android å›¾å½¢ç³»ç»Ÿä¸¥é‡ä¾èµ– <code>AHardwareBuffer (API 26+)</code> æ¥å®ç°é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„å›¾å½¢æ•°æ®ä¼ è¾“ã€‚<br/>
<code>AHardwareBuffer</code> ä»£è¡¨ä¸€ç§ç¡¬ä»¶æ”¯æŒçš„ç¼“å†²åŒºï¼Œå¯ä»¥é«˜æ•ˆåœ°åœ¨ä¸åŒç³»ç»Ÿç»„ä»¶å’Œè¿›ç¨‹ä¹‹é—´å…±äº«ï¼Œé€šå¸¸ç”¨äºå®ç°é›¶æ‹·è´æ“ä½œã€‚<br/>
<code>AHardwareBuffer</code>æ”¯æŒå¤šå±‚çº¹ç†æ•°ç»„å’Œç«‹æ–¹ä½“è´´å›¾çš„å®šä¹‰ï¼Œç‰¹åˆ«é€‚ç”¨äº Vulkan åç«¯æˆ–è·¨è¿›ç¨‹å›¾å½¢ä¼ è¾“<br/>
<code>WebView</code> çš„è¿›ç¨‹å¤–å…‰æ …åŒ–ï¼ˆOOPRï¼‰å°±éœ€è¦åˆ©ç”¨<code>AHardwareBuffer</code>æœºåˆ¶å®ç°é«˜æ•ˆçš„ç¼“å†²åŒºå…±äº«ã€‚</p>
<p><strong>ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…çš„â€œè·ç¦»â€ä¸éš”ç¦»</strong>
<code>BufferQueue</code> æœºåˆ¶çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼Œå®ƒä½¿å¾—<code>ç”Ÿäº§è€…</code>å’Œ<code>æ¶ˆè´¹è€…</code>èƒ½å¤Ÿåœ¨ä¸åŒçš„çº¿ç¨‹ç”šè‡³ä¸åŒçš„è¿›ç¨‹ä¸­ç‹¬ç«‹ã€å¹¶è¡Œåœ°è¿è¡Œã€‚è¿™ç§éš”ç¦»æ€§æ˜¯ Android å®ç°æµç•… UI å’Œé«˜ä¿çœŸåª’ä½“æ’­æ”¾çš„å…³é”®ï¼š</p>
<ol>
<li><strong>çº¿ç¨‹éš”ç¦»ï¼ˆè·ç¦»è¿‘ï¼‰ï¼š</strong> ç”Ÿäº§è€…ï¼ˆå¦‚åº”ç”¨ä¸­çš„ RenderThread æˆ– GLSurfaceView çš„ä¸“ç”¨æ¸²æŸ“çº¿ç¨‹ï¼‰å¯ä»¥åœ¨é«˜é¢‘ä¸‹ï¼ˆå¦‚ 60FPSï¼‰æ¸²æŸ“ï¼Œè€Œä¸ä¼šé˜»å¡æ¥æ”¶è¯¥ç¼“å†²åŒºçš„æ¶ˆè´¹è€…ï¼ˆé€šå¸¸æ˜¯ <code>SurfaceFlinger</code>ï¼‰ã€‚è¿™ç¡®ä¿äº†æ¸²æŸ“ä»»åŠ¡ä¸ä¼šæ‹–ç´¯åº”ç”¨çš„ä¸» UI çº¿ç¨‹ã€‚</li>
<li><strong>è¿›ç¨‹éš”ç¦»ï¼ˆè·ç¦»è¿œï¼‰ï¼š</strong> <code>Surface</code> å¯¹è±¡å®ç°äº† <code>Parcelable</code> æ¥å£ï¼Œå› æ­¤å¯ä»¥å®‰å…¨åœ°é€šè¿‡ <code>Binder IPC</code> æœºåˆ¶è·¨è¶Šè¿›ç¨‹è¾¹ç•Œä¼ è¾“ã€‚è¿™ç§èƒ½åŠ›ä½¿å¾—ä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹çš„æ¸²æŸ“ç»“æœèƒ½å¤Ÿç›´æ¥æäº¤ç»™å¦ä¸€ä¸ªè¿›ç¨‹ä¸­çš„æ¥æ”¶è€…ï¼ˆä¾‹å¦‚ <code>SurfaceFlinger</code> æˆ– <code>SurfaceView</code>ï¼‰ã€‚</li>
</ol>
<p><strong>SF ä¹‹å¤–çš„æ¶ˆè´¹è€… (åº”ç”¨ç¨‹åºä¸»åŠ¨é€‰æ‹©çš„æ•°æ®å¤„ç†æµ)</strong></p>
<ol>
<li><strong>SurfaceTexture (GPU çº¹ç†æ¶ˆè´¹è€…):</strong>
<ul>
<li><strong>åœºæ™¯ï¼š</strong> å®æ—¶ç›¸æœºé¢„è§ˆã€å°†è§†é¢‘æµä½œä¸ºçº¹ç†åº”ç”¨åˆ° 3D æ¸¸æˆæˆ– AR åœºæ™¯ä¸­ã€‚</li>
<li><strong>æœºåˆ¶ï¼š</strong> <code>SurfaceTexture</code> å……å½“ <code>BufferQueue</code> çš„æ¶ˆè´¹è€…ã€‚å®ƒæ¥æ”¶ç”Ÿäº§è€…ï¼ˆå¦‚ç›¸æœºé©±åŠ¨æˆ–è§†é¢‘è§£ç å™¨ï¼‰æäº¤çš„å¸§æ•°æ®ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª <strong>OpenGL ES çº¹ç†</strong>ï¼Œä¾›åº”ç”¨å†…çš„ GLES çº¿ç¨‹ç»‘å®šå’Œä½¿ç”¨ã€‚è¿™å…è®¸å¼€å‘è€…åœ¨ GPU ä¸Šç›´æ¥å¤„ç†è¿™äº›æ•°æ®ï¼ˆä¾‹å¦‚åº”ç”¨æ»¤é•œã€è¿›è¡Œå‡ ä½•å˜æ¢ï¼‰ï¼Œ<strong>è€Œæ— éœ€å°†æ•°æ®æäº¤ç»™ SurfaceFlinger è¿›è¡Œç³»ç»Ÿåˆæˆ</strong>ã€‚è¿™ç§è·¯å¾„å…è®¸åº”ç”¨åœ¨æœ¬åœ° GPU ä¸Šå®Œæˆæ¸²æŸ“å’Œå¤„ç†ï¼Œä½†æœ€ç»ˆå¦‚æœéœ€è¦æ˜¾ç¤ºï¼Œåº”ç”¨é€šå¸¸éœ€è¦å°†è¿™ä¸ª<strong>å¤„ç†åçš„çº¹ç†</strong>ç»˜åˆ¶åˆ°è‡ªå·±çš„ä¸» <code>Surface</code> ä¸Šï¼ˆæœ€ç»ˆä»ç”± SF åˆæˆï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ImageReader (æ•°æ®å¤„ç†æ¶ˆè´¹è€…):</strong>
<ul>
<li><strong>åœºæ™¯ï¼š</strong> æˆªå±ã€å›¾åƒåˆ†æï¼ˆå¦‚äººè„¸è¯†åˆ«ï¼‰ã€è‡ªå®šä¹‰ç›¸æœºæ•è·åŸå§‹å¸§ã€‚</li>
<li><strong>æœºåˆ¶ï¼š</strong> ImageReader ä¹Ÿå……å½“ BufferQueue çš„æ¶ˆè´¹è€…ã€‚å®ƒå…è®¸åº”ç”¨ç¨‹åºä»é˜Ÿåˆ—ä¸­è·å–å›¾åƒæ•°æ®ï¼ˆImage å¯¹è±¡ï¼‰ï¼Œé€šå¸¸æ˜¯åŸå§‹åƒç´ æ•°æ®ã€‚æ•°æ®éšåè¢«å‘é€åˆ°åº”ç”¨çš„ CPU/NDK å±‚ï¼Œç”¨äºè¿›ä¸€æ­¥çš„è½¯ä»¶å¤„ç†ã€åˆ†ææˆ–ä¿å­˜ï¼Œ<strong>å®Œå…¨ç»•è¿‡äº† Android çš„ç¡¬ä»¶åŠ é€Ÿæ˜¾ç¤ºè·¯å¾„</strong>ï¼Œæ˜¯çº¯ç²¹çš„æ•°æ®è·å–å’Œå¤„ç†é€šé“ã€‚</li>
</ul>
</li>
</ol>
<p><strong>SF è·¨è¿›ç¨‹/è·¨çº¿ç¨‹èƒ½åŠ›çš„å¸¸è§ç¤ºä¾‹ (æ˜¾ç¤ºåœºæ™¯)</strong></p>
<ul>
<li><strong>è§†é¢‘æ’­æ”¾ (SurfaceView åœºæ™¯):</strong>
<ul>
<li><strong>ç”Ÿäº§è€…ï¼š</strong> è§†é¢‘è§£ç å™¨ï¼ˆé€šå¸¸æ˜¯è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ä¸­çš„ç¡¬ä»¶æˆ–ç³»ç»ŸæœåŠ¡ï¼‰ã€‚</li>
<li><strong>æ¶ˆè´¹è€…ï¼š</strong> SurfaceFlingerã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> è§£ç å™¨å°†è§†é¢‘å¸§ç›´æ¥ç»˜åˆ¶åˆ°ä» SurfaceView è·å¾—çš„ Surface ä¸Šã€‚ç”±äº SurfaceFlinger ç›´æ¥ä» BufferQueue è·å–ç¼“å†²åŒºï¼Œæ•´ä¸ªè¿‡ç¨‹<strong>å®Œå…¨ç»•è¿‡äº†åº”ç”¨çš„ä¸» CPU/GPU ç®¡çº¿</strong>ã€‚è¿™å®ç°äº†é›¶æ‹·è´çš„æ•°æ®è·¯å¾„ï¼Œå¯¹é«˜ååé‡çš„è§†é¢‘å¸§ä¼ è¾“è‡³å…³é‡è¦ï¼Œç¡®ä¿äº†ä½å»¶è¿Ÿå’Œä½åŠŸè€—ã€‚</li>
</ul>
</li>
<li><strong>å¤šçª—å£/ç³»ç»Ÿ UI åˆæˆ (SurfaceFlinger æ ¸å¿ƒåŠŸèƒ½):</strong>
<ul>
<li><strong>ç”Ÿäº§è€…ï¼š</strong> åº”ç”¨ A çš„ä¸»æ¸²æŸ“ Layer (Native View/Compose çš„ RenderThread æäº¤)ï¼›åº”ç”¨ B çš„ç‹¬ç«‹ Layerï¼›ç³»ç»ŸçŠ¶æ€æ å’Œå¯¼èˆªæ  Layerã€‚</li>
<li><strong>æ¶ˆè´¹è€…ï¼š</strong> SurfaceFlingerã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> SurfaceFlinger æ¥æ”¶æ¥è‡ª<strong>å¤šä¸ªä¸åŒåº”ç”¨è¿›ç¨‹</strong>å’Œ<strong>ç³»ç»Ÿè¿›ç¨‹</strong>çš„ç‹¬ç«‹ Layerï¼Œå¹¶ç®¡ç†å®ƒä»¬çš„ Z è½´é¡ºåºã€ä½ç½®å’Œå˜æ¢ã€‚è¿™ç§éš”ç¦»ç¡®ä¿äº†å³ä½¿ä¸€ä¸ªåº”ç”¨å´©æºƒï¼Œä¹Ÿä¸ä¼šå½±å“å…¶ä»–åº”ç”¨æˆ–ç³»ç»Ÿ UI çš„æ˜¾ç¤ºã€‚</li>
</ul>
</li>
<li><strong>è¿›ç¨‹å¤– WebView æ¸²æŸ“ (OOPR æ¨¡å¼):</strong>
<ul>
<li><strong>ç”Ÿäº§è€…ï¼š</strong> æ²™ç®±éš”ç¦»çš„ Chrome Render Processï¼ˆä¸€ä¸ªç‹¬ç«‹è¿›ç¨‹ï¼‰ã€‚</li>
<li><strong>æ¶ˆè´¹è€…ï¼š</strong> SurfaceFlingerã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> WebView çš„å†…å®¹æ¸²æŸ“å‘ç”Ÿåœ¨åº”ç”¨ä¸»è¿›ç¨‹ä¹‹å¤–ã€‚æ¸²æŸ“è¿›ç¨‹å°†ç»“æœæäº¤åˆ°ä¸“ç”¨çš„ Surface ç¼“å†²åŒºï¼ŒSurfaceFlinger å°†å…¶ä½œä¸ºç‹¬ç«‹ Layer åˆæˆã€‚è¿™æä¾›äº†æä½³çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§éš”ç¦»ï¼Œå³ä½¿ Web å†…å®¹ä¸­çš„ JavaScript å¯¼è‡´æ¸²æŸ“è¿›ç¨‹å´©æºƒï¼Œä¸»æœºåº”ç”¨ä¹Ÿå¯ä»¥é€šè¿‡å›è°ƒæœºåˆ¶æ¢å¤ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6"><strong>1.2. ç³»ç»Ÿåˆæˆå™¨ï¼š<code>SurfaceFlinger</code> ä¸ç¡¬ä»¶åˆæˆå™¨ (<code>HWC</code>) çš„è§’è‰²</strong></h3>
<p><code>SurfaceFlinger (SF)</code> æ˜¯ Android çš„æ ¸å¿ƒç³»ç»ŸæœåŠ¡ï¼Œå……å½“æ‰€æœ‰å¯è§ UI å…ƒç´ çš„æœ€ç»ˆåˆæˆå™¨ã€‚</p>
<h4 data-id="heading-7"><code>SurfaceFlinger (SF)</code> çš„èŒè´£</h4>
<p><code>SF</code> æ¥æ”¶æ¥è‡ªæ‰€æœ‰å¯è§çª—å£å’Œç³»ç»Ÿ UI ç»„ä»¶çš„å›¾å½¢ç¼“å†²åŒºï¼Œè¿™äº›ç¼“å†²åŒºé€šè¿‡ <code>Layer</code> çš„å½¢å¼æäº¤ç»™ <code>SF</code> ã€‚<br/>
<code>SF</code> çš„ä»»åŠ¡æ˜¯ï¼š</p>
<ul>
<li>ç®¡ç†æ‰€æœ‰ <code>Layer</code> çš„ Z è½´é¡ºåºã€ä½ç½®ã€å˜æ¢å’Œå‰ªè£ã€‚</li>
<li>æ ¹æ® <code>Layer</code> çš„å±æ€§ï¼ˆä¾‹å¦‚é€æ˜åº¦ã€ç›¸å¯¹ Z è½´ã€åœ†è§’ç­‰ï¼‰å†³å®šå¦‚ä½•è¿›è¡Œåˆæˆã€‚</li>
<li>å°†æœ€ç»ˆåˆæˆçš„ç»“æœå‘é€ç»™æ˜¾ç¤ºç¡¬ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-8"><code>SurfaceFlinger</code> çš„æ ¸å¿ƒåœ°ä½</h4>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ¸²æŸ“æŠ€æœ¯æ ˆï¼ˆ<code>Native View</code>, <code>Compose</code>, <code>Flutter</code>, <code>WebView</code>, <code>GLSurfaceView</code>ï¼‰ï¼Œå®ƒä»¬æœ€ç»ˆéƒ½å¿…é¡»é€šè¿‡å„è‡ªçš„ <code>Surface</code> æ¥å£å‘ <code>BufferQueue</code> æäº¤æ¸²æŸ“å®Œæˆçš„å›¾å½¢ç¼“å†²åŒºã€‚<br/>
å› æ­¤ï¼Œå¯ä»¥ç¡®å®šï¼Œåœ¨ Android å¹³å°ä¸Šï¼Œæ‰€æœ‰äº”ç§æŠ€æœ¯è·¯çº¿çš„æ¸²æŸ“ç»“æœï¼Œéƒ½ä¼šä»¥ç‹¬ç«‹çš„æˆ–åº”ç”¨ä¸» Layer çš„å½¢å¼ï¼Œç»Ÿä¸€ç”± <code>SurfaceFlinger</code> æ¥æ¥æ”¶å’Œå¤„ç†ï¼Œè¿™æ˜¯å®ƒä»¬æœ€ç»ˆå¾—ä»¥åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„å¿…ç»ä¹‹è·¯ã€‚</p>
<h4 data-id="heading-9">ç¡¬ä»¶åˆæˆå™¨ (HWC) ä¼˜åŒ–</h4>
<p>ä¸ºäº†æœ€å¤§åŒ–æ€§èƒ½å’Œé™ä½åŠŸè€—ï¼Œ<code>SurfaceFlinger</code> å€¾å‘äºå°†åˆæˆä»»åŠ¡å¸è½½ç»™ç¡¬ä»¶åˆæˆå™¨ï¼ˆ<code>Hardware Composer, HWC</code>ï¼‰ã€‚<br/>
<code>HWC</code> æ˜¯ä¸€ä¸ª SoC å‚å•†å®ç°çš„ HALï¼ˆç¡¬ä»¶æŠ½è±¡å±‚ï¼‰æ¨¡å—ï¼Œèƒ½å¤Ÿç›´æ¥å¤„ç† Layer çš„åˆæˆï¼Œé€šå¸¸ä»¥é›¶æ‹·è´çš„æ–¹å¼æ“ä½œç¼“å†²åŒºã€‚è¿™æå¤§åœ°æé«˜äº†æ•ˆç‡ã€‚<br/>
åªæœ‰å½“ <code>Layer</code> å…·æœ‰å¤æ‚çš„æ··åˆã€å˜æ¢æˆ–ç‰¹æ•ˆï¼Œ<code>HWC</code> æ— æ³•ç›´æ¥å¤„ç†æ—¶ï¼Œ<code>SF</code> æ‰ä¼šé€€å›åˆ°ä½¿ç”¨ GPU è¿›è¡Œåˆæˆï¼ˆGPU Compositingï¼‰ï¼Œè¿™ä¼šå¢åŠ ç³»ç»Ÿçš„æ¸²æŸ“å¼€é”€ã€‚</p>
<h3 data-id="heading-10"><strong>1.3. ç»˜åˆ¶æŒ‡ä»¤æ¨¡å¼å¯¹æ¯”ï¼šå³æ—¶ä¸ä¿ç•™</strong></h3>
<p>UI æ¡†æ¶åœ¨ç”Ÿæˆç»˜å›¾æŒ‡ä»¤æ—¶ï¼Œä¸»è¦éµå¾ªä¸¤ç§æ¨¡å¼ï¼šä¿ç•™æ¨¡å¼ (Retained Mode) å’Œå³æ—¶æ¨¡å¼ (Immediate Mode)ã€‚</p>
<h4 data-id="heading-11">ä¿ç•™æ¨¡å¼ (Retained Mode)</h4>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒUI å…ƒç´ çš„ç»“æ„å’Œå±æ€§è¢«å­˜å‚¨ä¸ºä¸€ä¸ªåœºæ™¯å›¾æˆ–å¯¹è±¡å±‚çº§ç»“æ„ï¼ˆåœ¨ Android <code>Native/Compose</code> ä¸­ç§°ä¸º <code>RenderNode</code> æˆ– <code>Display List</code>ï¼‰ã€‚å½“ UI çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç³»ç»Ÿåªéœ€æ›´æ–°åœºæ™¯å›¾ä¸­å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯é‡æ–°æ‰§è¡Œæ‰€æœ‰ç»˜å›¾æŒ‡ä»¤ã€‚è¿™ç§æ¨¡å¼éå¸¸é€‚åˆåŠ¨æ€æˆ–é¢‘ç¹å˜åŒ–çš„ UIï¼Œå› ä¸ºå®ƒå…è®¸æ›´çµæ´»å’Œé«˜æ•ˆçš„æ›´æ–° ã€‚Android Native Views å’Œ Jetpack Compose éƒ½æ˜¯åŸºäºä¿ç•™æ¨¡å¼çš„å®ç°ã€‚</p>
<h4 data-id="heading-12">å³æ—¶æ¨¡å¼ (Immediate Mode)</h4>
<p>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯ä¸€æ¬¡å¸§æ›´æ–°ï¼Œåº”ç”¨ç¨‹åºéƒ½éœ€è¦é‡æ–°å‘é€å®Œæ•´çš„ç»˜å›¾æŒ‡ä»¤åºåˆ—ã€‚ç³»ç»Ÿä¸å­˜å‚¨ UI çŠ¶æ€å›¾ã€‚å³æ—¶æ¨¡å¼è¦æ±‚å¼€å‘è€…å¯¹åº•å±‚çš„å›¾å½¢ APIï¼ˆå¦‚ OpenGL ES æˆ– Skia Canvasï¼‰æœ‰æ›´ç›´æ¥çš„æ§åˆ¶ã€‚å®ƒåœ¨é™æ€ UI ä¸­å¯èƒ½èµ„æºå ç”¨è¾ƒå°‘ï¼Œä½†åœ¨åŠ¨æ€ UI ä¸­å¯èƒ½æ€§èƒ½è¾ƒå·®ï¼Œé™¤éåº•å±‚å¼•æ“è¿›è¡Œäº†é«˜æ•ˆä¼˜åŒ–ï¼ˆå¦‚ Flutter çš„ Skiaï¼‰ã€‚<br/>
GLSurfaceView å’Œ Flutter çš„æ ¸å¿ƒæ¸²æŸ“æµç¨‹å±äºå³æ—¶æ¨¡å¼ã€‚</p>
<p><strong>ç»˜åˆ¶æ¨¡å¼ (Immediate vs. Retained) ç‰¹æ€§å¯¹æ¯”</strong></p>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">ä¿ç•™æ¨¡å¼ (Retained Mode)</th><th align="left">å³æ—¶æ¨¡å¼ (Immediate Mode)</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒæœºåˆ¶</strong></td><td align="left">åœºæ™¯å›¾/æ˜¾ç¤ºåˆ—è¡¨ (RenderNode) å­˜å‚¨çŠ¶æ€</td><td align="left">ç«‹å³æ‰§è¡Œç»˜å›¾æŒ‡ä»¤ï¼Œä¸å­˜å‚¨çŠ¶æ€</td></tr><tr><td align="left"><strong>æ›´æ–°æ•ˆç‡</strong></td><td align="left">é«˜æ•ˆ (ä»…é‡ç»˜å˜åŠ¨éƒ¨åˆ†)</td><td align="left">ä¾èµ–æ¡†æ¶/å¼•æ“ (Skia ä¼˜åŒ–äº†åº•å±‚æ•ˆç‡)</td></tr><tr><td align="left"><strong>çº¿ç¨‹éš”ç¦»</strong></td><td align="left">RenderThread æœºåˆ¶æä¾›åŸç”Ÿçš„ CPU/GPU éš”ç¦»</td><td align="left">éœ€ç”¨æˆ·/å¼•æ“è‡ªè¡Œå®ç°ä¸“ç”¨ Raster/GLES çº¿ç¨‹</td></tr><tr><td align="left"><strong>ä»£è¡¨æŠ€æœ¯</strong></td><td align="left">Android Native View, Jetpack Compose</td><td align="left">Flutter (Skia), GLSurfaceView</td></tr></tbody></table>
<h2 data-id="heading-13"><strong>2. ä¿ç•™æ¨¡å¼ä¸‹çš„åŸç”Ÿ UI æ¸²æŸ“ç®¡çº¿ï¼šNative View ä¸ Compose</strong></h2>
<p>Android åŸç”Ÿ UI æ¡†æ¶ï¼ˆæ— è®ºæ˜¯åŸºäº View è¿˜æ˜¯ Composeï¼‰éƒ½ä¾èµ–äº AOSP çš„ä¿ç•™æ¨¡å¼æ¸²æŸ“æ¶æ„ï¼Œæ ¸å¿ƒåœ¨äº <code>RenderThread</code>ã€‚</p>
<h3 data-id="heading-14"><strong>2.1. Android åŸç”Ÿ View æ¸²æŸ“æµç¨‹ï¼šRecord, Execute ä¸ RenderThread</strong></h3>
<p>å½“ <code>View</code> å±‚æ¬¡ç»“æ„éœ€è¦æ›´æ–°æ—¶ï¼Œæ¸²æŸ“æµç¨‹åœ¨åº”ç”¨è¿›ç¨‹å†…åˆ†ä¸¤ä¸ªä¸»è¦é˜¶æ®µè¿›è¡Œï¼š</p>
<h4 data-id="heading-15">1. UI çº¿ç¨‹ï¼šè®°å½• (<code>Record</code>) é˜¶æ®µ</h4>
<p>UI çº¿ç¨‹ï¼ˆæˆ–ä¸»çº¿ç¨‹ï¼‰è´Ÿè´£æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘ã€å¸ƒå±€è®¡ç®—ï¼ˆMeasure å’Œ Layoutï¼‰ï¼Œä»¥åŠç»˜å›¾æŒ‡ä»¤çš„è®°å½•ã€‚åœ¨ç¡¬ä»¶åŠ é€Ÿå¼€å¯çš„å‰æä¸‹ï¼Œ<code>View#draw(Canvas)</code>çš„è°ƒç”¨ä¸ä¼šç›´æ¥æ‰§è¡Œ GPU æ¸²æŸ“ï¼Œè€Œæ˜¯å°†ç»˜å›¾æ“ä½œè®°å½•åˆ°å…³è”çš„ <code>RenderNode</code>ï¼ˆå³ <code>Display List</code>ï¼‰ä¸­ã€‚</p>
<ul>
<li><strong>æ€§èƒ½é£é™©ï¼š</strong> å°½ç®¡è®°å½• Display List é€šå¸¸å¾ˆå¿«ï¼Œä½†å¦‚æœåº”ç”¨ä»£ç åœ¨æ­¤é˜¶æ®µæ¶‰åŠå¤æ‚çš„ CPU å¯†é›†å‹æ“ä½œï¼Œä¾‹å¦‚ç»˜åˆ¶åˆ° Bitmapï¼ˆè¿™ä¼šè§¦å‘ CPU è½¯ä»¶æ¸²æŸ“ï¼‰ï¼Œåˆ™ä¼šå ç”¨ UI çº¿ç¨‹æ—¶é—´ï¼Œå¯èƒ½å¯¼è‡´å¸§ç‡ä¸‹é™ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F476477559" target="_blank" title="https://zhuanlan.zhihu.com/p/476477559" ref="nofollow noopener noreferrer">JankæŒ‡æ ‡</a>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-16">2. RenderThreadï¼šæ‰§è¡Œ (Execute) é˜¶æ®µ</h4>
<p><code>RenderThread</code> æ˜¯ä¸€ä¸ªç³»ç»Ÿç®¡ç†çš„æ–°çº¿ç¨‹ï¼Œè‡ª Android Lollipop å¼•å…¥ï¼Œæ—¨åœ¨å°† GPU ç›¸å…³çš„é‡å‹å·¥ä½œè´Ÿè½½ä» UI çº¿ç¨‹åˆ†ç¦»å‡ºæ¥ã€‚</p>
<ul>
<li><strong>JANK éš”ç¦»ï¼š</strong> <code>RenderThread</code> çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼Œå³ä½¿ UI çº¿ç¨‹è¢«é˜»å¡ï¼ˆä¾‹å¦‚ï¼Œå› åƒåœ¾å›æ”¶æˆ–å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼‰ï¼Œå®ƒä»èƒ½ç»§ç»­æ‰§è¡Œå…ˆå‰æäº¤çš„ Display Listï¼Œä»è€Œä¿æŒåŠ¨ç”»ã€è§¦æ‘¸åé¦ˆå’Œ <code>Material Design</code> ç‰¹æ•ˆï¼ˆå¦‚æ¶Ÿæ¼ªæ•ˆæœï¼‰çš„å¹³æ»‘è¿è¡Œã€‚</li>
<li><strong>æ‰§è¡Œä¸ä¼˜åŒ–ï¼š</strong> <code>RenderThread</code> æ¥æ”¶ UI çº¿ç¨‹æäº¤çš„ <code>RenderNode</code>ï¼Œè´Ÿè´£å¯¹æŒ‡ä»¤è¿›è¡Œä¼˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œæ‰¹å¤„ç†ï¼‰ï¼Œå°†å®ƒä»¬ç¿»è¯‘æˆä½çº§çš„ GPU API è°ƒç”¨ï¼ˆGLES æˆ– Vulkanï¼‰ï¼Œå¹¶æœ€ç»ˆé€šè¿‡ <code>eglSwapBuffers()</code> æäº¤åˆ° <code>Surface</code> çš„ <code>BufferQueue</code> ä¸­ã€‚</li>
<li><strong>æ½œåœ¨çš„æ€§èƒ½é™·é˜±ï¼š</strong> æŸäº› <code>Canvas</code> æ“ä½œï¼Œå¦‚ç»˜åˆ¶éå¸¸å¤§çš„æˆ–å¤æ‚çš„ <code>Path</code> å¯¹è±¡ï¼Œåœ¨ UI çº¿ç¨‹ä¸Šçš„è®°å½•æˆæœ¬å¾ˆä½ï¼Œä½†åœ¨ <code>RenderThread</code> æ‰§è¡Œæ—¶å¯èƒ½è§¦å‘æ˜‚è´µçš„ CPU æˆ– GPU è®¡ç®—ï¼Œå¯¼è‡´ <code>RenderThread</code> æˆä¸ºæ–°çš„ç“¶é¢ˆã€‚ç³»ç»Ÿåˆ†æå·¥å…·ï¼ˆå¦‚ Systraceï¼‰å¸¸ç”¨äºè¯†åˆ«è¿™ç±»é—®é¢˜ã€‚</li>
</ul>
<p><strong>æ¸²æŸ“é©±åŠ¨é€»è¾‘ä¸ VSync ä¾èµ–</strong></p>
<ul>
<li><strong>æ¸²æŸ“çº¿ç¨‹ï¼š</strong> ä¸“ç”¨ <code>RenderThread</code>ã€‚</li>
<li><strong>é©±åŠ¨æœºåˆ¶ï¼š</strong> <strong>å¼ºä¾èµ– VSync ä¿¡å·ã€‚</strong> å½“åº”ç”¨éœ€è¦æ¸²æŸ“æ—¶ï¼Œç³»ç»Ÿä¼šå‘ <code>Choreographer</code> æ³¨å†Œä¸€ä¸ªå›è°ƒï¼Œç­‰å¾… <code>VSync</code> ä¿¡å·çš„åˆ°æ¥ã€‚</li>
<li><strong>é¢‘ç‡æ§åˆ¶ï¼š</strong> æ¸²æŸ“é¢‘ç‡ä¸»è¦ç”±ç³»ç»Ÿ <code>VSync é¢‘ç‡</code>ï¼ˆé€šå¸¸ 60Hz æˆ– 120Hzï¼‰æ§åˆ¶ã€‚åº”ç”¨é€šè¿‡ <code>View.invalidate()</code> æ ‡è®° <code>View</code> ä¸ºè„ï¼Œä½†å®é™…çš„ç»˜åˆ¶æ‰§è¡Œå§‹ç»ˆä¸ <code>VSync</code> åŒæ­¥ï¼Œä»¥é¿å…ç”»é¢æ’•è£‚ã€‚</li>
</ul>
<h4 data-id="heading-17">åŸç”Ÿ View æ¸²æŸ“æµç¨‹</h4>
<p>æ—¶åºå›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/798ae6ffa43b42c194fe7292b8475ea0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=0lmRV1St0QkWybG1WhxQYVmJK%2BA%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¥æµç¨‹æè¿°äº† Native View ä»è¾“å…¥äº‹ä»¶åˆ°æœ€ç»ˆæ˜¾ç¤ºçš„åºåˆ—ï¼š</p>
<ol>
<li><strong>Application UI Threadï¼š</strong> æ‰§è¡Œ <code>View</code> å±‚æ¬¡ç»“æ„çš„ <code>Measure</code> &amp; <code>Layout</code> é˜¶æ®µï¼Œç¡®å®šæ‰€æœ‰ç»„ä»¶çš„å°ºå¯¸å’Œä½ç½®ã€‚</li>
<li><strong>Application UI Threadï¼š</strong> æ‰§è¡Œ <code>Record</code> é˜¶æ®µï¼Œè°ƒç”¨ <code>View#draw</code>ï¼Œå°†æ‰€æœ‰ç»˜å›¾æ“ä½œï¼ˆå¦‚ç»˜åˆ¶æ–‡æœ¬ã€å½¢çŠ¶ï¼‰è®°å½•åˆ° <code>RenderNode (Display List)</code> ä¸­ã€‚</li>
<li><strong>Application UI Thread -&gt; RenderThreadï¼š</strong> åˆ†å‘è®°å½•å¥½çš„ <code>RenderNode</code> æ•°æ®åˆ°ç‹¬ç«‹çš„ <strong>RenderThread</strong>ã€‚</li>
<li><strong>RenderThreadï¼š</strong> ä¼˜åŒ– <code>RenderNode</code> ä¸­çš„æŒ‡ä»¤ï¼Œå°†å…¶è½¬åŒ–ä¸ºä½çº§ GPU è°ƒç”¨ (GLES æˆ– Vulkan)ã€‚</li>
<li><strong>RenderThread -&gt; GPUï¼š</strong> å‘å‡º <strong>å…‰æ …åŒ–æŒ‡ä»¤</strong>ï¼Œåœ¨ <code>VSync</code> ä¿¡å·é©±åŠ¨ä¸‹ï¼Œåœ¨åº”ç”¨ç‹¬å çš„ç¼“å†²åŒºä¸­ç»˜åˆ¶ View çš„åƒç´ å†…å®¹ã€‚<strong>æ­¤æ­¥éª¤åœ¨åº”ç”¨è¿›ç¨‹å†…å®Œæˆæ‰€æœ‰ UI å…ƒç´ çš„ç»˜åˆ¶ã€‚</strong></li>
<li><strong>RenderThread -&gt; SurfaceFlingerï¼š</strong> é€šè¿‡ <code>EGLSurface</code> è°ƒç”¨ <code>eglSwapBuffers()</code>ï¼Œå°†ç»˜åˆ¶å®Œæˆçš„ç¼“å†²åŒºæäº¤ç»™ç³»ç»Ÿåˆæˆå™¨<code>SF</code>ã€‚</li>
<li><strong>SurfaceFlinger/HWCï¼š</strong> æ¥æ”¶åº”ç”¨ç¼“å†²åŒºï¼Œè¿›è¡Œ <strong>ç³»ç»Ÿçº§åˆæˆ (Composition)</strong> å’Œæœ€ç»ˆæ˜¾ç¤ºã€‚<code>HWC</code> ç¡®å®šæœ€ä½³åˆæˆè·¯å¾„ï¼Œå°†æ­¤ <code>Layer</code> ä¸çŠ¶æ€æ ã€å¯¼èˆªæ ã€å…¶ä»–åº”ç”¨çª—å£ç­‰æ‰€æœ‰ <code>Layer</code> åˆå¹¶ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚</li>
</ol>
<h3 data-id="heading-18"><strong>2.2. Jetpack Compose æ¸²æŸ“ç®¡çº¿ï¼šå£°æ˜å¼ä¸ GraphicsLayer ä¼˜åŒ–</strong></h3>
<p><code>Jetpack Compose</code> é‡‡ç”¨äº†å£°æ˜å¼ UI æ¨¡å‹ï¼Œå…¶æ¸²æŸ“ç®¡çº¿éµå¾ª <code>Composition</code>ï¼ˆèŠ‚ç‚¹åˆ›å»ºï¼‰ã€<code>Measure</code>ã€<code>Layout</code>ï¼Œæœ€ç»ˆåˆ°è¾¾ <code>Drawing</code> é˜¶æ®µã€‚å°½ç®¡å…¶ç¼–ç¨‹èŒƒå¼å‘ç”Ÿäº†æ ¹æœ¬æ€§å˜åŒ–ï¼Œä½†åœ¨ Android å¹³å°ä¸Šï¼Œ<code>Compose</code> æœ€ç»ˆä»å¤ç”¨ <code>Native View</code> çš„åº•å±‚ç¡¬ä»¶åŠ é€Ÿæœºåˆ¶ã€‚</p>
<h4 data-id="heading-19"><code>Draw</code> é˜¶æ®µä¸ <code>Canvas</code> çš„å…³è”</h4>
<p><code>Compose</code> æ¡†æ¶åœ¨ <code>Draw</code> é˜¶æ®µï¼Œåº•å±‚ä»ç„¶ä¾èµ–äº <code>View</code> ç³»ç»Ÿçš„ <code>Canvas API</code> è¿›è¡Œå®é™…çš„åƒç´ æ“ä½œ ã€‚<br/>
ç„¶è€Œï¼Œ<code>Compose</code> é€šè¿‡ <code>DrawScope</code> æŠ½è±¡ç®€åŒ–äº†ä¼ ç»Ÿçš„ <code>View</code> ç»˜å›¾æ¨¡å‹ï¼Œä¾‹å¦‚æ›¿å¼€å‘è€…ç®¡ç†å¤æ‚çš„ <code>Paint</code> å¯¹è±¡é…ç½®ï¼Œç¡®ä¿æ€§èƒ½ä¼˜åŒ–ã€‚<br/>
<strong>GraphicsLayer ä¸ RenderNode çš„å¤ç”¨</strong><br/>
<code>Compose</code>é€šè¿‡ <code>Modifier.graphicsLayer</code> å¼•å…¥äº†ä¸ <code>Native View</code> ä¸­ <code>RenderNode</code> ç›¸ä¼¼çš„æ¦‚å¿µ ã€‚<br/>
ä½¿ç”¨ <code>graphicsLayer</code> æ„å‘³ç€ <code>Composable</code> ç»„ä»¶çš„ç»˜å›¾æŒ‡ä»¤ä¼šè¢«æ•è·å¹¶ç¼“å­˜åˆ°ä¸€ä¸ª <code>Layer</code> ä¸­ ã€‚</p>
<ul>
<li><strong>æ€§èƒ½æ”¶ç›Šï¼š</strong> è¿™ç§ç¼“å­˜æœºåˆ¶å…è®¸æ¸²æŸ“ç®¡çº¿é«˜æ•ˆåœ°é‡å‘è¿™äº›ç»˜å›¾æŒ‡ä»¤ï¼Œå°¤å…¶é€‚ç”¨äºé¢‘ç¹çš„å‡ ä½•å˜æ¢ã€é€æ˜åº¦å˜åŒ–æˆ–ç¼©æ”¾åŠ¨ç”»ã€‚ä¸€æ—¦æŒ‡ä»¤è¢«æ•è·ï¼ŒRenderThread å¯ä»¥åœ¨ä¸ä¾èµ– UI çº¿ç¨‹é‡æ–°æ‰§è¡Œ Composable ä»£ç çš„æƒ…å†µä¸‹ï¼Œé‡å¤æ‰§è¡Œè¿™äº›å·²ç¼“å­˜çš„æŒ‡ä»¤ã€‚</li>
</ul>
<h4 data-id="heading-20">Offscreen Rasterization (ç¦»å±å…‰æ …åŒ–)</h4>
<p><code>graphicsLayer</code> çš„è¿›ä¸€æ­¥ä¼˜åŒ–æ˜¯ç¦»å±å…‰æ …åŒ–ï¼Œä¹Ÿè¢«ç§°ä¸ºçº¹ç†ç¼“å­˜ã€‚<br/>
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>RenderThread</code> ä¼šæ‰§è¡Œ <code>RenderNode</code> ä¸­çš„æŒ‡ä»¤ï¼Œå¹¶å°†ç»“æœæ•è·åˆ°ä¸€ä¸ªç¦»å± GPU çº¹ç†ä¸­ã€‚<br/>
åœ¨åç»­çš„å¸§ä¸­ï¼Œ<code>RenderThread</code> åªéœ€è¦å‘é€ä¸€ä¸ªç®€å•çš„æŒ‡ä»¤ï¼šâ€œç»˜åˆ¶è¿™ä¸ªçº¹ç†â€ï¼Œè¿™æå¤§å‡å°‘äº† CPU å’Œ GPU çš„é‡å¤è®¡ç®—ï¼Œå°¤å…¶å¯¹äºå¤æ‚çš„ã€ä¸å¸¸å˜åŒ–çš„ç»„ä»¶ï¼ˆå¦‚ <code>LazyList</code> ä¸­æ»šåŠ¨çš„æ¡ç›®ï¼‰çš„æ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-21">æ¸²æŸ“ç®¡çº¿æ€§èƒ½ç“¶é¢ˆèšç„¦</h4>
<p>åŸç”Ÿ View å’Œ Compose å…±äº« RenderThread æ‰§è¡Œç®¡çº¿ï¼Œè¿™è¡¨æ˜å®ƒä»¬çš„ GPU æ€§èƒ½ä¼˜åŒ–é€”å¾„æ˜¯ç›¸ä¼¼çš„ã€‚å®ƒä»¬çš„ä¸»è¦æ€§èƒ½å·®å¼‚ä½“ç°åœ¨ UI çº¿ç¨‹çš„è®°å½•é˜¶æ®µï¼š</p>
<ul>
<li>åŸç”Ÿ View çš„æ€§èƒ½ç“¶é¢ˆé€šå¸¸é›†ä¸­åœ¨ä¼ ç»Ÿçš„ View å±‚æ¬¡ç»“æ„éå†å’Œ Measure/Layout æ•ˆç‡ä¸Šã€‚</li>
<li>Compose çš„æ€§èƒ½ç“¶é¢ˆåˆ™é›†ä¸­åœ¨ Composition/Recomposition é€»è¾‘çš„æ•ˆç‡å’ŒçŠ¶æ€ç®¡ç†ä¸Šã€‚<br/>
å³ä½¿ RenderThread éš”ç¦»äº† GPU æ‰§è¡Œï¼Œå¦‚æœ Composition æˆ– Layout é˜¶æ®µè€—æ—¶è¶…è¿‡æ¯å¸§é¢„ç®—ï¼ˆä¾‹å¦‚ 16msï¼‰ï¼ŒUI çº¿ç¨‹çš„é˜»å¡ä»ä¼šå¯¼è‡´æ–°çš„ RenderNode æ— æ³•åŠæ—¶æäº¤ï¼Œä»è€Œå¼•å‘ JANKã€‚å› æ­¤ï¼Œæ— è®ºæ˜¯ Native è¿˜æ˜¯ Composeï¼Œä¼˜åŒ–ç­–ç•¥çš„é‡ç‚¹éƒ½å¿…é¡»æ”¾åœ¨å‡å°‘ UI çº¿ç¨‹çš„è´Ÿè½½ä¸Šã€‚</li>
</ul>
<p><strong>æ¸²æŸ“é©±åŠ¨é€»è¾‘ä¸ VSync ä¾èµ–</strong></p>
<ul>
<li><strong>æ¸²æŸ“çº¿ç¨‹ï¼š</strong> å…±äº« AOSP çš„ RenderThreadã€‚</li>
<li><strong>é©±åŠ¨æœºåˆ¶ï¼š</strong> <strong>å¼ºä¾èµ– VSync ä¿¡å·ã€‚</strong> Compose çŠ¶æ€ï¼ˆStateï¼‰å˜åŒ–è§¦å‘ UI çº¿ç¨‹çš„é‡ç»„å’Œå¸ƒå±€è®¡ç®—ã€‚RenderThread çš„å…‰æ …åŒ–æ‰§è¡Œï¼ˆç»˜åˆ¶ï¼‰åŒæ ·ä¸¥æ ¼å¯¹é½ VSync è„‰å†²ã€‚</li>
<li><strong>é¢‘ç‡æ§åˆ¶ï¼š</strong> æ— æ³•ç›´æ¥æ§åˆ¶ã€‚é¢‘ç‡ç”±ç³»ç»Ÿ VSync ç¡®å®šã€‚Compose ä»…åœ¨éœ€è¦æ—¶ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰æ‰è§¦å‘æ–°çš„å¸§æäº¤ã€‚</li>
</ul>
<h4 data-id="heading-22">Jetpack Compose æ¸²æŸ“æµç¨‹</h4>
<p>æ—¶åºå›¾ï¼š<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb044636c992468d8eb5196c5104a544~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=Gsih9xpjFxOn3PZdMsAjsDkgJmk%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¥æµç¨‹æè¿°äº† Compose ä»çŠ¶æ€å˜åŒ–åˆ°æ¸²æŸ“çš„åºåˆ—ï¼š</p>
<ol>
<li><strong>UI Thread (Composition/Layout)ï¼š</strong> æ‰§è¡Œ <strong>Composition</strong> é˜¶æ®µï¼Œæ ¹æ®çŠ¶æ€ï¼ˆStateï¼‰å˜åŒ–ç¡®å®šéœ€è¦åˆ›å»ºã€æ›´æ–°æˆ–è·³è¿‡å“ªäº› UI èŠ‚ç‚¹ã€‚</li>
<li><strong>UI Thread (Composition/Layout)ï¼š</strong> æ‰§è¡Œ <strong>Measure &amp; Layout</strong> é˜¶æ®µï¼Œç¡®å®šæ‰€æœ‰ Composable ç»„ä»¶çš„æœ€ç»ˆå°ºå¯¸å’Œå±å¹•ä½ç½®ã€‚</li>
<li><strong>UI Thread (Composition/Layout)ï¼š</strong> æ‰§è¡Œ <strong>Draw Phase</strong>ï¼Œæ•è·ç»˜å›¾æ“ä½œï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ GraphicsLayer ä¸­ã€‚</li>
<li><strong>UI Thread -&gt; RenderThreadï¼š</strong> å°†å°è£…äº†ç»˜å›¾æŒ‡ä»¤çš„ RenderNode/GraphicsLayer æäº¤ç»™ RenderThreadã€‚</li>
<li><strong>RenderThread -&gt; GPUï¼š</strong> <strong>RenderThread</strong> åœ¨ VSync é©±åŠ¨ä¸‹ï¼Œåœ¨ GPU ä¸Šæ‰§è¡Œå…‰æ …åŒ–æŒ‡ä»¤ï¼ŒåŒ…æ‹¬å¤„ç†ç¦»å±çº¹ç†ç¼“å­˜ç­‰ä¼˜åŒ–ï¼Œåœ¨åº”ç”¨ Surface ç¼“å†²åŒºä¸­ç»˜åˆ¶ Composable UI åƒç´ ã€‚</li>
<li><strong>RenderThread -&gt; SurfaceFlingerï¼š</strong> è°ƒç”¨ç¼“å†²åŒºäº¤æ¢å‡½æ•°ï¼Œæäº¤æ¸²æŸ“å®Œæˆçš„å¸§ç¼“å†²åŒºã€‚</li>
<li><strong>SurfaceFlingerï¼š</strong> æ¥æ”¶ç¼“å†²åŒºï¼Œæ‰§è¡Œç³»ç»Ÿçº§åˆæˆï¼Œå¹¶æœ€ç»ˆäº¤ç»™ HWC è¿›è¡Œæ˜¾ç¤ºã€‚</li>
</ol>
<h2 data-id="heading-23"><strong>3. å³æ—¶æ¨¡å¼ä¸ä¸“ç”¨æ¸²æŸ“ç®¡çº¿ï¼šFlutter ä¸ GLSurfaceView</strong></h2>
<p>ä¸ä¾èµ– <code>AOSP</code> <code>RenderThread</code> çš„ <code>Native/Compose</code> ä¸åŒï¼Œ<code>Flutter</code> å’Œ <code>GLSurfaceView</code> ä½¿ç”¨å³æ—¶æ¨¡å¼æ¸²æŸ“ï¼Œå¹¶åˆ›å»ºäº†ç‹¬ç«‹äº <code>AOSP</code> å›¾å½¢æ ˆçš„ä¸“ç”¨æ¸²æŸ“ç¯å¢ƒã€‚</p>
<h3 data-id="heading-24"><strong>3.1. Flutter View æ¸²æŸ“ç®¡çº¿</strong></h3>
<p><code>Flutter</code> åœ¨ Android ä¸Šè¿è¡Œäºä¸€ä¸ªåä¸º <code>Flutter Embedder</code> çš„ C++ ç»„ä»¶ä¸­ï¼Œå¹¶ç®¡ç†ç€ä¸€ç»„ä¸“ç”¨çš„çº¿ç¨‹ï¼šå¹³å°çº¿ç¨‹ï¼ˆè´Ÿè´£ä¸å®¿ä¸» OS é€šä¿¡ï¼‰ã€UI çº¿ç¨‹ï¼ˆè¿è¡Œ Dart é€»è¾‘å’Œ Widget æ ‘æ„å»ºï¼‰ï¼Œä»¥åŠå…³é”®çš„ Raster Threadï¼ˆæ …æ ¼åŒ–çº¿ç¨‹ï¼‰ã€‚</p>
<h4 data-id="heading-25">åŒçº¿ç¨‹æ¨¡å‹</h4>
<p><code>Flutter</code> çš„é«˜æ€§èƒ½æ¸²æŸ“åŸºäºå…¶ä¸¥æ ¼éš”ç¦»çš„åŒçº¿ç¨‹æ¨¡å‹ï¼š</p>
<ol>
<li><strong>Dart UI Threadï¼š</strong> è´Ÿè´£å¤„ç†åº”ç”¨é€»è¾‘ã€Widget æ„å»ºã€Element Tree ç»´æŠ¤ã€Render Tree åˆ›å»ºä»¥åŠå¸ƒå±€è®¡ç®—ã€‚</li>
<li><strong>Flutter Raster Thread (ä¹Ÿç§° GPU Thread)ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªä¸“ç”¨çš„ C++ çº¿ç¨‹ï¼Œè´Ÿè´£å°† Dart UI Thread ç”Ÿæˆçš„ Layer Tree ä¼ é€’ç»™ Flutter å¼•æ“ã€‚Flutter å¼•æ“åœ¨æ­¤çº¿ç¨‹ä¸Šå°†é«˜å±‚çº§ç»˜å›¾æŒ‡ä»¤ç¿»è¯‘æˆä½å±‚çº§çš„ GPU/CPU æŒ‡ä»¤ï¼Œæ‰§è¡Œå…‰æ …åŒ–ï¼Œå¹¶åˆ©ç”¨ GPU åŠ é€Ÿï¼Œç¡®ä¿é«˜æ•ˆæ¸²æŸ“ã€‚</li>
</ol>
<blockquote>
<p>Flutter çš„ UI çº¿ç¨‹è´Ÿè´£æ„å»ºé«˜å±‚æ¬¡çš„ Layer Treeã€‚ç„¶åï¼ŒRaster Thread ä¸“é—¨è´Ÿè´£æ¶ˆè€—è¿™ä¸ª Layer Treeï¼Œå¹¶ä½¿ç”¨å…¶é›†æˆçš„ Skia æˆ–æ›´æ–°çš„ Impeller æ¸²æŸ“å¼•æ“ç”Ÿæˆä½çº§å›¾å½¢å‘½ä»¤ã€‚</p>
</blockquote>
<blockquote>
<p>Impeller æ—¨åœ¨é€šè¿‡æå‰ç¼–è¯‘ç€è‰²å™¨ç­‰æ–¹å¼ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–ç§»åŠ¨ GPU æ€§èƒ½</p>
</blockquote>
<h4 data-id="heading-26">å³æ—¶æ¨¡å¼ä¸åº•å±‚ä¼˜åŒ–</h4>
<p><code>Flutter Android Embedder</code> è´Ÿè´£ä¸ Android ç³»ç»Ÿè¿›è¡Œåº•å±‚äº¤äº’ã€‚å®ƒä¸º Flutter çš„è¾“å‡ºè·å–ä¸€ä¸ªä¸“ç”¨çš„ Android <code>Surface</code>ï¼Œä¸º <code>Raster Thread</code> è®¾ç½®å¿…è¦çš„ <code>EGL</code> æˆ– <code>Vulkan</code> ä¸Šä¸‹æ–‡ï¼Œå¹¶å¤„ç†ä½çº§çš„ç¼“å†²åŒºæäº¤é€»è¾‘ã€‚</p>
<p><code>Skia/Impeller</code> æœ€ç»ˆå°†æ•´ä¸ªåº”ç”¨ UI æ¸²æŸ“åˆ°ä¸€ä¸ª <code>Surface</code> ä¸­ï¼Œä½œä¸º Android ç³»ç»Ÿçš„ä¸€ä¸ªç‹¬ç«‹ <code>Layer</code> æäº¤ç»™ <code>SurfaceFlinger</code>ã€‚</p>
<p>è™½ç„¶ <code>Flutter</code> åœ¨ <code>Dart</code> ä¾§çš„ <code>Widget</code> æ„å»ºå’Œ <code>Render Tree</code> åˆ›å»ºå¯ä»¥è¢«è§†ä¸ºæ¯å¸§éƒ½å¯èƒ½é‡æ–°å‘ç”Ÿçš„å³æ—¶æ¨¡å¼è¡Œä¸ºï¼Œä½† <code>Skia/Impeller</code> åœ¨åº•å±‚å¯¹è¿™äº›æŒ‡ä»¤è¿›è¡Œé«˜åº¦ä¼˜åŒ–ã€æ‰¹å¤„ç†å’Œç¡¬ä»¶åŠ é€Ÿã€‚</p>
<h4 data-id="heading-27">æ¸²æŸ“æ¶æ„çš„ç‹¬ç«‹æ€§</h4>
<p>Flutter <code>Raster Thread</code> çš„å­˜åœ¨ç»•è¿‡äº† AOSP çš„ <code>RenderThread</code> æœºåˆ¶ã€‚è¿™èµ‹äºˆäº† <code>Flutter Engine</code> å¯¹æ¸²æŸ“ç®¡çº¿çš„å®Œå…¨æ§åˆ¶æƒå’Œè·¨å¹³å°æ€§èƒ½çš„ç¡®å®šæ€§ã€‚</p>
<p>è¿™ç§æ¶æ„å†³ç­–é¿å…äº†ä¸åŸç”Ÿ View ç³»ç»Ÿçš„å¤æ‚äº¤äº’ï¼Œä½†ä»£ä»·æ˜¯åœ¨é›†æˆåŸç”Ÿç»„ä»¶æ—¶éœ€è¦å¼•å…¥é¢å¤–çš„æ¡¥æ¥å±‚å’Œåˆæˆæ¨¡å¼ï¼Œå¦‚ <code>Platform Views</code>ã€‚</p>
<p><strong>æ¸²æŸ“é©±åŠ¨é€»è¾‘ä¸ VSync ä¾èµ–</strong></p>
<ul>
<li><strong>æ¸²æŸ“çº¿ç¨‹ï¼š</strong> ç‹¬ç«‹äº AOSP çš„ <code>Raster Thread</code> (C++ å®ç°)ã€‚</li>
<li><strong>é©±åŠ¨æœºåˆ¶ï¼š</strong> <code>Flutter Engine</code> å†…éƒ¨å…·å¤‡è‡ªå·±çš„è°ƒåº¦å™¨ï¼Œä½†å®ƒä¼šç›‘å¬å’Œå¯¹é½<strong>å¹³å° VSync ä¿¡å·</strong>ï¼Œä»¥ç¡®ä¿æ¸²æŸ“å¸§ä¸æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡åŒæ­¥ï¼ˆç›®æ ‡ 60 FPS æˆ– 120 FPSï¼‰ã€‚æ¸²æŸ“å·¥ä½œåœ¨ UI Thread å’Œ <code>Raster Thread</code> ä¹‹é—´åˆ†å·¥ã€‚</li>
<li><strong>é¢‘ç‡æ§åˆ¶ï¼š</strong> ç”± <code>Skia/Impeller</code> æ§åˆ¶ï¼ŒåŒæ­¥äºç³»ç»Ÿ <code>VSync</code> é¢‘ç‡ã€‚</li>
</ul>
<h4 data-id="heading-28"><strong>Flutter Platform Views çš„é›†æˆæ–¹æ¡ˆæ·±åº¦å¯¹æ¯”</strong></h4>
<p>Flutter Engine ä½œä¸ºä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ¸²æŸ“å¼•æ“ï¼Œå½“éœ€è¦åµŒå…¥åŸç”Ÿ Android Viewï¼ˆå¦‚ MapView æˆ– WebViewï¼‰æ—¶ï¼Œå¿…é¡»é‡‡ç”¨ç‰¹æ®Šçš„æœºåˆ¶æ¥æ¡¥æ¥ Flutter çš„ Raster Thread ä¸ Android çš„ Surface æœºåˆ¶ã€‚</p>
<p>Flutter æä¾›äº†ä¸¤ç§æ ¸å¿ƒæ¸²æŸ“æœºåˆ¶ï¼Œé€‰æ‹©å“ªä¸€ç§å–å†³äºå¯¹åŸç”Ÿç»„ä»¶ä¿çœŸåº¦ã€Flutter åŠ¨ç”»æ€§èƒ½ä»¥åŠæ˜¯å¦éœ€è¦ Flutter ä¾§å˜æ¢çš„éœ€æ±‚ã€‚</p>























<table><thead><tr><th align="left">æ¨¡å¼</th><th align="left">é€‚ç”¨åœºæ™¯/ä¼˜åŠ¿</th><th align="left">é™åˆ¶/åŠ£åŠ¿</th><th align="left">é€‰æ‹©åˆ¤æ–­</th></tr></thead><tbody><tr><td align="left"><strong>Hybrid Composition (HC)</strong></td><td align="left"><strong>åŸç”Ÿè§†å›¾ä¿çœŸåº¦å’Œæ€§èƒ½è‡³ä¸Šï¼š</strong> é€‚ç”¨äºå¯¹è¾“å…¥å¤„ç†ã€æœ¬åœ°è§†å›¾ç”Ÿå‘½å‘¨æœŸå’Œæ¸²æŸ“ä¿çœŸåº¦è¦æ±‚æé«˜ï¼ˆæ¥è¿‘åŸç”Ÿä½“éªŒï¼‰çš„ç»„ä»¶ã€‚å®ƒæä¾›<strong>æœ€ä½³çš„ Android View æ€§èƒ½å’Œä¿çœŸåº¦</strong></td><td align="left"><strong>ç‰ºç‰² Flutter æ€§èƒ½ï¼š</strong> ç”±äº SurfaceFlinger éœ€è¦è¿›è¡Œç³»ç»Ÿçº§åˆæˆï¼ŒFlutter UI çš„ FPS ä¼šæœ‰æ‰€é™ä½ <strong>ä¸æ”¯æŒ Flutter ä¾§å˜æ¢ï¼š</strong> æ— æ³•å¯¹åµŒå…¥çš„åŸç”Ÿè§†å›¾åº”ç”¨æ‰€æœ‰ Flutter Widget çš„å‡ ä½•å˜æ¢ã€é€æ˜åº¦æˆ–è£å‰ªæ•ˆæœã€‚</td><td align="left"><strong>åŸç”Ÿ View åŒ…å« SurfaceView</strong> (å¦‚è§†é¢‘ã€ç›¸æœº)ï¼Œä¸”åŸç”Ÿè§†å›¾æ€§èƒ½ä¼˜å…ˆäº Flutter åŠ¨ç”»æµç•…åº¦ã€‚</td></tr><tr><td align="left"><strong>Texture Layer (TLHC)</strong></td><td align="left"><strong>Flutter åŠ¨ç”»å’Œå˜æ¢èƒ½åŠ›è‡³ä¸Šï¼š</strong> é€‚ç”¨äºéœ€è¦å¯¹åµŒå…¥çš„ View è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€è£å‰ªæˆ–åº”ç”¨é€æ˜åº¦æ•ˆæœçš„åœºæ™¯ã€‚å®ƒæä¾›<strong>æœ€ä½³çš„ Flutter æ¸²æŸ“æ€§èƒ½</strong>ã€‚</td><td align="left"><strong>åŸç”Ÿè§†å›¾æ»šåŠ¨å¯èƒ½å‡ºç°å¡é¡¿ (Jank)ï¼š</strong> ç”±äºå°†åŸç”Ÿ View æ¸²æŸ“åˆ°çº¹ç†éœ€è¦é¢å¤–çš„å¤„ç†å»¶è¿Ÿï¼Œå¿«é€Ÿæ»šåŠ¨ï¼ˆå¦‚å†…åµŒçš„ WebViewï¼‰å¯èƒ½å‡ºç°å¡é¡¿ [17]ã€‚SurfaceView ç»„ä»¶åœ¨æ­¤æ¨¡å¼ä¸‹è¡¨ç°ä¸ä½³ã€‚</td><td align="left"><strong>éœ€è¦å¯¹åŸç”Ÿ View åº”ç”¨ Flutter ä¾§å˜æ¢</strong>ï¼ˆå¦‚ 3D æ—‹è½¬ã€è£å‰ªï¼‰ï¼Œä¸”åŸç”Ÿ View å†…å®¹æ›´æ–°é¢‘ç‡ä¸é«˜æˆ–ä¸éœ€è¦ä½¿ç”¨ SurfaceViewã€‚</td></tr></tbody></table>
<p><strong>é»˜è®¤æœºåˆ¶ä¸è‡ªåŠ¨é€‰æ‹©</strong></p>
<ul>
<li><strong>Texture Layer Hybrid Composition (TLHC)</strong> æ˜¯ç›®å‰ Flutter æ¡†æ¶ä¸­æ¨èä¸”é»˜è®¤çš„ Platform View æ¸²æŸ“æ¨¡å¼ã€‚</li>
<li><strong>å›é€€æœºåˆ¶ï¼š</strong> å½“åŸç”Ÿè§†å›¾æ ‘ä¸­åŒ…å« SurfaceView ç»„ä»¶æ—¶ï¼ˆä¾‹å¦‚è§†é¢‘æ’­æ”¾å™¨ã€ç›¸æœºé¢„è§ˆç­‰ï¼‰ï¼ŒTLHC æ¨¡å¼ä¼šé‡åˆ°å›°éš¾ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè‡ªåŠ¨å›é€€åˆ° Hybrid Composition (HC) æ¨¡å¼ã€‚</li>
</ul>
<h4 data-id="heading-29">Flutter æ¸²æŸ“æ¶æ„ (æµç¨‹æè¿°)</h4>
<p>æ—¶åºå›¾ï¼š<br/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd5ef9e3e3cd4e94a7c95cb5a3be3614~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=FMKlOo8nbpJ%2BzpZOHwNlhvYu%2F9Y%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¥æµç¨‹æè¿°äº† Flutter å¼•æ“çš„æ¸²æŸ“åºåˆ—ï¼š</p>
<ol>
<li><strong>Dart UI Thread (Engine)ï¼š</strong> æ‰§è¡Œ Widget Tree çš„æ„å»ºï¼Œè½¬æ¢ä¸º Element Treeã€‚</li>
<li><strong>Dart UI Thread (Engine)ï¼š</strong> åœ¨ VSync ä¿¡å·å¼€å§‹æ—¶ï¼Œæ‰§è¡Œ Layout é˜¶æ®µï¼Œè®¡ç®— Render Treeï¼Œæœ€ç»ˆç”ŸæˆåŒ…å« Skia/Impeller ç»˜å›¾æŒ‡ä»¤çš„ Layer Treeã€‚</li>
<li><strong>Dart UI Thread -&gt; Raster Thread (Skia/GPU Thread)ï¼š</strong> å°† Layer Tree ä¼ è¾“åˆ°ç‹¬ç«‹çš„ Raster Threadã€‚</li>
<li><strong>Raster Thread (Skia/GPU Thread) -&gt; GPUï¼š</strong> <strong>Skia å¼•æ“</strong> åœ¨å…¶ä¸“ç”¨çº¿ç¨‹ä¸Šæ‰§è¡Œ <strong>å…‰æ …åŒ–</strong>ï¼Œå°† Layer Tree æŒ‡ä»¤è½¬æ¢ä¸ºä½çº§ GPU è°ƒç”¨ï¼Œåœ¨ Flutter çš„ Surface ç¼“å†²åŒºä¸­ç»˜åˆ¶æ•´ä¸ª UI åƒç´ å†…å®¹ã€‚</li>
<li><strong>Raster Thread -&gt; SurfaceFlinger (System)ï¼š</strong> æäº¤åº”ç”¨ Surface ç¼“å†²åŒºï¼Œä½œä¸ºå•ä¸€ Layer æäº¤ç»™ç³»ç»Ÿã€‚</li>
<li><strong>SurfaceFlinger (System)ï¼š</strong> æ¥æ”¶ Flutter çš„ Layerï¼Œè¿›è¡Œç³»ç»Ÿçº§åˆæˆï¼Œå¹¶æœ€ç»ˆäº¤ç»™ HWC æ˜¾ç¤ºã€‚</li>
</ol>
<h3 data-id="heading-30"><strong>3.2. <code>GLSurfaceView</code>ï¼šé¢å‘ <code>GLES</code> çš„ä½å±‚çº§æ§åˆ¶</strong></h3>
<p><code>GLSurfaceView</code> ä¸ºéœ€è¦è¿›è¡Œé«˜æ€§èƒ½ã€è‡ªå®šä¹‰ GLES æ¸²æŸ“çš„åº”ç”¨æä¾›äº†ä¸€ä¸ªç›´æ¥çš„æ¥å£ï¼Œå¦‚æ¸¸æˆæˆ–è§†é¢‘å¤„ç†ã€‚</p>
<h4 data-id="heading-31">EGL ç¯å¢ƒä¸çº¿ç¨‹è¦æ±‚</h4>
<p><code>GLSurfaceView</code> çš„ä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç† <code>GLES</code> æ¸²æŸ“æ‰€éœ€çš„ <code>EGL</code> ç¯å¢ƒã€‚è¿™åŒ…æ‹¬åœ¨ç”Ÿå‘½å‘¨æœŸå›è°ƒä¸­åˆ›å»º <code>EGLContext</code> å’Œ <code>EGLSurface</code> å®ä¾‹ã€‚</p>
<ul>
<li><strong>ä¸“ç”¨ GLES çº¿ç¨‹ï¼š</strong> <code>GLES</code> è§„èŒƒè¦æ±‚æ‰€æœ‰çš„ç»˜å›¾æ“ä½œå¿…é¡»åœ¨ç‰¹å®šçš„ <code>GLES</code> çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œç»å¯¹ä¸èƒ½åœ¨ UI çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚<code>GLSurfaceView</code> å†…éƒ¨åˆ›å»ºäº†ä¸€ä¸ªä¸“ç”¨çš„æ¸²æŸ“çº¿ç¨‹æ¥æ»¡è¶³è¿™ä¸€è¦æ±‚ï¼Œç¡®ä¿äº†é‡å‹ GPU è´Ÿè½½ä¸åº”ç”¨ä¸»çº¿ç¨‹çš„å½»åº•éš”ç¦»ã€‚</li>
</ul>
<p>å³æ—¶æ¨¡å¼ä¸ç¼“å†²åŒºæ§åˆ¶<br/>
å¼€å‘è€…åœ¨ <code>GLES</code> çº¿ç¨‹ä¸­æ‰§è¡Œå³æ—¶æ¨¡å¼çš„ç»˜å›¾æŒ‡ä»¤ã€‚å½“ä¸€å¸§æ¸²æŸ“å®Œæˆåï¼Œå¿…é¡»é€šè¿‡è°ƒç”¨ <code>eglSwapBuffers()</code> æ¥æ˜ç¡®åœ°æäº¤å½“å‰ç¼“å†²åŒºã€‚è¿™ä¸ªæ–¹æ³•åæºäºä¼ ç»Ÿçš„åŒç¼“å†²æœºåˆ¶ï¼Œå®ƒå°†æ¸²æŸ“å¥½çš„åå°ç¼“å†²åŒºæäº¤åˆ°å‰å°ä¾›æ¶ˆè´¹è€…ä½¿ç”¨ã€‚</p>
<ul>
<li><strong>å¸§ç‡æ§åˆ¶ï¼š</strong> é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>GLSurfaceView</code> å¯èƒ½ä»¥æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡ï¼ˆä¾‹å¦‚ 60fpsï¼‰è¿ç»­æ¸²æŸ“ã€‚ç„¶è€Œï¼Œé€šè¿‡è®¾ç½® <code>RENDERMODE_WHEN_DIRTY</code>ï¼Œå¼€å‘è€…å¯ä»¥åªåœ¨ UI é€»è¾‘æˆ–è¾“å…¥äº‹ä»¶æ˜ç¡®è¦æ±‚æ—¶æ‰è¯·æ±‚æ¸²æŸ“ (<code>requestRender()</code>)ï¼Œè¿™å¯¹äºéå®æ—¶åŠ¨ç”»æˆ–é™æ€åœºæ™¯çš„ç”µæºå’Œæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ã€‚</li>
</ul>
<p><strong>æ¸²æŸ“é©±åŠ¨é€»è¾‘ä¸ VSync ä¾èµ–</strong></p>
<ul>
<li><strong>æ¸²æŸ“çº¿ç¨‹ï¼š</strong> ä¸“ç”¨ Dedicated GLES Threadã€‚</li>
<li><strong>é©±åŠ¨æœºåˆ¶ï¼š</strong> <strong>å¯æ§æ¨¡å¼ã€‚</strong>
<ul>
<li><strong>RENDERMODE_CONTINUOUSLYï¼š</strong> æ¸²æŸ“å¾ªç¯æŒç»­è¿è¡Œï¼Œé»˜è®¤ä¸ <code>VSync</code> å¯¹é½ï¼Œå°è¯•è¾¾åˆ°æœ€é«˜åˆ·æ–°ç‡ã€‚</li>
<li><strong>RENDERMODE_WHEN_DIRTYï¼š</strong> æ¸²æŸ“å¾ªç¯ä»…åœ¨åº”ç”¨æ˜ç¡®è°ƒç”¨ requestRender() æ—¶æ‰§è¡Œä¸€å¸§ã€‚</li>
</ul>
</li>
<li><strong>é¢‘ç‡æ§åˆ¶ï¼š</strong> <strong>å¼€å‘è€…å®Œå…¨æ§åˆ¶ã€‚</strong> å¯ä»¥é€‰æ‹©è¿ç»­æ¸²æŸ“ï¼ˆé«˜é¢‘/Vsync çº¦æŸï¼‰æˆ–äº‹ä»¶é©±åŠ¨æ¸²æŸ“ï¼ˆä½é¢‘/æŒ‰éœ€ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-32">GLSurfaceView æ¸²æŸ“æµç¨‹</h4>
<p>æ—¶åºå›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e20a6d4865e74adc97d21e2272733167~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=uflmgBv89AJ4rNSbyG1L0qB%2BBio%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¥æµç¨‹æè¿°äº† <code>GLSurfaceView</code> çš„æ¸²æŸ“åºåˆ—ï¼š</p>
<ol>
<li><strong>Application UI Thread -&gt; Dedicated GLES Threadï¼š</strong> UI çº¿ç¨‹åœ¨ç”Ÿå‘½å‘¨æœŸå›è°ƒä¸­ï¼Œè¯·æ±‚ <code>GLES</code> çº¿ç¨‹è®¾ç½® <code>EGL</code> ç¯å¢ƒï¼Œåˆ›å»º <code>EGLContext</code> å’Œ <code>EGLSurface</code> å®ä¾‹ã€‚</li>
<li><strong>Application UI Thread -&gt; Dedicated GLES Threadï¼š</strong> UI çº¿ç¨‹é€šè¿‡äº‹ä»¶æˆ–åŠ¨ç”»å¾ªç¯ï¼Œè§¦å‘ GLES çº¿ç¨‹è°ƒç”¨ <code>requestRender()</code> æˆ–ä¿æŒè¿ç»­æ¸²æŸ“æ¨¡å¼ã€‚</li>
<li><strong>Dedicated GLES Thread -&gt; GPUï¼š</strong> æ‰§è¡Œç”¨æˆ·å®šä¹‰çš„ OpenGL ES ç»˜å›¾å‘½ä»¤ï¼ˆå³æ—¶æ¨¡å¼ï¼‰ï¼Œç›´æ¥åˆ©ç”¨ GPU <strong>å…‰æ …åŒ–</strong> 3D/2D å†…å®¹åˆ°å½“å‰çš„ EGL ç¼“å†²åŒºã€‚<strong>è¿™æ˜¯å¼€å‘è€…å¯¹ GPU ç»˜å›¾çš„æœ€ç›´æ¥æ§åˆ¶</strong>ã€‚</li>
<li><strong>Dedicated GLES Thread -&gt; BufferQueue (EGLSurface)ï¼š</strong> è°ƒç”¨ <code>eglSwapBuffers()</code>ï¼Œå°†åˆšåˆšç»˜åˆ¶çš„ç¼“å†²åŒºæäº¤ç»™ <code>BufferQueue</code> æ¶ˆè´¹è€…ã€‚</li>
<li><strong>BufferQueue (EGLSurface) -&gt; SurfaceFlinger (System)ï¼š</strong> ç¼“å†²åŒºä½œä¸ºç‹¬ç«‹ <code>Layer</code> æäº¤ç»™ç³»ç»Ÿåˆæˆå™¨ã€‚</li>
<li><strong>SurfaceFlinger (System)ï¼š</strong> å°† <code>GLSurfaceView</code> çš„ç‹¬ç«‹ Layer ä¸å…¶ä»–ç³»ç»Ÿ UI åˆæˆï¼Œå¹¶é€šè¿‡ HWC æ˜¾ç¤ºã€‚</li>
</ol>
<h2 data-id="heading-33"><strong>4. æ··åˆä¸è·¨è¿›ç¨‹æ¸²æŸ“ï¼š<code>WebView</code> ä¸ Platform Views</strong></h2>
<p>å¤æ‚çš„ UI åœºæ™¯å¾€å¾€æ¶‰åŠä¸åŒæ¸²æŸ“æŠ€æœ¯çš„æ··åˆï¼Œè¿™è¦æ±‚ç³»ç»Ÿåˆæˆå™¨ <code>SurfaceFlinger</code> ä»‹å…¥å¤„ç†å¤šä¸ªç‹¬ç«‹æ¸²æŸ“æºçš„ <code>Layer</code> åˆæˆã€‚</p>
<h3 data-id="heading-34"><strong>4.1. ç°ä»£ <code>WebView</code> æ¸²æŸ“æœºåˆ¶ï¼šOut-of-Process Rasterization (OOPR)</strong></h3>
<p><code>WebView</code> æ‰¿è½½äº†å¤æ‚çš„ <code>Web</code> æ¸²æŸ“å¼•æ“ï¼ˆ<code>Chromium</code>ï¼‰ã€‚ä¸ºäº†å¢å¼ºå®‰å…¨æ€§å’Œç¨³å®šæ€§ï¼Œç°ä»£ Android ç³»ç»Ÿï¼ˆAPI 30 åŠä»¥ä¸Šï¼‰é»˜è®¤ä½¿ç”¨è¿›ç¨‹å¤–å…‰æ …åŒ– (<code>OOPR</code>) æ¨¡å¼ã€‚<br/>
åœ¨ Android API 30 (Android R) ä¹‹å‰ï¼Œ<code>WebView</code> çš„æ¸²æŸ“æ¨¡å¼å–å†³äºå…·ä½“çš„ <code>Android</code> ç‰ˆæœ¬å’Œè®¾å¤‡çš„å†…å­˜æ¡ä»¶ï¼š</p>
<ul>
<li>è¿›ç¨‹å†…æ¸²æŸ“ (In-Process Renderer): åœ¨ Android Lollipop (API 21) åˆ° Android Nougat (API 25) æœŸé—´ï¼Œè¿›ç¨‹å†…æ¸²æŸ“æ˜¯é»˜è®¤æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œ<code>Chromium</code> æ¸²æŸ“å¼•æ“ï¼ˆåŒ…æ‹¬å¸ƒå±€å’Œå…‰æ …åŒ–ï¼‰ä¸ä¸»æœºåº”ç”¨è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹å†…ï¼Œå…±äº«èµ„æºå’Œå†…å­˜ç©ºé—´ã€‚è¿™å¯¼è‡´ Web å†…å®¹çš„å¤æ‚æ“ä½œå¯èƒ½ç›´æ¥é˜»å¡åº”ç”¨çš„ä¸» UI çº¿ç¨‹ã€‚</li>
<li>è¿›ç¨‹å¤–æ¸²æŸ“çš„è¿‡æ¸¡ (Oreo - Q): ä» Android Oreo (API 26) åˆ° Android Q (API 29)ï¼Œç³»ç»Ÿé€šå¸¸ä¼šå¯ç”¨è¿›ç¨‹å¤–æ¸²æŸ“ï¼Œä½†å¯¹äºä½å†…å­˜è®¾å¤‡ï¼Œå¯èƒ½ä¼šå›é€€åˆ°è¿›ç¨‹å†…æ¸²æŸ“æ¨¡å¼ã€‚</li>
<li><code>OOPR</code> é»˜è®¤åŒ– (Android R/API 30+): ç”±äº Android R å¯¹å†…å­˜ç®¡ç†çš„ä¼˜åŒ–ï¼ŒWebView åœ¨ Android R åŠä»¥ä¸Šç‰ˆæœ¬ä¸­æ€»æ˜¯é»˜è®¤ä½¿ç”¨è¿›ç¨‹å¤–å…‰æ …åŒ– (<code>OOPR</code>) æ¨¡å¼ï¼Œç¡®ä¿äº†éš”ç¦»æ€§ã€‚</li>
</ul>
<h4 data-id="heading-35">è¿›ç¨‹éš”ç¦»ä¸ Surface IPC</h4>
<p>åœ¨ OOPR æ¨¡å¼ä¸‹ï¼Œå®é™…çš„ Web å†…å®¹æ¸²æŸ“å·¥ä½œå‘ç”Ÿåœ¨å®¿ä¸»åº”ç”¨è¿›ç¨‹ä¹‹å¤–çš„ Chrome Render Process ä¸­ã€‚</p>
<ul>
<li><strong>æ•°æ®æµï¼š</strong> <code>Chrome</code> æ¸²æŸ“è¿›ç¨‹å°†å…¶æ¸²æŸ“ç»“æœç»˜åˆ¶åˆ°ä¸€ä¸ªä¸“ç”¨çš„ Surface ä¸­ã€‚è¿™ä¸ª <code>Surface</code> å¯¹è±¡é€šè¿‡ <code>Android</code> çš„ <code>Binder IPC</code> æœºåˆ¶è¢«ä¼ é€’å’Œç®¡ç†ã€‚æ¸²æŸ“è¿›ç¨‹å……å½“ <code>Surface</code> çš„ç”Ÿäº§è€…ï¼Œè´Ÿè´£å°†æ¸²æŸ“å¥½çš„ <code>GraphicBuffer</code> (æˆ– <code>AHardwareBuffer</code>) æäº¤ç»™ <code>SurfaceFlinger</code>ã€‚</li>
<li><strong>å®¿ä¸»åº”ç”¨èŒè´£ï¼š</strong> å®¿ä¸»åº”ç”¨çš„ä¸»è¿›ç¨‹åªéœ€è¦ç®¡ç† <code>WebView</code> çš„ç”Ÿå‘½å‘¨æœŸã€è¾“å…¥äº‹ä»¶è½¬å‘ä»¥åŠ <code>Surface</code> çš„åˆ†é…ï¼Œæ¸²æŸ“å·¥ä½œè´Ÿè½½è¢«å®Œå…¨å¸è½½åˆ°è¿œç¨‹è¿›ç¨‹ï¼Œå®ç°äº†æé«˜çš„éš”ç¦»æ€§ã€‚</li>
</ul>
<h4 data-id="heading-36">WebView çš„ç»˜åˆ¶æ¨¡å¼ä¸å´©æºƒéš”ç¦»</h4>
<p><strong>ç»˜åˆ¶æ¨¡å¼ï¼š</strong> å°½ç®¡ <code>WebView</code> æ˜¯ä½œä¸º Android Native View å±‚æ¬¡ç»“æ„çš„ä¸€éƒ¨åˆ†è¢«æ‰˜ç®¡ï¼Œå…¶å†…éƒ¨çš„ Chromium æ¸²æŸ“å¼•æ“éµå¾ª <code>ä¿ç•™æ¨¡å¼ (Retained Mode)</code> çš„åŸåˆ™ã€‚<br/>
Web å¹³å°çš„ æ–‡æ¡£å¯¹è±¡æ¨¡å‹ (DOM) å……å½“äº†å…¶ä¿ç•™çŠ¶æ€çš„æ¨¡å‹ã€‚æµè§ˆå™¨ç»´æŠ¤ DOM çš„çŠ¶æ€ï¼Œå¹¶å¯ä»¥åœ¨ä¸éœ€è¦ JavaScript æŒç»­é‡æ–°å‘é€æ‰€æœ‰ç»˜å›¾æŒ‡ä»¤çš„æƒ…å†µä¸‹è¿›è¡Œæ¸²æŸ“ï¼Œè¿™ä¸ <code>Android View</code> ä½¿ç”¨ <code>RenderNode</code> çš„æ€è·¯ä¸€è‡´ ã€‚</p>
<p><strong>å´©æºƒéš”ç¦»ï¼š</strong> <code>WebView</code> çš„è¿›ç¨‹å¤–å…‰æ …åŒ–ï¼ˆ<code>OOPR</code>ï¼‰æ—¨åœ¨é€šè¿‡å°†æ¸²æŸ“å·¥ä½œè´Ÿè½½è½¬ç§»åˆ°æ²™ç®±éš”ç¦»çš„è¿›ç¨‹ä¸­ ï¼Œä»è€Œæé«˜ç¨³å®šæ€§å’Œå®‰å…¨æ€§ã€‚<br/>
ç„¶è€Œï¼Œå¦‚æœå‘ç”Ÿä¸¥é‡çš„æ¸²æŸ“æ•…éšœï¼Œä¾‹å¦‚æœªæ•è·çš„ <code>JavaScript</code> å¼‚å¸¸å¯¼è‡´ <code>Chrome Render Process</code> å´©æºƒï¼Œè¿™ä»ç„¶å¯èƒ½å¯¼è‡´ä¸»æœºåº”ç”¨ç¨‹åºå—åˆ°å½±å“ã€‚<br/>
ä¸ºäº†å®ç°è¿›ç¨‹çº§åˆ«çš„é²æ£’æ€§ï¼ŒAndroid å¹³å°åœ¨ API 26 åŠæ›´é«˜ç‰ˆæœ¬ä¸­æä¾›äº† <code>WebViewClient#onRenderProcessGone</code> å›è°ƒæ–¹æ³•ã€‚é€šè¿‡é‡å†™æ­¤æ–¹æ³•ï¼Œä¸»æœºåº”ç”¨å¯ä»¥åœ¨æ¸²æŸ“è¿›ç¨‹å´©æºƒæ—¶è¢«é€šçŸ¥ï¼Œä»è€Œå…è®¸åº”ç”¨è¿›è¡Œæ¢å¤æ“ä½œï¼Œä¾‹å¦‚é‡æ–°åŠ è½½ WebView æˆ–æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œé˜²æ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºå´©æºƒã€‚</p>
<p><strong>æ¸²æŸ“é©±åŠ¨é€»è¾‘ä¸ VSync ä¾èµ–</strong></p>
<ul>
<li><strong>æ¸²æŸ“çº¿ç¨‹ï¼š</strong> éš”ç¦»çš„ <code>Chrome Render Process</code> å†…éƒ¨çš„æ¸²æŸ“çº¿ç¨‹ã€‚</li>
<li><strong>é©±åŠ¨æœºåˆ¶ï¼š</strong> <strong>å†…éƒ¨ VSync å¯¹é½ã€‚</strong> æ¸²æŸ“è¿›ç¨‹çš„æ¸²æŸ“å¾ªç¯ç‹¬ç«‹è¿è¡Œï¼Œä½†ä¼šä¸ç³»ç»Ÿ VSync ä¿¡å·å¯¹é½ã€‚ä¸»æœºåº”ç”¨é€šè¿‡æ»šåŠ¨ã€é¡µé¢åŠ è½½æˆ– JavaScript åŠ¨ç”»ç­‰è§¦å‘æ›´æ–°ï¼Œæ¸²æŸ“è¿›ç¨‹è´Ÿè´£é«˜æ•ˆåœ°å°†æ–°å†…å®¹å…‰æ …åŒ–ã€‚</li>
<li><strong>é¢‘ç‡æ§åˆ¶ï¼š</strong> ç”± Chromium å¼•æ“å†…éƒ¨æ§åˆ¶ã€‚ä¸»æœºåº”ç”¨æ— æ³•ç›´æ¥è°ƒèŠ‚å…¶å¸§ç‡ã€‚</li>
</ul>
<h4 data-id="heading-37">SurfaceFlinger çš„å‚ä¸</h4>
<p>ç”±äº <code>WebView</code> çš„å†…å®¹æ˜¯ä½œä¸ºç‹¬ç«‹è¿›ç¨‹çš„è¾“å‡ºï¼Œå®ƒå¿…å®šæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Layer æäº¤ç»™ SurfaceFlingerã€‚</p>
<ul>
<li><strong>æ€§èƒ½å½±å“ï¼š</strong> å°½ç®¡ <code>OOPR</code> æä¾›äº†å“è¶Šçš„è¿›ç¨‹éš”ç¦»ï¼Œä½†å®ƒå¼ºåˆ¶ <code>WebView</code> æˆä¸ºä¸€ä¸ªç‹¬ç«‹ <code>Layer</code>ï¼Œæ— æ³•å†…åµŒåˆ°åº”ç”¨ä¸»ç•Œé¢çš„ <code>RenderNode</code> ä¸­è¿›è¡Œä¼˜åŒ–ã€‚è¿™æ„å‘³ç€ <code>WebView</code> å†…å®¹çš„ä»»ä½•æ›´æ–°éƒ½å¿…é¡»ç»è¿‡ SurfaceFlinger çš„ç³»ç»Ÿçº§åˆæˆæ­¥éª¤ã€‚è¿™å¢åŠ äº†ç³»ç»Ÿåˆæˆçš„å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨é«˜é¢‘æ›´æ–°çš„åœºæ™¯ä¸‹ã€‚</li>
</ul>
<h4 data-id="heading-38">WebView OOPR æ¸²æŸ“æµç¨‹</h4>
<p>æ—¶åºå›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b0ed54774140a29a80c515f029b1c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXBpZ2ZseQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763902138&amp;x-signature=OMYido96TIS69haAc46aTK6tGMs%3D" alt="image.png" loading="lazy"/></p>
<p><code>WebView</code> <code>OOPR</code> æ¸²æŸ“æ¶æ„ (æµç¨‹æè¿°) è¯¥æµç¨‹æè¿°äº† WebView è·¨è¿›ç¨‹æ¸²æŸ“çš„ç»„ä»¶äº¤äº’ï¼š</p>
<ol>
<li>App Host Process (WVHost)ï¼š è°ƒç”¨ WebView.loadUrl() æˆ– loadData()ï¼Œè§¦å‘ Web å†…å®¹åŠ è½½ã€‚</li>
<li>App Host Process (WVHost) -&gt; Chrome Render Process (WebEngine)ï¼š Host è¿›ç¨‹é€šè¿‡ Binder IPC æœºåˆ¶å‘ Chrome æ¸²æŸ“è¿›ç¨‹åˆ†å‘åŠ è½½è¯·æ±‚ã€ç”Ÿå‘½å‘¨æœŸæ§åˆ¶å’Œè¾“å…¥äº‹ä»¶ã€‚</li>
<li>Chrome Render Process (WebEngine)ï¼š Web å¼•æ“ï¼ˆBlinkï¼‰åœ¨è¿œç¨‹è¿›ç¨‹ä¸­æ‰§è¡Œé¡µé¢è§£æã€å¸ƒå±€è®¡ç®—ï¼Œå¹¶æ„å»º Web Layer Treeã€‚</li>
<li>Chrome Render Process (WebEngine) -&gt; GPUï¼š æ¸²æŸ“è¿›ç¨‹çš„ GPU çº¿ç¨‹æ‰§è¡Œ å…‰æ …åŒ–ï¼Œå°† Web å†…å®¹ç»˜åˆ¶åˆ°ä¸“ç”¨çš„ AHardwareBuffer ä¸­ã€‚æ¸²æŸ“å¸§ç‡å†…éƒ¨ä¸ VSync å¯¹é½ã€‚</li>
<li>Chrome Render Process (WebEngine) -&gt; Android Graphics Subsystem (SF/BQ): Chrome è¿›ç¨‹é€šè¿‡ Surface ç”Ÿäº§è€…æ¥å£ï¼Œå°†æ¸²æŸ“å¥½çš„ç¼“å†²åŒºæäº¤åˆ° BufferQueueã€‚</li>
<li>Android Graphics Subsystem (SF/BQ) -&gt; SurfaceFlinger (System)ï¼š SurfaceFlinger æ¥æ”¶ WebView çš„ç‹¬ç«‹ Layerã€‚</li>
<li>SurfaceFlinger (System)ï¼š æ‰§è¡Œç³»ç»Ÿçº§åˆæˆï¼Œå°† WebView Layer æ”¾ç½®åœ¨æ­£ç¡®çš„ Z è½´é¡ºåºå’Œä½ç½®ä¸Šï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºã€‚</li>
</ol>
<h2 data-id="heading-39">5. <strong>æ€»ç»“ä¸å»ºè®®</strong></h2>








































<table><thead><tr><th align="left">æŠ€æœ¯æ ˆ</th><th align="left">ç³»ç»Ÿé›†æˆåº¦</th><th align="left">çº¿ç¨‹éš”ç¦»ç²’åº¦</th><th align="left">å…³é”®æ€§èƒ½å…³æ³¨ç‚¹</th><th align="left">å…¸å‹åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>Native/Compose</strong></td><td align="left">é«˜ (å…±äº« RenderThread)</td><td align="left">CPU/GPU éš”ç¦» (RT)</td><td align="left">ä¼˜åŒ– UI çº¿ç¨‹çš„è®°å½•/é‡ç»„è´Ÿè½½ã€‚</td><td align="left">æ ‡å‡† UI ç•Œé¢ï¼Œéœ€è¦é«˜åº¦åŸç”Ÿå¹³å°ç‰¹æ€§ã€‚</td></tr><tr><td align="left"><strong>Flutter</strong></td><td align="left">ä½ (ç‹¬ç«‹å¼•æ“)</td><td align="left">å½»åº•éš”ç¦» (Raster Thread)</td><td align="left">è·¨å¹³å°ä¸€è‡´æ€§ï¼Œå‡å°‘ Platform View çš„åˆæˆå¼€é”€ã€‚</td><td align="left">é«˜æ€§èƒ½ã€é«˜è‡ªå®šä¹‰åº¦ UIï¼Œè·¨å¹³å°é¡¹ç›®ã€‚</td></tr><tr><td align="left"><strong>GLSurfaceView</strong></td><td align="left">ä¸­ (ç‹¬ç«‹ Surface)</td><td align="left">å½»åº•éš”ç¦» (GLES Thread)</td><td align="left">è‡ªä¸»æ§åˆ¶ eglSwapBuffers é¢‘ç‡ã€‚</td><td align="left">æ¸¸æˆå¼•æ“ï¼Œå®æ—¶è§†é¢‘æµï¼Œè‡ªå®šä¹‰ 3D æ¸²æŸ“ã€‚</td></tr><tr><td align="left"><strong>WebView</strong></td><td align="left">ä¸­ (è·¨è¿›ç¨‹ Surface)</td><td align="left">å½»åº•éš”ç¦» (OOPR)</td><td align="left">è·¨è¿›ç¨‹é€šä¿¡å»¶è¿Ÿå’Œ SurfaceFlinger çš„ Layer åˆæˆå¼€é”€ã€‚</td><td align="left">åµŒå…¥å¤æ‚ HTML/JS å†…å®¹ã€‚</td></tr></tbody></table>
<p><strong>åŸç”Ÿ UI çš„ç“¶é¢ˆè½¬ç§»ï¼š</strong> å¯¹äº Native View å’Œ Composeï¼ŒAOSP å·²ç»é€šè¿‡ RenderThread è§£å†³äº† GPU æ‰§è¡Œé˜»å¡ UI çº¿ç¨‹çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œæ€§èƒ½ä¼˜åŒ–çš„é‡ç‚¹å·²ä» GPU è½¬ç§»åˆ° UI çº¿ç¨‹çš„ <strong>è®°å½•/å¸ƒå±€/é‡ç»„</strong> é˜¶æ®µã€‚</p>
<p><strong>ç‹¬ç«‹ Surface çš„å¼€é”€ï¼š</strong> æ— è®ºé‡‡ç”¨ Flutterã€WebView è¿˜æ˜¯ GLSurfaceViewï¼Œå½“å®ƒä»¬ä½¿ç”¨ç‹¬ç«‹çš„ Surface å¯¹è±¡æ—¶ï¼Œéƒ½ä¸å¯é¿å…åœ°æˆä¸º SurfaceFlinger çš„ä¸€ä¸ªç‹¬ç«‹ Layerã€‚è™½ç„¶è¿™æä¾›äº†æä½³çš„çº¿ç¨‹éš”ç¦»ï¼Œä½†ä¹Ÿæ„å‘³ç€æ¯ä¸€æ¬¡æ›´æ–°éƒ½å¿…é¡»ç»è¿‡ç³»ç»Ÿåˆæˆå™¨çš„å¤„ç†ã€‚å¯¹äºéœ€è¦å¤§é‡ Layer åˆæˆæˆ–å¤æ‚æ··åˆçš„åœºæ™¯ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¯” HWC é›¶æ‹·è´åˆæˆæ›´é«˜çš„ç³»ç»Ÿèµ„æºæ¶ˆè€—ã€‚</p>
<p><strong>é«˜æ€§èƒ½å›¾å½¢çš„é€‰æ‹©ï¼š</strong> å¯¹äºéœ€è¦å®æ—¶ï¼ˆ60fps æˆ– 120fpsï¼‰æ›´æ–°å’Œå®Œå…¨æ§åˆ¶å›¾å½¢ç®¡çº¿çš„åœºæ™¯ï¼ŒGLSurfaceView æˆ– Flutter Engine æ˜¯æœ€ä½³é€‰æ‹©ã€‚å®ƒä»¬é€šè¿‡ä¸“ç”¨çš„æ¸²æŸ“çº¿ç¨‹å®ç°äº†é«˜ç¡®å®šæ€§æ€§èƒ½ï¼Œå°†å…‰æ …åŒ–å·¥ä½œè´Ÿè½½ä» AOSP çš„ä¸»æ¸²æŸ“è·¯å¾„ä¸­å®Œå…¨è§£è€¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä¸­ UnaryOperator æ¥å£ä¸ Lambda è¡¨è¾¾å¼çš„åº”ç”¨ç¤ºä¾‹]]></title>    <link>https://juejin.cn/post/7572459757107724342</link>    <guid>https://juejin.cn/post/7572459757107724342</guid>    <pubDate>2025-11-15T19:21:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572459757107724342" data-draft-id="7572481101710278710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä¸­ UnaryOperator æ¥å£ä¸ Lambda è¡¨è¾¾å¼çš„åº”ç”¨ç¤ºä¾‹"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-15T19:21:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Dcs"/> <meta itemprop="url" content="https://juejin.cn/user/3679404422861902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä¸­ UnaryOperator æ¥å£ä¸ Lambda è¡¨è¾¾å¼çš„åº”ç”¨ç¤ºä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3679404422861902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Dcs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-15T19:21:15.000Z" title="Sat Nov 15 2025 19:21:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-15
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯<strong>æ¶æ„èµ„æºæ ˆ</strong>ï¼ç‚¹å‡»ä¸Šæ–¹å…³æ³¨ï¼Œæ·»åŠ â€œ<strong>æ˜Ÿæ ‡</strong>â€ï¼Œä¸€èµ·å­¦ä¹ å¤§å‚å‰æ²¿æ¶æ„ï¼</p>
<p>å…³æ³¨ã€å‘é€<code>C1</code>å³å¯è·å–JetBrainså…¨å®¶æ¡¶æ¿€æ´»å·¥å…·å’Œç ï¼</p>
<hr/>
<p>åœ¨ Java 8 å¼•å…¥ Lambda è¡¨è¾¾å¼çš„è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é¢ä¸´äº†è®¸å¤šæ–°çš„æ¥å£ï¼Œå…¶ä¸­ä¸ä¹ä¸€äº›çœ‹èµ·æ¥é¢‡ä¸ºå­¦æœ¯ã€éš¾ä»¥ç†è§£çš„åç§°ã€‚<strong>UnaryOperator</strong> æ¥å£å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½†å…¶å®å®ƒçš„ç”¨é€”å’Œå®ç°éå¸¸ç®€å•ã€‚</p>
<h3 data-id="heading-0"><strong>UnaryOperator çš„åŠŸèƒ½</strong></h3>
<p><strong>UnaryOperator</strong> æ¥å£çš„åŠŸèƒ½å°±æ˜¯æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œå¤„ç†å®ƒåè¿”å›ç›¸åŒç±»å‹çš„å¯¹è±¡ã€‚è¿™ä¸ªâ€œunaryâ€ç‰¹æ€§æ„å‘³ç€è¾“å…¥å’Œè¾“å‡ºçš„å¯¹è±¡ç±»å‹æ˜¯ç›¸åŒçš„ã€‚</p>
<p>ä»æŠ€æœ¯è§’åº¦çœ‹ï¼Œ<strong>UnaryOperator</strong> æ¥å£ç»§æ‰¿äº† <strong>Function</strong> æ¥å£ï¼Œå¹¶ä¸”å®šä¹‰äº†ä¸€ä¸ªåä¸º <strong>apply</strong> çš„æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-java" lang="java">java.util.function.UnaryOperator
<span class="hljs-meta">@FunctionalInterface</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UnaryOperator</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span>&lt;T, T&gt; {
    T <span class="hljs-title function_">apply</span><span class="hljs-params">(T t)</span>;
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d097d6e6669f4bb18fab03c2cf0e8b8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763839275&amp;x-signature=o%2FmS%2BTD3RyuHY%2FPqILCHUprgWVs%3D" alt="image" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼Œä½ å¯èƒ½æƒ³ä»ä¸€ä¸ªå¯¹ä¸€ä¸ªå­—ç¬¦ä¸²åšç‰¹æ®Šå¤„ç†åè¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚è¿™æ­£æ˜¯ <strong>UnaryOperator</strong> çš„åº”ç”¨åœºæ™¯â€”â€”è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee962e4a8162472282a1f590454d9889~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763839275&amp;x-signature=1psbfMxnAYBytTYGDR85E1LAyWk%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-1"><strong>UnaryOperator å®ç°ç¤ºä¾‹</strong></h3>
<p>é¦–å…ˆæ¥çœ‹ä¸€ä¸ªä¼ ç»Ÿçš„å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±» <code>UnaryOperatorExample</code> æ¥å®ç° <strong>UnaryOperator</strong> æ¥å£ï¼Œå¹¶æä¾› <code>apply</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.xiaod.lambda;


<span class="hljs-keyword">import</span> java.util.function.UnaryOperator;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnaryOperatorImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UnaryOperator</span>&lt;String&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">apply</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">return</span> name+<span class="hljs-string">"ï¼Œè´¢è¿æ»šæ»šï¼"</span>;
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UnaryOperatorImplTest</span> {

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUnaryOperatorImpl</span><span class="hljs-params">()</span> {
        <span class="hljs-type">UnaryOperatorImpl</span> <span class="hljs-variable">unaryOperatorImpl</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnaryOperatorImpl</span>();
        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">"å°D"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> unaryOperatorImpl.apply(name);
        <span class="hljs-comment">// å°Dï¼Œè´¢è¿æ»šæ»šï¼</span>
        System.out.println(result);
    }

}
</code></pre>
<p>æ‰§è¡Œä¸Šè¿°ä»£ç åï¼Œæ§åˆ¶å°å°†è¾“å‡ºå­—ç¬¦ä¸² <code>å°Dï¼Œè´¢è¿æ»šæ»šï¼</code>ã€‚</p>
<h3 data-id="heading-2"><strong>UnaryOperator çš„ Lambda è¡¨è¾¾å¼ç¤ºä¾‹</strong></h3>
<p>ä½¿ç”¨ Java çš„ Lambda è¡¨è¾¾å¼å¯ä»¥ç®€åŒ–ä»£ç ï¼Œä¸å†éœ€è¦åˆ›å»ºå®Œæ•´çš„ç±»ã€‚é€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®ç° <strong>UnaryOperator</strong> æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUnaryOperatorImplLambda</span><span class="hljs-params">()</span> {
        UnaryOperator&lt;String&gt; extensionAdder = (String name) -&gt; { <span class="hljs-keyword">return</span> name+<span class="hljs-string">"ï¼Œè´¢è¿æ»šæ»šï¼"</span>;} ;
        <span class="hljs-type">String</span> <span class="hljs-variable">newText</span> <span class="hljs-operator">=</span> extensionAdder.apply(<span class="hljs-string">"å°D1"</span>);
        <span class="hljs-comment">// å°D1ï¼Œè´¢è¿æ»šæ»šï¼</span>
        System.out.println(newText);
    }

</code></pre>
<p>Lambda è¡¨è¾¾å¼ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œç´§å‡‘ï¼Œèƒ½å¤Ÿå¿«é€Ÿä¼ è¾¾åŠŸèƒ½æ„å›¾ã€‚</p>
<h3 data-id="heading-3"><strong>è¿›ä¸€æ­¥ç®€åŒ– Lambda è¡¨è¾¾å¼</strong></h3>
<p>ä½ è¿˜å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ– Lambda è¡¨è¾¾å¼ï¼Œçœç•¥ç±»å‹å£°æ˜ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼š</p>
<pre><code class="hljs language-java" lang="java">UnaryOperator&lt;String&gt; extensionAdder = text -&gt; text + <span class="hljs-string">".txt"</span>;
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUnaryOperatorImplLambda1</span><span class="hljs-params">()</span> {
        UnaryOperator&lt;String&gt; extensionAdder = (name)-&gt; name+<span class="hljs-string">"ï¼Œè´¢è¿æ»šæ»šï¼"</span> ;
        <span class="hljs-type">String</span> <span class="hljs-variable">newText</span> <span class="hljs-operator">=</span> extensionAdder.apply(<span class="hljs-string">"å°D2"</span>);
        <span class="hljs-comment">// å°D2ï¼Œè´¢è¿æ»šæ»šï¼</span>
        System.out.println(newText);
    }
</code></pre>
<h3 data-id="heading-4"><strong>Java API ä¸­ UnaryOperator çš„åº”ç”¨</strong></h3>
<p><strong>UnaryOperator</strong> æ¥å£åœ¨ Java API ä¸­å¹¿æ³›åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™ <strong>Stream</strong> ç±»çš„ <code>iterate</code> æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> &lt;T&gt; Stream&lt;T&gt; <span class="hljs-title function_">iterate</span><span class="hljs-params">(T seed, UnaryOperator&lt;T&gt; f)</span>;
</code></pre>
<p>è¿™ç§æ–¹æ³•ç­¾åå¯èƒ½å¯¹åˆå­¦è€…æ¥è¯´æ¯”è¾ƒé™Œç”Ÿï¼Œä½†é€šè¿‡ <strong>UnaryOperator</strong> çš„ç®€å•ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°ç†è§£ï¼šå®ƒåªæ˜¯æ¥æ”¶å¹¶è¿”å›ç›¸åŒç±»å‹çš„æ•°æ®ã€‚Lambda è¡¨è¾¾å¼çš„å¼•å…¥ï¼Œä½¿å¾— Java ç¼–ç¨‹æ›´ç®€æ´æ˜“è¯»ï¼Œä¹Ÿæå¤§æé«˜äº†å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-5"><strong>æ€»ç»“</strong></h3>
<p>é€šè¿‡è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬æ·±å…¥äº†è§£äº† <strong>UnaryOperator</strong> æ¥å£åŠå…¶åœ¨ Java Lambda è¡¨è¾¾å¼ä¸­çš„åº”ç”¨ã€‚ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œå®ƒç®€åŒ–äº† Java ç¼–ç¨‹çš„å¤æ‚æ€§ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚</p>
<hr/>
<p><strong>å–œæ¬¢å°±å¥–åŠ±ä¸€ä¸ªâ€œğŸ‘â€å’Œâ€œåœ¨çœ‹â€å‘—~</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5097f5cd8ee944e4893201a7b6deaf68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGNz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763839275&amp;x-signature=7sqwJIDs3EuLkoLjDfBQIt0ezFo%3D" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€åº•å±‚æœºåˆ¶ã€‘AshmemåŒ¿åå…±äº«å†…å­˜ï¼šåŸç†ä¸åº”ç”¨æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7573239644156067867</link>    <guid>https://juejin.cn/post/7573239644156067867</guid>    <pubDate>2025-11-17T08:47:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573239644156067867" data-draft-id="7573506713865977907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€åº•å±‚æœºåˆ¶ã€‘AshmemåŒ¿åå…±äº«å†…å­˜ï¼šåŸç†ä¸åº”ç”¨æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="Android,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-17T08:47:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æ€¡æ—¸"/> <meta itemprop="url" content="https://juejin.cn/user/2875978146656750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€åº•å±‚æœºåˆ¶ã€‘AshmemåŒ¿åå…±äº«å†…å­˜ï¼šåŸç†ä¸åº”ç”¨æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978146656750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æ€¡æ—¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:47:12.000Z" title="Mon Nov 17 2025 08:47:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0"><strong>ä¸€ã€ æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯Ashmemï¼Ÿ</strong></h4>
<p>Ashmemï¼Œå…¨ç§°Android Shared Memoryï¼Œæ˜¯Androidè‡ªå®šä¹‰çš„ä¸€å¥—åŒ¿åå…±äº«å†…å­˜æœºåˆ¶ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š<strong>åœ¨è¿›ç¨‹é—´é«˜æ•ˆåœ°å…±äº«ä¸€å—åŒ¿åçš„å†…å­˜åŒºåŸŸ</strong>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä»å®ƒçš„åå­—æ¥åˆ†è§£ç†è§£ï¼š</p>
<ul>
<li><strong>åŒ¿åï¼š</strong> ä¸ä¼ ç»ŸLinux System V IPCçš„å…±äº«å†…å­˜éœ€è¦é€šè¿‡ä¸€ä¸ªå…¨å±€çš„<code>key</code>æ¥æ ‡è¯†ä¸åŒï¼ŒAshmemä¸éœ€è¦æ˜¾å¼çš„åå­—ã€‚å®ƒé€šè¿‡æ–‡ä»¶æè¿°ç¬¦ï¼ˆFile Descriptorï¼‰æ¥å¼•ç”¨ï¼Œè¿™ä½¿å¾—å…¶ç®¡ç†å’Œæƒé™æ§åˆ¶æ›´åŠ çµæ´»ã€‚</li>
<li><strong>å…±äº«ï¼š</strong> å¤šä¸ªè¿›ç¨‹å¯ä»¥å°†åŒä¸€å—ç‰©ç†å†…å­˜æ˜ å°„åˆ°å„è‡ªçš„è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œä»è€Œå®ç°æ•°æ®çš„å…±äº«ï¼Œé¿å…äº†æ•°æ®çš„å¤šæ¬¡æ‹·è´ã€‚</li>
<li><strong>å†…å­˜ï¼š</strong> å®ƒæœ¬è´¨ä¸Šæ˜¯å¯¹ä¸€æ®µå†…å­˜åŒºåŸŸçš„ç®¡ç†ã€‚</li>
</ul>
<h4 data-id="heading-1"><strong>äºŒã€ ä¸ºä»€ä¹ˆéœ€è¦Ashmemï¼Ÿå¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆçš„ä¼˜åŠ£</strong></h4>
<p>è¦ç†è§£Ashmemçš„ä»·å€¼ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆçœ‹å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€‚</p>
<ol>
<li>
<p><strong>å¯¹æ¯”Linux System V SHMï¼š</strong></p>
<ul>
<li><strong>èµ„æºæ³„éœ²é—®é¢˜ï¼š</strong> System V SHMçš„<code>key</code>æ˜¯å…¨å±€çš„ï¼Œå¦‚æœè¿›ç¨‹å´©æºƒåæ²¡æœ‰æ­£ç¡®é‡Šæ”¾ï¼Œè¿™å—å…±äº«å†…å­˜ä¼šä¸€ç›´å­˜åœ¨ï¼Œå¯¼è‡´èµ„æºæ³„éœ²ã€‚Ashmemä¸è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šæ›´ç´§å¯†ï¼Œå¹¶ä¸”æœ‰å›æ”¶æœºåˆ¶ã€‚</li>
<li><strong>æƒé™æ§åˆ¶å¼±ï¼š</strong> System V SHMçš„æƒé™æ§åˆ¶æ¯”è¾ƒç®€å•ã€‚AshmemåŸºäºæ–‡ä»¶æè¿°ç¬¦ï¼Œå¯ä»¥ç»§æ‰¿Binderçš„æƒé™æ¨¡å‹ï¼Œè¿›è¡Œæ›´ç²¾ç»†çš„ç®¡æ§ã€‚</li>
<li><strong>pin / unpinæœºåˆ¶ï¼š</strong> è¿™æ˜¯Ashmemçš„æ ¸å¿ƒåˆ›æ–°ï¼Œåé¢ä¼šè¯¦è¿°ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯¹æ¯”Binderï¼š</strong></p>
<ul>
<li><strong>Binderé™åˆ¶ï¼š</strong> Binderè™½ç„¶å¼ºå¤§ï¼Œä½†å…¶è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†é«˜é¢‘ç‡ã€å°æ•°æ®é‡çš„è¿›ç¨‹é—´è°ƒç”¨ï¼ˆRPCï¼‰ã€‚å®ƒå¯¹äºä¼ è¾“æ•°æ®æœ‰å¤§å°é™åˆ¶ï¼ˆé€šå¸¸çº¦ä¸º1MBï¼‰ï¼Œå¹¶ä¸”æ•°æ®éœ€è¦ç»è¿‡å¤šæ¬¡åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œå¯¹äºå¤§å—æ•°æ®ï¼ˆå¦‚å›¾ç‰‡ã€å¤§æ–‡ä»¶ï¼‰æ•ˆç‡ä½ä¸‹ã€‚</li>
<li><strong>Ashmemçš„ä¼˜åŠ¿ï¼š</strong> Ashmemä¸“ä¸º<strong>å¤§å—æ•°æ®</strong>çš„å…±äº«è€Œç”Ÿã€‚ä¸€æ—¦å†…å­˜æ˜ å°„å»ºç«‹ï¼Œè¿›ç¨‹å¯ä»¥ç›´æ¥è¯»å†™å†…å­˜ï¼Œå‡ ä¹æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œæ€§èƒ½æé«˜ã€‚å…¸å‹çš„åº”ç”¨åœºæ™¯å°±æ˜¯ä¼ é€’Bitmapã€‚</li>
</ul>
</li>
</ol>
<p><strong>ç»“è®ºï¼š</strong> Ashmemæ˜¯Androidä¸ºå¼¥è¡¥Binderåœ¨å¤§æ•°æ®ä¼ é€’ä¸Šçš„çŸ­æ¿ï¼Œå¹¶æ”¹è¿›ä¼ ç»Ÿå…±äº«å†…å­˜ç¼ºé™·è€Œè®¾è®¡çš„â€œå¤§å—æ•°æ®é«˜é€Ÿå…¬è·¯â€ã€‚</p>
<h4 data-id="heading-2"><strong>ä¸‰ã€ æ ¸å¿ƒåŸç†ä¸å·¥ä½œæœºåˆ¶</strong></h4>
<p>Ashmemçš„è¿ä½œä¸»è¦æ¶‰åŠä¸‰ä¸ªæ ¸å¿ƒç¯èŠ‚ï¼šåˆ›å»ºã€æ˜ å°„å’Œç®¡ç†ã€‚</p>
<p><strong>1. åˆ›å»ºä¸è·å–æ–‡ä»¶æè¿°ç¬¦</strong></p>
<p>Ashmemçš„å…¥å£æ˜¯<code>ashmem_create_region</code>å‡½æ•°ï¼ˆNativeå±‚ï¼‰ã€‚è¿™ä¸ªå‡½æ•°ä¼šï¼š</p>
<ul>
<li>åœ¨å†…æ ¸ä¸­å¼€è¾Ÿä¸€å—æŒ‡å®šå¤§å°çš„åŒ¿åå…±äº«å†…å­˜åŒºåŸŸã€‚</li>
<li>è¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å†…å­˜åŒºåŸŸçš„<strong>æ–‡ä»¶æè¿°ç¬¦ï¼ˆfdï¼‰</strong>ã€‚</li>
</ul>
<p>è¿™ä¸ª<code>fd</code>æ˜¯æ•´ä¸ªAshmemæœºåˆ¶çš„æ ¸å¿ƒã€‚å®ƒæœ¬èº«åªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä½†è¿›ç¨‹å¯ä»¥é€šè¿‡å®ƒæ‰¾åˆ°èƒŒåé‚£å—çœŸæ­£çš„ç‰©ç†å†…å­˜ã€‚</p>
<p><strong>2. å†…å­˜æ˜ å°„</strong></p>
<p>å•ä¸ªè¿›ç¨‹æ‹¿åˆ°<code>fd</code>åï¼Œè¿˜éœ€è¦é€šè¿‡<code>mmap</code>ç³»ç»Ÿè°ƒç”¨ï¼Œå°†è¿™å—å…±äº«å†…å­˜æ˜ å°„åˆ°è‡ªå·±çš„è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´ã€‚è¿™æ ·ï¼Œè¿›ç¨‹å°±å¯ä»¥åƒè®¿é—®æ™®é€šå†…å­˜ä¸€æ ·ï¼ˆé€šè¿‡æŒ‡é’ˆï¼‰æ¥è¯»å†™è¿™å—å…±äº«å†…å­˜äº†ã€‚</p>
<p>å…³é”®ç‚¹åœ¨äºï¼š<strong>å¤šä¸ªè¿›ç¨‹å¯ä»¥æ‹¿åˆ°åŒä¸€ä¸ª<code>fd</code>ï¼ˆæˆ–å…¶å‰¯æœ¬ï¼‰ï¼Œå¹¶å„è‡ªæ‰§è¡Œ<code>mmap</code>ï¼Œæœ€ç»ˆå®ƒä»¬çš„ä¸åŒè™šæ‹Ÿåœ°å€ä¼šæŒ‡å‘åŒä¸€å—ç‰©ç†å†…å­˜</strong>ã€‚è¿™å°±æ˜¯è¿›ç¨‹é—´å…±äº«çš„æœ¬è´¨ã€‚</p>
<p><strong>3. pin / unpin å†…å­˜å›æ”¶æœºåˆ¶</strong></p>
<p>è¿™æ˜¯Ashmemæœ€ç²¾å¦™çš„è®¾è®¡ã€‚å®ƒå…è®¸ç³»ç»Ÿåœ¨å†…å­˜ç´§å¼ æ—¶ï¼Œå›æ”¶é‚£äº›è¢«è¿›ç¨‹æ ‡è®°ä¸ºâ€œæœªé”å®šâ€çš„å†…å­˜é¡µã€‚</p>
<ul>
<li><strong>Pinï¼š</strong> è¿›ç¨‹é€šè¿‡<code>ioctl</code>æ¥å£å‘Šè¯‰å†…æ ¸ï¼ŒæŸå—å†…å­˜åŒºåŸŸç›®å‰æ­£åœ¨è¢«ä½¿ç”¨ï¼Œä¸èƒ½è¢«å›æ”¶ã€‚è¿™ç›¸å½“äºç»™å†…å­˜ä¸Šäº†é”ã€‚</li>
<li><strong>Unpinï¼š</strong> è¿›ç¨‹å‘Šè¯‰å†…æ ¸ï¼ŒæŸå—å†…å­˜åŒºåŸŸå·²ç»ä½¿ç”¨å®Œæ¯•ï¼Œå¦‚æœç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œå¯ä»¥å›æ”¶è¿™éƒ¨åˆ†å†…å­˜ã€‚å›æ”¶å¯èƒ½æ„å‘³ç€å°†å…¶æ¢å‡ºåˆ°ç¡¬ç›˜ï¼ˆå¦‚æœæ”¯æŒï¼‰ï¼Œæˆ–è€…ç›´æ¥ä¸¢å¼ƒï¼ˆå¦‚æœæ˜¯åªè¯»çš„è„é¡µï¼Œå¯ä»¥ä»æºæ–‡ä»¶æ¢å¤ï¼‰ã€‚</li>
</ul>
<p><strong>å·¥ä½œæµç¨‹ç¤ºä¾‹ï¼š</strong>
å‡è®¾è¿›ç¨‹Aåˆ›å»ºäº†ä¸€å—Ashmemï¼Œå¹¶å†™å…¥æ•°æ®ã€‚</p>
<ol>
<li>è¿›ç¨‹Aå°†æ•°æ®å†™å…¥åï¼Œè°ƒç”¨unpinï¼Œè¡¨ç¤ºâ€œæˆ‘çš„å·¥ä½œå®Œæˆäº†ï¼Œå¿…è¦æ—¶ä½ å¯ä»¥å›æ”¶â€ã€‚</li>
<li>è¿›ç¨‹Bæ‹¿åˆ°<code>fd</code>ï¼Œè¿›è¡Œ<code>mmap</code>å¹¶è¯»å–æ•°æ®ã€‚åœ¨è¯»å–æœŸé—´ï¼Œè¿›ç¨‹Bä¼šè°ƒç”¨piné”å®šå†…å­˜ï¼Œé˜²æ­¢è¢«å›æ”¶ã€‚</li>
<li>è¿›ç¨‹Bè¯»å–å®Œæ¯•ï¼Œè°ƒç”¨unpinã€‚</li>
<li>æ­¤æ—¶å¦‚æœç³»ç»Ÿå†…å­˜ä¸è¶³ï¼Œå†…æ ¸å°±å¯ä»¥å®‰å…¨åœ°å›æ”¶è¿™å—å†…å­˜ï¼Œå› ä¸ºå®ƒè¢«ä¸¤ä¸ªè¿›ç¨‹éƒ½æ ‡è®°ä¸ºunpinçŠ¶æ€ã€‚</li>
</ol>
<p>è¿™ä¸ªæœºåˆ¶å®Œç¾åœ°è§£å†³äº†ä¼ ç»Ÿå…±äº«å†…å­˜â€œä¸€æ—¦åˆ†é…å°±å¸¸é©»â€çš„æµªè´¹é—®é¢˜ï¼Œå®ç°äº†æŒ‰éœ€å†…å­˜ç®¡ç†ã€‚</p>
<h4 data-id="heading-3"><strong>å››ã€ æ ¸å¿ƒåº”ç”¨åœºæ™¯</strong></h4>
<p><strong>1. è·¨è¿›ç¨‹ä¼ é€’å¤§æ•°æ®ï¼ˆå°¤å…¶æ˜¯Bitmapï¼‰</strong></p>
<p>è¿™æ˜¯Ashmemæœ€ç»å…¸çš„åº”ç”¨ã€‚å½“ä½ åœ¨<code>Intent</code>ä¸­ç›´æ¥ä¼ é€’ä¸€ä¸ªå¤§çš„Bitmapå¯¹è±¡æ—¶ï¼ŒAndroidç³»ç»Ÿåº•å±‚ä¼šè‡ªåŠ¨ä½¿ç”¨Ashmemæ¥ä¼˜åŒ–ã€‚</p>
<ul>
<li><strong>è¿‡ç¨‹ï¼š</strong> ç³»ç»Ÿä¼šå°†Bitmapçš„åƒç´ æ•°æ®æ”¾å…¥ä¸€å—AshmemåŒºåŸŸï¼Œç„¶ååœ¨è¿›ç¨‹é—´åªä¼ é€’è¿™ä¸ªAshmemçš„<code>fd</code>ã€‚æ¥æ”¶è¿›ç¨‹é€šè¿‡<code>fd</code>ç›´æ¥æ˜ å°„å¹¶è¯»å–åƒç´ æ•°æ®ã€‚</li>
<li><strong>ä¼˜åŠ¿ï¼š</strong> é¿å…äº†å°†å‡ MBçš„åƒç´ æ•°æ®é€šè¿‡Binderè¿›è¡Œæ‹·è´ï¼Œæå¤§åœ°æå‡äº†æ•ˆç‡ï¼Œå¹¶çªç ´äº†Binderçš„å¤§å°é™åˆ¶ã€‚</li>
</ul>
<p><strong>2. ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨</strong></p>
<p>å¾ˆå¤šAndroidç³»ç»ŸæœåŠ¡éƒ½é‡åº¦ä¾èµ–Ashmemï¼š</p>
<ul>
<li><strong><code>OpenGL</code>ã€<code>SurfaceFlinger</code>ï¼š</strong> ç”¨äºå›¾å½¢ç¼“å†²åŒºï¼ˆ<code>GraphicBuffer</code>ï¼‰çš„å…±äº«ã€‚åº”ç”¨ç»˜åˆ¶çš„ç”»é¢æ•°æ®å°±å­˜æ”¾åœ¨Ashmemä¸­ï¼Œä¾›<code>SurfaceFlinger</code>åˆæˆæœ€ç»ˆå›¾åƒã€‚</li>
<li><strong><code>MediaServer</code>ï¼š</strong> ç”¨äºå…±äº«éŸ³è§†é¢‘æ•°æ®æµã€‚</li>
</ul>
<p><strong>3. è¿›ç¨‹é—´è‡ªå®šä¹‰å¤§æ•°æ®é€šä¿¡</strong></p>
<p>å¼€å‘è€…ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨Ashmem APIï¼ˆä¸»è¦é€šè¿‡<code>MemoryFile</code>è¿™ä¸ªJavaå°è£…ç±»ï¼‰æ¥å®ç°è‡ªå®šä¹‰çš„è¿›ç¨‹é—´å¤§æ•°æ®å…±äº«ã€‚</p>
<h4 data-id="heading-4"><strong>äº”ã€ å¼€å‘è€…è§†è§’ï¼šå¦‚ä½•ä½¿ç”¨Ashmem</strong></h4>
<p>å¯¹äºåº”ç”¨å¼€å‘è€…ï¼Œæœ€æ–¹ä¾¿çš„æ¥å£æ˜¯<code>android.os.MemoryFile</code>ã€‚</p>
<p><strong>åˆ›å»ºå¹¶æä¾›MemoryFileçš„ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœåŠ¡ç«¯ï¼šåˆ›å»ºå¹¶å‡†å¤‡æ•°æ®</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">private</span> ParcelFileDescriptor mPfd;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> IBinder <span class="hljs-title function_">onBind</span><span class="hljs-params">(Intent intent)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ›å»ºMemoryFileï¼Œ å¤§å°ä¸º 1MB</span>
            <span class="hljs-type">MemoryFile</span> <span class="hljs-variable">memoryFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MemoryFile</span>(<span class="hljs-string">"my_shmem"</span>, <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
            <span class="hljs-comment">// 2. å†™å…¥æ•°æ®</span>
            <span class="hljs-type">byte</span>[] data = <span class="hljs-string">"Hello from Server!"</span>.getBytes();
            memoryFile.writeBytes(data, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, data.length);
            
            <span class="hljs-comment">// 3. å…³é”®ï¼šè·å–å…¶ParcelFileDescriptorï¼Œä»¥ä¾¿é€šè¿‡Binderä¼ é€’</span>
            <span class="hljs-type">Method</span> <span class="hljs-variable">getFileDescriptor</span> <span class="hljs-operator">=</span> MemoryFile.class.getDeclaredMethod(<span class="hljs-string">"getFileDescriptor"</span>);
            <span class="hljs-type">FileDescriptor</span> <span class="hljs-variable">fd</span> <span class="hljs-operator">=</span> (FileDescriptor) getFileDescriptor.invoke(memoryFile);
            mPfd = ParcelFileDescriptor.dup(fd); <span class="hljs-comment">// å¤åˆ¶ä¸€ä»½fd</span>

            <span class="hljs-comment">// 4. é€šè¿‡Binderå°†mPfdä¼ é€’ç»™å®¢æˆ·ç«¯</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IMyAidlInterface</span>.Stub() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> ParcelFileDescriptor <span class="hljs-title function_">getSharedMemoryFd</span><span class="hljs-params">()</span> {
                    <span class="hljs-keyword">return</span> mPfd;
                }
            };
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p><strong>å®¢æˆ·ç«¯æ¥æ”¶å¹¶è¯»å–çš„ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®¢æˆ·ç«¯ï¼šé€šè¿‡AIDLæ¥å£è·å–ParcelFileDescriptorå¹¶è¯»å–</span>
<span class="hljs-type">IMyAidlInterface</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> ...; <span class="hljs-comment">// ä»onServiceConnectedè·å–</span>
<span class="hljs-type">ParcelFileDescriptor</span> <span class="hljs-variable">pfd</span> <span class="hljs-operator">=</span> service.getSharedMemoryFd();
<span class="hljs-keyword">if</span> (pfd != <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-type">FileDescriptor</span> <span class="hljs-variable">fd</span> <span class="hljs-operator">=</span> pfd.getFileDescriptor();
        <span class="hljs-comment">// 1. å°†fdåŒ…è£…æˆFileInputStreamï¼ˆæˆ–è€…ç›´æ¥ä½¿ç”¨JNIçš„mmapï¼‰</span>
        <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">inputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(fd);
        <span class="hljs-comment">// 2. è¯»å–æ•°æ®</span>
        <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];
        <span class="hljs-type">int</span> <span class="hljs-variable">bytesRead</span> <span class="hljs-operator">=</span> inputStream.read(buffer);
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(buffer, <span class="hljs-number">0</span>, bytesRead);
        Log.d(<span class="hljs-string">"Client"</span>, <span class="hljs-string">"Received: "</span> + message);
        
        inputStream.close();
    } <span class="hljs-keyword">catch</span> (IOException e) {
        e.printStackTrace();
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">try</span> {
            pfd.close();
        } <span class="hljs-keyword">catch</span> (IOException e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li><code>MemoryFile.getFileDescriptor()</code>æ˜¯ä¸€ä¸ª<code>@hide</code>æ–¹æ³•ï¼Œä¸Šè¿°ç¤ºä¾‹ä½¿ç”¨äº†åå°„ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­éœ€è¦è€ƒè™‘å…¼å®¹æ€§æˆ–å¯»æ‰¾å…¶ä»–æ–¹å¼ã€‚</li>
<li>æ ¸å¿ƒåœ¨äº<code>ParcelFileDescriptor</code>å¯ä»¥é€šè¿‡Binderä¼ é€’ã€‚</li>
</ul>
<h4 data-id="heading-5"><strong>å…­ã€ æ€»ç»“ä¸å¯ç¤º</strong></h4>
<ul>
<li><strong>Ashmemæ˜¯Androidé«˜æ•ˆå†…å­˜ç®¡ç†çš„åŸºçŸ³ä¹‹ä¸€</strong>ï¼Œå®ƒé€šè¿‡æ–‡ä»¶æè¿°ç¬¦å’Œpin/unpinæœºåˆ¶ï¼Œå®ç°äº†é«˜æ€§èƒ½ã€å¯å›æ”¶çš„è¿›ç¨‹é—´å¤§å†…å­˜å…±äº«ã€‚</li>
<li>å®ƒåœ¨å›¾å½¢ç³»ç»Ÿã€å¤šåª’ä½“ç­‰æ€§èƒ½å…³é”®è·¯å¾„ä¸Šæ‰®æ¼”ç€ä¸å¯æ›¿ä»£çš„è§’è‰²ã€‚</li>
<li>å¯¹äºæ™®é€šå¼€å‘è€…ï¼Œç†è§£å…¶åŸç†æœ‰åŠ©äºæˆ‘ä»¬æ˜ç™½ç³»ç»Ÿåº•å±‚ï¼ˆå¦‚Bitmapä¼ è¾“ï¼‰æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼ˆå¦‚éœ€è¦è‡ªå·±å®ç°è·¨è¿›ç¨‹å¤§æ•°æ®ä¼ è¾“ï¼‰ï¼Œç›´æ¥ä½¿ç”¨<code>MemoryFile</code>æˆ–Native APIæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<p>é€šè¿‡è¿™ç¯‡è§£æï¼Œå¸Œæœ›ä½ èƒ½ç†è§£Ashmemåœ¨Androidç”Ÿæ€ç³»ç»Ÿä¸­çš„åœ°ä½å’Œä»·å€¼ï¼Œå¹¶èƒ½åœ¨å®é™…å¼€å‘ä¸­æ›´å¥½åœ°åˆ©ç”¨æˆ–è§„é¿ç›¸å…³æŠ€æœ¯ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æä¸æ‡‚ä½œç”¨åŸŸé“¾ï¼Ÿè¿™ç¯‡æ–‡ç« è®©ä½ ä¸€çœ¼ç§’æ‡‚ï¼]]></title>    <link>https://juejin.cn/post/7573241978902560783</link>    <guid>https://juejin.cn/post/7573241978902560783</guid>    <pubDate>2025-11-17T08:39:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573241978902560783" data-draft-id="7572524368875126819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æä¸æ‡‚ä½œç”¨åŸŸé“¾ï¼Ÿè¿™ç¯‡æ–‡ç« è®©ä½ ä¸€çœ¼ç§’æ‡‚ï¼"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-17T08:39:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="soda_yo"/> <meta itemprop="url" content="https://juejin.cn/user/3270387091383163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æä¸æ‡‚ä½œç”¨åŸŸé“¾ï¼Ÿè¿™ç¯‡æ–‡ç« è®©ä½ ä¸€çœ¼ç§’æ‡‚ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3270387091383163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    soda_yo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:39:33.000Z" title="Mon Nov 17 2025 08:39:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ–°æ‰‹å“ˆåŸºç±³æä¸æ‡‚ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿæ·±å…¥äº†è§£JSä»£ç çš„æ‰§è¡Œè¿‡ç¨‹è®©ä½ ç§’æ‡‚ä½œç”¨åŸŸé“¾ï¼</p>
<h2 data-id="heading-1">ç»å…¸æ¡ˆä¾‹</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å—åŒ—ç»¿è±†'</span>
    <span class="hljs-title function_">fn</span>()
}
<span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å“ˆåŸºç±³'</span>
<span class="hljs-title function_">fn2</span>()
</code></pre>
<ul>
<li>ç©¶ç«Ÿæ˜¯ä¼šå‡ºç°"å“ˆåŸºç±³",è¿˜æ˜¯"å—åŒ—ç»¿è±†"å‘¢ï¼Ÿè¯¶ï¼Œå…ˆä¸è¦ç€æ€¥å“ˆæ°”ã€‚æƒ³è¦çœŸæ­£å¼„æ¸…è¾“å‡ºç»“æœæ˜¯"å“ˆåŸºç±³"è¿˜æ˜¯"å—åŒ—ç»¿è±†"ã€‚æˆ‘ä»¬å…ˆè¦æ·±å…¥ç†è§£ä¸€ä¸‹è¿™æ®µjsä»£ç ç©¶ç«Ÿæ˜¯æ€æ ·çš„ä¸€ä¸ªæ‰§è¡Œè¿‡ç¨‹ã€‚</li>
</ul>
<h2 data-id="heading-2">ä½œç”¨åŸŸä¸å®ƒçš„åŠ¨æ€è½½ä½“</h2>
<h3 data-id="heading-3">ä½œç”¨åŸŸ</h3>
<ul>
<li>åœ¨ç¨‹åºä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œè¯¥ä½ç½®å†³å®šäº†å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚é€šä¿—æ¥è®²ï¼Œä½œç”¨åŸŸå°±æ˜¯å˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´</li>
</ul>
<h3 data-id="heading-4">å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ : å‡½æ•°ä½œç”¨åŸŸçš„åŠ¨æ€è½½ä½“</h3>
<ol>
<li>ä»€ä¹ˆæ˜¯å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Ÿ
<ul>
<li>å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œjså¼•æ“ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„â€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡â€å¯¹è±¡ï¼Œå¹¶å°†å‡½æ•°ä¸­å£°æ˜çš„å˜é‡ä¸å‡½æ•°éƒ½å­˜åœ¨å…¶ä¸­ã€‚ä¾›å‡½æ•°æ‰§è¡Œæ—¶ä½¿ç”¨ï¼Œç”±æ­¤æ‰å®ç°äº†å‡½æ•°ä½œç”¨åŸŸçš„æ¦‚å¿µã€‚</li>
</ul>
</li>
<li>å…¶ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š
<ul>
<li>å˜é‡ç¯å¢ƒï¼šä¿å­˜ä½¿ç”¨varå…³é”®å­—å£°æ˜çš„å¯¹è±¡å’Œå‡½æ•°å†…éƒ¨å£°æ˜çš„å­å‡½æ•°ï¼Œç”±æ­¤å®ç°å¸¸è§çš„â€œå‡½æ•°ä½œç”¨åŸŸâ€ã€‚</li>
<li>è¯æ³•ç¯å¢ƒï¼šä¿å­˜ä½¿ç”¨letå…³é”®å­—å£°æ˜çš„å¯¹è±¡ï¼Œä¸»è¦ç”¨äºå®ç°â€œå—çº§ä½œç”¨åŸŸâ€çš„åŠŸèƒ½ï¼Œéæœ¬æ–‡é‡ç‚¹ï¼Œä¸åšè¯¦ç»†æè¿°ã€‚</li>
</ul>
</li>
<li>ä¾‹å­ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å—åŒ—ç»¿è±†'</span>
    <span class="hljs-title function_">fn</span>()
}
</code></pre>
<p>å›¾ç‰‡çš„æŠ½è±¡è¡¨è¾¾ï¼šjså¼•æ“ä¼šä¸ºæœ¬å‡½æ•°åˆ›å»ºä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdcc28cc26114fc0ad66c6318156df3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=hwoF71y8tSAxALF1lkMbk9bJ%2B3A%3D" alt="75EE8152-FE72-438e-A284-A224F6A6E135.png" width="70%" loading="lazy"/>
<ol start="4">
<li>æ–°æ‰‹å¯èƒ½éƒ½ä¼šæœ‰ä¸ªç–‘é—®ï¼Ÿ
<ul>
<li>ä¸ºä»€ä¹ˆfnå‡½æ•°æ²¡æœ‰å­˜åœ¨è¿™ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å½“ä¸­å‘¢ï¼Ÿ
<ul>
<li>æ¬¸ï¼Œè¿™å°±å‘Šè¯‰ä½ fnå‡½æ•°çš„å£°æ˜è¢«å­˜åœ¨å“ªé‡Œã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 data-id="heading-5">å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šå…¨å±€ä½œç”¨åŸŸçš„åŠ¨æ€è½½ä½“</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å—åŒ—ç»¿è±†'</span>
    <span class="hljs-title function_">fn</span>()
}
<span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å“ˆåŸºç±³'</span>
<span class="hljs-title function_">fn2</span>()
</code></pre>
<ol>
<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç±»ä¼¼</li>
</ol>
<ul>
<li>
<p>ç”±è¿™ä»½ä»£ç å¯çŸ¥ï¼Œåœ¨è¯¥jsæ–‡ä»¶çš„å…¨å±€ä¸‹ï¼Œå£°æ˜äº†ä¸¤ä¸ªå‡½æ•°ï¼šfnä¸fn2ï¼Œå£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼š myNameã€‚</p>
</li>
<li>
<p>æ‰€ä»¥jså¼•æ“åŒæ ·ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªâ€œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¾›å…¨å±€å‚è€ƒï¼Œç”±æ­¤å½¢æˆå…¨å±€ä½œç”¨åŸŸã€‚</p>
</li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5541e3a683b54beea6c49a6868512f22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=vD4lkRdalQB24TuMYC3xgqRVnrU%3D" alt="461C8CE8-56E8-431a-80AB-0A5FD7C8D366.png" width="70%" loading="lazy"/>
<h3 data-id="heading-6">å¾…è§£å†³çš„ç–‘é—®</h3>
<ul>
<li>å…‰é è¿™äº›æˆ‘ä»¬è¿˜æ— æ³•å¾—çŸ¥fn2æ˜¯å¦‚ä½•è°ƒç”¨åˆ°fnå‡½æ•°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¾—äº†è§£è¿™ä¸¤ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å‡ºç°é¡ºåºï¼Œä»¥åŠjså¼•æ“æ˜¯å¦‚ä½•å¯¹ä»–ä»¬è¿›è¡Œå¤„ç†ï¼Œæ‰èƒ½å¤Ÿæ­£å¸¸çš„æ‰§è¡Œä»£ç ã€‚æ‰€ä»¥æˆ‘ä»¬çš„æ–°æœ‹å‹â€œè°ƒç”¨æ ˆâ€ä¾¿å¯ä»¥ç™»åœºäº†ã€‚</li>
</ul>
<h2 data-id="heading-7">jså¼•æ“çš„å¥½å…„å¼Ÿï¼šè°ƒç”¨æ ˆ</h2>
<ul>
<li>å¸®åŠ©jså¼•æ“æ§åˆ¶ä»£ç æ‰§è¡Œé¡ºåºçš„â€œæ— å½¢æ€å¤§æ‰‹â€</li>
</ul>
<h3 data-id="heading-8">ä»€ä¹ˆæ˜¯è°ƒç”¨æ ˆï¼Ÿ</h3>
<ul>
<li>åè¿›å…ˆå‡ºï¼šå®ƒä¸æˆ‘ä»¬æ‰€çŸ¥çš„â€œæ ˆâ€è¿™ä¸€æ•°æ®ç»“æ„ä¸€æ ·ï¼Œæœ‰ç€â€œåè¿›å…ˆå‡ºâ€ï¼ˆLIFOï¼‰çš„ç‰¹ç‚¹ã€‚</li>
<li>â€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸâ€çš„ç®¡ç†è€…ï¼šjså¼•æ“é€šè¿‡è°ƒç”¨æ ˆé—´æ¥æ§åˆ¶â€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸâ€æ¥ç®¡ç†â€œå‡½æ•°çš„æ‰§è¡Œé¡ºåºâ€ï¼Œç”±æ­¤ç›´æ¥å†³å®šä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚
<ul>
<li>å…·ä½“è¿‡ç¨‹æ˜¯ï¼š æ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œjså¼•æ“ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªâ€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡â€ï¼Œç„¶åå°†è¯¥â€œå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡â€å‹å…¥æ ˆé¡¶ï¼Œjså¼•æ“å°±ä¼šå¼€å§‹æ‰§è¡Œå¤„äºæ ˆé¡¶çš„å‡½æ•°ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œä¾¿ä¼šè®©æ ˆé¡¶å…ƒç´ å‡ºæ ˆã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ ˆçš„è¿‡ç¨‹</h3>
<ul>
<li>å…¨å±€è¢«ç¼–è¯‘æ—¶ï¼Œjså¼•æ“åˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å°†å…¶å‹å…¥è°ƒç”¨æ ˆï¼Œç„¶åå¼€å§‹æ‰§è¡Œå…¨å±€æ²¿ç€å…¨å±€ä¸€è¡Œä¸€è¡Œå¾€ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/358b3cf9cdef45f59bd2289aae100160~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=TreJroaU7Ha4%2BepljARmCDIjgog%3D" alt="845D93CB-BD81-438d-A3B5-9D490ADB5C7A.png" width="50%" loading="lazy"/>
<ul>
<li>å½“å‡†å¤‡æ‰§è¡Œfn2ï¼ˆï¼‰æ—¶ï¼Œjså¼•æ“ä¼šåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾fn2ï¼ˆï¼‰çš„å®šä¹‰ï¼Œå‘ç°å…¶å­˜åœ¨ã€‚jså¼•æ“å¯¹å…¶è¿›è¡Œç¼–è¯‘å¹¶åˆ›å»ºå¯¹åº”å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å°†å…¶å‹å…¥è°ƒç”¨æ ˆï¼Œç„¶åå¼€å§‹æ‰§è¡Œå‡½æ•°fn2ï¼Œä¸€è¡Œä¸€è¡Œå¾€ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02e9da1731114f0aa29a92bb1036bbbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=fxnyu1jr4cnaHIKWdbwyGcU0P08%3D" alt="C06E8B4E-D793-49e6-9A11-21AEFA2F357C.png" width="50%" loading="lazy"/>
<ul>
<li>å½“å‡†å¤‡æ‰§è¡Œfnï¼ˆï¼‰æ—¶ï¼Œjså¼•æ“ä¼šåœ¨fn2å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾fnï¼ˆï¼‰çš„å®šä¹‰ï¼Œæœªå‘ç°å®šä¹‰ï¼Œäºæ˜¯ç»§ç»­å‘å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾fnï¼ˆï¼‰çš„å®šä¹‰ã€‚å‘ç°fnï¼ˆï¼‰å®šä¹‰ï¼Œjså¼•æ“å¯¹å…¶è¿›è¡Œç¼–è¯‘å¹¶åˆ›å»ºå¯¹åº”å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥è°ƒç”¨æ ˆï¼Œç„¶åå¼€å§‹æ‰§è¡Œfnï¼Œä¸€è¡Œä¸€è¡Œå¾€ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/966cd531e81740eea28e8aca67b5645a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=%2ByNFrpf7Oeck93JwTW%2BWAjSm3YY%3D" alt="9C03BEC2-0DD7-4b97-A119-037D2BC2A8C7.png" width="50%" loading="lazy"/>
<h3 data-id="heading-10">æ¶ˆå¤±çš„â€œå—åŒ—ç»¿è±†â€ï¼šäº¤æµçš„å¤±è´¥ï¼Ÿ</h3>
<p>jså¼•æ“å¯¹å˜é‡ä¸å‡½æ•°çš„å¯»æ‰¾è¿‡ç¨‹éš¾é“çœŸçš„åªæ˜¯â€œç”±å†…å‘å¤–å¯»æ‰¾â€ï¼Ÿå¦‚æœæ˜¯è¿™æ ·è¾“å‡ºçš„ç»“æœåº”è¯¥æ˜¯â€œå—åŒ—ç»¿è±†â€æ‰å¯¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e3b7cfac2e44af2903c235390a8383c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=IVZYRXakE%2BaKvhNOGc%2FpILajpL0%3D" alt="951C6781-E75B-4942-BB5D-BBEE88EA7C0E.png" loading="lazy"/></p>
<p>æ€ä¹ˆæ˜¯å“ˆåŸºç±³ï¼Ÿ</p>
<h2 data-id="heading-11">ä½œç”¨åŸŸé“¾ï¼šä½œç”¨åŸŸä¹‹é—´ä»¥outeræŒ‡é’ˆä¸ºé“¾æ¥ï¼Œå½¢æˆçš„å•å‘é“¾è¡¨</h2>
<h3 data-id="heading-12">outeræŒ‡é’ˆï¼šå‡½æ•°æ‰§è¡Œä¸Šæ–‡é—´çš„é“¾æ¥è€…,å‘å¤–å¯»æ‰¾çš„ç½ªé­ç¥¸é¦–</h3>
<ul>
<li>outeræŒ‡é’ˆï¼šå½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šæ–‡è¢«åˆ›å»ºæ—¶ï¼Œå…¶å†…éƒ¨å­˜åœ¨ä¸€ä¸ªæŒ‡é’ˆouteræŒ‡å‘è¯¥å‡½æ•°è¢«å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ</li>
<li>è¯æ³•ä½œç”¨åŸŸï¼šä¸€ä¸ªå‡½æ•°è¢«ç¼–è¯‘æ—¶ä¸€å®šä¼šç”¨ä¸€ä¸ªouteræŒ‡é’ˆè®°å½•è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆä½œç”¨åŸŸï¼‰çš„å¤–å±‚ï¼ˆä½œç”¨åŸŸï¼‰æ˜¯è°ã€‚</li>
</ul>

<ul>
<li>ä¾‹å­ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> num=<span class="hljs-number">0</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">f1</span>(<span class="hljs-params"/>)
{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);
}
<span class="hljs-title function_">fn1</span>()
</code></pre>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdda3bbc54c84ba59cd73ab61f1df32d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=bwYsk0FbZFIt2mhId32V82tYZbM%3D" alt="9E981168-8FAF-4a64-AB56-40E2074FAC46.png" width="70%" loading="lazy"/> 
<p>ç”±æ­¤å½¢æˆäº†ä¸€ä¸ªæœ€ç®€å•çš„ä½œç”¨åŸŸé“¾</p>
<ul>
<li>å½“æ‰§è¡Œå‡½æ•°å†…éƒ¨æ—¶ï¼Œåœ¨å‡½æ•°æ‰§è¡Œä¸Šæ–‡å†…éƒ¨æ— æ³•æ‰¾åˆ°numçš„å£°æ˜ï¼Œjså¼•æ“ä¾¿ä¼šæ²¿ç€outeræŒ‡é’ˆæŒ‡å‘çš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¯»æ‰¾numçš„å£°æ˜</li>
<li>å…¨å±€æ‰§è¡Œä¸Šæ–‡ä¸­å­˜åœ¨numçš„å£°æ˜ï¼Œä¸”numä¸º1</li>
<li>äºæ˜¯ç¨‹åºæ‰§è¡Œè¾“å‡ºä¸º1</li>
</ul>
<h3 data-id="heading-13">ä½œç”¨åŸŸé“¾ï¼šä½œç”¨åŸŸä¹‹é—´ä»¥outeræŒ‡é’ˆä¸ºé“¾æ¥ï¼Œå½¢æˆçš„å•å‘é“¾è¡¨</h3>
<ul>
<li>ç”±ä¸Šè¿°é€»è¾‘ä¸æ–­æ¨å¯¼ï¼Œæœ€å¼€å§‹çš„â€œå—åŒ—ç»¿è±†â€æ¶ˆå¤±ä¹‹è¿·ä¾¿è¿åˆƒè€Œè§£äº†ã€‚</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å—åŒ—ç»¿è±†'</span>
    <span class="hljs-title function_">fn</span>()
}
<span class="hljs-keyword">var</span> myName = <span class="hljs-string">'å“ˆåŸºç±³'</span>
<span class="hljs-title function_">fn2</span>()
</code></pre>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6b287f23fbc41f5a6620ac4e81b2ad3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc29kYV95bw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763973573&amp;x-signature=qvajKXFUHrK1c8q5Wtg3O3WLFng%3D" alt="882B21C2-CB2A-4e9b-8527-4C939FA5927E.png" width="70%" loading="lazy"/>
<h3 data-id="heading-14">æ‰§è¡Œfnï¼ˆï¼‰å‡½æ•°æ—¶ï¼Œå¯»æ‰¾myNameçš„å®šä¹‰çš„è¿‡ç¨‹ï¼š</h3>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåœ¨fnå‡½æ•°æ‰§è¡Œä¸Šæ–‡ä¸­å¯»æ‰¾ï¼ŒæœªæŸ¥æ‰¾åˆ°ã€‚</li>
<li>ç¬¬äºŒéƒ¨ï¼šæ²¿ç€outeræŒ‡é’ˆæŒ‡å‘æŸ¥æ‰¾ä¸Šä¸€çº§ï¼Œåœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å¯»æ‰¾åˆ°myName=â€œå“ˆåŸºç±³â€</li>
<li>è¾“å‡ºå“ˆåŸºç±³</li>
<li>ç”±æ­¤æˆ‘ä»¬å‘ç°ï¼šä½œç”¨åŸŸé“¾çš„å½¢æˆä¸å‡½æ•°è°ƒç”¨çš„è¿‡ç¨‹æ— å…³ã€‚</li>
<li>ä½œç”¨åŸŸé“¾çš„å½¢æˆï¼šä¾èµ–outeræŒ‡é’ˆçš„æŒ‡å‘ã€‚</li>
</ul>
<h2 data-id="heading-15">æ€»ç»“</h2>
<ol>
<li>ä½œç”¨åŸŸï¼š åœ¨ç¨‹åºä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œè¯¥ä½ç½®å†³å®šäº†å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚é€šä¿—æ¥è®²ï¼Œä½œç”¨åŸŸå°±æ˜¯å˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´</li>
<li>è°ƒç”¨æ ˆï¼šLIFOï¼ˆåè¿›å…ˆå‡ºï¼‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œç”¨äºç®¡ç†å‡½æ•°è°ƒç”¨é¡ºåº</li>
<li>æ‰§è¡Œä¸Šä¸‹æ–‡ï¼šä½œç”¨åŸŸçš„åŠ¨æ€è½½ä½“ï¼Œå­˜å‚¨å˜é‡çš„å…·ä½“ç¯å¢ƒ</li>
<li>outeræŒ‡é’ˆï¼šæ¯ä¸€ä¸ªå‡½æ•°å†…éƒ¨éƒ½ä¼šå­˜åœ¨ä¸€ä¸ªæŒ‡é’ˆouterï¼ŒæŒ‡å‘è¯¥å‡½æ•°çš„å¤–å±‚ä½œç”¨åŸŸï¼ˆå…¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼‰</li>
<li>è¯æ³•ä½œç”¨åŸŸï¼šå‡½æ•°æˆ–è€…å˜é‡è¢«å®šä¹‰æ—¶çš„ä»£ç åµŒå¥—ä½ç½®</li>
<li>ä½œç”¨åŸŸé“¾ï¼šä½œç”¨åŸŸä¹‹é—´ä»¥outeræŒ‡é’ˆä¸ºé“¾æ¥ï¼Œå½¢æˆçš„å•å‘é“¾è¡¨</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹æˆæœ¬å¤ªé«˜ï¼Ÿé˜¿é‡Œäº‘Serverless AIåŸç”Ÿæ¶æ„ï¼Œæ•™ä½ æè‡´çœé’±åˆç¨³å¥éƒ¨ç½²ï¼]]></title>    <link>https://juejin.cn/post/7573225720698339380</link>    <guid>https://juejin.cn/post/7573225720698339380</guid>    <pubDate>2025-11-17T08:54:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573225720698339380" data-draft-id="7572010680896176168" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹æˆæœ¬å¤ªé«˜ï¼Ÿé˜¿é‡Œäº‘Serverless AIåŸç”Ÿæ¶æ„ï¼Œæ•™ä½ æè‡´çœé’±åˆç¨³å¥éƒ¨ç½²ï¼"/> <meta itemprop="keywords" content="Serverless"/> <meta itemprop="datePublished" content="2025-11-17T08:54:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹æˆæœ¬å¤ªé«˜ï¼Ÿé˜¿é‡Œäº‘Serverless AIåŸç”Ÿæ¶æ„ï¼Œæ•™ä½ æè‡´çœé’±åˆç¨³å¥éƒ¨ç½²ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T08:54:25.000Z" title="Mon Nov 17 2025 08:54:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šèµµä¸–æŒ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd49fd38d1b04d2da2cb476e52a16258~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=LruOxfCVqSnGg4EmRl7LLXiAokk%3D" alt="image.png" loading="lazy"/></p>
<p><em>æœ¬æ–‡æ•´ç†è‡ª 2025 äº‘æ –å¤§ä¼šï¼Œé˜¿é‡Œäº‘æ™ºèƒ½é›†å›¢äº§å“æ¶æ„å¸ˆ</em> <em><strong>èµµä¸–æŒ¯</strong></em> <em>çš„ä¸»é¢˜æ¼”è®²ã€ŠServerless AI åŸç”Ÿåº”ç”¨æ¶æ„ã€‹</em></p>
<p>åœ¨ AI å¤§æ¨¡å‹æµªæ½®å¸­å·å…¨çƒçš„ä»Šå¤©ï¼Œä¼ä¸šçº·çº·åŠ é€Ÿæ‹¥æŠ± AIï¼Œæ¨åŠ¨æ™ºèƒ½å®¢æœã€å†…å®¹ç”Ÿæˆã€æµç¨‹è‡ªåŠ¨åŒ–ç­‰åœºæ™¯å¿«é€Ÿè½åœ°ã€‚ç„¶è€Œï¼Œè®¸å¤šä¼ä¸šåœ¨å®è·µä¸­å´é­é‡äº†â€œä¸‰é«˜å›°å¢ƒâ€â€”â€”<strong>æˆæœ¬é«˜ã€å¤æ‚åº¦é«˜ã€é£é™©é«˜</strong>ã€‚</p>
<p>ä¸€ä½äº’è”ç½‘å…¬å¸ CTO æ›¾å¦è¨€ï¼šâ€œæ™ºèƒ½å®¢æœæµé‡æš´å¢ï¼Œæ¨¡å‹æœåŠ¡å¾ˆå®¹æ˜“è¢«æ‰“æŒ‚ï¼Œç´§æ€¥æ‰‹åŠ¨æ‰©å®¹åï¼ŒGPU é—²ç½®ç‡é«˜è¾¾ 90%ï¼Œæœˆåº•è´¦å•ç¿»å€ï¼Œè¿˜æœ‰æ•°æ®æ³„æ¼é£é™©ã€‚â€</p>
<p>è¿™å¹¶éä¸ªä¾‹â€”â€”å¤§é‡ä¼ä¸šä»åœ¨ç”¨â€œä¼ ç»Ÿæ¶æ„â€æ‰¿è½½â€œæ–°å‹ AI ä¸šåŠ¡â€ï¼Œè¦è®© AI ä¸šåŠ¡ç®€å•ã€ç¨³å®šã€å®‰å…¨è½åœ°ï¼Œæˆ‘ä»¬å¿…é¡»ä»åŸºç¡€è®¾æ–½åˆ°ä¸šåŠ¡æ¥å…¥å±‚ï¼Œè¿›è¡Œä¸€åœºÂ <strong>AI åŸç”Ÿçš„æ¶æ„é‡å¡‘</strong>ã€‚</p>
<h2 data-id="heading-0">æ¶æ„å˜é©çš„åº•å±‚é€»è¾‘</h2>
<p>è¿‡å»åä½™å¹´é—´ï¼Œåº”ç”¨æ¶æ„æŒç»­æ¼”è¿›ï¼šä»å•ä½“æ¶æ„åˆ°å‚ç›´æ‹†åˆ†ï¼Œå†ç» SOAã€å¾®æœåŠ¡ï¼Œèµ°å‘äº‘åŸç”Ÿï¼Œç›´è‡³ä»Šæ—¥çš„ AI åŸç”Ÿæ¶æ„ã€‚è¿™ä¸€è¿›ç¨‹çš„æœ¬è´¨ï¼Œæ˜¯<strong>ä¸šåŠ¡é€»è¾‘ä¸æ–­è§£è€¦ã€åˆ†å¸ƒåŒ–ä¸æ™ºèƒ½åŒ–çš„è¿‡ç¨‹</strong>ï¼Œæ—¨åœ¨å®ç°æ›´å¿«é€Ÿçš„ä¸šåŠ¡å“åº”ã€æ›´çµæ´»çš„ååŒèƒ½åŠ›ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œåº•å±‚åŸºç¡€è®¾æ–½ä¹ŸåŒæ­¥è¿›åŒ–â€”â€”ä»ç‰©ç†æœºã€è™šæ‹Ÿæœºåˆ°å®¹å™¨ã€Kubernetesï¼Œå†åˆ° Serverlessï¼Œå¦‚ä»Šè¿ˆå‘ Serverless AI çš„æ–°é˜¶æ®µã€‚å…¶æ ¸å¿ƒåœ¨äº<strong>å¯¹èµ„æºä¸èƒ½åŠ›çš„æè‡´æŠ½è±¡</strong>ï¼Œå®ç°æŒ‰éœ€å¼¹æ€§ã€è‡ªåŠ¨ä¼¸ç¼©ï¼Œè®©è®¡ç®—å¦‚åŒæ°´ç”µä¸€èˆ¬éšå–éšç”¨ã€é«˜æ•ˆä¾¿æ·ã€‚</p>
<p>ä¸¤æ¡æ¼”è¿›ä¸»çº¿å…±åŒæ­ç¤ºäº†ä¸€ä¸ªæ¸…æ™°çš„è¶‹åŠ¿ï¼šæœªæ¥çš„æŠ€æœ¯é‡å¿ƒå°†æ„ˆå‘èšç„¦äºä¸šåŠ¡é€»è¾‘æœ¬èº«çš„åˆ›æ–°ä¸å®ç°ï¼Œè€ŒåŸºç¡€è®¾æ–½åˆ™è¶‹äºå…¨é¢æŠ½è±¡åŒ–ã€è‡ªåŠ¨åŒ–å’Œæ™ºèƒ½åŒ–ã€‚å¼€å‘è€…æ— éœ€å†è¿‡å¤šå…³æ³¨åº•å±‚è¿ç»´ç»†èŠ‚ï¼Œè€Œæ˜¯å¯ä»¥ä¸“æ³¨äºåˆ›é€ æ›´é«˜ä»·å€¼çš„ä¸šåŠ¡åœºæ™¯ã€‚è¿™ä¸ä»…æ˜¯æŠ€æœ¯çš„è·ƒè¿ï¼Œæ›´æ˜¯ç”Ÿäº§åŠ›çš„ä¸€æ¬¡æ·±åˆ»å˜é©ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbe8ddfc320d486d85e28355da12993a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=AgSyJH%2BWQI38h5h5QccW31ZqzOI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">AI åŸç”Ÿåº”ç”¨æ¶æ„çš„ä¸‰å¤§æ ¸å¿ƒéœ€æ±‚</h2>
<p>é€šè¿‡ä¸ 300 ä½™å®¶ä¼ä¸šçš„æ·±åº¦äº¤æµï¼ŒAI åŸç”Ÿåº”ç”¨æ¶æ„çš„æ ¸å¿ƒéœ€æ±‚å¯å½’çº³ä¸º<strong>é«˜æ¨¡å‹ç®—åŠ›</strong>ã€<strong>é«˜å¯ç”¨æ€§</strong>åŠ<strong>ä¸¥æ ¼å®‰å…¨ç®¡æ§</strong>ä¸‰å¤§ç»´åº¦ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/259ed5f1e65a4c249541b5bba4d73d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=myzycWolUlgi46Wd8hJhREMbWLk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>1. ç®—åŠ›éœ€æ±‚</strong></p>
<ul>
<li><strong>æˆæœ¬ä¼˜åŒ–ï¼š</strong> GPU ç®—åŠ›æˆæœ¬æ˜¯ CPU çš„æ•°å€ï¼Œä¸”ä¾›åº”æ³¢åŠ¨å¤§ã€‚éœ€æä¾›çµæ´»çš„å¡å‹é€‰æ‹©ï¼ˆå¦‚ N åˆ†ä¹‹ä¸€å¡ï¼‰ã€æŒ‰éœ€ä»˜è´¹æ¨¡å¼åŠé¢„ç•™é—²ç½®èµ„æºç­–ç•¥ï¼Œä»¥å¹³è¡¡æˆæœ¬ä¸æ€§èƒ½ã€‚</li>
<li><strong>ç¨³å®šæ€§ä¿éšœï¼š</strong> é€šè¿‡å¤šå¯ç”¨åŒºéƒ¨ç½²ä¸åŠ¨æ€èµ„æºè°ƒåº¦ï¼Œç¡®ä¿æ¨¡å‹è°ƒç”¨çš„æŒç»­æ€§ä¸èµ„æºåˆ©ç”¨ç‡æœ€å¤§åŒ–ã€‚</li>
</ul>
<p><strong>2. é«˜å¯ç”¨æ€§éœ€æ±‚</strong></p>
<ul>
<li><strong>å…¨é“¾è·¯å®¹ç¾ï¼š</strong> æ”¯æŒå¤šå¯ç”¨åŒºéƒ¨ç½²ï¼Œé¿å…å•ç‚¹æ•…éšœï¼›</li>
<li><strong>é™æµä¸ fallback æœºåˆ¶ï¼š</strong> çªå‘æµé‡æ—¶è‡ªåŠ¨é™æµï¼Œæ¨¡å‹æœåŠ¡å¼‚å¸¸æ—¶æ— ç¼åˆ‡æ¢è‡³å¤‡ç”¨æ¨¡å‹ï¼Œä¿éšœä¸šåŠ¡è¿ç»­æ€§ã€‚</li>
</ul>
<p><strong>3. å®‰å…¨ç®¡æ§éœ€æ±‚</strong></p>
<ul>
<li><strong>è¾“å…¥è¾“å‡ºåˆè§„æ€§ï¼š</strong> æ¨¡å‹è¾“å…¥è¾“å‡ºå‡è®¾å†…å®¹å®‰å…¨é˜²æŠ¤ï¼Œè¿‡æ»¤è¿è§„å†…å®¹ã€æ•æ„Ÿä¿¡æ¯ç­‰ï¼›</li>
<li><strong>æ¶ˆè´¹è€…é‰´æƒï¼š</strong> ä¸åŒå›¢é˜Ÿæˆ–ä¸åŒç”¨æˆ·è¯·æ±‚å¸¦æœ‰ä¸åŒçš„é‰´æƒå‡­è¯ï¼Œæƒé™æœ€å°åŒ–ï¼›</li>
<li><strong>å…¨é“¾è·¯ç›‘æ§ï¼š</strong> å®ç°ä»ç½‘å…³åˆ°ç®—åŠ›çš„å…¨é“¾è·¯å¯è§‚æµ‹ä½“ç³»ï¼›</li>
</ul>
<p>æ€»ç»“æ¥è¯´ï¼ŒAI åŸç”Ÿåº”ç”¨æ¶æ„éœ€è¦çš„æ˜¯ï¼š<strong>ç®€å•æ˜“ç”¨çš„å¼€å‘ä½“éªŒã€ç”Ÿäº§çº§çš„æ€§èƒ½ã€ç¨³å®šæ€§å’Œå®‰å…¨ä¿éšœã€‚</strong></p>
<h2 data-id="heading-2">Serverless AI åŸç”Ÿæ¶æ„çš„å…¨æ ˆèƒ½åŠ›æ”¯æ’‘</h2>
<p>ä¸ºæ»¡è¶³ä¸Šè¿°éœ€æ±‚ï¼ŒServerless AI åŸç”Ÿåº”ç”¨æ¶æ„åº”è¿è€Œç”Ÿã€‚åœ¨è¯¥æ¶æ„ä¸­ï¼Œæ¨¡å‹å¯é€šè¿‡ Serverless GPUï¼ˆå³å‡½æ•°è®¡ç®— FCï¼‰è¿›è¡Œéƒ¨ç½²ï¼Œä¸ Agent ç›¸å…³çš„ Sandboxã€MCP Serverã€E2B ç­‰æœåŠ¡ä¹Ÿå¯æ‰˜ç®¡äº FCã€‚AI ç½‘å…³ä½œä¸ºæ¨¡å‹ä¸ MCP æœåŠ¡çš„ä»£ç†å±‚ï¼Œæä¾›é™æµã€é‰´æƒã€å¯è§‚æµ‹æ€§ä¸å®‰å…¨æŠ¤æ ç­‰åŠŸèƒ½ã€‚AI Agent çš„å¼€å‘æ”¯æŒä½ä»£ç ã€é›¶ä»£ç åŠé«˜ä»£ç æ–¹å¼ï¼Œå¯éƒ¨ç½²äº FC æˆ– SAEã€‚Agent å‰ç«¯é€šè¿‡ç½‘å…³è¿›è¡Œä»£ç†ï¼Œå…¨é“¾è·¯é…å¤‡ AI åº”ç”¨è§‚æµ‹èƒ½åŠ›ï¼Œå®ç°ç«¯åˆ°ç«¯å¯è§‚æµ‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/286004560bb74cd6993c7024af971c4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=LAlZibIcB2x9%2FFDoTfesWjyKUAk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯¥æ¶æ„å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<h3 data-id="heading-3">ç‰¹å¾ä¸€ï¼šå…¨æ ˆ Serverlessï¼Œæè‡´ç®€åŒ–è¿ç»´</h3>
<p>æ•´ä¸ªæ¶æ„ä¸­ï¼Œå‡½æ•°è®¡ç®— FCã€SAEï¼ˆServerlessåº”ç”¨å¼•æ“ï¼‰ã€MSE Nacosã€RocketMQã€AI ç½‘å…³ç­‰å…³é”®ç»„ä»¶å‡ä¸º Serverless å½¢æ€æˆ–å…·å¤‡ Serverless ç‰¹æ€§ã€‚æ— éœ€ç®¡ç†åº•å±‚æœåŠ¡å™¨ï¼Œè‡ªåŠ¨æ‰©ç¼©å®¹çœŸæ­£åšåˆ°â€œä¸€é”®éƒ¨ç½²ã€å¼€ç®±å³ç”¨â€ã€‚</p>
<h3 data-id="heading-4">ç‰¹å¾äºŒï¼šå…¨é“¾è·¯é«˜å¯ç”¨ï¼Œä¿éšœä¸šåŠ¡è¿ç»­æ€§</h3>
<p>æ¶æ„ä¸­çš„æ¯ä¸€ä¸ªäº§å“èŠ‚ç‚¹å‡æ”¯æŒå¤šå¯ç”¨åŒºéƒ¨ç½²ï¼Œå…·å¤‡è·¨åŒºåŸŸå®¹ç¾èƒ½åŠ›ã€‚ç‰¹åˆ«æ˜¯å‡½æ•°è®¡ç®— FC æä¾›çš„ Serverless GPU å®ä¾‹ï¼Œå·²å®ç°ä¸‰å¯ç”¨åŒºå†—ä½™éƒ¨ç½²ï¼Œå¹¶é…å¤‡å®ä¾‹çº§å¥åº·æ£€æŸ¥ä¸è‡ªåŠ¨æ¢å¤æœºåˆ¶ï¼Œæå¤§æå‡äº†æ¨¡å‹æœåŠ¡çš„ç¨³å®šæ€§ã€‚</p>
<p>æ­¤å¤–ï¼ŒAI ç½‘å…³å†…ç½® Fallback æœºåˆ¶ï¼Œåœ¨ä¸»æ¨¡å‹ä¸å¯ç”¨æ—¶å¯è‡ªåŠ¨åˆ‡æ¢è‡³å¤‡ç”¨æ¨¡å‹ï¼Œç¡®ä¿å…³é”®ä¸šåŠ¡ä¸ä¸­æ–­ã€‚</p>
<h3 data-id="heading-5">ç‰¹å¾ä¸‰ï¼šåŒå±‚å®‰å…¨ä¿éšœï¼Œæ„ç­‘å¯ä¿¡ AI é˜²çº¿</h3>
<p>å®‰å…¨è´¯ç©¿æ•´ä¸ªè°ƒç”¨é“¾è·¯ï¼š</p>
<ul>
<li><strong>è¿è¡Œæ—¶å®‰å…¨</strong>ï¼šFC å’Œ SAE é‡‡ç”¨å®ä¾‹éš”ç¦»æœºåˆ¶ï¼Œé˜²æ­¢ç§Ÿæˆ·é—´å¹²æ‰°ï¼›</li>
<li><strong>è°ƒç”¨å±‚å®‰å…¨</strong>ï¼šAI ç½‘å…³æä¾›æ¶ˆè´¹è€…é‰´æƒã€API Key ç®¡ç†ã€å†…å®¹å®¡æ ¸ç­‰åŠŸèƒ½ï¼Œæœ‰æ•ˆé˜²èŒƒæœªæˆæƒè®¿é—®ä¸æ¶æ„æ”»å‡»ã€‚</li>
</ul>
<h3 data-id="heading-6">ç‰¹å¾å››ï¼šç®€å•æ˜“ç”¨ï¼ŒåŠ é€Ÿ AI åˆ›æ–°è½åœ°</h3>
<p>æ‰€æœ‰äº§å“éƒ½æ˜¯äº‘ä¸Šæ‰˜ç®¡ï¼Œä¸€é”®éƒ¨ç½²å¯åŠ¨ï¼Œå¸¸è§æ¨¡å‹ä¸ MCP æœåŠ¡å·²å°è£…ä¸ºæ¨¡æ¿ï¼Œå¯åœ¨Â <strong>FunctionAI å¹³å°ä¸€é”®éƒ¨ç½²</strong>ï¼Œä¸ç®¡ä½ æ˜¯é›¶ä»£ç ç”¨æˆ·ã€ä½ä»£ç å¼€å‘è€…ï¼Œè¿˜æ˜¯èµ„æ·±å·¥ç¨‹å¸ˆï¼Œéƒ½èƒ½æ‰¾åˆ°é€‚åˆä½ çš„å…¥å£ã€‚</p>
<h2 data-id="heading-7">Serverless AI æ¶æ„çš„æ ¸å¿ƒç»„ä»¶</h2>
<h3 data-id="heading-8">å‡½æ•°è®¡ç®— FCï¼šå®šä¹‰ Serverless ç»ˆæå½¢æ€</h3>
<p>å®šä½ä¸ºå¼¹æ€§ç»æµçš„å…¨æ‰˜ç®¡ Serverless è®¡ç®—æœåŠ¡ï¼Œä¸“ç”¨äºéƒ¨ç½²å¤§æ¨¡å‹ä¸ MCP å·¥å…·ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb7e9a2d750c475aa4a1bd43c20f4de4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=qAJIv2A%2FhJh0YlehUjpPcT7MlHk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>ç»æµé™æœ¬</strong>ï¼šæ”¯æŒå¡åˆ‡åˆ†ï¼ˆ1/N GPUï¼‰ã€é˜¶æ¢¯å®šä»·ã€å¸¸é©»å®ä¾‹ç­‰ç­–ç•¥ï¼Œæ•´ä½“ GPU åˆ©ç”¨ç‡è¶… 50%ï¼Œæˆæœ¬æ›´ä½ã€‚</li>
<li><strong>æè‡´å¼¹æ€§</strong>ï¼š<strong>GPU å®ä¾‹å¯åŠ¨å¿«ï¼ˆæ¯«ç§’çº§/ç§’çº§ï¼‰</strong> ï¼Œé€šè¿‡<strong>è¯·æ±‚æ„ŸçŸ¥è°ƒåº¦æ˜¾è‘—é™ä½ RT æŠ–åŠ¨ï¼Œ</strong> æ”¯æŒå®šæ—¶/æ°´ä½ä¼¸ç¼©ã€å»¶è¿Ÿé‡Šæ”¾ã€ä¼šè¯äº²å’Œã€‚</li>
<li><strong>å¼€å‘æ¡†æ¶é›†æˆ</strong>ï¼šå†…ç½® MCP Serverã€Sandbox ç­‰æœåŠ¡è¿è¡Œæ—¶ï¼Œæ”¯æŒæ¨¡å‹å¾®è°ƒé•œåƒä¸€é”®éƒ¨ç½²ï¼› Â </li>
<li><strong>è¿ç»´èƒ½åŠ›</strong>ï¼šæä¾›é•œåƒåŠ é€Ÿã€èµ„æºè°ƒåº¦ã€è¯·æ±‚çº§ç›‘æ§æ—¥å¿—ï¼Œå®ç°é›¶è¿ç»´ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-9">AI ç½‘å…³ï¼šä¼ä¸šçº§ AI æµé‡ä¸­æ¢</h3>
<p>ä½œä¸º<strong>æ¨¡å‹ã€MCPã€Agent çš„ç»Ÿä¸€æ¥å…¥å…¥å£</strong>ï¼Œæ‰¿æ‹…å®‰å…¨ã€æ²»ç†ä¸è°ƒåº¦èŒè´£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5be4c0ead99e4d3b909484dd08900a06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763974465&amp;x-signature=f1%2FUq1Ri4N8nUDftJQmEiCo9w1k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>ç»Ÿä¸€ä»£ç†</strong>ï¼šæ”¯æŒå¤šæ¨¡å‹è·¯ç”±ã€MCP åè®®é€‚é…ã€Agent API å°è£…ï¼Œç®€åŒ–è°ƒç”¨å¤æ‚åº¦ï¼›</li>
<li><strong>å®‰å…¨é‰´æƒ</strong>ï¼šé›†ä¸­ç®¡ç† API-KEYï¼Œæ”¯æŒäºŒæ¬¡åˆ†å‘ä¸æ¶ˆè´¹è€…èº«ä»½éªŒè¯ï¼Œè®¾ç½® AI å®‰å…¨æŠ¤æ é˜²èŒƒæ¶æ„è¾“å…¥ä¸è¾“å‡ºï¼›</li>
<li><strong>é«˜å¯ç”¨ä¿éšœ</strong>ï¼šå¤šå¯ç”¨åŒºéƒ¨ç½² + fallback æœºåˆ¶ï¼Œå¼‚å¸¸æ—¶è‡ªåŠ¨åˆ‡æ¢å¤‡ç”¨æ¨¡å‹ï¼Œæ”¯æŒç²¾ç»†åŒ–é™æµï¼Œä¿éšœæ ¸å¿ƒä¸šåŠ¡ç¨³å®šæ€§ï¼›Â </li>
<li><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼šå†…ç½® AI ç¼“å­˜å‡å°‘ç®—åŠ›èµ„æºæ¶ˆè€—ï¼Œç»“åˆè§‚æµ‹èƒ½åŠ›å®ç° Token çº§æˆæœ¬ç›‘æ§ï¼›</li>
<li><strong>çµæ´»æ‰©å±•</strong>ï¼šæ”¯æŒåŠ¨æ€ç»„è£… MCP æ–°å·¥å…·é“¾ï¼Œå¿«é€Ÿæ¥å…¥å¤–éƒ¨ AI æœåŠ¡ã€‚</li>
</ul>
<h2 data-id="heading-10">æ€»ç»“å±•æœ›</h2>
<p>Serverless AI åŸç”Ÿæ¶æ„ä¸ä»…æ˜¯æŠ€æœ¯æ¼”è¿›ï¼Œæ›´æ˜¯ä¼ä¸šæ™ºèƒ½åŒ–è½¬å‹çš„å…³é”®åŸºç¡€è®¾æ–½ã€‚å®ƒè®©å¼€å‘è€…èšç„¦ä¸šåŠ¡é€»è¾‘ï¼Œè®©ä¼ä¸šå‘Šåˆ«â€œåŸºå»ºç„¦è™‘â€ï¼Œè®© AI çœŸæ­£â€œé£å…¥å¯»å¸¸ç™¾å§“å®¶â€ã€‚</p>
<p>æ­£å¦‚æœ¬æ¬¡æ¼”è®²å°¾å£°æ‰€è¯´ï¼šâ€œ<strong>è®©æ¶æ„ä¸ºä¸šåŠ¡èµ‹èƒ½ï¼Œè®© AI ä¸ºä¸–ç•Œåˆ›é€ æ›´å¤šå¯èƒ½ã€‚</strong> â€</p>
<p>é˜¿é‡Œäº‘å°†æŒç»­æŠ•å…¥ Serverless ä¸ AI åŸç”Ÿæ¶æ„ç ”å‘ï¼Œæºæ‰‹æ›´å¤šè¡Œä¸šä¼™ä¼´ï¼Œå…±åŒæ„å»ºå¼€æ”¾ã€æ™ºèƒ½ã€å®‰å…¨çš„æ–°ä¸€ä»£ AI åº”ç”¨ç”Ÿæ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>