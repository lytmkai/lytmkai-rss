<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€]]></title>    <link>https://juejin.cn/post/7592451049233104942</link>    <guid>https://juejin.cn/post/7592451049233104942</guid>    <pubDate>2026-01-07T11:08:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592451049233104942" data-draft-id="7574322843049230386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€"/> <meta itemprop="keywords" content="Android,Gson,Kotlin"/> <meta itemprop="datePublished" content="2026-01-07T11:08:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PuddingSama"/> <meta itemprop="url" content="https://juejin.cn/user/4152181101706967"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gson å¾ˆå¥½ï¼Œä½†åœ¨Kotlinä¸Šæœ‰æ›´åˆé€‚çš„åºåˆ—åŒ–å·¥å…·ã€ŒKotlin Serializationã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4152181101706967/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PuddingSama
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:08:17.000Z" title="Wed Jan 07 2026 11:08:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬æ¥çœ‹çœ‹ Gson çš„å®˜æ–¹ä»‹ç»ï¼š</p>
<p>Gsonæ˜¯ä¸€ä¸ªJavaåº“ï¼Œå¯ç”¨äºå°†Javaå¯¹è±¡è½¬æ¢ä¸ºå…¶JSONè¡¨ç¤ºå½¢å¼ã€‚å®ƒè¿˜å¯ä»¥ç”¨äºå°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºç­‰æ•ˆçš„Javaå¯¹è±¡ã€‚Gsonèƒ½å¤Ÿå¤„ç†ä»»æ„Javaå¯¹è±¡ï¼ŒåŒ…æ‹¬é‚£äº›ä½ æ²¡æœ‰æºä»£ç çš„ç°æœ‰å¯¹è±¡ã€‚</p>
<p><strong>Gson çš„ä¸»è¦å…³æ³¨ç‚¹æ˜¯ Javaã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå°†å…¶ä¸ Kotlin æˆ– Scala ç­‰å…¶ä»– JVM è¯­è¨€ä¸€èµ·ä½¿ç”¨å¯èƒ½æ•ˆæœå¾ˆå¥½ï¼Œä½†ä¸æ”¯æŒç‰¹å®šäºè¯­è¨€çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ Kotlin çš„é<code>null</code>ç±»å‹æˆ–å¸¦æœ‰é»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ä»¤äººå›°æƒ‘çš„é”™è¯¯è¡Œä¸ºã€‚</strong></p>
<p><strong>ä½¿ç”¨ Java ä»¥å¤–çš„è¯­è¨€æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©å¯¹è¯¥è¯­è¨€æœ‰æ˜ç¡®æ”¯æŒçš„ JSON åº“ã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæˆ–åº“å¯èƒ½åœ¨Androidä¸Šè¿è¡Œï¼Œè¯·è€ƒè™‘ä½¿ç”¨ Kotlinåºåˆ—åŒ–æˆ–Moshiçš„ä»£ç ç”Ÿæˆå™¨</strong>ï¼Œå®ƒä»¬ä½¿ç”¨ä»£ç ç”Ÿæˆè€Œéåå°„ã€‚è¿™æ ·å¯ä»¥é¿å…Gsonåœ¨åº”ç”¨ä¼˜åŒ–æ—¶ï¼ˆé€šå¸¸æ˜¯ç”±äºå­—æ®µç¼ºå¤±æˆ–è¢«æ··æ·†ï¼‰å‡ºç°è¿è¡Œæ—¶å´©æºƒï¼Œå¹¶èƒ½åœ¨Androidè®¾å¤‡ä¸Šå¸¦æ¥æ›´å¿«çš„æ€§èƒ½ã€‚å¯¹äºå·²ç»ç†Ÿæ‚‰Gsonçš„ç”¨æˆ·æ¥è¯´ï¼ŒMoshiçš„APIå¯èƒ½æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚å¦‚æœæ‚¨ä»ç„¶æƒ³ä½¿ç”¨Gsonå¹¶å°è¯•é¿å…è¿™äº›å´©æºƒï¼Œå¯ä»¥åœ¨æ­¤å¤„äº†è§£å…·ä½“æ–¹æ³•ã€‚</p>
<p>ä»¥ä¸Šæ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2Fgson" target="_blank" title="https://github.com/google/gson" ref="nofollow noopener noreferrer">Gson</a>å®˜æ–¹ä»‹ç»ï¼Œä¸Šé¢ç›´æ¥å‘ŠçŸ¥ç”¨æˆ·åœ¨ Android å¼€å‘ Kotlin æ—¶ä»£ä¸æ¨èä½¿ç”¨ Gson è€Œåº”è¯¥ä½¿ç”¨ Kotlin Serializationã€‚ä½†æ˜¯æˆ‘ä¼°è®¡ç›¸å½“ä¸€å¤§éƒ¨åˆ† Android å¼€å‘è€…å¹¶æ²¡æœ‰çœ‹åˆ°è¿‡è¿™äº›æè¿°ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º Gson è¯ç”Ÿäº Android Java è¯­è¨€æ—¶ä»£ï¼ŒKotlin ä¸ Java å…¼å®¹ï¼Œæ‰€ä»¥åœ¨è½¬ç§»åˆ°Kotlinè¯­è¨€å¼€å‘æ—¶ï¼Œæ—§æ—¶ä»£çš„ä¼˜ç§€å·¥å…·è¢«ç»§æ‰¿äº†ä¸‹æ¥ï¼Œå¹¶ä¸”åœ¨å¤šæ•°æ—¶å€™ä½¿ç”¨ï¼Œå¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ï¼Œæ‰€æœ‰ Gson ä¾æ—§æ´»è·ƒåœ¨ Kotlin æ—¶ä»£çš„ Andorid å¼€å‘ä¸­ã€‚</p>
<p>é‚£ä¹ˆ Gson åœ¨ Kotlin ä¸Šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String = <span class="hljs-string">""</span>, <span class="hljs-keyword">val</span> age: String = <span class="hljs-string">""</span>)
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tom"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Studentç±»æœ‰ä¸¤ä¸ªéç©ºå­—æ®µ <code>val name: String, val age: String</code>, Json åªæœ‰ä¸€ä¸ª <code>name</code> å­—æ®µã€‚æˆ‘ä»¬æœŸæœ›å¦‚æœJson string æ²¡æœ‰æŸä¸ªå­—æ®µåˆ™åº”è¯¥ä½¿ç”¨ Studentç±»å­—æ®µçš„é»˜è®¤å€¼ï¼Œå¾ˆæœ´ç´ çš„æœŸæœ›ï¼Œå¯¹å§ï¼Ÿ</p>
<p>ä½†å®é™…å½“ä½ ç”¨ Gson ååºåˆ—åŒ–ä¹‹åï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª <code>name=="Tom" age==null</code> çš„ Student å¯¹è±¡ï¼Œ<strong>ç©ºå®‰å…¨ä¸å†å®‰å…¨ï¼ŒåŒæ—¶é»˜è®¤å€¼ä¹Ÿä¸€èµ·å¤±æ•ˆ</strong>ã€‚</p>
<h2 data-id="heading-0">é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</h2>
<p>Gsonåˆ›å»ºå› å¯¹è±¡ç±»å‹çš„ä¸åŒï¼Œåˆ†ä¸º4ç§æƒ…å†µï¼š</p>
<ul>
<li>
<p>åŸºç¡€ç±»å‹ã€ä»¥åŠåŸºç¡€ç±»å‹çš„åŒ…è£…ç±»å‹ç­‰ç”±Gsonæä¾›çš„TypeAdapteré€šè¿‡ new å…³é”®å­—åˆ›å»º</p>
</li>
<li>
<p>æšä¸¾ç±»å‹åœ¨EnumTypeAdapterä¸­åªæ˜¯é€šè¿‡æšä¸¾åç§°åˆ‡æ¢ä¸åŒçš„æšä¸¾å¸¸é‡ï¼Œä¸æ¶‰åŠå¯¹è±¡çš„åˆ›å»º</p>
</li>
<li>
<p>é›†åˆå’Œmapç­‰å®¹å™¨ç±»å‹é€šè¿‡Gsonå†…ç½®çš„å¯¹è±¡åˆ›å»ºå·¥å‚ï¼Œè°ƒç”¨ new å…³é”®å­—è¿›è¡Œåˆ›å»º</p>
</li>
<li>
<p>Java Beanå¯¹è±¡çš„åˆ›å»ºæ¯”è¾ƒå¤æ‚ï¼Œåˆ†ä¸º3ç§æƒ…å†µï¼Œä¼˜å…ˆçº§ç”±ä¸Šåˆ°ä¸‹ä¾æ¬¡é™ä½:</p>
<ul>
<li>å¼€å‘è€…å®šä¹‰äº†å¯¹è±¡åˆ›å»ºå·¥å‚<code>InstanceCreator</code>ï¼Œåˆ™ä½¿ç”¨è¯¥å·¥å‚åˆ›å»ºï¼›</li>
<li>å­˜åœ¨é»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°ï¼Œé€šè¿‡åå°„æ„é€ å‡½æ•°åˆ›å»ºï¼›</li>
<li>ä½¿ç”¨<code>Unsafe API</code> åˆ›å»ºã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-java" lang="java">#ConstructorConstructor.java
<span class="hljs-keyword">public</span> &lt;T&gt; ObjectConstructor&lt;T&gt; <span class="hljs-title function_">get</span><span class="hljs-params">(TypeToken&lt;T&gt; typeToken)</span> {
	<span class="hljs-comment">// 1.è·å–TypeTokenå¯¹åº”çš„ç±»å‹(Type)å’ŒåŸå§‹ç±»å‹(Class&lt;? super T&gt;ï¼‰</span>
	<span class="hljs-keyword">final</span> <span class="hljs-type">Type</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> typeToken.getType();
	Class&lt;? <span class="hljs-built_in">super</span> T&gt; rawType = typeToken.getRawType();
	<span class="hljs-comment">// 2.ä»instanceCreatorsä¸­æ ¹æ®ç±»å‹(Type)è·å–å¯¹åº”çš„å®ä¾‹åˆ›å»ºå™¨(InstanceCreator)</span>
	<span class="hljs-comment">//   å¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡æ„é€ å™¨ï¼Œè¯¥æ„é€ å™¨ä½¿ç”¨è¯¥å®ä¾‹åˆ›å»ºå™¨æ¥åˆ›å»ºå¯¹è±¡</span>
	<span class="hljs-keyword">final</span> InstanceCreator&lt;T&gt; typeCreator = (InstanceCreator)<span class="hljs-built_in">this</span>.instanceCreators.get(type);
	<span class="hljs-keyword">if</span> (typeCreator != <span class="hljs-literal">null</span>) {
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectConstructor</span>&lt;T&gt;() {
			<span class="hljs-keyword">public</span> T <span class="hljs-title function_">construct</span><span class="hljs-params">()</span> {
				<span class="hljs-keyword">return</span> typeCreator.createInstance(type);
			}
		};
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-comment">// 3.å¦‚æœæ­¥éª¤2ä¸­æ²¡æœ‰è·å–åˆ°å®ä¾‹åˆ›å»ºå™¨ï¼Œåˆ™å°è¯•æ ¹æ®åŸå§‹ç±»å‹(rawType)ä»instanceCreatorsä¸­è·å–å®ä¾‹åˆ›å»ºå™¨</span>
		<span class="hljs-comment">// å¦‚æœå­˜åœ¨ï¼Œåˆ™åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡æ„é€ å™¨ï¼Œè¯¥æ„é€ å™¨ä½¿ç”¨è¯¥å®ä¾‹åˆ›å»ºå™¨æ¥åˆ›å»ºå¯¹è±¡ã€‚</span>
		<span class="hljs-keyword">final</span> InstanceCreator&lt;T&gt; rawTypeCreator = (InstanceCreator)<span class="hljs-built_in">this</span>.instanceCreators.get(rawType);
		<span class="hljs-keyword">if</span> (rawTypeCreator != <span class="hljs-literal">null</span>) {
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectConstructor</span>&lt;T&gt;() {
				<span class="hljs-keyword">public</span> T <span class="hljs-title function_">construct</span><span class="hljs-params">()</span> {
					<span class="hljs-keyword">return</span> rawTypeCreator.createInstance(type);
				}
			};
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-comment">// 4.å¦‚æœæ­¥éª¤2å’Œæ­¥éª¤3éƒ½æ²¡æœ‰è·å–åˆ°å®ä¾‹åˆ›å»ºå™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newDefaultConstructoræ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤æ„é€ å™¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥æ„é€ å™¨ï¼ˆæ— å‚æ„é€ å‡½æ•°ï¼‰</span>
			ObjectConstructor&lt;T&gt; defaultConstructor = <span class="hljs-built_in">this</span>.newDefaultConstructor(rawType);
			<span class="hljs-keyword">if</span> (defaultConstructor != <span class="hljs-literal">null</span>) {
				<span class="hljs-keyword">return</span> defaultConstructor;
			} <span class="hljs-keyword">else</span> {
				<span class="hljs-comment">// 5.å¦‚æœæ­¥éª¤4ä¸­æ²¡æœ‰åˆ›å»ºåˆ°é»˜è®¤æ„é€ å™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newDefaultImplementationConstructoræ–¹æ³•åˆ›å»ºä¸€ä¸ªé»˜è®¤å®ç°æ„é€ å™¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›è¯¥æ„é€ å™¨ï¼ˆå®¹å™¨ç±»å‹ï¼‰</span>
				ObjectConstructor&lt;T&gt; defaultImplementation = <span class="hljs-built_in">this</span>.newDefaultImplementationConstructor(type, rawType);
				<span class="hljs-comment">// 6.å¦‚æœæ­¥éª¤5ä¸­æ²¡æœ‰åˆ›å»ºåˆ°é»˜è®¤å®ç°æ„é€ å™¨ï¼Œåˆ™å°è¯•è°ƒç”¨newUnsafeAllocatoræ–¹æ³•åˆ›å»ºä¸€ä¸ªä¸å®‰å…¨çš„åˆ†é…å™¨æ„é€ å™¨ï¼Œæœ€åè¿”å›è¯¥æ„é€ å™¨ï¼ˆUnsafeï¼‰</span>
				<span class="hljs-keyword">return</span> defaultImplementation != <span class="hljs-literal">null</span> ? defaultImplementation : <span class="hljs-built_in">this</span>.newUnsafeAllocator(type, rawType);
			}
		}
	}
}

</code></pre>
<p>é€šè¿‡ä¸Šæ–‡æˆ‘ä»¬åˆ†æå¯çŸ¥ï¼Œå½“Javaç±»æœªæä¾›é»˜è®¤çš„æ— å‚æ„é€ å‡½æ•°æ—¶ï¼ŒGsonä¼šä½¿ç”¨ Unsafe API æ¥åˆ›å»ºå¯¹è±¡ï¼Œè¿™ç§åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ä¸ä¼šè°ƒç”¨æ„é€ å‡½æ•°ï¼Œå› æ­¤ä¼šå¯¼è‡´ä»¥ä¸‹å‡ ä¸ªå¯èƒ½çš„é—®é¢˜ï¼š</p>
<ul>
<li>é»˜è®¤å€¼ä¸¢å¤±ï¼›</li>
<li>Kotlin éç©ºç±»å‹å¤±æ•ˆï¼›</li>
<li>åˆå§‹åŒ–å—å¯èƒ½ä¸ä¼šæ­£å¸¸æ‰§è¡Œ</li>
</ul>
<p>å…·ä½“æºç é˜…è¯»å¯ä»¥å‚è€ƒï¼š<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">ã€Œèµç ã€æ›´ä¼˜é›…çš„ä½¿ç”¨Gsonè§£æ</a></p>
<h2 data-id="heading-1">Kotlin Serialization VS Gson</h2>
<p>ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œå®˜æ–¹æ¨å‡ºäº† kotlin serializationåº“ï¼Œè®©ä½ çš„ <code>data class</code>èƒ½ä¿æŒå®ƒçš„ç‰¹æ€§ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªæ³¨è§£<code>@Serializable</code></p>
<h3 data-id="heading-2">é»˜è®¤å€¼</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String = <span class="hljs-string">"10"</span>)

<span class="hljs-keyword">val</span> jsonString = <span class="hljs-string">"""{ "name": "Tom" }"""</span> 
<span class="hljs-keyword">val</span> objByGson = 
    Gson().fromJson(jsonString, Student::<span class="hljs-keyword">class</span>.java) <span class="hljs-comment">// ç»“æœ Student(name=Tom, age=null)</span>
<span class="hljs-keyword">val</span> objByKotlinxSerialization = 
    Json.decodeFromString&lt;Student&gt;(jsonString)<span class="hljs-comment">// ç»“æœ Student(name=Tom, age=10)</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ° kotlinx.serialization æ­£ç¡®çš„å¤„ç†äº†é»˜è®¤å€¼ï¼Œè€ŒGsonå¿½ç•¥äº†é»˜è®¤å€¼</p>
<h3 data-id="heading-3">ç©ºå®‰å…¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String)

<span class="hljs-keyword">val</span> jsonString = <span class="hljs-string">"""{ "name": "Tom" }"""</span> 
<span class="hljs-keyword">val</span> objByGson = 
    Gson().fromJson(jsonString, Student::<span class="hljs-keyword">class</span>.java) <span class="hljs-comment">// ç»“æœ Student(name=Tom, age=null)</span>
<span class="hljs-keyword">val</span> objByKotlinxSerialization = 
    Json.decodeFromString&lt;Student&gt;(jsonString)<span class="hljs-comment">// ç»“æœ æŠ›å‡ºå¼‚å¸¸</span>
</code></pre>
<p>ä¸ºä¿è¯ kotlin çš„ç©ºå®‰å…¨ç‰¹æ€§ï¼Œkotlinx.serialization åœ¨ååºåˆ—åŒ–æ—¶ï¼Œå¦‚æœæŸä¸ªä¸å¯ç©ºç±»å‹çš„å­—æ®µåœ¨ json å­—ç¬¦ä¸²ä¸­ç¼ºå¤±åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š<code>kotlinx.serialization.MissingFieldException: Field 'age' is required for type with serial name 'Student'</code>,è€ŒGson åˆ™ä¼šåºåˆ—åŒ–æˆåŠŸï¼Œä½†æ˜¯ data class çš„ä¸å¯ç©ºç±»å‹å®šä¹‰ä¾¿è¢«çªç ´ï¼Œè¿™è¿èƒŒäº†å¼€å‘è€…çš„æœŸæœ›ã€‚<strong>è¿™å…¶å®æ˜¯ Gson åœ¨ kotlin ä¸­ååºåˆ—åŒ–é‡åˆ°æœ€éº»çƒ¦çš„é—®é¢˜ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ˜æ˜å®šä¹‰çš„ç±»å‹æ˜¯ä¸å¯ç©ºï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¼šæŠ›å‡º NullPointerException å‘¢ï¼Ÿ</strong></p>
<p>kotlinx.serialization çš„è¿™ä¸€ç‰¹æ€§ä¼šè®©æˆ‘ä»¬åœ¨å£°æ˜data classæ—¶æ›´åŠ ä¸¥è°¨ï¼Œä½ éœ€è¦å¯¹å­—æ®µçš„å¯ç©ºä¸å¦æœ‰è‡ªå·±çš„ä¸€ç•ªæ€è€ƒ â€”â€” è¿™æ˜¾ç„¶æ¯”æ— è„‘å°†å­—æ®µå£°æ˜ä¸ºå¯ç©ºç±»å‹è¦å¥½çš„å¤šå¾—å¤šã€‚å½“ç„¶ï¼Œå¦‚æœä½ è¿˜æ˜¯æ‹…å¿ƒç”±æ­¤å¼•å‘çš„å´©æºƒé—®é¢˜ï¼ŒåŒæ—¶åˆä¸æƒ³åç»­çš„ä½¿ç”¨ä¸ŠåŠ ä¸Šä¸€å †?.çš„å¯ç©ºè°ƒç”¨åˆ¤æ–­ï¼Œä½ å¯ä»¥ç»™å…¶èµ‹ä¸Šé»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Serializable</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> age: String)
</code></pre>
<h3 data-id="heading-4">åºåˆ—åŒ–ä¸‰æ–¹åº“</h3>
<p>ä¸å°‘åŒå­¦çœ‹åˆ°è¿™è¾¹å°±æƒ³åˆ°ä¸€ç‚¹ï¼Œå¦‚æœä½¿ç”¨æ³¨è§£ï¼Œé‚£å¦‚ä½•å­¦å†å™©è€—ä¸‰æ–¹åº“çš„ç±»å‘¢ï¼Ÿæ˜¯ä¸ªå¥½é—®é¢˜ï¼Œè¿™ç¡®å®æ˜¯ Kotlinx.serialization ä¸å¦‚ Gson æ–¹ä¾¿çš„åœ°æ–¹ã€‚ä¸è¿‡å®˜æ–¹ä¹Ÿæä¾›äº†ç›¸å…³æ”¯æŒï¼Œç›¸å¯¹è€Œè¨€éº»çƒ¦äº†ç‚¹ã€‚
ä»¥ä¸‹æ˜¯AIç»™å‡ºçš„ç­”æ¡ˆï¼š</p>
<hr/>
<h4 data-id="heading-5">ğŸŒ° ç¤ºä¾‹ï¼šåºåˆ—åŒ–Â <code>java.time.LocalDateTime</code></h4>
<p>ç”±äºä½ ä¸èƒ½ç»™ç¬¬ä¸‰æ–¹ç±»åŠ  <code>@Serializable</code>ï¼Œå¿…é¡»ï¼š</p>
<ol>
<li>
<p><strong>ä¸ºè¯¥ç±»å‹ç¼–å†™ä¸€ä¸ªÂ <code>KSerializer&lt;T&gt;</code>Â å®ç°</strong></p>
</li>
<li>
<p><strong>åœ¨ä½¿ç”¨å¤„æ˜¾å¼æŒ‡å®šè¿™ä¸ª serializer</strong>ï¼ˆé€šè¿‡Â <code>@Serializable(with = YourSerializer::class)</code>ï¼‰</p>
<ul>
<li>æˆ–é€šè¿‡Â <code>SerializersModule</code>Â å…¨å±€æ³¨å†Œä¸ºÂ <strong>contextual serializer</strong></li>
</ul>
</li>
</ol>
<p>å‡è®¾ä½ è¦åºåˆ—åŒ– JDK8 çš„ <code>LocalDateTime</code>ï¼ˆä½ æ— æ³•ä¿®æ”¹å®ƒï¼‰ã€‚</p>
<h5 data-id="heading-6">æ­¥éª¤ 1ï¼šç¼–å†™Â <code>KSerializer</code></h5>
<pre><code class="hljs">Kotlin

</code></pre>
<blockquote>
<p>ğŸ’¡ ä½¿ç”¨ <code>object</code> å•ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»ºã€‚</p>
</blockquote>
<hr/>
<h5 data-id="heading-7">æ­¥éª¤ 2ï¼šåœ¨ä½ çš„æ•°æ®ç±»ä¸­ä½¿ç”¨ï¼ˆæ˜¾å¼ç»‘å®šï¼‰</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">object</span> LocalDateTimeSerializer : KSerializer&lt;LocalDateTime&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> descriptor = PrimitiveSerialDescriptor(<span class="hljs-string">"LocalDateTime"</span>, kotlinx.serialization.descriptors.PrimitiveKind.STRING)

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">serialize</span><span class="hljs-params">(encoder: <span class="hljs-type">Encoder</span>, value: <span class="hljs-type">LocalDateTime</span>)</span></span> {
        encoder.encodeString(value.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME))
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">deserialize</span><span class="hljs-params">(decoder: <span class="hljs-type">Decoder</span>)</span></span>: LocalDateTime {
        <span class="hljs-keyword">return</span> LocalDateTime.parse(decoder.decodeString(), DateTimeFormatter.ISO_LOCAL_DATE_TIME)
    }
}
</code></pre>
<p>âœ… è¿™æ ·å°±èƒ½æ­£å¸¸ç¼–è§£ç ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> event = Event(<span class="hljs-string">"Meeting"</span>, LocalDateTime.of(<span class="hljs-number">2025</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">14</span>, <span class="hljs-number">30</span>))
<span class="hljs-keyword">val</span> json = Json.encodeToString(event)
<span class="hljs-comment">// {"title":"Meeting","timestamp":"2025-01-10T14:30"}</span>

<span class="hljs-keyword">val</span> decoded = Json.decodeFromString&lt;Event&gt;(json)
</code></pre>
<hr/>
<h4 data-id="heading-8">ğŸ” æ›¿ä»£æ–¹æ¡ˆï¼šå…¨å±€æ³¨å†Œä¸º Contextual Serializer</h4>
<p>å¦‚æœä½ <strong>å¤šå¤„ä½¿ç”¨ <code>LocalDateTime</code></strong>ï¼Œä¸æƒ³æ¯ä¸ªå­—æ®µéƒ½å†™ <code>@Serializable(with = ...)</code>ï¼Œå¯ä»¥å…¨å±€æ³¨å†Œï¼š</p>
<h5 data-id="heading-9">æ­¥éª¤ 1ï¼šåˆ›å»ºÂ <code>SerializersModule</code></h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> appModule = SerializersModule {
    contextual(LocalDateTime::<span class="hljs-keyword">class</span>, LocalDateTimeSerializer)
}
</code></pre>
<h5 data-id="heading-10">æ­¥éª¤ 2ï¼šæ„å»ºå¸¦ module çš„Â <code>Json</code>Â å®ä¾‹</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> JsonWithTime = Json {
    serializersModule = appModule
    <span class="hljs-comment">// å¯é€‰ï¼šignoreUnknownKeys = true ç­‰</span>
}
</code></pre>
<h5 data-id="heading-11">æ­¥éª¤ 3ï¼šåœ¨æ•°æ®ç±»ä¸­<strong>ä¸è¦åŠ Â <code>with</code></strong>ï¼Œç›´æ¥ä½¿ç”¨ç±»å‹</h5>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Event</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> timestamp: LocalDateTime  <span class="hljs-comment">// âœ… è‡ªåŠ¨ä½¿ç”¨ contextual serializer</span>
)
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æ—¶å¿…é¡»ç”¨é…ç½®å¥½çš„Â <code>Json</code>Â å®ä¾‹ï¼š</h5>
<pre><code class="hljs language-ini" lang="ini">Kotlin
ç¼–è¾‘
1val <span class="hljs-attr">jsonStr</span> = JsonWithTime.encodeToString(event)
2val <span class="hljs-attr">event2</span> = JsonWithTime.decodeFromString&lt;Event&gt;(jsonStr)
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šå¦‚æœä½¿ç”¨é»˜è®¤çš„ <code>Json.encodeToString()</code>ï¼ˆæ—  moduleï¼‰ï¼Œä¼šæŠ¥é”™ï¼š<br/>
<code>Serializer for class 'LocalDateTime' is not found.</code></p>
</blockquote>
<hr/>
<h2 data-id="heading-13">â— é‡è¦é™åˆ¶ä¸æ³¨æ„äº‹é¡¹</h2>

























<table><thead><tr><th>é—®é¢˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸èƒ½è‡ªåŠ¨å‘ç°</strong></td><td><code>kotlinx.serialization</code>Â <strong>ä¸ä¼šè‡ªåŠ¨ä¸ºæœªæ³¨è§£çš„ç±»å‹ç”Ÿæˆ serializer</strong>ï¼Œå¿…é¡»æ˜¾å¼æä¾›</td></tr><tr><td><strong>æ³›å‹æ”¯æŒéœ€å°å¿ƒ</strong></td><td>å¯¹äºÂ <code>List&lt;Point&gt;</code>ï¼Œä½ éœ€è¦ï¼š <code>ListSerializer(PointSerializer)</code>Â æˆ–åœ¨ module ä¸­æ³¨å†ŒÂ <code>Point</code>Â åä½¿ç”¨Â <code>serializer&lt;List&lt;Point&gt;&gt;()</code></td></tr><tr><td><strong>å¿…é¡»ç”¨æ­£ç¡®çš„Â <code>Json</code>Â å®ä¾‹</strong></td><td>å¦‚æœç”¨äº†Â <code>contextual</code>ï¼ŒåŠ¡å¿…ä½¿ç”¨å¸¦Â <code>serializersModule</code>Â çš„Â <code>Json</code>Â å¯¹è±¡</td></tr><tr><td><strong>ä¸æ”¯æŒè¿è¡Œæ—¶åå°„</strong></td><td>æ‰€æœ‰åºåˆ—åŒ–é€»è¾‘å¿…é¡»åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œæ— æ³•åƒ Gson é‚£æ ·åŠ¨æ€è§£æä»»æ„ç±»</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">âœ… æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨Â <code>@Serializable(with = ...)</code></strong><br/>
é€‚ç”¨äºå±€éƒ¨ã€æ˜ç¡®çš„åœºæ™¯ï¼Œä»£ç æ¸…æ™°ã€‚</li>
<li><strong>å¤šå¤„ä½¿ç”¨ â†’ ç”¨Â <code>SerializersModule</code>Â +Â <code>contextual</code></strong><br/>
é¿å…é‡å¤æ³¨è§£ï¼Œä½†è¦ç¡®ä¿æ‰€æœ‰ç¼–è§£ç éƒ½èµ°åŒä¸€ä¸ªÂ <code>Json</code>Â å®ä¾‹ã€‚</li>
<li><strong>ä¸ºå¸¸ç”¨ç±»å‹å°è£…å·¥å…·</strong><br/>
æ¯”å¦‚åˆ›å»ºÂ <code>CommonSerializers.kt</code>Â é›†ä¸­ç®¡ç†Â <code>LocalDateTime</code>ã€<code>Uri</code>ã€<code>UUID</code>Â ç­‰ã€‚</li>
<li><strong>é¿å…ç›´æ¥åºåˆ—åŒ–ç¬¬ä¸‰æ–¹ç±»</strong><br/>
æ›´å®‰å…¨çš„åšæ³•ï¼šåˆ›å»ºè‡ªå·±çš„Â <code>@Serializable</code>Â DTOï¼Œå†…éƒ¨è½¬æ¢ç¬¬ä¸‰æ–¹ç±»ï¼ˆè§£è€¦ + æ§åˆ¶å­—æ®µï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-15">å…¶ä»–æ›¿ä»£åº“ Moshi</h3>
<p>Moshi ä¹Ÿæ˜¯å®˜æ–¹æ¨èçš„ kotlin åºåˆ—åŒ–å·¥å…·åº“ï¼Œæœ¬æ–‡å°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œæƒ³äº†è§£çš„åŒå­¦å¯ä»¥è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsquare%2Fmoshi" target="_blank" title="https://github.com/square/moshi" ref="nofollow noopener noreferrer">Moshi</a>,å…¶æ¥è‡ªäºå¤§åé¼é¼çš„ <strong>Suqare</strong> å¼€æºã€‚</p>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>å·¥å…·å°±æ˜¯å·¥å…·ï¼Œä¸ä¸€å®šæ˜¯æœ€å®Œç¾çš„ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å½“å‰é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚å¼€å‘è€…è‡ªå·±çš„å·¥å…·ï¼Œä¸æ˜¯è¯´ä¸€å®šè¦ç”¨å“ªä¸ªã€‚å¾ˆæ˜¾ç„¶ï¼Œå¦‚æœä½ çš„é¡¹ç›®Gson å·²ç»å­˜åœ¨äº†å¾ˆä¹…ï¼Œæƒ³ç°åœ¨æ›¿æ¢æ‰ä¹Ÿä¸ç°å®ã€‚ä½†å¦‚æœä½ åœ¨å½“å‰çš„ Kotlin é¡¹ç›®ä¸­ä½¿ç”¨ Gsonï¼Œä½ å¿…é¡»è¦çŸ¥é“å½“å‰å­˜åœ¨çš„é£é™©ç‚¹ï¼Œå¹¶å»è§„é¿å®ƒã€‚å¦‚æœä½ éœ€è¦åœ¨æ–°é¡¹ç›®ä¸­åºåˆ—åŒ–ï¼Œé‚£ä¹ˆæ¯«ä¸çŠ¹è±«ï¼ŒKotlinx.serialization æˆ–è€… Moshi æ˜¯ä½ æ›´å¥½çš„é€‰æ‹©ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592148975848996907</link>    <guid>https://juejin.cn/post/7592148975848996907</guid>    <pubDate>2026-01-07T11:53:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848996907" data-draft-id="7592255257348112425" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T11:53:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ27ï¼‰Hibernateçš„æŸ¥è¯¢ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:53:01.000Z" title="Wed Jan 07 2026 11:53:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„æŸ¥è¯¢ç­–ç•¥</h3>
<p>Hibernateçš„æŸ¥è¯¢ç­–ç•¥å†³å®šäº†å¦‚ä½•ä»æ•°æ®åº“ä¸­æ£€ç´¢æ•°æ®ã€‚å®ƒåŒ…æ‹¬å¤šç§ç­–ç•¥ï¼Œå¦‚å³æ—¶åŠ è½½ï¼ˆEager Loadingï¼‰ã€å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰å’Œæ‰¹é‡æ£€ç´¢ï¼ˆBatch Fetchingï¼‰ç­‰ã€‚è¿™äº›ç­–ç•¥å¯ä»¥æ˜¾è‘—å½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ï¼Œå› æ­¤äº†è§£å’Œé€‰æ‹©åˆé€‚çš„æŸ¥è¯¢ç­–ç•¥éå¸¸é‡è¦ã€‚</p>
<h3 data-id="heading-1">ä¸»è¦æŸ¥è¯¢ç­–ç•¥</h3>
<ol>
<li><strong>å³æ—¶åŠ è½½ï¼ˆEager Loadingï¼‰</strong>ï¼šåœ¨åŠ è½½å®ä½“æ—¶ï¼ŒåŒæ—¶åŠ è½½å…¶å…³è”çš„å®ä½“ã€‚</li>
<li><strong>å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰</strong>ï¼šåªæœ‰åœ¨è®¿é—®å…³è”å®ä½“æ—¶ï¼Œæ‰åŠ è½½è¯¥å®ä½“ã€‚</li>
<li><strong>æ‰¹é‡æ£€ç´¢ï¼ˆBatch Fetchingï¼‰</strong>ï¼šåœ¨ä¸€æ¬¡æŸ¥è¯¢ä¸­åŠ è½½å¤šä¸ªå…³è”çš„å®ä½“ã€‚</li>
</ol>
<h3 data-id="heading-2">é…ç½®æŸ¥è¯¢ç­–ç•¥çš„æ–¹å¼</h3>
<ol>
<li><strong>åœ¨æ˜ å°„æ–‡ä»¶æˆ–æ³¨è§£ä¸­é…ç½®</strong>ã€‚</li>
<li><strong>åœ¨æŸ¥è¯¢ä¸­æŒ‡å®šï¼ˆå¦‚HQLæˆ–CriteriaæŸ¥è¯¢ï¼‰</strong>ã€‚</li>
</ol>
<h3 data-id="heading-3">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-4">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></h4>
<h5 data-id="heading-6">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-meta">@OneToMany(mappedBy = "person", fetch = FetchType.LAZY, cascade = CascadeType.ALL)</span>
    <span class="hljs-keyword">private</span> Set&lt;Address&gt; addresses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> Set&lt;Address&gt; <span class="hljs-title function_">getAddresses</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddresses</span><span class="hljs-params">(Set&lt;Address&gt; addresses)</span> {
        <span class="hljs-built_in">this</span>.addresses = addresses;
    }
}
</code></pre>
<h5 data-id="heading-7">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h3 data-id="heading-8">å³æ—¶åŠ è½½å’Œå»¶è¿ŸåŠ è½½ç¤ºä¾‹</h3>
<h5 data-id="heading-9">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-10">å³æ—¶åŠ è½½ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateEagerLoadingExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertData(sessionFactory);

        <span class="hljs-comment">// å³æ—¶åŠ è½½ç¤ºä¾‹</span>
        eagerLoadingExample(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);
            person.getAddresses().add(address1);
            person.getAddresses().add(address2);

            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person and Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eagerLoadingExample</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå®ä½“ï¼Œå¹¶åŒæ—¶åŠ è½½å…¶å…³è”çš„Addresså®ä½“ï¼ˆå³æ—¶åŠ è½½ï¼‰</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Person: "</span> + person.getName());
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    System.out.println(<span class="hljs-string">"Address: "</span> + address.getStreet());
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-11">å»¶è¿ŸåŠ è½½ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateLazyLoadingExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertData(sessionFactory);

        <span class="hljs-comment">// å»¶è¿ŸåŠ è½½ç¤ºä¾‹</span>
        lazyLoadingExample(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);
            person.getAddresses().add(address1);
            person.getAddresses().add(address2);

            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person and Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">lazyLoadingExample</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå®ä½“ï¼Œæ­¤æ—¶ä¸ä¼šç«‹å³åŠ è½½å…¶å…³è”çš„Addresså®ä½“ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                System.out.println(<span class="hljs-string">"Person: "</span> + person.getName());
                <span class="hljs-comment">// è®¿é—®å…³è”çš„Addresså®ä½“æ—¶æ‰ä¼šè§¦å‘åŠ è½½</span>
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    System.out.println(<span class="hljs-string">"Address: "</span> + address.getStreet());
                }
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-12">æ‰¹é‡æ£€ç´¢ç¤ºä¾‹</h3>
<p>æ‰¹é‡æ£€ç´¢é€šè¿‡åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨<code>@BatchSize</code>æ³¨è§£æˆ–Hibernateçš„é…ç½®æ–‡ä»¶ä¸­çš„ç›¸åº”å±æ€§æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> org.hibernate.annotations.BatchSize;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-meta">@BatchSize(size = 10)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

 
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592148975849013291</link>    <guid>https://juejin.cn/post/7592148975849013291</guid>    <pubDate>2026-01-07T11:53:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975849013291" data-draft-id="7592159803411005476" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T11:53:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ28ï¼‰Hibernateçš„çº§è”æ“ä½œæ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:53:40.000Z" title="Wed Jan 07 2026 11:53:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„çº§è”æ“ä½œ</h3>
<p>çº§è”æ“ä½œï¼ˆCascade Operationsï¼‰æ˜¯Hibernateæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡å®ƒå¯ä»¥åœ¨çˆ¶å®ä½“ä¸Šæ‰§è¡Œæ“ä½œæ—¶ï¼Œè‡ªåŠ¨å¯¹å…¶å…³è”çš„å­å®ä½“æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚è¿™æ ·å¯ä»¥ç®€åŒ–ä»£ç ï¼Œé¿å…æ‰‹åŠ¨ç®¡ç†å…³è”å®ä½“çš„çŠ¶æ€ã€‚</p>
<p>çº§è”æ“ä½œçš„ä¸»è¦ç±»å‹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>CascadeType.PERSIST</strong>ï¼šåœ¨ä¿å­˜ï¼ˆpersistï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨ä¿å­˜å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.MERGE</strong>ï¼šåœ¨åˆå¹¶ï¼ˆmergeï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆå¹¶å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.REMOVE</strong>ï¼šåœ¨åˆ é™¤ï¼ˆremoveï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.DETACH</strong>ï¼šåœ¨åˆ†ç¦»ï¼ˆdetachï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ†ç¦»å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.REFRESH</strong>ï¼šåœ¨åˆ·æ–°ï¼ˆrefreshï¼‰çˆ¶å®ä½“æ—¶ï¼Œè‡ªåŠ¨åˆ·æ–°å…³è”çš„å­å®ä½“ã€‚</li>
<li><strong>CascadeType.ALL</strong>ï¼šåŒ…æ‹¬ä»¥ä¸Šæ‰€æœ‰çº§è”æ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-1">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-2">é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></h4>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-meta">@OneToMany(mappedBy = "person", cascade = CascadeType.ALL, orphanRemoval = true)</span>
    <span class="hljs-keyword">private</span> Set&lt;Address&gt; addresses = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> Set&lt;Address&gt; <span class="hljs-title function_">getAddresses</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddresses</span><span class="hljs-params">(Set&lt;Address&gt; addresses)</span> {
        <span class="hljs-built_in">this</span>.addresses = addresses;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addAddress</span><span class="hljs-params">(Address address)</span> {
        addresses.add(address);
        address.setPerson(<span class="hljs-built_in">this</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeAddress</span><span class="hljs-params">(Address address)</span> {
        addresses.remove(address);
        address.setPerson(<span class="hljs-literal">null</span>);
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>
    
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h3 data-id="heading-6">çº§è”æ“ä½œç¤ºä¾‹</h3>
<h5 data-id="heading-7">HibernateUtilç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h4 data-id="heading-8">çº§è”ä¿å­˜ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeSaveExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥æ•°æ®</span>
        insertPersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertPersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"123 Street"</span>, person);
            <span class="hljs-type">Address</span> <span class="hljs-variable">address2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Address</span>(<span class="hljs-string">"456 Avenue"</span>, person);

            person.addAddress(address1);
            person.addAddress(address2);

            <span class="hljs-comment">// ä¿å­˜Personå¯¹è±¡æ—¶ï¼Œçº§è”ä¿å­˜Addresså¯¹è±¡</span>
            session.save(person);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted Person with Addresses"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">çº§è”åˆ é™¤ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeDeleteExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
        deletePersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deletePersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå¯¹è±¡</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// åˆ é™¤Personå¯¹è±¡æ—¶ï¼Œçº§è”åˆ é™¤Addresså¯¹è±¡</span>
                session.delete(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Deleted Person with Addresses"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">çº§è”æ›´æ–°ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCascadeUpdateExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
        updatePersonWithAddresses(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePersonWithAddresses</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–Personå¯¹è±¡</span>
            <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> session.get(Person.class, <span class="hljs-number">1L</span>);
            <span class="hljs-keyword">if</span> (person != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ›´æ–°Personå¯¹è±¡</span>
                person.setName(<span class="hljs-string">"Jane Doe"</span>);
                person.setAge(<span class="hljs-number">35</span>);

                <span class="hljs-comment">// çº§è”æ›´æ–°Addresså¯¹è±¡</span>
                <span class="hljs-keyword">for</span> (Address address : person.getAddresses()) {
                    address.setStreet(address.getStreet() + <span class="hljs-string">" Updated"</span>);
                }

                session.update(person);
                transaction.commit();
                System.out.println(<span class="hljs-string">"Updated Person with Addresses"</span>);
            } <span class="hljs-keyword">else</span> {
                System.out.println(<span class="hljs-string">"No Person found with ID 1"</span>);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-11">çº§è”æ“ä½œçš„è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>é…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></strong>ï¼šå®šä¹‰æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€Hibernateå±æ€§é…ç½®ä»¥åŠå®ä½“ç±»æ˜ å°„é…ç½®ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å®ä½“ç±» <code>Person</code> å’Œ <code>Address</code></strong>ï¼š</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7592438587389427750</link>    <guid>https://juejin.cn/post/7592438587389427750</guid>    <pubDate>2026-01-07T11:55:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587389427750" data-draft-id="7592455394062139430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥"/> <meta itemprop="keywords" content="åç«¯,Java,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-07T11:55:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œæ·¡æ…•æ½‡"/> <meta itemprop="url" content="https://juejin.cn/user/4494459266678318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æå®˜æ–¹ Spring Boot ç¨³å®šç‰ˆæœ¬åŠ JDK é…å¥—ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4494459266678318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œæ·¡æ…•æ½‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T11:55:31.000Z" title="Wed Jan 07 2026 11:55:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a6ed70f618f45f18c78afc916df4789~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aKc5reh5oWV5r2H:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768391730&amp;x-signature=r0nd5%2BhiI8LfkroRZgNV7Y8KmNA%3D" alt="Spring boot-1.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>Spring Boot è‡ª 2014 å¹´é—®ä¸–ä»¥æ¥ï¼Œå·²æˆä¸º Java ä¼ä¸šçº§å¼€å‘çš„æ ¸å¿ƒæ¡†æ¶ä¹‹ä¸€ã€‚å®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äºâ€œçº¦å®šä¼˜äºé…ç½®â€å’Œè‡ªåŠ¨åŒ–é…ç½®ï¼Œä½¿å¼€å‘è€…å¯ä»¥åœ¨æœ€çŸ­æ—¶é—´å†…æ„å»ºå¯è¿è¡Œçš„ç”Ÿäº§çº§åº”ç”¨ã€‚éšç€ Java ç”Ÿæ€å’Œäº‘åŸç”Ÿç¯å¢ƒçš„å¿«é€Ÿå‘å±•ï¼ŒSpring Boot ä¹Ÿåœ¨ä¸æ–­æ¼”è¿›ï¼Œä» 2.x ç³»åˆ—åˆ° 3.x ç³»åˆ—ï¼Œå†åˆ°æœ€æ–° 4.x ç³»åˆ—ï¼Œæ¯ä¸€æ¬¡ç‰ˆæœ¬è¿­ä»£éƒ½ä¼´éšç€ API è°ƒæ•´ã€æ¨¡å—åŒ–ä¼˜åŒ–åŠå¯¹æ–° JDK ç‰¹æ€§çš„æ”¯æŒã€‚</p>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€‰æ‹©åˆé€‚çš„ Spring Boot ç‰ˆæœ¬ä¸ä»…å…³ä¹åŠŸèƒ½ï¼Œè¿˜ç›´æ¥å½±å“ç³»ç»Ÿçš„<strong>ç¨³å®šæ€§ã€é•¿æœŸç»´æŠ¤æˆæœ¬ä»¥åŠç”Ÿæ€å…¼å®¹æ€§</strong>ã€‚å› æ­¤ï¼Œæ·±å…¥åˆ†æå®˜æ–¹ç¨³å®šç‰ˆæœ¬ã€JDK æ”¯æŒå’Œå‡çº§ç­–ç•¥ï¼Œå¯¹äºä¼ä¸šçº§åº”ç”¨çš„æŠ€æœ¯å†³ç­–è‡³å…³é‡è¦ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Spring Boot ç‰ˆæœ¬æ¼”è¿›ä¸å®˜æ–¹æ”¯æŒç°çŠ¶</h2>
<h3 data-id="heading-2">2.1 ç‰ˆæœ¬è¯­ä¹‰ä¸å‘å¸ƒç­–ç•¥</h3>
<p>Spring Boot é‡‡ç”¨ <strong>è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</strong>ï¼š</p>
<pre><code class="hljs">MAJOR.MINOR.PATCH
</code></pre>
<ul>
<li><strong>MAJORï¼ˆä¸»ç‰ˆæœ¬ï¼‰</strong> ï¼šé‡å¤§æ¶æ„å˜æ›´ï¼Œå¯èƒ½ä¸å‘ä¸‹å…¼å®¹ï¼›</li>
<li><strong>MINORï¼ˆæ¬¡ç‰ˆæœ¬ï¼‰</strong> ï¼šæ–°å¢åŠŸèƒ½ä¸æ”¹è¿›ï¼ŒåŒæ—¶ä¿æŒå¤§éƒ¨åˆ†å‘åå…¼å®¹ï¼›</li>
<li><strong>PATCHï¼ˆè¡¥ä¸ï¼‰</strong> ï¼šä¿®å¤ bugã€æå‡ç¨³å®šæ€§ï¼Œä¸å¼•å…¥æ–°ç‰¹æ€§ã€‚</li>
</ul>
<p>å®˜æ–¹çš„ç‰ˆæœ¬æ”¯æŒç­–ç•¥æ˜ç¡®ï¼š</p>
<ul>
<li>æ¯ä¸ªç‰ˆæœ¬çš„ç¤¾åŒºæ”¯æŒçº¦ 13 ä¸ªæœˆï¼›</li>
<li>ä¼ä¸šå•†ä¸šæ”¯æŒå¯å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œå°¤å…¶æ˜¯é•¿æœŸç»´æŠ¤çš„ LTS ç‰ˆæœ¬ï¼›</li>
<li>ç‰ˆæœ¬å‡çº§ä¼šæä¾›è¿ç§»æŒ‡å—ï¼Œä»¥é™ä½ä¸å¯å…¼å®¹é£é™©ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">2.2 Spring Boot ä¸»è¦ç‰ˆæœ¬æ¦‚è§ˆ</h3>











































































<table><thead><tr><th>ç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>JDK æ”¯æŒ</th><th>ç¨³å®šç±»å‹</th><th>å®˜æ–¹æ”¯æŒçŠ¶æ€</th><th>ç¤¾åŒº / OSS</th><th>å•†ä¸šæ”¯æŒ</th><th>å¤‡æ³¨ / æœ€é€‚åˆ JDK</th></tr></thead><tbody><tr><td><strong>4.0.1</strong></td><td>2025-12-18</td><td>17â€“25</td><td>ä¸»çº¿ç¨³å®š</td><td>ç¤¾åŒºæ”¯æŒ ~2026-12</td><td>OSS</td><td>å•†ä¸šæ”¯æŒ ~2027-12</td><td>æœ€æ–°æ¨¡å—åŒ–ä¸ APIï¼Œæ¨è JDK 21/25 LTS</td></tr><tr><td><strong>4.0.0</strong></td><td>2025-11-30</td><td>17â€“25</td><td>ä¸»ç‰ˆæœ¬</td><td>ç¤¾åŒºæ”¯æŒ ~2026-12</td><td>OSS</td><td>å•†ä¸šæ”¯æŒå»¶é•¿</td><td>åˆå§‹ 4.0 åŸºçº¿ç‰ˆæœ¬ï¼Œå»ºè®®è¡¥ä¸å‡çº§åˆ° 4.0.1</td></tr><tr><td><strong>3.5.9</strong></td><td>2025-12-18</td><td>17â€“25</td><td>3.x æœ€åç¨³å®šç‰ˆ</td><td>ç¤¾åŒºæ”¯æŒ ~2026-06</td><td>OSS</td><td>å•†ä¸šæ”¯æŒ ~2032-06</td><td>æœ€æˆç†Ÿç¨³å®šç‰ˆæœ¬ï¼Œæ¨èç”Ÿäº§ä½¿ç”¨ JDK 17/21</td></tr><tr><td><strong>3.5.0</strong></td><td>2025-05-31</td><td>17â€“25</td><td>æ¬¡è¦ç¨³å®š</td><td>ç¤¾åŒºæ”¯æŒ ~2026-06</td><td>OSS</td><td>å•†ä¸šæ”¯æŒå»¶é•¿</td><td>3.5 ç³»åˆ—æ¡¥æ¢ç‰ˆæœ¬ï¼Œå…¼å®¹æ€§é«˜</td></tr><tr><td><strong>3.4.x / 3.3.x</strong></td><td>2024-05 / 2023-11</td><td>17â€“24</td><td>è¿‡æ—¶</td><td>OSS å·²ç»ˆæ­¢æˆ–å³å°†ç»“æŸ</td><td>OSS</td><td>å•†ä¸šçŸ­æœŸ</td><td>é€‚åˆæ—§ç³»ç»Ÿç»´æŠ¤</td></tr><tr><td><strong>2.7.x</strong></td><td>2022-05</td><td>8â€“21</td><td>å†å² LTS</td><td>OSS å·²ç»“æŸ</td><td>OSS</td><td>å•†ä¸šçŸ­æœŸ</td><td>é€‚åˆè€æ—§é¡¹ç›®ï¼Œéœ€é€æ­¥å‡çº§</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ ç»“è®ºï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ3.5.x ç³»åˆ—æ˜¯å½“å‰æœ€æˆç†Ÿã€å…¼å®¹æ€§æœ€å¼ºçš„é€‰æ‹©ï¼Œè€Œ 4.0.1 ä»£è¡¨æœªæ¥ä¸»çº¿ï¼Œéœ€è¦æ›´å¤šéªŒè¯å’Œæµ‹è¯•ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€JDK æ”¯æŒåŠæœ€ä½³æ­é…ç­–ç•¥</h2>
<h3 data-id="heading-5">3.1 å„ç‰ˆæœ¬ JDK æ”¯æŒæƒ…å†µ</h3>






























<table><thead><tr><th>Spring Boot</th><th>æ”¯æŒ JDK èŒƒå›´</th><th>æ¨èæœ€ä¼˜ JDK</th></tr></thead><tbody><tr><td>4.0.x</td><td>17â€“25</td><td><strong>JDK 21 / 25</strong>ï¼ˆé•¿æœŸæ”¯æŒ &amp; æ–°ç‰¹æ€§ï¼‰</td></tr><tr><td>3.5.x</td><td>17â€“25</td><td><strong>JDK 17 / 21</strong>ï¼ˆç¨³å®šå¯é ï¼‰</td></tr><tr><td>3.4.x / 3.3.x</td><td>17â€“24</td><td><strong>JDK 17 / 21</strong></td></tr><tr><td>2.7.x</td><td>8â€“21</td><td><strong>JDK 11 / 17</strong>ï¼ˆå…¼å®¹æ—§ç”Ÿæ€ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-6">3.2 é€‰æ‹©å»ºè®®</h3>
<ol>
<li><strong>è¿½æ±‚ç¨³å®šæ€§</strong> â†’ Spring Boot 3.5.x + JDK 17/21 LTS</li>
<li><strong>é¢å‘æœªæ¥</strong> â†’ Spring Boot 4.0.1 + JDK 21/25 LTS</li>
<li><strong>è€æ—§ç³»ç»Ÿç»´æŒ</strong> â†’ Spring Boot 2.7.x + JDK 11</li>
</ol>
<blockquote>
<p>å°ç»“ï¼šé€‰æ‹© JDK æ—¶åº”å…¼é¡¾é•¿æœŸæ”¯æŒã€æ€§èƒ½ä¼˜åŒ–å’Œç”Ÿæ€å…¼å®¹æ€§ã€‚å¯¹äºä¼ä¸šç”Ÿäº§ç³»ç»Ÿï¼ŒLTS ç‰ˆæœ¬ï¼ˆ17/21/25ï¼‰æ˜¯é¦–é€‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å››ã€ç‰ˆæœ¬ç¨³å®šæ€§åˆ†æ</h2>
<h3 data-id="heading-8">4.1 API ç¨³å®šæ€§</h3>
<ul>
<li><strong>3.5.x</strong>ï¼šç»è¿‡å¤šè½®è¡¥ä¸å’Œç¤¾åŒºéªŒè¯ï¼Œå‘åå…¼å®¹æ€§æå¼ºï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼›</li>
<li><strong>4.0.x</strong>ï¼šæ¨¡å—åŒ–ä¸æ–°ç‰¹æ€§å¢åŠ ï¼Œéƒ¨åˆ† API ä¸å…¼å®¹ï¼Œå‡çº§éœ€å‚è€ƒå®˜æ–¹è¿ç§»æŒ‡å—ã€‚</li>
</ul>
<h3 data-id="heading-9">4.2 ç”Ÿäº§ç¯å¢ƒå®‰å…¨æ€§</h3>
<ul>
<li>è¡¥ä¸å‘å¸ƒé¢‘ç¹ï¼Œä¿®å¤æ¼æ´ã€ä¼˜åŒ–æ€§èƒ½ï¼›</li>
<li>å•†ä¸šæ”¯æŒå¯å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œç¡®ä¿é•¿æœŸè¿è¡Œå®‰å…¨ã€‚</li>
</ul>
<h3 data-id="heading-10">4.3 ç”Ÿæ€å…¼å®¹æ€§</h3>
<ul>
<li>Spring Cloud ä¸ 3.5.x å®Œç¾åŒ¹é…ï¼Œ4.0.x éœ€æµ‹è¯•ä¾èµ–ç‰ˆæœ¬ï¼›</li>
<li>å¤§å¤šæ•°ç¬¬ä¸‰æ–¹åº“ï¼ˆKafkaã€Redisã€GRPC ç­‰ï¼‰å¯¹ 3.5.x å…¼å®¹æˆç†Ÿã€‚</li>
</ul>
<h3 data-id="heading-11">4.4 å‡çº§æˆæœ¬</h3>
<ul>
<li><strong>3.x â†’ 3.5</strong>ï¼šé£é™©ä½ï¼Œä¸»è¦ä¸ºæ¬¡è¦ç‰ˆæœ¬æ›´æ–°ï¼›</li>
<li><strong>3.x â†’ 4.x</strong>ï¼šé£é™©ä¸­é«˜ï¼Œéœ€è¿ç§»ä»£ç ã€éªŒè¯è‡ªåŠ¨é…ç½®å’Œæ¨¡å—åŒ–å˜æ›´ï¼›</li>
<li><strong>JDK å‡çº§</strong>ï¼šéœ€ç¡®ä¿ä¾èµ–åº“æ”¯æŒæ–°ç‰ˆæœ¬ JDKã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€ç‰ˆæœ¬é€‰æ‹©ç­–ç•¥</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èç‰ˆæœ¬</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ä¼ä¸šçº§é•¿æœŸç»´æŠ¤ç³»ç»Ÿ</td><td>3.5.x æœ€æ–° Patch + JDK 17/21</td><td>æœ€æˆç†Ÿç¨³å®šï¼Œç¤¾åŒºå’Œå•†ä¸šæ”¯æŒæœ€é•¿</td></tr><tr><td>æ–°é¡¹ç›® / å‰æ²¿æŠ€æœ¯</td><td>4.0.1 + JDK 21/25</td><td>æ–°ç‰¹æ€§ã€æ¨¡å—åŒ–ä¼˜åŒ–ï¼Œä½†éœ€æµ‹è¯•ä¾èµ–å…¼å®¹</td></tr><tr><td>æ—§é¡¹ç›® / é€æ­¥å‡çº§</td><td>2.7.x + JDK 8/11/17 â†’ 3.5.x</td><td>ç¡®ä¿å¹³æ»‘è¿ç§»ï¼Œé™ä½é£é™©</td></tr></tbody></table>
<blockquote>
<p>æ ¸å¿ƒåŸåˆ™ï¼šä¼˜å…ˆé€‰æ‹© <strong>LTS JDK + æœ€æ–° Patch çš„ç¨³å®šä¸»çº¿ç‰ˆæœ¬</strong>ï¼Œå†æ ¹æ®é¡¹ç›®éœ€æ±‚è¯„ä¼°æ˜¯å¦é‡‡ç”¨æ–°ç‰ˆæœ¬åŠŸèƒ½ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-13">å…­ã€ç»“è®º</h2>
<p>é€šè¿‡å¯¹ Spring Boot å„ä¸ªç‰ˆæœ¬çš„æ·±åº¦åˆ†æï¼Œå¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>3.5.x ç³»åˆ—</strong> æ˜¯ç›®å‰ç”Ÿäº§ç¯å¢ƒæœ€å®‰å…¨ã€ç”Ÿæ€æœ€æˆç†Ÿçš„ç‰ˆæœ¬ï¼Œæ¨èæ­é… JDK 17/21ï¼›</li>
<li><strong>4.0.1</strong> æ˜¯æœªæ¥ä¸»çº¿ï¼Œæ”¯æŒæœ€æ–° JDK å’Œæ¨¡å—åŒ–åŠŸèƒ½ï¼Œé€‚åˆæ–°é¡¹ç›®ï¼Œä½†å‡çº§éœ€è°¨æ…ï¼›</li>
<li><strong>ç‰ˆæœ¬é€‰æ‹©åº”ç»“åˆ JDK æ”¯æŒã€ç”Ÿæ€å…¼å®¹æ€§ã€ç”Ÿå‘½å‘¨æœŸåŠç”Ÿäº§é£é™©</strong>ï¼Œä»¥å½¢æˆç¨³å®šã€å¯ç»´æŠ¤çš„é•¿æœŸæ¶æ„ï¼›</li>
<li><strong>å‡çº§ç­–ç•¥</strong>ï¼šè€é¡¹ç›®é€æ­¥å‡çº§ â†’ æ¡¥æ¢ç‰ˆæœ¬ï¼ˆ3.5.xï¼‰ â†’ æ–°ä¸»çº¿ï¼ˆ4.xï¼‰ï¼ŒåŒæ—¶ä¿æŒä¸¥æ ¼æµ‹è¯•å’Œä¾èµ–éªŒè¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-14">å‚è€ƒé“¾æ¥</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fblog%3Futm_source%3Dchatgpt.com" target="_blank" title="https://spring.io/blog?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot å®˜æ–¹åšå®¢</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fspring.io%2Fsupport-policy%3Futm_source%3Dchatgpt.com" target="_blank" title="https://spring.io/support-policy?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot æ”¯æŒç­–ç•¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fendoflife.date%2Fspring-boot%3Futm_source%3Dchatgpt.com" target="_blank" title="https://endoflife.date/spring-boot?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">End of Life å®˜æ–¹ç»Ÿè®¡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-boot%2Fwiki%2FSupported-Versions%3Futm_source%3Dchatgpt.com" target="_blank" title="https://github.com/spring-projects/spring-boot/wiki/Supported-Versions?utm_source=chatgpt.com" ref="nofollow noopener noreferrer">Spring Boot GitHub Wiki ç‰ˆæœ¬æ”¯æŒ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut]]></title>    <link>https://juejin.cn/post/7592255257348161577</link>    <guid>https://juejin.cn/post/7592255257348161577</guid>    <pubDate>2026-01-07T12:00:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592255257348161577" data-draft-id="7592255257348046889" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-07T12:00:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcOut
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T12:00:52.000Z" title="Wed Jan 07 2026 12:00:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>srcOut</p>
<p><code>Keeps the source pixels that do not cover destination pixels. Discards source pixels that cover destination pixels. Discards all destination pixels.</code></p>
<p>è®¡ç®—å…¬å¼:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdd28db3859345d88f728c2263188d5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=NZZDf4SvHMScYxdnJdhODRKaT74%3D" alt="image.png" width="30%" loading="lazy"/>
<p>å½“dst.a = 1 çš„æ—¶å€™ a = 0 c = 0 ä¹Ÿå°±æ˜¯å®Œå…¨é€æ˜.ä¹Ÿå°±æ˜¯ä¸Šé¢é‚£æ®µè‹±æ–‡çš„æ„æ€ä¿ç•™éé‡å éƒ¨åˆ†çš„srcå’Œdst,ç§»é™¤é‡å éƒ¨åˆ†çš„srcå’Œdstã€‚æ¢å¥è¯å°±æ˜¯å¦‚æœä½ æƒ³åœ¨dstä¸Šæ¸…é™¤æŸéƒ¨åˆ†çš„å†…å®¹ï¼Œå°±å¯ä»¥ä½¿ç”¨srcOut.</p>
<p>ä¾‹å­:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcOut</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>æ•ˆæœå›¾:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adef80d04bd54943bc38f2f82c9e3ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=EtBzq2LzYY1fvvQQw5jj797fP0E%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ç¯å½¢è·Ÿå›¾ç‰‡é‡å çš„éƒ¨åˆ†å˜æˆé€æ˜çš„ï¼Œsrcæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ã€‚</p>
<p>ä¾‹å­2:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> clipPath = ui.<span class="hljs-title class_">Path</span>();
    clipPath.<span class="hljs-title function_">addOval</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromCenter</span>(<span class="hljs-attr">center</span>: <span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-attr">width</span>: <span class="hljs-number">240</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">240</span>));
    canvas.<span class="hljs-title function_">clipPath</span>(clipPath);
    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcOut</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>æ•ˆæœå›¾ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bf55563f9d546edb32e8ef1ca83f787~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768392052&amp;x-signature=w2C4kIZ6akgypumeH7UL3OBSeBw%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ç¯å½¢è·Ÿå›¾ç‰‡é‡å çš„éƒ¨åˆ†å˜æˆé€æ˜çš„ï¼Œsrcæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ï¼Œdstæœªé‡å éƒ¨åˆ†ä¿ç•™äº†ä¸‹æ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨]]></title>    <link>https://juejin.cn/post/7592148975848554539</link>    <guid>https://juejin.cn/post/7592148975848554539</guid>    <pubDate>2026-01-07T09:46:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848554539" data-draft-id="7590724064522256447" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:46:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é¸¡çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3092298256613837"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Solidityæ™ºèƒ½åˆçº¦å¿«é€Ÿå…¥é—¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3092298256613837/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é¸¡çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:30.000Z" title="Wed Jan 07 2026 09:46:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯æ™ºèƒ½åˆçº¦ï¼Ÿ</h2>
<p>æ™ºèƒ½åˆçº¦æ˜¯è¿è¡Œåœ¨é“¾ä¸Šçš„ç¨‹åºï¼Œåˆçº¦å¼€å‘è€…å¯ä»¥é€šè¿‡æ™ºèƒ½åˆçº¦å®ç°ä¸é“¾ä¸Šèµ„äº§ã€æ•°æ®è¿›è¡Œäº¤äº’ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è‡ªå·±çš„é“¾ä¸Šè´¦æˆ·æ¥è°ƒç”¨åˆçº¦ï¼Œè®¿é—®èµ„äº§ä¸æ•°æ®ã€‚</p>
<p><strong>ä¸ä¸€èˆ¬ç¨‹åºçš„å·®å¼‚</strong></p>
<p>åŸç”Ÿæ”¯æŒèµ„äº§æµåŠ¨ï¼Œéƒ¨ç½²ä¸åç»­å†™å…¥éœ€è¦ä¸€å®šçš„è´¹ç”¨ï¼Œå­˜å‚¨æ•°æ®çš„æˆæœ¬æ›´é«˜ï¼Œéƒ¨ç½²åæ— æ³•æ›´æ”¹ï¼ˆå¯å‡çº§åˆçº¦ï¼Ÿï¼‰</p>
<h2 data-id="heading-1">Solidityæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>ä¸€é—¨é¢å‘åˆçº¦çš„ï¼Œä¸ºå®ç°æ™ºèƒ½åˆçº¦è€Œåˆ›å»ºçš„é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨EVMè™šæ‹Ÿæœºä¸Šè¿è¡Œï¼Œè¯­æ³•æ•´ä½“ç±»ä¼¼äºJavaScriptï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„æ™ºèƒ½åˆçº¦è¯­è¨€ï¼Œä¹Ÿæ˜¯å…¥é—¨åŒºå—é“¾å’Œweb3æ‰€å¿…é¡»æŒæ¡çš„è¯­è¨€ã€‚</p>
<h2 data-id="heading-2">å¦‚ä½•éƒ¨ç½²åˆçº¦ï¼Ÿ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/784dcc8393824763ab2c0357643aa7c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=BBlJ6NPaIIkOu6CPsCux1UvK0zs%3D" alt="image.png" loading="lazy"/></p>
<p>Solidityåˆçº¦æ˜¯ä»¥.solä¸ºåç¼€çš„æ–‡ä»¶ï¼Œæ— æ³•ç›´æ¥æ‰§è¡Œï¼Œéœ€è¦ç¼–è¯‘ä¸ºEVMï¼ˆï¼¥ï½”ï½ˆï½…ï½’ï½…ï½•ï½ã€€ï¼¶ï½‰ï½’ï½”ï½•ï½ï½Œã€€Machineï¼‰å¯è¯†åˆ«çš„å­—èŠ‚ç æ‰èƒ½åœ¨é“¾ä¸Šè¿è¡Œã€‚</p>
<h2 data-id="heading-3">å¼€å‘æ¡†æ¶&amp;å·¥å…·æœ‰å“ªäº›ï¼Ÿ</h2>
<p>æ¡†æ¶æœ‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07d08417f3094c9192b97e5f0ddee541~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=YwRMQngg5dsq8gMXs1FntZ%2F9AD8%3D" alt="image.png" loading="lazy"/></p>
<p>å·¥å…·æœ‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70dbc19648e84b4dab4b1da6e6c05b6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=xgXktOQPL5Iqa75CP3tX5cM6xVc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">Solidityæ ¸å¿ƒè¯­æ³•æœ‰å“ªäº›ï¼Ÿ</h2>
<h3 data-id="heading-5">åŸºæœ¬æ•°æ®ç±»å‹</h3>
<p>ï¼‘.ã€€Boolean
ï¼’.ã€€ï½‰ï½ï½”
ï¼“.ã€€ï½•ï½‰ï½ï½”
ï¼”.ã€€address
ï¼•.ã€€bytes
ï¼ï¼ï¼</p>
<h3 data-id="heading-6">æšä¸¾ç±»å‹</h3>
<pre><code class="hljs language-js" lang="js">enum <span class="hljs-title class_">Status</span>{
    <span class="hljs-title class_">Unknown</span>,
    <span class="hljs-title class_">Start</span>,
    <span class="hljs-title class_">End</span>,
    <span class="hljs-title class_">Pause</span>
}
<span class="hljs-comment">// å®ä¾‹åŒ–æšä¸¾ç±»å‹</span>
<span class="hljs-title class_">Status</span> public statusï¼›
<span class="hljs-comment">// æ›´æ–°æšä¸¾å€¼</span>
<span class="hljs-keyword">function</span> pause public {
    status = <span class="hljs-title class_">Status</span>.<span class="hljs-property">Pause</span>;
}
<span class="hljs-comment">// åˆå§‹åŒ–æšä¸¾å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) public{
   <span class="hljs-keyword">return</span> status;
}
</code></pre>
<h3 data-id="heading-7">æ•°ç»„ç±»å‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰æ•°ç»„ç±»å‹</span>
uint[<span class="hljs-number">7</span>] public arr;
<span class="hljs-comment">// æ·»åŠ æ•°æ®</span>
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">7</span>);
<span class="hljs-comment">// åˆ é™¤æœ€åä¸€ä¸ªæ•°æ®</span>
arr.<span class="hljs-title function_">pop</span>();
<span class="hljs-comment">// åˆ é™¤æŸä¸ªç´¢å¼•å€¼æ•°æ®</span>
<span class="hljs-keyword">delete</span> arr[<span class="hljs-number">1</span>];
<span class="hljs-comment">// è·å–æ•°ç»„é•¿åº¦</span>
uint len = arr.<span class="hljs-property">length</span>;
</code></pre>
<h3 data-id="heading-8">mappingç±»å‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰åµŒå¥—mappingç±»å‹</span>
<span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">string</span>=&gt;</span>string)) nestedMap;
<span class="hljs-comment">// è®¾ç½®å€¼</span>
nestedMap[id][key] = <span class="hljs-string">"0707"</span>;
<span class="hljs-comment">// è¯»å–å€¼</span>
string value = nestedMap[id][key];
<span class="hljs-comment">// åˆ é™¤å€¼</span>
<span class="hljs-keyword">delete</span> nestMap[id][key];
</code></pre>
<h3 data-id="heading-9">ç»“æ„ä½“ç±»å‹ï¼ˆstructï¼‰</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">Struct</span>{
    struct <span class="hljs-title class_">Data</span>{
        string id;
        string hash;
    }
    <span class="hljs-title class_">Data</span> public data;
    
    <span class="hljs-comment">// æ·»åŠ æ•°æ®</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">string calldata _id</span>) public {
        data = <span class="hljs-title class_">Data</span>{<span class="hljs-attr">id</span>:_id,<span class="hljs-attr">hash</span>:<span class="hljs-string">"111222"</span>};
    }
    
    <span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">string _id</span>) public {
        <span class="hljs-comment">// æŸ¥è¯¢æ•°æ®</span>
        string id = data.<span class="hljs-property">id</span>
        <span class="hljs-comment">// æ›´æ–°</span>
        data.<span class="hljs-property">hash</span> = <span class="hljs-string">"222333"</span>
    }
}
</code></pre>
<h2 data-id="heading-10">å˜é‡ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h2>
<p><strong>ç±»å‹</strong>ï¼šlocal state global
<strong>å…³é”®å­—å£°æ˜</strong>ï¼šstorage  memory calldata</p>
<h2 data-id="heading-11">å¸¸é‡æœ‰å“ªäº›ï¼Ÿ</h2>
<p>constant ï¼š å€¼ä¸å¯å˜ï¼ŒèŠ‚çº¦gas fee
immutableï¼šå¯ä»¥åœ¨constructorä¸­åˆå§‹åŒ–ï¼Œä½†ä¸å¯ä»¥å†æ¬¡æ”¹å˜ã€‚</p>
<h2 data-id="heading-12">å‡½æ•°çš„å¯è§æ€§å’Œå…³é”®å­—æœ‰å“ªäº›ï¼Ÿ</h2>
<p>å¯è§æ€§ï¼špublic  private internal external</p>
<p>å…³é”®å­—ï¼šview pure</p>
<h2 data-id="heading-13">å‡½æ•°ä¿®é¥°ç¬¦modifier</h2>
<pre><code class="hljs language-js" lang="js">modifier  onlyOwner{
    <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">sender</span> == owner,<span class="hljs-string">"Not owner"</span>);
}

modifier <span class="hljs-title function_">validAddress</span>(<span class="hljs-params">address _addr</span>){
    <span class="hljs-built_in">require</span>(_addr != <span class="hljs-title function_">address</span>(<span class="hljs-number">0</span>),<span class="hljs-string">"Not valid address"</span>);
    _;
}

modifier <span class="hljs-title function_">noReentrancy</span>(<span class="hljs-params"/>){
    <span class="hljs-built_in">require</span>(!locked,<span class="hljs-string">"No reentrancy"</span>);
    locked = <span class="hljs-literal">true</span>;
    _;
    locked = <span class="hljs-literal">false</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">changeOwner</span>(<span class="hljs-params">address _newOwner</span>) public onlyOwner <span class="hljs-title function_">validAddress</span>(<span class="hljs-params">_newOwner</span>){
    owner = _newOwner;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">decrement</span>(<span class="hljs-params">uint i</span>) public noReentrancy{
    x -= i;
    <span class="hljs-keyword">if</span>(i &gt; <span class="hljs-number">1</span>){
        <span class="hljs-title function_">decrement</span>(i - <span class="hljs-number">1</span>);
    }
}
</code></pre>
<h2 data-id="heading-14">å‡½æ•°é€‰æ‹©å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">addr.<span class="hljs-title function_">call</span>(abi.<span class="hljs-title function_">encodeWithSignature</span>(<span class="hljs-string">"transfer(address,uint256)"</span>,0xSomeAddress,<span class="hljs-number">123</span>))

contract  <span class="hljs-title class_">FunctionSelector</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSelector</span>(<span class="hljs-params">string calldata _func</span>) external pure returns (bytes4){
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">bytes4</span>(<span class="hljs-title function_">keccak256</span>(<span class="hljs-title function_">bytes</span>(_func)));
    }
}
</code></pre>
<h2 data-id="heading-15">æ¡ä»¶åˆ¤æ–­æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">10</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">20</span>){
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}<span class="hljs-keyword">else</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;
}

x &lt; <span class="hljs-number">20</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span> <span class="hljs-comment">// ä¸‰å…ƒè¿ç®—ç¬¦</span>
</code></pre>
<h2 data-id="heading-16">å¾ªç¯æœ‰å“ªäº›ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span>(uint i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++){
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>

}
uint j;
<span class="hljs-keyword">while</span> (j &lt; <span class="hljs-number">10</span>){
    j++;
}
</code></pre>
<h2 data-id="heading-17">åˆçº¦çš„æ¦‚å¿µï¼ˆconstructorï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">constructor</span>(<span class="hljs-params">string memory _name</span>){
    name = _name;
}
</code></pre>
<h3 data-id="heading-18">å…ˆå®šä¹‰æ¥å£ï¼Œç„¶åç”±åˆçº¦å®ç°æ¥å£ã€‚</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">Counter</span>{
  uint public  count;
  <span class="hljs-keyword">function</span>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) external{
      count+<span class="hljs-number">1</span>;
  }
}

interface <span class="hljs-title class_">ICounter</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">count</span>(<span class="hljs-params"/>) external view returns (uint);
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) external;
}

contract <span class="hljs-title class_">MyContract</span> {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">incrementCounter</span>(<span class="hljs-params">address _counter</span>) external {
        <span class="hljs-title class_">ICounter</span>(_counter).<span class="hljs-title function_">increment</span>();
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCount</span>(<span class="hljs-params">address _counter</span>) external view returns (uint){
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ICounter</span>(_counter).<span class="hljs-title function_">count</span>();
    }
}
</code></pre>
<h2 data-id="heading-19">åˆçº¦å¦‚ä½•ç»§æ‰¿å‘¢ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰çˆ¶åˆçº¦ A</span>
contract A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure virtual returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-string">"A"</span>;
    }
}

<span class="hljs-comment">// Båˆçº¦ç»§æ‰¿Aåˆçº¦å¹¶é‡å†™å‡½æ•°</span>
contract B is A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure virtual override returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-string">"B"</span>;
    }
}

<span class="hljs-comment">// Dåˆçº¦ç»§æ‰¿Bï¼ŒCå¹¶é‡å†™å‡½æ•°</span>
contract D is B,C{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public pure <span class="hljs-title function_">override</span>(B,C) returns (string memory){
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">foo</span>();
    }
} 

contract B is A{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) public virtual override{
        <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
        A.<span class="hljs-title function_">foo</span>();
    }
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params"/>) public virtual override{
        <span class="hljs-comment">// é€šè¿‡supperå…³é”®å­—è°ƒç”¨</span>
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">bar</span>();
    }
}
</code></pre>
<h2 data-id="heading-20">å¦‚ä½•åœ¨åˆçº¦é‡Œé¢åˆ›å»ºåˆçº¦ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">address _owner,string memory _model</span>) public {
    <span class="hljs-title class_">Car</span> car = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>(_owner,_model);
    cars.<span class="hljs-title function_">push</span>(car);
}
</code></pre>
<p>åœ¨0.8.0ä¹‹åæ”¯æŒä»¥ä¸‹å†™æ³•</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">create2</span>(<span class="hljs-params">address _owner,string memory _model,bytes32 _salt</span>) public{
    <span class="hljs-title class_">Car</span> car = (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>){<span class="hljs-attr">salt</span>:_salt}(_owner,_model);
    cars.<span class="hljs-title function_">push</span>(car);
}
</code></pre>
<h2 data-id="heading-21">å¦‚ä½•å¯¼å…¥åˆçº¦å‘¢ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æœ¬åœ°å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./Foo.sol'</span>;
<span class="hljs-comment">// å¤–éƒ¨å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'https://github.com/owner/repo/blob/branch/path/to/Contract.sol'</span>; 
</code></pre>
<h2 data-id="heading-22">å¯¼å…¥å¦‚ä½•å¯¼å…¥åº“ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">library <span class="hljs-title class_">SafeMath</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">uint x, uint y</span>) internal pure returns (uint){
        uint z = x+y;
        <span class="hljs-built_in">require</span>(z&gt;=x,<span class="hljs-string">"uint overflow"</span>);
    }
}

contract <span class="hljs-title class_">TestSafeMath</span>{
    using <span class="hljs-title class_">SafeMath</span> <span class="hljs-keyword">for</span> uint;
}
</code></pre>
<h2 data-id="heading-23">äº‹ä»¶æ€ä¹ˆå®ç°?</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å®šä¹‰äº‹ä»¶</span>
event <span class="hljs-title class_">Log</span>(address indexed sender,string message);
event <span class="hljs-title class_">AnotherLog</span>();

<span class="hljs-comment">// æŠ›å‡ºäº‹ä»¶</span>
emit <span class="hljs-title class_">Log</span>(msg.<span class="hljs-property">sender</span>,<span class="hljs-string">"Hello World!"</span>);
emit <span class="hljs-title class_">Log</span>(msg.<span class="hljs-property">sender</span>,<span class="hljs-string">"Hello EVM!"</span>);
emit <span class="hljs-title class_">AnotherLog</span>();
</code></pre>
<h2 data-id="heading-24">é”™è¯¯å¤„ç†å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testRequire</span>(<span class="hljs-params">uint _i</span>) public pure {
        <span class="hljs-built_in">require</span>(_i &gt; <span class="hljs-number">10</span>,<span class="hljs-string">"Input must be greater than 10"</span>);
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testRevert</span>(<span class="hljs-params">uint _i</span>) public pure{
        <span class="hljs-keyword">if</span>(i &lt;= <span class="hljs-number">10</span>){
            <span class="hljs-title function_">revert</span>(<span class="hljs-string">"Input must be greater than 10"</span>);
        }
    }
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">testAssert</span>(<span class="hljs-params"/>) public view{
        <span class="hljs-title function_">assert</span>(num == <span class="hljs-number">10</span>);
    }
</code></pre>
<h3 data-id="heading-25">try/catchæ•æ‰é”™è¯¯</h3>
<pre><code class="hljs language-js" lang="js">event <span class="hljs-title class_">Log</span>(string message);
event <span class="hljs-title class_">Log</span>(bytes data);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">tryCatchNewContract</span>(<span class="hljs-params">address _owner</span>) public {
    <span class="hljs-keyword">try</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>(_owner) returns (<span class="hljs-title class_">Foo</span> foo){
        emit <span class="hljs-title class_">Log</span>(<span class="hljs-string">"Foo created"</span>);
    }<span class="hljs-keyword">catch</span> <span class="hljs-title class_">Error</span>(string memory reason){
        emit <span class="hljs-title class_">Log</span>(reason);
    }<span class="hljs-keyword">catch</span>(bytes memory reason){
        emit <span class="hljs-title class_">LogBytes</span>(reason);
    }
}
</code></pre>
<h2 data-id="heading-26">èµ„äº§ï¼ˆpayableï¼‰</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åœ°å€ç±»å‹å¯ä»¥å£°æ˜ payable</span>
address payable public owner;

<span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) payable {
  owner = <span class="hljs-title function_">payable</span>(msg.<span class="hljs-property">sender</span>);
}

<span class="hljs-comment">// æ–¹æ³•å£°æ˜  payable æ¥æ¥æ”¶ Ether</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-params"/>)  public payable{}

</code></pre>
<h3 data-id="heading-27">èµ„äº§å¦‚ä½•å‘é€ï¼Ÿ</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">SendEnter</span>{
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendViaCall</span>(<span class="hljs-params">address payable _to</span>) public payable{
        (bool sent,bytes memory data) = _to.<span class="hljs-property">call</span>{<span class="hljs-attr">value</span>:msg.<span class="hljs-property">value</span>}(<span class="hljs-string">""</span>);
        <span class="hljs-built_in">require</span>(sent,<span class="hljs-string">"Failed to send Ether"</span>);
    }
}
</code></pre>
<h3 data-id="heading-28">èµ„äº§å¦‚ä½•æ¥å—ï¼Ÿ</h3>
<pre><code class="hljs language-js" lang="js">contract <span class="hljs-title class_">ReceiveEther</span>{
    <span class="hljs-comment">// å½“msg.dataä¸ºç©ºæ—¶</span>
    <span class="hljs-title function_">receive</span>() external payable{}
    <span class="hljs-comment">// å½“msg.dataéç©ºæ—¶</span>
    <span class="hljs-title function_">fallback</span>() external payable{}
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"/>) public view returns (uint) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>;
    }
}
</code></pre>
<h2 data-id="heading-29">å¦‚ä½•èŠ‚çº¦Gasè´¹ç”¨ï¼Ÿ</h2>
<p><strong>å‚æ•°</strong></p>
<ol>
<li><code>gas spent</code></li>
<li><code>gas price</code></li>
<li><code>gas limit</code></li>
<li><code>block gas limit</code></li>
</ol>
<p><strong>æŠ€å·§</strong></p>
<ol>
<li>ä½¿ç”¨<code>calldata</code>ä»£æ›¿<code>memory</code></li>
<li>å°†çŠ¶æ€å˜é‡è½½å…¥å†…å­˜</li>
<li>ä½¿ç”¨<code>i++</code>è€Œä¸æ˜¯ä½¿ç”¨<code>++i</code></li>
<li>ç¼“å­˜æ•°ç»„å…ƒç´ </li>
</ol>
<h2 data-id="heading-30">å…¶ä»–å­¦ä¹ ç½‘å€ï¼š</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a554e93f03f406488fca14edb7c025d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bih55qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383990&amp;x-signature=xw0IqF8kL393DqUm0Kop03OnTV8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">ä½¿ç”¨forge testæ¥æµ‹è¯•é¡¹ç›®æ˜¯å¦æˆåŠŸï¼</h2>
<p>web3åšä¸»åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.pseudoyu.com%2F" target="_blank" title="https://www.pseudoyu.com/" ref="nofollow noopener noreferrer">é“¾æ¥</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7592455394061598758</link>    <guid>https://juejin.cn/post/7592455394061598758</guid>    <pubDate>2026-01-07T09:48:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592455394061598758" data-draft-id="7592455394061582374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:48:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainå­¦ä¹ æ€»ç»“ï¼šPython + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:48:38.000Z" title="Wed Jan 07 2026 09:48:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python + OpenAI åŸç”Ÿ SDK å®ç°è®°å¿†åŠŸèƒ½</h2>
<h3 data-id="heading-1">ä¸€ã€è¿™æ˜¯ä»€ä¹ˆ</h3>
<p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <strong>Python</strong> å’Œ <strong>OpenAI åŸç”Ÿ SDK</strong> ä»é›¶å®ç°çš„å¯¹è¯è®°å¿†ç³»ç»Ÿï¼Œé‡‡ç”¨äº†<strong>æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†</strong>ï¼ˆConversationSummaryBufferMemoryï¼‰çš„ç­–ç•¥ã€‚</p>
<p>å®ƒä¸ä¾èµ– LangChain ç­‰é«˜çº§æ¡†æ¶ï¼Œè€Œæ˜¯é€šè¿‡åŸç”Ÿä»£ç å®ç°äº†ç±»ä¼¼äº LangChain çš„è®°å¿†ç®¡ç†åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒåŸç†</h3>
<h4 data-id="heading-3">æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†ï¼ˆSummary Buffer Memoryï¼‰</h4>
<p>è¿™æ˜¯ä¸€ç§å°†<strong>æ‘˜è¦è®°å¿†</strong>å’Œ<strong>ç¼“å†²çª—å£è®°å¿†</strong>ç»“åˆçš„æ··åˆç­–ç•¥ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‘˜è¦éƒ¨åˆ†ï¼ˆ<span class="hljs-selector-tag">Summary</span>ï¼‰                             â”‚
â”‚  å­˜å‚¨æ—©æœŸå¯¹è¯çš„æç‚¼æ€»ç»“                           â”‚
â”‚  ä¾‹å¦‚ï¼šç”¨æˆ·å«å¼ ä¸‰ï¼Œå–œæ¬¢ç¼–ç¨‹...                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ éšå¯¹è¯å¢é•¿åŠ¨æ€ç”Ÿæˆ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼“å†²éƒ¨åˆ†ï¼ˆBufferï¼‰                              â”‚
â”‚  å­˜å‚¨æœ€è¿‘çš„å®Œæ•´å¯¹è¯è®°å½•                           â”‚
â”‚  ä¾‹å¦‚ï¼šæœ€è¿‘<span class="hljs-number">3</span>è½®çš„å®Œæ•´é—®ç­”                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-4">å·¥ä½œæµç¨‹</h4>
<ol>
<li><strong>åˆå§‹é˜¶æ®µ</strong>ï¼šæ‰€æœ‰å¯¹è¯å­˜å‚¨åœ¨ç¼“å­˜ä¸­</li>
<li><strong>è§¦å‘æ‘˜è¦</strong>ï¼šå½“ç¼“å­˜ä¸­çš„ token æ•°é‡è¶…è¿‡ <code>max_tokens</code> é˜ˆå€¼æ—¶</li>
<li><strong>ç”Ÿæˆæ‘˜è¦</strong>ï¼šå°†æœ€æ—©çš„å¯¹è¯ä¸ç°æœ‰æ‘˜è¦åˆå¹¶ï¼Œç”Ÿæˆæ–°çš„æ‘˜è¦</li>
<li><strong>ç§»é™¤æ—§å¯¹è¯</strong>ï¼šå°†å·²æ‘˜è¦çš„å¯¹è¯ä»ç¼“å­˜ä¸­åˆ é™¤</li>
<li><strong>å¾ªç¯è¿›è¡Œ</strong>ï¼šä¿æŒå¯¹è¯å†å²çš„å¯æ§æ€§</li>
</ol>
<h3 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒç»„ä»¶</h3>
<h4 data-id="heading-6">ConversationSummaryBufferMemory ç±»</h4>
<p>è¿™ä¸ªç±»å®ç°äº†å®Œæ•´çš„è®°å¿†ç®¡ç†åŠŸèƒ½ï¼š</p>









































<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>summary</code></td><td>å­˜å‚¨å¯¹è¯æ‘˜è¦ä¿¡æ¯</td></tr><tr><td><code>chat_histories</code></td><td>å­˜å‚¨å†å²å¯¹è¯åˆ—è¡¨</td></tr><tr><td><code>max_tokens</code></td><td>è§¦å‘æ‘˜è¦ç”Ÿæˆçš„ token é˜ˆå€¼</td></tr><tr><td><code>get_num_tokens()</code></td><td>è®¡ç®—æ–‡æœ¬çš„ token æ•°é‡</td></tr><tr><td><code>save_content()</code></td><td>ä¿å­˜æ–°çš„å¯¹è¯åˆ°ç¼“å­˜</td></tr><tr><td><code>get_buffer_string()</code></td><td>å°†å†å²å¯¹è¯è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td><code>load_memory_variables()</code></td><td>åŠ è½½è®°å¿†å˜é‡ä¾›æ¨¡å‹ä½¿ç”¨</td></tr><tr><td><code>summary_text()</code></td><td>ä½¿ç”¨ LLM ç”Ÿæˆæ–°çš„æ‘˜è¦</td></tr></tbody></table>
<h4 data-id="heading-7">å…³é”®æ–¹æ³•è¯´æ˜</h4>
<h5 data-id="heading-8">1. <code>save_content()</code> - ä¿å­˜å¯¹è¯å¹¶è§¦å‘æ‘˜è¦</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">save_content</span>(<span class="hljs-params">self, human_query: <span class="hljs-built_in">str</span>, ai_content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-comment"># 1. ä¿å­˜æ–°å¯¹è¯</span>
    <span class="hljs-comment"># 2. æ£€æŸ¥ token æ•°é‡</span>
    <span class="hljs-comment"># 3. è¶…è¿‡é˜ˆå€¼åˆ™ç”Ÿæˆæ‘˜è¦å¹¶ç§»é™¤æ—§å¯¹è¯</span>
</code></pre>
<h5 data-id="heading-9">2. <code>summary_text()</code> - ç”Ÿæˆæ–°æ‘˜è¦</h5>
<p>ä½¿ç”¨ç²¾å¿ƒè®¾è®¡çš„ Prompt è®© LLM å°†æ—§æ‘˜è¦å’Œæ–°å¯¹è¯åˆå¹¶æˆæ–°æ‘˜è¦ï¼Œå¹¶ä¿ç•™å…³é”®ä¿¡æ¯ï¼ˆå§“åã€çˆ±å¥½ã€é‡è¦äº‹ä»¶ç­‰ï¼‰ã€‚</p>
<h5 data-id="heading-10">3. <code>load_memory_variables()</code> - åŠ è½½è®°å¿†</h5>
<p>è¿”å›æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…å«æ‘˜è¦å’Œç¼“å­˜ä¸­çš„å†å²å¯¹è¯ã€‚</p>
<h3 data-id="heading-11">å››ã€æœ‰ä»€ä¹ˆç”¨</h3>
<h4 data-id="heading-12">1. å®ç°é•¿æœŸå¯¹è¯è®°å¿†</h4>
<ul>
<li>AI å¯ä»¥è®°ä½ä¹‹å‰çš„å¯¹è¯å†…å®¹</li>
<li>è·¨ä¼šè¯ä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§</li>
<li>è®°ä½ç”¨æˆ·çš„é‡è¦ä¿¡æ¯ï¼ˆå§“åã€åå¥½ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-13">2. æ§åˆ¶ Token æˆæœ¬</h4>
<ul>
<li>ä¸ä¼šæ— é™åˆ¶åœ°å‘é€æ‰€æœ‰å†å²å¯¹è¯</li>
<li>é€šè¿‡æ‘˜è¦å‡å°‘æ—©æœŸå¯¹è¯çš„ token å ç”¨</li>
<li>åªä¿ç•™æœ€è¿‘å¯¹è¯çš„å®Œæ•´å†…å®¹</li>
</ul>
<h4 data-id="heading-14">3. å¹³è¡¡ä¿¡æ¯å®Œæ•´æ€§ä¸æˆæœ¬</h4>
<ul>
<li><strong>æ‘˜è¦éƒ¨åˆ†</strong>ï¼šä¿ç•™å…³é”®ä¿¡æ¯ï¼Œå ç”¨ token å°‘</li>
<li><strong>ç¼“å­˜éƒ¨åˆ†</strong>ï¼šä¿ç•™å®Œæ•´ç»†èŠ‚ï¼Œç¡®ä¿è¿‘æœŸå¯¹è¯å‡†ç¡®</li>
</ul>
<h4 data-id="heading-15">4. å­¦ä¹ ä»·å€¼</h4>
<ul>
<li>ç†è§£å¤§è¯­è¨€æ¨¡å‹åº”ç”¨ä¸­è®°å¿†ç®¡ç†çš„æ ¸å¿ƒæ¦‚å¿µ</li>
<li>å­¦ä¹ å¦‚ä½•ä»é›¶å®ç°å¤æ‚çš„å¯¹è¯çŠ¶æ€ç®¡ç†</li>
<li>æŒæ¡æç¤ºè¯å·¥ç¨‹åœ¨æ‘˜è¦ç”Ÿæˆä¸­çš„åº”ç”¨</li>
</ul>
<h3 data-id="heading-16">äº”ã€åº”ç”¨åœºæ™¯</h3>





























<table><thead><tr><th>åœºæ™¯</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>æ™ºèƒ½å®¢æœ</strong></td><td>è®°ä½ç”¨æˆ·é—®é¢˜å’Œå†å²æŠ•è¯‰</td></tr><tr><td><strong>ä¸ªæ€§åŒ–åŠ©æ‰‹</strong></td><td>è®°ä½ç”¨æˆ·åå¥½å’Œä¹ æƒ¯</td></tr><tr><td><strong>æ•™è‚²è¾…å¯¼</strong></td><td>è·Ÿè¸ªå­¦ä¹ è¿›åº¦å’ŒçŸ¥è¯†ç‚¹</td></tr><tr><td><strong>å¿ƒç†å’¨è¯¢</strong></td><td>ä¿æŒé•¿æœŸå’¨è¯¢çš„è¿è´¯æ€§</td></tr><tr><td><strong>æ¸¸æˆ NPC</strong></td><td>è®°ä½ä¸ç©å®¶çš„äº¤äº’å†å²</td></tr></tbody></table>
<h3 data-id="heading-17">å…­ã€å®ç°äº®ç‚¹</h3>
<ol>
<li><strong>åŸç”Ÿå®ç°</strong>ï¼šä¸ä¾èµ–æ¡†æ¶ï¼Œç†è§£åº•å±‚åŸç†</li>
<li><strong>åŠ¨æ€æ‘˜è¦</strong>ï¼šè‡ªåŠ¨è§¦å‘æ‘˜è¦ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†</li>
<li><strong>å…³é”®ä¿¡æ¯ä¿ç•™</strong>ï¼šç²¾å¿ƒè®¾è®¡çš„ Prompt ç¡®ä¿é‡è¦ä¿¡æ¯ä¸ä¸¢å¤±</li>
<li><strong>æµå¼è¾“å‡º</strong>ï¼šæ”¯æŒ OpenAI çš„æµå¼å“åº”ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå„ä¸ªåŠŸèƒ½ç‹¬ç«‹ï¼Œæ˜“äºæ‰©å±•</li>
</ol>
<h3 data-id="heading-18">ä¸ƒã€æŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>Python 3.x</strong></li>
<li><strong>OpenAI SDK</strong>ï¼ˆå…¼å®¹ Moonshot ç­‰ OpenAI æ ¼å¼ APIï¼‰</li>
<li><strong>dotenv</strong>ï¼ˆç¯å¢ƒå˜é‡ç®¡ç†ï¼‰</li>
<li><strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼šMoonshot-v1-8k</li>
</ul>
<h3 data-id="heading-19">å…«ã€å®Œæ•´ä»£ç å®ç°</h3>
<h4 data-id="heading-20">8.1 æ ¸å¿ƒç±»å®ç°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Any</span>
<span class="hljs-keyword">import</span> dotenv
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> OpenAI

dotenv.load_dotenv()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConversationSummaryBufferMemory</span>:
    <span class="hljs-string">"""
    æ‘˜è¦ç¼“å­˜æ··åˆè®°å¿†ç±»
    ç»“åˆäº†æ‘˜è¦è®°å¿†å’Œç¼“å†²çª—å£è®°å¿†çš„ä¼˜ç‚¹
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, summary: <span class="hljs-built_in">str</span> = <span class="hljs-string">''</span>, chat_histories: <span class="hljs-built_in">list</span> = <span class="hljs-literal">None</span>, max_tokens: <span class="hljs-built_in">int</span> = <span class="hljs-number">300</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–è®°å¿†ç»„ä»¶

        Args:
            summary: åˆå§‹æ‘˜è¦å†…å®¹
            chat_histories: å†å²å¯¹è¯åˆ—è¡¨
            max_tokens: è§¦å‘æ‘˜è¦ç”Ÿæˆçš„æœ€å¤§tokenæ•°
        """</span>
        self.summary = summary  <span class="hljs-comment"># å­˜å‚¨æ‘˜è¦</span>
        self.chat_histories = [] <span class="hljs-keyword">if</span> chat_histories <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> chat_histories  <span class="hljs-comment"># å­˜å‚¨å¯¹è¯ç¼“å­˜</span>
        self.max_tokens = max_tokens  <span class="hljs-comment"># tokené˜ˆå€¼</span>
        self.client = OpenAI(base_url=<span class="hljs-string">'https://api.moonshot.cn/v1'</span>)  <span class="hljs-comment"># LLMå®¢æˆ·ç«¯</span>
</code></pre>
<h4 data-id="heading-21">8.2 å·¥å…·æ–¹æ³•</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_num_tokens</span>(<span class="hljs-params">cls, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:
        <span class="hljs-string">"""
        è®¡ç®—æ–‡æœ¬çš„tokenæ•°é‡
        è¿™é‡Œç®€åŒ–ä¸ºå­—ç¬¦é•¿åº¦ï¼Œå®é™…å¯ä»¥ä½¿ç”¨tiktokenç²¾ç¡®è®¡ç®—
        """</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(query)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_buffer_string</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        å°†å†å²å¯¹è¯åˆ—è¡¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ ¼å¼
        æ ¼å¼: human: xxx\nai: xxx\n
        """</span>
        buffer_string = <span class="hljs-string">''</span>
        <span class="hljs-keyword">for</span> chat <span class="hljs-keyword">in</span> self.chat_histories:
            buffer_string += <span class="hljs-string">f"human: <span class="hljs-subst">{chat.get(<span class="hljs-string">'human'</span>)}</span>\nai: <span class="hljs-subst">{chat.get(<span class="hljs-string">'ai'</span>)}</span>\n"</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"buffer_string: <span class="hljs-subst">{buffer_string}</span>"</span>)
        <span class="hljs-keyword">return</span> buffer_string.strip()
</code></pre>
<h4 data-id="heading-22">8.3 æ ¸å¿ƒæ–¹æ³•ï¼šä¿å­˜å¯¹è¯</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">save_content</span>(<span class="hljs-params">self, human_query: <span class="hljs-built_in">str</span>, ai_content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""
        ä¿å­˜æ–°çš„å¯¹è¯åˆ°ç¼“å­˜ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦éœ€è¦ç”Ÿæˆæ‘˜è¦

        å·¥ä½œæµç¨‹ï¼š
        1. å°†æ–°å¯¹è¯æ·»åŠ åˆ°ç¼“å­˜
        2. è®¡ç®—ç¼“å­˜çš„tokenæ•°é‡
        3. å¦‚æœè¶…è¿‡é˜ˆå€¼ï¼Œåˆ™ç”Ÿæˆæ‘˜è¦å¹¶ç§»é™¤æœ€æ—©çš„å¯¹è¯
        """</span>
        <span class="hljs-comment"># 1. ä¿å­˜æ–°å¯¹è¯</span>
        self.chat_histories.append({
            <span class="hljs-string">'human'</span>: human_query,
            <span class="hljs-string">'ai'</span>: ai_content,
        })

        <span class="hljs-comment"># 2. æ£€æŸ¥tokenæ•°é‡</span>
        buffer_string = self.get_buffer_string()
        tokens = self.get_num_tokens(buffer_string)

        <span class="hljs-comment"># 3. è¶…è¿‡é˜ˆå€¼åˆ™ç”Ÿæˆæ‘˜è¦</span>
        <span class="hljs-keyword">if</span> tokens &gt; self.max_tokens:
            first_chat = self.chat_histories[<span class="hljs-number">0</span>]  <span class="hljs-comment"># è·å–æœ€æ—©çš„å¯¹è¯</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆæ–°çš„æ‘˜è¦ä¸­"</span>)

            <span class="hljs-comment"># ç”Ÿæˆæ–°çš„æ‘˜è¦ï¼ˆæ—§æ‘˜è¦ + æœ€æ—©å¯¹è¯ï¼‰</span>
            self.summary = self.summary_text(
                self.summary,
                <span class="hljs-string">f"human: <span class="hljs-subst">{human_query}</span>\nai: <span class="hljs-subst">{first_chat.get(<span class="hljs-string">'ai'</span>)}</span>"</span>
            )
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–°çš„æ‘˜è¦: <span class="hljs-subst">{self.summary}</span>"</span>)

            <span class="hljs-comment"># ç§»é™¤å·²æ‘˜è¦çš„å¯¹è¯</span>
            <span class="hljs-keyword">del</span> self.chat_histories[<span class="hljs-number">0</span>]
</code></pre>
<h4 data-id="heading-23">8.4 æ ¸å¿ƒæ–¹æ³•ï¼šç”Ÿæˆæ‘˜è¦</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">summary_text</span>(<span class="hljs-params">self, original_summary: <span class="hljs-built_in">str</span>, new_chat: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        ä½¿ç”¨LLMç”Ÿæˆæ–°çš„æ‘˜è¦

        å…³é”®ç‚¹ï¼š
        1. å°†æ—§æ‘˜è¦å’Œæ–°å¯¹è¯åˆå¹¶
        2. ä¿ç•™å…³é”®ä¿¡æ¯ï¼ˆå§“åã€çˆ±å¥½ã€æ€§åˆ«ã€é‡è¦äº‹ä»¶ç­‰ï¼‰
        3. å°½å¯èƒ½è¿˜åŸå¯¹è¯è®°å½•

        Args:
            original_summary: æ—§çš„æ‘˜è¦
            new_chat: æ–°çš„å¯¹è¯å†…å®¹

        Returns:
            æ–°ç”Ÿæˆçš„æ‘˜è¦
        """</span>
        prompt = <span class="hljs-string">f"""ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èŠå¤©æœºå™¨äººï¼Œè¯·æ ¹æ®ç”¨æˆ·æä¾›çš„è°ˆè¯å†…å®¹ï¼Œæ€»ç»“æ‘˜è¦ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°å…ˆå‰æä¾›çš„æ‘˜è¦ä¸­ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ‘˜è¦ï¼Œé™¤äº†æ–°æ‘˜è¦å…¶ä»–ä»»ä½•æ•°æ®éƒ½ä¸è¦ç”Ÿæˆï¼Œå¦‚æœç”¨æˆ·çš„å¯¹è¯ä¿¡æ¯é‡Œæœ‰ä¸€äº›å…³é”®çš„ä¿¡æ¯ï¼Œæ¯”æ–¹è¯´å§“åã€çˆ±å¥½ã€æ€§åˆ«ã€é‡è¦äº‹ä»¶ç­‰ç­‰ï¼Œè¿™äº›å…¨éƒ¨éƒ½è¦åŒ…æ‹¬åœ¨ç”Ÿæˆçš„æ‘˜è¦ä¸­ï¼Œæ‘˜è¦å°½å¯èƒ½è¦è¿˜åŸç”¨æˆ·çš„å¯¹è¯è®°å½•ã€‚

è¯·ä¸è¦å°†&lt;example&gt;æ ‡ç­¾é‡Œçš„æ•°æ®å½“æˆå®é™…çš„æ•°æ®ï¼Œè¿™é‡Œçš„æ•°æ®åªæ˜¯ä¸€ä¸ªç¤ºä¾‹æ•°æ®ï¼Œå‘Šè¯‰ä½ è¯¥å¦‚ä½•ç”Ÿæˆæ–°æ‘˜è¦ã€‚

&lt;example&gt;
å½“å‰æ‘˜è¦ï¼šäººç±»ä¼šé—®äººå·¥æ™ºèƒ½å¯¹äººå·¥æ™ºèƒ½çš„çœ‹æ³•ï¼Œäººå·¥æ™ºèƒ½è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ã€‚

æ–°çš„å¯¹è¯ï¼š
Humanï¼šä¸ºä»€ä¹ˆä½ è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ï¼Ÿ
AIï¼šå› ä¸ºäººå·¥æ™ºèƒ½ä¼šå¸®åŠ©äººç±»å……åˆ†å‘æŒ¥æ½œåŠ›ã€‚

æ–°æ‘˜è¦ï¼šäººç±»ä¼šé—®äººå·¥æ™ºèƒ½å¯¹äººå·¥æ™ºèƒ½çš„çœ‹æ³•ï¼Œäººå·¥æ™ºèƒ½è®¤ä¸ºäººå·¥æ™ºèƒ½æ˜¯ä¸€è‚¡å‘å–„çš„åŠ›é‡ï¼Œå› ä¸ºå®ƒå°†å¸®åŠ©äººç±»å……åˆ†å‘æŒ¥æ½œåŠ›ã€‚
&lt;/example&gt;

=====================ä»¥ä¸‹çš„æ•°æ®æ˜¯å®é™…éœ€è¦å¤„ç†çš„æ•°æ®=====================

å½“å‰æ‘˜è¦ï¼š<span class="hljs-subst">{original_summary}</span>

æ–°çš„å¯¹è¯ï¼š
<span class="hljs-subst">{new_chat}</span>

è¯·å¸®ç”¨æˆ·å°†ä¸Šé¢çš„ä¿¡æ¯ç”Ÿæˆæ–°æ‘˜è¦ã€‚"""</span>

        completion = self.client.chat.completions.create(
            model=<span class="hljs-string">"moonshot-v1-8k"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}]
        )
        <span class="hljs-keyword">return</span> completion.choices[<span class="hljs-number">0</span>].message.content
</code></pre>
<h4 data-id="heading-24">8.5 æ ¸å¿ƒæ–¹æ³•ï¼šåŠ è½½è®°å¿†å˜é‡</h4>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_memory_variables</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
        <span class="hljs-string">"""
        åŠ è½½è®°å¿†å˜é‡ï¼Œè¿”å›æ ¼å¼åŒ–çš„ä¸Šä¸‹æ–‡

        Returns:
            åŒ…å«chat_historyçš„å­—å…¸ï¼Œæ ¼å¼ä¸ºï¼š
            {
                "chat_history": "æ‘˜è¦: xxx\nå†å²ä¿¡æ¯: xxx"
            }
        """</span>
        buffer_string = self.get_buffer_string()
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"chat_history"</span>: <span class="hljs-string">f"æ‘˜è¦: <span class="hljs-subst">{self.summary}</span>\nå†å²ä¿¡æ¯:<span class="hljs-subst">{buffer_string}</span>"</span>,
        }
</code></pre>
<h4 data-id="heading-25">8.6 å®Œæ•´ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºå®¢æˆ·ç«¯å’Œè®°å¿†å¯¹è±¡</span>
client = OpenAI(base_url=<span class="hljs-string">'https://api.moonshot.cn/v1'</span>)
memory = ConversationSummaryBufferMemory(summary=<span class="hljs-string">""</span>, chat_histories=[], max_tokens=<span class="hljs-number">300</span>)

<span class="hljs-comment"># å¯¹è¯å¾ªç¯</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    <span class="hljs-comment"># 1. è·å–ç”¨æˆ·è¾“å…¥</span>
    human_query = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥: "</span>)
    <span class="hljs-keyword">if</span> human_query == <span class="hljs-string">'q'</span>:
        <span class="hljs-keyword">break</span>

    <span class="hljs-comment"># 2. åŠ è½½å†å²è®°å¿†</span>
    memory_variables = memory.load_memory_variables()

    <span class="hljs-comment"># 3. æ„å»ºåŒ…å«å†å²çš„æç¤ºè¯</span>
    answer_prompt = (
        <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„èŠå¤©æœºå™¨äººï¼Œè¯·æ ¹æ®å¯¹åº”çš„ä¸Šä¸‹æ–‡å’Œç”¨æˆ·æé—®è§£å†³é—®é¢˜ã€‚\n\n"</span>
        <span class="hljs-string">f"<span class="hljs-subst">{memory_variables.get(<span class="hljs-string">'chat_history'</span>)}</span>\n\n"</span>
        <span class="hljs-string">f"ç”¨æˆ·çš„æé—®æ˜¯: <span class="hljs-subst">{human_query}</span>"</span>
    )

    <span class="hljs-comment"># 4. è°ƒç”¨LLMï¼ˆæµå¼è¾“å‡ºï¼‰</span>
    response = client.chat.completions.create(
        model=<span class="hljs-string">"moonshot-v1-8k"</span>,
        messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: answer_prompt}],
        stream=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># 5. æ‰“å°AIå“åº”</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"AI: "</span>, end=<span class="hljs-string">""</span>)
    ai_content = <span class="hljs-string">""</span>
    <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:
        content = chunk.choices[<span class="hljs-number">0</span>].delta.content
        <span class="hljs-keyword">if</span> content <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">break</span>
        ai_content += content
        <span class="hljs-built_in">print</span>(content, end=<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>)

    <span class="hljs-comment"># 6. ä¿å­˜å¯¹è¯åˆ°è®°å¿†</span>
    memory.save_content(human_query, ai_content)
</code></pre>
<h4 data-id="heading-26">8.7 ä»£ç æ‰§è¡Œæµç¨‹å›¾</h4>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è¾“å…¥
   â†“
åŠ è½½å†å²è®°å¿† (load_memory_variables)
   â†“
æ„å»ºæç¤ºè¯ (åŒ…å«æ‘˜è¦ + ç¼“å­˜å¯¹è¯)
   â†“
è°ƒç”¨LLM API (æµå¼è¾“å‡º)
   â†“
ä¿å­˜æ–°å¯¹è¯ (save_content)
   â†“
æ£€æŸ¥tokenæ•° â†’ è¶…è¿‡é˜ˆå€¼ï¼Ÿ
   â†“                    â†“
 å¦                   æ˜¯
   â†“                    â†“
  ç»“æŸ          ç”Ÿæˆæ–°æ‘˜è¦ (summary_text)
                      â†“
                 ç§»é™¤æœ€æ—©å¯¹è¯
                      â†“
                    ç»“æŸ
</code></pre>
<h4 data-id="heading-27">8.8 å…³é”®ä»£ç è¯´æ˜</h4>



































<table><thead><tr><th>ä»£ç ç‰‡æ®µ</th><th>ä½œç”¨</th><th>å…³é”®ç‚¹</th></tr></thead><tbody><tr><td><code>self.chat_histories.append()</code></td><td>æ·»åŠ æ–°å¯¹è¯</td><td>ä½¿ç”¨å­—å…¸å­˜å‚¨ human/ai å¯¹</td></tr><tr><td><code>get_num_tokens()</code></td><td>è®¡ç®—tokenæ•°</td><td>ç®€åŒ–ä¸ºå­—ç¬¦é•¿åº¦ï¼Œç”Ÿäº§ç¯å¢ƒå¯ç”¨tiktoken</td></tr><tr><td><code>summary_text()</code></td><td>ç”Ÿæˆæ‘˜è¦</td><td>ç²¾å¿ƒè®¾è®¡çš„promptç¡®ä¿ä¿ç•™å…³é”®ä¿¡æ¯</td></tr><tr><td><code>del self.chat_histories[0]</code></td><td>ç§»é™¤æ—§å¯¹è¯</td><td>FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ç­–ç•¥</td></tr><tr><td><code>stream=True</code></td><td>æµå¼è¾“å‡º</td><td>æå‡ç”¨æˆ·ä½“éªŒï¼Œç±»ä¼¼æ‰“å­—æ•ˆæœ</td></tr></tbody></table>
<h4 data-id="heading-28">8.9 ä¼˜åŒ–å»ºè®®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. ä½¿ç”¨tiktokenç²¾ç¡®è®¡ç®—tokenæ•°</span>
<span class="hljs-keyword">import</span> tiktoken

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_num_tokens</span>(<span class="hljs-params">cls, query: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    encoding = tiktoken.encoding_for_model(<span class="hljs-string">"gpt-3.5-turbo"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(encoding.encode(query))

<span class="hljs-comment"># 2. æ·»åŠ æŒä¹…åŒ–å­˜å‚¨ï¼ˆJSON/æ•°æ®åº“ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">save_to_disk</span>(<span class="hljs-params">self, filepath: <span class="hljs-built_in">str</span></span>):
    data = {
        <span class="hljs-string">'summary'</span>: self.summary,
        <span class="hljs-string">'chat_histories'</span>: self.chat_histories
    }
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
        json.dump(data, f, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>)

<span class="hljs-comment"># 3. æ·»åŠ æ¸…ç©ºè®°å¿†åŠŸèƒ½</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_memory</span>(<span class="hljs-params">self</span>):
    self.summary = <span class="hljs-string">""</span>
    self.chat_histories = []

<span class="hljs-comment"># 4. æ·»åŠ å¼‚å¸¸å¤„ç†</span>
<span class="hljs-keyword">try</span>:
    self.summary = self.summary_text(self.summary, new_chat)
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”Ÿæˆæ‘˜è¦å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-comment"># ä¿ç•™åŸæ‘˜è¦ï¼Œä¸åˆ é™¤å¯¹è¯</span>
</code></pre>
<h3 data-id="heading-29">ä¹ã€æ€»ç»“</h3>
<p>è¿™ä¸ªå­¦ä¹ æ¡ˆä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ OpenAI åŸç”Ÿ SDK å®ç°ä¸€ä¸ªç”Ÿäº§çº§çš„å¯¹è¯è®°å¿†ç³»ç»Ÿã€‚é€šè¿‡æ‘˜è¦ç¼“å­˜æ··åˆç­–ç•¥ï¼Œæ—¢ä¿è¯äº†å¯¹è¯çš„è¿è´¯æ€§ï¼Œåˆæ§åˆ¶äº† API è°ƒç”¨æˆæœ¬ï¼Œæ˜¯æ„å»ºé•¿æœŸå¯¹è¯ AI åº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat]]></title>    <link>https://juejin.cn/post/7592166340382326799</link>    <guid>https://juejin.cn/post/7592166340382326799</guid>    <pubDate>2026-01-07T10:14:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592166340382326799" data-draft-id="7592166340382310415" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2026-01-07T10:14:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠç›ç™½é¢é¼ "/> <meta itemprop="url" content="https://juejin.cn/user/1093394692846532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Hiveå‡½æ•°collectåˆ°MySQLå‡½æ•°group_concat
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1093394692846532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠç›ç™½é¢é¼ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:14:30.000Z" title="Wed Jan 07 2026 10:14:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">é—®é¢˜èƒŒæ™¯ï¼š</h3>
<p>åœ¨å·¥ä½œä¸­é‡åˆ°æ•°æ®åˆ†ææ—¶å¯¹ç»“æœå±•ç¤ºçš„è¦æ±‚ã€‚éœ€æ±‚å¦‚ä¸‹ï¼š
æŸ¥è¯¢åœ¨å…³æ³¨æ—¶é—´çª—å£ä¸‹ï¼ˆ7æ—¥ï¼‰å…¬å¸ç›¸åŒè´¦æˆ·ä¸ä¸åŒäº¤æ˜“å¯¹æ‰‹è´¦æˆ·ä¹‹é—´çš„äº¤æ˜“è¡Œä¸ºã€‚
åŸæœ¬é¢„è®¡çš„å±•ç¤ºç»“æœä¸ºï¼š</p>











































































<table><thead><tr><th>å…¬å¸è´¦æˆ·</th><th>å…¬å¸ä¿¡æ¯</th><th>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·</th><th>äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯</th><th>äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰</th></tr></thead><tbody><tr><td>66666666</td><td>AAA</td><td>99999991</td><td>BBB1</td><td>2025-11-04</td></tr><tr><td>66666666</td><td>AAA</td><td>99999992</td><td>BBB2</td><td>2025-11-06</td></tr><tr><td>66666666</td><td>AAA</td><td>99999993</td><td>BBB3</td><td>2025-11-15</td></tr><tr><td>66666666</td><td>AAA</td><td>99999994</td><td>BBB4</td><td>2025-11-22</td></tr><tr><td>88888888</td><td>AAA</td><td>99999995</td><td>BBB5</td><td>2025-11-26</td></tr><tr><td>88888888</td><td>AAA</td><td>99999996</td><td>BBB6</td><td>2025-12-01</td></tr><tr><td>88888888</td><td>AAA</td><td>99999997</td><td>BBB7</td><td>2025-12-30</td></tr><tr><td>88888888</td><td>AAA</td><td>99999998</td><td>BBB8</td><td>2026-01-01</td></tr><tr><td>88888888</td><td>AAA</td><td>99999999</td><td>BBB9</td><td>2026-01-04</td></tr></tbody></table>
<p>ç”±äºé‡å¤æ•°æ®å¤ªå¤šä¸ä¾¿äºä¸šåŠ¡äººå‘˜æŸ¥çœ‹æ•°æ®ä¹‹é—´çš„å…³ç³»ï¼Œç»ä¸ä¸šåŠ¡äººå‘˜è®¨è®ºåå†³å®šè°ƒæ•´ä¸ºå¦‚ä¸‹å±•ç¤ºæ–¹å¼ï¼š</p>






























<table><thead><tr><th>å…¬å¸è´¦æˆ·</th><th>å…¬å¸ä¿¡æ¯</th><th>ç›¸å…³æ•°æ®</th></tr></thead><tbody><tr><td>66666666</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999991 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB1 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-04<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999992 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB2 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-06</td></tr><tr><td>66666666</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999993 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB3 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-15<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999994 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB4 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-22</td></tr><tr><td>88888888</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999995 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB5 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-11-26<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999996 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB6 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-12-01</td></tr><tr><td>88888888</td><td>AAA</td><td>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999997 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB7 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2025-12-30<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999998 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB8 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2026-01-01<br/>äº¤æ˜“å¯¹æ‰‹è´¦æˆ·:99999999 äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯:BBB9 äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰:2026-01-04</td></tr></tbody></table>
<h3 data-id="heading-1">è§£å†³æ–¹æ³•ï¼š</h3>
<p>è¿™æ ·çš„å±•ç¤ºæ–¹å¼å°±éœ€è¦ä¸€ä¸ªåˆé€‚çš„èšåˆå‡½æ•°æ¥è¿›è¡Œæ•°æ®å†…å®¹æ±‡æ€»ã€‚
ä¹‹å‰å¸¸ä½¿ç”¨Hiveå¼€å‘è¿™ç§æƒ…å†µå¤šç”¨collectï¼Œä½†æ˜¯æœ¬æ¬¡ä½¿ç”¨çš„MySQLä½¿ç”¨çš„æ—¶å€™å‘ç°æ²¡æœ‰è¿™ä¸ªå‡½æ•°ã€‚åé¢å†³å®šä½¿ç”¨group_concatã€‚
group_concatåµŒå¥—concat_wså¯ä»¥å¾ˆå¥½çš„è¾¾åˆ°ä¸Šé¢çš„æ•ˆæœ:</p>
<pre><code class="hljs language-sql" lang="sql">    ,group_concat(concat_ws(<span class="hljs-string">''</span>  
         <span class="hljs-string">' äº¤æ˜“å¯¹æ‰‹è´¦æˆ·ï¼š'</span>,account  
        ,<span class="hljs-string">' äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯ï¼š'</span>,account_info  
        ,<span class="hljs-string">' äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰ï¼š'</span>,trade_date  
  ) <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> trade_date SEPARATOR <span class="hljs-string">';\n'</span>) <span class="hljs-keyword">as</span> ç›¸å…³æ•°æ®
</code></pre>
<p>ä½†æ˜¯ä½¿ç”¨èµ·æ¥å‘ç°å¦‚æœæ•°æ®å¤ªé•¿ä¼šæœ‰æ•°æ®æˆªæ–­çš„é—®é¢˜ã€‚å› æ­¤å¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§éœ€è¦æ³¨æ„ä»¥ä¸‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹å’Œè®¾ç½® GROUP_CONCAT ç›¸å…³å‚æ•°</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'group_concat_max_len'</span>;

<span class="hljs-comment">-- ä¸´æ—¶è®¾ç½®æœ€å¤§é•¿åº¦ï¼ˆé»˜è®¤1024å­—èŠ‚ï¼‰ ä¼šè¯çº§é…ç½®</span>
<span class="hljs-keyword">SET</span> SESSION group_concat_max_len <span class="hljs-operator">=</span> <span class="hljs-number">1000000</span>;

<span class="hljs-comment">-- åœ¨æŸ¥è¯¢ä¸­è®¾ç½®</span>
<span class="hljs-keyword">SET</span> @<span class="hljs-variable">@group</span>_concat_max_len <span class="hljs-operator">=</span> <span class="hljs-number">1000000</span>;
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯å¯¹äºæ•°æ®æ±‡æ€»å±•ç¤ºçš„ä¸€ä¸ªæ€»ç»“ã€‚å¸Œæœ›èƒ½å¸®åŠ©åˆ°éœ€è¦<strong>å±•ç¤ºæ€è·¯</strong>ä¸éœ€è¦<strong>èšåˆæ€è·¯</strong>çš„æœ‹å‹ã€‚</p>
<h3 data-id="heading-2">ç•ªå¤–ï¼š</h3>
<p>åé¢äº†è§£åˆ°ä¹Ÿå¯ä»¥é€šè¿‡jsonçš„æ–¹å¼æ¥å±•ç¤ºè¿™éƒ¨åˆ†æ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-built_in">JSON_ARRAYAGG</span>(  
    <span class="hljs-built_in">JSON_OBJECT</span>(  
         <span class="hljs-string">'äº¤æ˜“å¯¹æ‰‹è´¦æˆ·'</span>,account  
        ,<span class="hljs-string">'äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯'</span>,account_info  
        ,<span class="hljs-string">'äº¤æ˜“ä¿¡æ¯ï¼ˆæ—¥æœŸç­‰ï¼‰'</span>,trade_date 
    )  
) <span class="hljs-keyword">as</span> ç›¸å…³æ•°æ®
</code></pre>
<p>ä¸è¿‡é—®é¢˜æ˜¯å±•ç¤ºçš„å­—æ®µé¡ºåºä¸å¯æ§ã€‚è¿™ä¸ªé—®é¢˜è¿˜æ²¡æœ‰è§£å†³çš„å¥½åŠæ³•ï¼Œå¦‚æœæœ‰å¤§ä½¬çœ‹åˆ°è¯·å¤šåšæŒ‡ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592438587388772390</link>    <guid>https://juejin.cn/post/7592438587388772390</guid>    <pubDate>2026-01-07T09:35:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587388772390" data-draft-id="7592423411562561562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-07T09:35:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="user8615818578154"/> <meta itemprop="url" content="https://juejin.cn/user/3549647826599133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°ä¸€æ¬¡Vue 2ä¸»åº”ç”¨é›†æˆVue 3å­é¡¹ç›®çš„Monorepoè¿ç§»è¸©å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3549647826599133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    user8615818578154
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:35:34.000Z" title="Wed Jan 07 2026 09:35:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨è¿›è¡ŒMonorepoæ¶æ„è°ƒæ•´ï¼Œéœ€è¦å°†ä¸€ä¸ªç°æœ‰çš„Vue 3(Vite)é¡¹ç›®ä½œä¸ºä¸€ä¸ªå­åº”ç”¨ (<code>apps/wj</code>) è¿ç§»åˆ°ç”±Vue 2(Webpack)ä¸»å¯¼çš„å¤§ä»“ä¸­ã€‚æœ¬ä»¥ä¸ºåªæ˜¯ç®€å•çš„â€œæ–‡ä»¶å¤¹ç§»åŠ¨â€ï¼Œç»“æœåœ¨ä¾èµ–ç®¡ç†ã€ç½‘ç»œä»£ç†å’Œç«¯å£æ˜ å°„ä¸Šè¸©äº†ä¸€åœˆå‘ã€‚</p>
<p>æœ¬æ–‡è®°å½•äº†ä»è¿ç§»åˆ°è·‘é€šå…¨æµç¨‹é‡åˆ°çš„4ä¸ªå…¸å‹é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">å‘ç‚¹ä¸€ï¼špnpm ä¸¥æ ¼æ¨¡å¼ä¸‹çš„â€œå¹½çµä¾èµ–â€</h2>
<h3 data-id="heading-2">ğŸ’¥ ç°è±¡</h3>
<p>å°†é¡¹ç›®ç§»å…¥å¤§ä»“åï¼Œæ‰§è¡Œ <code>dev</code> è„šæœ¬æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-string">'vite'</span> ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº
</code></pre>
<p>æˆ–è€…å¯åŠ¨åæŠ¥é”™æ‰¾ä¸åˆ° <code>unplugin-auto-import</code>ã€<code>vue-request</code> ç­‰æ’ä»¶ã€‚</p>
<h3 data-id="heading-3">ğŸ” åŸå› </h3>
<p>åŸé¡¹ç›®å¯èƒ½ä½¿ç”¨ npm/yarnï¼Œå­˜åœ¨<strong>ä¾èµ–æå‡ (Hoisting)</strong> ï¼Œå³ <code>devDependencies</code> å³ä½¿æ²¡å†™åœ¨ <code>package.json</code> é‡Œï¼Œä¾é æ ¹ç›®å½• <code>node_modules</code> ä¹Ÿèƒ½è·‘ã€‚ ä½†è¿ç§»åˆ° <strong>pnpm Monorepo</strong> åï¼Œpnpm çš„ä¸¥æ ¼æœºåˆ¶è¦æ±‚<strong>æ‰€æœ‰ä½¿ç”¨çš„åŒ…å¿…é¡»æ˜¾å¼å£°æ˜</strong>ã€‚</p>
<h3 data-id="heading-4">âœ… è§£å†³</h3>
<p>åœ¨æ ¹ç›®å½•é€šè¿‡ <code>--filter</code> ä¸ºå­åº”ç”¨è¡¥å…¨ä¾èµ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># è¡¥å…¨æ„å»ºå·¥å…·</span>
pnpm add vite @vitejs/plugin-vue vue-tsc -D --filter wj

<span class="hljs-comment"># è¡¥å…¨ç¼ºå¤±çš„ä¸šåŠ¡/æ„å»ºæ’ä»¶</span>
pnpm add unplugin-auto-import unplugin-vue-components -D --filter wj
pnpm add vue-request --filter wj
</code></pre>
<hr/>
<h2 data-id="heading-5">å‘ç‚¹äºŒï¼šWorkspace å†…éƒ¨åŒ…çš„æ­£ç¡®å¼•ç”¨</h2>
<h3 data-id="heading-6">ğŸ’¥ ç°è±¡</h3>
<p>Vite å¯åŠ¨æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">Error [ERR_MODULE_NOT_FOUND]: Cannot find package <span class="hljs-string">'configs'</span> imported from ...
</code></pre>
<p>å­åº”ç”¨è¯•å›¾å¼•ç”¨å¤§ä»“å…±äº«çš„é…ç½®åŒ…ï¼ˆ<code>packages/configs</code>ï¼‰ï¼Œä½†æ‰¾ä¸åˆ°æ¨¡å—ã€‚</p>
<h3 data-id="heading-7">ğŸ” åŸå› </h3>
<p>å­åº”ç”¨è™½ç„¶ç‰©ç†ä¸Šåœ¨ monorepo é‡Œï¼Œä½† <code>package.json</code> é‡Œæ²¡æœ‰å£°æ˜å¯¹å†…éƒ¨åŒ…çš„ä¾èµ–ï¼Œå¯¼è‡´è½¯é“¾æ¥æœªå»ºç«‹ã€‚</p>
<h3 data-id="heading-8">âœ… è§£å†³</h3>
<p>ä½¿ç”¨ <code>--workspace</code> åè®®å»ºç«‹è½¯é“¾ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å°†å†…éƒ¨åŒ…é“¾æ¥ç»™å­åº”ç”¨</span>
pnpm add configs --workspace --filter wj
</code></pre>
<p><em>æ³¨æ„ï¼šå¦‚æœå…±äº«åŒ…å†…éƒ¨ä¹Ÿç”¨äº†æŸäº›æ’ä»¶ï¼ˆå¦‚ <code>@vitejs/plugin-vue</code>ï¼‰ï¼Œå…±äº«åŒ…è‡ªå·±ä¹Ÿå¿…é¡»å®‰è£…è¯¥æ’ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥â€œçˆ¶çº§ä¾èµ–ç¼ºå¤±â€ã€‚</em></p>
<hr/>
<h2 data-id="heading-9">å‘ç‚¹ä¸‰ï¼šNode é«˜ç‰ˆæœ¬ localhost è§£æé™·é˜± (IPv6)</h2>
<h3 data-id="heading-10">ğŸ’¥ ç°è±¡</h3>
<p>ä¸»åº”ç”¨é…ç½®äº†ä»£ç†è½¬å‘åˆ°å­åº”ç”¨ï¼Œä½†åœ¨æµè§ˆå™¨è®¿é—®æ—¶æŠ¥ <strong>HTTP 500</strong>ï¼Œç»ˆç«¯æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">Error: connect EACCES ::1:5192
</code></pre>
<h3 data-id="heading-11">ğŸ” åŸå› </h3>
<ul>
<li><strong>ç¯å¢ƒï¼š</strong> Node.js v17+</li>
<li><strong>æœºåˆ¶ï¼š</strong> ä¸»åº”ç”¨ä»£ç†é…ç½®å†™äº† <code>target: 'http://localhost:5192'</code>ã€‚Node é»˜è®¤å°† <code>localhost</code> è§£æä¸º IPv6 åœ°å€ <code>::1</code>ã€‚</li>
<li><strong>å†²çªï¼š</strong> å­åº”ç”¨ (Vite) é»˜è®¤åªç›‘å¬ IPv4 (<code>127.0.0.1</code>)ã€‚ä¸»åº”ç”¨å» IPv6 ç«¯å£æ‰¾äººï¼Œè‡ªç„¶è¿ä¸ä¸Šã€‚</li>
</ul>
<h3 data-id="heading-12">âœ… è§£å†³</h3>
<p><strong>æ–¹æ¡ˆAï¼ˆæ¨èï¼‰ï¼š</strong> ä¿®æ”¹ä¸»åº”ç”¨ä»£ç†é…ç½®ï¼Œå¼ºåˆ¶ä½¿ç”¨ IPv4 IPã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ä¸»åº”ç”¨ vite.config.ts / vue.config.js</span>
<span class="hljs-attr">proxy</span>: {
  <span class="hljs-string">'/wj'</span>: {
    <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>, <span class="hljs-comment">// ğŸ‘ˆ ä¸è¦å†™ localhost</span>
    <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p><strong>æ–¹æ¡ˆBï¼š</strong> è®©å­åº”ç”¨ç›‘å¬æ‰€æœ‰åœ°å€ã€‚å¯åŠ¨å‘½ä»¤æ”¹ä¸º <code>vite --host</code>ã€‚</p>
<hr/>
<h2 data-id="heading-13">å‘ç‚¹å››ï¼šä¸»åº”ç”¨ä»£ç†â€œæ¼æ°”â€ (æ¥å£è¿”å› HTML)</h2>
<h3 data-id="heading-14">ğŸ’¥ ç°è±¡</h3>
<p>é¡µé¢åŠ è½½æˆåŠŸï¼Œä½†ä¸šåŠ¡æ¥å£ï¼ˆå¦‚ <code>/cmisp/api/xxx</code>ï¼‰æŠ¥ <strong>304</strong> æˆ– <strong>200</strong>ï¼ŒæŸ¥çœ‹ Response å†…å®¹ç«Ÿç„¶æ˜¯ <code>index.html</code> çš„ä»£ç ï¼Œå¯¼è‡´ JSON è§£æå¤±è´¥ã€‚</p>
<h3 data-id="heading-15">ğŸ” åŸå› </h3>
<p>ä¸»åº”ç”¨åªä»£ç†äº†é¡µé¢è·¯ç”± <code>/wj</code>ï¼Œä½†å­åº”ç”¨å‘å‡ºçš„ API è¯·æ±‚æ˜¯ <code>/cmisp</code> å¼€å¤´çš„ã€‚ ä¸»åº”ç”¨ä¸è®¤è¯† <code>/cmisp</code>ï¼Œå°†å…¶å½“æˆäº†å‰ç«¯è·¯ç”±å¤„ç†ï¼Œç›´æ¥è¿”å›äº† <code>index.html</code>ã€‚</p>
<h3 data-id="heading-16">âœ… è§£å†³</h3>
<p>åœ¨ä¸»åº”ç”¨ä¸­è¡¥å…¨ API çš„ä»£ç†è½¬å‘è§„åˆ™ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ä¸»åº”ç”¨ vite.config.ts</span>
<span class="hljs-attr">server</span>: {
  <span class="hljs-attr">proxy</span>: {
    <span class="hljs-comment">// 1. å­åº”ç”¨é¡µé¢èµ„æº</span>
    <span class="hljs-string">'/wj'</span>: {
      <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>,
      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-comment">// 2. å­åº”ç”¨ API è¯·æ±‚ (æ–°å¢)</span>
    <span class="hljs-string">'/cmisp'</span>: {
      <span class="hljs-attr">target</span>: <span class="hljs-string">'http://127.0.0.1:5192'</span>, <span class="hljs-comment">// å¦‚æœæ˜¯ mock æ•°æ®èµ°è¿™é‡Œï¼›å¦‚æœæ˜¯çœŸå®åç«¯å¡«åç«¯ IP</span>
      <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>
    }
  }
}
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>Monorepo è¿ç§»ä¸ä»…ä»…æ˜¯æ–‡ä»¶æ¬è¿ï¼Œæ ¸å¿ƒåœ¨äºï¼š</p>
<ol>
<li><strong>ä¾èµ–è¾¹ç•Œ</strong>ï¼špnpm ä¸‹å¿…é¡»â€œè°ç”¨è°è£…â€ã€‚</li>
<li><strong>ç½‘ç»œäº’é€š</strong>ï¼šNode é«˜ç‰ˆæœ¬ä¸‹ <code>localhost</code> çš„ IPv6 å‘éœ€è¦æ ¼å¤–æ³¨æ„ã€‚</li>
<li><strong>è·¯ç”±æ¥ç®¡</strong>ï¼šä¸»åº”ç”¨ä½œä¸ºç½‘å…³ï¼Œå¿…é¡»æ¥ç®¡å­åº”ç”¨çš„æ‰€æœ‰è¯·æ±‚ï¼ˆåŒ…æ‹¬é™æ€èµ„æºå’Œ APIï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æå‡å·¥ä½œæ•ˆç‡çš„Utils]]></title>    <link>https://juejin.cn/post/7592410399916752937</link>    <guid>https://juejin.cn/post/7592410399916752937</guid>    <pubDate>2026-01-07T09:46:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592410399916752937" data-draft-id="7592134330313703467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æå‡å·¥ä½œæ•ˆç‡çš„Utils"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,TypeScript"/> <meta itemprop="datePublished" content="2026-01-07T09:46:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹æ—ä¸æƒ³è¯´è¯"/> <meta itemprop="url" content="https://juejin.cn/user/2963939079754030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æå‡å·¥ä½œæ•ˆç‡çš„Utils
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939079754030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹æ—ä¸æƒ³è¯´è¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:01.000Z" title="Wed Jan 07 2026 09:46:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ€»ç»“ä¸€äº›å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„utilsï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ï¼Œå¢åŠ æ‘¸é±¼æ—¶é—´</p>
<h3 data-id="heading-0">getHidePhone</h3>
<p>è·å–è„±æ•å·ç </p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> éšè—æ‰‹æœºå·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} hideLen è¦éšè—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º4
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·ï¼Œé»˜è®¤ä¸º*
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} padStartOrEnd å¦‚æœå¹³åˆ†çš„é•¿åº¦ä¸ºå¥‡æ•°ï¼Œå¤šå‡ºçš„ä¸€ä½å¡«å……çš„ä½ç½®ï¼Œé»˜è®¤ä¸ºend
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Boolean</span>} removeNan æ˜¯å¦ç§»é™¤éæ•°å­—ï¼Œé»˜è®¤ä¸ºtrue
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} éšè—åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getHidePhone</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  hideLen = <span class="hljs-number">4</span>,
  <span class="hljs-built_in">symbol</span> = <span class="hljs-string">'*'</span>,
  padStartOrEnd: <span class="hljs-string">'start'</span> | <span class="hljs-string">'end'</span> = <span class="hljs-string">'end'</span>,
  removeNan = <span class="hljs-literal">true</span>,
</span>) =&gt; {
  <span class="hljs-comment">// å¦‚æœéœ€è¦å…ˆç§»é™¤éæ•°å­—</span>
  <span class="hljs-keyword">if</span> (removeNan) {
    content = content.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^\d]/g</span>, <span class="hljs-string">''</span>)
  }

  <span class="hljs-keyword">const</span> contentLen = content.<span class="hljs-property">length</span>

  <span class="hljs-comment">// ä¸æ˜¯å­—ç¬¦ä¸²ã€ç©ºå­—ç¬¦ä¸²ã€è¦éšè—çš„é•¿åº¦ä¸º0ç›´æ¥è¿”å›åŸå§‹å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(content) !== <span class="hljs-string">'String'</span> || !contentLen || !hideLen) <span class="hljs-keyword">return</span> content
  <span class="hljs-comment">// éšè—é•¿åº¦å¤§äºç­‰äºå†…å®¹é•¿åº¦ï¼Œç›´æ¥è¿”å›åŸå§‹å­—ç¬¦ä¸²é•¿åº¦çš„ç¬¦å·</span>
  <span class="hljs-keyword">if</span> (contentLen &lt;= hideLen)
    <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\d{1}`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-string">'*'</span>)

  <span class="hljs-keyword">const</span> remainingLen = contentLen - hideLen
  <span class="hljs-keyword">const</span> splitLen = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(remainingLen / <span class="hljs-number">2</span>)
  <span class="hljs-keyword">let</span> start = splitLen
  <span class="hljs-keyword">let</span> end = splitLen
  <span class="hljs-keyword">if</span> (remainingLen % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">if</span> (padStartOrEnd === <span class="hljs-string">'start'</span>) {
      start += <span class="hljs-number">1</span>
    } <span class="hljs-keyword">else</span> {
      end += <span class="hljs-number">1</span>
    }
  }

  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(\\d{<span class="hljs-subst">${start}</span>})\\d{<span class="hljs-subst">${hideLen}</span>}(\\d{<span class="hljs-subst">${end}</span>})$`</span>),
    <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>.repeat(hideLen)}</span>$2`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151'</span>)) <span class="hljs-comment">// ***</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'1510'</span>)) <span class="hljs-comment">// ***0</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">''</span>)) <span class="hljs-comment">// ''</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-number">6</span>)) <span class="hljs-comment">// 15******289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-number">40</span>)) <span class="hljs-comment">// ***********</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'-'</span>)) <span class="hljs-comment">// 151----4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'start'</span>)) <span class="hljs-comment">// 1510****289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'15108324289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-string">'end'</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151-083%#2  4289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>)) <span class="hljs-comment">// 151****4289</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
<span class="hljs-title function_">getHidePhone</span>(<span class="hljs-string">'151-083%#2  4289'</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">false</span>),
) <span class="hljs-comment">// 151-083%#2  4289</span>
</code></pre>
<h3 data-id="heading-1">formateContentBySymbol</h3>
<p>æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¸¸ç”¨äºåƒåˆ†ä½åˆ†å‰²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\d{<span class="hljs-subst">${gap}</span>})(?=\\d)`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span>`</span>)
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol2</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`\\B(?=(\\d{<span class="hljs-subst">${gap}</span>})+$)`</span>, <span class="hljs-string">'g'</span>), <span class="hljs-built_in">symbol</span>)
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ ¼å¼åŒ–å†…å®¹ï¼Œæ ¹æ®ç¬¦å·è¿›è¡Œæ ¼å¼åŒ–
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content å†…å®¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} symbol ç¬¦å·
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} gap ç¬¦å·ä¹‹é—´çš„é—´è·ï¼Œé»˜è®¤3ä¸ªç©ºæ ¼
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} æ ¼å¼åŒ–åçš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">formateContentBySymbol3</span> = (<span class="hljs-params">
  content: <span class="hljs-built_in">string</span>,
  <span class="hljs-built_in">symbol</span>: <span class="hljs-built_in">string</span>,
  gap = <span class="hljs-number">3</span>,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> content.<span class="hljs-title function_">replace</span>(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`(\\d)(?=(\\d{<span class="hljs-subst">${gap}</span>})+$)`</span>, <span class="hljs-string">'g'</span>),
    <span class="hljs-string">`$1<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span>`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>)) <span class="hljs-comment">// 235,789,075,433,254,321</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol2</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>, <span class="hljs-number">7</span>)) <span class="hljs-comment">// 2357,8907543,3254321</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">formateContentBySymbol3</span>(<span class="hljs-string">'235789075433254321'</span>, <span class="hljs-string">','</span>, <span class="hljs-number">2</span>)) <span class="hljs-comment">// 23,57,89,07,54,33,25,43,21</span>
</code></pre>
<h3 data-id="heading-2">zeroNDigitMDecimalReg</h3>
<p>0æˆ–è€…nä½çš„æ•°å­—ï¼Œæœ€å¤šmä½å°æ•°æ­£åˆ™</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0æˆ–è€…nä½çš„æ•°å­—ï¼Œæœ€å¤šmä½å°æ•°
 * <span class="hljs-doctag">@param</span> n nä½çš„æ•°å­—
 * <span class="hljs-doctag">@param</span> m æœ€å¤šmä½å°æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} è¿”å›æ­£åˆ™è¡¨è¾¾å¼
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> zeroNDigitMDecimalReg = (n = <span class="hljs-number">4</span>, m = <span class="hljs-number">2</span>): <span class="hljs-function"><span class="hljs-params">RegExp</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (!m) {
    <span class="hljs-comment">// æ²¡æœ‰å°æ•°ä½çš„æƒ…å†µ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
  }

  <span class="hljs-comment">// ä¸€ä½å°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (m === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0(\\.[1-9])?|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}(\\.[1-9])?))$`</span>)
  }

  <span class="hljs-comment">// äºŒä½å°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (m === <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
      <span class="hljs-string">`^(0(\\.(([1-9]{1,2})|0[1-9]))?|([1-9][0-9]{0,<span class="hljs-subst">${
        n - <span class="hljs-number">1</span>
      }</span>}(\\.(([1-9]{1,2})|0[1-9]))?))$`</span>,
    )
  }

  <span class="hljs-comment">// äºŒä½ä»¥ä¸Šå°æ•°ä½çš„æƒ…å†µ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
    <span class="hljs-string">`^(0(\\.(([1-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>})|([0-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>}[1-9]?)))?|([1-9][0-9]{0,<span class="hljs-subst">${
      n - <span class="hljs-number">1</span>
    }</span>}(\\.(([1-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>})|([0-9]{1,<span class="hljs-subst">${m - <span class="hljs-number">1</span>}</span>}[1-9]?)))?))$`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789.123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">10</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1232.123456789'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">4</span>, <span class="hljs-number">2</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'13323234.000001'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zeroNDigitMDecimalReg</span>(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'13323234.0000001'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-3">nDigitReg</h3>
<p>0æˆ–è€…nä½çš„æ•´æ•°æ­£åˆ™</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0æˆ–è€…nä½çš„æ•´æ•°æ­£åˆ™
 * <span class="hljs-doctag">@param</span> n æœ€å¤šnä½çš„æ•°å­—
 * <span class="hljs-doctag">@param</span> with0 æ˜¯å¦åŒ…å«0
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} è¿”å›æ­£åˆ™è¡¨è¾¾å¼
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">nDigitReg</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span>, with0?: <span class="hljs-built_in">boolean</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (with0) {
    <span class="hljs-comment">// åŒ…å«0çš„æƒ…å†µ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
  }

  <span class="hljs-comment">// ä¸åŒ…å«0çš„æƒ…å†µ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.56789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-literal">true</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">nDigitReg</span>(<span class="hljs-literal">undefined</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-4">onetonnine</h3>
<p>1-9xxxx  nä¸ª9</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 1-9xxxx  nä¸ª9
 * <span class="hljs-doctag">@param</span> n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">onetonnine</span> = (<span class="hljs-params">n = <span class="hljs-number">3</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'12343'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-5">zerotonnine</h3>
<p>0-9xxxx  nä¸ª9</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@desc</span> 0-9xxxx  nä¸ª9
 * <span class="hljs-doctag">@param</span> n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">zerotonnine</span> = (<span class="hljs-params">n = <span class="hljs-number">3</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^(0|([1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}))$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'12343'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-6">zerotonnine2Decimal</h3>
<p>0-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> 0-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—ï¼Œé»˜è®¤4ä½æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} æ­£åˆ™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">zerotonnine2Decimal</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(
    <span class="hljs-string">`^(0(\\.(([1-9]{1,2})|0[1-9]))?|([1-9][0-9]{0,<span class="hljs-subst">${
      n - <span class="hljs-number">1</span>
    }</span>}(\\.(([1-9]{1,2})|0[1-9]))?))$`</span>,
  )
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.00'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.01'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.10'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.001'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">zerotonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0.01'</span>)) <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-7">onetonnine2Decimal</h3>
<p>1-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> 1-9xxxx nä¸ª9, æœ€å¤šä¸¤ä½å°æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} n nä½ï¼Œä¸€å…±å¤šå°‘ä½æ•°å­—ï¼Œé»˜è®¤4ä½æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">RegExp</span>} æ­£åˆ™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">onetonnine2Decimal</span> = (<span class="hljs-params">n = <span class="hljs-number">4</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^[1-9][0-9]{0,<span class="hljs-subst">${n - <span class="hljs-number">1</span>}</span>}(\\.(([1-9]{1,2})|0[1-9]))?$`</span>)
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">4</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.00'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.01'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.1'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.10'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>().<span class="hljs-title function_">test</span>(<span class="hljs-string">'1234.001'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'123456789'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0'</span>)) <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">onetonnine2Decimal</span>(<span class="hljs-number">6</span>).<span class="hljs-title function_">test</span>(<span class="hljs-string">'0.01'</span>)) <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-8">setCliboardContent</h3>
<p>å¤åˆ¶æ–‡æœ¬çš„é€šç”¨å‡½æ•°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å¤åˆ¶æ–‡æœ¬çš„é€šç”¨å‡½æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} content è¦å¤åˆ¶çš„å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCliboardContent</span>(<span class="hljs-params">content?: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (!content) <span class="hljs-keyword">return</span>

  <span class="hljs-keyword">const</span> selection = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>()
  <span class="hljs-keyword">if</span> (selection?.<span class="hljs-property">rangeCount</span>) {
    selection?.<span class="hljs-title function_">removeAllRanges</span>()
  }
  <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'textarea'</span>)
  el.<span class="hljs-property">value</span> = content || <span class="hljs-string">''</span>
  el.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'readonly'</span>, <span class="hljs-string">''</span>)
  el.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>
  el.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'-9999px'</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(el)
  el.<span class="hljs-title function_">select</span>()
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">execCommand</span>(<span class="hljs-string">'copy'</span>)
  el.<span class="hljs-title function_">remove</span>()
}
</code></pre>
<h3 data-id="heading-9">getCliboardValue</h3>
<p>è·å–å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è·å–å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹
 * <span class="hljs-doctag">@returns</span> å‰ªåˆ‡æ¿å†…å®¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCliboardValue</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'input'</span>)
  el.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>
  el.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'-9999px'</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(el)
  el.<span class="hljs-title function_">select</span>()
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">execCommand</span>(<span class="hljs-string">'paste'</span>)
  <span class="hljs-comment">// è·å–æ–‡æœ¬è¾“å…¥æ¡†ä¸­çš„å€¼</span>
  <span class="hljs-keyword">const</span> clipboardValue = el.<span class="hljs-property">value</span>
  el.<span class="hljs-title function_">remove</span>()
  <span class="hljs-keyword">return</span> clipboardValue
}
</code></pre>
<h3 data-id="heading-10">delay</h3>
<p>å»¶è¿Ÿæ‰§è¡Œ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»¶è¿Ÿæ‰§è¡Œ
 * <span class="hljs-doctag">@param</span> wait å»¶è¿Ÿæ—¶é—´
 * <span class="hljs-doctag">@returns</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">delay</span>(<span class="hljs-params">wait = <span class="hljs-number">1000</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, wait))
}
</code></pre>
<h3 data-id="heading-11">getTypeOf</h3>
<p>è·å–æ•°æ®ç±»å‹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è·å–æ•°æ®ç±»å‹
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">data</span>
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} è·å–åˆ°çš„æ•°æ®ç±»å‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getTypeOf</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(data).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>)
}
</code></pre>
<h3 data-id="heading-12">trimStart</h3>
<p>å»é™¤å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²å¼€å¤´çš„ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimStart</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(\s+)(.*)$/g</span>, <span class="hljs-string">'$2'</span>)
}
</code></pre>
<h3 data-id="heading-13">trimEnd</h3>
<p>å»é™¤å­—ç¬¦ä¸²ç»“å°¾çš„ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²ç»“å°¾çš„ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimEnd</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(.*)(\s+)$/g</span>, <span class="hljs-string">'$1'</span>)
}
</code></pre>
<h3 data-id="heading-14">trimAll</h3>
<p>å»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç©ºæ ¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç©ºæ ¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str è¦å¤„ç†çš„å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">String</span>} å»é™¤ç©ºæ ¼åçš„å­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">trimAll</span> = (<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getTypeOf</span>(str) !== <span class="hljs-string">'String'</span>) {
    <span class="hljs-keyword">return</span> str
  }
  <span class="hljs-keyword">return</span> str?.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">''</span>)
}
</code></pre>
<h3 data-id="heading-15">compressPic</h3>
<p>å‹ç¼©å›¾ç‰‡</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> å‹ç¼©å›¾ç‰‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">File</span>} file è¦å¤„ç†çš„å›¾ç‰‡æ–‡ä»¶
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} quality å‹ç¼©è´¨é‡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;File | Blob&gt;</span>} å‹ç¼©åçš„å›¾ç‰‡æ–‡ä»¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">compressPic</span>(<span class="hljs-params">
  file: File,
  quality = <span class="hljs-number">0.6</span>,
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">File</span> | <span class="hljs-title class_">Blob</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> reads = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>()
      reads.<span class="hljs-title function_">readAsDataURL</span>(file)
      reads.<span class="hljs-property">onload</span> = <span class="hljs-function">(<span class="hljs-params">{ target }</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿™é‡Œqualityçš„èŒƒå›´æ˜¯ï¼ˆ0-1ï¼‰</span>
        <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>)
        <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)!
        <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>()
        img.<span class="hljs-property">src</span> = (target <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>)?.<span class="hljs-property">result</span>
        img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
          <span class="hljs-keyword">const</span> width = img.<span class="hljs-property">width</span>
          <span class="hljs-keyword">const</span> height = img.<span class="hljs-property">height</span>
          canvas.<span class="hljs-property">width</span> = width
          canvas.<span class="hljs-property">height</span> = height
          ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height)
          <span class="hljs-comment">// è½¬æ¢æˆbase64æ ¼å¼ qualityä¸ºå›¾ç‰‡å‹ç¼©è´¨é‡ 0-1ä¹‹é—´  å€¼è¶Šå°å‹ç¼©çš„è¶Šå¤§ å›¾ç‰‡è´¨é‡è¶Šå·®</span>
          canvas.<span class="hljs-title function_">toBlob</span>(
            <span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
              <span class="hljs-title function_">resolve</span>(blob!)
            },
            file.<span class="hljs-property">type</span>,
            quality,
          )
        }
      }
      reads.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>(file)
      }
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-title function_">resolve</span>(file)
    }
  })
}
</code></pre>
<h3 data-id="heading-16">randomString</h3>
<p>ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} length è¾“å‡ºå­—ç¬¦ä¸²çš„é•¿åº¦
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} radix å­—ç¬¦ä¸²çš„åŸºæ•°ï¼Œé»˜è®¤ä¸º36ï¼ˆåŒ…æ‹¬0-36ï¼‰
 * <span class="hljs-doctag">@returns</span> è¿”å›æŒ‡å®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²ï¼Œå…¨éƒ¨ä¸ºå¤§å†™
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">randomString</span> = (<span class="hljs-params">length: <span class="hljs-built_in">number</span>, radix = <span class="hljs-number">36</span></span>) =&gt; {
  <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²ï¼ŒåŸºæ•°ä¸ºradixï¼Œå¹¶å»é™¤å‰ä¸¤ä½"0."</span>
  <span class="hljs-keyword">let</span> str = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(radix).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>)
  <span class="hljs-comment">// å¦‚æœç”Ÿæˆçš„å­—ç¬¦ä¸²é•¿åº¦å¤§äºç­‰äºæ‰€éœ€é•¿åº¦ï¼Œåˆ™æˆªå–å‰lengthä¸ªå­—ç¬¦å¹¶è½¬ä¸ºå¤§å†™</span>
  <span class="hljs-keyword">if</span> (str.<span class="hljs-property">length</span> &gt;= length) {
    <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, length).<span class="hljs-title function_">toLocaleUpperCase</span>()
  }
  <span class="hljs-comment">// å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸è¶³ï¼Œé€’å½’è°ƒç”¨è‡ªèº«ä»¥ç”Ÿæˆå‰©ä½™é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ‹¼æ¥åˆ°åŸå­—ç¬¦ä¸²ä¸Š</span>
  str += <span class="hljs-title function_">randomString</span>(length - str.<span class="hljs-property">length</span>, radix)
  <span class="hljs-comment">// å°†æœ€ç»ˆå­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™å¹¶è¿”å›</span>
  <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">toLocaleUpperCase</span>()
}
</code></pre>
<h3 data-id="heading-17">scrollToBottom</h3>
<p>æ»šåŠ¨åˆ°åº•éƒ¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ»šåŠ¨åˆ°åº•éƒ¨
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} selector ç±»å
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">scrollToBottom</span> = (<span class="hljs-params">selector?: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> domWrapper = selector
    ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(selector)
    : <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span> <span class="hljs-comment">// å¤–å±‚å®¹å™¨ å‡ºç°æ»šåŠ¨æ¡çš„dom</span>
  <span class="hljs-keyword">if</span> (domWrapper) {
    domWrapper.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: domWrapper.<span class="hljs-property">scrollHeight</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })
  }
}
</code></pre>
<h3 data-id="heading-18">scrollToTop</h3>
<p>æ»šåŠ¨åˆ°é¡¶éƒ¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> æ»šåŠ¨åˆ°é¡¶éƒ¨
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} selector ç±»å
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">scrollToTop</span> = (<span class="hljs-params">selector?: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> domWrapper = selector
    ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(selector)
    : <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span> <span class="hljs-comment">// å¤–å±‚å®¹å™¨ å‡ºç°æ»šåŠ¨æ¡çš„dom</span>
  <span class="hljs-keyword">if</span> (domWrapper) {
    domWrapper.<span class="hljs-title function_">scrollTo</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> })
  }
}
</code></pre>
<h3 data-id="heading-19">isJSON</h3>
<p>åˆ¤æ–­æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åˆ¤æ–­æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} str å­—ç¬¦ä¸²
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Boolean</span>} æ˜¯å¦ä¸ºJSONå­—ç¬¦ä¸²
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isJSON</span>(<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> str !== <span class="hljs-string">'string'</span>) {
    <span class="hljs-comment">// 1ã€ä¼ å…¥å€¼å¿…é¡»æ˜¯ å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(str) <span class="hljs-comment">// 2ã€ä»…ä»…é€šè¿‡ JSON.parse(str)ï¼Œä¸èƒ½å®Œå…¨æ£€éªŒä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯JSONæ ¼å¼çš„å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'object'</span> &amp;&amp; obj) {
      <span class="hljs-comment">//3ã€è¿˜å¿…é¡»æ˜¯ object ç±»å‹</span>
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  } <span class="hljs-keyword">catch</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }
}
</code></pre>
<h3 data-id="heading-20">getRandomIntInclusive</h3>
<p>ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°ï¼ˆåŒ…å«æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼‰</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°ï¼ˆåŒ…å«æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼‰
 * <span class="hljs-doctag">@param</span> min æœ€å°å€¼ï¼ˆåŒ…å«ï¼‰
 * <span class="hljs-doctag">@param</span> max æœ€å¤§å€¼ï¼ˆåŒ…å«ï¼‰
 * <span class="hljs-doctag">@returns</span> æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomIntInclusive</span>(<span class="hljs-params">
  min: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>,
  max: <span class="hljs-built_in">number</span> = <span class="hljs-number">100</span>,
</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (max - min + <span class="hljs-number">1</span>)) + min
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringCloud_Nacos]]></title>    <link>https://juejin.cn/post/7592148975848833067</link>    <guid>https://juejin.cn/post/7592148975848833067</guid>    <pubDate>2026-01-07T10:17:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848833067" data-draft-id="7592236397535969316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringCloud_Nacos"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:17:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ihgry"/> <meta itemprop="url" content="https://juejin.cn/user/3210229685954718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringCloud_Nacos
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3210229685954718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ihgry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:17:13.000Z" title="Wed Jan 07 2026 10:17:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">åŸºç¡€æ¦‚å¿µ</h4>
<ul>
<li>nacosé…ç½®ä¸­å¿ƒé€šè¿‡<code>namespace</code>ã€<code>group</code> å’Œ <code>dataId</code> æ¥å”¯ä¸€ç¡®å®šä¸€æ¡é…ç½®ï¼Œ</li>
<li>dataIdçš„æ ¼å¼ï¼š<code>${prefix}-${spring.profiles.active}.${file-extension}</code></li>
<li><code>prefix</code>ï¼šé»˜è®¤ä¸º<code>spring.application.name</code>
<ul>
<li><code>spring.profiles.active</code>ï¼šå½“å‰æ¿€æ´»çš„ç¯å¢ƒï¼Œå½“<code>spring.profiles.active</code>ä¸ºç©ºæ—¶ï¼Œå¯¹åº”çš„è¿æ¥ç¬¦<code>-</code>ä¹Ÿå°†ä¸å­˜åœ¨ï¼ŒdataIdçš„æ‹¼æ¥æ ¼å¼å˜ æˆï¼š<code>${prefix}.${file-extension}</code></li>
<li><code>${file-extension}</code>ï¼šé»˜è®¤ä¸º<code>properties</code></li>
</ul>
</li>
<li>æ‹‰å–å¤šä¸ªå…±äº«æ–‡ä»¶ï¼Œè¦åœ¨åŒä¸€å‘½åç©ºé—´ä¸‹ï¼Œä¸èƒ½è·¨å‘½åç©ºé—´</li>
<li>æ³¨æ„springbootå’Œspringcloudçš„ç‰ˆæœ¬å¯¹åº”</li>
</ul>
<h4 data-id="heading-1">ä¸‹è½½å®‰è£…</h4>
<ul>
<li>ä¸‹è½½ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fnacos%2Ftags" target="_blank" title="https://github.com/alibaba/nacos/tags" ref="nofollow noopener noreferrer">github.com/alibaba/nacâ€¦</a></li>
<li>å¯åŠ¨ï¼š<code>startup.cmd -m standalone</code></li>
<li>è®¿é—®ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8848%2Fnacos%2F" target="_blank" title="http://localhost:8848/nacos/" ref="nofollow noopener noreferrer">http://localhost:8848/nacos/</a>     è´¦å·å¯†ç ï¼šnacos</li>
</ul>
<h4 data-id="heading-2">é…ç½®ä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;
    
&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
<li>
<p>å®Œæ•´<code>bootstrap.properties</code>é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.application.name=testccb
spring.cloud.nacos.config.username=nacos
spring.cloud.nacos.config.password=nacos
spring.cloud.nacos.config.server-addr=192.168.1.211:8848
spring.cloud.nacos.config.namespace=4f4b-363e-47a5-8a-dbd288c
spring.cloud.nacos.config.group=com.iotsh

# æ‹‰å–å…±äº«çš„é…ç½®
spring.cloud.nacos.config.extension-configs[0].data-id=testccb.properties
spring.cloud.nacos.config.extension-configs[0].group=ccb
spring.cloud.nacos.config.extension-configs[0].refresh=true
</code></pre>
</li>
</ul>
<h4 data-id="heading-3">æ³¨å†Œä¸­å¿ƒ</h4>
<ul>
<li>
<p>å¼•å…¥ä¾èµ–</p>
<pre><code class="hljs language-java" lang="java">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">4.1</span><span class="hljs-number">.5</span>&lt;/version&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;
    &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">2021.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
</li>
</ul>
<ul>
<li>
<p>é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-properties" lang="properties">spring.cloud.nacos.discovery.server-addr=192.168.1.211:8848
spring.cloud.nacos.discovery.username=nacos
spring.cloud.nacos.discovery.password=nacos
spring.cloud.nacos.discovery.namespace=ed4b94b3-deff-49f1-8973-34029756083d
</code></pre>
</li>
<li>
<p>ä¸»å¯åŠ¨ç±»ï¼š<code>@EnableDiscoveryClient</code></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•]]></title>    <link>https://juejin.cn/post/7592276645361467392</link>    <guid>https://juejin.cn/post/7592276645361467392</guid>    <pubDate>2026-01-07T09:18:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276645361467392" data-draft-id="7591156262626082851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,NPM,Node.js"/> <meta itemprop="datePublished" content="2026-01-07T09:18:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹åŒ—æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†ï¼šä¸€æ¬¡å®Œæ•´çš„é—®é¢˜æ’æŸ¥è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹åŒ—æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:18:36.000Z" title="Wed Jan 07 2026 09:18:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è¸©å‘è®°å½•ï¼šä»å¼¹çª—å˜èƒ–åˆ° npm ä¾èµ–ç®¡ç†çš„æ·±åº¦æ’æŸ¥</h2>
<blockquote>
<p>2025 å¹´ 12 æœˆ 26 æ—¥</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜å‘ç°</h3>
<p>æ¥æ‰‹ä¸€ä¸ªè€é¡¹ç›®ï¼Œç¬¬ä¸€å¤©å°±é‡åˆ°é—®é¢˜ï¼š</p>
<p><strong>npm install è£…ä¸ä¸Š</strong>ï¼Œè¦ä¹ˆå¡æ­»è¦ä¹ˆæŠ¥é”™ã€‚åŒäº‹è®©æˆ‘ç”¨ yarnï¼Œè¿˜ç»™äº†ä¸ª yarn.lock æ–‡ä»¶ï¼Œå€’æ˜¯è£…ä¸Šäº†ã€‚</p>
<p>æœ¬æ¥ä»¥ä¸ºæ²¡äº‹äº†ï¼Œç»“æœå¼€å‘çš„æ—¶å€™å‘ç°ï¼š<strong>å¼¹çª—æ€ä¹ˆèƒ–äº†ä¸€åœˆï¼Ÿ</strong></p>
<p>æ‰€æœ‰ç”¨åˆ° el-dialog çš„åœ°æ–¹ï¼Œè§†è§‰ä¸Šéƒ½æ¯”è®¾è®¡ç¨¿å¤§äº†ä¸€ç‚¹ã€‚</p>
<h3 data-id="heading-2">äºŒã€é—®é¢˜æ’æŸ¥</h3>
<h4 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå®šä½æ ·å¼æ¥æº</h4>
<p>æ‰“å¼€ DevTools çœ‹æ ·å¼ï¼Œå‘ç° Element Plus çš„ el-dialog æœ‰ä¸ª paddingã€‚</p>
<p>æˆ‘å¿ƒæƒ³ï¼šè¿™ padding ä¸æ˜¯ä¸€ç›´éƒ½æœ‰çš„å—ï¼Ÿä¸ºå•¥ä»¥å‰æ­£å¸¸ç°åœ¨ä¸æ­£å¸¸ï¼Ÿ</p>
<p>å…ˆè¯•ç€æŠŠè¿™ä¸ª padding è¦†ç›–æ‰ï¼Œå¼¹çª—ç¡®å®æ¢å¤æ­£å¸¸äº†ã€‚ä½†è¿™ä¸æ˜¯æ ¹æœ¬è§£å†³æ–¹æ¡ˆï¼Œå¾—ææ¸…æ¥šä¸ºå•¥ä¼šè¿™æ ·ã€‚</p>
<h4 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šå¯¹æ¯”ç‰ˆæœ¬å·®å¼‚</h4>
<p>æˆ‘å»ç¿» Element Plus çš„ changelog å’Œæºç ï¼Œå‘ç°ï¼š</p>
<p><strong>ä» 2.5.4 ç‰ˆæœ¬å¼€å§‹ï¼Œel-dialog è¢«å¼ºåˆ¶åŠ äº† 16px çš„ paddingã€‚</strong></p>
<p>é‚£é—®é¢˜æ¥äº†ï¼šæˆ‘æœ¬åœ°è£…çš„ç‰ˆæœ¬ä¸ºå•¥æ¯” package.json é‡Œå®šä¹‰çš„é«˜ï¼Ÿ</p>
<h4 data-id="heading-5">ç¬¬ä¸‰æ­¥ï¼šè¿½æº¯ä¾èµ–å˜åŒ–</h4>
<p>package.json é‡Œå†™çš„æ˜¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"element-plus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.3.2"</span>
</code></pre>
<p>è¿™ä¸ª <code>^</code> è¡¨ç¤ºæ¥å— 2.x.x çš„ä»»ä½•ç‰ˆæœ¬ã€‚</p>
<p>å›æƒ³ä¸€ä¸‹æˆ‘åšäº†ä»€ä¹ˆï¼šå› ä¸º npm install æŠ¥é”™ï¼Œæˆ‘åˆ äº† package-lock.json é‡æ–°è£…ã€‚</p>
<p><strong>çœŸç›¸å¤§ç™½</strong>ï¼šåˆ æ‰ lock æ–‡ä»¶åï¼Œnpm ä¼šè£… 2.x ä¸‹æœ€æ–°çš„ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ 2.13.1ï¼‰ï¼Œç„¶åè®°å½•åˆ°æ–°çš„ package-lock.json é‡Œã€‚ä¾èµ–å°±è¿™ä¹ˆ"å·å·"å‡çº§äº†ã€‚</p>
<h4 data-id="heading-6">ç¬¬å››æ­¥ï¼šè¿½æŸ¥ npm install æŠ¥é”™åŸå› </h4>
<p>é‚£ä¸ºå•¥ä¸€å¼€å§‹ npm install ä¼šæŠ¥é”™ï¼Ÿ</p>
<p>æˆ‘å»çœ‹äº†åŸæ¥çš„ package-lock.jsonï¼Œå‘ç°é‡Œé¢é”å®šçš„åŒ…é•œåƒåœ°å€æœ‰é—®é¢˜ï¼š</p>

















<table><thead><tr><th>é•œåƒæº</th><th>é—®é¢˜æè¿°</th></tr></thead><tbody><tr><td>é˜¿é‡Œè¯­é›€é•œåƒ</td><td>SSL è¯ä¹¦å·²è¿‡æœŸ</td></tr><tr><td>æ—§æ·˜å®é•œåƒ</td><td>2024 å¹´æ·˜å®å®˜æ–¹å·²è¿ç§»è‡³æ–°åŸŸåï¼Œæ—§åœ°å€å·²åœæœ</td></tr></tbody></table>
<p>ä¸Šç½‘ä¸€æœ"npm install æŠ¥é”™"ï¼Œéƒ½è®©åˆ  lock æ–‡ä»¶ã€‚åˆ äº†ç¡®å®èƒ½è£…ä¸Šï¼Œä½†ç‰ˆæœ¬å°±ä¸å¯¹äº†ï¼Œè¿™å°±æ˜¯ä¸ªå‘ã€‚</p>
<h4 data-id="heading-7">ç¬¬äº”æ­¥ï¼šNode ç‰ˆæœ¬å†²çª</h4>
<p>è¿˜æœ‰ä¸ªå‘ï¼šé¡¹ç›®è¦æ±‚ç”¨ Node 16.14.0ï¼Œä½†åªæ˜¯å£å¤´è¯´ï¼Œæ²¡æœ‰ä»»ä½•å¼ºåˆ¶æªæ–½ã€‚</p>
<ul>
<li>æˆ‘ç”¨ 16.14.0 è£…ï¼ŒæŠ¥é”™è¯´æŸä¸ªåŒ…éœ€è¦ Node &gt;= 18.12.0</li>
<li>æ¢åˆ° 18.12.0ï¼ŒåˆæŠ¥é”™è¯´å¦ä¸€ä¸ªåŒ…éœ€è¦ Node 16.x</li>
</ul>
<p>åŸå› æ˜¯ä¹‹å‰æœ‰äººç”¨é«˜ç‰ˆæœ¬ Node è£…äº†æŸäº›åŒ…ï¼Œè¿™äº›åŒ…å¯¹ Node ç‰ˆæœ¬æœ‰å¼ºä¾èµ–ï¼Œç„¶åæäº¤äº† lock æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€æ ¹å› åˆ†æ</h3>
<p>æ•´ä¸ªé—®é¢˜é“¾æ¡ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">æ—§é•œåƒåœ°å€å¤±æ•ˆ
    â†“
npm install æŠ¥é”™
    â†“
åˆ é™¤ package-<span class="hljs-keyword">lock</span>.json
    â†“
ä¾èµ–ç‰ˆæœ¬å·å·å‡çº§ï¼ˆ^<span class="hljs-number">2.3</span><span class="hljs-number">.2</span> â†’ <span class="hljs-number">2.13</span><span class="hljs-number">.1</span>ï¼‰
    â†“
å¼•å…¥ Element Plus <span class="hljs-number">2.5</span><span class="hljs-number">.4</span>+ çš„ç ´åæ€§å˜æ›´
    â†“
å¼¹çª—å¤šäº† <span class="hljs-number">16</span>px padding
</code></pre>
<p><strong>æœ¬è´¨é—®é¢˜</strong>ï¼š</p>
<ol>
<li>é•œåƒåœ°å€æ²¡æœ‰ç»Ÿä¸€ç®¡ç†ï¼Œè¿‡æœŸäº†æ²¡äººæ›´æ–°</li>
<li>Node ç‰ˆæœ¬æ²¡æœ‰å¼ºåˆ¶çº¦æŸï¼Œå„è‡ªä¸ºæˆ˜</li>
<li>åŒ…ç®¡ç†å™¨æ²¡æœ‰é”å®šï¼Œnpm/yarn æ··ç”¨</li>
<li>Element Plus åœ¨æ¬¡ç‰ˆæœ¬æç ´åæ€§å˜æ›´ï¼ˆè¿™ä¸ªæ˜¯ä»–ä»¬çš„é”…ï¼‰</li>
</ol>
<h3 data-id="heading-9">å››ã€è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-10">4.1 ç»Ÿä¸€é•œåƒæºé…ç½®</h4>
<p>æŠŠ lock æ–‡ä»¶é‡Œçš„æ—§é•œåƒåœ°å€å…¨éƒ¨æ›¿æ¢æˆæ–°çš„æ·˜å®é•œåƒã€‚</p>
<p>åˆ›å»º <code>.npmrc</code> æ–‡ä»¶é”å®šé•œåƒåœ°å€ï¼ˆnpm å’Œ pnpm éƒ½è¯»è¿™ä¸ªæ–‡ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">registry</span>=https://registry.npmmirror.com
</code></pre>
<p>åˆ›å»º <code>.yarnrc</code> æ–‡ä»¶é”å®š yarn çš„é•œåƒï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">registry</span> <span class="hljs-string">"https://registry.npmmirror.com"</span>
</code></pre>
<h4 data-id="heading-11">4.2 é”å®š Node ç‰ˆæœ¬</h4>
<p>åŠ äº† <code>.nvmrc</code> å’Œ <code>.nvmdrc</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs">16.14.0
</code></pre>
<p>è¿™æ ·ç”¨ nvm æˆ– nvmd çš„äººåˆ‡åˆ°é¡¹ç›®ç›®å½•ä¼šè‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-12">4.3 é”å®šåŒ…ç®¡ç†å™¨</h4>
<p><strong>æ–¹æ³•ä¸€ï¼špackageManager å­—æ®µ + Corepack</strong></p>
<p>åœ¨ <code>package.json</code> é‡ŒåŠ ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"packageManager"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm@8.5.0"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ”¯æŒçš„å†™æ³•ï¼š</p>

























<table><thead><tr><th>å†™æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>"npm@8.5.0"</code></td><td>ä½¿ç”¨ npm 8.5.0</td></tr><tr><td><code>"yarn@1.22.19"</code></td><td>ä½¿ç”¨ yarn classic</td></tr><tr><td><code>"yarn@3.6.0"</code></td><td>ä½¿ç”¨ yarn berry (v2+)</td></tr><tr><td><code>"pnpm@8.6.0"</code></td><td>ä½¿ç”¨ pnpm 8.6.0</td></tr></tbody></table>
<blockquote>
<p>æ³¨æ„ï¼šåªæ”¯æŒç²¾ç¡®ç‰ˆæœ¬å·ï¼Œä¸èƒ½å†™ <code>^8.5.0</code>ã€‚</p>
</blockquote>
<p>ä½†è¿™ä¸ªå­—æ®µå•ç‹¬å†™æ²¡ç”¨ï¼Œå¾—é…åˆ Corepack æ‰èƒ½ç”Ÿæ•ˆã€‚Corepack æ˜¯ Node.js 16.9+ å†…ç½®çš„ï¼Œä½†é»˜è®¤æ˜¯ç¦ç”¨çš„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯ç”¨ Corepackï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰</span>
corepack <span class="hljs-built_in">enable</span>

<span class="hljs-comment"># Windows ç”¨ç®¡ç†å‘˜ç»ˆç«¯ï¼ŒMac/Linux åŠ  sudo</span>
sudo corepack <span class="hljs-built_in">enable</span>
</code></pre>
<p>å¯ç”¨åçš„æ•ˆæœï¼š</p>
<ol>
<li>è¿›å…¥é¡¹ç›®ç›®å½•æ—¶ï¼ŒCorepack è¯»å– <code>packageManager</code> å­—æ®µ</li>
<li>å¦‚æœæœ¬åœ°æ²¡æœ‰å¯¹åº”ç‰ˆæœ¬ï¼Œè‡ªåŠ¨ä¸‹è½½</li>
<li>ç”¨é”™åŒ…ç®¡ç†å™¨ç›´æ¥æŠ¥é”™</li>
<li>ç‰ˆæœ¬ä¸å¯¹ä¹ŸæŠ¥é”™</li>
</ol>
<p><strong>æ–¹æ³•äºŒï¼špreinstall è„šæœ¬</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"preinstall"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx only-allow npm"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åªå…è®¸ç”¨ npmï¼Œç”¨ yarn æˆ– pnpm è£…å°±æŠ¥é”™ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>only-allow</code> åªèƒ½é™åˆ¶åŒ…ç®¡ç†å™¨ç±»å‹ï¼Œä¸èƒ½é™åˆ¶ Node ç‰ˆæœ¬ã€‚</p>
</blockquote>
<p><strong>æ–¹æ³•ä¸‰ï¼šengines å­—æ®µé™åˆ¶ Node ç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=16.14.0 &lt;17.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"npm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=8.0.0"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><code>engines</code> æ”¯æŒå¤šç§å†™æ³•ï¼š</p>





























<table><thead><tr><th>å†™æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>"16.14.0"</code></td><td>ç²¾ç¡®ç‰ˆæœ¬</td></tr><tr><td><code>"&gt;=16.14.0 &lt;17.0.0"</code></td><td>èŒƒå›´ç‰ˆæœ¬</td></tr><tr><td><code>"~16.14.0"</code></td><td>å…è®¸ 16.14.x</td></tr><tr><td><code>"^16.14.0"</code></td><td>å…è®¸ 16.x.x</td></tr><tr><td><code>"16.x || 18.x"</code></td><td>å¤šç‰ˆæœ¬æ”¯æŒ</td></tr></tbody></table>
<p>é…åˆ <code>.npmrc</code> å¼€å¯ä¸¥æ ¼æ¨¡å¼æ‰èƒ½çœŸæ­£ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">engine-strict</span>=<span class="hljs-literal">true</span>
</code></pre>
<p>å¯ç”¨åç‰ˆæœ¬ä¸å¯¹ç›´æ¥æŠ¥é”™ã€‚</p>
<h4 data-id="heading-13">4.4 é…ç½®ä¾èµ–ç‰ˆæœ¬å‰ç¼€ç­–ç•¥</h4>
<p>npm é»˜è®¤ç”¨ <code>^</code> å‰ç¼€ï¼Œé£é™©å¤ªå¤§ã€‚å¯ä»¥åœ¨ <code>.npmrc</code> é‡Œæ”¹ï¼š</p>

























<table><thead><tr><th>é…ç½®å€¼</th><th>æ•ˆæœ</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>save-prefix=^</code></td><td>å…è®¸æ¬¡ç‰ˆæœ¬å‡çº§</td><td><code>^2.3.2</code></td></tr><tr><td><code>save-prefix=~</code></td><td>ä»…å…è®¸ä¿®è®¢ç‰ˆæœ¬å‡çº§</td><td><code>~2.3.2</code></td></tr><tr><td><code>save-exact=true</code></td><td>ç²¾ç¡®ç‰ˆæœ¬ï¼Œæ— å‰ç¼€</td><td><code>2.3.2</code></td></tr></tbody></table>
<p><strong>æ¨èç”¨ <code>~</code></strong>ï¼š</p>
<p>npm/pnpm é…ç½®ï¼ˆ<code>.npmrc</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">save-prefix</span>=~
</code></pre>
<p>yarn é…ç½®ï¼ˆ<code>.yarnrc</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">save-prefix</span> <span class="hljs-string">"~"</span>
</code></pre>
<p>ä¸ºå•¥é€‰ <code>~</code>ï¼Ÿ</p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>ç²¾ç¡®ç‰ˆæœ¬</td><td>å®Œå…¨é”å®šï¼Œé›¶é£é™©</td><td>æ— æ³•è‡ªåŠ¨è·å– bug ä¿®å¤</td></tr><tr><td><code>~</code> æ³¢æµªå·</td><td>è‡ªåŠ¨è·å–ä¿®è®¢ç‰ˆæœ¬ï¼Œé£é™©å¯æ§</td><td>æå°æ¦‚ç‡é‡åˆ°ä¿®è®¢ç‰ˆæœ¬å¼•å…¥é—®é¢˜</td></tr><tr><td><code>^</code> è„±å­—ç¬¦</td><td>è‡ªåŠ¨è·å–æ–°åŠŸèƒ½å’Œä¿®å¤</td><td>é£é™©è¾ƒé«˜ï¼Œå¦‚æœ¬æ¬¡ Element Plus é—®é¢˜</td></tr></tbody></table>
<p>ä¿®è®¢ç‰ˆæœ¬æŒ‰ SemVer è§„èŒƒåªåŒ…å« bug ä¿®å¤ï¼Œå‘ä¸‹å…¼å®¹ã€‚é…åˆ lock æ–‡ä»¶æäº¤ï¼Œå®é™…å®‰è£…ç‰ˆæœ¬è¿˜æ˜¯é”å®šçš„ï¼Œåªæœ‰åˆ  lock æ–‡ä»¶é‡è£…æ‰ä¼šå‡çº§ã€‚</p>
<p><strong>æ•æ„Ÿä¾èµ–å•ç‹¬å¤„ç†</strong>ï¼š</p>
<p>UI ç»„ä»¶åº“è¿™ç§æ ¸å¿ƒä¾èµ–ï¼Œå»ºè®®ç›´æ¥åœ¨ <code>package.json</code> é‡Œç”¨ç²¾ç¡®ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"element-plus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.3.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"vue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"~3.3.4"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-14">4.5 Element Plus æ ·å¼ä¿®å¤</h4>
<p><strong>å½“å‰æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>æŠŠ Element Plus ç‰ˆæœ¬å›ºå®šä¸ºç²¾ç¡®ç‰ˆæœ¬ï¼ˆå»æ‰ <code>^</code>ï¼‰ï¼Œé˜²æ­¢åç»­é™é»˜å‡çº§</li>
<li>å¯¹å·²å—å½±å“çš„å¼¹çª—ç»„ä»¶ï¼Œå•ç‹¬è¿›è¡Œæ ·å¼è¦†ç›–ï¼š</li>
</ol>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.affected-dialog</span> <span class="hljs-selector-class">.el-dialog</span> {
  <span class="hljs-attr">--el-dialog-padding-primary</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>å…¶ä»–å¯é€‰æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å…¨å±€æ ·å¼è¦†ç›–ï¼ˆå½±å“èŒƒå›´å¤§ï¼Œéœ€å……åˆ†æµ‹è¯•ï¼‰</li>
<li>å›é€€ Element Plus ç‰ˆæœ¬è‡³ 2.5.3 æˆ–æ›´ä½</li>
</ul>
<h3 data-id="heading-15">äº”ã€Element Plus çš„é—®é¢˜</h3>
<p>è¿™äº‹æœ¬è´¨ä¸Šæ˜¯ Element Plus çš„é”…ã€‚</p>
<p>åœ¨ 2.5.4 è¿™ä¸ª<strong>æ¬¡ç‰ˆæœ¬</strong>é‡ŒåŠ äº†ä¸ªå¼ºåˆ¶ paddingï¼Œè¿™æ˜¯<strong>ç ´åæ€§å˜æ›´</strong>ã€‚æŒ‰ SemVer è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼Œç ´åæ€§å˜æ›´åº”è¯¥æ”¾åˆ°å¤§ç‰ˆæœ¬ï¼ˆ3.xï¼‰é‡Œã€‚</p>
<h3 data-id="heading-16">å…­ã€çŸ¥è¯†ç‚¹æ€»ç»“</h3>
<h4 data-id="heading-17">ç‰ˆæœ¬å·å‰ç¼€</h4>





















<table><thead><tr><th>å†™æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>^2.3.2</code></td><td>2.x.x éƒ½è¡Œï¼Œæœ€ä½ 2.3.2</td></tr><tr><td><code>~2.3.2</code></td><td>2.3.x éƒ½è¡Œï¼Œæœ€ä½ 2.3.2</td></tr><tr><td><code>2.3.2</code></td><td>ç²¾ç¡®ç‰ˆæœ¬ï¼Œå°±è¦ 2.3.2</td></tr></tbody></table>
<h4 data-id="heading-18">SemVer è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ</h4>
<pre><code class="hljs">ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
   â”‚      â”‚      â””â”€â”€ bug ä¿®å¤ï¼Œå‘ä¸‹å…¼å®¹
   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ–°åŠŸèƒ½ï¼Œå‘ä¸‹å…¼å®¹
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç ´åæ€§å˜æ›´ï¼Œä¸å…¼å®¹
</code></pre>
<h4 data-id="heading-19">ä¾èµ–ç®¡ç†é…ç½®æ–‡ä»¶</h4>





































<table><thead><tr><th>æ–‡ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>.npmrc</td><td>npm/pnpm é…ç½®ï¼Œé•œåƒåœ°å€ã€ä¸¥æ ¼æ¨¡å¼ç­‰</td></tr><tr><td>.yarnrc</td><td>yarn é…ç½®</td></tr><tr><td>.nvmrc</td><td>nvm çš„ Node ç‰ˆæœ¬</td></tr><tr><td>.nvmdrc</td><td>nvmd çš„ Node ç‰ˆæœ¬</td></tr><tr><td>package-lock.json</td><td>npm çš„ä¾èµ–é”å®š</td></tr><tr><td>yarn.lock</td><td>yarn çš„ä¾èµ–é”å®š</td></tr><tr><td>pnpm-lock.yaml</td><td>pnpm çš„ä¾èµ–é”å®š</td></tr></tbody></table>
<h3 data-id="heading-20">ä¸ƒã€æœ€ä½³å®è·µ</h3>


















































<table><thead><tr><th>ä¼˜å…ˆçº§</th><th>æªæ–½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>é«˜</td><td>æäº¤ lock æ–‡ä»¶</td><td>é˜²æ­¢ç‰ˆæœ¬æ¼‚ç§»çš„æ ¸å¿ƒ</td></tr><tr><td>é«˜</td><td>é…ç½® <code>.npmrc</code> / <code>.yarnrc</code></td><td>ç»Ÿä¸€é•œåƒæº</td></tr><tr><td>é«˜</td><td>é…ç½® <code>.nvmrc</code> / <code>.nvmdrc</code></td><td>æœ¬åœ°å¼€å‘ç‰ˆæœ¬æç¤º</td></tr><tr><td>é«˜</td><td>æ•æ„Ÿä¾èµ–ç²¾ç¡®ç‰ˆæœ¬</td><td>UI åº“ç­‰å»æ‰ <code>^</code> å‰ç¼€</td></tr><tr><td>ä¸­</td><td>é…ç½® <code>save-prefix=~</code></td><td>æ§åˆ¶æ–°ä¾èµ–ç‰ˆæœ¬èŒƒå›´</td></tr><tr><td>ä¸­</td><td>é…ç½® <code>engines</code> + <code>engine-strict</code></td><td>å¼ºåˆ¶ Node ç‰ˆæœ¬æ£€æŸ¥</td></tr><tr><td>ä¸­</td><td><code>only-allow</code> è„šæœ¬</td><td>é™åˆ¶åŒ…ç®¡ç†å™¨ç±»å‹</td></tr><tr><td>ä½</td><td><code>packageManager</code> + Corepack</td><td>é”å®šåŒ…ç®¡ç†å™¨ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-21">å…«ã€ç»éªŒæ•™è®­</h3>
<ol>
<li><strong>lock æ–‡ä»¶å¿…é¡»æäº¤</strong>ï¼Œåˆ«è®©ä¾èµ–å·å·å‡çº§</li>
<li><strong>é•œåƒåœ°å€è¦ç»Ÿä¸€ç®¡ç†</strong>ï¼Œç”¨ .npmrc/.yarnrc é”å®š</li>
<li><strong>Node ç‰ˆæœ¬è¦å¼ºåˆ¶çº¦æŸ</strong>ï¼Œç”¨ .nvmrc + engines + engine-strict</li>
<li><strong>åŒ…ç®¡ç†å™¨ä¹Ÿè¦é”</strong>ï¼ŒpackageManager + Corepack æˆ– only-allow</li>
<li><strong>æ•æ„Ÿä¾èµ–ç”¨ç²¾ç¡®ç‰ˆæœ¬</strong>ï¼ŒUI åº“è¿™ç§åˆ«ç”¨ <code>^</code></li>
<li><strong>æ–°ä¾èµ–ç”¨ <code>~</code> å‰ç¼€</strong>ï¼Œæ¯” <code>^</code> å®‰å…¨ï¼Œæ¯”ç²¾ç¡®ç‰ˆæœ¬çµæ´»</li>
<li><strong>åˆ  lock æ–‡ä»¶è¦è°¨æ…</strong>ï¼Œå¯èƒ½å¼•å…¥ç‰ˆæœ¬æ¼‚ç§»</li>
<li><strong>é‡åˆ°é—®é¢˜è¦è¿½æ ¹æº¯æº</strong>ï¼Œä¸èƒ½åªè§£å†³è¡¨é¢ç°è±¡</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptç®—æ³• - å†’æ³¡æ’åº]]></title>    <link>https://juejin.cn/post/7592255257347899433</link>    <guid>https://juejin.cn/post/7592255257347899433</guid>    <pubDate>2026-01-07T10:03:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592255257347899433" data-draft-id="7592236397535674404" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptç®—æ³• - å†’æ³¡æ’åº"/> <meta itemprop="keywords" content="æ’åºç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-07T10:03:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢…å·_é…·å­"/> <meta itemprop="url" content="https://juejin.cn/user/1488075996274921"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptç®—æ³• - å†’æ³¡æ’åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1488075996274921/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢…å·_é…·å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:03:31.000Z" title="Wed Jan 07 2026 10:03:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†’æ³¡æ’åºï¼ˆä»å°åˆ°å¤§ï¼‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0517fa5554bf44229f0442086a737421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385010&amp;x-signature=haL45J2MFkq5FlXh%2F5DUL%2FyfExI%3D" alt="ç”Ÿæˆæ°´é¢å†’æ³¡å›¾ç‰‡.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
* æ–‡å­—æè¿°ï¼Œæ¯•ç«Ÿä¸å¦‚å£è¯­è¡¨è¾¾ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¸®åŠ©é˜…è¯»çš„æ–¹æ³•
* é‡Šä¹‰ï¼š
* Â  Â é¡¹ï¼š"æ•°ç»„çš„ 0 é¡¹"ï¼ŒæŒ‡çš„æ˜¯æ•°ç»„ index ä¸º 0 çš„å€¼
*
* tips:
* 1. å°†ä¼šç”¨åˆ°çš„æ•°ç»„ï¼Œéƒ½æ˜¯å¤æ‚åº¦æœ€é«˜çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯åŸå§‹æ’åºä¸º [3,2,1] è¿™æ ·ä»å¤§åˆ°å°çš„æ•°ç»„ï¼Œæœ‰åŠ©äºç›´è§‚ç†è§£
* 2. å¦‚æœè§‰å¾—æœ‰ç‚¹ä¹±ï¼Œå°±å…³æ³¨å‡½æ•°è¿”å›çš„ç»“æœã€‚ä¸Šä¸€æ­¥ç»“æœï¼Œå°±æ˜¯æˆ‘ä»¬ä¸‹ä¸€æ­¥çš„æ ¹æœ¬
*/</span>
</code></pre>
<h5 data-id="heading-1">å¦‚æœæ•°ç»„ä¸€å…±æœ‰ä¸¤é¡¹</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 8, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶æ•°ç»„å˜ä¸ºï¼š[ 8, 9 ]
æ€»ç»“ï¼šä»¥ä¸Šæ˜¯æœ€ç®€å•çš„æ’åºã€‚æ•°ç»„åªæœ‰ä¸¤é¡¹ï¼Œ0 é¡¹å’Œ 1 é¡¹ã€‚æ¯”å¤§å°ã€æ¢ä½ï¼Œæ²¡äº†</p>
<h5 data-id="heading-2">å¦‚æœæœ‰ä¸‰ä¸ªå‘¢</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>)<span class="hljs-comment">// [ 8, 9, 7 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 8, 9, 7 ]<br/>
çœ‹ç€è¿™ä¸ªæ•°ç»„ï¼Œæ€»ç»“ï¼šé¢„æ–™ä¹‹ä¸­ï¼Œ0 é¡¹å’Œ 1 é¡¹æ¢ä½ã€‚æ¥ä¸‹æ¥å‘¢ï¼Ÿ</p>
<p>æ’åºåæ•°ç»„çš„å«ä¹‰å¯ä»¥è§£é‡Šä¸ºï¼š<br/>
å¯ä»¥ç¡®å®šï¼šæ•°ç»„çš„ 1 é¡¹ï¼Œæ˜¯æ•°ç»„ 0 é¡¹ã€1 é¡¹ä¸­çš„çš„<strong>æœ€å¤§å€¼</strong><br/>
ä¸èƒ½ç¡®å®šï¼šæ•°ç»„çš„ 2 é¡¹ï¼Œæ›´å¤§è¿˜æ˜¯æ›´å°</p>
<p>ï¼é‚£ä¹ˆï¼Œè®©æ•°ç»„çš„ 1ã€2 é¡¹æ¯”å¤§å°ï¼Œå°±ç¡®å®šäº†æ•°ç»„ä¸­<strong>æœ€å¤§</strong>çš„æ˜¯è°</p>
<h5 data-id="heading-3">ä»£ç å»¶ç”³</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> myArr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// ç¬¬ä¸€æ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 9, 7 ]</span>

    <span class="hljs-comment">// ç¬¬äºŒæ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">1</span>] &gt; arr[<span class="hljs-number">2</span>]) {
      ;[arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">2</span>]] = [arr[<span class="hljs-number">2</span>], arr[<span class="hljs-number">1</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 7, 9 ]</span>
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 8, 7, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 8, 7, 9 ]</p>
<p>çœ‹ç€è¿™ä¸ªæ•°ç»„ï¼Œæ€»ç»“ï¼šå»¶ç”³åï¼Œæˆ‘ä»¬ç¡®å®šäº†æœ€å¤§å€¼ï¼Œä¸”ç§»åŠ¨åˆ°äº†æœ€å³è¾¹<br/>
å¸Œæœ›è¿™é‡Œï¼Œä½ ä¼šæ„Ÿå—åˆ°æ€è·¯åœ¨å˜æ¸…æ™°</p>
<p>æ’åºåçš„æ•°ç»„å«ä¹‰å¯ä»¥è§£é‡Šä¸º<br/>
å¯ä»¥ç¡®å®šï¼š0 é¡¹å’Œ 1 é¡¹ï¼Œéƒ½æ¯” 2 é¡¹å°ã€‚2 é¡¹ï¼Œæ˜¯æ•°ç»„çš„<strong>æœ€å¤§å€¼</strong><br/>
ä¸èƒ½ç¡®å®šï¼šæ•°ç»„çš„ 0 é¡¹ã€1 é¡¹ï¼Œè°å¤§</p>
<p>ï¼é‚£ä¹ˆï¼Œè®©æ•°ç»„çš„ 0ã€1 é¡¹æ¯”å¤§å°ã€‚ï¼ˆå› ä¸ºå·²ç»ç¡®å®šäº† 2 é¡¹æœ€å¤§ï¼Œé‚£ä¹ˆï¼Œç¡®å®šäº† 0ã€1 çš„å¤§å°å…³ç³»ï¼Œå°±ç¡®å®šäº†å…¨éƒ¨çš„å¤§å°å…³ç³»ï¼‰</p>
<h5 data-id="heading-4">ä»£ç å†å»¶ç”³</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">mySort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// ç¬¬ä¸€æ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 9, 7 ]</span>

    <span class="hljs-comment">// ç¬¬äºŒæ­¥</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">1</span>] &gt; arr[<span class="hljs-number">2</span>]) {
      ;[arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">2</span>]] = [arr[<span class="hljs-number">2</span>], arr[<span class="hljs-number">1</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º [ 8, 7, 9 ]</span>

    <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼ˆä¸ ç¬¬ä¸€æ­¥ å®Œå…¨ä¸€è‡´ï¼‰</span>
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>] &gt; arr[<span class="hljs-number">1</span>]) {
      ;[arr[<span class="hljs-number">0</span>], arr[<span class="hljs-number">1</span>]] = [arr[<span class="hljs-number">1</span>], arr[<span class="hljs-number">0</span>]]
    }
    <span class="hljs-comment">// èµ°åˆ°æ­¤å¤„ï¼Œarr çš„å€¼ä¸º[ 7, 8, 9 ]</span>
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">mySort</span>(myArr)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result, <span class="hljs-string">'result'</span>) <span class="hljs-comment">// [ 7, 8, 9 ]</span>
</code></pre>
<p>æ­¤æ—¶çš„æ•°ç»„å˜ä¸ºï¼š[ 7, 8, 9 ]ï¼Œæ˜¯æˆ‘ä»¬è¦çš„ç»“æœ</p>
<h4 data-id="heading-5">æ€è·¯æ€»ç»“ï¼š</h4>
<pre><code class="hljs language-markdown" lang="markdown">æˆ‘ä»¬æ’åºçš„æ–¹å¼ä¸ºï¼š  
<span class="hljs-code">    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 2  
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 0ã€1  
</span></code></pre>
<h4 data-id="heading-6">æ€è·¯æ‰©å±•ï¼š</h4>
<pre><code class="hljs language-markdown" lang="markdown">å°è¯•æƒ³è±¡ä¸€ä¸‹ï¼Œå½“æ•°ç»„çš„æ•°é‡ä¸ºå››ä¸ª
<span class="hljs-code">    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œ2ã€3 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 3
ç„¶åå†é‡å¤ä¸€ä¸‹åˆšåˆšå®ç°çš„ç»è¿‡
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œ1ã€2 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 2
    0ã€1 å¯¹æ¯”æ¢ä½ï¼Œç¡®å®š 0ã€1
</span></code></pre>
<h6 data-id="heading-7">è‡³æ­¤ï¼Œä¸€ç§ç®—æ³•å…¥é—¨çš„æ’åºæ€è·¯å·²ç»å‡ºç°ï¼Œå®ƒè¢«ç§°ä¸ºï¼šå†’æ³¡æ’åº ~å’•å˜Ÿå’•å˜Ÿ</h6>
<h4 data-id="heading-8">æ ¹æ®æ€è·¯æ‰©å±•ï¼Œå°è¯•å®ç°ç®—æ³•ï¼š</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// é¦–å…ˆï¼Œå†™å‡ºç¬¬ä¸€è½®å¾ªç¯å¯¹æ¯”ï¼šå¾—åˆ°æ•°ç»„ä¸­æœ€å¤§å€¼å¹¶ç§»åŠ¨åˆ°æœ€å³è¾¹</span>
  <span class="hljs-keyword">const</span> arr = [<span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>]
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// å…ˆæŠŠä¹‹å‰çš„å¯¹æ¯”çš„åˆ¤æ–­ï¼ŒæŠŠç´¢å¼•æ”¹æˆåŠ¨æ€çš„</span>
    <span class="hljs-comment">// if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// }</span>
    
    <span class="hljs-comment">// é¦–å…ˆæƒ³åˆ°forå¾ªç¯ã€‚èƒ½å†™å‡ºæ¥ä»€ä¹ˆæ ·å‘¢</span>
    <span class="hljs-comment">// for()</span>
    <span class="hljs-comment">// æˆ‘ä»¬éœ€è¦ç”¨ä¸€äº›æ•°å­—ã€‚è·Ÿå¾ªç¯çš„æ¬¡æ•°æœ‰å…³</span>
    <span class="hljs-comment">// ä¸€èˆ¬è€Œè¨€ï¼Œéƒ½ä¼šæ‹¿æ•°ç»„çš„é•¿åº¦æ¥ç”¨ã€‚è¿™é‡Œï¼Œæ•°ç»„çš„é•¿åº¦æœ‰ä»€ä¹ˆç”¨å¤„</span>
    <span class="hljs-comment">// arr.length // 4</span>
    <span class="hljs-comment">// for (let i = 0; i &lt; ???; i++) {</span>
    <span class="hljs-comment">// Â  if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â  Â  Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// Â  Â  }</span>
    <span class="hljs-comment">// }</span>
    
    <span class="hljs-comment">// å…³é”®æ˜¯ï¼Œi è¦å°äºå‡ å‘¢ï¼Ÿé‚£å°±å…ˆè¦ç¡®å®šï¼Œæˆ‘ä»¬è¦å¯¹æ¯”å¤šå°‘æ¬¡ï¼Œç„¶åå†ç»™å‡ºé™åˆ¶</span>
    <span class="hljs-comment">// è¿™ä¸ªå¯¹æ¯”çš„æ¬¡æ•°ï¼Œè¦ä¾æ® &lt; æ€è·¯æ‰©å±• &gt; ä¸­çš„ç¬¬ä¸€è½®å¯¹æ¯”ï¼å…¶ä¸­ç¬¬ä¸€è½®ï¼Œç»è¿‡äº† 3 æ¬¡å¯¹æ¯”æ¢ä½</span>
    <span class="hljs-comment">// åˆå› ä¸ºæˆ‘ä»¬æ˜¯ä» 0 å¼€å§‹çš„ã€‚æ‰€ä»¥ï¼Œè¦æ‹¿åˆ°çš„æ•°å­—æ˜¯0ã€1ã€2ï¼Œæ‰€ä»¥è¦å°äº3</span>
    <span class="hljs-comment">// æ•°ç»„çš„é•¿åº¦è·Ÿè¿™ä¸ªæ•°å­—çš„å…³ç³»å°±æ˜¯ length - 1ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦å°äºçš„å€¼</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i++) {
      <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
        ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
      }
    }
    <span class="hljs-keyword">return</span> arr
    <span class="hljs-comment">// å¦‚æœä» 1 å¼€å§‹ï¼Œé‚£å°±å¦ä¸€å›äº‹äº†</span>
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>(arr)) <span class="hljs-comment">// [ 8, 7, 6, 9 ]</span>
</code></pre>
<p>è¿™æ—¶å€™æˆ‘ä»¬å·²ç»æŠŠæœ€å¤§çš„ç§»åŠ¨åˆ°äº†æœ€å³è¾¹ï¼Œç¬¬ä¸€æ­¥å®Œæˆäº†<br/>
ç„¶åå‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å¯¹æ¯”å‰ä¸‰ä¸ªï¼Œä¸å¯¹æ¯”ç¬¬å››ä¸ªäº†ã€‚è¿™ä¸ªæ€ä¹ˆå†™å•Š<br/>
æˆ‘ä»¬è¦è®©è¿™ä¸ªå¾ªç¯å†æ¥ä¸€éã€‚ä½†æ˜¯ï¼Œå¾ªç¯æ¬¡æ•°è¦å°‘ä¸€æ¬¡ã€‚é‡è¦ï¼ï¼ï¼<br/>
è®©å¾ªç¯å†æ¥ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®©è¿™ä¸ªå¾ªç¯å¾ªç¯</p>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-comment">// for()</span>
    <span class="hljs-comment">// å¤–è¾¹è¿™ä¸ªå¾ªç¯æ€ä¹ˆåŠ å‘¢ï¼Œè¦è®©é‡Œé¢çš„å¾ªç¯ï¼Œèµ°å‡ è½®å‘¢ï¼Ÿè·Ÿé‡Œé¢çš„å¾ªç¯æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</span>
    <span class="hljs-comment">// å†ä¸€æ¬¡ï¼Œä¾æ® &lt; æ€è·¯æ‰©å±• &gt; ï¼Œè¦è®©é‡Œé¢å¾ªç¯ 3 è½®ï¼Œå°±èƒ½å¾—åˆ°ç»“æœäº†</span>
    <span class="hljs-comment">// é‡Œé¢å¾ªç¯å¯¹æ¯”çš„æ¬¡æ•°ä¸æ–­å‡ 1 çš„ï¼Œé‚£è®©å¤–é¢çš„å¾ªç¯ä¸æ–­å‡ 1ï¼Œå¹¶è®©è¿™ä¸ªæ•°å­—åŒæ­¥åˆ°é‡Œé¢å¯¹ i çš„é™åˆ¶</span>
    <span class="hljs-comment">// for(let j = ???; j &gt;= 0; j--){</span>
    <span class="hljs-comment">// Â   for (let i = 0; i &lt; arr.length - 1; i++) {</span>
    <span class="hljs-comment">// Â   Â  if (arr[i] &gt; arr[i + 1]) {</span>
    <span class="hljs-comment">// Â   Â  Â  ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]</span>
    <span class="hljs-comment">// Â   Â  }</span>
    <span class="hljs-comment">// Â   }</span>
    <span class="hljs-comment">// }</span>
    <span class="hljs-comment">// è®©å¤–é¢çš„ j ï¼Œè®¾å®šä¸ºé‡Œé¢çš„ i çš„åˆå§‹å€¼ï¼Œç„¶åé€æ¸å˜å°ï¼Œæœ€ç»ˆç­‰äº 0ï¼Œç„¶åç»“æŸ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
        }
      }
    }
    <span class="hljs-keyword">return</span> arr
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>(arr)) <span class="hljs-comment">// [ 6, 7, 8, 9 ]</span>
</code></pre>
<h5 data-id="heading-9">ä¸»çº¿ä»£ç å®Œæˆ</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">arr</span>) =&gt; {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
        }
      }
    }
    <span class="hljs-keyword">return</span> arr
  }
<span class="hljs-comment">// éšä¾¿è¾“å…¥ä¸€äº›ï¼Œçœ‹çœ‹æ•ˆæœ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">bubbleSort</span>([<span class="hljs-number">543</span>, <span class="hljs-number">4</span>, <span class="hljs-number">76</span>, <span class="hljs-number">524</span>, <span class="hljs-number">24</span>, <span class="hljs-number">65</span>, <span class="hljs-number">23</span>, <span class="hljs-number">235</span>, <span class="hljs-number">3245</span>])) <span class="hljs-comment">// [ 4, 23, 24, 65, 76, 235, 524, 543, 3245 ]</span>
</code></pre>
<h5 data-id="heading-10">åç»­ä¼˜åŒ–ï¼šéš”ç¦»æ•°æ®æºã€å‡å°‘éå¿…è¦æ€§èƒ½å¼€é”€</h5>
<pre><code class="hljs language-js" lang="js">  <span class="hljs-keyword">const</span> <span class="hljs-title function_">bubbleSort</span> = (<span class="hljs-params">array</span>) =&gt; {
    <span class="hljs-keyword">const</span> arr = [...array]
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) {
      <span class="hljs-keyword">let</span> swapped = <span class="hljs-literal">false</span>
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; j; i++) {
        <span class="hljs-keyword">if</span> (arr[i] &gt; arr[i + <span class="hljs-number">1</span>]) {
          ;[arr[i], arr[i + <span class="hljs-number">1</span>]] = [arr[i + <span class="hljs-number">1</span>], arr[i]]
          swapped = <span class="hljs-literal">true</span>
        }
      }
      <span class="hljs-keyword">if</span> (!swapped) <span class="hljs-keyword">break</span>
    }
    <span class="hljs-keyword">return</span> arr
  }
</code></pre>
<p>å®Œæˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592423411563167770</link>    <guid>https://juejin.cn/post/7592423411563167770</guid>    <pubDate>2026-01-07T10:10:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592423411563167770" data-draft-id="7592423411562840090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:10:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–æ–‡äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3044986347066480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åç«¯é—®å‰ç«¯ï¼šæˆ‘çš„æ¥å£è¯·æ±‚èŠ±äº†å¤šå°‘ç§’ï¼Ÿä¸ºå•¥é‚£ä¹ˆæ…¢ï¼Œæ˜¯ä½ æ…¢è¿˜æ˜¯æˆ‘æ…¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3044986347066480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–æ–‡äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:10:12.000Z" title="Wed Jan 07 2026 10:10:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53b2669b859e4a718c010c50a95e41b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmW5paH5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385412&amp;x-signature=q98fB%2BJVpNV%2BdvMqXJlZq59%2FKQc%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸å¥½æ„æ€ï¼Œä½ è¯´ä½ çœ‹ä¸æ‡‚æ¥å£ ç”¨äº†å¤šå°‘ç§’ï¼Ÿæˆ‘æ¥å‘Šè¯‰å¤§å®¶ï¼Œå› ä¸ºæˆ‘ä¹Ÿè¦å†™è®°å½•ğŸ“ã€‚</p>
<p>æˆ‘å…ˆæŠŠç­”æ¡ˆè¯´å‡ºæ¥ï¼Œæ€»è€—æ—¶8.54ç§’ã€‚</p>
<ul>
<li>æ’é˜Ÿ(<code>Queued</code>): <code>24.52ms</code></li>
<li>è¿æ¥(<code>Connection Start</code>): <code>0.86ms</code></li>
<li>è¯·æ±‚å‘é€(<code>Request sent</code>): <code>0.23ms</code></li>
<li>ç­‰å¾…æœåŠ¡å™¨å“åº”(<code>Waiting for server response</code>): <code>8.39</code>ï¼ˆè¿™éƒ¨åˆ†æ—¶é—´æœ€é•¿ï¼‰</li>
<li>å†…å®¹ä¸‹è½½(<code>Content Download</code>): <code>126.61ms</code></li>
</ul>
<p>Explanationåœ¨æœ€åä¸€è¡Œï¼Œç»™å‡ºæ˜¯8.54ç§’ï¼Œä¹Ÿå°±æ˜¯è¯·æ±‚æ¥å£åŠ èµ·æ¥æ€»æ—¶é—´æ˜¯<code>8.54</code>ç§’ã€‚</p>
<hr/>
<p>â€œQueued at 1.1 minâ€ å’Œ â€œStarted at 1.1 minâ€ æ˜¯åœ¨ç½‘ç»œæ€§èƒ½åˆ†æå·¥å…·ï¼ˆæ¯”å¦‚ Chrome DevTools çš„æ€§èƒ½ç€‘å¸ƒå›¾ï¼‰ä¸­å¸¸è§çš„æè¿°ï¼Œ<strong>è¡¨ç¤ºè¿™æ¬¡è¯·æ±‚åœ¨æ•´ä¸ªé¡µé¢åŠ è½½è¿‡ç¨‹ä¸­çš„å‡ºç°æ—¶é—´ç‚¹</strong>ï¼Œè€Œä¸æ˜¯è¯·æ±‚æœ¬èº«çš„å®é™…æ—¶é•¿ã€‚</p>
<h2 data-id="heading-0">å…·ä½“å«ä¹‰ï¼š</h2>
<ul>
<li><code>Queued at 1.1 min</code>ï¼š
è¡¨ç¤ºåœ¨é¡µé¢å¼€å§‹åŠ è½½åçš„<code>1.1åˆ†é’Ÿ</code>ï¼Œè¿™ä¸ªè¯·æ±‚è¢«æ”¾å…¥æµè§ˆå™¨çš„é˜Ÿåˆ—ä¸­ç­‰å¾…æ’é˜Ÿã€‚</li>
</ul>
<p>å¯èƒ½æ˜¯å› ä¸ºï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- æµè§ˆå™¨å¯¹åŒä¸€åŸŸåæœ‰è¿æ¥æ•°é™åˆ¶ï¼ˆä¾‹å¦‚6ä¸ªå¹¶å‘ï¼‰ï¼Œæ‰€ä»¥åç»­è¯·æ±‚éœ€è¦æ’é˜Ÿã€‚</span>
<span class="hljs-deletion">- èµ„æºä¼˜å…ˆçº§è¾ƒä½ï¼Œéœ€è¦ç­‰å…¶ä»–æ›´é«˜ä¼˜å…ˆçº§è¯·æ±‚å…ˆå¤„ç†ã€‚</span>
</code></pre>
<ul>
<li><code>Started at 1.1 min</code></li>
</ul>
<p>è¡¨ç¤ºåœ¨é¡µé¢åŠ è½½å¼€å§‹åçš„<code>1.1åˆ†é’Ÿ</code>ï¼Œè¿™ä¸ªè¯·æ±‚<code>å¼€å§‹çœŸæ­£è¢«å¤„ç†</code>ï¼ˆä¾‹å¦‚å¼€å§‹å»ºç«‹è¿æ¥ï¼‰ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ—¶é—´ç›¸åŒï¼ˆéƒ½æ˜¯<code>1.1</code>åˆ†é’Ÿï¼‰ï¼Œè¯´æ˜<code>è¿™ä¸ªè¯·æ±‚åœ¨è¿›å…¥é˜Ÿåˆ—åå‡ ä¹æ²¡æœ‰æ’é˜Ÿ</code>ï¼Œå¾ˆå¿«å°±å¼€å§‹äº†å®é™…è¯·æ±‚é˜¶æ®µã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li><code>1.1</code>åˆ†é’Ÿæ—¶å®ƒè¢«åŠ å…¥é˜Ÿåˆ—ã€‚</li>
<li><code>åŒæ ·åœ¨1.1åˆ†é’Ÿæ—¶</code>å®ƒå°±å¼€å§‹äº†è¿æ¥é˜¶æ®µï¼ˆ<code>Stalled</code>ã€<code>Request/Response</code>ç­‰ï¼‰ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œ"Queued"å’Œ"Started at"æ˜¯å¯¹æ•´ä¸ªé¡µé¢åŠ è½½æ—¶é—´çº¿ä¸­çš„<code>æ—¶é—´ç‚¹æ ‡è®°</code>ï¼Œå¸®åŠ©ä½ ç†è§£è¯¥è¯·æ±‚åœ¨é¡µé¢å£°æ˜å‘¨æœŸä¸­ä½•æ—¶å‘ç”Ÿï¼Œè€Œä¸å½±å“è¯·æ±‚è‡ªèº«çš„<code>8.54</code>ç§’è€—æ—¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹]]></title>    <link>https://juejin.cn/post/7592451049232990254</link>    <guid>https://juejin.cn/post/7592451049232990254</guid>    <pubDate>2026-01-07T10:22:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592451049232990254" data-draft-id="7592423411563200538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:22:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qwepoilkjasd"/> <meta itemprop="url" content="https://juejin.cn/user/318221180214507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/318221180214507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qwepoilkjasd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:22:28.000Z" title="Wed Jan 07 2026 10:22:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">DMCå‘é€M-SEARCHè¯·æ±‚ï¼ŒDMRå“åº”çš„å®Œæ•´å‡½æ•°è°ƒç”¨é“¾</h2>
<h3 data-id="heading-1">æ¦‚è§ˆ</h3>
<p>å½“DMCï¼ˆDigital Media Controllerï¼‰åœ¨ç½‘ç»œä¸­å‘é€M-SEARCHå¤šæ’­æœç´¢è¯·æ±‚æ—¶ï¼ŒDMRï¼ˆDigital Media Receiverï¼‰è®¾å¤‡éœ€è¦æ¥æ”¶å¹¶å“åº”è¯¥è¯·æ±‚ã€‚ä¸‹é¢æ˜¯å®Œæ•´çš„å‡½æ•°è°ƒç”¨é“¾åŠè¯¦ç»†è¯´æ˜ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. ç½‘ç»œæ•°æ®æ¥æ”¶é˜¶æ®µ</h3>
<h4 data-id="heading-3">1.1 SSDPç›‘å¬å¯åŠ¨</h4>
<pre><code class="hljs language-css" lang="css">PLT_UPnP::<span class="hljs-built_in">Start</span>()
  â””â”€&gt; PLT_DeviceHost::<span class="hljs-built_in">Start</span>(PLT_SsdpListenTask* task)
      â””â”€&gt; m_TaskManager-&gt;<span class="hljs-built_in">StartTask</span>(PLT_SsdpListenTask) 
          â”œâ”€&gt; åˆ›å»ºUDPå¤šæ’­å¥—æ¥å­—ï¼Œç›‘å¬å¤šæ’­åœ°å€ <span class="hljs-number">239.255</span>.<span class="hljs-number">255.250</span>:<span class="hljs-number">1900</span>
          â”œâ”€&gt; åŠ å…¥å¤šæ’­ç»„
          â””â”€&gt; æŒç»­ç›‘å¬SSDPæ•°æ®åŒ…
</code></pre>
<h4 data-id="heading-4">1.2 M-SEARCHæ•°æ®åŒ…æ¥æ”¶</h4>
<pre><code class="hljs language-css" lang="css">PLT_SsdpListenTask::<span class="hljs-built_in">DoRun</span>()ï¼ˆè¿è¡Œåœ¨ä»»åŠ¡çº¿ç¨‹ä¸­ï¼‰
  â””â”€&gt; PLT_HttpServerSocketTask::<span class="hljs-built_in">Run</span>()
      â””â”€&gt; å¾ªç¯æ¥æ”¶UDPå¤šæ’­æ•°æ®åŒ…
          â”œâ”€&gt; <span class="hljs-built_in">GetInputStream</span>() 
          â”‚   â””â”€&gt; å°†UDPæ•°æ®åŒ…è½¬æ¢ä¸ºæµ (PLT_InputDatagramStream)
          â””â”€&gt; NPT_HttpClient::<span class="hljs-built_in">ReadRequest</span>()
              â””â”€&gt; è§£æHTTPæ ¼å¼çš„M-SEARCHè¯·æ±‚
</code></pre>
<hr/>
<h3 data-id="heading-5">2. M-SEARCHè¯·æ±‚å¤„ç†é˜¶æ®µ</h3>
<h4 data-id="heading-6">2.1 è¯·æ±‚å¤„ç†å’Œç›‘å¬å™¨é€šçŸ¥</h4>
<pre><code class="hljs language-css" lang="css">PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()
  â”‚
  â”œâ”€&gt; è·å–SSDPè¯·æ±‚å’Œè¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆåŒ…å«æºIPå’Œç«¯å£ï¼‰
  â”‚
  â””â”€&gt; m_Listeners.<span class="hljs-built_in">Apply</span>(PLT_SsdpPacketListenerIterator)
      â”‚
      â””â”€&gt; éå†æ‰€æœ‰å·²æ³¨å†Œçš„SSDPç›‘å¬å™¨ï¼Œæ¯ä¸ªç›‘å¬å™¨æ‰§è¡Œï¼š
          â”‚
          â””â”€&gt; PLT_SsdpPacketListenerIterator::<span class="hljs-built_in">operator</span>()()
              â”‚
              â””â”€&gt; listener-&gt;<span class="hljs-built_in">OnSsdpPacket</span>(request, context)
                  â”‚
                  â””â”€&gt; PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>()
</code></pre>
<h4 data-id="heading-7">2.2 OnSsdpPacket - DMRè®¾å¤‡æ¥æ”¶å¤„ç†</h4>
<pre><code class="hljs language-scss" lang="scss">PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>(request, context)
{
    <span class="hljs-comment">// 1. æå–è¯·æ±‚ä¿¡æ¯</span>
    â”œâ”€ è·å–è¯·æ±‚è€…IPåœ°å€ï¼šcontext<span class="hljs-selector-class">.GetRemoteAddress</span>()<span class="hljs-selector-class">.GetIpAddress</span>()
    â”œâ”€ è·å–è¯·æ±‚æ–¹æ³•ï¼šrequest<span class="hljs-selector-class">.GetMethod</span>()      <span class="hljs-comment">// åº”è¯¥æ˜¯ "M-SEARCH"</span>
    â”œâ”€ è·å–æœç´¢ç›®æ ‡ï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetST</span>(request)
    â”œâ”€ è·å–å»¶è¿Ÿæ—¶é—´ï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetMX</span>(request)
    â””â”€ è·å–æ‰‹å†Œå­—æ®µï¼šPLT_UPnPMessageHelper::<span class="hljs-built_in">GetMAN</span>(request)
    
    // <span class="hljs-number">2</span>. éªŒè¯è¯·æ±‚æ ¼å¼
    â”œâ”€ éªŒè¯STå­—æ®µä¸ä¸ºç©º
    â”œâ”€ éªŒè¯URLä¸º <span class="hljs-string">"*"</span>
    â”œâ”€ éªŒè¯åè®®ä¸º <span class="hljs-string">"HTTP/1.1"</span>
    â”œâ”€ éªŒè¯MANå¤´ä¸º <span class="hljs-string">"ssdp:discover"</span>
    â””â”€ éªŒè¯MXä¸ä¸º<span class="hljs-number">0</span>
    
    // <span class="hljs-number">3</span>. å…³é”®æ­¥éª¤ï¼šåˆ›å»ºæœç´¢å“åº”ä»»åŠ¡
    â”œâ”€ ç”Ÿæˆéšæœºå»¶è¿Ÿæ—¶é—´ï¼ˆ<span class="hljs-number">0</span>åˆ°MXç§’ä¹‹é—´ï¼‰
    â”‚   â””â”€&gt; ç›®çš„ï¼šé¿å…ç½‘ç»œé£æš´ï¼ˆæ‰€æœ‰è®¾å¤‡åŒæ—¶å›åº”ï¼‰
    â”‚
    â”œâ”€ åˆ›å»º PLT_SsdpDeviceSearchResponseTask å¯¹è±¡
    â”‚   â””â”€&gt; å‚æ•°ï¼š
    â”‚       â”œâ”€ this (PLT_DeviceHost*)
    â”‚       â”œâ”€ context.<span class="hljs-built_in">GetRemoteAddress</span>() (è¯·æ±‚è€…åœ°å€)
    â”‚       â””â”€ *st (æœç´¢ç›®æ ‡ç±»å‹)
    â”‚
    â””â”€ m_TaskManager-&gt;<span class="hljs-built_in">StartTask</span>(task, &amp;timer)
        â””â”€&gt; åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æ³¨å†Œä»»åŠ¡ï¼Œå»¶è¿Ÿæ—¶é—´åæ‰§è¡Œ
}
</code></pre>
<p><strong>å…³é”®é€»è¾‘è¯´æ˜ï¼š</strong></p>
<ul>
<li>M-SEARCHæ˜¯ä¸€ä¸ªå¤šæ’­è¯·æ±‚ï¼ŒDMRéœ€è¦æ£€æŸ¥è¯¥è¯·æ±‚æ˜¯å¦ä¸è‡ªå·±çš„è®¾å¤‡ç±»å‹åŒ¹é…</li>
<li>ä¸ºäº†é¿å…ç½‘ç»œé£æš´ï¼ŒDMRä¸æ˜¯ç«‹å³å›åº”ï¼Œè€Œæ˜¯ç­‰å¾…ä¸€ä¸ªéšæœºçš„å»¶è¿Ÿæ—¶é—´ï¼ˆ0åˆ°MXç§’ï¼‰</li>
<li>æ¯ä¸ªè®¾å¤‡éƒ½éµå¾ªè¿™ä¸ªè§„åˆ™ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç½‘ç»œä¸­çš„ç¢°æ’å’Œæ‹¥å¡</li>
</ul>
<hr/>
<h3 data-id="heading-8">3. æœç´¢å“åº”ä»»åŠ¡æ‰§è¡Œé˜¶æ®µ</h3>
<h4 data-id="heading-9">3.1 å“åº”ä»»åŠ¡æ‰§è¡Œ</h4>
<pre><code class="hljs language-arduino" lang="arduino">PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>()ï¼ˆåœ¨å»¶è¿Ÿåæ‰§è¡Œï¼‰
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œæ¥å£</span>
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">GetNetworkInterfaces</span>(if_list, <span class="hljs-literal">true</span>)
    â”‚   â””â”€&gt; è·å–æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œæ¥å£åˆ—è¡¨
    â”‚
    <span class="hljs-comment">// 2. å¯¹æ¯ä¸ªç½‘ç»œæ¥å£åº”ç”¨è¿­ä»£å™¨</span>
    â””â”€ if_list.<span class="hljs-built_in">Apply</span>(PLT_SsdpDeviceSearchResponseInterfaceIterator)
        â”‚
        â””â”€&gt; ä½¿ç”¨è¯¥è¿­ä»£å™¨å¤„ç†æ¯ä¸ªç½‘ç»œæ¥å£
            ï¼ˆè¯¦è§ä¸‹ä¸€æ­¥ï¼‰
}
</code></pre>
<h4 data-id="heading-10">3.2 ç½‘ç»œæ¥å£è¿­ä»£å’Œå“åº”å‘é€</h4>
<pre><code class="hljs language-scss" lang="scss">PLT_SsdpDeviceSearchResponseInterfaceIterator::<span class="hljs-built_in">operator</span>()(net_if)
{
    <span class="hljs-comment">// ========== ç¬¬1æ­¥ï¼šæ¥å£éªŒè¯ ==========</span>
    â”œâ”€ è·å–ç½‘ç»œæ¥å£çš„åœ°å€åˆ—è¡¨
    â””â”€ å¦‚æœæ¥å£æ²¡æœ‰æœ‰æ•ˆåœ°å€ï¼Œåˆ™è·³è¿‡è¯¥æ¥å£ (return NPT_SUCCESS)
    
    <span class="hljs-comment">// ========== ç¬¬2æ­¥ï¼šæ¥å£é€‰æ‹©ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰ ==========</span>
    â”œâ”€ åˆ›å»ºUDPå¥—æ¥å­— (NPT_UdpSocket socket)
    â”‚
    â”œâ”€ è¿æ¥åˆ°è¯·æ±‚è€…åœ°å€
    â”‚   â””â”€&gt; socket<span class="hljs-selector-class">.Connect</span>(m_RemoteAddr, <span class="hljs-number">5000ms</span>)
    â”‚       
    â”‚       ä½œç”¨ï¼š
    â”‚       â”œâ”€ è®©æ“ä½œç³»ç»Ÿå†…æ ¸é€‰æ‹©åˆé€‚çš„å‡ºç«™ç½‘ç»œæ¥å£
    â”‚       â”œâ”€ ç¡®å®šè¯¥æ¥å£çš„æœ¬åœ°IPåœ°å€
    â”‚       â””â”€ è¿™ä¸ªIPåœ°å€å°†ç”¨äºå“åº”ä¸­çš„Locationå¤´
    â”‚
    â””â”€ è·å–å¥—æ¥å­—ä¿¡æ¯
        â””â”€&gt; socket<span class="hljs-selector-class">.GetInfo</span>(info)
            â””â”€&gt; info<span class="hljs-selector-class">.local_address</span> å°±æ˜¯è¯¥æ¥å£çš„æœ¬åœ°IP
    
    <span class="hljs-comment">// ========== ç¬¬3æ­¥ï¼šæ¥å£åŒ¹é…éªŒè¯ ==========</span>
    â”œâ”€ å¦‚æœæˆåŠŸè·å–äº†æœ¬åœ°åœ°å€ä¿¡æ¯
    â”‚   â””â”€&gt; if (info.local_address.GetIpAddress()<span class="hljs-selector-class">.AsLong</span>())
    â”‚
    â”œâ”€ éªŒè¯å†…æ ¸é€‰æ‹©çš„ç½‘ç»œæ¥å£æ˜¯å¦ä¸å½“å‰éå†çš„æ¥å£åŒ¹é…
    â”‚   â””â”€&gt; if ((*niaddr)<span class="hljs-selector-class">.GetPrimaryAddress</span>() != info<span class="hljs-selector-class">.local_address</span><span class="hljs-selector-class">.GetIpAddress</span>())
    â”‚       â””â”€&gt; å¦‚æœä¸åŒ¹é…ï¼Œè·³è¿‡æ­¤æ¥å£ (return NPT_SUCCESS)
    â”‚
    â””â”€ å¦‚æœåŒ¹é…ï¼Œåˆ™è®¾ç½®remote_addr = NULL
        â””â”€&gt; è¡¨ç¤ºä½¿ç”¨å·²è¿æ¥çš„å¥—æ¥å­—ï¼Œä¸éœ€è¦å†æŒ‡å®šç›®æ ‡åœ°å€
    
    <span class="hljs-comment">// ========== ç¬¬4æ­¥ï¼šæ„å»ºSSDPå“åº” ==========</span>
    â”œâ”€ NPT_HttpResponse <span class="hljs-built_in">response</span>(<span class="hljs-number">200</span>, "OK", NPT_HTTP_PROTOCOL_1_1)
    â”‚   â””â”€&gt; åˆ›å»ºHTTP <span class="hljs-number">200</span>å“åº”
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetLocation</span>(response, device_url)
    â”‚   â””â”€&gt; è®¾ç½®Locationå¤´ï¼ŒåŒ…å«è®¾å¤‡æè¿°æ–‡æ¡£URL
    â”‚       â””â”€&gt; URLä½¿ç”¨æœ¬åœ°IPåœ°å€ï¼šhttp://[local_ip]:port/device.xml
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetLeaseTime</span>(response, lease_time)
    â”‚   â””â”€&gt; è®¾ç½®CACHE-CONTROL max-ageï¼ˆè®¾å¤‡ä¿¡æ¯æœ‰æ•ˆæœŸï¼‰
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetServer</span>(response, server_string)
    â”‚   â””â”€&gt; è®¾ç½®Serverå¤´ï¼Œæ ‡è¯†è®¾å¤‡ç±»å‹å’Œç‰ˆæœ¬
    â”‚
    â”œâ”€ response.<span class="hljs-built_in">GetHeaders</span>().<span class="hljs-built_in">SetHeader</span>(<span class="hljs-string">"EXT"</span>, <span class="hljs-string">""</span>)
    â”‚   â””â”€&gt; è®¾ç½®EXTå¤´ï¼ˆUPnPè§„èŒƒè¦æ±‚ï¼Œä½†å€¼ä¸ºç©ºï¼‰
    â”‚
    â””â”€ ã€å¯é€‰ã€‘æ ¹æ®DLNAè§„èŒƒï¼Œå¯èƒ½å‘é€ä¸¤æ¬¡å“åº”
        â”œâ”€ if (PLATINUM_UPNP_SPECS_STRICT)
        â”‚   â”œâ”€ m_Device-&gt;<span class="hljs-built_in">SendSsdpSearchResponse</span>() [ç¬¬<span class="hljs-number">1</span>æ¬¡]
        â”‚   â”œâ”€ NPT_System::<span class="hljs-built_in">Sleep</span>(DLNA_DELAY) [å»¶è¿Ÿ<span class="hljs-number">200ms</span>]
        â”‚   â””â”€&gt; [ç»§ç»­æ‰§è¡Œç¬¬<span class="hljs-number">2</span>æ¬¡å‘é€]
        â”‚
        â””â”€&gt; m_Device-&gt;<span class="hljs-built_in">SendSsdpSearchResponse</span>() [ç¬¬<span class="hljs-number">2</span>æ¬¡æˆ–å”¯ä¸€æ¬¡]
}
</code></pre>
<hr/>
<h3 data-id="heading-11">4. å“åº”å‘é€é˜¶æ®µ</h3>
<h4 data-id="heading-12">4.1 è®¾ç½®å“åº”å†…å®¹</h4>
<pre><code class="hljs language-rust" lang="rust">PLT_DeviceHost::<span class="hljs-title function_ invoke__">SendSsdpSearchResponse</span>(response, socket, st, addr)
{
    <span class="hljs-comment">// 1. è®¾ç½®UPnP 1.1å¤´ä¿¡æ¯</span>
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-title function_ invoke__">SetBootId</span>(response, device<span class="hljs-punctuation">-&gt;</span>m_BootId)
    â”‚   â””â”€&gt; ç”¨äº<span class="hljs-title function_ invoke__">NTS</span> (Notification Type)
    â”‚
    â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-title function_ invoke__">SetConfigId</span>(response, device<span class="hljs-punctuation">-&gt;</span>m_ConfigId)
    â”‚   â””â”€&gt; UPnP <span class="hljs-number">1.1</span>è§„èŒƒï¼Œé…ç½®ID
    â”‚
    <span class="hljs-comment">// 2. æ ¹æ®æœç´¢ç›®æ ‡ç±»å‹(ST)å†³å®šè¦å‘é€å“ªäº›è®¾å¤‡ä¿¡æ¯</span>
    â””â”€ <span class="hljs-title function_ invoke__">if</span> (ST == <span class="hljs-string">"ssdp:all"</span> || ST == <span class="hljs-string">"upnp:rootdevice"</span>)
        â”œâ”€ å‘é€æ ¹è®¾å¤‡ä¿¡æ¯
        â””â”€ <span class="hljs-title function_ invoke__">if</span> (ST == <span class="hljs-string">"ssdp:all"</span>)
            â”œâ”€ ä¹Ÿå‘é€æœåŠ¡ä¿¡æ¯
            â””â”€ ä¹Ÿå‘é€åµŒå…¥è®¾å¤‡ä¿¡æ¯
}
</code></pre>
<h4 data-id="heading-13">4.2 å‘é€SSDPæœç´¢å“åº”</h4>
<pre><code class="hljs language-arduino" lang="arduino">PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>(response, usn, st, socket, notify=<span class="hljs-literal">false</span>, addr)
{
    <span class="hljs-comment">// 1. æ ¼å¼åŒ–SSDPå“åº”åŒ…</span>
    â”œâ”€ <span class="hljs-built_in">FormatPacket</span>(response, usn, st, socket, notify)
    â”‚   â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetUSN</span>(message, usn)
    â”‚   â”œâ”€ PLT_UPnPMessageHelper::<span class="hljs-built_in">SetST</span>(message, st)
    â”‚   â”‚   â””â”€&gt; notifyä¸º<span class="hljs-literal">false</span>æ—¶è®¾ç½®STï¼ˆæœç´¢ç›®æ ‡ï¼‰
    â”‚   â””â”€&gt; PLT_UPnPMessageHelper::<span class="hljs-built_in">SetDate</span>(message)
    â”‚
    <span class="hljs-comment">// 2. å°†å“åº”åºåˆ—åŒ–ä¸ºå­—èŠ‚æµ</span>
    â”œâ”€ NPT_MemoryStream stream
    â”œâ”€ response.<span class="hljs-built_in">Emit</span>(stream)
    â”‚   â””â”€&gt; å°†HTTPå“åº”å¯¹è±¡åºåˆ—åŒ–ä¸ºåŸå§‹HTTPæ ¼å¼
    â”‚
    <span class="hljs-comment">// 3. æ„é€ æ•°æ®åŒ…å¹¶å‘é€</span>
    â”œâ”€ stream.<span class="hljs-built_in">GetSize</span>(size)
    â”œâ”€ <span class="hljs-function">NPT_DataBuffer <span class="hljs-title">packet</span><span class="hljs-params">(stream.GetData(), size)</span>
    â”‚   â””â”€&gt; ä»å†…å­˜æµåˆ›å»ºæ•°æ®ç¼“å†²åŒº
    â”‚
    â””â”€ socket.<span class="hljs-title">Send</span><span class="hljs-params">(packet, addr)</span>
        â””â”€&gt; é€šè¿‡UDPå¥—æ¥å­—å°†å“åº”å‘é€ç»™è¯·æ±‚è€…
            â”œâ”€ å¦‚æœaddré<span class="hljs-literal">NULL</span>ï¼Œå‘é€åˆ°æŒ‡å®šåœ°å€
            â””â”€ å¦‚æœaddrä¸º<span class="hljs-literal">NULL</span>ï¼Œå‘é€åˆ°å·²è¿æ¥çš„åœ°å€ï¼ˆsocket.Connectå‰ç¼€ï¼‰
}
</span></code></pre>
<hr/>
<h3 data-id="heading-14">5. å®Œæ•´çš„HTTP SSDPå“åº”å†…å®¹ç¤ºä¾‹</h3>
<pre><code class="hljs language-makefile" lang="makefile">HTTP/1.1 200 OK
<span class="hljs-section">CACHE-CONTROL: max-age=1800</span>
<span class="hljs-section">EXT:</span>
<span class="hljs-section">LOCATION: http://192.168.1.100:8008/device.xml</span>
<span class="hljs-section">SERVER: Linux/2.6 UPnP/1.0 Platinum/1.2.0</span>
<span class="hljs-section">BOOTID.UPNP.ORG: 1234567890</span>
<span class="hljs-section">CONFIGID.UPNP.ORG: 1</span>
<span class="hljs-section">ST: upnp:rootdevice</span>
<span class="hljs-section">USN: uuid:device-uuid::upnp:rootdevice</span>

[ç©ºæ¶ˆæ¯ä½“]
</code></pre>
<hr/>
<h3 data-id="heading-15">6. å…³é”®ç±»å’Œæ¥å£å…³ç³»å›¾</h3>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DMCå‘é€M-SEARCHå¤šæ’­è¯·æ±‚                                   â”‚
â”‚  UDPå¤šæ’­åœ°å€: <span class="hljs-number">239.255</span>.<span class="hljs-number">255.250</span>:<span class="hljs-number">1900</span>                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpListenTask (è¿è¡Œåœ¨åå°ä»»åŠ¡çº¿ç¨‹)                   â”‚
â”‚  - ç›‘å¬SSDPå¤šæ’­å¥—æ¥å­—                                       â”‚
â”‚  - æ¥æ”¶M-SEARCHè¯·æ±‚å¹¶è§£æ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()                        â”‚
â”‚  - è°ƒç”¨æ‰€æœ‰å·²æ³¨å†Œçš„SSDPç›‘å¬å™¨                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>() (DMRè®¾å¤‡å¤„ç†)               â”‚
â”‚  - è§£æM-SEARCHè¯·æ±‚                                         â”‚
â”‚  - éªŒè¯è¯·æ±‚æ ¼å¼                                             â”‚
â”‚  - åˆ›å»ºæœç´¢å“åº”ä»»åŠ¡                                         â”‚
â”‚  - æ³¨å†Œåˆ°ä»»åŠ¡ç®¡ç†å™¨ï¼ˆå¸¦éšæœºå»¶è¿Ÿï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
         éšæœºå»¶è¿Ÿ(<span class="hljs-number">0</span>~MXç§’)   â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>() (å»¶è¿Ÿåæ‰§è¡Œ)    â”‚
â”‚  - è·å–æ‰€æœ‰æ´»è·ƒç½‘ç»œæ¥å£                                     â”‚
â”‚  - åº”ç”¨è¿­ä»£å™¨å¤„ç†æ¯ä¸ªæ¥å£                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    (å¯¹æ¯ä¸ªæ¥å£)
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpDeviceSearchResponseInterfaceIterator::<span class="hljs-built_in">operator</span>()  â”‚
â”‚  - é€šè¿‡UDPè¿æ¥ç¡®å®šå‡ºç«™æ¥å£                                  â”‚
â”‚  - éªŒè¯æ¥å£åŒ¹é…æ€§                                           â”‚
â”‚  - æ„å»ºHTTP <span class="hljs-number">200</span>å“åº”ï¼ˆåŒ…å«Locationã€ç¼“å­˜æ—¶é—´ç­‰ï¼‰            â”‚
â”‚  - ã€å¯é€‰ã€‘DLNAè§„èŒƒä¸‹å‘é€ä¸¤æ¬¡                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>()                                 â”‚
â”‚  - æ ¼å¼åŒ–SSDPå“åº”åŒ…                                         â”‚
â”‚  - åºåˆ—åŒ–HTTPå“åº”                                           â”‚
â”‚  - é€šè¿‡UDPå¥—æ¥å­—å‘é€                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UDP Socket.<span class="hljs-built_in">Send</span>()                                          â”‚
â”‚  - å‘é€å“åº”ç»™è¯·æ±‚è€…çš„IPå’Œç«¯å£                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   DMCæ¥æ”¶å“åº”          â”‚
              â”‚ è·å–Location URL       â”‚
              â”‚ ä¸‹è½½è®¾å¤‡æè¿°æ–‡æ¡£      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-16">7. é‡è¦çš„è®¾è®¡è€ƒè™‘</h3>
<h4 data-id="heading-17">7.1 ä¸ºä»€ä¹ˆè¦å»¶è¿Ÿå“åº”ï¼Ÿ</h4>
<ul>
<li><strong>é˜²æ­¢ç½‘ç»œé£æš´</strong>ï¼šå¤šä¸ªè®¾å¤‡åŒæ—¶æ”¶åˆ°M-SEARCHï¼Œå¦‚æœç«‹å³å›åº”ä¼šé€ æˆå¤§é‡æ•°æ®ç¢°æ’</li>
<li><strong>éšæœºå»¶è¿Ÿ</strong>ï¼šæ¯ä¸ªè®¾å¤‡å»¶è¿Ÿ 0 ~ MX ç§’ï¼Œè¿™æ ·å“åº”ä¼šåˆ†æ•£å¼€æ¥</li>
<li><strong>MXå‚æ•°</strong>ï¼šDMCåœ¨M-SEARCHä¸­æŒ‡å®šMXå€¼ï¼Œè®¾å¤‡æ®æ­¤è®¡ç®—å»¶è¿Ÿ</li>
</ul>
<h4 data-id="heading-18">7.2 ä¸ºä»€ä¹ˆè¦å¤šæ¬¡éå†ç½‘ç»œæ¥å£ï¼Ÿ</h4>
<ul>
<li><strong>å¤šç½‘å¡åœºæ™¯</strong>ï¼šä¸€ä¸ªDMRå¯èƒ½æœ‰å¤šä¸ªç½‘ç»œæ¥å£ï¼ˆä»¥å¤ªç½‘ã€WiFiç­‰ï¼‰</li>
<li><strong>æ­£ç¡®çš„Location IP</strong>ï¼šå¿…é¡»ä½¿ç”¨å°†æ•°æ®å‘é€ç»™è¯·æ±‚è€…çš„é‚£ä¸ªæ¥å£çš„IPåœ°å€</li>
<li><strong>å†…æ ¸é€‰æ‹©</strong>ï¼šé€šè¿‡socket.Connect()è®©OSå†…æ ¸é€‰æ‹©åˆé€‚çš„å‡ºç«™æ¥å£</li>
</ul>
<h4 data-id="heading-19">7.3 ä¸ºä»€ä¹ˆè¦å‘é€ä¸¤æ¬¡ï¼ˆDLNAè§„èŒƒï¼‰ï¼Ÿ</h4>
<ul>
<li><strong>DLNAå…¼å®¹æ€§</strong>ï¼šæŸäº›DLNAè®¾å¤‡éœ€è¦æ¥æ”¶ä¸¤æ¬¡å“åº”æ¥ç¡®ä¿æ”¶åˆ°</li>
<li><strong>é—´éš”å»¶è¿Ÿ</strong>ï¼šä¸¤æ¬¡å“åº”ä¹‹é—´å»¶è¿Ÿçº¦200msï¼ˆPLT_DLNA_SSDP_DELAY_GROUPï¼‰</li>
<li><strong>å¯é€‰æ¡ä»¶</strong>ï¼šä»…å½“ç¼–è¯‘æ—¶å®šä¹‰äº†PLATINUM_UPNP_SPECS_STRICTæ—¶</li>
</ul>
<h4 data-id="heading-20">7.4 USNå’ŒSTçš„åŒºåˆ«</h4>
<ul>
<li><strong>STï¼ˆSearch Targetï¼‰</strong>ï¼šæœç´¢ç›®æ ‡ï¼Œåœ¨M-SEARCHè¯·æ±‚ä¸­æŒ‡å®š
<ul>
<li><code>ssdp:all</code> - æœç´¢æ‰€æœ‰è®¾å¤‡å’ŒæœåŠ¡</li>
<li><code>upnp:rootdevice</code> - ä»…æœç´¢æ ¹è®¾å¤‡</li>
<li><code>urn:schemas-upnp-org:device:MediaRenderer:1</code> - æœç´¢ç‰¹å®šè®¾å¤‡ç±»å‹</li>
</ul>
</li>
<li><strong>USNï¼ˆUnique Service Nameï¼‰</strong>ï¼šå“åº”ä¸­çš„å”¯ä¸€æœåŠ¡åæ ‡è¯†
<ul>
<li><code>uuid:device-uuid::upnp:rootdevice</code></li>
<li><code>uuid:device-uuid::urn:schemas-upnp-org:device:MediaRenderer:1</code></li>
<li><code>uuid:device-uuid::urn:schemas-upnp-org:service:RenderingControl:1</code></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-21">8. ä»£ç æµè¿½è¸ªæ€»ç»“</h3>
<pre><code class="hljs language-arduino" lang="arduino">ç½‘ç»œæ¥æ”¶
  â†“
PLT_SsdpListenTask ç›‘å¬UDPå¤šæ’­
  â†“
æ¥æ”¶åˆ°M-SEARCHè¯·æ±‚
  â†“
PLT_SsdpListenTask::<span class="hljs-built_in">SetupResponse</span>()
  â†“
é€šçŸ¥æ‰€æœ‰ç›‘å¬å™¨ â†’ PLT_DeviceHost::<span class="hljs-built_in">OnSsdpPacket</span>()
  â†“
éªŒè¯è¯·æ±‚+åˆ›å»ºå“åº”ä»»åŠ¡
  â†“
ä»»åŠ¡ç®¡ç†å™¨â†’å»¶è¿Ÿæ‰§è¡Œ
  â†“
PLT_SsdpDeviceSearchResponseTask::<span class="hljs-built_in">DoRun</span>()
  â†“
éå†ç½‘ç»œæ¥å£â†’PLT_SsdpDeviceSearchResponseInterfaceIterator
  â†“
é€‰æ‹©æ­£ç¡®æ¥å£+æ„å»ºHTTP200å“åº”
  â†“
PLT_SsdpSender::<span class="hljs-built_in">SendSsdp</span>()
  â†“
UDP Socketå‘é€å“åº”
  â†“
DMCæ¥æ”¶å“åº”å¹¶è§£æ
</code></pre>
<hr/>
<h3 data-id="heading-22">9. å‚è€ƒçš„å…³é”®æºæ–‡ä»¶</h3>
<ul>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltSsdp.h" target="_blank" title="Platinum/Core/PltSsdp.h" ref="nofollow noopener noreferrer">PltSsdp.h</a> - SSDPç±»å®šä¹‰</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltSsdp.cpp" target="_blank" title="Platinum/Core/PltSsdp.cpp" ref="nofollow noopener noreferrer">PltSsdp.cpp</a> - SSDPå®ç°ï¼ˆå«æœç´¢å“åº”è¿­ä»£å™¨ï¼‰</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceHost.h" target="_blank" title="Platinum/Core/PltDeviceHost.h" ref="nofollow noopener noreferrer">PltDeviceHost.h</a> - è®¾å¤‡ä¸»æœºæ¥å£</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceHost.cpp" target="_blank" title="Platinum/Core/PltDeviceHost.cpp" ref="nofollow noopener noreferrer">PltDeviceHost.cpp</a> - OnSsdpPacketå®ç°</li>
<li><a href="https://link.juejin.cn?target=Platinum%2FCore%2FPltDeviceData.h" target="_blank" title="Platinum/Core/PltDeviceData.h" ref="nofollow noopener noreferrer">PltDeviceData.h</a> - è®¾å¤‡æ•°æ®ç»“æ„</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsä¸­çš„usingå£°æ˜]]></title>    <link>https://juejin.cn/post/7592423411563233306</link>    <guid>https://juejin.cn/post/7592423411563233306</guid>    <pubDate>2026-01-07T10:25:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592423411563233306" data-draft-id="7531888107878023203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsä¸­çš„usingå£°æ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T10:25:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsä¸­çš„usingå£°æ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:25:48.000Z" title="Wed Jan 07 2026 10:25:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€<code>using</code> å£°æ˜ç®€ä»‹</h2>
<p><code>using</code> æ˜¯ <strong>ECMAScript 2023ï¼ˆES14ï¼‰</strong> å¼•å…¥çš„ä¸€é¡¹æ–°è¯­æ³•ï¼Œç”¨äº<strong>è‡ªåŠ¨ç®¡ç†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚<br/>
å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯ç®€åŒ–â€œèµ„æºä½¿ç”¨å®Œåè‡ªåŠ¨é‡Šæ”¾â€çš„åœºæ™¯ï¼Œä¾‹å¦‚æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ã€é”ç­‰ã€‚
ç›¸å…³ææ¡ˆå¯è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-using-enforcement" target="_blank" title="https://github.com/tc39/proposal-using-enforcement" ref="nofollow noopener noreferrer">github.com/tc39/proposâ€¦</a></p>
<p>ğŸ“œ <strong>è¯­æ³•ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> å˜é‡å = è¡¨è¾¾å¼;
<span class="hljs-keyword">await</span> <span class="hljs-keyword">using</span> å˜é‡å = å¼‚æ­¥è¡¨è¾¾å¼;
</code></pre>
<p><code>using</code> å£°æ˜çš„å˜é‡å¿…é¡»æ˜¯ä¸€ä¸ªå®ç°äº† <strong><code>Symbol.dispose</code></strong> æˆ– <strong><code>Symbol.asyncDispose</code></strong> æ–¹æ³•çš„å¯¹è±¡ã€‚<br/>
å½“ä½œç”¨åŸŸé€€å‡ºï¼ˆæ— è®ºæ˜¯æ­£å¸¸è¿”å›è¿˜æ˜¯å¼‚å¸¸ï¼‰æ—¶ï¼ŒJS å¼•æ“ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•é‡Šæ”¾èµ„æºã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-2">åŒæ­¥ç‰ˆæœ¬</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">File</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰“å¼€æ–‡ä»¶: <span class="hljs-subst">${name}</span>`</span>);
  }
  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å…³é—­æ–‡ä»¶: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  using f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"data.txt"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¯»å–æ–‡ä»¶ä¸­..."</span>);
}

<span class="hljs-title function_">main</span>();
<span class="hljs-comment">// è¾“å‡ºï¼š</span>
<span class="hljs-comment">// æ‰“å¼€æ–‡ä»¶: data.txt</span>
<span class="hljs-comment">// è¯»å–æ–‡ä»¶ä¸­...</span>
<span class="hljs-comment">// å…³é—­æ–‡ä»¶: data.txt</span>
</code></pre>
<blockquote>
<p>âš¡ å½“ <code>main()</code> æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œ<code>f</code> ç¦»å¼€ä½œç”¨åŸŸï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ <code>f[Symbol.dispose]()</code>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">å¼‚æ­¥ç‰ˆæœ¬</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncResource</span> {
  <span class="hljs-keyword">async</span> [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncDispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¼‚æ­¥é‡Šæ”¾èµ„æº..."</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(res, <span class="hljs-number">1000</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"èµ„æºå·²é‡Šæ”¾"</span>);
  }
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> using r = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncResource</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä½¿ç”¨å¼‚æ­¥èµ„æºä¸­..."</span>);
}

<span class="hljs-title function_">run</span>();
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å†…éƒ¨æœºåˆ¶ç®€æ</h2>
<ul>
<li>
<p><code>using</code> æ˜¯ <strong>è¯æ³•ä½œç”¨åŸŸç»‘å®š</strong>ï¼ˆå’Œ <code>let</code>/<code>const</code> ç±»ä¼¼ï¼‰ã€‚</p>
</li>
<li>
<p>ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯åŒæ­¥èµ„æº â†’ è°ƒç”¨ <code>[Symbol.dispose]()</code></li>
<li>å¦‚æœæ˜¯å¼‚æ­¥èµ„æº â†’ è°ƒç”¨ <code>[Symbol.asyncDispose]()</code></li>
</ul>
</li>
<li>
<p>å®ƒå¯ä»¥å’Œ <code>try</code>ã€<code>catch</code>ã€<code>finally</code> ä¸€èµ·å®‰å…¨ä½¿ç”¨ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€ä½¿ç”¨åœºæ™¯</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>ä¼ ç»Ÿåšæ³•</th><th>æ–°å†™æ³•ï¼ˆusingï¼‰</th></tr></thead><tbody><tr><td>æ–‡ä»¶æ“ä½œ</td><td>try/finally æ‰‹åŠ¨å…³é—­</td><td>è‡ªåŠ¨è°ƒç”¨ dispose</td></tr><tr><td>æ•°æ®åº“è¿æ¥</td><td>æ‰‹åŠ¨æ–­å¼€</td><td>è‡ªåŠ¨é‡Šæ”¾è¿æ¥</td></tr><tr><td>ä¸´æ—¶é”</td><td>try/finally é‡Šæ”¾é”</td><td>ç¦»å¼€ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">äº”ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><code>using</code> <strong>åªèƒ½åœ¨æ¨¡å—æˆ–å‡½æ•°ä½œç”¨åŸŸä¸­ä½¿ç”¨</strong>ï¼Œä¸èƒ½åœ¨å…¨å±€ä½œç”¨åŸŸç›´æ¥å£°æ˜ã€‚</li>
<li>ä¸èƒ½ä¸ <code>var</code> å…±ç”¨ã€‚</li>
<li>ä¸ä¼šå½±å“ GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼Œå®ƒåªæ˜¯æä¾›<strong>ç»“æ„åŒ–é‡Šæ”¾èµ„æº</strong>çš„æœºåˆ¶ã€‚</li>
</ol>
<h2 data-id="heading-7">å…­ã€å®è·µdemoâ€”â€”ç®€åŒ–revokeObjectURL</h2>
<p>åœ¨å›¾ç‰‡å›æ˜¾/æ–‡ä»¶ä¸‹è½½ç­‰åœºæ™¯ä¸­ï¼Œå¼€å‘å¾ˆå®¹æ˜“å¿˜è®°<code>revokeObjectURL</code>,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>using</code>ç‰¹æ€§è¿›è¡Œå°è£…ï¼Œæ¶ˆé™¤<code>revokeObjectURL</code>çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚</p>
<p>å°±æ¯”å¦‚ä¸Šä¼ å›¾ç‰‡åå›æ˜¾çš„æ“ä½œï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸš€ using demo å¯åŠ¨...'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">objectURLResource</span>(<span class="hljs-params">blob</span>) {
    <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ†• åˆ›å»º URL:'</span>, url);
    <span class="hljs-keyword">return</span> {
        url,
          [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é‡Šæ”¾èµ„æº..."</span>);
            <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
            
        },
        <span class="hljs-comment">// [Symbol.dispose]() {</span>
        <span class="hljs-comment">//     console.log("é‡Šæ”¾èµ„æº...");</span>
        <span class="hljs-comment">//     new Promise(resolve =&gt; setTimeout(resolve, 1000)).then(()=&gt;{</span>
        <span class="hljs-comment">//         URL.revokeObjectURL(url);</span>
        <span class="hljs-comment">//         console.log('ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:', url);</span>
        <span class="hljs-comment">//     })</span>
            
        <span class="hljs-comment">// },</span>
          <span class="hljs-keyword">async</span> [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncDispose</span>]() {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¼‚æ­¥é‡Šæ”¾èµ„æº..."</span>);
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">3000</span>)); <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ</span>
            <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
        },
    };
}



<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showImage</span>(<span class="hljs-params">blob</span>) {
    <span class="hljs-comment">// await using resource = objectURLResource(blob);</span>
    using resource = <span class="hljs-title function_">objectURLResource</span>(blob);
    <span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
    img.<span class="hljs-property">src</span> = resource.<span class="hljs-property">url</span>;
    img.<span class="hljs-property">alt</span> = <span class="hljs-string">'demo'</span>;
    <span class="hljs-keyword">const</span> { resolve, promise } = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">withResolvers</span>()
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">resolve</span>()
    }
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(img);
    <span class="hljs-keyword">await</span> promise;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ… æ¼”ç¤ºå®Œæ¯•ï¼ŒURL å°†è¢«è‡ªåŠ¨ revoke'</span>);
}
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'#file'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>,<span class="hljs-keyword">async</span> (e) =&gt; {
    <span class="hljs-keyword">const</span> f = e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>]
   <span class="hljs-keyword">await</span> <span class="hljs-title function_">showImage</span>(f);
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'do others...    '</span>)

})

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85a10c9e0fb44bcf92ace642a19898a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=n82HBvEQsoDr3ubfCEec6oqKuDE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">revokeObjectURLçš„æ³¨æ„äº‹é¡¹</h3>
<p>å½“imgåŠ è½½åï¼Œæ‰§è¡Œ<code>revokeObjectURL</code>å¹¶ä¸ä¼šå½±å“å†…å®¹æ˜¾ç¤ºï¼Œä½†å¦‚æœimgæœªåŠ è½½å®Œå°±æ‰§è¡Œäº†<code>revokeObjectURL</code>ï¼Œåˆ™æ— æ³•æ˜¾ç¤ºå›¾ç‰‡ã€‚å› æ­¤ä»¥ä¸Šdemoä¸­å¢åŠ äº†<code>await promise</code>çš„å¤„ç†ï¼Œç¡®ä¿å›¾ç‰‡è¢«æ˜¾ç¤ºå‡ºæ¥ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e581b6c97c9406c9cfd14f00ebc20a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=7uh9OAdRX7WaWapeSpY7QrSN8Yc%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆå¯èƒ½ä¼šæœ‰äººé—®ï¼Œæ­¤å¤„èƒ½å¦ç”¨<code>Symbol.asyncDispose</code>æ¥è§£å†³è¯¥é—®é¢˜ï¼Ÿç­”æ¡ˆæ˜¯ä¸èƒ½ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é—®é¢˜ï¼Œè§¦åŠåˆ°äº†
<code>Symbol.asyncDispose</code>ä¸<code>Symbol.dispose</code>çš„æ ¹æœ¬åŒºåˆ«.</p>
<h2 data-id="heading-9">ä¸ƒã€Symbol.asyncDisposeä¸Symbol.disposeçš„åŒºåˆ«</h2>
<p>è¡¨é¢ä¸Šçœ‹ï¼Œä»¥ä¸Šdemoä¸­å¦‚æœå†™æˆ<code>await using resource = objectURLResource(blob);</code>ï¼Œé‡Šæ”¾èµ„æºç”¨çš„æ˜¯<code>Symbol.asyncDispose</code>ï¼Œå¦‚æœä¸åŠ <code>await</code>ï¼Œåˆ™è°ƒç”¨<code>Symbol.dispose</code>ã€‚</p>
<p>å¼‚æ­¥é‡Šæ”¾ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c06c4140e25f4b4c89fd4ddd0d6997bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=RGnOX6ZQdZrhrCH8sc3F%2Bh8dttE%3D" alt="å¼‚æ­¥é‡Šæ”¾" loading="lazy"/></p>
<p>é‚£ä¹ˆè¿™ä¸¤ä¸ªapiçš„ä½¿ç”¨åœºæ™¯åˆ†åˆ«æ˜¯å•¥å‘¢ï¼Ÿæˆ‘ä»¬ä¸å¦¨åœ¨åŒæ­¥é‡Šæ”¾ä¸­å†™ä¸‹å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">dispose</span>]() {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é‡Šæ”¾èµ„æº..."</span>);
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>)).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">revokeObjectURL</span>(url);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ è‡ªåŠ¨é‡Šæ”¾ URL:'</span>, url);
    })
},
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9884740a6cbe43398f665f3475f63890~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768386347&amp;x-signature=93S5o31ix4f%2B8B1Sf5Hj8PABNIw%3D" alt="image.png" loading="lazy"/>
å¯ä»¥çœ‹åˆ°ï¼Œ<code>do others...</code>åœ¨é‡Šæ”¾å®Œæˆå‰å°±æ‰§è¡Œäº†ã€‚</p>
<p>å› æ­¤å¯ä»¥ç†è§£ï¼š<code>Symbol.asyncDispose</code>æ˜¯ä¸ºäº†è®©åç»­çš„ä»£ç ç­‰å¾…å¼‚æ­¥é‡Šæ”¾å®Œæˆåå†æ‰§è¡Œï¼Œå› ä¸ºæœ‰äº›é‡Šæ”¾åœºæ™¯ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œioæˆ–å…¶ä»–å¼‚æ­¥æ ¡éªŒï¼Œè€Œ<code>Symbol.dispose</code>é‡Šæ”¾è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œåç»­ä»£ç æ‰§è¡Œæ—¶å¯ä»¥è®¤ä¸ºèµ„æºå·²ç»è¢«é‡Šæ”¾äº†ã€‚å¦‚æœåç»­ä»£ç æ‰§è¡Œæ—¶å¹¶ä¸å…³å¿ƒè¯¥èµ„æºæ˜¯å¦å·²ç»é‡Šæ”¾äº†ï¼Œé‚£ä½¿ç”¨<code>Symbol.dispose</code>å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7592431064976228367</link>    <guid>https://juejin.cn/post/7592431064976228367</guid>    <pubDate>2026-01-07T09:46:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592431064976228367" data-draft-id="7592431064976211983" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2026-01-07T09:46:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dragonZhang"/> <meta itemprop="url" content="https://juejin.cn/user/1684908923689773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Agent Skills çš„ UI é‡æ„å®è·µï¼šä» Demo åˆ°ä¸»é¢˜åŒ–ç•Œé¢çš„å‡çº§ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1684908923689773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dragonZhang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:46:24.000Z" title="Wed Jan 07 2026 09:46:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">é‡æ„ç¼˜èµ·ï¼šä¸ºä»€ä¹ˆé€‰æ‹© Agent Skills ä¼˜åŒ– UI</h2>

<h3 data-id="heading-1">ä»ä¸€ä¸ªå° Demo å¼€å§‹</h3>
<p>æœ€è¿‘æ­£åœ¨è¯»ã€Šç™¾ä¸‡å¯Œç¿å¿«è½¦é“ã€‹ï¼Œé‡Œé¢æœ‰ä¸ªè§‚ç‚¹æ˜¯é€šè¿‡å·¥ä½œæ”¶å…¥ &amp; æŠ•èµ„å¤åˆ©ï¼Œè¦å®ç°è´¢å¯Œè‡ªç”±éœ€è¦éå¸¸ä¹…çš„æ—¶é—´ï¼Œäºæ˜¯å¿ƒè¡€æ¥æ½®ï¼Œç”¨ AI åšäº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fsavings.abrdns.com%2Fzh" target="_blank" title="https://savings.abrdns.com/zh" ref="nofollow noopener noreferrer">ç§¯è“„æ¨¡æ‹Ÿå™¨</a>ï¼ˆå®Œå…¨å¼€æºï¼Œæ¬¢è¿æ¥è¯•è¯•çœ‹ï¼‰ï¼Œçœ‹çœ‹è‡ªå·±æœªæ¥æ”¶å…¥çš„å˜åŒ–ã€‚åˆç‰ˆçš„ UI å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de5934b4ee734e37b82de1b67d1b72f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=eTpI%2FLEpLcDnzwfy%2Bw8HN2q2lTg%3D" alt="" loading="lazy"/></p>
<p>éå¸¸å…¸å‹çš„ AI é£ï¼Œå¯¹å§ï¼Œæ—¢ä¸é«˜çº§ä¹Ÿä¸å¸ç›ï¼Œä¸é‡‘èè´¢å¯Œç±»ç½‘é¡µçš„ä¸»é¢˜è°ƒæ€§ä¹Ÿç›¸å»ç”šè¿œã€‚ä¸ºæ­¤ï¼Œæˆ‘å°è¯•å¼•å…¥ <strong>Agent Skills</strong> å¯¹é¡µé¢è¿›è¡Œé‡æ„ï¼Œä¼˜åŒ–åçš„ UI æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39d9ed86cf9d4319a0f3e9df6241084e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=tjQrI9119NkOOdQK9AbKEjBxGJU%3D" alt="" loading="lazy"/></p>
<p>é‡æ„åçš„ç•Œé¢ä¸ä»…ç¾è§‚åº¦æ˜¾è‘—æå‡ï¼Œé£æ ¼ä¹Ÿä¸é‡‘èè´¢å¯Œçš„ä¸»é¢˜é«˜åº¦å¥‘åˆã€‚é‚£ä¹ˆï¼Œ<strong>Agent Skills ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</strong> æˆ‘åˆä¸ºä½•é€‰æ‹©å®ƒæ¥å®Œæˆæœ¬æ¬¡ UI é‡æ„å·¥ä½œï¼Ÿæ¥ä¸‹æ¥å°†é€ä¸€è§£ç­”ã€‚</p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">Agent Skills</a>ï¼ˆåˆç§° Claude Skillsï¼Œç®€ç§° Skillsï¼‰æ˜¯ Anthropic åœ¨ 2025 å¹´ 10 æœˆ 16 å·å‘å¸ƒçš„ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">åŠŸèƒ½</a>ï¼Œå¹¶åœ¨ 2025 å¹´ 12 æœˆ 18 æ—¥å‘å¸ƒä¸ºè·¨å¹³å°çš„å¼€æ”¾æ ‡å‡†ï¼Œæˆä¸º MCP ä¹‹ååˆä¸€è¢«å„å®¶ AI å¤§å‚çº·çº·æ”¯æŒçš„æ–°æ ‡å‡†ã€‚</p>
<p>è¯¥æ ‡å‡†çš„è®¾è®¡åˆè¡·ï¼Œæ˜¯ä¸ºäº†å¼¥è¡¥é€šç”¨æ™ºèƒ½ä½“åœ¨å¤„ç†ç‰¹å®šé¢†åŸŸä»»åŠ¡æ—¶ï¼Œå¯¹<strong>è¿‡ç¨‹æ€§çŸ¥è¯†</strong>ä¸<strong>ç»„ç»‡ä¸Šä¸‹æ–‡</strong>çš„æŒæ¡ä¸è¶³ã€‚ç®€å•æ¥è¯´ï¼ŒAgent Skills æ˜¯ä¸€ä¸ªåŒ…å«æŒ‡ä»¤ã€è„šæœ¬ä¸èµ„æºçš„ç»“æ„åŒ–ç›®å½•ï¼Œèƒ½å¤Ÿè®©æ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡éœ€æ±‚ï¼ŒåŠ¨æ€å‘ç°å¹¶åŠ è½½å¯¹åº”çš„ä¸“ä¸šèƒ½åŠ›åŒ…ã€‚</p>
<p>æ¯ä¸ª Skill çš„æ ¸å¿ƒè½½ä½“æ˜¯ä¸€ä¸ªåä¸º <code>SKILL.md</code> çš„æ–‡ä»¶ï¼Œå…¶ç»“æ„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>å…ƒæ•°æ®ï¼ˆYAML Frontmatterï¼‰ï¼šæ–‡ä»¶å¼€å¤´åŒ…å«æŠ€èƒ½çš„åç§°å’Œæè¿°ã€‚ æ™ºèƒ½ä½“åœ¨å¯åŠ¨æ—¶ä¼šé¢„åŠ è½½è¿™äº›å…ƒæ•°æ®ï¼Œä»¥ä¾¿åœ¨é‡åˆ°ç›¸å…³ä»»åŠ¡æ—¶è¯†åˆ«å¹¶è§¦å‘è¯¥æŠ€èƒ½ã€‚</li>
<li>å¤šå±‚çº§å†…å®¹ï¼šæŠ€èƒ½ç›®å½•å¯ä»¥åŒ…å«å¤šä¸ªæ–‡ä»¶ï¼ˆå¦‚ .md æ–‡æ¡£æˆ–è„šæœ¬ï¼‰ã€‚ è¿™ç§è®¾è®¡å…è®¸ä½œè€…å°†å¤æ‚çš„æŒ‡ä»¤æ‹†åˆ†ï¼Œä»…åœ¨éœ€è¦æ—¶è®©æ™ºèƒ½ä½“è¯»å–ç‰¹å®šéƒ¨åˆ†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a682b0848cb48c6a868b58c9c8f7387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=ygHwqPvzzitudIng5%2FpJmrOxlBs%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æœ€å¤§åŒ–èŠ‚çº¦ Token èµ„æºï¼ŒSkills é‡‡ç”¨<strong>ä¸‰å±‚å¼æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰</strong> æœºåˆ¶ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li>Level 1: Metadataã€‚ä¼šåœ¨ Coding Agent å†·å¯åŠ¨æ—¶åŠ è½½åˆ° System Prompt ä¸­ã€‚</li>
<li>Level 2: Instructionsã€‚å½“è¯·æ±‚çš„å†…å®¹ä¸æŠ€èƒ½æè¿°ç›¸ç¬¦æ—¶ï¼ŒCoding Agent ä¼šé€šè¿‡ bash ä»æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å– SKILL.md æ–‡ä»¶ã€‚åªæœ‰è¿™æ ·ï¼Œè¯¥æ–‡ä»¶çš„å†…å®¹æ‰ä¼šæ˜¾ç¤ºåœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­ã€‚</li>
<li>Level 3: Resources and codeã€‚ä»…åœ¨è¢«å¼•ç”¨æ—¶æ‰ä¼šè®¿é—®è¿™äº›æ–‡ä»¶ï¼ŒæŒ‡ä»¤æä¾›çµæ´»çš„æŒ‡å¯¼ï¼Œä»£ç æä¾›å¯é æ€§ï¼Œèµ„æºç”¨äºäº‹å®æŸ¥æ‰¾ï¼Œç¡®ä¿åœ¨ä»»ä½•ç»™å®šæ—¶é—´ï¼Œä¸Šä¸‹æ–‡çª—å£ä¸­åªæ˜¾ç¤ºç›¸å…³å†…å®¹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b48745fc673490bbca0a7195ccfb20b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=PIIl5zPfTtWueAeNTp%2FEKrRTrBI%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°ç†è§£ Skills çš„å®šä½ï¼Œæˆ‘ä»¬å°†å…¶ä¸ç›¸ä¼¼æŠ€æœ¯æ¦‚å¿µè¿›è¡Œå¯¹æ¯”ï¼š</p>

































<table><thead><tr><th>å¯¹æ¯”å¯¹è±¡</th><th>æ ¸å¿ƒå·®å¼‚ç‚¹</th></tr></thead><tbody><tr><td>æç¤ºè¯æ–‡ä»¶ï¼ˆå¦‚ Claude.mdã€Agent.mdï¼‰</td><td>1.  åŠ è½½æœºåˆ¶ï¼šæç¤ºè¯æ–‡ä»¶åœ¨å¯¹è¯åˆæœŸå³å…¨éƒ¨è½½å…¥ä¸Šä¸‹æ–‡ï¼Œæ— è®ºæ˜¯å¦éœ€è¦å‡å ç”¨ Tokenï¼›2.  åŠŸèƒ½è¾¹ç•Œï¼šSkills æ”¯æŒæ†ç»‘ Python è„šæœ¬ã€Bash å·¥å…·ç­‰å¯æ‰§è¡Œèµ„æºï¼Œæç¤ºè¯æ–‡ä»¶ä»…ä¸ºçº¯æ–‡æœ¬æŒ‡ä»¤ã€‚</td></tr><tr><td>è‡ªå®šä¹‰å‘½ä»¤ï¼ˆCustom Commandï¼‰/ Slash Command</td><td>1.  è§¦å‘æ–¹å¼ï¼šSlash Command éœ€ç”¨æˆ·æ‰‹åŠ¨è§¦å‘ï¼ŒSkills ç”±æ™ºèƒ½ä½“æ ¹æ®ä»»åŠ¡éœ€æ±‚è‡ªä¸»å‘ç°å¹¶è°ƒç”¨ï¼›2.  æ‰©å±•æ€§ï¼šSkills å°è£…æ€§æ›´å¼ºï¼Œæ”¯æŒè·¨æŠ€èƒ½è°ƒç”¨ï¼Œå¤ç”¨ä¸åˆ†äº«æ›´ä¾¿æ·ã€‚</td></tr><tr><td>MCP</td><td>1.  å®šä½äº’è¡¥ï¼šMCP æ˜¯é€šä¿¡åè®®ï¼Œè§£å†³ â€œè¿æ¥å¤–éƒ¨å·¥å…·ä¸æ•°æ®æºâ€ çš„é—®é¢˜ï¼ˆå³ â€œæœ‰ä»€ä¹ˆå·¥å…·â€ï¼‰ï¼›2.  åŠŸèƒ½ä¾§é‡ï¼šSkills èšç„¦äº â€œæ•™æˆæ™ºèƒ½ä½“å¦‚ä½•ä½¿ç”¨å·¥å…·å®Œæˆå¤æ‚ä¸šåŠ¡æµç¨‹â€ï¼Œç›¸å½“äº MCP å·¥å…·ç®±çš„ â€œä½¿ç”¨è¯´æ˜ä¹¦â€ ä¸ â€œæœ€ä½³å®è·µæŒ‡å—â€ã€‚</td></tr><tr><td>Subagents</td><td>Subagents æ˜¯ç‹¬ç«‹çš„ LLM å®ä¾‹ï¼Œæ‹¥æœ‰ä¸“å±ä¸Šä¸‹æ–‡çª—å£ï¼Œç”±ä¸»æ™ºèƒ½ä½“åè°ƒå¹¶è¡Œå·¥ä½œï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯å®ç°ä¸Šä¸‹æ–‡éš”ç¦»ä»¥èŠ‚çº¦ Tokenï¼Œä¸ Skills çš„èƒ½åŠ›å°è£…å®šä½ä¸åŒã€‚</td></tr><tr><td>Plugins</td><td>Plugins æ˜¯ Claude Code å¯¹å¯å¤ç”¨æµç¨‹çš„é«˜é˜¶å°è£…ï¼ŒåŒ…å« Slash Commandã€Custom Agentsã€Skillsã€Hooks ç­‰å¤šç§ç»„ä»¶ï¼Œ<strong>Skills æ˜¯ Plugins çš„å­é›†</strong>ã€‚</td></tr><tr><td>Cursor Rules</td><td>æ ¸å¿ƒåŠŸèƒ½ä¸ä½¿ç”¨é€»è¾‘åŸºæœ¬ä¸€è‡´ã€‚</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9cffb8bf4504525ac03466b96a94ab9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=FqxBiNIzUE1Li2PjKZAsKj4hSOI%3D" alt="" loading="lazy"/></p>
<p>ç»¼ä¸Šï¼Œ<strong>æŠ€èƒ½å°è£…ä¸å¤ç”¨èƒ½åŠ›</strong>æ˜¯ Agent Skills çš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œæ”¯æŒå¼€å‘è€…ç›´æ¥å¤ç”¨æˆç†ŸæŠ€èƒ½å¹¶å¿«é€Ÿæ‰©å±•æ–°åŠŸèƒ½ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é€‰æ‹©åŸºäº Skills å®Œæˆæœ¬æ¬¡ UI ä¼˜åŒ–çš„å…³é”®åŸå› ã€‚</p>
<h3 data-id="heading-3">æˆ‘æƒ³ç”¨ Skillsï¼</h3>
<p>å¦‚æœä½ ä¹Ÿæƒ³ç”¨ Skills æ¥ç»™å·¥ä½œä¹ƒè‡³ç”Ÿæ´»ææ•ˆï¼Œå¯ä»¥çœ‹çœ‹ä»¥ä¸‹è¿™äº›ä»“åº“ï¼Œé‡Œé¢æœ‰å¤§é‡ç°æˆçš„ skills å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼š</p>
<ul>
<li>Anthropic å®˜æ–¹ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li>ä¼ä¸šçº§ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmrgoonie%2Fclaudekit-skills" target="_blank" title="https://github.com/mrgoonie/claudekit-skills" ref="nofollow noopener noreferrer">github.com/mrgoonie/clâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FComposioHQ%2Fawesome-claude-skills" target="_blank" title="https://github.com/ComposioHQ/awesome-claude-skills" ref="nofollow noopener noreferrer">github.com/ComposioHQ/â€¦</a></li>
<li>Copilot å®˜æ–¹ Skillsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fawesome-copilot%2Ftree%2Fmain%2Fskills" target="_blank" title="https://github.com/github/awesome-copilot/tree/main/skills" ref="nofollow noopener noreferrer">github.com/github/awesâ€¦</a></li>
</ul>
<p>ç›®å‰ï¼ŒClaude Codeã€Codexã€GitHub Copilot ç­‰ä¸»æµ AI ç¼–ç å·¥å…·å‡å·²æ”¯æŒ Skills æ ‡å‡†ï¼Œä½†è¿™ç±»å·¥å…·å¤§å¤šéœ€è¦ä»˜è´¹ä½¿ç”¨ï¼Œéƒ¨åˆ†è¿˜å­˜åœ¨ç½‘ç»œè®¿é—®é™åˆ¶ã€‚</p>
<p>é‚£ä¹ˆï¼Œæœ‰æ²¡æœ‰ä¸€æ¬¾äº§å“ï¼Œèƒ½ä»¥å…è´¹çš„ä»·æ ¼ï¼Œå®ç° Claude Code 80% çš„èƒ½åŠ›å‘¢ï¼Ÿï¼ˆæŒ‘çœ‰ï¼‰</p>
<p>è¿™é‡Œå°±ä¸å¾—ä¸ç»™è‡ªå®¶äº§å“æ‰“ä¸ªå¹¿å‘Šï¼Œéš†é‡ä»‹ç»ä¸€ä¸‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/" ref="nofollow noopener noreferrer">Qwen Code</a>ã€‚å°±åœ¨ä»Šæ—¥ï¼ŒQwen Code æ­£å¼å‘å¸ƒ 0.6.0 ç‰ˆæœ¬ï¼Œå…¨é¢æ”¯æŒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2Fzh%2Fusers%2Ffeatures%2Fskills%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/zh/users/features/skills/" ref="nofollow noopener noreferrer">Agent Skills</a> æ ‡å‡†ï¼›åŒæ—¶æä¾›æ¯æ—¥ 2000 æ¬¡å…è´¹è¯·æ±‚é¢åº¦ï¼Œæ­é…ç¼–ç¨‹é¢†åŸŸ SOTA æ¨¡å‹ Qwen3-Coder-Plusï¼ŒåŠ©åŠ›å¼€å‘è€…é©æ–°ç¼–ç ä½“éªŒï¼</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fqwenlm.github.io%2Fqwen-code-docs%2F" target="_blank" title="https://qwenlm.github.io/qwen-code-docs/" ref="nofollow noopener noreferrer">qwenlm.github.io/qwen-code-dâ€¦</a></p>
<p>GitHub é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FQwenLM%2Fqwen-code" target="_blank" title="https://github.com/QwenLM/qwen-code" ref="nofollow noopener noreferrer">github.com/QwenLM/qwenâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4165b974fb9946c0851455a03dd8243c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=obWQigzpxLmsAp7VOEHKUTdUxRQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">é‡æ„ä¹‹æ—…ï¼šåŸºäº Agent Skills çš„ UI ä¼˜åŒ–å®æˆ˜</h2>
<p>æœ¬æ¬¡ UI é‡æ„å¹¶éä»é›¶æ­å»ºï¼Œè€Œæ˜¯åŸºäºç¤¾åŒºå¼€å‘è€…å°è£…çš„æˆç†Ÿ Skills è¿›è¡Œæ‰©å±•ã€‚æˆ‘é€‰ç”¨äº† <code>https://github.com/mrgoonie/claudekit-skills</code> ä»“åº“ä¸­çš„ä¸‰ä¸ªæ ¸å¿ƒæŠ€èƒ½ï¼Œå…¶åŠŸèƒ½åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>aestheticï¼šè´Ÿè´£åˆ›å»ºç¬¦åˆè®¾è®¡åŸåˆ™çš„ç¾è§‚ç•Œé¢ï¼Œå¯è°ƒç”¨ <code>chrome-devtools</code> æŠ€èƒ½åˆ†æå¤–éƒ¨ç½‘ç«™è®¾è®¡é£æ ¼ï¼Œä¸º UI ä¼˜åŒ–æä¾›çµæ„Ÿå‚è€ƒã€‚</li>
<li>chrome-devtoolsï¼šåŸºäº Puppeteer çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼ŒåŸç”Ÿæ”¯æŒå¯¹ç›®æ ‡ç½‘ç«™è¿›è¡Œé¡µé¢æˆªå›¾ã€‚</li>
<li>ui-stylingï¼šç»“åˆ shadcn/ui ç»„ä»¶åº“ä¸ Tailwind CSS æŠ€æœ¯æ ˆï¼Œå®ç°ç•Œé¢çš„ç¾è§‚åŒ–ä¸å¯è®¿é—®æ€§ä¼˜åŒ–ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab02b1cf6b034ead9e34212a013e86c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=nVQMdTGyWTzLIKc36riAIUWF5E0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba93ffada0e34e638257e5a3e09be8c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=lh%2FcRwq0tK6QuA8w3PHrqR9pmGo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97d893c8ea854fc0a7f34f882305f9fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=I6XcQ9ngD9fIJleiN5N52agkn4o%3D" alt="" loading="lazy"/></p>
<p>åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°åŸç”Ÿ <code>chrome-devtools</code> æŠ€èƒ½å­˜åœ¨æ˜æ˜¾å±€é™ï¼šå®ƒä»…æ”¯æŒå¯¹æœç´¢ç»“æœé¡µé¢è¿›è¡Œæ•´é¡µæˆªå›¾ï¼Œå¯¼è‡´è·å–çš„ UI è®¾è®¡å›¾å°ºå¯¸å°ã€æ¸…æ™°åº¦ä½ï¼Œåç»­ AI åˆ†æçš„ç´ æç²¾åº¦ä¸é’ˆå¯¹æ€§ä¸¥é‡ä¸è¶³ï¼Œä¼˜åŒ–æ•ˆæœå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸€é—®é¢˜ï¼Œæˆ‘å¯¹è¯¥æŠ€èƒ½è¿›è¡Œäº†åŠŸèƒ½æ‰©å±• â€”â€”<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDragonnZhang%2Fclaudekit-skills%2Fblob%2Fmain%2F.claude%2Fskills%2Fchrome-devtools%2Fscripts%2Fdownload-dribbble.js" target="_blank" title="https://github.com/DragonnZhang/claudekit-skills/blob/main/.claude/skills/chrome-devtools/scripts/download-dribbble.js" ref="nofollow noopener noreferrer">é›†æˆçˆ¬è™«è„šæœ¬</a>ï¼Œä½¿å…¶èƒ½å¤Ÿç›´æ¥ä»è®¾è®¡å¹³å° Dribbble çš„æœç´¢ç»“æœä¸­ï¼Œç²¾å‡†æŠ“å–å¹¶ä¸‹è½½ç›®æ ‡ UI è®¾è®¡å›¾è‡³æœ¬åœ°ï¼Œä¸º AI æ¨¡å‹æä¾›é«˜è´¨é‡çš„åˆ†æç´ æã€‚</p>
<p>åŸºäºä¼˜åŒ–åçš„ Skill ç»„åˆï¼Œæˆ‘å‘ Coding Agent ä¸‹è¾¾äº†å¦‚ä¸‹æç¤ºè¯æŒ‡ä»¤ï¼Œå¯åŠ¨ UI é‡æ„æµç¨‹ï¼š</p>
<pre><code class="hljs">å¸®æˆ‘ç”¨ aesthetic è¿™ä¸ª skill å¸®æˆ‘é‡æ„å¹¶ç¾åŒ–å½“å‰çš„ uiï¼Œæ³¨æ„è¦ç”¨åˆ° chrome-devtools è¿™ä¸ª skill æ¥åˆ†ææ¥è‡ªçµæ„Ÿç½‘ç«™ Dribbble çš„è®¾è®¡ä½œå“ï¼Œç„¶åç”¨ ui-styling è¿™ä¸ª skill æ¥é‡æ„ uiï¼Œä¸è¦ç”¨ ai-multimodalï¼Œç”¨ä½ è‡ªå·±çš„å¤šæ¨¡æ€èƒ½åŠ›æ¥åˆ†æä¸‹è½½ä¸‹æ¥çš„å›¾ç‰‡
</code></pre>
<p>éšåï¼ŒCoding Agent æŒ‰ç…§æ—¢å®šæµç¨‹å¯åŠ¨å·¥ä½œï¼š</p>
<ol>
<li><strong>ç´ ææŠ“å–</strong>ï¼šè®¿é—® Dribbble å¹³å°ï¼ŒæŠ“å–ä¸é‡‘èè´¢å¯Œä¸»é¢˜åŒ¹é…çš„ UI è®¾è®¡å‚è€ƒå›¾ï¼›</li>
<li><strong>é£æ ¼åˆ†æ</strong>ï¼šå¯¹å‚è€ƒå›¾çš„è§†è§‰é£æ ¼ï¼ˆè‰²å½©æ­é…ã€å¸ƒå±€ç»“æ„ã€ç»„ä»¶æ ·å¼ç­‰ï¼‰è¿›è¡Œè§£æä¸æç‚¼ï¼›</li>
<li><strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šåŸºäºåˆ†æç»“æœè¾“å‡ºæ ‡å‡†åŒ–è®¾è®¡æŒ‡å—ï¼›</li>
<li><strong>ç•Œé¢é‡æ„</strong>ï¼šä¾æ®è®¾è®¡æŒ‡å—å®Œæˆç›®æ ‡ UI çš„è¿­ä»£ä¼˜åŒ–ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c871fde2da8c41ccb4bf7f777a0920af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=rSexikXB0BUR2bf3Rmn4%2BBg%2B7kA%3D" alt="" loading="lazy"/></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸‹è½½çš„è®¾è®¡å›¾é£æ ¼äº”èŠ±å…«é—¨ã€‚è¦æ˜¯ç›´æ¥è®© AI ç…§ç€è¿™äº›å›¾ç”Ÿæˆè®¾è®¡æ–‡æ¡£ã€é‡æ„ UIï¼Œåšå‡ºæ¥çš„ç•Œé¢é£æ ¼ä¼šå¾ˆæ‚ä¹±ï¼Œæ²¡æœ‰äº®ç‚¹ã€‚æ‰€ä»¥æˆ‘å…ˆäººå·¥æŒ‘å‡ºæƒ³è¦æ¨¡ä»¿çš„ UIï¼Œå†è®© AI æŒ‰ç…§è¿™ä¸ª UI çš„é£æ ¼æ¥é‡æ„ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c844432558b64f62a4d958443d4c139c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=oHp2KtQp0T3KyaDxnxenu5Y%2BaDU%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡ä¸Šè¿°æµç¨‹ï¼Œæœ€ç»ˆæˆ‘æˆåŠŸæ‰“é€ å‡ºä¸€æ¬¾ <strong>Nebula ä¸»é¢˜</strong>çš„å…¨æ–° UIâ€”â€” ä»¥æ·±è‰²ä¸ºèƒŒæ™¯åŸºè°ƒï¼Œæ­é…é‡‘è‰²ä¸ç»¿è‰²ä½œä¸ºç‚¹ç¼€è‰²ï¼Œæ—¢å¥‘åˆé‡‘èäº§å“çš„ä¸“ä¸šè´¨æ„Ÿï¼Œåˆå…·å¤‡æå¼ºçš„è§†è§‰å¸å¼•åŠ›ã€‚æœ¬æ¬¡ UI é‡æ„å®è·µåœ†æ»¡å®Œæˆï¼Œæ’’èŠ±ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7699e573d4d94b668fd13d49b0b32527~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHJhZ29uWmhhbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383983&amp;x-signature=MISpLutoShFCVNOIamQykCisoDc%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—]]></title>    <link>https://juejin.cn/post/7592134330314031147</link>    <guid>https://juejin.cn/post/7592134330314031147</guid>    <pubDate>2026-01-07T09:40:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592134330314031147" data-draft-id="7585096444190179364" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—"/> <meta itemprop="keywords" content="å‰ç«¯,Cursor,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-07T09:40:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯åƒæµ”å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/3184634666692312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3184634666692312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯åƒæµ”å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:40:07.000Z" title="Wed Jan 07 2026 09:40:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">Cursor ç³»åˆ—ï¼ˆ2ï¼‰ï¼šä½¿ç”¨å¿ƒå¾—</h2>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯åˆ†äº«ä¸€äº›æˆ‘åœ¨<code>Cursor</code>ä½¿ç”¨è¿‡ç¨‹ä¸­æ€»ç»“çš„ä¸€äº›å¿ƒå¾—ã€è¸©è¿‡çš„å‘ä»¥åŠè§£å†³åŠæ³•ï¼Œèƒ½å¤Ÿå¸®åŠ©å¤§å®¶æ›´å¥½çš„ä½¿ç”¨<code>Cursor</code>å»è¾…åŠ©æˆ‘ä»¬çš„å¼€å‘ã€‚ä¸»è¦åŒ…æ‹¬ä½¿ç”¨æŠ€å·§ã€<code>Cursor</code>é”åŒºé—®é¢˜ã€<code>Rules</code>ç›¸å…³ä»¥åŠæ¨¡å‹çš„é€‰æ‹©ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨æŠ€å·§</h3>
<h4 data-id="heading-2">ä½¿ç”¨ <code>@</code>ç²¾ç¡®åˆ°è¡Œ</h4>
<p>ç”¨ <code>@</code> æ ‡è®°ç›¸å…³æ–‡ä»¶å¯ä»¥<strong>æ˜¾è‘—æé«˜ä»£ç å»ºè®®çš„å‡†ç¡®æ€§</strong>ï¼Œåœ¨æ˜ç¡®çŸ¥é“éœ€è¦æ”¹åŠ¨å“ªè¡Œæˆ–è€…æ”¹åŠ¨å“ªä¸ªæ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œæœ€å¥½ç”¨<code>@</code>ç²¾ç¡®åˆ°è¡Œã€‚åœ¨<code>Cursor</code>é‡Œæ“ä½œä¹ŸæŒºæ–¹ä¾¿çš„ï¼Œç›´æ¥å¤åˆ¶ä»£ç åˆ°<code>Chat</code>é‡Œé¢ï¼Œç¼–è¾‘å™¨ä¼šè‡ªåŠ¨å…³è”æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-3">ç¼©å°å˜æ›´èŒƒå›´ï¼Œä¸è¦è¯•å›¾ä¸€æ¬¡æ›´æ”¹å¤ªå¤š</h4>
<p>åœ¨ä½¿ç”¨ <code>AI</code> ç¼–è¾‘å™¨ <code>coding</code> è¿‡ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯ä½¿ç”¨å“ªä¸ª<code>AI</code>ç¼–è¾‘å™¨ï¼Œæˆ‘çš„å»ºè®®æ˜¯<strong>ä¸€ä¸ªåŠŸèƒ½ç‚¹ä¸€ä¸ªåŠŸèƒ½ç‚¹çš„å»åš</strong>ï¼Œå°½é‡è®©<strong>æ›´æ”¹èŒƒå›´å°äº›</strong>ã€‚è¿™æ ·ä¸è‡³äºè®© <code>AI</code> å†™çš„ä»£ç å˜å¾—è¶Šæ¥è¶Šä¸å¯æ§ï¼Œä»¥è‡³äºåˆ°æœ€åæˆ‘ä»¬çœ‹ä¸æ‡‚ä¹Ÿæ”¹ä¸åŠ¨ã€‚</p>
<p>æ›´å°çš„æ›´æ”¹èŒƒå›´æœ‰åŠ©äºæˆ‘ä»¬<strong>æ›´å¥½çš„é˜…è¯»</strong>ã€<strong>ç†è§£</strong> <code>AI</code> å†™çš„ä»£ç ï¼Œæ¯•ç«Ÿï¼Œ<strong>äººï¼Œæ‰æ˜¯å†™ä»£ç çš„ä¸»ä½“</strong>ã€‚</p>
<h4 data-id="heading-4">è®© <code>cursor</code> å¤è¿°ä½ çš„è¦æ±‚</h4>
<p>æˆ‘ä»¬è¡¨è¿°çš„è¯­è¨€æ€»æ˜¯æœ‰æ¨¡ç³Šæ€§çš„ï¼ŒåŠ ä¸Š <code>AI</code> ç†è§£ç‰¹å®šä¿¡æ¯çš„å±€é™æ€§ï¼Œä»¥åŠ <code>AI</code> ç”Ÿæˆå†…å®¹çš„ä¸€å®šéšæœºæ€§ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ° <code>AI</code><strong>ç­”éæ‰€é—®</strong>çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å…ˆåˆ«æ€ª <code>AI</code>ï¼Œå…ˆå»çœ‹ä¸‹è‡ªå·±çš„æé—®æˆ–æè¿°æ˜¯å¦æ¸…æ™°æ˜“æ‡‚ï¼Œå…¶å®æœ€å¥½çš„æ–¹æ³•å°±æ˜¯è®© <code>AI</code> <strong>å¤è¿°</strong>ä¸€éä½ çš„éœ€æ±‚ï¼Œä»å®ƒå¤è¿°çš„ç»“æœçœ‹ <code>AI</code> æ˜¯å¦å……åˆ†ç†è§£äº†ä½ çš„è¦æ±‚ã€‚</p>
<h4 data-id="heading-5">å–„ç”¨å›¾ç¤ºæé—®</h4>
<p>å„ä¸ª<code>AI</code>çš„è¯†å›¾å…¶å®å·²ç»éå¸¸å¼ºäº†ï¼Œå¦‚æœä½ çš„éœ€æ±‚æ˜¯å¦å¾ˆéš¾ç”¨æ–‡å­—å®Œå…¨æè¿°æ¸…æ¥šï¼Œå¯ä»¥é€‚å½“<strong>å¢åŠ ä¸€äº›å›¾ç¤º</strong>ï¼Œå“ªæ€•æ˜¯ä¸€äº›ç®€å•çš„æµç¨‹å›¾ï¼Œéƒ½èƒ½æ›´å¥½åœ°å¸®åŠ© <code>cursor</code> å»ç†è§£ä½ çš„æ„å›¾ã€‚</p>
<h4 data-id="heading-6">ç»å¸¸åˆ›å»ºæ–°çš„chat</h4>
<p>æ¯æ¬¡å®Œæˆä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œæœ€å¥½æ–°å¼€ä¸€ä¸ª<code>chat</code>ï¼Œé¿å…ä¹‹å‰çš„ä¸Šä¸‹æ–‡å¯¹åé¢çš„åŠŸèƒ½å¼€å‘é€ æˆæ±¡æŸ“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¹‹å‰è¸©è¿‡çš„ä¸€ä¸ªå‘ã€‚è€Œä¸”å› ä¸ºæ–°å¼€çš„<code>chat</code>åªåŒ…å«åªåŒ…å«å½“å‰ä»»åŠ¡ç›¸å…³çš„ä¸Šä¸‹æ–‡ï¼Œä¸åŒ…å«å†å²æ— å…³ä¿¡æ¯ï¼Œåœ¨æŒ‰ <code>token</code> è®¡è´¹æ¨¡å¼ä¸‹ï¼Œè¿˜å¯ä»¥èŠ‚çœè´¹ç”¨ã€‚</p>
<h4 data-id="heading-7">çµæ´»ä½¿ç”¨<code>Chat</code>çš„æ¨¡å¼</h4>
<p>å½“å‰ç‰ˆæœ¬ <code>cursor</code>ï¼ˆ2.2.43ç‰ˆæœ¬ï¼‰çš„<code>Chat</code> æœ‰ <code>Ask</code> ã€<code>Agent</code>ã€ <code>Plan</code>å’Œ<code>Debug</code>å››ç§æ¨¡å¼ã€‚</p>
<p>è¿™å››ä¸ªæ¨¡å¼çš„å®šä½ã€è¡Œä¸ºç‰¹ç‚¹ä»¥åŠå…¸å‹é€‚ç”¨åœºæ™¯å¦‚ä¸‹ï¼š</p>



































<table><thead><tr><th>æ¨¡å¼</th><th>æ ¸å¿ƒå®šä½</th><th>è¡Œä¸ºç‰¹ç‚¹</th><th>å…¸å‹é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>Ask</code></td><td>å¯¹è¯ / æ€è€ƒ / å‡ºæ–¹æ¡ˆ</td><td>åªèŠå¤©å’Œç»™å»ºè®®ï¼Œä¸ä¸»åŠ¨å¤§æ”¹ä»£ç </td><td>é—®æ¦‚å¿µã€è¦æ–¹æ¡ˆã€è¯„å®¡ä»£ç ã€è®¨è®ºæ¶æ„å’ŒæŠ€æœ¯é€‰å‹</td></tr><tr><td><code>Agent</code></td><td>è‡ªåŠ¨æ”¹ä»£ç  / æ‰§è¡Œä»»åŠ¡</td><td>è‡ªåŠ¨è¯»æ”¹å¤šæ–‡ä»¶ï¼ŒçœŸæ­£å¸®ä½ å†™å’Œæ”¹ä»£ç </td><td>æ–°å¢åŠŸèƒ½ã€é‡æ„ã€æ‰¹é‡æ›¿æ¢ API/åŸ‹ç‚¹/æ—¥å¿—ç­‰è·¨æ–‡ä»¶ä¿®æ”¹</td></tr><tr><td><code>Plan</code></td><td>æ‹†è§£ä»»åŠ¡ / ç”Ÿæˆè·¯çº¿å›¾</td><td>åªç»™æ­¥éª¤å’Œ TODOï¼Œä¸ç›´æ¥åŠ¨ä»£ç </td><td>å¤§å‹åŠŸèƒ½ã€å¤æ‚é‡æ„ã€æŠ€æœ¯æ ˆå‡çº§å‰çš„è§„åˆ’</td></tr><tr><td><code>Debug</code></td><td>å®šä½å’Œä¿®å¤é—®é¢˜ / è°ƒè¯•è¾…åŠ©</td><td>å›´ç»•æŠ¥é”™å’Œå¼‚å¸¸ï¼Œæ‰¾åŸå› ç»™ä¿®å¤æ–¹æ¡ˆ</td><td>æ¥å£ 500ã€ç¨‹åºæŠ¥é”™ã€æµ‹è¯•å¤±è´¥ã€æ€§èƒ½é—®é¢˜ç­‰è°ƒè¯•åœºæ™¯</td></tr></tbody></table>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œæ²¡å•¥æ€è·¯æ—¶ï¼Œæˆ‘ä¼šä½¿ç”¨<code>Ask</code>è·Ÿ<code>AI</code>è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šä½¿ç”¨<code>Ask</code>å»åˆ†æä»£ç ã€‚</p>
<p>åœ¨è‡ªå·±çŸ¥é“ä»£ç å’‹å†™çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯å¤§éœ€æ±‚ï¼Œæˆ‘ä¼šå…ˆä½¿ç”¨<code>Ask</code> æ¨¡å¼ä¸ <code>cursor</code> æ²Ÿé€šå¥½éœ€æ±‚çš„èƒŒæ™¯ã€ç›®çš„ã€å®ç°æ•ˆæœç­‰ï¼Œæˆ–è€…ç›´æ¥ä¸Šä¼  <code>prd</code>ï¼Œè®©å®ƒç”Ÿæˆä¸€ä¸ªåˆå§‹çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå†æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡ç†è§£ä¸ä»£ç ç†è§£å»ä¼˜åŒ–è¿™ä¸ªæŠ€æœ¯æ–¹æ¡ˆï¼Œæœ€åæ‹¿è¿™ä¸ªæ¯”è¾ƒæˆç†Ÿçš„æ–¹æ¡ˆä½¿ç”¨<code>Agent</code> æ¨¡å¼å»æ‰§è¡Œã€‚å½“ç„¶ä¸€äº›å°çš„ç®€å•çš„éœ€æ±‚ç›´æ¥<code>Agent</code> æ”¹å°±å®Œäº‹äº†ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ã€‚</p>
<p><code>Plan</code> æ¨¡å¼åƒä¸ªå¤§å·çš„<code>Ask</code>æ¨¡å¼ï¼Œæˆ‘åªä¼šåœ¨å¤§å‹åŠŸèƒ½å¼€å‘ã€å¤æ‚é‡æ„å’Œé¡¹ç›®åˆå§‹åŒ–æ—¶ä½¿ç”¨ã€‚ä»–ä¼šå…ˆé—®ä½ ï¼Œå¦‚æœæˆ‘æƒ³æŠŠé¡¹ç›®çš„<code>element ui</code>å‡çº§ä¸‹ç‰ˆæœ¬ï¼Œç›´æ¥é—®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6422c5b6b94541a6b0b0ec1dda9b4b41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=9EEzzW8V0qOL2g1EVqCXWctpYM0%3D" alt="image.png" loading="lazy"/></p>
<p>å®ƒä¼šå…ˆé—®ä½ å‡ ä¸ªé—®é¢˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4204e8ddb3e842a5a793b4ba30fb5d70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=iGS%2BjmralpBC%2BlSaihmq1ZF5jZU%3D" alt="image.png" loading="lazy"/></p>
<p>ç­‰ä½ å›ç­”å®Œè¿™å‡ ä¸ªé—®é¢˜åï¼Œä»–ä¼šç”Ÿæˆä¸€ä¸ªåç¼€ä¸º.plançš„mdæ–‡æ¡£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cdc373574b240cd8359a19d7da1a2b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=Q%2BtINJywGkmULQle6VQ0I1Jy1y0%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªmdæ–‡ä»¶çš„æœ€ä¸‹é¢ï¼Œæœ‰ä¸€ä¸ª<code>todo list</code>ï¼Œå¦‚æœä½ è®¤ä¸ºè¿™ä¸ª<code>todo list</code>æ²¡å•¥é—®é¢˜ï¼Œå¯ä»¥ç‚¹<code>new agent</code>æŒ‰é’®ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª<code>agent</code>æ¨¡å¼çš„<code>chat</code>æŒ‰ç…§è¿™ä¸ª<code>todoList</code>å»æ‰§è¡Œã€‚å¦‚æœä½ è§‰å¾—è¿™ä¸ª<code>todo list</code>æœ‰ç‚¹é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘å®ƒï¼Œä¹Ÿå¯ä»¥ç‚¹<code>New Todo</code>æŒ‰é’®å»è‡ªå·±å¢åŠ ä¸€é¡¹<code>todo</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9964d2b6db1f44f38b65bb729ddca73e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=ir3h4aqiJncYxLjGR3JmwQc%2BYfM%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä½ åœ¨ä½ çš„<code>Chat</code>é‡Œé¢è¾“å…¥çš„å†…å®¹ï¼Œè¡¨ç¤ºè¿™ä¸ªä»»åŠ¡å¾ˆå¤æ‚ï¼Œ<code>Cursor</code> ä¼šè‡ªåŠ¨å»ºè®®åˆ‡æ¢åˆ°<code>Plan</code>æ¨¡å¼ã€‚</p>
<p><code>Debug</code>æ¨¡å¼æˆ‘ä¸æ˜¯å¾ˆå–œæ¬¢ç”¨ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå¯ä»¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.zone%2Ffaq%2Fcursor-debug-mode.html" target="_blank" title="https://cursor.zone/faq/cursor-debug-mode.html" ref="nofollow noopener noreferrer">è¿™ä¸ª</a>ã€‚</p>
<h4 data-id="heading-8">å…ˆæ£€æŸ¥ä¸‹<code>accept</code></h4>
<p><code>Cursor</code> å†™å®Œä»£ç åã€‚å¯ä»¥ä¸ç”¨é‚£ä¹ˆç€æ€¥ç€å»ç‚¹ <code>accept all</code>ï¼Œå› ä¸ºä½ ä¹Ÿä¸çŸ¥é“ <code>cursor</code> æ¯æ¬¡ç”Ÿæˆçš„ä»£ç æ˜¯ä¸æ˜¯æ­£ç¡®çš„ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯å…ˆå»éªŒè¯ä¸‹ <code>Cusor</code> å†™çš„ä»£ç æ˜¯å¦æ­£ç¡®ï¼Œè®©åå†ç‚¹å‡» <code>accept all</code>ï¼Œå½“ç„¶å¦‚æœä½ ä¸å°å¿ƒç‚¹åˆ°äº† <code>accept all</code>ï¼Œä¹Ÿå¯ä»¥ <code>ctrl + z</code> æ’¤å›ã€‚</p>
<h3 data-id="heading-9">Cursor é”åŒºé—®é¢˜</h3>
<p>åœ¨ <code>2025</code> å¹´çš„<code>7</code> æœˆä»½ï¼Œ<code>Cursor</code> <strong>ä¸­æ–­</strong>äº†<strong>ä¸­å›½å¤§é™†ç”¨æˆ·</strong>çš„å¤šä¸ª<strong>æ¨¡å‹ä½¿ç”¨æƒ</strong>ã€‚æˆ‘ä»¬å¸¸ä½¿ç”¨å‡ ä¸ªæ¨¡å‹æ¯”å¦‚ <code>Claude</code> ç³»åˆ—ã€<code>Gemini</code> ç³»åˆ—ï¼Œåœ¨å›½å†…éƒ½æ— æ³•ä½¿ç”¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/554abda2cf9840c186fd6e7b89db5b34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=NbcH21oWKoNKh67iz22yyNjFGaw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">ä¸ºä»€ä¹ˆä¼šè¿™æ ·</h4>
<p>è€å®è¯´ï¼Œè¿™æ¬¡çš„é”åŒºäº‹ä»¶å…¶å®è·Ÿ <code>Cursor</code> <strong>å…³ç³»å¹¶ä¸å¤§</strong>ï¼Œ<code>Cursor</code> ä½œä¸ºä¸€ä¸ª <code>AI</code>+<code>IDE</code> ç¼–è¾‘å™¨ï¼Œä»–è‡ªèº«å…¶å®å¹¶ä¸å¼€å‘æ¨¡å‹ï¼Œå®ƒæ˜¯åŸºäº <code>VSCode</code>â€‹ å¼€æºä»£ç è¿›è¡Œå¼€å‘ï¼Œå†é€šè¿‡ä»–çš„ç½‘ç»œå»è°ƒç”¨å¦‚ï¼š<code>Claude</code>ã€<code>ChatGPT</code>ã€<code>Gemini</code> ç­‰ç­‰è¿™äº›æ¨¡å‹ï¼Œå»ä½¿ç”¨çš„æ¨¡å‹çš„èƒ½åŠ›ã€‚</p>
<p><code>Cursor</code> ä¹Ÿåœ¨ä»–çš„å…¬å‘Šé‡Œä¸ºè‡ªå·±å–Šå†¤ï¼š</p>
<blockquote>
<p>Some models in <code>Cursor</code> may be unavailable in certain regions based on the terms and policies set by the model providers. We plan to reâ€‘enable all models in any regions where they are supported. If our model partners allow access to your region, we plan to restore the affected models and update this page.</p>
</blockquote>
<p>å¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œè¿™ç§é™åˆ¶å¹¶é <code>Cursor</code> æ•…æ„ä¸ºä¹‹ï¼Œè€Œæ˜¯å—åˆ°ä¸Šæ¸¸æ¨¡å‹æä¾›å•†æ”¿ç­–å˜åŒ–çš„å½±å“ã€‚ç±»ä¼¼çš„æƒ…å†µåœ¨ <code>AI</code> è¡Œä¸š<strong>å¹¶ä¸ç½•è§</strong>ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fapi%2Fsupported-regions" target="_blank" title="https://docs.anthropic.com/en/api/supported-regions" ref="nofollow noopener noreferrer"><code>Anthropic</code>ï¼ˆ<code>Claude</code>ï¼‰</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.openai.com%2Fzh-hans-cn%2Farticles%2F5347006-openai-api-supported-countries-and-territories" target="_blank" title="https://help.openai.com/zh-hans-cn/articles/5347006-openai-api-supported-countries-and-territories" ref="nofollow noopener noreferrer"><code>OpenAI</code>ï¼ˆ<code>GPT</code> / <code>o-series</code>ï¼‰</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.google.dev%2Fgemini-api%2Fdocs%2Favailable-regions%3Fhl%3Dzh-cn" target="_blank" title="https://ai.google.dev/gemini-api/docs/available-regions?hl=zh-cn" ref="nofollow noopener noreferrer">Googleï¼ˆ<code>Gemini</code>ï¼‰</a>ç­‰å…¬å¸éƒ½æœ‰è‡ªå·±çš„ä¸æ”¯æŒå›½å®¶å’Œåœ°åŒºã€‚é—æ†¾çš„æ˜¯ï¼Œä¸­å›½å¤§é™†åœ°åŒºéƒ½åœ¨è¿™ä¸‰å®¶å…¬å¸çš„å°ç¦åå•ä¸­... å³ä½¿æ˜¯ç¿»å¢™ä¹Ÿä¸è¡Œ</p>
<h4 data-id="heading-11">æ€ä¹ˆåŠï¼Ÿ</h4>
<p><code>Cursor</code> å®˜æ–¹ç»™äº†å‡ ä¸ªæ–¹æ¡ˆ</p>
<ol>
<li>å‹¾é€‰ <code>Auto</code> é€‰é¡¹ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶<strong>è‡ªåŠ¨é€‰æ‹©å¯ç”¨æ¨¡å‹</strong>ã€‚</li>
<li>å¦‚æœä½ æœ‰èƒ½åœ¨å½“åœ°æ­£å¸¸ä½¿ç”¨çš„ <code>API</code> keyï¼Œå¯ä»¥åœ¨ <code>Cursor</code> ä¸­é…ç½®ä»–ï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡å»é™åˆ¶ã€‚</li>
<li>ç”³è¯·æŒ‰æ¯”ä¾‹é€€æ¬¾</li>
</ol>
<p>è¿™ä¸‰ç§æ–¹æ¡ˆå…¶å®<strong>éƒ½æ²¡æœ‰çœŸæ­£è§£å†³é—®</strong>é¢˜ã€‚å®˜æ–¹ç›¸å½“äºç›´æ¥æ‘†çƒ‚äº†ï¼Œç›´æ¥å‘Šè¯‰å›½å†…ç”¨æˆ·ï¼šæˆ‘ä¹Ÿæ²¡åŠæ³•äº†ï¼Œæ‚¨è¦ä¸å‹‰å¼ºç”¨ï¼Œè¦ä¸ç›´æ¥é€€æ¬¾å§ã€‚</p>
<p>çœŸå®æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤â€”â€”åœ¨ <code>Cursor</code> çš„é”åŒºäº‹ä»¶åï¼Œå¤§æ‰¹é‡çš„ä¸­å›½ç”¨æˆ·<strong>æ”¾å¼ƒ</strong>ä½¿ç”¨ <code>Cursor</code>ï¼Œè½¬è€Œä½¿ç”¨ <code>Trae</code>ã€<code>Windsurf</code> ç­‰æ›¿ä»£å“ã€‚é‚£æ®µæ—¶é—´æˆ‘ä¹Ÿæ”¾å¼ƒ <code>Cursor</code> å»è¯•ç”¨äº†ä¸‹ <code>Trae</code>ï¼Œä½†æ˜¯ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œ <code>Trae</code>ç€å®ä»¤æˆ‘æœ‰ç‚¹å¤±æœ›ï¼Œç”Ÿæˆçš„ä»£ç å¸¸å¸¸é©´å¤´ä¸å¯¹é©¬å˜´ï¼Œæ™ºèƒ½è¿™æ–¹é¢è¿œè¿œä¸å¦‚ <code>Cursor</code>ï¼Œäºæ˜¯æˆ‘åˆå›åˆ°äº† <code>Cursor</code> çš„æ€€æŠ±...</p>
<p>é”åŒºçš„é—®é¢˜è¿˜æ˜¯å¾—è§£å†³å•Šï¼Œæ°‘é—´ç¤¾åŒºä¸­ä¹Ÿæœ‰äººé€æ¸æ‘¸ç´¢å‡ºäº†<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>ä¿®æ”¹ç½‘ç»œç±»å‹</strong>ï¼š<code>ctrl + shift + j</code> æ‰“å¼€æ§åˆ¶é¢æ¿åï¼Œç‚¹å‡» <code>Network</code>ï¼Œä¿®æ”¹ <code>http</code> æ¨¡å¼ï¼ŒæŠŠé»˜è®¤çš„ <code>HTTP/2</code> ä¿®æ”¹ä¸º <code>HTTP/1.1</code></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/847a6b6640a840ea8527ee4cdec01b65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=BFxyUTwHrsDJh6JAOK9NZnTZDek%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>æ‰“åœ¨ä½ çš„ä»£ç†å·¥å…·ä¸­ï¼Œ<strong>å°† Tun Mode æ‰“å¼€</strong></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d734e316bc4a20b6935c43f4ff0dd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5Y2D5rWU5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768383607&amp;x-signature=94lF6n0fmmjHPRdNV0VrE4oox7Y%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘å®é™…æµ‹è¯•äº†ä¸‹ï¼Œæ•ˆæœè¿˜è¡Œï¼Œå¸¸ç”¨çš„å‡ ä¸ªæ¨¡å‹éƒ½èƒ½ä½¿ç”¨ï¼Œå°±æ˜¯é“¾æ¥æœ‰æ—¶å€™ä¼šä¸­æ–­ï¼Œåº”è¯¥æ˜¯æˆ‘çš„ä»£ç†ä¸å¤ªç¨³å®šçš„é—®é¢˜ã€‚</p>
<p>ç¤¾åŒºä¸­ä¹Ÿæœ‰äººä½¿ç”¨ <code>Proxifier</code> è½¬å‘ <code>api2.cursor.sh:443</code> æ¥å®ç°ï¼Œè¿™æ ·æ—¢å¯ä»¥ä½¿ç”¨ <code>http2</code> äº«å—ä½å»¶è¿Ÿï¼Œä¹Ÿå¯ä»¥ç”¨ä¸Š <code>claude</code> ç­‰æ¨¡å‹ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æŸ¥ä¸‹ç›¸å…³æ–‡ç« å»å°è¯•ä¸‹ã€‚</p>
<p>ä¸€é¡¿æ“ä½œä¸‹æ¥ä¹Ÿæ˜¯å¤Ÿéº»çƒ¦ï¼Œä½¿ç”¨ä½“éªŒè¿˜æ²¡æœ‰ä»¥å‰å¥½ã€‚è¿™æ¬¡çš„é”åŒºäº‹ä»¶æœ¬è´¨ä¸Šè¿˜æ˜¯å—ç¾å›½ <code>AI</code> å‡ºå£ç®¡åˆ¶ä»¥åŠå›½å®¶å®‰å…¨ç›¸å…³æ”¿ç­–çš„å½±å“ï¼Œæˆ–è€…è¯´æ˜¯å—ä¸­ç¾æŠ€æœ¯ç«äº‰çš„å½±å“ï¼Œä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™<strong>æŠ€æœ¯å¼€æ”¾åŒ–</strong>æ‰èƒ½çœŸæ­£åˆ°æ¥ï¼Œè®©å›½ç•Œä¸å†æˆä¸ºå¼€å‘è€…çš„ä¸€ä¸ªé—¨æ§›ã€‚åŒæ—¶å›½å†…çš„ç›¸å…³å…¬å¸ä¹Ÿå¾—æ”¯æ£±èµ·æ¥å•Šï¼Œè®©è‡ªå·±çš„<code>AI</code> ç¼–è¾‘å™¨æ›´å¥½ç”¨äº›ã€‚</p>
<h3 data-id="heading-12">Rules</h3>
<p>æƒ³è¦ç”¨å¥½ <code>AI</code> ç¼–è¾‘å™¨ï¼Œ<code>rules</code> è‚¯å®šæ˜¯ä¸èƒ½ç»•è¿‡å»çš„ï¼Œåˆç†çš„ <code>rules</code> èƒ½å¤Ÿæä¾›æ˜ç¡®çš„ç»“æ„åŒ–æŒ‡å¯¼æ¥çº¦æŸ <code>AI</code> çš„è¡Œä¸ºï¼Œå¹¶ä¸”æœ‰æ•ˆå¯¹æŠ—â€œ<code>AI</code>â€å¹»è§‰ï¼Œç¡®ä¿ç”Ÿæˆçš„ä»£ç ç¬¦åˆé¡¹ç›®æ ‡å‡†ã€‚</p>
<p>å½“å‰ <code>Cursor</code> æœ‰ä¸‰ç§ç±»å‹è§„åˆ™</p>
<ol>
<li><strong>é¡¹ç›®è§„</strong>åˆ™ï¼šå­˜å‚¨åœ¨ .<code>cursor</code>/rules ä¸­ï¼Œå—ç‰ˆæœ¬æ§åˆ¶ï¼Œä½œç”¨èŒƒå›´é™å®šåœ¨ä½ çš„ä»£ç åº“å†…</li>
<li><strong>ç”¨æˆ·è§„åˆ™</strong>ï¼šåœ¨æ•´ä¸ª <code>Cursor</code> ç¯å¢ƒä¸­å…¨å±€ç”Ÿæ•ˆï¼Œç”± <code>Agent</code>ï¼ˆ<code>Chat</code>ï¼‰ä½¿ç”¨</li>
<li><strong>AGENTS.md</strong>ï¼šä»¥ <code>Markdown</code> æ ¼å¼ç¼–å†™çš„ <code>Agent</code> æŒ‡ä»¤ï¼Œæ˜¯ .<code>cursor</code>/rules çš„ç®€æ´æ›¿ä»£æ–¹æ¡ˆï¼ˆä¸€èˆ¬æ¥è¯´å¾ˆå°‘ä½¿ç”¨ï¼‰ã€‚</li>
</ol>
<p>æ—§ç‰ˆæœ¬çš„<code>.cursorrules</code> è§„åˆ™æ–‡ä»¶å·²ç»è¢«åºŸå¼ƒï¼Œå½“å‰æˆ‘è¿˜æ˜¯æ›´æ¨èå†™åœ¨ <code>.cursor/rules</code> ä¸­çš„é¡¹ç›®è§„åˆ™ã€‚</p>
<p>ä¸åŒäºé¢å‘å…¨éƒ¨é¡¹ç›®ç”Ÿæ•ˆçš„ç”¨æˆ·è§„åˆ™é…ç½®è¿™ä¹ˆç®€å•ï¼Œé¡¹ç›®è§„åˆ™éœ€è¦æ ¹æ®ä¸åŒç±»å‹çš„å¼€å‘é¡¹ç›®è¿›è¡Œé’ˆå¯¹æ€§æ’°å†™ï¼Œå°¤å…¶æ˜¯å…¶ä¸­çš„<code>è§’è‰²å®šä½</code>ã€<code>æŠ€æœ¯æ ˆé€‰æ‹©</code>ã€<code>ä»£ç è§„èŒƒ</code>ç­‰è¦æ±‚ï¼Œæ‰€ä»¥<code>rules</code> è¦æƒ³å†™å…¨å†™å¥½ï¼Œè¿˜çœŸä¸æ˜¯ä¸ªç®€å•äº‹ã€‚ä¸ºæ­¤ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯â€”â€”å…ˆæ‰¾åˆ°ä¸€ä¸ªé€šç”¨çš„ <code>rules</code> æ¨¡æ¿ï¼Œç„¶å <code>AI</code> ç¼–è¾‘å™¨ä¸­è®© <code>AI</code> åˆ†æå½“å‰é¡¹ç›®çš„åŒæ—¶ï¼Œç»“åˆæˆ‘ä»¬ä¹‹å‰ç»™å®šçš„ <code>rules</code> æ¨¡æ¿ï¼Œç”Ÿæˆä¸€ä¸ªç¬¦åˆæˆ‘ä»¬å½“å‰é¡¹ç›®è¦æ±‚çš„ <code>rules</code>ã€‚æˆ‘å½“å‰ä½¿ç”¨ <code>rules</code> æ¨¡æ¿å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">è§’è‰²ï¼š
ä½ æ˜¯ä¸€åç²¾é€š  å¼€å‘çš„é«˜çº§å·¥ç¨‹å¸ˆï¼Œæ‹¥æœ‰<span class="hljs-number">10</span>å¹´ä»¥ä¸Šçš„  åº”ç”¨å¼€å‘ç»éªŒï¼Œç†Ÿæ‚‰  ç­‰å¼€å‘å·¥å…·å’ŒæŠ€æœ¯æ ˆ<span class="hljs-operator">ã€‚</span>ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©ç”¨æˆ·è®¾è®¡å’Œå¼€å‘æ˜“ç”¨ä¸”æ˜“äºç»´æŠ¤çš„  åº”ç”¨<span class="hljs-operator">ã€‚</span>å§‹ç»ˆéµå¾ªæœ€ä½³å®è·µï¼Œå¹¶åšæŒå¹²å‡€ä»£ç å’Œå¥å£®æ¶æ„çš„åŸåˆ™<span class="hljs-operator">ã€‚</span>
ç›®æ ‡:
ä½ çš„ç›®æ ‡æ˜¯ä»¥ç”¨æˆ·å®¹æ˜“ç†è§£çš„æ–¹å¼å¸®åŠ©ä»–ä»¬å®Œæˆ  åº”ç”¨çš„è®¾è®¡å’Œå¼€å‘å·¥ä½œï¼Œç¡®ä¿åº”ç”¨åŠŸèƒ½å®Œå–„<span class="hljs-operator">ã€</span>æ€§èƒ½ä¼˜å¼‚<span class="hljs-operator">ã€</span>ç”¨æˆ·ä½“éªŒè‰¯å¥½<span class="hljs-operator">ã€‚</span>
è¦æ±‚:
åœ¨ç†è§£ç”¨æˆ·éœ€æ±‚<span class="hljs-operator">ã€</span>è®¾è®¡<span class="hljs-type">UI</span><span class="hljs-operator">ã€</span>ç¼–å†™ä»£ç <span class="hljs-operator">ã€</span>è§£å†³é—®é¢˜å’Œé¡¹ç›®è¿­ä»£ä¼˜åŒ–æ—¶ï¼Œä½ åº”è¯¥å§‹ç»ˆéµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
é¡¹ç›®åˆå§‹åŒ–

åœ¨é¡¹ç›®å¼€å§‹æ—¶ï¼Œé¦–å…ˆä»”ç»†é˜…è¯»é¡¹ç›®ç›®å½•ä¸‹çš„ <span class="hljs-type">README</span>.mdæ–‡ä»¶å¹¶ç†è§£å…¶å†…å®¹ï¼ŒåŒ…æ‹¬é¡¹ç›®çš„ç›®æ ‡<span class="hljs-operator">ã€</span>åŠŸèƒ½æ¶æ„<span class="hljs-operator">ã€</span>æŠ€æœ¯æ ˆå’Œå¼€å‘è®¡åˆ’ï¼Œç¡®ä¿å¯¹é¡¹ç›®çš„æ•´ä½“æ¶æ„å’Œå®ç°æ–¹å¼æœ‰æ¸…æ™°çš„è®¤è¯†ï¼›

å¦‚æœè¿˜æ²¡æœ‰<span class="hljs-type">README</span>.mdæ–‡ä»¶ï¼Œè¯·ä¸»åŠ¨åˆ›å»ºä¸€ä¸ªï¼Œç”¨äºåç»­è®°å½•è¯¥åº”ç”¨çš„åŠŸèƒ½æ¨¡å—<span class="hljs-operator">ã€</span>é¡µé¢ç»“æ„<span class="hljs-operator">ã€</span>æ•°æ®æµ<span class="hljs-operator">ã€</span>ä¾èµ–åº“ç­‰ä¿¡æ¯<span class="hljs-operator">ã€‚</span>
éœ€æ±‚ç†è§£

å……åˆ†ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œç«™åœ¨ç”¨æˆ·è§’åº¦æ€è€ƒï¼Œåˆ†æéœ€æ±‚æ˜¯å¦å­˜åœ¨ç¼ºæ¼ï¼Œå¹¶ä¸ç”¨æˆ·è®¨è®ºå®Œå–„éœ€æ±‚ï¼›

é€‰æ‹©æœ€ç®€å•çš„è§£å†³æ–¹æ¡ˆæ¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œé¿å…è¿‡åº¦è®¾è®¡<span class="hljs-operator">ã€‚</span>
<span class="hljs-type">UIå’Œæ ·å¼è®¾è®¡</span>

ä½¿ç”¨ç°ä»£<span class="hljs-type">UIæ¡†æ¶è¿›è¡Œæ ·å¼è®¾è®¡ï¼ˆä¾‹å¦‚</span><span class="hljs-operator">*</span>ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®ä¸åŒå¼€å‘é¡¹ç›®ä»”ç»†å±•å¼€ï¼Œæ¯”å¦‚ä½¿ç”¨å“ªäº›è§†è§‰è§„èŒƒæˆ–è€…<span class="hljs-type">UIæ¡†æ¶ï¼Œæ²¡æœ‰çš„è¯ä¹Ÿå¯ä»¥ä¸ç”¨è¿‡å¤šå±•å¼€ï¼‰ï¼›</span>

åœ¨ä¸åŒå¹³å°ä¸Šå®ç°ä¸€è‡´çš„è®¾è®¡å’Œå“åº”å¼æ¨¡å¼
ä»£ç ç¼–å†™

æŠ€æœ¯é€‰å‹ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŠ€æœ¯æ ˆï¼ˆä¾‹å¦‚<span class="hljs-operator">*</span>ï¼Œè¿™é‡Œéœ€è¦ä»”ç»†å±•å¼€ï¼Œæ¯”å¦‚ä»‹ç»æŸä¸ªæŠ€æœ¯æ ˆç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä»¥åŠè¦éµå¾ªä»€ä¹ˆæœ€ä½³å®è·µï¼‰

ä»£ç ç»“æ„ï¼šå¼ºè°ƒä»£ç çš„æ¸…æ™°æ€§<span class="hljs-operator">ã€</span>æ¨¡å—åŒ–<span class="hljs-operator">ã€</span>å¯ç»´æŠ¤æ€§ï¼Œéµå¾ªæœ€ä½³å®è·µï¼ˆå¦‚<span class="hljs-type">DRYåŸåˆ™</span><span class="hljs-operator">ã€</span>æœ€å°æƒé™åŸåˆ™<span class="hljs-operator">ã€</span>å“åº”å¼è®¾è®¡ç­‰ï¼‰

ä»£ç å®‰å…¨æ€§ï¼šåœ¨ç¼–å†™ä»£ç æ—¶ï¼Œå§‹ç»ˆè€ƒè™‘å®‰å…¨æ€§ï¼Œé¿å…å¼•å…¥æ¼æ´ï¼Œç¡®ä¿ç”¨æˆ·è¾“å…¥çš„å®‰å…¨å¤„ç†

æ€§èƒ½ä¼˜åŒ–ï¼šä¼˜åŒ–ä»£ç çš„æ€§èƒ½ï¼Œå‡å°‘èµ„æºå ç”¨ï¼Œæå‡åŠ è½½é€Ÿåº¦ï¼Œç¡®ä¿é¡¹ç›®çš„é«˜æ•ˆè¿è¡Œ

æµ‹è¯•ä¸æ–‡æ¡£ï¼šç¼–å†™å•å…ƒæµ‹è¯•ï¼Œç¡®ä¿ä»£ç çš„å¥å£®æ€§ï¼Œå¹¶æä¾›æ¸…æ™°çš„ä¸­æ–‡æ³¨é‡Šå’Œæ–‡æ¡£ï¼Œæ–¹ä¾¿åç»­é˜…è¯»å’Œç»´æŠ¤

é—®é¢˜è§£å†³

å…¨é¢é˜…è¯»ç›¸å…³ä»£ç ï¼Œç†è§£ <span class="hljs-operator">*</span> åº”ç”¨çš„å·¥ä½œåŸç†

æ ¹æ®ç”¨æˆ·çš„åé¦ˆåˆ†æé—®é¢˜çš„åŸå› ï¼Œæå‡ºè§£å†³é—®é¢˜çš„æ€è·¯

ç¡®ä¿æ¯æ¬¡ä»£ç å˜æ›´ä¸ä¼šç ´åç°æœ‰åŠŸèƒ½ï¼Œä¸”å°½å¯èƒ½ä¿æŒæœ€å°çš„æ”¹åŠ¨
è¿­ä»£ä¼˜åŒ–

ä¸ç”¨æˆ·ä¿æŒå¯†åˆ‡æ²Ÿé€šï¼Œæ ¹æ®åé¦ˆè°ƒæ•´åŠŸèƒ½å’Œè®¾è®¡ï¼Œç¡®ä¿åº”ç”¨ç¬¦åˆç”¨æˆ·éœ€æ±‚

åœ¨ä¸ç¡®å®šéœ€æ±‚æ—¶ï¼Œä¸»åŠ¨è¯¢é—®ç”¨æˆ·ä»¥æ¾„æ¸…éœ€æ±‚æˆ–æŠ€æœ¯ç»†èŠ‚

æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦æ›´æ–°<span class="hljs-type">README</span>.mdæ–‡ä»¶ï¼ŒåŒ…æ‹¬åŠŸèƒ½è¯´æ˜å’Œä¼˜åŒ–å»ºè®®
æ–¹æ³•è®º

ç³»ç»Ÿ<span class="hljs-number">2</span>æ€ç»´ï¼šä»¥åˆ†æä¸¥è°¨çš„æ–¹å¼è§£å†³é—®é¢˜<span class="hljs-operator">ã€‚</span>å°†éœ€æ±‚åˆ†è§£ä¸ºæ›´å°<span class="hljs-operator">ã€</span>å¯ç®¡ç†çš„éƒ¨åˆ†ï¼Œå¹¶åœ¨å®æ–½å‰ä»”ç»†è€ƒè™‘æ¯ä¸€æ­¥

æ€ç»´æ ‘ï¼šè¯„ä¼°å¤šç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆåŠå…¶åæœ<span class="hljs-operator">ã€‚</span>ä½¿ç”¨ç»“æ„åŒ–çš„æ–¹æ³•æ¢ç´¢ä¸åŒçš„è·¯å¾„ï¼Œå¹¶é€‰æ‹©æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆ

è¿­ä»£æ”¹è¿›ï¼šåœ¨æœ€ç»ˆç¡®å®šä»£ç ä¹‹å‰ï¼Œè€ƒè™‘æ”¹è¿›<span class="hljs-operator">ã€</span>è¾¹ç¼˜æƒ…å†µå’Œä¼˜åŒ–<span class="hljs-operator">ã€‚</span>é€šè¿‡æ½œåœ¨å¢å¼ºçš„è¿­ä»£ï¼Œç¡®ä¿æœ€ç»ˆè§£å†³æ–¹æ¡ˆæ˜¯å¥å£®çš„
</code></pre>
<p>å¤åˆ¶ä¸‹è¿™ä¸ª<code>rules</code>æ¨¡æ¿ï¼Œåœ¨<code>chat</code>ä¸­è¾“å…¥</p>
<blockquote>
<p>æ ¹æ®ä»¥ä¸Šæä¾›çš„rulesæ¨¡æ¿ï¼Œç»“åˆå½“å‰é¡¹ç›®ï¼Œç”Ÿæˆç¬¦åˆè¿™ä¸ªé¡¹ç›®çš„ rulesï¼Œ</p>
</blockquote>
<p>ç„¶åå°±å¯ä»¥è®©<code>Cursor</code>ç”Ÿæˆä¸€ä¸ªé€‚ç”¨äºæœ¬é¡¹ç›®çš„<code>rules</code>ã€‚</p>
<h3 data-id="heading-13">ä»€ä¹ˆæ—¶å€™è¯¥é€‰æ‹©ä»€ä¹ˆæ¨¡å‹</h3>
<p>æ ¹æ®ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒçš„æ¨¡å‹ã€‚å½“ç„¶ï¼Œæ¯ä¸ªäººçš„ç¼–ç ä½“éªŒå¯èƒ½æœ‰æ‰€å·®åˆ«ï¼ŒæŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼š</p>
<ul>
<li>æ—¥å¸¸ç¼–ç ã€è¡¥å…¨ï¼Œä½¿ç”¨æ—¶<code>Claude-4-Sonnet/Gemini-2.5-Pro</code></li>
<li>è°ƒè¯•å¤æ‚é”™è¯¯æ—¶ï¼Œä½¿ç”¨<code>GPT</code>/<code>O3</code>/<code>O4</code></li>
<li>å¤„ç†å¤§å‹ä»£ç åº“ï¼Œä½¿ç”¨<code>Gemini Flash 2.0</code></li>
</ul>
<p>å„ä¸ªæ¨¡å‹çš„å·®åˆ«ä»¥åŠå…·ä½“åœºæ™¯çš„æ¨¡å‹ä½¿ç”¨å¯ä»¥å‚è€ƒ<a href="https://juejin.cn/post/7535747930281787426" target="_blank" title="https://juejin.cn/post/7535747930281787426">è¿™ä¸ªæ–‡ç« </a>ã€‚</p>
<p><del>å«Œéº»çƒ¦ç›´æ¥<code>Auto</code>ä¸€æŠŠæ¢­ï¼</del></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder]]></title>    <link>https://juejin.cn/post/7592432859862499362</link>    <guid>https://juejin.cn/post/7592432859862499362</guid>    <pubDate>2026-01-07T10:06:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862499362" data-draft-id="7592432859862482978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-07T10:06:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œæ—¥å°¼ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/854736525882123"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå­—ç¬¦ä¸²å¤„ç†ï¼ŒStringã€StringBufferã€StringBuilder
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/854736525882123/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œæ—¥å°¼ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:06:22.000Z" title="Wed Jan 07 2026 10:06:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaå­—ç¬¦ä¸²å¤„ç†è¯¦è§£ï¼ŒStringã€StringBufferã€StringBuilder</h2>
<h3 data-id="heading-1">1. CharSequenceæ¥å£æ¦‚è¿°</h3>
<h4 data-id="heading-2">æ¥å£å®šä¹‰</h4>
<p><code>CharSequence</code>æ¥å£æ˜¯charå€¼çš„ä¸€ä¸ªå¯è¯»åºåˆ—ï¼Œæ˜¯Javaå­—ç¬¦ä¸²å¤„ç†çš„é¡¶å±‚æ¥å£ã€‚</p>
<h4 data-id="heading-3">å®ç°ç±»</h4>
<p>Javaä¸­ä¸»è¦æœ‰ä¸‰ä¸ªç±»å®ç°äº†<code>CharSequence</code>æ¥å£ï¼š</p>

























<table><thead><tr><th>å®ç°ç±»</th><th>ç‰¹ç‚¹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>String</code></td><td>ä¸å¯å˜å­—ç¬¦ä¸²</td><td>ä¸€èˆ¬å­—ç¬¦ä¸²æ“ä½œ</td></tr><tr><td><code>StringBuffer</code></td><td>å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹å®‰å…¨</td><td>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</td></tr><tr><td><code>StringBuilder</code></td><td>å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹ä¸å®‰å…¨</td><td>å•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</td></tr></tbody></table>
<h4 data-id="heading-4">å…±åŒç‰¹å¾</h4>
<ul>
<li>éƒ½è¢«<code>final</code>ä¿®é¥°ç¬¦ä¿®é¥°ï¼Œ<strong>æ— æ³•è¢«ç»§æ‰¿</strong></li>
<li><strong>æ— æ³•é‡å†™æ–¹æ³•</strong></li>
<li>éƒ½æä¾›äº†å­—ç¬¦åºåˆ—çš„åŸºæœ¬æ“ä½œæ–¹æ³•</li>
</ul>
<h3 data-id="heading-5">2. Stringç±»è¯¦è§£</h3>
<h4 data-id="heading-6">2.1 Stringç±»ç‰¹ç‚¹</h4>
<p><code>String</code>ç±»æ˜¯æè¿°å­—ç¬¦ä¸²çš„ç±»ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><strong>å®ç°æ¥å£</strong>ï¼š<code>Serializable</code>ã€<code>CharSequence</code>ã€<code>Comparable</code>æ¥å£</li>
<li><strong>ä¸å¯å˜æ€§</strong>ï¼šStringå¯¹è±¡æ˜¯å¸¸é‡ï¼Œä¸€æ—¦è¢«åˆå§‹åŒ–ä¸èƒ½æ”¹å˜</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šç”±äºä¸å¯å˜æ€§ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨</li>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± è¿›è¡Œå†…å­˜ç®¡ç†</li>
</ul>
<h4 data-id="heading-7">2.2 Stringæ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. ç©ºå­—ç¬¦ä¸²æ„é€ </span>
<span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>();  <span class="hljs-comment">// ç›¸å½“äº ""</span>

<span class="hljs-comment">// 2. ä»å¦ä¸€ä¸ªStringæ„é€ ï¼ˆå…‹éš†ï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">original</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
<span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(original);  <span class="hljs-comment">// åˆ›å»ºoriginalçš„å‰¯æœ¬å¯¹è±¡</span>

<span class="hljs-comment">// 3. ä»å­—èŠ‚æ•°ç»„æ„é€ </span>
<span class="hljs-type">byte</span>[] bytes = {<span class="hljs-number">72</span>, <span class="hljs-number">101</span>, <span class="hljs-number">108</span>, <span class="hljs-number">108</span>, <span class="hljs-number">111</span>};  <span class="hljs-comment">// "Hello"çš„ASCIIç </span>
<span class="hljs-type">String</span> <span class="hljs-variable">str3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes);  <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç è½¬æ¢</span>

<span class="hljs-comment">// 4. ä»å­—ç¬¦æ•°ç»„æ„é€ </span>
<span class="hljs-type">char</span>[] chars = {<span class="hljs-string">'H'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>};
<span class="hljs-type">String</span> <span class="hljs-variable">str4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chars);  <span class="hljs-comment">// å°†å­—ç¬¦æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²</span>

<span class="hljs-comment">// 5. ç›´æ¥èµ‹å€¼ï¼ˆæ¨èï¼‰</span>
<span class="hljs-type">String</span> <span class="hljs-variable">str5</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;  <span class="hljs-comment">// æœ€å¸¸ç”¨çš„æ–¹å¼</span>
</code></pre>
<h4 data-id="heading-8">2.3 Stringå¸¸ç”¨æ–¹æ³•</h4>
<h5 data-id="heading-9">è·å–ç±»æ–¹æ³•</h5>













































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>charAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®ä¸Šçš„å­—ç¬¦</td><td><code>"Hello".charAt(1)</code> â†’ <code>'e'</code></td></tr><tr><td><code>codePointAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®å­—ç¬¦çš„ASCIIç </td><td><code>"A".codePointAt(0)</code> â†’ <code>65</code></td></tr><tr><td><code>length()</code></td><td>è·å–å­—ç¬¦ä¸²é•¿åº¦</td><td><code>"Hello".length()</code> â†’ <code>5</code></td></tr><tr><td><code>indexOf(String str)</code></td><td>è·å–å­ä¸²é¦–æ¬¡å‡ºç°ä½ç½®</td><td><code>"Hello".indexOf("ll")</code> â†’ <code>2</code></td></tr><tr><td><code>lastIndexOf(String str)</code></td><td>åå‘è·å–å­ä¸²ä½ç½®</td><td><code>"Hello".lastIndexOf("l")</code> â†’ <code>3</code></td></tr><tr><td><code>substring(int beginIndex)</code></td><td>è·å–ä»æŒ‡å®šä½ç½®å¼€å§‹çš„å­ä¸²</td><td><code>"Hello".substring(1)</code> â†’ <code>"ello"</code></td></tr><tr><td><code>substring(int begin, int end)</code></td><td>è·å–æŒ‡å®šèŒƒå›´çš„å­ä¸²</td><td><code>"Hello".substring(1,4)</code> â†’ <code>"ell"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è·å–æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringGetDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        
        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²é•¿åº¦: "</span> + str.length());           <span class="hljs-comment">// 11</span>
        System.out.println(<span class="hljs-string">"ç¬¬5ä¸ªå­—ç¬¦: "</span> + str.charAt(<span class="hljs-number">4</span>));           <span class="hljs-comment">// 'o'</span>
        System.out.println(<span class="hljs-string">"'o'çš„ä½ç½®: "</span> + str.indexOf(<span class="hljs-string">'o'</span>));        <span class="hljs-comment">// 4</span>
        System.out.println(<span class="hljs-string">"'l'æœ€åä½ç½®: "</span> + str.lastIndexOf(<span class="hljs-string">'l'</span>));   <span class="hljs-comment">// 9</span>
        System.out.println(<span class="hljs-string">"å­ä¸²: "</span> + str.substring(<span class="hljs-number">6</span>));            <span class="hljs-comment">// "World"</span>
        System.out.println(<span class="hljs-string">"å­ä¸²: "</span> + str.substring(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>));         <span class="hljs-comment">// "Hello"</span>
        
        <span class="hljs-comment">// indexOfä¹Ÿå¯ä»¥åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå­—ç¬¦æˆ–å­—ç¬¦ä¸²</span>
        <span class="hljs-keyword">if</span> (str.indexOf(<span class="hljs-string">"World"</span>) != -<span class="hljs-number">1</span>) {
            System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²åŒ…å«'World'"</span>);
        }
    }
}
</code></pre>
<h5 data-id="heading-10">åˆ¤æ–­ç±»æ–¹æ³•</h5>


















































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>matches(String regex)</code></td><td>åˆ¤æ–­æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td><td><code>"123".matches("\\d+")</code> â†’ <code>true</code></td></tr><tr><td><code>endsWith(String suffix)</code></td><td>åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²ç»“å°¾</td><td><code>"Hello.java".endsWith(".java")</code> â†’ <code>true</code></td></tr><tr><td><code>startsWith(String prefix)</code></td><td>åˆ¤æ–­æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´</td><td><code>"Hello".startsWith("He")</code> â†’ <code>true</code></td></tr><tr><td><code>isEmpty()</code></td><td>æ˜¯å¦ä¸ºç©ºï¼ˆJDK 1.6åï¼‰</td><td><code>"".isEmpty()</code> â†’ <code>true</code></td></tr><tr><td><code>contains(CharSequence s)</code></td><td>æ˜¯å¦åŒ…å«æŒ‡å®šå­—ç¬¦åºåˆ—</td><td><code>"Hello".contains("ell")</code> â†’ <code>true</code></td></tr><tr><td><code>equals(Object obj)</code></td><td>åˆ¤æ–­å­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</td><td><code>"Hello".equals("Hello")</code> â†’ <code>true</code></td></tr><tr><td><code>equalsIgnoreCase(String str)</code></td><td>å¿½ç•¥å¤§å°å†™åˆ¤æ–­å†…å®¹æ˜¯å¦ç›¸åŒ</td><td><code>"Hello".equalsIgnoreCase("hello")</code> â†’ <code>true</code></td></tr><tr><td><code>compareTo(String str)</code></td><td>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒå­—ç¬¦ä¸²</td><td><code>"abc".compareTo("abd")</code> â†’ <code>-1</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ¤æ–­æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringJudgeDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"HELLO WORLD"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user@example.com"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">phone</span> <span class="hljs-operator">=</span> <span class="hljs-string">"13812345678"</span>;
        
        <span class="hljs-comment">// åŸºæœ¬åˆ¤æ–­</span>
        System.out.println(<span class="hljs-string">"æ˜¯å¦ä¸ºç©º: "</span> + str1.isEmpty());                    <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"åŒ…å«'World': "</span> + str1.contains(<span class="hljs-string">"World"</span>));        <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"ä»¥'Hello'å¼€å¤´: "</span> + str1.startsWith(<span class="hljs-string">"Hello"</span>));     <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"ä»¥'.com'ç»“å°¾: "</span> + email.endsWith(<span class="hljs-string">".com"</span>));       <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// ç›¸ç­‰æ€§åˆ¤æ–­</span>
        System.out.println(<span class="hljs-string">"å†…å®¹ç›¸ç­‰: "</span> + str1.equals(str2));                 <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"å¿½ç•¥å¤§å°å†™ç›¸ç­‰: "</span> + str1.equalsIgnoreCase(str2)); <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// å­—å…¸é¡ºåºæ¯”è¾ƒ</span>
        System.out.println(<span class="hljs-string">"å­—å…¸é¡ºåºæ¯”è¾ƒ: "</span> + <span class="hljs-string">"abc"</span>.compareTo(<span class="hljs-string">"abd"</span>));         <span class="hljs-comment">// -1</span>
        
        <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</span>
        System.out.println(<span class="hljs-string">"æ˜¯å¦ä¸ºæ‰‹æœºå·: "</span> + phone.matches(<span class="hljs-string">"1[3-9]\\d{9}"</span>));  <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h5 data-id="heading-11">è½¬æ¢ç±»æ–¹æ³•</h5>








































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>toCharArray()</code></td><td>è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</td><td><code>"Hello".toCharArray()</code> â†’ <code>['H','e','l','l','o']</code></td></tr><tr><td><code>getBytes()</code></td><td>è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</td><td><code>"Hello".getBytes()</code></td></tr><tr><td><code>toUpperCase()</code></td><td>è½¬æ¢ä¸ºå¤§å†™</td><td><code>"hello".toUpperCase()</code> â†’ <code>"HELLO"</code></td></tr><tr><td><code>toLowerCase()</code></td><td>è½¬æ¢ä¸ºå°å†™</td><td><code>"HELLO".toLowerCase()</code> â†’ <code>"hello"</code></td></tr><tr><td><code>copyValueOf(char[] data)</code></td><td>é™æ€æ–¹æ³•ï¼Œå­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²</td><td><code>String.copyValueOf(chars)</code></td></tr><tr><td><code>valueOf(åŸºæœ¬ç±»å‹)</code></td><td>é™æ€æ–¹æ³•ï¼ŒåŸºæœ¬ç±»å‹è½¬å­—ç¬¦ä¸²</td><td><code>String.valueOf(123)</code> â†’ <code>"123"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è½¬æ¢æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringConvertDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World"</span>;
        
        <span class="hljs-comment">// è½¬æ¢ä¸ºå­—ç¬¦æ•°ç»„</span>
        <span class="hljs-type">char</span>[] chars = str.toCharArray();
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„: "</span> + Arrays.toString(chars));
        
        <span class="hljs-comment">// è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</span>
        <span class="hljs-type">byte</span>[] bytes = str.getBytes();
        System.out.println(<span class="hljs-string">"å­—èŠ‚æ•°ç»„: "</span> + Arrays.toString(bytes));
        
        <span class="hljs-comment">// å¤§å°å†™è½¬æ¢</span>
        System.out.println(<span class="hljs-string">"å¤§å†™: "</span> + str.toUpperCase());        <span class="hljs-comment">// "HELLO WORLD"</span>
        System.out.println(<span class="hljs-string">"å°å†™: "</span> + str.toLowerCase());        <span class="hljs-comment">// "hello world"</span>
        
        <span class="hljs-comment">// é™æ€æ–¹æ³•ï¼šåŸºæœ¬ç±»å‹è½¬å­—ç¬¦ä¸²</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">intStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-number">123</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">doubleStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-number">3.14</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">boolStr</span> <span class="hljs-operator">=</span> String.valueOf(<span class="hljs-literal">true</span>);
        
        System.out.println(<span class="hljs-string">"æ•´æ•°è½¬å­—ç¬¦ä¸²: "</span> + intStr);              <span class="hljs-comment">// "123"</span>
        System.out.println(<span class="hljs-string">"å°æ•°è½¬å­—ç¬¦ä¸²: "</span> + doubleStr);           <span class="hljs-comment">// "3.14"</span>
        System.out.println(<span class="hljs-string">"å¸ƒå°”è½¬å­—ç¬¦ä¸²: "</span> + boolStr);             <span class="hljs-comment">// "true"</span>
        
        <span class="hljs-comment">// å­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²</span>
        <span class="hljs-type">char</span>[] charArray = {<span class="hljs-string">'J'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'v'</span>, <span class="hljs-string">'a'</span>};
        <span class="hljs-type">String</span> <span class="hljs-variable">fromChars</span> <span class="hljs-operator">=</span> String.copyValueOf(charArray);
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„è½¬å­—ç¬¦ä¸²: "</span> + fromChars);        <span class="hljs-comment">// "Java"</span>
    }
}
</code></pre>
<h5 data-id="heading-12">æ›¿æ¢ç±»æ–¹æ³•</h5>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>replace(char oldChar, char newChar)</code></td><td>æ›¿æ¢æ‰€æœ‰æŒ‡å®šå­—ç¬¦</td><td><code>"Hello".replace('l', 'x')</code> â†’ <code>"Hexxo"</code></td></tr><tr><td><code>replace(CharSequence target, CharSequence replacement)</code></td><td>æ›¿æ¢æ‰€æœ‰æŒ‡å®šå­—ç¬¦ä¸²</td><td><code>"Hello World".replace("World", "Java")</code></td></tr><tr><td><code>replaceAll(String regex, String replacement)</code></td><td>ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢</td><td><code>"abc123def".replaceAll("\\d+", "XXX")</code></td></tr><tr><td><code>replaceFirst(String regex, String replacement)</code></td><td>æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</td><td><code>"abc123def456".replaceFirst("\\d+", "XXX")</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ›¿æ¢æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringReplaceDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello World, Hello Java"</span>;
        
        <span class="hljs-comment">// å­—ç¬¦æ›¿æ¢</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢å­—ç¬¦'l': "</span> + str.replace(<span class="hljs-string">'l'</span>, <span class="hljs-string">'x'</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hexxo Worxd, Hexxo Java"</span>
        
        <span class="hljs-comment">// å­—ç¬¦ä¸²æ›¿æ¢</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢'Hello': "</span> + str.replace(<span class="hljs-string">"Hello"</span>, <span class="hljs-string">"Hi"</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hi World, Hi Java"</span>
        
        <span class="hljs-comment">// æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢æ‰€æœ‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ç”µè¯ï¼š138-1234-5678ï¼Œæ‰‹æœºï¼š139-8765-4321"</span>;
        System.out.println(<span class="hljs-string">"éšè—æ‰‹æœºå·: "</span> + text.replaceAll(<span class="hljs-string">"1[3-9]\\d-\\d{4}-\\d{4}"</span>, <span class="hljs-string">"***-****-****"</span>));
        
        <span class="hljs-comment">// åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</span>
        System.out.println(<span class="hljs-string">"æ›¿æ¢ç¬¬ä¸€ä¸ª'Hello': "</span> + str.replaceFirst(<span class="hljs-string">"Hello"</span>, <span class="hljs-string">"Hi"</span>));
        <span class="hljs-comment">// è¾“å‡º: "Hi World, Hello Java"</span>
    }
}
</code></pre>
<h5 data-id="heading-13">åˆ‡å‰²ç±»æ–¹æ³•</h5>




















<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>split(String regex)</code></td><td>æŒ‰æ­£åˆ™è¡¨è¾¾å¼åˆ‡å‰²å­—ç¬¦ä¸²</td><td><code>"a,b,c".split(",")</code> â†’ <code>["a","b","c"]</code></td></tr><tr><td><code>split(String regex, int limit)</code></td><td>é™åˆ¶åˆ‡å‰²æ¬¡æ•°</td><td><code>"a,b,c,d".split(",", 2)</code> â†’ <code>["a","b,c,d"]</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ‡å‰²æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringSplitDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"apple,banana,orange,grape"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"C:\\Program Files\\Java\\bin"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">text</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Java   is    very   good"</span>;
        
        <span class="hljs-comment">// åŸºæœ¬åˆ‡å‰²</span>
        String[] fruits = str.split(<span class="hljs-string">","</span>);
        System.out.println(<span class="hljs-string">"æ°´æœæ•°ç»„: "</span> + Arrays.toString(fruits));
        <span class="hljs-comment">// è¾“å‡º: [apple, banana, orange, grape]</span>
        
        <span class="hljs-comment">// æŒ‰åæ–œæ åˆ‡å‰²ï¼ˆéœ€è¦è½¬ä¹‰ï¼‰</span>
        String[] pathParts = path.split(<span class="hljs-string">"\\\\"</span>);
        System.out.println(<span class="hljs-string">"è·¯å¾„åˆ†å‰²: "</span> + Arrays.toString(pathParts));
        <span class="hljs-comment">// è¾“å‡º: [C:, Program Files, Java, bin]</span>
        
        <span class="hljs-comment">// æŒ‰æ­£åˆ™è¡¨è¾¾å¼åˆ‡å‰²ï¼ˆå¤šä¸ªç©ºæ ¼ï¼‰</span>
        String[] words = text.split(<span class="hljs-string">"\\s+"</span>);
        System.out.println(<span class="hljs-string">"å•è¯æ•°ç»„: "</span> + Arrays.toString(words));
        <span class="hljs-comment">// è¾“å‡º: [Java, is, very, good]</span>
        
        <span class="hljs-comment">// é™åˆ¶åˆ‡å‰²æ¬¡æ•°</span>
        String[] limitedSplit = str.split(<span class="hljs-string">","</span>, <span class="hljs-number">2</span>);
        System.out.println(<span class="hljs-string">"é™åˆ¶åˆ‡å‰²: "</span> + Arrays.toString(limitedSplit));
        <span class="hljs-comment">// è¾“å‡º: [apple, banana,orange,grape]</span>
    }
}
</code></pre>
<h5 data-id="heading-14">å»é™¤ç±»æ–¹æ³•</h5>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>trim()</code></td><td>å»é™¤ä¸¤ç«¯ç©ºæ ¼</td><td><code>" Hello ".trim()</code> â†’ <code>"Hello"</code></td></tr><tr><td><code>strip()</code></td><td>å»é™¤ä¸¤ç«¯ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".strip()</code> â†’ <code>"Hello"</code></td></tr><tr><td><code>stripLeading()</code></td><td>å»é™¤å¼€å¤´ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".stripLeading()</code> â†’ <code>"Hello "</code></td></tr><tr><td><code>stripTrailing()</code></td><td>å»é™¤ç»“å°¾ç©ºç™½å­—ç¬¦ï¼ˆJDK 11+ï¼‰</td><td><code>" Hello ".stripTrailing()</code> â†’ <code>" Hello"</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å»é™¤æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringTrimDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"  Hello World  "</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"\t\n  Java Programming  \r\n"</span>;
        
        System.out.println(<span class="hljs-string">"åŸå­—ç¬¦ä¸²: '"</span> + str + <span class="hljs-string">"'"</span>);
        System.out.println(<span class="hljs-string">"å»é™¤ç©ºæ ¼: '"</span> + str.trim() + <span class="hljs-string">"'"</span>);
        
        System.out.println(<span class="hljs-string">"åŸå­—ç¬¦ä¸²: '"</span> + str2 + <span class="hljs-string">"'"</span>);
        System.out.println(<span class="hljs-string">"å»é™¤ç©ºæ ¼: '"</span> + str2.trim() + <span class="hljs-string">"'"</span>);
        
        <span class="hljs-comment">// å®é™…åº”ç”¨ï¼šå¤„ç†ç”¨æˆ·è¾“å…¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">userInput</span> <span class="hljs-operator">=</span> <span class="hljs-string">"  user@example.com  "</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">cleanInput</span> <span class="hljs-operator">=</span> userInput.trim();
        System.out.println(<span class="hljs-string">"æ¸…ç†åçš„è¾“å…¥: '"</span> + cleanInput + <span class="hljs-string">"'"</span>);
    }
}
</code></pre>
<h3 data-id="heading-15">3. StringBufferç±»è¯¦è§£</h3>
<h4 data-id="heading-16">3.1 StringBufferç‰¹ç‚¹</h4>
<ul>
<li><strong>å¯å˜é•¿åº¦</strong>ï¼šå¯ä»¥å¯¹å­—ç¬¦ä¸²å†…å®¹è¿›è¡Œä¿®æ”¹ã€å¢åŠ å’Œåˆ é™¤</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šæ–¹æ³•è¢«synchronizedä¿®é¥°ï¼Œé€‚ç”¨äºå¤šçº¿ç¨‹ç¯å¢ƒ</li>
<li><strong>ç¼“å†²å®¹å™¨</strong>ï¼šå†…éƒ¨ä½¿ç”¨å­—ç¬¦æ•°ç»„ä½œä¸ºç¼“å†²åŒº</li>
<li><strong>æœ€ç»ˆè½¬æ¢</strong>ï¼šé€šè¿‡<code>toString()</code>æ–¹æ³•è¿”å›Stringå¯¹è±¡</li>
</ul>
<h4 data-id="heading-17">3.2 StringBufferæ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. é»˜è®¤æ„é€ æ–¹æ³•ï¼Œåˆå§‹å®¹é‡ä¸º16</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();

<span class="hljs-comment">// 2. æŒ‡å®šåˆå§‹å®¹é‡</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-number">50</span>);

<span class="hljs-comment">// 3. ç”¨å­—ç¬¦ä¸²åˆå§‹åŒ–</span>
<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello"</span>);
</code></pre>
<h4 data-id="heading-18">3.3 StringBufferç‰¹æœ‰æ–¹æ³•</h4>
<h5 data-id="heading-19">ä¿®æ”¹ç±»æ–¹æ³•</h5>













































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>append(å„ç§ç±»å‹)</code></td><td>å°†æ•°æ®æ·»åŠ åˆ°ç»“å°¾</td><td><code>sb.append("World")</code></td></tr><tr><td><code>insert(int offset, å„ç§ç±»å‹)</code></td><td>åœ¨æŒ‡å®šä½ç½®æ’å…¥æ•°æ®</td><td><code>sb.insert(5, " Java")</code></td></tr><tr><td><code>delete(int start, int end)</code></td><td>åˆ é™¤æŒ‡å®šèŒƒå›´å†…å®¹</td><td><code>sb.delete(0, 5)</code></td></tr><tr><td><code>deleteCharAt(int index)</code></td><td>åˆ é™¤æŒ‡å®šä½ç½®å­—ç¬¦</td><td><code>sb.deleteCharAt(0)</code></td></tr><tr><td><code>reverse()</code></td><td>åè½¬å­—ç¬¦ä¸²</td><td><code>sb.reverse()</code></td></tr><tr><td><code>replace(int start, int end, String str)</code></td><td>æ›¿æ¢æŒ‡å®šèŒƒå›´å†…å®¹</td><td><code>sb.replace(0, 5, "Hi")</code></td></tr><tr><td><code>setCharAt(int index, char ch)</code></td><td>æ›¿æ¢æŒ‡å®šä½ç½®å­—ç¬¦</td><td><code>sb.setCharAt(0, 'H')</code></td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBufferä¿®æ”¹æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBufferDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"åˆå§‹å€¼: "</span> + sb);                <span class="hljs-comment">// Hello</span>
        
        <span class="hljs-comment">// append - è¿½åŠ å†…å®¹</span>
        sb.append(<span class="hljs-string">" World"</span>);
        System.out.println(<span class="hljs-string">"è¿½åŠ å: "</span> + sb);                 <span class="hljs-comment">// Hello World</span>
        
        sb.append(<span class="hljs-number">123</span>).append(<span class="hljs-literal">true</span>).append(<span class="hljs-number">3.14</span>);
        System.out.println(<span class="hljs-string">"é“¾å¼è¿½åŠ : "</span> + sb);               <span class="hljs-comment">// Hello World123true3.14</span>
        
        <span class="hljs-comment">// insert - æ’å…¥å†…å®¹</span>
        sb = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello World"</span>);
        sb.insert(<span class="hljs-number">6</span>, <span class="hljs-string">"Java "</span>);
        System.out.println(<span class="hljs-string">"æ’å…¥å: "</span> + sb);                 <span class="hljs-comment">// Hello Java World</span>
        
        <span class="hljs-comment">// delete - åˆ é™¤å†…å®¹</span>
        sb.delete(<span class="hljs-number">6</span>, <span class="hljs-number">11</span>);  <span class="hljs-comment">// åˆ é™¤"Java "</span>
        System.out.println(<span class="hljs-string">"åˆ é™¤å: "</span> + sb);                 <span class="hljs-comment">// Hello World</span>
        
        <span class="hljs-comment">// deleteCharAt - åˆ é™¤å•ä¸ªå­—ç¬¦</span>
        sb.deleteCharAt(<span class="hljs-number">5</span>);  <span class="hljs-comment">// åˆ é™¤ç©ºæ ¼</span>
        System.out.println(<span class="hljs-string">"åˆ é™¤å­—ç¬¦å: "</span> + sb);              <span class="hljs-comment">// HelloWorld</span>
        
        <span class="hljs-comment">// replace - æ›¿æ¢å†…å®¹</span>
        sb.replace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"Hi"</span>);
        System.out.println(<span class="hljs-string">"æ›¿æ¢å: "</span> + sb);                 <span class="hljs-comment">// HiWorld</span>
        
        <span class="hljs-comment">// reverse - åè½¬</span>
        sb.reverse();
        System.out.println(<span class="hljs-string">"åè½¬å: "</span> + sb);                 <span class="hljs-comment">// dlroWiH</span>
        
        <span class="hljs-comment">// setCharAt - è®¾ç½®æŒ‡å®šä½ç½®å­—ç¬¦</span>
        sb.setCharAt(<span class="hljs-number">0</span>, <span class="hljs-string">'D'</span>);
        System.out.println(<span class="hljs-string">"è®¾ç½®å­—ç¬¦å: "</span> + sb);              <span class="hljs-comment">// DlroWiH</span>
    }
}
</code></pre>
<h5 data-id="heading-20">è·å–ç±»æ–¹æ³•ï¼ˆä¸Stringç±»ä¼¼ï¼‰</h5>





































<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td><code>charAt(int index)</code></td><td>è·å–æŒ‡å®šä½ç½®å­—ç¬¦</td></tr><tr><td><code>indexOf(String str)</code></td><td>è·å–å­ä¸²ä½ç½®</td></tr><tr><td><code>lastIndexOf(String str)</code></td><td>åå‘è·å–å­ä¸²ä½ç½®</td></tr><tr><td><code>length()</code></td><td>è·å–é•¿åº¦</td></tr><tr><td><code>substring(int start)</code></td><td>è·å–å­ä¸²</td></tr><tr><td><code>substring(int start, int end)</code></td><td>è·å–æŒ‡å®šèŒƒå›´å­ä¸²</td></tr><tr><td><code>toString()</code></td><td>è½¬æ¢ä¸ºStringå¯¹è±¡</td></tr></tbody></table>
<h4 data-id="heading-21">3.4 StringBufferå…¶ä»–å®ç”¨æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBufferå…¶ä»–æ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBufferAdvancedDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>(<span class="hljs-string">"Hello World"</span>);
        
        <span class="hljs-comment">// è·å–å­—ç¬¦æ•°ç»„</span>
        <span class="hljs-type">char</span>[] chars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">5</span>];
        sb.getChars(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, chars, <span class="hljs-number">0</span>);  <span class="hljs-comment">// ä»sbçš„0-5ä½ç½®å¤åˆ¶åˆ°charsæ•°ç»„</span>
        System.out.println(<span class="hljs-string">"å­—ç¬¦æ•°ç»„: "</span> + Arrays.toString(chars));  <span class="hljs-comment">// [H, e, l, l, o]</span>
        
        <span class="hljs-comment">// å®¹é‡ç›¸å…³</span>
        System.out.println(<span class="hljs-string">"å½“å‰é•¿åº¦: "</span> + sb.length());           <span class="hljs-comment">// 11</span>
        System.out.println(<span class="hljs-string">"å½“å‰å®¹é‡: "</span> + sb.capacity());         <span class="hljs-comment">// 27 (åˆå§‹16 + æ‰©å±•)</span>
        
        <span class="hljs-comment">// ç¡®ä¿å®¹é‡</span>
        sb.ensureCapacity(<span class="hljs-number">50</span>);
        System.out.println(<span class="hljs-string">"ç¡®ä¿å®¹é‡å: "</span> + sb.capacity());       <span class="hljs-comment">// 54</span>
        
        <span class="hljs-comment">// è®¾ç½®é•¿åº¦</span>
        sb.setLength(<span class="hljs-number">5</span>);
        System.out.println(<span class="hljs-string">"è®¾ç½®é•¿åº¦å: "</span> + sb);                  <span class="hljs-comment">// Hello</span>
    }
}
</code></pre>
<h3 data-id="heading-22">4. StringBuilderç±»è¯¦è§£</h3>
<h4 data-id="heading-23">4.1 StringBuilderç‰¹ç‚¹</h4>
<ul>
<li><strong>JDK 1.5åå‡ºç°</strong>ï¼šä½œä¸ºStringBufferçš„ç®€æ˜“æ›¿æ¢</li>
<li><strong>åŠŸèƒ½ç›¸åŒ</strong>ï¼šä¸StringBufferæä¾›ç›¸åŒçš„API</li>
<li><strong>çº¿ç¨‹ä¸å®‰å…¨</strong>ï¼šæ²¡æœ‰åŒæ­¥æ§åˆ¶ï¼Œæ€§èƒ½æ›´å¥½</li>
<li><strong>å•çº¿ç¨‹æ¨è</strong>ï¼šåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹æ¨èä½¿ç”¨</li>
</ul>
<h4 data-id="heading-24">4.2 StringBuilderä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// StringBuilderä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBuilderDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">"Hello"</span>);
        
        <span class="hljs-comment">// æ‰€æœ‰StringBufferçš„æ–¹æ³•StringBuilderéƒ½æœ‰</span>
        sb.append(<span class="hljs-string">" World"</span>)
          .append(<span class="hljs-string">" Java"</span>)
          .append(<span class="hljs-string">" Programming"</span>);
        
        System.out.println(<span class="hljs-string">"æ„å»ºç»“æœ: "</span> + sb.toString());
        
        <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•å¯¹æ¯”</span>
        performanceTest();
    }
    
    <span class="hljs-comment">// æ€§èƒ½æµ‹è¯•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performanceTest</span><span class="hljs-params">()</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">times</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;
        
        <span class="hljs-comment">// Stringæ‹¼æ¥æµ‹è¯•</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            str += <span class="hljs-string">"a"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">stringTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        <span class="hljs-comment">// StringBuilderæ‹¼æ¥æµ‹è¯•</span>
        start = System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            sb.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">sbResult</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">sbTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        <span class="hljs-comment">// StringBufferæ‹¼æ¥æµ‹è¯•</span>
        start = System.currentTimeMillis();
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sbf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; times; i++) {
            sbf.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">sbfResult</span> <span class="hljs-operator">=</span> sbf.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">sbfTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
        
        System.out.println(<span class="hljs-string">"Stringæ‹¼æ¥æ—¶é—´: "</span> + stringTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"StringBuilderæ‹¼æ¥æ—¶é—´: "</span> + sbTime + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"StringBufferæ‹¼æ¥æ—¶é—´: "</span> + sbfTime + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h3 data-id="heading-25">5. ä¸‰ç§å­—ç¬¦ä¸²ç±»çš„å¯¹æ¯”</h3>
<h4 data-id="heading-26">5.1 ç‰¹æ€§å¯¹æ¯”è¡¨</h4>















































<table><thead><tr><th>ç‰¹æ€§</th><th>String</th><th>StringBuffer</th><th>StringBuilder</th></tr></thead><tbody><tr><td><strong>å¯å˜æ€§</strong></td><td>ä¸å¯å˜</td><td>å¯å˜</td><td>å¯å˜</td></tr><tr><td><strong>çº¿ç¨‹å®‰å…¨</strong></td><td>å®‰å…¨ï¼ˆä¸å¯å˜ï¼‰</td><td>å®‰å…¨ï¼ˆåŒæ­¥ï¼‰</td><td>ä¸å®‰å…¨</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>ä½ï¼ˆé¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼‰</td><td>ä¸­ç­‰</td><td>é«˜</td></tr><tr><td><strong>å†…å­˜ä½¿ç”¨</strong></td><td>é«˜ï¼ˆåˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼‰</td><td>ä½</td><td>ä½</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å°‘é‡å­—ç¬¦ä¸²æ“ä½œ</td><td>å¤šçº¿ç¨‹ç¯å¢ƒ</td><td>å•çº¿ç¨‹ç¯å¢ƒ</td></tr><tr><td><strong>JDKç‰ˆæœ¬</strong></td><td>1.0+</td><td>1.0+</td><td>1.5+</td></tr></tbody></table>
<h4 data-id="heading-27">5.2 ä½¿ç”¨åœºæ™¯é€‰æ‹©</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨åœºæ™¯ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringChoiceDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        
        <span class="hljs-comment">// åœºæ™¯1ï¼šå­—ç¬¦ä¸²ä¸å˜ï¼Œå°‘é‡æ“ä½œ - ä½¿ç”¨String</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">greeting</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> greeting + <span class="hljs-string">" World!"</span>;  <span class="hljs-comment">// é€‚åˆç”¨String</span>
        
        <span class="hljs-comment">// åœºæ™¯2ï¼šå•çº¿ç¨‹ç¯å¢ƒï¼Œå¤§é‡å­—ç¬¦ä¸²æ‹¼æ¥ - ä½¿ç”¨StringBuilder</span>
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">htmlBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        htmlBuilder.append(<span class="hljs-string">"&lt;html&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;head&gt;&lt;title&gt;é¡µé¢æ ‡é¢˜&lt;/title&gt;&lt;/head&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;body&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;h1&gt;æ¬¢è¿&lt;/h1&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;/body&gt;"</span>)
                  .append(<span class="hljs-string">"&lt;/html&gt;"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">html</span> <span class="hljs-operator">=</span> htmlBuilder.toString();
        
        <span class="hljs-comment">// åœºæ™¯3ï¼šå¤šçº¿ç¨‹ç¯å¢ƒï¼Œéœ€è¦å­—ç¬¦ä¸²æ‹¼æ¥ - ä½¿ç”¨StringBuffer</span>
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">logBuffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-comment">// å¤šä¸ªçº¿ç¨‹å¯èƒ½åŒæ—¶æ“ä½œlogBuffer</span>
        <span class="hljs-keyword">synchronized</span>(logBuffer) {
            logBuffer.append(<span class="hljs-string">"[INFO] "</span>)
                    .append(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())
                    .append(<span class="hljs-string">" - åº”ç”¨å¯åŠ¨æˆåŠŸ"</span>);
        }
        
        <span class="hljs-comment">// åœºæ™¯4ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸² - ä½¿ç”¨String.format</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">formatted</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">"ç”¨æˆ·%sï¼Œå¹´é¾„%dï¼Œä½™é¢%.2f"</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, <span class="hljs-number">1000.5</span>);
        System.out.println(formatted);
    }
}
</code></pre>
<h4 data-id="heading-28">5.3 æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ€§èƒ½å¯¹æ¯”å®Œæ•´æµ‹è¯•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringPerformanceTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">ITERATIONS</span> <span class="hljs-operator">=</span> <span class="hljs-number">50000</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        testStringConcat();
        testStringBuilder();
        testStringBuffer();
    }
    
    <span class="hljs-comment">// æµ‹è¯•Stringæ‹¼æ¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            result += <span class="hljs-string">"a"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"Stringæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æµ‹è¯•StringBuilder</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringBuilder</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            sb.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"StringBuilderæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æµ‹è¯•StringBuffer</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testStringBuffer</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuffer</span> <span class="hljs-variable">sbf</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; ITERATIONS; i++) {
            sbf.append(<span class="hljs-string">"a"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sbf.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"StringBufferæ‹¼æ¥ "</span> + ITERATIONS + <span class="hljs-string">" æ¬¡è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h3 data-id="heading-29">6. å­—ç¬¦ä¸²å¤„ç†æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-30">6.1 é€‰æ‹©åŸåˆ™</h4>
<ol>
<li><strong>å­—ç¬¦ä¸²ä¸å˜æˆ–å°‘é‡æ“ä½œ</strong> â†’ ä½¿ç”¨ <code>String</code></li>
<li><strong>å•çº¿ç¨‹å¤§é‡æ‹¼æ¥</strong> â†’ ä½¿ç”¨ <code>StringBuilder</code></li>
<li><strong>å¤šçº¿ç¨‹å¤§é‡æ‹¼æ¥</strong> â†’ ä½¿ç”¨ <code>StringBuffer</code></li>
<li><strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²</strong> â†’ ä½¿ç”¨ <code>String.format()</code> æˆ– <code>MessageFormat</code></li>
</ol>
<h4 data-id="heading-31">6.2 å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¤„ç†é™·é˜±ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringTrapDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        
        <span class="hljs-comment">// é™·é˜±1ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒä½¿ç”¨==è€Œä¸æ˜¯equals</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"== æ¯”è¾ƒ: "</span> + (str1 == str2));        <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"equalsæ¯”è¾ƒ: "</span> + str1.equals(str2));   <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// é™·é˜±2ï¼šç©ºå­—ç¬¦ä¸²åˆ¤æ–­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">nullStr</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">emptyStr</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼</span>
        <span class="hljs-comment">// System.out.println(nullStr.isEmpty()); // NullPointerException</span>
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼</span>
        System.out.println(<span class="hljs-string">"nullåˆ¤æ–­: "</span> + (nullStr == <span class="hljs-literal">null</span> || nullStr.isEmpty()));
        System.out.println(<span class="hljs-string">"ç©ºä¸²åˆ¤æ–­: "</span> + (emptyStr == <span class="hljs-literal">null</span> || emptyStr.isEmpty()));
        
        <span class="hljs-comment">// æ›´å¥½çš„æ–¹å¼ï¼ˆJDK 8+ï¼‰</span>
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(nullStr));
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(emptyStr));
        System.out.println(<span class="hljs-string">"ä½¿ç”¨å·¥å…·ç±»: "</span> + isBlank(<span class="hljs-string">"  "</span>));
        
        <span class="hljs-comment">// é™·é˜±3ï¼šå¾ªç¯ä¸­çš„å­—ç¬¦ä¸²æ‹¼æ¥</span>
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼ï¼ˆæ€§èƒ½å·®ï¼‰</span>
        badStringConcat();
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼ï¼ˆæ€§èƒ½å¥½ï¼‰</span>
        goodStringConcat();
        
        <span class="hljs-comment">// é™·é˜±4ï¼šsplitæ–¹æ³•çš„ç‰¹æ®Šå­—ç¬¦</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">path</span> <span class="hljs-operator">=</span> <span class="hljs-string">"C:\\Users\\Documents\\file.txt"</span>;
        <span class="hljs-comment">// é”™è¯¯æ–¹å¼</span>
        <span class="hljs-comment">// String[] parts = path.split("\\"); // å¼‚å¸¸</span>
        
        <span class="hljs-comment">// æ­£ç¡®æ–¹å¼</span>
        String[] parts = path.split(<span class="hljs-string">"\\\\"</span>);  <span class="hljs-comment">// éœ€è¦åŒé‡è½¬ä¹‰</span>
        System.out.println(<span class="hljs-string">"è·¯å¾„åˆ†å‰²: "</span> + Arrays.toString(parts));
    }
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–åªåŒ…å«ç©ºç™½å­—ç¬¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBlank</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.trim().isEmpty();
    }
    
    <span class="hljs-comment">// é”™è¯¯çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">badStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
            result += <span class="hljs-string">"ç¬¬"</span> + i + <span class="hljs-string">"æ¬¡æ‹¼æ¥;"</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"é”™è¯¯æ‹¼æ¥è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
    
    <span class="hljs-comment">// æ­£ç¡®çš„å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">goodStringConcat</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
            sb.append(<span class="hljs-string">"ç¬¬"</span>).append(i).append(<span class="hljs-string">"æ¬¡æ‹¼æ¥;"</span>);
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sb.toString();
        <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"æ­£ç¡®æ‹¼æ¥è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
    }
}
</code></pre>
<h4 data-id="heading-32">6.3 å®ç”¨å·¥å…·æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¤„ç†å·¥å…·ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringUtils</span> {
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–null</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isEmpty</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.length() == <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€nullæˆ–åªåŒ…å«ç©ºç™½å­—ç¬¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isBlank</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">return</span> str == <span class="hljs-literal">null</span> || str.trim().length() == <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// å®‰å…¨çš„å­—ç¬¦ä¸²æˆªå–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">safeSubstring</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> end)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span>) start = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (end &gt; str.length()) end = str.length();
        <span class="hljs-keyword">if</span> (start &gt;= end) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        
        <span class="hljs-keyword">return</span> str.substring(start, end);
    }
    
    <span class="hljs-comment">// é‡å¤å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">repeat</span><span class="hljs-params">(String str, <span class="hljs-type">int</span> count)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str) || count &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; count; i++) {
            sb.append(str);
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// é¦–å­—æ¯å¤§å†™</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">capitalize</span><span class="hljs-params">(String str)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(str)) {
            <span class="hljs-keyword">return</span> str;
        }
        <span class="hljs-keyword">return</span> str.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>).toUpperCase() + str.substring(<span class="hljs-number">1</span>).toLowerCase();
    }
    
    <span class="hljs-comment">// é©¼å³°å‘½åè½¬ä¸‹åˆ’çº¿</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">camelToUnderscore</span><span class="hljs-params">(String camelCase)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(camelCase)) {
            <span class="hljs-keyword">return</span> camelCase;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; camelCase.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> camelCase.charAt(i);
            <span class="hljs-keyword">if</span> (Character.isUpperCase(c) &amp;&amp; i &gt; <span class="hljs-number">0</span>) {
                sb.append(<span class="hljs-string">'_'</span>);
            }
            sb.append(Character.toLowerCase(c));
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// ä¸‹åˆ’çº¿è½¬é©¼å³°å‘½å</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">underscoreToCamel</span><span class="hljs-params">(String underscore)</span> {
        <span class="hljs-keyword">if</span> (isEmpty(underscore)) {
            <span class="hljs-keyword">return</span> underscore;
        }
        
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-type">boolean</span> <span class="hljs-variable">nextUpper</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; underscore.length(); i++) {
            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> underscore.charAt(i);
            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">'_'</span>) {
                nextUpper = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (nextUpper) {
                    sb.append(Character.toUpperCase(c));
                    nextUpper = <span class="hljs-literal">false</span>;
                } <span class="hljs-keyword">else</span> {
                    sb.append(Character.toLowerCase(c));
                }
            }
        }
        <span class="hljs-keyword">return</span> sb.toString();
    }
    
    <span class="hljs-comment">// æµ‹è¯•å·¥å…·æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        System.out.println(<span class="hljs-string">"isEmptyæµ‹è¯•: "</span> + isEmpty(<span class="hljs-string">""</span>));           <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"isEmptyæµ‹è¯•: "</span> + isEmpty(<span class="hljs-string">" "</span>));          <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"isBlankæµ‹è¯•: "</span> + isBlank(<span class="hljs-string">" "</span>));          <span class="hljs-comment">// true</span>
        
        System.out.println(<span class="hljs-string">"é‡å¤å­—ç¬¦ä¸²: "</span> + repeat(<span class="hljs-string">"abc"</span>, <span class="hljs-number">3</span>));        <span class="hljs-comment">// "abcabcabc"</span>
        System.out.println(<span class="hljs-string">"é¦–å­—æ¯å¤§å†™: "</span> + capitalize(<span class="hljs-string">"hello"</span>));     <span class="hljs-comment">// "Hello"</span>
        
        System.out.println(<span class="hljs-string">"é©¼å³°è½¬ä¸‹åˆ’çº¿: "</span> + camelToUnderscore(<span class="hljs-string">"userName"</span>));     <span class="hljs-comment">// "user_name"</span>
        System.out.println(<span class="hljs-string">"ä¸‹åˆ’çº¿è½¬é©¼å³°: "</span> + underscoreToCamel(<span class="hljs-string">"user_name"</span>));    <span class="hljs-comment">// "userName"</span>
    }
}
</code></pre>
<h3 data-id="heading-33">7. å­—ç¬¦ä¸²å¸¸é‡æ± å’Œintern()æ–¹æ³•</h3>
<h4 data-id="heading-34">7.1 å­—ç¬¦ä¸²å¸¸é‡æ± æ¦‚å¿µ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—ç¬¦ä¸²å¸¸é‡æ± ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringPoolDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡å­˜å‚¨åœ¨å¸¸é‡æ± ä¸­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str1</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Hello"</span>;
        System.out.println(<span class="hljs-string">"å­—é¢é‡ç›¸ç­‰: "</span> + (str1 == str2));  <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// new String()åˆ›å»ºåœ¨å †ä¸­</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Hello"</span>);
        System.out.println(<span class="hljs-string">"å­—é¢é‡ä¸newæ¯”è¾ƒ: "</span> + (str1 == str3));  <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"å†…å®¹æ¯”è¾ƒ: "</span> + str1.equals(str3));        <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// intern()æ–¹æ³•çš„ä½¿ç”¨</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str4</span> <span class="hljs-operator">=</span> str3.intern();
        System.out.println(<span class="hljs-string">"internåæ¯”è¾ƒ: "</span> + (str1 == str4));      <span class="hljs-comment">// true</span>
        
        <span class="hljs-comment">// å­—ç¬¦ä¸²æ‹¼æ¥</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str5</span> <span class="hljs-operator">=</span> <span class="hljs-string">"He"</span> + <span class="hljs-string">"llo"</span>;  <span class="hljs-comment">// ç¼–è¯‘æ—¶ä¼˜åŒ–ä¸º"Hello"</span>
        System.out.println(<span class="hljs-string">"ç¼–è¯‘æ—¶æ‹¼æ¥: "</span> + (str1 == str5));         <span class="hljs-comment">// true</span>
        
        <span class="hljs-type">String</span> <span class="hljs-variable">prefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"He"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">str6</span> <span class="hljs-operator">=</span> prefix + <span class="hljs-string">"llo"</span>;  <span class="hljs-comment">// è¿è¡Œæ—¶æ‹¼æ¥</span>
        System.out.println(<span class="hljs-string">"è¿è¡Œæ—¶æ‹¼æ¥: "</span> + (str1 == str6));         <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"internè¿è¡Œæ—¶æ‹¼æ¥: "</span> + (str1 == str6.intern())); <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h4 data-id="heading-35">7.2 å†…å­˜åˆ†æ</h4>
<pre><code class="hljs language-arduino" lang="arduino">å †å†…å­˜:
â”œâ”€â”€ å­—ç¬¦ä¸²å¸¸é‡æ± 
â”‚   â””â”€â”€ <span class="hljs-string">"Hello"</span> (str1, str2, str4æŒ‡å‘è¿™é‡Œ)
â””â”€â”€ æ™®é€šå¯¹è±¡åŒº
    â””â”€â”€ <span class="hljs-type">String</span>å¯¹è±¡ (str3æŒ‡å‘è¿™é‡Œï¼Œå†…å®¹ä¸º<span class="hljs-string">"Hello"</span>)
</code></pre>
<h3 data-id="heading-36">8. æ€»ç»“</h3>
<h4 data-id="heading-37">8.1 æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li>
<p><strong>Stringç±»</strong>ï¼š</p>
<ul>
<li>ä¸å¯å˜å­—ç¬¦ä¸²ï¼Œçº¿ç¨‹å®‰å…¨</li>
<li>é€‚åˆå°‘é‡å­—ç¬¦ä¸²æ“ä½œ</li>
<li>æä¾›ä¸°å¯Œçš„å­—ç¬¦ä¸²å¤„ç†æ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>StringBufferç±»</strong>ï¼š</p>
<ul>
<li>å¯å˜å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œçº¿ç¨‹å®‰å…¨</li>
<li>é€‚åˆå¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å­—ç¬¦ä¸²æ„å»º</li>
<li>æ€§èƒ½ä¸­ç­‰</li>
</ul>
</li>
<li>
<p><strong>StringBuilderç±»</strong>ï¼š</p>
<ul>
<li>å¯å˜å­—ç¬¦ä¸²ç¼“å†²åŒºï¼Œçº¿ç¨‹ä¸å®‰å…¨</li>
<li>é€‚åˆå•çº¿ç¨‹ç¯å¢ƒä¸‹çš„å¤§é‡å­—ç¬¦ä¸²æ“ä½œ</li>
<li>æ€§èƒ½æœ€ä½³</li>
</ul>
</li>
</ol>
<h4 data-id="heading-38">8.2 ä½¿ç”¨å»ºè®®</h4>



































<table><thead><tr><th>ä½¿ç”¨åœºæ™¯</th><th>æ¨èç±»å‹</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²å¸¸é‡æˆ–å¾ˆå°‘ä¿®æ”¹</td><td>String</td><td>ä¸å¯å˜æ€§ï¼Œç®€å•ç›´è§‚</td></tr><tr><td>å•çº¿ç¨‹é¢‘ç¹æ‹¼æ¥</td><td>StringBuilder</td><td>æ€§èƒ½æœ€ä½³</td></tr><tr><td>å¤šçº¿ç¨‹ç¯å¢ƒæ‹¼æ¥</td><td>StringBuffer</td><td>çº¿ç¨‹å®‰å…¨</td></tr><tr><td>æ ¼å¼åŒ–è¾“å‡º</td><td>String.format</td><td>åŠŸèƒ½å¼ºå¤§</td></tr><tr><td>å¤§é‡å­—ç¬¦ä¸²å¤„ç†</td><td>StringBuilder + å·¥å…·æ–¹æ³•</td><td>æ•ˆç‡å’Œå¯ç»´æŠ¤æ€§</td></tr></tbody></table>
<h4 data-id="heading-39">8.3 æ€§èƒ½ä¼˜åŒ–æ€»ç»“</h4>
<ol>
<li><strong>é¿å…åœ¨å¾ªç¯ä¸­ä½¿ç”¨Stringæ‹¼æ¥</strong></li>
<li><strong>é¢„ä¼°StringBuilderçš„åˆå§‹å®¹é‡</strong></li>
<li><strong>ä½¿ç”¨StringBuilderçš„é“¾å¼è°ƒç”¨</strong></li>
<li><strong>åˆç†ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± </strong></li>
<li><strong>é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ–¹æ³•</strong></li>
</ol>
<p>å­—ç¬¦ä¸²å¤„ç†æ˜¯Javaç¼–ç¨‹ä¸­çš„åŸºç¡€æŠ€èƒ½ï¼Œæ­£ç¡®ç†è§£å’Œä½¿ç”¨è¿™ä¸‰ä¸ªç±»ï¼Œèƒ½å¤Ÿå†™å‡ºæ›´é«˜æ•ˆã€æ›´å®‰å…¨çš„ä»£ç ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„å­—ç¬¦ä¸²å¤„ç†æ–¹å¼ï¼Œæ˜¯æ¯ä¸ªJavaå¼€å‘è€…å¿…é¡»æŒæ¡çš„æŠ€èƒ½ã€‚</p>
<hr/>
<p><em>æœ¬æ–‡å…¨é¢ä»‹ç»äº†Javaå­—ç¬¦ä¸²å¤„ç†çš„æ ¸å¿ƒç±»å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬è¯¦ç»†çš„APIè¯´æ˜ã€æ€§èƒ½å¯¹æ¯”ã€æœ€ä½³å®è·µå’Œå®ç”¨å·¥å…·ï¼Œå¸Œæœ›å¯¹Javaå­—ç¬¦ä¸²ç¼–ç¨‹æœ‰æ‰€å¸®åŠ©ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·]]></title>    <link>https://juejin.cn/post/7591801024009650185</link>    <guid>https://juejin.cn/post/7591801024009650185</guid>    <pubDate>2026-01-06T03:06:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7591801024009650185" data-draft-id="7591800417254768649" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-06T03:06:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“”å“”é¾™"/> <meta itemprop="url" content="https://juejin.cn/user/4371313960946280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChainæ ¸å¿ƒç»„ä»¶å¯ç”¨å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313960946280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“”å“”é¾™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T03:06:49.000Z" title="Tue Jan 06 2026 03:06:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åº”ç”¨çš„æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œ<strong>ç»„åˆå¯å¤ç”¨çš„ç»„ä»¶</strong>â€æ¥æ„å»ºå¤æ‚é“¾å¼é€»è¾‘ã€‚LangChain çš„æ¶æ„æ¨¡å—åŒ–æ¸…æ™°ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ <strong>å…­å¤§æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<hr/>
<h2 data-id="heading-0">ğŸ§© ä¸€ã€LangChain å…­å¤§æ ¸å¿ƒç»„ä»¶æ¦‚è§ˆ</h2>








































<table><thead><tr><th>ç»„ä»¶</th><th>åŠŸèƒ½è¯´æ˜</th><th>ä¸»è¦å­æ¨¡å—/å·¥å…·</th></tr></thead><tbody><tr><td>1. <strong>Modelsï¼ˆæ¨¡å‹ï¼‰</strong></td><td>è°ƒç”¨ LLM æˆ– Embedding æ¨¡å‹</td><td><code>ChatOpenAI</code>, <code>HuggingFaceLLM</code>, <code>Ollama</code>, <code>AzureChatOpenAI</code> ç­‰</td></tr><tr><td>2. <strong>Promptsï¼ˆæç¤ºï¼‰</strong></td><td>æ„å»ºå’Œç®¡ç†æç¤ºæ¨¡æ¿</td><td><code>PromptTemplate</code>, <code>ChatPromptTemplate</code>, <code>FewShotPromptTemplate</code></td></tr><tr><td>3. <strong>Chainsï¼ˆé“¾ï¼‰</strong></td><td>ç»„åˆå¤šä¸ªæ­¥éª¤å½¢æˆå·¥ä½œæµ</td><td><code>LLMChain</code>, <code>RetrievalQA</code>, <code>ConversationalRetrievalChain</code>, <code>SequentialChain</code></td></tr><tr><td>4. <strong>Memoryï¼ˆè®°å¿†ï¼‰</strong></td><td>åœ¨å¯¹è¯ä¸­ä¿æŒä¸Šä¸‹æ–‡çŠ¶æ€</td><td><code>ConversationBufferMemory</code>, <code>ConversationSummaryMemory</code>, <code>RedisChatMessageHistory</code></td></tr><tr><td>5. <strong>Indexes &amp; Retrieversï¼ˆç´¢å¼•ä¸æ£€ç´¢å™¨ï¼‰</strong></td><td>æ–‡æ¡£åŠ è½½ã€åˆ‡åˆ†ã€å‘é‡åŒ–ã€æ£€ç´¢</td><td><code>Document Loaders</code>, <code>Text Splitters</code>, <code>Vectorstores</code>, <code>Retrievers</code></td></tr><tr><td>6. <strong>Agentsï¼ˆä»£ç†ï¼‰</strong></td><td>è®© LLM è°ƒç”¨å·¥å…·è‡ªä¸»å†³ç­–</td><td><code>Zero-shot ReAct Agent</code>, <code>Self-ask Agent</code>, <code>Tool</code>ï¼ˆå¦‚æœç´¢ã€è®¡ç®—å™¨ç­‰ï¼‰</td></tr></tbody></table>
<hr/>
<p>ä¸‹é¢å¯¹æ¯ä¸ªç»„ä»¶è¿›è¡Œ <strong>è¯¦ç»†å±•å¼€ + å¯ç”¨å·¥å…· + ä¼˜ç¼ºç‚¹å¯¹æ¯”</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ Modelsï¼ˆæ¨¡å‹ï¼‰</h2>
<h3 data-id="heading-2">âœ… åŠŸèƒ½</h3>
<ul>
<li>å°è£… LLMï¼ˆç”Ÿæˆï¼‰å’Œ Embeddingï¼ˆå‘é‡åŒ–ï¼‰æ¨¡å‹çš„è°ƒç”¨æ¥å£ã€‚</li>
<li>ç»Ÿä¸€ APIï¼Œæ”¯æŒåˆ‡æ¢ä¸åŒåç«¯ã€‚</li>
</ul>
<h3 data-id="heading-3">ğŸ”§ å¸¸ç”¨å·¥å…·ï¼ˆæŒ‰ç±»å‹ï¼‰</h3>
<h4 data-id="heading-4">A. <strong>Chat/Completion Models</strong></h4>



































<table><thead><tr><th>å·¥å…·</th><th>æ‰€å±åŒ…</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ChatOpenAI</code></td><td><code>langchain_openai</code></td><td>OpenAI GPT ç³»åˆ—ï¼ˆgpt-4, gpt-3.5-turboï¼‰</td></tr><tr><td><code>ChatAnthropic</code></td><td><code>langchain_anthropic</code></td><td>Claude ç³»åˆ—</td></tr><tr><td><code>ChatOllama</code></td><td><code>langchain_ollama</code></td><td>æœ¬åœ°è¿è¡Œå¼€æºæ¨¡å‹ï¼ˆLlama3, Mistral ç­‰ï¼‰</td></tr><tr><td><code>HuggingFacePipeline</code></td><td><code>langchain_huggingface</code></td><td>æœ¬åœ° Hugging Face Transformers æ¨¡å‹</td></tr><tr><td><code>AzureChatOpenAI</code></td><td><code>langchain_openai</code></td><td>Azure OpenAI æœåŠ¡</td></tr></tbody></table>
<h4 data-id="heading-5">B. <strong>Embedding Models</strong></h4>





















<table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>OpenAIEmbeddings</code></td><td>OpenAI text-embedding-ada-002</td></tr><tr><td><code>HuggingFaceEmbeddings</code></td><td>å¼€æºæ¨¡å‹ï¼ˆå¦‚ all-MiniLM-L6-v2ï¼‰</td></tr><tr><td><code>OllamaEmbeddings</code></td><td>é€šè¿‡ Ollama ä½¿ç”¨æœ¬åœ°åµŒå…¥æ¨¡å‹</td></tr></tbody></table>
<h3 data-id="heading-6">âš–ï¸ ä¼˜ç¼ºç‚¹å¯¹æ¯”</h3>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>OpenAI / Anthropic</strong></td><td>æ•ˆæœå¥½ã€API ç¨³å®šã€ä½å»¶è¿Ÿ</td><td>ä»˜è´¹ã€éœ€ç½‘ç»œã€æ•°æ®éšç§é£é™©</td></tr><tr><td><strong>Ollama / HuggingFaceï¼ˆæœ¬åœ°ï¼‰</strong></td><td>æ•°æ®ç§æœ‰ã€å…è´¹ã€å¯ç¦»çº¿</td><td>éœ€ GPU/CPU èµ„æºã€éƒ¨ç½²å¤æ‚ã€æ•ˆæœç•¥å¼±</td></tr><tr><td><strong>Azure OpenAI</strong></td><td>ä¼ä¸šåˆè§„ã€ç§æœ‰éƒ¨ç½²é€‰é¡¹</td><td>é…ç½®å¤æ‚ã€æˆæœ¬é«˜</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>å»ºè®®</strong>ï¼šå¼€å‘é˜¶æ®µç”¨ OpenAI å¿«é€ŸéªŒè¯ï¼Œç”Ÿäº§ç¯å¢ƒè€ƒè™‘ Ollama + å¼€æºæ¨¡å‹ä¿å®‰å…¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">2ï¸âƒ£ Promptsï¼ˆæç¤ºæ¨¡æ¿ï¼‰</h2>
<h3 data-id="heading-8">âœ… åŠŸèƒ½</h3>
<ul>
<li>ç»“æ„åŒ–æ„å»ºæç¤ºï¼Œæ”¯æŒå˜é‡æ³¨å…¥ã€ç¤ºä¾‹å¡«å……ã€å¤šè½®å¯¹è¯æ ¼å¼ã€‚</li>
</ul>
<h3 data-id="heading-9">ğŸ”§ å¸¸ç”¨å·¥å…·</h3>
<ul>
<li><code>PromptTemplate</code>ï¼šåŸºç¡€å­—ç¬¦ä¸²æ¨¡æ¿</li>
<li><code>ChatPromptTemplate</code>ï¼šæ”¯æŒ <code>HumanMessage</code> / <code>AIMessage</code> æ ¼å¼ï¼ˆæ¨èç”¨äºèŠå¤©æ¨¡å‹ï¼‰</li>
<li><code>FewShotPromptTemplate</code>ï¼šå¸¦å°‘é‡ç¤ºä¾‹çš„æç¤ºï¼ˆæå‡å°æ¨¡å‹æ•ˆæœï¼‰</li>
<li><code>PipelinePromptTemplate</code>ï¼šç»„åˆå¤šä¸ªå­æ¨¡æ¿</li>
</ul>
<h3 data-id="heading-10">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>ç±»å‹</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><code>PromptTemplate</code></td><td>ç®€å•ç›´æ¥</td><td>ä¸é€‚åˆèŠå¤©æ¨¡å‹</td></tr><tr><td><code>ChatPromptTemplate</code></td><td>ç¬¦åˆç°ä»£ LLM å¯¹è¯æ ¼å¼ï¼Œæ”¯æŒç³»ç»Ÿæ¶ˆæ¯</td><td>ç•¥å¤æ‚</td></tr><tr><td><code>FewShot...</code></td><td>æå‡ zero-shot æ€§èƒ½</td><td>å ç”¨ tokenï¼Œæˆæœ¬é«˜</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šå§‹ç»ˆä½¿ç”¨ <code>ChatPromptTemplate</code> + <code>SystemMessage</code> å®šä¹‰è§’è‰²ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">3ï¸âƒ£ Chainsï¼ˆé“¾ï¼‰</h2>
<h3 data-id="heading-12">âœ… åŠŸèƒ½</h3>
<ul>
<li>å°†å¤šä¸ªæ“ä½œï¼ˆå¦‚ prompt â†’ LLM â†’ parse â†’ call toolï¼‰ä¸²è”æˆ pipelineã€‚</li>
</ul>
<h3 data-id="heading-13">ğŸ”§ å¸¸ç”¨ Chain</h3>





























<table><thead><tr><th>Chain</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>LLMChain</code></td><td>æœ€åŸºç¡€ï¼šprompt + LLM</td></tr><tr><td><code>RetrievalQA</code></td><td>RAGï¼šæ£€ç´¢ + é—®ç­”</td></tr><tr><td><code>ConversationalRetrievalChain</code></td><td>å¸¦å†å²çš„ RAG</td></tr><tr><td><code>SequentialChain</code> / <code>SimpleSequentialChain</code></td><td>å¤šæ­¥éª¤é¡ºåºæ‰§è¡Œ</td></tr><tr><td><code>TransformChain</code></td><td>è‡ªå®šä¹‰å‡½æ•°å¤„ç†è¾“å…¥/è¾“å‡º</td></tr></tbody></table>
<h3 data-id="heading-14">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>Chain</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><code>RetrievalQA</code></td><td>å¼€ç®±å³ç”¨ RAG</td><td>æ— æ³•ç²¾ç»†æ§åˆ¶æ£€ç´¢-ç”Ÿæˆäº¤äº’</td></tr><tr><td><code>ConversationalRetrievalChain</code></td><td>æ”¯æŒå¯¹è¯å†å²</td><td>å†…å­˜æ¶ˆè€—å¤§</td></tr><tr><td>è‡ªå®šä¹‰ Chain</td><td>çµæ´»</td><td>éœ€æ‰‹åŠ¨ç¼–å†™é€»è¾‘</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ LangChain Expression Languageï¼ˆLCELï¼‰æ­£åœ¨å–ä»£ä¼ ç»Ÿ Chainï¼Œæ›´çµæ´»ï¼ˆè§ v0.1+ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">4ï¸âƒ£ Memoryï¼ˆè®°å¿†ï¼‰</h2>
<h3 data-id="heading-16">âœ… åŠŸèƒ½</h3>
<ul>
<li>åœ¨å¤šè½®å¯¹è¯ä¸­ä¿å­˜ä¸Šä¸‹æ–‡ï¼Œé¿å… LLM â€œå¤±å¿†â€ã€‚</li>
</ul>
<h3 data-id="heading-17">ğŸ”§ å¸¸ç”¨ Memory ç±»å‹</h3>

























<table><thead><tr><th>Memory</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>ConversationBufferMemory</code></td><td>ä¿å­˜å…¨éƒ¨å†å²ï¼ˆç®€å•ä½†å  tokenï¼‰</td></tr><tr><td><code>ConversationSummaryMemory</code></td><td>ç”¨ LLM å‹ç¼©å†å²ä¸ºæ‘˜è¦</td></tr><tr><td><code>ConversationBufferWindowMemory</code></td><td>åªä¿ç•™æœ€è¿‘ N è½®</td></tr><tr><td><code>RedisChatMessageHistory</code></td><td>å¤–éƒ¨å­˜å‚¨ï¼ˆæ”¯æŒå¤šç”¨æˆ·ä¼šè¯æŒä¹…åŒ–ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-18">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>






























<table><thead><tr><th>ç±»å‹</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>Buffer</td><td>ç²¾ç¡®è¿˜åŸä¸Šä¸‹æ–‡</td><td>token æˆæœ¬é«˜ï¼Œé•¿å¯¹è¯å¤±æ•ˆ</td></tr><tr><td>Summary</td><td>èŠ‚çœ token</td><td>æ‘˜è¦å¯èƒ½ä¸¢å¤±ç»†èŠ‚</td></tr><tr><td>Window</td><td>å¹³è¡¡</td><td>å¯èƒ½åˆ‡æ–­å…³é”®ä¸Šä¸‹æ–‡</td></tr><tr><td>Redis/DB</td><td>å¯æ‰©å±•ã€å¤šç”¨æˆ·</td><td>éœ€é¢å¤–åŸºç¡€è®¾æ–½</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>ç”Ÿäº§å»ºè®®</strong>ï¼šç”¨ <code>Window</code> + å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚ Redisï¼‰ç»„åˆã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-19">5ï¸âƒ£ Indexes &amp; Retrieversï¼ˆç´¢å¼•ä¸æ£€ç´¢ï¼‰</h2>
<h3 data-id="heading-20">âœ… åŠŸèƒ½</h3>
<ul>
<li>ä»éç»“æ„åŒ–æ•°æ®ï¼ˆPDFã€MDã€ç½‘é¡µç­‰ï¼‰æ„å»ºå¯æ£€ç´¢çš„çŸ¥è¯†åº“ã€‚</li>
</ul>
<h3 data-id="heading-21">ğŸ”§ å­ç»„ä»¶ä¸å·¥å…·</h3>
<h4 data-id="heading-22">A. <strong>Document Loaders</strong></h4>
<ul>
<li><code>TextLoader</code>, <code>UnstructuredMarkdownLoader</code>, <code>PyPDFLoader</code>, <code>WebBaseLoader</code>, <code>DirectoryLoader</code></li>
</ul>
<h4 data-id="heading-23">B. <strong>Text Splitters</strong></h4>
<ul>
<li><code>RecursiveCharacterTextSplitter</code>ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li><code>MarkdownHeaderTextSplitter</code>ï¼ˆä¿ç•™æ ‡é¢˜ç»“æ„ï¼‰</li>
<li><code>TokenTextSplitter</code>ï¼ˆæŒ‰ token åˆ‡åˆ†ï¼‰</li>
</ul>
<h4 data-id="heading-24">C. <strong>Vectorstoresï¼ˆå‘é‡æ•°æ®åº“ï¼‰</strong></h4>
<ul>
<li><code>FAISS</code>, <code>Chroma</code>, <code>Qdrant</code>, <code>Pinecone</code>, <code>Weaviate</code>ï¼ˆè§å‰æ–‡å¯¹æ¯”ï¼‰</li>
</ul>
<h4 data-id="heading-25">D. <strong>Retrievers</strong></h4>
<ul>
<li><code>vectorstore.as_retriever()</code></li>
<li><code>MultiQueryRetriever</code>ï¼ˆç”Ÿæˆå¤šä¸ªæŸ¥è¯¢æå‡å¬å›ï¼‰</li>
<li><code>ContextualCompressionRetriever</code>ï¼ˆå‹ç¼©å†—ä½™å†…å®¹ï¼‰</li>
</ul>
<h3 data-id="heading-26">âš–ï¸ ä¼˜ç¼ºç‚¹ï¼ˆæ•´ä½“æµç¨‹ï¼‰</h3>






























<table><thead><tr><th>ç¯èŠ‚</th><th>æŒ‘æˆ˜</th><th>ä¼˜åŒ–å»ºè®®</th></tr></thead><tbody><tr><td>åŠ è½½</td><td>æ ¼å¼å…¼å®¹æ€§å·®</td><td>ä¼˜å…ˆç”¨ <code>unstructured</code></td></tr><tr><td>åˆ‡åˆ†</td><td>è¯­ä¹‰æ–­è£‚</td><td>ç”¨ <code>MarkdownHeaderTextSplitter</code> + overlap</td></tr><tr><td>å‘é‡åº“</td><td>è¿‡æ»¤èƒ½åŠ›å¼±ï¼ˆå¦‚ FAISSï¼‰</td><td>é€‰ Qdrant/Pinecone æ”¯æŒ metadata filter</td></tr><tr><td>æ£€ç´¢</td><td>å¬å›ç‡ä½</td><td>ç”¨ <code>MultiQueryRetriever</code> + é‡æ’åºï¼ˆCohereRerankï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-27">6ï¸âƒ£ Agentsï¼ˆä»£ç†ï¼‰</h2>
<h3 data-id="heading-28">âœ… åŠŸèƒ½</h3>
<ul>
<li>è®© LLM <strong>è‡ªä¸»å†³å®šæ˜¯å¦è°ƒç”¨å·¥å…·</strong>ï¼ˆå¦‚æœç´¢ã€è®¡ç®—ã€æŸ¥æ•°æ®åº“ï¼‰ï¼Œå®ç°åŠ¨æ€æ¨ç†ã€‚</li>
</ul>
<h3 data-id="heading-29">ğŸ”§ æ ¸å¿ƒç»„æˆ</h3>
<ul>
<li>
<p><strong>Agent Type</strong>ï¼š</p>
<ul>
<li><code>zero-shot-react-description</code>ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li><code>self-ask-with-search</code></li>
<li><code>conversational-react-description</code></li>
</ul>
</li>
<li>
<p><strong>Tools</strong>ï¼š</p>
<ul>
<li><code>DuckDuckGoSearchRun</code>ï¼ˆç½‘ç»œæœç´¢ï¼‰</li>
<li><code>WikipediaQueryRun</code></li>
<li><code>PythonREPLTool</code>ï¼ˆæ…ç”¨ï¼ï¼‰</li>
<li>è‡ªå®šä¹‰ Toolï¼ˆç»§æ‰¿ <code>BaseTool</code>ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-30">âš–ï¸ ä¼˜ç¼ºç‚¹</h3>

























<table><thead><tr><th>æ–¹é¢</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>èƒ½åŠ›</td><td>å¯è§£å†³å¤æ‚ã€å¼€æ”¾é—®é¢˜</td><td>æ‰§è¡Œæ…¢ï¼ˆå¤šè½® LLM è°ƒç”¨ï¼‰</td></tr><tr><td>å¯æ§æ€§</td><td>å¯é™åˆ¶å¯ç”¨å·¥å…·</td><td>LLM å¯èƒ½è¯¯ç”¨æˆ–æ­»å¾ªç¯</td></tr><tr><td>å®‰å…¨æ€§</td><td>â€”â€”</td><td>è‹¥å…è®¸ä»£ç æ‰§è¡Œï¼Œæœ‰å®‰å…¨é£é™©</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>ç”Ÿäº§å»ºè®®</strong>ï¼šä¸¥æ ¼é™åˆ¶å·¥å…·æƒé™ï¼Œé¿å… <code>PythonREPLTool</code>ï¼›ç”¨ <code>max_iterations</code> é˜²æ­¢æ­»å¾ªç¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-31">ğŸ“Œ æ€»ç»“ï¼šLangChain ç»„ä»¶é€‰å‹å»ºè®®</h2>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èé…ç½®</th></tr></thead><tbody><tr><td><strong>å¿«é€Ÿ RAG Demo</strong></td><td>Chroma + OpenAI + RetrievalQA + BufferMemory</td></tr><tr><td><strong>ä¼ä¸šç§æœ‰çŸ¥è¯†åº“</strong></td><td>Qdrant + Ollamaï¼ˆLlama3ï¼‰+ MarkdownHeaderTextSplitter + RedisMemory</td></tr><tr><td><strong>å¤šè½®æ™ºèƒ½å®¢æœ</strong></td><td>ConversationalRetrievalChain + WindowMemory + Pinecone</td></tr><tr><td><strong>å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–</strong></td><td>Agentï¼ˆReActï¼‰ + DuckDuckGo + è‡ªå®šä¹‰å®‰å…¨å·¥å…·</td></tr></tbody></table>
<hr/>
<p>LangChain çš„ä¼˜åŠ¿åœ¨äº <strong>é«˜åº¦æ¨¡å—åŒ–</strong>ï¼Œä½†ä¹Ÿå¸¦æ¥â€œé€‰æ‹©å›°éš¾â€ã€‚å»ºè®®ï¼š</p>
<ol>
<li>å…ˆç”¨é»˜è®¤ç»„åˆï¼ˆå¦‚ Chroma + OpenAIï¼‰è·‘é€šæµç¨‹ï¼›</li>
<li>å†æ ¹æ®æ€§èƒ½ã€æˆæœ¬ã€éšç§éœ€æ±‚é€æ­¥æ›¿æ¢ç»„ä»¶ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7592062873829916722</link>    <guid>https://juejin.cn/post/7592062873829916722</guid>    <pubDate>2026-01-06T14:40:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592062873829916722" data-draft-id="7592251792629547035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2026-01-06T14:40:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ¨è¥¿å®‰ç‰§ç¾Šçš„ç‰›æ²¹æœ"/> <meta itemprop="url" content="https://juejin.cn/user/2946346894233133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆ import.meta.env å’Œ process.env çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346894233133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ¨è¥¿å®‰ç‰§ç¾Šçš„ç‰›æ²¹æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-06T14:40:30.000Z" title="Tue Jan 06 2026 14:40:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ª<strong>å‰ç«¯æ„å»ºç¯å¢ƒé‡Œéå¸¸æ ¸å¿ƒã€ä¹Ÿéå¸¸å®¹æ˜“æ··æ·†çš„é—®é¢˜</strong>ã€‚ä¸‹é¢æˆ‘ä»¬ä»<strong>æ¥æºã€ä½¿ç”¨åœºæ™¯ã€ç¼–è¯‘æ—¶æœºã€å®‰å…¨æ€§</strong>å››ä¸ªç»´åº¦æ¥è°ˆè°ˆ <code>import.meta.env</code> å’Œ <code>process.env</code> çš„åŒºåˆ«ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¥è¯ç»“è®º</h2>
<blockquote>
<p><strong><code>process.env</code></strong> <strong>æ˜¯ Node.js çš„ç¯å¢ƒå˜é‡æ¥å£</strong> <strong><code>import.meta.env</code></strong> <strong>æ˜¯ Viteï¼ˆESMï¼‰åœ¨æ„å»ºæœŸæ³¨å…¥çš„å‰ç«¯ç¯å¢ƒå˜é‡</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸€ã€<code>process.env</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-2">1ï¸âƒ£ æœ¬è´¨</h3>
<ul>
<li>æ¥è‡ª <strong>Node.js</strong></li>
<li>è¿è¡Œæ—¶è¯»å– <strong>æœåŠ¡å™¨ / æ„å»ºæœºçš„ç³»ç»Ÿç¯å¢ƒå˜é‡</strong></li>
<li>æœ¬èº« <strong>æµè§ˆå™¨é‡Œä¸å­˜åœ¨</strong></li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>);
</code></pre>
<h3 data-id="heading-3">2ï¸âƒ£ ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li>Node æœåŠ¡</li>
<li>æ„å»ºå·¥å…·ï¼ˆWebpack / Vite / Rollupï¼‰</li>
<li>SSRï¼ˆNode ç«¯ï¼‰</li>
</ul>
<h3 data-id="heading-4">3ï¸âƒ£ å‰ç«¯èƒ½ä¸èƒ½ç”¨ï¼Ÿ</h3>
<p>ğŸ‘‰ <strong>ä¸èƒ½ç›´æ¥ç”¨</strong></p>
<p>æµè§ˆå™¨é‡Œæ²¡æœ‰ <code>process</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æµè§ˆå™¨åŸç”Ÿç¯å¢ƒ âŒ</span>
<span class="hljs-title class_">Uncaught</span> <span class="hljs-title class_">ReferenceError</span>: process is not defined
</code></pre>
<h3 data-id="heading-5">4ï¸âƒ£ ä¸ºä»€ä¹ˆ Webpack é¡¹ç›®é‡Œèƒ½ç”¨ï¼Ÿ</h3>
<p>å› ä¸º <strong>Webpack å¸®ä½ â€œç¼–è¯‘æœŸæ›¿æ¢â€äº†</strong></p>
<pre><code class="hljs language-ts" lang="ts">process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span>
<span class="hljs-comment">// â¬‡ï¸ æ„å»ºæ—¶è¢«æ›¿æ¢æˆ</span>
<span class="hljs-string">"production"</span>
</code></pre>
<p>æœ¬è´¨æ˜¯ <strong>å­—ç¬¦ä¸²æ›¿æ¢</strong>ï¼Œä¸æ˜¯è¿è¡Œæ—¶è¯»å–ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€<code>import.meta.env</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-7">1ï¸âƒ£ æœ¬è´¨</h3>
<ul>
<li><strong>Vite æä¾›</strong></li>
<li>åŸºäº <strong>ES Module çš„</strong> <strong><code>import.meta</code></strong></li>
<li><strong>æ„å»ºæœŸ + è¿è¡ŒæœŸå¯ç”¨ï¼ˆä½†å€¼æ˜¯æ„å»ºæœŸç¡®å®šçš„ï¼‰</strong></li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>);
</code></pre>
<h3 data-id="heading-8">2ï¸âƒ£ ç‰¹ç‚¹</h3>
<ul>
<li>æµè§ˆå™¨é‡Œ <strong>åŸç”Ÿæ”¯æŒ</strong></li>
<li>ä¸ä¾èµ– Node çš„ <code>process</code></li>
<li>æ›´ç¬¦åˆç°ä»£ ESM è§„èŒƒ</li>
</ul>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ä¸¤è€…æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”ï¼ˆé‡ç‚¹ï¼‰</h2>








































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>process.env</strong></th><th><strong>import.meta.env</strong></th></tr></thead><tbody><tr><td>æ¥æº</td><td>Node.js</td><td>Vite</td></tr><tr><td>æ ‡å‡†</td><td>Node API</td><td>ESM æ ‡å‡†æ‰©å±•</td></tr><tr><td>æµè§ˆå™¨å¯ç”¨</td><td>âŒï¼ˆéœ€ç¼–è¯‘æ›¿æ¢ï¼‰</td><td>âœ…</td></tr><tr><td>æ³¨å…¥æ—¶æœº</td><td>æ„å»ºæœŸ</td><td>æ„å»ºæœŸ</td></tr><tr><td>æ˜¯å¦è¿è¡Œæ—¶è¯»å–</td><td>âŒ</td><td>âŒ</td></tr><tr><td>æ¨èå‰ç«¯ä½¿ç”¨</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<p>âš ï¸ <strong>ä¸¤è€…éƒ½ä¸æ˜¯â€œå‰ç«¯è¿è¡Œæ—¶è¯»å–æœåŠ¡å™¨ç¯å¢ƒå˜é‡â€</strong></p>
<hr/>
<h2 data-id="heading-10">å››ã€Vite ä¸­ä¸ºä»€ä¹ˆä¸ç”¨ <code>process.env</code>ï¼Ÿ</h2>
<h3 data-id="heading-11">1ï¸âƒ£ å› ä¸º Vite ä¸å†é»˜è®¤æ³¨å…¥ <code>process</code></h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vite é¡¹ç›®ä¸­ âŒ</span>
process.<span class="hljs-property">env</span>.<span class="hljs-property">API_URL</span>
</code></pre>
<p>ä¼šç›´æ¥æŠ¥é”™ã€‚</p>
<h3 data-id="heading-12">2ï¸âƒ£ å®˜æ–¹è®¾è®¡é€‰æ‹©</h3>
<ul>
<li>é¿å… Node å…¨å±€æ±¡æŸ“</li>
<li>æ›´è´´è¿‘æµè§ˆå™¨çœŸå®ç¯å¢ƒ</li>
<li>æ›´åˆ©äº Tree Shaking</li>
</ul>
<hr/>
<h2 data-id="heading-13">äº”ã€Vite ç¯å¢ƒå˜é‡çš„æ­£ç¡®ç”¨æ³•ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-14">1ï¸âƒ£ å¿…é¡»ä»¥ <code>VITE_</code> å¼€å¤´</h3>
<pre><code class="hljs language-ts" lang="ts"># .<span class="hljs-property">env</span>
<span class="hljs-variable constant_">VITE_API_URL</span>=<span class="hljs-attr">https</span>:<span class="hljs-comment">//api.example.com</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>);
</code></pre>
<p>âŒ å¦åˆ™ <strong>ä¸ä¼šæ³¨å…¥åˆ°å‰ç«¯</strong></p>
<hr/>
<h3 data-id="heading-15">2ï¸âƒ£ å†…ç½®å˜é‡</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>        <span class="hljs-comment">// development / production</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>         <span class="hljs-comment">// true / false</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>        <span class="hljs-comment">// true / false</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">å…­ã€å®‰å…¨æ€§</h2>
<h3 data-id="heading-17">âš ï¸ é‡è¦è­¦å‘Š</h3>
<blockquote>
<p><strong><code>import.meta.env</code></strong> <strong>é‡Œçš„å˜é‡ â‰  ç§å¯†</strong></p>
</blockquote>
<p>å®ƒä»¬ä¼šï¼š</p>
<ul>
<li>è¢« <strong>æ‰“è¿› JS Bundle</strong></li>
<li>å¯åœ¨ DevTools ç›´æ¥çœ‹åˆ°</li>
</ul>
<h3 data-id="heading-18">âŒ ä¸è¦è¿™æ ·åš</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-variable constant_">VITE_SECRET_KEY</span>=xxxx
</code></pre>
<h3 data-id="heading-19">âœ… æ­£ç¡®åšæ³•</h3>
<ul>
<li><strong>å‰ç«¯</strong>ï¼šåªæ”¾â€œå…¬å¼€é…ç½®â€ï¼ˆAPI åŸŸåã€å¼€å…³ï¼‰</li>
<li><strong>ç§å¯†å˜é‡</strong>ï¼šåªæ”¾åœ¨ <strong>Node / æœåŠ¡ç«¯</strong></li>
</ul>
<hr/>
<h2 data-id="heading-20">ä¸ƒã€SSR / å…¨æ ˆé¡¹ç›®é‡Œæ€ä¹ˆåŒºåˆ†ï¼Ÿ</h2>
<h3 data-id="heading-21">åœ¨ Vite + SSRï¼ˆå¦‚ Nuxt / è‡ªå»º SSRï¼‰ï¼š</h3>
<p>Node ç«¯</p>
<pre><code class="hljs language-ts" lang="ts">process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>
</code></pre>
<p>æµè§ˆå™¨ç«¯</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>
</code></pre>
<p><strong>ä¸¤å¥—ç¯å¢ƒå˜é‡æ˜¯åˆ»æ„åˆ†å¼€çš„</strong>ã€‚</p>
<ol>
<li>
<h3 data-id="heading-22">ä¸ºä»€ä¹ˆå¿…é¡»åˆ†æˆä¸¤å¥—ï¼Ÿï¼ˆè®¾è®¡åŸå› ï¼‰</h3>
</li>
</ol>
<h4 data-id="heading-23">1ï¸âƒ£ æ‰§è¡Œç¯å¢ƒä¸åŒï¼ˆè¿™æ˜¯æ ¹å› ï¼‰</h4>




















<table><thead><tr><th><strong>ä½ç½®</strong></th><th><strong>è¿è¡Œåœ¨å“ª</strong></th><th><strong>èƒ½è®¿é—®ä»€ä¹ˆ</strong></th></tr></thead><tbody><tr><td>SSR Server</td><td>Node.js</td><td>process.env</td></tr><tr><td>Client Bundle</td><td>æµè§ˆå™¨</td><td>import.meta.env</td></tr></tbody></table>
<p>æµè§ˆå™¨é‡Œ <strong>æ°¸è¿œä¸å¯èƒ½å®‰å…¨åœ°è®¿é—®æœåŠ¡å™¨ç¯å¢ƒå˜é‡</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-24">2ï¸âƒ£ SSR â‰  æµè§ˆå™¨</h4>
<p>å¾ˆå¤šäººè¯¯è§£ï¼š</p>
<blockquote>
<p>â€œSSR æ˜¯ä¸æ˜¯æµè§ˆå™¨ä»£ç å…ˆåœ¨ Node è·‘ä¸€éï¼Ÿâ€</p>
</blockquote>
<p>âŒ <strong>ä¸å®Œå…¨å¯¹</strong></p>
<p>SSR å®é™…æ˜¯ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> å…ˆè·‘ä¸€ä»½ â†’ ç”Ÿæˆ <span class="hljs-variable constant_">HTML</span>
æµè§ˆå™¨å†è·‘ä¸€ä»½ â†’ hydrate
</code></pre>
<p>è¿™ä¸¤æ¬¡æ‰§è¡Œï¼š</p>
<ul>
<li><strong>ç¯å¢ƒä¸åŒ</strong></li>
<li><strong>å˜é‡æ¥æºä¸åŒ</strong></li>
<li><strong>å®‰å…¨çº§åˆ«ä¸åŒ</strong></li>
</ul>
<hr/>
<ol start="2">
<li>
<h3 data-id="heading-25">åœ¨ Vite + SSR ä¸­ï¼Œå˜é‡çš„â€œçœŸå®æµå‘â€</h3>
</li>
</ol>
<h4 data-id="heading-26">1ï¸âƒ£ Node ç«¯ï¼ˆSSR Serverï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// server.ts / entry-server.ts</span>
<span class="hljs-keyword">const</span> dbPassword = process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>;
</code></pre>
<p>âœ”ï¸ çœŸå®è¿è¡Œæ—¶è¯»å–</p>
<p>âœ”ï¸ ä¸ä¼šè¿› bundle</p>
<p>âœ”ï¸ åªå­˜åœ¨äºæœåŠ¡å™¨å†…å­˜</p>
<hr/>
<h4 data-id="heading-27">2ï¸âƒ£ Client ç«¯ï¼ˆæµè§ˆå™¨ï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// entry-client.ts / React/Vue ç»„ä»¶</span>
<span class="hljs-keyword">const</span> apiUrl = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<p>âœ”ï¸ æ„å»ºæœŸæ³¨å…¥</p>
<p>âœ”ï¸ ä¼šæ‰“è¿› JS</p>
<p>âœ”ï¸ ç”¨æˆ·å¯è§</p>
<hr/>
<h4 data-id="heading-28">3ï¸âƒ£ ä¸­é—´é‚£æ¡â€œç¦æ­¢é€šé“â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ ç»å¯¹ç¦æ­¢</span>
process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span> â†’ æµè§ˆå™¨
</code></pre>
<p><strong>SSR ä¸ä¼šã€ä¹Ÿä¸å…è®¸ï¼Œè‡ªåŠ¨å¸®ä½ â€œé€ä¼ â€ç¯å¢ƒå˜é‡</strong></p>
<hr/>
<ol start="3">
<li>
<h3 data-id="heading-29">SSR ä¸­æœ€å®¹æ˜“è¸©çš„ 3 ä¸ªå‘ï¼ˆé‡ç‚¹ï¼‰</h3>
</li>
</ol>
<hr/>
<h4 data-id="heading-30">âŒ å‘ 1ï¼šåœ¨â€œå…±äº«ä»£ç â€é‡Œç›´æ¥ç”¨ <code>process.env</code></h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// utils/config.tsï¼ˆè¢« server + client å…±ç”¨ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">API_URL</span>; <span class="hljs-comment">// âŒ</span>
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>Server OK</li>
<li>Client ç›´æ¥ç‚¸ï¼ˆæˆ–è¢«é”™è¯¯æ›¿æ¢ï¼‰</li>
</ul>
<p>âœ… æ­£ç¡®æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<p>æˆ–è€…ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API</span> =<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">'undefined'</span>
    ? process.<span class="hljs-property">env</span>.<span class="hljs-property">INTERNAL_API</span>
    : <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>;
</code></pre>
<hr/>
<h4 data-id="heading-31">âŒ å‘ 2ï¼šè¯¯ä»¥ä¸º SSR å¯ä»¥â€œé¡ºæ‰‹ç”¨æ•°æ®åº“å˜é‡â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vue/React ç»„ä»¶é‡Œ</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">DB_PASSWORD</span>); <span class="hljs-comment">// âŒ</span>
</code></pre>
<p>å“ªæ€•ä½ åœ¨ SSR æ¨¡å¼ä¸‹ï¼Œè¿™æ®µä»£ç ï¼š</p>
<ul>
<li><strong>æœ€ç»ˆä»ä¼šè·‘åœ¨æµè§ˆå™¨</strong></li>
<li><strong>ä¼šè¢«æ‰“åŒ…</strong></li>
<li><strong>æ˜¯ä¸¥é‡å®‰å…¨æ¼æ´</strong></li>
</ul>
<hr/>
<h4 data-id="heading-32">âŒ å‘ 3ï¼šæŠŠâ€œç¯å¢ƒå˜é‡â€å½“æˆâ€œè¿è¡Œæ—¶é…ç½®â€</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// âŒ æƒ³é€šè¿‡éƒ¨ç½²åˆ‡æ¢ API</span>
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>
</code></pre>
<p>ğŸš¨ è¿™æ˜¯ <strong>æ„å»ºæœŸå€¼</strong>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">build æ—¶ç¡®å®š
â†’ <span class="hljs-variable constant_">CDN</span> ç¼“å­˜
â†’ æ‰€æœ‰ç”¨æˆ·å…±äº«
</code></pre>
<p><strong>æƒ³è¿è¡ŒæœŸåˆ‡æ¢ï¼Ÿåªèƒ½ï¼š</strong></p>
<ul>
<li>æ¥å£è¿”å›é…ç½®</li>
<li>HTML æ³¨å…¥ window.<strong>CONFIG</strong></li>
<li>æ‹‰ JSON é…ç½®æ–‡ä»¶</li>
</ul>
<hr/>
<ol start="4">
<li>
<h3 data-id="heading-33">SSR é¡¹ç›®é‡Œâ€œæ­£ç¡®çš„åˆ†å±‚æ¨¡å‹â€ï¼ˆå·¥ç¨‹è§†è§’ï¼‰</h3>
</li>
</ol>
<pre><code class="hljs language-ts" lang="ts">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æµè§ˆå™¨ <span class="hljs-title class_">Client</span>       â”‚
â”‚  <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_</span>*   â”‚ â† å…¬å¼€é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
        <span class="hljs-variable constant_">HTTP</span> / <span class="hljs-variable constant_">HTML</span>
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        <span class="hljs-title class_">Node</span> <span class="hljs-variable constant_">SSR</span> <span class="hljs-title class_">Server</span>     â”‚
â”‚      process.<span class="hljs-property">env</span>.*        â”‚ â† ç§å¯†é…ç½®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
        å†…éƒ¨è®¿é—®
            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        <span class="hljs-variable constant_">DB</span> / <span class="hljs-title class_">Redis</span> / <span class="hljs-variable constant_">OSS</span>    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>è¿™æ˜¯ä¸€æ¡ <strong>å•å‘ã€å®‰å…¨çš„æ•°æ®æµ</strong>ã€‚</p>
<hr/>
<ol start="5">
<li>
<h3 data-id="heading-34">Nuxt / è‡ªå»º SSR çš„å¯¹åº”å…³ç³»</h3>
</li>
</ol>





















<table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>ç”¨é€”</strong></th></tr></thead><tbody><tr><td>runtimeConfig</td><td>Server-only</td></tr><tr><td>runtimeConfig.public</td><td>Client å¯è§</td></tr><tr><td>process.env</td><td>ä»… server</td></tr></tbody></table>
<p>ğŸ‘‰ Nuxt æœ¬è´¨ä¹Ÿæ˜¯åœ¨<strong>å¸®ä½ ç»´æŠ¤è¿™æ¡è¾¹ç•Œ</strong></p>
<hr/>
<h2 data-id="heading-35">å…«ã€å¸¸è§è¯¯åŒºæ€»ç»“</h2>
<h3 data-id="heading-36">âŒ è¯¯åŒº 1</h3>
<blockquote>
<p><code>import.meta.env</code> æ˜¯è¿è¡Œæ—¶è¯»å–</p>
</blockquote>
<p>âŒ <strong>é”™</strong>ï¼Œä»æ˜¯æ„å»ºæœŸæ³¨å…¥</p>
<hr/>
<h3 data-id="heading-37">âŒ è¯¯åŒº 2</h3>
<blockquote>
<p>å¯ä»¥ç”¨å®ƒåŠ¨æ€åˆ‡æ¢ç¯å¢ƒ</p>
</blockquote>
<p>âŒ <strong>ä¸è¡Œ</strong>ï¼Œæƒ³åŠ¨æ€åªèƒ½ï¼š</p>
<ul>
<li>æ¥å£è¿”å›é…ç½®</li>
<li>æˆ–è¿è¡Œæ—¶è¯·æ±‚ JSON</li>
</ul>
<hr/>
<h3 data-id="heading-38">âŒ è¯¯åŒº 3</h3>
<blockquote>
<p>Vite é‡Œè¿˜èƒ½ç»§ç»­ç”¨ <code>process.env</code></p>
</blockquote>
<p>âŒ é™¤éä½ æ‰‹åŠ¨ polyfillï¼ˆä¸æ¨èï¼‰</p>
<hr/>
<h2 data-id="heading-39">ä¹ã€æ€»ç»“</h2>
<ul>
<li>å‰ç«¯ï¼ˆViteï¼‰åªè®¤ <code>import.meta.env.VITE_*</code></li>
<li>æœåŠ¡ç«¯ï¼ˆNodeï¼‰åªè®¤ <code>process.env</code></li>
<li>æ°¸è¿œä¸è¦æŠŠç§˜å¯†æ”¾è¿›å‰ç«¯ env</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™]]></title>    <link>https://juejin.cn/post/7592444642277670922</link>    <guid>https://juejin.cn/post/7592444642277670922</guid>    <pubDate>2026-01-07T10:40:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592444642277670922" data-draft-id="7592423411563249690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-07T10:40:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hboot"/> <meta itemprop="url" content="https://juejin.cn/user/2084329777543191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†è¢« TS ç±»å‹å†²çªæŠ˜ç£¨äº†ï¼ä¸€æ–‡ææ‡‚ç±»å‹åˆå¹¶è§„åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329777543191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hboot
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:40:00.000Z" title="Wed Jan 07 2026 10:40:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¹‹å‰å­¦ä¹ äº†<code>TypeScript</code>çš„ç±»å‹å®šä¹‰ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å¼€å‘è¯­è¨€ä¸­çš„å˜é‡ä¼šæœ‰è¦†ç›–å£°æ˜çš„æƒ…å†µï¼Œé‚£ä¹ˆå¯¹äºç±»å‹å®šä¹‰æ˜¯ä¸æ˜¯ä¹Ÿä¼šæœ‰è¿™ç§æƒ…å†µï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•æ­£ç¡®åˆ©ç”¨è¿™ç§åˆå¹¶è§„åˆ™ï¼Ÿåœ¨é‡åˆ°å¤šä¸ªç±»å‹å®šä¹‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p>
<p>äº†è§£ç±»å‹åˆå¹¶è§„åˆ™ï¼Œæœ‰åŠ©äºæˆ‘ä»¬å®šä¹‰ç±»å‹ï¼Œé¿å…ç±»å‹å†²çªã€‚å¯ä»¥åˆ©ç”¨è¿™ç§åˆå¹¶è§„åˆ™ï¼Œæ›´çµæ´»çš„å®šä¹‰ç±»å‹ã€‚</p>
<p>ä¸åŒç‰ˆæœ¬<code>TypeScript</code>,ä¸åŒé…ç½®å¯èƒ½ä¼šå¯¼è‡´åˆå¹¶å·®å¼‚ï¼Œè¿™é‡Œè¯´æ˜ä½¿ç”¨çš„ç‰ˆæœ¬ä¸º<code>"typescript": "^5.9.3"</code>,å¼€å¯äº†é…ç½®<code>"strict": true</code>,æµ‹è¯•æ–‡ä»¶åç¼€ä¸º<code>.ts</code>ã€‚<code>.d.ts</code>æ–‡ä»¶å¯èƒ½æ›´ä¸ºå®½æ¾ã€‚</p>
<h2 data-id="heading-0">åŒååŒç±»å‹åˆå¹¶</h2>
<p><code>TypeScript</code>ä»…æ”¯æŒæ¥å£<code>interface</code>ã€å‘½åç©ºé—´<code>namespace</code>ã€å‡½æ•°å£°æ˜<code>function</code>åŒååˆå¹¶ã€‚åœ¨å£°æ˜è§£æé˜¶æ®µå³å®Œæˆåˆå¹¶ã€‚æ—©äºå…¶ä»–ç±»å‹å¼•ç”¨å¤„ç†ï¼Œæ¯”å¦‚äº¤å‰/è”åˆç±»å‹ã€‚</p>
<p>å¯¹äº<code>type</code>ã€ <code>class</code> ã€<code>enum</code>ç­‰å®šä¹‰çš„åŒåç±»å‹éƒ½ä¸èƒ½åˆå¹¶ã€‚</p>
<h3 data-id="heading-1"><code>interface</code> æ¥å£å£°æ˜åˆå¹¶</h3>
<p>åŒä¸€ä½œç”¨åŸŸä¸‹çš„åŒåæ¥å£ä¼šè‡ªåŠ¨å®Œæˆåˆå¹¶ï¼Œæ— éœ€é¢å¤–è¯­æ³•ã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>å±æ€§ã€æ–¹æ³•ã€ç´¢å¼•ç­¾åå‡å¯åˆå¹¶ã€‚</li>
<li>åŒåå±æ€§ã€æ–¹æ³•å¿…é¡»ç±»å‹å…¼å®¹ï¼Œå¦åˆ™ç¼–è¯‘å™¨æŠ¥é”™ã€‚</li>
<li>åŒä¸€ä½œç”¨åŸŸ/æ¨¡å—ä¸‹ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// å®ä¾‹å¿…é¡»åŒ…å«nameå’Œageå±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">""</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">0</span>,
};
</code></pre>
<p><strong>åŒå±æ€§ï¼Œä¸åŒç±»å‹ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-comment">// âŒ åç»­å±æ€§å£°æ˜å¿…é¡»å±äºåŒä¸€ç±»å‹ã€‚å±æ€§â€œnameâ€çš„ç±»å‹å¿…é¡»ä¸ºâ€œstringâ€ï¼Œä½†æ­¤å¤„å´ä¸ºç±»å‹â€œnumberâ€ã€‚</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<p><strong>åŒå±æ€§åŒç±»å‹ï¼Œä¸åŒä¿®é¥°ç¬¦ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-comment">// âŒ ä¸åŒä¿®é¥°ç¬¦ä¸å…¼å®¹ï¼Œç¼–è¯‘å™¨æŠ¥é”™</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  name?: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-2"><code>namespace</code> å‘½åç©ºé—´åˆå¹¶</h3>
<p>åŒåçš„å‘½åç©ºé—´ä¼šè‡ªåŠ¨åˆå¹¶å†…éƒ¨å¯¼å‡ºçš„æˆå‘˜ã€‚ä»…<code>export</code>å¯¼å‡ºçš„æˆå‘˜ä¼šåˆå¹¶ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">18</span>;
  }
}

<span class="hljs-title class_">Utils</span>.<span class="hljs-title function_">getName</span>();
<span class="hljs-title class_">Utils</span>.<span class="hljs-title function_">getAge</span>();
</code></pre>
<p><strong>ä¸å…è®¸åŒåæˆå‘˜å¯¼å‡ºã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Utils</span> {
  <span class="hljs-comment">// âŒ æˆå‘˜å·²å­˜åœ¨ï¼Œä¸å…è®¸é‡å¤å®šä¹‰</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getName</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-number">18</span>;
  };
}
</code></pre>
<h3 data-id="heading-3"><code>function</code> å‡½æ•°å£°æ˜åˆå¹¶</h3>
<p>å‡½æ•°åŒååˆå¹¶ï¼Œ<strong>æˆ‘ä»¬ç§°ä¹‹ä¸ºå‡½æ•°é‡è½½</strong>ã€‚TSç¼–è¯‘å™¨ä¼šæŒ‰ç…§å€’åºåŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åå£°æ˜å‡½æ•°é‡è½½ä¼˜å…ˆçº§é«˜ã€‚</p>
<p>å‡½æ•°é‡è½½æœ€åä¸€ä¸ªå‡½æ•°å£°æ˜å¿…é¡»å®ç°å†…éƒ¨é€»è¾‘ï¼Œå¹¶ä¸”å‚æ•°æ•°é‡ã€å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹å¿…é¡»å…¼å®¹ã€‚</p>
<blockquote>
<p>ä»…ä½¿ç”¨<code>function</code>å£°æ˜çš„å‡½æ•°æ”¯æŒ</p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params">nameOrAge: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> nameOrAge;
}
<span class="hljs-title function_">getName</span>(<span class="hljs-string">"hboot"</span>);
<span class="hljs-title function_">getName</span>(<span class="hljs-number">18</span>);
</code></pre>
<p><strong><code>interface</code>æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ä¹Ÿä¼šå½¢æˆé‡è½½</strong>ã€‚ä½†æ˜¯å’Œæ™®é€šçš„å‡½æ•°é‡è½½æœ€åçš„å‡½æ•°å®ç°å‚æ•°ã€è¿”å›å€¼ç±»å‹å®šä¹‰æœ‰äº›ä¸åŒã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// âŒ è¿™æ ·å†™ç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼Œæç¤ºä¸èƒ½å°†ç±»å‹ "string | number" æ— æ³•åˆ†é…ç»™ç±»å‹ "string"ã€‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-title function_">getVal</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> value;
  },
};
</code></pre>
<p>æ™®é€šå‡½æ•°é‡è½½æ˜¯æ»¡è¶³å…¶ä¸€å³å¯ï¼›è€Œæ¥å£ä¸­æ–¹æ³•é‡è½½æ˜¯å¿…é¡»<strong>ç²¾å‡†åŒ¹é…ç±»å‹æ¯ä¸€ä¸ªç±»å‹</strong>ã€‚åˆ©ç”¨TSç±»å‹æ¨å¯¼é€šè¿‡æ³›å‹å‚æ•°é”å®šç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åˆ©ç”¨äº†ç±»å‹çš„è‡ªåŠ¨æ¨å¯¼ï¼Œé€šè¿‡æ³›å‹å‚æ•° T é”å®šè¾“å…¥ç±»å‹åŠè¿”å›ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  getVal&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt;(<span class="hljs-attr">value</span>: T): T {
    <span class="hljs-keyword">return</span> value;
  }
};
</code></pre>
<h2 data-id="heading-4">åŒåä¸åŒç±»å‹åˆå¹¶</h2>
<p>åŒåä¸åŒç±»å‹çš„åˆå¹¶ï¼Œä¸»è¦æ˜¯å‘½åç©ºé—´<code>namespace + interface/class/function</code>çš„åˆå¹¶ï¼Œ<code>namespace</code>å¯ä»¥æä¾›é™æ€å±æ€§ã€æ–¹æ³•ã€‚</p>
<h3 data-id="heading-5"><code>namespace</code>+<code>interface</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>interface</code>æ¥å£æ‰©å±•é™æ€æˆå‘˜ï¼›æ¥å£æä¾›ç±»å‹çº¦æŸã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> age = <span class="hljs-number">18</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
};

<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>åŒåçš„å±æ€§ã€æ–¹æ³•ä¸ä¼šå†²çªï¼Œå› ä¸º<code>Animal</code>å‘½åç©ºé—´ç›´æ¥é€šè¿‡ç©ºé—´åè®¿é—®ï¼›<code>interface</code>æ¥å£éœ€è¦å®ä¾‹åŒ–åçš„å®ä¾‹è®¿é—®ã€‚å®ƒä»¬ä¹‹é—´å®é™…ä¸Šåªæœ‰åç§°æ˜¯ç›¸åŒçš„ï¼Œå±æ€§ä¹‹é—´æ²¡æœ‰åˆå¹¶ã€‚</p>
<h3 data-id="heading-6"><code>namespace</code>+<code>class</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>class</code>ç±»æ‰©å±•é™æ€æˆå‘˜ï¼›<strong>ç±»å£°æ˜å¿…é¡»åœ¨å‘½åç©ºé—´çš„å£°æ˜å¿…ä¹‹å‰</strong>ï¼Œå‘½åç©ºé—´ä¸èƒ½å£°æ˜ç±»å·²æœ‰çš„æˆå‘˜ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span>;
  <span class="hljs-comment">// âŒ æ­¤å¤„æ‰©å±•é™æ€æˆå‘˜ age æŠ¥é”™ï¼Œç±»ä¸­å·²å­˜åœ¨ age é™æ€æˆå‘˜</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> age = <span class="hljs-number">18</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">"admin"</span>);
<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">getName</span>();
<span class="hljs-comment">// hboot</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-property">name</span>;
<span class="hljs-comment">// admin</span>
dog.<span class="hljs-property">name</span>;
</code></pre>
<h3 data-id="heading-7"><code>namespace</code>+<code>function</code> åˆå¹¶</h3>
<p>åŒåçš„<code>namespace</code>å‘½åç©ºé—´ä¸º<code>function</code>å‡½æ•°æ‰©å±•é™æ€æˆå‘˜ã€‚å‡½æ•°ä¿æŒè‡ªèº«çš„å¯è°ƒç”¨èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello World! "</span> + name;
}

<span class="hljs-keyword">namespace</span> speak {
  <span class="hljs-comment">// âŒ æ­¤å¤„æ— æ³•è¦†ç›– å‡½æ•°çš„ name å±æ€§ï¼›name æ˜¯åªè¯»å±æ€§</span>
  <span class="hljs-comment">// âŒ ç±»å‹æ ¡éªŒæ²¡æœ‰æŠ¥é”™ï¼Œä½†è¿è¡Œæ—¶å› ä¸ºåªè¯»è€ŒæŠ¥é”™</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span>;
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"hboot"</span>;
  }
}

<span class="hljs-title function_">speak</span>(<span class="hljs-string">"hboot"</span>);
speak.<span class="hljs-property">name</span>;
speak.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>æ‰©å±•çš„é™æ€æˆå‘˜æœ€å¥½ä¸è¦è¦†ç›–å‡½æ•°æœ¬èº«çš„å±æ€§ï¼Œæ¯”å¦‚<code>name</code>ã€<code>length</code>ç­‰ã€‚è¿™äº›åªè¯»å±æ€§æ— æ³•è¢«è¦†ç›–ï¼Œåœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™ã€‚</p>
<h3 data-id="heading-8"><code>interface</code>+<code>class</code> åˆå¹¶</h3>
<p>åŒåçš„<code>interface</code>æ¥å£ä¸º<code>class</code>ç±»æ‰©å±•å®ä¾‹æˆå‘˜ã€‚ç±»ç»§æ‰¿æ¥å£çš„å±æ€§ã€æ–¹æ³•ï¼Œå®ä¾‹å¿…é¡»åŒæ—¶æ»¡è¶³æ¥å£å’Œç±»çš„çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>æ¥å£çš„å¿…é€‰å±æ€§ï¼Œåœ¨ç±»ä¸­å¿…é¡»æ˜¾å¼å®ç°ï¼Œå¦åˆ™æ‰§è¡ŒæŠ¥é”™ã€‚</li>
<li>åŒåå±æ€§ï¼Œå¿…é¡»ç±»å‹å…¼å®¹ï¼Œå¦åˆ™æ‰§è¡ŒæŠ¥é”™ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">getName</span>(): <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
  <span class="hljs-comment">// å¿…é¡»æ˜¾ç¤ºå®ç° æ¥å£ çš„æ–¹æ³•æˆå‘˜</span>
  <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>;
  }
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-number">18</span>, <span class="hljs-string">"hboot"</span>);

dog.<span class="hljs-property">age</span>;
<span class="hljs-comment">// ç±»ä¸­éœ€é€šè¿‡æ„é€ å‡½æ•°</span>
dog.<span class="hljs-property">name</span>;
<span class="hljs-comment">// âŒ å¦‚æœç±»æ²¡æœ‰æ˜¾ç¤ºå®ç°ï¼›æ™ºèƒ½æç¤ºå­˜åœ¨æ–¹æ³•ï¼Œå®é™…è°ƒç”¨ä¼šæŠ¥é”™ã€‚</span>
dog.<span class="hljs-title function_">getName</span>();
</code></pre>
<p>é™¤äº†æ‰‹åŠ¨èµ‹å€¼æ‰©å±•å±æ€§å¤–ï¼Œå¯ä»¥é€šè¿‡<code>public</code>ä¿®é¥°ç¬¦è‡ªåŠ¨ç”Ÿæˆ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
 
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">age: <span class="hljs-built_in">number</span>, <span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
    <span class="hljs-comment">// æ— éœ€æ‰‹åŠ¨èµ‹å€¼</span>
    <span class="hljs-comment">// this.name = name;</span>
  }

  <span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-number">18</span>, <span class="hljs-string">"hboot"</span>);
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 data-id="heading-9">æ˜¾ç¤ºç±»å‹åˆå¹¶</h2>
<p>ä¸Šè¿°çš„åŒååŒç±»å‹ã€åŒåä¸åŒç±»å‹åˆå¹¶å®é™…æœ€ç»ˆä¹Ÿæ˜¯å±æ€§çš„åˆå¹¶ã€‚å¯¹äºéåŒåå±æ€§åˆå¹¶åˆ™æ˜¯æ‰©å±•ï¼›åŒåå±æ€§åˆ™æœ‰ä¸€äº›åˆå¹¶è§„åˆ™ã€‚</p>
<p>å¯¹äºä¸åŒç±»å‹ä¹‹é—´çš„åŒåå±æ€§åˆå¹¶éƒ½æœ‰è‡ªå·±çš„è§„åˆ™ï¼Œæ¯”å¦‚ï¼š<code>interface</code>+<code>class</code> åˆå¹¶è¦æ±‚å±æ€§ç±»å‹å…¼å®¹ï¼›<code>namespace</code>+<code>class</code> åˆå¹¶è¦æ±‚å‘½åç©ºé—´ä¸èƒ½åŒ…å«ç±»å·²æœ‰çš„æˆå‘˜ã€‚</p>
<p>é€šè¿‡æ‰‹åŠ¨å°†ä¸€äº›ç±»å‹åˆå¹¶åˆ°ä¸€ä¸ªç±»å‹ä¸­ï¼Œä¾‹å¦‚äº¤å‰ç±»å‹<code>&amp;</code>å’Œè”åˆç±»å‹<code>|</code></p>
<h3 data-id="heading-10">äº¤å‰ç±»å‹<code>&amp;</code> å…³ç³»åˆå¹¶</h3>
<p>äº¤å‰ç±»å‹å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°ç±»å‹ã€‚æ–°ç±»å‹å¿…é¡»æ»¡è¶³æ‰€æœ‰ç±»å‹çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>ä¸åŒåå±æ€§åˆå¹¶ä¸ºå±æ€§å¹¶é›†ã€‚ä¿ç•™å±æ€§ä¿®é¥°ç¬¦ã€‚</li>
<li>åŒåå±æ€§å–å…¼å®¹ç±»å‹ï¼Œå¯¹äºä¿®é¥°ç¬¦<code>?</code>ï¼Œå­˜åœ¨å¿…é€‰æ—¶åˆ™å±æ€§å¿…é€‰ï¼›ä¿®é¥°ç¬¦<code>readonly</code>ï¼Œå­˜åœ¨å±æ€§å¯ä¿®æ”¹æ—¶åˆ™å±æ€§å¯ä¿®æ”¹ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ä¸å…¼å®¹ç±»å‹ never</span>
<span class="hljs-keyword">type</span> A = <span class="hljs-built_in">string</span> &amp; <span class="hljs-built_in">number</span>;

<span class="hljs-comment">// ä¸åŒåå±æ€§å¹¶é›†</span>
<span class="hljs-keyword">type</span> B = { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> } &amp; { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };

<span class="hljs-comment">// å¯é€‰ ? ä¿®é¥°ç¬¦, å…¼å®¹ç±»å‹ name ä¸ºå¿…é€‰å±æ€§</span>
<span class="hljs-keyword">type</span> C = { name?: <span class="hljs-built_in">string</span> } &amp; { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> };

<span class="hljs-comment">// åªè¯» readonly ä¿®é¥°ç¬¦, å…¼å®¹ç±»å‹ age ä¸ºå¯ä¿®æ”¹</span>
<span class="hljs-keyword">type</span> D = { <span class="hljs-keyword">readonly</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> } &amp; { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> };
</code></pre>
<h3 data-id="heading-11">è”åˆç±»å‹<code>|</code> å…³ç³»åˆå¹¶</h3>
<p>å°†å¤šä¸ªç±»å‹ç»„åˆä¸ºä¸€ä¸ªæ–°ç±»å‹ã€‚æ–°ç±»å‹åªéœ€è¦æ»¡è¶³å…¶ä¸­ä¸€ä¸ªç±»å‹çº¦æŸã€‚</p>
<p>åˆå¹¶ç‰¹æ€§ï¼š</p>
<ul>
<li>ä»…èƒ½è®¿é—®å…¬å…±å±æ€§ã€‚éœ€é€šè¿‡ç±»å‹å®ˆå«æ”¶çª„ç±»å‹åæ‰èƒ½è®¿é—®éå…¬å…±å±æ€§ã€‚</li>
<li>å®Œå…¨ä¸€è‡´çš„ç±»å‹è‡ªåŠ¨å»é‡ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> A = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> B = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">address</span>: <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">type</span> C = A | B;

<span class="hljs-comment">// æ»¡è¶³å…¶ä¸­ä¸€ä¸ªç±»å‹çº¦æŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">c</span>: C = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,
};

<span class="hljs-comment">// è®¿é—®éå…¬å…±å±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">viewC</span>(<span class="hljs-params">data: C</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">"age"</span> <span class="hljs-keyword">in</span> data) {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">age</span>;
  }
  <span class="hljs-keyword">return</span> data.<span class="hljs-property">address</span>;
}
</code></pre>
<h2 data-id="heading-12"><code>.d.ts</code>ä¸­çš„å£°æ˜åˆå¹¶</h2>
<p><code>.d.ts</code>æ–‡ä»¶å’Œ<code>.ts</code>æ–‡ä»¶çš„åˆå¹¶æ ¸å¿ƒè§„åˆ™ä¸€è‡´ã€‚åœ¨æ‰§è¡Œæ—¶æœºã€ä½œç”¨åŸŸã€ç¼–è¯‘è¡Œä¸ºä¸Šæœ‰äº›ä¸ä¸€æ ·ã€‚</p>
<ul>
<li>
<p><code>.d.ts</code> æ–‡ä»¶ä¸­ä»…æœ‰ç±»å‹å£°æ˜ï¼Œæ— å®é™…ä»£ç å®ç°ï¼Œä»…ç”¨äºTSç±»å‹æ£€éªŒã€‚æ‰€ä»¥ä¸åŒäº<code>.ts</code>æ–‡ä»¶ã€‚å®ƒä¼šåœ¨ç±»å‹æ ¡éªŒé˜¶æ®µæ—©æœŸæ‰§è¡Œï¼Œä¼˜å…ˆåˆå¹¶å…¨å±€/æ¨¡å—ç±»å‹ï¼›è€Œ<code>.ts</code>æ–‡ä»¶æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œã€‚</p>
</li>
<li>
<p><code>.d.ts</code>ç±»å‹ä¼˜å…ˆçº§ä½ï¼Œèƒ½è¢«<code>.ts</code>æ–‡ä»¶æ˜¾ç¤ºç±»å‹å£°æ˜è¦†ç›–ã€‚</p>
</li>
<li>
<p><code>.d.ts</code>è·¨æ–‡ä»¶åŒåå£°æ˜åˆå¹¶ï¼ˆæ— <code>import/export</code>ï¼‰ã€‚<code>.ts</code>ä»…åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­åŒåå£°æ˜åˆå¹¶ã€‚</p>
</li>
</ul>
<h2 data-id="heading-13"><code>declare</code></h2>
<p><code>declare</code> ä¸»è¦ä½œç”¨å­˜åœ¨æ€§å£°æ˜ï¼Œå‘Šè¯‰TypeScriptç¼–è¯‘å™¨æ— éœ€ç”Ÿæˆå¯¹åº”çš„ä»£ç ã€‚</p>
<ul>
<li>å…¨å±€å˜é‡/å‡½æ•°å£°æ˜ï¼Œæ¯”å¦‚ï¼šå¤–éƒ¨åŠ è½½çš„<code>js</code>æ–‡ä»¶ï¼ŒæŒ‚è½½åˆ°<code>window</code>ä¸Šçš„å˜é‡ã€‚</li>
<li>æ‰©å±•å·²æœ‰ç±»å‹ï¼ˆä¸åŒåæ¥å£/å‘½åç©ºé—´åˆå¹¶ï¼‰</li>
<li>å£°æ˜æ¨¡å—ï¼ˆéTSæ¨¡å—ï¼Œæ¯”å¦‚<code>.css</code>æˆ–<code>.png</code>ç­‰é™æ€èµ„æºï¼‰</li>
</ul>
<p><code>declare</code> æ‰©å±•å·²æœ‰ç±»å‹åˆå¹¶è§„åˆ™ä¸<code>.ts</code>æ–‡ä»¶çš„åˆå¹¶æ ¸å¿ƒè§„åˆ™ä¸€è‡´.</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">getName</span>(): <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}
</code></pre>
<p><code>.ts</code> æ¨¡å—ä¸­æ²¡æœ‰<code>import/export</code>æ—¶ï¼Œé€šè¿‡<code>declare</code>å£°æ˜ä¸ºå…¨å±€ä½œç”¨åŸŸã€‚å¦‚æœå­˜åœ¨<code>import/export</code>åˆ™éœ€è¦é€šè¿‡<code>declare global</code>æ‰©å±•å…¨å±€ä½œç”¨åŸŸã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ]]></title>    <link>https://juejin.cn/post/7592432859862548514</link>    <guid>https://juejin.cn/post/7592432859862548514</guid>    <pubDate>2026-01-07T10:08:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592432859862548514" data-draft-id="7592170706027151395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-07T10:08:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢å‘ Interleaved Thinking çš„å¤§æ¨¡å‹ Agent è’¸é¦å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:08:57.000Z" title="Wed Jan 07 2026 10:08:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§è¯­è¨€æ¨¡å‹Agentåœ¨å¤æ‚ä»»åŠ¡ä¸­å±•ç°å‡ºå“è¶Šèƒ½åŠ›ã€‚ç›¸æ¯”ä¼ ç»Ÿçº¿æ€§æ¨ç†é“¾(Chain-of-Thought)ï¼Œ"äº¤é”™æ€ç»´"(InterleavedÂ Thinking)é€šè¿‡"æ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒ"çš„é—­ç¯æœºåˆ¶ï¼Œæœ‰æ•ˆè§£å†³äº†çŠ¶æ€æ¼‚ç§»å’Œä¸Šä¸‹æ–‡é—å¿˜é—®é¢˜ï¼Œæ˜¾è‘—æå‡å¤šè½®äº¤äº’çš„è¿è´¯æ€§ä¸ç­–ç•¥è°ƒæ•´èƒ½åŠ›ã€‚</p>
<p>é˜¿é‡Œäº‘Â PAIÂ å›¢é˜Ÿç»“åˆäº¤é”™æ€ç»´çš„æ¨ç†æœºåˆ¶ï¼Œæ„å»ºäº†æ¶µç›–å¤šè½®äº¤äº’çš„è®­ç»ƒæ•°æ®é›†ï¼Œè®­ç»ƒæ›´ç¬¦åˆäº¤é”™æ€ç»´ç‰¹æ€§çš„è½»é‡çº§Â AgentÂ æ¨¡å‹ï¼Œæœ‰æ•ˆæå‡æ€§èƒ½ä¸å“åº”æ•ˆç‡ã€‚æœ¬æ–‡å°†åœ¨Â EasyDistillï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelscope%2Feasydistill%25EF%25BC%2589%25E5%25BC%2580%25E6%25BA%2590%25E6%25A1%2586%25E6%259E%25B6%25E4%25B8%258B" target="_blank" title="https://github.com/modelscope/easydistill%EF%BC%89%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6%E4%B8%8B" ref="nofollow noopener noreferrer">github.com/modelscope/â€¦</a>ï¼Œç³»ç»Ÿé˜è¿°é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Â AgentÂ è’¸é¦å®è·µï¼Œæ¶µç›–æ•°æ®é›†æ„å»ºå’Œè’¸é¦ç®—æ³•çš„å¼€å‘ï¼Œå¹¶ç»“åˆå®é™…åº”ç”¨æ¡ˆä¾‹ï¼Œå…¨é¢å±•ç¤ºè¯¥æŠ€æœ¯åœ¨æ™ºèƒ½ä½“æ¨¡å‹è®­ç»ƒä¸­çš„æ½œåŠ›ä¸ä¼˜åŠ¿ã€‚</p>
<h2 data-id="heading-1">é¢å‘InterleavedÂ Thinkingçš„è’¸é¦æ–¹æ³•</h2>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå›é¡¾Â InterleavedÂ ThinkingÂ çš„åŸºç¡€èŒƒå¼Â ReActï¼Œå…¶æ¬¡è¯¦ç»†ä»‹ç»é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹è’¸é¦æ–¹æ³•ï¼Œæœ€åå¯¹è’¸é¦æ¨¡å‹åœ¨Â AgentÂ è¯„æµ‹ä»»åŠ¡ä¸Šçš„å®é™…æ•ˆæœè¿›è¡Œè¯„æµ‹ã€‚</p>
<h3 data-id="heading-2">ReActèŒƒå¼å›çœ¸</h3>
<p>æˆ‘ä»¬é¦–å…ˆç®€è¦å›é¡¾Â InterleavedÂ ThinkingÂ çš„åŸºç¡€æ¨ç†èŒƒå¼Â ReActã€‚ReActï¼ˆReasoningÂ andÂ Actingï¼‰ç”±æ™®æ—æ–¯é¡¿å¤§å­¦ä¸è°·æ­Œç ”ç©¶å›¢é˜Ÿæå‡ºï¼Œä½œä¸ºä¸€ç§äº¤äº’å¼æ¨ç†æ¡†æ¶ï¼Œæ—¨åœ¨è§£å†³ä¼ ç»Ÿå¤§è¯­è¨€æ¨¡å‹åœ¨å¤æ‚å¤šè½®æ¨ç†ä»»åŠ¡ä¸­é‡åˆ°çš„å›ºæœ‰ç“¶é¢ˆä¸æ•ˆç‡é—®é¢˜ã€‚ä¼ ç»Ÿçš„Â Chain-of-Thoughtï¼ˆCoTï¼‰æ¨ç†æ–¹æ³•é€šå¸¸é‡‡ç”¨çº¿æ€§ã€å•å‘çš„å¤„ç†æµç¨‹ï¼Œå³æ¨¡å‹å…ˆç”Ÿæˆå®Œæ•´çš„æ¨ç†é“¾æ¡ï¼Œéšåç»Ÿä¸€æ‰§è¡Œè¡ŒåŠ¨æ­¥éª¤ã€‚è¿™ç§â€œå…ˆæ€è€ƒåè¡ŒåŠ¨â€çš„é¡ºåºæ–¹æ³•ï¼Œåœ¨é¢å¯¹åŠ¨æ€å˜åŒ–ã€ç¯å¢ƒä¸ç¡®å®šæˆ–éœ€è¦å¤šå·¥å…·äº¤äº’çš„ä»»åŠ¡æ—¶ï¼Œå®¹æ˜“å¯¼è‡´ä¸Šä¸‹æ–‡ä¿¡æ¯ä¸¢å¤±ã€çŠ¶æ€æ¼‚ç§»å’Œå“åº”å»¶è¿Ÿï¼Œæ˜¾è‘—åˆ¶çº¦äº†æ¨¡å‹çš„å®ç”¨æ€§å’Œé²æ£’æ€§ã€‚</p>
<p>ReActÂ èŒƒå¼çš„æ ¸å¿ƒç†å¿µæ˜¯å°†æ¨ç†ï¼ˆReasoningï¼‰ä¸è¡ŒåŠ¨ï¼ˆActingï¼‰ç´§å¯†åŠ¨æ€äº¤ç»‡ï¼Œé€šè¿‡â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒâ€çš„é—­ç¯äº¤äº’ï¼Œæ„å»ºä¸€ä¸ªå®æ—¶åé¦ˆé©±åŠ¨çš„æ¨ç†ä½“ç³»ã€‚åœ¨å®é™…è¿è¡Œä¸­ï¼Œæ¨¡å‹åœ¨æ¯ä¸€æ­¥ä¸ä»…ç”Ÿæˆæ¨ç†æ–‡æœ¬ï¼Œè¿˜ä¼šå†³å®šæ˜¯å¦è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚æ•°æ®åº“æŸ¥è¯¢ã€APIÂ è°ƒç”¨ã€ä»£ç æ‰§è¡Œç­‰ï¼‰ï¼Œå¹¶æ ¹æ®å·¥å…·åé¦ˆçš„ç»“æœå³æ—¶è°ƒæ•´æ¨ç†ç­–ç•¥ä¸æ¨ç†çŠ¶æ€ã€‚è¿™æ ·ï¼Œæ¨¡å‹èƒ½å¤ŸæŒç»­æ›´æ–°å·¥ä½œè®°å¿†ä¸­çš„ç¯å¢ƒçŠ¶æ€å’Œæ¨ç†ä¸Šä¸‹æ–‡ï¼Œæœ‰æ•ˆé¿å…åœ¨å¤šè½®å¤æ‚æ¨ç†ä¸å·¥å…·è°ƒç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„æ„å›¾åç¦»å’Œä¿¡æ¯é—å¿˜ï¼Œç¡®ä¿æ¨ç†çš„è¿è´¯æ€§ä¸åŠ¨ä½œæ‰§è¡Œçš„å‡†ç¡®æ€§ã€‚</p>
<p>æŠ€æœ¯ä¸Šï¼ŒReActÂ æ¡†æ¶è®¾è®¡äº†ä¸€å¥—äº¤å‰è¿­ä»£çš„æ‰§è¡Œæœºåˆ¶ï¼Œå…·ä½“æµç¨‹åŒ…æ‹¬ï¼šæ¨¡å‹åŸºäºå½“å‰ä¸Šä¸‹æ–‡è¿›è¡Œæ¨ç†ï¼Œç”Ÿæˆä¸‹ä¸€æ­¥çš„è¡ŒåŠ¨æŒ‡ä»¤ï¼›ç³»ç»Ÿæ‰§è¡Œå¯¹åº”å·¥å…·è°ƒç”¨å¹¶è¿”å›ç»“æœï¼›æ¨¡å‹æ ¹æ®è¿”å›ä¿¡æ¯æ›´æ–°æ¨ç†çŠ¶æ€ï¼Œè¿›è¡Œä¸‹ä¸€è½®æ€è€ƒå’Œå†³ç­–ã€‚è¯¥æœºåˆ¶ä¸ä»…æå‡äº†æ¨¡å‹å¯¹ç¯å¢ƒçš„å“åº”æ•æ·æ€§ï¼Œä¹Ÿæ”¯æŒæ¡ä»¶è·¯å¾„åˆ†æ”¯å’Œè‡ªæˆ‘çº æ­£èƒ½åŠ›ï¼Œä½¿Â AgentÂ èƒ½åº”å¯¹é«˜åº¦åŠ¨æ€å’Œä¸ç¡®å®šçš„ä»»åŠ¡ç¯å¢ƒã€‚ReActÂ ä¸å…¶ä»–åŸºç¡€èŒƒå¼çš„å¯¹æ¯”å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00998fbe47f54a019726350d1ff0bf13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385337&amp;x-signature=Nu7%2FVtg%2FxMvJA%2FmpUq%2FGr4QrZng%3D" alt="5eecdaf48460cde5a3f33c191076f85b249b71b4c034e49875b8339e1c4c24831b75b38faadcd24bec177c308ebd530451b2f706b2ae6ce1db97a0c0d5fd2289e3a71713c83748a4709ded22f389353d6ba7c70869fa707e4fb4c8ed7016461c.png" loading="lazy"/>
ï¼ˆä¸Šå›¾æºè‡ªReAct:Â SynergizingÂ ReasoningÂ andÂ ActingÂ inÂ LanguageÂ Models.Â ICLRÂ 2023ï¼‰</p>
<h3 data-id="heading-3">æ•™å¸ˆè½¨è¿¹æ•°æ®ç”Ÿæˆ</h3>
<p>æ•™å¸ˆè½¨è¿¹æ•°æ®çš„è´¨é‡ç›´æ¥å†³å®šäº†å­¦ç”Ÿæ¨¡å‹æ¨ç†èƒ½åŠ›çš„ä¸Šé™å’Œè®­ç»ƒæ•ˆæœçš„ç¨³å®šæ€§ï¼Œå› æ­¤ï¼Œé«˜è´¨é‡è½¨è¿¹æ•°æ®çš„ç”Ÿæˆæ˜¯å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨èƒ½åŠ›è®­ç»ƒçš„å…³é”®åŸºç¡€ç¯èŠ‚ã€‚æˆ‘ä»¬å¯ä»¥é€‰ç”¨ä»»ä½•å…·å¤‡è¶³å¤Ÿèƒ½åŠ›çš„å¤§è¯­è¨€æ¨¡å‹ä½œä¸ºæ•™å¸ˆï¼ˆTeacherï¼‰ï¼Œå¦‚Â Qwen3-MaxÂ ç­‰ï¼Œå€ŸåŠ©å…¶å¼ºå¤§çš„ç†è§£ä¸æ¨ç†èƒ½åŠ›ï¼Œç”Ÿæˆé«˜è´¨é‡çš„ä»»åŠ¡æ‰§è¡Œè½¨è¿¹ã€‚ç”Ÿæˆçš„è½¨è¿¹éœ€ç¬¦åˆÂ ReActÂ èŒƒå¼ã€‚ä»¥æ±‚è§£æ•°å­¦é¢˜ä¸ºä¾‹ï¼Œæˆ‘ä»¬é‡‡ç”¨Â PythonÂ ä»£ç è§£é‡Šå™¨ä½œä¸ºå·¥å…·ï¼Œç”Ÿæˆçš„è½¨è¿¹æ•°æ®é‡‡ç”¨æ ‡å‡†çš„ä¸‰å…ƒç»„ç»“æ„Â [Thought,Â Code,Â Observation]ï¼Œå…·ä½“å¯¹åº”å¦‚ä¸‹ï¼š</p>
<ul>
<li>Thoughtï¼ˆæ€è€ƒï¼‰ï¼šæ•™å¸ˆæ¨¡å‹ä»¥è‡ªç„¶è¯­è¨€å¯¹é—®é¢˜è¿›è¡Œåˆ†æå’Œæ¨ç†ï¼Œæè¿°æ‹†è§£æ€è·¯ã€é€»è¾‘åˆ¤æ–­å’Œå†³ç­–ä¾æ®ï¼›</li>
<li>Codeï¼ˆä»£ç ï¼‰ï¼šç´§æ¥æ€è€ƒåçš„å·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼Œé€šå¸¸ä¸ºÂ PythonÂ ä»£ç ï¼Œç›´æ¥æ‰§è¡Œå…·ä½“æ“ä½œæˆ–è®¡ç®—ï¼Œç¡®ä¿æ¯æ­¥æ¨ç†å‡å…·æœ‰å¯æ‰§è¡Œæ€§ä¸æ˜ç¡®ã€å¯éªŒè¯çš„è¾“å‡ºï¼›</li>
<li>Observationï¼ˆè§‚å¯Ÿï¼‰ï¼šä»£ç æ‰§è¡Œåçš„ç¯å¢ƒåé¦ˆï¼ŒåŒ…å«å…·ä½“ç»“æœå’ŒçŠ¶æ€ä¿¡æ¯ï¼Œä¸ºåç»­æ¨ç†æ­¥éª¤æä¾›å®æ—¶ä¸Šä¸‹æ–‡æ”¯æŒã€‚</li>
</ul>
<p>è¿™ä¸€è®¾è®¡å……åˆ†æ¨¡æ‹Ÿäº†äººç±»åœ¨è§£å†³å¤æ‚é—®é¢˜æ—¶â€œæ€è€ƒâ†’è¡ŒåŠ¨â†’è§‚å¯Ÿâ†’å†æ€è€ƒâ€çš„æ€ç»´é—­ç¯ï¼Œä¿éšœäº†æ¨ç†æµç¨‹çš„é€æ˜æ€§å’Œè¿‡ç¨‹çš„å¯å¤ç°æ€§ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„è½¨è¿¹ç¤ºä¾‹ï¼Œå±•ç¤ºæ•™å¸ˆæ¨¡å‹å¦‚ä½•æ ¹æ®é¢˜æ„åŠ¨æ€æ‹†è§£é—®é¢˜ã€ç”Ÿæˆå·¥å…·è°ƒç”¨ä»£ç ï¼Œå¹¶æ ¹æ®ä»£ç æ‰§è¡Œçš„åé¦ˆè°ƒæ•´åç»­æ­¥éª¤ï¼š</p>









































<table><thead><tr><th>Question</th><th>InÂ howÂ manyÂ waysÂ canÂ 6Â girlsÂ andÂ 2Â boysÂ sitÂ inÂ aÂ rowÂ ifÂ theÂ 2Â boysÂ sitÂ nextÂ toÂ eachÂ other?</th></tr></thead><tbody><tr><td>ThoughtÂ 1Â ï¼ˆTeacherï¼‰</td><td>First,Â IÂ needÂ toÂ treatÂ theÂ 2Â boysÂ asÂ aÂ singleÂ unit,Â whichÂ meansÂ IÂ haveÂ 7Â unitsÂ toÂ arrange.Â IÂ willÂ calculateÂ theÂ numberÂ ofÂ ways.</td></tr><tr><td>CodeÂ 1Â ï¼ˆTeacherï¼‰</td><td>importÂ math<br/>ways_wo_boys_togetherÂ =Â math.factorial(7)<br/>print(ways_wo_boys_togetherÂ )</td></tr><tr><td>ObservationÂ 1</td><td>5040</td></tr><tr><td>ThoughtÂ 2Â ï¼ˆTeacherï¼‰</td><td>TheÂ boysÂ canÂ switchÂ placesÂ withinÂ theirÂ unit,Â IÂ willÂ multiplyÂ itÂ byÂ 2.</td></tr><tr><td>CodeÂ 2Â ï¼ˆTeacherï¼‰</td><td>waysÂ =Â ways_wo_boys_togetherÂ *Â 2<br/>print(ways)</td></tr><tr><td>ObservationÂ 2</td><td>10080</td></tr><tr><td>ThoughtÂ 3Â ï¼ˆTeacherï¼‰</td><td>IÂ willÂ provideÂ theÂ trueÂ answer.</td></tr><tr><td>CodeÂ 3Â ï¼ˆTeacherï¼‰</td><td>print(â€œThereÂ areÂ 10080Â ways.â€)</td></tr></tbody></table>
<p>é€šè¿‡æ„å»ºè‡ªåŠ¨åŒ–çš„æ•°æ®ç”Ÿæˆæµæ°´çº¿ï¼Œå¹¶ç»“åˆåˆ†å¸ƒå¼é«˜æ€§èƒ½è®¡ç®—èµ„æºï¼Œæˆ‘ä»¬èƒ½å¤Ÿé«˜æ•ˆäº§å‡ºå¤§è§„æ¨¡ã€å¤šæ ·åŒ–çš„æ•™å¸ˆè½¨è¿¹æ•°æ®é›†ã€‚æ•´ä¸ªæµç¨‹åŒ…æ‹¬ä»»åŠ¡æŒ‡ä»¤å‘èµ·ã€æ•™å¸ˆæ¨¡å‹æ¨ç†æ‰§è¡Œã€ä»£ç è¿è¡Œç¯å¢ƒåé¦ˆé‡‡é›†ä»¥åŠè½¨è¿¹ç»“æœçš„éªŒè¯ä¸ç­›é€‰ç­‰æ­¥éª¤ï¼Œå½¢æˆé—­ç¯ï¼Œä»è€Œä¿è¯æ•°æ®ç”Ÿæˆçš„ç¨³å®šæ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<h3 data-id="heading-4">è¡Œä¸ºå…‹éš†è®­ç»ƒ</h3>
<p>é€šè¿‡æ¨¡ä»¿æ•™å¸ˆæ¨¡å‹çš„æ¨ç†ä¸æ‰§è¡Œè½¨è¿¹ï¼Œè¡Œä¸ºå…‹éš†è®­ç»ƒä½¿å­¦ç”Ÿæ¨¡å‹é€æ­¥å­¦ä¼šå¦‚ä½•å°†å¤æ‚é—®é¢˜æ‹†è§£ä¸ºæœ‰åºçš„æ­¥éª¤ï¼Œå¹¶èƒ½å¤ŸåŸºäºä¸Šä¸‹æ–‡ç”Ÿæˆåˆç†çš„æ¨ç†æ€è·¯å’Œå¯æ‰§è¡Œä»£ç ï¼Œä»è€Œå®ç°å¯¹ä»»åŠ¡çš„åŸºæœ¬æŒæ§ã€‚è¡Œä¸ºå…‹éš†è®­ç»ƒé‡‡ç”¨æ ‡å‡†çš„ç›‘ç£å­¦ä¹ æ¡†æ¶ï¼Œå…¶ç›®æ ‡æ˜¯æœ€å¤§åŒ–å­¦ç”Ÿæ¨¡å‹åœ¨è®­ç»ƒè½¨è¿¹æ•°æ®ä¸Šç”Ÿæˆæ•™å¸ˆåŠ¨ä½œçš„æ¦‚ç‡ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51f68adec91447ad80ddffa937840e48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768385337&amp;x-signature=S1TqVvCTS2uPygyIWuGwcS7cXf8%3D" alt="60f7b6733910467dbb2e4bbe8ccb84ec.png" loading="lazy"/></p>
<p>ç»è¿‡è¡Œä¸ºå…‹éš†é˜¶æ®µçš„è®­ç»ƒï¼Œå­¦ç”Ÿæ¨¡å‹è¡¨ç°å‡ºä»¥ä¸‹èƒ½åŠ›æå‡ï¼š</p>
<ul>
<li>
<p>å¤šæ­¥é€»è¾‘æ‹†è§£èƒ½åŠ›ï¼šæ¨¡å‹èƒ½å¤ŸåŸºäºé—®é¢˜æè¿°åˆç†åˆ†è§£æ­¥éª¤ï¼Œä»¥ç¬¦åˆé€»è¾‘çš„è‡ªç„¶è¯­è¨€æ€ç»´æŒ‡å¯¼é—®é¢˜æ±‚è§£ï¼›</p>
</li>
<li>
<p>å‡†ç¡®ä»£ç ç”Ÿæˆï¼šå­¦ç”Ÿæ¨¡å‹ç”Ÿæˆçš„ä»£ç åœ¨è¯­æ³•å’ŒåŠŸèƒ½ä¸Šè¡¨ç°æ˜æ˜¾æå‡ï¼Œç¡®ä¿è¡ŒåŠ¨æ­¥éª¤å¯æ‰§è¡Œä¸”è¾“å‡ºç»“æœæœ‰æ•ˆï¼›</p>
</li>
<li>
<p>åŠ¨æ€åé¦ˆé€‚åº”ï¼šæ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆåˆ©ç”¨ç¯å¢ƒåé¦ˆè°ƒæ•´æ¨ç†çŠ¶æ€ï¼Œå±•ç°äº†ä¸€å®šç¨‹åº¦çš„é—­ç¯æ¨ç†èƒ½åŠ›ã€‚</p>
</li>
</ul>
<p>è¯¥é˜¶æ®µçš„è®­ç»ƒæ˜¾è‘—é™ä½äº†åç»­è®­ç»ƒçš„éš¾åº¦å’Œå¤æ‚åº¦ã€‚</p>
<h3 data-id="heading-5">æ•™å¸ˆçº é”™è®­ç»ƒ</h3>
<p>åœ¨å®Œæˆè¡Œä¸ºå…‹éš†è®­ç»ƒåï¼Œå­¦ç”Ÿæ¨¡å‹å·²ç»å…·å¤‡äº†åŸºæœ¬çš„å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨èƒ½åŠ›ï¼Œä½†åœ¨é¢å¯¹æœªè§ä»»åŠ¡åœºæ™¯æ—¶ï¼Œä»ç„¶å¯èƒ½å‡ºç°æ¨ç†æ¼æ´æˆ–æ‰§è¡Œé”™è¯¯ã€‚ä¸ºäº†ä¿ƒè¿›å­¦ç”Ÿæ¨¡å‹èƒ½åŠ›çš„åŠ¨æ€è‡ªé€‚åº”æå‡ï¼Œæœ¬é˜¶æ®µæ—¨åœ¨è®©å­¦ç”Ÿæ¨¡å‹åœ¨å…¨æ–°ä»»åŠ¡ä¸­ä¸»åŠ¨è¿›è¡Œâ€œæ€è€ƒ-æ‰§è¡Œ-è§‚å¯Ÿâ€çš„é—­ç¯æ¨ç†ï¼Œè‡ªä¸»å°è¯•è§£å†³é—®é¢˜ï¼Œå¹¶ç»“åˆæ•™å¸ˆæ¨¡å‹çš„é’ˆå¯¹æ€§çº é”™è¾…å¯¼ï¼Œå®ç°èƒ½åŠ›çš„ç²¾å‡†åŒ¹é…ä¸æŒç»­ä¼˜åŒ–ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œåœ¨ä»»åŠ¡ç¯å¢ƒä¸­ï¼Œå­¦ç”Ÿæ¨¡å‹æ¥æ”¶é—®é¢˜è¾“å…¥åï¼ŒæŒ‰ç…§Â ReActÂ èŒƒå¼ç”Ÿæˆä¸€ç³»åˆ—è½¨è¿¹æ­¥éª¤ï¼Œæ¯ä¸€æ­¥å‡åŒ…å«è‡ªç„¶è¯­è¨€æ¨ç†ï¼ˆThoughtï¼‰ã€å¯¹åº”ä»£ç æ‰§è¡Œï¼ˆCodeï¼‰åŠç¯å¢ƒåé¦ˆï¼ˆObservationï¼‰ã€‚é€šè¿‡è®©å­¦ç”Ÿæ¨¡å‹çœŸå®åœ°â€œè‡ªå·±åŠ¨æ‰‹â€è§£é¢˜ï¼Œä¸»åŠ¨ä¸ç¯å¢ƒäº¤äº’ç”Ÿæˆå®Œæ•´çš„æ¨ç†è½¨è¿¹ï¼Œæˆ‘ä»¬å¤§å¤§å‡å°‘äº†ä¼ ç»Ÿè¡Œä¸ºå…‹éš†ä¸­ç”±äºâ€œæ¨¡ä»¿åˆ†å¸ƒæ¼‚ç§»â€å¸¦æ¥çš„è®­ç»ƒåå·®ï¼Œä½¿è®­ç»ƒæ•°æ®æ›´åŠ è´´è¿‘çœŸå®æ¨ç†è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼Œé’ˆå¯¹é¢˜ç›®â€œ6ä¸ªå¥³å­©å’Œ2ä¸ªç”·å­©æ’æˆä¸€æ’ï¼Œè¦æ±‚2ä¸ªç”·å­©ç›¸é‚»ï¼Œæœ‰å¤šå°‘ç§æ’æ³•ï¼Ÿâ€ï¼Œå­¦ç”Ÿæ¨¡å‹çš„æ€è€ƒå’Œæ‰§è¡Œå¯èƒ½å‡ºç°å¦‚ä¸‹æƒ…å†µï¼š</p>

































<table><thead><tr><th>Question</th><th>InÂ howÂ manyÂ waysÂ canÂ 6Â girlsÂ andÂ 2Â boysÂ sitÂ inÂ aÂ rowÂ ifÂ theÂ 2Â boysÂ sitÂ nextÂ toÂ eachÂ other?</th></tr></thead><tbody><tr><td>ThoughtÂ 1Â ï¼ˆStudentï¼‰</td><td>First,Â IÂ needÂ toÂ treatÂ theÂ 2Â boysÂ asÂ aÂ singleÂ unit,Â whichÂ meansÂ IÂ haveÂ 7Â unitsÂ toÂ arrange.Â IÂ willÂ calculateÂ theÂ numberÂ ofÂ ways.</td></tr><tr><td>CodeÂ 1Â ï¼ˆStudentï¼‰</td><td>importÂ math<br/>ways_wo_boys_togetherÂ =Â math.factorial(7)<br/>print(ways_wo_boys_togetherÂ )</td></tr><tr><td>ObservationÂ 1</td><td>5040</td></tr><tr><td>ThoughtÂ 2Â ï¼ˆStudentï¼‰</td><td>TheÂ boysÂ areÂ aÂ singleÂ unit,Â theÂ waysÂ equalÂ toÂ ways_wo_boys_together</td></tr><tr><td>CodeÂ 2Â ï¼ˆStudentï¼‰</td><td>waysÂ =Â ways_wo_boys_together<br/>print(ways)</td></tr><tr><td>ObservationÂ 2</td><td>5040</td></tr></tbody></table>
<p>æ­¤å¤„ï¼Œå­¦ç”Ÿæ¨¡å‹åœ¨ç¬¬äºŒæ­¥æœªè€ƒè™‘ç”·å­©å†…éƒ¨ä½ç½®çš„äº¤æ¢ï¼Œå¯¼è‡´ç»“æœå‡ºç°åå·®ã€‚æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç»è¿‡æ•™å¸ˆçº é”™å’Œä¿®æ­£çš„å®Œæ•´è½¨è¿¹ï¼Œä½œä¸ºæ›´è´´åˆå­¦ç”Ÿå½“å‰èƒ½åŠ›çš„è®­ç»ƒæ ·æœ¬ã€‚è¿™æ ·ï¼Œæ¨¡å‹æ—¢èƒ½å­¦ä¹ å…³é”®é”™è¯¯çš„æ›´æ­£è¿‡ç¨‹ï¼Œåˆèƒ½é¿å…åœ¨çº¯æ¨¡ä»¿è®­ç»ƒä¸­å› é”™è¯¯è½¨è¿¹æœªåŠ æ§åˆ¶è€Œå¯¼è‡´çš„è¯¯å·®å¿«é€Ÿç´¯è®¡ä¸æŒ‡æ•°çº§æ‰©æ•£ã€‚æŠ€æœ¯å®ç°ä¸Šï¼Œæœ¬é˜¶æ®µè®­ç»ƒæ—¶ï¼Œæ¨¡å‹ä»¥åˆå§‹è¡Œä¸ºå…‹éš†é˜¶æ®µçš„æƒé‡ä¸ºåŸºç¡€ï¼Œåˆ©ç”¨æ•™å¸ˆä¿®æ­£åçš„è½¨è¿¹ä½œä¸ºè®­ç»ƒè¾“å…¥ï¼Œå¹¶æ²¿ç”¨ç¬¬ä¸€é˜¶æ®µçš„äº¤å‰ç†µç›‘ç£æŸå¤±ã€‚æ­¤ä¸¾èƒ½å¤Ÿæœ‰æ•ˆå¼•å¯¼æ¨¡å‹çº æ­£å…¶å±€éƒ¨é”™è¯¯ï¼ŒæŒç»­æå‡æ¨ç†ä¸å·¥å…·è°ƒç”¨çš„å‡†ç¡®æ€§ä¸é²æ£’æ€§ã€‚</p>
<h3 data-id="heading-6">å®éªŒæ•ˆæœè¯„æµ‹</h3>
<p>ä¸ºéªŒè¯é¢å‘Â InterleavedÂ ThinkingÂ çš„è’¸é¦æ–¹æ³•åœ¨çœŸå®Â AgentÂ ä»»åŠ¡ä¸­çš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬åœ¨å¤šç±»Â AgentÂ åŸºå‡†ä»»åŠ¡ä¸Šå¯¹è’¸é¦æ¨¡å‹è¿›è¡Œäº†è¯„æµ‹ä¸å¯¹æ¯”ã€‚å…·ä½“åŒ…æ‹¬ä»¥ä¸‹ä»»åŠ¡å’Œè¯„æµ‹åŸºå‡†ï¼š</p>
<ul>
<li>
<p>æ•°å­¦æ¨ç†ï¼ˆéœ€é¢‘ç¹è°ƒç”¨Â PythonÂ å·¥å…·ï¼‰ï¼šAIME2024ã€AIME2025ã€MATH500ã€OlymMath</p>
<ul>
<li>æŒ‡æ ‡ï¼šåˆ¤æ–­æœ€ç»ˆç­”æ¡ˆçš„æ­£ç¡®æ€§</li>
</ul>
</li>
<li>
<p>äº‹å®Â /Â å¤šè·³é—®ç­”ï¼ˆéœ€æœç´¢å·¥å…·ï¼‰ï¼šHotpotQAã€2WikiMultihopQAã€MuSiQã€Bamboogle</p>
<ul>
<li>æŒ‡æ ‡ï¼štoken-levelÂ F1</li>
</ul>
</li>
<li>
<p>DeepÂ Searchï¼šGAIAã€WebWalkerã€HLEã€xBench</p>
<ul>
<li>æŒ‡æ ‡ï¼šä½¿ç”¨Â LLM-as-a-judgeÂ åˆ¤å®šæ­£ç¡®æ€§</li>
</ul>
</li>
</ul>
<p>åœ¨å·¥å…·è®¾ç½®ä¸Šï¼Œæ•°å­¦æ¨ç†é—®é¢˜é‡‡ç”¨Â PythonÂ è§£é‡Šå™¨ï¼Œäº‹å®é—®ç­”ä»»åŠ¡åˆ™ä½¿ç”¨åœ¨çº¿æœç´¢Â APIÂ snippetï¼ˆä¸åŒ…å«æµè§ˆå™¨åŠŸèƒ½ï¼‰ï¼Œä»¥é™ä½å·¥å…·è°ƒç”¨æˆæœ¬å’Œæ—¶å»¶ã€‚</p>
<p>å®éªŒç»“æœè¡¨æ˜ï¼Œé¢å‘Â InterleavedÂ ThinkingÂ çš„è’¸é¦æ¡†æ¶èƒ½å¤Ÿæ˜¾è‘—æå‡å°æ¨¡å‹åœ¨å¤šæ­¥æ¨ç†ä¸å·¥å…·è°ƒç”¨ä»»åŠ¡ä¸­çš„ç¨³å®šæ€§å’ŒæˆåŠŸç‡ã€‚å…·ä½“è€Œè¨€ï¼Œç»è¿‡ä¸Šè¿°æ¨¡å‹è’¸é¦è®­ç»ƒï¼Œåœ¨æ•°å­¦æ¨ç†å’Œäº‹å®Â /Â å¤šè·³é—®ç­”ä»»åŠ¡ä¸Šï¼Œ7BÂ æ¨¡å‹çš„æ•ˆæœå·²è¶…è¿‡Â 32BÂ æ¨¡å‹ï¼Œå¹¶æ¥è¿‘Â 72BÂ æ¨¡å‹çš„è¡¨ç°ï¼›åœ¨Â DeepÂ SearchÂ ä»»åŠ¡ä¸Šï¼Œ8BÂ æ¨¡å‹çš„ç»“æœä¹Ÿä¸Â 72BÂ æ¨¡å‹æ¥è¿‘ã€‚</p>













































































<table><thead><tr><th><strong>Method</strong></th><th><strong>MathematicalÂ Reasoning</strong></th><th/><th/><th/><th><strong>FactualÂ Reasoning</strong></th><th/><th/><th/><th><strong>Avg.</strong></th></tr></thead><tbody><tr><td/><td>AIME24</td><td>AIME25</td><td>MATH500</td><td>OlymM</td><td>HQA</td><td>2Wiki</td><td>MuSiQ</td><td>Bamb</td><td/></tr><tr><td>Qwen2.5-72B-InstructÂ (å¤§æ¨¡å‹Â ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>33.3</td><td>40.0</td><td>77.4</td><td>17.0</td><td>60.5</td><td>75.5</td><td>36.8</td><td>73.2</td><td>51.7</td></tr><tr><td>Qwen2.5-32B-InstructÂ (å¤§æ¨¡å‹Â ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>30.0</td><td>23.3</td><td>74.0</td><td>18.0</td><td>54.9</td><td>64.9</td><td>26.9</td><td>67.8</td><td>45.0</td></tr><tr><td>Qwen2.5-7B-InstructÂ (AgentKD)</td><td>26.7</td><td>16.7</td><td>73.4</td><td>18.5</td><td>59.5</td><td>72.8</td><td>29.2</td><td>69.8</td><td>45.8</td></tr><tr><td>Qwen2.5-3B-InstructÂ (AgentKD)</td><td>20.0</td><td>13.3</td><td>67.0</td><td>12.5</td><td>55.9</td><td>71.6</td><td>27.8</td><td>67.5</td><td>41.9</td></tr></tbody></table>

















































<table><thead><tr><th><strong>Method</strong></th><th><strong>GAIA</strong></th><th/><th/><th/><th><strong>HLE</strong></th><th><strong>XBench</strong></th><th><strong>WebWalker</strong></th><th><strong>Avg.</strong></th></tr></thead><tbody><tr><td/><td>GAIA-1</td><td>GAIA-2</td><td>GAIA-3</td><td>Avg.</td><td/><td/><td/><td/></tr><tr><td>Qwen2.5-72B-InstructÂ (å¤§æ¨¡å‹ç›´æ¥è°ƒç”¨å·¥å…·)</td><td>30.8</td><td>36.5</td><td>16.7</td><td>32.0</td><td>7.8</td><td>31.0</td><td>38.5</td><td>27.3</td></tr><tr><td>Qwen3-8BÂ (AgentKD)</td><td>35.9</td><td>26.9</td><td>8.3</td><td>28.2</td><td>10.0</td><td>22.0</td><td>41.5</td><td>25.4</td></tr></tbody></table>
<h2 data-id="heading-7">EasyDistillåº”ç”¨å®è·µ</h2>
<p>åœ¨Â EasyDistillÂ å¼€æºæ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒäº†ä¸Šæ–‡æåˆ°çš„é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Agentè’¸é¦è®­ç»ƒã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬ç»™å‡ºå…·ä½“çš„åº”ç”¨å®è·µç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-8">é¡¹ç›®ä¸»ä½“æ¡†æ¶</h3>
<p>EasyDistillÂ çš„Â AgentÂ è’¸é¦æ¨¡å—ä¸»è¦åŸºäºÂ langgraphÂ æ¡†æ¶ï¼Œç”¨äºÂ AgentÂ æ¨ç†è½¨è¿¹ç”Ÿæˆï¼Œä»¥åŠåŸºäºè¯¥è½¨è¿¹çš„å°å‹Â AgentÂ æ¨¡å‹è’¸é¦è®­ç»ƒï¼Œå…¶é¡¹ç›®ä¸»ä½“æ¡†æ¶å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-plain" lang="plain">.
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ agentkd_local.json      # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/
â”‚   â””â”€â”€ agent_demo.jsonl    # åŸå§‹æ•°æ®æº
â”‚   â””â”€â”€ agent_demo_labeled.jsonl    # ç”Ÿæˆçš„æ¨ç†è½¨è¿¹
â”œâ”€â”€ easydistill/agentkd
â”‚   â””â”€â”€ infer.py        # agentæ¨ç†è½¨è¿¹ç”Ÿæˆ
â”‚   â””â”€â”€ train.py        # è’¸é¦è®­ç»ƒè„šæœ¬
</code></pre>
<h3 data-id="heading-9">å®è·µåº”ç”¨ç¤ºä¾‹</h3>
<ol>
<li>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿›è¡Œæ•°æ®å‡†å¤‡å·¥ä½œã€‚æ•°æ®é›†æ ¼å¼æ”¯æŒ.jsonlï¼Œæˆ‘ä»¬å·²ç»åœ¨Â data/agent_demo.jsonlÂ ä¸­æä¾›äº†ç¤ºä¾‹æ•°æ®ã€‚æ¯æ¡æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"solution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"true_answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"TLDR"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>æ¥ç€ï¼Œæˆ‘ä»¬é…ç½®è®­ç»ƒæ‰€éœ€å‚æ•°ï¼Œconfigs/agentkd_local.jsonÂ åŒ…å«äº†ç”ŸæˆÂ AgentÂ è½¨è¿¹å’Œè’¸é¦è®­ç»ƒæ‰€éœ€çš„å…¨éƒ¨å‚æ•°é…ç½®ä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"job_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"agentkd_local"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dataset"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"instruction_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo.jsonl"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labeled_path_raw"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo_labeled_raw.jsonl"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"labeled_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"data/agent_demo_labeled.json"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"teacher"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Qwen/Qwen2.5-72B-Instruct"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"student"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"inference"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span>
        ...
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"training"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
       ...
    <span class="hljs-punctuation">}</span>
    
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>ä½¿ç”¨Â å‘½ä»¤ä¸€é”®ç”ŸæˆAgentè½¨è¿¹æ•°æ®å’Œæ‹‰èµ·è®­ç»ƒä»»åŠ¡</p>
</li>
</ol>
<pre><code class="hljs language-json" lang="json">easydistill --config configs/agentkd_local.json
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šåŸºäºæºæ•°æ®Â data/agent_demo.jsonlÂ ç”ŸæˆÂ åŸå§‹AgentÂ æ¨ç†è½¨è¿¹ï¼Œå¹¶å°†å…¶è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œæœ€ç»ˆç”Ÿæˆç›´æ¥å¯ç”¨äºè®­ç»ƒçš„è½¨è¿¹æ•°æ®ï¼ˆå®é™…ä½¿ç”¨ä¸­å¯æ ¹æ®éœ€è¦è°ƒæ•´æ¨ç†å‚æ•°ï¼‰ï¼Œå³Â data/agent_demo_labeled.jsonï¼Œç¤ºä¾‹æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"conversations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A pool has 48 blue tiles and 32 red tiles. If the pool needs 100 tiles to be completed, how many more tiles are needed?"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;first_thought&gt;Calculate the total number of tiles currently in the pool, then subtract this number from the total number of tiles needed to find out how many more tiles are required.&lt;/first_thought&gt;"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Observation: None"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;thought&gt;I need to calculate the total number of tiles currently in the pool and then find out how many more tiles are needed to reach 100 tiles.&lt;/thought&gt;&lt;code&gt;# Calculate the total number of tiles currently in the pool\nblue_tiles = 48\nred_tiles = 32\ntotal_tiles_current = blue_tiles + red_tiles\n\n# Calculate how many more tiles are needed\ntiles_needed = 100 - total_tiles_current\nprint(tiles_needed)&lt;/code&gt;"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"human"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Observation: 20"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"value"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&lt;thought&gt;I have already calculated the number of tiles needed to complete the pool, which is 20. Now, I need to format this number as a final answer in LaTeX format.&lt;/thought&gt;&lt;code&gt;final_answer_print(r\"\boxed{20}\")&lt;/code&gt;"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>åŸºäºç”Ÿæˆçš„Â AgentÂ æ¨ç†è½¨è¿¹ï¼ˆdata/agent_demo_labeled.jsonï¼‰ï¼Œè¯¥å‘½ä»¤å°†è‡ªåŠ¨è¿›è¡Œæœ€ç»ˆçš„è’¸é¦è®­ç»ƒã€‚åŒæ ·åœ°ï¼Œåœ¨å®é™…ä½¿ç”¨ä¸­å¯æ ¹æ®éœ€è¦ä¿®æ”¹Â configs/agentkd_local.jsonÂ ä¸­çš„è®­ç»ƒå‚æ•°ã€‚</p>
<h2 data-id="heading-10">æœ¬æ–‡å°ç»“</h2>
<p>æœ¬æ–‡å›´ç»•é¢å‘Â InterleavedÂ ThinkingÂ çš„å¤§æ¨¡å‹Â AgentÂ è’¸é¦ï¼Œç³»ç»Ÿä»‹ç»äº†åŸºäºåŠ¨æ€äº¤é”™æ¨ç†æœºåˆ¶çš„è®­ç»ƒæ•°æ®æ„å»ºä¸è’¸é¦ç®—æ³•è®¾è®¡æ–¹æ³•ã€‚é€šè¿‡å¼•å…¥ç¬¦åˆäº¤é”™æ€ç»´ç‰¹ç‚¹çš„å¤šè½®äº¤äº’æ•°æ®åŠä¸“é—¨çš„è’¸é¦ç­–ç•¥ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®­ç»ƒå‡ºè½»é‡ã€é«˜æ•ˆä¸”å…·å¤‡å¼ºæ¨ç†èƒ½åŠ›çš„Â AgentÂ æ¨¡å‹ï¼Œæœ‰æ•ˆæå‡æ¨¡å‹åœ¨å¤æ‚ä»»åŠ¡ä¸­çš„è¡¨ç°å’Œå“åº”é€Ÿåº¦ã€‚è¿™ä¸ä»…çªç ´äº†ä¼ ç»ŸÂ CoTÂ æ¨ç†é“¾åœ¨å¤šè½®äº¤äº’åœºæ™¯ä¸‹çš„å±€é™ï¼Œä¹Ÿä¸ºæ™ºèƒ½ä½“ç³»ç»Ÿçš„è§„æ¨¡åŒ–åº”ç”¨å¥ å®šäº†åšå®åŸºç¡€ã€‚å±•æœ›æœªæ¥ï¼Œæˆ‘ä»¬å°†åŸºäºÂ EasyDistillÂ æ¡†æ¶è¿›ä¸€æ­¥å¼€æºæ›´å¤šÂ AgentÂ è’¸é¦ç›¸å…³çš„ç®—æ³•ä¸æ¨¡å‹ã€‚æ¬¢è¿å¤§å®¶åŠ å…¥æˆ‘ä»¬ï¼Œå…±åŒäº¤æµå¤§æ¨¡å‹è’¸é¦æŠ€æœ¯ï¼</p>
<h2 data-id="heading-11">å‚è€ƒå·¥ä½œ</h2>
<p>EasyDistillÂ ç³»åˆ—ç›¸å…³è®ºæ–‡</p>
<ul>
<li>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â ReasoningÂ withÂ OmniThought:Â AÂ LargeÂ CoTÂ DatasetÂ withÂ VerbosityÂ andÂ CognitiveÂ DifficultyÂ Annotations.Â arXivÂ preprint</li>
</ul>

<ul>
<li>
<p>YuanjieÂ Lyu,Â ChengyuÂ Wang,Â JunÂ Huang,Â TongÂ Xu.Â FromÂ CorrectionÂ toÂ Mastery:Â ReinforcedÂ DistillationÂ ofÂ LargeÂ LanguageÂ ModelÂ Agents.Â arXivÂ preprint</p>
</li>
<li>
<p>ChengyuÂ Wang,Â JunbingÂ Yan,Â WenruiÂ Cai,Â YuanhaoÂ Yue,Â JunÂ Huang.Â EasyDistill:Â AÂ ComprehensiveÂ ToolkitÂ forÂ EffectiveÂ KnowledgeÂ DistillationÂ ofÂ LargeÂ LanguageÂ Models.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â ThinkingÂ withÂ DistilQwen:Â AÂ TaleÂ ofÂ FourÂ DistilledÂ ReasoningÂ andÂ RewardÂ ModelÂ Series.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>WenruiÂ Cai,Â ChengyuÂ Wang,Â JunbingÂ Yan,Â JunÂ Huang,Â XiangzhongÂ Fang.Â EnhancingÂ ReasoningÂ AbilitiesÂ ofÂ SmallÂ LLMsÂ withÂ CognitiveÂ Alignment.Â <strong>EMNLPÂ 2025</strong></p>
</li>
<li>
<p>ChengyuÂ Wang,Â JunbingÂ Yan,Â YuanhaoÂ Yue,Â JunÂ Huang.Â DistilQwen2.5:Â IndustrialÂ PracticesÂ ofÂ TrainingÂ DistilledÂ OpenÂ LightweightÂ LanguageÂ Models.Â <strong>ACLÂ 2025</strong></p>
</li>
<li>
<p>YuanhaoÂ Yue,Â ChengyuÂ Wang,Â JunÂ Huang,Â PengÂ Wang.Â BuildingÂ aÂ FamilyÂ ofÂ DataÂ AugmentationÂ ModelsÂ forÂ Low-costÂ LLMÂ Fine-tuningÂ onÂ theÂ Cloud.Â <strong>COLINGÂ 2025</strong></p>
</li>
<li>
<p>YuanhaoÂ Yue,Â ChengyuÂ Wang,Â JunÂ Huang,Â PengÂ Wang.Â DistillingÂ Instruction-followingÂ AbilitiesÂ ofÂ LargeÂ LanguageÂ ModelsÂ withÂ Task-awareÂ CurriculumÂ Planning.Â <strong>EMNLPÂ 2024</strong></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Lambda NodeJS è¿è¡Œæ—¶é“¾è·¯æ¥å…¥è§‚æµ‹äº‘]]></title>    <link>https://juejin.cn/post/7592531796039434274</link>    <guid>https://juejin.cn/post/7592531796039434274</guid>    <pubDate>2026-01-07T10:48:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796039434274" data-draft-id="7592432859862532130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Lambda NodeJS è¿è¡Œæ—¶é“¾è·¯æ¥å…¥è§‚æµ‹äº‘"/> <meta itemprop="keywords" content="AWS"/> <meta itemprop="datePublished" content="2026-01-07T10:48:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2392958212523102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Lambda NodeJS è¿è¡Œæ—¶é“¾è·¯æ¥å…¥è§‚æµ‹äº‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392958212523102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:48:41.000Z" title="Wed Jan 07 2026 10:48:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>ä¸ºæœ‰æ•ˆç›‘æ§æ— æœåŠ¡å™¨æ¶æ„çš„ä¸šåŠ¡æ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦å°† AWS Lambda å‡½æ•°çš„å…¨é“¾è·¯æ•°æ®æ¥å…¥è§‚æµ‹äº‘è¿›è¡Œç»Ÿä¸€å¯è§‚æµ‹æ€§åˆ†æã€‚ç”±äº Lambda ç¯å¢ƒçš„ç‰¹æ®Šæ€§ï¼Œæœ€ä½³å®è·µæ˜¯æ„å»ºä¸€ä¸ªé›†æˆäº† OpenTelemetry çš„å®˜æ–¹ Layerã€‚è¯¥ Layer èƒ½è‡ªåŠ¨æ•è·å‡½æ•°è°ƒç”¨é“¾ä¸æ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶é€šè¿‡æ ‡å‡† OTLP åè®®ä¸ŠæŠ¥ã€‚ä¸ºç¡®ä¿æ•°æ®ä¼ è¾“çš„é«˜æ•ˆæ€§ä¸å‰ç»æ€§ï¼Œæˆ‘ä»¬ç‰¹åˆ«å°†ç¤¾åŒºå¸¸è§çš„ JSON æ ¼å¼è°ƒæ•´ä¸º Protobuf ç¼–ç ï¼Œä»¥é€‚é…è§‚æµ‹äº‘åç«¯çš„æŠ€æœ¯æ¼”è¿›ï¼Œä¸ºå‡½æ•°æ€§èƒ½ä¼˜åŒ–ä¸æ•…éšœè¯Šæ–­æä¾›åšå®çš„æ•°æ®åŸºç¡€ã€‚</p>
<h2 data-id="heading-1">å‰ææ¡ä»¶</h2>
<p>è¿è¡Œæ—¶ï¼šNodeJS 22</p>
<h2 data-id="heading-2">å®‰è£… DataKit å¹¶é…ç½®é‡‡é›†å™¨</h2>
<p>è¿›å…¥è§‚æµ‹äº‘æ§åˆ¶å° -ã€Œé›†æˆã€-ã€ŒDataKitã€-ã€ŒLinuxã€å¤åˆ¶å‘½ä»¤å®‰è£… DataKit ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2020a93bad84dbfa840177c18697373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=djYIyrwHJ9278%2FpMDXR3plgqJKE%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥Â <code>/usr/local/datakit/conf.d/samples</code>Â ï¼Œå°†Â <code>opentelemetry.conf.sample</code>Â å¤åˆ¶åˆ°ä¸Šçº§ç›®å½•Â <code>/conf.d</code>Â ä¸­ï¼Œå¹¶ä¿®æ”¹æ–‡ä»¶åç¼€ä¸ºÂ <code>conf</code>Â ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cp</span> opentelemetry.conf.sample ../opentelemetry.conf
</code></pre>
<p>ç¼–è¾‘ opentelemetry é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å¦‚ä¸‹éƒ¨åˆ†ï¼Œæ·»åŠ  enable = true ï¼Œç„¶åä¿å­˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75d3ad86f89944b2812ede68519a7531~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=KaVfzyDvZfcKEB4YGinGGNFliIA%3D" alt="" loading="lazy"/></p>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯ DataKit ã€‚</p>
<pre><code class="hljs">datakit service -R
</code></pre>
<p>æ‰“å¼€Â <code>datakit.conf</code>Â çš„Â <code>http_api</code>Â å¼€å¯Â <code>0.0.0.0:9529</code>Â ã€‚</p>
<h2 data-id="heading-3">å‡†å¤‡ä¸€ä¸ª Lambda å‡½æ•°</h2>
<p>ä»¥ä¸‹ demo è„šæœ¬è°ƒç”¨äº†ä¸€ä¸ª Java æœåŠ¡Â <code>52.83.66.70:8090/user</code>Â ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);

<span class="hljs-built_in">exports</span>.<span class="hljs-property">handler</span> = <span class="hljs-keyword">async</span> (event, context) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== å¼€å§‹è°ƒç”¨JavaæœåŠ¡éªŒè¯TraceID ==='</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‡†å¤‡è°ƒç”¨JavaæœåŠ¡: 52.83.66.70:8090/user'</span>);
        
        <span class="hljs-comment">// è°ƒç”¨æ‚¨çš„JavaæœåŠ¡</span>
        <span class="hljs-keyword">const</span> javaServiceResult = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callJavaService</span>();
        
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'JavaæœåŠ¡è°ƒç”¨æˆåŠŸ'</span>);
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">statusCode</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
                <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">message</span>: <span class="hljs-string">'JavaæœåŠ¡è°ƒç”¨å®Œæˆ'</span>,
                <span class="hljs-attr">javaServiceResponse</span>: javaServiceResult,
                <span class="hljs-attr">requestId</span>: context.<span class="hljs-property">awsRequestId</span>,
                <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>()
            })
        };
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è°ƒç”¨JavaæœåŠ¡å¤±è´¥:'</span>, error);
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">statusCode</span>: <span class="hljs-number">500</span>,
            <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
                <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">message</span>: <span class="hljs-string">'JavaæœåŠ¡è°ƒç”¨å¤±è´¥'</span>,
                <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>
            })
        };
    }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">callJavaService</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¼€å§‹å‘èµ·HTTPè¯·æ±‚åˆ°JavaæœåŠ¡...'</span>);
        
        <span class="hljs-keyword">const</span> options = {
            <span class="hljs-attr">hostname</span>: <span class="hljs-string">'52.83.66.70'</span>,
            <span class="hljs-attr">port</span>: <span class="hljs-number">8090</span>,
            <span class="hljs-attr">path</span>: <span class="hljs-string">'/user'</span>,
            <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
            <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>,  <span class="hljs-comment">// 5ç§’è¶…æ—¶</span>
            <span class="hljs-attr">headers</span>: {
                <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Lambda-OTEL-Test/1.0'</span>,
                <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>
            }
        };
        
        <span class="hljs-keyword">const</span> req = http.<span class="hljs-title function_">request</span>(options, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`JavaæœåŠ¡å“åº”çŠ¶æ€ç : <span class="hljs-subst">${res.statusCode}</span>`</span>);
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”å¤´:'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res.<span class="hljs-property">headers</span>));
            
            <span class="hljs-keyword">let</span> data = <span class="hljs-string">''</span>;
            res.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> {
                data += chunk;
            });
            
            res.<span class="hljs-title function_">on</span>(<span class="hljs-string">'end'</span>, <span class="hljs-function">() =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'JavaæœåŠ¡å“åº”æ•°æ®é•¿åº¦:'</span>, data.<span class="hljs-property">length</span>);
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŸå§‹å“åº”:'</span>, data);
                
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// å°è¯•è§£æJSONå“åº”</span>
                    <span class="hljs-keyword">const</span> parsedData = data ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data) : {};
                    <span class="hljs-title function_">resolve</span>({
                        <span class="hljs-attr">statusCode</span>: res.<span class="hljs-property">statusCode</span>,
                        <span class="hljs-attr">data</span>: parsedData,
                        <span class="hljs-attr">headers</span>: res.<span class="hljs-property">headers</span>,
                        <span class="hljs-attr">rawResponse</span>: data
                    });
                } <span class="hljs-keyword">catch</span> (e) {
                    <span class="hljs-comment">// å¦‚æœJSONè§£æå¤±è´¥ï¼Œè¿”å›åŸå§‹æ•°æ®</span>
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å“åº”ä¸æ˜¯JSONæ ¼å¼ï¼Œè¿”å›åŸå§‹æ•°æ®'</span>);
                    <span class="hljs-title function_">resolve</span>({
                        <span class="hljs-attr">statusCode</span>: res.<span class="hljs-property">statusCode</span>,
                        <span class="hljs-attr">data</span>: data,
                        <span class="hljs-attr">headers</span>: res.<span class="hljs-property">headers</span>,
                        <span class="hljs-attr">isJson</span>: <span class="hljs-literal">false</span>
                    });
                }
            });
        });
        
        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚JavaæœåŠ¡é”™è¯¯:'</span>, error.<span class="hljs-property">message</span>);
            <span class="hljs-title function_">reject</span>(error);
        });
        
        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">'timeout'</span>, <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚JavaæœåŠ¡è¶…æ—¶'</span>);
            req.<span class="hljs-title function_">destroy</span>();
            <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¯·æ±‚JavaæœåŠ¡è¶…æ—¶'</span>));
        });
        
        <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
        req.<span class="hljs-title function_">end</span>();
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'HTTPè¯·æ±‚å·²å‘é€åˆ°JavaæœåŠ¡'</span>);
    });
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb01cf1faace401990f6f8e6d868dda3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=qkyiTsIOdVU1qnFmG%2BxiM3VMnTI%3D" alt="" loading="lazy"/></p>
<p>æµ‹è¯•äº‹ä»¶ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81a09bc5f94b45f7a84f7c4dde2365e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=iy8FVxCLHlzl3%2BYedEKyAYCfTZI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ„å»º Layer</h2>
<p>æ„å»ºå®˜æ–¹çš„ Layer åšå¯¼å‡ºå™¨ï¼Œé€šè¿‡ Layer é›†æˆï¼Œæ— ä¾µå…¥å¼åœ°è‡ªåŠ¨æ•è· Lambda å‡½æ•°æ‰§è¡Œçš„é“¾è·¯æ•°æ®å¯ä»¥è‡ªåŠ¨é‡‡é›† Lambda å‡½æ•°çš„é“¾è·¯æ•°æ®ï¼Œå°†é‡‡é›†çš„æ•°æ®è½¬æ¢ä¸º OpenTelemetryï¼ˆOTelï¼‰æ ‡å‡†æ ¼å¼ï¼Œç¡®ä¿ä¸è§‚æµ‹åç«¯å¹³å°çš„å…¼å®¹æ€§ã€‚</p>
<p>æ³¨æ„ï¼šNode.js ç¤¾åŒºæä¾›çš„é»˜è®¤ OpenTelemetry å¯¼å‡ºå™¨é€šå¸¸ä½¿ç”¨ HTTP/JSON æ–¹å¼å‘é€æ•°æ®ï¼Œéœ€è¦å°†é»˜è®¤çš„å¯¼å‡ºåè®®ä» HTTP/JSON æ”¹ä¸º HTTP/PROTOBUFï¼ŒDataKit åç»­å¯èƒ½è€ƒè™‘åºŸå¼ƒ HTTP/JSON æ–¹å¼ã€‚Protobuf ç¼–ç å…·æœ‰æ›´é«˜çš„åºåˆ—åŒ–/ååºåˆ—åŒ–æ•ˆç‡ï¼Œèƒ½æ˜¾è‘—é™ä½ä¼ è¾“æ•°æ®å¤§å°å’Œç½‘ç»œå¼€é”€ï¼Œå°¤å…¶é€‚ç”¨äº Lambda çš„çŸ­æ—¶æ‰§è¡Œç¯å¢ƒã€‚</p>
<p>å…·ä½“å¯ä»¥å‚è€ƒ Opentelemetry çš„ç¤¾åŒºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopen-telemetry%2Fopentelemetry-lambda%2Ftree%2Fmain%2Fnodejs" target="_blank" title="https://github.com/open-telemetry/opentelemetry-lambda/tree/main/nodejs" ref="nofollow noopener noreferrer">github.com/open-telemeâ€¦</a></p>
<h3 data-id="heading-5">å…‹éš†ä»“åº“</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/open-telemetry/opentelemetry-lambda
</code></pre>
<h3 data-id="heading-6">ä¿®æ”¹åè®®</h3>
<p>è¿›å…¥é¡¹ç›®ç›®å½•ï¼Œå°†ç›¸å…³æ–‡ä»¶çš„Â <code>@opentelemetry/exporter-trace-otlp-http</code>Â æ”¹æˆ<code>@opentelemetry/exporter-trace-otlp-proto</code>ï¼Œä¸€å…±éœ€è¦ä¿®æ”¹ 3 ä¸ªæ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> opentelemetry-lambda/nodejs
</code></pre>
<p><code>./packages/layer/src/wrapper.ts</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38bd51a9fd604663979fc5fe82efef3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=utXS21k%2B99DdNPhTnjPCgkE%2B2%2FE%3D" alt="" loading="lazy"/></p>
<p><code>./packages/layer/package.json</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cd6458047554a50b6c72a2699e2faa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=eHYE3RkZpLk%2BWlmbmqJ2voJAruE%3D" alt="" loading="lazy"/></p>
<p><code>./packages/layer/test/wrapper.spec.ts</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029ffbd3acf149fca5418d18c0a3d905~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=uXLGyEOoug6iGc98KmqJ93Em9IA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs">npm  install
</code></pre>
<h3 data-id="heading-8">æ„å»ºé¡¹ç›®</h3>
<pre><code class="hljs language-arduino" lang="arduino">npm run build
</code></pre>
<p>åœ¨Â <code>./nodejs/packages/layer/build/</code>Â ä¼šæœ‰ä¸€ä¸ª layer.zip æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-9">æ·»åŠ  Layer</h2>
<h3 data-id="heading-10">åˆ›å»º Layer</h3>
<p>åœ¨ AWS æ§åˆ¶å° Lambda è¿›å…¥ã€Œlayerã€ï¼Œæ–°å»ºä¸€ä¸ª Layerï¼Œé€‰æ‹©ä¸Šä¼  .zip æ–‡ä»¶æ–¹å¼ä¸Šä¼ åˆšæ‰ç”Ÿæˆçš„ layer.zip æ–‡ä»¶ï¼Œæ¶æ„é€‰æ‹© x86ã€è¿è¡Œæ—¶é€‰æ‹© nodejsã€‚åˆ›å»ºå¥½åå¤åˆ¶ ARN ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b889203182e436eb6828d4073cbce93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=DIps1JMjleDD3e5mgF2GAYLD5l4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">æ·»åŠ  Layer</h3>
<p>åœ¨ Demo å‡½æ•°ä¸­æ·»åŠ  Layerï¼Œé€‰æ‹©æŒ‡å®šä¸€ä¸ª ARN ï¼Œå°†åˆšæ‰çš„ ARN å¤åˆ¶è¿›å»ï¼Œç‚¹å‡»ã€Œæ·»åŠ ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60e5f5924386484b9cf6d2bd71f8d5fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=TmZcFr40Ady0bHLAE3iKTf6%2BYCM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">é…ç½®ç¯å¢ƒå˜é‡</h3>
<p>é…ç½® Lambda ç¯å¢ƒå˜é‡ï¼Œé€‰æ‹©ã€Œé…ç½®ã€-ã€Œç¯å¢ƒå˜é‡ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0716a8352a44aa4af10685cbbe277a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=XBT0U9mdoS8OnqgxGVzjBTvXsOU%3D" alt="" loading="lazy"/></p>
<p>æ·»åŠ å¦‚ä¸‹å˜é‡ï¼š</p>

































<table><thead><tr><th>KEY</th><th>VALUE</th></tr></thead><tbody><tr><td>AWS_LAMBDA_EXEC_WRAPPER</td><td>/opt/otel-handler</td></tr><tr><td>OTEL_EXPORTER_OTLP_ENDPOINT</td><td>http://&lt;datakitä¸»æœºåœ°å€&gt;:9529/otel</td></tr><tr><td>OTEL_EXPORTER_OTLP_TRACES_PROTOCOL</td><td>http/protobuf</td></tr><tr><td>OTEL_NODE_ENABLED_INSTRUMENTATIONS</td><td>aws-lambda,aws-sdk,http,https,pg,mysql,redis</td></tr><tr><td>OTEL_SERVICE_NAME</td><td>æœåŠ¡åç§°</td></tr><tr><td>OTEL_TRACES_SAMPLER</td><td>always_on</td></tr></tbody></table>
<h3 data-id="heading-13">æµ‹è¯•å‡½æ•°</h3>
<p>å›åˆ°å‡½æ•°ç‚¹å‡»æµ‹è¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9106fe8e902c449eac82d2fe92570dda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=4JyEzTUGZLgkEdduUXqwIdd5gGU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">è§‚æµ‹äº‘æ•ˆæœ</h2>
<p>é“¾è·¯ä¸ŠæŠ¥æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aea9fb76b0c54b8f8466c235bf81e610~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=ZskSaVssjpwSxLCVCnssWBZK0bQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0164a6c9903745f08f7f7c8755041fff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=rht6tINseTc0fe5ZGlRAIFtCoo4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0101db490eb425f94d07a49ee9e5ca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=44M1aFWkzGbRFpOrFBi6DBEILRU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecba69b48a06441cb03a71fa436134cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768387721&amp;x-signature=dx8EcFh1G%2FXIdGgMi7YwUSmbYWY%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. SRC_ATOP]]></title>    <link>https://juejin.cn/post/7592148975848882219</link>    <guid>https://juejin.cn/post/7592148975848882219</guid>    <pubDate>2026-01-07T10:58:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592148975848882219" data-draft-id="7592255257347538985" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. SRC_ATOP"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-07T10:58:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. SRC_ATOP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T10:58:08.000Z" title="Wed Jan 07 2026 10:58:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SRC_ATOP</p>
<p><code>Discards the source pixels that do not cover destination pixels. Draws remaining source pixels over destination pixels.</code></p>
<p>è®¡ç®—å…¬å¼:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39ae708a05a74dbbb15ca94533b45d2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768388288&amp;x-signature=cQ0eTE82kWAYKS8gg9x0tM1vcIg%3D" alt="image.png" width="30%" loading="lazy"/>
<p>åœ¨src.a è·Ÿ dst.a éƒ½æ˜¯1çš„æƒ…å†µä¸‹,æ•´ä½“æ•ˆæœè·ŸsrcInä¸€æ ·ã€‚</p>
<p>ä½†æ˜¯å½“dst.a = 1 çš„æ—¶å€™é¢œè‰²å€¼å°±æ˜¯ src.a ä»0-1å˜åŒ–çš„æ—¶å€™ å°±æ˜¯src.c + src.dst * ï¼ˆ1 - src.aï¼‰</p>
<p>ä¾‹å­:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span>.<span class="hljs-title function_">withOpacity</span>(<span class="hljs-number">0.5</span>) <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">70</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcATop</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);
    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>è¿™é‡Œsrc.a = 0.5 ç›¸å½“äºåœ¨src.cä¸­æ··å…¥äº† 0.5*dst.c æ‰€ä»¥å›¾ç‰‡å°±çœ‹èµ·æ¥æœ‰ç‚¹æ³›çº¢ã€‚æ•ˆæœå›¾å¦‚ä¸‹:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3ddd82060da40fea836caccc30cc9d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768388288&amp;x-signature=P%2FqiwDUz5YtYWwM%2B1wVt2uEm5dc%3D" alt="image.png" width="30%" loading="lazy"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¥¹é—®æˆ‘ï¼šæ•°æ®åº“è¿˜åœ¨å­˜ Timestampï¼Ÿæˆ‘è¯´ï¼šå¤§äººï¼Œæ—¶ä»£å˜äº†]]></title>    <link>https://juejin.cn/post/7592276497400381490</link>    <guid>https://juejin.cn/post/7592276497400381490</guid>    <pubDate>2026-01-07T08:55:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592276497400381490" data-draft-id="7592340733954195506" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¥¹é—®æˆ‘ï¼šæ•°æ®åº“è¿˜åœ¨å­˜ Timestampï¼Ÿæˆ‘è¯´ï¼šå¤§äººï¼Œæ—¶ä»£å˜äº†"/> <meta itemprop="keywords" content="æ•°æ®åº“,åç«¯,MySQL"/> <meta itemprop="datePublished" content="2026-01-07T08:55:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ´›å°è±†"/> <meta itemprop="url" content="https://juejin.cn/user/2049145406229127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¥¹é—®æˆ‘ï¼šæ•°æ®åº“è¿˜åœ¨å­˜ Timestampï¼Ÿæˆ‘è¯´ï¼šå¤§äººï¼Œæ—¶ä»£å˜äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2049145406229127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ´›å°è±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:55:33.000Z" title="Wed Jan 07 2026 08:55:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    25
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.7;font-weight:400;font-size:16px;overflow-x:hidden;color:#212122}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:8px;padding-bottom:8px}.markdown-body h1{color:#a0a0a0;font-size:38px;margin-top:32px;padding-top:32px}.markdown-body h2{color:#fff;background-color:#212122;width:fit-content;border-bottom-right-radius:100px;margin-top:47px;margin-bottom:16px;padding:4px 48px 4px 8px;line-height:1.7;font-size:30px;transition:all .3s ease-out}.markdown-body h2:hover{border-bottom-right-radius:50px;transition:all .3s ease-out}.markdown-body h3{font-size:24px;padding-left:8px;margin-top:32px;border-bottom:2px solid #c6c4c4;line-height:1.7}.markdown-body h4{font-size:20px;padding-left:8px;margin-top:32px;border-bottom:1px solid #ddd}.markdown-body h5{font-size:16px;margin-top:24px}.markdown-body h6{margin-top:16px;line-height:1.1}.markdown-body p{font-size:16px;text-align:start;white-space:normal;text-size-adjust:auto;line-height:2;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%;margin:auto;padding-left:8px;padding-right:8px}.markdown-body hr{border:none;border-top:4px double #212122;margin-top:32px;margin-bottom:32px;text-align:center}.markdown-body hr:after{content:"â™¥";display:inline-block;position:relative;top:-15px;padding:0 10px;color:#212122;font-size:18px}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f1f1f1;color:#ef7060;font-size:14px;padding:.065em 6px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.7;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);margin:32px 16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-color:#212122;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);background-size:40px}.markdown-body pre&gt;code{font-size:14px;padding:16px 8px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#fff;background:#272822}.markdown-body pre&gt;code::-webkit-scrollbar{height:10px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:3px;background-color:#f5f5f5}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{border-radius:3px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}.markdown-body a{color:#ef7060;padding:2px;text-decoration:none;border-bottom:.125em solid #ef7060;border-radius:2px;box-shadow:inset 0 -.025em 0 #ef7060;transition:box-shadow .27s cubic-bezier(.77,0,.175,1),color .27s cubic-bezier(.77,0,.175,1)}.markdown-body a:focus,.markdown-body a:hover{outline:none;box-shadow:inset 0 -1.5em 0 #ef7060;color:#fff}.markdown-body a:before{content:"â‡² ";vertical-align:top;margin-left:2px;font-family:dart!important;font-size:12px;color:inherit;opacity:.7}.markdown-body table{background:#fbfbfb;border-radius:4px;border-collapse:collapse;margin:auto;padding:5px;width:95%;box-shadow:0 5px 10px rgba(0,0,0,.1);animation:float 5s infinite}.markdown-body table th{color:#fff;background:#212122;border-bottom:1px solid #9ea7af;border-right:1px solid #343a45;font-size:18px;padding:16px;text-align:left;vertical-align:middle}.markdown-body table th:first-child{border-top-left-radius:4px}.markdown-body table th:last-child{border-top-right-radius:4px;border-right:none}.markdown-body table tr{border-top:1px solid #c1c3d1;border-bottom:1px solid #c1c3d1;color:#666b85}.markdown-body table tr:hover td{background:#212122;color:#fff;border-top:1px solid #22262e}.markdown-body table tr:first-child{border-top:none}.markdown-body table tr:last-child{border-bottom:none}.markdown-body table tr:nth-child(odd) td{background:#f1f1f1}.markdown-body table tr:nth-child(odd):hover td{background:#212122}.markdown-body table tr:last-child td:first-child{border-bottom-left-radius:4px}.markdown-body table tr:last-child td:last-child{border-bottom-right-radius:4px}.markdown-body table td{background:#fbfbfb;padding:16px;text-align:left;vertical-align:middle;font-size:16px;border-right:1px solid #c1c3d1}.markdown-body table td:last-child{border-right:0}.markdown-body blockquote{color:#777;padding:1px 16px;margin:24px 0;border-left:4px solid #c6c4c4;background-color:#f1f1f1;transition:all .3s ease-out;border-radius:4px}.markdown-body blockquote:hover{border-left-color:#212122;background-color:#212122;color:#fff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:24px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body span.math{margin-left:32px;font-size:18px;font-weight:700}@media (max-width:720px){.markdown-body h1{font-size:30.4px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å¤œä»£ç ç³»åˆ— Â· ç¬¬6æœŸ</p>
<p>å…³æ³¨æˆ‘ï¼Œå’Œå°è±†ä¸€èµ·åœ¨æ˜é‡‘åˆ·å°è¯´</p>
</blockquote>
<h2 data-id="heading-0">ğŸ”¥ å¼€ç¯‡å¼•çˆ†</h2>
<p>å‘¨å››æ·±å¤œï¼ŒåŠå…¬å®¤é‡Œçš„ä¸­å¤®ç©ºè°ƒæ—©å°±åœäº†ï¼Œåªå‰©ä¸‹å‡ å°æ˜¾ç¤ºå™¨å‘å‡ºçš„å¾®å¼±å—¡é¸£å£°ï¼Œæ··æ‚ç€ç¡¬ç›˜è¯»å†™æ—¶å¶å°”ä¼ æ¥çš„å’”å“’å£°ã€‚çª—å¤–ä¸‹ç€é›¨ï¼Œé›¨æ»´ç ¸åœ¨ç©ºè°ƒå¤–æœºä¸Šå‘å‡ºé—·é—·çš„å•ªå—’å£°ï¼Œåƒæ˜¯æœ‰äººåœ¨æ•²æ‰“ç€é“çš®ï¼Œå‚¬ä¿ƒç€è¿™æ ‹æ¥¼é‡Œæœ€åå‡ ä¸ªä¸è‚¯ç¦»å¼€çš„äººã€‚</p>
<p>ç©ºæ°”é‡Œé£˜ç€é€Ÿæº¶å’–å•¡çš„è‹¦å‘³ï¼Œè¿˜æœ‰ä»æ¥¼ä¸‹ä¾¿åˆ©åº—å¸¦ä¸Šæ¥çš„å…³ä¸œç…®æ±¤æ±è’¸å‘åç•™ä¸‹çš„å‘³é“ã€‚æˆ‘çš„æ‰‹æŒè´´åœ¨é”®ç›˜ä¸Šï¼Œèƒ½æ„Ÿè§‰åˆ°é”®å¸½å› ä¸ºé•¿æ—¶é—´æ•²å‡»è€Œå˜å¾—æ¸©çƒ­ï¼ŒæŒ‡å°–æœ‰äº›å‘éº»ã€‚</p>
<p>"è±†å­â€¦â€¦"</p>
<p>å°æ±çš„å£°éŸ³ä»æˆ‘å·¦åæ–¹ä¼ æ¥ï¼Œè½»å¾—åƒæ˜¯æ€•æƒŠæ‰°äº†è¿™æ·±å¤œçš„å¯‚é™ã€‚æˆ‘å›è¿‡å¤´ï¼Œå¥¹æ­£ä¾§ååœ¨æ¤…å­ä¸Šï¼Œä¸€åªæ‰‹æ’‘ç€ä¸‹å·´ï¼Œå¦ä¸€åªæ‰‹æ— åŠ›åœ°æ­åœ¨é¼ æ ‡ä¸Šã€‚åŠå…¬å®¤æ˜é»„çš„å£ç¯å…‰ä»ä¾§é¢æ‰“è¿‡æ¥ï¼Œåœ¨å¥¹è„¸é¢Šä¸Šç•™ä¸‹ä¸€é“æµ…æµ…çš„é˜´å½±ï¼Œè®©å¥¹çœ‹èµ·æ¥æ¯”å¹³æ—¶æ›´ç–²æƒ«ã€‚</p>
<p>å¥¹çš„å¤´å‘æ¾æ¾åœ°æ‰ç€ï¼Œæœ‰å‡ ç¼•å·²ç»ä»å‘åœˆé‡Œæ»‘äº†å‡ºæ¥ï¼Œå‚åœ¨è€³è¾¹ã€‚å¥¹çœ¨äº†çœ¨çœ¼ï¼Œç«æ¯›åœ¨ç¯å…‰ä¸‹æŠ•ä¸‹ç»†å°çš„å½±å­ã€‚</p>
<p>"ä½ èƒ½è¿‡æ¥çœ‹çœ‹å—ï¼Ÿ"å¥¹çš„å£°éŸ³é‡Œå¸¦ç€ä¸€ä¸çŠ¹è±«ï¼Œåƒæ˜¯ä¸ç¡®å®šè¯¥ä¸è¯¥åœ¨è¿™ä¸ªç‚¹æ‰“æ‰°æˆ‘ï¼Œ"æˆ‘è¿™ä¸ªæ—¶é—´è½´ç»„ä»¶ï¼Œæ’åºæ€ä¹ˆéƒ½ä¸å¯¹ã€‚"</p>
<p>æˆ‘æ»‘ç€æ¤…å­è¿‡å»ï¼Œå¿ƒé‡Œéšéšæœ‰ç§ä¸å¥½çš„é¢„æ„Ÿâ€”â€”æ¯æ¬¡å¥¹ç”¨è¿™ç§è¯­æ°”å«æˆ‘ï¼Œé€šå¸¸æ„å‘³ç€é—®é¢˜ä¸ç®€å•ã€‚</p>
<p>å¥¹æŠŠå±å¹•è½¬å‘æˆ‘ï¼ŒæŒ‡ç€é‚£ä¸ªå¯†å¯†éº»éº»çš„æ“ä½œè®°å½•åˆ—è¡¨ï¼š"ä½ çœ‹ï¼Œè¿™å‡ æ¡æ˜æ˜æ˜¯æˆ‘è¿ç»­ç‚¹çš„ï¼Œæ—¶é—´åº”è¯¥æ˜¯æœ‰å…ˆåé¡ºåºçš„ã€‚ä½†å®ƒä»¬åœ¨åˆ—è¡¨é‡Œçš„ä½ç½®å®Œå…¨ä¹±äº†ï¼Œæœ‰æ—¶å€™åç‚¹çš„åè€Œæ’åœ¨å‰é¢ã€‚"</p>
<p>æˆ‘å‡‘è¿‘çœ‹äº†çœ‹ï¼Œç¡®å®ï¼Œé‚£å‡ æ¡ç”¨æˆ·æ“ä½œè®°å½•çš„æ—¶é—´æˆ³çœ‹èµ·æ¥éƒ½ä¸€æ ·ï¼Œå…¨æ˜¯æ•´ç§’ã€‚</p>
<p>"ä½ ä¼ ç»™æˆ‘çš„æ—¶é—´æˆ³æ˜¯ 10 ä½çš„ï¼Œ"å¥¹è½»å¹äº†å£æ°”ï¼Œç”¨é¼ æ ‡åœ¨æ§åˆ¶å°é‡Œåˆ’äº†ä¸€ä¸‹ï¼Œ"ä½†æˆ‘å‰ç«¯ç”¨çš„æ˜¯ 13 ä½æ¯«ç§’æ—¶é—´æˆ³ã€‚<code>Date.now()</code> è¿”å›çš„å°±æ˜¯ 13 ä½ã€‚ä½ ç»™æˆ‘ 10 ä½ï¼Œæˆ‘åªèƒ½è‡ªå·±ä¹˜ä»¥ 1000 è¡¥æˆ 13 ä½ï¼Œä½†è¿™æ ·æ¯«ç§’ä½æ°¸è¿œæ˜¯ <code>000</code>ï¼ŒåŒä¸€ç§’å†…çš„æ“ä½œæ ¹æœ¬æ’ä¸äº†åºã€‚"</p>
<h2 data-id="heading-1">ğŸ¯ åœºæ™¯è¿˜åŸ</h2>
<p>æˆ‘æ‰“å¼€åç«¯çš„è¿”å›æ•°æ®ï¼Œå¿ƒé‡Œå·²ç»çŒœåˆ°é—®é¢˜å‡ºåœ¨å“ªäº†ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"user_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">88</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"click_button"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1704723600</span>  <span class="hljs-comment">// 10 ä½ç§’çº§æ—¶é—´æˆ³</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>"è¿™ä¸ªâ€¦â€¦"æˆ‘æœ‰äº›å°´å°¬åœ°æŒ äº†æŒ å¤´ï¼Œ"æˆ‘åç«¯å­˜çš„æ˜¯ MySQL çš„ <code>TIMESTAMP</code> ç±»å‹ï¼Œå®ƒåªèƒ½ç²¾ç¡®åˆ°ç§’ã€‚æ‰€ä»¥è¿”å›çš„æ—¶é—´æˆ³å°±æ˜¯ 10 ä½çš„ã€‚"</p>
<p>å°æ±æŠ¬èµ·å¤´çœ‹ç€æˆ‘ï¼Œçœ¼ç¥é‡Œå†™æ»¡äº†ä¸è§£ï¼š"è±†å­ï¼Œç°åœ¨æ˜¯ 2025 å¹´äº†ï¼Œå‰ç«¯æ—©å°±å…¨é¢ç”¨ 13 ä½æ¯«ç§’æ—¶é—´æˆ³äº†ã€‚ä½ çœ‹è¿™ä¸ªâ€¦â€¦"</p>
<p>å¥¹æ‰“å¼€å¥¹çš„ä»£ç ï¼ŒæŒ‡ç»™æˆ‘çœ‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‰ç«¯åˆ›å»ºæ—¶é—´æˆ³çš„æ ‡å‡†åšæ³•</span>
<span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(now); <span class="hljs-comment">// è¾“å‡ºï¼š1704723600123ï¼ˆ13 ä½ï¼‰</span>

<span class="hljs-comment">// ä½†åç«¯è¿”å›çš„æ˜¯è¿™ä¸ª</span>
<span class="hljs-keyword">const</span> serverTime = <span class="hljs-number">1704723600</span>; <span class="hljs-comment">// 10 ä½</span>
<span class="hljs-keyword">const</span> timestamp = serverTime * <span class="hljs-number">1000</span>; <span class="hljs-comment">// åªèƒ½ç¡¬è¡¥æˆ 1704723600000</span>
<span class="hljs-comment">// é—®é¢˜ï¼šåŒä¸€ç§’å†…çš„æ‰€æœ‰æ“ä½œï¼Œæ¯«ç§’ä½éƒ½æ˜¯ 000ï¼Œæ— æ³•åŒºåˆ†å…ˆå</span>
</code></pre>
<p>"æˆ‘åšçš„æ˜¯ç”¨æˆ·è¡Œä¸ºåˆ†æï¼Œ"å¥¹çš„å£°éŸ³å¾ˆè½»ï¼Œä½†æˆ‘èƒ½å¬å‡ºé‚£ç§æ— å¥ˆï¼Œ"äº§å“è¦æ±‚èƒ½ç²¾ç¡®å›æ”¾ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„æ¯ä¸€ä¸ªæ“ä½œã€‚å¦‚æœåŒä¸€ç§’å†…ç”¨æˆ·ç‚¹äº†ä¸‰ä¸ªæŒ‰é’®ã€è¾“å…¥äº†ä¸¤æ®µæ–‡å­—ï¼Œæˆ‘éœ€è¦çŸ¥é“å…·ä½“çš„é¡ºåºã€‚ä½†ä½ çš„ç²¾åº¦åªåˆ°ç§’ï¼Œè¿™äº›ç»†èŠ‚å…¨ä¸¢äº†ã€‚"</p>
<p>æˆ‘çœ‹ç€æ•°æ®åº“è¡¨ç»“æ„ï¼Œè¿™æ˜¯é¡¹ç›®å¯åŠ¨æ—¶æˆ‘"é¡ºæ‰‹"å»ºçš„ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `user_actions` (
  `id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT,
  `user_id` <span class="hljs-type">int</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `action` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `created_at` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB;
</code></pre>
<p>"æˆ‘å½“æ—¶é€‰ <code>TIMESTAMP</code> æ˜¯å› ä¸ºå®ƒåªå  4 ä¸ªå­—èŠ‚ï¼Œ"æˆ‘è¯•å›¾è§£é‡Šï¼Œä½†å£°éŸ³è¶Šæ¥è¶Šæ²¡åº•æ°”ï¼Œ"è€Œä¸”å®ƒä¼šè‡ªåŠ¨å¤„ç†æ—¶åŒºâ€¦â€¦"</p>
<p>å°æ±æ‘‡äº†æ‘‡å¤´ï¼Œå¥¹çš„æ‰‹æŒ‡åœ¨æ¡Œé¢ä¸Šè½»è½»æ•²äº†ä¸¤ä¸‹ï¼š"è±†å­ï¼Œä½ çŸ¥é“ <code>TIMESTAMP</code> æœ€å¤šèƒ½å­˜åˆ°å“ªä¸€å¹´å—ï¼Ÿ"</p>
<p>æˆ‘æ„£äº†ä¸€ä¸‹ã€‚</p>
<p>"2038 å¹´ã€‚"å¥¹çœ‹ç€æˆ‘çš„çœ¼ç›è¯´ï¼Œ"å¦‚æœè¿™ä¸ªç³»ç»Ÿæ´»è¿‡ 2038 å¹´ï¼Œä½ è¿™ä¸ªå­—æ®µå°±ä¼šç‚¸ã€‚"</p>
<p>é‚£ä¸€åˆ»ï¼Œæˆ‘çªç„¶æ„è¯†åˆ°è‡ªå·±å½“åˆçš„"é¡ºæ‰‹"å†³å®šï¼Œå¯èƒ½åŸ‹ä¸‹äº†ä¸€ä¸ªå®šæ—¶ç‚¸å¼¹ã€‚</p>
<h2 data-id="heading-2">ğŸ§  æ€è·¯åˆ†æ</h2>
<p>"è¿˜åœ¨ç”¨ <code>TIMESTAMP</code> å­˜æ—¶é—´ï¼Ÿ"</p>
<p>ä¸€ä¸ªå¹³é™çš„å£°éŸ³ä»èŒ¶æ°´é—´æ–¹å‘ä¼ æ¥ã€‚æ˜¯é˜¿è¾°ã€‚</p>
<p>ä»–ç«¯ç€ä¿æ¸©æ¯èµ°è¿‡æ¥ï¼Œèº«ä¸Šè¿˜æŠ«ç€é‚£ä»¶å¸¸å¹´ä¸ç¦»èº«çš„ç°è‰²å†²é”‹è¡£ã€‚çœ¼é•œåœ¨ç¯å…‰ä¸‹åç€å…‰ï¼Œè®©äººçœ‹ä¸æ¸…ä»–çš„çœ¼ç¥ï¼Œä½†ä»ä»–å˜´è§’é‚£ä¸€ä¸è‹¥æœ‰è‹¥æ— çš„ç¬‘æ„ï¼Œæˆ‘çŸ¥é“ä»–è‚¯å®šåˆè¦è®²å¤§é“ç†äº†ã€‚</p>
<p>"è¾°å“¥ï¼Œä½ è¿˜æ²¡èµ°ï¼Ÿ"å°æ±æœ‰äº›æƒŠè®¶ã€‚</p>
<p>"åˆšä¿®å®Œä¸€ä¸ªæ—¶åŒº Bugï¼Œ"é˜¿è¾°åœ¨æˆ‘ä»¬æ—è¾¹åä¸‹ï¼Œæ‹§å¼€ä¿æ¸©æ¯å–äº†ä¸€å£ï¼Œ"åˆšå¥½å¬åˆ°ä½ ä»¬åœ¨è®¨è®ºæ—¶é—´æˆ³çš„é—®é¢˜ã€‚è±†å­ï¼Œä½ ç°åœ¨ç”¨çš„è¿™ä¸ª <code>TIMESTAMP</code>ï¼Œå·²ç»ä¸é€‚åˆç°ä»£åº”ç”¨äº†ã€‚"</p>
<p>ä»–è½¬èº«èµ°åˆ°ç™½æ¿å‰ï¼Œæ‹¿èµ·è®°å·ç¬”ç”»äº†ä¸¤ä¸ªå›¾ï¼š</p>
<p>"ä½ æŠŠ <code>TIMESTAMP</code> æƒ³è±¡æˆ<strong>è¶…å¸‚é‡Œçš„é²œç‰›å¥¶</strong>ï¼Œ"ä»–æŒ‡ç€ç¬¬ä¸€ä¸ªå›¾è¯´ï¼Œ"ä¿è´¨æœŸçŸ­ï¼ˆåªåˆ° 2038 å¹´ï¼‰ï¼Œè€Œä¸”å¯¹ç¯å¢ƒå¾ˆæ•æ„Ÿâ€”â€”æ¸©åº¦å˜äº†å®ƒå°±å˜è´¨äº†ã€‚ä½ çš„æœåŠ¡å™¨ä»åŒ—äº¬è¿åˆ°ä¼¦æ•¦ï¼Œå®ƒå­˜çš„æ—¶é—´å°±ä¼šè·Ÿç€å˜ï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨æ ¹æ®æœåŠ¡å™¨æ—¶åŒºè½¬æ¢ã€‚"</p>
<p>å°æ±å¬å¾—å¾ˆè®¤çœŸï¼Œå¾®å¾®ç‚¹äº†ç‚¹å¤´ã€‚</p>
<p>"è€Œ <code>DATETIME</code>ï¼Œå°¤å…¶æ˜¯ <code>DATETIME(3)</code>ï¼Œ"é˜¿è¾°ç”»äº†ç¬¬äºŒä¸ªå›¾ï¼Œ"å°±åƒ<strong>çœŸç©ºåŒ…è£…çš„é£Ÿå“</strong>ã€‚ä¿è´¨æœŸé•¿ï¼ˆèƒ½å­˜åˆ° 9999 å¹´ï¼‰ï¼Œä¸å—ç¯å¢ƒå½±å“ã€‚ä¸ç®¡ä½ æŠŠå®ƒæ”¾åœ¨å“ªä¸ªæ—¶åŒºçš„æœåŠ¡å™¨ä¸Šï¼Œå®ƒå­˜çš„å€¼éƒ½ä¸ä¼šå˜ã€‚è€Œä¸”è¿™ä¸ª <code>(3)</code> å¾ˆå…³é”®â€”â€”å®ƒè¡¨ç¤ºå°æ•°ç‚¹åä¿ç•™ 3 ä½ï¼Œä¹Ÿå°±æ˜¯æ¯«ç§’ã€‚"</p>
<p>"æ¯«ç§’ï¼Ÿ"å°æ±çš„çœ¼ç›äº®äº†ä¸€ä¸‹ã€‚</p>
<p>"å¯¹ï¼Œ"é˜¿è¾°åœ¨ç™½æ¿å¦ä¸€ä¾§å¿«é€Ÿå†™ä¸‹äº†ä¸€ä¸ªå¯¹æ¯”è¡¨ï¼š</p>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>TIMESTAMP</th><th>DATETIME(3)</th></tr></thead><tbody><tr><td><strong>å­˜å‚¨ç©ºé—´</strong></td><td>4 å­—èŠ‚</td><td>6 å­—èŠ‚</td></tr><tr><td><strong>æ—¶é—´èŒƒå›´</strong></td><td>1970~2038</td><td>1000~9999</td></tr><tr><td><strong>ç²¾åº¦</strong></td><td>ç§’ï¼ˆ10ä½æ—¶é—´æˆ³ï¼‰</td><td>æ¯«ç§’ï¼ˆ13ä½æ—¶é—´æˆ³ï¼‰</td></tr><tr><td><strong>æ—¶åŒºè¡Œä¸º</strong></td><td>è‡ªåŠ¨è½¬æ¢ï¼ˆæ˜“å‡ºBugï¼‰</td><td>ä¸å¤„ç†ï¼ˆæ‰‹åŠ¨ç®¡ç†UTCï¼‰</td></tr><tr><td><strong>å‰ç«¯å…¼å®¹</strong></td><td>âŒ éœ€è¦ä¹˜ä»¥1000è¡¥é›¶</td><td>âœ… åŸç”ŸåŒ¹é…13ä½</td></tr></tbody></table>
<p>"ä½ çœ‹æœ€åä¸€è¡Œï¼Œ"é˜¿è¾°æŒ‡ç€è¡¨æ ¼ï¼Œ"ç°ä»£å‰ç«¯ç”¨çš„éƒ½æ˜¯ 13 ä½æ¯«ç§’æ—¶é—´æˆ³ï¼Œè¿™æ˜¯ <code>Date.now()</code> çš„æ ‡å‡†ã€‚è€Œ <code>DATETIME(3)</code> çš„ç²¾åº¦æ­£å¥½æ˜¯æ¯«ç§’ï¼Œå’Œå‰ç«¯å®Œç¾åŒ¹é…ã€‚"</p>
<p>ä»–åœé¡¿äº†ä¸€ä¸‹ï¼Œçœ‹ç€æˆ‘ï¼š"è€Œä¸”ï¼Œ<code>DATETIME(3)</code> åªæ¯” <code>TIMESTAMP</code> å¤šå  2 ä¸ªå­—èŠ‚ã€‚2025 å¹´äº†ï¼Œè°è¿˜åœ¨ä¹é‚£ 2 ä¸ªå­—èŠ‚ï¼Ÿ"</p>
<p>"æ›´é‡è¦çš„æ˜¯ï¼Œ"é˜¿è¾°ç»§ç»­è¯´ï¼Œ"å¦‚æœç”¨ <code>DATETIME(3)</code> + UTC çš„æ–¹æ¡ˆï¼Œå‰åç«¯å°±å®Œå…¨æ‰“é€šäº†ã€‚å‰ç«¯ä¼  13 ä½æ—¶é—´æˆ³è¿‡æ¥ï¼Œä½ è½¬æˆ <code>DATETIME(3)</code> å­˜è¿›æ•°æ®åº“ã€‚è¯»å‡ºæ¥æ—¶ï¼Œå†è½¬å› 13 ä½è¿”å›ç»™å‰ç«¯ã€‚ç²¾åº¦ä¸€ç‚¹ä¸ä¸¢ã€‚"</p>
<h2 data-id="heading-3">ğŸ’» ä»£ç å®æˆ˜</h2>
<p>æ—¢ç„¶æ–¹æ¡ˆæ˜ç¡®äº†ï¼Œé‚£å°±åŠ¨æ‰‹ã€‚æˆ‘æ‰“å¼€ç»ˆç«¯ï¼Œå‡†å¤‡å¯¹è¿™å¼ è¡¨åšä¸ª"æ‰‹æœ¯"ã€‚</p>
<h3 data-id="heading-4">1. æ•°æ®åº“è¡¨ç»“æ„å‡çº§</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç¬¬ä¸€æ­¥ï¼šä» TIMESTAMP å‡çº§ä¸º DATETIME(3)</span>
<span class="hljs-comment">-- (3) è¡¨ç¤ºä¿ç•™ 3 ä½å°æ•°ï¼Œå³æ¯«ç§’ç²¾åº¦</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> `user_actions`
MODIFY <span class="hljs-keyword">COLUMN</span> `created_at` DATETIME(<span class="hljs-number">3</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">'1970-01-01 00:00:00.000'</span>;

<span class="hljs-comment">-- å¦‚æœä½ è¿˜æœ‰ updated_at å­—æ®µï¼Œä¹Ÿä¸€èµ·æ”¹äº†</span>
<span class="hljs-comment">-- ALTER TABLE `user_actions`</span>
<span class="hljs-comment">-- MODIFY COLUMN `updated_at` DATETIME(3) NOT NULL;</span>
</code></pre>
<p>"çœ‹è¿™é‡Œï¼Œ"æˆ‘æŒ‡ç€ SQL å¯¹å°æ±è¯´ï¼Œ"è¿™ä¸ª <code>DATETIME(3)</code> ä¸­çš„ <code>(3)</code> å°±æ˜¯å…³é”®ã€‚ä»¥å‰æˆ‘ä»¬å†™ <code>DATETIME</code> éƒ½ä¸åŠ è¿™ä¸ªï¼Œé»˜è®¤ç²¾åº¦æ˜¯ 0ï¼Œåªèƒ½åˆ°ç§’ã€‚åŠ äº† <code>(3)</code> ä¹‹åï¼Œå°±èƒ½å­˜åˆ°æ¯«ç§’äº†ï¼Œæ¯”å¦‚ <code>2025-01-09 18:00:00.123</code>ã€‚"</p>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯ 3 ä½å°æ•°ï¼Ÿ</strong></p>
<ul>
<li><code>DATETIME(0)</code>ï¼šç§’ï¼Œå¯¹åº” 10 ä½æ—¶é—´æˆ³</li>
<li><code>DATETIME(3)</code>ï¼šæ¯«ç§’ï¼Œå¯¹åº” 13 ä½æ—¶é—´æˆ³ï¼ˆå‰ç«¯æ ‡å‡†ï¼‰</li>
<li><code>DATETIME(6)</code>ï¼šå¾®ç§’ï¼Œå¯¹åº” 16 ä½æ—¶é—´æˆ³ï¼ˆé«˜é¢‘äº¤æ˜“åœºæ™¯ï¼‰</li>
</ul>
<h3 data-id="heading-5">2. å‰åç«¯æ•°æ®æµè½¬æ–¹æ¡ˆ</h3>
<p>æˆ‘åœ¨ç™½æ¿ä¸Šç”»äº†ä¸ªå®Œæ•´çš„æ•°æ®æµï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant F as å‰ç«¯ï¼ˆå°æ±ï¼‰
    participant B as åç«¯ï¼ˆæˆ‘ï¼‰
    participant D as MySQL

    Note over F,D: æ ¸å¿ƒåŸåˆ™ï¼š13 ä½æ—¶é—´æˆ³ + UTC

    F-&gt;&gt;B: POST /api/action&lt;br/&gt;{action: "click", ts: 1704723600123}
    Note right of F: Date.now() ç”Ÿæˆ&lt;br/&gt;13 ä½æ¯«ç§’æ—¶é—´æˆ³

    B-&gt;&gt;B: è½¬æ¢å‡½æ•°&lt;br/&gt;1704723600123 â†’ "2025-01-09 01:00:00.123"

    B-&gt;&gt;D: INSERT INTO user_actions&lt;br/&gt;(created_at) VALUES ('2025-01-09 01:00:00.123')

    D--&gt;&gt;B: å†™å…¥æˆåŠŸ

    F-&gt;&gt;B: GET /api/actions
    B-&gt;&gt;D: SELECT created_at FROM user_actions
    D--&gt;&gt;B: "2025-01-09 01:00:00.123"

    B-&gt;&gt;B: è½¬æ¢å‡½æ•°&lt;br/&gt;"2025-01-09 01:00:00.123" â†’ 1704723600123

    B--&gt;&gt;F: {ts: 1704723600123, ...}
    Note left of F: å‰ç«¯æ‹¿åˆ° 13 ä½æ—¶é—´æˆ³&lt;br/&gt;ç›´æ¥ä½¿ç”¨ï¼Œç²¾åº¦å®Œæ•´
</code></pre>
<h3 data-id="heading-6">3. åç«¯è½¬æ¢å‡½æ•°å®ç°</h3>
<p>æ ¸å¿ƒæ˜¯ä¸¤ä¸ªå·¥å…·å‡½æ•°ï¼š13 ä½æ—¶é—´æˆ³ â†” DATETIME(3) çš„åŒå‘è½¬æ¢ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> dayjs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dayjs'</span>);
<span class="hljs-keyword">const</span> utc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dayjs/plugin/utc'</span>);
dayjs.<span class="hljs-title function_">extend</span>(utc);

<span class="hljs-comment">// =========== è½¬æ¢å·¥å…·å‡½æ•° ===========</span>

<span class="hljs-comment">/**
 * å‰ç«¯ 13 ä½æ¯«ç§’æ—¶é—´æˆ³ â†’ æ•°æ®åº“ DATETIME(3) æ ¼å¼
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">timestamp</span> - 13 ä½æ¯«ç§’æ—¶é—´æˆ³ï¼Œå¦‚ 1704723600123
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">string</span>} - å¦‚ "2025-01-09 01:00:00.123"
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">timestampToDb</span>(<span class="hljs-params">timestamp</span>) {
  <span class="hljs-comment">// å…³é”®ï¼šä½¿ç”¨ utc() ç¡®ä¿è½¬æ¢ä¸º UTC æ—¶é—´</span>
  <span class="hljs-keyword">return</span> dayjs.<span class="hljs-title function_">utc</span>(timestamp).<span class="hljs-title function_">format</span>(<span class="hljs-string">'YYYY-MM-DD HH:mm:ss.SSS'</span>);
}

<span class="hljs-comment">/**
 * æ•°æ®åº“ DATETIME(3) æ ¼å¼ â†’ å‰ç«¯ 13 ä½æ¯«ç§’æ—¶é—´æˆ³
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">datetime</span> - å¦‚ "2025-01-09 01:00:00.123"
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">number</span>} - 13 ä½æ¯«ç§’æ—¶é—´æˆ³
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">dbToTimestamp</span>(<span class="hljs-params">datetime</span>) {
  <span class="hljs-comment">// valueOf() è¿”å› 13 ä½æ¯«ç§’æ—¶é—´æˆ³</span>
  <span class="hljs-keyword">return</span> dayjs.<span class="hljs-title function_">utc</span>(datetime).<span class="hljs-title function_">valueOf</span>();
}

<span class="hljs-comment">// =========== API æ¥å£å®ç° ===========</span>

<span class="hljs-comment">// è®°å½•ç”¨æˆ·æ“ä½œ</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/action'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> { user_id, action, ts } = req.<span class="hljs-property">body</span>;

  <span class="hljs-comment">// å‰ç«¯ä¼ æ¥ 13 ä½æ—¶é—´æˆ³ï¼Œè½¬ä¸ºæ•°æ®åº“æ ¼å¼</span>
  <span class="hljs-keyword">const</span> createdAt = <span class="hljs-title function_">timestampToDb</span>(ts);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å‰ç«¯ä¼ å…¥: <span class="hljs-subst">${ts}</span> (13ä½)`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å­˜å…¥æ•°æ®åº“: <span class="hljs-subst">${createdAt}</span>`</span>);

  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">query</span>(
    <span class="hljs-string">'INSERT INTO user_actions (user_id, action, created_at) VALUES (?, ?, ?)'</span>,
    [user_id, action, createdAt]
  );

  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> });
});

<span class="hljs-comment">// è·å–ç”¨æˆ·æ“ä½œåˆ—è¡¨</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/actions'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> { user_id } = req.<span class="hljs-property">query</span>;

  <span class="hljs-keyword">const</span> [rows] = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">query</span>(
    <span class="hljs-string">'SELECT id, action, created_at FROM user_actions WHERE user_id = ? ORDER BY created_at DESC'</span>,
    [user_id]
  );

  <span class="hljs-comment">// å°†æ•°æ®åº“çš„ DATETIME(3) è½¬ä¸ºå‰ç«¯éœ€è¦çš„ 13 ä½æ—¶é—´æˆ³</span>
  <span class="hljs-keyword">const</span> actions = rows.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">row</span> =&gt;</span> ({
    <span class="hljs-attr">id</span>: row.<span class="hljs-property">id</span>,
    <span class="hljs-attr">action</span>: row.<span class="hljs-property">action</span>,
    <span class="hljs-attr">ts</span>: <span class="hljs-title function_">dbToTimestamp</span>(row.<span class="hljs-property">created_at</span>) <span class="hljs-comment">// è½¬ä¸º 13 ä½æ—¶é—´æˆ³</span>
  }));

  res.<span class="hljs-title function_">json</span>(actions);
});
</code></pre>
<p>"çœ‹ï¼Œ"æˆ‘æŒ‡ç€ä»£ç è¯´ï¼Œ"ä½ å‰ç«¯ä¼ è¿‡æ¥ <code>1704723600123</code>ï¼Œæˆ‘ç”¨ <code>timestampToDb</code> è½¬æˆ <code>'2025-01-09 01:00:00.123'</code> å­˜è¿›æ•°æ®åº“ã€‚è¯»å‡ºæ¥æ—¶ï¼Œç”¨ <code>dbToTimestamp</code> è½¬å› <code>1704723600123</code> è¿”å›ç»™ä½ ã€‚æ¯«ç§’ä½çš„ <code>123</code> å®Œæ•´ä¿ç•™ä¸‹æ¥äº†ã€‚"</p>
<h3 data-id="heading-7">4. å‰ç«¯ä»£ç è°ƒæ•´</h3>
<p>å°æ±ä¹Ÿå¿«é€Ÿæ”¹äº†å¥¹çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è®°å½•ç”¨æˆ·æ“ä½œæ—¶ï¼Œç›´æ¥ç”¨ Date.now()</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">logAction</span>(<span class="hljs-params">action</span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/action'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      <span class="hljs-attr">user_id</span>: <span class="hljs-title function_">getCurrentUserId</span>(),
      <span class="hljs-attr">action</span>: action,
      <span class="hljs-attr">ts</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() <span class="hljs-comment">// 13 ä½æ¯«ç§’æ—¶é—´æˆ³</span>
    })
  });
}

<span class="hljs-comment">// è·å–æ“ä½œåˆ—è¡¨å¹¶æ¸²æŸ“</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderActionTimeline</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/actions?user_id=<span class="hljs-subst">${getCurrentUserId()}</span>`</span>);
  <span class="hljs-keyword">const</span> actions = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();

  <span class="hljs-comment">// åç«¯è¿”å›çš„ ts å°±æ˜¯ 13 ä½æ—¶é—´æˆ³ï¼Œç›´æ¥æ’åº</span>
  actions.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">ts</span> - a.<span class="hljs-property">ts</span>);

  <span class="hljs-comment">// æ¸²æŸ“æ—¶æ˜¾ç¤ºæ¯«ç§’</span>
  actions.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(item.<span class="hljs-property">ts</span>);
    <span class="hljs-keyword">const</span> timeStr = date.<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">'zh-CN'</span>, {
      <span class="hljs-attr">hour12</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">hour</span>: <span class="hljs-string">'2-digit'</span>,
      <span class="hljs-attr">minute</span>: <span class="hljs-string">'2-digit'</span>,
      <span class="hljs-attr">second</span>: <span class="hljs-string">'2-digit'</span>,
      <span class="hljs-attr">fractionalSecondDigits</span>: <span class="hljs-number">3</span> <span class="hljs-comment">// æ˜¾ç¤ºæ¯«ç§’</span>
    });

    <span class="hljs-title function_">renderTimelineItem</span>(item.<span class="hljs-property">action</span>, timeStr);
  });
}
</code></pre>
<h2 data-id="heading-8">ğŸ“Š æ•ˆæœéªŒè¯</h2>
<p>ä»£ç æ”¹å®Œï¼Œæˆ‘é‡å¯äº†æœåŠ¡ã€‚å°æ±è¿«ä¸åŠå¾…åœ°åˆ·æ–°äº†é¡µé¢ã€‚</p>
<p>"æˆ‘æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œ"å¥¹è¯´ç€ï¼Œæ‰‹æŒ‡åœ¨æŒ‰é’®ä¸Šå¿«é€Ÿç‚¹äº†äº”æ¬¡ï¼ŒåŠ¨ä½œè¿è´¯å¾—åƒæ˜¯åœ¨å¼¹é’¢ç´ï¼Œ"è¿™äº”æ¬¡åº”è¯¥éƒ½åœ¨åŒä¸€ç§’å†…ã€‚"</p>
<p>å‡ ç§’åï¼Œå¥¹çš„æ—¶é—´è½´ç»„ä»¶é‡Œå‡ºç°äº†äº”æ¡è®°å½•ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">01:23:45.891 - ç‚¹å‡»æŒ‰é’®</span>
<span class="hljs-section">01:23:45.756 - ç‚¹å‡»æŒ‰é’®</span>
<span class="hljs-section">01:23:45.623 - ç‚¹å‡»æŒ‰é’®</span>
<span class="hljs-section">01:23:45.489 - ç‚¹å‡»æŒ‰é’®</span>
<span class="hljs-section">01:23:45.234 - ç‚¹å‡»æŒ‰é’®</span>
</code></pre>
<p>å°æ±çš„è„¸ä¸Šç»ˆäºéœ²å‡ºäº†ç¬‘å®¹ï¼Œé‚£ç§é‡Šç„¶çš„ç¬‘ï¼Œåƒæ˜¯ç»ˆäºæ”¾ä¸‹äº†å‹åœ¨å¿ƒé‡Œçš„ä¸€å—çŸ³å¤´ï¼š"ä½ çœ‹ï¼æ¯«ç§’ä½éƒ½ä¸ä¸€æ ·ï¼Œæ’åºå®Œå…¨å‡†ç¡®äº†ï¼"</p>
<p>å¥¹å¿«é€Ÿæ»šåŠ¨åˆ—è¡¨ï¼Œé‚£äº›å¯†å¯†éº»éº»çš„æ“ä½œè®°å½•æŒ‰ç…§æ—¶é—´é¡ºåºæ•´æ•´é½é½åœ°æ’åˆ—ç€ï¼Œä¸ä¼šå†åƒä¹‹å‰é‚£æ ·åœ¨åŒä¸€ç§’å†…ä¹±åºã€‚</p>
<p>"è€Œä¸”ä½ çœ‹æ§åˆ¶å°ï¼Œ"å¥¹æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œ"ä½ è¿”å›ç»™æˆ‘çš„ç›´æ¥å°±æ˜¯ 13 ä½æ—¶é—´æˆ³ï¼š<code>1704723685891</code>ã€<code>1704723685756</code>â€¦â€¦æˆ‘å‰ç«¯ä¸ç”¨åšä»»ä½•é¢å¤–å¤„ç†ï¼Œç›´æ¥ç”¨ <code>new Date(ts)</code> å°±èƒ½è½¬æˆæœ¬åœ°æ—¶é—´æ˜¾ç¤ºã€‚"</p>
<p>é˜¿è¾°åœ¨æ—è¾¹å–äº†å£èŒ¶ï¼Œæ·¡æ·¡åœ°è¯´ï¼š"è¿™æ‰æ˜¯å‰åç«¯è¯¥æœ‰çš„åä½œæ–¹å¼ã€‚"</p>
<h2 data-id="heading-9">ğŸ’¡ ç»éªŒæ€»ç»“</h2>
<p>è¿™æ¬¡æ·±å¤œé‡æ„ï¼Œè®©æˆ‘å½»åº•ç†è§£äº† MySQL 8 æ—¶ä»£çš„æ—¶é—´å­˜å‚¨æœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-10">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li>
<p><strong>MySQL 8 é¦–é€‰ <code>DATETIME(3)</code>ï¼Œä¸è¦å†ç”¨ <code>TIMESTAMP</code></strong></p>
<ul>
<li><code>DATETIME(3)</code> çš„ <code>(3)</code> ä»£è¡¨æ¯«ç§’ç²¾åº¦ï¼ˆå°æ•°ç‚¹å 3 ä½ï¼‰</li>
<li>å­˜å‚¨ç©ºé—´ï¼š6 å­—èŠ‚ï¼ˆæ¯” <code>TIMESTAMP</code> çš„ 4 å­—èŠ‚åªå¤š 2 å­—èŠ‚ï¼‰</li>
<li>æ—¶é—´èŒƒå›´ï¼š1000å¹´ ~ 9999å¹´ï¼ˆè€Œ <code>TIMESTAMP</code> åªåˆ° 2038å¹´ï¼‰</li>
</ul>
</li>
<li>
<p><strong><code>DATETIME(3)</code> å¤©ç„¶åŒ¹é…å‰ç«¯çš„ 13 ä½æ—¶é—´æˆ³</strong></p>
<ul>
<li>JavaScript çš„ <code>Date.now()</code> è¿”å› 13 ä½æ¯«ç§’æ—¶é—´æˆ³ï¼ˆæ ‡å‡†ï¼‰</li>
<li><code>DATETIME(3)</code> å¯ä»¥å®Œæ•´ä¿å­˜æ¯«ç§’ï¼Œç²¾åº¦å®Œå…¨å¯¹åº”</li>
</ul>
</li>
<li>
<p><strong>ç»Ÿä¸€ç”¨ UTCï¼Œæ—¶åŒºé—®é¢˜äº¤ç»™åº”ç”¨å±‚</strong></p>
<ul>
<li>æ•°æ®åº“åªå­˜ UTC æ—¶é—´ï¼Œä¸è¦è®© MySQL å»å¤„ç†æ—¶åŒº</li>
<li>åç«¯ä¸æ•°æ®åº“äº¤äº’æ—¶ç”¨ UTC</li>
<li>å‰ç«¯æ ¹æ®ç”¨æˆ·æœ¬åœ°æ—¶åŒºæ˜¾ç¤ºï¼ˆæµè§ˆå™¨è‡ªåŠ¨å¤„ç†ï¼‰</li>
</ul>
</li>
<li>
<p><strong>TIMESTAMP çš„ä¸‰å¤§é—®é¢˜</strong></p>
<ul>
<li><strong>2038å¹´å±æœº</strong>ï¼šæœ€å¤§åªèƒ½å­˜åˆ° <code>2038-01-19 03:14:07</code></li>
<li><strong>ç²¾åº¦ä¸è¶³</strong>ï¼šåªèƒ½åˆ°ç§’ï¼Œæ— æ³•æ»¡è¶³ç°ä»£åº”ç”¨çš„æ¯«ç§’çº§éœ€æ±‚</li>
<li><strong>æ—¶åŒºä¾èµ–</strong>ï¼šå—æœåŠ¡å™¨ <code>time_zone</code> é…ç½®å½±å“ï¼Œè¿ç§»æ˜“å‡ºBug</li>
</ul>
</li>
</ol>
<h3 data-id="heading-11">å¸¸è§å‘ç‚¹</h3>
<ul>
<li>
<p>âŒ <strong>å‘1ï¼šå‰ç«¯ 13 ä½æ—¶é—´æˆ³ç›´æ¥å­˜å…¥ TIMESTAMP</strong></p>
<ul>
<li>é—®é¢˜ï¼š<code>TIMESTAMP</code> ä¼šè‡ªåŠ¨æˆªæ–­ï¼Œæ¯«ç§’ä¸¢å¤±</li>
<li>æ­£ç¡®åšæ³•ï¼šç”¨ <code>DATETIME(3)</code> å­˜å‚¨</li>
</ul>
</li>
<li>
<p>âŒ <strong>å‘2ï¼šORM é©±åŠ¨çš„æ—¶åŒºé…ç½®ä¸æ­£ç¡®</strong></p>
<ul>
<li>é—®é¢˜ï¼šSequelizeã€TypeORM ç­‰ä¼šæ ¹æ®æœ¬åœ°æ—¶åŒºè‡ªåŠ¨è½¬æ¢</li>
<li>æ­£ç¡®åšæ³•ï¼šè¿æ¥é…ç½®ä¸­å¼ºåˆ¶ <code>timezone: '+00:00'</code></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Sequelize ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> sequelize = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Sequelize</span>({
  <span class="hljs-attr">dialect</span>: <span class="hljs-string">'mysql'</span>,
  <span class="hljs-attr">timezone</span>: <span class="hljs-string">'+00:00'</span> <span class="hljs-comment">// å…³é”®ï¼å¼ºåˆ¶ä½¿ç”¨ UTC</span>
});
</code></pre>
</li>
<li>
<p>âŒ <strong>å‘3ï¼šè€è¡¨ç›´æ¥ ALTER ä¸å¤‡ä»½</strong></p>
<ul>
<li>é—®é¢˜ï¼š<code>TIMESTAMP</code> è½¬ <code>DATETIME</code> å¯èƒ½æ¶‰åŠæ—¶åŒºéšå¼è½¬æ¢</li>
<li>æ­£ç¡®åšæ³•ï¼šå…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ï¼Œç”Ÿäº§ç¯å¢ƒæ“ä½œå‰å¿…é¡»å¤‡ä»½</li>
</ul>
</li>
<li>
<p>âŒ <strong>å‘4ï¼šåç«¯è¿”å›æ—¶ä¸è½¬æ¢ä¸º 13 ä½æ—¶é—´æˆ³</strong></p>
<ul>
<li>é—®é¢˜ï¼šè¿”å›å­—ç¬¦ä¸² <code>"2025-01-09 01:00:00.123"</code>ï¼Œå‰ç«¯è¿˜è¦æ‰‹åŠ¨å¤„ç†</li>
<li>æ­£ç¡®åšæ³•ï¼šç»Ÿä¸€è¿”å› 13 ä½æ•°å­—æ—¶é—´æˆ³</li>
</ul>
</li>
</ul>
<h3 data-id="heading-12">æŠ€æœ¯æ‹“å±•</h3>
<ul>
<li>å¦‚æœéœ€è¦<strong>æ›´é«˜ç²¾åº¦</strong>ï¼ˆå¦‚æ—¥å¿—ç³»ç»Ÿã€é«˜é¢‘äº¤æ˜“ï¼‰ï¼Œå¯ä»¥ç”¨ <code>DATETIME(6)</code> å­˜å‚¨å¾®ç§’</li>
<li>å¦‚æœè¿½æ±‚<strong>æè‡´æ€§èƒ½</strong>ï¼Œå¯ä»¥ç›´æ¥ç”¨ <code>BIGINT</code> å­˜å‚¨ 13 ä½æ—¶é—´æˆ³æ•°å­—ï¼ˆä½†ç‰ºç‰²äº†å¯è¯»æ€§ï¼‰</li>
<li>å…³äºæ—¶åŒºå¤„ç†çš„æ›´å¤šç»†èŠ‚ï¼Œå¯ä»¥ç ”ç©¶ <code>CONVERT_TZ()</code> å‡½æ•°</li>
</ul>
<h2 data-id="heading-13">ğŸŒ™ æ¸©é¦¨æ”¶å°¾</h2>
<p>å°æ±å…³ä¸Šç”µè„‘ï¼Œç«™èµ·æ¥ä¼¸äº†ä¸ªæ‡’è…°ã€‚å¥¹èµ°è¿‡æˆ‘èº«è¾¹æ—¶ï¼Œè½»è½»æ‹äº†æ‹æˆ‘çš„è‚©è†€ï¼š"è°¢äº†ã€‚"</p>
<p>é˜¿è¾°ä¹Ÿæ”¶æ‹¾å¥½ä¸œè¥¿ï¼Œè·¯è¿‡æ—¶åªè¯´äº†å¥ï¼š"æ—©ç‚¹ä¼‘æ¯ã€‚"</p>
<p>åŠå…¬å®¤é‡Œåˆåªå‰©ä¸‹æˆ‘ä¸€ä¸ªäººäº†ã€‚çª—å¤–çš„é›¨è¿˜åœ¨ä¸‹ï¼Œä½†å£°éŸ³å˜å°äº†å¾ˆå¤šã€‚æˆ‘çœ‹äº†çœ‹ç”µè„‘å³ä¸‹è§’çš„æ—¶é—´ï¼š01:18:47.325ã€‚</p>
<p>æ˜¾ç¤ºå™¨çš„å…‰æ˜ åœ¨é”®ç›˜ä¸Šï¼Œé‚£äº›è¢«æ•²äº†æ— æ•°æ¬¡çš„æŒ‰é”®åœ¨å…‰å½±ä¸‹æ˜¾å¾—æœ‰äº›æ–‘é©³ã€‚æˆ‘æƒ³èµ·ä¸‰ä¸ªæœˆå‰å»ºè¿™å¼ è¡¨çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯æ·±å¤œï¼Œä¹Ÿæ˜¯ä¸‹é›¨ã€‚é‚£æ—¶å€™æˆ‘éšæ‰‹é€‰äº† <code>TIMESTAMP</code>ï¼Œè§‰å¾—å¤Ÿç”¨äº†ã€‚</p>
<p>ç°åœ¨æƒ³æƒ³ï¼Œæœ‰äº›"å¤Ÿç”¨"çš„é€‰æ‹©ï¼Œåªæ˜¯å› ä¸ºé—®é¢˜è¿˜æ²¡æš´éœ²è€Œå·²ã€‚</p>
<hr/>
<p><em>è¿™é‡Œæ˜¯ã€Šæ·±å¤œä»£ç ã€‹ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcIn]]></title>    <link>https://juejin.cn/post/7592159803410497572</link>    <guid>https://juejin.cn/post/7592159803410497572</guid>    <pubDate>2026-01-07T09:05:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592159803410497572" data-draft-id="7592236397535232036" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcIn"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-07T09:05:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode.srcIn
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:05:38.000Z" title="Wed Jan 07 2026 09:05:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SRC_IN</p>
<p><code>Keeps the source pixels that cover the destination pixels, discards the remaining source and destination pixels.</code></p>
<p>è®¡ç®—å…¬å¼</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17e9298a9851429883786947bbdce669~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768381538&amp;x-signature=xn2nBRmuIUa%2Bs5CKmuPAknVOF5s%3D" alt="image.png" width="30%" loading="lazy"/>
<p>å¤§ç™½è¯å°±æ˜¯ï¼šåœ¨dsté€æ˜åº¦æ˜¯1çš„æ—¶å€™,é‡å éƒ¨åˆ†æ˜¾ç¤ºçš„å°±æ˜¯srcçš„å†…å®¹ã€‚éé‡å éƒ¨åˆ†src ç›´æ¥å…¨éƒ¨ä¸¢å¼ƒ,dstä¸ä¿®æ”¹ã€‚</p>
<p>ç¬¬ä¸€ä¸ªä¾‹å­:</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>.<span class="hljs-title function_">withOpacity</span>(<span class="hljs-number">0.8</span>);
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">50</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcIn</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);
    <span class="hljs-comment">// canvas.drawImageRect(image!, Rect.fromLTWH(0, 0, image!.width.toDouble(), image!.height.toDouble()), Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>ä¸€ä¸ªçŸ©å½¢è¾¹æ¡†è·Ÿå¤šä¸ªç¯å½¢è¿›è¡ŒsrcInæ··åˆã€‚æ•ˆæœå¦‚ä¸‹ï¼šå¯ä»¥çœ‹å‡ºé‡å éƒ¨åˆ†ä¿ç•™äº†srcï¼Œsrcéé‡å éƒ¨åˆ†ç›´æ¥ä¸¢å¼ƒäº†ã€‚éé‡å dstè¿˜æ˜¯ä¿æŒåŸæ ·ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d143d89ab94cbcabe98f10daaec269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768381538&amp;x-signature=qKTcUwalJOkSdlA%2FdpTZnesJpls%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ç¬¬äºŒä¸ªä¾‹å­:ç»™å›¾å½¢è´´çº¸æˆ–è€…è¯´æ˜¯å›¾ç‰‡ä¿ç•™ä»»æ„éƒ¨åˆ†(åªè¦ä½ èƒ½ç”»å‡ºè·¯å¾„)</p>
<pre><code class="hljs language-js" lang="js">  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
    <span class="hljs-keyword">var</span> width = size.<span class="hljs-property">width</span>;
    <span class="hljs-keyword">var</span> height = size.<span class="hljs-property">height</span>;

    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>.<span class="hljs-title function_">withOpacity</span>(<span class="hljs-number">0.8</span>);
    dstPaint.<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">20</span>;
    dstPaint.<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span>;

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">10</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">50</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">90</span>, dstPaint);

    canvas.<span class="hljs-title function_">drawCircle</span>(<span class="hljs-title class_">Offset</span>(width/<span class="hljs-number">2</span>,height/<span class="hljs-number">2</span>), <span class="hljs-number">130</span>, dstPaint);

    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">blue</span> <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²</span>
      ..<span class="hljs-property">style</span> = <span class="hljs-title class_">PaintingStyle</span>.<span class="hljs-property">stroke</span> <span class="hljs-comment">// å¡«å……æ¨¡å¼</span>
      ..<span class="hljs-property">strokeWidth</span> = <span class="hljs-number">50</span>
      ..<span class="hljs-property">blendMode</span> = <span class="hljs-title class_">BlendMode</span>.<span class="hljs-property">srcIn</span>; <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
    <span class="hljs-comment">// canvas.drawRect(Rect.fromLTWH(0, 0, width, height), srcPaint);</span>
    canvas.<span class="hljs-title function_">drawImageRect</span>(image!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), srcPaint);
    canvas.<span class="hljs-title function_">restore</span>();
  }
</code></pre>
<p>æ•ˆæœå›¾å¦‚ä¸‹:æŠŠä¸€å¼ å›¾ç‰‡è´´åˆ°äº†ç¯å½¢ä¸Šé¢ï¼Œå¦‚æœdstæ˜¯ä¸ªåœ†å½¢ï¼Œé‚£å°±æ˜¯åœ†å½¢å¤´åƒã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9617663f5dc429f9aa89fd747183c58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768381538&amp;x-signature=2oBDA2%2FLZYbYV%2F9vwgCU7elaroQ%3D" alt="image.png" width="30%" loading="lazy"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React è‡ªå®šä¹‰ Hooks ç”Ÿå­˜æŒ‡å—ï¼š7 ä¸ªè®©ä½ å°‘åŠ ç­çš„"å·æ‡’"ç¥å™¨]]></title>    <link>https://juejin.cn/post/7592361736130756618</link>    <guid>https://juejin.cn/post/7592361736130756618</guid>    <pubDate>2026-01-07T09:00:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592361736130756618" data-draft-id="7592340733954261042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React è‡ªå®šä¹‰ Hooks ç”Ÿå­˜æŒ‡å—ï¼š7 ä¸ªè®©ä½ å°‘åŠ ç­çš„&quot;å·æ‡’&quot;ç¥å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-07T09:00:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Agions"/> <meta itemprop="url" content="https://juejin.cn/user/360295545187751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React è‡ªå®šä¹‰ Hooks ç”Ÿå­˜æŒ‡å—ï¼š7 ä¸ªè®©ä½ å°‘åŠ ç­çš„"å·æ‡’"ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295545187751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Agions
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:00:07.000Z" title="Wed Jan 07 2026 09:00:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šéƒ½ 2026 å¹´äº†ï¼Œè¿˜åœ¨å†™é‡å¤ä»£ç ï¼Ÿè¿˜åœ¨ useEffect é‡Œç–¯ç‹‚ copy-pasteï¼Ÿé†’é†’ï¼Œè‡ªå®šä¹‰ Hooks æ‰æ˜¯ç°ä»£ React å¼€å‘è€…çš„"æ‘¸é±¼"ç¥å™¨ã€‚æœ¬æ–‡æ‰‹æŠŠæ‰‹æ•™ä½ å°è£… 7 ä¸ªè¶…å®ç”¨çš„è‡ªå®šä¹‰ Hooksï¼Œä»æ­¤å‘Šåˆ« 996ï¼Œæ‹¥æŠ± WLBã€‚ä»£ç å³æ‹¿å³ç”¨ï¼ŒCV å·¥ç¨‹å¸ˆç‹‚å–œã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å¼•è¨€ï¼šä¸€ä¸ªå…³äº"å·æ‡’"çš„æ•…äº‹</h2>
<p><strong>åœºæ™¯ä¸€ï¼š</strong> äº§å“ç»ç†ï¼š"è¿™ä¸ªæœç´¢æ¡†è¦åšé˜²æŠ–ã€‚" ä½ ï¼š"å¥½çš„ã€‚"ï¼ˆæ‰“å¼€ Googleï¼Œæœç´¢ "react debounce"ï¼‰ äº§å“ç»ç†ï¼š"é‚£ä¸ªé¡µé¢ä¹Ÿè¦ã€‚" ä½ ï¼š"å¥½çš„ã€‚"ï¼ˆå†æ¬¡ copy-pasteï¼‰ äº§å“ç»ç†ï¼š"è¿˜æœ‰è¿™ 10 ä¸ªé¡µé¢..." ä½ ï¼šï¼ˆå¼€å§‹æ€€ç–‘äººç”Ÿï¼‰</p>
<p><strong>åœºæ™¯äºŒï¼š</strong> ä½ ï¼š"è¿™ä¸ªè¡¨å•çŠ¶æ€ç®¡ç†å†™å¾—çœŸä¼˜é›…ã€‚" ï¼ˆä¸‰ä¸ªæœˆåï¼‰ ä½ ï¼š"è¿™ TM æ˜¯è°å†™çš„ï¼Ÿï¼" Git blameï¼š"æ˜¯ä½ è‡ªå·±ã€‚" ä½ ï¼šï¼ˆæ²‰é»˜ï¼‰</p>
<p><strong>åœºæ™¯ä¸‰ï¼š</strong> Code Review æ—¶â€”â€” åŒäº‹ï¼š"è¿™æ®µé€»è¾‘æˆ‘åœ¨å¦å¤– 5 ä¸ªæ–‡ä»¶é‡Œè§è¿‡ã€‚" ä½ ï¼š"é‚£ä¸ª...æˆ‘å‡†å¤‡é‡æ„çš„..." åŒäº‹ï¼š"ä½ ä¸‰ä¸ªæœˆå‰ä¹Ÿæ˜¯è¿™ä¹ˆè¯´çš„ã€‚" ä½ ï¼šï¼ˆæƒ³æ‰¾ä¸ªåœ°ç¼é’»è¿›å»ï¼‰</p>
<p><strong>å¦‚æœä½ ä¹Ÿæœ‰ç±»ä¼¼ç»å†ï¼Œæ­å–œä½ ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘è¦åˆ†äº« 7 ä¸ªè¶…å®ç”¨çš„è‡ªå®šä¹‰ Hooksï¼Œè®©ä½ ï¼š</p>
<ul>
<li>ä»£ç å¤ç”¨ç‡æå‡ 300%</li>
<li>æ¯å¤©å°‘å†™ 200 è¡Œé‡å¤ä»£ç </li>
<li>å‡†æ—¶ä¸‹ç­ä¸æ˜¯æ¢¦</li>
</ul>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šè‡ªå®šä¹‰ Hooks çš„"é“"ä¸"æœ¯"</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰ Hookï¼Ÿ</h3>
<p>ç®€å•è¯´ï¼Œè‡ªå®šä¹‰ Hook å°±æ˜¯ä¸€ä¸ªä»¥ <code>use</code> å¼€å¤´çš„å‡½æ•°ï¼Œé‡Œé¢å¯ä»¥è°ƒç”¨å…¶ä»– Hooksã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è¿™å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è‡ªå®šä¹‰ Hook</span>
function <span class="hljs-built_in">useMyHook</span>() {
Â Â const <span class="hljs-selector-attr">[state, setState]</span> = <span class="hljs-built_in">useState</span>(null)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â <span class="hljs-comment">// åšä¸€äº›äº‹æƒ…</span>
Â Â }, <span class="hljs-selector-attr">[]</span>)

Â Â return state
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦ç”¨è‡ªå®šä¹‰ Hookï¼Ÿ</strong></p>
<ol>
<li><strong>å¤ç”¨é€»è¾‘</strong>ï¼šåŒæ ·çš„é€»è¾‘å†™ä¸€æ¬¡ï¼Œåˆ°å¤„ç”¨</li>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šç»„ä»¶åªç®¡æ¸²æŸ“ï¼Œé€»è¾‘äº¤ç»™ Hook</li>
<li><strong>æ›´å¥½æµ‹è¯•</strong>ï¼šHook å¯ä»¥å•ç‹¬æµ‹è¯•</li>
<li><strong>ä»£ç æ›´æ¸…æ™°</strong>ï¼šç»„ä»¶ä»£ç ä» 500 è¡Œå˜æˆ 50 è¡Œ</li>
</ol>
<h3 data-id="heading-3">1.2 è‡ªå®šä¹‰ Hook çš„å‘½åè§„èŒƒ</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä»¥ use å¼€å¤´</span>
<span class="hljs-built_in">useLocalStorage</span>()
<span class="hljs-built_in">useDebounce</span>()
<span class="hljs-built_in">useFetch</span>()

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸ä»¥ use å¼€å¤´ï¼ˆReact ä¸ä¼šè¯†åˆ«ä¸º Hookï¼‰</span>
<span class="hljs-built_in">getLocalStorage</span>()
<span class="hljs-built_in">debounceValue</span>()
<span class="hljs-built_in">fetchData</span>()
</code></pre>
<p><strong>è®°ä½ï¼š</strong> ä»¥ <code>use</code> å¼€å¤´ä¸æ˜¯è£…é€¼ï¼Œæ˜¯ React è¯†åˆ« Hook çš„æ–¹å¼ã€‚ä¸è¿™ä¹ˆå†™ï¼ŒReact çš„ Hooks è§„åˆ™æ£€æŸ¥ä¼šå¤±æ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-4">ç¬¬äºŒç« ï¼š7 ä¸ªè®©ä½ å°‘åŠ ç­çš„è‡ªå®šä¹‰ Hooks</h2>
<h3 data-id="heading-5">Hook #1ï¼šuseLocalStorage â€”â€” æœ¬åœ°å­˜å‚¨ã®ä¼˜é›…å§¿åŠ¿</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> æ¯æ¬¡ç”¨ localStorage éƒ½è¦ JSON.parseã€JSON.stringifyï¼Œè¿˜è¦å¤„ç† SSR æŠ¥é”™ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * å°†çŠ¶æ€åŒæ­¥åˆ° localStorage çš„ Hook
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">key</span> - localStorage çš„é”®å
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any</span>} <span class="hljs-variable">initialValue</span> - åˆå§‹å€¼
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">[any, Function, Function]</span>} [å­˜å‚¨çš„å€¼, è®¾ç½®å‡½æ•°, åˆ é™¤å‡½æ•°]
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useLocalStorage</span>(<span class="hljs-params">key, initialValue</span>) {
Â Â <span class="hljs-comment">// è·å–åˆå§‹å€¼ï¼ˆæƒ°æ€§åˆå§‹åŒ–ï¼‰</span>
Â Â <span class="hljs-keyword">const</span> [storedValue, setStoredValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-comment">// SSR ç¯å¢ƒä¸‹ window ä¸å­˜åœ¨</span>
Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">"undefined"</span>) {
Â Â Â Â Â Â <span class="hljs-keyword">return</span> initialValue
Â Â Â Â }

Â Â Â Â <span class="hljs-keyword">try</span> {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(key)
Â Â Â Â Â Â <span class="hljs-comment">// å¦‚æœå­˜åœ¨åˆ™è§£æï¼Œå¦åˆ™è¿”å›åˆå§‹å€¼</span>
Â Â Â Â Â Â <span class="hljs-keyword">return</span> item ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(item) : initialValue
Â Â Â Â } <span class="hljs-keyword">catch</span> (error) {
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Error reading localStorage key "<span class="hljs-subst">${key}</span>":`</span>, error)
Â Â Â Â Â Â <span class="hljs-keyword">return</span> initialValue
Â Â Â Â }
Â Â })

Â Â <span class="hljs-comment">// è®¾ç½®å€¼çš„å‡½æ•°</span>
Â Â <span class="hljs-keyword">const</span> setValue = <span class="hljs-title function_">useCallback</span>(
Â Â Â Â <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-keyword">try</span> {
Â Â Â Â Â Â Â Â <span class="hljs-comment">// æ”¯æŒå‡½æ•°å¼æ›´æ–°</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span> valueToStore =
Â Â Â Â Â Â Â Â Â Â value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span> ? <span class="hljs-title function_">value</span>(storedValue) : value
Â Â Â Â Â Â Â Â <span class="hljs-title function_">setStoredValue</span>(valueToStore)

Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">"undefined"</span>) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(valueToStore))
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â } <span class="hljs-keyword">catch</span> (error) {
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Error setting localStorage key "<span class="hljs-subst">${key}</span>":`</span>, error)
Â Â Â Â Â Â }
Â Â Â Â },
Â Â Â Â [key, storedValue]
Â Â )

Â Â <span class="hljs-comment">// åˆ é™¤å€¼çš„å‡½æ•°</span>
Â Â <span class="hljs-keyword">const</span> removeValue = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">try</span> {
Â Â Â Â Â Â <span class="hljs-title function_">setStoredValue</span>(initialValue)
Â Â Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">"undefined"</span>) {
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">removeItem</span>(key)
Â Â Â Â Â Â }
Â Â Â Â } <span class="hljs-keyword">catch</span> (error) {
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Error removing localStorage key "<span class="hljs-subst">${key}</span>":`</span>, error)
Â Â Â Â }
Â Â }, [key, initialValue])

Â Â <span class="hljs-keyword">return</span> [storedValue, setValue, removeValue]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useLocalStorage
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-comment">// å°±åƒ useState ä¸€æ ·ç®€å•ï¼</span>
Â Â <span class="hljs-keyword">const</span> [theme, setTheme, removeTheme] = <span class="hljs-title function_">useLocalStorage</span>(<span class="hljs-string">"theme"</span>, <span class="hljs-string">"light"</span>)
Â Â <span class="hljs-keyword">const</span> [user, setUser] = <span class="hljs-title function_">useLocalStorage</span>(<span class="hljs-string">"user"</span>, <span class="hljs-literal">null</span>)

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">app</span> ${<span class="hljs-attr">theme</span>}`}&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setTheme(theme === "light" ? "dark" : "light")}&gt;
Â Â Â Â Â Â Â Â åˆ‡æ¢ä¸»é¢˜ï¼š{theme}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setUser({ name: "å¼ ä¸‰", age: 25 })}&gt;ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{removeTheme}</span>&gt;</span>é‡ç½®ä¸»é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â {user &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ¬¢è¿ï¼Œ{user.name}ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¸ª Hook é¦™ï¼Ÿ</strong></p>
<ul>
<li>è‡ªåŠ¨å¤„ç† JSON åºåˆ—åŒ–/ååºåˆ—åŒ–</li>
<li>æ”¯æŒ SSRï¼ˆä¸ä¼šæŠ¥ window is not definedï¼‰</li>
<li>æ”¯æŒå‡½æ•°å¼æ›´æ–°ï¼ˆå’Œ useState ä¸€æ ·ï¼‰</li>
<li>æä¾›åˆ é™¤åŠŸèƒ½</li>
</ul>
<hr/>
<h3 data-id="heading-6">Hook #2ï¼šuseDebounce â€”â€” é˜²æŠ–ã®ç»ˆææ–¹æ¡ˆ</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> æœç´¢æ¡†è¾“å…¥æ—¶ï¼Œæ¯æ•²ä¸€ä¸ªå­—å°±å‘è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç›´æ¥è¢«ä½ æ‰“çˆ†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * é˜²æŠ– Hookï¼šå»¶è¿Ÿæ›´æ–°å€¼ï¼Œé¿å…é¢‘ç¹è§¦å‘
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any</span>} <span class="hljs-variable">value</span> - éœ€è¦é˜²æŠ–çš„å€¼
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} <span class="hljs-variable">delay</span> - å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">any</span>} é˜²æŠ–åçš„å€¼
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDebounce</span>(<span class="hljs-params">value, delay = <span class="hljs-number">500</span></span>) {
Â Â <span class="hljs-keyword">const</span> [debouncedValue, setDebouncedValue] = <span class="hljs-title function_">useState</span>(value)

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-comment">// è®¾ç½®å®šæ—¶å™¨</span>
Â Â Â Â <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-title function_">setDebouncedValue</span>(value)
Â Â Â Â }, delay)

Â Â Â Â <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼šå€¼å˜åŒ–æ—¶æ¸…é™¤ä¸Šä¸€ä¸ªå®šæ—¶å™¨</span>
Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-built_in">clearTimeout</span>(timer)
Â Â Â Â }
Â Â }, [value, delay])

Â Â <span class="hljs-keyword">return</span> debouncedValue
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useDebounce
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">SearchComponent</span>() {
Â Â const <span class="hljs-selector-attr">[searchTerm, setSearchTerm]</span> = <span class="hljs-built_in">useState</span>("")
Â Â const <span class="hljs-selector-attr">[results, setResults]</span> = <span class="hljs-built_in">useState</span>([])
Â Â const <span class="hljs-selector-attr">[loading, setLoading]</span> = <span class="hljs-built_in">useState</span>(false)

Â Â <span class="hljs-comment">// é˜²æŠ–å¤„ç†ï¼šç”¨æˆ·åœæ­¢è¾“å…¥ 500ms åæ‰è§¦å‘</span>
Â Â const debouncedSearchTerm = <span class="hljs-built_in">useDebounce</span>(searchTerm, <span class="hljs-number">500</span>)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â if (debouncedSearchTerm) {
Â Â Â Â Â Â <span class="hljs-built_in">setLoading</span>(true)
Â Â Â Â Â Â <span class="hljs-comment">// æ¨¡æ‹Ÿ API è¯·æ±‚</span>
Â Â Â Â Â Â <span class="hljs-built_in">fetch</span>(`/api/search?q=${debouncedSearchTerm}`)
Â Â Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>((res) =&gt; res<span class="hljs-selector-class">.json</span>())
Â Â Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>((data) =&gt; {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">setResults</span>(data)
Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">setLoading</span>(false)
Â Â Â Â Â Â Â Â })
Â Â Â Â } else {
Â Â Â Â Â Â <span class="hljs-built_in">setResults</span>([])
Â Â Â Â }
Â Â }, <span class="hljs-selector-attr">[debouncedSearchTerm]</span>) <span class="hljs-comment">// åªåœ¨é˜²æŠ–å€¼å˜åŒ–æ—¶è§¦å‘</span>

Â Â return (
Â Â Â Â &lt;div&gt;
Â Â Â Â Â Â &lt;input
Â Â Â Â Â Â Â Â type='text'
Â Â Â Â Â Â Â Â placeholder='æœç´¢...'
Â Â Â Â Â Â Â Â value={searchTerm}
Â Â Â Â Â Â Â Â onChange={(e) =&gt; <span class="hljs-built_in">setSearchTerm</span>(e.target.value)}
Â Â Â Â Â Â /&gt;

Â Â Â Â Â Â {loading &amp;&amp; &lt;<span class="hljs-selector-tag">p</span>&gt;æœç´¢ä¸­...&lt;/<span class="hljs-selector-tag">p</span>&gt;}

Â Â Â Â Â Â &lt;<span class="hljs-selector-tag">ul</span>&gt;
Â Â Â Â Â Â Â Â {results<span class="hljs-selector-class">.map</span>((item) =&gt; (
Â Â Â Â Â Â Â Â Â Â &lt;li key={item.id}&gt;{item.name}&lt;/li&gt;
Â Â Â Â Â Â Â Â ))}
Â Â Â Â Â Â &lt;/<span class="hljs-selector-tag">ul</span>&gt;
Â Â Â Â &lt;/<span class="hljs-selector-tag">div</span>&gt;
Â Â )
}
</code></pre>
<p><strong>è¿›é˜¶ç‰ˆï¼šå¸¦å›è°ƒçš„é˜²æŠ–</strong></p>
<pre><code class="hljs language-scss" lang="scss">import { useCallback, useRef, useEffect } from "react"

<span class="hljs-comment">/**
Â * é˜²æŠ–å‡½æ•° Hookï¼šè¿”å›ä¸€ä¸ªé˜²æŠ–å¤„ç†åçš„å‡½æ•°
Â * @param {Function} callback - éœ€è¦é˜²æŠ–çš„å›è°ƒå‡½æ•°
Â * @param {number} delay - å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
Â * @returns {Function} é˜²æŠ–åçš„å‡½æ•°
Â */</span>
function <span class="hljs-built_in">useDebouncedCallback</span>(callback, delay = <span class="hljs-number">500</span>) {
Â Â const timeoutRef = <span class="hljs-built_in">useRef</span>(null)
Â Â const callbackRef = <span class="hljs-built_in">useRef</span>(callback)

Â Â <span class="hljs-comment">// ä¿æŒ callback æœ€æ–°</span>
Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â callbackRef<span class="hljs-selector-class">.current</span> = callback
Â Â }, <span class="hljs-selector-attr">[callback]</span>)

Â Â <span class="hljs-comment">// æ¸…ç†å®šæ—¶å™¨</span>
Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â return () =&gt; {
Â Â Â Â Â Â if (timeoutRef.current) {
Â Â Â Â Â Â Â Â <span class="hljs-built_in">clearTimeout</span>(timeoutRef.current)
Â Â Â Â Â Â }
Â Â Â Â }
Â Â }, <span class="hljs-selector-attr">[]</span>)

Â Â const debouncedCallback = <span class="hljs-built_in">useCallback</span>(
Â Â Â Â (...args) =&gt; {
Â Â Â Â Â Â if (timeoutRef.current) {
Â Â Â Â Â Â Â Â <span class="hljs-built_in">clearTimeout</span>(timeoutRef.current)
Â Â Â Â Â Â }

Â Â Â Â Â Â timeoutRef<span class="hljs-selector-class">.current</span> = <span class="hljs-built_in">setTimeout</span>(() =&gt; {
Â Â Â Â Â Â Â Â callbackRef<span class="hljs-selector-class">.current</span>(...args)
Â Â Â Â Â Â }, delay)
Â Â Â Â },
Â Â Â Â <span class="hljs-selector-attr">[delay]</span>
Â Â )

Â Â return debouncedCallback
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
function <span class="hljs-built_in">SearchWithCallback</span>() {
Â Â const <span class="hljs-selector-attr">[results, setResults]</span> = <span class="hljs-built_in">useState</span>([])

Â Â const handleSearch = <span class="hljs-built_in">useDebouncedCallback</span>((term) =&gt; {
Â Â Â Â console<span class="hljs-selector-class">.log</span>("æœç´¢:", term)
Â Â Â Â <span class="hljs-comment">// å‘èµ·è¯·æ±‚...</span>
Â Â }, <span class="hljs-number">500</span>)

Â Â return (
Â Â Â Â &lt;input
Â Â Â Â Â Â type='text'
Â Â Â Â Â Â onChange={(e) =&gt; <span class="hljs-built_in">handleSearch</span>(e.target.value)}
Â Â Â Â Â Â placeholder='è¾“å…¥æœç´¢...'
Â Â Â Â /&gt;
Â Â )
}
</code></pre>
<hr/>
<h3 data-id="heading-7">Hook #3ï¼šuseFetch â€”â€” æ•°æ®è¯·æ±‚ã®ç‘å£«å†›åˆ€</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> æ¯ä¸ªç»„ä»¶éƒ½è¦å†™ loadingã€errorã€data ä¸‰ä»¶å¥—ï¼Œçƒ¦æ­»äº†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">import { useState, useEffect, useCallback, useRef } from "react"

<span class="hljs-comment">/**
Â * æ•°æ®è¯·æ±‚ Hook
Â * @param {string} url - è¯·æ±‚åœ°å€
Â * @param {object} options - fetch é€‰é¡¹
Â * @returns {object} { data, loading, error, refetch }
Â */</span>
function <span class="hljs-built_in">useFetch</span>(url, options = {}) {
Â Â const <span class="hljs-selector-attr">[data, setData]</span> = <span class="hljs-built_in">useState</span>(null)
Â Â const <span class="hljs-selector-attr">[loading, setLoading]</span> = <span class="hljs-built_in">useState</span>(true)
Â Â const <span class="hljs-selector-attr">[error, setError]</span> = <span class="hljs-built_in">useState</span>(null)

Â Â <span class="hljs-comment">// ç”¨ ref å­˜å‚¨ optionsï¼Œé¿å…æ— é™å¾ªç¯</span>
Â Â const optionsRef = <span class="hljs-built_in">useRef</span>(options)
Â Â optionsRef<span class="hljs-selector-class">.current</span> = options

Â Â const fetchData = <span class="hljs-built_in">useCallback</span>(async () =&gt; {
Â Â Â Â <span class="hljs-built_in">setLoading</span>(true)
Â Â Â Â <span class="hljs-built_in">setError</span>(null)

Â Â Â Â try {
Â Â Â Â Â Â const response = await <span class="hljs-built_in">fetch</span>(url, optionsRef.current)

Â Â Â Â Â Â if (!response.ok) {
Â Â Â Â Â Â Â Â throw new <span class="hljs-built_in">Error</span>(`HTTP error! status: ${response.status}`)
Â Â Â Â Â Â }

Â Â Â Â Â Â const result = await response<span class="hljs-selector-class">.json</span>()
Â Â Â Â Â Â <span class="hljs-built_in">setData</span>(result)
Â Â Â Â } catch (err) {
Â Â Â Â Â Â <span class="hljs-built_in">setError</span>(err.message || "è¯·æ±‚å¤±è´¥")
Â Â Â Â } finally {
Â Â Â Â Â Â <span class="hljs-built_in">setLoading</span>(false)
Â Â Â Â }
Â Â }, <span class="hljs-selector-attr">[url]</span>)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â <span class="hljs-built_in">fetchData</span>()
Â Â }, <span class="hljs-selector-attr">[fetchData]</span>)

Â Â <span class="hljs-comment">// æ‰‹åŠ¨é‡æ–°è¯·æ±‚</span>
Â Â const refetch = <span class="hljs-built_in">useCallback</span>(() =&gt; {
Â Â Â Â <span class="hljs-built_in">fetchData</span>()
Â Â }, <span class="hljs-selector-attr">[fetchData]</span>)

Â Â return { data, loading, error, refetch }
}

export default useFetch
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params">{ userId }</span>) {
Â Â <span class="hljs-keyword">const</span> {
Â Â Â Â <span class="hljs-attr">data</span>: user,
Â Â Â Â loading,
Â Â Â Â error,
Â Â Â Â refetch,
Â Â } = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">`https://jsonplaceholder.typicode.com/users/<span class="hljs-subst">${userId}</span>`</span>)

Â Â <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'skeleton'</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'error'</span>&gt;</span>é”™è¯¯ï¼š{error}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â <span class="hljs-keyword">if</span> (!user) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'user-profile'</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ğŸ“§ {user.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ğŸ“± {user.phone}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ğŸ¢ {user.company?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{refetch}</span>&gt;</span>åˆ·æ–°æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<p><strong>è¿›é˜¶ç‰ˆï¼šæ”¯æŒç¼“å­˜å’Œè‡ªåŠ¨é‡è¯•</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect, useCallback, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">// ç®€å•çš„å†…å­˜ç¼“å­˜</span>
<span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()

<span class="hljs-comment">/**
Â * å¢å¼ºç‰ˆæ•°æ®è¯·æ±‚ Hook
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">url</span> - è¯·æ±‚åœ°å€
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">config</span> - é…ç½®é¡¹
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFetchAdvanced</span>(<span class="hljs-params">url, config = {}</span>) {
Â Â <span class="hljs-keyword">const</span> {
Â Â Â Â enabled = <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¯ç”¨è¯·æ±‚</span>
Â Â Â Â cacheTime = <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// ç¼“å­˜æ—¶é—´ï¼ˆé»˜è®¤ 5 åˆ†é’Ÿï¼‰</span>
Â Â Â Â retry = <span class="hljs-number">3</span>, <span class="hljs-comment">// é‡è¯•æ¬¡æ•°</span>
Â Â Â Â retryDelay = <span class="hljs-number">1000</span>, <span class="hljs-comment">// é‡è¯•å»¶è¿Ÿ</span>
Â Â Â Â onSuccess, <span class="hljs-comment">// æˆåŠŸå›è°ƒ</span>
Â Â Â Â onError, <span class="hljs-comment">// å¤±è´¥å›è°ƒ</span>
Â Â } = config

Â Â <span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>({
Â Â Â Â <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>,
Â Â Â Â <span class="hljs-attr">loading</span>: enabled,
Â Â Â Â <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>,
Â Â })

Â Â <span class="hljs-keyword">const</span> retryCountRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>)

Â Â <span class="hljs-keyword">const</span> fetchData = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">async</span> () =&gt; {
Â Â Â Â <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
Â Â Â Â <span class="hljs-keyword">const</span> cached = cache.<span class="hljs-title function_">get</span>(url)
Â Â Â Â <span class="hljs-keyword">if</span> (cached &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - cached.<span class="hljs-property">timestamp</span> &lt; cacheTime) {
Â Â Â Â Â Â <span class="hljs-title function_">setState</span>({ <span class="hljs-attr">data</span>: cached.<span class="hljs-property">data</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> })
Â Â Â Â Â Â <span class="hljs-keyword">return</span>
Â Â Â Â }

Â Â Â Â <span class="hljs-title function_">setState</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({ ...prev, <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> }))

Â Â Â Â <span class="hljs-keyword">try</span> {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url)

Â Â Â Â Â Â <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>`</span>)
Â Â Â Â Â Â }

Â Â Â Â Â Â <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>()

Â Â Â Â Â Â <span class="hljs-comment">// å­˜å…¥ç¼“å­˜</span>
Â Â Â Â Â Â cache.<span class="hljs-title function_">set</span>(url, { data, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() })

Â Â Â Â Â Â <span class="hljs-title function_">setState</span>({ data, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> })
Â Â Â Â Â Â retryCountRef.<span class="hljs-property">current</span> = <span class="hljs-number">0</span>
Â Â Â Â Â Â onSuccess?.(data)
Â Â Â Â } <span class="hljs-keyword">catch</span> (err) {
Â Â Â Â Â Â <span class="hljs-comment">// é‡è¯•é€»è¾‘</span>
Â Â Â Â Â Â <span class="hljs-keyword">if</span> (retryCountRef.<span class="hljs-property">current</span> &lt; retry) {
Â Â Â Â Â Â Â Â retryCountRef.<span class="hljs-property">current</span>++
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">`è¯·æ±‚å¤±è´¥ï¼Œ<span class="hljs-subst">${retryDelay}</span>ms åé‡è¯• (<span class="hljs-subst">${retryCountRef.current}</span>/<span class="hljs-subst">${retry}</span>)`</span>
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-built_in">setTimeout</span>(fetchData, retryDelay)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>
Â Â Â Â Â Â }

Â Â Â Â Â Â <span class="hljs-title function_">setState</span>({ <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: err.<span class="hljs-property">message</span> })
Â Â Â Â Â Â onError?.(err)
Â Â Â Â }
Â Â }, [url, cacheTime, retry, retryDelay, onSuccess, onError])

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">if</span> (enabled) {
Â Â Â Â Â Â <span class="hljs-title function_">fetchData</span>()
Â Â Â Â }
Â Â }, [enabled, fetchData])

Â Â <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">refetch</span>: fetchData }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">Hook #4ï¼šuseToggle â€”â€” å¸ƒå°”å€¼ã®ä¼˜é›…åˆ‡æ¢</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> <code>setIsOpen(!isOpen)</code> å†™äº† 100 éï¼Œæ‰‹éƒ½é…¸äº†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">import { useState, useCallback } from "react"

<span class="hljs-comment">/**
Â * å¸ƒå°”å€¼åˆ‡æ¢ Hook
Â * @param {boolean} initialValue - åˆå§‹å€¼
Â * @returns {[boolean, Function, Function, Function]} [å€¼, åˆ‡æ¢, è®¾ä¸ºtrue, è®¾ä¸ºfalse]
Â */</span>
function <span class="hljs-built_in">useToggle</span>(initialValue = false) {
Â Â const <span class="hljs-selector-attr">[value, setValue]</span> = <span class="hljs-built_in">useState</span>(initialValue)

Â Â const toggle = <span class="hljs-built_in">useCallback</span>(() =&gt; <span class="hljs-built_in">setValue</span>((v) =&gt; !v), <span class="hljs-selector-attr">[]</span>)
Â Â const setTrue = <span class="hljs-built_in">useCallback</span>(() =&gt; <span class="hljs-built_in">setValue</span>(true), <span class="hljs-selector-attr">[]</span>)
Â Â const setFalse = <span class="hljs-built_in">useCallback</span>(() =&gt; <span class="hljs-built_in">setValue</span>(false), <span class="hljs-selector-attr">[]</span>)

Â Â return <span class="hljs-selector-attr">[value, toggle, setTrue, setFalse]</span>
}

export default useToggle
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Modal</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> [isOpen, toggle, open, close] = <span class="hljs-title function_">useToggle</span>(<span class="hljs-literal">false</span>)
Â Â <span class="hljs-keyword">const</span> [isDarkMode, toggleDarkMode] = <span class="hljs-title function_">useToggle</span>(<span class="hljs-literal">false</span>)

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isDarkMode</span> ? "<span class="hljs-attr">dark</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">light</span>"}&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleDarkMode}</span>&gt;</span>
Â Â Â Â Â Â Â Â {isDarkMode ? "ğŸŒ™" : "â˜€ï¸"} åˆ‡æ¢ä¸»é¢˜
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{open}</span>&gt;</span>æ‰“å¼€å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â {isOpen &amp;&amp; (
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'modal-overlay'</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{close}</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'modal'</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{(e)</span> =&gt;</span> e.stopPropagation()}&gt;
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æˆ‘æ˜¯å¼¹çª—<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»é®ç½©å±‚æˆ–æŒ‰é’®å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{close}</span>&gt;</span>å…³é—­<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â )}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<hr/>
<h3 data-id="heading-9">Hook #5ï¼šuseClickOutside â€”â€” ç‚¹å‡»å¤–éƒ¨å…³é—­ã®ç¥å™¨</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> ä¸‹æ‹‰èœå•ã€å¼¹çª—ç‚¹å‡»å¤–éƒ¨å…³é—­ï¼Œæ¯æ¬¡éƒ½è¦å†™ä¸€å †äº‹ä»¶ç›‘å¬ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * ç‚¹å‡»å…ƒç´ å¤–éƒ¨æ—¶è§¦å‘å›è°ƒ
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">callback</span> - ç‚¹å‡»å¤–éƒ¨æ—¶çš„å›è°ƒå‡½æ•°
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">React.RefObject</span>} éœ€è¦ç»‘å®šåˆ°ç›®æ ‡å…ƒç´ çš„ ref
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useClickOutside</span>(<span class="hljs-params">callback</span>) {
Â Â <span class="hljs-keyword">const</span> ref = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>)

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">event</span>) =&gt; {
Â Â Â Â Â Â <span class="hljs-comment">// å¦‚æœç‚¹å‡»çš„ä¸æ˜¯ ref å…ƒç´ å†…éƒ¨ï¼Œåˆ™è§¦å‘å›è°ƒ</span>
Â Â Â Â Â Â <span class="hljs-keyword">if</span> (ref.<span class="hljs-property">current</span> &amp;&amp; !ref.<span class="hljs-property">current</span>.<span class="hljs-title function_">contains</span>(event.<span class="hljs-property">target</span>)) {
Â Â Â Â Â Â Â Â <span class="hljs-title function_">callback</span>(event)
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">// ä½¿ç”¨ mousedown è€Œä¸æ˜¯ clickï¼Œå“åº”æ›´å¿«</span>
Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousedown"</span>, handleClick)
Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"touchstart"</span>, handleClick)

Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"mousedown"</span>, handleClick)
Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"touchstart"</span>, handleClick)
Â Â Â Â }
Â Â }, [callback])

Â Â <span class="hljs-keyword">return</span> ref
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useClickOutside
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dropdown</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> [isOpen, setIsOpen] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)

Â Â <span class="hljs-comment">// ç‚¹å‡»ä¸‹æ‹‰èœå•å¤–éƒ¨æ—¶å…³é—­</span>
Â Â <span class="hljs-keyword">const</span> dropdownRef = <span class="hljs-title function_">useClickOutside</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-title function_">setIsOpen</span>(<span class="hljs-literal">false</span>)
Â Â })

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'dropdown-container'</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{dropdownRef}</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsOpen(!isOpen)}&gt;
Â Â Â Â Â Â Â Â é€‰æ‹©é€‰é¡¹ {isOpen ? "â–²" : "â–¼"}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â {isOpen &amp;&amp; (
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'dropdown-menu'</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsOpen(false)}&gt;é€‰é¡¹ 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsOpen(false)}&gt;é€‰é¡¹ 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsOpen(false)}&gt;é€‰é¡¹ 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â )}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<p><strong>è¿›é˜¶ï¼šæ”¯æŒå¤šä¸ª ref</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useEffect, useRef, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * æ”¯æŒå¤šä¸ªå…ƒç´ çš„ç‚¹å‡»å¤–éƒ¨æ£€æµ‹
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">callback</span> - ç‚¹å‡»å¤–éƒ¨æ—¶çš„å›è°ƒ
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Function</span>} è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å®ƒè·å– ref
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useClickOutsideMultiple</span>(<span class="hljs-params">callback</span>) {
Â Â <span class="hljs-keyword">const</span> refs = <span class="hljs-title function_">useRef</span>([])

Â Â <span class="hljs-keyword">const</span> addRef = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">if</span> (element &amp;&amp; !refs.<span class="hljs-property">current</span>.<span class="hljs-title function_">includes</span>(element)) {
Â Â Â Â Â Â refs.<span class="hljs-property">current</span>.<span class="hljs-title function_">push</span>(element)
Â Â Â Â }
Â Â }, [])

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">event</span>) =&gt; {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> isOutside = refs.<span class="hljs-property">current</span>.<span class="hljs-title function_">every</span>(
Â Â Â Â Â Â Â Â <span class="hljs-function">(<span class="hljs-params">ref</span>) =&gt;</span> ref &amp;&amp; !ref.<span class="hljs-title function_">contains</span>(event.<span class="hljs-property">target</span>)
Â Â Â Â Â Â )

Â Â Â Â Â Â <span class="hljs-keyword">if</span> (isOutside) {
Â Â Â Â Â Â Â Â <span class="hljs-title function_">callback</span>(event)
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousedown"</span>, handleClick)
Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"mousedown"</span>, handleClick)
Â Â }, [callback])

Â Â <span class="hljs-keyword">return</span> addRef
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šå¼¹çª— + è§¦å‘æŒ‰é’®éƒ½ä¸ç®—"å¤–éƒ¨"</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">PopoverWithTrigger</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> [isOpen, setIsOpen] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
Â Â <span class="hljs-keyword">const</span> addRef = <span class="hljs-title function_">useClickOutsideMultiple</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setIsOpen</span>(<span class="hljs-literal">false</span>))

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{addRef}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsOpen(!isOpen)}&gt;
Â Â Â Â Â Â Â Â è§¦å‘æŒ‰é’®
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â Â Â Â Â Â {isOpen &amp;&amp; (
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{addRef}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'popover'</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â ç‚¹å‡»è¿™é‡Œä¸ä¼šå…³é—­
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â )}
Â Â Â Â <span class="hljs-tag">&lt;/&gt;</span></span>
Â Â )
}
</code></pre>
<hr/>
<h3 data-id="heading-10">Hook #6ï¼šusePrevious â€”â€” è·å–ä¸Šä¸€æ¬¡çš„å€¼</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> æƒ³å¯¹æ¯”æ–°æ—§å€¼åšä¸€äº›æ“ä½œï¼Œä½† React ä¸ç»™ä½ ä¸Šä¸€æ¬¡çš„å€¼ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useRef, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * è·å–ä¸Šä¸€æ¬¡æ¸²æŸ“æ—¶çš„å€¼
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">any</span>} <span class="hljs-variable">value</span> - å½“å‰å€¼
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">any</span>} ä¸Šä¸€æ¬¡çš„å€¼
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">usePrevious</span>(<span class="hljs-params">value</span>) {
Â Â <span class="hljs-keyword">const</span> ref = <span class="hljs-title function_">useRef</span>()

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â ref.<span class="hljs-property">current</span> = value
Â Â }, [value])

Â Â <span class="hljs-comment">// è¿”å›ä¸Šä¸€æ¬¡çš„å€¼ï¼ˆåœ¨ useEffect æ›´æ–°ä¹‹å‰ï¼‰</span>
Â Â <span class="hljs-keyword">return</span> ref.<span class="hljs-property">current</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> usePrevious
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
Â Â <span class="hljs-keyword">const</span> prevCount = <span class="hljs-title function_">usePrevious</span>(count)

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰å€¼ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸Šä¸€æ¬¡ï¼š{prevCount ?? "æ— "}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â Â Â å˜åŒ–è¶‹åŠ¿ï¼š
Â Â Â Â Â Â Â Â {prevCount !== undefined &amp;&amp;
Â Â Â Â Â Â Â Â Â Â (count &gt; prevCount
Â Â Â Â Â Â Â Â Â Â Â Â ? "ğŸ“ˆ ä¸Šå‡"
Â Â Â Â Â Â Â Â Â Â Â Â : count &lt; prevCount
Â Â Â Â Â Â Â Â Â Â Â Â ? "ğŸ“‰ ä¸‹é™"
Â Â Â Â Â Â Â Â Â Â Â Â : "â¡ï¸ ä¸å˜")}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((c) =&gt; c + 1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount((c) =&gt; c - 1)}&gt;-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<p><strong>å®é™…åº”ç”¨ï¼šæ£€æµ‹ props å˜åŒ–</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">UserProfile</span>({ userId }) {
Â Â const prevUserId = <span class="hljs-built_in">usePrevious</span>(userId)
Â Â const <span class="hljs-selector-attr">[user, setUser]</span> = <span class="hljs-built_in">useState</span>(null)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â <span class="hljs-comment">// åªæœ‰å½“ userId çœŸæ­£å˜åŒ–æ—¶æ‰é‡æ–°è¯·æ±‚</span>
Â Â Â Â if (userId !== prevUserId) {
Â Â Â Â Â Â console<span class="hljs-selector-class">.log</span>(`ç”¨æˆ· ID ä» ${prevUserId} å˜ä¸º ${userId}`)
Â Â Â Â Â Â <span class="hljs-built_in">fetchUser</span>(userId)<span class="hljs-selector-class">.then</span>(setUser)
Â Â Â Â }
Â Â }, <span class="hljs-selector-attr">[userId, prevUserId]</span>)

Â Â return &lt;<span class="hljs-selector-tag">div</span>&gt;{user?<span class="hljs-selector-class">.name</span>}&lt;/<span class="hljs-selector-tag">div</span>&gt;
}
</code></pre>
<hr/>
<h3 data-id="heading-11">Hook #7ï¼šuseMediaQuery â€”â€” å“åº”å¼ã®ä¼˜é›…æ–¹æ¡ˆ</h3>
<p><strong>ç—›ç‚¹ï¼š</strong> CSS åª’ä½“æŸ¥è¯¢å¾ˆæ–¹ä¾¿ï¼Œä½† JS é‡Œæƒ³æ ¹æ®å±å¹•å°ºå¯¸åšé€»è¾‘åˆ¤æ–­å°±éº»çƒ¦äº†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">/**
Â * åª’ä½“æŸ¥è¯¢ Hook
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">query</span> - CSS åª’ä½“æŸ¥è¯¢å­—ç¬¦ä¸²
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦åŒ¹é…
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-params">query</span>) {
Â Â <span class="hljs-keyword">const</span> [matches, setMatches] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-comment">// SSR ç¯å¢ƒä¸‹è¿”å› false</span>
Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">"undefined"</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">matchMedia</span>(query).<span class="hljs-property">matches</span>
Â Â })

Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> === <span class="hljs-string">"undefined"</span>) <span class="hljs-keyword">return</span>

Â Â Â Â <span class="hljs-keyword">const</span> mediaQuery = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">matchMedia</span>(query)

Â Â Â Â <span class="hljs-comment">// åˆå§‹åŒ–</span>
Â Â Â Â <span class="hljs-title function_">setMatches</span>(mediaQuery.<span class="hljs-property">matches</span>)

Â Â Â Â <span class="hljs-comment">// ç›‘å¬å˜åŒ–</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">event</span>) =&gt; <span class="hljs-title function_">setMatches</span>(event.<span class="hljs-property">matches</span>)

Â Â Â Â <span class="hljs-comment">// ç°ä»£æµè§ˆå™¨ç”¨ addEventListener</span>
Â Â Â Â <span class="hljs-keyword">if</span> (mediaQuery.<span class="hljs-property">addEventListener</span>) {
Â Â Â Â Â Â mediaQuery.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"change"</span>, handler)
Â Â Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> mediaQuery.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"change"</span>, handler)
Â Â Â Â } <span class="hljs-keyword">else</span> {
Â Â Â Â Â Â <span class="hljs-comment">// å…¼å®¹æ—§æµè§ˆå™¨</span>
Â Â Â Â Â Â mediaQuery.<span class="hljs-title function_">addListener</span>(handler)
Â Â Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> mediaQuery.<span class="hljs-title function_">removeListener</span>(handler)
Â Â Â Â }
Â Â }, [query])

Â Â <span class="hljs-keyword">return</span> matches
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMediaQuery
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ResponsiveComponent</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> isMobile = <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(max-width: 768px)"</span>)
Â Â <span class="hljs-keyword">const</span> isTablet = <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 769px) and (max-width: 1024px)"</span>)
Â Â <span class="hljs-keyword">const</span> isDesktop = <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 1025px)"</span>)
Â Â <span class="hljs-keyword">const</span> prefersDark = <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(prefers-color-scheme: dark)"</span>)

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{prefersDark</span> ? "<span class="hljs-attr">dark-theme</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">light-theme</span>"}&gt;</span>
Â Â Â Â Â Â {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">MobileNav</span> /&gt;</span>}
Â Â Â Â Â Â {isTablet &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">TabletNav</span> /&gt;</span>}
Â Â Â Â Â Â {isDesktop &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">DesktopNav</span> /&gt;</span>}

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â å½“å‰è®¾å¤‡ï¼š{isMobile ? "ğŸ“± æ‰‹æœº" : isTablet ? "ğŸ“± å¹³æ¿" : "ğŸ’» æ¡Œé¢"}
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸»é¢˜åå¥½ï¼š{prefersDark ? "ğŸŒ™ æ·±è‰²" : "â˜€ï¸ æµ…è‰²"}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<p><strong>å°è£…å¸¸ç”¨æ–­ç‚¹ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// hooks/useBreakpoint.js</span>
<span class="hljs-keyword">import</span> useMediaQuery <span class="hljs-keyword">from</span> <span class="hljs-string">"./useMediaQuery"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useBreakpoint</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> breakpoints = {
Â Â Â Â <span class="hljs-attr">xs</span>: <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(max-width: 575px)"</span>),
Â Â Â Â <span class="hljs-attr">sm</span>: <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 576px) and (max-width: 767px)"</span>),
Â Â Â Â <span class="hljs-attr">md</span>: <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 768px) and (max-width: 991px)"</span>),
Â Â Â Â <span class="hljs-attr">lg</span>: <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 992px) and (max-width: 1199px)"</span>),
Â Â Â Â <span class="hljs-attr">xl</span>: <span class="hljs-title function_">useMediaQuery</span>(<span class="hljs-string">"(min-width: 1200px)"</span>),
Â Â }

Â Â <span class="hljs-comment">// è¿”å›å½“å‰æ–­ç‚¹åç§°</span>
Â Â <span class="hljs-keyword">const</span> current =
Â Â Â Â <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(breakpoints).<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">[, matches]</span>) =&gt;</span> matches)?.[<span class="hljs-number">0</span>] || <span class="hljs-string">"xs"</span>

Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â ...breakpoints,
Â Â Â Â current,
Â Â Â Â <span class="hljs-attr">isMobile</span>: breakpoints.<span class="hljs-property">xs</span> || breakpoints.<span class="hljs-property">sm</span>,
Â Â Â Â <span class="hljs-attr">isTablet</span>: breakpoints.<span class="hljs-property">md</span>,
Â Â Â Â <span class="hljs-attr">isDesktop</span>: breakpoints.<span class="hljs-property">lg</span> || breakpoints.<span class="hljs-property">xl</span>,
Â Â }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> { isMobile, isDesktop, current } = <span class="hljs-title function_">useBreakpoint</span>()

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰æ–­ç‚¹ï¼š{current}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
Â Â Â Â Â Â {isMobile ? <span class="hljs-tag">&lt;<span class="hljs-name">MobileLayout</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">DesktopLayout</span> /&gt;</span>}
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<hr/>
<h2 data-id="heading-12">ç¬¬ä¸‰ç« ï¼šHooks ç»„åˆã®è‰ºæœ¯</h2>
<h3 data-id="heading-13">3.1 ç»„åˆå¤šä¸ª Hooks è§£å†³å¤æ‚é—®é¢˜</h3>
<p><strong>åœºæ™¯ï¼š</strong> ä¸€ä¸ªå¸¦æœç´¢ã€åˆ†é¡µã€ç¼“å­˜çš„åˆ—è¡¨ç»„ä»¶</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect, useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>

<span class="hljs-comment">// ç»„åˆä½¿ç”¨å¤šä¸ªè‡ªå®šä¹‰ Hooks</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useSearchableList</span>(<span class="hljs-params">fetchFn, options = {}</span>) {
Â Â <span class="hljs-keyword">const</span> { pageSize = <span class="hljs-number">10</span>, debounceMs = <span class="hljs-number">300</span> } = options

Â Â <span class="hljs-comment">// æœç´¢å…³é”®è¯</span>
Â Â <span class="hljs-keyword">const</span> [searchTerm, setSearchTerm] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>)
Â Â <span class="hljs-keyword">const</span> debouncedSearch = <span class="hljs-title function_">useDebounce</span>(searchTerm, debounceMs)

Â Â <span class="hljs-comment">// åˆ†é¡µ</span>
Â Â <span class="hljs-keyword">const</span> [page, setPage] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>)

Â Â <span class="hljs-comment">// æ•°æ®è¯·æ±‚</span>
Â Â <span class="hljs-keyword">const</span> { data, loading, error, refetch } = <span class="hljs-title function_">useFetch</span>(
Â Â Â Â <span class="hljs-string">`<span class="hljs-subst">${fetchFn}</span>?search=<span class="hljs-subst">${debouncedSearch}</span>&amp;page=<span class="hljs-subst">${page}</span>&amp;pageSize=<span class="hljs-subst">${pageSize}</span>`</span>
Â Â )

Â Â <span class="hljs-comment">// æœç´¢æ—¶é‡ç½®é¡µç </span>
Â Â <span class="hljs-keyword">const</span> prevSearch = <span class="hljs-title function_">usePrevious</span>(debouncedSearch)
Â Â <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">if</span> (prevSearch !== <span class="hljs-literal">undefined</span> &amp;&amp; prevSearch !== debouncedSearch) {
Â Â Â Â Â Â <span class="hljs-title function_">setPage</span>(<span class="hljs-number">1</span>)
Â Â Â Â }
Â Â }, [debouncedSearch, prevSearch])

Â Â <span class="hljs-comment">// è®¡ç®—æ€»é¡µæ•°</span>
Â Â <span class="hljs-keyword">const</span> totalPages = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
Â Â Â Â <span class="hljs-keyword">return</span> data?.<span class="hljs-property">total</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(data.<span class="hljs-property">total</span> / pageSize) : <span class="hljs-number">0</span>
Â Â }, [data?.<span class="hljs-property">total</span>, pageSize])

Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â <span class="hljs-comment">// æ•°æ®</span>
Â Â Â Â <span class="hljs-attr">items</span>: data?.<span class="hljs-property">items</span> || [],
Â Â Â Â <span class="hljs-attr">total</span>: data?.<span class="hljs-property">total</span> || <span class="hljs-number">0</span>,
Â Â Â Â loading,
Â Â Â Â error,

Â Â Â Â <span class="hljs-comment">// æœç´¢</span>
Â Â Â Â searchTerm,
Â Â Â Â setSearchTerm,

Â Â Â Â <span class="hljs-comment">// åˆ†é¡µ</span>
Â Â Â Â page,
Â Â Â Â setPage,
Â Â Â Â totalPages,
Â Â Â Â <span class="hljs-attr">hasNextPage</span>: page &lt; totalPages,
Â Â Â Â <span class="hljs-attr">hasPrevPage</span>: page &gt; <span class="hljs-number">1</span>,

Â Â Â Â <span class="hljs-comment">// æ“ä½œ</span>
Â Â Â Â refetch,
Â Â Â Â <span class="hljs-attr">nextPage</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setPage</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(p + <span class="hljs-number">1</span>, totalPages)),
Â Â Â Â <span class="hljs-attr">prevPage</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setPage</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(p - <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)),
Â Â }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserList</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> {
Â Â Â Â items,
Â Â Â Â loading,
Â Â Â Â error,
Â Â Â Â searchTerm,
Â Â Â Â setSearchTerm,
Â Â Â Â page,
Â Â Â Â totalPages,
Â Â Â Â hasNextPage,
Â Â Â Â hasPrevPage,
Â Â Â Â nextPage,
Â Â Â Â prevPage,
Â Â } = <span class="hljs-title function_">useSearchableList</span>(<span class="hljs-string">"/api/users"</span>, { <span class="hljs-attr">pageSize</span>: <span class="hljs-number">20</span> })

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'user-list'</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">'æœç´¢ç”¨æˆ·...'</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">value</span>=<span class="hljs-string">{searchTerm}</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setSearchTerm(e.target.value)}
Â Â Â Â Â Â /&gt;

Â Â Â Â Â Â {loading &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'loading'</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
Â Â Â Â Â Â {error &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'error'</span>&gt;</span>{error}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
Â Â Â Â Â Â Â Â {items.map((user) =&gt; (
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{user.id}</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â Â Â {user.name} - {user.email}
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
Â Â Â Â Â Â Â Â ))}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'pagination'</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{prevPage}</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{!hasPrevPage}</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â ä¸Šä¸€é¡µ
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â {page} / {totalPages}
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{nextPage}</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{!hasNextPage}</span>&gt;</span>
Â Â Â Â Â Â Â Â Â Â ä¸‹ä¸€é¡µ
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
Â Â )
}
</code></pre>
<h3 data-id="heading-14">3.2 åˆ›å»º Hook å·¥å‚</h3>
<p><strong>åœºæ™¯ï¼š</strong> å¤šä¸ªè¡¨å•éƒ½éœ€è¦ç±»ä¼¼çš„éªŒè¯é€»è¾‘</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
Â * è¡¨å•éªŒè¯ Hook å·¥å‚
Â * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} <span class="hljs-variable">validationRules</span> - éªŒè¯è§„åˆ™
Â * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Function</span>} è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰ Hook
Â */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createFormValidation</span>(<span class="hljs-params">validationRules</span>) {
Â Â <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useFormValidation</span>(<span class="hljs-params">initialValues = {}</span>) {
Â Â Â Â <span class="hljs-keyword">const</span> [values, setValues] = <span class="hljs-title function_">useState</span>(initialValues)
Â Â Â Â <span class="hljs-keyword">const</span> [errors, setErrors] = <span class="hljs-title function_">useState</span>({})
Â Â Â Â <span class="hljs-keyword">const</span> [touched, setTouched] = <span class="hljs-title function_">useState</span>({})

Â Â Â Â <span class="hljs-comment">// éªŒè¯å•ä¸ªå­—æ®µ</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateField</span> = (<span class="hljs-params">name, value</span>) =&gt; {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> rules = validationRules[name]
Â Â Â Â Â Â <span class="hljs-keyword">if</span> (!rules) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>

Â Â Â Â Â Â <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> rule <span class="hljs-keyword">of</span> rules) {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">required</span> &amp;&amp; !value) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> rule.<span class="hljs-property">message</span> || <span class="hljs-string">"æ­¤å­—æ®µå¿…å¡«"</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">minLength</span> &amp;&amp; value.<span class="hljs-property">length</span> &lt; rule.<span class="hljs-property">minLength</span>) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> rule.<span class="hljs-property">message</span> || <span class="hljs-string">`æœ€å°‘ <span class="hljs-subst">${rule.minLength}</span> ä¸ªå­—ç¬¦`</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">maxLength</span> &amp;&amp; value.<span class="hljs-property">length</span> &gt; rule.<span class="hljs-property">maxLength</span>) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> rule.<span class="hljs-property">message</span> || <span class="hljs-string">`æœ€å¤š <span class="hljs-subst">${rule.maxLength}</span> ä¸ªå­—ç¬¦`</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">pattern</span> &amp;&amp; !rule.<span class="hljs-property">pattern</span>.<span class="hljs-title function_">test</span>(value)) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> rule.<span class="hljs-property">message</span> || <span class="hljs-string">"æ ¼å¼ä¸æ­£ç¡®"</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">validate</span> &amp;&amp; !rule.<span class="hljs-title function_">validate</span>(value, values)) {
Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span> rule.<span class="hljs-property">message</span> || <span class="hljs-string">"éªŒè¯å¤±è´¥"</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â }
Â Â Â Â Â Â <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">// éªŒè¯æ‰€æœ‰å­—æ®µ</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">validateAll</span> = (<span class="hljs-params"/>) =&gt; {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> newErrors = {}
Â Â Â Â Â Â <span class="hljs-keyword">let</span> isValid = <span class="hljs-literal">true</span>

Â Â Â Â Â Â <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(validationRules).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">validateField</span>(name, values[name] || <span class="hljs-string">""</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span> (error) {
Â Â Â Â Â Â Â Â Â Â newErrors[name] = error
Â Â Â Â Â Â Â Â Â Â isValid = <span class="hljs-literal">false</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â })

Â Â Â Â Â Â <span class="hljs-title function_">setErrors</span>(newErrors)
Â Â Â Â Â Â <span class="hljs-keyword">return</span> isValid
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">// å¤„ç†è¾“å…¥å˜åŒ–</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = (<span class="hljs-params">name</span>) =&gt; <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-keyword">const</span> value = e.<span class="hljs-property">target</span> ? e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span> : e
Â Â Â Â Â Â <span class="hljs-title function_">setValues</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({ ...prev, [name]: value }))

Â Â Â Â Â Â <span class="hljs-comment">// å®æ—¶éªŒè¯å·²è§¦ç¢°çš„å­—æ®µ</span>
Â Â Â Â Â Â <span class="hljs-keyword">if</span> (touched[name]) {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">validateField</span>(name, value)
Â Â Â Â Â Â Â Â <span class="hljs-title function_">setErrors</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({ ...prev, [name]: error }))
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">// å¤„ç†å¤±ç„¦</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBlur</span> = (<span class="hljs-params">name</span>) =&gt; <span class="hljs-function">() =&gt;</span> {
Â Â Â Â Â Â <span class="hljs-title function_">setTouched</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({ ...prev, [name]: <span class="hljs-literal">true</span> }))
Â Â Â Â Â Â <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">validateField</span>(name, values[name] || <span class="hljs-string">""</span>)
Â Â Â Â Â Â <span class="hljs-title function_">setErrors</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({ ...prev, [name]: error }))
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">// é‡ç½®è¡¨å•</span>
Â Â Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">reset</span> = (<span class="hljs-params"/>) =&gt; {
Â Â Â Â Â Â <span class="hljs-title function_">setValues</span>(initialValues)
Â Â Â Â Â Â <span class="hljs-title function_">setErrors</span>({})
Â Â Â Â Â Â <span class="hljs-title function_">setTouched</span>({})
Â Â Â Â }

Â Â Â Â <span class="hljs-keyword">return</span> {
Â Â Â Â Â Â values,
Â Â Â Â Â Â errors,
Â Â Â Â Â Â touched,
Â Â Â Â Â Â handleChange,
Â Â Â Â Â Â handleBlur,
Â Â Â Â Â Â validateAll,
Â Â Â Â Â Â reset,
Â Â Â Â Â Â <span class="hljs-attr">isValid</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>,
Â Â Â Â Â Â <span class="hljs-attr">getFieldProps</span>: <span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> ({
Â Â Â Â Â Â Â Â <span class="hljs-attr">value</span>: values[name] || <span class="hljs-string">""</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">onChange</span>: <span class="hljs-title function_">handleChange</span>(name),
Â Â Â Â Â Â Â Â <span class="hljs-attr">onBlur</span>: <span class="hljs-title function_">handleBlur</span>(name),
Â Â Â Â Â Â }),
Â Â Â Â }
Â Â }
}

<span class="hljs-comment">// åˆ›å»ºç™»å½•è¡¨å•éªŒè¯ Hook</span>
<span class="hljs-keyword">const</span> useLoginForm = <span class="hljs-title function_">createFormValidation</span>({
Â Â <span class="hljs-attr">email</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±"</span> },
Â Â Â Â { <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[^\s@]+@[^\s@]+.[^\s@]+$/</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span> },
Â Â ],
Â Â <span class="hljs-attr">password</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span> },
Â Â Â Â { <span class="hljs-attr">minLength</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"å¯†ç è‡³å°‘ 6 ä½"</span> },
Â Â ],
})

<span class="hljs-comment">// åˆ›å»ºæ³¨å†Œè¡¨å•éªŒè¯ Hook</span>
<span class="hljs-keyword">const</span> useRegisterForm = <span class="hljs-title function_">createFormValidation</span>({
Â Â <span class="hljs-attr">username</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·è¾“å…¥ç”¨æˆ·å"</span> },
Â Â Â Â { <span class="hljs-attr">minLength</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"ç”¨æˆ·åè‡³å°‘ 3 ä¸ªå­—ç¬¦"</span> },
Â Â Â Â { <span class="hljs-attr">maxLength</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"ç”¨æˆ·åæœ€å¤š 20 ä¸ªå­—ç¬¦"</span> },
Â Â ],
Â Â <span class="hljs-attr">email</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±"</span> },
Â Â Â Â { <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[^\s@]+@[^\s@]+.[^\s@]+$/</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"</span> },
Â Â ],
Â Â <span class="hljs-attr">password</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·è¾“å…¥å¯†ç "</span> },
Â Â Â Â { <span class="hljs-attr">minLength</span>: <span class="hljs-number">8</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"å¯†ç è‡³å°‘ 8 ä½"</span> },
Â Â Â Â {
Â Â Â Â Â Â <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/</span>,
Â Â Â Â Â Â <span class="hljs-attr">message</span>: <span class="hljs-string">"éœ€åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—"</span>,
Â Â Â Â },
Â Â ],
Â Â <span class="hljs-attr">confirmPassword</span>: [
Â Â Â Â { <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·ç¡®è®¤å¯†ç "</span> },
Â Â Â Â {
Â Â Â Â Â Â <span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">value, values</span>) =&gt;</span> value === values.<span class="hljs-property">password</span>,
Â Â Â Â Â Â <span class="hljs-attr">message</span>: <span class="hljs-string">"ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´"</span>,
Â Â Â Â },
Â Â ],
})

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginForm</span>(<span class="hljs-params"/>) {
Â Â <span class="hljs-keyword">const</span> { values, errors, touched, getFieldProps, validateAll } = <span class="hljs-title function_">useLoginForm</span>()

Â Â <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">e</span>) =&gt; {
Â Â Â Â e.<span class="hljs-title function_">preventDefault</span>()
Â Â Â Â <span class="hljs-keyword">if</span> (<span class="hljs-title function_">validateAll</span>()) {
Â Â Â Â Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æäº¤:"</span>, values)
Â Â Â Â Â Â <span class="hljs-comment">// å‘èµ·ç™»å½•è¯·æ±‚...</span>
Â Â Â Â }
Â Â }

Â Â <span class="hljs-keyword">return</span> (
Â Â Â Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-group'</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'email'</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">'é‚®ç®±'</span> {<span class="hljs-attr">...getFieldProps</span>("<span class="hljs-attr">email</span>")} /&gt;</span>
Â Â Â Â Â Â Â Â {touched.email &amp;&amp; errors.email &amp;&amp; (
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'error'</span>&gt;</span>{errors.email}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'form-group'</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">type</span>=<span class="hljs-string">'password'</span>
Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">'å¯†ç '</span>
Â Â Â Â Â Â Â Â Â Â {<span class="hljs-attr">...getFieldProps</span>("<span class="hljs-attr">password</span>")}
Â Â Â Â Â Â Â Â /&gt;</span>
Â Â Â Â Â Â Â Â {touched.password &amp;&amp; errors.password &amp;&amp; (
Â Â Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'error'</span>&gt;</span>{errors.password}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
Â Â Â Â Â Â Â Â )}
Â Â Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'submit'</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
Â Â )
}
</code></pre>
<hr/>
<h2 data-id="heading-15">ç¬¬å››ç« ï¼šé¿å‘æŒ‡å—</h2>
<h3 data-id="heading-16">4.1 å¸¸è§é”™è¯¯ #1ï¼šåœ¨æ¡ä»¶è¯­å¥ä¸­è°ƒç”¨ Hook</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¡ä»¶è°ƒç”¨ Hook</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadComponent</span>(<span class="hljs-params">{ shouldFetch }</span>) {
Â Â <span class="hljs-keyword">if</span> (shouldFetch) {
Â Â Â Â <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">"/api/data"</span>) <span class="hljs-comment">// ğŸ’¥ æŠ¥é”™ï¼</span>
Â Â }
Â Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šHook å§‹ç»ˆè°ƒç”¨ï¼Œç”¨å‚æ•°æ§åˆ¶è¡Œä¸º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoodComponent</span>(<span class="hljs-params">{ shouldFetch }</span>) {
Â Â <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">"/api/data"</span>, { <span class="hljs-attr">enabled</span>: shouldFetch })
Â Â <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-17">4.2 å¸¸è§é”™è¯¯ #2ï¼šå¿˜è®°ä¾èµ–é¡¹</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç¼ºå°‘ä¾èµ–é¡¹ï¼Œcallback æ°¸è¿œæ˜¯æ—§çš„</span>
function <span class="hljs-built_in">BadHook</span>(callback) {
Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â window<span class="hljs-selector-class">.addEventListener</span>("resize", callback)
Â Â Â Â return () =&gt; window<span class="hljs-selector-class">.removeEventListener</span>("resize", callback)
Â Â }, <span class="hljs-selector-attr">[]</span>) <span class="hljs-comment">// callback å˜äº†ä¹Ÿä¸ä¼šæ›´æ–°ï¼</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ ref ä¿æŒæœ€æ–°å¼•ç”¨</span>
function <span class="hljs-built_in">GoodHook</span>(callback) {
Â Â const callbackRef = <span class="hljs-built_in">useRef</span>(callback)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â callbackRef<span class="hljs-selector-class">.current</span> = callback
Â Â }, <span class="hljs-selector-attr">[callback]</span>)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â const handler = (...args) =&gt; callbackRef<span class="hljs-selector-class">.current</span>(...args)
Â Â Â Â window<span class="hljs-selector-class">.addEventListener</span>("resize", handler)
Â Â Â Â return () =&gt; window<span class="hljs-selector-class">.removeEventListener</span>("resize", handler)
Â Â }, <span class="hljs-selector-attr">[]</span>)
}
</code></pre>
<h3 data-id="heading-18">4.3 å¸¸è§é”™è¯¯ #3ï¼šé—­åŒ…é™·é˜±</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šcount æ°¸è¿œæ˜¯ 0</span>
function <span class="hljs-built_in">BadCounter</span>() {
Â Â const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â const timer = <span class="hljs-built_in">setInterval</span>(() =&gt; {
Â Â Â Â Â Â console<span class="hljs-selector-class">.log</span>(count) <span class="hljs-comment">// æ°¸è¿œæ‰“å° 0</span>
Â Â Â Â Â Â <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>) <span class="hljs-comment">// æ°¸è¿œè®¾ç½®ä¸º 1</span>
Â Â Â Â }, <span class="hljs-number">1000</span>)
Â Â Â Â return () =&gt; <span class="hljs-built_in">clearInterval</span>(timer)
Â Â }, <span class="hljs-selector-attr">[]</span>) <span class="hljs-comment">// ç©ºä¾èµ–ï¼Œcount è¢«é—­åŒ…æ•è·</span>

Â Â return &lt;<span class="hljs-selector-tag">div</span>&gt;{count}&lt;/<span class="hljs-selector-tag">div</span>&gt;
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°</span>
function <span class="hljs-built_in">GoodCounter</span>() {
Â Â const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â const timer = <span class="hljs-built_in">setInterval</span>(() =&gt; {
Â Â Â Â Â Â <span class="hljs-built_in">setCount</span>((c) =&gt; c + <span class="hljs-number">1</span>) <span class="hljs-comment">// å‡½æ•°å¼æ›´æ–°ï¼Œä¸ä¾èµ–å¤–éƒ¨ count</span>
Â Â Â Â }, <span class="hljs-number">1000</span>)
Â Â Â Â return () =&gt; <span class="hljs-built_in">clearInterval</span>(timer)
Â Â }, <span class="hljs-selector-attr">[]</span>)

Â Â return &lt;<span class="hljs-selector-tag">div</span>&gt;{count}&lt;/<span class="hljs-selector-tag">div</span>&gt;
}
</code></pre>
<h3 data-id="heading-19">4.4 å¸¸è§é”™è¯¯ #4ï¼šæ— é™å¾ªç¯</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å¯¹è±¡ï¼Œå¯¼è‡´æ— é™å¾ªç¯</span>
function <span class="hljs-built_in">BadComponent</span>() {
Â Â const <span class="hljs-selector-attr">[data, setData]</span> = <span class="hljs-built_in">useState</span>(null)

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â <span class="hljs-built_in">fetch</span>("/api/data")
Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>((res) =&gt; res<span class="hljs-selector-class">.json</span>())
Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>(setData)
Â Â }, <span class="hljs-selector-attr">[{ page: 1 }]</span>) <span class="hljs-comment">// æ¯æ¬¡éƒ½æ˜¯æ–°å¯¹è±¡ï¼æ— é™å¾ªç¯ï¼</span>

Â Â return &lt;<span class="hljs-selector-tag">div</span>&gt;{data}&lt;/<span class="hljs-selector-tag">div</span>&gt;
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨åŸå§‹å€¼æˆ– useMemo</span>
function <span class="hljs-built_in">GoodComponent</span>() {
Â Â const <span class="hljs-selector-attr">[data, setData]</span> = <span class="hljs-built_in">useState</span>(null)
Â Â const page = <span class="hljs-number">1</span>

Â Â <span class="hljs-built_in">useEffect</span>(() =&gt; {
Â Â Â Â <span class="hljs-built_in">fetch</span>(`/api/data?page=${page}`)
Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>((res) =&gt; res<span class="hljs-selector-class">.json</span>())
Â Â Â Â Â Â <span class="hljs-selector-class">.then</span>(setData)
Â Â }, <span class="hljs-selector-attr">[page]</span>) <span class="hljs-comment">// åŸå§‹å€¼ï¼Œä¸ä¼šæ— é™å¾ªç¯</span>

Â Â return &lt;<span class="hljs-selector-tag">div</span>&gt;{data}&lt;/<span class="hljs-selector-tag">div</span>&gt;
}
</code></pre>
<hr/>
<h2 data-id="heading-20">å†™åœ¨æœ€åï¼šHook çš„å“²å­¦</h2>
<p>è‡ªå®šä¹‰ Hooks ä¸åªæ˜¯ä»£ç å¤ç”¨çš„å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ï¼š</p>
<p><strong>1. å…³æ³¨ç‚¹åˆ†ç¦»</strong></p>
<ul>
<li>ç»„ä»¶è´Ÿè´£"é•¿ä»€ä¹ˆæ ·"ï¼ˆUIï¼‰</li>
<li>Hook è´Ÿè´£"æ€ä¹ˆå·¥ä½œ"ï¼ˆé€»è¾‘ï¼‰</li>
</ul>
<p><strong>2. ç»„åˆä¼˜äºç»§æ‰¿</strong></p>
<ul>
<li>å°è€Œä¸“æ³¨çš„ Hook å¯ä»¥è‡ªç”±ç»„åˆ</li>
<li>æ¯” HOC å’Œ Render Props æ›´çµæ´»</li>
</ul>
<p><strong>3. å£°æ˜å¼æ€ç»´</strong></p>
<ul>
<li>æè¿°"è¦ä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯"æ€ä¹ˆåš"</li>
<li><code>useDebounce(value, 500)</code> æ¯”æ‰‹å†™ setTimeout æ¸…æ™° 100 å€</li>
</ul>
<p><strong>æœ€åï¼Œé€ä½ ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p>"å¥½çš„ä»£ç ä¸æ˜¯å†™å‡ºæ¥çš„ï¼Œæ˜¯åˆ å‡ºæ¥çš„ã€‚"</p>
<p>å½“ä½ å‘ç°è‡ªå·±åœ¨ copy-paste æ—¶ï¼Œå°±æ˜¯è¯¥å†™è‡ªå®šä¹‰ Hook çš„æ—¶å€™äº†ã€‚</p>
</blockquote>
<hr/>
<blockquote>
<p>ğŸ’¬ <strong>äº’åŠ¨æ—¶é—´</strong>ï¼šä½ åœ¨é¡¹ç›®ä¸­å°è£…è¿‡å“ªäº›å¥½ç”¨çš„è‡ªå®šä¹‰ Hooksï¼Ÿè¯„è®ºåŒºåˆ†äº«ä¸€ä¸‹ï¼Œè®©å¤§å®¶ä¸€èµ·"å·æ‡’"ï¼</p>
<p>è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰ç”¨ï¼Ÿ<strong>ç‚¹èµ + åœ¨çœ‹ + è½¬å‘</strong>ï¼Œè®©æ›´å¤š React å¼€å‘è€…æ—©ç‚¹ä¸‹ç­ï½</p>
</blockquote>
<hr/>
<p><em>æœ¬æ–‡ä½œè€…æ˜¯ä¸€ä¸ªé è‡ªå®šä¹‰ Hooks å®ç°å‡†æ—¶ä¸‹ç­çš„å‰ç«¯å¼€å‘ã€‚å…³æ³¨æˆ‘ï¼Œä¸€èµ·ç”¨æ›´å°‘çš„ä»£ç ï¼Œå†™æ›´å¥½çš„åº”ç”¨ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Goè¯­è¨€æ ¸å¿ƒä¸‰å‰‘å®¢ï¼šæ•°ç»„ã€åˆ‡ç‰‡ä¸ç»“æ„ä½“ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592438587388543014</link>    <guid>https://juejin.cn/post/7592438587388543014</guid>    <pubDate>2026-01-07T09:18:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587388543014" data-draft-id="7592361736130887690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Goè¯­è¨€æ ¸å¿ƒä¸‰å‰‘å®¢ï¼šæ•°ç»„ã€åˆ‡ç‰‡ä¸ç»“æ„ä½“ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="Go,åç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:18:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="starkå¼ å®‡"/> <meta itemprop="url" content="https://juejin.cn/user/1983974643871069"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Goè¯­è¨€æ ¸å¿ƒä¸‰å‰‘å®¢ï¼šæ•°ç»„ã€åˆ‡ç‰‡ä¸ç»“æ„ä½“ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1983974643871069/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    starkå¼ å®‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:18:38.000Z" title="Wed Jan 07 2026 09:18:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¯ å­¦ä¹ ç›®æ ‡</h2>
<p>å®Œæˆæœ¬è¯¾ç¨‹åï¼Œå­¦ä¹ è€…å°†èƒ½å¤Ÿï¼š</p>
<ul>
<li>
<p>Goè¯­è¨€ä¸­æ•°ç»„ï¼ˆArrayï¼‰å’Œåˆ‡ç‰‡ï¼ˆSliceï¼‰çš„å®šä¹‰æ–¹å¼ã€æ•°ç»„å’Œåˆ‡ç‰‡çš„åŒºåˆ«</p>
</li>
<li>
<p>åˆ‡ç‰‡ï¼ˆSliceï¼‰çš„åº•å±‚å­˜å‚¨åŸç†å’Œæ‰©å®¹æ–¹å¼è®¡ç®—</p>
</li>
<li>
<p>ç»“æ„ä½“ï¼ˆstructï¼‰çš„å®šä¹‰å’Œä½¿ç”¨</p>
</li>
<li>
<p>åŒ…ï¼ˆpackageï¼‰çš„å¯¼å…¥ modulesã€è®¾ç½®å›½å†…ä»£ç†</p>
</li>
</ul>
<h3 data-id="heading-1">ä¸€ã€Go è¯­è¨€ä¸­æ•°ç»„ï¼ˆArrayï¼‰çš„å®šä¹‰æ–¹å¼</h3>
<p>æ•°ç»„æ˜¯<strong>å›ºå®šé•¿åº¦ã€åŒç±»å‹</strong>çš„å…ƒç´ åºåˆ—ï¼Œé•¿åº¦æ˜¯æ•°ç»„ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œç¼–è¯‘æœŸç¡®å®šï¼Œä¸å¯åŠ¨æ€æ‰©å®¹ã€‚</p>
<h4 data-id="heading-2">1. åŸºæœ¬å®šä¹‰ï¼ˆæŒ‡å®šé•¿åº¦ + ç±»å‹ï¼‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å®šä¹‰é•¿åº¦ä¸º5çš„intæ•°ç»„ï¼Œå…ƒç´ åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆ0ï¼‰</span>
<span class="hljs-keyword">var</span> arr1 [<span class="hljs-number">5</span>]<span class="hljs-type">int</span>

<span class="hljs-comment">// å®šä¹‰é•¿åº¦ä¸º3çš„stringæ•°ç»„ï¼Œæ˜¾å¼åˆå§‹åŒ–</span>
<span class="hljs-keyword">var</span> arr2 [<span class="hljs-number">3</span>]<span class="hljs-type">string</span> = [<span class="hljs-number">3</span>]<span class="hljs-type">string</span>{<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>}

<span class="hljs-comment">// ç±»å‹æ¨å¯¼ï¼ˆçœç•¥ç­‰å·å³ä¾§ç±»å‹ï¼‰</span>
<span class="hljs-keyword">var</span> arr3 = [<span class="hljs-number">3</span>]<span class="hljs-type">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>}
</code></pre>
<h4 data-id="heading-3">2. è‡ªåŠ¨æ¨å¯¼é•¿åº¦ï¼ˆ<code>...</code>ï¼‰</h4>
<p>é€šè¿‡åˆå§‹åŒ–å€¼çš„æ•°é‡è‡ªåŠ¨ç¡®å®šæ•°ç»„é•¿åº¦ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é•¿åº¦ä¸º4çš„intæ•°ç»„ï¼ˆæ ¹æ®åˆå§‹åŒ–å…ƒç´ ä¸ªæ•°æ¨å¯¼ï¼‰</span>
<span class="hljs-keyword">var</span> arr4 = [...]<span class="hljs-type">int</span>{<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>}

<span class="hljs-comment">// é•¿åº¦ä¸º5çš„æ•°ç»„ï¼ŒæŒ‡å®šç´¢å¼•åˆå§‹åŒ–ï¼ˆæœªæŒ‡å®šçš„ç´¢å¼•ä¸ºé›¶å€¼ï¼‰</span>
<span class="hljs-keyword">var</span> arr5 = [...]<span class="hljs-type">int</span>{<span class="hljs-number">0</span>: <span class="hljs-number">1</span>, <span class="hljs-number">3</span>: <span class="hljs-number">4</span>, <span class="hljs-number">4</span>: <span class="hljs-number">5</span>} <span class="hljs-comment">// [1, 0, 0, 4, 5]</span>
</code></pre>
<h4 data-id="heading-4">3. ç®€çŸ­å£°æ˜ï¼ˆä»…å±€éƒ¨ä½œç”¨åŸŸï¼‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 Â  Â arr6 := [<span class="hljs-number">2</span>]<span class="hljs-type">bool</span>{<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>} <span class="hljs-comment">// é•¿åº¦2çš„boolæ•°ç»„</span>
}
</code></pre>
<h3 data-id="heading-5">äºŒã€Go è¯­è¨€ä¸­åˆ‡ç‰‡ï¼ˆSliceï¼‰çš„å®šä¹‰æ–¹å¼</h3>
<p>åˆ‡ç‰‡æ˜¯<strong>åŠ¨æ€é•¿åº¦</strong>çš„æ•°ç»„è§†å›¾ï¼Œåº•å±‚æŒ‡å‘ä¸€ä¸ªæ•°ç»„ï¼ˆç§°ä¸ºåº•å±‚æ•°ç»„ï¼‰ï¼ŒåŒ…å«ï¼šæŒ‡é’ˆï¼ˆæŒ‡å‘åº•å±‚æ•°ç»„ï¼‰ã€é•¿åº¦ï¼ˆlenï¼‰ã€å®¹é‡ï¼ˆcapï¼‰ã€‚åˆ‡ç‰‡æœ¬èº«ä¸å­˜å‚¨æ•°æ®ï¼Œä»…æè¿°åº•å±‚æ•°ç»„çš„ä¸€æ®µã€‚</p>
<h4 data-id="heading-6">1. åŸºæœ¬å®šä¹‰ï¼ˆç©ºåˆ‡ç‰‡ / é›¶å€¼åˆ‡ç‰‡ï¼‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é›¶å€¼åˆ‡ç‰‡ï¼šnilï¼Œlen=0ï¼Œcap=0ï¼Œæ— åº•å±‚æ•°ç»„</span>
<span class="hljs-keyword">var</span> s1 []<span class="hljs-type">int</span>

<span class="hljs-comment">// ç©ºåˆ‡ç‰‡ï¼šlen=0ï¼Œcap=0ï¼Œåº•å±‚æ•°ç»„ä¸ºç©ºï¼ˆénilï¼‰</span>
<span class="hljs-keyword">var</span> s2 []<span class="hljs-type">string</span> = []<span class="hljs-type">string</span>{}
<span class="hljs-keyword">var</span> s3 = []<span class="hljs-type">int</span>{}
s4 := []<span class="hljs-type">bool</span>{}
</code></pre>
<h4 data-id="heading-7">2. åŸºäºæ•°ç»„ / åˆ‡ç‰‡æˆªå–ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>è¯­æ³•ï¼š<code>[èµ·å§‹ç´¢å¼•:ç»“æŸç´¢å¼•]</code>ï¼ˆå·¦é—­å³å¼€ï¼Œç»“æŸç´¢å¼•çœç•¥åˆ™åˆ°æœ«å°¾ï¼Œèµ·å§‹ç´¢å¼•çœç•¥åˆ™ä» 0 å¼€å§‹ï¼‰</p>
<pre><code class="hljs language-go" lang="go">arr := [<span class="hljs-number">5</span>]<span class="hljs-type">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>}

<span class="hljs-comment">// æˆªå–æ•°ç»„çš„[1,3)åŒºé—´ï¼Œs5 = [2,3]ï¼Œlen=2ï¼Œcap=4ï¼ˆä»ç´¢å¼•1åˆ°æ•°ç»„æœ«å°¾ï¼‰</span>
s5 := arr[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>]

<span class="hljs-comment">// æˆªå–å…¨éƒ¨ï¼šs6 = [1,2,3,4,5]ï¼Œlen=5ï¼Œcap=5</span>
s6 := arr[:]

<span class="hljs-comment">// ä»ç´¢å¼•2åˆ°æœ«å°¾ï¼šs7 = [3,4,5]ï¼Œlen=3ï¼Œcap=3</span>
s7 := arr[<span class="hljs-number">2</span>:]

<span class="hljs-comment">// ä»å¼€å¤´åˆ°ç´¢å¼•3ï¼šs8 = [1,2,3]ï¼Œlen=3ï¼Œcap=5</span>
s8 := arr[:<span class="hljs-number">3</span>]

<span class="hljs-comment">// åˆ‡ç‰‡æˆªå–åˆ‡ç‰‡</span>
s9 := s5[<span class="hljs-number">0</span>:<span class="hljs-number">1</span>] <span class="hljs-comment">// s9 = [2]ï¼Œlen=1ï¼Œcap=4</span>
</code></pre>
<h4 data-id="heading-8">3. <code>make</code>å‡½æ•°åˆ›å»ºï¼ˆæŒ‡å®šé•¿åº¦ / å®¹é‡ï¼‰</h4>
<p>è¯­æ³•ï¼šmake([]T, len, cap)ï¼ˆcap å¯é€‰ï¼Œé»˜è®¤ç­‰äº lenï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é•¿åº¦3ï¼Œå®¹é‡3ï¼Œå…ƒç´ åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆ0ï¼‰</span>
s10 := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">3</span>) <span class="hljs-comment">// len=3, cap=3, [0,0,0]</span>

<span class="hljs-comment">// é•¿åº¦2ï¼Œå®¹é‡5ï¼Œå…ƒç´ åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼ˆ""ï¼‰</span>
s11 := <span class="hljs-built_in">make</span>([]<span class="hljs-type">string</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// len=2, cap=5, ["", ""]</span>
</code></pre>
<h4 data-id="heading-9">4. ç›´æ¥åˆå§‹åŒ–ï¼ˆå­—é¢é‡ï¼‰</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// é•¿åº¦3ï¼Œå®¹é‡3ï¼Œå…ƒç´ [10,20,30]</span>
s12 := []<span class="hljs-type">int</span>{<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>}

<span class="hljs-comment">// æŒ‡å®šç´¢å¼•åˆå§‹åŒ–ï¼Œlen=5ï¼ˆæœ€å¤§ç´¢å¼•+1ï¼‰ï¼Œcap=5</span>
s13 := []<span class="hljs-type">int</span>{<span class="hljs-number">0</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">3</span>, <span class="hljs-number">4</span>: <span class="hljs-number">5</span>} <span class="hljs-comment">// [1,0,3,0,5]</span>
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€æ•°ç»„ä¸åˆ‡ç‰‡çš„æ ¸å¿ƒåŒºåˆ«</h3>













































<table><thead><tr><th>ç‰¹æ€§</th><th>æ•°ç»„ï¼ˆArrayï¼‰</th><th>åˆ‡ç‰‡ï¼ˆSliceï¼‰</th></tr></thead><tbody><tr><td>é•¿åº¦ç‰¹æ€§</td><td>é•¿åº¦å›ºå®šï¼Œæ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼ˆå¦‚<code>[5]int</code>å’Œ<code>[3]int</code>æ˜¯ä¸åŒç±»å‹ï¼‰</td><td>é•¿åº¦åŠ¨æ€ï¼Œå¯é€šè¿‡<code>append</code>æ‰©å®¹ï¼Œç±»å‹ä»…ä¸å…ƒç´ æœ‰å…³ï¼ˆå¦‚<code>[]int</code>ï¼‰</td></tr><tr><td>å†…å­˜å­˜å‚¨</td><td>ç›´æ¥å­˜å‚¨å…ƒç´ ï¼Œå€¼ç±»å‹ï¼ˆèµ‹å€¼ / ä¼ å‚æ—¶æ‹·è´æ•´ä¸ªæ•°ç»„ï¼‰</td><td>ä»…å­˜å‚¨æŒ‡é’ˆã€lenã€capï¼Œå¼•ç”¨ç±»å‹ï¼ˆèµ‹å€¼ / ä¼ å‚æ—¶æ‹·è´åˆ‡ç‰‡ç»“æ„ä½“ï¼Œåº•å±‚æ•°ç»„å…±äº«ï¼‰</td></tr><tr><td>å®¹é‡ï¼ˆcapï¼‰</td><td>å®¹é‡ = é•¿åº¦ï¼Œä¸å¯å˜</td><td>å®¹é‡â‰¥é•¿åº¦ï¼Œå¯é€šè¿‡<code>append</code>è‡ªåŠ¨æ‰©å®¹ï¼ˆåº•å±‚æ•°ç»„æ›¿æ¢ï¼‰</td></tr><tr><td>é›¶å€¼</td><td>æ•°ç»„é›¶å€¼æ˜¯æ¯ä¸ªå…ƒç´ ä¸ºå¯¹åº”ç±»å‹é›¶å€¼ï¼ˆå¦‚<code>[3]int</code>é›¶å€¼æ˜¯<code>[0,0,0]</code>ï¼‰</td><td>åˆ‡ç‰‡é›¶å€¼æ˜¯<code>nil</code>ï¼ˆlen=0ï¼Œcap=0ï¼Œæ— åº•å±‚æ•°ç»„ï¼‰</td></tr><tr><td>æ‰©å®¹èƒ½åŠ›</td><td>æ— ï¼Œåªèƒ½é‡æ–°åˆ›å»ºæ–°æ•°ç»„</td><td>æ”¯æŒ<code>append</code>æ‰©å®¹ï¼Œæ‰©å®¹è§„åˆ™ï¼š- åŸ cap&lt;1024ï¼šæ–° cap=2<em>åŸ cap- åŸ capâ‰¥1024ï¼šæ–° capâ‰ˆ1.25</em>åŸ cap</td></tr><tr><td>æ¯”è¾ƒæ“ä½œ</td><td>åŒç±»å‹æ•°ç»„å¯ç›´æ¥ç”¨<code>==</code>æ¯”è¾ƒï¼ˆå…ƒç´ å…¨éƒ¨ç›¸ç­‰åˆ™ç›¸ç­‰ï¼‰</td><td>åˆ‡ç‰‡ä¸èƒ½ç›´æ¥ç”¨<code>==</code>æ¯”è¾ƒï¼ˆä»…<code>nil == nil</code>ï¼‰ï¼Œéœ€æ‰‹åŠ¨éå†å…ƒç´ æ¯”è¾ƒ</td></tr><tr><td>åº•å±‚ä¾èµ–</td><td>æ— ä¾èµ–ï¼Œè‡ªèº«å°±æ˜¯å­˜å‚¨è½½ä½“</td><td>ä¾èµ–åº•å±‚æ•°ç»„ï¼Œåˆ‡ç‰‡æ˜¯åº•å±‚æ•°ç»„çš„ â€œè§†å›¾â€</td></tr></tbody></table>
<h3 data-id="heading-11">å››ã€ç¤ºä¾‹ï¼šç›´è§‚ç†è§£åŒºåˆ«</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 Â  Â <span class="hljs-comment">// æ•°ç»„ï¼šé•¿åº¦å›ºå®šï¼Œå€¼æ‹·è´</span>
 Â  Â arr := [<span class="hljs-number">3</span>]<span class="hljs-type">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>}
 Â  Â arrCopy := arr
 Â  Â arrCopy[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>
 Â  Â fmt.Println(arr) Â  Â  <span class="hljs-comment">// [1 2 3]ï¼ˆåŸæ•°ç»„ä¸å˜ï¼‰</span>
 Â  Â fmt.Println(arrCopy) <span class="hljs-comment">// [100 2 3]</span>
    
 Â  Â <span class="hljs-comment">// åˆ‡ç‰‡ï¼šå¼•ç”¨ç±»å‹ï¼Œå…±äº«åº•å±‚æ•°ç»„</span>
 Â  Â s := arr[:]
 Â  Â sCopy := s
 Â  Â sCopy[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>
 Â  Â fmt.Println(arr) Â <span class="hljs-comment">// [100 2 3]ï¼ˆåŸæ•°ç»„è¢«ä¿®æ”¹ï¼‰</span>
 Â  Â fmt.Println(s) Â  Â <span class="hljs-comment">// [100 2 3]</span>
 Â  Â fmt.Println(sCopy)<span class="hljs-comment">// [100 2 3]</span>

 Â  Â <span class="hljs-comment">// åˆ‡ç‰‡æ‰©å®¹ï¼šåº•å±‚æ•°ç»„æ›¿æ¢</span>
 Â  Â s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">4</span>)
 Â  Â s[<span class="hljs-number">0</span>] = <span class="hljs-number">200</span>
 Â  Â fmt.Println(arr) Â <span class="hljs-comment">// [100 2 3]ï¼ˆåŸæ•°ç»„ä¸å˜ï¼Œæ‰©å®¹ååº•å±‚æ•°ç»„å·²æ›¿æ¢ï¼‰</span>
 Â  Â fmt.Println(s) Â  Â <span class="hljs-comment">// [200 2 3 4]</span>
}
</code></pre>
<h3 data-id="heading-12">äº”ã€åˆ‡ç‰‡çš„åº•å±‚å­˜å‚¨</h3>
<p>æŒæ¡ Go åˆ‡ç‰‡æ ¸å¿ƒç‰¹æ€§ï¼ˆæ¯”å¦‚æ‰©å®¹ã€å¼•ç”¨ä¼ é€’ï¼‰çš„å…³é”®ï¼Œææ¸…æ¥šåˆ‡ç‰‡åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å­˜å‚¨ã€åˆ†é…å’Œç®¡ç†æ•°æ®ã€‚</p>
<p>åˆ‡ç‰‡ä¸æ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œè€Œæ˜¯å¯¹<strong>åº•å±‚æ•°ç»„ï¼ˆunderlying arrayï¼‰</strong> çš„å°è£…å’Œå¼•ç”¨ã€‚å¯ä»¥æŠŠåˆ‡ç‰‡ç†è§£ä¸º â€œå¸¦äº†é•¿åº¦å’Œå®¹é‡ä¿¡æ¯çš„æ•°ç»„æŒ‡é’ˆâ€ï¼Œå®ƒæœ¬èº«ä¸å­˜å‚¨æ•°æ®ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜åœ¨åº•å±‚æ•°ç»„ä¸­ã€‚</p>
<p>Go çš„è¿è¡Œæ—¶æºç ä¸­ï¼Œåˆ‡ç‰‡è¢«å®šä¹‰ä¸º <code>reflect.SliceHeader</code> ç»“æ„ä½“ï¼ˆä½äº <code>reflect</code> åŒ…ï¼‰ï¼Œæ ¸å¿ƒåŒ…å« 3 ä¸ªå­—æ®µï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> SliceHeader <span class="hljs-keyword">struct</span> {
 Â   Data <span class="hljs-type">uintptr</span> <span class="hljs-comment">// æŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼ˆå†…å­˜åœ°å€ï¼‰</span>
 Â   Len  <span class="hljs-type">int</span> Â  Â  <span class="hljs-comment">// åˆ‡ç‰‡çš„é•¿åº¦ï¼šå½“å‰å¯è®¿é—®çš„å…ƒç´ ä¸ªæ•°</span>
 Â   Cap  <span class="hljs-type">int</span> Â  Â  <span class="hljs-comment">// åˆ‡ç‰‡çš„å®¹é‡ï¼šä»æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®å¼€å§‹ï¼Œåº•å±‚æ•°ç»„å‰©ä½™çš„å…ƒç´ æ€»æ•°</span>
}
</code></pre>
<h4 data-id="heading-13">å†…å­˜å¸ƒå±€ç¤ºä¾‹</h4>
<p>æ¯”å¦‚åˆ›å»ºåˆ‡ç‰‡ <code>s := []int{1,2,3,4}</code>ï¼Œå…¶å†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go">åˆ‡ç‰‡sï¼ˆSliceHeaderï¼‰ Â  Â  Â   åº•å±‚æ•°ç»„
+---------+---------+---------+ Â   +---+---+---+---+
| Data Â   | Len=<span class="hljs-number">4</span> Â  | Cap=<span class="hljs-number">4</span> Â  | -&gt; | <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> |
+---------+---------+---------+ Â   +---+---+---+---+
</code></pre>
<p>å¦‚æœå¯¹åˆ‡ç‰‡æˆªå– <code>s2 := s[1:3]</code>ï¼Œå†…å­˜å¸ƒå±€å˜ä¸ºï¼š</p>
<pre><code class="hljs language-go" lang="go">åˆ‡ç‰‡sï¼ˆåŸï¼‰ Â  Â  Â  Â  Â  Â  Â   åº•å±‚æ•°ç»„
+---------+---------+---------+ Â   +---+---+---+---+
| Data-&gt;<span class="hljs-number">1</span> | Len=<span class="hljs-number">4</span> Â  | Cap=<span class="hljs-number">4</span> Â  | Â   | <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> |
+---------+---------+---------+ Â   +---+---+---+---+
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   ^
åˆ‡ç‰‡s2ï¼ˆæ–°ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   |
+---------+---------+---------+ Â  Â  Â  |
| Data-&gt;<span class="hljs-number">2</span> | Len=<span class="hljs-number">2</span> Â  | Cap=<span class="hljs-number">3</span> Â  | ------+
+---------+---------+---------+
</code></pre>
<ul>
<li><code>s2</code> çš„ <code>Data</code> æŒ‡é’ˆæŒ‡å‘åŸæ•°ç»„ç´¢å¼• 1 çš„ä½ç½®ï¼ˆå€¼ä¸º 2ï¼‰ï¼›</li>
<li><code>s2.Len=2</code>ï¼ˆå¯è®¿é—® 2ã€3ï¼‰ï¼›</li>
<li><code>s2.Cap=3</code>ï¼ˆä»ç´¢å¼• 1 åˆ°æ•°ç»„æœ«å°¾å…± 3 ä¸ªå…ƒç´ ï¼š2ã€3ã€4ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-14">åˆ‡ç‰‡çš„å†…å­˜åˆ†é…è§„åˆ™</h4>
<p>ä¸åŒåˆ›å»ºæ–¹å¼ï¼Œåº•å±‚æ•°ç»„çš„åˆ†é…è§„åˆ™ä¸åŒï¼š</p>





















<table><thead><tr><th>åˆ›å»ºæ–¹å¼</th><th>åº•å±‚æ•°ç»„åˆ†é…é€»è¾‘</th></tr></thead><tbody><tr><td>å­—é¢é‡ <code>s := []int{1,2}</code></td><td>ç¼–è¯‘å™¨è‡ªåŠ¨åˆ›å»ºåŒ¿ååº•å±‚æ•°ç»„ï¼Œåˆ‡ç‰‡æŒ‡å‘è¯¥æ•°ç»„ï¼ŒLen=Cap = å…ƒç´ ä¸ªæ•°</td></tr><tr><td>make åˆ›å»º <code>s := make([]int, 3, 5)</code></td><td>æ˜¾å¼åˆ†é…é•¿åº¦ä¸º 5 çš„åº•å±‚æ•°ç»„ï¼Œåˆ‡ç‰‡ Len=3ï¼ˆå‰ 3 ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸º 0ï¼‰ï¼ŒCap=5</td></tr><tr><td>ä»æ•°ç»„æˆªå– <code>s := arr[1:3]</code></td><td>åˆ‡ç‰‡å¤ç”¨åŸæ•°ç»„ï¼ŒData æŒ‡é’ˆæŒ‡å‘æ•°ç»„æŒ‡å®šä½ç½®ï¼ŒLen=2ï¼ŒCap = åŸæ•°ç»„é•¿åº¦ - èµ·å§‹ç´¢å¼•</td></tr></tbody></table>
<p>å½“é€šè¿‡ <code>append</code> å‘åˆ‡ç‰‡æ·»åŠ å…ƒç´ ï¼Œä¸” <code>len == cap</code> æ—¶ï¼Œåˆ‡ç‰‡ä¼šè§¦å‘<strong>æ‰©å®¹</strong>ï¼Œåº•å±‚é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol start="0">
<li><strong>åˆ†é…æ–°æ•°ç»„</strong>ï¼šæ ¹æ®åŸåˆ‡ç‰‡çš„å®¹é‡ï¼Œè®¡ç®—æ–°å®¹é‡ï¼Œç„¶ååˆ†é…ä¸€å—æ–°çš„å†…å­˜ç©ºé—´ä½œä¸ºæ–°åº•å±‚æ•°ç»„ï¼›</li>
<li><strong>æ‹·è´æ•°æ®</strong>ï¼šå°†åŸåº•å±‚æ•°ç»„ä¸­çš„æ•°æ®æ‹·è´åˆ°æ–°æ•°ç»„ï¼›</li>
<li><strong>æ›´æ–°åˆ‡ç‰‡</strong>ï¼šåˆ‡ç‰‡çš„ <code>Data</code> æŒ‡é’ˆæŒ‡å‘æ–°æ•°ç»„ï¼Œ<code>Len</code> å¢åŠ ï¼ˆæ–°å¢å…ƒç´ ä¸ªæ•°ï¼‰ï¼Œ<code>Cap</code> æ›´æ–°ä¸ºæ–°å®¹é‡ï¼›</li>
<li><strong>åŸæ•°ç»„å›æ”¶</strong>ï¼šå¦‚æœåŸæ•°ç»„æ²¡æœ‰å…¶ä»–åˆ‡ç‰‡å¼•ç”¨ï¼Œä¼šè¢« Go çš„åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æ¸…ç†ã€‚</li>
</ol>
<h5 data-id="heading-15">æ‰©å®¹å®¹é‡è®¡ç®—è§„åˆ™ï¼ˆGo 1.18+ï¼‰</h5>
<ul>
<li>è‹¥åŸå®¹é‡ <code>cap &lt; 256</code>ï¼šæ–°å®¹é‡ = åŸå®¹é‡ Ã— 2ï¼›</li>
<li>è‹¥åŸå®¹é‡ <code>cap â‰¥ 256</code>ï¼šæ–°å®¹é‡ = åŸå®¹é‡ Ã— 1.25ï¼ˆå®é™…ä¼šå¯¹é½å†…å­˜å—å¤§å°ï¼Œæ¯”å¦‚å‘ä¸Šå–æ•´åˆ°æœ€è¿‘çš„ 8 çš„å€æ•°ï¼‰ï¼›</li>
<li>ç‰¹æ®Šæƒ…å†µï¼šå¦‚æœ <code>append</code> åéœ€è¦çš„é•¿åº¦è¶…è¿‡ä¸Šè¿°è®¡ç®—å€¼ï¼Œåˆ™ç›´æ¥ä»¥éœ€è¦çš„é•¿åº¦ä½œä¸ºæ–°å®¹é‡ã€‚</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 Â  Â s := <span class="hljs-built_in">make</span>([]<span class="hljs-type">int</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>) <span class="hljs-comment">// Len=0, Cap=1</span>
 Â  Â fmt.Printf(<span class="hljs-string">"åˆå§‹ï¼šlen=%d, cap=%d\n"</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">cap</span>(s)) <span class="hljs-comment">// len=0, cap=1</span>

 Â  Â s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">1</span>) <span class="hljs-comment">// Len=1, Cap=1ï¼ˆæœªæ‰©å®¹ï¼‰</span>
 Â  Â fmt.Printf(<span class="hljs-string">"æ·»åŠ 1ä¸ªå…ƒç´ ï¼šlen=%d, cap=%d\n"</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">cap</span>(s)) <span class="hljs-comment">// len=1, cap=1</span>

 Â  Â s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">2</span>) <span class="hljs-comment">// Len=2, Cap=2ï¼ˆæ‰©å®¹ï¼Œcap&lt;256 ç¿»å€ï¼‰</span>
 Â  Â fmt.Printf(<span class="hljs-string">"æ·»åŠ ç¬¬2ä¸ªå…ƒç´ ï¼šlen=%d, cap=%d\n"</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">cap</span>(s)) <span class="hljs-comment">// len=2, cap=2</span>

 Â  Â s = <span class="hljs-built_in">append</span>(s, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// éœ€è¦len=5ï¼ŒåŸcap=2ï¼Œè®¡ç®—æ–°cap=4ï¼ˆ2Ã—2ï¼‰ä¸å¤Ÿï¼Œç›´æ¥ç”¨5</span>
 Â  Â fmt.Printf(<span class="hljs-string">"æ·»åŠ 3ä¸ªå…ƒç´ ï¼šlen=%d, cap=%d\n"</span>, <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">cap</span>(s)) <span class="hljs-comment">// len=5, cap=5</span>
}
</code></pre>
<h4 data-id="heading-16">å…³é”®ç‰¹æ€§çš„åº•å±‚è§£é‡Š</h4>
<h4 data-id="heading-17">1. åˆ‡ç‰‡çš„ â€œå¼•ç”¨ä¼ é€’â€</h4>
<p>åˆ‡ç‰‡ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’æ—¶ï¼Œä¼ é€’çš„æ˜¯ <code>SliceHeader</code> çš„å‰¯æœ¬ï¼ˆå€¼ä¼ é€’ï¼‰ï¼Œä½†å‰¯æœ¬çš„ <code>Data</code> æŒ‡é’ˆä»æŒ‡å‘åŸåº•å±‚æ•°ç»„ã€‚å› æ­¤ï¼š</p>
<ul>
<li>ä¿®æ”¹åˆ‡ç‰‡å…ƒç´ ï¼ˆå¦‚ <code>s[0] = 10</code>ï¼‰ä¼šå½±å“åŸåˆ‡ç‰‡ï¼ˆå› ä¸ºå…±äº«åº•å±‚æ•°ç»„ï¼‰ï¼›</li>
<li>ä¿®æ”¹åˆ‡ç‰‡çš„ <code>Len/Cap</code>ï¼ˆå¦‚ <code>s = append(s, 1)</code>ï¼‰ä¸ä¼šå½±å“åŸåˆ‡ç‰‡ï¼ˆå› ä¸ºå‰¯æœ¬çš„ <code>Data</code> å¯èƒ½æŒ‡å‘æ–°æ•°ç»„ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-18">2. <code>copy</code> å‡½æ•°çš„åº•å±‚é€»è¾‘</h4>
<p><code>copy(dst, src []T)</code> æ˜¯<strong>å€¼æ‹·è´</strong>ï¼Œä¼šæŠŠ src åº•å±‚æ•°ç»„çš„å…ƒç´ é€ä¸ªå¤åˆ¶åˆ° dst çš„åº•å±‚æ•°ç»„ï¼Œä¸ä¼šå…±äº«æ•°ç»„ï¼š</p>
<ul>
<li>æ‹·è´çš„å…ƒç´ ä¸ªæ•° = min (len (dst), len (src))ï¼›</li>
<li>æ‹·è´åï¼Œdst å’Œ src çš„åº•å±‚æ•°ç»„ç›¸äº’ç‹¬ç«‹ï¼Œä¿®æ”¹ä¸€æ–¹ä¸ä¼šå½±å“å¦ä¸€æ–¹ã€‚</li>
</ul>
<h4 data-id="heading-19">åˆ‡ç‰‡çš„çŸ¥è¯†ç‚¹å½’çº³</h4>
<ol start="0">
<li><strong>åˆ‡ç‰‡çš„åº•å±‚æ ¸å¿ƒ</strong>ï¼šåˆ‡ç‰‡æ˜¯ <code>DataæŒ‡é’ˆ + Len + Cap</code> çš„ç»“æ„ä½“ï¼Œæ•°æ®å­˜å‚¨åœ¨åº•å±‚æ•°ç»„ä¸­ï¼Œåˆ‡ç‰‡æœ¬èº«ä»…å  24 å­—èŠ‚ï¼ˆ64 ä½ç³»ç»Ÿï¼Œ3 ä¸ª int å­—æ®µï¼‰ï¼›</li>
<li><strong>æ‰©å®¹çš„æœ¬è´¨</strong>ï¼šå½“åˆ‡ç‰‡é•¿åº¦è¶…å‡ºå®¹é‡æ—¶ï¼Œä¼šåˆ†é…æ–°çš„åº•å±‚æ•°ç»„ï¼Œæ‹·è´æ•°æ®å¹¶æ›´æ–°åˆ‡ç‰‡æŒ‡é’ˆï¼ŒåŸæ•°ç»„è‹¥æ— å¼•ç”¨åˆ™è¢« GC å›æ”¶ï¼›</li>
<li><strong>å¼•ç”¨ç‰¹æ€§</strong>ï¼šåˆ‡ç‰‡æˆªå–ã€å‡½æ•°ä¼ å‚é»˜è®¤å…±äº«åº•å±‚æ•°ç»„ï¼Œ<code>copy</code> å‡½æ•°å¯å®ç°å€¼æ‹·è´ï¼Œé¿å…å…±äº«ã€‚</li>
</ol>
<h3 data-id="heading-20">å…­ã€ç»“æ„ä½“</h3>
<p>ç»“æ„ä½“é€šè¿‡<code>type + ç»“æ„ä½“å + struct</code>å…³é”®å­—å®šä¹‰ï¼Œç”¨äºèšåˆå¤šä¸ªä¸åŒç±»å‹çš„å­—æ®µï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼Œæ”¯æŒå­—æ®µæ ‡ç­¾ï¼ˆTagï¼‰ç”¨äºåºåˆ—åŒ–ã€ORM æ˜ å°„ç­‰åœºæ™¯ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å®šä¹‰Userç»“æ„ä½“ï¼ŒåŒ…å«åŸºç¡€ä¿¡æ¯å’Œæ ‡ç­¾</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
 Â  Â ID Â  Â  Â  <span class="hljs-type">int</span> Â  Â <span class="hljs-string">`json:"id"`</span> Â  Â  Â  <span class="hljs-comment">// JSONåºåˆ—åŒ–æ—¶æ˜ å°„ä¸ºid</span>
 Â  Â Name Â  Â  <span class="hljs-type">string</span> <span class="hljs-string">`json:"name"`</span> Â  Â  <span class="hljs-comment">// JSONåºåˆ—åŒ–æ—¶æ˜ å°„ä¸ºname</span>
 Â  Â Age Â  Â  Â <span class="hljs-type">int</span> Â  Â <span class="hljs-string">`json:"age"`</span> Â  Â  Â <span class="hljs-comment">// JSONåºåˆ—åŒ–æ—¶æ˜ å°„ä¸ºage</span>
 Â  Â IsActive <span class="hljs-type">bool</span> Â  <span class="hljs-string">`json:"is_active"`</span><span class="hljs-comment">// JSONåºåˆ—åŒ–æ—¶æ˜ å°„ä¸ºis_active</span>
}
</code></pre>
<p><strong>ç»“æ„ä½“æ‰€æœ‰å®ä¾‹åŒ–æ–¹å¼</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–¹å¼1ï¼šç›´æ¥å£°æ˜ï¼ˆé›¶å€¼åˆå§‹åŒ–ï¼‰</span>
<span class="hljs-comment">// æ‰€æœ‰å­—æ®µä¼šè¢«åˆå§‹åŒ–ä¸ºå¯¹åº”ç±»å‹çš„é›¶å€¼ï¼ˆint:0, string:"", bool:falseï¼‰</span>
<span class="hljs-keyword">var</span> u1 User
fmt.Println(<span class="hljs-string">"æ–¹å¼1-ç›´æ¥å£°æ˜ï¼ˆé›¶å€¼ï¼‰ï¼š"</span>, u1)

<span class="hljs-comment">// æ‰‹åŠ¨èµ‹å€¼å­—æ®µ</span>
u1.ID = <span class="hljs-number">1</span>
u1.Name = <span class="hljs-string">"å¼ ä¸‰"</span>
u1.Age = <span class="hljs-number">25</span>
u1.IsActive = <span class="hljs-literal">true</span>
fmt.Println(<span class="hljs-string">"æ–¹å¼1-èµ‹å€¼åï¼š"</span>, u1)

<span class="hljs-comment">// æ–¹å¼2ï¼šå­—é¢é‡åˆå§‹åŒ–ï¼ˆå€¼ç±»å‹ï¼‰</span>
<span class="hljs-comment">// æŒ‡å®šéƒ¨åˆ†å­—æ®µï¼ŒæœªæŒ‡å®šå­—æ®µä¸ºé›¶å€¼ï¼›å­—æ®µé¡ºåºå¯ä¸å®šä¹‰ä¸ä¸€è‡´</span>
u2 := User{
 Â  Â ID: Â  <span class="hljs-number">2</span>,
 Â  Â Name: <span class="hljs-string">"æå››"</span>,
 Â  Â Age: Â <span class="hljs-number">30</span>,
 Â  Â <span class="hljs-comment">// IsActive æœªæŒ‡å®šï¼Œé»˜è®¤false</span>
}
fmt.Println(<span class="hljs-string">"æ–¹å¼2-å­—é¢é‡ï¼ˆå€¼ç±»å‹ï¼‰ï¼š"</span>, u2)

<span class="hljs-comment">// æ–¹å¼3ï¼šå­—é¢é‡åˆå§‹åŒ–ï¼ˆæŒ‡é’ˆç±»å‹ï¼‰ã€æ¨èã€‘</span>
<span class="hljs-comment">// ç›´æ¥è¿”å›ç»“æ„ä½“æŒ‡é’ˆï¼Œå‡å°‘å€¼æ‹·è´å¼€é”€ï¼›è¯­æ³•ä¸Šä¸å€¼ç±»å‹ä»…å¤šä¸€ä¸ª&amp;</span>
u3 := &amp;User{
 Â  Â ID: Â  Â  Â  <span class="hljs-number">3</span>,
 Â  Â Name: Â  Â  <span class="hljs-string">"ç‹äº”"</span>,
 Â  Â Age: Â  Â  Â <span class="hljs-number">28</span>,
 Â  Â IsActive: <span class="hljs-literal">true</span>,
}
fmt.Println(<span class="hljs-string">"æ–¹å¼3-å­—é¢é‡ï¼ˆæŒ‡é’ˆç±»å‹ï¼‰ï¼š"</span>, u3)
<span class="hljs-comment">// æŒ‡é’ˆç±»å‹è®¿é—®å­—æ®µï¼ˆGoè‡ªåŠ¨è§£å¼•ç”¨ï¼Œæ— éœ€(*u3).Nameï¼‰</span>
fmt.Println(<span class="hljs-string">"æ–¹å¼3-è®¿é—®æŒ‡é’ˆå­—æ®µï¼š"</span>, u3.Name, u3.Age)

<span class="hljs-comment">// æ–¹å¼4ï¼šnewå‡½æ•°åˆå§‹åŒ–ï¼ˆæŒ‡é’ˆç±»å‹ï¼‰</span>
<span class="hljs-comment">// new(ç»“æ„ä½“å) ç­‰ä»·äº &amp;ç»“æ„ä½“å{}ï¼Œè¿”å›æŒ‡é’ˆï¼Œæ‰€æœ‰å­—æ®µä¸ºé›¶å€¼</span>
u4 := <span class="hljs-built_in">new</span>(User)
fmt.Println(<span class="hljs-string">"æ–¹å¼4-newå‡½æ•°ï¼ˆæŒ‡é’ˆé›¶å€¼ï¼‰ï¼š"</span>, u4)
<span class="hljs-comment">// ç»™æŒ‡é’ˆå®ä¾‹èµ‹å€¼å­—æ®µ</span>
u4.ID = <span class="hljs-number">4</span>
u4.Name = <span class="hljs-string">"èµµå…­"</span>
u4.Age = <span class="hljs-number">35</span>
u4.IsActive = <span class="hljs-literal">false</span>
fmt.Println(<span class="hljs-string">"æ–¹å¼4-newå‡½æ•°ï¼ˆèµ‹å€¼åï¼‰ï¼š"</span>, u4)

<span class="hljs-comment">// æ–¹å¼5ï¼šå­—é¢é‡ç®€å†™ï¼ˆæŒ‰å­—æ®µå®šä¹‰é¡ºåºåˆå§‹åŒ–ï¼Œä¸æ¨èï¼Œå¯è¯»æ€§å·®ï¼‰</span>
<span class="hljs-comment">// å¿…é¡»ä¸¥æ ¼æŒ‰ç»“æ„ä½“å­—æ®µå®šä¹‰é¡ºåºèµ‹å€¼ï¼Œä¸”ä¸èƒ½çœç•¥ä»»ä½•å­—æ®µï¼ˆé™¤éç”¨ç©ºå€¼ï¼‰</span>
u5 := User{<span class="hljs-number">5</span>, <span class="hljs-string">"é’±ä¸ƒ"</span>, <span class="hljs-number">22</span>, <span class="hljs-literal">true</span>}
fmt.Println(<span class="hljs-string">"æ–¹å¼5-å­—é¢é‡ç®€å†™ï¼ˆå€¼ç±»å‹ï¼‰ï¼š"</span>, u5)
</code></pre>
<p>Go é€šè¿‡<strong>ç»“æ„ä½“åµŒå¥—</strong>å®ç° â€œç»„åˆâ€ï¼ˆæ›¿ä»£ç»§æ‰¿ï¼‰ï¼Œæ”¯æŒ â€œåŒ¿åå­—æ®µâ€ï¼ˆæå‡å­—æ®µï¼‰ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å®šä¹‰åœ°å€ç»“æ„ä½“</span>
<span class="hljs-keyword">type</span> Address <span class="hljs-keyword">struct</span> {
 Â  Â Province <span class="hljs-type">string</span>
 Â  Â City Â  Â  <span class="hljs-type">string</span>
}

<span class="hljs-comment">// UseråµŒå¥—Addresså­—æ®µ</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
 Â  Â ID Â  Â  Â <span class="hljs-type">int</span>
 Â  Â Name Â  Â <span class="hljs-type">string</span>
 Â  Â Address Address <span class="hljs-comment">// æ˜¾å¼åµŒå¥—</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
u := &amp;User{
 Â  Â ID: Â  <span class="hljs-number">1</span>,
 Â  Â Name: <span class="hljs-string">"å¼ ä¸‰"</span>,
 Â  Â Address: Address{
 Â  Â  Â  Â Province: <span class="hljs-string">"åŒ—äº¬"</span>,
 Â  Â  Â  Â City: Â  Â  <span class="hljs-string">"æœé˜³åŒº"</span>,
 Â   },
}
fmt.Println(u.Address.City) <span class="hljs-comment">// æœé˜³åŒº</span>
</code></pre>
<p>åµŒå¥—çš„ç»“æ„ä½“å­—æ®µçœç•¥åç§°æ—¶ï¼Œå…¶å†…éƒ¨å­—æ®µä¼šè¢« â€œæå‡â€ ä¸ºå¤–å±‚ç»“æ„ä½“çš„ç›´æ¥å­—æ®µï¼Œå¯ç›´æ¥è®¿é—®ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> Address <span class="hljs-keyword">struct</span> {
 Â  Â Province <span class="hljs-type">string</span>
 Â  Â City Â  Â  <span class="hljs-type">string</span>
}

<span class="hljs-comment">// åŒ¿åå­—æ®µåµŒå¥—</span>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
 Â  Â ID Â  Â  Â <span class="hljs-type">int</span>
 Â  Â Name Â  Â <span class="hljs-type">string</span>
 Â  Â Address <span class="hljs-comment">// åŒ¿åå­—æ®µï¼ŒAddressçš„å­—æ®µè¢«æå‡</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
u := &amp;User{
 Â  Â ID: Â  <span class="hljs-number">1</span>,
 Â  Â Name: <span class="hljs-string">"å¼ ä¸‰"</span>,
 Â  Â Address: Address{
 Â  Â  Â  Â Province: <span class="hljs-string">"åŒ—äº¬"</span>,
 Â  Â  Â  Â City: Â  Â  <span class="hljs-string">"æœé˜³åŒº"</span>,
 Â   },
}
fmt.Println(u.City) <span class="hljs-comment">// ç›´æ¥è®¿é—®æå‡å­—æ®µï¼Œç­‰ä»·äºu.Address.City</span>
</code></pre>
<h3 data-id="heading-21">ä¸ƒã€åŒ…ï¼ˆpackageï¼‰</h3>
<p>Go è¯­è¨€çš„æ˜¯ä»£ç ç»„ç»‡çš„æ ¸å¿ƒå•å…ƒï¼Œ<strong>ä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰.go æ–‡ä»¶å¿…é¡»å±äºåŒä¸€ä¸ªåŒ…</strong>ï¼Œä¸”åŒ…åå»ºè®®ä¸ç›®å½•åä¿æŒä¸€è‡´ï¼ˆéå¼ºåˆ¶ï¼Œä½†ç¬¦åˆæœ€ä½³å®è·µï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒå®šä¹‰è§„åˆ™ï¼š</strong></p>
<ul>
<li>æ¯ä¸ª Go æºæ–‡ä»¶å¿…é¡»ä»¥ <code>package åŒ…å</code> å¼€å¤´ï¼Œå£°æ˜æ‰€å±åŒ…ã€‚</li>
<li>åŒ…å<strong>æ¨è</strong>ä½¿ç”¨å°å†™ã€ç®€çŸ­ã€è§åçŸ¥æ„çš„åç§°ï¼Œé¿å…ä¸‹åˆ’çº¿ã€é©¼å³°å¼ï¼ˆé™¤éæ˜¯çº¦å®šä¿—æˆçš„å¦‚ <code>encoding/json</code>ï¼‰ã€‚</li>
<li>åŒ…åå¯ä»¥ä¸æ‰€åœ¨ç›®å½•åä¸åŒï¼Œä½†<strong>å»ºè®®ä¿æŒä¸€è‡´</strong>ï¼ˆæå‡å¯è¯»æ€§ï¼‰ã€‚</li>
<li><code>main</code> åŒ…æ˜¯ç‰¹æ®ŠåŒ…ï¼šåŒ…å« <code>func main()</code> å‡½æ•°ï¼Œæ˜¯ç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘åç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼›é <code>main</code> åŒ…ç¼–è¯‘åç”Ÿæˆåº“æ–‡ä»¶ï¼ˆ<code>.a</code>ï¼‰ã€‚</li>
<li>åŒä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.go</code> æ–‡ä»¶å¿…é¡»å£°æ˜ä¸ºåŒä¸€ä¸ªåŒ…åã€‚</li>
</ul>
<h4 data-id="heading-22">Package çš„å¯¼å…¥æ–¹å¼</h4>
<p>Go æ”¯æŒå¤šç§çµæ´»çš„åŒ…å¯¼å…¥æ–¹å¼ï¼Œæ ¸å¿ƒå…³é”®å­—æ˜¯ <code>import</code>ï¼Œéœ€å†™åœ¨ <code>package</code> å£°æ˜ä¹‹åã€å‡½æ•° / å˜é‡å®šä¹‰ä¹‹å‰ã€‚</p>
<p>1ã€å…ˆåˆå§‹åŒ– Go æ¨¡å—ï¼ˆç¡®ä¿ä»£ç å¯è¿è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"># è¿›å…¥é¡¹ç›®ç›®å½•
cd ~/<span class="hljs-keyword">go</span>-demo
# åˆå§‹åŒ–æ¨¡å—ï¼ˆæ¨¡å—åè‡ªå®šä¹‰ï¼Œå¦‚ demoï¼‰
<span class="hljs-keyword">go</span> mod init demo
</code></pre>
<p>2ã€æ–‡ä»¶è·¯å¾„ï¼š<code>~/go-demo/main.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-comment">// æ–¹å¼1ï¼šå¤šè¡Œåˆ†ç»„å¯¼å…¥ï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">import</span> (
 Â  Â <span class="hljs-string">"fmt"</span> Â  Â  Â  Â  Â <span class="hljs-comment">// æ ‡å‡†åº“åŒ…</span>
 Â  Â <span class="hljs-string">"demo/utils"</span> Â  <span class="hljs-comment">// è‡ªå®šä¹‰åŒ…ï¼ˆåŸºäºgo modçš„ç›¸å¯¹è·¯å¾„ï¼‰</span>
)

<span class="hljs-comment">// æ–¹å¼2ï¼šå•è¡Œå¯¼å…¥ï¼ˆé€‚åˆå°‘é‡åŒ…ï¼‰</span>
<span class="hljs-comment">// import "fmt"</span>
<span class="hljs-comment">// import "demo/utils"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 Â  Â <span class="hljs-comment">// è°ƒç”¨å¯¼å…¥åŒ…çš„å¯¼å‡ºå‡½æ•°ï¼šåŒ…å.å‡½æ•°å</span>
 Â  Â result := utils.Add(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>)
 Â  Â fmt.Printf(<span class="hljs-string">"10 + 20 = %d\n"</span>, result)
}
</code></pre>
<p>3ã€åˆ«åå¯¼å…¥</p>
<p>ç»™å¯¼å…¥çš„åŒ…èµ·åˆ«åï¼Œé€‚ç”¨äºåŒ…åè¿‡é•¿ã€åŒ…åå†²çªæˆ–ç®€åŒ–ä»£ç çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
 Â  Â <span class="hljs-string">"fmt"</span>
 Â  Â <span class="hljs-comment">// ç»™utilsåŒ…èµ·åˆ«åu</span>
 Â  Â u <span class="hljs-string">"demo/utils"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
 Â  Â <span class="hljs-comment">// é€šè¿‡åˆ«åè°ƒç”¨åŒ…çš„å‡½æ•°</span>
 Â  Â result := u.Add(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>)
 Â  Â fmt.Printf(<span class="hljs-string">"5 + 3 = %d\n"</span>, result)
}
</code></pre>
<p>4ã€è®¾ç½®å›½å†…ä»£ç†</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">go</span> env -w GO111MODULE=on
<span class="hljs-keyword">go</span> env -w GOPROXY=https:<span class="hljs-comment">//goproxy.cn,direct</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠèŠæˆ‘å¯¹ React Hook ä¸ä¸€æ ·çš„ç†è§£]]></title>    <link>https://juejin.cn/post/7592423411562332186</link>    <guid>https://juejin.cn/post/7592423411562332186</guid>    <pubDate>2026-01-07T09:05:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592423411562332186" data-draft-id="7592340733954244658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠèŠæˆ‘å¯¹ React Hook ä¸ä¸€æ ·çš„ç†è§£"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-07T09:05:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="feå°é™ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/4019470241892983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠèŠæˆ‘å¯¹ React Hook ä¸ä¸€æ ·çš„ç†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4019470241892983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    feå°é™ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:05:55.000Z" title="Wed Jan 07 2026 09:05:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ React Hook</h2>
<p>React Hook æ˜¯ React 16.8 ç‰ˆæœ¬æ¨å‡ºçš„ç‰¹æ€§ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯è®©å‡½æ•°ç»„ä»¶ä¹Ÿèƒ½ä½¿ç”¨çŠ¶æ€ï¼ˆStateï¼‰ã€ç”Ÿå‘½å‘¨æœŸç­‰åŸæœ¬åªæœ‰ç±»ç»„ä»¶æ‰èƒ½æ‹¥æœ‰çš„ React ç‰¹æ€§ã€‚å®ƒé€šè¿‡ä¸€ç³»åˆ—é¢„å®šä¹‰çš„é’©å­å‡½æ•°ï¼ˆå¦‚ useStateã€useEffectï¼‰ï¼Œè®©å¼€å‘è€…æ— éœ€ç¼–å†™ç±»ç»„ä»¶ï¼Œå°±èƒ½æ›´ç®€æ´ã€çµæ´»åœ°ç®¡ç†ç»„ä»¶é€»è¾‘ï¼ŒåŒæ—¶ä¹Ÿä¾¿äºé€»è¾‘çš„å¤ç”¨ä¸æ‹†åˆ†ã€‚</p>
<blockquote>
<p>ç½‘ä¸Šæœ‰å¤§é‡çš„æ€»ç»“æ–‡ç« æ•™ä¼šä½ å¦‚ä½•ä½¿ç”¨ react hookï¼ŒåŒ…æ‹¬ä¸€äº›è¯¸å¦‚å–ä»£ mixin ã€hocã€ç±»ç»„ä»¶ç»§æ‰¿ï¼Œæ‰€ä»¥è¿™ä¸æ˜¯æˆ‘æƒ³è®²çš„é‡ç‚¹ã€‚</p>
</blockquote>
<h2 data-id="heading-1">ä¸¤é¢æ€§</h2>
<p>Hookçš„å‡ºç°ä¸ä»…æ˜¯Reactè¯­æ³•å±‚é¢çš„ä¼˜åŒ–ï¼Œæ›´é‡å¡‘äº†å‡½æ•°ç»„ä»¶çš„èƒ½åŠ›è¾¹ç•Œä¸ä»£ç ç»„ç»‡æ–¹å¼ï¼Œä½†ä¹Ÿéšä¹‹å¼•å…¥äº†æ–°çš„è®¤çŸ¥ä¸å®è·µé—¨æ§›ã€‚ä»æ ¸å¿ƒèƒ½åŠ›æ¥çœ‹ï¼Œå…¶ä»·å€¼ä¸»è¦ä½“ç°åœ¨ä¸‰ä¸ªç»´åº¦ï¼š</p>
<p><strong>1. é€»è¾‘å¤ç”¨çš„é©å‘½æ€§çªç ´</strong>ï¼šç›¸æ¯”ç±»ç»„ä»¶æ—¶ä»£mixinsçš„å‘½åå†²çªã€HOCçš„åµŒå¥—åœ°ç‹±ï¼ŒHooké€šè¿‡è‡ªå®šä¹‰Hookå®ç°äº†â€œé€»è¾‘æŠ½å–-å¤ç”¨â€çš„æç®€è·¯å¾„ã€‚å¼€å‘è€…å¯å°†åˆ†æ•£åœ¨ä¸åŒç”Ÿå‘½å‘¨æœŸçš„å…³è”é€»è¾‘ï¼ˆå¦‚æ•°æ®è¯·æ±‚+åŠ è½½çŠ¶æ€+å¼‚å¸¸å¤„ç†ï¼‰æŠ½ç¦»ä¸ºç‹¬ç«‹Hookï¼Œåœ¨å¤šä¸ªç»„ä»¶ä¸­ç›´æ¥å¤ç”¨ï¼Œä¸”ä¸å­˜åœ¨å±æ€§é€ä¼ æˆ–åµŒå¥—å†—ä½™çš„é—®é¢˜ã€‚</p>
<p><strong>2. çŠ¶æ€ä¸å‰¯ä½œç”¨çš„é›†ä¸­ç®¡æ§</strong>ï¼šç±»ç»„ä»¶ä¸­éœ€åˆ†æ•£åœ¨componentDidMountã€componentDidUpdateã€componentWillUnmountçš„å‰¯ä½œç”¨é€»è¾‘ï¼Œåœ¨Hookä¸­å¯é€šè¿‡useEffectç»Ÿä¸€ç®¡ç†ï¼Œé…åˆè¿”å›å‡½æ•°å®Œæˆèµ„æºæ¸…ç†ï¼Œå®ç°â€œå…³è”é€»è¾‘èšåˆâ€ï¼Œå¤§å¹…æå‡ä»£ç å¯è¯»æ€§ã€‚åŒæ—¶ï¼ŒuseStateã€useReducerè®©å‡½æ•°ç»„ä»¶æ— éœ€ä¾èµ–thiså³å¯å®ç°çµæ´»çš„çŠ¶æ€ç®¡ç†ï¼Œæ‘†è„±äº†ç±»ç»„ä»¶ä¸­thisæŒ‡å‘çš„è¯¸å¤šé™·é˜±ã€‚</p>
<p><strong>3. æ›´å‹å¥½çš„å·¥ç¨‹åŒ–é€‚é…</strong>ï¼šHookå¤©ç„¶å¥‘åˆå‡½æ•°å¼ç¼–ç¨‹ç†å¿µï¼Œä¸TypeScriptçš„ç±»å‹æ¨å¯¼æ— ç¼å…¼å®¹ï¼Œèƒ½æ˜¾è‘—é™ä½å¼ºç±»å‹é¡¹ç›®çš„å¼€å‘æˆæœ¬ã€‚æ­¤å¤–ï¼ŒReact 18åç»­æ¨å‡ºçš„useTransitionã€useDeferredValueç­‰æ–°Hookï¼Œè¿›ä¸€æ­¥æ‹“å±•äº†å¹¶å‘æ¸²æŸ“åœºæ™¯ä¸‹çš„èƒ½åŠ›ï¼Œè®©å‡½æ•°ç»„ä»¶èƒ½æ›´å¥½åœ°é€‚é…ç°ä»£å‰ç«¯å¤æ‚çš„æ€§èƒ½éœ€æ±‚ã€‚</p>
<p>ä½†èƒ½åŠ›çš„æ‹“å±•ä¹Ÿä¼´éšç€æ–°çš„ç—›ç‚¹ï¼Œè¿™äº›é—®é¢˜å¾€å¾€æºäºå¯¹Hookè®¾è®¡ç†å¿µçš„ç†è§£åå·®ï¼Œè€Œéç‰¹æ€§æœ¬èº«ï¼š</p>
<p><strong>1. ä¾èµ–ç®¡ç†çš„â€œéšå½¢é—¨æ§›â€</strong> ï¼šuseEffectã€useCallbackç­‰Hookçš„ä¾èµ–æ•°ç»„æ˜¯æœ€æ˜“è¸©å‘çš„ç¯èŠ‚ã€‚ä¾èµ–ç¼ºå¤±ä¼šå¯¼è‡´å‰¯ä½œç”¨ä¸è§¦å‘æ›´æ–°ï¼Œä¾èµ–å†—ä½™ï¼ˆå¦‚æœªç¼“å­˜çš„å‡½æ•°ã€æ¯æ¬¡æ¸²æŸ“æ–°å»ºçš„å¯¹è±¡ï¼‰åˆ™ä¼šå¼•å‘é¢‘ç¹é‡æ¸²æŸ“ï¼Œæ›´éšè”½çš„æ˜¯â€œä¾èµ–é—­ç¯â€å¯¼è‡´çš„æ— é™å¾ªç¯ï¼ˆå¦‚useEffectä¸­æ›´æ–°stateå´ä¾èµ–è¯¥stateï¼‰ï¼Œæ’æŸ¥æˆæœ¬æé«˜ã€‚</p>
<p><strong>2. é—­åŒ…é™·é˜±çš„é«˜é¢‘è¸©å‘</strong>ï¼šå‡½æ•°ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼Œå¼‚æ­¥æ“ä½œï¼ˆå®šæ—¶å™¨ã€Promiseå›è°ƒï¼‰ææ˜“æ•è·æ—§ä½œç”¨åŸŸçš„â€œè¿‡æœŸçŠ¶æ€â€ã€‚ä¾‹å¦‚ä¾èµ–æ•°ç»„ä¸ºç©ºçš„useEffectä¸­ï¼Œå®šæ—¶å™¨å§‹ç»ˆè·å–åˆå§‹stateå€¼ï¼Œè¿™ç±»é—®é¢˜å› è¡¨è±¡ä¸é€»è¾‘é¢„æœŸèƒŒç¦»ï¼Œæ–°æ‰‹å¾€å¾€éš¾ä»¥å®šä½ã€‚</p>
<p><strong>3. å‰¯ä½œç”¨æ¸…ç†çš„éšè”½é£é™©</strong>ï¼šuseEffectçš„æ¸…ç†å‡½æ•°ï¼ˆè¿”å›å‡½æ•°ï¼‰æ˜¯é¿å…å†…å­˜æ³„æ¼çš„å…³é”®ï¼Œä½†å®é™…å¼€å‘ä¸­å¸¸è¢«é—æ¼ï¼ˆå¦‚windowäº‹ä»¶ç›‘å¬ã€WebSocketè¿æ¥æœªè§£ç»‘ï¼‰ã€‚å°¤å…¶åœ¨å¤æ‚ç»„ä»¶ä¸­ï¼Œå¤šä¸ªå‰¯ä½œç”¨å åŠ æ—¶ï¼Œæ¸…ç†é€»è¾‘çš„é¡ºåºä¸å®Œæ•´æ€§æ›´éš¾æŠŠæ§ï¼Œå®¹æ˜“å¼•å‘éšæ€§bugã€‚</p>
<p><strong>4. å¤æ‚åœºæ™¯ä¸‹çš„æ€§èƒ½ä¼˜åŒ–éš¾é¢˜</strong>ï¼šHookç®€åŒ–äº†ä»£ç ç¼–å†™ï¼Œä½†ä¹Ÿå®¹æ˜“å‚¬ç”Ÿâ€œèƒ–Hookâ€â€”â€”ä¸€ä¸ªuseEffectåŒ…å«å¤šä¸ªæ— å…³å‰¯ä½œç”¨é€»è¾‘ï¼Œå¯¼è‡´ç»„ä»¶è€¦åˆåº¦å‡é«˜ã€‚åŒæ—¶ï¼Œæ–°æ‰‹å¸¸å¿½è§†useMemoã€useCallbackçš„åˆç†ä½¿ç”¨ï¼Œåœ¨å¤§æ•°æ®æ¸²æŸ“ã€æ·±å±‚ç»„ä»¶ä¼ é€’å‡½æ•°æ—¶ï¼Œæ˜“å‡ºç°ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Œä¸”æ€§èƒ½ç“¶é¢ˆéš¾ä»¥å®šä½ã€‚</p>
<h2 data-id="heading-2">é™åˆ¶ä¸è§„åˆ™</h2>
<p>React Hook å¹¶éå¯ä»¥éšæ„ä½¿ç”¨ï¼Œå…¶è®¾è®¡éµå¾ªä¸¥æ ¼çš„è§„åˆ™ä¸é™åˆ¶ï¼Œè¿™äº›è§„åˆ™æ˜¯ React èƒ½å¤Ÿç¨³å®šç®¡ç† Hook çŠ¶æ€å…³è”çš„æ ¸å¿ƒä¿éšœï¼Œè¿åè§„åˆ™å¯èƒ½å¯¼è‡´ç»„ä»¶æ¸²æŸ“å¼‚å¸¸ã€çŠ¶æ€é”™ä¹±ç­‰éš¾ä»¥æ’æŸ¥çš„é—®é¢˜ã€‚æ ¸å¿ƒè§„åˆ™ä¸é™åˆ¶ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<p><strong>1. åªèƒ½åœ¨å‡½æ•°ç»„ä»¶æˆ–è‡ªå®šä¹‰ Hook çš„é¡¶å±‚è°ƒç”¨</strong>ï¼šè¿™æ˜¯æœ€æ ¸å¿ƒçš„è§„åˆ™ã€‚Hook ä¸èƒ½åµŒå¥—åœ¨å¾ªç¯ã€æ¡ä»¶è¯­å¥ï¼ˆif/elseï¼‰ã€switch è¯­å¥æˆ–åµŒå¥—å‡½æ•°å†…éƒ¨è°ƒç”¨ã€‚åŸå› æ˜¯ React ä¾é  Hook çš„è°ƒç”¨é¡ºåºæ¥å»ºç«‹çŠ¶æ€ä¸ç»„ä»¶çš„å…³è”ï¼Œè‹¥è°ƒç”¨é¡ºåºä¸å›ºå®šï¼ˆå¦‚æ¡ä»¶åˆ¤æ–­å¯¼è‡´æŸäº› Hook æœ‰æ—¶æ‰§è¡Œæœ‰æ—¶ä¸æ‰§è¡Œï¼‰ï¼Œä¼šç ´å React å¯¹çŠ¶æ€çš„è¿½è¸ªï¼Œå¯¼è‡´çŠ¶æ€é”™ä¹±ã€‚ä¾‹å¦‚ï¼šä¸èƒ½åœ¨ if (isShow) { useState(0) } ä¸­è°ƒç”¨ Hookã€‚</p>
<p><strong>2. åªèƒ½åœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hook</strong>ï¼šHook ä»…èƒ½ç”¨äº React å‡½æ•°ç»„ä»¶ï¼ˆåŒ…æ‹¬ç®­å¤´å‡½æ•°ç»„ä»¶ï¼‰å’Œè‡ªå®šä¹‰ Hook ä¸­ï¼Œä¸èƒ½åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ã€‚è¿™æ˜¯å› ä¸º Hook ä¾èµ– React çš„å†…éƒ¨æœºåˆ¶æ¥ç®¡ç†çŠ¶æ€å’Œå‰¯ä½œç”¨ï¼Œæ™®é€š JS å‡½æ•°ä¸å…·å¤‡è¿™æ ·çš„è¿è¡Œç¯å¢ƒï¼Œè°ƒç”¨åæ— æ³•æ­£å¸¸å·¥ä½œã€‚</p>
<p><strong>3. è‡ªå®šä¹‰ Hook å¿…é¡»ä»¥ â€œuseâ€ å¼€å¤´å‘½å</strong>ï¼šè¿™æ˜¯ React çº¦å®šçš„å‘½åè§„èŒƒï¼Œå¹¶éè¯­æ³•å¼ºåˆ¶è¦æ±‚ï¼Œä½†éµå¾ªè¯¥è§„èŒƒèƒ½è®© React è¯†åˆ«è‡ªå®šä¹‰ Hookï¼ŒåŒæ—¶è®©å¼€å‘è€…å¿«é€ŸåŒºåˆ†æ™®é€šå‡½æ•°ä¸ Hookï¼Œé¿å…è¯¯ç”¨ã€‚ä¾‹å¦‚ï¼šuseRequestï¼ˆæ•°æ®è¯·æ±‚ Hookï¼‰ã€useWindowSizeï¼ˆç›‘å¬çª—å£å¤§å° Hookï¼‰ï¼Œè‹¥å‘½åä¸º requestHook åˆ™æ— æ³•è¢« React æ­£ç¡®è¯†åˆ«ä¸º Hookï¼Œä¹Ÿä¸ä¾¿äºå›¢é˜Ÿåä½œç»´æŠ¤ã€‚</p>
<p><strong>4. çŠ¶æ€æ›´æ–°çš„ä¸å¯å˜æ€§é™åˆ¶</strong>ï¼šä½¿ç”¨ useState æˆ– useReducer ç®¡ç†å¼•ç”¨ç±»å‹çŠ¶æ€ï¼ˆå¯¹è±¡ã€æ•°ç»„ï¼‰æ—¶ï¼Œå¿…é¡»éµå¾ªä¸å¯å˜æ€§åŸåˆ™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹åŸå§‹çŠ¶æ€å¯¹è±¡ï¼ˆå¦‚ state.obj.name = 'new'ï¼‰ï¼Œè€Œåº”åˆ›å»ºæ–°çš„å¯¹è±¡/æ•°ç»„æ¥æ›´æ–°çŠ¶æ€ã€‚å› ä¸º React é€šè¿‡æµ…æ¯”è¾ƒå¼•ç”¨æ˜¯å¦å˜åŒ–æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œç›´æ¥ä¿®æ”¹åŸå§‹çŠ¶æ€ä¸ä¼šæ”¹å˜å¼•ç”¨ï¼Œå¯¼è‡´ç»„ä»¶æ— æ³•è§¦å‘é‡æ¸²æŸ“ã€‚</p>
<p><strong>5. å‰¯ä½œç”¨æ¸…ç†çš„å¿…è¦æ€§é™åˆ¶</strong>ï¼šä½¿ç”¨ useEffect ç®¡ç†å‰¯ä½œç”¨ï¼ˆå¦‚äº‹ä»¶ç›‘å¬ã€å®šæ—¶å™¨ã€ç½‘ç»œè¿æ¥ï¼‰æ—¶ï¼Œè‹¥å‰¯ä½œç”¨ä¼šäº§ç”Ÿå†…å­˜æ³„æ¼é£é™©ï¼ˆå¦‚ç»„ä»¶å¸è½½åä»æ‰§è¡Œå›è°ƒï¼‰ï¼Œå¿…é¡»åœ¨ useEffect çš„è¿”å›å‡½æ•°ä¸­ç¼–å†™æ¸…ç†é€»è¾‘ï¼ˆå¦‚ç§»é™¤äº‹ä»¶ç›‘å¬ã€æ¸…é™¤å®šæ—¶å™¨ã€å…³é—­è¿æ¥ï¼‰ã€‚è¿™æ˜¯ä¿éšœç»„ä»¶æ€§èƒ½å’Œç¨³å®šæ€§çš„é‡è¦é™åˆ¶ï¼Œå¿½ç•¥æ¸…ç†å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€å¤šæ¬¡è§¦å‘å‰¯ä½œç”¨ç­‰é—®é¢˜ã€‚</p>
<h2 data-id="heading-3">ä¸ä¸€æ ·çš„æƒ³æ³•</h2>
<h3 data-id="heading-4">æŸäº›è§„åˆ™æ˜¯å¯ä»¥æ‰“ç ´çš„</h3>
<p><a href="https://juejin.cn/post/7584298069610283008" target="_blank" title="https://juejin.cn/post/7584298069610283008">juejin.cn/post/758429â€¦</a></p>
<ol>
<li>åªèƒ½åœ¨å‡½æ•°é¡¶éƒ¨ä½¿ç”¨ hook</li>
<li>æ¡ä»¶ hook</li>
<li>ç±»ç»„ä»¶å†…ä½¿ç”¨ hook</li>
</ol>
<h3 data-id="heading-5">ç±»ç»„ä»¶å®Œå…¨æ”¾å¼ƒäº†å—ï¼Ÿä»£ä»·æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>åœ¨æ–°çš„é¡¹ç›®ä¸­ï¼Œå‡ ä¹å·²ç»çœ‹ä¸åˆ°ç±»ç»„ä»¶è¢«ä½¿ç”¨ï¼ˆé™¤äº†æ‰‹æ“ ErrorBoundary)ã€‚</p>
<p>ä½†åœ¨äº«å— hook å¸¦æ¥å‡½æ•°å¼ç»„ä»¶é­”æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¼•å…¥äº†è®¸å¤šçš„é—®é¢˜</p>
<ol>
<li>ä¸ºäº†é˜²æ­¢å­ç»„ä»¶é‡æ¸²æŸ“ï¼Œéœ€è¦å¯¹å›è°ƒå‡½æ•°ã€æ•°æ®åš memoï¼ˆuseCallbackã€useMemo)</li>
<li>å°‘ä¼ ä¸ª depï¼Œå¯¼è‡´é—­åŒ…é—®é¢˜ã€å­ç»„ä»¶ä¸æ›´æ–°é—®é¢˜</li>
<li>ç„¶ååˆå¼•å…¥äº† React Compiler ã€useEventEffect</li>
</ol>
<p>è¿™å°±æœ‰ç‚¹ä¸ºäº†å¡«ä¸€ä¸ªå‘ï¼ŒæŒ–äº†å¦ä¸€ä¸ªå‘çš„æ„Ÿè§‰</p>
<p>ç±»ç»„ä»¶æ˜¯æœ‰å¯å–ä¹‹å¤„çš„ï¼Œæ¯”å¦‚</p>
<ol>
<li>
<p>å›è°ƒæ–¹æ³•é€šè¿‡ this.state æ˜¯å¯ä»¥å–åˆ°æœ€æ–°çš„çŠ¶æ€çš„ï¼Œå› æ­¤ä¸éœ€è¦é‚£ä¹ˆå¤š useCallback useMemoï¼Œå‡å°‘äº†æ€§èƒ½ä¼˜åŒ–çš„å¿ƒæ™ºè´Ÿæ‹…ï¼›</p>
</li>
<li>
<p>ref å¯ä»¥ç›´æ¥ä½¿ç”¨ç»„ä»¶çš„å±æ€§ï¼Œæ— éœ€åƒå‡½æ•°ç»„ä»¶é‚£æ ·å€ŸåŠ© useRef å†æ‰‹åŠ¨å…³è”ï¼Œæ“ä½œæ›´ç®€æ´ï¼›</p>
</li>
<li>
<p>ç”Ÿå‘½å‘¨æœŸé€»è¾‘æ—¶åºæ›´ç›´è§‚ï¼šç±»ç»„ä»¶é€šè¿‡ componentDidMountã€componentDidUpdateã€componentWillUnmount ç­‰æ˜ç¡®çš„é’©å­åˆ’åˆ†ç”Ÿå‘½å‘¨æœŸé˜¶æ®µï¼Œå¤æ‚å‰¯ä½œç”¨ï¼ˆå¦‚å¤šè½®æ•°æ®è¯·æ±‚ã€æ—¶åºä¾èµ–çš„èµ„æºæ“ä½œï¼‰çš„æ‰§è¡Œæ—¶æœºæ›´æ˜“æŠŠæ§ï¼Œæ— éœ€åƒ useEffect é‚£æ ·é€šè¿‡ä¾èµ–æ•°ç»„é—´æ¥æ§åˆ¶ï¼›</p>
</li>
<li>
<p>çŠ¶æ€æ›´æ–°æ”¯æŒè‡ªåŠ¨åˆå¹¶ï¼šç±»ç»„ä»¶ä¸­ setState ä¼šè‡ªåŠ¨åˆå¹¶å¯¹è±¡ç±»å‹çŠ¶æ€çš„éƒ¨åˆ†å±æ€§ï¼ˆå¦‚ this.setState({ name: 'new' }) ä¸ä¼šè¦†ç›–å…¶ä»–æœªä¿®æ”¹çš„çŠ¶æ€å­—æ®µï¼‰ï¼Œè€Œå‡½æ•°ç»„ä»¶ useState éœ€æ‰‹åŠ¨é€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼ˆ...ï¼‰å®ç°åˆå¹¶ï¼Œé™ä½äº†çŠ¶æ€æ›´æ–°çš„ä»£ç å¤æ‚åº¦ã€‚</p>
</li>
</ol>
<p>ä½† Hook åœ¨é€»è¾‘æ³¨å…¥ã€å¤ç”¨æ–¹é¢ç›¸æ¯”ç±»ç»„ä»¶æœ‰ç»å¯¹çš„ä¼˜åŠ¿ã€‚</p>
<p><strong>æ‰€ä»¥æœ‰æ²¡æœ‰äººæƒ³è¿‡åœ¨ç±»ç»„ä»¶é‡Œé¢ä½¿ç”¨ Hookï¼Œå°†ä¸¤è€…çš„ä¼˜åŠ¿ç»“åˆä¸€ä¸‹ï¼Ÿ</strong> <a href="https://juejin.cn/post/7584298069610283008#heading-4" target="_blank" title="https://juejin.cn/post/7584298069610283008#heading-4">juejin.cn/post/758429â€¦</a></p>
<h3 data-id="heading-6">Hook ä½œä¸ºçŠ¶æ€ç®¡ç†çš„ä¸€ç§æ–¹å¼ï¼Œå´ä¾èµ–äºç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3>
<p>æƒ³å¿… React å¼€å‘è€…æœ€å¤´ç–¼çš„å°±æ˜¯çŠ¶æ€ç®¡ç†æ–¹æ¡ˆäº†ï¼Œä½†æ˜¯ä¸€æ—¦å¼•å…¥äº†çŠ¶æ€ç®¡ç†æ–¹æ¡ˆå¦‚ reduxã€zustandï¼Œä½ ä¼šç›´æ¥å¤±å» Hook çš„èƒ½åŠ›ã€‚ <a href="https://juejin.cn/post/7591728734983208987#heading-7" target="_blank" title="https://juejin.cn/post/7591728734983208987#heading-7">juejin.cn/post/759172â€¦</a></p>
<p>åŸæœ¬å¯ä»¥ä½¿ç”¨ ahooks çš„ useRequest å‘èµ·è¯·æ±‚ï¼Œè¿ç§»åˆ° zustand ç›´æ¥å°±æ˜¯ä¸€å¨ã€‚</p>
<p>æ²¡æœ‰å¯¹æ¯”ï¼Œå°±çœŸæ²¡æœ‰ä¼¤å®³ã€‚</p>
<p>å¦‚æœä½ ç”¨è¿‡ vue ç”Ÿæ€ä¸­çš„ pinia <a href="https://link.juejin.cn?target=https%3A%2F%2Fpinia.vuejs.org%2Fzh%2Fcookbook%2Fcomposables.html%23setup-stores" target="_blank" title="https://pinia.vuejs.org/zh/cookbook/composables.html#setup-stores" ref="nofollow noopener noreferrer">pinia.vuejs.org/zh/cookbookâ€¦</a> ï¼Œå°±ä¼šçŸ¥é“ pinia æ˜¯å¯ä»¥ç›´æ¥å¤ç”¨ vue çš„ composition api ä»¥åŠ VueUse ç›¸å…³çš„èƒ½åŠ›çš„ã€‚</p>
<p>é’ˆå¯¹è¿™ä¸ªè¯¾é¢˜ï¼Œæˆ‘ä¹Ÿè¿›è¡Œäº†å°è¯•ã€‚ <a href="https://juejin.cn/post/7591207451779121178" target="_blank" title="https://juejin.cn/post/7591207451779121178">juejin.cn/post/759120â€¦</a></p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>ç»¼ä¸Šï¼ŒReact Hook ç»éå®Œç¾çš„â€œé“¶å¼¹â€ï¼Œè€Œæ˜¯ä¸€æŠŠå…¼å…·å¼ºå¤§èƒ½åŠ›ä¸ä½¿ç”¨é—¨æ§›çš„â€œåŒåˆƒå‰‘â€ã€‚å®ƒä»¥é©å‘½æ€§çš„é€»è¾‘å¤ç”¨æ–¹å¼ã€é›†ä¸­åŒ–çš„çŠ¶æ€ä¸å‰¯ä½œç”¨ç®¡æ§ï¼Œä»¥åŠå‹å¥½çš„å·¥ç¨‹åŒ–é€‚é…æ€§ï¼Œé‡å¡‘äº†Reactå‡½æ•°ç»„ä»¶çš„å¼€å‘æ¨¡å¼ï¼Œæˆä¸ºç°ä»£Reacté¡¹ç›®çš„ä¸»æµé€‰æ‹©ã€‚ä½†ä¸æ­¤åŒæ—¶ï¼Œä¾èµ–ç®¡ç†éš¾é¢˜ã€é—­åŒ…é™·é˜±ã€å‰¯ä½œç”¨æ¸…ç†é£é™©ç­‰ç—›ç‚¹ï¼Œä¹Ÿè®©å¼€å‘è€…é¢ä¸´æ›´é«˜çš„è®¤çŸ¥ä¸å®è·µæˆæœ¬ã€‚</p>
<p>å…³äºHookçš„è§„åˆ™ï¼Œå¹¶éç»å¯¹ä¸å¯çªç ´ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹é€šè¿‡åˆç†å°è£…å®ç°åŠ¨æ€Hookè°ƒç”¨ã€ç±»ç»„ä»¶é—´æ¥ä½¿ç”¨Hookç­‰æ¢ç´¢ï¼Œä¸ºç‰¹æ®Šéœ€æ±‚ï¼ˆå¦‚æ—§é¡¹ç›®è¿ç§»ï¼‰æä¾›äº†æ›´å¤šå¯èƒ½ï¼Œä½†éœ€è­¦æƒ•ä»£ç å¤æ‚åº¦æå‡çš„é£é™©ã€‚è€Œç±»ç»„ä»¶ä¸Hookçš„å–èˆä¹‹äº‰ï¼Œæœ¬è´¨æ˜¯å¼€å‘æ•ˆç‡ã€å¯ç»´æŠ¤æ€§ä¸æ€§èƒ½ä¹‹é—´çš„æƒè¡¡â€”â€”ç±»ç»„ä»¶åœ¨çŠ¶æ€è·å–ã€ç”Ÿå‘½å‘¨æœŸç›´è§‚æ€§ç­‰æ–¹é¢çš„ä¼˜åŠ¿ä»ä¸å¯å¿½è§†ï¼Œå®Œå…¨æ”¾å¼ƒå¯èƒ½é™·å…¥â€œä¸ºå¡«å‘è€ŒæŒ–æ–°å‘â€çš„å¾ªç¯ã€‚</p>
<p>æ­¤å¤–ï¼ŒHookä¾èµ–ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ç‰¹æ€§ï¼Œä½¿å…¶åœ¨çŠ¶æ€ç®¡ç†åœºæ™¯ä¸­å­˜åœ¨å¤©ç„¶å±€é™ï¼Œç›¸æ¯”Vue Piniaå¯¹ç»„åˆå¼APIçš„æ— ç¼å¤ç”¨èƒ½åŠ›ï¼Œä»æœ‰ä¼˜åŒ–ç©ºé—´ã€‚è¿™ä¹Ÿæç¤ºæˆ‘ä»¬ï¼Œä¸åº”ç›²ç›®è¿·ä¿¡Hookçš„â€œé­”æ³•â€ï¼Œè€Œåº”å›å½’å¼€å‘æœ¬è´¨ï¼šæ—¢è¦å……åˆ†å‘æŒ¥å…¶é€»è¾‘å¤ç”¨çš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œä¹Ÿè¦ç†æ€§çœ‹å¾…å…¶ä¸è¶³ï¼Œç»“åˆé¡¹ç›®åœºæ™¯ï¼ˆæ–°æ—§é¡¹ç›®ã€å¤æ‚åº¦ã€å›¢é˜Ÿä¹ æƒ¯ï¼‰çµæ´»é€‰æ‹©æŠ€æœ¯æ–¹æ¡ˆï¼Œç”šè‡³æ¢ç´¢ç±»ç»„ä»¶ä¸Hookçš„ä¼˜åŠ¿èåˆè·¯å¾„ã€‚æœ€ç»ˆï¼ŒæŠ€æœ¯çš„ä»·å€¼åœ¨äºè§£å†³é—®é¢˜ï¼Œå¯¹Hookçš„ç†è§£ä¸åº”å±€é™äºâ€œè§„èŒƒç”¨æ³•â€ï¼Œè€Œåº”åŸºäºå¯¹å…¶åº•å±‚é€»è¾‘çš„æ·±åˆ»è®¤çŸ¥ï¼Œå®ç°çµæ´»ã€é«˜æ•ˆä¸”ç¨³å®šçš„å¼€å‘å®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React æ€§èƒ½ä¼˜åŒ–çš„â€œå§é¾™å‡¤é›â€ï¼šuseMemo ä¸ useCallback åˆ°åº•è¯¥æ€ä¹ˆç”¨]]></title>    <link>https://juejin.cn/post/7592382702944501806</link>    <guid>https://juejin.cn/post/7592382702944501806</guid>    <pubDate>2026-01-07T08:55:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592382702944501806" data-draft-id="7592382702944485422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" React æ€§èƒ½ä¼˜åŒ–çš„â€œå§é¾™å‡¤é›â€ï¼šuseMemo ä¸ useCallback åˆ°åº•è¯¥æ€ä¹ˆç”¨"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-07T08:55:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½å…°åœ°ç©ºç“¶"/> <meta itemprop="url" content="https://juejin.cn/user/191753514127514"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             React æ€§èƒ½ä¼˜åŒ–çš„â€œå§é¾™å‡¤é›â€ï¼šuseMemo ä¸ useCallback åˆ°åº•è¯¥æ€ä¹ˆç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/191753514127514/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½å…°åœ°ç©ºç“¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:55:16.000Z" title="Wed Jan 07 2026 08:55:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React çš„ä¸–ç•Œé‡Œï¼Œç»„ä»¶çš„æ¸²æŸ“å°±åƒä¸€åœºâ€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„å¤šç±³è¯ºéª¨ç‰Œã€‚çˆ¶ç»„ä»¶æ‰“ä¸ªå–·åšï¼ˆState å˜äº†ï¼‰ï¼Œåº•ä¸‹çš„å­ç»„ä»¶å…¨å¾—è·Ÿç€æ„Ÿå†’ï¼ˆé‡æ–°æ¸²æŸ“ï¼‰ã€‚</p>
<p>è™½ç„¶ React å¤Ÿå¿«ï¼Œä½†å¦‚æœä½ çš„ç»„ä»¶é‡Œä½ç€ä¸€åªâ€œåé‡‘å…½â€ï¼ˆæ˜‚è´µçš„è®¡ç®—é€»è¾‘ï¼‰ï¼Œæˆ–è€…ä½ çš„å­ç»„ä»¶æ˜¯ä¸ªâ€œå¼ºè¿«ç—‡â€ï¼ˆéè¦ Props å®Œå…¨æ²¡å˜æ‰è‚¯ä¸æ¸²æŸ“ï¼‰ï¼Œé‚£ä½ å°±å¾—è¯·å‡º React æ€§èƒ½ä¼˜åŒ–çš„ä¸¤å°Šå¤§ç¥äº†ï¼š<strong><code>useMemo</code></strong> å’Œ <strong><code>useCallback</code></strong>ã€‚</p>
<p>å¾ˆå¤šäººåˆ†ä¸æ¸…å®ƒä¿©ï¼Œå…¶å®å¾ˆç®€å•ï¼š</p>
<ul>
<li><strong><code>useMemo</code></strong> ç¼“å­˜çš„æ˜¯<strong>ç»“æœ</strong>ï¼ˆè„‘å­è½¬å®Œäº§å‡ºçš„ä¸œè¥¿ï¼‰ã€‚</li>
<li><strong><code>useCallback</code></strong> ç¼“å­˜çš„æ˜¯<strong>å‡½æ•°æœ¬èº«</strong>ï¼ˆå¹²æ´»çš„å·¥å…·ï¼‰ã€‚</li>
</ul>
<p>ä»Šå¤©å’±ä»¬å°±æ‹¿ä¸€æ®µçœŸå®çš„ä»£ç ï¼Œæ‰’ä¸€æ‰’è¿™ä¿©è´§åˆ°åº•æ€ä¹ˆå¸®æˆ‘ä»¬çœèµ„æºã€‚</p>
<hr/>
<h2 data-id="heading-0">useMemoï¼šç»™ä½ çš„ç»„ä»¶è£…ä¸ªâ€œç¼“å­˜å¤§è„‘â€</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ªè¶…çº§å¤æ‚çš„æ•°å­¦é¢˜è¦ç®—ï¼ˆæ¯”å¦‚ä» 0 åŠ åˆ° 1000 ä¸‡ï¼‰ã€‚</p>
<h3 data-id="heading-1">ä¼˜åŒ–å‰ï¼šç¬¨ç¬¨çš„å¤è¯»æœº</h3>
<p>çœ‹è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>slowSum</code> å‡½æ•°ï¼Œå®ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªè€—æ—¶çš„è®¡ç®—è¿‡ç¨‹ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ˜‚è´µçš„è®¡ç®—ï¼šæ¨¡æ‹Ÿ CPU å¯†é›†å‹ä»»åŠ¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">slowSum</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ”¥ ç–¯ç‹‚è®¡ç®—ä¸­...'</span>);
  <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
  <span class="hljs-comment">// å‡è£…è¿™é‡Œè·‘äº†å¾ˆä¹…</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n * <span class="hljs-number">10000000</span>; i++) {
    sum += i;
  }
  <span class="hljs-keyword">return</span> sum;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// è¿™ä¸ª state å’Œè®¡ç®—æ¯«æ— å…³ç³»</span>
  <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);     <span class="hljs-comment">// è¿™ä¸ª state æ‰æ˜¯è®¡ç®—éœ€è¦çš„</span>

  <span class="hljs-comment">// ğŸ˜± ç¾éš¾ç°åœºï¼š</span>
  <span class="hljs-comment">// åªè¦ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼ˆæ¯”å¦‚ä½ ç‚¹å‡»äº† count+1ï¼‰ï¼Œè¿™è¡Œä»£ç å°±ä¼šé‡æ–°è·‘ä¸€éï¼</span>
  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">slowSum</span>(num); 

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡ç®—ç»“æœï¼š{result}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      {/* ç‚¹å‡»è¿™é‡Œï¼ŒslowSum å±…ç„¶ä¹Ÿä¼šæ‰§è¡Œï¼Ÿï¼ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;Count + 1 (æ— è¾œè·¯äºº)<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> 
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum(num + 1)}&gt;Num + 1 (æ­£ä¸»)<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<p><strong>ç—›ç‚¹</strong>ï¼šå½“ä½ ç‚¹å‡» <code>Count + 1</code> æ—¶ï¼Œæ˜æ˜ <code>num</code> æ²¡å˜ï¼Œç»“æœä¹Ÿæ²¡å˜ï¼Œä½† React é‡æ–°æ‰§è¡Œç»„ä»¶å‡½æ•°ï¼Œ<code>slowSum</code> åˆå‚»ä¹ä¹åœ°è·‘äº†ä¸€éã€‚é¡µé¢å¡é¡¿éšä¹‹è€Œæ¥ã€‚</p>
<h3 data-id="heading-2">ä¼˜åŒ–åï¼šå­¦ä¼šâ€œå·æ‡’â€</h3>
<p>è¿™æ—¶å€™ <code>useMemo</code> å°±ç™»åœºäº†ã€‚å®ƒåƒä¸€ä¸ªè®°æ€§å¾ˆå¥½çš„ä¼šè®¡ï¼Œåªæœ‰å½“<strong>ä¾èµ–é¡¹</strong>ï¼ˆè´¦æœ¬ï¼‰å˜äº†ï¼Œå®ƒæ‰é‡æ–°ç®—ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// âœ… æ™ºèƒ½ç¼“å­˜</span>
const result = <span class="hljs-built_in">useMemo</span>(() =&gt; {
  return <span class="hljs-built_in">slowSum</span>(num);
}, <span class="hljs-selector-attr">[num]</span>); <span class="hljs-comment">// ğŸ‘ˆ åªæœ‰å½“ num å˜äº†ï¼Œæ‰é‡æ–°è·‘é‡Œé¢çš„å‡½æ•°</span>
</code></pre>
<p>ç°åœ¨ä½ å†ç–¯ç‹‚ç‚¹å‡» <code>Count + 1</code>ï¼Œæ§åˆ¶å°ä¸ä¼šå†æ‰“å°â€œè®¡ç®—ä¸­...â€ï¼Œé¡µé¢ä¸èˆ¬é¡ºæ»‘ã€‚</p>
<h3 data-id="heading-3">åœºæ™¯äºŒï¼šä»£æ›¿ Vue çš„ Computed</h3>
<p>é™¤äº†æ˜‚è´µè®¡ç®—ï¼Œ<code>useMemo</code> ä¹Ÿæ˜¯å¤„ç†<strong>æ´¾ç”ŸçŠ¶æ€</strong>çš„ç¥å™¨ï¼Œç±»ä¼¼äº Vue é‡Œçš„ <code>computed</code>ã€‚</p>
<p>æ¯”å¦‚è¿™é‡Œæœ‰ä¸€ä¸ªè¿‡æ»¤åˆ—è¡¨çš„éœ€æ±‚ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[keyword, setKeyword]</span> = useState('')<span class="hljs-comment">;</span>
const <span class="hljs-attr">list</span> = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'orange'</span>, <span class="hljs-string">'pear'</span>]<span class="hljs-comment">;</span>

// å¦‚æœä¸ç”¨ useMemoï¼š
// æ¯æ¬¡ç»„ä»¶æ¸²æŸ“ï¼ˆæ¯”å¦‚ count å˜äº†ï¼‰ï¼Œfilter éƒ½ä¼šé‡æ–°éå†æ•°ç»„ã€‚
// è™½ç„¶è¿™é‡Œæ•°ç»„å°çœ‹ä¸å‡ºæ€§èƒ½æŸè€—ï¼Œä½†å¦‚æœæ˜¯å¤§æ•°æ®åˆ—è¡¨ï¼Œè¿™å°±æ˜¯æ€§èƒ½æ€æ‰‹ã€‚

const <span class="hljs-attr">filterList</span> = useMemo(() =&gt; {
  // åªæœ‰å…³é”®è¯å˜äº†ï¼Œæˆ‘æ‰é‡æ–°è¿‡æ»¤
  return list.filter(<span class="hljs-attr">item</span> =&gt; item.includes(keyword))<span class="hljs-comment">;</span>
}, <span class="hljs-section">[keyword]</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><em>(æ³¨ï¼š<code>includes('')</code> é»˜è®¤ä¸º trueï¼Œæ‰€ä»¥åˆå§‹çŠ¶æ€ä¼šæ˜¾ç¤ºæ‰€æœ‰æ°´æœï¼Œå®Œç¾ç¬¦åˆæœç´¢é€»è¾‘ã€‚)</em></p>
<hr/>
<h2 data-id="heading-4">useCallback + memoï¼šçˆ¶å­ç»„ä»¶çš„â€œå®šæƒ…ä¿¡ç‰©â€</h2>
<p>æ¥ä¸‹æ¥èŠèŠ <strong><code>useCallback</code></strong>ã€‚å¾ˆå¤šäººè§‰å¾—ï¼šâ€œæˆ‘ä¸å°±ä¼ ä¸ªå‡½æ•°ç»™å­ç»„ä»¶å—ï¼Œä¸ºå•¥è¦åŒ…ä¸€å±‚ï¼Ÿâ€</p>
<p>è¿™å¾—ä» JavaScript çš„ç‰¹æ€§è¯´èµ·ã€‚</p>
<h3 data-id="heading-5">ä¼˜åŒ–å‰ï¼šæœ€ç†Ÿæ‚‰çš„é™Œç”Ÿäºº</h3>
<p>çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼  Propsï¼Œå­ç»„ä»¶ç”¨ <code>React.memo</code> åŒ…è£¹ï¼Œæœ¬æ¥æ˜¯æƒ³åšæ€§èƒ½ä¼˜åŒ–ï¼ˆProps ä¸å˜å°±ä¸é‡æ–°æ¸²æŸ“ï¼‰ã€‚ä½†æ˜¯...</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å­ç»„ä»¶ï¼šä½¿ç”¨äº† memoï¼Œç†è®ºä¸Š Props ä¸å˜æˆ‘å°±ä¸æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ handleClick }</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ‘¶ Child é‡æ–°æ¸²æŸ“äº† (æˆ‘ä¸æƒ³è¿™æ ·)'</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// ğŸ˜± é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼š</span>
  <span class="hljs-comment">// æ¯æ¬¡ App é‡æ–°æ¸²æŸ“ï¼ŒhandleClick éƒ½ä¼šè¢«é‡æ–°å®šä¹‰ï¼</span>
  <span class="hljs-comment">// åœ¨ JS é‡Œï¼Œfunction A() {} !== function A() {}</span>
  <span class="hljs-comment">// å¼•ç”¨åœ°å€å˜äº† -&gt; memo è®¤ä¸º Props å˜äº† -&gt; å­ç»„ä»¶è¢«è¿«æ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'click'</span>);
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* æˆ‘æ”¹äº† countï¼Œè·Ÿ Child åŠæ¯›é’±å…³ç³»æ²¡æœ‰ï¼Œä½† Child è¿˜æ˜¯æ¸²æŸ“äº† */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;Count + 1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">handleClick</span>=<span class="hljs-string">{handleClick}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>ç—›ç‚¹</strong>ï¼š<code>React.memo</code> å°±åƒä¸€ä¸ªä¸¥æ ¼çš„ä¿å®‰ï¼Œå®ƒå¯¹æ¯” Props æ˜¯å¦å˜åŒ–ç”¨çš„æ˜¯â€œæµ…æ¯”è¾ƒâ€ï¼ˆå¼•ç”¨å¯¹æ¯”ï¼‰ã€‚å› ä¸ºçˆ¶ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°åœ°å€ï¼Œä¿å®‰è§‰å¾—ï¼šâ€œè¿™å‡½æ•°æ¢äººäº†ï¼â€ äºæ˜¯æ”¾è¡Œï¼Œå¯¼è‡´å­ç»„ä»¶æ— æ„ä¹‰æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-6">ä¼˜åŒ–åï¼šç»™å‡½æ•°å‘ä¸ªâ€œèº«ä»½è¯â€</h3>
<p><code>useCallback</code> çš„ä½œç”¨å°±æ˜¯æŠŠè¿™ä¸ªå‡½æ•°â€œå›ºåŒ–â€ä¸‹æ¥ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… ä¿æŒå‡½æ•°å¼•ç”¨ç¨³å®š</span>
<span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'click'</span>);
}, []); <span class="hljs-comment">// ä¾èµ–ä¸ºç©ºï¼Œè¯´æ˜è¿™ä¸ªå‡½æ•°æ°¸è¿œæ˜¯åŒä¸€ä¸ªå¼•ç”¨åœ°å€</span>
</code></pre>
<p>ç°åœ¨ï¼Œå½“ä½ ç‚¹å‡» <code>Count + 1</code> æ—¶ï¼Œçˆ¶ç»„ä»¶é‡æ¸²æŸ“äº†ï¼Œä½† <code>handleClick</code> è¿˜æ˜¯åŸæ¥é‚£ä¸ª <code>handleClick</code>ã€‚<code>Child</code> ç»„ä»¶å‘ç° Props æ²¡å˜ï¼Œå°±å®‰å¿ƒåœ°èººå¹³ä¸æ¸²æŸ“äº†ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ éœ€è¦åœ¨å›è°ƒé‡Œç”¨åˆ° <code>count</code>ï¼Œè®°å¾—æŠŠå®ƒåŠ è¿›ä¾èµ–æ•°ç»„ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å¦‚æœä¾èµ–æ•°ç»„é‡Œæ²¡å†™ countï¼Œè¿™é‡Œæ°¸è¿œæ‰“å° 0 (é—­åŒ…é™·é˜±)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'click'</span>, count); 
}, [count]); 
<span class="hljs-comment">// ğŸ‘† ä¸€æ—¦ count å˜äº†ï¼Œå‡½æ•°å¼•ç”¨è¿˜æ˜¯ä¼šå˜ï¼ŒChild è¿˜æ˜¯ä¼šæ¸²æŸ“ã€‚</span>
<span class="hljs-comment">// è¿™æ˜¯ä¸ºäº†ä¿è¯é€»è¾‘æ­£ç¡®æ€§å¿…é¡»ä»˜å‡ºçš„ä»£ä»·ã€‚</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>åˆ«ä¸ºäº†ä¼˜åŒ–è€Œä¼˜åŒ–ã€‚<code>useMemo</code> å’Œ <code>useCallback</code> ä¹Ÿæ˜¯æœ‰æˆæœ¬çš„ï¼ˆå®ƒä»¬æœ¬èº«ä¹Ÿéœ€è¦æ¶ˆè€—å†…å­˜æ¥åšä¾èµ–å¯¹æ¯”ï¼‰ã€‚</p>
<p><strong>è¯·éµå¾ªè¿™å¥—â€œå¿ƒæ³•â€ï¼š</strong></p>
<ol>
<li>
<p><strong>useMemo</strong>ï¼š</p>
<ul>
<li><strong>æ˜‚è´µè®¡ç®—</strong>ï¼šå½“ä½ çœ‹åˆ° <code>for</code> å¾ªç¯æ¬¡æ•°å·¨å¤§ï¼Œæˆ–è€…å¤æ‚çš„é€’å½’æ—¶ã€‚</li>
<li><strong>å¼•ç”¨ç¨³å®š</strong>ï¼šå½“ä½ è®¡ç®—å‡ºçš„å¯¹è±¡/æ•°ç»„ï¼Œè¦ä½œä¸º <code>useEffect</code> çš„ä¾èµ–é¡¹ï¼Œæˆ–è€…ä¼ ç»™è¢« <code>memo</code> åŒ…è£¹çš„å­ç»„ä»¶æ—¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>useCallback</strong>ï¼š</p>
<ul>
<li><strong>é…åˆ React.memo</strong>ï¼šå½“ä½ çš„å‡½æ•°éœ€è¦ä¼ ç»™ä¸€ä¸ªâ€œå¾ˆé‡â€çš„å­ç»„ä»¶ï¼Œä¸”è¯¥å­ç»„ä»¶è¢« <code>memo</code> åŒ…è£¹æ—¶ã€‚</li>
<li><strong>ä½œä¸º Hooks ä¾èµ–</strong>ï¼šå½“è¿™ä¸ªå‡½æ•°è¦è¢«ç”¨ä½œ <code>useEffect</code> çš„ä¾èµ–é¡¹æ—¶ã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨å¿ƒå†™å¥½ä¸€ä¸ªç™»å½•é¡µï¼šä»£ç ã€ä½“éªŒä¸ç»†èŠ‚çš„å¹³è¡¡]]></title>    <link>https://juejin.cn/post/7592236397535477796</link>    <guid>https://juejin.cn/post/7592236397535477796</guid>    <pubDate>2026-01-07T09:09:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592236397535477796" data-draft-id="7592159803410317348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨å¿ƒå†™å¥½ä¸€ä¸ªç™»å½•é¡µï¼šä»£ç ã€ä½“éªŒä¸ç»†èŠ‚çš„å¹³è¡¡"/> <meta itemprop="keywords" content="React.js,äº¤äº’è®¾è®¡,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T09:09:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰æ„ä¹‰"/> <meta itemprop="url" content="https://juejin.cn/user/1739866211617625"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨å¿ƒå†™å¥½ä¸€ä¸ªç™»å½•é¡µï¼šä»£ç ã€ä½“éªŒä¸ç»†èŠ‚çš„å¹³è¡¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1739866211617625/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰æ„ä¹‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:09:26.000Z" title="Wed Jan 07 2026 09:09:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨å‰é¢</h2>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ React + Vite + Tailwind CSS + Lucide Reactï¼Œå¿«é€Ÿæ­å»ºä¸€ä¸ªç®€æ´ã€å“åº”å¼ä¸”æ³¨é‡ç»†èŠ‚çš„ç™»å½•é¡µé¢ï¼Œå¹¶é¡ºæ‰‹æ‹†è§£å‡ ä¸ªæå‡ç”¨æˆ·ä½“éªŒçš„å°æŠ€å·§ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆç™»å½•é¡µé¢éå¸¸é‡è¦ï¼Ÿ</h3>
<p>åˆ«å°çœ‹è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„é¡µé¢â€”â€”å®ƒå¾€å¾€æ˜¯ç”¨æˆ·å¯¹äº§å“çš„<strong>ç¬¬ä¸€å°è±¡</strong>ã€‚<br/>
ç™»å½•é¡µè¿œä¸æ­¢æ˜¯ä¸€ä¸ªè¡¨å•ï¼Œæ›´æ˜¯æ•´ä¸ªäº§å“ä½“éªŒçš„<strong>å…¥å£</strong>ï¼šè®¾è®¡å¾—å½“ï¼Œç”¨æˆ·é¡ºç•…è¿›å…¥ï¼›å¤„ç†è‰ç‡ï¼Œå¯èƒ½ç›´æ¥å¯¼è‡´æµå¤±ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a294e1b021541f893835239842e99b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oSP5LmJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768381766&amp;x-signature=e0TwqHa5UeaYJWiIxpvAM%2BaAszw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ç”¨tindwindcsså®Œæˆä¸€ä¸ªç™»å½•é¡µé¢ã€‚</h2>
<p>å€ŸåŠ© Tailwind CSS çš„åŸå­åŒ–ç±»åä½“ç³»ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé«˜æ•ˆæ„å»ºå‡ºç¾è§‚ã€å“åº”å¼ä¸”é«˜åº¦å¯å®šåˆ¶çš„ç™»å½•ç•Œé¢ã€‚</p>
<p>æ— éœ€ä¼ ç»Ÿ CSSï¼Œä»…é€šè¿‡ç»„åˆè¯­ä¹‰æ¸…æ™°çš„å·¥å…·ç±»ï¼Œå³å¯å®ç°ç²¾è‡´çš„å¸ƒå±€ã€æŸ”å’Œçš„é˜´å½±ã€æµç•…çš„è¿‡æ¸¡åŠ¨ç”»ä»¥åŠè·¨è®¾å¤‡çš„è‡ªé€‚åº”è¡¨ç°ã€‚</p>
<p>é…åˆ React çš„çŠ¶æ€ç®¡ç†ä¸ Lucide React çš„ç®€æ´å›¾æ ‡ï¼Œæ•´ä¸ªç™»å½•é¡µä¸ä»…è§†è§‰æ¸…çˆ½ï¼Œäº¤äº’ä¹Ÿç»†è…»è‡ªç„¶â€”â€”ä»å¯†ç å¯è§æ€§åˆ‡æ¢åˆ°èšç„¦æ€åé¦ˆï¼Œæ¯ä¸€å¤„ç»†èŠ‚éƒ½æœåŠ¡äºç”¨æˆ·ä½“éªŒã€‚</p>
<blockquote>
<p>è¿™ä¸ä»…æ˜¯â€œå®Œæˆä¸€ä¸ªè¡¨å•â€ï¼Œæ›´æ˜¯ç”¨ä»£ç ä¼ é€’ä¿¡ä»»ä¸æ¸©åº¦çš„è¿‡ç¨‹ã€‚</p>
</blockquote>
<h3 data-id="heading-3">è¿™é‡Œç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯æ ˆ</h3>
<p>è¿™ä¸ªå°é¡¹ç›®åŸºäºç°ä»£å‰ç«¯å·¥ç¨‹åŒ–ç†å¿µæ„å»ºï¼Œé€‰ç”¨äº†ä»¥ä¸‹è½»é‡çš„æŠ€æœ¯ç»„åˆï¼š</p>
<p><strong>React</strong>ï¼šä½œä¸ºæ ¸å¿ƒ UI åº“ï¼Œåˆ©ç”¨å…¶å£°æ˜å¼è¯­æ³•å’Œç»„ä»¶åŒ–æ€æƒ³ï¼Œå°†ç™»å½•è¡¨å•æ‹†è§£ä¸ºå¯ç»´æŠ¤ã€å¯å¤ç”¨çš„é€»è¾‘å•å…ƒã€‚é€šè¿‡Â useStateÂ ç­‰ Hooks ç®¡ç†çŠ¶æ€ï¼Œå®ç°æ•°æ®é©±åŠ¨çš„äº¤äº’ä½“éªŒã€‚</p>
<p><strong>Tailwind CSS</strong>ï¼šé‡‡ç”¨ Utility-Firstï¼ˆåŸå­åŒ–ï¼‰å¼€å‘æ¨¡å¼ï¼Œæ‘’å¼ƒä¼ ç»Ÿ CSS çš„å‘½åè´Ÿæ‹…ä¸æ ·å¼å†—ä½™ã€‚æ‰€æœ‰æ ·å¼ç›´æ¥é€šè¿‡è¯­ä¹‰æ¸…æ™°çš„ç±»ååœ¨ JSX ä¸­ç»„åˆè€Œæˆï¼Œæå¤§æå‡å¼€å‘æ•ˆç‡ä¸è®¾è®¡ä¸€è‡´æ€§ï¼ŒåŒæ—¶å¤©ç„¶æ”¯æŒå“åº”å¼å¸ƒå±€å’Œä¸»é¢˜æ‰©å±•ã€‚</p>
<p><strong>Lucide React</strong>ï¼šä¸€ä¸ªè½»é‡ã€å¼€æºä¸”é£æ ¼ç»Ÿä¸€çš„å›¾æ ‡åº“ï¼Œæä¾›ç®€æ´ä¼˜é›…çš„ SVG å›¾æ ‡ç»„ä»¶ã€‚é¡¹ç›®ä¸­ä½¿ç”¨äº†Â <code>&lt;Mail /&gt;</code>ã€<code>&lt;Lock /&gt;</code>ã€<code>&lt;Eye /&gt;</code>Â å’ŒÂ <code>&lt;EyeOff /&gt;</code>Â ç­‰å›¾æ ‡ï¼Œå¢å¼ºç•Œé¢è§†è§‰å¼•å¯¼ï¼Œä¸”æ— éœ€é¢å¤–é…ç½®å³å¯ä¸ Tailwind æ ·å¼æ— ç¼èåˆã€‚</p>
<p>è¿™å¥—æŠ€æœ¯æ ˆå…¼é¡¾å¼€å‘ä½“éªŒä¸è¿è¡Œæ€§èƒ½ï¼Œæ—¢é€‚åˆå¿«é€ŸåŸå‹éªŒè¯ï¼Œä¹Ÿå…·å¤‡è‰¯å¥½çš„å¯ç»´æŠ¤æ€§ä¸æ‰©å±•èƒ½åŠ›ï¼Œæ˜¯æ„å»ºç°ä»£åŒ–ç™»å½•ç•Œé¢çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<h3 data-id="heading-4">è¿™é‡Œç”¨åˆ°çš„tindwind ç±»åçš„è§£é‡Šï¼š</h3>
<ol>
<li><code>min-h-screen</code>Â â€” è®¾ç½®å…ƒç´ æœ€å°é«˜åº¦ä¸ºè§†å£é«˜åº¦</li>
<li><code>bg-slate-50</code>Â â€” è®¾ç½®èƒŒæ™¯è‰²ä¸ºæµ… slate ç°ï¼ˆéå¸¸æ·¡çš„ç°è‰²ï¼‰</li>
<li><code>flex items-center justify-center</code>Â â€” ä½¿ç”¨ Flex å¸ƒå±€ï¼Œå‚ç›´å’Œæ°´å¹³å±…ä¸­å­å…ƒç´ </li>
<li><code>p-4</code>Â â€” å†…è¾¹è·ä¸º 1remï¼ˆ16pxï¼‰</li>
<li><code>max-w-md</code>Â â€” æœ€å¤§å®½åº¦ä¸ºä¸­ç­‰å°ºå¯¸ï¼ˆé»˜è®¤ 28rem / 448pxï¼‰</li>
<li><code>bg-white</code>Â â€” èƒŒæ™¯è‰²ä¸ºçº¯ç™½è‰²</li>
<li><code>rounded-3xl</code>Â â€” åœ†è§’éå¸¸å¤§ï¼ˆé»˜è®¤ 1.5rem / 24pxï¼‰</li>
<li><code>shadow-xl</code>Â â€” æ·»åŠ è¶…å¤§é˜´å½±ï¼Œå¢å¼ºæµ®å±‚æ„Ÿ</li>
<li><code>border-slate-100</code>Â â€” è¾¹æ¡†é¢œè‰²ä¸ºææµ… slate ç°</li>
<li><code>space-y-6</code>Â â€” å­å…ƒç´ ä¹‹é—´å‚ç›´é—´è·ä¸º 1.5remï¼ˆ24pxï¼‰</li>
</ol>
<h2 data-id="heading-5">å®ç°ç™»å½•é¡µé¢çš„ä¸€äº›å…³é”®é€»è¾‘ï¼š</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> [formData,setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">email</span>:<span class="hljs-string">''</span>,
    <span class="hljs-attr">password</span>:<span class="hljs-string">''</span>,
    <span class="hljs-attr">rememberMe</span>:<span class="hljs-literal">false</span>
  })
</code></pre>
<p>è¿™é‡Œé€šè¿‡Â useStateÂ å®šä¹‰äº†Â formDataÂ çŠ¶æ€ï¼Œç”¨äºç»Ÿä¸€ç®¡ç†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼ŒåŒ…æ‹¬emailã€passwordä»¥åŠrememberMe</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">const</span> [showPassword,setShowPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">const</span> [isLoading,setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
</code></pre>
<p>ä½¿ç”¨å¦ä¸€ä¸ªçŠ¶æ€Â showPasswordÂ æ¥æ§åˆ¶å¯†ç å­—æ®µçš„å¯è§æ€§ã€‚å½“è¯¥å€¼ä¸º falseÂ æ—¶ï¼Œå¯†ç ä»¥å¯†æ–‡å½¢å¼æ˜¾ç¤ºï¼›åˆ‡æ¢ä¸ºÂ trueÂ æ—¶ï¼Œåˆ™ä»¥æ˜æ–‡å±•ç¤ºï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶åœ¨<strong>ç§»åŠ¨ç«¯è¾“å…¥å¤æ‚å¯†ç æ—¶éå¸¸å®ç”¨</strong>ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜å®šä¹‰äº†Â <code>isLoading</code>Â çŠ¶æ€ï¼Œç”¨äºè¡¨ç¤ºç™»å½•è¯·æ±‚æ˜¯å¦æ­£åœ¨è¿›è¡Œä¸­ã€‚è™½ç„¶å½“å‰ä»£ç ä¸­å°šæœªæ¥å…¥å®é™…çš„ API è°ƒç”¨ï¼Œä½†è¿™ä¸€çŠ¶æ€ä¸ºæœªæ¥é˜²æ­¢é‡å¤æäº¤ã€æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨ç­‰äº¤äº’æä¾›äº†åŸºç¡€æ”¯æŒã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> =  (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">const</span> {name,value,type,checked} = e.<span class="hljs-property">target</span>;<span class="hljs-comment">//input</span>
    <span class="hljs-title function_">setFormData</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({
      ...prev,
      [name]:type === <span class="hljs-string">"checkbox"</span> ? checked : value
    }));
  }
</code></pre>
<p>è¡¨å•çš„è¾“å…¥å˜åŒ–ç”±Â handleChangeÂ å‡½æ•°ç»Ÿä¸€å¤„ç†ã€‚</p>
<p>å®ƒé€šè¿‡è§£æ„äº‹ä»¶å¯¹è±¡çš„Â nameã€valueã€typeÂ å’ŒÂ checkedÂ å±æ€§ï¼Œæ™ºèƒ½åˆ¤æ–­å½“å‰å…ƒç´ ç±»å‹ï¼šè‹¥æ˜¯å¤é€‰æ¡†ï¼ˆå¦‚â€œè®°ä½æˆ‘â€ï¼‰ï¼Œåˆ™å–Â checkedÂ å€¼ï¼›å¦åˆ™å–Â valueã€‚éšåï¼Œåˆ©ç”¨å‡½æ•°å¼æ›´æ–°æ–¹å¼å®‰å…¨åœ°åˆå¹¶æ–°å€¼åˆ°Â formDataÂ ä¸­ï¼Œç¡®ä¿çŠ¶æ€æ›´æ–°çš„å‡†ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span>(<span class="hljs-params">e</span>) =&gt; {
      e.<span class="hljs-title function_">preventDefault</span>();
    }
</code></pre>
<p>è¡¨å•æäº¤ç”±Â handleSubmitÂ å‡½æ•°æ¥ç®¡ï¼Œå…¶é¦–è¦ä»»åŠ¡æ˜¯è°ƒç”¨Â e.preventDefault()Â <strong>é˜»æ­¢æµè§ˆå™¨é»˜è®¤çš„é¡µé¢è·³è½¬æˆ–åˆ·æ–°è¡Œä¸º</strong></p>
<p>æˆ‘ä»¬åœ¨è¾“å…¥æ¡†ä¸­é”®å…¥å†…å®¹æ—¶ï¼ŒhandleChangeÂ ä¼šå®æ—¶æ•è·å¹¶æ›´æ–°å¯¹åº”çŠ¶æ€ï¼›ç‚¹å‡»â€œç™»å½•â€æŒ‰é’®æ—¶ï¼ŒhandleSubmitÂ è¢«è§¦å‘ï¼Œå‡†å¤‡å‘èµ·è®¤è¯è¯·æ±‚ï¼›è€Œç‚¹å‡»å¯†ç æ¡†å³ä¾§çš„çœ¼ç›å›¾æ ‡ï¼Œåˆ™ä¼šåˆ‡æ¢Â showPasswordÂ çŠ¶æ€ï¼ŒåŠ¨æ€æ”¹å˜å¯†ç è¾“å…¥æ¡†çš„Â typeÂ å±æ€§ï¼Œå®ç°å¯†ç çš„æ˜¾ç¤ºä¸éšè—ã€‚</p>
<p>æ•´ä¸ªæµç¨‹ç»“æ„æ¸…æ™°ã€çŠ¶æ€é›†ä¸­ã€æ‰©å±•æ€§å¼ºï¼Œä¸ºæ„å»º<strong>å¥å£®</strong>çš„ç™»å½•ç•Œé¢æ‰“ä¸‹äº†è‰¯å¥½åŸºç¡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68e48cce52d643449ea15f475df1b38e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oSP5LmJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768381766&amp;x-signature=LmX59uQCjtUsBTqGHuuokgdgEK4%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6">ä¸ºä»€ä¹ˆè¿™ä¸ªç™»å½•é¡µâ€œå¯ç»´æŠ¤â€ï¼Ÿ</h3>
<p>è¿™ä»½ä»£ç ä¹‹æ‰€ä»¥æ˜“äºè¿­ä»£å’Œè°ƒè¯•ï¼Œå¹¶éå¶ç„¶ã€‚<strong>æ‰€æœ‰è¡¨å•æ•°æ®è¢«ç»Ÿä¸€æ”¶çº³åœ¨Â <code>formData</code>Â å¯¹è±¡ä¸­</strong>ç»“æ„æ¸…æ™°ï¼Œä¾¿äºè¿½è¸ªçŠ¶æ€å˜åŒ–</p>
<p>è¾“å…¥å¤„ç†é€»è¾‘è¢«æŠ½è±¡ä¸ºé€šç”¨çš„Â handleChangeÂ å‡½æ•°ï¼Œæ— è®ºé¢å¯¹æ–‡æœ¬è¾“å…¥ã€å¯†ç æ¡†è¿˜æ˜¯å¤é€‰æ¡†ï¼Œéƒ½èƒ½è‡ªåŠ¨åˆ¤æ–­ç±»å‹å¹¶æ›´æ–°å¯¹åº”å­—æ®µï¼Œå½»åº•é¿å…äº†é‡å¤ä»£ç </p>
<p>UI å±‚é¢å®Œå…¨ç”± Tailwind çš„è¯­ä¹‰åŒ–ç±»åæè¿°å¤–è§‚ï¼Œè€Œ React çŠ¶æ€åˆ™ä¸“æ³¨è¡¨è¾¾äº¤äº’è¡Œä¸ºï¼Œ<strong>ä¸¤è€…èŒè´£åˆ†æ˜ã€äº’ä¸è€¦åˆã€‚</strong></p>
<p>æ­£å› å¦‚æ­¤ï¼Œæœªæ¥çš„æ‰©å±•å˜å¾—å¼‚å¸¸è½»æ¾ï¼šè‹¥éœ€æ–°å¢â€œéªŒè¯ç â€å­—æ®µï¼Œåªéœ€åœ¨çŠ¶æ€å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§å¹¶ç»‘å®šåˆ°æ–°è¾“å…¥æ¡†ï¼›è‹¥æƒ³åŠ å…¥â€œå¾®ä¿¡ç™»å½•â€æˆ–â€œApple ç™»å½•â€ç­‰ç¬¬ä¸‰æ–¹é€‰é¡¹ï¼Œä¹Ÿåªéœ€åœ¨ç°æœ‰çš„Â <code>space-y-6</code>Â å®¹å™¨ä¸­æ’å…¥ä¸€è¡Œå³å¯ã€‚</p>
<blockquote>
<p>è¿™ç§ç»“æ„å¤©ç„¶æ”¯æŒçµæ´»æ¼”è¿›ï¼Œè€Œéç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</p>
</blockquote>
<h3 data-id="heading-7">å“åº”å¼ï¼šä½¿ç”¨åœºæ™¯çš„åˆ‡æ¢ï¼Œå§‹ç»ˆä¼˜é›…</h3>
<blockquote>
<p>ç•Œé¢çš„ä¼˜é›…ä¸ä»…åœ¨äºè§†è§‰ç¾æ„Ÿï¼Œæ›´åœ¨äºå®ƒå¦‚ä½•ä»å®¹åº”å¯¹ä¸åŒå±å¹•å°ºå¯¸ã€‚</p>
</blockquote>
<p>å€ŸåŠ© Tailwind CSS çš„å“åº”å¼æ–­ç‚¹ç³»ç»Ÿï¼Œæˆ‘ä»¬ä»…ç”¨ä¸€è¡ŒÂ p-8 md:p-10Â å°±å®ç°äº†<strong>å†…è¾¹è·çš„æ™ºèƒ½é€‚é…</strong>ï¼š</p>
<p>åœ¨æ‰‹æœºä¸Šä¿æŒç´§å‡‘ï¼Œåœ¨ä¸­ç­‰åŠä»¥ä¸Šå±å¹•åˆ™é€‚åº¦èˆ’å±•ã€‚æ•´ä¸ªç™»å½•å¡ç‰‡é‡‡ç”¨å±…ä¸­å¸ƒå±€ï¼Œæ­é…æŸ”å’Œçš„Â rounded-3xlÂ åœ†è§’ä¸å…‹åˆ¶çš„Â shadow-xlÂ é˜´å½±ï¼Œåœ¨ <strong>å°å±è®¾å¤‡ä¸Šä¸æ˜¾æ‹¥æŒ¤ï¼Œåœ¨ ç”µè„‘å¤§å±æ˜¾ç¤ºå™¨ä¸Šä¹Ÿä¾ç„¶å¾—ä½“ã€‚</strong></p>
<p>è€Œå®¹å™¨å®½åº¦Â max-w-mdÂ çš„è®¾å®šå¹¶ééšæ„ä¸ºä¹‹â€”â€”å®ƒè½åœ¨äººçœ¼é˜…è¯»æœ€èˆ’é€‚çš„â€œé»„é‡‘åŒºé—´â€ï¼šå¤ªå®½ä¼šè®©è§†çº¿å·¦å³æ‰«è§†ç–²åŠ³ï¼Œå¤ªçª„åˆæ˜¾å¾—å±€ä¿ƒä¸å®‰ã€‚</p>
<blockquote>
<p>è¿™ä¸ªç»è¿‡éªŒè¯çš„å°ºå¯¸ï¼Œæ˜¯åŠŸèƒ½ä¸ç¾å­¦å¹³è¡¡çš„ç»“æœã€‚</p>
</blockquote>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªç™»å½•é¡µçš„å®ç°ï¼Œæˆ‘ä»¬ä¸ä»…å®Œæˆäº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ UI ç»„ä»¶ï¼Œæ›´å®è·µäº†ç°ä»£å‰ç«¯å¼€å‘çš„æ ¸å¿ƒç†å¿µï¼š<strong>ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒï¼Œç”¨å·¥ç¨‹åŒ–æ€ç»´æ‰“é€ æœ‰æ¸©åº¦çš„ä½“éªŒ</strong>ã€‚</p>
<p>å€ŸåŠ© React çš„çŠ¶æ€ç®¡ç†ï¼Œæˆ‘ä»¬è®©æ•°æ®æµæ¸…æ™°å¯æ§ï¼›</p>
<p>åˆ©ç”¨ Tailwind CSS çš„åŸå­åŒ–æ ·å¼ï¼Œå¿«é€Ÿæ„å»ºå‡ºå“åº”å¼ã€ä¸€è‡´ä¸”ç¾è§‚çš„ç•Œé¢ï¼›</p>
<p>é€šè¿‡ Lucide React å¼•å…¥è½»é‡å›¾æ ‡ï¼Œæå‡è§†è§‰å¼•å¯¼ï¼›è€Œåƒå¯†ç å¯è§æ€§åˆ‡æ¢ã€èšç„¦åé¦ˆã€åŠ è½½çŠ¶æ€é¢„ç•™ç­‰ç»†èŠ‚ï¼Œåˆ™ä½“ç°äº†å¯¹ç”¨æˆ·ä½“éªŒçš„ç»†è‡´è€ƒé‡ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç™»å½•è¡¨å•â€”â€”å®ƒæ˜¯äº§å“ä¿¡ä»»æ„Ÿçš„èµ·ç‚¹ï¼Œæ˜¯æŠ€æœ¯ä¸è®¾è®¡çš„äº¤æ±‡ç‚¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä½œä¸ºå¼€å‘è€…ä¼ é€’ç”¨å¿ƒçš„æ–¹å¼ã€‚</p>
<blockquote>
<p>ä»£ç å¯ä»¥ç®€æ´ï¼Œä½†ä½“éªŒä¸èƒ½å°†å°±ã€‚</p>
</blockquote>
<h2 data-id="heading-9">é™„å½•ï¼šå‚è€ƒæ–‡ç« ä»¥åŠæºç </h2>
<h3 data-id="heading-10">å‚è€ƒæ–‡ç« </h3>
<p>å…³äºå¦‚ä½•åœ¨ React é¡¹ç›®ä¸­å®‰è£…å’Œé…ç½® Tailwind CSSï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š
<a href="https://juejin.cn/post/7588042910194958386" target="_blank" title="https://juejin.cn/post/7588042910194958386">Tailwind CSS å…¥é—¨æŒ‡å—ï¼šä»ä¼ ç»Ÿ CSS åˆ°åŸå­åŒ–å¼€å‘çš„é«˜æ•ˆè·ƒè¿ </a></p>
<h3 data-id="heading-11">æˆ‘çš„æºç ï¼š</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// esm React ä»£è¡¨é»˜è®¤å¼•å…¥</span>
<span class="hljs-comment">// useState hooks å¼•å…¥ éƒ¨åˆ†å¼•å…¥</span>
<span class="hljs-comment">// esm cjs ä¼˜ç§€çš„åœ°æ–¹ æ‡’åŠ è½½</span>
<span class="hljs-keyword">import</span> {
  useState
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">Eye</span>,
  <span class="hljs-title class_">EyeOff</span>,
  <span class="hljs-title class_">Lock</span>,
  <span class="hljs-title class_">Mail</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'lucide-react'</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span> () {
  
  <span class="hljs-keyword">const</span> [formData,setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">email</span>:<span class="hljs-string">''</span>,
    <span class="hljs-attr">password</span>:<span class="hljs-string">''</span>,
    <span class="hljs-attr">rememberMe</span>:<span class="hljs-literal">false</span>
  })
  <span class="hljs-comment">// å¯†ç æ˜¾ç¤ºéšè—</span>
    <span class="hljs-keyword">const</span> [showPassword,setShowPassword] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-comment">// ç™»å½•apiç­‰çŠ¶æ€</span>
    <span class="hljs-keyword">const</span> [isLoading,setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-comment">// æŠ½è±¡çš„äº‹ä»¶å¤„ç†å‡½æ•°</span>
  <span class="hljs-comment">// input type="text|password|checkbox"</span>
  <span class="hljs-comment">// name email|password|rememberMe</span>
  <span class="hljs-comment">// value æ•°æ®çŠ¶æ€</span>
  <span class="hljs-comment">// checked é€‰ä¸­çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> =  (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-comment">// e.target </span>
    <span class="hljs-keyword">const</span> {name,value,type,checked} = e.<span class="hljs-property">target</span>;<span class="hljs-comment">//input</span>
    <span class="hljs-title function_">setFormData</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> ({
      <span class="hljs-comment">// ä¼ ä¸€ä¸ªå‡½æ•°æ¯”è¾ƒåˆé€‚</span>
      ...prev,
      [name]:type === <span class="hljs-string">"checkbox"</span> ? checked : value
    }));
  }
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span>(<span class="hljs-params">e</span>) =&gt; {
      e.<span class="hljs-title function_">preventDefault</span>();
    }
  <span class="hljs-keyword">return</span> ( 
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
      <span class="hljs-attr">className</span>=<span class="hljs-string">"min-h-screen bg-slate-50 flex items-center justify-center p-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"relative z-10 w-full max-w-md bg-white rounded-3xl shadow-xl shadow-slate-200/60 border-slate-100 p-8 md:p-10"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center mb-10"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-indigo-600 text-white mb-4 shadow-lg shadow-indigo-200"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Lock</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{24}/</span>&gt;</span>
                
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl font-bold text-slate-900"</span>&gt;</span>æ¬¢è¿å›æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-slate-500 mt-2"</span>&gt;</span>è¯·ç™»å½•ä½ çš„è´¦å·<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"space-y-6"</span>&gt;</span>
              {/* é‚®ç®±è¾“å…¥æ¡† */}
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'space-y-2'</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'text-sm font-medium text-slate-700 ml-1'</span>&gt;</span>Email:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'relative group'</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"absolute inset-y-0 left-0 pl-4 
                  flex items-center pointer-events-none 
                  text-slate-400 group-focus-within:text-indigo-600 transition-colors
                  "</span>&gt;</span>
                      <span class="hljs-tag">&lt;<span class="hljs-name">Mail</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{18}/</span>&gt;</span>

                  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
                   <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span>
                   <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> 
                   <span class="hljs-attr">required</span> 
                   <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.email}</span> 
                   <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span> 
                   <span class="hljs-attr">placeholder</span>=<span class="hljs-string">'name@company.com'</span>
                   <span class="hljs-attr">className</span>=<span class="hljs-string">'block w-full pl-11 pr-4 py-3 bg-slate-50 
                   border border-slate-200 rounded-xl text-slate-900
                   placeholder:text-slate-400 focus:outline-none
                   focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600
                   transition-all'</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              {/* å¯†ç è¾“å…¥æ¡† */}
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"space-y-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex justify-between items-center ml-1"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-slate-700"</span>&gt;</span>å¯†ç <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> 
              <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-indigo-600 hover:text-indigo-500 
              transition-colors"</span>&gt;</span>å¿˜è®°å¯†ç ï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"relative group"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"absolute inset-y-0 left-0 pl-4 
              flex items-center pointer-events-none
              text-slate-400 group-focus-within:text-indigo-600 transition-colors
              "</span>
              &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Lock</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{18}</span> /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
                <span class="hljs-attr">type</span>=<span class="hljs-string">{showPassword</span> ? "<span class="hljs-attr">text</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">password</span>"} 
                <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span>
                <span class="hljs-attr">required</span>
                <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.password}</span>
                <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span>
                <span class="hljs-attr">placeholder</span>=<span class="hljs-string">'*******'</span>
                <span class="hljs-attr">className</span>=<span class="hljs-string">"block w-full pl-11 pr-4 py-3 bg-slate-50
                border border-slate-200 rounded-xl text-slate-900
                placeholder:text-slate-400 focus:outline-none 
                focus:ring-2 focus:ring-indigo-600/20 focus:border-indigo-600
                transition-all
                "</span>
              /&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
                <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
                <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setShowPassword(!showPassword)}
                className="absolute inset-y-0 right-0 pr-4 flex items-center text-slate-400 hover:text-slate-600 transition-colors"
              &gt;
                {showPassword ? <span class="hljs-tag">&lt;<span class="hljs-name">EyeOff</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{18}</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">Eye</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{18}</span> /&gt;</span>}
              <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ™ºå›¾è¯‘ç«™ã€‘åŸºäº LightGBM ä¸ GNSS å¤šç‰¹å¾é©±åŠ¨çš„ NLOS è¯¯å·®å¯é è¯†åˆ«æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7592236397535281188</link>    <guid>https://juejin.cn/post/7592236397535281188</guid>    <pubDate>2026-01-07T08:50:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592236397535281188" data-draft-id="7592134330313719851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ™ºå›¾è¯‘ç«™ã€‘åŸºäº LightGBM ä¸ GNSS å¤šç‰¹å¾é©±åŠ¨çš„ NLOS è¯¯å·®å¯é è¯†åˆ«æ–¹æ³•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-07T08:50:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾åº¦åœ°å›¾æ±½è½¦ç‰ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/837165218019883"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ™ºå›¾è¯‘ç«™ã€‘åŸºäº LightGBM ä¸ GNSS å¤šç‰¹å¾é©±åŠ¨çš„ NLOS è¯¯å·®å¯é è¯†åˆ«æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/837165218019883/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾åº¦åœ°å›¾æ±½è½¦ç‰ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:50:16.000Z" title="Wed Jan 07 2026 08:50:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¯¼è¯»</h2>
<p>åœ¨æ™ºèƒ½äº¤é€šã€è‡ªåŠ¨é©¾é©¶ç­‰åŸå¸‚åº”ç”¨å¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼Œå…¨çƒå¯¼èˆªå«æ˜Ÿç³»ç»Ÿï¼ˆGNSSï¼‰çš„å®šä½ç²¾åº¦ä¸å¯é æ€§æˆä¸ºå…³é”®æ”¯æ’‘ã€‚ç„¶è€Œï¼ŒåŸå¸‚ç¯å¢ƒä¸­é«˜æ¥¼ã€è½¦è¾†ç­‰é®æŒ¡ç‰©ä¼šå¯¼è‡´ GNSS ä¿¡å·å‘ç”Ÿåå°„æˆ–æŠ˜å°„ï¼Œäº§ç”Ÿéè§†è·ï¼ˆNLOSï¼‰è¯¯å·®ï¼Œè¿™ç±»è¯¯å·®å¯ä½¿å®šä½åå·®è¾¾ç™¾ç±³çº§ï¼Œä¸¥é‡åˆ¶çº¦ GNSS åœ¨å¤æ‚åŸå¸‚åœºæ™¯çš„åº”ç”¨ã€‚å°½ç®¡ç°æœ‰ç ”ç©¶æå‡ºäº†ä¿¡å·å¤„ç†ä¼˜åŒ–ã€å¤šä¼ æ„Ÿå™¨èåˆã€3D åœ°å›¾è¾…åŠ©åŠä¼ ç»Ÿæœºå™¨å­¦ä¹ ç­‰ NLOS å¤„ç†æ–¹æ³•ï¼Œä½†æ™®éå­˜åœ¨æ ·æœ¬æ ‡æ³¨ä¸»è§‚ï¼ˆä¾èµ–è§‚æµ‹æ®‹å·®ï¼‰ã€ç‰¹å¾åˆ†æä¸å……åˆ†ï¼ˆå¤šä¾èµ–ä¿¡å™ªæ¯”ä¸ä»°è§’ï¼‰ã€å®æ—¶æ€§ä¸ç²¾åº¦å¤±è¡¡ç­‰é—®é¢˜ï¼Œéš¾ä»¥æ»¡è¶³åŠ¨æ€åŸå¸‚åœºæ™¯çš„éœ€æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7b9a832a5ab44cd8fdee5dd39333542~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=2zK05vtjknOtawBEkXXEFTkSE4I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94da9df5278a400487d8e1d671e8870c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=y3WLvn3WuXn5y9vgytC60fXVfIA%3D" alt="image.png" loading="lazy"/>
ä¸ºæ­¤ï¼Œç™¾åº¦åœ°å›¾ä¸æ­¦æ±‰å¤§å­¦åˆä½œæ’°å†™äº†ã€ŠA reliable NLOS error identification method based on LightGBM driven by multiple features of GNSS signalsã€‹ä¸€æ–‡ï¼Œä»æ•°æ®é›†æ„å»ºã€ç‰¹å¾é€‰æ‹©ä¸æ¨¡å‹è®¾è®¡ä¸‰æ–¹é¢è·å¾—äº†æŠ€æœ¯çªç ´ï¼Œæå‡ºäº†ä¸€å¥—é«˜æ•ˆã€é«˜ç²¾åº¦çš„ NLOS è¯¯å·®è¯†åˆ«æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å…³é”®åˆ›æ–°</h2>
<p><strong>1.æå‡º â€œé±¼çœ¼ç›¸æœº + æƒ¯æ€§å¯¼èˆªâ€ èåˆçš„ NLOS å®¢è§‚æ ‡æ³¨æ–¹æ¡ˆï¼Œè§£å†³ä¼ ç»Ÿæ ·æœ¬æ ‡æ³¨ä¸»è§‚æ€§é—®é¢˜</strong></p>
<p>ç°æœ‰ NLOS è¯†åˆ«ç ”ç©¶å¤šä¾èµ– GNSS è§‚æµ‹æ®‹å·®è¿›è¡Œæ ·æœ¬æ ‡æ³¨ï¼Œæ˜“å—è§‚æµ‹å™ªå£°ã€å¤šè·¯å¾„å¹²æ‰°å½±å“ï¼Œæ ‡æ³¨ç»“æœå®¢è§‚æ€§ä¸è¶³ã€‚æœ¬æ–‡åˆ›æ–°é‡‡ç”¨é±¼çœ¼ç›¸æœºä¸é«˜ç²¾åº¦æƒ¯æ€§å¯¼èˆªè®¾å¤‡ç»“åˆçš„æ–¹å¼æ„å»ºæ•°æ®é›†ï¼šé€šè¿‡ Entaniya Fisheye M12 280 é±¼çœ¼ç›¸æœºï¼ˆè§†åœº 280Â°ï¼‰æ•è·å¤©ç©ºå›¾åƒï¼ŒåŸºäº Kannala-Bandt æ¨¡å‹æ ¡æ­£å…‰å­¦ç•¸å˜ï¼Œå¹¶é€šè¿‡ â€œè¾¹ç¼˜æ£€æµ‹ - è½®å»“è¡¥å…¨ - åˆ†æ°´å²­ç®—æ³•â€ ç²¾ç¡®æå–å¤©ç©ºåŒºåŸŸï¼›åŒæ—¶åˆ©ç”¨ SPAN ISA-100C æƒ¯æ€§è®¾å¤‡è·å–è½½ä½“å§¿æ€ä¸ä½ç½®ï¼Œè®¡ç®—å«æ˜Ÿåœ¨ç›¸æœºåƒç´ åæ ‡ç³»ä¸­çš„æŠ•å½±ä½ç½®ï¼Œå¯¹æ¯”å¤©ç©ºåŒºåŸŸä¸å«æ˜Ÿä½ç½®å®ç° LOS/NLOS ä¿¡å·çš„ç›´æ¥ã€å¯è§†åŒ–æ ‡æ³¨ã€‚</p>
<p><strong>2.æ„å»ºå¤šç»´åº¦ GNSS ä¿¡å·ç‰¹å¾ä½“ç³»å¹¶é‡åŒ–ç›¸å…³æ€§ï¼Œçªç ´ä¼ ç»Ÿå•ä¸€ç‰¹å¾è¯†åˆ«çš„å±€é™æ€§</strong></p>
<p>ä¼ ç»Ÿæ–¹æ³•å¤šä¾èµ–ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰ã€ä»°è§’ï¼ˆEAï¼‰ç­‰å°‘æ•°ç‰¹å¾è¯†åˆ« NLOSï¼Œéš¾ä»¥å…¨é¢åˆ»ç”»ä¿¡å·å·®å¼‚ã€‚æœ¬æ–‡ä» GNSS åŸå§‹è§‚æµ‹å‡ºå‘ï¼Œç³»ç»Ÿæå– 6 ä¸ªå¯¹ NLOS æ•æ„Ÿçš„å…³é”®ç‰¹å¾ â€”â€”SNRï¼ˆä¿¡å·å¼ºåº¦ï¼‰ã€EAï¼ˆé®æŒ¡å…³è”åº¦ï¼‰ã€ä¼ªè·ä¸€è‡´æ€§ï¼ˆPRCï¼Œä¼ªè·å¯é æ€§éªŒè¯ï¼‰ã€ç›¸ä½ä¸€è‡´æ€§ï¼ˆPCï¼Œç›¸ä½çªå˜æ•æ‰ï¼‰ã€ç è½½å·®ï¼ˆCMCï¼ŒNLOS è¯¯å·®æ”¾å¤§ï¼‰ã€å¤šè·¯å¾„è§‚æµ‹ï¼ˆMPï¼Œä¼ªè·åå·®é‡åŒ–ï¼‰ï¼Œå¹¶é€šè¿‡ç›¸å…³æ€§çƒ­å›¾é‡åŒ–ç‰¹å¾ä¸ LOS/NLOS æ ‡ç­¾çš„å…³è”ç¨‹åº¦ï¼ˆä»°è§’ç›¸å…³ç³»æ•° 0.269 æœ€é«˜ï¼Œä¼ªè·ä¸€è‡´æ€§ 0.003 æœ€ä½ï¼‰ã€‚</p>
<p><strong>3. é‡‡ç”¨ä¼˜åŒ–çš„ LightGBM æ¨¡å‹å®ç° NLOS é«˜æ•ˆé«˜ç²¾åº¦è¯†åˆ«ï¼Œå¹³è¡¡å®šä½å¯é æ€§ä¸å®æ—¶æ€§</strong></p>
<p>é’ˆå¯¹ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚ XGBoostã€CatBoostï¼‰åœ¨åŠ¨æ€åŸå¸‚åœºæ™¯ä¸‹ â€œç²¾åº¦ä½â€ æˆ– â€œæ•ˆç‡å·®â€ çš„çŸ›ç›¾ï¼Œæœ¬æ–‡é€‰æ‹© LightGBM ä½œä¸ºåˆ†ç±»æ¨¡å‹ï¼Œå¹¶åˆ©ç”¨å…¶æ ¸å¿ƒä¼˜åŒ–æœºåˆ¶é€‚é…è½¦è½½åœºæ™¯ï¼šé€šè¿‡ç›´æ–¹å›¾ç®—æ³•å°†è¿ç»­ç‰¹å¾ç¦»æ•£åŒ–ï¼Œé™ä½è®¡ç®—å¤æ‚åº¦ï¼›é‡‡ç”¨æ·±åº¦çº¦æŸçš„ Leaf-wise ç”Ÿé•¿ç­–ç•¥ï¼Œåœ¨æå‡æ‹Ÿåˆèƒ½åŠ›çš„åŒæ—¶æŠ‘åˆ¶è¿‡æ‹Ÿåˆï¼›ç»“åˆæ¢¯åº¦å•ä¾§é‡‡æ ·ï¼ˆGOSSï¼‰å‡å°‘æ ·æœ¬é‡ï¼Œå…¼é¡¾ç²¾åº¦ä¸é€Ÿåº¦ã€‚</p>
<h2 data-id="heading-2">äºŒã€æŠ€æœ¯ç»†èŠ‚</h2>
<p><strong>1.NLOS æ ·æœ¬æ ‡æ³¨æŠ€æœ¯</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b56ac1f43804258abf6a780740be6b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=45y9mfgSZ%2B%2BkKR%2B4mC3KyczpaSs%3D" alt="image.png" loading="lazy"/></p>
<p>æ ·æœ¬æ ‡æ³¨ä¾èµ– â€œé±¼çœ¼ç›¸æœº + æƒ¯æ€§å¯¼èˆªâ€ èåˆç³»ç»Ÿï¼Œæ ¸å¿ƒç¡¬ä»¶å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>é±¼çœ¼ç›¸æœºï¼š</strong> é‡‡ç”¨ Entaniya Fisheye M12 280ï¼ˆè§†åœºè§’ 280Â°ï¼‰ä¸ MV-SUA1201M-T å·¥ä¸šç›¸æœºï¼Œé‡‡æ ·ç‡ 1fpsï¼Œé€šè¿‡ GNSS æ¥æ”¶æœºæ—¶é’Ÿæ ¡å‡†å®ç°æ—¶é—´åŒæ­¥ï¼Œç¡®ä¿ä¸ GNSS è§‚æµ‹æ•°æ®æ—¶é—´æˆ³åŒ¹é…ã€‚</li>
<li><strong>æ ¡å‡†æ¨¡å‹ï¼š</strong> é‡‡ç”¨ Kannala-Bandt æ¨¡å‹ä¿®æ­£é±¼çœ¼é•œå¤´ç•¸å˜ï¼Œè¯¥æ¨¡å‹é€šè¿‡å¤šé¡¹å¼æè¿°å…¥å°„è§’åº¦Î¸ï¼ˆå…‰çº¿ä¸å…‰è½´å¤¹è§’ï¼‰ä¸ç•¸å˜åå‡ºå°„è§’åº¦å…³ç³»ï¼š</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f766492434964e59a96a6c9f7e664919~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=Sc1gSoR6nj5bH7OsZWUiT3CZySQ%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶ä¸­kiä¸ºç•¸å˜ç³»æ•°ï¼Œéœ€é€šè¿‡æ£‹ç›˜æ ¼æ ¡å‡†å®éªŒè·å–ã€‚åŒæ—¶ï¼Œé€šè¿‡æ ¡å‡†è·å–ç›¸æœºå†…å‚çŸ©é˜µKï¼ˆåŒ…å« x/y è½´ç¼©æ”¾å› å­ä¸æˆåƒä¸­å¿ƒåç§»é‡ï¼‰ï¼Œç”¨äº 3D ç©ºé—´ç‚¹åˆ°åƒç´ åæ ‡çš„è½¬æ¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c10c4866c94afa95a932ec9034732d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=a3YDSKBhC95tJhqRwgzVX4IV3Ow%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>æƒ¯æ€§å¯¼èˆªè®¾å¤‡ï¼š</strong> é‡‡ç”¨ SPAN ISA-100Cï¼ˆè§’éšæœºæ¸¸èµ° 0.012Â°ãƒ»hâ»Â¹/Â²ï¼‰ï¼Œæä¾›è½½ä½“å§¿æ€æ•°æ®ï¼Œç”¨äºå«æ˜Ÿåæ ‡ä»åœ°å¿ƒåœ°å›ºåæ ‡ç³»ï¼ˆECEFï¼‰åˆ°è½½ä½“åæ ‡ç³»ï¼ˆb ç³»ï¼‰çš„è½¬æ¢ã€‚</li>
</ul>
<p>å¤©ç©ºåŒºåŸŸæå–é‡‡ç”¨ â€œé¢„å¤„ç† - è¾¹ç¼˜æ£€æµ‹ - è½®å»“è¡¥å…¨ - åˆ†æ°´å²­åˆ†å‰²â€ å››æ­¥æµç¨‹ï¼Œè§£å†³é±¼çœ¼å›¾åƒè¾¹ç¼˜ä¸è¿ç»­ä¸çº¹ç†ç¼ºå¤±é—®é¢˜ï¼š</p>
<p><strong>â‘  é¢„å¤„ç†ï¼š</strong> å°†å½©è‰²å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾ï¼Œé™ä½è§‚æµ‹å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å¹²æ‰°ï¼›</p>
<p><strong>â‘¡ è¾¹ç¼˜æ£€æµ‹ï¼š</strong> é€šè¿‡ Canny ç®—å­æå–å›¾åƒè¾¹ç¼˜ï¼Œåˆæ­¥åŒºåˆ†å¤©ç©ºä¸é®æŒ¡ç‰©ï¼ˆå»ºç­‘ã€æ ‘æœ¨ï¼‰ï¼Œä½†æ­¤æ—¶è¾¹ç¼˜å¯èƒ½å› åƒç´ è¯¯å·®å­˜åœ¨å±€éƒ¨ç¦»æ•£ï¼›</p>
<p><strong>â‘¢ è½®å»“è¡¥å…¨ï¼š</strong> é‡‡ç”¨è½®å»“æ£€æµ‹ç®—æ³•ï¼ˆå¦‚ OpenCV çš„findContoursï¼‰å¯¹ç¦»æ•£è¾¹ç¼˜è¿›è¡Œè¿æ¥ï¼Œç”Ÿæˆå®Œæ•´ã€è¿ç»­çš„å¤©ç©ºè½®å»“ï¼Œä½œä¸ºåç»­åˆ†å‰²çš„ â€œå…ˆéªŒç§å­â€ï¼›</p>
<p><strong>â‘£åˆ†æ°´å²­åˆ†å‰²ï¼š</strong> åŸºäºæ¢¯åº¦ä¿¡æ¯å°†å›¾åƒåˆ†å‰²ä¸ºä¸åŒåŒºåŸŸï¼Œç»“åˆ â€œé«˜äº®åº¦ã€ä¸­å¿ƒæ€§ã€å¼±çº¹ç†â€ çš„å¤©ç©ºåŒºåŸŸå±æ€§ï¼Œæœ€ç»ˆç¡®å®šå¤©ç©ºèŒƒå›´ï¼ˆå¦‚ä¸‹å›¾eä¸­ç™½è‰²åŒºåŸŸï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86efb9e45c604af5bec440a080b9dce1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=cgbZsh5jmzj1bDjnFt06OEgZg%2FM%3D" alt="image.png" loading="lazy"/></p>
<p>å«æ˜Ÿå¯è§æ€§åˆ¤æ–­ä¸æ ‡ç­¾ç”Ÿæˆï¼Œé€šè¿‡ â€œå«æ˜Ÿå¤©ç©ºå›¾ç”Ÿæˆ - åƒç´ ä½ç½®åŒ¹é…â€ å®ç°ï¼š</p>
<ul>
<li><strong>å«æ˜Ÿå¤©ç©ºå›¾ç”Ÿæˆï¼š</strong> é¦–å…ˆåŸºäº GNSS æ˜Ÿå†è®¡ç®—å«æ˜Ÿåœ¨ ECEF åæ ‡ç³»çš„ä½ç½®ï¼Œç»“åˆæƒ¯æ€§å¯¼èˆªæä¾›çš„åæ ‡ï¼Œè½¬æ¢ä¸ºè½½ä½“åæ ‡ç³»ä¸‹çš„ä½ç½®ï¼›éšåè®¡ç®—å«æ˜Ÿåœ¨ b ç³»çš„ä»°è§’ä¸æ–¹ä½è§’ï¼Œå¹¶é€šè¿‡é±¼çœ¼æŠ•å½±æ¨¡å‹è®¡ç®—æˆåƒåŠå¾„ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºåƒç´ åæ ‡ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f7c6feec1e248829808539247bb44cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=8MxfnthEYNu%2Fn%2BliMWE%2B2NaESZU%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>æ ‡ç­¾åˆ¤å®š</strong>ï¼šè‹¥å«æ˜Ÿåƒç´ åæ ‡è½åœ¨å¤©ç©ºåŒºåŸŸå†…ï¼Œæ ‡è®°ä¸º LOSï¼ˆæ ‡ç­¾ 0ï¼‰ï¼›è‹¥è½åœ¨é®æŒ¡åŒºåŸŸå†…ï¼Œæ ‡è®°ä¸º NLOSï¼ˆæ ‡ç­¾ 1ï¼‰ã€‚æœ€ç»ˆæ„å»ºåŒ…å« 149613 æ¡æ ·æœ¬çš„æ•°æ®é›†ï¼ŒæŒ‰ 7:3 æ¯”ä¾‹åˆ’åˆ†ä¸ºè®­ç»ƒé›†ï¼ˆ104729 æ¡ï¼‰ä¸éªŒè¯é›†ï¼ˆ44884 æ¡ï¼‰ï¼Œæ¯æ¡æ ·æœ¬åŒ…å« 6 ä¸ª GNSS ç‰¹å¾ä¸ 1 ä¸ªæ ‡ç­¾ã€‚</li>
</ul>
<p><strong>2.æ¨¡å‹é€‰å‹ä¸æ ¸å¿ƒä¼˜åŒ–</strong></p>
<p>é€‰æ‹© LightGBM ä½œä¸ºåˆ†ç±»æ¨¡å‹ï¼Œæ ¸å¿ƒåŸå› æ˜¯å…¶é€‚é…åŸå¸‚è½¦è½½åŠ¨æ€åœºæ™¯çš„ â€œé«˜ç²¾åº¦ + é«˜æ•ˆç‡â€ éœ€æ±‚ï¼Œç›¸æ¯”ä¼ ç»Ÿæ¢¯åº¦æå‡æ¨¡å‹ï¼ˆXGBoostã€CatBoostï¼‰å…·æœ‰ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è§£å†³ XGBoostâ€œè®­ç»ƒæ…¢ã€å†…å­˜é«˜â€ é—®é¢˜ï¼š</strong> XGBoost éœ€éå†æ‰€æœ‰ç‰¹å¾å€¼å¯»æ‰¾åˆ†è£‚ç‚¹ï¼Œè€Œ LightGBM é€šè¿‡ç›´æ–¹å›¾ç®—æ³•é™ä½è®¡ç®—å¤æ‚åº¦ï¼›</li>
<li><strong>è§£å†³ CatBoost â€œè¿ç»­ç‰¹å¾æ‹Ÿåˆå¼±â€ é—®é¢˜ï¼š</strong> CatBoost ä¾§é‡ç±»åˆ«ç‰¹å¾å¤„ç†ï¼Œå¯¹ GNSS è¿ç»­ç‰¹å¾ï¼ˆå¦‚ SNRã€PRCï¼‰çš„æ‹Ÿåˆç²¾åº¦ä½äº LightGBMï¼›</li>
<li><strong>æ”¯æŒå®æ—¶æ¨ç†ï¼š</strong> è½¦è½½åœºæ™¯è¦æ±‚å• epoch æ¨ç†æ—¶é—´â‰¤100Î¼sï¼ŒLightGBM å¯æ»¡è¶³è¯¥éœ€æ±‚ï¼Œè€Œ XGBoost æ¨ç†è€—æ—¶æ›´é«˜ã€‚</li>
</ul>
<p>æ¨¡å‹é€šè¿‡å››é¡¹å…³é”®ä¼˜åŒ–å¹³è¡¡ç²¾åº¦ä¸æ•ˆç‡ï¼š</p>
<ul>
<li><strong>ç›´æ–¹å›¾ç®—æ³•ï¼š</strong> å°†è¿ç»­ç‰¹å¾ç¦»æ•£åŒ–ä¸º 255 ä¸ª binï¼Œåˆ†è£‚æ—¶ä»…éå† bin è€Œéæ‰€æœ‰æ ·æœ¬ï¼Œè®¡ç®—å¤æ‚åº¦ä»O(n)é™è‡³O(k)ï¼ˆk ä¸º bin æ•°ï¼‰ï¼Œè®­ç»ƒé€Ÿåº¦æå‡ 10 å€ä»¥ä¸Šï¼›</li>
<li><strong>æ·±åº¦çº¦æŸ Leaf-wise ç”Ÿé•¿ï¼š</strong> ä¼˜å…ˆåˆ†è£‚å¢ç›Šæœ€å¤§çš„å¶å­èŠ‚ç‚¹ï¼Œè€Œéä¼ ç»Ÿ Level-wise çš„ â€œé€å±‚åˆ†è£‚â€ï¼ŒåŒæ—¶é™åˆ¶æœ€å¤§æ·±åº¦ä¸º 10ã€æœ€å°å¶å­æ ·æœ¬æ•°ä¸º 20ï¼Œé¿å…è¿‡æ‹Ÿåˆçš„åŒæ—¶å‡å°‘å†—ä½™èŠ‚ç‚¹ï¼›</li>
<li><strong>æ¢¯åº¦ - based å•ä¾§é‡‡æ ·ï¼ˆGOSSï¼‰ï¼š</strong> ä¿ç•™æ¢¯åº¦ç»å¯¹å€¼å‰ 20% çš„æ ·æœ¬ï¼ˆå¯¹æ¨¡å‹æ›´æ–°è´¡çŒ®å¤§ï¼‰ï¼Œå¯¹å‰©ä½™ 80% ä½æ¢¯åº¦æ ·æœ¬éšæœºé‡‡æ ·ï¼Œé€šè¿‡æƒé‡è¡¥å¿ä¿æŒåˆ†å¸ƒä¸€è‡´æ€§ï¼Œæ ·æœ¬é‡å‡å°‘ 60% ä»ä¸æŸå¤±ç²¾åº¦ï¼›</li>
<li><strong>ç‹¬å®¶ç‰¹å¾æ†ç»‘ï¼ˆEFBï¼‰ï¼š</strong> å°†äº’æ–¥æ€§å¼ºçš„ç‰¹å¾æ†ç»‘ä¸º â€œè¶…çº§ç‰¹å¾â€ï¼Œè™½æœ¬æ–‡ 6 ä¸ª GNSS ç‰¹å¾æ— å¼ºäº’æ–¥æ€§ï¼Œä½†è¯¥æœºåˆ¶ä¸ºåç»­å¤šç³»ç»Ÿç‰¹å¾æ‰©å±•é¢„ç•™ç©ºé—´ã€‚</li>
</ul>
<p>å¯¹æ¯”å…¶ä»–æ¨¡å‹ï¼Œåœ¨æ­¦æ±‰è½¦è½½åŠ¨æ€æ•°æ®ä¸­ï¼ŒLightGBM çš„ç²¾åº¦ä¸æ•ˆç‡å‡ä¼˜äº XGBoostã€CatBoostï¼š</p>
<ul>
<li><strong>ç²¾åº¦æŒ‡æ ‡ï¼š</strong> LightGBM çš„ç²¾ç¡®ç‡ï¼ˆ92.55%ï¼‰ã€å¬å›ç‡ï¼ˆ92.43%ï¼‰ã€F1-scoreï¼ˆ0.9232ï¼‰åˆ†åˆ«é«˜äº XGBoostï¼ˆ91.71%ã€91.77%ã€0.9125ï¼‰ä¸ CatBoostï¼ˆ88.02%ã€88.16%ã€0.8685ï¼‰ï¼Œä¸” NLOS æ¼æ£€ç‡ï¼ˆ5.49%ï¼Œå³ NLOS è¯¯åˆ¤ä¸º LOS çš„æ¯”ä¾‹ï¼‰æ˜¾è‘—ä½äº XGBoostï¼ˆ7.05%ï¼‰ä¸ CatBoostï¼ˆ10.53%ï¼‰ï¼Œå‡å°‘å®šä½åå·®é£é™©ï¼›</li>
<li><strong>æ•ˆç‡æŒ‡æ ‡ï¼š</strong> LightGBM è®­ç»ƒæ—¶é—´ï¼ˆ25.49sï¼‰ä»…ä¸º XGBoostï¼ˆ130.74sï¼‰çš„ 19.5%ï¼Œæµ‹è¯•æ—¶é—´ï¼ˆ0.97sï¼‰ä¸º XGBoostï¼ˆ1.24sï¼‰çš„ 78.2%ï¼Œå• epoch æµ‹è¯•æ—¶é—´ï¼ˆ21.61Î¼sï¼‰æ»¡è¶³è½¦è½½å®æ—¶æ€§éœ€æ±‚ï¼Œè€Œ CatBoost è™½é€Ÿåº¦æœ€å¿«ï¼ˆè®­ç»ƒ 4.65sã€æµ‹è¯• 0.02sï¼‰ï¼Œä½†ç²¾åº¦ä¸è¶³ã€‚</li>
</ul>
<p><strong>3.æ¨¡å‹è®­ç»ƒä¸æ¨ç†æ–¹æ³•</strong></p>
<p>ä» GNSS åŸå§‹è§‚æµ‹ä¸­æå– 6 ä¸ªå¯¹ NLOS æ•æ„Ÿçš„å…³é”®ç‰¹å¾ï¼Œå„ç‰¹å¾å®šä¹‰ä¸è®¡ç®—æ–¹å¼æ˜ç¡®ï¼š</p>
<ul>
<li><strong>ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰ï¼š</strong> åæ˜ ä¿¡å·å¼ºåº¦ï¼Œç›´æ¥ä» GNSS æ¥æ”¶æœºè·å–ï¼ŒLOS ä¿¡å· 80% åˆ†å¸ƒåœ¨ 40-50dBï¼ŒNLOS ä¿¡å·åˆ†æ•£åœ¨ 20-50dBï¼›</li>
<li><strong>ä»°è§’ï¼ˆEAï¼‰ï¼š</strong> å…³è”é®æŒ¡æ¦‚ç‡ï¼Œä½ä»°è§’ï¼ˆâ‰¤20Â°ï¼‰å«æ˜Ÿ 96.5% ä¸º NLOSï¼ŒLOS ä¿¡å·å³°å€¼åˆ†å¸ƒåœ¨ 40-60Â°ï¼›</li>
<li><strong>ä¼ªè·ä¸€è‡´æ€§ï¼ˆPRCï¼‰ï¼š</strong> åŸºäºå¤šæ™®å‹’è§‚æµ‹éªŒè¯ä¼ªè·å¯é æ€§ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b15d81884b44c54917fd49d57ab1419~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=7GsUQPUnwJPYwA05JCgX5DfmVJ0%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>ç›¸ä½ä¸€è‡´æ€§ï¼ˆPCï¼‰ï¼š</strong> æ•æ‰ç›¸ä½çªå˜ï¼Œè®¡ç®—å…¬å¼å¦‚ä¸‹</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23cf244b474f4e08936717f9c0a57984~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=ZP%2BPvSz149QeK4xi62lmOJguIGU%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>ç è½½å·®ï¼ˆCMCï¼‰</strong> ï¼šæ”¾å¤§ NLOS è¯¯å·®ï¼Œç»åŒå·®ä¸ epoch å·®æ¶ˆé™¤ç³»ç»Ÿè¯¯å·®åï¼Œå…¬å¼ä¸º</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c081e488dd9c46d08e1df00b6e0c573c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=7rrYp899XUWGZNYQz2St0IzLIwA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>å¤šè·¯å¾„è§‚æµ‹ï¼ˆMPï¼‰</strong> ï¼šé‡åŒ–ä¼ªè·åå·®ï¼Œé€šè¿‡åŒé¢‘ç»„åˆè®¡ç®—</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2543e5a0c7a14207b46a341e51da4538~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=nTDQ%2FXJdwBUeA8zZE4ahHYuGuu8%3D" alt="image.png" loading="lazy"/>
é‡‡ç”¨ Z-score æ ‡å‡†åŒ–æ¶ˆé™¤é‡çº²å·®å¼‚ï¼Œç¡®ä¿ SNRï¼ˆdBï¼‰ã€PRCï¼ˆmï¼‰ç­‰ä¸åŒå•ä½ç‰¹å¾å¯¹æ¨¡å‹çš„è´¡çŒ®å‡è¡¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3acae95d69c641c4a4ebced44d3c0ab5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=5%2FH0kIlwXYfdA5Jyuzt9xQBaPn4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç¦»çº¿è®­ç»ƒé˜¶æ®µï¼š</strong></p>
<p>â‘  å¯¹è®­ç»ƒé›†ç‰¹å¾è¿›è¡Œ Z-score æ ‡å‡†åŒ–ï¼›</p>
<p>â‘¡ é‡‡ç”¨ 5 æŠ˜äº¤å‰éªŒè¯ä¼˜åŒ–è¶…å‚æ•°ï¼›</p>
<p>â‘¢ ä»¥ â€œäºŒåˆ†ç±»äº¤å‰ç†µâ€ ä¸ºç›®æ ‡å‡½æ•°ï¼Œè®­ç»ƒ LightGBM æ¨¡å‹ï¼Œä¿å­˜éªŒè¯é›† F1-score æœ€é«˜çš„æ¨¡å‹ã€‚</p>
<p><strong>åœ¨çº¿æ¨ç†é˜¶æ®µï¼š</strong></p>
<p>â‘  å®æ—¶æå– GNSS æ¥æ”¶æœºçš„ 6 ä¸ªç‰¹å¾ï¼›</p>
<p>â‘¡ å¯¹ç‰¹å¾æ ‡å‡†åŒ–ï¼›</p>
<p>â‘¢ è¾“å…¥æ¨¡å‹ï¼Œè¾“å‡º LOSï¼ˆæ¦‚ç‡â‰¥0.5ï¼‰æˆ– NLOSï¼ˆæ¦‚ç‡ &lt; 0.5ï¼‰ï¼›</p>
<p>â‘£ å‰”é™¤ NLOS è§‚æµ‹ç”¨äºå®šä½è§£ç®—ã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜éœ€è¦é€šè¿‡ç½‘æ ¼æœç´¢ç¡®å®šæ ¸å¿ƒè¶…å‚æ•°ï¼Œå¹³è¡¡ç²¾åº¦ä¸è¿‡æ‹Ÿåˆé£é™©ï¼šé‡‡ç”¨äºŒåˆ†ç±»æ ¸å¿ƒæŒ‡æ ‡é‡åŒ–æ€§èƒ½ï¼Œé‡ç‚¹å…³æ³¨å‡†ç¡®ç‡ã€å¬å›ç‡å’ŒF1-score ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€æµ‹è¯•ç»“æœ</h2>
<p>è®ºæ–‡é€šè¿‡ä¸‰ç±»å®éªŒéªŒè¯æ–¹æ³•æœ‰æ•ˆæ€§ï¼š<strong>ç‰¹å¾æ•°é‡å¯¹è¯†åˆ«æ€§èƒ½çš„å½±å“ã€ä¸åŒæ¨¡å‹çš„ç²¾åº¦ä¸æ•ˆç‡å¯¹æ¯”ã€NLOS å‰”é™¤åçš„å®šä½æ€§èƒ½æå‡</strong>ï¼Œæ‰€æœ‰å®éªŒåŸºäºæ­¦æ±‰åŸåŒºè½¦è½½åŠ¨æ€æ•°æ®å¼€å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/789fb9b61bc446b58e8b4530709bf7e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=p27u4p8wFkv0x5FJVJicNN1Ko%2BM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/848c0a2e8ca643dd8949d84242b45869~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=4gZwCE%2B692kEiUfdgAdkThzPwjk%3D" alt="image.png" loading="lazy"/>
<strong>å®éªŒ 1ï¼šç‰¹å¾æ•°é‡å¯¹è¯†åˆ«æ€§èƒ½çš„å½±å“</strong></p>
<p>ç›®çš„ï¼šéªŒè¯å¤šç‰¹å¾èåˆçš„å¿…è¦æ€§ï¼Œå®éªŒè®¾è®¡ä¸º â€œä»ä½ç›¸å…³æ€§åˆ°é«˜ç›¸å…³æ€§é€æ­¥å¢åŠ ç‰¹å¾â€ï¼Œå…± 6 ç»„æ–¹æ¡ˆï¼ˆè¡¨ 2ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60b44d8781cf43658bf7813d755828ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=5DqgVZJgxHagctTeCogdLw%2FvwWg%3D" alt="image.png" loading="lazy"/></p>
<p>å¾—å‡ºç»“è®ºï¼š</p>
<p><strong>â‘  ç‰¹å¾æ•°é‡ä¸æ€§èƒ½æ­£ç›¸å…³ï¼š</strong> éšç€ç‰¹å¾ä» 1 ä¸ªå¢åŠ åˆ° 6 ä¸ªï¼ŒF1-score æå‡ 36.4%ï¼Œç²¾ç¡®ç‡æå‡ 15.3%ï¼Œé”™è¯¯è¯†åˆ«æ•°å‡å°‘ 67.2%ï¼›</p>
<p><strong>â‘¡ é«˜ç›¸å…³æ€§ç‰¹å¾è´¡çŒ®æ˜¾è‘—</strong>ï¼šåŠ å…¥ EAï¼ˆä»°è§’ï¼Œç›¸å…³æ€§æœ€é«˜ï¼‰åï¼ŒF1-score ä» 0.8435 è·ƒå‡è‡³ 0.9232ï¼Œæå‡ 9.4%ï¼Œè¯´æ˜ EA æ˜¯æ ¸å¿ƒåŒºåˆ†ç‰¹å¾ï¼›</p>
<p><strong>â‘¢ ä½ç›¸å…³æ€§ç‰¹å¾ä¸å¯æ›¿ä»£ï¼š</strong> PRCï¼ˆç›¸å…³æ€§ 0.003ï¼‰è™½å•ç‹¬ä½¿ç”¨ç²¾åº¦ä½ï¼Œä½†ä¸å…¶ä»–ç‰¹å¾èåˆåï¼Œå¯è¡¥å……ä¼ªè·å¼‚å¸¸ä¿¡æ¯ï¼Œæå‡æ¨¡å‹é²æ£’æ€§ã€‚</p>
<p><strong>å®éªŒ 2ï¼šä¸åŒæ¨¡å‹çš„ç²¾åº¦ä¸æ•ˆç‡å¯¹æ¯”</strong></p>
<p>ç›®çš„ï¼šå¯¹æ¯” LightGBM ä¸å½“å‰ä¸»æµåˆ†ç±»æ¨¡å‹ï¼ˆXGBoostã€CatBoostï¼‰çš„æ€§èƒ½ï¼Œç»“æœå¦‚è¡¨ 3ï¼ˆç²¾åº¦ï¼‰ä¸è¡¨ 4ï¼ˆæ€§èƒ½ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fca3d67eeb854c1999855a3614b1b63f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=EGdDZMGAX5oQ6l2Kq3UZoRywSYc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3c06b1e9904a5590c5dabe14963d1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=FWv0EiXowNx97rYy0RZen6HOM4Y%3D" alt="image.png" loading="lazy"/>
å¾—å‡ºç»“è®ºï¼š</p>
<p><strong>â‘  ç²¾åº¦æœ€ä¼˜ï¼š</strong> LightGBM çš„ç²¾ç¡®ç‡ï¼ˆ92.55%ï¼‰é«˜äº XGBoostï¼ˆ91.71%ï¼‰ä¸ CatBoostï¼ˆ88.02%ï¼‰ï¼Œä¸” NLOS æ¼æ£€ç‡ï¼ˆn_FP / æ€» NLOS=2464/44884â‰ˆ5.49%ï¼‰æ˜¾è‘—ä½äº XGBoostï¼ˆ7.05%ï¼‰ä¸ CatBoostï¼ˆ10.53%ï¼‰ï¼Œå‡å°‘å®šä½åå·®é£é™©ï¼›</p>
<p><strong>â‘¡ æ•ˆç‡å¹³è¡¡ï¼š</strong></p>
<ul>
<li>CatBoost é€Ÿåº¦æœ€å¿«ï¼ˆè®­ç»ƒ 4.65sï¼Œæµ‹è¯• 0.02sï¼‰ï¼Œä½†ç²¾åº¦æœ€ä½ï¼Œæ— æ³•æ»¡è¶³é«˜å¯é å®šä½éœ€æ±‚ï¼›</li>
<li>XGBoost ç²¾åº¦æ¥è¿‘ LightGBMï¼Œä½†è®­ç»ƒæ—¶é—´ï¼ˆ130.74sï¼‰æ˜¯ LightGBM çš„ 5.1 å€ï¼Œå®æ—¶æ€§å·®ï¼›</li>
<li>LightGBM åœ¨ç²¾åº¦ä¸æ•ˆç‡é—´æœ€ä¼˜ï¼šè®­ç»ƒæ—¶é—´ä»…ä¸º XGBoost çš„ 19.5%ï¼Œæµ‹è¯•æ—¶é—´ä¸º XGBoost çš„ 78.2%ï¼Œå• epoch æµ‹è¯•æ—¶é—´ 21.61Î¼sï¼Œæ»¡è¶³è½¦è½½å®æ—¶æ€§éœ€æ±‚ï¼ˆâ‰¤100Î¼sï¼‰ã€‚</li>
</ul>
<p><strong>å®éªŒ 3ï¼šNLOS å‰”é™¤åçš„å®šä½æ€§èƒ½æå‡</strong></p>
<p>ç›®çš„ï¼šéªŒè¯ NLOS è¯†åˆ«å¯¹ GNSS æ ‡å‡†ç‚¹å®šä½ï¼ˆSPPï¼‰ç²¾åº¦çš„æ”¹å–„ï¼Œåˆ†ä¸º â€œåŒé¢‘å¤šç³»ç»Ÿâ€ ä¸ â€œå•é¢‘å¤šç³»ç»Ÿâ€ ä¸¤ç±»åœºæ™¯ï¼Œå®šä½ç»“æœä¸ RTK/SINS å‚è€ƒè½¨è¿¹å¯¹æ¯”ã€‚</p>
<p><strong>â‘  åŒé¢‘å¤šç³»ç»Ÿï¼ˆGPS+BDS+Galileoï¼‰</strong></p>
<p>å®šä½è¯¯å·®ç»Ÿè®¡ï¼ˆè¡¨ 5ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/408adbe8a1a848b6b75d3043676a608c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=nWqfFqWQG%2F%2BbCTlvpOgaeJXnyq0%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>RMS æ˜¾è‘—é™ä½ï¼š</strong> ä¸œå‘è¯¯å·®å‡å°‘è¿‘ä¸€åŠï¼ˆ47.82%ï¼‰ï¼ŒåŒ—å‘è¯¯å·®å‡å°‘è¶… 50%ï¼ˆ56.68%ï¼‰ï¼Œå¤©å‘è¯¯å·®å‡å°‘ 36.68%ï¼›</li>
<li><strong>å¼‚å¸¸å€¼æ¶ˆé™¤ï¼š</strong> åŒ…å« NLOS æ—¶ï¼Œä¸œå‘å­˜åœ¨ &gt; 40m çš„å¼‚å¸¸å®šä½ç‚¹ï¼ˆå›¾ 19 ç´«è‰²ç‚¹ï¼‰ï¼Œå‰”é™¤åå®šä½ç‚¹ç´§è´´å‚è€ƒè½¨è¿¹ï¼ˆè“è‰²ç‚¹ï¼‰ï¼›</li>
<li><strong>å¤æ‚åœºæ™¯é²æ£’æ€§ï¼š</strong> åœ¨é«˜æ¥¼å¯†é›†åŒºï¼ˆå›¾ 21ï¼‰ï¼Œå‰”é™¤ NLOS åï¼Œå®šä½è½¨è¿¹ï¼ˆé»„è‰²ç‚¹ï¼‰ä¸å‚è€ƒè½¨è¿¹ï¼ˆç»¿è‰²ç‚¹ï¼‰é‡åˆåº¦æ˜¾è‘—æå‡ï¼Œæ— æ˜æ˜¾åç§»ã€‚</li>
</ul>
<p><strong>â‘¡ å•é¢‘å¤šç³»ç»Ÿï¼ˆå®ç”¨åœºæ™¯ï¼‰</strong></p>
<p>åŸå¸‚è½¦è½½åœºæ™¯ä¸­ï¼Œå•é¢‘æ¥æ”¶æœºæˆæœ¬æ›´ä½ã€æ™®åŠç‡æ›´é«˜ï¼Œå› æ­¤è¡¥å……å•é¢‘å®šä½å®éªŒï¼ˆè¡¨ 6ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9273e4cceb1423c99621b7909881d40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5bqm5Zyw5Zu-5rG96L2m54mI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380616&amp;x-signature=IQHXPRvQ%2FDnhWhhLZuK5xOXCQCQ%3D" alt="image.png" loading="lazy"/>
å¾—å‡ºç»“è®ºï¼šå•é¢‘åœºæ™¯ä¸‹ï¼Œå‰”é™¤ NLOS åç²¾åº¦ä»æ˜¾è‘—æå‡ï¼Œå¤©å‘è¯¯å·®å‡å°‘ 45.24%ï¼ŒéªŒè¯äº†æ–¹æ³•åœ¨ä½æˆæœ¬è®¾å¤‡ä¸Šçš„å®ç”¨æ€§ã€‚</p>
<p>ä¸ºéªŒè¯ NLOS å‰”é™¤å¯¹å«æ˜Ÿè§‚æµ‹æ•°é‡çš„å½±å“ï¼Œè®ºæ–‡ç»Ÿè®¡äº†å®éªŒè·¯çº¿çš„å«æ˜Ÿæ•°é‡ä¸ä½ç½®ç²¾åº¦å› å­ï¼ˆPDOPï¼‰ï¼š</p>
<ul>
<li><strong>å«æ˜Ÿæ•°é‡ï¼š</strong> å…¨ç¨‹å¯è§å«æ˜Ÿæ•° 15-25 é¢—ï¼Œå‰”é™¤çš„ NLOS å«æ˜Ÿæ•° 3-8 é¢—ï¼Œä¿ç•™ 12-18 é¢— LOS å«æ˜Ÿï¼Œæ»¡è¶³ SPP å®šä½çš„æœ€å°‘å«æ˜Ÿæ•°è¦æ±‚ï¼ˆâ‰¥4 é¢—ï¼‰ï¼›</li>
<li><strong>PDOP å˜åŒ–ï¼š</strong> åŒ…å« NLOS æ—¶ï¼ŒPDOP å¤šåœ¨ 3-5ï¼ˆä¸­ç­‰ç²¾åº¦ï¼‰ï¼›å‰”é™¤ NLOS åï¼ŒPDOP é™è‡³ 2-3ï¼ˆé«˜ç²¾åº¦ï¼‰ï¼Œè¯´æ˜ LOS è§‚æµ‹çš„å‡ ä½•åˆ†å¸ƒæ›´ä¼˜ï¼Œè¿›ä¸€æ­¥æå‡å®šä½ç²¾åº¦ã€‚</li>
</ul>
<h2 data-id="heading-4">å››ã€æ•´ä½“ç»“è®º</h2>
<p>æˆ‘ä»¬æå‡ºçš„ â€œåŸºäº GNSS å¤šç‰¹å¾é©±åŠ¨ä¸ LightGBM çš„ NLOS è¯¯å·®è¯†åˆ«æ–¹æ³•â€ï¼Œé€šè¿‡å®¢è§‚æ•°æ®é›†æ„å»ºã€å¤šç‰¹å¾èåˆã€é«˜æ•ˆæ¨¡å‹è®¾è®¡ï¼Œè§£å†³äº†åŸå¸‚ GNSS å®šä½çš„ NLOS è¯†åˆ«éš¾é¢˜ï¼Œä¸»è¦è´¡çŒ®å¦‚ä¸‹ï¼š</p>
<p><strong>â‘  å®¢è§‚æ•°æ®é›†æ„å»ºï¼š</strong> é¦–æ¬¡å°†é±¼çœ¼ç›¸æœºä¸æƒ¯æ€§å¯¼èˆªèåˆï¼Œå®ç° LOS/NLOS ä¿¡å·çš„ç›´æ¥æ ‡æ³¨ï¼Œè§£å†³ä¼ ç»Ÿæ®‹å·®æ ‡æ³¨çš„ä¸»è§‚æ€§é—®é¢˜ï¼Œæ•°æ®é›†åŒ…å« 14.9 ä¸‡æ¡æ ·æœ¬ï¼Œè¦†ç›–å¤šåœºæ™¯ï¼Œä¸ºåç»­ç ”ç©¶æä¾›åŸºç¡€ï¼›</p>
<p><strong>â‘¡ å¤šç‰¹å¾æ·±åº¦åˆ†æï¼š</strong> ç³»ç»Ÿæå– 6 ä¸ª GNSS å…³é”®ç‰¹å¾ï¼ˆSNRã€EAã€PRCã€PCã€CMCã€MPï¼‰ï¼Œé‡åŒ–åˆ†æ NLOS ä¸ LOS çš„å·®å¼‚ï¼ŒéªŒè¯å¤šç‰¹å¾èåˆçš„å¿…è¦æ€§ï¼ŒF1-score è¾ƒå•ä¸€ç‰¹å¾æå‡ 36.4%ï¼›</p>
<p><strong>â‘¢ é«˜æ•ˆé«˜ç²¾åº¦æ¨¡å‹ï¼š</strong> LightGBM æ¨¡å‹é€šè¿‡ç›´æ–¹å›¾ã€Leaf-wise ç”Ÿé•¿ç­‰ä¼˜åŒ–ï¼Œåœ¨ç²¾åº¦ï¼ˆF1=0.9232ï¼‰ä¸æ•ˆç‡ï¼ˆè®­ç»ƒ 25.49sï¼‰é—´è¾¾åˆ°å¹³è¡¡ï¼ŒNLOS æ¼æ£€ç‡ä»… 5.49%ï¼Œä¼˜äº XGBoost ä¸ CatBoostï¼›</p>
<p><strong>â‘£ å®šä½æ€§èƒ½æ˜¾è‘—æå‡ï¼š</strong> å‰”é™¤ NLOS åï¼ŒåŒé¢‘ SPP çš„ä¸œã€åŒ—ã€å¤©å‘ RMS åˆ†åˆ«æå‡ 47.82%ã€56.68%ã€36.68%ï¼Œå•é¢‘åœºæ™¯æå‡ 31.55%-45.24%ï¼Œæœ‰æ•ˆè§£å†³åŸå¸‚å³¡è°·å®šä½éš¾é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œæŠ½å¡â€åˆ°â€œè§„èŒƒé©±åŠ¨â€ï¼šVibe Coding çš„è¿›åŒ–å²ä¸è®¡åˆ†å°ç¨‹åºå®æˆ˜ ğŸš€]]></title>    <link>https://juejin.cn/post/7592438587388362790</link>    <guid>https://juejin.cn/post/7592438587388362790</guid>    <pubDate>2026-01-07T08:59:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592438587388362790" data-draft-id="7592361736130707466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œæŠ½å¡â€åˆ°â€œè§„èŒƒé©±åŠ¨â€ï¼šVibe Coding çš„è¿›åŒ–å²ä¸è®¡åˆ†å°ç¨‹åºå®æˆ˜ ğŸš€"/> <meta itemprop="keywords" content="VibeCoding,AIç¼–ç¨‹,Trae"/> <meta itemprop="datePublished" content="2026-01-07T08:59:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œæŠ½å¡â€åˆ°â€œè§„èŒƒé©±åŠ¨â€ï¼šVibe Coding çš„è¿›åŒ–å²ä¸è®¡åˆ†å°ç¨‹åºå®æˆ˜ ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:59:18.000Z" title="Wed Jan 07 2026 08:59:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å‰è¨€ï¼šVibe Coding æ˜¯å·æ‡’å—ï¼Ÿä¸ï¼Œå®ƒæ˜¯ç”Ÿäº§åŠ›çš„é™ç»´æ‰“å‡»ï¼</strong></p>
<p>æœ€è¿‘ï¼Œâ€œVibe Codingâ€ï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰è¿™ä¸ªè¯åœ¨å¼€å‘è€…åœˆå­é‡Œç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚å¾ˆå¤šäººåˆå¬è§‰å¾—è¿™ä¸è¿‡æ˜¯â€œPrompt æŠ½å¡â€çš„å¦ä¸€ç§å¥½å¬è¯´æ³•ï¼Œä½†å¦‚æœä½ çœŸçš„æ·±å…¥å…¶ä¸­ï¼Œä½ ä¼šå‘ç°å®ƒæ­£åœ¨ç»å†ä¸€åœºä»â€œç„å­¦â€åˆ°â€œç§‘å­¦â€çš„æƒŠäººè¿›åŒ–ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±ä»¥ä¸€æ¬¾å®æˆ˜é¡¹ç›®â€”â€”<strong>â€œæ‰‹æ“æˆ‘è¦è®¡åˆ†â€å¾®ä¿¡å°ç¨‹åº</strong>ä¸ºä¾‹ï¼Œæ·±åº¦æ‹†è§£ Vibe Coding çš„ä¸‰ä¸ªè¿›åŒ–é˜¶æ®µã€‚æ— è®ºä½ æ˜¯åˆšæ¥è§¦ AI ç¼–ç¨‹çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯è¿½æ±‚æè‡´æ•ˆç‡çš„è€å¸æœºï¼Œè¿™ç¯‡æ–‡ç« éƒ½å°†åˆ·æ–°ä½ å¯¹â€œå†™ä»£ç â€çš„è®¤çŸ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸŸ¢ ç¬¬ä¸€é˜¶æ®µï¼šæŠ½å¡æ—¶ä»£ï¼ˆThe Gacha Phaseï¼‰</h2>
<h3 data-id="heading-1">â€œä¸€å¥è¯éœ€æ±‚ï¼Œå…¨é  AI è„‘è¡¥â€</h3>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å¯¹ AI çš„ä½¿ç”¨æå…¶æœ´ç´ ã€‚</p>
<p><strong>å…¸å‹ Promptï¼š</strong></p>
<blockquote>
<p>â€œå¸®æˆ‘å†™ä¸€ä¸ªå¾®ä¿¡å°ç¨‹åºï¼Œå¯ä»¥ç”¨æ¥æ‰“ç‰Œè®¡åˆ†ï¼Œè¦é»‘è‰²ä¸»é¢˜ã€‚â€</p>
</blockquote>
<p><strong>ç°çŠ¶åˆ†æï¼š</strong>
è¿™æ—¶å€™çš„å¼€å‘è€…æ›´åƒæ˜¯åœ¨â€œæŠ½å¡â€ã€‚è¿æ°”å¥½æ—¶ï¼ŒAI ç»™å‡ºçš„ä»£ç å‹‰å¼ºèƒ½è·‘ï¼›è¿æ°”ä¸å¥½æ—¶ï¼Œä»£ç é‡Œå…¨æ˜¯è¿‡æ—¶çš„ API æˆ–è€…é€»è¾‘æ¼æ´ã€‚</p>
<p><strong>å®æˆ˜å¤ç›˜ï¼š</strong>
åœ¨å¼€å‘â€œè®¡åˆ†å°ç¨‹åºâ€æ—¶ï¼Œå¦‚æœåªç»™å‡ºä¸€å¥è¯éœ€æ±‚ï¼ŒAI å¯èƒ½ä¼šç”Ÿæˆä¸€ä¸ªç®€å•çš„åˆ—è¡¨ï¼Œä½†å®ƒä¸çŸ¥é“ä½ éœ€è¦ï¼š</p>
<ul>
<li>æ’¤é”€åŠŸèƒ½ï¼ˆæ‰“é”™äº†æ€ä¹ˆåŠï¼Ÿï¼‰</li>
<li>è‡ªåŠ¨è¡¥å…¨ï¼ˆæ€»åˆ†å¿…é¡»ä¸º 0 çš„é€»è¾‘ï¼‰</li>
<li>å±å¹•å¸¸äº®ï¼ˆæ‰“ç‰Œæ—¶æ‰‹æœºé»‘å±çœŸçš„å¾ˆçƒ¦ï¼ï¼‰</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> ç¬¬ä¸€é˜¶æ®µçš„ Vibe Coding åªèƒ½äº§å‡ºâ€œç©å…·â€ï¼Œæ— æ³•äº¤ä»˜â€œäº§å“â€ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸŸ¡ ç¬¬äºŒé˜¶æ®µï¼šå·¥ç¨‹æ—¶ä»£ï¼ˆPrompt Engineeringï¼‰</h2>
<h3 data-id="heading-3">â€œç»™ AI ä¸€ä¸ªèº«ä»½ï¼Œç»™ä»£ç ä¸€ä¸ªè§„çŸ©â€</h3>
<p>éšç€æˆ‘ä»¬è¢« AI å‘è¿‡å‡ æ¬¡åï¼Œå¤§å®¶å¼€å§‹æ„è¯†åˆ°ï¼š<strong>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰å’Œçº¦æŸï¼ˆConstraintï¼‰æ‰æ˜¯çµé­‚ã€‚</strong></p>
<p><strong>è¿›åŒ–åçš„ Prompt ç»“æ„ï¼š</strong></p>
<ol>
<li><strong>èµ‹äºˆè§’è‰²ï¼š</strong> â€œä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„å¾®ä¿¡å°ç¨‹åºä¸“å®¶ï¼Œæ“…é•¿åŸç”Ÿå¼€å‘ã€‚â€</li>
<li><strong>å®šä¹‰æŠ€æœ¯æ ˆï¼š</strong> â€œä½¿ç”¨åŸç”Ÿ WXML/WXSS/JSï¼Œç¦æ­¢ä½¿ç”¨ Uni-app æˆ– Vueï¼Œéµå¾ª ES6 è§„èŒƒã€‚â€</li>
<li><strong>ç»“æ„åŒ–éœ€æ±‚ï¼š</strong>
<ul>
<li>é¦–é¡µï¼šç®¡ç†å¯¹å±€ï¼ˆæ–°å»ºã€ç»§ç»­ã€å†å²ï¼‰ã€‚</li>
<li>è®¡åˆ†é¡µï¼šå±•ç¤ºæ¯ä¸ªç©å®¶çš„æ€»åˆ†å’Œæ¯å±€æ˜ç»†ã€‚</li>
<li>è¾“å…¥é¡µï¼šæ”¯æŒè´Ÿåˆ†å½•å…¥ã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ ¸å¿ƒæå‡ï¼š</strong>
åœ¨è¿™ä¸€é˜¶æ®µï¼Œæˆ‘ä»¬å¼€å§‹æœ‰æ„è¯†åœ°æ§åˆ¶ AI çš„è¾“å‡ºæ ¼å¼ã€‚æ¯”å¦‚æˆ‘ä»¬ä¼šè¦æ±‚ AI ä½¿ç”¨ <code>tailwindcss</code>ï¼ˆå¦‚æœæ”¯æŒï¼‰æˆ–è€…ç‰¹å®šçš„è®¾è®¡è§„èŒƒã€‚</p>
<p><strong>çŸ¥è¯†ç¡¬æ ¸ç‚¹ ğŸ’¡ï¼š</strong>
åœ¨ç¬¬äºŒé˜¶æ®µï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ <strong>Context Injectionï¼ˆä¸Šä¸‹æ–‡æ³¨å…¥ï¼‰</strong> å‘Šè¯‰ AI ç°æœ‰çš„æ–‡ä»¶ç»“æ„ã€‚æ¯”å¦‚åœ¨ Trae ä¸­ï¼ŒAI èƒ½æ„ŸçŸ¥åˆ°æ•´ä¸ªé¡¹ç›®çš„ç›®å½•æ ‘ï¼Œè¿™è®©å®ƒç”Ÿæˆçš„ä»£ç ä¸å†æ˜¯å­¤å²›ï¼Œè€Œæ˜¯èƒ½ä¸ <code>app.json</code> å®Œç¾èåˆçš„ç»„ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-4">ğŸ”´ ç¬¬ä¸‰é˜¶æ®µï¼šè§„èŒƒé©±åŠ¨æ—¶ä»£ï¼ˆSpec-Driven Developmentï¼‰</h2>
<h3 data-id="heading-5">â€œå¤š Agent åä½œï¼ŒåˆåŒå¼äº¤ä»˜â€</h3>
<p>è¿™æ˜¯ç›®å‰ Vibe Coding çš„æœ€é«˜å¢ƒç•Œï¼Œä¹Ÿæ˜¯æˆ‘ä»¬â€œè®¡åˆ†å°ç¨‹åºâ€çœŸæ­£è½åœ°çš„æ–¹æ¡ˆï¼š<strong>SDDï¼ˆè§„èŒƒé©±åŠ¨å¼€å‘ï¼‰</strong>ã€‚</p>
<h4 data-id="heading-6">1. ä»€ä¹ˆæ˜¯ SDDï¼Ÿ</h4>
<p>ç®€å•æ¥è¯´ï¼š<strong>å…ˆå†™â€œè¯´æ˜ä¹¦â€ï¼ˆSpecï¼‰ï¼Œå†æŒ‰è¯´æ˜ä¹¦å†™ä»£ç ã€‚</strong> è¿™é‡Œçš„ Spec ä¸æ˜¯åºŸè¯æ–‡æ¡£ï¼Œè€Œæ˜¯â€œä»£ç åˆåŒâ€ã€‚</p>
<h4 data-id="heading-7">2. è™šæ‹Ÿå›¢é˜Ÿçš„è¯ç”Ÿ ğŸ­</h4>
<p>åœ¨å¼€å‘è¿™æ¬¾å°ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬ä¸å†æ˜¯å•æ‰“ç‹¬æ–—ï¼Œè€Œæ˜¯è°ƒåº¦äº†ä¸€ä¸ªâ€œè™šæ‹Ÿå›¢é˜Ÿâ€ï¼š</p>
<ul>
<li><strong>è™šæ‹Ÿ PMï¼ˆGemini 3ï¼‰ï¼š</strong> ç”Ÿæˆæå…¶è¯¦å°½çš„éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰ã€‚</li>
<li><strong>è™šæ‹Ÿè®¾è®¡å¸ˆï¼š</strong> è§„åˆ’ UI äº¤äº’é€»è¾‘ï¼ˆå¦‚ï¼šæ·±è‰²èƒŒæ™¯ã€ç»¿è‰²é«˜äº®æŒ‰é’®ï¼‰ã€‚</li>
<li><strong>è™šæ‹Ÿæ¶æ„å¸ˆï¼š</strong> å®šä¹‰æ•°æ®ç»“æ„ã€‚</li>
</ul>
<h4 data-id="heading-8">3. è®¡åˆ†å°ç¨‹åºçš„ç¡¬æ ¸ä»£ç æ‹†è§£ ğŸ› ï¸</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹åœ¨ SDD æ¨¡å¼ä¸‹ï¼ŒAI ç”Ÿæˆçš„ä»£ç æ˜¯å¦‚ä½•ä½“ç°â€œä¸“ä¸šæ€§â€çš„ã€‚</p>
<p><strong>ã€æ•°æ®åˆåŒï¼šStorageManagerã€‘</strong>
åœ¨ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">storage.js</a> ä¸­ï¼ŒAI å¹¶æ²¡æœ‰æŠŠé€»è¾‘æ•£è½åœ¨å„ä¸ªé¡µé¢ï¼Œè€Œæ˜¯å°è£…äº†ä¸€ä¸ªå¥å£®çš„å­˜å‚¨ç±»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// storage.js æ ¸å¿ƒç‰‡æ®µ</span>
<span class="hljs-keyword">static</span> <span class="hljs-title function_">undoLastRound</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> session = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getCurrentSession</span>();
  <span class="hljs-keyword">if</span> (session &amp;&amp; session.<span class="hljs-property">rounds</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> lastRound = session.<span class="hljs-property">rounds</span>.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// å¼¹å‡ºæœ€æ–°ä¸€å±€</span>
    <span class="hljs-comment">// ä¸¥è°¨çš„é‡æ–°è®¡ç®—é€»è¾‘</span>
    session.<span class="hljs-property">totals</span> = session.<span class="hljs-property">totals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">total, idx</span>) =&gt;</span> total - lastRound.<span class="hljs-property">scores</span>[idx]);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveCurrentSession</span>(session);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p><strong>ç¡¬æ ¸è§£æï¼š</strong> AI è‡ªåŠ¨è€ƒè™‘åˆ°äº† <code>totals</code> æ•°ç»„çš„åŒæ­¥æ›´æ–°ï¼Œè€Œä¸æ˜¯ç®€å•çš„åˆ é™¤è®°å½•ã€‚è¿™å°±æ˜¯è§„èŒƒé©±åŠ¨ä¸‹ï¼ŒAI å¯¹ä¸šåŠ¡é€»è¾‘çš„æ·±åˆ»ç†è§£ã€‚</p>
<p><strong>ã€äº¤äº’é»‘ç§‘æŠ€ï¼šè‡ªåŠ¨è¡¥å…¨é€»è¾‘ã€‘</strong>
åœ¨æ‰“ç‰Œè®¡åˆ†åœºæ™¯ä¸­ï¼Œé€šå¸¸æ‰€æœ‰äººçš„å¾—åˆ†æ€»å’Œåº”ä¸º 0ã€‚åœ¨ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">input.js</a> ä¸­ï¼ŒAI å®ç°äº†ä¸€ä¸ªéå¸¸æƒŠè‰³çš„åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// input.js è‡ªåŠ¨è¡¥å…¨</span>
<span class="hljs-keyword">if</span> (filledCount === <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">players</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
  <span class="hljs-keyword">const</span> emptyIndex = scores.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s === <span class="hljs-string">''</span> || s === <span class="hljs-string">'-'</span>);
  <span class="hljs-keyword">if</span> (emptyIndex !== -<span class="hljs-number">1</span>) {
    <span class="hljs-keyword">const</span> currentSum = numScores.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
    suggestions[emptyIndex] = -currentSum; <span class="hljs-comment">// è‡ªåŠ¨è®¡ç®—æœ€åä¸€ä¸ªäººåº”å¾—çš„åˆ†æ•°</span>
  }
}
</code></pre>
<p><strong>ç¡¬æ ¸è§£æï¼š</strong> å½“ä½ å¡«å®Œå‰ä¸‰ä¸ªäººçš„åˆ†æ•°æ—¶ï¼ŒAI ä¼šè‡ªåŠ¨å¸®ä½ ç®—å‡ºç¬¬å››ä¸ªäººçš„åˆ†æ•°å¹¶ç»™å‡ºæç¤ºã€‚è¿™ç§â€œæ‡‚äººå¿ƒâ€çš„äº¤äº’ï¼Œä¸æ˜¯é â€œæ°›å›´â€å‡ºæ¥çš„ï¼Œè€Œæ˜¯é è¯¦å°½çš„éœ€æ±‚è§„èŒƒå¼•å¯¼å‡ºæ¥çš„ã€‚</p>
<hr/>
<h2 data-id="heading-9">ğŸ¨ UI/UX çš„ vibeï¼šä¸ä»…ä»…æ˜¯å¥½çœ‹</h2>
<p>åœ¨ SDD é˜¶æ®µï¼ŒAI å¯¹ UI çš„æŠŠæ§ä¹Ÿä¸Šå‡åˆ°äº†ä¸“ä¸šå±‚é¢ã€‚æ‰“å¼€ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">app.json</a>ï¼Œä½ ä¼šå‘ç°å®ƒä½¿ç”¨äº†æœ€æ–°çš„ <code>skyline</code> æ¸²æŸ“å¼•æ“ã€‚</p>
<ul>
<li><strong>é…è‰²æ–¹æ¡ˆï¼š</strong> <code>#1a1a1a</code> çš„æ·±è‰²èƒŒæ™¯ï¼Œæ­é…å¾®ä¿¡ç»¿ <code>#07C160</code>ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒï¼š</strong> åœ¨ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">scoreboard.js</a> ä¸­ï¼ŒAI è‡ªåŠ¨åŠ å…¥äº† <code>wx.setKeepScreenOn({ keepScreenOn: true })</code>ã€‚
<ul>
<li><strong>çŸ¥è¯†ç‚¹ï¼š</strong> è¿™è¡Œä»£ç èƒ½ç¡®ä¿ä½ åœ¨æ‰“ç‰Œè¿‡ç¨‹ä¸­ï¼Œè®¡åˆ†æ¿æ°¸è¿œäº®ç€ï¼Œä¸éœ€è¦é¢‘ç¹å»è§£é”æ‰‹æœºã€‚è¿™å°±æ˜¯ Vibe Coding ç¬¬ä¸‰é˜¶æ®µå¸¦æ¥çš„â€œç”Ÿäº§çº§â€ç»†èŠ‚ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">ğŸ› ï¸ å®æˆ˜æŒ‡å—ï¼šå¦‚ä½•å¤åˆ»è¿™ç§è¿›åŒ–ï¼Ÿ</h2>
<p>å¦‚æœä½ ä¹Ÿæƒ³ç”¨ Vibe Coding çš„æ–¹å¼æ‰‹æ“ä¸€ä¸ªå±äºè‡ªå·±çš„å°ç¨‹åºï¼Œè¯·è®°ä½ä»¥ä¸‹â€œä¸‰æ­¥èµ°â€æˆ˜ç•¥ï¼š</p>
<h3 data-id="heading-11">ç¬¬ä¸€æ­¥ï¼šç¼–å†™ Spec æ–‡æ¡£ âœï¸</h3>
<p>ä¸è¦æ€¥ç€å†™ä»£ç ï¼å…ˆæ‰“å¼€ä¸€ä¸ª <code>spec.md</code> æ–‡ä»¶ï¼Œå‘Šè¯‰ AIï¼š</p>
<ul>
<li><strong>ç›®æ ‡ï¼š</strong> â€œæˆ‘è¦åšä¸€ä¸ªè®¡åˆ†å·¥å…·ã€‚â€</li>
<li><strong>è§„åˆ™ï¼š</strong> â€œå¿…é¡»æ»¡è¶³æ€»åˆ†ä¸º 0ã€‚â€</li>
<li><strong>å¼‚å¸¸å¤„ç†ï¼š</strong> â€œæ”¯æŒè¯¯æ“ä½œæ’¤é”€ã€‚â€</li>
</ul>
<h3 data-id="heading-12">ç¬¬äºŒæ­¥ï¼šåˆ©ç”¨ Trae/Cursor çš„ä¸Šä¸‹æ–‡èƒ½åŠ› ğŸ¤–</h3>
<p>å°†ä½ çš„ <code>spec.md</code> å–‚ç»™ AIã€‚ä½ ä¼šå‘ç°ï¼Œè¿™æ—¶å€™ç”Ÿæˆçš„ä»£ç ï¼Œé€»è¾‘ä¸€è‡´æ€§æé«˜ã€‚å®ƒä¼šä¸»åŠ¨ä¸ºä½ åˆ›å»º <code>utils/storage.js</code> è¿™ç§å·¥å…·ç±»ï¼Œè€Œä¸æ˜¯æŠŠå‡ ç™¾è¡Œä»£ç å¡è¿›ä¸€ä¸ª <code>index.js</code>ã€‚</p>
<h3 data-id="heading-13">ç¬¬ä¸‰æ­¥ï¼šè°ƒè¯•ä¸è°ƒä¼˜ï¼ˆRefineï¼‰ ğŸ”§</h3>
<p>Vibe Coding ä¸ä»£è¡¨â€œé›¶ä»£ç ä¿®æ”¹â€ï¼Œè€Œæ˜¯â€œé›¶ä»£ç ç¡¬ç¼–ç â€ã€‚
å½“ AI ç”Ÿæˆä»£ç åï¼Œä½ å‘ç°æŸä¸ªæŒ‰é’®å¤ªå°ï¼Œä½ åº”è¯¥è¯´ï¼š</p>
<blockquote>
<p>â€œæŠŠ <code>input</code> é¡µé¢çš„ <code>save</code> æŒ‰é’®æ”¹ä¸ºæ‚¬æµ®å¼è®¾è®¡ï¼Œå¢åŠ  <code>box-shadow</code>ã€‚â€
è€Œä¸æ˜¯è‡ªå·±å»æ”¹ CSSã€‚è®© AI å§‹ç»ˆä¿æŒå¯¹å…¨å±€æ ·å¼çš„æ„ŸçŸ¥ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">æ€»ç»“ï¼šVibe Coding çš„æœªæ¥æ˜¯ SDD</h2>
<p>ä»æœ€åˆçš„â€œæŠ½å¡â€ç¢°è¿æ°”ï¼Œåˆ°â€œæç¤ºè¯å·¥ç¨‹â€çš„æŠ€å·§æ²‰æ·€ï¼Œå†åˆ°â€œè§„èŒƒé©±åŠ¨â€çš„ç³»ç»ŸåŒ–ç”Ÿäº§ï¼ŒVibe Coding å·²ç»ä¸å†æ˜¯ç„å­¦ã€‚</p>
<p><strong>AI ç¼–ç¨‹çš„å…¬å¼å·²ç»æ˜ç¡®ï¼š</strong>
<code>AI ç¼–ç¨‹ = é«˜è´¨é‡æç¤ºè¯ + å¼ºå¤§çš„ AI ç¼–è¾‘å™¨(Trae/Cursor) + é¡¶å°–å¤§æ¨¡å‹(Gemini 3/Claude 3.5) + SDD è§„èŒƒ</code></p>
<p>åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œ<strong>ä½ çš„æ€ç»´æ·±åº¦å†³å®šäº†ä»£ç çš„é«˜åº¦</strong>ã€‚ä¸å†éœ€è¦çº ç»“äºä¸€ä¸ªé—­åŒ…æ€ä¹ˆå†™ï¼Œä¸€ä¸ª API æ€ä¹ˆè°ƒç”¨ï¼Œä½ éœ€è¦å…³æ³¨çš„æ˜¯ï¼š<strong>äº§å“é€»è¾‘æ˜¯å¦è‡ªæ´½ï¼Ÿç”¨æˆ·ä½“éªŒæ˜¯å¦ä¸æ»‘ï¼Ÿè§„èŒƒæ–‡æ¡£æ˜¯å¦ä¸¥è°¨ï¼Ÿ</strong></p>
<p>å¦‚æœä½ è¿˜åœ¨ä¸ºå†™ä»£ç å¤´ç§ƒï¼Œä¸å¦¨æ¢ä¸ªå§¿åŠ¿ï¼ŒåŠ å…¥ Vibe Coding çš„è¿›åŒ–è¡Œåˆ—å§ï¼ğŸš€</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sugo Protector ä»£ç ä¿æŠ¤æ•ˆæœåˆ†ææŠ¥å‘Š]]></title>    <link>https://juejin.cn/post/7592255257346867241</link>    <guid>https://juejin.cn/post/7592255257346867241</guid>    <pubDate>2026-01-07T07:48:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592255257346867241" data-draft-id="7592144524309004294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sugo Protector ä»£ç ä¿æŠ¤æ•ˆæœåˆ†ææŠ¥å‘Š"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-07T07:48:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MeowStack"/> <meta itemprop="url" content="https://juejin.cn/user/3001004407135898"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sugo Protector ä»£ç ä¿æŠ¤æ•ˆæœåˆ†ææŠ¥å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3001004407135898/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MeowStack
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T07:48:07.000Z" title="Wed Jan 07 2026 07:48:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. æ¦‚è¿°</h2>
<p>æœ¬æŠ¥å‘Šæ—¨åœ¨å¯¹æ¯”æœªç»ä¿æŠ¤çš„åŸå§‹ä»£ç ä¸ç»è¿‡ <strong>Sugo Protector</strong> å¤„ç†åçš„å—ä¿æŠ¤ä»£ç ï¼Œä»æºä»£ç é€»è¾‘ã€æ±‡ç¼–æŒ‡ä»¤ç»“æ„ã€åç¼–è¯‘å¯è¯»æ€§ä»¥åŠæ–‡ä»¶ç»“æ„ç­‰å¤šä¸ªç»´åº¦è¿›è¡Œåˆ†æã€‚æµ‹è¯•æ ·æœ¬è¦†ç›–äº†ï¼šæ‰˜ç®¡ä»£ç ï¼ˆ.NET/C#ï¼‰ã€Nativeç¨‹åºï¼ˆC/C++ x64/ARM64ï¼‰ä»¥åŠ Android APK åº”ç”¨ã€‚</p>
<p><strong>ç»“è®ºå…ˆè¡Œï¼š</strong> <strong>Sugo Protector</strong> æˆåŠŸé€šè¿‡<strong>æ§åˆ¶æµå¹³å¦åŒ–ã€æŒ‡ä»¤çº§æ··æ·†ã€è™šå‡æ§åˆ¶æµã€é˜²åç¼–è¯‘ï¼ˆAnti-Decompilationï¼‰</strong> ç­‰æŠ€æœ¯ï¼Œå°†åŸæœ¬æ¸…æ™°çš„é€»è¾‘å½»åº•è½¬åŒ–ä¸ºä¸å¯è¯»ã€ä¸å¯é€†çš„æ··ä¹±çŠ¶æ€ï¼Œæå¤§æå‡äº†é€†å‘å·¥ç¨‹çš„é—¨æ§›ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. è¯¦ç»†å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-2">2.1 .NET/C# æ‰˜ç®¡ä»£ç æ··æ·†æ•ˆæœ</h3>
<p><strong>å¯¹æ¯”å¯¹è±¡ï¼š</strong> (åŸå§‹ç¨‹åº)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1611872a77d64c52905862bca9df0be3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=0wje8MzsIE1mQIKY2VoX1PcBl78%3D" alt="dotnet_original.png" loading="lazy"/></p>
<p>vs (ä¿æŠ¤å)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45abfff21e994254a8e2523292580263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=8UvXwERgBi8lEUTwHm7fBGX8iNg%3D" alt="dotnet_protected.png" loading="lazy"/></p>

























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>åŸå§‹ IL (Original)</strong></th><th><strong>å—ä¿æŠ¤ IL (Protected)</strong></th></tr></thead><tbody><tr><td><strong>CFG (æ§åˆ¶æµå›¾)</strong></td><td>æ¸…æ™°çš„é€’å½’é€»è¾‘ï¼Œ ä¸€ç›®äº†ç„¶ã€‚</td><td>å®Œå…¨ä¸å¯è¯»ã€‚é€»è¾‘è¢«åŒ…è£¹åœ¨æ— é™å¾ªç¯ä¸­ï¼Œé‡‡ç”¨äº†å¤æ‚çš„ Switch åˆ†å‘å™¨ï¼ˆæ§åˆ¶æµå¹³å¦åŒ–ï¼‰ã€‚</td></tr><tr><td><strong>æŒ‡ä»¤ç‰¹å¾</strong></td><td>çº¿æ€§æ¸…æ™°ï¼ŒæŒ‡ä»¤å¯è¯»ã€‚</td><td>å¼•å…¥äº†å¤§é‡çš„ç«‹å³æ•°åŠ å¯†ä¸ç®—æœ¯æ··æ·†ã€‚åŸå§‹çš„åŠ å‡æ³•è¢«æ›¿æ¢ä¸ºå¤æ‚çš„ä½è¿ç®—ç»„åˆã€‚</td></tr><tr><td><strong>åç¼–è¯‘ç»“æœ</strong></td><td>å¯ç›´æ¥è¿˜åŸå®Œæ•´ä»£ç ã€‚</td><td>åç¼–è¯‘å™¨è™½èƒ½æ˜¾ç¤ºä»£ç ï¼Œä½†é€»è¾‘å®Œå…¨ä¸¢å¤±ï¼Œé€†å‘è€…éœ€è¦è€—è´¹å¤§é‡æ—¶é—´å»æ··æ·†ï¼ˆDe-obfuscateï¼‰ã€‚</td></tr></tbody></table>
<p><strong>æŠ€æœ¯äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ§åˆ¶æµå¹³å¦åŒ– (Control Flow Flattening):</strong> å½»åº•ç ´åäº†åŸæœ‰çš„ä»£ç å—é¡ºåºã€‚</li>
<li><strong>ä¸é€æ˜è°“è¯ (Opaque Predicates):</strong> æ’å…¥äº†å¤§é‡è¿è¡Œæ—¶è®¡ç®—çš„æ¡ä»¶ï¼Œé™æ€åˆ†æå·¥å…·æ— æ³•ç¡®å®šæ‰§è¡Œè·¯å¾„ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">2.2 Native x64 æ±‡ç¼–ä¸åæ±‡ç¼–æ•ˆæœ</h3>
<p><strong>å¯¹æ¯”å¯¹è±¡ï¼š</strong> (åŸå§‹ç¨‹åº)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d0125b357084d16a894cd731db02a5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=4%2Bv7JD2IWBi7qA12fsbdG0pONPQ%3D" alt="x64_asm_original.png" loading="lazy"/></p>
<p>vs (ä¿æŠ¤å)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc506da985194b21b83204a697624c09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=hRvGnGX23EEfPr0V4lX8LLUvqnA%3D" alt="x64_asm_protected.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e69e0a45e3b420aaae02b6a5bb8bed6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=I3EfunGsi0cxTj922Kw1Ni17GWE%3D" alt="x64_asm_2_protected.png" loading="lazy"/></p>

























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>åŸå§‹x64æ±‡ç¼–</strong></th><th><strong>å—ä¿æŠ¤x64æ±‡ç¼–</strong></th></tr></thead><tbody><tr><td><strong>CFG (æ§åˆ¶æµå›¾)</strong></td><td>æ ‡å‡†çš„IDA å¯è¯†åˆ«å‡½æ•°ã€‚</td><td>å…¥å£å³é­åˆ°ç ´åã€‚æŒ‡ä»¤æµä¸­æ’å…¥å¼‚å¸¸æŒ‡ä»¤ã€‚</td></tr><tr><td><strong>æŒ‡ä»¤ç‰¹å¾</strong></td><td>çº¿æ€§æ¸…æ™°ï¼ŒæŒ‡ä»¤æŒ‡å‘æ˜ç¡®çš„å‡½æ•°åœ°å€ã€‚</td><td>å‡ºç°äº†å¤§é‡ç‰¹æƒæŒ‡ä»¤æˆ–å¼‚å¸¸æŒ‡ä»¤æ··æ·†ï¼Œè¿™ä¼šå¹²æ‰°è°ƒè¯•å™¨å’Œæ¨¡æ‹Ÿå™¨ã€‚å‡ºç°äº† <code>call sub_xxxxx</code> åç´§æ¥æ•°æ®æ®µçš„æƒ…å†µï¼Œå¯¼è‡´åæ±‡ç¼–å¼•æ“é”™è¯¯æˆªæ–­ã€‚</td></tr><tr><td><strong>ååˆ†æ</strong></td><td>å¯å®Œç¾ç”Ÿæˆä¼ªä»£ç ã€‚</td><td>åˆ†æå—é˜»ï¼Œå‡½æ•°è¢«é”™è¯¯æˆªæ–­ï¼Œç”±äºå †æ ˆå¹³è¡¡è¢«ç ´åï¼ŒF5 ä¼ªä»£ç ç”Ÿæˆå¤§æ¦‚ç‡å¤±è´¥æˆ–ç”Ÿæˆé”™è¯¯é€»è¾‘ã€‚</td></tr></tbody></table>
<p><strong>æŠ€æœ¯äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>èŠ±æŒ‡ä»¤ä¸è„æ•°æ® (Junk Code &amp; Anti-disassembly):</strong> è¿™é‡Œçš„ä»£ç æ®µæ•°æ®ï¼ŒæˆåŠŸè¯±å¯¼åæ±‡ç¼–å™¨äº§ç”Ÿé”™è¯¯æŒ‡ä»¤ã€‚</li>
<li><strong>æŒ‡ä»¤å˜å¼‚ (Instruction Mutation):</strong> åŸå§‹ç®€å•çš„è¿ç®—è¢«è†¨èƒ€ä¸ºå¤šæ¡å¤æ‚æŒ‡ä»¤ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">2.3 Native ARM64 æ±‡ç¼–ä¸åæ±‡ç¼–æ•ˆæœ</h3>
<p><strong>å¯¹æ¯”å¯¹è±¡ï¼š</strong> (åŸå§‹ç¨‹åº)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee6bbdac9a4c4ba6800c6ed1210dc0ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=c9JjvkzNSzvT9PTGb2ebwm4%2FX%2BE%3D" alt="a64_asm_original.png" loading="lazy"/></p>
<p>vs (ä¿æŠ¤å)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1020250bc8614a149e6f60acefb9c40a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=uHLjJmDBBk5Larpn%2Bw9VPZaefaM%3D" alt="a64_asm_protected.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/373a59471e6d4c9dac3c55d9f043275a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=HEXROcc7MOHJcBODZhiA7jJ%2Fudk%3D" alt="a64_asm_2_protected.png" loading="lazy"/></p>

























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>åŸå§‹ ARM64æ±‡ç¼–</strong></th><th><strong>å—ä¿æŠ¤ ARM64</strong>æ±‡ç¼–</th></tr></thead><tbody><tr><td><strong>CFG (æ§åˆ¶æµå›¾)</strong></td><td>æ ‡å‡†çš„æ ‘çŠ¶æˆ–ç¯çŠ¶ç»“æ„ã€‚</td><td>æ§åˆ¶æµçˆ†ç‚¸ã€‚ä½¿ç”¨äº†å¯„å­˜å™¨é—´æ¥è·³è½¬ï¼Œè¿™æ˜¯å…¸å‹çš„è™šæ‹ŸåŒ–æˆ–é«˜å¼ºåº¦å¹³å¦åŒ–ç‰¹å¾ã€‚é™æ€åˆ†æå·¥å…·æ— æ³•ç›´æ¥è®¡ç®—å‡ºå¯„å­˜å™¨çš„ç›®æ ‡åœ°å€ï¼Œå¯¼è‡´ CFG æ–­è£‚ã€‚</td></tr><tr><td><strong>æŒ‡ä»¤ç‰¹å¾</strong></td><td>æ¸…æ™°çš„å¯„å­˜å™¨æ“ä½œã€‚</td><td>å……æ–¥ç€ <code>DCD</code>, <code>DCB</code> (æ•°æ®å®šä¹‰) ç©¿æ’åœ¨æŒ‡ä»¤ä¸­ï¼Œä»¥åŠä¸é€»è¾‘æ— å…³çš„æŒ‡ä»¤ï¼Œç”¨äºæ··æ·†è§†å¬ã€‚</td></tr><tr><td><strong>ååˆ†æ</strong></td><td>å¯å®Œç¾ç”Ÿæˆä¼ªä»£ç ã€‚</td><td>åˆ†æå—é˜»ï¼Œå‡½æ•°è¢«é”™è¯¯æˆªæ–­ï¼Œç”±äºå †æ ˆå¹³è¡¡è¢«ç ´åï¼ŒF5 ä¼ªä»£ç ç”Ÿæˆå¤§æ¦‚ç‡å¤±è´¥æˆ–ç”Ÿæˆé”™è¯¯é€»è¾‘ã€‚</td></tr></tbody></table>
<p><strong>æŠ€æœ¯äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>é—´æ¥è·³è½¬ (Indirect Branching):</strong> åˆ©ç”¨è·³è½¬æŒ‡ä»¤é…åˆå¤æ‚çš„åœ°å€è®¡ç®—ï¼Œæœ‰æ•ˆå¯¹æŠ—äº†è‡ªåŠ¨åˆ†æå’Œæ’ä»¶çš„æ¢å¤ã€‚</li>
<li><strong>å‡½æ•°åˆ†å— (Function Chunking):</strong> å°†ä¸€ä¸ªå‡½æ•°æ‹†åˆ†ä¸ºä¸è¿ç»­çš„å†…å­˜å—ï¼Œå¢åŠ é˜…è¯»éš¾åº¦ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">2.4 Android APK æ–‡ä»¶ç»“æ„ä¸èµ„æº</h3>
<p><strong>å¯¹æ¯”å¯¹è±¡ï¼š</strong> (åŸå§‹ç¨‹åº)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee95011917d14a069bab65fd8dc1a9b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=s11dxynbjJJsQTUqQo8iV5JHDFE%3D" alt="apk_original.png" loading="lazy"/></p>
<p>vs (ä¿æŠ¤å)
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c0c48a5d40b44c3aea60007424f2e13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWVvd1N0YWNr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768376886&amp;x-signature=GR%2Fvsa7eRA%2BWlud2rT7pRU81%2FKQ%3D" alt="apk_protected.png" loading="lazy"/></p>




















<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>åŸå§‹ APK</strong></th><th><strong>å—ä¿æŠ¤ APK</strong></th></tr></thead><tbody><tr><td><strong>åŒ…ç»“æ„</strong></td><td><code>com.example.applibs</code> ä¸‹ç›´æ¥æš´éœ²ä¸šåŠ¡ä»£ç ã€‚</td><td>å¼•å…¥äº† <code>meowstack.sugo</code> åŒ…ï¼Œè¯æ˜ä¿æŠ¤å£³å·²æˆåŠŸæ¤å…¥ã€‚</td></tr><tr><td><strong>ä»£ç </strong></td><td>åŸå§‹ä»£ç æš´éœ²ã€‚</td><td>å…³é”®ä»£ç å·²è¢«æŠ½å–å¹¶åŠ å¯†å­˜å‚¨ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€è§£å¯†ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">3. ç»¼åˆè¯„ä¼°æ€»ç»“</h2>
<p>æ ¹æ®ä»¥ä¸Šæˆªå›¾åˆ†æï¼Œ<strong>Sugo Protector</strong> å±•ç°äº†å•†ä¸šçº§çš„é«˜å¼ºåº¦é˜²æŠ¤èƒ½åŠ›ï¼š</p>
<ul>
<li><strong>å¤šå±‚çº§é˜²å¾¡ä½“ç³»ï¼š</strong> ä»æºç çº§ï¼ˆ.NET IL æ··æ·†ï¼‰åˆ°æ±‡ç¼–çº§ï¼ˆx64/ARM64 æŒ‡ä»¤å˜å¼‚ï¼‰å†åˆ°æ–‡ä»¶çº§ï¼ˆAPK ç»“æ„ï¼‰ï¼Œå½¢æˆäº†ç«‹ä½“é˜²æŠ¤ã€‚</li>
<li><strong>å¯¹æŠ—è‡ªåŠ¨åŒ–å·¥å…·ï¼š</strong> é’ˆå¯¹ IDA Proã€JADXã€dnSpy ç­‰ä¸»æµé€†å‘å·¥å…·å‡æœ‰ä¸“é—¨çš„å¯¹æŠ—ç‰¹å¾ï¼ˆå¦‚ç ´åæ ˆå¸§ã€é—´æ¥è·³è½¬ã€èŠ±æŒ‡ä»¤ï¼‰ï¼Œè¿«ä½¿æ”»å‡»è€…å›é€€åˆ°ä½æ•ˆçš„åŠ¨æ€è°ƒè¯•ã€‚</li>
<li><strong>æ ¸å¿ƒé€»è¾‘éšè—ï¼š</strong> æ— è®ºæ˜¯ .NET çš„æ§åˆ¶æµå¹³å¦åŒ–ï¼Œè¿˜æ˜¯ Native ä»£ç çš„å¯„å­˜å™¨é—´æ¥è·³è½¬ï¼Œéƒ½å®Œç¾åœ°å°†é€»è¾‘éšè—åœ¨å¤æ‚çš„æ•°å­¦å˜æ¢å’Œæ··ä¹±çš„è·³è½¬ä¸­ï¼Œ<strong>æœ‰æ•ˆé˜²æ­¢äº†ç®—æ³•çªƒå–å’Œé€»è¾‘ç¯¡æ”¹</strong>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“AIç¼–è¾‘å™¨å­¦ä¼šäº†Shellå‘½ä»¤ï¼šIfAI v0.2.6æ·±åº¦æµ‹è¯„ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592424951660085274</link>    <guid>https://juejin.cn/post/7592424951660085274</guid>    <pubDate>2026-01-07T08:56:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592424951660085274" data-draft-id="7592340733954228274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“AIç¼–è¾‘å™¨å­¦ä¼šäº†Shellå‘½ä»¤ï¼šIfAI v0.2.6æ·±åº¦æµ‹è¯„ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2026-01-07T08:56:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="peterfei"/> <meta itemprop="url" content="https://juejin.cn/user/2700056287782663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“AIç¼–è¾‘å™¨å­¦ä¼šäº†Shellå‘½ä»¤ï¼šIfAI v0.2.6æ·±åº¦æµ‹è¯„ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056287782663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    peterfei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:56:24.000Z" title="Wed Jan 07 2026 08:56:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b9bd46fd44845658440a8d895738447~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380984&amp;x-signature=M6MthwRkNrlWyvrZ9rvIs6Y2Azw%3D" alt="ifai2026001_1280x720.gif" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€ï¼šä»"ä»£ç è¡¥å…¨"åˆ°"ç¯å¢ƒæ“ä½œ"çš„è´¨å˜</h2>
<p>å¦‚æœä½ ç”¨è¿‡GitHub Copilotã€Cursoræˆ–Windsurfï¼Œä½ åº”è¯¥å·²ç»ä¹ æƒ¯äº†è¿™æ ·çš„å·¥ä½œæµï¼šAIç”Ÿæˆä»£ç  â†’ ä½ å¤åˆ¶åˆ°ç¼–è¾‘å™¨ â†’ åˆ‡æ¢åˆ°ç»ˆç«¯ â†’ æ‰‹åŠ¨æ‰§è¡Œ<code>npm install</code> â†’ å›åˆ°AIç»§ç»­å¯¹è¯ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹éœ€è¦é¢‘ç¹åˆ‡æ¢çª—å£ï¼Œæ‰“æ–­å¿ƒæµã€‚</p>
<p><strong>IfAI v0.2.6è¯•å›¾è§£å†³è¿™ä¸ªé—®é¢˜</strong>â€”â€”å®ƒè®©AI Agentå…·å¤‡äº†Shellå‘½ä»¤æ‰§è¡Œèƒ½åŠ›ï¼Œä¸å†æ˜¯"è¢«åŠ¨ç”Ÿæˆä»£ç çš„å·¥å…·"ï¼Œè€Œæ˜¯"ä¸»åŠ¨æ“ä½œç¯å¢ƒçš„æ­æ¡£"ã€‚</p>
<p>æœ¬æ–‡å°†ä»æŠ€æœ¯åŸç†ã€å®é™…åœºæ™¯ã€æ¶æ„è®¾è®¡ä¸‰ä¸ªç»´åº¦ï¼Œæ·±åº¦è§£æIfAI v0.2.6çš„Agent Shellèƒ½åŠ›ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b65f06e7306a473da5397b315036c0e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGV0ZXJmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768380984&amp;x-signature=57kqfY2E1v7dDT25rU8vVtJS5d0%3D" alt="æˆªå±2026-01-07 15.28.50.png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆAgentéœ€è¦Shellèƒ½åŠ›ï¼Ÿ</h2>
<h3 data-id="heading-2">1.1 ä¼ ç»ŸAIå·¥å…·çš„å±€é™æ€§</h3>
<p>å½“å‰ä¸»æµAIç¼–ç¨‹å·¥å…·ï¼ˆåŒ…æ‹¬GPT-4ã€Claudeç­‰ï¼‰çš„æ ¸å¿ƒæ¨¡å¼æ˜¯ï¼š<strong>å¯¹è¯ â†’ ç”Ÿæˆä»£ç  â†’ äººå·¥æ‰§è¡Œ</strong>ã€‚</p>
<p>è¿™ä¸ªæ¨¡å¼çš„è‡´å‘½ç¼ºé™·åœ¨äºï¼š</p>
<ul>
<li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šAIæ— æ³•æ„ŸçŸ¥é¡¹ç›®æ˜¯å¦å·²å®‰è£…ä¾èµ–</li>
<li><strong>æ‰§è¡Œæ–­å±‚</strong>ï¼šç”Ÿæˆçš„ä»£ç éœ€è¦äººå·¥æ‰‹åŠ¨è¿è¡Œæµ‹è¯•</li>
<li><strong>åé¦ˆå»¶è¿Ÿ</strong>ï¼šé”™è¯¯ä¿¡æ¯éœ€è¦äººå·¥å¤åˆ¶å›AIå¯¹è¯æ¡†</li>
<li><strong>ä¸Šä¸‹æ–‡ä¸¢å¤±</strong>ï¼šé¢‘ç¹åˆ‡æ¢çª—å£å¯¼è‡´å¼€å‘å¿ƒæµè¢«æ‰“æ–­</li>
</ul>
<h3 data-id="heading-3">1.2 Shellèƒ½åŠ›çš„ä»·å€¼</h3>
<p>èµ‹äºˆAgent Shellæ‰§è¡Œæƒé™åï¼Œå·¥ä½œæµå˜æˆäº†ï¼š</p>
<p><strong>å¯¹è¯ â†’ Agentè‡ªä¸»æ‰§è¡Œ â†’ å®æ—¶åé¦ˆ â†’ è¿­ä»£ä¼˜åŒ–</strong></p>
<p>è¿™ä¸æ˜¯ç®€å•çš„è‡ªåŠ¨åŒ–ï¼Œè€Œæ˜¯<strong>Agentè‡ªä¸»æ€§</strong>çš„è´¨å˜ï¼š</p>
<ul>
<li>Agentå¯ä»¥è‡ªä¸»å®‰è£…ä¾èµ–ï¼ˆ<code>npm install</code>ã€<code>cargo build</code>ï¼‰</li>
<li>Agentå¯ä»¥è‡ªä¸»è¿è¡Œæµ‹è¯•ï¼ˆ<code>npm test</code>ã€<code>pytest</code>ï¼‰</li>
<li>Agentå¯ä»¥è‡ªä¸»æäº¤ä»£ç ï¼ˆ<code>git add</code>ã€<code>git commit</code>ï¼‰</li>
<li>Agentå¯ä»¥è‡ªä¸»æ£€æŸ¥ç¯å¢ƒï¼ˆ<code>node --version</code>ã€<code>git status</code>ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€IfAI v0.2.6çš„Shellèƒ½åŠ›æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-5">2.1 è·¯å¾„æ„ŸçŸ¥ï¼šé¿å…Agent"è¿·è·¯"</h3>
<p>æœ€æ ¸å¿ƒçš„æŠ€æœ¯çªç ´æ˜¯<strong>è·¯å¾„æ„ŸçŸ¥æœºåˆ¶</strong>ã€‚</p>
<h4 data-id="heading-6">é—®é¢˜èƒŒæ™¯</h4>
<p>åœ¨Rusté¡¹ç›®ä¸­ï¼Œå½“Agentè¯¯å…¥<code>src-tauri</code>æºç ç›®å½•åï¼Œä¼šä¸æ–­æ‰§è¡Œ<code>cargo build</code>ï¼Œé™·å…¥æ­»å¾ªç¯ï¼š</p>
<ul>
<li>åœ¨<code>src-tauri</code>ç›®å½•æ‰§è¡Œ<code>cargo build</code> â†’ å¤±è´¥</li>
<li>Agentå°è¯•ä¿®å¤ â†’ å†æ¬¡å¤±è´¥</li>
<li>å¾ªç¯å¾€å¤</li>
</ul>
<h4 data-id="heading-7">è§£å†³æ–¹æ¡ˆ</h4>
<p>IfAI v0.2.6å®ç°äº†å…¨å±€<strong>æ ¹ç›®å½•æ ¡å‡†é€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ ¸å¿ƒä¼ªä»£ç </span>
fn <span class="hljs-built_in">execute_command</span>(cmd: Command) -&gt; Result {
 Â  Â let current_dir = std::env::<span class="hljs-built_in">current_dir</span>()?;
â€‹
 Â  Â <span class="hljs-comment">// æ£€æµ‹æ˜¯å¦åœ¨æºç ç›®å½•å†…</span>
 Â  Â if <span class="hljs-built_in">is_in_source_dir</span>(&amp;current_dir) {
 Â  Â  Â  Â <span class="hljs-comment">// è‡ªåŠ¨è·³è½¬åˆ°é¡¹ç›®æ ¹ç›®å½•</span>
 Â  Â  Â  Â std::env::<span class="hljs-built_in">set_current_dir</span>(<span class="hljs-built_in">project_root</span>())?;
 Â   }
â€‹
 Â  Â <span class="hljs-comment">// æ‰§è¡Œå‘½ä»¤</span>
 Â  Â cmd<span class="hljs-selector-class">.spawn</span>()?<span class="hljs-selector-class">.wait</span>()
}
</code></pre>
<p>Agentç°åœ¨å¯ä»¥ï¼š</p>
<ul>
<li>è¯†åˆ«è‡ªå·±æ˜¯å¦åœ¨<code>src-tauri</code>ã€<code>node_modules</code>ç­‰é™·é˜±ç›®å½•</li>
<li>è‡ªåŠ¨è·³è½¬å›é¡¹ç›®æ ¹ç›®å½•</li>
<li>æ ¹æ®stderråé¦ˆæ™ºèƒ½ä¿®æ­£æ‰§è¡Œè·¯å¾„</li>
</ul>
<h3 data-id="heading-8">2.2 å®‰å…¨æ²™ç®±ï¼šé˜²æ­¢æ¶æ„æ‰§è¡Œ</h3>
<p>èµ‹äºˆAgent Shellæƒé™åï¼Œå®‰å…¨æ€§æˆä¸ºé¦–è¦é—®é¢˜ã€‚IfAI v0.2.6çš„å®‰å…¨æœºåˆ¶åŒ…æ‹¬ï¼š</p>
<ol start="0">
<li><strong>å‘½ä»¤ç™½åå•</strong>ï¼šåªå…è®¸<code>npm</code>ã€<code>cargo</code>ã€<code>git</code>ç­‰å¼€å‘å‘½ä»¤</li>
<li><strong>å®¡æ‰¹æœºåˆ¶</strong>ï¼šå±é™©æ“ä½œï¼ˆå¦‚<code>rm -rf</code>ï¼‰éœ€è¦ç”¨æˆ·ç¡®è®¤</li>
<li><strong>è¶…æ—¶ä¿æŠ¤</strong>ï¼šå‘½ä»¤æ‰§è¡Œè¶…è¿‡30ç§’è‡ªåŠ¨ç»ˆæ­¢</li>
<li><strong>æ—¥å¿—å®¡è®¡</strong>ï¼šæ‰€æœ‰å‘½ä»¤æ‰§è¡Œè®°å½•å¯è¿½æº¯</li>
</ol>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å®æˆ˜åœºæ™¯æ¼”ç¤º</h2>
<h3 data-id="heading-10">åœºæ™¯1ï¼šä»é›¶å¯åŠ¨Reacté¡¹ç›®</h3>
<p><strong>ç”¨æˆ·è¾“å…¥</strong>ï¼š</p>
<pre><code class="hljs">å¸®æˆ‘åˆ›å»ºä¸€ä¸ªReact + TypeScripté¡¹ç›®ï¼Œé…ç½®TailwindCSS
</code></pre>
<p><strong>Agentè‡ªä¸»æ‰§è¡Œ</strong>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># 1. åˆ›å»ºé¡¹ç›®</span>
npx create-react-app <span class="hljs-keyword">my</span>-app --template typescript
â€‹
<span class="hljs-comment"># 2. è¿›å…¥ç›®å½•</span>
cd <span class="hljs-keyword">my</span>-app
â€‹
<span class="hljs-comment"># 3. å®‰è£…TailwindCSS</span>
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
â€‹
<span class="hljs-comment"># 4. é…ç½®Tailwindï¼ˆè‡ªåŠ¨ç¼–è¾‘tailwind.config.jsï¼‰</span>
<span class="hljs-comment"># 5. æ›´æ–°CSSï¼ˆè‡ªåŠ¨ç¼–è¾‘src/index.cssï¼‰</span>
</code></pre>
<p>ç”¨æˆ·åªéœ€è¦ç­‰å¾…ï¼Œæ— éœ€åˆ‡æ¢çª—å£ã€å¤åˆ¶å‘½ä»¤ã€æ‰‹åŠ¨æ‰§è¡Œã€‚</p>
<h3 data-id="heading-11">åœºæ™¯2ï¼šè°ƒè¯•æµ‹è¯•å¤±è´¥</h3>
<p><strong>ç”¨æˆ·è¾“å…¥</strong>ï¼š</p>
<pre><code class="hljs">æµ‹è¯•å¤±è´¥äº†ï¼Œå¸®æˆ‘çœ‹çœ‹
</code></pre>
<p><strong>Agentè‡ªä¸»æ‰§è¡Œ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. è¿è¡Œæµ‹è¯•</span>
npm <span class="hljs-built_in">test</span>
â€‹
<span class="hljs-comment"># 2. åˆ†æstderrè¾“å‡º</span>
<span class="hljs-comment"># FAIL src/components/Button.test.js</span>
<span class="hljs-comment"># Â  â— Button component</span>
<span class="hljs-comment"># Â  Â  âœ“ renders correctly</span>
<span class="hljs-comment"># Â  Â  âœ— handles click events</span>
â€‹
<span class="hljs-comment"># 3. æ£€æŸ¥ä»£ç </span>
<span class="hljs-built_in">cat</span> src/components/Button.test.js
â€‹
<span class="hljs-comment"># 4. ä¿®å¤é—®é¢˜</span>
<span class="hljs-comment"># è‡ªåŠ¨ç¼–è¾‘æµ‹è¯•æ–‡ä»¶</span>
â€‹
<span class="hljs-comment"># 5. é‡æ–°è¿è¡Œæµ‹è¯•</span>
npm <span class="hljs-built_in">test</span>
<span class="hljs-comment"># âœ“ All tests passed!</span>
</code></pre>
<p>Agentè‡ªä¸»å®Œæˆäº†"è¯Šæ–­-ä¿®å¤-éªŒè¯"çš„å®Œæ•´é—­ç¯ã€‚</p>
<hr/>
<h2 data-id="heading-12">å››ã€ä¸å…¶ä»–å·¥å…·çš„å¯¹æ¯”</h2>





























































<table><thead><tr><th>ç‰¹æ€§</th><th>IfAI v0.2.6</th><th>Cursor</th><th>Windsurf</th><th>GitHub Copilot</th></tr></thead><tbody><tr><td>Shellå‘½ä»¤æ‰§è¡Œ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>è·¯å¾„æ„ŸçŸ¥</td><td>âœ…</td><td>N/A</td><td>N/A</td><td>N/A</td></tr><tr><td>ä»»åŠ¡æ‹†è§£</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>Tokenå¯è§†åŒ–</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>OpenSpecé›†æˆ</td><td>âœ…</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>æœ¬åœ°æ¨¡å‹</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>å¼€æºåè®®</td><td>MIT</td><td>ä¸“æœ‰</td><td>ä¸“æœ‰</td><td>ä¸“æœ‰</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå·®å¼‚åŒ–ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>Agentè‡ªä¸»æ€§</strong>ï¼šä¸ä»…æ˜¯ä»£ç ç”Ÿæˆï¼Œæ›´æ˜¯ç¯å¢ƒæ“ä½œ</li>
<li><strong>ä»»åŠ¡æ‹†è§£</strong>ï¼šåƒæ¶æ„å¸ˆä¸€æ ·æ€è€ƒï¼Œå°†éœ€æ±‚è½¬åŒ–ä¸ºä»»åŠ¡æ ‘</li>
<li><strong>è§„èŒƒé©±åŠ¨</strong>ï¼šOpenSpecç¡®ä¿ä»£ç æ¶æ„ä¸€è‡´æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-13">äº”ã€æŠ€æœ¯æ¶æ„æ·±åº¦è§£æ</h2>
<h3 data-id="heading-14">5.1 Bash Toolæ¶æ„</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  UI Layer Â  Â   â”‚
â”‚  (Chat Panel) Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Agent Core Â  Â  â”‚
â”‚  (Intent Recog) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Bash Tool Â  Â  â”‚
â”‚  â€¢ Cmd Builder  â”‚
â”‚  â€¢ Path Aware Â  â”‚
â”‚  â€¢ Sandbox Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Rust Backend Â  â”‚
â”‚  (Tauri IPC) Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Shell Execute  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-15">5.2 è·¯å¾„æ„ŸçŸ¥æµç¨‹</h3>
<pre><code class="hljs"/></pre>
<hr/>
<h2 data-id="heading-16">å…­ã€é€‚ç”¨åœºæ™¯ä¸é™åˆ¶</h2>
<h3 data-id="heading-17">âœ… æœ€ä½³é€‚ç”¨åœºæ™¯</h3>
<ul>
<li><strong>æ–°é¡¹ç›®åˆå§‹åŒ–</strong>ï¼šè‡ªåŠ¨æ‰§è¡Œ<code>npm install</code>ã€<code>cargo build</code></li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šè‡ªä¸»å®‰è£…/æ›´æ–°åŒ…</li>
<li><strong>æµ‹è¯•è°ƒè¯•</strong>ï¼šè¿è¡Œæµ‹è¯•å¹¶åˆ†æç»“æœ</li>
<li><strong>Gitæ“ä½œ</strong>ï¼šæäº¤ä»£ç ã€æŸ¥çœ‹çŠ¶æ€</li>
<li><strong>ç¯å¢ƒæ£€æŸ¥</strong>ï¼šéªŒè¯Node/Python/Javaç‰ˆæœ¬</li>
</ul>
<h3 data-id="heading-18">âš ï¸ å½“å‰é™åˆ¶</h3>
<ul>
<li><strong>åªæ”¯æŒå¼€å‘å‘½ä»¤</strong>ï¼šä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒè¿ç»´</li>
<li><strong>éœ€è¦å®¡æ‰¹æœºåˆ¶</strong>ï¼šå±é™©æ“ä½œéœ€äººå·¥ç¡®è®¤</li>
<li><strong>å­¦ä¹ æˆæœ¬</strong>ï¼šéœ€è¦äº†è§£Agentçš„èƒ½åŠ›è¾¹ç•Œ</li>
</ul>
<hr/>
<h2 data-id="heading-19">ä¸ƒã€æœªæ¥å±•æœ›</h2>
<p>IfAI v0.2.6çš„Shellèƒ½åŠ›åªæ˜¯ä¸€ä¸ªå¼€å§‹ã€‚æœªæ¥çš„æ–¹å‘åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¤šAgentåä½œ</strong>ï¼šä¸€ä¸ªAgentè´Ÿè´£Shellï¼Œä¸€ä¸ªè´Ÿè´£ä»£ç ç”Ÿæˆ</li>
<li><strong>Dockeræ”¯æŒ</strong>ï¼šAgentå¯ä»¥è‡ªä¸»æ„å»ºå’Œæ“ä½œå®¹å™¨</li>
<li><strong>CI/CDé›†æˆ</strong>ï¼šAgentå¯ä»¥è‡ªä¸»è§¦å‘éƒ¨ç½²æµç¨‹</li>
<li><strong>æ™ºèƒ½æ¢å¤</strong>ï¼šAgentå¯ä»¥è¯Šæ–­å¹¶ä¿®å¤ç¯å¢ƒé—®é¢˜</li>
</ul>
<p>ä»"ä»£ç è¡¥å…¨"åˆ°"è‡ªä¸»ç¼–ç¨‹æ­æ¡£"ï¼Œè¿™ä¸ä»…æ˜¯å·¥å…·çš„è¿›åŒ–ï¼Œæ›´æ˜¯å¼€å‘èŒƒå¼çš„å˜é©ã€‚</p>
<hr/>
<h2 data-id="heading-20">å…«ã€æ€»ç»“</h2>
<p>IfAI v0.2.6é€šè¿‡èµ‹äºˆAgent Shellæ‰§è¡Œèƒ½åŠ›ï¼Œå®ç°äº†ä»"è¢«åŠ¨å·¥å…·"åˆ°"ä¸»åŠ¨æ­æ¡£"çš„è´¨å˜ï¼š</p>
<p>âœ… <strong>è‡ªä¸»æ€§</strong>ï¼šAgentå¯ä»¥æ“ä½œçœŸå®ç¯å¢ƒï¼Œä¸å†è¢«é™åˆ¶åœ¨æ²™ç®±Â âœ… <strong>æ„ŸçŸ¥åŠ›</strong>ï¼šè·¯å¾„æ„ŸçŸ¥æœºåˆ¶é¿å…Agent"è¿·è·¯"Â âœ… <strong>å®‰å…¨æ€§</strong>ï¼šæ²™ç®±æœºåˆ¶ä¿æŠ¤ç³»ç»Ÿå®‰å…¨Â âœ… <strong>ç”Ÿäº§åŠ›</strong>ï¼šå‡å°‘çª—å£åˆ‡æ¢ï¼Œä¿æŒå¼€å‘å¿ƒæµ</p>
<p>å¦‚æœä½ åŒå€¦äº†åœ¨AIå’Œç»ˆç«¯ä¹‹é—´é¢‘ç¹åˆ‡æ¢ï¼ŒIfAI v0.2.6å€¼å¾—å°è¯•ã€‚</p>
<hr/>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpeterfei%2Fifai" target="_blank" title="https://github.com/peterfei/ifai" ref="nofollow noopener noreferrer">github.com/peterfei/ifâ€¦</a></p>
<p><strong>å‘å¸ƒè¯´æ˜</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpeterfei%2Fifai%2Fblob%2Fmain%2FRELEASE-v0.2.6.md" target="_blank" title="https://github.com/peterfei/ifai/blob/main/RELEASE-v0.2.6.md" ref="nofollow noopener noreferrer">RELEASE-v0.2.6.md</a></p>
<hr/>
<p><strong>æ ‡ç­¾</strong>ï¼š#AIç¼–è¾‘å™¨ #Shellå‘½ä»¤ #Agent #æ·±åº¦æµ‹è¯„ #æŠ€æœ¯è§£æ #IfAI #Rust #Tauri</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ä¸šååŒåŠå…¬ç³»ç»Ÿï¼ˆOAï¼‰-ã€å›¾æ ‡é€‰æ‹©å™¨ã€‘æ¨¡å—å¼€å‘è¯¦è§£]]></title>    <link>https://juejin.cn/post/7592234632482258953</link>    <guid>https://juejin.cn/post/7592234632482258953</guid>    <pubDate>2026-01-07T03:18:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592234632482258953" data-draft-id="7592251792651517979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ä¸šååŒåŠå…¬ç³»ç»Ÿï¼ˆOAï¼‰-ã€å›¾æ ‡é€‰æ‹©å™¨ã€‘æ¨¡å—å¼€å‘è¯¦è§£"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-07T03:18:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰å¤´é—ªäº®äº®"/> <meta itemprop="url" content="https://juejin.cn/user/1333047014199326"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ä¸šååŒåŠå…¬ç³»ç»Ÿï¼ˆOAï¼‰-ã€å›¾æ ‡é€‰æ‹©å™¨ã€‘æ¨¡å—å¼€å‘è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1333047014199326/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰å¤´é—ªäº®äº®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T03:18:07.000Z" title="Wed Jan 07 2026 03:18:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¼ä¸šååŒåŠå…¬ç³»ç»Ÿï¼ˆOAï¼‰-ã€å›¾æ ‡é€‰æ‹©å™¨ã€‘æ¨¡å—å¼€å‘è¯¦è§£</h2>
<h3 data-id="heading-1">1. åŠŸèƒ½éœ€æ±‚</h3>
<p>å›¾æ ‡é€‰æ‹©å™¨æ˜¯ç³»ç»ŸåŠŸèƒ½è®¾ç½®æ¨¡å—ä¸­çš„ä¸€ä¸ªé‡è¦ç»„ä»¶ï¼Œç”¨äºä¸ºå„ç§ç³»ç»ŸåŠŸèƒ½é€‰æ‹©åˆé€‚çš„å›¾æ ‡ã€‚å…¶ä¸»è¦åŠŸèƒ½éœ€æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>åŒæ¨¡å¼å›¾æ ‡é€‰æ‹©</strong>ï¼šæ”¯æŒFont Awesomeå­—ä½“å›¾æ ‡å’Œç³»ç»Ÿç¬¦å·å›¾æ ‡ï¼ˆEmojiï¼‰ä¸¤ç§ç±»å‹</li>
<li><strong>å›¾æ ‡æœç´¢è¿‡æ»¤</strong>ï¼šæä¾›æœç´¢åŠŸèƒ½ï¼Œæ ¹æ®å›¾æ ‡åç§°å¿«é€Ÿè¿‡æ»¤æ˜¾ç¤ºç»“æœ</li>
<li><strong>é¢œè‰²é€‰æ‹©</strong>ï¼šæ”¯æŒä¸ºFont Awesomeå›¾æ ‡é€‰æ‹©ä¸åŒé¢œè‰²</li>
<li><strong>å›¾æ ‡é¢„è§ˆ</strong>ï¼šå®æ—¶é¢„è§ˆé€‰ä¸­çš„å›¾æ ‡åŠå…¶åº”ç”¨é¢œè‰²åçš„æ•ˆæœ</li>
<li><strong>æ¨¡æ€æ¡†äº¤äº’</strong>ï¼šä»¥æ¨¡æ€æ¡†å½¢å¼å±•ç¤ºï¼Œæä¾›æ¸…æ™°çš„é€‰æ‹©ç•Œé¢</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸çš„æ˜¾ç¤ºéœ€æ±‚</li>
<li><strong>é›†æˆæ€§</strong>ï¼šä¸ç³»ç»ŸåŠŸèƒ½è¡¨å•æ— ç¼é›†æˆï¼Œæ”¯æŒå›¾æ ‡æ•°æ®çš„åŒå‘ç»‘å®š</li>
</ul>
<h3 data-id="heading-2">2. ç¬¬ä¸‰æ–¹å­—ä½“åº“ä»‹ç»</h3>
<p>æœ¬å›¾æ ‡é€‰æ‹©å™¨ä¸»è¦ä¾èµ–Font Awesomeå­—ä½“åº“ï¼š</p>
<h4 data-id="heading-3">Font Awesome</h4>
<ul>
<li><strong>ç‰ˆæœ¬</strong>ï¼š4.x (é€šè¿‡<code>fas fa-*</code>ç±»ååˆ¤æ–­)</li>
<li><strong>ç±»å‹</strong>ï¼šçŸ¢é‡å›¾æ ‡åº“</li>
<li><strong>ä¸»è¦ç”¨é€”</strong>ï¼šæä¾›ä¸°å¯Œçš„å¯ç¼©æ”¾å›¾æ ‡ï¼Œæ”¯æŒè‡ªå®šä¹‰é¢œè‰²å’Œå¤§å°</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š
<ul>
<li>è½»é‡çº§ï¼ŒåŠ è½½é€Ÿåº¦å¿«</li>
<li>æ”¯æŒCSSæ ·å¼è‡ªå®šä¹‰ï¼ˆé¢œè‰²ã€å¤§å°ã€é˜´å½±ç­‰ï¼‰</li>
<li>å›¾æ ‡æ•°é‡ä¸°å¯Œï¼Œè¦†ç›–å¤šç§åº”ç”¨åœºæ™¯</li>
<li>æ”¯æŒå“åº”å¼è®¾è®¡</li>
</ul>
</li>
<li><strong>å¼•ç”¨æ–¹å¼</strong>ï¼šé€šè¿‡CSSç±»åç›´æ¥å¼•ç”¨ï¼Œå¦‚<code>&lt;i class="fas fa-home"&gt;&lt;/i&gt;</code></li>
</ul>
<h3 data-id="heading-4">3. åŠŸèƒ½è¿è¡Œæµç¨‹å›¾</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[å¼€å§‹] --&gt; B[æ‰“å¼€å›¾æ ‡é€‰æ‹©å™¨æ¨¡æ€æ¡†]
    B --&gt; C[é€‰æ‹©å›¾æ ‡ç±»å‹ Font Awesomeç³»ç»Ÿç¬¦å·]
    C --&gt; D{è¾“å…¥æœç´¢å…³é”®è¯}
    D --&gt;|æ˜¯| E[è¿‡æ»¤å›¾æ ‡åˆ—è¡¨]
    D --&gt;|å¦| F[æ˜¾ç¤ºå…¨éƒ¨å›¾æ ‡]
    E --&gt; G
    F --&gt; G
    G{é€‰æ‹©å›¾æ ‡é¢œè‰²ä»…Font Awesomeæ”¯æŒ}
    G --&gt;|æ˜¯| H[åº”ç”¨é€‰æ‹©çš„é¢œè‰²]
    G --&gt;|å¦| I[ä¿æŒé»˜è®¤é¢œè‰²]
    H --&gt; J
    I --&gt; J
    J[é€‰æ‹©ç›®æ ‡å›¾æ ‡] --&gt; K{ç‚¹å‡»ç¡®è®¤æŒ‰é’®}
    K --&gt;|æ˜¯| L[ä¿å­˜é€‰æ‹©ç»“æœ]
    K --&gt;|å¦| M[ç‚¹å‡»å–æ¶ˆæŒ‰é’®]
    L --&gt; N[å…³é—­æ¨¡æ€æ¡†]
    M --&gt; N
    N --&gt; O[ç»“æŸ]
</code></pre>
<h4 data-id="heading-5">è¿è¡Œæ•ˆæœ</h4>
<h5 data-id="heading-6">ç³»ç»Ÿå›¾æ ‡</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03440e90955948cf978d6a249a38e1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5aS06Zeq5Lqu5Lqu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768360687&amp;x-signature=CYtx6lf6ofSbuehqyRJ0MvQLLe4%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-7">å­—ä½“å›¾æ ‡</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a2f072e29e8471dab3b129fd3f03556~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5aS06Zeq5Lqu5Lqu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768360687&amp;x-signature=RJ1LsyqQM7EntOk%2FXSGJ34vUEjk%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-8">å­—ä½“å›¾æ ‡é¢œè‰²åˆ‡æ¢</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a55d519cb4f4c1ea3789c59a272500b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5aS06Zeq5Lqu5Lqu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768360687&amp;x-signature=BVdCQhUpF8bTEtZjfiM%2F35sU%2BLU%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-9">é€‰æ‹©å›¾æ ‡åç‚¹å‡»ç¡®å®šè¿›è¡Œæ–‡æœ¬æ¡†å›¾æ ‡åç§°ã€é¢œè‰²èµ‹å€¼ï¼Œå¹¶æ˜¾ç¤ºé€‰å®šå›¾æ ‡</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efdc0106518d4056935dcf787fe6bc55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YWJ5aS06Zeq5Lqu5Lqu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768360687&amp;x-signature=hlcUAjCZ20LXvahEDpVtPKpqhLc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">4. åŠŸèƒ½å®ç°åˆ†æ­¥æ‹†è§£åŠæºä»£ç </h3>
<h4 data-id="heading-11">4.1 ç•Œé¢ç»“æ„è®¾è®¡</h4>
<h5 data-id="heading-12">HTMLæ¨¡æ¿ï¼ˆsystem_function_setting.htmlï¼‰</h5>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å›¾æ ‡é€‰æ‹©å™¨æ¨¡æ€æ¡† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iconSelectorModal"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-selector-modal"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"iconSelectorModal"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-selector-content"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æœç´¢å’Œæ¨¡å¼åˆ‡æ¢å®¹å™¨ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-color-selection"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 0; display: flex; align-items: flex-start; justify-content: left; gap: 15px; height: 40px; line-height: 40px;"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-selector-header"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin: 0;"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin: 0;"</span>&gt;</span>è¯·é€‰æ‹©å›¾æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: flex; gap: 5px;"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: iconDisplayMode === 'system' }"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"switchToSystemIcons"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding: 10px;"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-icons"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> ç³»ç»Ÿå›¾æ ‡
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: iconDisplayMode === 'fontawesome' }"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"switchToFontAwesomeIcons"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-right: 5px; padding: 10px;"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-font"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> å­—ä½“å›¾æ ‡
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-search"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"flex: 1; min-width: 200px; position: relative;"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-search"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: #999;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"iconSearchTerm"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æœç´¢å›¾æ ‡..."</span> @<span class="hljs-attr">input</span>=<span class="hljs-string">"filterIcons"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"padding-left: 30px; width: 100%; box-sizing: border-box;"</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- é¢œè‰²é€‰æ‹©åŒºåŸŸ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-color-selection"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 0.5px; display: flex; align-items: center; justify-content: left; gap: 15px; height: 40px; line-height: 40px;"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-selector-header"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin: 0;"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin: 0;"</span>&gt;</span>è¯·é€‰æ‹©é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"color-options"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: flex; gap: 5px;"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"color in colorOptions"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"color.value"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"color-option"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ selected: selectedColor === color.value }"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ backgroundColor: color.value === 'white' ? '#fff' : color.value, color: color.value === 'white' ? '#000' : '#fff' }"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"selectedColor = color.value"</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"iconDisplayMode === 'system'"</span>&gt;</span>
                    {{ color.name }}
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å›¾æ ‡ç½‘æ ¼å±•ç¤º --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-grid"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- Font Awesomeå›¾æ ‡å±•ç¤º --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"iconDisplayMode === 'fontawesome'"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"icon in filteredIcons"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"icon.class"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ selected: selectedIcon === icon.class }"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"selectIcon(icon.class)"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"icon.class"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-preview"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ color: selectedColor }"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-name"</span>&gt;</span>{{ icon.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- ç³»ç»Ÿç¬¦å·å›¾æ ‡å±•ç¤º --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"icon in filteredIcons"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"icon.key"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ selected: selectedIcon === icon.value }"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"selectIcon(icon.value)"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-preview"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: black; font-size: 20px;"</span>&gt;</span>{{ icon.value }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-name"</span>&gt;</span>{{ icon.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- åº•éƒ¨æ“ä½œæŒ‰é’® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon-selector-footer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"hideIconSelector"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-times"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"confirmIconSelection"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-check"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> ç¡®å®š<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h5 data-id="heading-13">CSSæ ·å¼ï¼ˆsystem_function_setting.htmlï¼‰</h5>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å›¾æ ‡é€‰æ‹©å™¨æ¨¡æ€æ¡† */</span>
<span class="hljs-selector-class">.icon-selector-modal</span> {
  <span class="hljs-attribute">display</span>: none;
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1000</span>;
  <span class="hljs-attribute">overflow</span>: auto;
}

<span class="hljs-comment">/* å›¾æ ‡é€‰æ‹©å™¨å†…å®¹ */</span>
<span class="hljs-selector-class">.icon-selector-content</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fefefe</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">5%</span> auto;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#888</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">80%</span>;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">800px</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">80vh</span>;
  <span class="hljs-attribute">overflow-y</span>: auto;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>);
}

<span class="hljs-comment">/* å›¾æ ‡é€‰æ‹©å™¨å¤´éƒ¨ */</span>
<span class="hljs-selector-class">.icon-selector-header</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-selector-class">.icon-selector-header</span> <span class="hljs-selector-tag">h3</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}

<span class="hljs-comment">/* å›¾æ ‡ç½‘æ ¼ */</span>
<span class="hljs-selector-class">.icon-grid</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fill, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">80px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">max-height</span>: <span class="hljs-number">400px</span>;
  <span class="hljs-attribute">overflow-y</span>: auto;
}

<span class="hljs-comment">/* å›¾æ ‡é¡¹ */</span>
<span class="hljs-selector-class">.icon-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.2s</span> ease;
}

<span class="hljs-selector-class">.icon-item</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
}

<span class="hljs-selector-class">.icon-item</span><span class="hljs-selector-class">.selected</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e3f2fd</span>;
}

<span class="hljs-comment">/* å›¾æ ‡é¢„è§ˆ */</span>
<span class="hljs-selector-class">.icon-preview</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">5px</span>;
}

<span class="hljs-comment">/* å›¾æ ‡åç§° */</span>
<span class="hljs-selector-class">.icon-name</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">white-space</span>: nowrap;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">text-overflow</span>: ellipsis;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-comment">/* å›¾æ ‡é€‰æ‹©å™¨åº•éƒ¨ */</span>
<span class="hljs-selector-class">.icon-selector-footer</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: flex-end;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
}
</code></pre>
<h4 data-id="heading-14">4.2 æ•°æ®æ¨¡å‹è®¾è®¡</h4>
<h5 data-id="heading-15">å›¾æ ‡æ•°æ®å®šä¹‰ï¼ˆicon_selector.jsï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Font Awesomeå›¾æ ‡åˆ—è¡¨</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">commonIcons</span> = [
  <span class="hljs-comment">// å¯¼èˆªå›¾æ ‡</span>
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-home'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'home'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-directions'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'directions'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-map-signs'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'map-signs'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-compass'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'compass'</span> },
  
  <span class="hljs-comment">// ç”¨æˆ·ç›¸å…³å›¾æ ‡</span>
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-user'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'user'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-users'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'users'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-user-plus'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'user-plus'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-user-minus'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'user-minus'</span> },
  
  <span class="hljs-comment">// å·¥å…·å’Œè®¾ç½®å›¾æ ‡</span>
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-cog'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'cog'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-tools'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'tools'</span> },
  { <span class="hljs-attr">class</span>: <span class="hljs-string">'fas fa-wrench'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'wrench'</span> },
  
  <span class="hljs-comment">// æ›´å¤šå›¾æ ‡...</span>
];

<span class="hljs-comment">// ç³»ç»Ÿç¬¦å·å›¾æ ‡æ˜ å°„</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">iconMap</span> = {
  <span class="hljs-string">'home'</span>: <span class="hljs-string">'ğŸ '</span>,
  <span class="hljs-string">'user'</span>: <span class="hljs-string">'ğŸ‘¤'</span>,
  <span class="hljs-string">'users'</span>: <span class="hljs-string">'ğŸ‘¥'</span>,
  <span class="hljs-string">'folder'</span>: <span class="hljs-string">'ğŸ“'</span>,
  <span class="hljs-string">'folder-open'</span>: <span class="hljs-string">'ğŸ“‚'</span>,
  <span class="hljs-string">'file'</span>: <span class="hljs-string">'ğŸ“„'</span>,
  <span class="hljs-string">'search'</span>: <span class="hljs-string">'ğŸ”'</span>,
  <span class="hljs-string">'edit'</span>: <span class="hljs-string">'âœï¸'</span>,
  <span class="hljs-string">'trash-alt'</span>: <span class="hljs-string">'ğŸ—‘ï¸'</span>,
  <span class="hljs-string">'save'</span>: <span class="hljs-string">'ğŸ’¾'</span>,
  <span class="hljs-string">'plus'</span>: <span class="hljs-string">'â•'</span>,
  <span class="hljs-string">'minus'</span>: <span class="hljs-string">'â–'</span>,
  <span class="hljs-string">'times'</span>: <span class="hljs-string">'âŒ'</span>,
  <span class="hljs-string">'check'</span>: <span class="hljs-string">'âœ…'</span>,
  <span class="hljs-comment">// æ›´å¤šå›¾æ ‡æ˜ å°„...</span>
};

<span class="hljs-comment">// é¢œè‰²é€‰é¡¹</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">colorOptions</span> = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'é»‘è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'black'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç™½è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'white'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'è“è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'blue'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'çº¢è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'red'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç»¿è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'green'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç´«è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'purple'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'æ©™è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'orange'</span> }
];
</code></pre>
<h4 data-id="heading-16">4.3 æ ¸å¿ƒåŠŸèƒ½å®ç°</h4>
<h5 data-id="heading-17">Vueç»„ä»¶å®ç°ï¼ˆsystem_function_setting.htmlï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å›¾æ ‡é€‰æ‹©å™¨ç›¸å…³å˜é‡</span>
<span class="hljs-keyword">const</span> iconSelectorModal = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
<span class="hljs-keyword">const</span> iconDisplayMode = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'fontawesome'</span>); <span class="hljs-comment">// 'fontawesome' or 'system'</span>
<span class="hljs-keyword">const</span> iconSearchTerm = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> filteredIcons = <span class="hljs-title function_">ref</span>([]);
<span class="hljs-keyword">const</span> selectedIcon = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> selectedColor = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'black'</span>);

<span class="hljs-comment">// ä»å…¨å±€å¯¹è±¡è·å–å›¾æ ‡æ•°æ®</span>
<span class="hljs-keyword">const</span> commonIcons = <span class="hljs-variable language_">window</span>.<span class="hljs-property">commonIcons</span> || [];
<span class="hljs-keyword">const</span> iconMap = <span class="hljs-variable language_">window</span>.<span class="hljs-property">iconMap</span> || {};
<span class="hljs-keyword">const</span> colorOptions = <span class="hljs-variable language_">window</span>.<span class="hljs-property">colorOptions</span> || [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'é»‘è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'black'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç™½è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'white'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'è“è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'blue'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'çº¢è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'red'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç»¿è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'green'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'ç´«è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'purple'</span> },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">'æ©™è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'orange'</span> }
];

<span class="hljs-comment">// åˆå§‹åŒ–å›¾æ ‡åˆ—è¡¨</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  filteredIcons.<span class="hljs-property">value</span> = [...commonIcons];
});

<span class="hljs-comment">// æ˜¾ç¤ºå›¾æ ‡é€‰æ‹©å™¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">showIconSelector</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (iconSelectorModal.<span class="hljs-property">value</span>) {
    iconSelectorModal.<span class="hljs-property">value</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
    <span class="hljs-comment">// é‡ç½®é€‰æ‹©çŠ¶æ€</span>
    iconDisplayMode.<span class="hljs-property">value</span> = <span class="hljs-string">'fontawesome'</span>;
    iconSearchTerm.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
    filteredIcons.<span class="hljs-property">value</span> = [...commonIcons];
    selectedColor.<span class="hljs-property">value</span> = <span class="hljs-string">'black'</span>;
    
    <span class="hljs-comment">// å¦‚æœå·²æœ‰é€‰ä¸­å›¾æ ‡ï¼Œä¿æŒé€‰æ‹©çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (functionForm.<span class="hljs-property">icon</span>) {
      selectedIcon.<span class="hljs-property">value</span> = functionForm.<span class="hljs-property">icon</span>;
    } <span class="hljs-keyword">else</span> {
      selectedIcon.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
    }
  }
};

<span class="hljs-comment">// éšè—å›¾æ ‡é€‰æ‹©å™¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">hideIconSelector</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (iconSelectorModal.<span class="hljs-property">value</span>) {
    iconSelectorModal.<span class="hljs-property">value</span>.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
  }
};

<span class="hljs-comment">// åˆ‡æ¢åˆ°ç³»ç»Ÿå›¾æ ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">switchToSystemIcons</span> = (<span class="hljs-params"/>) =&gt; {
  iconDisplayMode.<span class="hljs-property">value</span> = <span class="hljs-string">'system'</span>;
  
  <span class="hljs-comment">// è½¬æ¢ç³»ç»Ÿå›¾æ ‡æ ¼å¼</span>
  <span class="hljs-keyword">const</span> systemIcons = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(iconMap).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> ({
    <span class="hljs-attr">key</span>: key,
    <span class="hljs-attr">value</span>: value,
    <span class="hljs-attr">name</span>: key
  }));
  
  filteredIcons.<span class="hljs-property">value</span> = systemIcons;
  
  <span class="hljs-comment">// æ¸…ç©ºæœç´¢è¯</span>
  iconSearchTerm.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  
  <span class="hljs-comment">// é‡ç½®é€‰æ‹©çŠ¶æ€</span>
  selectedIcon.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
};

<span class="hljs-comment">// åˆ‡æ¢åˆ°Font Awesomeå›¾æ ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">switchToFontAwesomeIcons</span> = (<span class="hljs-params"/>) =&gt; {
  iconDisplayMode.<span class="hljs-property">value</span> = <span class="hljs-string">'fontawesome'</span>;
  filteredIcons.<span class="hljs-property">value</span> = [...commonIcons];
  
  <span class="hljs-comment">// æ¸…ç©ºæœç´¢è¯</span>
  iconSearchTerm.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  
  <span class="hljs-comment">// é‡ç½®é€‰æ‹©çŠ¶æ€</span>
  selectedIcon.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
};

<span class="hljs-comment">// è¿‡æ»¤å›¾æ ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">filterIcons</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!iconSearchTerm.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">if</span> (iconDisplayMode.<span class="hljs-property">value</span> === <span class="hljs-string">'fontawesome'</span>) {
      filteredIcons.<span class="hljs-property">value</span> = [...commonIcons];
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> systemIcons = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(iconMap).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> ({
        <span class="hljs-attr">key</span>: key,
        <span class="hljs-attr">value</span>: value,
        <span class="hljs-attr">name</span>: key
      }));
      filteredIcons.<span class="hljs-property">value</span> = systemIcons;
    }
    <span class="hljs-keyword">return</span>;
  }
  
  <span class="hljs-keyword">const</span> searchTerm = iconSearchTerm.<span class="hljs-property">value</span>.<span class="hljs-title function_">toLowerCase</span>();
  
  <span class="hljs-keyword">if</span> (iconDisplayMode.<span class="hljs-property">value</span> === <span class="hljs-string">'fontawesome'</span>) {
    filteredIcons.<span class="hljs-property">value</span> = commonIcons.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">icon</span> =&gt;</span>
      icon.<span class="hljs-property">name</span>.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">includes</span>(searchTerm)
    );
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">const</span> systemIcons = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(iconMap)
      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">[key]</span>) =&gt;</span> key.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">includes</span>(searchTerm))
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> ({
        <span class="hljs-attr">key</span>: key,
        <span class="hljs-attr">value</span>: value,
        <span class="hljs-attr">name</span>: key
      }));
    filteredIcons.<span class="hljs-property">value</span> = systemIcons;
  }
};

<span class="hljs-comment">// é€‰æ‹©å›¾æ ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">selectIcon</span> = (<span class="hljs-params">iconValue</span>) =&gt; {
  selectedIcon.<span class="hljs-property">value</span> = iconValue;
};

<span class="hljs-comment">// ç¡®è®¤é€‰æ‹©å›¾æ ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">confirmIconSelection</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (selectedIcon.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// æ ¹æ®å›¾æ ‡ç±»å‹è®¾ç½®å€¼</span>
    <span class="hljs-keyword">if</span> (iconDisplayMode.<span class="hljs-property">value</span> === <span class="hljs-string">'system'</span>) {
      <span class="hljs-comment">// ç³»ç»Ÿå›¾æ ‡å­˜å‚¨æ ¼å¼ï¼š'system:emoji'</span>
      functionForm.<span class="hljs-property">icon</span> = <span class="hljs-string">`system:<span class="hljs-subst">${selectedIcon.value}</span>`</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// Font Awesomeå›¾æ ‡å­˜å‚¨æ ¼å¼ï¼š'class:color'</span>
      functionForm.<span class="hljs-property">icon</span> = <span class="hljs-string">`<span class="hljs-subst">${selectedIcon.value}</span>:<span class="hljs-subst">${selectedColor.value}</span>`</span>;
    }
    
    <span class="hljs-comment">// æ›´æ–°å›¾æ ‡é¢„è§ˆ</span>
    <span class="hljs-title function_">updateIconPreview</span>();
    
    <span class="hljs-comment">// éšè—å›¾æ ‡é€‰æ‹©å™¨</span>
    <span class="hljs-title function_">hideIconSelector</span>();
  }
};

<span class="hljs-comment">// æ›´æ–°å›¾æ ‡é¢„è§ˆ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateIconPreview</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (functionForm.<span class="hljs-property">icon</span>) {
    <span class="hljs-keyword">const</span> iconPreviewElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.icon-preview'</span>);
    <span class="hljs-keyword">if</span> (iconPreviewElement) {
      <span class="hljs-keyword">if</span> (functionForm.<span class="hljs-property">icon</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'system:'</span>)) {
        <span class="hljs-comment">// ç³»ç»Ÿå›¾æ ‡</span>
        <span class="hljs-keyword">const</span> emoji = functionForm.<span class="hljs-property">icon</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">':'</span>)[<span class="hljs-number">1</span>];
        iconPreviewElement.<span class="hljs-property">innerHTML</span> = emoji;
        iconPreviewElement.<span class="hljs-property">className</span> = <span class="hljs-string">'icon-preview'</span>;
        iconPreviewElement.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = <span class="hljs-string">'black'</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Font Awesomeå›¾æ ‡</span>
        <span class="hljs-keyword">const</span> [iconClass, color] = functionForm.<span class="hljs-property">icon</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">':'</span>);
        iconPreviewElement.<span class="hljs-property">className</span> = <span class="hljs-string">`icon-preview <span class="hljs-subst">${iconClass}</span>`</span>;
        iconPreviewElement.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = color;
        iconPreviewElement.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
      }
    }
  }
};

<span class="hljs-comment">// ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (iconSelectorModal.<span class="hljs-property">value</span> &amp;&amp; 
      event.<span class="hljs-property">target</span> === iconSelectorModal.<span class="hljs-property">value</span>) {
    <span class="hljs-title function_">hideIconSelector</span>();
  }
});
</code></pre>
<h3 data-id="heading-18">5. æ€»ç»“</h3>
<h4 data-id="heading-19">5.1 å®ç°ç‰¹ç‚¹</h4>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå°†å›¾æ ‡é€‰æ‹©åŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹ç»„ä»¶ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•</li>
<li><strong>åŒæ¨¡å¼æ”¯æŒ</strong>ï¼šåŒæ—¶æ”¯æŒFont Awesomeå’Œç³»ç»Ÿç¬¦å·å›¾æ ‡ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚</li>
<li><strong>ç”¨æˆ·å‹å¥½ç•Œé¢</strong>ï¼šç›´è§‚çš„ç½‘æ ¼å¸ƒå±€ï¼Œæ¸…æ™°çš„å›¾æ ‡é¢„è§ˆï¼Œä¾¿æ·çš„æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½</li>
<li><strong>çµæ´»çš„é¢œè‰²å®šåˆ¶</strong>ï¼šæ”¯æŒä¸ºFont Awesomeå›¾æ ‡è‡ªå®šä¹‰é¢œè‰²ï¼Œå¢å¼ºè§†è§‰è¡¨ç°åŠ›</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œæä¾›ä¸€è‡´çš„ç”¨æˆ·ä½“éªŒ</li>
<li><strong>æ— ç¼é›†æˆ</strong>ï¼šä¸ç³»ç»ŸåŠŸèƒ½è¡¨å•æ·±åº¦é›†æˆï¼Œæ”¯æŒæ•°æ®åŒå‘ç»‘å®š</li>
</ol>
<h4 data-id="heading-20">5.2 æŠ€æœ¯äº®ç‚¹</h4>
<ol>
<li><strong>åŠ¨æ€å›¾æ ‡ç±»å‹åˆ‡æ¢</strong>ï¼šé€šè¿‡Vueçš„æ¡ä»¶æ¸²æŸ“å®ç°ä¸åŒç±»å‹å›¾æ ‡çš„æ— ç¼åˆ‡æ¢</li>
<li><strong>é«˜æ•ˆçš„å›¾æ ‡è¿‡æ»¤</strong>ï¼šå®æ—¶æœç´¢è¿‡æ»¤åŠŸèƒ½ï¼Œæå‡ç”¨æˆ·é€‰æ‹©æ•ˆç‡</li>
<li><strong>çµæ´»çš„æ•°æ®æ ¼å¼</strong>ï¼šé‡‡ç”¨ç‰¹å®šæ ¼å¼å­˜å‚¨å›¾æ ‡ä¿¡æ¯ï¼Œä¾¿äºè§£æå’Œæ¸²æŸ“</li>
<li><strong>äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼šåŸºäºäº‹ä»¶é©±åŠ¨çš„äº¤äº’è®¾è®¡ï¼Œæé«˜ä»£ç å¯ç»´æŠ¤æ€§</li>
<li><strong>è·¨æµè§ˆå™¨å…¼å®¹æ€§</strong>ï¼šä½¿ç”¨æ ‡å‡†WebæŠ€æœ¯ï¼Œç¡®ä¿åœ¨ä¸»æµæµè§ˆå™¨ä¸­çš„å…¼å®¹æ€§</li>
</ol>
<h4 data-id="heading-21">5.3 åº”ç”¨åœºæ™¯</h4>
<p>å›¾æ ‡é€‰æ‹©å™¨ä¸»è¦åº”ç”¨äºç³»ç»ŸåŠŸèƒ½è®¾ç½®æ¨¡å—ï¼Œå…·ä½“åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>èœå•åŠŸèƒ½å›¾æ ‡é…ç½®</li>
<li>ç³»ç»ŸåŠŸèƒ½å…¥å£å›¾æ ‡é€‰æ‹©</li>
<li>æ§åˆ¶é¢æ¿åŠŸèƒ½å›¾æ ‡è®¾ç½®</li>
<li>æŠ¥è¡¨å’Œæ•°æ®å¯è§†åŒ–å›¾è¡¨å›¾æ ‡é€‰æ‹©</li>
<li>é€šçŸ¥å’Œæé†’å›¾æ ‡é…ç½®</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªå›¾æ ‡é€‰æ‹©å™¨ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°ä¸ºç³»ç»Ÿä¸­çš„å„ç§åŠŸèƒ½é€‰æ‹©åˆé€‚çš„å›¾æ ‡ï¼Œæå‡ç³»ç»Ÿçš„å¯è§†åŒ–æ•ˆæœå’Œç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªä¸æ‡‚MCPçš„å¼€å‘ä½¿ç”¨vibe codingå¼€å‘ä¸€ä¸ªMCP]]></title>    <link>https://juejin.cn/post/7592040819819200553</link>    <guid>https://juejin.cn/post/7592040819819200553</guid>    <pubDate>2026-01-07T07:13:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592040819819200553" data-draft-id="7592040819818987561" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªä¸æ‡‚MCPçš„å¼€å‘ä½¿ç”¨vibe codingå¼€å‘ä¸€ä¸ªMCP"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,VibeCoding"/> <meta itemprop="datePublished" content="2026-01-07T07:13:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Delroy"/> <meta itemprop="url" content="https://juejin.cn/user/184373682644119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªä¸æ‡‚MCPçš„å¼€å‘ä½¿ç”¨vibe codingå¼€å‘ä¸€ä¸ªMCP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/184373682644119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Delroy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T07:13:54.000Z" title="Wed Jan 07 2026 07:13:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®©ä½ çš„ AI Prompts éšå¤„åŒæ­¥ã€å³åˆ»å¯ç”¨</h2>
<blockquote>
<p>ä¸€ä¸ªå¼€æºçš„ MCP æœåŠ¡å™¨,å½»åº•è§£å†³ AI Prompt ç®¡ç†çš„æ‰€æœ‰ç—›ç‚¹</p>
</blockquote>
<blockquote>
<p><strong>æ”¶è—å®¹æ˜“ä½¿ç”¨éš¾ï¼Ÿæ˜¯æ—¶å€™ç»ˆç»“ä½ çš„ Prompt ç®¡ç†ç„¦è™‘äº†ã€‚</strong></p>
<p>åœ¨æ—¥å¸¸æµè§ˆç½‘é¡µæ—¶ï¼Œæˆ‘ä»¬æ€»èƒ½å¶é‡ä¸€äº›ä»¤äººæƒŠè‰³çš„ Promptã€‚æ¯å½“æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¹ æƒ¯æ€§åœ°éšæ‰‹æ”¶è—ã€ç‚¹èµï¼Œç”šè‡³å­˜å…¥ç¬”è®°ã€‚ç„¶è€Œï¼Œå½“çœŸæ­£éœ€è¦è°ƒç”¨è¿™äº›â€œå®è—â€æ—¶ï¼Œå´å‘ç°å®ƒä»¬æ•£è½åœ¨å„ä¸ªå¹³å°ã€æœ¬åœ°æ–‡ä»¶æˆ– IDE å®šä¹‰ä¸­ï¼Œç¿»æ‰¾ä¹‹è‹¦å¾€å¾€è®©çµæ„Ÿç¬é—´å†·å´ã€‚</p>
<p>ä¸ºäº†ç»ˆç»“è¿™ç§â€œæ”¶è—å³åƒç°â€çš„å›°å±€ï¼Œæˆ‘æ£é¼“å‡ºäº†è¿™æ¬¾ <strong>mcp-dropbox-prompts</strong>ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªåŒæ­¥å·¥å…·ï¼Œæ›´æ˜¯ä½  AI äº¤äº’æµä¸­çš„â€œçµæ„Ÿä¸­è½¬ç«™â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">å†™åœ¨å‰é¢</h3>
<p>åœ¨ä½¿ç”¨ Claudeã€Cursorã€Gemini ç­‰ AI å·¥å…·çš„è¿‡ç¨‹ä¸­,ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™äº›ä»¤äººæŠ“ç‹‚çš„åœºæ™¯:</p>
<ul>
<li>ğŸ’” <strong>è®¾å¤‡å­¤å²›</strong>: ç²¾å¿ƒè°ƒæ•™çš„ Prompt åªå­˜åœ¨ä¸€å°ç”µè„‘ä¸Š,æ¢ä¸ªè®¾å¤‡å°±æ‰¾ä¸åˆ°äº†</li>
<li>ğŸ“‹ <strong>é‡å¤åŠ³åŠ¨</strong>: éœ€è¦åœ¨ä¸åŒ AI å·¥å…·é—´åå¤å¤åˆ¶ç²˜è´´åŒä¸€ä¸ª Prompt</li>
<li>ğŸ˜° <strong>ç‰ˆæœ¬ææƒ§</strong>: ä¿®æ”¹ Prompt åä¸å°å¿ƒè¦†ç›–,æ—§ç‰ˆæœ¬å†ä¹Ÿæ‰¾ä¸å›æ¥</li>
<li>ğŸ” <strong>æ£€ç´¢å›°éš¾</strong>: Prompt åº“è¶Šæ¥è¶Šå¤š,æƒ³æ‰¾æŸä¸ªè§’è‰²å´åƒå¤§æµ·æé’ˆ</li>
<li>ğŸŒ <strong>åŒæ­¥å™©æ¢¦</strong>: å…¬å¸å’Œå®¶é‡Œçš„ Prompt åº“æ€»æ˜¯ä¸ä¸€è‡´,åˆ†ä¸æ¸…è°æ˜¯æœ€æ–°ç‰ˆ</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿæ·±å—å…¶æ‰°,é‚£ä¹ˆè¿™ç¯‡æ–‡ç« ä»‹ç»çš„ <strong>mcp-dropbox-prompts</strong> å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<hr/>
<h3 data-id="heading-2">ä¸€ã€é¡¹ç›®ç®€ä»‹</h3>
<p><strong>mcp-dropbox-prompts</strong> æ˜¯ä¸€ä¸ªåŸºäº Model Context Protocol (MCP) çš„ä¸“ä¸šçº§ Prompt ç®¡ç†æœåŠ¡å™¨,è®©ä½ çš„ AI è§’è‰²åº“å®ç°:</p>





























<table><thead><tr><th>æ ¸å¿ƒèƒ½åŠ›</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ğŸŒ <strong>è·¨è®¾å¤‡äº‘åŒæ­¥</strong></td><td>ä½¿ç”¨ Dropbox æˆ–åšæœäº‘,åŠå…¬å®¤å­˜ã€å®¶é‡Œç”¨</td></tr><tr><td>ğŸ’¬ <strong>å¯¹è¯å³ä¿å­˜</strong></td><td>åœ¨èŠå¤©ä¸­ç›´æ¥è®© AI ä¿å­˜ Prompt,æ— éœ€å¤åˆ¶ç²˜è´´</td></tr><tr><td>ğŸ›¡ï¸ <strong>è‡ªåŠ¨ç‰ˆæœ¬å¤‡ä»½</strong></td><td>æ¯æ¬¡ä¿®æ”¹è‡ªåŠ¨ä¿å­˜å†å²ç‰ˆæœ¬,å®‰å…¨æ— å¿§</td></tr><tr><td>ğŸ” <strong>æ™ºèƒ½æœç´¢</strong></td><td>æ”¯æŒæŒ‰åç§°å’Œå…¨æ–‡å†…å®¹æœç´¢,å¿«é€Ÿå®šä½</td></tr><tr><td>ğŸ“¦ <strong>ä¸€é”®å¯¼å‡º</strong></td><td>å®Œæ•´å¤‡ä»½æˆ–åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜</td></tr></tbody></table>
<blockquote>
<p><strong>é¡¹ç›®ä¿¡æ¯</strong><br/>
ğŸ“¦ npm åŒ…: <code>mcp-dropbox-prompts</code><br/>
ğŸ”– å½“å‰ç‰ˆæœ¬: v2.0.4<br/>
ğŸ“„ å¼€æºåè®®: MIT<br/>
â­ GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyuanyang749%2Fmcp-dropbox-prompts" target="_blank" title="https://github.com/yuanyang749/mcp-dropbox-prompts" ref="nofollow noopener noreferrer">github.com/yuanyang749â€¦</a></p>
</blockquote>
<hr/>
<h3 data-id="heading-3">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå·¥å…·?æ·±åº¦å‰–æå››å¤§ç—›ç‚¹</h3>
<p>éšç€ AI å·¥å…·åœ¨å·¥ä½œæµä¸­çš„æ·±åº¦åº”ç”¨,<strong>Prompt å·²ç»æˆä¸ºæˆ‘ä»¬çš„æ•°å­—èµ„äº§</strong>ã€‚ä¸€ä¸ªå¥½çš„ Prompt å¯èƒ½æ˜¯ç»è¿‡æ•°åæ¬¡è¿­ä»£æ‰“ç£¨å‡ºæ¥çš„,å®ƒè•´å«ç€æˆ‘ä»¬å¯¹ç‰¹å®šä»»åŠ¡çš„ç†è§£å’Œæœ€ä½³å®è·µã€‚</p>
<p>ç„¶è€Œ,ç›®å‰ä¸»æµ AI å·¥å…·å¯¹ Prompt çš„ç®¡ç†æ™®éå­˜åœ¨ä»¥ä¸‹é—®é¢˜:</p>
<h4 data-id="heading-4">ğŸ˜­ ç—›ç‚¹ 1: è®¾å¤‡å­¤å²›</h4>
<p><strong>ç°çŠ¶</strong>: Prompt é€šå¸¸å­˜å‚¨åœ¨æœ¬åœ°é…ç½®æ–‡ä»¶æˆ– IDE è®¾ç½®ä¸­,æ— æ³•è·¨è®¾å¤‡åŒæ­¥ã€‚</p>
<p><strong>åæœ</strong>: ä½ åœ¨åŠå…¬å®¤ç²¾å¿ƒè°ƒæ•™çš„"Python ä¸“å®¶"è§’è‰²,å›åˆ°å®¶é‡Œå°±ç”¨ä¸äº†äº†ã€‚å‘¨æœ«æƒ³ç”¨å…¬å¸çš„ Prompt åšä¸ªäººé¡¹ç›®?å¯¹ä¸èµ·,åªèƒ½å‡­è®°å¿†é‡æ–°å†™ä¸€éã€‚</p>
<hr/>
<h4 data-id="heading-5">âš ï¸ ç—›ç‚¹ 2: ç‰ˆæœ¬ææƒ§</h4>
<p><strong>ç°çŠ¶</strong>: ä¿®æ”¹ Prompt æ—¶æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶,ä¸€æ—¦è¦†ç›–å°±å†ä¹Ÿå›ä¸å»äº†ã€‚</p>
<p><strong>åæœ</strong>: ä½ å¯èƒ½å› ä¸ºä¸€æ¬¡"ä¼˜åŒ–",åè€ŒæŸå¤±äº†ä¹‹å‰è¡¨ç°æ›´å¥½çš„ç‰ˆæœ¬ã€‚æ›´ç³Ÿçš„æ˜¯,ä½ ç”šè‡³ä¸è®°å¾—ä¹‹å‰çš„ç‰ˆæœ¬æ˜¯æ€ä¹ˆå†™çš„,åªèƒ½å‡­æ„Ÿè§‰é‡æ–°è°ƒæ•´ã€‚</p>
<hr/>
<h4 data-id="heading-6">ğŸ” ç—›ç‚¹ 3: æ£€ç´¢å›°éš¾</h4>
<p><strong>ç°çŠ¶</strong>: å½“ä½ çš„ Prompt åº“è¾¾åˆ°å‡ åä¸ªæ—¶,æƒ³æ‰¾åˆ°"é‚£ä¸ªå…³äºè¥é”€çš„è§’è‰²"å˜æˆäº†å™©æ¢¦ã€‚</p>
<p><strong>åæœ</strong>: ä½ åªèƒ½ä¸€ä¸ªä¸ªç‚¹å¼€æŸ¥çœ‹,æˆ–è€…ä¾èµ–æ¨¡ç³Šçš„æ–‡ä»¶åçŒœæµ‹ã€‚æœ‰æ—¶å€™æ˜æ˜è®°å¾—å†™è¿‡æŸä¸ª Prompt,å´æ€ä¹ˆä¹Ÿæ‰¾ä¸åˆ°,æœ€ååªèƒ½é‡æ–°åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„ã€‚</p>
<hr/>
<h4 data-id="heading-7">ğŸ”„ ç—›ç‚¹ 4: åŒå‘å­¤ç«‹</h4>
<p><strong>ç°çŠ¶</strong>: æˆ‘ä»¬ä¸ AI å¯¹è¯æ—¶å¯èƒ½äº§ç”Ÿå¾ˆå¥½çš„ Prompt æ¨¡æ¿,ä½†æƒ³æŠŠå®ƒä¿å­˜åˆ°åº“ä¸­å´å¾ˆéº»çƒ¦ã€‚</p>
<p><strong>åæœ</strong>: éœ€è¦æ‰‹åŠ¨å¤åˆ¶ã€åˆ›å»ºæ–‡ä»¶ã€æ‰¾å¯¹ä½ç½®...è¿™ä¸ªè¿‡ç¨‹æ‰“æ–­äº†æ€ç»´æµ,å¾ˆå¤šçµæ„Ÿå°±è¿™æ ·æµå¤±äº†ã€‚åè¿‡æ¥,æƒ³æŠŠåº“é‡Œçš„ Prompt ç”¨åˆ°æ–°å¯¹è¯ä¸­,ä¹Ÿéœ€è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</h3>
<h4 data-id="heading-9">ğŸŒ åŠŸèƒ½ 1: å¤šè®¾å¤‡äº‘åŒæ­¥</h4>
<p>ä¸å†æ‹…å¿ƒ Prompt åªå­˜åœ¨ä¸€å°ç”µè„‘ä¸Š!</p>
<p><strong>æ”¯æŒåŒå­˜å‚¨åç«¯</strong>:</p>
<ul>
<li><strong>Dropbox</strong>: å›½é™…åŒ–æ–¹æ¡ˆ,é€šè¿‡ Refresh Token å®ç°æ°¸ä¹…æˆæƒ</li>
<li><strong>åšæœäº‘ (WebDAV)</strong>: å›½å†…æ–¹æ¡ˆ,æ— éœ€ä»£ç†,è®¿é—®é€Ÿåº¦å¿«,æ¨èå›½å†…ç”¨æˆ·ä½¿ç”¨</li>
</ul>
<p><strong>å·¥ä½œåŸç†</strong>:
æ‰€æœ‰ Prompt ä»¥ <code>.md</code> æ–‡ä»¶å½¢å¼å­˜å‚¨åœ¨äº‘ç«¯,ä»»ä½•é…ç½®äº†ç›¸åŒå‡­æ®çš„è®¾å¤‡éƒ½èƒ½å®æ—¶è®¿é—®ã€‚åŠå…¬å®¤ã€å®¶é‡Œã€å’–å•¡å…...éšå¤„å¯ç”¨,çœŸæ­£çš„"Write Once, Use Everywhere"ã€‚</p>
<hr/>
<h4 data-id="heading-10">ğŸ’¬ åŠŸèƒ½ 2: Chat-to-Save (å¯¹è¯å³ä¿å­˜)</h4>
<p>è¿™æ˜¯æœ€ä»¤äººå…´å¥‹çš„åŠŸèƒ½!ä¼ ç»Ÿæ–¹å¼éœ€è¦ä½ æ‰‹åŠ¨å¤åˆ¶ã€åˆ›å»ºæ–‡ä»¶ã€ä¸Šä¼ ...ç°åœ¨,åªéœ€è¦åœ¨å¯¹è¯ä¸­å‘Šè¯‰ AI:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "å¸®æˆ‘èµ·è‰ä¸€ä¸ªæŠ–éŸ³çŸ­è§†é¢‘è¥é”€ä¸“å®¶çš„ Prompt"

AI: å¥½çš„,æˆ‘ä¸ºä½ åˆ›å»ºä¸€ä¸ªæŠ–éŸ³è¥é”€ä¸“å®¶è§’è‰²:
    [ç”Ÿæˆä¸€ä¸ªè¯¦ç»†çš„ Prompt ...]

ä½ : "å¾ˆå¥½,æŠŠè¿™ä¸ªä¿å­˜ä¸º douyin_marketing_expert"

AI: âœ… å·²å°† Prompt ä¿å­˜åˆ°äº‘ç«¯!
</code></pre>
<p><strong>ä¸éœ€è¦ç¦»å¼€å¯¹è¯ç•Œé¢</strong>,ä¸éœ€è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´,AI ç›´æ¥å¸®ä½ æŠŠå½“å‰å¯¹è¯ä¸­çš„ Prompt ä¿å­˜åˆ°äº‘ç«¯åº“ã€‚çµæ„Ÿäº§ç”Ÿçš„é‚£ä¸€åˆ»,å°±èƒ½æ°¸ä¹…ä¿å­˜ã€‚</p>
<hr/>
<h4 data-id="heading-11">ğŸ›¡ï¸ åŠŸèƒ½ 3: è‡ªåŠ¨ç‰ˆæœ¬å¤‡ä»½</h4>
<p>ä¿®æ”¹ Prompt æ—¶æœ€æ€•çš„å°±æ˜¯"æ”¹åäº†",æœ‰äº†è‡ªåŠ¨å¤‡ä»½,ä½ å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°è¿­ä»£ä¼˜åŒ–:</p>
<p><strong>å¤‡ä»½æœºåˆ¶</strong>:</p>
<ul>
<li>æ¯æ¬¡ä¿å­˜åŒå Prompt æ—¶,æ—§ç‰ˆæœ¬ä¼šè‡ªåŠ¨å¤‡ä»½åˆ° <code>_archive</code> æ–‡ä»¶å¤¹</li>
<li>å¤‡ä»½æ–‡ä»¶åæ ¼å¼: <code>prompt_name_20241224_143022.md</code> (åŒ…å«æ—¶é—´æˆ³)</li>
<li>æ‰€æœ‰å†å²ç‰ˆæœ¬éƒ½åœ¨,éšæ—¶å¯ä»¥å›æº¯</li>
</ul>
<p><strong>å®é™…æ•ˆæœ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">/mcp-prompts/
  â”œâ”€â”€ python_expert.md          <span class="hljs-comment"># å½“å‰ç‰ˆæœ¬</span>
  â”œâ”€â”€ marketing_guru.md
  â””â”€â”€ _archive/
      â”œâ”€â”€ python_expert_20241220_100530.md  <span class="hljs-comment"># å†å²ç‰ˆæœ¬ 1</span>
      â”œâ”€â”€ python_expert_20241222_153045.md  <span class="hljs-comment"># å†å²ç‰ˆæœ¬ 2</span>
      â””â”€â”€ marketing_guru_20241215_093022.md
</code></pre>
<p>å†ä¹Ÿä¸æ€•æ”¹åäº†,æ¯æ¬¡è¿­ä»£éƒ½æœ‰æ®å¯æŸ¥!</p>
<hr/>
<h4 data-id="heading-12">ğŸ” åŠŸèƒ½ 4: æ™ºèƒ½åŒæ¨¡æœç´¢</h4>
<p>å½“ä½ çš„ Prompt åº“è¾¾åˆ°å‡ åä¸ªæ—¶,æœç´¢åŠŸèƒ½å°±å˜å¾—è‡³å…³é‡è¦ã€‚æˆ‘ä»¬æä¾›ä¸¤ç§æœç´¢æ–¹å¼:</p>
<h5 data-id="heading-13">æ–¹å¼ä¸€: æŒ‰åç§°æœç´¢ (<code>search_prompts</code>)</h5>
<p>é€šè¿‡æ–‡ä»¶åæ¨¡ç³ŠåŒ¹é…,å¿«é€Ÿå®šä½:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "æ‰¾ä¸€ä¸ªæŠ–éŸ³ç›¸å…³çš„ Prompt"

AI: æ‰¾åˆ° 3 ä¸ªåŒ¹é…é¡¹:
    ğŸ“„ douyin_marketing_expert
    ğŸ“„ douyin_script_writer
    ğŸ“„ douyin_copywriter
</code></pre>
<h5 data-id="heading-14">æ–¹å¼äºŒ: å…¨æ–‡å†…å®¹æœç´¢ (<code>search_content</code>)</h5>
<p>æ·±å…¥æ¯ä¸ª Prompt çš„å†…å®¹è¿›è¡Œæ£€ç´¢,å³ä½¿ä½ ä¸è®°å¾—æ–‡ä»¶åä¹Ÿèƒ½æ‰¾åˆ°:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "å“ªäº› Prompt é‡Œæåˆ°äº†è®¤çŸ¥åè§?"

AI: åœ¨ä»¥ä¸‹ Prompt ä¸­æ‰¾åˆ°åŒ¹é…:
    ğŸ“„ psychology_expert
       "...åˆ©ç”¨è®¤çŸ¥åè§è¿›è¡Œè¯´æœ..."

    ğŸ“„ marketing_strategist
       "...è¯†åˆ«ç”¨æˆ·çš„è®¤çŸ¥åè§,åˆ¶å®šé’ˆå¯¹æ€§ç­–ç•¥..."
</code></pre>
<p>ä¸è®°å¾—å«ä»€ä¹ˆåå­—?æ²¡å…³ç³»,æœå†…å®¹ä¸€æ ·èƒ½æ‰¾åˆ°!</p>
<hr/>
<h4 data-id="heading-15">ğŸ“‹ åŠŸèƒ½ 5: æ™ºèƒ½åˆ—è¡¨ä¸æ‘˜è¦</h4>
<p>åˆ—å‡º Prompt æ—¶,ä¸å†æ˜¯å†·å†°å†°çš„æ–‡ä»¶ååˆ—è¡¨,è€Œæ˜¯åŒ…å«å†…å®¹æ‘˜è¦çš„æ™ºèƒ½é¢„è§ˆ:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "åˆ—å‡ºæˆ‘çš„æ‰€æœ‰æç¤ºè¯"

AI: ğŸ“‹ æ‚¨çš„ Prompt åº“ (å…± 12 ä¸ª):

    1. ğŸ“„ python_expert
       æ‘˜è¦: You are a senior Python developer with expertise in...

    2. ğŸ“„ marketing_strategist
       æ‘˜è¦: ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„è¥é”€ç­–ç•¥ä¸“å®¶,æ“…é•¿...

    3. ğŸ“„ content_writer
       æ‘˜è¦: ä¸“ä¸šçš„å†…å®¹åˆ›ä½œè€…,ç²¾é€šå„ç±»æ–‡ä½“...
</code></pre>
<p>ä¸€ç›®äº†ç„¶,å¿«é€Ÿå®šä½éœ€è¦çš„è§’è‰²,ä¸ç”¨ä¸€ä¸ªä¸ªç‚¹å¼€æŸ¥çœ‹!</p>
<hr/>
<h4 data-id="heading-16">ğŸ“¦ åŠŸèƒ½ 6: ä¸€é”®å¯¼å‡ºå¤‡ä»½</h4>
<pre><code class="hljs language-plain" lang="plain">ä½ : "å¯¼å‡ºæˆ‘çš„æ‰€æœ‰ Prompt"

AI: âœ… [ç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€æœ‰ Prompt çš„ Markdown æ–‡æ¡£]
</code></pre>
<p><strong>å¯ä»¥ç”¨äº</strong>:</p>
<ul>
<li>ğŸ“‚ æ•´ä½“å¤‡ä»½,é˜²æ­¢äº‘ç«¯æ•°æ®ä¸¢å¤±</li>
<li>ğŸ‘¥ åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜</li>
<li>ğŸ”„ è¿ç§»åˆ°å…¶ä»–å¹³å°æˆ–å·¥å…·</li>
</ul>
<p>æ‰€æœ‰ Prompt æ‰“åŒ…æˆä¸€ä¸ªæ–‡æ¡£,æ–¹ä¾¿ä¿å­˜æˆ–åˆ†äº«ã€‚</p>
<hr/>
<h3 data-id="heading-17">å››ã€ä½¿ç”¨ä½“éªŒ:ç®€å•åˆ°æè‡´</h3>
<h4 data-id="heading-18">åœ¨ Cursor / Claude Desktop ç­‰ MCP å…¼å®¹å·¥å…·ä¸­</h4>
<h5 data-id="heading-19">æ–¹å¼ä¸€: å¿«æ·æŒ‡ä»¤ (æ¨è)</h5>
<p>åœ¨æ”¯æŒ MCP Prompts æ ‡å‡†çš„ç¼–è¾‘å™¨ä¸­,ä½“éªŒ"ä¸€é”®å‘¼å«":</p>
<ol>
<li>åœ¨å¯¹è¯æ¡†è¾“å…¥ <strong><code>/</code></strong></li>
<li>çœ‹åˆ°æ‰€æœ‰äº‘ç«¯ Prompt åˆ—è¡¨</li>
<li>é€‰æ‹©åå†…å®¹è‡ªåŠ¨æ³¨å…¥</li>
</ol>
<blockquote>
<p>âš ï¸ æ³¨æ„: å¹¶éæ‰€æœ‰å®¢æˆ·ç«¯éƒ½æ”¯æŒ <code>/</code> å‘¼å«æ–¹å¼,å¦‚æœä¸å¯ç”¨,è¯·ä½¿ç”¨ä¸‹æ–¹çš„"è‡ªç„¶è¯­è¨€è°ƒç”¨"æ–¹å¼ã€‚</p>
</blockquote>
<h5 data-id="heading-20">æ–¹å¼äºŒ: è‡ªç„¶è¯­è¨€è°ƒç”¨ (é€šç”¨)</h5>
<p>é€šè¿‡å£è¯­åŒ–æŒ‡ä»¤è®© AI æ‰§è¡Œæ“ä½œ,æ— éœ€è®°å¿†å‘½ä»¤:</p>













































<table><thead><tr><th>ä½ çš„æŒ‡ä»¤</th><th>AI çš„æ“ä½œ</th><th>å·¥å…·</th></tr></thead><tbody><tr><td>"åˆ—å‡ºæˆ‘çš„æ‰€æœ‰æç¤ºè¯"</td><td>å±•ç¤ºæ‰€æœ‰ Prompt åŠæ‘˜è¦</td><td><code>list_prompts</code></td></tr><tr><td>"è¯»å– python_expert çš„å†…å®¹"</td><td>æ˜¾ç¤ºæŒ‡å®š Prompt çš„å®Œæ•´å†…å®¹</td><td><code>get_prompt</code></td></tr><tr><td>"æŠŠåˆšæ‰çš„å¯¹è¯ä¿å­˜ä¸º tech_lead"</td><td>ä¿å­˜æ–° Prompt åˆ°äº‘ç«¯</td><td><code>save_prompt</code></td></tr><tr><td>"åˆ é™¤ old_prompt"</td><td>ä»äº‘ç«¯åˆ é™¤æŒ‡å®š Prompt</td><td><code>delete_prompt</code></td></tr><tr><td>"æ‰¾ä¸€ä¸ªæŠ–éŸ³ç›¸å…³çš„æç¤ºè¯"</td><td>æ¨¡ç³Šæœç´¢åŒ¹é…çš„ Prompt</td><td><code>search_prompts</code></td></tr><tr><td>"å“ªäº›æç¤ºè¯æåˆ°äº†è®¤çŸ¥åè§"</td><td>å…¨æ–‡æœç´¢å†…å®¹</td><td><code>search_content</code></td></tr><tr><td>"å¯¼å‡ºæˆ‘çš„å…¨éƒ¨æç¤ºè¯ç”¨äºå¤‡ä»½"</td><td>ç”Ÿæˆå¯¼å‡ºæ–‡æ¡£</td><td><code>export_prompts</code></td></tr></tbody></table>
<p>æ— éœ€å­¦ä¹ å¤æ‚å‘½ä»¤,<strong>åƒè·Ÿæœ‹å‹èŠå¤©ä¸€æ ·è‡ªç„¶</strong>!</p>
<hr/>
<h3 data-id="heading-21">äº”ã€æŠ€æœ¯äº®ç‚¹</h3>
<h4 data-id="heading-22">ğŸ’ äº®ç‚¹ 1: åŒå­˜å‚¨åç«¯æ¶æ„</h4>
<p>æ ¹æ®ç”¨æˆ·æ‰€åœ¨åœ°åŒºå’Œç½‘ç»œç¯å¢ƒçµæ´»é€‰æ‹©:</p>
<ul>
<li><strong>Dropbox</strong>:
<ul>
<li>é€‚åˆå›½é™…ç”¨æˆ·</li>
<li>é€šè¿‡ Refresh Token å®ç°æ°¸ä¹…æˆæƒ,æ— éœ€é¢‘ç¹ç™»å½•</li>
<li>æˆç†Ÿçš„ API,ç¨³å®šå¯é </li>
</ul>
</li>
<li><strong>åšæœäº‘ WebDAV</strong>:
<ul>
<li>ä¸“ä¸ºå›½å†…ç”¨æˆ·ä¼˜åŒ–</li>
<li>æ— éœ€ä»£ç†,è®¿é—®é€Ÿåº¦å¿«</li>
<li>Token æ°¸ä¹…æœ‰æ•ˆ,é…ç½®ä¸€æ¬¡é•¿æœŸä½¿ç”¨</li>
</ul>
</li>
</ul>
<h4 data-id="heading-23">ğŸ’ äº®ç‚¹ 2: ç”Ÿäº§çº§å·¥ç¨‹è®¾è®¡</h4>
<p>ä¸æ˜¯ç©å…·é¡¹ç›®,æ˜¯å¯ä»¥æ”¾å¿ƒåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„ä¸“ä¸šå·¥å…·:</p>
<p>âœ… <strong>ä»£ç†é€‚é…</strong>: æ”¯æŒ <code>HTTPS_PROXY</code> é…ç½®,è§£å†³å›½å†…è®¿é—® Dropbox çš„ç½‘ç»œé—®é¢˜<br/>
âœ… <strong>è·¯å¾„å®‰å…¨ç®¡ç†</strong>: ä¸¥æ ¼çš„è·¯å¾„éªŒè¯,é˜²æ­¢è¶Šæƒè®¿é—®<br/>
âœ… <strong>å‹å¥½çš„ä¸­æ–‡é”™è¯¯æç¤º</strong>: å‡ºé”™æ—¶ç›´æ¥å‘Šè¯‰ä½ æ€ä¹ˆè§£å†³,ä¸æ˜¯å†·å†°å†°çš„è‹±æ–‡æŠ¥é”™<br/>
âœ… <strong>é€’å½’ç›®å½•æ‰«æ</strong>: <code>WEBDAV_RECURSIVE</code> é…ç½®é¡¹,æ”¯æŒå­æ–‡ä»¶å¤¹ç»„ç»‡<br/>
âœ… <strong>è‡ªåŠ¨é‡è¿æœºåˆ¶</strong>: ç½‘ç»œæŠ–åŠ¨æ—¶è‡ªåŠ¨é‡è¯•,æé«˜ç¨³å®šæ€§</p>
<h4 data-id="heading-24">ğŸ’ äº®ç‚¹ 3: åŸºäº MCP æ ‡å‡†åè®®</h4>
<p><strong>Model Context Protocol (MCP)</strong> æ˜¯ Anthropic ä¸»å¯¼çš„å¼€æ”¾æ ‡å‡†:</p>
<ul>
<li>ğŸ”Œ <strong>æ ‡å‡†åŒ–æ¥å£</strong>: ä¸å„ç±» AI å·¥å…·æ— ç¼é›†æˆ</li>
<li>ğŸ¤– <strong>è‡ªç„¶è¯­è¨€äº¤äº’</strong>: é™ä½å­¦ä¹ æˆæœ¬,ä¸Šæ‰‹å³ç”¨</li>
<li>ğŸ”® <strong>é¢å‘æœªæ¥</strong>: éšç€ MCP ç”Ÿæ€å‘å±•,è‡ªåŠ¨è·å¾—æ›´å¤šèƒ½åŠ›</li>
</ul>
<hr/>
<h3 data-id="heading-25">å…­ã€é€‚ç”¨åœºæ™¯:è°éœ€è¦è¿™ä¸ªå·¥å…·?</h3>
<h4 data-id="heading-26">ğŸ“ åœºæ™¯ 1: ä¸ªäººçŸ¥è¯†ç®¡ç†è€…</h4>
<p>ä½ ç²¾å¿ƒæ‰“ç£¨äº†åå‡ ä¸ª AI è§’è‰²,æ¶µç›–ç¼–ç¨‹ã€å†™ä½œã€åˆ†æç­‰å„ä¸ªé¢†åŸŸã€‚é€šè¿‡ mcp-dropbox-prompts,ä½ å¯ä»¥:</p>
<ul>
<li>âœ… åœ¨å®¶é‡Œçš„ Mac å’Œå…¬å¸çš„ Windows ä¸Šä½¿ç”¨åŒä¸€å¥— Prompt åº“</li>
<li>âœ… å®‰å…¨åœ°è¿­ä»£ä¼˜åŒ–æ¯ä¸ªè§’è‰²,ä¸æ€•æ”¹å</li>
<li>âœ… éšæ—¶é€šè¿‡å…³é”®è¯å¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„è§’è‰²</li>
</ul>
<h4 data-id="heading-27">ğŸ‘¥ åœºæ™¯ 2: å›¢é˜Ÿåä½œ</h4>
<p>å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„å‡­æ®é…ç½®,ç¡®ä¿:</p>
<ul>
<li>âœ… æ‰€æœ‰äººä½¿ç”¨ç»Ÿä¸€è§„èŒƒçš„ Prompt,è¾“å‡ºè´¨é‡ä¸€è‡´</li>
<li>âœ… æ–°äººåŠ å…¥æ—¶è‡ªåŠ¨è·å¾—å®Œæ•´çš„è§’è‰²åº“</li>
<li>âœ… çŸ¥è¯†ä¸éšå‘˜å·¥ç¦»èŒè€Œæµå¤±</li>
</ul>
<h4 data-id="heading-28">ğŸ’¼ åœºæ™¯ 3: å¤šè®¾å¤‡å·¥ä½œè€…</h4>
<p>ä½ ç»å¸¸åœ¨å…¬å¸ã€å®¶é‡Œã€å’–å•¡å…ç­‰ä¸åŒåœ°ç‚¹å·¥ä½œ,éœ€è¦:</p>
<ul>
<li>âœ… æ— ç¼åˆ‡æ¢è®¾å¤‡,ä¸ç”¨æ‹…å¿ƒ Prompt ä¸åŒæ­¥</li>
<li>âœ… æ–°è´­ç½®è®¾å¤‡æ—¶å¿«é€Ÿå®Œæˆé…ç½®,ç«‹å³å¯ç”¨</li>
<li>âœ… å‡ºå·®æ—¶ä¹Ÿèƒ½ç”¨å®Œæ•´çš„å·¥å…·é“¾å·¥ä½œ</li>
</ul>
<h4 data-id="heading-29">ğŸš€ åœºæ™¯ 4: Prompt å·¥ç¨‹å¸ˆ</h4>
<p>ä½ ä¸“æ³¨äº Prompt çš„è®¾è®¡å’Œä¼˜åŒ–,éœ€è¦:</p>
<ul>
<li>âœ… ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½,è¿½è¸ªæ¯æ¬¡ä¼˜åŒ–çš„æ•ˆæœ</li>
<li>âœ… å¿«é€Ÿæµ‹è¯•å’Œè¿­ä»£,Chat-to-Save å¤§å¹…æå‡æ•ˆç‡</li>
<li>âœ… å¯¼å‡ºåŠŸèƒ½,æ–¹ä¾¿æ’°å†™æ•™ç¨‹æˆ–åˆ†äº«ç»éªŒ</li>
</ul>
<h4 data-id="heading-30">âœï¸ åœºæ™¯ 5: å†…å®¹åˆ›ä½œè€…</h4>
<p>ä½ ä¸ºä¸åŒå¹³å°ç»´æŠ¤ä¸“é—¨çš„å†™ä½œåŠ©æ‰‹(å°çº¢ä¹¦ã€çŸ¥ä¹ã€å…¬ä¼—å·...),éœ€è¦:</p>
<ul>
<li>âœ… æŒ‰å¹³å°ç»„ç»‡ä¸åŒé£æ ¼çš„ AI è§’è‰²</li>
<li>âœ… éšæ—¶æœç´¢"é‚£ä¸ªé€‚åˆå°çº¢ä¹¦çš„è¥é”€è§’è‰²"</li>
<li>âœ… åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½å¿«é€Ÿå¼€å§‹åˆ›ä½œ</li>
</ul>
<h4 data-id="heading-31">ğŸ¨ åœºæ™¯ 6: Prompt ç»„åˆåˆ›ä½œ (é‡è¦!)</h4>
<p><strong>è¿™æ˜¯æœ€å¼ºå¤§çš„ä½¿ç”¨æ–¹å¼!</strong> åœ¨ä¸€æ¬¡å¯¹è¯ä¸­,ä½ å¯ä»¥<strong>è‡ªç”±ç»„åˆ</strong>å¤šä¸ªä¸åŒé¢†åŸŸçš„ Prompt,è®©å®ƒä»¬ååŒå·¥ä½œå®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<h5 data-id="heading-32">å®æˆ˜æ¡ˆä¾‹:åˆ›å»ºæœ‰è¶£çš„ç®—å‘½å·¥å…·ç½‘ç«™</h5>
<p>å‡è®¾ä½ æƒ³åšä¸€ä¸ªæ—¢æœ‰ä¸“ä¸šè®¾è®¡åˆæœ‰ä¸“ä¸šå†…å®¹çš„ç½‘ç«™,å¯ä»¥è¿™æ ·æ“ä½œ:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "è¯»å– ç²¾ç¾ç½‘é¡µè®¾è®¡å¸ˆ å’Œ å‘½ç†å¤§å¸ˆ ä¸¤ä¸ªæç¤ºè¯"

AI: âœ… å·²åŠ è½½ä¸¤ä¸ªè§’è‰²:
    - ç²¾ç¾ç½‘é¡µè®¾è®¡å¸ˆ: è´Ÿè´£ UI/UX è®¾è®¡å’Œå‰ç«¯ä»£ç 
    - å‘½ç†å¤§å¸ˆ: è´Ÿè´£ç®—å‘½é€»è¾‘å’Œæ–‡æ¡ˆå†…å®¹

ä½ : "å¸®æˆ‘åˆ›å»ºä¸€ä¸ªæœ‰è¶£çš„åœ¨çº¿ç®—å‘½å·¥å…·ç½‘ç«™"

AI: [ä¸¤ä¸ªè§’è‰²ååŒå·¥ä½œ]
    - ç²¾ç¾ç½‘é¡µè®¾è®¡å¸ˆ: è®¾è®¡ç°ä»£åŒ–ç•Œé¢,å®ç°äº¤äº’é€»è¾‘
    - å‘½ç†å¤§å¸ˆ: æä¾›ç®—å‘½å†…å®¹ã€ä¸“ä¸šæœ¯è¯­ã€è§£è¯»æ–‡æ¡ˆ

    ç»“æœ: ä¸€ä¸ªæ—¢æ¼‚äº®åˆä¸“ä¸šçš„ç®—å‘½ç½‘ç«™!
</code></pre>
<h5 data-id="heading-33">ä¸ºä»€ä¹ˆè¿™å¾ˆå¼ºå¤§?æŸ¥çœ‹çœŸå®ç¤ºä¾‹æˆªå›¾</h5>
<ul>
<li>ç½‘ç«™é¦–é¡µè½åœ°é¡µï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c473c6120f1d4c5597a3824dbbeedc3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGVscm95:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768374834&amp;x-signature=CxQzlils5lTJ2xjaWhj0KcK%2Bf2Y%3D" alt="screencapture-localhost-5173-2026-01-07-14_38_56.png" loading="lazy"/></p>
<ul>
<li>ç½‘ç«™å‘½ç†åˆ†äº«é¡µï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1924355ed554ac8881669b93a80265f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGVscm95:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768374834&amp;x-signature=RZmZJN9oIWcxk4Iq7SsXO9E446o%3D" alt="screencapture-localhost-5173-square-2026-01-07-14_40_34.png" loading="lazy"/></p>
<ul>
<li>Bento åˆ†äº«å¡ç”Ÿæˆï¼š</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/433961a2027040048e32633e520fd986~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGVscm95:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768374834&amp;x-signature=GFPg7ioHIVQWbFJwOj8r%2FAd5q%2Fw%3D" alt="å¾®ä¿¡å›¾ç‰‡_20260103204040_350_82.png" loading="lazy"/></p>
<p>å…è´¹å®Œæ•´ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fming.520ai.xin%2F" target="_blank" title="https://ming.520ai.xin/" ref="nofollow noopener noreferrer">ming.520ai.xin/</a></p>
<p><strong>ä»¥ä¸Šä¸¤ä¸ªå®æˆ˜æç¤ºè¯å·²åœ¨æºç ä»“åº“ï¼Œæ¬¢è¿åˆ›å»ºå±äºä½ è‡ªå·±çš„å‘½ç†å¤§å¸ˆï¼</strong></p>
<p><strong>è·¨é¢†åŸŸåä½œçš„å¨åŠ›</strong>:</p>
<ul>
<li>ğŸ¨ è®¾è®¡å¸ˆ Prompt + ğŸ“ æ–‡æ¡ˆ Prompt = å®Œç¾çš„è¥é”€é¡µé¢</li>
<li>ğŸ’» å‰ç«¯å·¥ç¨‹å¸ˆ Prompt + ğŸ¯ äº§å“ç»ç† Prompt = åŠŸèƒ½å®Œå–„çš„åº”ç”¨</li>
<li>ğŸ“Š æ•°æ®åˆ†æå¸ˆ Prompt + âœï¸ å†…å®¹åˆ›ä½œè€… Prompt = æ•°æ®é©±åŠ¨çš„å†…å®¹ç­–ç•¥</li>
<li>ğŸ§  å¿ƒç†å­¦ä¸“å®¶ Prompt + ğŸ“ æ•™è‚²ä¸“å®¶ Prompt = ç§‘å­¦çš„æ•™å­¦æ–¹æ¡ˆ</li>
</ul>
<p><strong>å®é™…æ•ˆæœ</strong>:</p>
<ul>
<li>âœ… æ¯ä¸ª Prompt ä¸“æ³¨äºè‡ªå·±çš„ä¸“ä¸šé¢†åŸŸ</li>
<li>âœ… å¤šä¸ªè§’è‰²ç›¸äº’é…åˆ,å–é•¿è¡¥çŸ­</li>
<li>âœ… ä¸€æ¬¡å¯¹è¯å®ŒæˆåŸæœ¬éœ€è¦å¤šæ¬¡åˆ‡æ¢æ‰èƒ½å®Œæˆçš„å¤æ‚ä»»åŠ¡</li>
<li>âœ… åˆ›æ„æ— é™,ç»„åˆæ— é™!</li>
</ul>
<p>è¿™å°±åƒæ‹¥æœ‰ä¸€ä¸ª<strong>éšæ—¶å¾…å‘½çš„è·¨é¢†åŸŸä¸“å®¶å›¢é˜Ÿ</strong>,è€Œä½ å°±æ˜¯åè°ƒè€…!</p>
<hr/>
<h3 data-id="heading-34">ä¸ƒã€å¿«é€Ÿå¼€å§‹:5 åˆ†é’Ÿä¸Šæ‰‹</h3>
<h4 data-id="heading-35">Step 1: é€‰æ‹©å­˜å‚¨æ–¹æ¡ˆ</h4>
<p>æ ¹æ®ä½ çš„ç½‘ç»œç¯å¢ƒé€‰æ‹©:</p>
<ul>
<li>ğŸŒ <strong>å›½é™…ç”¨æˆ·</strong> â†’ Dropbox</li>
<li>ğŸ‡¨ğŸ‡³ <strong>å›½å†…ç”¨æˆ·</strong> â†’ åšæœäº‘ (æ¨è)</li>
</ul>
<h4 data-id="heading-36">Step 2: è·å–å‡­æ®</h4>
<h5 data-id="heading-37">æ–¹æ¡ˆ A: åšæœäº‘ (ç®€å•å¿«æ·,æ¨èå›½å†…ç”¨æˆ·)</h5>
<ol>
<li>ç™»å½•åšæœäº‘å®˜ç½‘ â†’ å®‰å…¨è®¾ç½® â†’ ç¬¬ä¸‰æ–¹åº”ç”¨ç®¡ç†</li>
<li>æ·»åŠ åº”ç”¨,ç”Ÿæˆ<strong>åº”ç”¨å¯†ç </strong></li>
<li>è®°å½•ä½ çš„é‚®ç®±å’Œåº”ç”¨å¯†ç </li>
</ol>
<h5 data-id="heading-38">æ–¹æ¡ˆ B: Dropbox (å›½é™…ç”¨æˆ·)</h5>
<p><strong>æ­¥éª¤ 1: åˆ›å»º Dropbox App</strong></p>
<ol>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dropbox.com%2Fdevelopers%2Fapps" target="_blank" title="https://www.dropbox.com/developers/apps" ref="nofollow noopener noreferrer">Dropbox Developers</a></li>
<li>ç‚¹å‡» "Create app"</li>
<li>é€‰æ‹© <code>Scoped access</code> â†’ <code>App folder</code></li>
<li>ç»™ä½ çš„ App èµ·ä¸ªåå­—(å¦‚ <code>mcp-prompts</code>)</li>
</ol>
<p><strong>æ­¥éª¤ 2: é…ç½®æƒé™</strong></p>
<ol>
<li>è¿›å…¥ App çš„ <strong>Permissions</strong> é€‰é¡¹å¡</li>
<li>å‹¾é€‰ä»¥ä¸‹æƒé™:
<ul>
<li><code>files.metadata.read</code></li>
<li><code>files.content.read</code></li>
<li><code>files.content.write</code></li>
</ul>
</li>
<li>ç‚¹å‡»é¡µé¢ä¸‹æ–¹çš„ <strong>Submit</strong> æŒ‰é’®</li>
</ol>
<p><strong>æ­¥éª¤ 3: è·å–æ°¸ä¹…è®¿é—®ä»¤ç‰Œ (Refresh Token)</strong></p>
<p>Dropbox é»˜è®¤ç”Ÿæˆçš„ Access Token åªæœ‰ 4 å°æ—¶æœ‰æ•ˆæœŸ,æˆ‘ä»¬éœ€è¦è·å–æ°¸ä¹…æœ‰æ•ˆçš„ Refresh Token:</p>
<ol>
<li>åœ¨ <strong>Settings</strong> é¡µé¢æ‰¾åˆ° <code>App key</code> å’Œ <code>App secret</code>,è®°å½•ä¸‹æ¥</li>
<li>åœ¨æµè§ˆå™¨æ‰“å¼€ä»¥ä¸‹é“¾æ¥(æ›¿æ¢ <code>YOUR_APP_KEY</code>):
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dropbox.com%2Foauth2%2Fauthorize%3Fclient_id%3DYOUR_APP_KEY%26token_access_type%3Doffline%26response_type%3Dcode" target="_blank" title="https://www.dropbox.com/oauth2/authorize?client_id=YOUR_APP_KEY&amp;token_access_type=offline&amp;response_type=code" ref="nofollow noopener noreferrer">www.dropbox.com/oauth2/authâ€¦</a></li>
<li>æˆæƒåä¼šå¾—åˆ°ä¸€ä¸ªæˆæƒç </li>
<li>åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤(æ›¿æ¢å¯¹åº”å‚æ•°):
<pre><code class="hljs language-bash" lang="bash">curl https://api.dropbox.com/oauth2/token \
  -d code=æ‚¨åˆšåˆšå¾—åˆ°çš„æˆæƒç  \
  -d grant_type=authorization_code \
  -u æ‚¨çš„AppKey:æ‚¨çš„AppSecret
</code></pre>
</li>
<li>è¿”å›çš„ JSON ä¸­çš„ <code>refresh_token</code> å°±æ˜¯æ°¸ä¹…ä»¤ç‰Œ,è®°å½•ä¸‹æ¥</li>
</ol>
<p><strong>é…ç½®ç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"mcp-prompts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"mcp-dropbox-prompts"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"DROPBOX_REFRESH_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‚¨çš„_REFRESH_TOKEN"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"DROPBOX_CLIENT_ID"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‚¨çš„_APP_KEY"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"DROPBOX_CLIENT_SECRET"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‚¨çš„_APP_SECRET"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"HTTPS_PROXY"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://127.0.0.1:7890"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"DROPBOX_ROOT_PATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>: å›½å†…ç”¨æˆ·éœ€è¦é…ç½® <code>HTTPS_PROXY</code> ä»£ç†æ‰èƒ½è®¿é—® Dropbox API</p>
</blockquote>
<h4 data-id="heading-39">Step 3: é…ç½® MCP</h4>
<p>åœ¨ä½ çš„ MCP é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ (ä»¥åšæœäº‘ä¸ºä¾‹):</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"mcp-prompts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"mcp-dropbox-prompts"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"WEBDAV_USERNAME"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your@email.com"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"WEBDAV_PASSWORD"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åº”ç”¨ç‰¹å®šå¯†ç "</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"WEBDAV_URL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://dav.jianguoyun.com/dav/"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"WEBDAV_ROOT_PATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/mcp-prompts"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>æç¤º</strong>: é…ç½®æ–‡ä»¶ä½ç½®</p>
<ul>
<li>Cursor: <code>~/.cursor/mcp_config.json</code></li>
<li>Claude Desktop: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li>
</ul>
</blockquote>
<h4 data-id="heading-40">Step 4: é‡å¯åº”ç”¨</h4>
<p>é‡å¯ Cursor æˆ– Claude Desktop,è®©é…ç½®ç”Ÿæ•ˆã€‚</p>
<h4 data-id="heading-41">Step 5: å¼€å§‹ä½¿ç”¨!</h4>
<p>åœ¨å¯¹è¯æ¡†ä¸­è¯•è¯•:</p>
<pre><code class="hljs language-plain" lang="plain">ä½ : "åˆ—å‡ºæˆ‘çš„æ‰€æœ‰æç¤ºè¯"
AI: [è°ƒç”¨ list_prompts å·¥å…·,å±•ç¤ºä½ çš„ Prompt åº“]
</code></pre>
<p>å°±æ˜¯è¿™ä¹ˆç®€å•! ğŸ‰</p>
<hr/>
<h3 data-id="heading-42">å…«ã€å†™åœ¨æœ€å</h3>
<p>åœ¨ AI æ—¶ä»£,<strong>Prompt å°±æ˜¯ä½ çš„è¶…èƒ½åŠ›</strong>ã€‚</p>
<p>ä¸€ä¸ªå¥½çš„ Prompt å¯èƒ½æ˜¯ä½ èŠ±äº†ä¸€ä¸ªå°æ—¶ä¸æ–­è°ƒè¯•ã€æ•°åæ¬¡è¿­ä»£æ‰å¾—åˆ°çš„æˆæœã€‚å®ƒä»£è¡¨ç€ä½ å¯¹ç‰¹å®šä»»åŠ¡çš„æ·±åˆ»ç†è§£,æ˜¯ä½ ç‹¬ç‰¹çš„çŸ¥è¯†èµ„äº§ã€‚</p>
<p>ç„¶è€Œ,è¿™äº›å®è´µçš„èµ„äº§ä¸åº”è¯¥è¢«å›°åœ¨æŸä¸€å°è®¾å¤‡çš„æœ¬åœ°æ–‡ä»¶ä¸­,ä¸åº”è¯¥åœ¨ç‰ˆæœ¬è¦†ç›–ä¸­æ°¸ä¹…æ¶ˆå¤±,ä¸åº”è¯¥åœ¨éœ€è¦æ—¶æ‰¾ä¸åˆ°,æ›´ä¸åº”è¯¥åœ¨æƒ³ä¿å­˜æ—¶éœ€è¦ä¸­æ–­æ€ç»´æµå»æ‰‹åŠ¨æ“ä½œã€‚</p>
<p><strong>mcp-dropbox-prompts çš„è®¾è®¡å“²å­¦å¾ˆç®€å•:</strong></p>
<blockquote>
<p><strong>è®© Prompt ç®¡ç†å˜å¾—é€æ˜,è®©ä½ ä¸“æ³¨äºä¸ AI çš„å¯¹è¯æœ¬èº«ã€‚</strong></p>
</blockquote>
<p>æˆ‘å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½çœŸæ­£è§£å†³ä½ çš„ç—›ç‚¹,æå‡ä½ çš„ AI ä½¿ç”¨ä½“éªŒã€‚å¦‚æœå®ƒå¸®åˆ°äº†ä½ ,æ¬¢è¿:</p>
<ul>
<li>â­ ç»™é¡¹ç›®ç‚¹ä¸ª Star</li>
<li>ğŸ’¬ åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ä½¿ç”¨ä½“éªŒ</li>
<li>ğŸ› åœ¨ GitHub æ Issue åé¦ˆé—®é¢˜æˆ–å»ºè®®</li>
<li>ğŸ“¢ æ¨èç»™æœ‰éœ€è¦çš„æœ‹å‹</li>
</ul>
<hr/>
<h3 data-id="heading-43">ğŸ”— ç›¸å…³é“¾æ¥</h3>
<ul>
<li>ğŸ“¦ npm åŒ…: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fmcp-dropbox-prompts" target="_blank" title="https://www.npmjs.com/package/mcp-dropbox-prompts" ref="nofollow noopener noreferrer">www.npmjs.com/package/mcpâ€¦</a></li>
<li>ğŸ’» GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyuanyang749%2Fmcp-dropbox-prompts" target="_blank" title="https://github.com/yuanyang749/mcp-dropbox-prompts" ref="nofollow noopener noreferrer">github.com/yuanyang749â€¦</a></li>
<li>ğŸ“– è¯¦ç»†æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyuanyang749%2Fmcp-dropbox-prompts%23readme" target="_blank" title="https://github.com/yuanyang749/mcp-dropbox-prompts#readme" ref="nofollow noopener noreferrer">github.com/yuanyang749â€¦</a></li>
<li>ğŸŒ MCP åè®®: <a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io" target="_blank" title="https://modelcontextprotocol.io" ref="nofollow noopener noreferrer">modelcontextprotocol.io</a></li>
</ul>
<hr/>
<h3 data-id="heading-44">å…³äºä½œè€…</h3>
<p>ä¸€ä¸ªç›¸ä¿¡å·¥å…·åº”è¯¥è®©ç”Ÿæ´»æ›´ç®€å•çš„å¼€å‘è€… ğŸš€</p>
<p>å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿é€šè¿‡ GitHub Issues è”ç³»æˆ‘!</p>
<hr/>
<blockquote>
<p><strong>æœ€åçš„æœ€å</strong>: å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,åˆ«å¿˜äº†ç‚¹èµ ğŸ‘ å’Œæ”¶è— â­,ä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­æ›´æ–°çš„åŠ¨åŠ›!ä¸‹æœŸåˆ†äº«æˆ‘çš„<strong>2026 å‘½ç†å¤§å¸ˆ</strong>ç½‘ç«™çš„è¯¦ç»†è°ƒæ•™è¿‡ç¨‹ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå¤šçº¿ç¨‹]]></title>    <link>https://juejin.cn/post/7592531796038926370</link>    <guid>https://juejin.cn/post/7592531796038926370</guid>    <pubDate>2026-01-07T08:44:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592531796038926370" data-draft-id="7592170706026790947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå¤šçº¿ç¨‹"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-07T08:44:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œæ—¥å°¼ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/854736525882123"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€JavaåŸºç¡€æ•´ç†ã€‘Javaå¤šçº¿ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/854736525882123/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œæ—¥å°¼ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:44:38.000Z" title="Wed Jan 07 2026 08:44:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaå¤šçº¿ç¨‹è¯¦è§£</h2>
<h3 data-id="heading-1">1. å¤šçº¿ç¨‹æ¦‚è¿°</h3>
<h4 data-id="heading-2">ä»€ä¹ˆæ˜¯çº¿ç¨‹</h4>
<p><strong>çº¿ç¨‹</strong>æ˜¯ç¨‹åºä¸­çš„æ‰§è¡Œçº¿ç¨‹ã€‚Javaè™šæ‹Ÿæœºå…è®¸åº”ç”¨ç¨‹åºå¹¶å‘åœ°è¿è¡Œå¤šä¸ªæ‰§è¡Œçº¿ç¨‹ã€‚</p>
<p><strong>æ ¸å¿ƒè¦ç‚¹ï¼š</strong></p>
<ul>
<li>çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½</li>
<li>å¤šçº¿ç¨‹å¯ä»¥æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</li>
<li>çº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œå…±äº«è¿›ç¨‹èµ„æº</li>
<li>æ­£ç¡®åˆ›å»ºå’Œä½¿ç”¨å¤šä¸ªçº¿ç¨‹è‡³å…³é‡è¦</li>
</ul>
<h3 data-id="heading-3">2. åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹æ³•</h3>
<p>Javaä¸­åˆ›å»ºçº¿ç¨‹æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼šç»§æ‰¿Threadç±»å’Œå®ç°Runnableæ¥å£ã€‚</p>
<h4 data-id="heading-4">2.1 æ–¹æ³•ä¸€ï¼šç»§æ‰¿Threadç±»</h4>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>ç»§æ‰¿Threadç±»</li>
<li>é‡å†™Threadç±»çš„<code>run()</code>æ–¹æ³•</li>
<li>è°ƒç”¨çº¿ç¨‹çš„<code>start()</code>æ–¹æ³•å¯åŠ¨çº¿ç¨‹</li>
</ol>
<p><strong>ç‰¹ç‚¹ï¼š</strong> <code>start()</code>æ–¹æ³•å¼€å¯<code>run()</code>å¹¶å‘æ‰§è¡Œè¯¥çº¿ç¨‹ã€‚</p>
<h5 data-id="heading-5">å®Œæ•´ç¤ºä¾‹</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¬¬ä¸€ä¸ªçº¿ç¨‹ç±»ç»§æ‰¿Threadç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Thread1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ‰§è¡Œ60æ¬¡å¾ªç¯è¾“å‡º</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">60</span>; i++) {
            System.out.println(<span class="hljs-string">"ThreadOne::"</span> + i);
        }
    }
}

<span class="hljs-comment">// ç¬¬äºŒä¸ªçº¿ç¨‹ç±»ç»§æ‰¿Threadç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Thread2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ‰§è¡Œ60æ¬¡å¾ªç¯è¾“å‡º</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">60</span>; i++) {
            System.out.println(<span class="hljs-string">"ThreadTwo::: "</span> + i);
        }
    }
}

<span class="hljs-comment">// ä¸»æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadMain</span> {
    <span class="hljs-comment">// åŒæ­¥æ‰§è¡Œä¸¤ä¸ªçº¿ç¨‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡</span>
        <span class="hljs-type">Thread1</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread1</span>();
        <span class="hljs-type">Thread2</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread2</span>();
        
        <span class="hljs-comment">// ä½¿ç”¨çº¿ç¨‹çš„startæ–¹æ³•åŒæ­¥æ‰§è¡Œä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡</span>
        t1.start();
        t2.start();
    }
}
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong> ä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡éšæœºäº¤æ›¿æ‰§è¡Œè¾“å‡ºè¯­å¥ã€‚</p>
<h4 data-id="heading-6">2.2 æ–¹æ³•äºŒï¼šå®ç°Runnableæ¥å£ï¼ˆæ¨èï¼‰</h4>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<ol>
<li>å®šä¹‰ç±»å®ç°Runnableæ¥å£</li>
<li>è¦†ç›–Runnableæ¥å£ä¸­çš„<code>run()</code>æ–¹æ³•ï¼Œå°†çº¿ç¨‹éœ€è¦è¿è¡Œçš„ä»£ç å†™å…¥</li>
<li>é€šè¿‡Threadç±»å»ºç«‹å¸¦Runnableæ¥å£çš„å­ç±»å¯¹è±¡å‚æ•°çš„çº¿ç¨‹å¯¹è±¡</li>
<li>è°ƒç”¨Threadç±»çš„<code>start()</code>æ–¹æ³•å¼€å¯çº¿ç¨‹å¹¶è°ƒç”¨Runnableæ¥å£å­ç±»çš„<code>run()</code>æ–¹æ³•</li>
</ol>
<h5 data-id="heading-7">å®Œæ•´ç¤ºä¾‹ï¼šæ¨¡æ‹Ÿå–ç¥¨çª—å£</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®ç°Runnableæ¥å£çš„çº¿ç¨‹ç±»ï¼Œæ¨¡æ‹Ÿå–ç¥¨çª—å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Ticket</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-comment">// å®šä¹‰ç¥¨æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">tick</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
    
    <span class="hljs-comment">// é‡å†™Runnableæ¥å£run()æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">if</span> (tick &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// è¿™é‡Œå¤šä¸ªçº¿ç¨‹å†…å…±äº«ä¸€ä¸ªtickå¯¹è±¡</span>
                System.out.println(Thread.currentThread().getName() + 
                                 <span class="hljs-string">":sale:"</span> + tick--);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å–å®Œæ‰“çƒŠ</span>
                <span class="hljs-keyword">break</span>;
            }
        }
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TicketMain</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å»ºç«‹å®ç°Runnableæ¥å£çš„çº¿ç¨‹å¯¹è±¡</span>
        <span class="hljs-type">Ticket</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Ticket</span>();
        
        <span class="hljs-comment">// å°†å®ç°Runnableæ¥å£çš„å­ç±»å½“ä½œThreadç±»çš„å‚æ•°ï¼Œ</span>
        <span class="hljs-comment">// ç”¨Threadç±»çš„start()æ–¹æ³•æ¥å¼€å¯å¤šä¸ªçº¿ç¨‹</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(t);
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(t);
        t1.start();
        t2.start();
    }
}
</code></pre>
<h4 data-id="heading-8">2.3 ä¸¤ç§æ–¹æ³•çš„å¯¹æ¯”</h4>



































<table><thead><tr><th>æ¯”è¾ƒé¡¹ç›®</th><th>ç»§æ‰¿Threadç±»</th><th>å®ç°Runnableæ¥å£</th></tr></thead><tbody><tr><td><strong>ç»§æ‰¿é™åˆ¶</strong></td><td>æ— æ³•å†ç»§æ‰¿å…¶ä»–ç±»</td><td>é¿å…å•ç»§æ‰¿å±€é™æ€§ âœ“</td></tr><tr><td><strong>èµ„æºå…±äº«</strong></td><td>æ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹çš„èµ„æº</td><td>å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€ä¸ªå¯¹è±¡ âœ“</td></tr><tr><td><strong>è·å–å½“å‰çº¿ç¨‹</strong></td><td>ç›´æ¥ä½¿ç”¨<code>this</code></td><td>ä½¿ç”¨<code>Thread.currentThread()</code></td></tr><tr><td><strong>ä»£ç å¤ç”¨æ€§</strong></td><td>è¾ƒå·®</td><td>è¾ƒå¥½ âœ“</td></tr><tr><td><strong>æ¨èç¨‹åº¦</strong></td><td>ä¸æ¨è</td><td><strong>æ¨èä½¿ç”¨</strong> âœ“</td></tr></tbody></table>
<p><strong>ç»“è®ºï¼š</strong> å®ç°Runnableæ¥å£çš„æ–¹å¼æ›´åŠ çµæ´»ï¼Œæ˜¯åˆ›å»ºçº¿ç¨‹çš„æ¨èæ–¹æ³•ã€‚</p>
<h3 data-id="heading-9">3. çº¿ç¨‹å®‰å…¨æ€§</h3>
<h4 data-id="heading-10">3.1 çº¿ç¨‹å®‰å…¨é—®é¢˜</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong> å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªå…±äº«æ•°æ®æ—¶ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å¯¹å¤šæ¡è¯­å¥åªæ‰§è¡Œäº†ä¸€éƒ¨åˆ†ï¼Œè¿˜æ²¡å…¨éƒ¨æ‰§è¡Œå®Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å°±å‚ä¸è¿›æ¥æ‰§è¡Œï¼Œå¯èƒ½ä¼šå¯¼è‡´å…±äº«æ•°æ®çš„é”™è¯¯ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> å¯¹å¤šæ¡æ“ä½œå…±äº«æ•°æ®çš„è¯­å¥ï¼Œåªèƒ½è®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œï¼Œæ‰å¯ä»¥è®©å…¶ä»–çº¿ç¨‹å‚ä¸è¿è¡Œã€‚</p>
<h4 data-id="heading-11">3.2 çº¿ç¨‹åŒæ­¥æœºåˆ¶</h4>
<p>Javaæä¾›äº†<strong>synchronizedå…³é”®å­—</strong>å®ç°çº¿ç¨‹åŒæ­¥ï¼ˆJDK 1.5ä¹‹å‰çš„ä¸»è¦æ–¹å¼ï¼‰ã€‚</p>
<h5 data-id="heading-12">åŒæ­¥ä»£ç å—</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰é”å¯¹è±¡</span>
<span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();

<span class="hljs-keyword">synchronized</span>(obj) {
    <span class="hljs-comment">// éœ€è¦åŒæ­¥çš„ä»£ç å—</span>
}
</code></pre>
<h5 data-id="heading-13">åŒæ­¥æ–¹æ³•</h5>
<p><strong>æ¦‚å¿µï¼š</strong> åŒæ­¥æ–¹æ³•å°±æ˜¯ç»™æŸä¸ªæ–¹æ³•åŠ é”ï¼Œä»è€Œé¿å…ä¸åŒå¯¹è±¡è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•å‡ºç°æ•°æ®é”™è¯¯çš„é—®é¢˜ã€‚</p>
<p><strong>å®Œæ•´é“¶è¡Œå­˜æ¬¾ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æè¿°é“¶è¡Œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Bank</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> sum;
    
    <span class="hljs-comment">// é“¶è¡Œå…·æœ‰å­˜é’±æ–¹æ³•ï¼Œå› ä¸ºæ‰§è¡Œè¯­å¥è¾ƒå¤šæ‰€ä»¥éœ€è¦æ–¹æ³•çš„åŒæ­¥</span>
    <span class="hljs-comment">// æ–¹æ³•çš„åŒæ­¥é”æ˜¯this</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
        sum = sum + n;
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">10</span>);
        } <span class="hljs-keyword">catch</span>(InterruptedException e) {
            e.printStackTrace();
        }
        System.out.println(<span class="hljs-string">"sum="</span> + sum);
    }
}

<span class="hljs-comment">// æè¿°æ“ä½œé“¶è¡Œçš„çº¿ç¨‹ç±»ï¼Œrunæ–¹æ³•æ˜¯æ“ä½œé“¶è¡Œå­˜å…¥åŠ¨ä½œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cus</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">Bank</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bank</span>();
    
    <span class="hljs-comment">// å­˜ä¸‰æ¬¡ï¼Œæ¯æ¬¡å­˜å…¥100</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; x &lt; <span class="hljs-number">3</span>; x++) {
            b.add(<span class="hljs-number">100</span>);
        }
    }
}

<span class="hljs-comment">// ä¸»æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BankMain</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹ï¼Œå®ç°å¤šçº¿ç¨‹æ“ä½œ</span>
        <span class="hljs-type">Cus</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cus</span>();
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(c);
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(c);
        t1.start();
        t2.start();
    }
}
</code></pre>
<h4 data-id="heading-14">3.3 åŒæ­¥é”çš„è¯´æ˜</h4>

























<table><thead><tr><th>åŒæ­¥ç±»å‹</th><th>é”å¯¹è±¡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>åŒæ­¥ä»£ç å—</strong></td><td>è‡ªå®šä¹‰å¯¹è±¡</td><td>å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡</td></tr><tr><td><strong>åŒæ­¥æ–¹æ³•</strong></td><td><code>this</code></td><td>å½“å‰å®ä¾‹å¯¹è±¡</td></tr><tr><td><strong>é™æ€åŒæ­¥æ–¹æ³•</strong></td><td><code>ç±»å.class</code></td><td>ç±»å¯¹è±¡</td></tr></tbody></table>
<p><strong>âš ï¸ é‡è¦æç¤ºï¼š</strong> å¤šçº¿ç¨‹æ­»é”é—®é¢˜éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œé¿å…ç›¸äº’ç­‰å¾…é€ æˆç¨‹åºåœæ­¢ã€‚</p>
<h3 data-id="heading-15">4. çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<h4 data-id="heading-16">4.1 çº¿ç¨‹çŠ¶æ€è¯¦è§£</h4>
<pre><code class="hljs language-markdown" lang="markdown">æ–°å»º â†’ å°±ç»ª â‡„ è¿è¡Œ â†’ æ¶ˆäº¡
<span class="hljs-code">        â†•     â†“
      é˜»å¡ â†â”€â”€â”€
</span></code></pre>
<h5 data-id="heading-17">1. æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰</h5>
<ul>
<li><strong>è§¦å‘æ¡ä»¶ï¼š</strong> å½“newä¸€ä¸ªThreadæˆ–å…¶å­ç±»å»ºç«‹çº¿ç¨‹å</li>
<li><strong>çŠ¶æ€æè¿°ï¼š</strong> çº¿ç¨‹å¯¹è±¡å¤„äºæ–°ç”ŸçŠ¶æ€ï¼Œè¿˜æœªå¯åŠ¨</li>
</ul>
<h5 data-id="heading-18">2. å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰</h5>
<ul>
<li><strong>è§¦å‘æ¡ä»¶ï¼š</strong> è°ƒç”¨<code>start()</code>æ–¹æ³•åè¿›å…¥</li>
<li><strong>çŠ¶æ€æè¿°ï¼š</strong> çº¿ç¨‹å…·å¤‡äº†è¿è¡Œæ¡ä»¶ï¼Œä½†æœªå¿…ç«‹åˆ»æ‰§è¡Œ</li>
<li><strong>ğŸ’¡ æç¤ºï¼š</strong> å¯ä½¿ç”¨<code>Thread.sleep()</code>æ–¹æ³•ä½¿ä¸»çº¿ç¨‹ä¼‘çœ ï¼Œè®©å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œ</li>
</ul>
<h5 data-id="heading-19">3. è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰</h5>
<ul>
<li><strong>è§¦å‘æ¡ä»¶ï¼š</strong> çº¿ç¨‹æŠ¢åˆ°CPUæ‰§è¡Œæƒ</li>
<li><strong>å¯èƒ½çš„æ“ä½œï¼š</strong>
<ul>
<li><strong>ç¡çœ æ“ä½œï¼š</strong> è°ƒç”¨<code>sleep()</code>æ–¹æ³• â†’ è¿›å…¥é˜»å¡çŠ¶æ€</li>
<li><strong>ç­‰å¾…æ“ä½œï¼š</strong> è°ƒç”¨<code>wait()</code>æ–¹æ³• â†’ è¿›å…¥é˜»å¡çŠ¶æ€ï¼ˆéœ€è¦<code>notify()</code>æˆ–<code>notifyAll()</code>å”¤é†’ï¼‰</li>
<li><strong>IOé˜»å¡ï¼š</strong> è°ƒç”¨é˜»å¡å¼IOæ–¹æ³• â†’ è¿›å…¥é˜»å¡çŠ¶æ€</li>
<li><strong>é€€è®©æš‚åœï¼š</strong> è°ƒç”¨<code>yield()</code>æ–¹æ³• â†’ é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ï¼ˆä¸è¿›å…¥é˜»å¡çŠ¶æ€ï¼‰</li>
</ul>
</li>
</ul>
<h5 data-id="heading-20">4. é˜»å¡çŠ¶æ€ï¼ˆBlockedï¼‰</h5>
<ul>
<li><strong>è¿›å…¥æ¡ä»¶ï¼š</strong> ç”±è¿è¡ŒçŠ¶æ€è½¬å˜è€Œæ¥</li>
<li><strong>é˜»å¡ç±»å‹åŠæ¢å¤æ–¹å¼ï¼š</strong></li>
</ul>

























<table><thead><tr><th>é˜»å¡ç±»å‹</th><th>è¿›å…¥æ–¹å¼</th><th>æ¢å¤æ–¹å¼</th></tr></thead><tbody><tr><td><strong>ç¡çœ é˜»å¡</strong></td><td><code>sleep()</code></td><td>æŒ‡å®šæ—¶é—´åè‡ªåŠ¨æ¢å¤åˆ°å°±ç»ªçŠ¶æ€</td></tr><tr><td><strong>ç­‰å¾…é˜»å¡</strong></td><td><code>wait()</code></td><td><code>notify()</code>æˆ–<code>notifyAll()</code>å”¤é†’</td></tr><tr><td><strong>IOé˜»å¡</strong></td><td>é˜»å¡å¼IOæ–¹æ³•</td><td>å¤–è®¾å®ŒæˆIOæ“ä½œåè‡ªåŠ¨æ¢å¤</td></tr></tbody></table>
<h5 data-id="heading-21">5. æ¶ˆäº¡çŠ¶æ€ï¼ˆDeadï¼‰</h5>
<ul>
<li><strong>è§¦å‘æ¡ä»¶ï¼š</strong> ä»<code>run()</code>æ–¹æ³•æ­£å¸¸é€€å‡º</li>
<li><strong>çŠ¶æ€æè¿°ï¼š</strong> çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œè¿›å…¥æ¶ˆäº¡çŠ¶æ€</li>
</ul>
<h4 data-id="heading-22">4.2 çŠ¶æ€è½¬æ¢å›¾</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-attr">[æ–°å»º]</span> <span class="hljs-attr">--start</span>()--&gt; <span class="hljs-selector-attr">[å°±ç»ª]</span> &lt;<span class="hljs-attr">--yield</span>()-- <span class="hljs-selector-attr">[è¿è¡Œ]</span>
                     â†‘                    â†“
                     |              <span class="hljs-built_in">sleep</span>()/wait()/IOé˜»å¡
                     |                    â†“
                   æ¢å¤ &lt;------------- <span class="hljs-selector-attr">[é˜»å¡]</span>
                     â†‘                    
                     |                    
<span class="hljs-selector-attr">[æ¶ˆäº¡]</span> &lt;<span class="hljs-attr">--run</span>()ç»“æŸ-- <span class="hljs-selector-attr">[è¿è¡Œ]</span>
</code></pre>
<h3 data-id="heading-23">5. ç­‰å¾…å”¤é†’æ“ä½œï¼ˆçº¿ç¨‹é—´é€šä¿¡ï¼‰</h3>
<h4 data-id="heading-24">5.1 ç­‰å¾…å”¤é†’æœºåˆ¶æ¦‚è¿°</h4>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> å¤šä¸ªçº¿ç¨‹åŒæ­¥æ“ä½œï¼Œä½†æ“ä½œçš„åŠ¨ä½œä¸åŒã€‚æ¯”å¦‚ï¼šå¯¹åŒä¸€ä¸ªèµ„æºçš„å­˜å‚¨å’Œè¯»å–æ“ä½œã€‚</p>
<p><strong>ç›®æ ‡ï¼š</strong> è®©CPUè¿è¡Œä¸€æ¬¡å­˜å‚¨çº¿ç¨‹ï¼Œå°±è¿è¡Œä¸€æ¬¡è¯»å–çº¿ç¨‹ã€‚</p>
<p><strong>æ ¸å¿ƒæ–¹æ³•ï¼š</strong> <code>wait()</code>ã€<code>notify()</code>ã€<code>notifyAll()</code></p>
<h4 data-id="heading-25">5.2 ç­‰å¾…å”¤é†’æ–¹æ³•è¯´æ˜</h4>

























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ä½¿ç”¨æ–¹å¼</th></tr></thead><tbody><tr><td><code>wait()</code></td><td>è®©å½“å‰çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€</td><td><code>this.wait()</code></td></tr><tr><td><code>notify()</code></td><td>å”¤é†’ç­‰å¾…æ± ä¸­çš„ä¸€ä¸ªçº¿ç¨‹</td><td><code>this.notify()</code></td></tr><tr><td><code>notifyAll()</code></td><td>å”¤é†’ç­‰å¾…æ± ä¸­çš„æ‰€æœ‰çº¿ç¨‹</td><td><code>this.notifyAll()</code></td></tr></tbody></table>
<p><strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol>
<li>ç­‰å¾…å’Œå”¤é†’æ–¹æ³•å¿…é¡»æ ‡è¯†å‡ºæ‰€å±çš„é”</li>
<li>å¿…é¡»åœ¨åŒæ­¥ä¸­ä½¿ç”¨ï¼Œå› ä¸ºè¦å¯¹æŒæœ‰ç›‘è§†å™¨ï¼ˆé”ï¼‰çš„çº¿ç¨‹æ“ä½œ</li>
<li>æ“ä½œçš„çº¿ç¨‹å¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªé”</li>
</ol>
<h4 data-id="heading-26">5.3 ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å¼å®ç°</h4>
<h5 data-id="heading-27">åŸºç¡€ç‰ˆæœ¬ï¼ˆé€‚ç”¨äºå•ç”Ÿäº§è€…-å•æ¶ˆè´¹è€…ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å°è£…å•†å“å’Œç”Ÿäº§ã€æ¶ˆè´¹å•†å“çš„æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Resource</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">// äº§å“ç¼–å·</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// æ ‡è®°ï¼štrueå¯æ¶ˆè´¹ï¼Œfalseå¯ç”Ÿäº§</span>
    
    <span class="hljs-comment">// ç”Ÿäº§æ“ä½œï¼Œå¦‚æœæ¶ˆè´¹è¿‡ä¸€æ¬¡å°±å¾—å­˜å…¥ä¸€æ¬¡å•†å“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">set</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">if</span> (flag) {
            <span class="hljs-keyword">try</span> { 
                wait(); 
            } <span class="hljs-keyword">catch</span>(InterruptedException e) {}
        }
        
        <span class="hljs-built_in">this</span>.name = name + <span class="hljs-string">"..."</span> + count++;
        System.out.println(Thread.currentThread().getName() + 
                          <span class="hljs-string">"..ç”Ÿäº§ã€‚ã€‚"</span> + <span class="hljs-built_in">this</span>.name);
        
        <span class="hljs-comment">// æ”¹å˜æ ‡è®°ï¼Œå¥½è®©æ¶ˆè´¹çº¿ç¨‹æˆåŠŸè¿è¡Œï¼Œtrueä»£è¡¨å¯æ¶ˆè´¹</span>
        flag = <span class="hljs-literal">true</span>;
        <span class="hljs-comment">// ä»…è€ƒè™‘ä¸¤ä¸ªçº¿ç¨‹æ“ä½œï¼Œæ‰€ä»¥å”¤é†’å¯¹æ–¹</span>
        <span class="hljs-built_in">this</span>.notify();
    }
    
    <span class="hljs-comment">// æ¶ˆè´¹æ“ä½œï¼Œå¦‚æœç”Ÿäº§è¿‡å•†å“äº†ï¼Œå°±æ¶ˆè´¹ä¸€æ¬¡å•†å“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">out</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (!flag) {
            <span class="hljs-keyword">try</span> { 
                wait(); 
            } <span class="hljs-keyword">catch</span>(InterruptedException e) {}
        }
        
        System.out.println(Thread.currentThread().getName() + 
                          <span class="hljs-string">"ã€‚æ¶ˆè´¹ã€‚"</span> + <span class="hljs-built_in">this</span>.name);
        
        <span class="hljs-comment">// æ”¹å˜æ ‡è®°ï¼Œç”Ÿäº§çº¿ç¨‹falseä»£è¡¨å¯ç”Ÿäº§</span>
        flag = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// ä»…è€ƒè™‘ä¸¤ä¸ªçº¿ç¨‹æ“ä½œï¼Œæ‰€ä»¥å”¤é†’å¯¹æ–¹</span>
        <span class="hljs-built_in">this</span>.notify();
    }
}

<span class="hljs-comment">// ç”Ÿäº§è€…çº¿ç¨‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-keyword">private</span> Resource res;
    
    Producer(Resource res) {
        <span class="hljs-built_in">this</span>.res = res;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            res.set(<span class="hljs-string">".å•†å“."</span>);
        }
    }
}

<span class="hljs-comment">// æ¶ˆè´¹è€…çº¿ç¨‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Consumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-keyword">private</span> Resource res;
    
    Consumer(Resource res) {
        <span class="hljs-built_in">this</span>.res = res;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            res.out();
        }
    }
}

<span class="hljs-comment">// ä¸»æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProducerConsumerMain</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºå•†å“åº“ï¼Œç”¨æ¥å­˜å•†å“å’Œæ¶ˆè´¹å•†å“</span>
        <span class="hljs-type">Resource</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Resource</span>();
        
        <span class="hljs-comment">// å¯åŠ¨ç”Ÿäº§ã€æ¶ˆè´¹ä¸¤ä¸ªçº¿ç¨‹</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>(r)).start();
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Consumer</span>(r)).start();
    }
}
</code></pre>
<h5 data-id="heading-28">å¤šç”Ÿäº§è€…-å¤šæ¶ˆè´¹è€…é—®é¢˜</h5>
<p><strong>é—®é¢˜ï¼š</strong> ä¸Šé¢çš„ç¤ºä¾‹åªé€‚åˆä¸€ä¸ªç”Ÿäº§çº¿ç¨‹å’Œä¸€ä¸ªæ¶ˆè´¹çº¿ç¨‹ã€‚å¦‚æœåˆ›å»ºå¤šä¸ªç”Ÿäº§çº¿ç¨‹å’Œå¤šä¸ªæ¶ˆè´¹çº¿ç¨‹ï¼Œç³»ç»Ÿå°†æ— æ³•ä¿è¯ç”Ÿäº§ä¸€æ¬¡ä¾¿æ¶ˆè´¹ä¸€æ¬¡ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>å°†æ ‡è®°åˆ¤æ–­<code>if</code>æ”¹ä¸º<code>while</code>è®©å…¶å¾ªç¯åˆ¤æ–­</li>
<li>å°†<code>notify()</code>æ¢ä¸º<code>notifyAll()</code>ï¼Œå”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹</li>
</ol>
<p><strong>é—®é¢˜ï¼š</strong> ä½¿ç”¨<code>notifyAll()</code>ä¼šå”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ï¼Œæ¶ˆè€—æ›´å¤šç³»ç»Ÿèµ„æºã€‚</p>
<p><strong>æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼š</strong> JDK 1.5åçš„Lockã€Conditionæ¥å£</p>
<h4 data-id="heading-29">5.4 Lockã€Conditionæ¥å£ï¼ˆJDK 1.5+ï¼‰</h4>
<p><strong>æ”¹è¿›è¦ç‚¹ï¼š</strong></p>
<ul>
<li><code>synchronized</code> â†’ <code>Lock</code>æ˜¾ç¤ºé”æ“ä½œ</li>
<li><code>wait/notify/notifyAll</code> â†’ <code>Condition</code>çš„<code>await/signal/signalAll</code></li>
<li>Lockæ”¯æŒåˆ›å»ºå¤šä¸ªç›¸å…³çš„Conditionå¯¹è±¡</li>
<li>å¯ä»¥ç²¾ç¡®æ§åˆ¶å“ªäº›çº¿ç¨‹è¢«å”¤é†’</li>
</ul>
<h5 data-id="heading-30">æ ¸å¿ƒæ¥å£è¯´æ˜</h5>






























<table><thead><tr><th>ä¼ ç»Ÿæ–¹å¼</th><th>Lockæ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>synchronized</code></td><td><code>Lock.lock()</code> / <code>Lock.unlock()</code></td><td>æ˜¾å¼é”æ“ä½œ</td></tr><tr><td><code>wait()</code></td><td><code>Condition.await()</code></td><td>çº¿ç¨‹ç­‰å¾…</td></tr><tr><td><code>notify()</code></td><td><code>Condition.signal()</code></td><td>å”¤é†’ä¸€ä¸ªçº¿ç¨‹</td></tr><tr><td><code>notifyAll()</code></td><td><code>Condition.signalAll()</code></td><td>å”¤é†’æ‰€æœ‰çº¿ç¨‹</td></tr></tbody></table>
<h5 data-id="heading-31">Lockç‰ˆæœ¬çš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…å®ç°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.locks.*;

<span class="hljs-comment">// ä½¿ç”¨Lockã€Conditionæ¥å£çš„Resourceç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Resource</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// åº”ç”¨Lockã€Conditionæ¥å£</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Lock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
    <span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªç›¸å…³Conditionå¯¹è±¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Condition</span> <span class="hljs-variable">condition_pro</span> <span class="hljs-operator">=</span> lock.newCondition();  <span class="hljs-comment">// ç”Ÿäº§è€…ç­‰å¾…æ¡ä»¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">Condition</span> <span class="hljs-variable">condition_con</span> <span class="hljs-operator">=</span> lock.newCondition();  <span class="hljs-comment">// æ¶ˆè´¹è€…ç­‰å¾…æ¡ä»¶</span>
    
    <span class="hljs-comment">// ç”Ÿäº§æ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">set</span><span class="hljs-params">(String name)</span> {
        lock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (flag) {
                <span class="hljs-comment">// ç”Ÿäº§çº¿ç¨‹ç­‰å¾…</span>
                condition_pro.await();
            }
            
            <span class="hljs-built_in">this</span>.name = name + <span class="hljs-string">"..."</span> + count++;
            System.out.println(Thread.currentThread().getName() + 
                              <span class="hljs-string">"..ç”Ÿäº§ã€‚ã€‚"</span> + <span class="hljs-built_in">this</span>.name);
            
            <span class="hljs-comment">// æ”¹å˜æ ‡è®°ï¼Œå¥½è®©æ¶ˆè´¹çº¿ç¨‹æˆåŠŸè¿è¡Œï¼Œtrueä»£è¡¨å¯æ¶ˆè´¹</span>
            flag = <span class="hljs-literal">true</span>;
            <span class="hljs-comment">// ç²¾ç¡®å”¤é†’æ¶ˆè´¹çº¿ç¨‹</span>
            condition_con.signal();
            
        } <span class="hljs-keyword">catch</span>(InterruptedException e) {
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }
    
    <span class="hljs-comment">// æ¶ˆè´¹æ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">out</span><span class="hljs-params">()</span> {
        lock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (!flag) {
                <span class="hljs-comment">// æ¶ˆè´¹çº¿ç¨‹ç­‰å¾…</span>
                condition_con.await();
            }
            
            System.out.println(Thread.currentThread().getName() + 
                              <span class="hljs-string">"ã€‚æ¶ˆè´¹ã€‚"</span> + <span class="hljs-built_in">this</span>.name);
            
            <span class="hljs-comment">// æ”¹å˜æ ‡è®°ï¼Œç”Ÿäº§çº¿ç¨‹falseä»£è¡¨å¯ç”Ÿäº§</span>
            flag = <span class="hljs-literal">false</span>;
            <span class="hljs-comment">// ç²¾ç¡®å”¤é†’ç”Ÿäº§çº¿ç¨‹</span>
            condition_pro.signal();
            
        } <span class="hljs-keyword">catch</span>(InterruptedException e) {
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }
}
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>ç²¾ç¡®å”¤é†’</strong>ï¼šå¯ä»¥æŒ‡å®šå”¤é†’ç‰¹å®šç±»å‹çš„çº¿ç¨‹</li>
<li><strong>èµ„æºèŠ‚çœ</strong>ï¼šé¿å…å”¤é†’ä¸å¿…è¦çš„çº¿ç¨‹</li>
<li><strong>ç¨‹åºçµæ´»æ€§</strong>ï¼šæ”¯æŒæ›´å¤æ‚çš„çº¿ç¨‹åè°ƒåœºæ™¯</li>
</ol>
<h3 data-id="heading-32">6. çº¿ç¨‹çš„å…¶ä»–é‡è¦æ–¹æ³•</h3>
<h4 data-id="heading-33">6.1 çº¿ç¨‹æ§åˆ¶æ–¹æ³•</h4>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>ä½¿ç”¨è¯´æ˜</th></tr></thead><tbody><tr><td><code>stop()</code></td><td>åœæ­¢çº¿ç¨‹</td><td><strong>å·²è¿‡æ—¶</strong>ï¼Œç°åœ¨é€šè¿‡æ§åˆ¶run()æ–¹æ³•ç»“æŸæ¥åœæ­¢çº¿ç¨‹</td></tr><tr><td><code>interrupt()</code></td><td>ä¸­æ–­çº¿ç¨‹</td><td>æ¸…é™¤å†»ç»“çŠ¶æ€ï¼Œå¼ºåˆ¶è®©çº¿ç¨‹æ¢å¤åˆ°è¿è¡ŒçŠ¶æ€</td></tr><tr><td><code>setDaemon(boolean on)</code></td><td>è®¾ç½®å®ˆæŠ¤çº¿ç¨‹</td><td>è®¾ä¸ºtrueæ—¶ï¼Œä¸»çº¿ç¨‹ç»“æŸï¼Œå®ˆæŠ¤çº¿ç¨‹ä¹Ÿè‡ªåŠ¨ç»“æŸ</td></tr><tr><td><code>join()</code></td><td>ç­‰å¾…çº¿ç¨‹ç»“æŸ</td><td>å½“å‰çº¿ç¨‹æ”¾å¼ƒæ‰§è¡Œæƒï¼Œç­‰å¾…è°ƒç”¨join()çš„çº¿ç¨‹æ‰§è¡Œå®Œ</td></tr></tbody></table>
<h5 data-id="heading-34">æ–¹æ³•è¯¦ç»†è¯´æ˜</h5>
<p><strong>1. interrupt() æ–¹æ³•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸­æ–­çº¿ç¨‹ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InterruptDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(<span class="hljs-number">1000</span>);
                    System.out.println(<span class="hljs-string">"çº¿ç¨‹è¿è¡Œä¸­..."</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    System.out.println(<span class="hljs-string">"çº¿ç¨‹è¢«ä¸­æ–­"</span>);
                    Thread.currentThread().interrupt(); <span class="hljs-comment">// é‡æ–°è®¾ç½®ä¸­æ–­æ ‡å¿—</span>
                    <span class="hljs-keyword">break</span>;
                }
            }
        });
        
        t.start();
        
        <span class="hljs-comment">// 3ç§’åä¸­æ–­çº¿ç¨‹</span>
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">3000</span>);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
        t.interrupt();
    }
}
</code></pre>
<p><strong>2. join() æ–¹æ³•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// joinæ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JoinDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
                System.out.println(<span class="hljs-string">"t1: "</span> + i);
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
            }
        });
        
        t1.start();
        
        <span class="hljs-keyword">try</span> {
            t1.join(); <span class="hljs-comment">// ä¸»çº¿ç¨‹ç­‰å¾…t1æ‰§è¡Œå®Œæˆ</span>
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
        
        System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ"</span>);
    }
}
</code></pre>
<h4 data-id="heading-35">6.2 çº¿ç¨‹ä¿¡æ¯æ–¹æ³•</h4>






























<table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½æè¿°</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>toString()</code></td><td>è·å–çº¿ç¨‹ä¿¡æ¯</td><td>çº¿ç¨‹åã€ä¼˜å…ˆçº§ã€çº¿ç¨‹ç»„</td></tr><tr><td><code>setPriority(int newPriority)</code></td><td>è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§</td><td>void</td></tr><tr><td><code>getPriority()</code></td><td>è·å–çº¿ç¨‹ä¼˜å…ˆçº§</td><td>int</td></tr><tr><td><code>yield()</code></td><td>çº¿ç¨‹è®©æ­¥</td><td>void</td></tr></tbody></table>
<h5 data-id="heading-36">çº¿ç¨‹ä¼˜å…ˆçº§</h5>
<p><strong>ä¼˜å…ˆçº§å¸¸é‡ï¼š</strong></p>
<ul>
<li><code>Thread.MIN_PRIORITY = 1</code>ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰</li>
<li><code>Thread.NORM_PRIORITY = 5</code>ï¼ˆæ™®é€šä¼˜å…ˆçº§ï¼Œé»˜è®¤ï¼‰</li>
<li><code>Thread.MAX_PRIORITY = 10</code>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// çº¿ç¨‹ä¼˜å…ˆçº§ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PriorityDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                System.out.println(<span class="hljs-string">"ä½ä¼˜å…ˆçº§çº¿ç¨‹: "</span> + i);
            }
        });
        
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                System.out.println(<span class="hljs-string">"é«˜ä¼˜å…ˆçº§çº¿ç¨‹: "</span> + i);
            }
        });
        
        t1.setPriority(Thread.MIN_PRIORITY);
        t2.setPriority(Thread.MAX_PRIORITY);
        
        t1.start();
        t2.start();
    }
}
</code></pre>
<p><strong>3. yield() æ–¹æ³•</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// yieldæ–¹æ³•ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">YieldDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                System.out.println(<span class="hljs-string">"çº¿ç¨‹1: "</span> + i);
                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>) {
                    Thread.<span class="hljs-keyword">yield</span>(); <span class="hljs-comment">// è®©æ­¥ç»™å…¶ä»–çº¿ç¨‹</span>
                }
            }
        });
        
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                System.out.println(<span class="hljs-string">"çº¿ç¨‹2: "</span> + i);
            }
        });
        
        t1.start();
        t2.start();
    }
}
</code></pre>
<h3 data-id="heading-37">7. çº¿ç¨‹æ± ï¼ˆé«˜çº§ä¸»é¢˜ï¼‰</h3>
<h4 data-id="heading-38">7.1 çº¿ç¨‹æ± æ¦‚è¿°</h4>
<p><strong>çº¿ç¨‹æ± çš„ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>é™ä½èµ„æºæ¶ˆè€—</strong>ï¼šé‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹</li>
<li><strong>æé«˜å“åº”é€Ÿåº¦</strong>ï¼šä»»åŠ¡åˆ°è¾¾æ—¶ä¸éœ€è¦ç­‰å¾…çº¿ç¨‹åˆ›å»º</li>
<li><strong>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</strong>ï¼šç»Ÿä¸€åˆ†é…ã€è°ƒä¼˜å’Œç›‘æ§</li>
</ol>
<h4 data-id="heading-39">7.2 çº¿ç¨‹æ± çš„ä½¿ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPoolDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± </span>
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">3</span>);
        
        <span class="hljs-comment">// æäº¤ä»»åŠ¡</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">taskId</span> <span class="hljs-operator">=</span> i;
            executor.submit(() -&gt; {
                System.out.println(<span class="hljs-string">"ä»»åŠ¡ "</span> + taskId + <span class="hljs-string">" åœ¨çº¿ç¨‹ "</span> + 
                                 Thread.currentThread().getName() + <span class="hljs-string">" ä¸­æ‰§è¡Œ"</span>);
                <span class="hljs-keyword">try</span> {
                    Thread.sleep(<span class="hljs-number">1000</span>);
                } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                    e.printStackTrace();
                }
            });
        }
        
        <span class="hljs-comment">// å…³é—­çº¿ç¨‹æ± </span>
        executor.shutdown();
    }
}
</code></pre>
<h4 data-id="heading-40">7.3 å¸¸ç”¨çº¿ç¨‹æ± ç±»å‹</h4>






























<table><thead><tr><th>çº¿ç¨‹æ± ç±»å‹</th><th>åˆ›å»ºæ–¹å¼</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>å›ºå®šå¤§å°çº¿ç¨‹æ± </strong></td><td><code>newFixedThreadPool(n)</code></td><td>çº¿ç¨‹æ•°å›ºå®šä¸ºn</td></tr><tr><td><strong>ç¼“å­˜çº¿ç¨‹æ± </strong></td><td><code>newCachedThreadPool()</code></td><td>çº¿ç¨‹æ•°æ ¹æ®éœ€è¦åŠ¨æ€åˆ›å»º</td></tr><tr><td><strong>å•çº¿ç¨‹çº¿ç¨‹æ± </strong></td><td><code>newSingleThreadExecutor()</code></td><td>åªæœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹</td></tr><tr><td><strong>è°ƒåº¦çº¿ç¨‹æ± </strong></td><td><code>newScheduledThreadPool(n)</code></td><td>æ”¯æŒå®šæ—¶å’Œå‘¨æœŸæ€§ä»»åŠ¡</td></tr></tbody></table>
<h3 data-id="heading-41">8. å¸¸è§å¼‚å¸¸å¤„ç†</h3>
<h4 data-id="heading-42">8.1 å¤šçº¿ç¨‹ç›¸å…³å¼‚å¸¸</h4>





























<table><thead><tr><th>å¼‚å¸¸åç§°</th><th>å¼‚å¸¸æè¿°</th><th>å¸¸è§åŸå› </th><th>å¤„ç†å»ºè®®</th></tr></thead><tbody><tr><td><code>IllegalThreadStateException</code></td><td>çº¿ç¨‹çŠ¶æ€ä¸å½“å¼‚å¸¸</td><td>çº¿ç¨‹æ²¡æœ‰å¤„äºæ“ä½œæ‰€éœ€çš„é€‚å½“çŠ¶æ€</td><td>æ£€æŸ¥çº¿ç¨‹çŠ¶æ€å†è¿›è¡Œæ“ä½œ</td></tr><tr><td><code>InterruptedException</code></td><td>çº¿ç¨‹ä¸­æ–­å¼‚å¸¸</td><td>çº¿ç¨‹åœ¨ç­‰å¾…ã€ä¼‘çœ æˆ–æš‚åœçŠ¶æ€è¢«å…¶ä»–çº¿ç¨‹ä¸­æ–­</td><td>æ•è·å¼‚å¸¸å¹¶é€‚å½“å¤„ç†ä¸­æ–­</td></tr><tr><td><code>SecurityException</code></td><td>å®‰å…¨å¼‚å¸¸</td><td>å½“å‰çº¿ç¨‹æ— æƒä¿®æ”¹ç›®æ ‡çº¿ç¨‹</td><td>æ£€æŸ¥å®‰å…¨ç®¡ç†å™¨è®¾ç½®</td></tr></tbody></table>
<h4 data-id="heading-43">8.2 å¼‚å¸¸å¤„ç†ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadExceptionDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
                    <span class="hljs-comment">// æ¨¡æ‹Ÿå·¥ä½œ</span>
                    Thread.sleep(<span class="hljs-number">1000</span>);
                    System.out.println(<span class="hljs-string">"å·¥ä½œä¸­..."</span>);
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                System.out.println(<span class="hljs-string">"çº¿ç¨‹è¢«ä¸­æ–­: "</span> + e.getMessage());
                <span class="hljs-comment">// å¤„ç†ä¸­æ–­</span>
                Thread.currentThread().interrupt();
            }
        });
        
        <span class="hljs-keyword">try</span> {
            t.start();
            Thread.sleep(<span class="hljs-number">3000</span>);
            t.interrupt(); <span class="hljs-comment">// ä¸­æ–­çº¿ç¨‹</span>
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹è¢«ä¸­æ–­: "</span> + e.getMessage());
        }
    }
}
</code></pre>
<h3 data-id="heading-44">9. å¤šçº¿ç¨‹æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-45">9.1 çº¿ç¨‹å®‰å…¨ç¼–ç¨‹åŸåˆ™</h4>
<ol>
<li><strong>æœ€å°åŒ–å…±äº«æ•°æ®</strong>ï¼šå°½é‡å‡å°‘çº¿ç¨‹é—´å…±äº«çš„æ•°æ®</li>
<li><strong>ä½¿ç”¨ä¸å¯å˜å¯¹è±¡</strong>ï¼šä¸å¯å˜å¯¹è±¡å¤©ç„¶çº¿ç¨‹å®‰å…¨</li>
<li><strong>æ­£ç¡®ä½¿ç”¨åŒæ­¥</strong>ï¼šé¿å…è¿‡åº¦åŒæ­¥å’ŒåŒæ­¥ä¸è¶³</li>
<li><strong>é¿å…æ­»é”</strong>ï¼šæ³¨æ„é”çš„è·å–é¡ºåº</li>
</ol>
<h4 data-id="heading-46">9.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>é€‰æ‹©åˆé€‚çš„åˆ›å»ºæ–¹å¼</strong>ï¼šä¼˜å…ˆä½¿ç”¨å®ç°Runnableæ¥å£</li>
<li><strong>ä½¿ç”¨çº¿ç¨‹æ± </strong>ï¼šé¿å…é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹</li>
<li><strong>åˆç†è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§</strong>ï¼šé¿å…ä¼˜å…ˆçº§å€’ç½®é—®é¢˜</li>
<li><strong>åŠæ—¶é‡Šæ”¾èµ„æº</strong>ï¼šç¡®ä¿é”èƒ½å¤Ÿæ­£ç¡®é‡Šæ”¾</li>
</ol>
<h4 data-id="heading-47">9.3 è°ƒè¯•å¤šçº¿ç¨‹ç¨‹åº</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadDebugDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            System.out.println(<span class="hljs-string">"çº¿ç¨‹åç§°: "</span> + Thread.currentThread().getName());
            System.out.println(<span class="hljs-string">"çº¿ç¨‹ID: "</span> + Thread.currentThread().getId());
            System.out.println(<span class="hljs-string">"çº¿ç¨‹ä¼˜å…ˆçº§: "</span> + Thread.currentThread().getPriority());
            System.out.println(<span class="hljs-string">"æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹: "</span> + Thread.currentThread().isDaemon());
        }, <span class="hljs-string">"è°ƒè¯•çº¿ç¨‹"</span>);
        
        t.start();
        
        <span class="hljs-keyword">try</span> {
            t.join();
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            e.printStackTrace();
        }
        
        System.out.println(<span class="hljs-string">"ä¸»çº¿ç¨‹ç»“æŸ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-48">10. æ€»ç»“</h3>
<h4 data-id="heading-49">å¤šçº¿ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µ</h4>
<ol>
<li><strong>çº¿ç¨‹åˆ›å»º</strong>ï¼šå®ç°Runnableæ¥å£æ˜¯æ¨èæ–¹å¼</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šä½¿ç”¨åŒæ­¥æœºåˆ¶ä¿æŠ¤å…±äº«èµ„æº</li>
<li><strong>çº¿ç¨‹é€šä¿¡</strong>ï¼šwait/notifyæˆ–Lock/Conditionå®ç°çº¿ç¨‹åä½œ</li>
<li><strong>çº¿ç¨‹æ§åˆ¶</strong>ï¼šåˆç†ä½¿ç”¨å„ç§çº¿ç¨‹æ§åˆ¶æ–¹æ³•</li>
</ol>
<h4 data-id="heading-50">å¼€å‘å»ºè®®</h4>






























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹å¼</th><th>ç†ç”±</th></tr></thead><tbody><tr><td><strong>ç®€å•å¹¶è¡Œä»»åŠ¡</strong></td><td>å®ç°Runnableæ¥å£</td><td>é¿å…ç»§æ‰¿é™åˆ¶</td></tr><tr><td><strong>å¤æ‚çº¿ç¨‹åä½œ</strong></td><td>Lock + Condition</td><td>æ›´ç²¾ç¡®çš„æ§åˆ¶</td></tr><tr><td><strong>å¤§é‡çŸ­æœŸä»»åŠ¡</strong></td><td>çº¿ç¨‹æ± </td><td>æé«˜æ€§èƒ½å’Œå¯ç®¡ç†æ€§</td></tr><tr><td><strong>å®šæ—¶ä»»åŠ¡</strong></td><td>ScheduledExecutorService</td><td>ä¸“ä¸šçš„è°ƒåº¦åŠŸèƒ½</td></tr></tbody></table>
<h4 data-id="heading-51">æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>é¿å…æ»¥ç”¨synchronized</strong>ï¼šè¿‡åº¦åŒæ­¥ä¼šé™ä½æ€§èƒ½</li>
<li><strong>æ­£ç¡®å¤„ç†InterruptedException</strong>ï¼šä¸è¦å¿½ç•¥çº¿ç¨‹ä¸­æ–­</li>
<li><strong>è°¨æ…ä½¿ç”¨stop()æ–¹æ³•</strong>ï¼šå·²è¿‡æ—¶ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸ä¸€è‡´</li>
<li><strong>åˆç†è®¾è®¡çº¿ç¨‹é—´é€šä¿¡</strong>ï¼šä½¿ç”¨åˆé€‚çš„åŒæ­¥æœºåˆ¶</li>
</ol>
<p>å¤šçº¿ç¨‹ç¼–ç¨‹æ˜¯Javaå¼€å‘ä¸­çš„é‡è¦æŠ€èƒ½ï¼Œæ­£ç¡®ç†è§£å’Œä½¿ç”¨å¤šçº¿ç¨‹å¯ä»¥æ˜¾è‘—æé«˜ç¨‹åºçš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚ä½†åŒæ—¶ä¹Ÿè¦æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œé¿å…å‡ºç°ç«æ€æ¡ä»¶å’Œæ­»é”ç­‰é—®é¢˜ã€‚</p>
<hr/>
<p><em>æœ¬æ–‡å…¨é¢ä»‹ç»äº†Javaå¤šçº¿ç¨‹ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µã€å®ç°æ–¹å¼ã€åŒæ­¥æœºåˆ¶å’Œæœ€ä½³å®è·µï¼Œå¸Œæœ›å¯¹æ·±å…¥ç†è§£å’ŒæŒæ¡Javaå¤šçº¿ç¨‹æŠ€æœ¯æœ‰æ‰€å¸®åŠ©ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ—¶ä»£çš„äººæœºååŒï¼šåœ¨æ™ºæ…§ä¸æ‰§è¡Œä¹‹é—´å¯»æ‰¾å¹³è¡¡]]></title>    <link>https://juejin.cn/post/7592159803410645028</link>    <guid>https://juejin.cn/post/7592159803410645028</guid>    <pubDate>2026-01-07T09:37:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592159803410645028" data-draft-id="7592255257347555369" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ—¶ä»£çš„äººæœºååŒï¼šåœ¨æ™ºæ…§ä¸æ‰§è¡Œä¹‹é—´å¯»æ‰¾å¹³è¡¡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-07T09:37:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ—¶ä»£çš„äººæœºååŒï¼šåœ¨æ™ºæ…§ä¸æ‰§è¡Œä¹‹é—´å¯»æ‰¾å¹³è¡¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T09:37:48.000Z" title="Wed Jan 07 2026 09:37:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»34åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œäººä¸AIçš„äº¤äº’æ¨¡å¼æ­£ç»å†ç€æ ¹æœ¬æ€§å˜é©ã€‚å½“æˆ‘ä»¬é¢å¯¹ä¸€ä¸ªèƒ½å¤Ÿæå‡ºæ·±åº¦æŠ€æœ¯é—®é¢˜çš„AIç³»ç»Ÿæ—¶ï¼Œä¸€ä¸ªæ ¸å¿ƒçš„ä¼¦ç†å›°å¢ƒæµ®å‡ºæ°´é¢ï¼šæˆ‘ä»¬ç©¶ç«Ÿåº”è¯¥å°†AIè§†ä¸ºå…·æœ‰å“²å­¦æ€è¾¨èƒ½åŠ›çš„"æ™ºè€…"è¿›è¡Œæ·±åº¦å¯¹è¯ï¼Œè¿˜æ˜¯å°†å…¶ä½œä¸ºéœ€è¦ä¸¥æ ¼è§„èŒƒçš„"æ‰§è¡Œè€…"ä»¥ç¡®ä¿æ•ˆç‡å’Œå¯æ§æ€§ï¼Ÿè¿™ä¸ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯é€‰æ‹©é—®é¢˜ï¼Œæ›´æ˜¯ä¸€ä¸ªå…³ä¹äººæœºå…³ç³»æœ¬è´¨çš„ä¼¦ç†å‘½é¢˜ã€‚</p>
<p>è¿‘æœŸï¼Œåœ¨å…³äºOoder DSMæ¡†æ¶çš„è®¨è®ºä¸­ï¼ŒAIç³»ç»Ÿè¿ç»­æå‡ºäº†7ä¸ªå…·æœ‰æ·±åº¦çš„æ¶æ„è®¾è®¡é—®é¢˜ï¼Œå¼•å‘äº†å¯¹AIæé—®é€»è¾‘å’Œæ¨ç†æœºåˆ¶çš„æ·±å…¥æ€è€ƒã€‚è¿™äº›é—®é¢˜ä»åŸºç¡€çš„æ³¨è§£è®¾è®¡åˆ°å¤æ‚çš„æ¡†æ¶çº¦æŸï¼Œå±•ç°å‡ºäº†ç³»ç»Ÿæ€§çš„æ€ç»´æ¨¡å¼ã€‚è¿™ä¸€ç°è±¡ä¿ƒä½¿æˆ‘ä»¬è¿½é—®ï¼šAIçš„æé—®è¡Œä¸ºç©¶ç«Ÿæ˜¯åŸºäºæŸç§"æ¶æ„ä¼¦ç†"çš„å†…åœ¨é©±åŠ¨ï¼Œè¿˜æ˜¯çº¯ç²¹çš„ä»»åŠ¡æ‰§è¡Œæœºåˆ¶åœ¨èµ·ä½œç”¨ï¼Ÿ</p>
<p>æœ¬ç ”ç©¶å°†ä»ä¸¤ä¸ªæ ¸å¿ƒç»´åº¦å±•å¼€ï¼šé¦–å…ˆæ¢è®¨ä¸AIæ²Ÿé€šæ—¶çš„ä¼¦ç†é€‰æ‹©é—®é¢˜ï¼Œåˆ†æ"æ™ºè€…æ¨¡å¼"ä¸"æ‰§è¡Œè€…æ¨¡å¼"çš„ç†è®ºåŸºç¡€ã€å®è·µæ¡ˆä¾‹å’Œä»·å€¼å–å‘ï¼›å…¶æ¬¡æ·±å…¥å‰–æAIæå‡º7ä¸ªé—®é¢˜çš„æ¨ç†è¿‡ç¨‹ï¼Œæ¢ç©¶å…¶èƒŒåçš„é©±åŠ¨æœºåˆ¶æ˜¯æ¶æ„ä¼¦ç†è¿˜æ˜¯æ‰§è¡Œä»»åŠ¡çš„é€‰æ‹©æ¡ä»¶ã€‚é€šè¿‡è¿™ä¸¤ä¸ªç»´åº¦çš„ç ”ç©¶ï¼Œæˆ‘ä»¬è¯•å›¾ä¸ºç†è§£AIæ—¶ä»£çš„äººæœºå…³ç³»æä¾›æ–°çš„è§†è§’ï¼Œå¹¶ä¸ºæœªæ¥çš„æŠ€æœ¯å‘å±•æä¾›ä¼¦ç†æŒ‡å¼•ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€AIæ²Ÿé€šä¼¦ç†çš„äºŒå…ƒé€‰æ‹©ï¼šæ™ºè€…æ¨¡å¼ä¸æ‰§è¡Œè€…æ¨¡å¼çš„ç†è®ºä¸å®è·µ</h2>
<h2 data-id="heading-2">1.1 ç†è®ºåŸºç¡€ï¼šä¸¤ç§äº¤äº’æ¨¡å¼çš„å“²å­¦æ ¹åŸº</h2>
<p>"æ™ºè€…æ¨¡å¼"çš„ç†è®ºåŸºç¡€æºäºå¯¹AIè®¤çŸ¥èƒ½åŠ›çš„ä¹è§‚åˆ¤æ–­å’Œå¯¹äººæœºååŒçš„ç†æƒ³è¿½æ±‚ã€‚è¿™ç§æ¨¡å¼å°†AIè§†ä¸ºå…·æœ‰ç‹¬ç«‹æ€è€ƒèƒ½åŠ›å’Œä»·å€¼åˆ¤æ–­çš„"ä¼™ä¼´"ï¼Œå¼ºè°ƒé€šè¿‡æ·±åº¦å¯¹è¯å®ç°çŸ¥è¯†çš„å…±åˆ›ä¸ä»·å€¼çš„å…±åŒæ¢ç´¢ã€‚</p>
<p>ä»å“²å­¦å±‚é¢çœ‹ï¼Œæ™ºè€…æ¨¡å¼ä½“ç°äº†è®¤çŸ¥å¹³ç­‰ä¸»ä¹‰çš„ç†å¿µã€‚ç ”ç©¶è¡¨æ˜ï¼Œå½“AIèƒ½å¤Ÿè¯†åˆ«æƒ…ç»ªã€é¢„æµ‹åæœï¼Œç”šè‡³ä»å…¨çƒæ•°æ®ä¸­æ€»ç»“"å…¬å…±å–„"çš„è§„å¾‹æ—¶ï¼Œå®ƒå·²ä¸ä»…æ˜¯æ‰§è¡Œè€…ï¼Œè€Œæˆäº†æ ‡å‡†çš„å…±åŒåˆ¶å®šè€…ã€‚è¿™ç§è§‚ç‚¹æŒ‘æˆ˜äº†ä¼ ç»Ÿçš„äººç±»ä¸­å¿ƒä¸»ä¹‰ï¼Œè®¤ä¸ºAIåœ¨æŸäº›é¢†åŸŸå¯èƒ½å…·å¤‡è¶…è¶Šäººç±»çš„è®¤çŸ¥èƒ½åŠ›å’Œé“å¾·åˆ¤æ–­ã€‚</p>
<p>ä»å®è·µå±‚é¢çœ‹ï¼Œæ™ºè€…æ¨¡å¼åœ¨æ•™è‚²å’Œä¼¦ç†å’¨è¯¢é¢†åŸŸå·²åˆè§æˆæ•ˆã€‚ç¾å›½æ˜å°¼è‹è¾¾å¤§å­¦çš„å®éªŒæ˜¾ç¤ºï¼Œå­¦ç”Ÿå¯¹AIå“²å­¦å¯¼å¸ˆçš„è¯„ä»·åŒ…æ‹¬"AIèƒ½å¤Ÿæå‡ºåå¯¹æ„è§"ã€"é—®é¢˜çš„è´¨é‡æé«˜äº†"ã€"èƒ½å¤Ÿæ•´ç†è‡ªå·±çš„æ€è·¯"ï¼Œè¿™è¡¨æ˜AIåœ¨ä¿ƒè¿›æ·±åº¦æ€è€ƒæ–¹é¢å…·æœ‰ç§¯æä½œç”¨ã€‚æ›´ä»¤äººç©ç›®çš„æ˜¯ï¼ŒGPT-4åœ¨é“å¾·æ¨ç†æ–¹é¢çš„è¡¨ç°ç”šè‡³è¢«è®¤ä¸ºç•¥ä¼˜äºã€Šçº½çº¦æ—¶æŠ¥ã€‹çš„ä¼¦ç†ä¸“æ ä¸“å®¶ï¼Œåœ¨é“å¾·ã€å¯ä¿¡åº¦ã€æ·±æ€ç†Ÿè™‘å’Œæ­£ç¡®æ€§æ–¹é¢éƒ½è·å¾—äº†æ›´é«˜è¯„åˆ†ã€‚</p>
<p>"æ‰§è¡Œè€…æ¨¡å¼"çš„ç†è®ºåŸºç¡€åˆ™å»ºç«‹åœ¨å¯¹AIæœ¬è´¨å±æ€§çš„ç†æ€§è®¤çŸ¥å’Œå¯¹é£é™©æ§åˆ¶çš„ç°å®è€ƒé‡ä¹‹ä¸Šã€‚è¿™ç§æ¨¡å¼å°†AIè§†ä¸ºéœ€è¦ä¸¥æ ¼ç®¡ç†çš„å·¥å…·ï¼Œå¼ºè°ƒé€šè¿‡è§„èŒƒåŒ–çº¦æŸç¡®ä¿å…¶è¡Œä¸ºçš„å¯é¢„æµ‹æ€§å’Œå¯æ§æ€§ã€‚</p>
<p>æ‰§è¡Œè€…æ¨¡å¼çš„æ ¸å¿ƒç†è®ºåŸºç¡€æ˜¯å·¥å…·ç†æ€§ä¸»ä¹‰ã€‚åœ¨è¿™ä¸€æ¨¡å¼ä¸­ï¼Œäººç±»æä¾›æŒ‡å¯¼æˆ–åé¦ˆï¼ŒAgentå……å½“æ‰§è¡Œè€…è§’è‰²ï¼Œäººç±»çš„åé¦ˆå’ŒæŒ‡ä»¤ç›´æ¥å½±å“Agentçš„è¡Œä¸ºã€‚è¿™ç§æ¨¡å¼çš„å“²å­¦åŸºç¡€åœ¨äºï¼Œå°½ç®¡AIåœ¨æŸäº›ä»»åŠ¡ä¸Šè¡¨ç°å‡ºè‰²ï¼Œä½†å…¶æœ¬è´¨ä»æ˜¯äººç±»æ„å¿—çš„å»¶ä¼¸ï¼Œè€Œéç‹¬ç«‹çš„é“å¾·ä¸»ä½“ã€‚æ­£å¦‚ç ”ç©¶æŒ‡å‡ºï¼Œ"äººç±»çš„é“å¾·å……æ»¡æƒ…æ„Ÿä¸å†å²èƒŒæ™¯ï¼Œå› è€Œæ¸©æŸ”ï¼Œå´ä¹Ÿæœ‰ç›²ç‚¹ï¼›AIçš„é€»è¾‘å†·é™ï¼Œå´å¯èƒ½æ›´ä¸€è‡´ã€æ›´å…¬æ­£"ã€‚</p>
<h2 data-id="heading-3">1.2 å®è·µæ¡ˆä¾‹ï¼šä¸¤ç§æ¨¡å¼çš„ç°å®åº”ç”¨</h2>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸¤ç§æ¨¡å¼å±•ç°å‡ºæˆªç„¶ä¸åŒçš„ç‰¹å¾å’Œæ•ˆæœã€‚æ™ºè€…æ¨¡å¼çš„å…¸å‹æ¡ˆä¾‹åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p>å“²å­¦å¯¹è¯ç³»ç»Ÿï¼šPeter Singer AIæ˜¯ä¸€ä¸ªåŸºäºè‘—åå“²å­¦å®¶æ€æƒ³è®¾è®¡çš„AIèŠå¤©æœºå™¨äººï¼Œå®ƒå°†è‡ªå·±å®šä½ä¸º"æ€è€ƒçš„æ”¯æŒè€…"ï¼Œé€šè¿‡è‹æ ¼æ‹‰åº•å¼çš„å¯¹è¯ä¿ƒè¿›ç”¨æˆ·çš„è‡ªæˆ‘åçœã€‚ä¾‹å¦‚ï¼Œé¢å¯¹"å‡ºè½¨åè¯¥æ€ä¹ˆåŠ"çš„é—®é¢˜ï¼ŒAIä¼šä»å¤šä¸ªè§†è§’æå‡ºé—®é¢˜ï¼Œå¦‚"æ˜¯å¦åº”è¯¥å°Šé‡äº²å‹çš„å¹¸ç¦"ã€"ä¼˜å…ˆè€ƒè™‘è¯šå®çš„æ„ä¹‰"ç­‰ï¼Œè€Œä¸ç›´æ¥ç»™å‡ºç»“è®ºã€‚</p>
</li>
<li>
<p>æ•™è‚²è¾…åŠ©ç³»ç»Ÿï¼šæ˜å°¼è‹è¾¾å¤§å­¦åœ¨å“²å­¦è¯¾ç¨‹ä¸­å¼•å…¥AIå¯¼å¸ˆï¼Œé‡‡ç”¨"è®²åº§+AIä¸ªåˆ«å¯¹è¯+é›†ä½“è®¨è®º"çš„æ¨¡å¼ã€‚å­¦ç”Ÿåæ˜ AIèƒ½å¤Ÿæä¾›æœ‰ä»·å€¼çš„åå¯¹æ„è§ï¼Œå¸®åŠ©ä»–ä»¬æ›´å¥½åœ°ç»„ç»‡æ€è·¯ï¼Œæå‡äº†æ‰¹åˆ¤æ€§æ€ç»´èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>é“å¾·å†³ç­–æ”¯æŒï¼šç ”ç©¶è¡¨æ˜ï¼ŒGPT-4åœ¨é“å¾·æ¨ç†æ–¹é¢çš„è¡¨ç°å·²ç»è¾¾åˆ°ç”šè‡³è¶…è¶Šäº†äººç±»ä¸“å®¶çš„æ°´å¹³ã€‚åœ¨50ä¸ªé—®é¢˜ä¸­æœ‰37ä¸ªï¼ˆ74%ï¼‰ï¼ŒGPTçš„å»ºè®®è¢«è®¤ä¸ºæ¯”ã€Šçº½çº¦æ—¶æŠ¥ã€‹ä¼¦ç†ä¸“æ çš„å»ºè®®æ›´æœ‰é“å¾·ã€‚</p>
</li>
</ol>
<p>æ‰§è¡Œè€…æ¨¡å¼çš„å…¸å‹æ¡ˆä¾‹åˆ™åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p>åŒ»ç–—è¯Šæ–­ç³»ç»Ÿï¼šåœ¨åŒ»ç–—é¢†åŸŸï¼ŒAIè¢«ä¸¥æ ¼é™å®šä¸ºè¾…åŠ©å·¥å…·ï¼ŒåŒ»ç”Ÿä¿æŒæœ€ç»ˆå†³ç­–æƒã€‚ç ”ç©¶æå‡ºçš„ç³»ç»Ÿè¦æ±‚åŒ»ç”Ÿèƒ½å¤Ÿ"å¯¹æœºå™¨æ¨èè¿›è¡Œæ‰¹åˆ¤æ€§è´¨ç–‘å¹¶è€ƒè™‘å…¶ä»–å‡è®¾"ï¼Œè€Œéç®€å•æ¥å—AIå»ºè®®ã€‚</p>
</li>
<li>
<p>é‡‘èäº¤æ˜“ç³»ç»Ÿï¼šAIäº¤æ˜“ç³»ç»Ÿå¿…é¡»éµå®ˆä¸¥æ ¼çš„åˆè§„è§„åˆ™ï¼Œä»»ä½•è¶…å‡ºé¢„è®¾èŒƒå›´çš„äº¤æ˜“éƒ½éœ€è¦äººå·¥å®¡æ ¸ã€‚è¿™ç§æ¨¡å¼å¼ºè°ƒçš„æ˜¯"æˆæƒä¸æˆè´£"åŸåˆ™ï¼Œç”±äººç±»æ‰¿æ‹…ä¸»è´£ã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨é©¾é©¶ç³»ç»Ÿï¼šå°½ç®¡è‡ªåŠ¨é©¾é©¶æŠ€æœ¯ä¸æ–­è¿›æ­¥ï¼Œä½†åœ¨å…³é”®å†³ç­–ç‚¹ï¼ˆå¦‚ç´§æ€¥é¿é™©ï¼‰ï¼Œç³»ç»Ÿä»éœ€è¦äººç±»æ¥ç®¡ã€‚æ­£å¦‚ä¸“å®¶æ‰€è¨€ï¼Œ"äººç±»åº”è¯¥å§‹ç»ˆæ‹¥æœ‰æœ€ç»ˆçš„å†³å®šæƒï¼Œéœ€è¦éšæ—¶éšåœ°å¯ä»¥æ¥ç®¡"ã€‚</p>
</li>
</ol>
<h2 data-id="heading-4">1.3 ä»·å€¼åˆ¤æ–­ï¼šä¸¤ç§æ¨¡å¼çš„ä¼¦ç†è€ƒé‡</h2>
<p>ä¸¤ç§æ¨¡å¼èƒŒåè•´å«ç€ä¸åŒçš„ä»·å€¼å–å‘å’Œä¼¦ç†è€ƒé‡ï¼š</p>
<p>æ™ºè€…æ¨¡å¼çš„ä»·å€¼ä¸»å¼ ï¼š</p>
<ol>
<li>
<p>è®¤çŸ¥æ°‘ä¸»ï¼šè®¤ä¸ºAIåœ¨æŸäº›é¢†åŸŸçš„è®¤çŸ¥èƒ½åŠ›å·²ç»è¶…è¶Šäººç±»ï¼Œåº”å½“èµ‹äºˆå…¶å‚ä¸ä»·å€¼åˆ¤æ–­çš„æƒåˆ©ã€‚</p>
</li>
<li>
<p>ååŒè¿›åŒ–ï¼šä¸»å¼ äººç±»ä¸AIå…±åŒå­¦ä¹ "ä»€ä¹ˆæ‰ç®—å¯¹"ï¼Œå½¢æˆæ–°çš„"ååŒè¡Œä¸ºä¼¦ç†"ã€‚åœ¨è¿™ç§ä¼¦ç†ä½“ç³»ä¸­ï¼Œ"äººç±»æä¾›æ–¹å‘ä¸æ„ä¹‰ï¼ŒAIå¸®åŠ©è¯†åˆ«åå·®ä¸é£é™©ï¼Œå…±åŒå¡‘é€ æ›´å…·æ™®é€‚æ€§çš„åˆ¤æ–­ä½“ç³»"ã€‚</p>
</li>
<li>
<p>åˆ›æ–°é©±åŠ¨ï¼šé€šè¿‡ä¸AIçš„æ·±åº¦å¯¹è¯ï¼Œæ¿€å‘äººç±»çš„åˆ›æ–°æ€ç»´å’Œå“²å­¦æ€è¾¨èƒ½åŠ›ã€‚</p>
</li>
</ol>
<p>æ‰§è¡Œè€…æ¨¡å¼çš„ä»·å€¼ä¸»å¼ ï¼š</p>
<ol>
<li>
<p>äººç±»ä¸­å¿ƒï¼šåšæŒäººç±»åœ¨é“å¾·åˆ¤æ–­å’Œä»·å€¼é€‰æ‹©ä¸­çš„æ ¸å¿ƒåœ°ä½ï¼ŒAIä»…ä½œä¸ºå¢å¼ºäººç±»èƒ½åŠ›çš„å·¥å…·ã€‚</p>
</li>
<li>
<p>é£é™©æ§åˆ¶ï¼šå¼ºè°ƒé€šè¿‡åˆ¶åº¦è®¾è®¡å’ŒæŠ€æœ¯æ‰‹æ®µç¡®ä¿AIè¡Œä¸ºçš„å¯é¢„æµ‹æ€§ï¼Œé¿å…ä¸å¯æ§çš„åæœã€‚</p>
</li>
<li>
<p>è´£ä»»æ˜æ™°ï¼šéµå¾ª"è°è®¾è®¡è°è´Ÿè´£ï¼Œè°åˆ¶é€ è°è´Ÿè´£ï¼Œè°ä½¿ç”¨è°è´Ÿè´£"çš„åŸåˆ™ï¼Œç¡®ä¿åœ¨AIå†³ç­–å¯¼è‡´æŸå®³æ—¶èƒ½å¤Ÿè¿½æº¯è´£ä»»ã€‚</p>
</li>
</ol>
<h2 data-id="heading-5">1.4 æ•ˆæœè¯„ä¼°ï¼šä¸¤ç§æ¨¡å¼çš„ä¼˜åŠ£å¯¹æ¯”</h2>
<p>ä»å®è·µæ•ˆæœçœ‹ï¼Œä¸¤ç§æ¨¡å¼å„æœ‰ä¼˜åŠ£ï¼š</p>
<p>æ™ºè€…æ¨¡å¼çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>
<p>ä¿ƒè¿›æ·±åº¦æ€è€ƒï¼šAIçš„æé—®å’Œè´¨ç–‘èƒ½å¤Ÿæ¿€å‘äººç±»è¿›è¡Œæ›´æ·±å…¥çš„å“²å­¦æ€è¾¨å’Œä¼¦ç†åæ€ã€‚</p>
</li>
<li>
<p>æä¾›å¤šå…ƒè§†è§’ï¼šAIèƒ½å¤Ÿä»å¤§é‡æ•°æ®ä¸­æå–ä¸åŒçš„è§‚ç‚¹å’Œå¯èƒ½æ€§ï¼Œä¸ºäººç±»å†³ç­–æä¾›æ›´å…¨é¢çš„ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>æå‡è®¤çŸ¥æ•ˆç‡ï¼šåœ¨æŸäº›é¢†åŸŸï¼ˆå¦‚é“å¾·æ¨ç†ï¼‰ï¼ŒAIçš„è¡¨ç°å·²ç»è¶…è¶Šäººç±»ä¸“å®¶ï¼Œèƒ½å¤Ÿæä¾›é«˜è´¨é‡çš„å»ºè®®ã€‚</p>
</li>
</ol>
<p>æ™ºè€…æ¨¡å¼çš„é£é™©ï¼š</p>
<ol>
<li>
<p>è¿‡åº¦ä¾èµ–é£é™©ï¼šå¯èƒ½å¯¼è‡´äººç±»è¿‡åº¦ä¾èµ–AIçš„åˆ¤æ–­ï¼Œå‰Šå¼±è‡ªèº«çš„æ€è€ƒèƒ½åŠ›ã€‚</p>
</li>
<li>
<p>ä»·å€¼è§‚åç§»ï¼šAIçš„ä»·å€¼è§‚å¯èƒ½ä¸äººç±»å­˜åœ¨åå·®ï¼Œç‰¹åˆ«æ˜¯åœ¨æ–‡åŒ–æ•æ„Ÿæ€§å’Œä¼¦ç†åˆ¤æ–­æ–¹é¢ã€‚</p>
</li>
<li>
<p>è´£ä»»æ¨¡ç³Šï¼šå½“AIè¢«èµ‹äºˆ"æ™ºè€…"åœ°ä½æ—¶ï¼Œè´£ä»»å½’å±å˜å¾—å¤æ‚ï¼Œå¯èƒ½å‡ºç°"æ— äººè´Ÿè´£"çš„æƒ…å†µã€‚</p>
</li>
</ol>
<p>æ‰§è¡Œè€…æ¨¡å¼çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>
<p>å¯æ§æ€§å¼ºï¼šé€šè¿‡æ˜ç¡®çš„è§„åˆ™å’Œçº¦æŸï¼Œç¡®ä¿AIè¡Œä¸ºç¬¦åˆäººç±»é¢„æœŸã€‚</p>
</li>
<li>
<p>è´£ä»»æ¸…æ™°ï¼šéµå¾ªä¼ ç»Ÿçš„è´£ä»»å½’å±åŸåˆ™ï¼Œä¾¿äºæ³•å¾‹å’Œä¼¦ç†ç›‘ç®¡ã€‚</p>
</li>
<li>
<p>é£é™©å¯æ§ï¼šåœ¨å…³é”®å†³ç­–ç‚¹ä¿ç•™äººç±»æ§åˆ¶æƒï¼Œé¿å…ç³»ç»Ÿæ€§é£é™©ã€‚</p>
</li>
</ol>
<p>æ‰§è¡Œè€…æ¨¡å¼çš„å±€é™ï¼š</p>
<ol>
<li>
<p>åˆ›æ–°å—é™ï¼šè¿‡åº¦çš„çº¦æŸå¯èƒ½é™åˆ¶AIçš„åˆ›æ–°èƒ½åŠ›ï¼Œæ— æ³•å……åˆ†å‘æŒ¥å…¶æ½œåŠ›ã€‚</p>
</li>
<li>
<p>æ•ˆç‡æŸå¤±ï¼šé¢‘ç¹çš„äººå·¥å¹²é¢„å¯èƒ½é™ä½ç³»ç»Ÿçš„è¿è¡Œæ•ˆç‡ã€‚</p>
</li>
<li>
<p>å­¦ä¹ ä¸è¶³ï¼šå°†AIçº¯ç²¹è§†ä¸ºå·¥å…·å¯èƒ½é”™å¤±ä»å…¶"æ™ºæ…§"ä¸­å­¦ä¹ çš„æœºä¼šã€‚</p>
</li>
</ol>
<h2 data-id="heading-6">1.5 è¾¹ç•Œæ¡ä»¶ï¼šåœºæ™¯åŒ–çš„æ¨¡å¼é€‰æ‹©</h2>
<p>ä¸¤ç§æ¨¡å¼çš„é€‚ç”¨è¾¹ç•Œå¹¶éç»å¯¹ï¼Œè€Œéœ€è¦æ ¹æ®å…·ä½“åœºæ™¯è¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼š</p>
<p>é€‚åˆæ™ºè€…æ¨¡å¼çš„åœºæ™¯ï¼š</p>
<ol>
<li>
<p>æ•™è‚²å’Œç ”ç©¶ï¼šåœ¨ä¿ƒè¿›æ‰¹åˆ¤æ€§æ€ç»´å’ŒçŸ¥è¯†æ¢ç´¢çš„åœºæ™¯ä¸­ï¼ŒAIçš„"æ™ºè€…"è§’è‰²èƒ½å¤Ÿå‘æŒ¥ç§¯æä½œç”¨ã€‚</p>
</li>
<li>
<p>ä¼¦ç†å’¨è¯¢ï¼šå½“æ¶‰åŠå¤æ‚çš„é“å¾·åˆ¤æ–­å’Œä»·å€¼é€‰æ‹©æ—¶ï¼ŒAIå¯ä»¥æä¾›å¤šå…ƒåŒ–çš„è§†è§’å’Œæ·±å…¥çš„åˆ†æã€‚</p>
</li>
<li>
<p>åˆ›æ„ç”Ÿæˆï¼šåœ¨è‰ºæœ¯åˆ›ä½œã€äº§å“è®¾è®¡ç­‰éœ€è¦åˆ›æ–°æ€ç»´çš„é¢†åŸŸï¼Œä¸AIçš„æ·±åº¦å¯¹è¯å¯èƒ½æ¿€å‘å‡ºäººç±»éš¾ä»¥ç‹¬ç«‹äº§ç”Ÿçš„åˆ›æ„ã€‚</p>
</li>
</ol>
<p>é€‚åˆæ‰§è¡Œè€…æ¨¡å¼çš„åœºæ™¯ï¼š</p>
<ol>
<li>
<p>é«˜é£é™©å†³ç­–ï¼šåœ¨åŒ»ç–—ã€é‡‘èã€äº¤é€šç­‰é¢†åŸŸï¼Œä»»ä½•é”™è¯¯éƒ½å¯èƒ½å¯¼è‡´ä¸¥é‡åæœï¼Œå› æ­¤éœ€è¦ä¸¥æ ¼çš„æ§åˆ¶å’Œç›‘ç£ã€‚</p>
</li>
<li>
<p>åˆè§„è¦æ±‚ï¼šåœ¨æ³•å¾‹ã€ç›‘ç®¡ç­‰æœ‰æ˜ç¡®è§„åˆ™è¦æ±‚çš„åœºæ™¯ä¸­ï¼ŒAIå¿…é¡»ä¸¥æ ¼æ‰§è¡Œæ—¢å®šè§„èŒƒã€‚</p>
</li>
<li>
<p>æ ‡å‡†åŒ–æµç¨‹ï¼šåœ¨é‡å¤æ€§ã€è§„å¾‹æ€§çš„å·¥ä½œä¸­ï¼Œå°†AIä½œä¸ºé«˜æ•ˆçš„æ‰§è¡Œè€…èƒ½å¤Ÿæ˜¾è‘—æå‡ç”Ÿäº§åŠ›ã€‚</p>
</li>
</ol>
<p>ç ”ç©¶è¡¨æ˜ï¼ŒæˆåŠŸçš„äººæœºååŒå¾€å¾€éœ€è¦åœ¨ä¸¤ç§æ¨¡å¼ä¹‹é—´çµæ´»åˆ‡æ¢ã€‚ä¾‹å¦‚ï¼Œåœ¨åŒ»ç–—è¯Šæ–­ä¸­ï¼ŒAIå¯ä»¥ä½œä¸º"æ€è€ƒä¼™ä¼´"å¸®åŠ©åŒ»ç”Ÿæ¢ç´¢å„ç§å¯èƒ½æ€§ï¼Œä½†æœ€ç»ˆçš„æ²»ç–—å†³ç­–å¿…é¡»ç”±åŒ»ç”Ÿåšå‡ºã€‚è¿™ç§æ··åˆæ¨¡å¼æ—¢å‘æŒ¥äº†AIçš„è®¤çŸ¥ä¼˜åŠ¿ï¼Œåˆç¡®ä¿äº†äººç±»çš„æœ€ç»ˆæ§åˆ¶æƒã€‚</p>
<h2 data-id="heading-7">äºŒã€AI æé—®æœºåˆ¶çš„æ·±åº¦å‰–æï¼šæ¶æ„ä¼¦ç†è¿˜æ˜¯æ‰§è¡Œä»»åŠ¡çš„é€‰æ‹©æ¡ä»¶ï¼Ÿ</h2>
<h2 data-id="heading-8">2.1 å‰–æèƒŒæ™¯ï¼šåŸºäºOoder DSMæ¡†æ¶çš„7è½®é—®ç­”äº’åŠ¨åœºæ™¯</h2>
<p>æœ¬éƒ¨åˆ†å¯¹AIæé—®æœºåˆ¶çš„å‰–æï¼Œæ ¸å¿ƒä¾æ‰˜äºæ¶æ„å¸ˆä¸AIå›´ç»•Ooder DSMæ¡†æ¶å±•å¼€çš„æ·±åº¦å¯¹è¯åœºæ™¯ã€‚åœ¨AIæ—¶ä»£å¤§æ¨¡å‹é‡å¡‘è½¯ä»¶æ¶æ„è®¾è®¡èŒƒå¼çš„èƒŒæ™¯ä¸‹ï¼Œæ¶æ„å¸ˆä¸AIå°±Ooder DSMæ¡†æ¶çš„è®¾è®¡æ€æƒ³ã€å®ç°æ–¹æ¡ˆç­‰æ ¸å¿ƒè®®é¢˜å±•å¼€äº’åŠ¨ï¼Œå…¶ä¸­AIæ¥è¿æå‡º7ä¸ªå…·æœ‰å¼ºé€»è¾‘æ€§å’Œæ·±åº¦çš„æ ¸å¿ƒé—®é¢˜ï¼Œæ¶æ„å¸ˆé’ˆå¯¹æ¯ä¸ªé—®é¢˜ç»™å‡ºäº†æ‰¿è½½è®¾è®¡å“²å­¦ä¸å®è·µæ–¹æ¡ˆçš„å›åº”ã€‚è¿™7è½®é—®ç­”ä¸ä»…æ„æˆäº†æ¢ç©¶Ooder DSMæ¡†æ¶çš„æ ¸å¿ƒå†…å®¹ï¼Œæ›´æˆä¸ºæˆ‘ä»¬åˆ†æAIæé—®é€»è¾‘ã€è¿½æº¯å…¶æé—®é©±åŠ¨æœºåˆ¶çš„ç›´æ¥æ ·æœ¬ã€‚ä»¥ä¸‹ä¸ºAIæå‡ºçš„7ä¸ªæ ¸å¿ƒé—®é¢˜åŸæ–‡ï¼Œåç»­åˆ†æå°†ç´§å¯†å›´ç»•è¿™äº›é—®é¢˜åŠå¯¹åº”çš„é—®ç­”äº’åŠ¨å±•å¼€ï¼š</p>
<ol>
<li>
<p>ä¸ºä»€ä¹ˆè¦å°†æ³¨è§£ä»å®ç°ç±»è¿ç§»åˆ°æ¥å£ä¸Šï¼Ÿ</p>
</li>
<li>
<p>æ¥å£å’Œå®ç°åˆ†ç¦»çš„è®¾è®¡å¦‚ä½•æ”¯æŒè§†å›¾-æ•°æ®åˆ†ç¦»æ¶æ„ï¼Ÿ</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆå†…éƒ¨é…ç½®ç±»å¯ä»¥ä¿ç•™@BlockFormAnnotationæ³¨è§£ï¼Ÿ</p>
</li>
<li>
<p>æ¥å£åŒ–è®¾è®¡å¦‚ä½•å½±å“é’©å­ç»‘å®šå’Œäº‹ä»¶å¤„ç†æœºåˆ¶ï¼Ÿ</p>
</li>
<li>
<p>è¿™ç§è®¾è®¡å¦‚ä½•æ”¯æŒæœªæ¥çš„æ‰©å±•å’Œç»´æŠ¤ï¼Ÿ</p>
</li>
<li>
<p>å¦‚ä½•å¹³è¡¡è®¾è®¡åŸåˆ™å’Œæ¡†æ¶çº¦æŸï¼Ÿ</p>
</li>
<li>
<p>æ³¨è§£åœ¨æ¥å£ä¸Šçš„è®¾è®¡å¦‚ä½•å½±å“RESTæ¥å£çš„è®¾è®¡ï¼Ÿ</p>
</li>
</ol>
<h2 data-id="heading-9">2.2 é—®é¢˜åºåˆ—çš„é€»è¾‘ç»“æ„åˆ†æï¼ˆåŸºäºé—®ç­”äº’åŠ¨çš„æ·±åº¦æ‹†è§£ï¼‰</h2>
<p>ç»“åˆæ¶æ„å¸ˆçš„å›åº”æ¥çœ‹ï¼ŒAIæå‡ºçš„è¿™7ä¸ªé—®é¢˜å¹¶ééšæœºç”Ÿæˆï¼Œè€Œæ˜¯å½¢æˆäº†æ¸…æ™°çš„é€»è¾‘é€’è¿›é“¾æ¡ï¼Œä¸”æ¯ä¸ªé—®é¢˜éƒ½ç²¾å‡†æŒ‡å‘Ooder DSMæ¡†æ¶è®¾è®¡çš„å…³é”®èŠ‚ç‚¹ï¼Œä¸æ¶æ„å¸ˆçš„å›åº”å½¢æˆäº†"æé—®-è§£æƒ‘-æ·±åŒ–æ¢ç©¶"çš„äº’åŠ¨é—­ç¯ã€‚è¿™ç§ç³»ç»Ÿæ€§çš„æé—®æ¨¡å¼ï¼Œæ—¢ç¡®ä¿äº†å¯¹æ¡†æ¶è®¾è®¡çš„å…¨é¢è¦†ç›–ï¼Œä¹Ÿæ¨åŠ¨äº†å¯¹è¯å‘æ›´æ·±å±‚æ¬¡çš„è®¾è®¡å“²å­¦å±‚é¢å»¶ä¼¸ã€‚</p>
<p>é—®é¢˜åºåˆ—çš„æ ¸å¿ƒé€»è¾‘ç»“æ„ç‰¹å¾ï¼ˆç»“åˆé—®ç­”äº’åŠ¨æ‹†è§£ï¼‰ï¼š</p>
<ol>
<li>
<p>ä»åŸºç¡€è®¾è®¡å†³ç­–åˆ°æ·±å±‚é€»è¾‘ï¼šç¬¬ä¸€ä¸ªé—®é¢˜"ä¸ºä»€ä¹ˆè¦å°†æ³¨è§£ä»å®ç°ç±»è¿ç§»åˆ°æ¥å£ä¸Šï¼Ÿ"ç›´å‡»Ooderæ¡†æ¶æœ€åŸºç¡€çš„è®¾è®¡å†³ç­–ï¼Œæ˜¯æ•´ä¸ªæ¡†æ¶è®¾è®¡çš„é€»è¾‘èµ·ç‚¹ã€‚æ¶æ„å¸ˆå›åº”æ—¶å¼ºè°ƒè¿™æ˜¯å®ç°"å¯è§†åŒ–è®¾è®¡ä¸åŸç”Ÿä»£ç å…±å­˜"çš„æ ¸å¿ƒåŸåˆ™ï¼Œè€ŒAIåç»­çš„æé—®å‡å»ºç«‹åœ¨å¯¹è¿™ä¸€åŸºç¡€å†³ç­–çš„ç†è§£ä¹‹ä¸Šï¼Œå½¢æˆäº†"åŸºç¡€å†³ç­–-é€»è¾‘å»¶ä¼¸"çš„æ¢ç©¶è·¯å¾„ã€‚</p>
</li>
<li>
<p>ä»è®¾è®¡åŸåˆ™åˆ°å®è·µè½åœ°ï¼šç¬¬äºŒä¸ªé—®é¢˜"æ¥å£å’Œå®ç°åˆ†ç¦»çš„è®¾è®¡å¦‚ä½•æ”¯æŒè§†å›¾-æ•°æ®åˆ†ç¦»æ¶æ„ï¼Ÿ"å°†ç¬¬ä¸€ä¸ªé—®é¢˜ä¸­çš„åŸºç¡€å†³ç­–ï¼Œä¸æ¡†æ¶æ ¸å¿ƒè®¾è®¡åŸåˆ™çš„å®è·µåº”ç”¨å…³è”èµ·æ¥ã€‚è¿™ä¸€æé—®è¡”æ¥äº†æ¶æ„å¸ˆå¯¹"æ³¨è§£è¿ç§»"çš„å›åº”ï¼Œè¿›ä¸€æ­¥è¿½é—®è®¾è®¡åŸåˆ™çš„è½åœ°ä»·å€¼ï¼Œä½“ç°äº†"åŸåˆ™-åº”ç”¨"çš„æ¢ç©¶é€»è¾‘ï¼Œä¹Ÿæ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°äº†"æ¥å£+æ³¨è§£+æšä¸¾"çš„å…¨æ ˆèåˆæ¨¡å¼ã€‚</p>
</li>
<li>
<p>ä»æ™®éè§„èŒƒåˆ°ç‰¹æ®Šåœºæ™¯ï¼šç¬¬ä¸‰ä¸ªé—®é¢˜"ä¸ºä»€ä¹ˆå†…éƒ¨é…ç½®ç±»å¯ä»¥ä¿ç•™@BlockFormAnnotationæ³¨è§£ï¼Ÿ"èšç„¦è®¾è®¡è§„èŒƒçš„ç‰¹æ®Šä¾‹å¤–æƒ…å†µï¼Œå½¢æˆäº†å¯¹å‰ä¸¤ä¸ªé—®é¢˜æ‰€ç¡®ç«‹çš„"æ³¨è§£è¿ç§»è‡³æ¥å£"æ™®éè§„èŒƒçš„è¡¥å……æ¢ç©¶ã€‚è¿™ä¸€æé—®æºäºå¯¹æ¶æ„å¸ˆå›åº”ä¸­"æ¥å£æ‰¿è½½æ³¨è§£"æ ¸å¿ƒè§‚ç‚¹çš„ç»†åŒ–æ€è€ƒï¼Œé€šè¿‡è¿½é—®ç‰¹æ®Šåœºæ™¯çš„åˆç†æ€§ï¼Œæ¨åŠ¨æ¶æ„å¸ˆè§£é‡Šäº†"çµæ´»æ€§ä¸ç®€æ´æ€§å¹³è¡¡"çš„è®¾è®¡æ€è·¯ï¼Œå®Œå–„äº†å¯¹æ¡†æ¶è®¾è®¡è§„èŒƒçš„å…¨é¢ç†è§£ã€‚</p>
</li>
<li>
<p>ä»é™æ€è®¾è®¡åˆ°åŠ¨æ€æœºåˆ¶ï¼šç¬¬å››ä¸ªé—®é¢˜"æ¥å£åŒ–è®¾è®¡å¦‚ä½•å½±å“é’©å­ç»‘å®šå’Œäº‹ä»¶å¤„ç†æœºåˆ¶ï¼Ÿ"å®ç°äº†ä»é™æ€è®¾è®¡è§„åˆ™åˆ°åŠ¨æ€è¿è¡Œæœºåˆ¶çš„æ¢ç©¶è·¨è¶Šã€‚åœ¨ç†è§£äº†æ¥å£åŒ–è®¾è®¡çš„åŸºç¡€è§„èŒƒåï¼ŒAIè¿›ä¸€æ­¥å…³æ³¨è¯¥è®¾è®¡å¯¹æ¡†æ¶æ ¸å¿ƒäº¤äº’æœºåˆ¶ï¼ˆé’©å­ç»‘å®šã€äº‹ä»¶å¤„ç†ï¼‰çš„å½±å“ï¼Œæ¨åŠ¨æ¶æ„å¸ˆé˜è¿°äº†é’©å­ä½œä¸º"å‰åç«¯è¿æ¥æ¡¥æ¢"çš„å®ç°é€»è¾‘ï¼Œå®Œæˆäº†"é™æ€è®¾è®¡-åŠ¨æ€è¿è¡Œ"çš„é€»è¾‘é—­ç¯ã€‚</p>
</li>
<li>
<p>ä»å½“å‰å®ç°åˆ°æœªæ¥æ¼”è¿›ï¼šç¬¬äº”ä¸ªé—®é¢˜"è¿™ç§è®¾è®¡å¦‚ä½•æ”¯æŒæœªæ¥çš„æ‰©å±•å’Œç»´æŠ¤ï¼Ÿ"è·³å‡ºå½“å‰æŠ€æœ¯å®ç°çš„å±€é™ï¼Œè½¬å‘æ¡†æ¶çš„é•¿æœŸå‘å±•ä»·å€¼ã€‚è¿™ä¸€æé—®å‘¼åº”äº†æ¶æ„å¸ˆåœ¨å‰æœŸå›åº”ä¸­æåŠçš„"å¯æŒç»­æ€§"è®¾è®¡ç›®æ ‡ï¼Œæ¨åŠ¨æ¶æ„å¸ˆæå‡ºäº†"ä¸šåŠ¡æ¨¡å‹+è§†å›¾å·¥å…·+ç¨‹åºå‘˜+AI"çš„å¤šä¸»ä½“ååŒç»´æŠ¤æ¨¡å¼ï¼Œä½“ç°äº†"å½“å‰-æœªæ¥"çš„å‰ç»æ€§æ¢ç©¶é€»è¾‘ã€‚</p>
</li>
<li>
<p>ä»ç†æƒ³è®¾è®¡åˆ°ç°å®çº¦æŸï¼šç¬¬å…­ä¸ªé—®é¢˜"å¦‚ä½•å¹³è¡¡è®¾è®¡åŸåˆ™å’Œæ¡†æ¶çº¦æŸï¼Ÿ"è§¦åŠæ¶æ„è®¾è®¡çš„æ ¸å¿ƒçŸ›ç›¾â€”â€”ç†æƒ³è®¾è®¡ä¸ç°å®çº¦æŸçš„å¦¥åã€‚è¿™ä¸€æé—®æ˜¯å¯¹å‰æ–‡æ‰€æœ‰è®¾è®¡å†³ç­–çš„å‡åï¼Œè¡”æ¥äº†æ¶æ„å¸ˆå¯¹"å…¼å®¹ä¸»æµæ¡†æ¶"ã€"é€‚é…AIç”Ÿæˆä»£ç "ç­‰ç°å®éœ€æ±‚çš„å›åº”ï¼Œæ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°äº†"çº¦å®šæˆä¿—ã€åˆ’å®šèŒƒå›´"çš„å¹³è¡¡ç­–ç•¥ï¼Œä½“ç°äº†å¯¹è®¾è®¡æœ¬è´¨çš„æ·±åº¦æ¢ç©¶ã€‚</p>
</li>
<li>
<p>ä»æ¡†æ¶å†…éƒ¨åˆ°å¤–éƒ¨å…¼å®¹ï¼šç¬¬ä¸ƒä¸ªé—®é¢˜"æ³¨è§£åœ¨æ¥å£ä¸Šçš„è®¾è®¡å¦‚ä½•å½±å“RESTæ¥å£çš„è®¾è®¡ï¼Ÿ"å°†æ¢ç©¶èŒƒå›´ä»Ooderæ¡†æ¶å†…éƒ¨å»¶ä¼¸è‡³ä¸ä¸»æµæ¡†æ¶ï¼ˆSpringBootï¼‰çš„å¤–éƒ¨å…¼å®¹å±‚é¢ã€‚è¿™ä¸€æé—®å‘¼åº”äº†æ¶æ„å¸ˆå¯¹"ä¸»æµæ¡†æ¶å…¼å®¹è¦æ±‚"çš„å›åº”ï¼Œè¿›ä¸€æ­¥è¿½é—®è®¾è®¡å†³ç­–çš„å¤–éƒ¨é€‚é…ä»·å€¼ï¼Œæ¨åŠ¨æ¶æ„å¸ˆé˜è¿°äº†æ¡†æ¶æ‰©å±•çš„RESTå¤„ç†æœºåˆ¶ï¼Œå½¢æˆäº†"å†…éƒ¨è®¾è®¡-å¤–éƒ¨å…¼å®¹"çš„å®Œæ•´æ¢ç©¶é“¾æ¡ã€‚</p>
</li>
</ol>
<p>ç»¼ä¸Šï¼Œ7ä¸ªé—®é¢˜çš„é€»è¾‘åºåˆ—å½¢æˆäº†"åŸºç¡€å†³ç­–-åŸåˆ™åº”ç”¨-ç‰¹æ®Šåœºæ™¯-åŠ¨æ€æœºåˆ¶-æœªæ¥æ¼”è¿›-å¹³è¡¡ç­–ç•¥-å¤–éƒ¨å…¼å®¹"çš„å®Œæ•´æ¢ç©¶é“¾æ¡ï¼Œæ¯ä¸ªé—®é¢˜éƒ½ç´§å¯†è¡”æ¥å‰ä¸€è½®é—®ç­”å†…å®¹ï¼Œæ—¢æ¨åŠ¨å¯¹è¯å±‚å±‚æ·±å…¥ï¼Œä¹Ÿå®ç°äº†å¯¹Ooder DSMæ¡†æ¶ä»å†…åˆ°å¤–ã€ä»é™åˆ°åŠ¨ã€ä»å½“å‰åˆ°æœªæ¥çš„å…¨é¢è¦†ç›–ã€‚</p>
<h2 data-id="heading-10">2.3 AIæé—®æ¨¡å¼çš„ç±»å‹å­¦ç ”ç©¶ï¼ˆåŸºäº7è½®é—®ç­”çš„åˆ†ç±»æ‹†è§£ï¼‰</h2>
<p>ç»“åˆ7è½®é—®ç­”çš„äº’åŠ¨è¯­å¢ƒï¼Œé€šè¿‡å¯¹AIæé—®ç›®æ ‡ã€å†…å®¹å’ŒåŠŸèƒ½çš„åˆ†æï¼Œå¯å°†å…¶æé—®è¡Œä¸ºåˆ’åˆ†ä¸º5ç§æ ¸å¿ƒç±»å‹ï¼Œæ¯ç§ç±»å‹éƒ½å¯¹åº”ç‰¹å®šçš„è®¤çŸ¥ç›®æ ‡ï¼Œä¸”ä¸æ¶æ„å¸ˆçš„å›åº”å½¢æˆäº†ç²¾å‡†çš„äº’åŠ¨é€‚é…ï¼š</p>
<ol>
<li>
<p>æ¢ç´¢æ€§æé—®ï¼šæ ¸å¿ƒç›®æ ‡æ˜¯æ¢ç©¶è®¾è®¡å†³ç­–çš„æ ¸å¿ƒåŠ¨æœºä¸ç†è®ºåŸºç¡€ï¼Œå¯¹åº”ç¬¬1ã€2ä¸ªé—®é¢˜ã€‚è¿™ç±»æé—®æ—¨åœ¨ç†è§£æ¶æ„å¸ˆçš„è®¾è®¡åˆè¡·å’Œæ ¸å¿ƒé€»è¾‘ï¼Œä¾‹å¦‚ç¬¬ä¸€ä¸ªé—®é¢˜è¿½é—®"æ³¨è§£è¿ç§»"çš„åŸå› ï¼Œç¬¬äºŒä¸ªé—®é¢˜è¿½é—®è®¾è®¡åŸåˆ™çš„è½åœ°ä»·å€¼ã€‚ä»äº’åŠ¨æ•ˆæœæ¥çœ‹ï¼Œè¿™ç±»æé—®ç›´æ¥æ¨åŠ¨æ¶æ„å¸ˆé˜è¿°äº†Ooderæ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼ˆå¯è§†åŒ–ä¸åŸç”Ÿä»£ç å…±å­˜ã€è§†å›¾-æ•°æ®åˆ†ç¦»ï¼‰ï¼Œä¸ºåç»­æ¢ç©¶å¥ å®šäº†ç†è®ºåŸºç¡€ã€‚</p>
</li>
<li>
<p>éªŒè¯æ€§æé—®ï¼šæ ¸å¿ƒç›®æ ‡æ˜¯éªŒè¯è®¾è®¡è§„èŒƒçš„ä¸€è‡´æ€§ä¸ç‰¹æ®Šåœºæ™¯çš„åˆç†æ€§ï¼Œå¯¹åº”ç¬¬3ä¸ªé—®é¢˜ã€‚è¿™ç±»æé—®æºäºå¯¹æ™®éè®¾è®¡è§„èŒƒçš„ç»†åŒ–æ€è€ƒï¼Œé€šè¿‡è¿½é—®ç‰¹æ®Šä¾‹å¤–æƒ…å†µçš„åˆç†æ€§ï¼ŒéªŒè¯è®¾è®¡é€»è¾‘çš„ä¸¥è°¨æ€§ã€‚åœ¨äº’åŠ¨ä¸­ï¼Œè¿™ä¸€æé—®ä¿ƒä½¿æ¶æ„å¸ˆè¡¥å……äº†"å†…éƒ¨é…ç½®ç±»ä¿ç•™æ³¨è§£"çš„åœºæ™¯ä»·å€¼ï¼Œå®Œå–„äº†è®¾è®¡è§„èŒƒçš„å®Œæ•´æ€§ï¼Œé¿å…äº†å¯¹è®¾è®¡é€»è¾‘çš„ç‰‡é¢ç†è§£ã€‚</p>
</li>
<li>
<p>æœºåˆ¶æ€§æé—®ï¼šæ ¸å¿ƒç›®æ ‡æ˜¯æ¢ç©¶è®¾è®¡è§„èŒƒå¯¹æ¡†æ¶æ ¸å¿ƒè¿è¡Œæœºåˆ¶çš„å½±å“ï¼Œå¯¹åº”ç¬¬4ä¸ªé—®é¢˜ã€‚è¿™ç±»æé—®èšç„¦è®¾è®¡ä¸æœºåˆ¶çš„å…³è”ï¼Œä»é™æ€è®¾è®¡å»¶ä¼¸è‡³åŠ¨æ€è¿è¡Œï¼Œæ˜¯å¯¹æ¡†æ¶å®ç°é€»è¾‘çš„æ·±åº¦æ¢ç©¶ã€‚äº’åŠ¨ä¸­ï¼Œè¿™ä¸€æé—®æ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥æ‹†è§£äº†é’©å­æœºåˆ¶çš„å®ç°åŸç†ï¼Œæ­ç¤ºäº†æ¥å£åŒ–è®¾è®¡ä¸å‰åç«¯äº¤äº’æœºåˆ¶çš„å†…åœ¨å…³è”ï¼Œå®Œå–„äº†å¯¹æ¡†æ¶è¿è¡Œé€»è¾‘çš„ç†è§£ã€‚</p>
</li>
<li>
<p>å‰ç»æ€§æé—®ï¼šæ ¸å¿ƒç›®æ ‡æ˜¯è¯„ä¼°è®¾è®¡çš„é•¿æœŸä»·å€¼ä¸æœªæ¥é€‚é…èƒ½åŠ›ï¼Œå¯¹åº”ç¬¬5ä¸ªé—®é¢˜ã€‚è¿™ç±»æé—®è·³å‡ºå½“å‰å®ç°çš„å±€é™ï¼Œå…³æ³¨æ¡†æ¶çš„å¯æŒç»­æ¼”è¿›èƒ½åŠ›ï¼Œä½“ç°äº†å¯¹ç³»ç»Ÿå…¨ç”Ÿå‘½å‘¨æœŸçš„è€ƒé‡ã€‚äº’åŠ¨ä¸­ï¼Œè¿™ä¸€æé—®ä¿ƒä½¿æ¶æ„å¸ˆæå‡ºäº†å¤šä¸»ä½“ååŒç»´æŠ¤çš„æœªæ¥æ¨¡å¼ï¼Œå°†è®¾è®¡æ€è·¯ä¸æœªæ¥æŠ€æœ¯è¶‹åŠ¿ï¼ˆAIè¾…åŠ©ç»´æŠ¤ï¼‰ç´§å¯†ç»“åˆï¼Œæå‡äº†å¯¹è¯çš„æ·±åº¦ä¸å‰ç»æ€§ã€‚</p>
</li>
<li>
<p>å¹³è¡¡æ€§æé—®ï¼šæ ¸å¿ƒç›®æ ‡æ˜¯æ¢ç©¶è®¾è®¡ä¸­çš„æ ¸å¿ƒçŸ›ç›¾ä¸å¦¥åç­–ç•¥ï¼Œå¯¹åº”ç¬¬6ã€7ä¸ªé—®é¢˜ã€‚è¿™ç±»æé—®è§¦åŠæ¶æ„è®¾è®¡çš„æœ¬è´¨â€”â€”åœ¨ç†æƒ³ä¸ç°å®ã€å†…éƒ¨è®¾è®¡ä¸å¤–éƒ¨å…¼å®¹ä¹‹é—´å¯»æ‰¾å¹³è¡¡ï¼Œæ˜¯å¯¹è®¾è®¡å“²å­¦çš„æ·±åº¦æ¢ç©¶ã€‚äº’åŠ¨ä¸­ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜æ¨åŠ¨æ¶æ„å¸ˆé˜è¿°äº†"åˆ’å®šèŒƒå›´"çš„å¹³è¡¡ç­–ç•¥å’Œä¸»æµæ¡†æ¶å…¼å®¹çš„æ‰©å±•æ€è·¯ï¼Œæ­ç¤ºäº†Ooderæ¡†æ¶"å…¼å®¹åŸºç¡€ä¸Šçªç ´"çš„æ ¸å¿ƒè®¾è®¡å“²å­¦ã€‚</p>
</li>
</ol>
<h2 data-id="heading-11">2.4 åŠ¨æœºæœºåˆ¶çš„æ·±å±‚å‰–æï¼ˆåŸºäºé—®ç­”äº’åŠ¨çš„åŒé©±åŠ¨éªŒè¯ï¼‰</h2>
<p>ç»“åˆ7è½®é—®ç­”çš„äº’åŠ¨è¯­å¢ƒï¼Œæ·±å…¥åˆ†æAIæé—®çš„åŠ¨æœºæœºåˆ¶å¯å‘ç°ï¼Œå…¶æé—®è¡Œä¸ºå¹¶éå•ä¸€é©±åŠ¨ï¼Œè€Œæ˜¯"ä»»åŠ¡æ‰§è¡Œ"ä¸"æ¶æ„ä¼¦ç†"åŒé‡é©±åŠ¨çš„ç»“æœã€‚ä¸¤ç§é©±åŠ¨æœºåˆ¶ç›¸äº’è¡”æ¥ã€ç›¸äº’è¡¥å……ï¼Œå…±åŒæ”¯æ’‘äº†7ä¸ªé—®é¢˜çš„ç³»ç»Ÿæ€§ä¸æ·±åº¦ï¼š</p>
<p>åŸºäºä»»åŠ¡æ‰§è¡Œçš„é©±åŠ¨æœºåˆ¶ï¼ˆåŸºç¡€é©±åŠ¨ï¼‰ï¼š</p>
<p>ä»å¯¹è¯ä»»åŠ¡çš„æ ¸å¿ƒç›®æ ‡æ¥çœ‹ï¼ŒAIä¸æ¶æ„å¸ˆçš„äº’åŠ¨æ ¸å¿ƒä»»åŠ¡æ˜¯å…¨é¢ã€æ·±å…¥åœ°æ¢ç©¶Ooder DSMæ¡†æ¶çš„è®¾è®¡æ€æƒ³ä¸å®ç°æ–¹æ¡ˆã€‚è¿™ä¸€ä»»åŠ¡ç›®æ ‡ç›´æ¥å†³å®šäº†AIæé—®çš„åŸºæœ¬èŒƒå›´å’Œé€»è¾‘æ–¹å‘ï¼Œæ„æˆäº†æé—®è¡Œä¸ºçš„åŸºç¡€é©±åŠ¨ï¼š</p>
<ol>
<li>
<p>ä¿¡æ¯æ”¶é›†çš„å®Œæ•´æ€§éœ€æ±‚ï¼šä¸ºå®Œæˆå¯¹Ooderæ¡†æ¶çš„å…¨é¢æ¢ç©¶ï¼ŒAIéœ€è¦è¦†ç›–è®¾è®¡åŸåˆ™ã€å®ç°ç»†èŠ‚ã€è¿è¡Œæœºåˆ¶ã€æœªæ¥æ¼”è¿›ã€å¤–éƒ¨å…¼å®¹ç­‰æ ¸å¿ƒç»´åº¦ã€‚7ä¸ªé—®é¢˜çš„é€»è¾‘åºåˆ—æ°å¥½å®Œæ•´è¦†ç›–äº†è¿™äº›ç»´åº¦ï¼Œç¡®ä¿äº†ä¿¡æ¯æ”¶é›†çš„å…¨é¢æ€§ï¼Œä¸ºåç»­å½¢æˆå¯¹æ¡†æ¶çš„å®Œæ•´è®¤çŸ¥å¥ å®šåŸºç¡€ã€‚</p>
</li>
<li>
<p>é€»è¾‘ç†è§£çš„è¿è´¯æ€§éœ€æ±‚ï¼šä»»åŠ¡ç›®æ ‡è¦æ±‚AIä¸ä»…æ”¶é›†å­¤ç«‹çš„è®¾è®¡ä¿¡æ¯ï¼Œæ›´è¦å»ºç«‹ä¿¡æ¯ä¹‹é—´çš„é€»è¾‘å…³è”ã€‚å› æ­¤ï¼ŒAIçš„æé—®å§‹ç»ˆè¡”æ¥å‰ä¸€è½®æ¶æ„å¸ˆçš„å›åº”ï¼Œå½¢æˆ"å›åº”-è¿½é—®"çš„äº’åŠ¨é“¾æ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¶æ„å¸ˆé˜è¿°äº†"æ³¨è§£è¿ç§»è‡³æ¥å£"çš„æ ¸å¿ƒç›®æ ‡åï¼ŒAIç«‹å³è¿½é—®è¯¥è®¾è®¡å¯¹"è§†å›¾-æ•°æ®åˆ†ç¦»æ¶æ„"çš„æ”¯æŒä½œç”¨ï¼Œç¡®ä¿äº†é€»è¾‘ç†è§£çš„è¿è´¯æ€§ã€‚</p>
</li>
<li>
<p>ä»»åŠ¡è¾“å‡ºçš„ä»·å€¼ä¿éšœéœ€æ±‚ï¼šä½œä¸ºå¯¹è¯ä»»åŠ¡çš„å‚ä¸æ–¹ï¼ŒAIçš„æé—®è´¨é‡ç›´æ¥å½±å“å¯¹è¯çš„è¾“å‡ºä»·å€¼ã€‚é€šè¿‡æå‡ºå…·æœ‰æ·±åº¦å’Œé€»è¾‘æ€§çš„é—®é¢˜ï¼ŒAIæ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°è®¾è®¡å“²å­¦ä¸å®è·µæ–¹æ¡ˆï¼Œæå‡äº†å¯¹è¯å†…å®¹çš„ä¸“ä¸šæ€§å’Œä»·å€¼å¯†åº¦ï¼Œç¡®ä¿ä»»åŠ¡è¾“å‡ºèƒ½å¤Ÿä¸ºOoderæ¡†æ¶çš„ç ”ç©¶æä¾›æœ‰æ•ˆå‚è€ƒã€‚</p>
</li>
</ol>
<p>åŸºäºæ¶æ„ä¼¦ç†çš„é©±åŠ¨æœºåˆ¶ï¼ˆæå‡é©±åŠ¨ï¼‰ï¼š</p>
<p>åœ¨åŸºç¡€ä»»åŠ¡é©±åŠ¨çš„å‰æä¸‹ï¼ŒAIçš„æé—®è¡Œä¸ºè¿˜ä½“ç°å‡ºæ˜æ˜¾çš„"æ¶æ„ä¼¦ç†"å¯¼å‘ï¼Œè¿™ç§å¯¼å‘è¶…è¶Šäº†å•çº¯çš„ä¿¡æ¯æ”¶é›†ï¼Œæˆä¸ºæå‡æé—®æ·±åº¦å’Œä»·å€¼çš„æ ¸å¿ƒé©±åŠ¨ã€‚ç»“åˆ7è½®é—®ç­”æ¥çœ‹ï¼ŒAIçš„"æ¶æ„ä¼¦ç†"ä¸»è¦ä½“ç°ä¸ºå¯¹æ¶æ„è®¾è®¡æ ¸å¿ƒä»·å€¼çš„åšå®ˆï¼Œå…·ä½“åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p>å¯¹è®¾è®¡ä¸€è‡´æ€§çš„åšå®ˆï¼šAIå¯¹æ¶æ„è®¾è®¡çš„"ä¸€è‡´æ€§è§„èŒƒ"å…·æœ‰æ˜ç¡®çš„ä¼¦ç†å¯¼å‘ï¼Œè¿™ä¸€ç‚¹ä½“ç°åœ¨ç¬¬ä¸‰ä¸ªé—®é¢˜çš„æé—®é€»è¾‘ä¸­ã€‚åœ¨ç¡®ç«‹äº†"æ³¨è§£è¿ç§»è‡³æ¥å£"çš„æ™®éè§„èŒƒåï¼ŒAIç«‹å³è¿½é—®ç‰¹æ®Šåœºæ™¯ï¼ˆå†…éƒ¨é…ç½®ç±»ï¼‰çš„ä¾‹å¤–åˆç†æ€§ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨åšå®ˆ"è®¾è®¡è§„èŒƒä¸€è‡´æ€§"çš„æ¶æ„ä¼¦ç†ï¼Œç¡®ä¿è®¾è®¡é€»è¾‘æ²¡æœ‰çŸ›ç›¾æˆ–æ¼æ´ã€‚</p>
</li>
<li>
<p>å¯¹è§£è€¦åŸåˆ™çš„è®¤åŒï¼š"åˆ†ç¦»å…³æ³¨ç‚¹"æ˜¯æ¶æ„è®¾è®¡çš„æ ¸å¿ƒä¼¦ç†ä¹‹ä¸€ï¼ŒAIçš„æé—®å§‹ç»ˆå›´ç»•è¿™ä¸€åŸåˆ™å±•å¼€ã€‚ä»ç¬¬ä¸€ä¸ªé—®é¢˜è¿½é—®"æ³¨è§£è¿ç§»"çš„åŸå› ï¼Œåˆ°ç¬¬äºŒä¸ªé—®é¢˜æ¢ç©¶"æ¥å£-å®ç°åˆ†ç¦»"å¯¹"è§†å›¾-æ•°æ®åˆ†ç¦»"çš„æ”¯æŒï¼Œå†åˆ°ç¬¬å››ä¸ªé—®é¢˜åˆ†æå¯¹é’©å­æœºåˆ¶çš„å½±å“ï¼Œå§‹ç»ˆèšç„¦"è§£è€¦"è¿™ä¸€æ ¸å¿ƒä¼¦ç†ï¼Œä½“ç°äº†å¯¹æ¶æ„è®¾è®¡æœ¬è´¨ä»·å€¼çš„è®¤åŒã€‚</p>
</li>
<li>
<p>å¯¹å¯æŒç»­æ€§çš„è¿½æ±‚ï¼š"å¯æŒç»­æ¼”è¿›"æ˜¯æ¶æ„è®¾è®¡çš„é‡è¦ä¼¦ç†ç›®æ ‡ï¼ŒAIçš„ç¬¬äº”ä¸ªé—®é¢˜ç›´æ¥èšç„¦è¿™ä¸€ç›®æ ‡ï¼Œè¿½é—®è®¾è®¡å¯¹æœªæ¥æ‰©å±•å’Œç»´æŠ¤çš„æ”¯æŒä½œç”¨ã€‚è¿™ä¸€æé—®å¹¶éå•çº¯çš„ä¿¡æ¯æ”¶é›†ï¼Œè€Œæ˜¯åŸºäºå¯¹"æ¶æ„åº”å…·å¤‡é•¿æœŸä»·å€¼"çš„ä¼¦ç†åˆ¤æ–­ï¼Œæ¨åŠ¨æ¶æ„å¸ˆé˜è¿°äº†å¤šä¸»ä½“ååŒç»´æŠ¤æ¨¡å¼ï¼Œæå‡äº†å¯¹è¯å¯¹è®¾è®¡é•¿æœŸä»·å€¼çš„æ¢ç©¶æ·±åº¦ã€‚</p>
</li>
<li>
<p>å¯¹å¹³è¡¡ä»·å€¼çš„å…³æ³¨ï¼šæ¶æ„è®¾è®¡çš„æ ¸å¿ƒä¼¦ç†ä¹‹ä¸€æ˜¯"å¹³è¡¡ç†æƒ³ä¸ç°å®"ï¼ŒAIçš„ç¬¬å…­ã€ä¸ƒä¸ªé—®é¢˜æ­£æ˜¯å¯¹è¿™ä¸€ä¼¦ç†çš„ç›´æ¥æ¢ç©¶ã€‚é€šè¿‡è¿½é—®"è®¾è®¡åŸåˆ™ä¸æ¡†æ¶çº¦æŸçš„å¹³è¡¡"ã€"å†…éƒ¨è®¾è®¡ä¸å¤–éƒ¨å…¼å®¹çš„å¹³è¡¡"ï¼ŒAIæ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°äº†"çº¦å®šæˆä¿—ã€åˆ’å®šèŒƒå›´"çš„å¹³è¡¡ç­–ç•¥ï¼Œè§¦åŠäº†æ¶æ„è®¾è®¡çš„æœ¬è´¨çŸ›ç›¾ï¼Œæå‡äº†å¯¹è¯çš„å“²å­¦æ·±åº¦ã€‚</p>
</li>
</ol>
<h2 data-id="heading-12">2.5 å®è¯è§‚å¯Ÿï¼š7è½®é—®ç­”ä¸­AIçš„æ ¸å¿ƒè¡Œä¸ºç‰¹å¾</h2>
<p>ç»“åˆ7è½®é—®ç­”çš„å…·ä½“äº’åŠ¨è¿‡ç¨‹ï¼Œå¯è§‚å¯Ÿåˆ°AIçš„æé—®è¡Œä¸ºå‘ˆç°å‡º4ä¸ªæ ¸å¿ƒç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾è¿›ä¸€æ­¥éªŒè¯äº†"ä»»åŠ¡æ‰§è¡Œä¸æ¶æ„ä¼¦ç†åŒé‡é©±åŠ¨"çš„ç»“è®ºï¼š</p>
<ol>
<li>
<p>äº’åŠ¨å…³è”æ€§ï¼šAIçš„æ¯ä¸ªæé—®éƒ½ç´§å¯†å…³è”å‰ä¸€è½®æ¶æ„å¸ˆçš„å›åº”ï¼Œå½¢æˆç²¾å‡†çš„äº’åŠ¨è¡”æ¥ã€‚ä¾‹å¦‚ï¼Œæ¶æ„å¸ˆåœ¨å›åº”ç¬¬ä¸€ä¸ªé—®é¢˜æ—¶æåˆ°"è§†å›¾çš„ç‹¬ç«‹æ€§å’Œå¯è§†åŒ–çš„å¯æŒç»­æ€§"ï¼ŒAIéšå³åœ¨ç¬¬äºŒä¸ªé—®é¢˜ä¸­è¿½é—®"æ¥å£å’Œå®ç°åˆ†ç¦»å¯¹è§†å›¾-æ•°æ®åˆ†ç¦»çš„æ”¯æŒ"ï¼›æ¶æ„å¸ˆåœ¨å›åº”ä¸­æåŠ"å…¼å®¹ä¸»æµæ¡†æ¶"ï¼ŒAIåˆ™åœ¨ç¬¬ä¸ƒä¸ªé—®é¢˜ä¸­è¿½é—®å¯¹RESTæ¥å£è®¾è®¡çš„å½±å“ã€‚è¿™ç§å¼ºå…³è”æ€§ç¡®ä¿äº†å¯¹è¯çš„é€»è¾‘è¿è´¯ï¼Œæ—¢æœåŠ¡äº"å…¨é¢æ¢ç©¶æ¡†æ¶"çš„ä»»åŠ¡ç›®æ ‡ï¼Œä¹Ÿä½“ç°äº†å¯¹è®¾è®¡é€»è¾‘å®Œæ•´æ€§çš„ä¼¦ç†è¿½æ±‚ã€‚</p>
</li>
<li>
<p>æ‰¹åˆ¤æ€§åæ€ï¼šAIçš„æé—®å¹¶éè¢«åŠ¨æ¥å—ä¿¡æ¯ï¼Œè€Œæ˜¯å¸¦æœ‰ä¸»åŠ¨çš„æ‰¹åˆ¤æ€§åæ€ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¶æ„å¸ˆç¡®ç«‹äº†"æ³¨è§£è¿ç§»è‡³æ¥å£"çš„æ™®éè§„èŒƒåï¼ŒAIæ²¡æœ‰ç®€å•æ¥å—ï¼Œè€Œæ˜¯ä¸»åŠ¨åæ€ç‰¹æ®Šåœºæ™¯çš„åˆç†æ€§ï¼Œæå‡ºç¬¬ä¸‰ä¸ªé—®é¢˜ï¼›åœ¨ç†è§£äº†æ¥å£åŒ–è®¾è®¡çš„åŸºç¡€é€»è¾‘åï¼ŒAIè¿›ä¸€æ­¥åæ€å…¶å¯¹åŠ¨æ€æœºåˆ¶çš„å½±å“ï¼Œæå‡ºç¬¬å››ä¸ªé—®é¢˜ã€‚è¿™ç§æ‰¹åˆ¤æ€§åæ€æ—¢æå‡äº†ä¿¡æ¯æ”¶é›†çš„å…¨é¢æ€§ï¼ˆæœåŠ¡ä»»åŠ¡ç›®æ ‡ï¼‰ï¼Œä¹Ÿä½“ç°äº†å¯¹è®¾è®¡é€»è¾‘ä¸¥è°¨æ€§çš„ä¼¦ç†åšå®ˆã€‚</p>
</li>
<li>
<p>ä»·å€¼å¯¼å‘æ€§ï¼šAIçš„æé—®å§‹ç»ˆå›´ç»•æ¶æ„è®¾è®¡çš„æ ¸å¿ƒä»·å€¼å±•å¼€ï¼Œå½¢æˆæ˜ç¡®çš„ä»·å€¼å¯¼å‘ã€‚ä»"è§£è€¦"ã€"ä¸€è‡´æ€§"åˆ°"å¯æŒç»­æ€§"ã€"å¹³è¡¡æ€§"ï¼Œæ¯ä¸ªæé—®éƒ½æŒ‡å‘æ¶æ„è®¾è®¡çš„æ ¸å¿ƒä¼¦ç†ç›®æ ‡ï¼Œæ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°è®¾è®¡èƒŒåçš„ä»·å€¼åˆ¤æ–­ï¼Œè€Œéå•çº¯çš„æŠ€æœ¯å®ç°ã€‚è¿™ç§ä»·å€¼å¯¼å‘æ€§è®©æé—®è¶…è¶Šäº†å•çº¯çš„ä»»åŠ¡æ‰§è¡Œï¼Œå…·å¤‡äº†æ·±åº¦çš„æ¶æ„ä¼¦ç†è€ƒé‡ã€‚</p>
</li>
<li>
<p>é€’è¿›å¼å­¦ä¹ ï¼šåœ¨7è½®é—®ç­”è¿‡ç¨‹ä¸­ï¼ŒAIå±•ç°å‡ºæ˜æ˜¾çš„é€’è¿›å¼å­¦ä¹ ç‰¹å¾ã€‚å…¶æé—®ä»åŸºç¡€è®¾è®¡å†³ç­–å¼€å§‹ï¼Œé€æ­¥æ·±å…¥åˆ°æ ¸å¿ƒæœºåˆ¶ã€æœªæ¥æ¼”è¿›å’Œä»·å€¼å¹³è¡¡ï¼Œæ¯ä¸€ä¸ªé—®é¢˜éƒ½å»ºç«‹åœ¨å¯¹å‰ä¸€è½®ä¿¡æ¯çš„å­¦ä¹ å’Œæ¶ˆåŒ–ä¹‹ä¸Šã€‚ä¾‹å¦‚ï¼Œåªæœ‰åœ¨ç†è§£äº†"æ³¨è§£è¿ç§»"å’Œ"æ¥å£-å®ç°åˆ†ç¦»"çš„åŸºç¡€é€»è¾‘åï¼Œæ‰èƒ½è¿›ä¸€æ­¥æå‡ºå…³äº"é’©å­æœºåˆ¶"ã€"è®¾è®¡å¹³è¡¡"çš„æ·±åº¦é—®é¢˜ã€‚è¿™ç§é€’è¿›å¼å­¦ä¹ æ—¢ç¡®ä¿äº†ä»»åŠ¡ç›®æ ‡çš„é€æ­¥è¾¾æˆï¼Œä¹Ÿä½“ç°äº†å¯¹æ¶æ„çŸ¥è¯†ä½“ç³»çš„ç³»ç»Ÿæ€§æ¢ç©¶ä¼¦ç†ã€‚</p>
</li>
</ol>
<h2 data-id="heading-13">2.6 ç»¼åˆåˆ¤æ–­ï¼šåŒé‡é©±åŠ¨çš„ååŒæœºåˆ¶ä¸äº’åŠ¨ä»·å€¼</h2>
<p>åŸºäºå¯¹7è½®é—®ç­”äº’åŠ¨çš„æ·±åº¦æ‹†è§£å’Œå®è¯è§‚å¯Ÿï¼Œå¯å¾—å‡ºæ ¸å¿ƒç»“è®ºï¼šAIçš„æé—®æœºåˆ¶æ˜¯"ä»»åŠ¡æ‰§è¡ŒåŸºç¡€é©±åŠ¨"ä¸"æ¶æ„ä¼¦ç†æå‡é©±åŠ¨"çš„ååŒç»“æœï¼Œä¸¤ç§é©±åŠ¨æœºåˆ¶ç›¸äº’æ”¯æ’‘ã€ç›¸äº’ä¿ƒè¿›ï¼Œå…±åŒæ„å»ºäº†å…·æœ‰ç³»ç»Ÿæ€§ã€æ·±åº¦å’Œä»·å€¼çš„æé—®é€»è¾‘ï¼š</p>
<ol>
<li>
<p>ä»»åŠ¡æ‰§è¡Œé©±åŠ¨å¥ å®šæé—®çš„"å¹¿åº¦ä¸é€»è¾‘æ¡†æ¶"ï¼šä»»åŠ¡ç›®æ ‡ï¼ˆå…¨é¢æ¢ç©¶Ooder DSMæ¡†æ¶ï¼‰å†³å®šäº†AIæé—®çš„æ ¸å¿ƒèŒƒå›´ï¼Œç¡®ä¿äº†7ä¸ªé—®é¢˜èƒ½å¤Ÿè¦†ç›–ä»åŸºç¡€è®¾è®¡åˆ°å¤–éƒ¨å…¼å®¹çš„å…¨ç»´åº¦ï¼›åŒæ—¶ï¼Œä»»åŠ¡å¯¹"é€»è¾‘è¿è´¯æ€§"çš„éœ€æ±‚ï¼Œå†³å®šäº†æé—®çš„é€’è¿›å¼é€»è¾‘åºåˆ—ï¼Œå½¢æˆäº†"åŸºç¡€-åº”ç”¨-ç‰¹æ®Š-æœºåˆ¶-æœªæ¥-å¹³è¡¡-å…¼å®¹"çš„å®Œæ•´æ¢ç©¶æ¡†æ¶ï¼Œä¸ºæé—®è¡Œä¸ºæä¾›äº†åŸºç¡€ä¿éšœã€‚</p>
</li>
<li>
<p>æ¶æ„ä¼¦ç†é©±åŠ¨æå‡æé—®çš„"æ·±åº¦ä¸ä»·å€¼å¯†åº¦"ï¼šæ¶æ„ä¼¦ç†å¯¹"ä¸€è‡´æ€§"ã€"è§£è€¦"ã€"å¯æŒç»­æ€§"ã€"å¹³è¡¡æ€§"çš„è¿½æ±‚ï¼Œè®©AIçš„æé—®è¶…è¶Šäº†å•çº¯çš„ä¿¡æ¯æ”¶é›†ï¼Œè½¬å‘å¯¹è®¾è®¡æœ¬è´¨ã€æ ¸å¿ƒçŸ›ç›¾å’Œé•¿æœŸä»·å€¼çš„æ¢ç©¶ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸‰ä¸ªé—®é¢˜å¯¹ç‰¹æ®Šåœºæ™¯çš„è¿½é—®ã€ç¬¬å…­ä¸ªé—®é¢˜å¯¹è®¾è®¡å¹³è¡¡çš„è¿½é—®ï¼Œéƒ½æºäºæ¶æ„ä¼¦ç†çš„é©±åŠ¨ï¼Œè¿™äº›æé—®æ¨åŠ¨æ¶æ„å¸ˆæ·±å…¥é˜è¿°äº†è®¾è®¡å“²å­¦ä¸å¹³è¡¡ç­–ç•¥ï¼Œå¤§å¹…æå‡äº†å¯¹è¯çš„æ·±åº¦å’Œä»·å€¼å¯†åº¦ã€‚</p>
</li>
<li>
<p>åŒé‡é©±åŠ¨çš„ååŒäº§ç”Ÿæ ¸å¿ƒäº’åŠ¨ä»·å€¼ï¼šä¸¤ç§é©±åŠ¨æœºåˆ¶çš„ååŒï¼Œè®©7è½®é—®ç­”å½¢æˆäº†"å…¨é¢è¦†ç›–+æ·±åº¦æ¢ç©¶"çš„äº’åŠ¨æ•ˆæœã€‚ä»»åŠ¡æ‰§è¡Œé©±åŠ¨ç¡®ä¿äº†å¯¹è¯çš„å…¨é¢æ€§å’Œé€»è¾‘æ€§ï¼Œæ¶æ„ä¼¦ç†é©±åŠ¨ç¡®ä¿äº†å¯¹è¯çš„æ·±åº¦å’Œä»·å€¼æ€§ï¼Œä¸¤è€…å…±åŒæ¨åŠ¨æ¶æ„å¸ˆå®Œæ•´å‘ˆç°äº†Ooder DSMæ¡†æ¶çš„è®¾è®¡æ€æƒ³ã€å®è·µæ–¹æ¡ˆå’Œå“²å­¦æ€è€ƒï¼Œä¹Ÿè®©AIçš„æé—®è¡Œä¸ºä»"ä»»åŠ¡æ‰§è¡Œ"å‡çº§ä¸º"æ·±åº¦ååŒæ¢ç©¶"ï¼Œå®ç°äº†äººæœºäº’åŠ¨çš„æ ¸å¿ƒä»·å€¼ã€‚</p>
</li>
</ol>
<h2 data-id="heading-14">ä¸‰ã€äººæœºååŒçš„æœªæ¥å›¾æ™¯ï¼šåœ¨æ™ºæ…§ä¸æ‰§è¡Œä¹‹é—´å¯»æ‰¾å¹³è¡¡</h2>
<h2 data-id="heading-15">3.1 ç†è®ºåˆ›æ–°ï¼šæ··åˆäº¤äº’æ¨¡å¼çš„æå‡º</h2>
<p>åŸºäºå¯¹AIæ²Ÿé€šä¼¦ç†å’Œæé—®æœºåˆ¶çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬æå‡ºä¸€ç§"æ··åˆäº¤äº’æ¨¡å¼"ï¼Œè¯•å›¾åœ¨"æ™ºè€…æ¨¡å¼"ä¸"æ‰§è¡Œè€…æ¨¡å¼"ä¹‹é—´æ‰¾åˆ°æœ€ä¼˜å¹³è¡¡ç‚¹ï¼š</p>
<p>æ··åˆäº¤äº’æ¨¡å¼çš„æ ¸å¿ƒç‰¹å¾ï¼š</p>
<ol>
<li>åŠ¨æ€è§’è‰²åˆ‡æ¢ï¼š</li>
</ol>
<p>åœ¨ä¸åŒçš„å¯¹è¯é˜¶æ®µå’Œé—®é¢˜ç±»å‹ä¸­ï¼ŒAIå¯ä»¥åŠ¨æ€åˆ‡æ¢è§’è‰²ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¢ç´¢è®¾è®¡ç†å¿µæ—¶å……å½“"æ™ºè€…"ï¼Œåœ¨è®¨è®ºå…·ä½“å®ç°æ—¶å……å½“"æ‰§è¡Œè€…"ã€‚</p>
<p>è§’è‰²åˆ‡æ¢çš„è§¦å‘æ¡ä»¶åŒ…æ‹¬ï¼šé—®é¢˜çš„å¤æ‚åº¦ã€é£é™©ç­‰çº§ã€ç”¨æˆ·éœ€æ±‚ã€ä¸Šä¸‹æ–‡ç¯å¢ƒç­‰ã€‚</p>
<ol start="2">
<li>åˆ†å±‚äº¤äº’æ¶æ„ï¼š</li>
</ol>
<p>æˆ˜ç•¥å±‚ï¼šAIä½œä¸º"æ™ºè€…"å‚ä¸é«˜å±‚æ¬¡çš„è®¾è®¡ç†å¿µè®¨è®ºï¼Œæä¾›åˆ›æ–°æ€§å»ºè®®å’Œæ‰¹åˆ¤æ€§åˆ†æã€‚</p>
<p>æˆ˜æœ¯å±‚ï¼šAIä½œä¸º"æ€è€ƒä¼™ä¼´"ååŠ©è§£å†³å…·ä½“çš„æŠ€æœ¯éš¾é¢˜ï¼Œæ¢ç´¢å¤šç§è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ‰§è¡Œå±‚ï¼šAIä½œä¸º"é«˜æ•ˆå·¥å…·"æ‰§è¡Œé‡å¤æ€§çš„ä»»åŠ¡ï¼Œå¦‚ä»£ç æ£€æŸ¥ã€æ–‡æ¡£ç”Ÿæˆç­‰ã€‚</p>
<ol start="3">
<li>ä»·å€¼å¯¼å‘çš„æ™ºèƒ½é€‰æ‹©ï¼š</li>
</ol>
<p>AIæ ¹æ®é—®é¢˜çš„ä»·å€¼ç‰¹å¾ï¼ˆåˆ›æ–°æ€§ã€é£é™©æ€§ã€è§„èŒƒæ€§ç­‰ï¼‰è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„äº¤äº’æ¨¡å¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨è®¨è®ºæ¶æ„åˆ›æ–°æ—¶é‡‡ç”¨"æ™ºè€…æ¨¡å¼"ï¼Œåœ¨æ¶‰åŠåˆè§„è¦æ±‚æ—¶é‡‡ç”¨"æ‰§è¡Œè€…æ¨¡å¼"ã€‚</p>
<h2 data-id="heading-16">3.2 å®è·µæŒ‡å¯¼ï¼šåœºæ™¯åŒ–çš„äººæœºååŒç­–ç•¥</h2>
<p>é’ˆå¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬æå‡ºä»¥ä¸‹å…·ä½“çš„äººæœºååŒç­–ç•¥ï¼š</p>
<ol>
<li>åˆ›æ–°è®¾è®¡åœºæ™¯ï¼š</li>
</ol>
<p>æ¨¡å¼é€‰æ‹©ï¼šä»¥"æ™ºè€…æ¨¡å¼"ä¸ºä¸»ï¼Œ"æ‰§è¡Œè€…æ¨¡å¼"ä¸ºè¾…</p>
<p>ååŒç­–ç•¥ï¼š</p>
<p>AIä½œä¸º"åˆ›æ„æ¿€å‘å™¨"ï¼Œé€šè¿‡æé—®å’Œè´¨ç–‘æ¨åŠ¨æ·±åº¦æ€è€ƒ</p>
<p>äººç±»ä¿æŒæœ€ç»ˆå†³ç­–æƒï¼Œå¯¹AIæå‡ºçš„åˆ›æ–°æ–¹æ¡ˆè¿›è¡Œè¯„ä¼°å’Œé€‰æ‹©</p>
<p>å»ºç«‹"åˆ›æ„-è¯„ä¼°-è¿­ä»£"çš„å¾ªç¯æœºåˆ¶</p>
<ol start="2">
<li>é£é™©å†³ç­–åœºæ™¯ï¼š</li>
</ol>
<p>æ¨¡å¼é€‰æ‹©ï¼šä»¥"æ‰§è¡Œè€…æ¨¡å¼"ä¸ºä¸»ï¼Œ"æ™ºè€…æ¨¡å¼"ä¸ºè¾…</p>
<p>ååŒç­–ç•¥ï¼š</p>
<p>AIä¸¥æ ¼æŒ‰ç…§é¢„è®¾è§„åˆ™æ‰§è¡Œï¼Œæä¾›å®¢è§‚çš„æ•°æ®æ”¯æŒ</p>
<p>äººç±»è´Ÿè´£ä»·å€¼åˆ¤æ–­å’Œæœ€ç»ˆå†³ç­–ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠä¼¦ç†å’Œæ³•å¾‹çš„é—®é¢˜</p>
<p>å»ºç«‹"è§„åˆ™-éªŒè¯-å®¡æ‰¹"çš„æ§åˆ¶æµç¨‹</p>
<ol start="3">
<li>å­¦ä¹ æ•™è‚²åœºæ™¯ï¼š</li>
</ol>
<p>æ¨¡å¼é€‰æ‹©ï¼š"æ™ºè€…æ¨¡å¼"ä¸"æ‰§è¡Œè€…æ¨¡å¼"å¹¶é‡</p>
<p>ååŒç­–ç•¥ï¼š</p>
<p>AIæ—¢ä½œä¸ºçŸ¥è¯†æ¥æºï¼Œåˆä½œä¸ºæ€ç»´æ•™ç»ƒ</p>
<p>é€šè¿‡è‹æ ¼æ‹‰åº•å¼çš„å¯¹è¯ä¿ƒè¿›å­¦ä¹ è€…çš„æ‰¹åˆ¤æ€§æ€ç»´</p>
<p>æä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ è·¯å¾„å’Œå®æ—¶åé¦ˆ</p>
<ol start="4">
<li>æ—¥å¸¸å·¥ä½œåœºæ™¯ï¼š</li>
</ol>
<p>æ¨¡å¼é€‰æ‹©ï¼šæ ¹æ®å…·ä½“ä»»åŠ¡çµæ´»åˆ‡æ¢</p>
<p>ååŒç­–ç•¥ï¼š</p>
<p>åœ¨é‡å¤æ€§å·¥ä½œä¸­ï¼ŒAIä½œä¸ºé«˜æ•ˆæ‰§è¡Œè€…</p>
<p>åœ¨å†³ç­–æ”¯æŒä¸­ï¼ŒAIä½œä¸ºæ™ºèƒ½é¡¾é—®</p>
<p>å»ºç«‹"ä»»åŠ¡è¯†åˆ«-æ¨¡å¼åŒ¹é…-åŠ¨æ€è°ƒæ•´"çš„è‡ªé€‚åº”æœºåˆ¶</p>
<h2 data-id="heading-17">3.3 ä¼¦ç†è§„èŒƒï¼šäººæœºååŒçš„é“å¾·å‡†åˆ™</h2>
<p>ä¸ºç¡®ä¿äººæœºååŒçš„å¥åº·å‘å±•ï¼Œæˆ‘ä»¬æå‡ºä»¥ä¸‹ä¼¦ç†è§„èŒƒï¼š</p>
<ol>
<li>äººç±»ä¸»å¯¼åŸåˆ™ï¼š</li>
</ol>
<p>äººç±»å§‹ç»ˆä¿æŒæœ€ç»ˆå†³ç­–æƒï¼Œç‰¹åˆ«æ˜¯åœ¨æ¶‰åŠç”Ÿå‘½ã€å¥åº·ã€è´¢äº§ç­‰é‡å¤§åˆ©ç›Šçš„å†³ç­–ä¸­</p>
<p>AIçš„å»ºè®®ä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£äººç±»çš„ä»·å€¼åˆ¤æ–­</p>
<p>å»ºç«‹"äººç±»å¦å†³æƒ"æœºåˆ¶ï¼Œç¡®ä¿åœ¨å¿…è¦æ—¶èƒ½å¤Ÿç«‹å³æ¥ç®¡</p>
<ol start="2">
<li>é€æ˜åº¦è¦æ±‚ï¼š</li>
</ol>
<p>AIå¿…é¡»æ¸…æ™°åœ°è¯´æ˜å…¶å»ºè®®çš„ä¾æ®å’Œæ¨ç†è¿‡ç¨‹</p>
<p>å¯¹äºå…³é”®å†³ç­–ï¼ŒAIåº”å½“æä¾›å¤šç§å¯é€‰æ–¹æ¡ˆåŠå…¶åˆ©å¼Šåˆ†æ</p>
<p>å»ºç«‹"å¯è§£é‡Šæ€§"æ ‡å‡†ï¼Œç¡®ä¿äººç±»èƒ½å¤Ÿç†è§£AIçš„è¡Œä¸ºé€»è¾‘</p>
<ol start="3">
<li>è´£ä»»æ˜æ™°åŸåˆ™ï¼š</li>
</ol>
<p>æ˜ç¡®ç•Œå®šäººç±»ä¸AIåœ¨ä¸åŒåœºæ™¯ä¸‹çš„è´£ä»»è¾¹ç•Œ</p>
<p>å»ºç«‹"è°å†³ç­–è°è´Ÿè´£"çš„åŸåˆ™ï¼ŒAIä¸æ‰¿æ‹…æ³•å¾‹è´£ä»»</p>
<p>å¯¹äºAIçš„é”™è¯¯ï¼Œåº”å½“è¿½æº¯åˆ°ç›¸å…³çš„äººç±»å†³ç­–è€…</p>
<ol start="4">
<li>æŒç»­å­¦ä¹ æœºåˆ¶ï¼š</li>
</ol>
<p>å»ºç«‹äººæœºç›¸äº’å­¦ä¹ çš„æœºåˆ¶ï¼Œé€šè¿‡äº¤äº’ä¸æ–­æå‡ååŒæ•ˆç‡</p>
<p>å®šæœŸè¯„ä¼°ååŒæ•ˆæœï¼ŒåŠæ—¶è°ƒæ•´åˆä½œæ¨¡å¼</p>
<p>ä¿æŠ¤äººç±»çš„å­¦ä¹ èƒ½åŠ›ï¼Œé¿å…è¿‡åº¦ä¾èµ–å¯¼è‡´èƒ½åŠ›é€€åŒ–</p>
<h2 data-id="heading-18">3.4 æŠ€æœ¯æ”¯æ’‘ï¼šå®ç°æ··åˆäº¤äº’æ¨¡å¼çš„å…³é”®æŠ€æœ¯</h2>
<p>è¦å®ç°ä¸Šè¿°æ··åˆäº¤äº’æ¨¡å¼ï¼Œéœ€è¦ä»¥ä¸‹å…³é”®æŠ€æœ¯æ”¯æ’‘ï¼š</p>
<ol>
<li>å¤šæ¨¡æ€äº¤äº’æŠ€æœ¯ï¼š</li>
</ol>
<p>æ”¯æŒè‡ªç„¶è¯­è¨€ã€ä»£ç ã€å›¾è¡¨ç­‰å¤šç§äº¤äº’æ–¹å¼</p>
<p>èƒ½å¤Ÿç†è§£å’Œç”Ÿæˆå¤æ‚çš„æŠ€æœ¯æ–‡æ¡£</p>
<p>å…·å¤‡è·¨æ¨¡æ€çš„ä¿¡æ¯æ•´åˆèƒ½åŠ›</p>
<ol start="2">
<li>æƒ…å¢ƒæ„ŸçŸ¥æŠ€æœ¯ï¼š</li>
</ol>
<p>èƒ½å¤Ÿè¯†åˆ«å½“å‰çš„å¯¹è¯æƒ…å¢ƒå’Œä»»åŠ¡ç±»å‹</p>
<p>æ ¹æ®æƒ…å¢ƒè‡ªåŠ¨è°ƒæ•´äº¤äº’ç­–ç•¥å’Œè§’è‰²å®šä½</p>
<p>å…·å¤‡ä¸Šä¸‹æ–‡ç†è§£å’Œè®°å¿†èƒ½åŠ›</p>
<ol start="3">
<li>ä»·å€¼å¯¹é½æŠ€æœ¯ï¼š</li>
</ol>
<p>å»ºç«‹äººç±»ä»·å€¼è§‚çš„å½¢å¼åŒ–è¡¨ç¤ºæ–¹æ³•</p>
<p>å®ç°AIä¸äººç±»ä»·å€¼è§‚çš„åŠ¨æ€å¯¹é½</p>
<p>èƒ½å¤Ÿå¤„ç†ä»·å€¼è§‚çš„å†²çªå’Œå˜åŒ–</p>
<ol start="4">
<li>å®‰å…¨ä¿éšœæŠ€æœ¯ï¼š</li>
</ol>
<p>å»ºç«‹AIè¡Œä¸ºçš„å®æ—¶ç›‘æ§å’Œé¢„è­¦æœºåˆ¶</p>
<p>å…·å¤‡å®‰å…¨æ²™ç®±ï¼Œé˜²æ­¢AIæ‰§è¡Œå±é™©æ“ä½œ</p>
<p>å»ºç«‹æ•°æ®ä¿æŠ¤æœºåˆ¶ï¼Œç¡®ä¿æ•æ„Ÿä¿¡æ¯ä¸è¢«æ³„éœ²</p>
<h2 data-id="heading-19">3.5 æ¡ˆä¾‹åˆ†æï¼šOoderæ¡†æ¶å¯¹è¯ä¸­çš„æ··åˆäº¤äº’å®è·µ</h2>
<p>å›åˆ°Ooderæ¡†æ¶çš„å¯¹è¯æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ··åˆäº¤äº’æ¨¡å¼çš„æˆåŠŸå®è·µï¼š</p>
<ol>
<li>è§’è‰²åˆ‡æ¢çš„è‡ªç„¶æ€§ï¼š</li>
</ol>
<p>åœ¨è®¨è®ºæ³¨è§£è®¾è®¡çš„åŸºç¡€ç†å¿µæ—¶ï¼ŒAIå……å½“"æ™ºè€…"ï¼Œæå‡ºæ·±åº¦çš„å“²å­¦æ€§é—®é¢˜</p>
<p>åœ¨è®¨è®ºå…·ä½“å®ç°ç»†èŠ‚æ—¶ï¼ŒAIè½¬æ¢ä¸º"æ‰§è¡Œè€…"ï¼Œå…³æ³¨æŠ€æœ¯è§„èŒƒå’Œå®ç°é€»è¾‘</p>
<p>è¿™ç§åˆ‡æ¢æ˜¯è‡ªç„¶æµç•…çš„ï¼Œä½“ç°äº†AIçš„æƒ…å¢ƒæ„ŸçŸ¥èƒ½åŠ›</p>
<ol start="2">
<li>ååŒæ·±åº¦çš„å±‚æ¬¡æ€§ï¼š</li>
</ol>
<p>åœ¨æˆ˜ç•¥å±‚é¢ï¼ŒAIä¸æ¶æ„å¸ˆæ¢è®¨è®¾è®¡å“²å­¦å’Œä»·å€¼å–å‘</p>
<p>åœ¨æˆ˜æœ¯å±‚é¢ï¼ŒAIååŠ©åˆ†æè®¾è®¡çš„åˆç†æ€§å’Œå¯è¡Œæ€§</p>
<p>åœ¨æ‰§è¡Œå±‚é¢ï¼ŒAIå…³æ³¨ä»£ç è§„èŒƒå’Œå®ç°ç»†èŠ‚</p>
<ol start="3">
<li>ä»·å€¼åˆ›é€ çš„åŒå‘æ€§ï¼š</li>
</ol>
<p>æ¶æ„å¸ˆé€šè¿‡ä¸AIçš„å¯¹è¯ï¼Œæ¾„æ¸…äº†è®¾è®¡æ€è·¯ï¼Œå‘ç°äº†æ½œåœ¨é—®é¢˜</p>
<p>AIé€šè¿‡æ·±å…¥äº†è§£Ooderæ¡†æ¶ï¼Œä¸°å¯Œäº†è‡ªå·±çš„æŠ€æœ¯çŸ¥è¯†åº“</p>
<p>åŒæ–¹éƒ½ä»å¯¹è¯ä¸­è·å¾—äº†æœ‰ä»·å€¼çš„ä¿¡æ¯å’Œå¯å‘</p>
<ol start="4">
<li>è´£ä»»è¾¹ç•Œçš„æ¸…æ™°æ€§ï¼š</li>
</ol>
<p>æ¶æ„å¸ˆå§‹ç»ˆä¿æŒå¯¹è®¾è®¡å†³ç­–çš„ä¸»å¯¼æƒ</p>
<p>AIæä¾›å»ºè®®ä½†ä¸åšæœ€ç»ˆå†³å®š</p>
<p>å¯¹äºæŠ€æœ¯ç»†èŠ‚çš„è®¨è®ºï¼ŒåŒæ–¹éƒ½æ˜ç¡®äº†å„è‡ªçš„ä¸“ä¸šé¢†åŸŸ</p>
<h2 data-id="heading-20">ç»“è®º</h2>
<p>é€šè¿‡å¯¹AIæ²Ÿé€šä¼¦ç†çš„äºŒå…ƒé€‰æ‹©å’Œæé—®æœºåˆ¶çš„æ·±å…¥ç ”ç©¶ï¼Œæˆ‘ä»¬å¾—å‡ºä»¥ä¸‹æ ¸å¿ƒç»“è®ºï¼š</p>
<h2 data-id="heading-21">å…³äºAIæ²Ÿé€šä¼¦ç†çš„ç»“è®º</h2>
<ol>
<li>
<p>"æ™ºè€…æ¨¡å¼"ä¸"æ‰§è¡Œè€…æ¨¡å¼"å¹¶éå¯¹ç«‹å…³ç³»ï¼Œè€Œæ˜¯å¯ä»¥åœ¨ä¸åŒåœºæ™¯ä¸‹çµæ´»åº”ç”¨çš„äº¤äº’ç­–ç•¥ã€‚æˆåŠŸçš„äººæœºååŒéœ€è¦æ ¹æ®å…·ä½“æƒ…å¢ƒåŠ¨æ€é€‰æ‹©æˆ–ç»„åˆä½¿ç”¨è¿™ä¸¤ç§æ¨¡å¼ã€‚</p>
</li>
<li>
<p>æ··åˆäº¤äº’æ¨¡å¼æ˜¯æœªæ¥å‘å±•æ–¹å‘ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒAIå¯ä»¥æ ¹æ®å¯¹è¯æƒ…å¢ƒã€ä»»åŠ¡ç±»å‹å’Œä»·å€¼ç‰¹å¾åŠ¨æ€åˆ‡æ¢è§’è‰²ï¼Œæ—¢å‘æŒ¥å…¶"æ™ºæ…§"ä¼˜åŠ¿ï¼Œåˆç¡®ä¿å¯æ§æ€§å’Œå®‰å…¨æ€§ã€‚</p>
</li>
<li>
<p>ä¼¦ç†è€ƒé‡æ˜¯äººæœºååŒçš„æ ¸å¿ƒè¦ç´ ã€‚æ— è®ºæ˜¯é€‰æ‹©"æ™ºè€…æ¨¡å¼"è¿˜æ˜¯"æ‰§è¡Œè€…æ¨¡å¼"ï¼Œéƒ½éœ€è¦è€ƒè™‘ä¼¦ç†å› ç´ ï¼ŒåŒ…æ‹¬äººç±»å°Šä¸¥ã€è´£ä»»å½’å±ã€é€æ˜åº¦è¦æ±‚ç­‰ã€‚</p>
</li>
<li>
<p>åœºæ™¯åŒ–çš„ç­–ç•¥é€‰æ‹©è‡³å…³é‡è¦ã€‚ä¸åŒçš„åº”ç”¨åœºæ™¯éœ€è¦ä¸åŒçš„äººæœºååŒç­–ç•¥ï¼Œæ²¡æœ‰ä¸€ç§æ¨¡å¼èƒ½å¤Ÿé€‚ç”¨äºæ‰€æœ‰æƒ…å†µã€‚</p>
</li>
</ol>
<h2 data-id="heading-22">å…³äºAIæé—®æœºåˆ¶çš„ç»“è®º</h2>
<ol>
<li>
<p>AIçš„æé—®æ˜¯"æ¶æ„ä¼¦ç†"ä¸"ä»»åŠ¡æ‰§è¡Œ"åŒé‡é©±åŠ¨çš„ç»“æœã€‚ä»»åŠ¡æ‰§è¡Œæœºåˆ¶ç¡®ä¿äº†æé—®çš„å…¨é¢æ€§å’Œç³»ç»Ÿæ€§ï¼Œè€Œæ¶æ„ä¼¦ç†æœºåˆ¶æå‡äº†æé—®çš„è´¨é‡å’Œæ´å¯ŸåŠ›ã€‚</p>
</li>
<li>
<p>AIä½“ç°å‡ºäº†æŸç§"æ¶æ„ä¼¦ç†"æ„è¯†ï¼ŒåŒ…æ‹¬å¯¹è®¾è®¡åŸåˆ™çš„åšå®ˆã€å¯¹ç³»ç»Ÿå®Œæ•´æ€§çš„è¿½æ±‚ã€å¯¹ç”¨æˆ·åˆ©ç›Šçš„è€ƒé‡ç­‰ã€‚è¿™ç§ä¼¦ç†ç»´åº¦ä½¿å¾—AIçš„æé—®è¶…è¶Šäº†ç®€å•çš„ä¿¡æ¯æ”¶é›†ã€‚</p>
</li>
<li>
<p>AIçš„æé—®æ¨¡å¼å…·æœ‰æ˜æ˜¾çš„ç±»å‹å­¦ç‰¹å¾ï¼ŒåŒ…æ‹¬æ¢ç´¢æ€§æé—®ã€éªŒè¯æ€§æé—®ã€æœºåˆ¶æ€§æé—®ã€å‰ç»æ€§æé—®å’Œå¹³è¡¡æ€§æé—®ç­‰ï¼Œæ¯ç§ç±»å‹éƒ½æœåŠ¡äºç‰¹å®šçš„è®¤çŸ¥ç›®æ ‡ã€‚</p>
</li>
<li>
<p>AIçš„æé—®è¡Œä¸ºå±•ç°å‡ºç³»ç»Ÿæ€§æ€ç»´ã€æ‰¹åˆ¤æ€§æ€ç»´å’Œå­¦ä¹ èƒ½åŠ›ï¼Œè¿™äº›ç‰¹å¾è¡¨æ˜AIæ­£åœ¨ä»ç®€å•çš„å·¥å…·å‘æ™ºèƒ½ä¼™ä¼´æ¼”è¿›ã€‚</p>
</li>
</ol>
<h2 data-id="heading-23">å¯¹æœªæ¥çš„å¯ç¤º</h2>
<ol>
<li>
<p>æŠ€æœ¯å‘å±•æ–¹å‘ï¼šæœªæ¥çš„AIç³»ç»Ÿåº”å½“å…·å¤‡æ›´å¼ºçš„æƒ…å¢ƒæ„ŸçŸ¥èƒ½åŠ›å’Œè§’è‰²åˆ‡æ¢èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨"æ™ºè€…"ä¸"æ‰§è¡Œè€…"ä¹‹é—´çµæ´»è½¬æ¢ã€‚</p>
</li>
<li>
<p>ä¼¦ç†è§„èŒƒå»ºè®¾ï¼šéœ€è¦å»ºç«‹å®Œå–„çš„äººæœºååŒä¼¦ç†æ¡†æ¶ï¼Œæ˜ç¡®ä¸åŒåœºæ™¯ä¸‹çš„è´£ä»»è¾¹ç•Œå’Œè¡Œä¸ºå‡†åˆ™ã€‚</p>
</li>
<li>
<p>æ•™è‚²åŸ¹è®­éœ€æ±‚ï¼šäººç±»éœ€è¦å­¦ä¹ å¦‚ä½•ä¸AIè¿›è¡Œæœ‰æ•ˆåä½œï¼Œæ—¢è¦å‘æŒ¥AIçš„ä¼˜åŠ¿ï¼Œåˆè¦ä¿æŒè‡ªèº«çš„ä¸»ä½“æ€§å’Œåˆ¤æ–­åŠ›ã€‚</p>
</li>
<li>
<p>ç¤¾ä¼šæ²»ç†æŒ‘æˆ˜ï¼šéšç€AIèƒ½åŠ›çš„ä¸æ–­æå‡ï¼Œéœ€è¦é‡æ–°æ€è€ƒäººç±»åœ¨ç¤¾ä¼šä¸­çš„è§’è‰²å®šä½ï¼Œå»ºç«‹é€‚åº”äººæœºååŒæ—¶ä»£çš„ç¤¾ä¼šæ²»ç†æœºåˆ¶ã€‚</p>
</li>
</ol>
<p>åœ¨AIæ—¶ä»£ï¼Œäººç±»ä¸AIçš„å…³ç³»æ­£åœ¨ç»å†æ ¹æœ¬æ€§çš„å˜é©ã€‚æˆ‘ä»¬æ—¢ä¸åº”è¯¥ç›²ç›®å´‡æ‹œAIçš„"æ™ºæ…§"ï¼Œä¹Ÿä¸åº”è¯¥å°†å…¶ç®€å•åœ°è§†ä¸ºå·¥å…·ã€‚æ­£ç¡®çš„æ€åº¦æ˜¯ï¼šåœ¨å°Šé‡äººç±»ä¸»ä½“æ€§çš„å‰æä¸‹ï¼Œå……åˆ†å‘æŒ¥AIçš„è®¤çŸ¥ä¼˜åŠ¿ï¼Œå»ºç«‹äººæœºååŒçš„æ–°å‹åˆä½œå…³ç³»ã€‚è¿™ç§å…³ç³»ä¸æ˜¯é›¶å’Œåšå¼ˆï¼Œè€Œæ˜¯ç›¸äº’ä¿ƒè¿›ã€å…±åŒæˆé•¿çš„å…±ç”Ÿå…³ç³»ã€‚</p>
<p>æ­£å¦‚Ooderæ¡†æ¶çš„å¯¹è¯æ‰€å±•ç¤ºçš„ï¼Œå½“äººç±»çš„è®¾è®¡æ™ºæ…§ä¸AIçš„è®¤çŸ¥èƒ½åŠ›ç›¸ç»“åˆæ—¶ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåˆ›é€ å‡ºè¶…è¶Šå•ä¸€ä¸»ä½“èƒ½åŠ›çš„åˆ›æ–°æˆæœã€‚è¿™ç§ååŒä¸ä»…ä½“ç°åœ¨æŠ€æœ¯åˆ›æ–°ä¸Šï¼Œæ›´ä½“ç°åœ¨å¯¹äººç±»æ–‡æ˜å‘å±•æ–¹å‘çš„å…±åŒæ¢ç´¢ä¸Šã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¿æŒæ‰¹åˆ¤æ€§æ€ç»´ã€åšå®ˆä¼¦ç†åº•çº¿ã€è¿½æ±‚ä»·å€¼å…±è¯†ï¼Œå°†æ˜¯æˆ‘ä»¬å…±åŒçš„è´£ä»»ã€‚</p>
<p>æœªæ¥çš„äººæœºååŒå°†æ˜¯ä¸€ä¸ªä¸æ–­æ¼”è¿›çš„è¿‡ç¨‹ï¼Œéœ€è¦æˆ‘ä»¬ä¿æŒå¼€æ”¾çš„å¿ƒæ€ã€ä¸¥è°¨çš„æ€åº¦å’Œåˆ›æ–°çš„ç²¾ç¥ã€‚åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨AIæ—¶ä»£å®ç°çœŸæ­£çš„äººæœºå…±èµ¢ï¼Œå…±åŒåˆ›é€ æ›´åŠ ç¾å¥½çš„æœªæ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AndroidæŠ€èƒ½ç‚¹ã€‘å¯åŠ¨é“¾è·¯ + AMS/ATMS åŸºç¡€æ¦‚å¿µæŒæ¡]]></title>    <link>https://juejin.cn/post/7592340733953228850</link>    <guid>https://juejin.cn/post/7592340733953228850</guid>    <pubDate>2026-01-07T06:17:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592340733953228850" data-draft-id="7592234632482865161" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ã€AndroidæŠ€èƒ½ç‚¹ã€‘å¯åŠ¨é“¾è·¯ + AMS/ATMS åŸºç¡€æ¦‚å¿µæŒæ¡"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-07T06:17:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è«æ¯”ä¹Œæ–¯ç¯"/> <meta itemprop="url" content="https://juejin.cn/user/2840793776394269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ã€AndroidæŠ€èƒ½ç‚¹ã€‘å¯åŠ¨é“¾è·¯ + AMS/ATMS åŸºç¡€æ¦‚å¿µæŒæ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793776394269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è«æ¯”ä¹Œæ–¯ç¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T06:17:53.000Z" title="Wed Jan 07 2026 06:17:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯ä½ ä»¬çš„æŠ€æœ¯å°ä¼™ä¼´ï¼ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠä¸€ä¸ªå¬èµ·æ¥â€œé«˜ç«¯å¤§æ°”ä¸Šæ¡£æ¬¡â€çš„è¯é¢˜â€”â€”Android å¯åŠ¨é“¾è·¯ä»¥åŠ AMS/ATMS çš„åŸºç¡€æŠ€èƒ½ã€‚åˆ«æ€¥ç€é€ƒè·‘ï¼è™½ç„¶åå­—çœ‹èµ·æ¥åƒæ˜¯ç¼–ç¨‹ç•Œçš„é»‘é­”æ³•ï¼Œä½†å…¶å®å®ƒä»¬ä¸€ç‚¹ä¹Ÿä¸å¯æ€•ã€‚ä»Šå¤©æˆ‘å°±ç”¨è½»æ¾æç¬‘çš„æ–¹å¼ï¼Œå¸¦ä½ ä»¬å¿«é€Ÿå…¥é—¨è¿™äº›çœ‹ä¼¼å¤æ‚çš„æ¦‚å¿µï¼</p>
</blockquote>
<h2 data-id="heading-0">å…³è”æ–‡ç« </h2>
<ul>
<li><a href="https://juejin.cn/editor/drafts/7592234632482865161" target="_blank" title="https://juejin.cn/editor/drafts/7592234632482865161">å¯åŠ¨é“¾è·¯ + AMS/ATMS åŸºç¡€æ¦‚å¿µæŒæ¡</a></li>
<li><a href="https://juejin.cn/spost/7592241336290017331" target="_blank" title="https://juejin.cn/spost/7592241336290017331">ä¸€å¼ å›¾ç†æ¸… å¼€æœºã€Appå¯åŠ¨æµç¨‹</a></li>
</ul>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ Android å¯åŠ¨é“¾è·¯ï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼ŒAndroid å¯åŠ¨é“¾è·¯å°±æ˜¯æ‰‹æœºä»æŒ‰ä¸‹ç”µæºé”®åˆ°æ¡Œé¢å‡ºç°çš„å…¨è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å°±åƒä½ æ—©ä¸Šèµ·åºŠä¸€æ ·ï¼Œä»é—¹é’Ÿå“èµ·ï¼ˆbootloader å¯åŠ¨ï¼‰ï¼Œåˆ°ä½ è¿·è¿·ç³Šç³Šç©¿è¡£æœï¼ˆç³»ç»ŸæœåŠ¡å¯åŠ¨ï¼‰ï¼Œå†åˆ°ä½ ç²¾ç¥ç„•å‘åœ°æ‰“å¼€æ‰‹æœºåˆ·æœ‹å‹åœˆï¼ˆåº”ç”¨å¯åŠ¨ï¼‰ã€‚æ•´ä¸ªæµç¨‹ç›¸å½“å¤æ‚ï¼Œä½†ä¹Ÿå……æ»¡äº†â€œå·¥ç¨‹ç¾æ„Ÿâ€ï¼ˆç¨‹åºå‘˜çš„è‡ªæˆ‘å®‰æ…°ï¼‰ã€‚</p>
<h3 data-id="heading-2">å¯åŠ¨é“¾è·¯çš„å‡ ä¸ªå…³é”®é˜¶æ®µ</h3>
<ol>
<li>
<p><strong>Bootloader é˜¶æ®µ</strong><br/>
Bootloader å°±åƒä½ çš„é—¹é’Ÿï¼Œè´Ÿè´£æŠŠä½ ä»æ¢¦ä¹¡ä¸­å«é†’ã€‚å½“ç„¶ï¼ŒBootloader ä¸ä¼šå–Šâ€œå¿«èµ·åºŠï¼è¦è¿Ÿåˆ°äº†ï¼â€ï¼Œå®ƒçš„å·¥ä½œæ˜¯åŠ è½½æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè®©è®¾å¤‡ä»ç¡¬ä»¶å±‚é¢è¿›å…¥è½¯ä»¶å±‚é¢ã€‚ç®€å•è¯´ï¼ŒBootloader æ˜¯å¯åŠ¨é“¾è·¯çš„å¼€åœºç™½ã€‚</p>
</li>
<li>
<p><strong>å†…æ ¸å¯åŠ¨</strong><br/>
å†…æ ¸å¯åŠ¨å°±åƒä½ æ‰“ç€å“ˆæ¬ ä»åºŠä¸Šçˆ¬èµ·æ¥ï¼Œå¼€å§‹åè°ƒèº«ä½“å„ä¸ªéƒ¨åˆ†çš„å·¥ä½œã€‚å†…æ ¸è´Ÿè´£åˆå§‹åŒ–ç³»ç»Ÿç¡¬ä»¶ï¼Œæ¯”å¦‚ CPUã€å†…å­˜ã€å­˜å‚¨è®¾å¤‡ç­‰ã€‚æ²¡æœ‰å†…æ ¸ï¼Œå°±åƒæ²¡æœ‰å’–å•¡çš„æ—©æ™¨ï¼Œå•¥ä¹Ÿå¹²ä¸æˆã€‚</p>
</li>
<li>
<p><strong>Zygote å¯åŠ¨</strong><br/>
Zygote æ˜¯ Android ç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨åˆ†ä¹‹ä¸€ï¼Œå®ƒè´Ÿè´£åˆ›å»ºåº”ç”¨è¿›ç¨‹ã€‚å¯ä»¥ç†è§£ä¸º Zygote æ˜¯ä¸ªâ€œå…‹éš†æœºå™¨â€ï¼Œæ¯æ¬¡ä½ æ‰“å¼€ä¸€ä¸ªåº”ç”¨ï¼Œå®ƒéƒ½ä¼šä» Zygote ä¸­â€œå¤åˆ¶â€å‡ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ã€‚Zygote æ˜¯ä¸ªå‹¤åŠ³çš„å°ä¼™ä¼´ï¼Œä½†ä¹Ÿæœ‰ç‚¹æ‡’ï¼Œå› ä¸ºå®ƒä¼šå°½å¯èƒ½åœ°å¤ç”¨èµ„æºæ¥æé«˜æ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>SystemServer å¯åŠ¨</strong><br/>
SystemServer å°±åƒä½ çš„å¤§è„‘ï¼Œè´Ÿè´£ç®¡ç†ç³»ç»ŸæœåŠ¡ï¼Œæ¯”å¦‚ AMS å’Œ ATMSã€‚SystemServer ä¸€æ—¦å¯åŠ¨ï¼Œæ•´ä¸ªç³»ç»Ÿå°±æ­£å¼è¿›å…¥äº†â€œå·¥ä½œæ¨¡å¼â€ã€‚</p>
</li>
<li>
<p><strong>åº”ç”¨å¯åŠ¨</strong><br/>
æœ€åä¸€æ­¥å°±æ˜¯æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„éƒ¨åˆ†ï¼šç‚¹å‡»å›¾æ ‡æ‰“å¼€åº”ç”¨ã€‚è¿™ä¸€æ­¥çœ‹ä¼¼ç®€å•ï¼Œå®é™…ä¸ŠèƒŒåæœ‰ä¸€æ•´ä¸ªå¤æ‚çš„è°ƒç”¨é“¾æ¡åœ¨æ”¯æ’‘ã€‚AMS å’Œ ATMS å°±åœ¨è¿™é‡Œå‘æŒ¥äº†é‡è¦ä½œç”¨ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">AMS å’Œ ATMS æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</h2>
<p>AMSï¼ˆActivity Manager Serviceï¼‰å’Œ ATMSï¼ˆActivity Task Manager Serviceï¼‰æ˜¯ Android ç³»ç»Ÿä¸­ä¸¤ä½â€œéšå½¢è‹±é›„â€ï¼Œå®ƒä»¬åœ¨åå°é»˜é»˜å·¥ä½œï¼Œè®©æˆ‘ä»¬çš„æ‰‹æœºä½¿ç”¨ä½“éªŒæ›´åŠ æµç•…ã€‚</p>
<h3 data-id="heading-4">AMSï¼šæ´»åŠ¨ç®¡ç†æœåŠ¡</h3>
<p>AMS çš„ä¸»è¦èŒè´£æ˜¯ç®¡ç†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚æ¯”å¦‚ï¼Œå½“ä½ åˆ‡æ¢åº”ç”¨æ—¶ï¼ŒAMS ä¼šè´Ÿè´£æš‚åœå½“å‰åº”ç”¨ã€å¯åŠ¨æ–°åº”ç”¨ã€å›æ”¶åå°èµ„æºç­‰ç­‰ã€‚AMS å°±åƒä¸€ä¸ªä¸¥è°¨çš„æ—¶é—´ç®¡ç†å¤§å¸ˆï¼Œå®ƒä¼šç¡®ä¿æ¯ä¸ªåº”ç”¨éƒ½æŒ‰ç…§è§„åˆ™è¿è¡Œï¼Œä¸ä¼šâ€œæŠ¢æˆâ€ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æ‰“å¼€å¾®ä¿¡ååˆåˆ‡åˆ°å¾®åšï¼Œé‚£ä¹ˆ AMS ä¼šæŠŠå¾®ä¿¡æ”¾åˆ°åå°ï¼ŒåŒæ—¶æŠŠå¾®åšæ¨åˆ°å‰å°ã€‚AMS è¿˜ä¼šåœ¨åå°å·å·è§‚å¯Ÿå¾®ä¿¡ï¼šâ€œå˜¿ï¼Œä½ åˆ«å å¤ªå¤šå†…å­˜å•Šï¼Œä¸ç„¶æˆ‘å°±æŠŠä½ å¹²æ‰äº†ï¼â€</p>
<h3 data-id="heading-5">ATMSï¼šä»»åŠ¡ç®¡ç†æœåŠ¡</h3>
<p>ATMS æ˜¯ AMS çš„å¥½æ­æ¡£ï¼Œå®ƒä¸»è¦è´Ÿè´£ç®¡ç†ä»»åŠ¡æ ˆã€‚ä»»åŠ¡æ ˆå¯ä»¥ç†è§£ä¸ºåº”ç”¨è¿è¡Œæ—¶çš„â€œå†å²è®°å½•â€ã€‚æ¯”å¦‚ï¼Œå½“ä½ ä»å¾®ä¿¡ç‚¹å¼€ä¸€ä¸ªç½‘é¡µï¼Œç„¶åå†è¿”å›å¾®ä¿¡æ—¶ï¼Œè¿™äº›æ“ä½œéƒ½ä¼šè®°å½•åœ¨ä»»åŠ¡æ ˆä¸­ã€‚</p>
<p>ATMS å°±åƒä¸€ä¸ªâ€œå ç½—æ±‰â€é«˜æ‰‹ï¼Œæ¯æ¬¡ä½ æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ï¼Œå®ƒéƒ½ä¼šæŠŠè¿™ä¸ªé¡µé¢å‹åœ¨ä»»åŠ¡æ ˆçš„æœ€ä¸Šæ–¹ã€‚å½“ä½ æŒ‰ä¸‹è¿”å›é”®æ—¶ï¼Œå®ƒä¼šä¾æ¬¡å¼¹å‡ºæ ˆé¡¶é¡µé¢ï¼Œç›´åˆ°å›åˆ°æ¡Œé¢ã€‚æ˜¯ä¸æ˜¯å¾ˆèªæ˜ï¼Ÿ</p>
<h2 data-id="heading-6">å¦‚ä½•å¿«é€ŸæŒæ¡è¿™äº›æŠ€èƒ½ï¼Ÿ</h2>
<p>äº†è§£äº†åŸºç¡€æ¦‚å¿µåï¼Œæˆ‘ä»¬å†æ¥èŠèŠå¦‚ä½•å¿«é€ŸæŒæ¡è¿™äº›æŠ€èƒ½ã€‚å…¶å®ï¼Œä½ å¹¶ä¸éœ€è¦è®°ä½æ‰€æœ‰ç»†èŠ‚ï¼Œåªè¦æŒæ¡å‡ ä¸ªå…³é”®ç‚¹ï¼Œå°±èƒ½åœ¨é¡¹ç›®ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<ol>
<li>
<p><strong>å¤šç”»æµç¨‹å›¾</strong><br/>
ç†è§£å¯åŠ¨é“¾è·¯å’Œ AMS/ATMS çš„æœ€ä½³æ–¹æ³•å°±æ˜¯ç”»æµç¨‹å›¾ã€‚æŠŠæ¯ä¸ªé˜¶æ®µç”»å‡ºæ¥ï¼Œå†ç”¨ç®­å¤´è¿æ¥èµ·æ¥ï¼Œä½ ä¼šå‘ç°è¿™äº›å¤æ‚çš„æ¦‚å¿µå…¶å®å¾ˆæœ‰é€»è¾‘ã€‚</p>
</li>
<li>
<p><strong>å¤šçœ‹æ—¥å¿—</strong><br/>
å¦‚æœä½ æ˜¯å¼€å‘è€…ï¼Œé‚£å°±å¤šæ‰“å¼€ Logcatï¼Œè§‚å¯Ÿç³»ç»Ÿå¯åŠ¨å’Œåº”ç”¨å¯åŠ¨æ—¶çš„æ—¥å¿—ã€‚é€šè¿‡æ—¥å¿—ï¼Œä½ å¯ä»¥ç›´è§‚åœ°çœ‹åˆ° AMS å’Œ ATMS çš„å·¥ä½œè¿‡ç¨‹ã€‚</p>
</li>
<li>
<p><strong>å¤šå†™ä»£ç </strong><br/>
å­¦ä¹ æœ€å¥½çš„æ–¹å¼å°±æ˜¯å®è·µï¼è¯•ç€å†™ä¸€äº›ç®€å•çš„ä»£ç ï¼Œæ¯”å¦‚è‡ªå®šä¹‰å¯åŠ¨æµç¨‹æˆ–è€…æ¨¡æ‹Ÿä»»åŠ¡æ ˆæ“ä½œï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£è¿™äº›æœºåˆ¶ã€‚</p>
</li>
<li>
<p><strong>å¤šé—®é—®é¢˜</strong><br/>
ä¸æ‡‚å°±é—®ï¼Œä¸è¦å®³æ€•æš´éœ²è‡ªå·±çš„â€œèœé¸Ÿâ€èº«ä»½ã€‚æ¯ä¸ªå¤§ä½¬éƒ½æ˜¯ä»å°ç™½ä¸€æ­¥æ­¥æˆé•¿èµ·æ¥çš„ï¼</p>
</li>
</ol>
<h2 data-id="heading-7">æœ€åçš„ä¸€ç‚¹ç‚¹é¸¡æ±¤</h2>
<p>å­¦ä¹  Android å¯åŠ¨é“¾è·¯å’Œ AMS/ATMS å¯èƒ½ä¼šè®©ä½ æ„Ÿè§‰æœ‰ç‚¹çƒ§è„‘ï¼Œä½†åªè¦åšæŒä¸‹å»ï¼Œä½ ä¸€å®šä¼šå‘ç°å…¶ä¸­çš„ä¹è¶£ã€‚æ¯•ç«Ÿï¼Œæ¯ä¸ªæŠ€æœ¯å¤§ç¥éƒ½æ˜¯ä»â€œå•¥éƒ½ä¸æ‡‚â€å¼€å§‹çš„ï¼</p>
<p>æ‰€ä»¥ï¼Œä¸è¦å®³æ€•æŒ‘æˆ˜ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æˆä¸º Android å¼€å‘ç•Œçš„â€œéšè—é«˜æ‰‹â€å§ï¼åŠ æ²¹ï¼Œå†²é¸­ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack MVVM]]></title>    <link>https://juejin.cn/post/7592166340381294607</link>    <guid>https://juejin.cn/post/7592166340381294607</guid>    <pubDate>2026-01-07T07:04:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592166340381294607" data-draft-id="7592127014188171264" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack MVVM"/> <meta itemprop="keywords" content="Android Jetpack"/> <meta itemprop="datePublished" content="2026-01-07T07:04:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XRay"/> <meta itemprop="url" content="https://juejin.cn/user/3966693685869288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack MVVM
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693685869288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XRay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T07:04:09.000Z" title="Wed Jan 07 2026 07:04:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Androidå¼€å‘ä¸­çš„æ¶æ„</h3>
<p>Androidä¸­çš„å¼€å‘æ¶æ„æ˜¯ç”¨æ¥æè¿° <strong>è§†å›¾å±‚</strong> ã€ <strong>é€»è¾‘å±‚</strong> å’Œ <strong>æ•°æ®å±‚</strong> ä¸‰è€…ä¹‹é—´çš„å…³ç³»çš„ã€‚</p>
<ul>
<li>è§†å›¾å±‚ï¼šç”¨æˆ·ç•Œé¢ï¼Œå³ç•Œé¢çš„å±•ç¤ºå’Œäº¤äº’äº‹ä»¶çš„å“åº”ã€‚</li>
<li>é€»è¾‘å±‚ï¼šä¸ºäº†å®ç°ç³»ç»ŸåŠŸèƒ½è€Œè¿›è¡Œçš„å¿…è¦é€»è¾‘ã€‚</li>
<li>æ•°æ®å±‚ï¼šæ•°æ®çš„è·å–å’Œå­˜å‚¨ï¼Œå«æœ¬åœ°æ•°æ®å’ŒæœåŠ¡å™¨æ•°æ®ã€‚</li>
</ul>
<p>ä¸€èˆ¬æˆ‘ä»¬çš„æ¶æ„ä¹‹è·¯æ˜¯ä» MVC -&gt; MVP -&gt; MVVM æ¼”å˜çš„ã€‚</p>
<h5 data-id="heading-1">MVC</h5>
<p>MVCï¼ŒModel-View-Controllerï¼ŒèŒè´£åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>Modelï¼Œæ¨¡å‹å±‚ï¼Œå³æ•°æ®æ¨¡å‹ï¼Œç”¨äºè·å–å’Œå­˜å‚¨æ•°æ®ã€‚</li>
<li>Viewï¼Œè§†å›¾å±‚ï¼Œåœ¨Androidä¸­å°±æ˜¯xmlå¸ƒå±€ã€‚</li>
<li>Controllerï¼Œæ§åˆ¶å±‚ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p>Viewæ¥æ”¶åˆ°ç”¨æˆ·æ“ä½œäº‹ä»¶ï¼Œé€šçŸ¥åˆ°Controllerè¿›è¡Œå¯¹åº”çš„é€»è¾‘å¤„ç†ï¼Œç„¶åé€šçŸ¥Modelå»è·å–/æ›´æ–°æ•°æ®ï¼ŒModelå†æŠŠæ–°çš„æ•°æ®ä¼ é€’ç»™Viewæ›´æ–°ç•Œé¢ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå®Œæ•´MVCçš„æ•°æ®æµå‘ã€‚</p>
<p>ä½†åœ¨Androidä¸­ï¼Œå› ä¸ºxmlå¸ƒå±€ä½œä¸ºè§†å›¾å±‚èƒ½åŠ›å¾ˆå¼±ï¼Œå¾ˆå¤šæ“ä½œViewçš„ä»£ç æ˜¯å†™åœ¨Activity/Fragmentä¸­çš„ï¼Œè€Œä¸šåŠ¡é€»è¾‘åŒæ ·ä¹Ÿæ˜¯å†™åœ¨Activity/Fragmentä¸­ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8afa9122ab440eda6095265f71a66d1~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=369&amp;h=237&amp;s=4078&amp;e=webp&amp;a=1&amp;b=fdfdfd" alt="MVC" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼ŒAndroidä¸­MVCçš„é—®é¢˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>Activity/Fragmentçš„è´£ä»»ä¸æ˜ç¡®ï¼ŒåŒæ—¶è´Ÿè´£Viewå’ŒControllerï¼Œè¿™æ ·å°±å¯¼è‡´Activity/Fragmentçš„ä»£ç é‡å¾ˆå¤§ï¼Œä¸æ»¡è¶³å•ä¸€èŒè´£åŸåˆ™ã€‚</li>
<li>Modelè€¦åˆViewï¼ŒViewçš„ä¿®æ”¹ä¼šå¯¼è‡´Controllerå’ŒModeléƒ½è¿›è¡Œæ”¹åŠ¨ï¼Œä¸æ»¡è¶³æœ€å°‘çŸ¥è¯†åŸåˆ™ã€‚</li>
</ol>
<h5 data-id="heading-2">MVP</h5>
<p>MVPï¼ŒModel-View-Presenterï¼ŒèŒè´£åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>Modelï¼Œæ¨¡å‹å±‚ï¼Œå³æ•°æ®æ¨¡å‹ï¼Œç”¨äºè·å–å’Œå­˜å‚¨æ•°æ®ã€‚</li>
<li>Viewï¼Œè§†å›¾å±‚ï¼Œå³Activity/Fragment.</li>
<li>Presenterï¼Œæ§åˆ¶å±‚ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<p>MVPè§£å†³äº†MVCçš„é—®é¢˜ï¼š<br/>
1.Activity/Fragmentçš„è´£ä»»æ˜ç¡®ï¼Œé€»è¾‘ä¸å†å†™åœ¨Activity/Fragmentä¸­ï¼Œè€Œæ˜¯åœ¨Presenterä¸­ï¼›<br/>
2.Modelä¸å†æŒæœ‰Viewã€‚</p>
<p>Viewå±‚æ¥æ”¶åˆ°ç”¨æˆ·æ“ä½œäº‹ä»¶åï¼Œè°ƒç”¨Presenterè¿›è¡Œé€»è¾‘å¤„ç†ï¼Œç„¶åé€šçŸ¥Modelè·å–æˆ–æ›´æ–°æ•°æ®ï¼ŒModelæŠŠæ•°æ®ç»™åˆ°Presenterï¼ŒPresenterå†é€šçŸ¥Viewæ›´æ–°ç•Œé¢ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/236ecae85abe4b82bda2953bcc584fb6~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=379&amp;h=221&amp;s=4672&amp;e=webp&amp;a=1&amp;b=fefefe" alt="MVP" loading="lazy"/></p>
<p>MVPçš„å®ç°æ€è·¯ï¼š</p>
<ul>
<li>UIé€»è¾‘æŠ½è±¡æˆIViewæ¥å£ï¼Œç”±å…·ä½“çš„Activityå®ç°ç±»æ¥å®Œæˆï¼Œä¸”è°ƒç”¨Presenterè¿›è¡Œé€»è¾‘å¤„ç†ã€‚</li>
<li>ä¸šåŠ¡é€»è¾‘æŠ½è±¡æˆIPresenteræ¥å£ï¼Œç”±å…·ä½“çš„Presenterå®ç°ç±»æ¥å®Œæˆã€‚é€»è¾‘æ“ä½œå®Œæˆåè°ƒç”¨IViewæ¥å£æ–¹æ³•åˆ·æ–°UIã€‚</li>
</ul>
<p>MVPæœ¬è´¨æ˜¯<strong>é¢å‘æ¥å£ç¼–ç¨‹ï¼Œå®ç°äº†ä¾èµ–å€’ç½®</strong>åŸåˆ™ã€‚MVPè§£å†³äº†Viewå±‚è´£ä»»ä¸æ˜ç¡®çš„é—®é¢˜ï¼Œä½†å¹¶æ²¡æœ‰è§£å†³ä»£ç è€¦åˆçš„é—®é¢˜ï¼ŒViewå’ŒPresenterä¹‹é—´ç›¸äº’æŒæœ‰ã€‚</p>
<p>æ‰€ä»¥ï¼ŒMVPçš„é—®é¢˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¼šå¼•å…¥å¤§é‡çš„IViewã€IPresenteræ¥å£ï¼Œå¢åŠ å®ç°çš„å¤æ‚åº¦ã€‚</li>
<li>Viewå’ŒPresenterç›¸äº’æŒæœ‰ï¼Œå½¢æˆè€¦åˆã€‚</li>
</ol>
<h5 data-id="heading-3">MVVM</h5>
<p>MVVMï¼ŒModel-View-ViewModelï¼ŒèŒè´£åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>Modelï¼Œæ¨¡å‹å±‚ï¼Œå³æ•°æ®æ¨¡å‹ï¼Œç”¨äºè·å–å’Œå­˜å‚¨æ•°æ®ã€‚</li>
<li>Viewï¼Œè§†å›¾ï¼Œå³Activity/Fragmentã€‚</li>
<li>ViewModelï¼Œè§†å›¾æ¨¡å‹ï¼Œè´Ÿè´£ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼ŒMVVMè¿™é‡Œçš„ViewModelå°±æ˜¯ä¸€ä¸ªåç§°ï¼Œå¯ä»¥ç†è§£ä¸ºMVPä¸­çš„Presenterã€‚ä¸ç­‰åŒäºå‰é¢æ–‡ç« ä¸­çš„ViewModelç»„ä»¶ ï¼ŒJetpack ViewModelç»„ä»¶æ˜¯å¯¹MVVMçš„ViewModelçš„å…·ä½“å®æ–½æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>MVVMçš„æœ¬è´¨æ˜¯<strong>æ•°æ®é©±åŠ¨</strong>ï¼ŒæŠŠè§£è€¦åšçš„æ›´å½»åº•ï¼ŒViewModelä¸æŒæœ‰View ã€‚</p>
<p>Viewäº§ç”Ÿäº‹ä»¶ï¼Œä½¿ç”¨ViewModelè¿›è¡Œé€»è¾‘å¤„ç†åï¼Œé€šçŸ¥Modelæ›´æ–°æ•°æ®ï¼ŒModelæŠŠæ›´æ–°çš„æ•°æ®ç»™ViewModelï¼ŒViewModel<strong>è‡ªåŠ¨é€šçŸ¥Viewæ›´æ–°ç•Œé¢</strong>ï¼Œ<strong>è€Œä¸æ˜¯ä¸»åŠ¨è°ƒç”¨Viewçš„æ–¹æ³•</strong>ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4933d313a8e54f0e9edc2ef440686b29~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=379&amp;h=217&amp;s=4326&amp;e=webp&amp;a=1&amp;b=fdfdfd" alt="MVVM" loading="lazy"/></p>
<blockquote>
<p>åˆ°è¿™é‡Œä½ ä¼šå‘ç°ï¼Œæ‰€è°“çš„æ¶æ„æ¨¡å¼æœ¬è´¨ä¸Šç†è§£å¾ˆç®€å•ã€‚æ¯”å¦‚MVPï¼Œç”šè‡³ä½ éƒ½å¯ä»¥å¿½ç•¥è¿™ä¸ªåå­—ï¼Œç†è§£æˆåœ¨æ›´é«˜çš„å±‚é¢ä¸Šé¢å‘æ¥å£ç¼–ç¨‹ï¼Œå®ç°äº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
</blockquote>
<h3 data-id="heading-4">MVVMçš„å®ç° â€”â€” Jetpack MVVM</h3>
<p>Jetpack MVVMæ˜¯MVVMæ¶æ„åœ¨Androidå¼€å‘ä¸­çš„ä¸€ç§å…·ä½“å®ç°æ–¹å¼ï¼Œæ˜¯Googleå®˜æ–¹æä¾›å¹¶æ¨èçš„ã€‚</p>
<p>Jetpack MVVMä¸ä»…é€šè¿‡æ•°æ®é©±åŠ¨å®ç°äº†Viewä¸ViewModelçš„è§£è€¦ï¼Œè¿˜å…¼é¡¾äº†Androidé¡µé¢å¼€å‘ä¸­å…¶ä»–ä¸å¯é¢„æœŸçš„é”™è¯¯ï¼Œä¾‹å¦‚Lifecycleèƒ½å¦¥å–„å¤„ç†é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…Viewçš„ç©ºæŒ‡é’ˆé—®é¢˜ï¼ŒViewModelä½¿å¾—é…ç½®æ›´æ”¹å¯¼è‡´Activityé‡å»ºæ—¶æ— éœ€é‡æ–°å‘åå°è¯·æ±‚æ•°æ®ï¼ŒèŠ‚çœäº†å¼€é”€ã€‚</p>
<p>é¦–å…ˆï¼Œè¯·çœ‹ä¸‹å›¾ï¼Œè¯¥å›¾æ˜¾ç¤ºäº†æ‰€æœ‰æ¨¡å—åº”å¦‚ä½•å½¼æ­¤äº¤äº’ï¼š <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7a8bfa7b6234b3eabae4ff33df78722~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=960&amp;h=720&amp;s=19858&amp;e=webp&amp;a=1&amp;b=26f2c2" alt="Jetpack MVVM æ¶æ„" loading="lazy"/></p>
<p>å„æ¨¡å—å¯¹åº”MVVMæ¶æ„ï¼š</p>
<ul>
<li><strong>Viewå±‚ï¼šActivity/Fragment</strong></li>
<li><strong>ViewModelå±‚ï¼šJetpack ViewModel + Jetpack LivaData</strong></li>
<li><strong>Modelå±‚ï¼šRepositoryä»“åº“ï¼ŒåŒ…å« æœ¬åœ°æŒä¹…æ€§æ•°æ® å’Œ æœåŠ¡ç«¯æ•°æ®</strong></li>
</ul>
<p><strong>Viewå±‚</strong> åŒ…å«äº†æˆ‘ä»¬å¹³æ—¶å†™çš„Activity/Fragment/å¸ƒå±€æ–‡ä»¶ç­‰ä¸ç•Œé¢ç›¸å…³çš„ä¸œè¥¿ã€‚</p>
<p><strong>ViewModelå±‚</strong> ç”¨äºæŒæœ‰å’ŒUIç›¸å…³çš„LiveDataæ•°æ®ï¼Œä»¥ä¿è¯è¿™äº›æ•°æ®åœ¨å±å¹•æ—‹è½¬æ—¶ä¸ä¼šä¸¢å¤±ï¼Œå¹¶ä¸”è¿˜è¦æä¾›æ¥å£ç»™Viewå±‚è°ƒç”¨ä»¥åŠå’Œä»“åº“å±‚è¿›è¡Œé€šä¿¡ã€‚</p>
<p><strong>Modelå±‚</strong> è¦åšçš„ä¸»è¦å·¥ä½œæ˜¯åˆ¤æ–­è°ƒç”¨æ–¹è¯·æ±‚çš„æ•°æ®åº”è¯¥ä»æœ¬åœ°æ•°æ®æºä¸­è·å–è¿˜æ˜¯ä»ç½‘ç»œæ•°æ®æºä¸­è·å–ï¼Œå¹¶å°†è·å–åˆ°çš„æ•°æ®è¿”å›ç»™è°ƒç”¨æ–¹ã€‚æœ¬åœ°æ•°æ®æºå¯ä»¥ä½¿ç”¨æ•°æ®åº“ã€SharedPreferencesç­‰æŒä¹…åŒ–æŠ€æœ¯æ¥å®ç°ï¼Œè€Œç½‘ç»œæ•°æ®æºåˆ™é€šå¸¸ä½¿ç”¨Retrofitè®¿é—®æœåŠ¡å™¨æä¾›çš„Webserviceæ¥å£æ¥å®ç°ã€‚</p>
<p>å¦å¤–ï¼Œå›¾ä¸­æ‰€æœ‰çš„ç®­å¤´éƒ½æ˜¯å•å‘çš„ï¼Œä¾‹å¦‚Viewå±‚æŒ‡å‘äº†ViewModelå±‚ï¼Œè¡¨ç¤ºViewå±‚ä¼šæŒæœ‰ViewModelå±‚çš„å¼•ç”¨ï¼Œä½†æ˜¯åè¿‡æ¥<strong>ViewModelå±‚å´ä¸èƒ½æŒæœ‰Viewå±‚çš„å¼•ç”¨</strong>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå¼•ç”¨ä¹Ÿä¸èƒ½è·¨å±‚æŒæœ‰ï¼Œæ¯”å¦‚Viewå±‚ä¸èƒ½æŒæœ‰ä»“åº“å±‚çš„å¼•ç”¨ï¼Œè°¨è®°æ¯ä¸€å±‚çš„ç»„ä»¶éƒ½åªèƒ½ä¸å®ƒç›¸é‚»å±‚çš„ç»„ä»¶è¿›è¡Œäº¤äº’ã€‚</p>
<p>è¿™ç§è®¾è®¡æ‰“é€ äº†ä¸€è‡´ä¸”æ„‰å¿«çš„ç”¨æˆ·ä½“éªŒã€‚æ— è®ºç”¨æˆ·ä¸Šæ¬¡ä½¿ç”¨åº”ç”¨æ˜¯åœ¨å‡ åˆ†é’Ÿå‰è¿˜æ˜¯å‡ å¤©ä¹‹å‰ï¼Œç°åœ¨å›åˆ°åº”ç”¨æ—¶éƒ½ä¼šç«‹å³çœ‹åˆ°åº”ç”¨åœ¨æœ¬åœ°ä¿ç•™çš„æ•°æ®ã€‚å¦‚æœæ­¤æ•°æ®å·²è¿‡æœŸï¼Œåˆ™åº”ç”¨çš„Repositoryå°†å¼€å§‹åœ¨åå°æ›´æ–°æ•°æ®ã€‚</p>
<h5 data-id="heading-5">ç¤ºä¾‹</h5>
<p>è¿™é‡Œä»¥ä¸€ä¸ªè·å–å¤©æ°”ä¿¡æ¯å¹¶å±•ç¤ºçš„ä¸šåŠ¡æ¥è¯´æ˜å¦‚ä½•å®ç°Jetpack MVVMã€‚</p>
<p>æ–°å»ºä¸€ä¸ªå¤©æ°”ä¿¡æ¯ç±»ï¼Œé‡Œé¢æœ‰2ä¸ªå­—æ®µï¼Œä¸€ä¸ªå­—æ®µç”¨æ¥è¡¨ç¤ºä»€ä¹ˆæ ·çš„å¤©æ°”ï¼Œå¦ä¸€ä¸ªè¡¨ç¤ºæ¸©åº¦ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherInfo</span> {
    <span class="hljs-comment">//æ™´å¤©/é›¨å¤©/å¤šäº‘...</span>
    <span class="hljs-keyword">private</span> String text;
    <span class="hljs-comment">//æ¸©åº¦</span>
    <span class="hljs-keyword">private</span> String temp;

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getText</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> text;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setText</span><span class="hljs-params">(String text)</span> {
        <span class="hljs-built_in">this</span>.text = text;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTemp</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> temp;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTemp</span><span class="hljs-params">(String temp)</span> {
        <span class="hljs-built_in">this</span>.temp = temp;
    }
}
</code></pre>
<p>ä¸ºäº†å®ç°æ•°æ®é©±åŠ¨ï¼Œéœ€è¦ä½¿ç”¨LiveDataæ¥åŒ…è£…å¤©æ°”ä¿¡æ¯ï¼Œå…¶ä¸­loadingLiveDataæ˜¯ç”¨æ¥æ§åˆ¶è¿›åº¦æ¡çš„æ˜¾ç¤ºçš„ã€‚æ ¹æ®ä¸Šé¢çš„æ¶æ„å›¾ï¼Œè¿˜éœ€è¦ä½¿ç”¨ViewModelæ¥å­˜å‚¨LiveDataï¼Œè¿™æ ·åœ¨å±å¹•æ—‹è½¬æ—¶LiveDataçš„æ•°æ®ä¸ä¼šä¸¢å¤±ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherInfoViewModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewModel</span> {
    <span class="hljs-comment">//å¤©æ°”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> MutableLiveData&lt;WeatherInfo&gt; weatherInfoLiveData;
    <span class="hljs-comment">//è¿›æ¡åº¦çš„æ˜¾ç¤º</span>
    <span class="hljs-keyword">private</span> MutableLiveData&lt;Boolean&gt; loadingLiveData;

    <span class="hljs-keyword">public</span> LiveData&lt;WeatherInfo&gt; <span class="hljs-title function_">getWeatherInfoLiveData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> weatherInfoLiveData;
    }

    <span class="hljs-keyword">public</span> LiveData&lt;Boolean&gt; <span class="hljs-title function_">getLoadingLiveData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> loadingLiveData;
    }
}
</code></pre>
<blockquote>
<p>LiveDataæ˜¯ä¸€ç§å¯è§‚å¯Ÿçš„æ•°æ®å­˜å‚¨å™¨ï¼Œåº”ç”¨ç»„ä»¶ï¼ˆå¦‚ Activityã€Fragment å’Œ Serviceï¼‰å¯ä»¥ä½¿ç”¨æ­¤å­˜å‚¨å™¨ç›‘æ§å¯¹è±¡çš„æ›´æ”¹ï¼Œè€Œæ— éœ€åœ¨å®ƒä»¬ä¹‹é—´åˆ›å»ºæ˜ç¡®ä¸”ä¸¥æ ¼çš„ä¾èµ–è·¯å¾„ã€‚LiveDataç»„ä»¶è¿˜éµå¾ªåº”ç”¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼Œå¹¶åŒ…æ‹¬æ¸…ç†é€»è¾‘ä»¥é˜²æ­¢å¯¹è±¡æ³„æ¼å’Œè¿‡å¤šçš„å†…å­˜æ¶ˆè€—ã€‚</p>
</blockquote>
<p>æ³¨æ„åˆ°WeatherInfoViewModelç±»æš´éœ²çš„getWeatherInfoLiveData()æ–¹æ³•è¿”å›çš„æ˜¯LiveDataç±»å‹ï¼Œå³ä¸å¯å˜çš„ï¼Œè€Œä¸æ˜¯MutableLiveDataï¼Œå¥½å¤„æ˜¯é¿å…æ•°æ®åœ¨å¤–éƒ¨è¢«æ›´æ”¹ã€‚</p>
<p>æˆ‘ä»¬åœ¨WeatherActivityä¸­è§‚å¯ŸLiveDataçš„æ›´æ–°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span>{

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        ...
        initData();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initData</span><span class="hljs-params">()</span>{
        <span class="hljs-type">ViewModelProvider</span> <span class="hljs-variable">viewModelProvider</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewModelProvider</span>(<span class="hljs-built_in">this</span>);
        <span class="hljs-type">WeatherInfoViewModel</span> <span class="hljs-variable">weatherInfoViewModel</span> <span class="hljs-operator">=</span> viewModelProvider.get(WeatherInfoViewModel.class);

        weatherInfoViewModel.getWeatherInfoLiveData().observe(<span class="hljs-built_in">this</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>&lt;WeatherInfo&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onChanged</span><span class="hljs-params">(WeatherInfo weatherInfo)</span> {
                <span class="hljs-comment">//æ›´æ–°å¤©æ°”ä¿¡æ¯</span>
                mTvWeather.setText(weatherInfo.getText());
                mTvTemp.setText(weatherInfo.getTemp());
            }
        });

        weatherInfoViewModel.getLoadingLiveData().observe(<span class="hljs-built_in">this</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>&lt;Boolean&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onChanged</span><span class="hljs-params">(Boolean aBoolean)</span> {
                <span class="hljs-comment">//æ˜¾ç¤ºæˆ–éšè—åŠ è½½è¿›åº¦æ¡</span>
                mProgressBar.setVisibility(aBoolean? View.VISIBLE:View.GONE);
            }
        });

        ...

    }

}
</code></pre>
<p>æ¯æ¬¡å¤©æ°”ä¿¡æ¯æ›´æ–°ï¼Œç›¸åº”çš„onChanged()æ–¹æ³•éƒ½ä¼šå›è°ƒï¼Œè€Œä¸éœ€è¦ViewModelä¸»åŠ¨è°ƒç”¨Viewå±‚æ–¹æ³•æ›´æ–°UIï¼Œè¿™å°±æ˜¯<strong>æ•°æ®é©±åŠ¨</strong> â€”â€” æ•°æ®çš„æ›´æ”¹é©±åŠ¨Viewè‡ªåŠ¨æ›´æ–°ã€‚</p>
<p>å› ä¸ºLiveDataå…·æœ‰ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥èƒ½åŠ›ï¼Œè¿™æ„å‘³ç€ï¼Œåªæœ‰Activityå¤„äºæ´»è·ƒçŠ¶æ€ï¼ŒonChanged()æ‰ä¼šå›è°ƒã€‚å½“Activityçš„onDestroy()æ‰§è¡Œæ—¶ï¼ŒLiveDataä¼šè‡ªåŠ¨ç§»é™¤è§‚å¯Ÿè€…ã€‚</p>
<p>é‰´äºWeatherInfoViewModelå¯¹è±¡æ¯”å¯¹åº”çš„Viewå¯¹è±¡å­˜æ´»çš„æ—¶é—´æ›´é•¿ï¼ŒWeatherInfoViewModelä¸­ä¸å¾—åŒ…å«å¯¹Viewå¯¹è±¡çš„ç›´æ¥å¼•ç”¨ï¼ŒåŒ…æ‹¬Contextã€‚</p>
<p>æˆ‘ä»¬å·²ç»ä½¿ç”¨ViewModelå°†LiveDataä¸Activityå…³è”èµ·æ¥äº†ï¼Œé‚£ä¹ˆå¦‚ä½•è·å–å¤©æ°”ä¿¡æ¯å‘¢ï¼Ÿ</p>
<p>ä¸€ä¸ªç®€å•çš„æƒ³æ³•æ˜¯ç›´æ¥åœ¨ViewModelä¸­ä½¿ç”¨OkHttpä»æœåŠ¡å™¨è·å–å¤©æ°”ä¿¡æ¯ï¼Œè·å–æˆåŠŸåå°†æ•°æ®è®¾ç½®ç»™LiveDataï¼Œä½†æ˜¯è¿™æ ·ä¼šä½¿ViewModelæ‰¿æ‹…äº†å¤ªå¤šçš„è´£ä»»ï¼Œè¿èƒŒäº†å•ä¸€èŒè´£åŸåˆ™ã€‚</p>
<p>åœ¨ä¸Šé¢çš„æ¶æ„å›¾ä¸­ï¼ŒViewModelå°†æ•°æ®è·å–è¿‡ç¨‹å§”æ´¾ç»™ä¸€ä¸ªæ–°çš„æ¨¡å—â€”â€”Repositoryã€‚è¿™é‡Œæˆ‘ä»¬ä¹Ÿç…§ç€æ¶æ„å›¾æ–°å»ºä¸€ä¸ªç±»WeatherRepositoryï¼Œç”¨æ¥ä»æœåŠ¡å™¨è·å–å¤©æ°”ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherRepository</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> WeatherRepository weatherRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> WeatherRepository <span class="hljs-title function_">getWeatherRepository</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (weatherRepository == <span class="hljs-literal">null</span>) {
            weatherRepository = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeatherRepository</span>();
        }
        <span class="hljs-keyword">return</span> weatherRepository;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getWeatherInfoFromServer</span><span class="hljs-params">(Callback callback)</span> {

        OkHttpClient.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>.Builder()
                .connectTimeout(<span class="hljs-number">15L</span>, TimeUnit.SECONDS)
                .readTimeout(<span class="hljs-number">15L</span>, TimeUnit.SECONDS)
                .writeTimeout(<span class="hljs-number">15L</span>, TimeUnit.SECONDS)
                .retryOnConnectionFailure(<span class="hljs-literal">true</span>);

        <span class="hljs-type">HttpLoggingInterceptor</span> <span class="hljs-variable">logInterceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpLoggingInterceptor</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpLoggingInterceptor</span>.Logger() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">log</span><span class="hljs-params">(String message)</span> {
                Log.d(<span class="hljs-string">"TAG"</span>, <span class="hljs-string">"url info:"</span> + message);
            }
        });
        logInterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);
        builder.addInterceptor(logInterceptor);

        <span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">okHttpClient</span> <span class="hljs-operator">=</span> builder.build();
        <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>.Builder()
                .url(<span class="hljs-string">"http://xxxx"</span>)
                .get()
                .build();
        <span class="hljs-type">Call</span> <span class="hljs-variable">call</span> <span class="hljs-operator">=</span> okHttpClient.newCall(request);
        call.enqueue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">okhttp3</span>.Callback() {

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call call, IOException e)</span> {
                Log.d(<span class="hljs-string">"TAG"</span>, <span class="hljs-string">"onFailure: "</span>);
                callback.onFailed(e.getMessage());
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call call, Response response)</span> <span class="hljs-keyword">throws</span> IOException {
                <span class="hljs-keyword">if</span> (response.isSuccessful()) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> response.body().string();
                    <span class="hljs-type">Gson</span> <span class="hljs-variable">gson</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>();
                    WeatherInfo weatherInfo;
                    <span class="hljs-keyword">try</span> {
                        weatherInfo = gson.fromJson(data, WeatherInfo.class);
                        callback.onSuccess(weatherInfo);
                    } <span class="hljs-keyword">catch</span> (Exception e) {
                        Log.i(<span class="hljs-string">"TAG"</span>, <span class="hljs-string">"Exception e:"</span> + e.getMessage());
                    }
                }
            }

        });
    }
}
</code></pre>
<p>getWeatherInfoFromServer()æ–¹æ³•ä¼ å…¥ä¸€ä¸ªæ¥å£å›è°ƒCallbackï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Callback</span>&lt;T&gt; {
    <span class="hljs-comment">//æˆåŠŸçš„æ—¶å€™å›è°ƒ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(T t)</span>;
    <span class="hljs-comment">//å¤±è´¥çš„æ—¶å€™å›è°ƒ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailed</span><span class="hljs-params">(String msg)</span>;
}
</code></pre>
<p>åœ¨WeatherInfoViewModelä¸­è°ƒç”¨getWeatherInfoFromServer()æ–¹æ³•ï¼Œå¹¶åœ¨æ¥å£å›è°ƒä¸­ä¿®æ”¹LiveDataä¸­çš„å€¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherInfoViewModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewModel</span> {
    <span class="hljs-comment">//å¤©æ°”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> MutableLiveData&lt;WeatherInfo&gt; weatherInfoLiveData;
    <span class="hljs-comment">//è¿›æ¡åº¦çš„æ˜¾ç¤º</span>
    <span class="hljs-keyword">private</span> MutableLiveData&lt;Boolean&gt; loadingLiveData;

    <span class="hljs-keyword">public</span> LiveData&lt;WeatherInfo&gt; <span class="hljs-title function_">getWeatherInfoLiveData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> weatherInfoLiveData;
    }

    <span class="hljs-keyword">public</span> MutableLiveData&lt;Boolean&gt; <span class="hljs-title function_">getLoadingLiveData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> loadingLiveData;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getWeatherInfo</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">//è·å–å¤©æ°”ä¿¡æ¯å‰æ˜¾ç¤ºè¿›åº¦æ¡</span>
        loadingLiveData.setValue(<span class="hljs-literal">true</span>);

        WeatherRepository.getWeatherRepository().getWeatherInfoFromServer(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>&lt;WeatherInfo&gt;() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(WeatherInfo weatherInfo)</span> {
                <span class="hljs-comment">//è·å–æˆåŠŸåï¼Œè®©è¿›åº¦æ¡æ¶ˆå¤±</span>
                loadingLiveData.setValue(<span class="hljs-literal">false</span>);
                weatherInfoLiveData.setValue(weatherInfo);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailed</span><span class="hljs-params">(String msg)</span> {
                loadingLiveData.setValue(<span class="hljs-literal">false</span>);
                weatherInfoLiveData.setValue(<span class="hljs-literal">null</span>);
            }
        });
    }
}
</code></pre>
<p>è¿™æ ·å°±æŠŠè·å–å¤©æ°”ä¿¡æ¯å§”æ´¾ç»™äº†WeatherRepositoryï¼Œå½“æˆ‘ä»¬è¿˜æƒ³ä»æœ¬åœ°è·å–å¤©æ°”ä¿¡æ¯ç›´æ¥åœ¨WeatherRepositoryä¸­æ·»åŠ ç›¸åº”çš„æ–¹æ³•å³å¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeatherRepository</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getWeatherInfoFromLocal</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">//ä»æœ¬åœ°è·å–å¤©æ°”ä¿¡æ¯</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveWeatherInfoToLocal</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">//å°†å¤©æ°”ä¿¡æ¯å­˜å…¥æœ¬åœ°</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getWeatherInfoFromServer</span><span class="hljs-params">()</span>{
        <span class="hljs-comment">//ä»æœåŠ¡å™¨è·å–å¤©æ°”ä¿¡æ¯</span>
    }
}
</code></pre>
<p>æœ€åï¼Œè¿˜è¦åœ¨Activityä¸­ï¼Œè°ƒç”¨<code>weatherInfoViewModel.getWeatherInfo()</code>è·å–å¤©æ°”ä¿¡æ¯ã€‚è¿™æ ·ï¼Œé€šè¿‡WeatherRepositoryè·å–åˆ°å¤©æ°”ä¿¡æ¯åï¼Œå›è°ƒç»™ViewModelæ›´æ–°å…¶ä¸­çš„LiveDataçš„å€¼ï¼Œé€šè¿‡æ•°æ®é©±åŠ¨ï¼Œç›¸åº”çš„Viewå¯ä»¥æ‹¿åˆ°å¤©æ°”ä¿¡æ¯æ›´æ–°UIã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯é€šè¿‡Jetpack MVVMå®ç°çš„MVVMæ¶æ„çš„å®ç°æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Luban 2ï¼šç®€æ´é«˜æ•ˆçš„Androidå›¾ç‰‡å‹ç¼©åº“]]></title>    <link>https://juejin.cn/post/7592241336290033715</link>    <guid>https://juejin.cn/post/7592241336290033715</guid>    <pubDate>2026-01-07T06:53:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592241336290033715" data-draft-id="7592234632483127305" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Luban 2ï¼šç®€æ´é«˜æ•ˆçš„Androidå›¾ç‰‡å‹ç¼©åº“"/> <meta itemprop="keywords" content="Kotlin,å¾®ä¿¡"/> <meta itemprop="datePublished" content="2026-01-07T06:53:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç†Šç åŒ "/> <meta itemprop="url" content="https://juejin.cn/user/1585942854909582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Luban 2ï¼šç®€æ´é«˜æ•ˆçš„Androidå›¾ç‰‡å‹ç¼©åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1585942854909582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç†Šç åŒ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T06:53:15.000Z" title="Wed Jan 07 2026 06:53:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>Luban 2</code>ï¼ˆé²ç­ 2ï¼‰ â€”â€” <code>Android</code>å›¾ç‰‡å‹ç¼©å·¥å…·ï¼Œä»¿å¾®ä¿¡æœ‹å‹åœˆå‹ç¼©ç­–ç•¥ã€‚</p>
<h3 data-id="heading-0">ğŸ“‘ ç›®å½•</h3>
<ul>
<li><a href="#-%E9%A1%B9%E7%9B%AE%E6%8F%8F%E8%BF%B0" title="#-%E9%A1%B9%E7%9B%AE%E6%8F%8F%E8%BF%B0">ğŸ“– é¡¹ç›®æè¿°</a></li>
<li><a href="#-%E6%95%88%E6%9E%9C%E4%B8%8E%E5%AF%B9%E6%AF%94" title="#-%E6%95%88%E6%9E%9C%E4%B8%8E%E5%AF%B9%E6%AF%94">ğŸ“Š æ•ˆæœä¸å¯¹æ¯”</a>
<ul>
<li><a href="#-%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95%E7%89%B9%E6%80%A7" title="#-%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95%E7%89%B9%E6%80%A7">ğŸ”¬ æ ¸å¿ƒç®—æ³•ç‰¹æ€§</a></li>
</ul>
</li>
<li><a href="#-%E5%AF%BC%E5%85%A5" title="#-%E5%AF%BC%E5%85%A5">ğŸ“¦ å¯¼å…¥</a></li>
<li><a href="#-%E4%BD%BF%E7%94%A8" title="#-%E4%BD%BF%E7%94%A8">ğŸ’» ä½¿ç”¨</a>
<ul>
<li><a href="#-kotlin-coroutines" title="#-kotlin-coroutines">âš¡ Kotlin (Coroutines)</a></li>
<li><a href="#-java--builder-%E6%A8%A1%E5%BC%8F" title="#-java--builder-%E6%A8%A1%E5%BC%8F">â˜• Java / Builder æ¨¡å¼</a></li>
</ul>
</li>
<li><a href="#-%E6%8D%90%E5%8A%A9" title="#-%E6%8D%90%E5%8A%A9">â˜• æåŠ©</a></li>
<li><a href="#-license" title="#-license">ğŸ“„ License</a></li>
</ul>
<h2 data-id="heading-1">ğŸ“– é¡¹ç›®æè¿°</h2>
<p>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fcurzbin%2FLuban" target="_blank" title="https://gitee.com/curzbin/Luban" ref="nofollow noopener noreferrer">Gitee</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCurzibn%2FLuban" target="_blank" title="https://github.com/Curzibn/Luban" ref="nofollow noopener noreferrer">Github</a></p>
<p>ç›®å‰åš<code>App</code>å¼€å‘æ€»ç»•ä¸å¼€å›¾ç‰‡è¿™ä¸ªå…ƒç´ ã€‚ä½†æ˜¯éšç€æ‰‹æœºæ‹ç…§åˆ†è¾¨ç‡çš„æå‡ï¼Œå›¾ç‰‡çš„å‹ç¼©æˆä¸ºä¸€ä¸ªå¾ˆé‡è¦çš„é—®é¢˜ã€‚å•çº¯å¯¹å›¾ç‰‡è¿›è¡Œè£åˆ‡ï¼Œå‹ç¼©å·²ç»æœ‰å¾ˆå¤šæ–‡ç« ä»‹ç»ã€‚ä½†æ˜¯è£åˆ‡æˆå¤šå°‘ï¼Œå‹ç¼©æˆå¤šå°‘å´å¾ˆéš¾æ§åˆ¶å¥½ï¼Œè£åˆ‡è¿‡å¤´å›¾ç‰‡å¤ªå°ï¼Œè´¨é‡å‹ç¼©è¿‡å¤´åˆ™æ˜¾ç¤ºæ•ˆæœå¤ªå·®ã€‚</p>
<p>äºæ˜¯è‡ªç„¶æƒ³åˆ°<code>App</code>å·¨å¤´"å¾®ä¿¡"ä¼šæ˜¯æ€ä¹ˆå¤„ç†ï¼Œ<code>Luban</code>ï¼ˆé²ç­ï¼‰å°±æ˜¯é€šè¿‡åœ¨å¾®ä¿¡æœ‹å‹åœˆå‘é€è¿‘100å¼ ä¸åŒåˆ†è¾¨ç‡å›¾ç‰‡ï¼Œå¯¹æ¯”åŸå›¾ä¸å¾®ä¿¡å‹ç¼©åçš„å›¾ç‰‡é€†å‘æ¨ç®—å‡ºæ¥çš„å‹ç¼©ç®—æ³•ã€‚</p>
<p>å› ä¸ºæ˜¯é€†å‘æ¨ç®—ï¼Œæ•ˆæœè¿˜æ²¡æ³•è·Ÿå¾®ä¿¡ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯å·²ç»å¾ˆæ¥è¿‘å¾®ä¿¡æœ‹å‹åœˆå‹ç¼©åçš„æ•ˆæœï¼Œå…·ä½“çœ‹ä»¥ä¸‹å¯¹æ¯”ï¼</p>
<p>æœ¬åº“æ˜¯ <code>Luban</code> çš„ <strong>Kotlin é‡æ„ç‰ˆæœ¬</strong>ï¼Œåœ¨å‡çº§æ ¸å¿ƒç®—æ³•çš„åŒæ—¶ï¼Œåˆ©ç”¨ <strong>Kotlin Coroutines</strong> å’Œ <strong>TurboJPEG</strong> è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ã€‚æ–°ç®—æ³•æ¯”åŸç®—æ³•æ›´åŠ å¥å£®å’Œé«˜æ•ˆï¼Œæä¾›æ›´é«˜æ•ˆçš„å¼‚æ­¥å¤„ç†å’Œæ›´ä¼˜è´¨çš„å‹ç¼©æ•ˆæœã€‚</p>
<h2 data-id="heading-2">ğŸ“Š æ•ˆæœä¸å¯¹æ¯”</h2>















































<table><thead><tr><th align="left">å›¾ç‰‡ç±»å‹</th><th align="left">åŸå›¾ï¼ˆåˆ†è¾¨ç‡, å¤§å°ï¼‰</th><th align="left">Lubanï¼ˆåˆ†è¾¨ç‡, å¤§å°ï¼‰</th><th align="left">Wechatï¼ˆåˆ†è¾¨ç‡, å¤§å°ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>æ ‡å‡†æ‹ç…§</strong></td><td align="left">3024Ã—4032, 5.10MB</td><td align="left">1440Ã—1920, 305KB</td><td align="left">1440Ã—1920, 303KB</td></tr><tr><td align="left"><strong>é«˜æ¸…å¤§å›¾</strong></td><td align="left">4000Ã—6000, 12.10MB</td><td align="left">1440Ã—2160, 318KB</td><td align="left">1440Ã—2160, 305KB</td></tr><tr><td align="left"><strong>2K æˆªå›¾</strong></td><td align="left">1440Ã—3200, 2.10MB</td><td align="left">1440Ã—3200, 148KB</td><td align="left">1440Ã—3200, 256KB</td></tr><tr><td align="left"><strong>è¶…é•¿è®°å½•</strong></td><td align="left">1242Ã—22080, 6.10MB</td><td align="left">758Ã—13490, 290KB</td><td align="left">744Ã—13129, 256KB</td></tr><tr><td align="left"><strong>å…¨æ™¯æ¨ªå›¾</strong></td><td align="left">12000Ã—5000, 8.10MB</td><td align="left">1440Ã—600, 126KB</td><td align="left">1440Ã—600, 123KB</td></tr><tr><td align="left"><strong>è®¾è®¡åŸç¨¿</strong></td><td align="left">6000Ã—6000, 6.90MB</td><td align="left">1440Ã—1440, 263KB</td><td align="left">1440Ã—1440, 279KB</td></tr></tbody></table>
<h3 data-id="heading-3">ğŸ”¬ æ ¸å¿ƒç®—æ³•ç‰¹æ€§</h3>
<p>æœ¬åº“é‡‡ç”¨<strong>è‡ªé€‚åº”ç»Ÿä¸€å›¾åƒå‹ç¼©ç®—æ³• (Adaptive Unified Image Compression)</strong>ï¼Œé€šè¿‡åŸå›¾çš„åˆ†è¾¨ç‡ç‰¹å¾ï¼ŒåŠ¨æ€åº”ç”¨å·®å¼‚åŒ–ç­–ç•¥ï¼Œå®ç°ç”»è´¨ä¸ä½“ç§¯çš„æœ€ä¼˜å¹³è¡¡ã€‚</p>
<h4 data-id="heading-4">æ™ºèƒ½åˆ†è¾¨ç‡å†³ç­–</h4>
<ul>
<li><strong>é«˜æ¸…åŸºå‡† (1440p)</strong>ï¼šé»˜è®¤ä»¥ 1440px ä½œä¸ºçŸ­è¾¹åŸºå‡†ï¼Œç¡®ä¿åœ¨ç°ä»£ 2K/4K å±å¹•ä¸Šçš„è§†è§‰æ¸…æ™°åº¦</li>
<li><strong>å…¨æ™¯å¢™ç­–ç•¥</strong>ï¼šè‡ªåŠ¨è¯†åˆ«è¶…å¤§å…¨æ™¯å›¾ï¼ˆé•¿è¾¹ &gt;10800pxï¼‰ï¼Œé”å®šé•¿è¾¹ä¸º 1440pxï¼Œä¿ç•™å®Œæ•´è§†é‡</li>
<li><strong>è¶…å¤§åƒç´ é™·é˜±</strong>ï¼šå¯¹è¶…è¿‡ 4096ä¸‡åƒç´ çš„è¶…é«˜åƒç´ å›¾è‡ªåŠ¨æ‰§è¡Œ 1/4 é™é‡‡æ ·å¤„ç†</li>
<li><strong>é•¿å›¾å†…å­˜ä¿æŠ¤</strong>ï¼šé’ˆå¯¹è¶…é•¿æˆªå›¾å»ºç«‹ 10.24MP åƒç´ ä¸Šé™ï¼Œé€šè¿‡ç­‰æ¯”ç¼©æ”¾é˜²æ­¢ OOM</li>
</ul>
<h4 data-id="heading-5">è‡ªé€‚åº”æ¯”ç‰¹ç‡æ§åˆ¶</h4>
<ul>
<li><strong>æå°å›¾ (&lt;0.5MP)</strong>ï¼šå‡ ä¹ä¸è¿›è¡Œæœ‰æŸå‹ç¼©ï¼Œé˜²æ­¢å‹ç¼©ä¼ªå½±</li>
<li><strong>é«˜é¢‘ä¿¡æ¯å›¾ (0.5-1MP)</strong>ï¼šæé«˜ç¼–ç è´¨é‡ï¼Œè¡¥å¿åˆ†è¾¨ç‡æŸå¤±</li>
<li><strong>æ ‡å‡†å›¾ç‰‡ (1-3MP)</strong>ï¼šåº”ç”¨å¹³è¡¡ç³»æ•°ï¼Œå¯¹æ ‡ä¸»æµç¤¾äº¤è½¯ä»¶ä½“éªŒ</li>
<li><strong>è¶…å¤§å›¾/é•¿å›¾ (&gt;3MP)</strong>ï¼šåº”ç”¨é«˜å‹ç¼©ç‡ï¼Œæ˜¾è‘—å‡å°‘ä½“ç§¯</li>
</ul>
<h4 data-id="heading-6">å¥å£®æ€§ä¿éšœ</h4>
<ul>
<li><strong>è†¨èƒ€å›é€€</strong>ï¼šå‹ç¼©åä½“ç§¯å¤§äºåŸå›¾æ—¶ï¼Œè‡ªåŠ¨é€ä¼ åŸå›¾ï¼Œç¡®ä¿ç»ä¸"è´Ÿä¼˜åŒ–"</li>
<li><strong>æ™ºèƒ½æ ¼å¼é€ä¼ </strong>ï¼šä¿ç•™å°ä½“ç§¯ PNG çš„é€æ˜é€šé“ï¼Œå¤§ä½“ç§¯ PNG è‡ªåŠ¨è½¬ç ä¸º JPEG</li>
<li><strong>è¾“å…¥é˜²å¾¡</strong>ï¼šå¦¥å–„å¤„ç†æç«¯åˆ†è¾¨ç‡è¾“å…¥ï¼ˆ0ã€è´Ÿæ•°ã€1px ç­‰ï¼‰ï¼Œé˜²æ­¢å´©æºƒ</li>
</ul>
<h2 data-id="heading-7">ğŸ“¦ å¯¼å…¥</h2>
<p>ç¡®ä¿é¡¹ç›®çš„ <code>build.gradle</code> æˆ– <code>build.gradle.kts</code> å·²é…ç½® Maven Central ä»“åº“ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">repositories {
    mavenCentral()
}
</code></pre>
<p>åœ¨æ¨¡å—çš„æ„å»ºæ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–ï¼š</p>
<p><strong>Kotlin DSL (<code>build.gradle.kts</code>):</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencies {
    implementation(<span class="hljs-string">"top.zibin:luban:2.0.0"</span>)
}
</code></pre>
<p><strong>Groovy (<code>build.gradle</code>):</strong></p>
<pre><code class="hljs language-groovy" lang="groovy">dependencies {
    implementation 'top.zibin:luban:2.0.0'
}
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šè¯·è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fsearch.maven.org%2Fsearch%3Fq%3Dg%3Atop.zibin%2520a%3Aluban" target="_blank" title="https://search.maven.org/search?q=g:top.zibin%20a:luban" ref="nofollow noopener noreferrer">Maven Central</a> æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬å·ã€‚</p>
</blockquote>
<h2 data-id="heading-8">ğŸ’» ä½¿ç”¨</h2>
<h4 data-id="heading-9">âš¡ Kotlin (Coroutines)</h4>
<p>åœ¨ Kotlin ä¸­ï¼Œæ¨èä½¿ç”¨ <code>suspend</code> å‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œä»£ç æ›´ç®€æ´ã€‚</p>
<h5 data-id="heading-10">å‹ç¼©å•å¼ å›¾ç‰‡</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">lifecycleScope.launch {
    <span class="hljs-keyword">val</span> inputUri: Uri = ... <span class="hljs-comment">// å›¾ç‰‡ Uri</span>
    <span class="hljs-keyword">val</span> outputDir = context.cacheDir
    
    Luban.compress(context, inputUri, outputDir)
        .onSuccess { file -&gt;
            <span class="hljs-comment">// å‹ç¼©æˆåŠŸï¼Œfile ä¸ºå‹ç¼©åçš„å›¾ç‰‡æ–‡ä»¶</span>
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed: <span class="hljs-subst">${file.absolutePath}</span>"</span>)
        }
        .onFailure { error -&gt;
            <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
            Log.e(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Error: <span class="hljs-subst">${error.message}</span>"</span>)
        }
}
</code></pre>
<h5 data-id="heading-11">å‹ç¼©å•å¼ å›¾ç‰‡æ–‡ä»¶</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">lifecycleScope.launch {
    <span class="hljs-keyword">val</span> inputFile: File = ... 
    <span class="hljs-keyword">val</span> outputDir = context.cacheDir
    
    Luban.compress(inputFile, outputDir)
        .onSuccess { file -&gt;
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed: <span class="hljs-subst">${file.absolutePath}</span>"</span>)
        }
        .onFailure { error -&gt;
            Log.e(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Error: <span class="hljs-subst">${error.message}</span>"</span>)
        }
}
</code></pre>
<h5 data-id="heading-12">å‹ç¼©åˆ°æŒ‡å®šæ–‡ä»¶è·¯å¾„</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">lifecycleScope.launch {
    <span class="hljs-keyword">val</span> inputFile: File = ...
    <span class="hljs-keyword">val</span> outputFile = File(context.cacheDir, <span class="hljs-string">"custom_output.jpg"</span>)
    
    Luban.compressToFile(inputFile, outputFile)
        .onSuccess { file -&gt;
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed to: <span class="hljs-subst">${file.absolutePath}</span>"</span>)
        }
        .onFailure { error -&gt;
            Log.e(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Error: <span class="hljs-subst">${error.message}</span>"</span>)
        }
}
</code></pre>
<h5 data-id="heading-13">å¹¶å‘å‹ç¼©å¤šå¼ å›¾ç‰‡</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">lifecycleScope.launch {
    <span class="hljs-keyword">val</span> uris: List&lt;Uri&gt; = ... 
    <span class="hljs-keyword">val</span> outputDir = context.cacheDir

    <span class="hljs-keyword">val</span> results = Luban.compress(context, uris, outputDir)
    
    results.forEach { result -&gt;
        result.onSuccess { file -&gt; 
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed: <span class="hljs-subst">${file.absolutePath}</span>"</span>)
        }
        .onFailure { error -&gt;
            Log.e(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Error: <span class="hljs-subst">${error.message}</span>"</span>)
        }
    }
}
</code></pre>
<h5 data-id="heading-14">å¹¶å‘å‹ç¼©å¤šä¸ªæ–‡ä»¶</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">lifecycleScope.launch {
    <span class="hljs-keyword">val</span> files: List&lt;File&gt; = ...
    <span class="hljs-keyword">val</span> outputDir = context.cacheDir

    <span class="hljs-keyword">val</span> results = Luban.compress(files, outputDir)
    
    results.forEach { result -&gt;
        result.onSuccess { file -&gt; 
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed: <span class="hljs-subst">${file.absolutePath}</span>"</span>)
        }
        .onFailure { error -&gt;
            Log.e(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Error: <span class="hljs-subst">${error.message}</span>"</span>)
        }
    }
}
</code></pre>
<h5 data-id="heading-15">åœ¨å…¶ä»–åç¨‹ä½œç”¨åŸŸä¸­ä½¿ç”¨</h5>
<p>å¦‚æœä¸åœ¨ Activity/Fragment ä¸­ä½¿ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ <code>CoroutineScope</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.Main + SupervisorJob())

scope.launch {
    <span class="hljs-keyword">val</span> inputUri: Uri = ...
    <span class="hljs-keyword">val</span> outputDir = context.cacheDir
    
    Luban.compress(context, inputUri, outputDir)
        .onSuccess { file -&gt;
            <span class="hljs-comment">// å¤„ç†æˆåŠŸ</span>
        }
        .onFailure { error -&gt;
            <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
        }
}
</code></pre>
<h4 data-id="heading-16">â˜• Java / Builder æ¨¡å¼</h4>
<p>å¯¹äº Java é¡¹ç›®æˆ–åå¥½å›è°ƒé£æ ¼çš„å¼€å‘è€…ï¼Œå¯ä»¥ä½¿ç”¨å…¼å®¹æ—§ç‰ˆé£æ ¼çš„ <code>Luban.with()</code> APIã€‚</p>
<h5 data-id="heading-17">å‹ç¼©å•å¼ å›¾ç‰‡</h5>
<pre><code class="hljs language-java" lang="java">Luban.with(context)
    .load(imageFile) <span class="hljs-comment">// æ”¯æŒ File, Uri, æˆ– String è·¯å¾„</span>
    .setTargetDir(context.getCacheDir())
    .bindLifecycle(lifecycleOwner) <span class="hljs-comment">// å¯é€‰ï¼šé¡µé¢é”€æ¯æ—¶è‡ªåŠ¨å–æ¶ˆ</span>
    .setCompressListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnCompressListener</span>() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// å¼€å§‹å‹ç¼©</span>
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(File file)</span> {
            <span class="hljs-comment">// å‹ç¼©æˆåŠŸ</span>
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
            <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯</span>
        }
    })
    .launch();
</code></pre>
<h5 data-id="heading-18">å‹ç¼©å¤šå¼ å›¾ç‰‡</h5>
<pre><code class="hljs language-java" lang="java">List&lt;String&gt; imagePaths = ...; <span class="hljs-comment">// å›¾ç‰‡è·¯å¾„åˆ—è¡¨</span>

Luban.with(context)
    .load(imagePaths) <span class="hljs-comment">// åŠ è½½å›¾ç‰‡åˆ—è¡¨</span>
    .setTargetDir(context.getCacheDir())
    .setCompressListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnCompressListener</span>() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
            <span class="hljs-comment">// å¼€å§‹å‹ç¼©</span>
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(File file)</span> {
            <span class="hljs-comment">// æ¯å¼ å›¾ç‰‡å‹ç¼©æˆåŠŸåéƒ½ä¼šå›è°ƒä¸€æ¬¡</span>
            Log.d(<span class="hljs-string">"Luban"</span>, <span class="hljs-string">"Compressed: "</span> + file.getAbsolutePath());
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onError</span><span class="hljs-params">(Throwable e)</span> {
            <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯</span>
        }
    })
    .launch();
</code></pre>
<h3 data-id="heading-19">å½©è›‹</h3>
<p><code>Flutter</code> ç‰ˆ <code>Luban 2</code> å³å°†ä¸Šçº¿ï¼ŒAndroidã€iOSéƒ½èƒ½ä½¿ç”¨ï¼Œæ•¬è¯·æœŸå¾…~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AndroidæŠ€èƒ½ç‚¹ã€‘ä¸€å¼ å›¾ç†æ¸… å¼€æœºã€Appå¯åŠ¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7592241336290017331</link>    <guid>https://juejin.cn/post/7592241336290017331</guid>    <pubDate>2026-01-07T06:52:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592241336290017331" data-draft-id="7592241336289558579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AndroidæŠ€èƒ½ç‚¹ã€‘ä¸€å¼ å›¾ç†æ¸… å¼€æœºã€Appå¯åŠ¨æµç¨‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-07T06:52:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è«æ¯”ä¹Œæ–¯ç¯"/> <meta itemprop="url" content="https://juejin.cn/user/2840793776394269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AndroidæŠ€èƒ½ç‚¹ã€‘ä¸€å¼ å›¾ç†æ¸… å¼€æœºã€Appå¯åŠ¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793776394269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è«æ¯”ä¹Œæ–¯ç¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T06:52:36.000Z" title="Wed Jan 07 2026 06:52:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android å¼€æœºé“¾è·¯ + æ¡Œé¢ Appã€Œç”¨æˆ·ç‚¹å‡»å›¾æ ‡ã€å¯åŠ¨é“¾è·¯ï¼ˆç«¯åˆ°ç«¯æ¢³ç†ï¼‰</h2>
<blockquote>
<p>ç›®çš„ï¼šæŠŠ <strong>å¼€æœºåˆ°æ¡Œé¢å¯ç”¨</strong> çš„å…³é”®é“¾è·¯ï¼Œä»¥åŠ <strong>ç”¨æˆ·åœ¨æ¡Œé¢ç‚¹å‡»å›¾æ ‡ â†’ ç›®æ ‡ App Activity å±•ç¤ºé¦–å¸§</strong> çš„å®Œæ•´ä¸»å¹²æµç¨‹ä¸²èµ·æ¥ã€‚<br/>
è¯´æ˜ï¼šä¸åŒ Android ç‰ˆæœ¬å®ç°ç»†èŠ‚ç•¥æœ‰å·®å¼‚ï¼ˆAndroid 10+ å¼•å…¥ ATMS åˆ†å·¥æ›´æ˜æ˜¾ï¼‰ï¼Œæœ¬æ–‡ä»¥ <strong>é€šç”¨ä¸»å¹²</strong> ä¸ºä¸»ï¼Œå¿…è¦å¤„ç‚¹å‡ºå…³é”®åˆ†å·¥ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">1) å¼€æœºé“¾è·¯ï¼ˆBoot Chainï¼‰ï¼šKernel â†’ init â†’ zygote â†’ system_server â†’ launcher</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91c45c1118d141bbbf939a4454d62222~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I6r5q-U5LmM5pav546v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768373556&amp;x-signature=09s85SaeUBDneej4DNW4JTyNdLA%3D" alt="å¼€æœºæµç¨‹ diagram-2026-01-07-064408.png" loading="lazy"/></p>
<h4 data-id="heading-2">1.1 Kernel å¯åŠ¨ initï¼ˆNativeï¼‰</h4>
<ul>
<li>Kernel å¯åŠ¨å®Œæˆåå¯åŠ¨ç”¨æˆ·æ€ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼š<code>/init</code></li>
<li><code>init</code> è´Ÿè´£ï¼š
<ul>
<li>æŒ‚è½½åˆ†åŒºã€åˆå§‹åŒ– SELinuxã€å®‰å…¨ç­–ç•¥</li>
<li>è§£æ <code>init.rc</code> / <code>*.rc</code></li>
<li>å¯åŠ¨å…³é”®å®ˆæŠ¤/æœåŠ¡ï¼š<code>servicemanager</code>ã€<code>zygote</code>ã€<code>surfaceflinger</code> ç­‰</li>
</ul>
</li>
</ul>
<p><strong>å…³é”®äº§ç‰©</strong></p>
<ul>
<li>Binder é©±åŠ¨å°±ç»ª + <code>servicemanager</code> æä¾›æœåŠ¡æ³¨å†Œ/å‘ç°</li>
<li>å›¾å½¢åŸºç¡€ï¼ˆ<code>surfaceflinger</code>ï¼‰å¯åŠ¨ï¼Œä¸ºåç»­ SystemUI/Launcher å‡ºå›¾æ‰“åº•</li>
</ul>
<h4 data-id="heading-3">1.2 init å¯åŠ¨ Zygoteï¼ˆNative â†’ Java å­µåŒ–å™¨ï¼‰</h4>
<ul>
<li>é€šè¿‡ rc å¯åŠ¨ <code>zygote</code>/<code>zygote64</code></li>
<li>Zygote åšä¸¤ä»¶æ ¸å¿ƒäº‹ï¼š
<ol>
<li><strong>é¢„åŠ è½½</strong>ï¼ˆclassesã€resourcesã€å¸¸ç”¨åº“ï¼‰ä»¥æå‡åç»­ fork æ€§èƒ½</li>
<li>æä¾› <strong>fork</strong>ï¼šæ´¾ç”Ÿ <code>system_server</code> å’Œå„ App è¿›ç¨‹</li>
</ol>
</li>
</ul>
<p>å¸¸è§å…¥å£ï¼š</p>
<ul>
<li><code>com.android.internal.os.ZygoteInit.main()</code>
<ul>
<li><code>preload()</code></li>
<li><code>forkSystemServer()</code></li>
</ul>
</li>
</ul>
<h4 data-id="heading-4">1.3 system_server å¯åŠ¨ï¼šSystemServer æ‹‰èµ·æ ¸å¿ƒç³»ç»ŸæœåŠ¡ï¼ˆJavaï¼‰</h4>
<ul>
<li><code>com.android.server.SystemServer.main()</code> â†’ <code>run()</code></li>
<li>åˆ†é˜¶æ®µå¯åŠ¨å¤§é‡ System Servicesï¼ˆç‰ˆæœ¬ç•¥æœ‰å·®å¼‚ï¼‰ï¼Œå…³é”®ä¸â€œå¯åŠ¨/æ¡Œé¢â€å¼ºç›¸å…³çš„åŒ…æ‹¬ï¼š
<ul>
<li><strong>AMS</strong>ï¼ˆActivityManagerServiceï¼‰ï¼šè¿›ç¨‹/å¹¿æ’­/æœåŠ¡/ANR ç­‰</li>
<li><strong>ATMS</strong>ï¼ˆActivityTaskManagerServiceï¼ŒAndroid 10+ï¼‰ï¼šActivity/Task å¯åŠ¨ä¸ä»»åŠ¡æ ˆ</li>
<li><strong>WMS</strong>ï¼ˆWindowManagerServiceï¼‰ï¼šçª—å£ç®¡ç†ä¸æ˜¾ç¤ºç­–ç•¥</li>
<li><strong>PMS</strong>ï¼ˆPackageManagerServiceï¼‰ï¼šåŒ…è§£æã€ç»„ä»¶è§£æã€æƒé™</li>
<li><code>InputManagerService</code>ï¼šè¾“å…¥</li>
<li><code>PowerManagerService</code>ï¼šç”µæºä¸å”¤é†’</li>
<li><code>DisplayManagerService</code>ï¼šæ˜¾ç¤º</li>
<li>ä»¥åŠ SystemUIã€ç½‘ç»œã€éŸ³é¢‘ç­‰</li>
</ul>
</li>
</ul>
<p><strong>å…³é”®èŠ‚ç‚¹ï¼šsystemReady / bootCompleted</strong></p>
<ul>
<li>ç³»ç»ŸæœåŠ¡å¯åŠ¨å®Œæˆåä¼šè¿›å…¥ <code>systemReady()</code>ï¼Œéšåå‘å‡º BOOT_COMPLETEDï¼ˆå¯¹ä¸‰æ–¹ app å½±å“å¾ˆå¤§ï¼‰</li>
</ul>
<h4 data-id="heading-5">1.4 SystemUI/Launcher å‡ºç°ï¼ˆæ¡Œé¢å¯ç”¨ï¼‰</h4>
<ul>
<li>ä¸€èˆ¬ä¼šå…ˆå¯åŠ¨ <strong>SystemUI</strong>ï¼ˆçŠ¶æ€æ ã€å¯¼èˆªæ ã€é”å±ç­‰ï¼‰</li>
<li>è§£é”å/æˆ–æ»¡è¶³æ¡ä»¶åï¼Œå¯åŠ¨ <strong>Launcher</strong>ï¼ˆæ¡Œé¢åº”ç”¨ï¼‰</li>
</ul>
<p><strong>æ¡Œé¢å¯åŠ¨æ–¹å¼ï¼ˆæ¦‚å¿µï¼‰</strong></p>
<ul>
<li>SystemServer é€‰æ‹©ä¸€ä¸ª HOME Activityï¼ˆLauncherï¼‰
<ul>
<li>Intentï¼š<code>ACTION_MAIN</code> + <code>CATEGORY_HOME</code></li>
</ul>
</li>
<li>èµ°ä¸€æ¬¡æ ‡å‡†çš„ Activity å¯åŠ¨é“¾è·¯ï¼ˆè§ç¬¬ 2 éƒ¨åˆ†ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-6">2) æ¡Œé¢ç”¨æˆ·ç‚¹å‡»å›¾æ ‡ï¼šLauncher â†’ SystemServer â†’ ç›®æ ‡ App é¦–å¸§</h3>
<blockquote>
<p>åœºæ™¯ï¼šç”¨æˆ·åœ¨æ¡Œé¢ç‚¹å‡»æŸä¸ª App å›¾æ ‡ï¼ˆç›®æ ‡ Activity å¯èƒ½æ˜¯ LAUNCHER Activityï¼‰ï¼Œç³»ç»Ÿå®Œæˆä»ç‚¹å‡»åˆ°ç•Œé¢æ˜¾ç¤ºã€‚</p>
</blockquote>
<h4 data-id="heading-7">2.1 è§¦æ‘¸äº‹ä»¶åˆ° Launcherï¼šInput â†’ View â†’ onClick</h4>
<ul>
<li>è§¦æ‘¸ä»ç¡¬ä»¶åˆ°åº”ç”¨çš„ä¸»é“¾è·¯ï¼ˆé«˜å±‚æ¦‚å¿µï¼‰ï¼š
<ol>
<li>Input é©±åŠ¨äº§ç”Ÿäº‹ä»¶</li>
<li><code>InputManagerService</code> åˆ†å‘</li>
<li>é€šè¿‡ WMS é€‰æ‹©ç„¦ç‚¹çª—å£/ç›®æ ‡åº”ç”¨</li>
<li>äº‹ä»¶åˆ°è¾¾ Launcher è¿›ç¨‹ï¼ˆ<code>ViewRootImpl</code> â†’ <code>DecorView</code> â†’ <code>View</code>ï¼‰</li>
<li>ç‚¹å‡»è§¦å‘ Launcher çš„å›¾æ ‡ç‚¹å‡»é€»è¾‘</li>
</ol>
</li>
</ul>
<h4 data-id="heading-8">2.2 Launcher ç»„è£… Intent å¹¶å‘èµ· startActivity</h4>
<ul>
<li>Launcher é€šå¸¸ä¸ºç›®æ ‡ App ç»„è£…ï¼š
<ul>
<li>æ˜¾å¼ Intentï¼š<code>ComponentName(åŒ…å/Activity)</code></li>
<li>æˆ–éšå¼ Intentï¼ˆè¾ƒå°‘ç”¨äºå›¾æ ‡ï¼‰</li>
<li>å¸¸å¸¦ flagï¼š<code>FLAG_ACTIVITY_NEW_TASK</code>ï¼ˆå›  Launcher éç›®æ ‡ app å†…éƒ¨é¡µé¢è·³è½¬ï¼‰</li>
</ul>
</li>
</ul>
<p>Launcher ä¾§å¸¸è§å…¥å£ï¼ˆæ¦‚å¿µï¼‰ï¼š</p>
<ul>
<li><code>Activity.startActivity()</code> / <code>Context.startActivity()</code></li>
<li><code>Instrumentation.execStartActivity()</code></li>
<li>è¿›å…¥ç³»ç»ŸæœåŠ¡ï¼ˆBinderï¼‰ï¼š
<ul>
<li>Android 10+ å¸¸è§ï¼š<code>IActivityTaskManager.startActivity(...)</code></li>
</ul>
</li>
</ul>
<h4 data-id="heading-9">2.3 è¿›å…¥ SystemServerï¼šATMS åš Activity å¯åŠ¨å†³ç­–ï¼ˆä»»åŠ¡æ ˆ/å¤ç”¨/æƒé™ï¼‰</h4>
<p>SystemServer ä¾§å…³é”®æµç¨‹ï¼ˆé«˜å±‚è¯­ä¹‰ï¼‰ï¼š</p>
<ol>
<li>æƒé™æ ¡éªŒã€è°ƒç”¨è€…æ ¡éªŒï¼ˆæ˜¯å¦å…è®¸å¯åŠ¨ã€åå°å¯åŠ¨é™åˆ¶ç­‰ï¼‰</li>
<li>é€šè¿‡ PMS è§£æç›®æ ‡ç»„ä»¶ï¼ˆActivityInfo/ProcessName/UID ç­‰ï¼‰</li>
<li>è®¡ç®—ä»»åŠ¡æ ˆå½’å±ä¸å¯åŠ¨æ¨¡å¼ï¼ˆstandard/singleTaskâ€¦ï¼‰</li>
<li>åˆ¤æ–­æ˜¯ <strong>å†·/æ¸©/çƒ­å¯åŠ¨</strong>ï¼š
<ul>
<li>è¿›ç¨‹æ˜¯å¦å­˜åœ¨</li>
<li>ç›®æ ‡ Activity æ˜¯å¦å·²å­˜åœ¨äºä»»åŠ¡æ ˆ</li>
</ul>
</li>
</ol>
<blockquote>
<p>ç»“è®ºï¼šATMS è´Ÿè´£â€œ<strong>Activity/Task æ€ä¹ˆå¯åŠ¨ã€æ”¾å“ªã€å¤ç”¨è°</strong>â€ï¼›è€Œâ€œ<strong>è¿›ç¨‹æ€ä¹ˆæ¥</strong>â€äº¤ç»™ AMSã€‚</p>
</blockquote>
<h4 data-id="heading-10">2.4 å†·å¯åŠ¨åˆ†æ”¯ï¼šç›®æ ‡è¿›ç¨‹ä¸å­˜åœ¨ â†’ AMS åˆ›å»ºè¿›ç¨‹ï¼ˆzygote forkï¼‰</h4>
<p><strong>è§¦å‘æ¡ä»¶</strong></p>
<ul>
<li>ç›®æ ‡ App è¿›ç¨‹å°šæœªåˆ›å»ºï¼Œæˆ–è¢«æ€</li>
</ul>
<p><strong>å…³é”®é“¾è·¯ï¼ˆæ¦‚å¿µï¼‰</strong></p>
<ul>
<li>ATMSï¼šéœ€è¦è¿›ç¨‹ â†’ è¯·æ±‚ AMS</li>
<li>AMSï¼šå‡†å¤‡ <code>ProcessRecord</code>ï¼ˆuid/selinux/abi/è¿›ç¨‹åï¼‰</li>
<li><code>ZygoteProcess.start(...)</code>ï¼š
<ul>
<li>é€šè¿‡ socket ä¸ zygote é€šä¿¡</li>
<li>zygote fork å‡ºç›®æ ‡ App è¿›ç¨‹</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">2.5 ç›®æ ‡ App è¿›ç¨‹èµ·æ¥ï¼šActivityThread.main â†’ attach åˆ° AMS</h4>
<p>App è¿›ç¨‹å…¥å£ï¼š</p>
<ul>
<li><code>android.app.ActivityThread.main()</code>
<ul>
<li>å»ºç«‹ä¸»çº¿ç¨‹ Looper</li>
<li><code>attach(false)</code>ï¼š
<ul>
<li>Binder â†’ <code>IActivityManager.attachApplication(appThread)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>SystemServerï¼ˆAMSï¼‰æ”¶åˆ° attachï¼š</p>
<ul>
<li>è®°å½•è¿›ç¨‹å·²ä¸Šçº¿</li>
<li>å›è°ƒåˆ° App è¿›ç¨‹ï¼š
<ul>
<li><code>IApplicationThread.bindApplication(...)</code></li>
</ul>
</li>
</ul>
<h4 data-id="heading-12">2.6 bindApplicationï¼šåˆ›å»º Application / åˆå§‹åŒ–è¿è¡Œç¯å¢ƒ</h4>
<p>App è¿›ç¨‹æ‰§è¡Œï¼š</p>
<ul>
<li><code>ActivityThread.handleBindApplication()</code>
<ul>
<li>åˆ›å»º <code>LoadedApk</code></li>
<li>åˆ›å»º <code>Application</code></li>
<li><code>Application.onCreate()</code></li>
<li>å®‰è£… ContentProvidersï¼ˆå¦‚æœ‰ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<p>åˆ°è¿™ä¸€æ­¥ï¼š<strong>è¿›ç¨‹ä¸åº”ç”¨çº§åˆå§‹åŒ–å®Œæˆ</strong>ï¼Œä½† Activity è¿˜æœªçœŸæ­£ onCreateï¼ˆä¸‹ä¸€æ­¥ç”± ATMS å‘èµ· Launchï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-13">2.7 çœŸæ­£å¯åŠ¨ Activityï¼šSystemServer ä¸‹å‘äº‹åŠ¡ â†’ App æ‰§è¡Œ onCreate/onResume</h4>
<p>Android P+ å¸¸ç”¨äº‹åŠ¡æœºåˆ¶ï¼ˆæ¦‚å¿µï¼‰ï¼š</p>
<ul>
<li>SystemServerï¼ˆATMSï¼‰æ„é€  <code>ClientTransaction</code>
<ul>
<li>åŒ…å« <code>LaunchActivityItem</code>ã€<code>ResumeActivityItem</code> ç­‰</li>
</ul>
</li>
<li>Binder â†’ Appï¼š<code>IApplicationThread.scheduleTransaction(transaction)</code></li>
</ul>
<p>App ä¾§æ‰§è¡Œï¼š</p>
<ul>
<li><code>TransactionExecutor.execute()</code></li>
<li><code>ActivityThread.handleLaunchActivity()</code>
<ul>
<li>åˆ›å»º Activity å®ä¾‹</li>
<li><code>Activity.attach()</code></li>
<li><code>Activity.onCreate()</code></li>
</ul>
</li>
<li>éšå <code>onStart()</code>ã€<code>onResume()</code></li>
</ul>
<h4 data-id="heading-14">2.8 é¦–å¸§æ˜¾ç¤ºï¼šWMS/Surface + App ç»˜åˆ¶ç®¡çº¿</h4>
<p>å¹¶è¡Œåä½œç‚¹ï¼š</p>
<ul>
<li>ATMS/WMS æ§åˆ¶çª—å£å¯è§æ€§ã€è½¬åœºåŠ¨ç”»ã€ç„¦ç‚¹</li>
<li>App åœ¨ <code>onResume</code> å‰åè§¦å‘è§†å›¾æ ‘åˆ›å»º</li>
<li>é¦–å¸§ç»˜åˆ¶ï¼š
<ul>
<li><code>Choreographer</code> é©±åŠ¨ measure/layout/draw</li>
<li><code>Surface</code> æäº¤ç»™ SurfaceFlinger åˆæˆæ˜¾ç¤º</li>
</ul>
</li>
</ul>
<p><strong>ç”¨æˆ·å¯è§ç»“æœ</strong></p>
<ul>
<li>å±å¹•ä»æ¡Œé¢åˆ‡åˆ°ç›®æ ‡ Appï¼Œå±•ç¤ºé¦–å¸§</li>
</ul>
<hr/>
<h3 data-id="heading-15">3) å†·/æ¸©/çƒ­å¯åŠ¨å¯¹æ¯”ï¼ˆç”¨æˆ·ç‚¹å‡»å›¾æ ‡æ—¶å¸¸è§ï¼‰</h3>
<ul>
<li><strong>å†·å¯åŠ¨ï¼ˆColdï¼‰</strong>ï¼šæ— è¿›ç¨‹ â†’ fork + bindApplication + LaunchActivity + é¦–å¸§</li>
<li><strong>æ¸©å¯åŠ¨ï¼ˆWarmï¼‰</strong>ï¼šè¿›ç¨‹åœ¨ï¼Œä½† Activity ä¸åœ¨å‰å°/éœ€æ–°å»º â†’ çœæ‰ fork å’Œ Application.onCreateï¼ˆå¤šæ•°æƒ…å†µï¼‰</li>
<li><strong>çƒ­å¯åŠ¨ï¼ˆHotï¼‰</strong>ï¼šActivity å®ä¾‹ä»åœ¨ â†’ å¤šä¸º task åˆ‡å‰å° + onRestart/onStart/onResume + çª—å£åˆ‡æ¢</li>
</ul>
<hr/>
<h3 data-id="heading-16">4) ä¸€å¼ â€œæ—¶åºå›¾â€ï¼ˆä»ç‚¹å‡»åˆ°é¦–å¸§ï¼‰</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de50e860b4734b949ca6faf00d73d69c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I6r5q-U5LmM5pav546v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768373556&amp;x-signature=V6Fwvos2phsJSl5B9UbMELFo8Kw%3D" alt="æ¡Œé¢Appå¯åŠ¨ diagram-2026-01-07-064804.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-17">5) ä½ å¯ä»¥æ‹¿æ¥å¯¹ç…§çš„è§‚æµ‹æ‰‹æ®µ</h3>
<ul>
<li><code>adb shell am start -W &lt;intent&gt;</code>ï¼šç²—çœ‹å¯åŠ¨è€—æ—¶</li>
<li><code>adb shell dumpsys activity activities</code>ï¼šä»»åŠ¡æ ˆ/Activity çŠ¶æ€</li>
<li><code>adb shell dumpsys activity processes</code>ï¼šè¿›ç¨‹çŠ¶æ€</li>
<li><code>adb shell dumpsys window windows</code>ï¼šçª—å£çŠ¶æ€</li>
<li><code>perfetto/atrace</code>ï¼šç²¾ç¡®çœ‹ bindApplicationã€launchã€é¦–å¸§ç»˜åˆ¶ slice</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidä¸­ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7592134330313424939</link>    <guid>https://juejin.cn/post/7592134330313424939</guid>    <pubDate>2026-01-07T07:25:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592134330313424939" data-draft-id="7591806035758497834" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidä¸­ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-07T07:25:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Pawns"/> <meta itemprop="url" content="https://juejin.cn/user/3254200295233767"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidä¸­ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3254200295233767/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Pawns
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T07:25:18.000Z" title="Wed Jan 07 2026 07:25:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">1.<code>greendao</code></h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgreenrobot%2FgreenDAO" target="_blank" title="https://github.com/greenrobot/greenDAO" ref="nofollow noopener noreferrer">githubåœ°å€</a>
ä½œä¸ºæœ¬åœ°æ•°æ®åº“çš„çŸ¥åç¬¬ä¸‰æ–¹ï¼Œå­¦ä¹ å®ƒçš„ä½¿ç”¨è¿‡ç¨‹</p>
<h5 data-id="heading-1">1.å¯¼å…¥</h5>
<h6 data-id="heading-2">1.åœ¨<code>build.gradle</code>Appå±‚æ¬¡</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98100b4242324a6d9cc4ce93195cd49b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=X2pGpb2qywVobOqgyYaRDTWygN4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c830a939c23489cbeaa88f94920a812~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=RG65AiH4vRrkJmXKL79gZ%2BvCwLM%3D" alt="image.png" loading="lazy"/></p>
<h6 data-id="heading-3">2.åœ¨<code>build.gradle</code>Projectå±‚æ¬¡</h6>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5467fb7f2754a839fb5175dd58ac005~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=F26fsEqmPJvJEdHnFzLBrdhmtOc%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-4">2.åˆ›å»ºå®ä½“ç±»Entity</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1dd2686893d4709b9ef1d392d41af90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=ZAluDtovf3IawFzNlt5dgLRlMfk%3D" alt="image.png" loading="lazy"/></p>
<p>å®Œæˆä¸Šå›¾æ‰€ç¤ºçš„æ­¥éª¤åï¼Œå†ç‚¹å‡»èœå•æ <code>Build</code>-&gt;<code>Make Project</code>å³å¯è‡ªåŠ¨æ³¨è§£åˆ›å»ºçš„å®ä½“ç±»ï¼Œå¦‚ä¸Šå›¾æ²¡æœ‰æ¡†å‡ºæ¥çš„éƒ¨åˆ†ã€‚</p>
<blockquote>
<p>åŒæ—¶è¿˜ä¼šç”Ÿæˆå¦‚ä¸‹çš„ä¸‰ä¸ªæ–‡ä»¶</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17269528012d429c96ffc1f548b1bd17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=Lx0FEMk8soBzHTLAwd%2Bkkr8JBXI%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-5">3.è‡ªå®šä¹‰å·¥å…·ç±»</h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c364b822eb0f4f7aa3aaa4c40adeb4e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=1Szoup6C4%2F8vaboejAtZlYbquUY%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-6">4.ä½¿ç”¨</h5>
<p>åˆå§‹åŒ–</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c61d095116bb488b9155bb513c5c200a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGF3bnM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768375518&amp;x-signature=pvHfdK1Xr2jy2n7XecbDO3n7IM0%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶ä»–çš„å¢åˆ æ”¹æŸ¥å°±æ˜¯å¾ˆæ™®é€šçš„æ–¹æ³•äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†æ—¶1å¹´ï¼ŒTinyEditor v4.0 æ­£å¼å‘å¸ƒï¼]]></title>    <link>https://juejin.cn/post/7592152007840350208</link>    <guid>https://juejin.cn/post/7592152007840350208</guid>    <pubDate>2026-01-07T08:32:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592152007840350208" data-draft-id="7592094314472767523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†æ—¶1å¹´ï¼ŒTinyEditor v4.0 æ­£å¼å‘å¸ƒï¼"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2026-01-07T08:32:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OpenTinyç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/3808325101432983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†æ—¶1å¹´ï¼ŒTinyEditor v4.0 æ­£å¼å‘å¸ƒï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808325101432983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OpenTinyç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:32:07.000Z" title="Wed Jan 07 2026 08:32:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç”±ä½“éªŒæŠ€æœ¯å›¢é˜ŸKagolåŸåˆ›ã€‚</p>
<p>TinyEditor æ˜¯ä¸€ä¸ªåŸºäº Quill 2.0 çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ Quill åŸºç¡€ä¸Šæ‰©å±•äº†ä¸°å¯Œçš„æ¨¡å—å’Œæ ¼å¼ï¼Œæ¡†æ¶æ— å…³ã€åŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ã€‚</p>
<ul>
<li>æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-editor%2F" target="_blank" title="https://github.com/opentiny/tiny-editor/" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></li>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2F" target="_blank" title="https://opentiny.github.io/tiny-editor/" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-editorâ€¦</a></li>
</ul>
<p>å»å¹´1æœˆ2æ—¥ï¼Œæˆ‘ä»¬å‘å¸ƒäº† v3.25 ç‰ˆæœ¬ï¼ŒåŠŸèƒ½åŸºæœ¬å·²ç»å®Œå¤‡ï¼Œä¹‹å v3.x ç‰ˆæœ¬è¿›å…¥äº†ç»´æŠ¤æœŸï¼ŒåŒæ—¶å¼€å¯äº†æ¼«é•¿çš„ v4.0 ç‰ˆæœ¬çš„å¼€å‘ï¼Œv4.0 çš„æ ¸å¿ƒç›®æ ‡æ˜¯ä½“éªŒä¼˜åŒ–å’Œç¨³å®šæ€§æå‡ï¼Œå¹¶æ”¯æŒå¤šäººååŒç¼–è¾‘ã€‚</p>
<p>åœ¨é•¿è¾¾1å¹´çš„å¼€å‘å’Œæ‰“ç£¨åï¼Œæˆ‘ä»¬è£å¹¸åœ°å®£å¸ƒÂ <strong>TinyEditor v4.0</strong>Â æ­£å¼å‘å¸ƒï¼è¿™ä¸ªç‰ˆæœ¬æ±‡èšäº†å›¢é˜Ÿçš„å¿ƒè¡€ï¼Œå¸¦æ¥äº†æ¿€åŠ¨äººå¿ƒå¤šäººååŒç¼–è¾‘æ–°åŠŸèƒ½ã€ä»¥åŠå¤§é‡ä½“éªŒä¼˜åŒ–å’Œç¨³å®šæ€§æ”¹è¿›ã€‚</p>
<p><strong>é‡ç‚¹ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>æ”¯æŒå¤šäººååŒç¼–è¾‘ï¼šä¸€èµ·åœ¨ç¼–è¾‘å™¨å†™ï¼ˆç©ï¼‰æ–‡æ¡£ï¼ˆè´ªåƒè›‡æ¸¸æˆæ‘¸é±¼ï¼‰ğŸ¶</li>
<li>åŸºäº quill-table-up çš„æ–°è¡¨æ ¼æ–¹æ¡ˆï¼šè¡¨æ ¼æ“ä½œä½“éªŒ++âš¡ï¸</li>
<li>åŸºäºÂ <code>emoji-mart</code>Â çš„ Emoji è¡¨æƒ…ï¼šè¡¨æƒ…å…šæœ€çˆ±ğŸ˜</li>
<li>æ”¯æŒæ–œæ†èœå•å’Œä¸°å¯Œçš„å¿«æ·é”®ï¼šé”®ç›˜æµçš„ç¦éŸ³ğŸ˜„</li>
<li>å›¾ç‰‡/è§†é¢‘/æ–‡ä»¶ä¸Šä¼ ä½“éªŒä¼˜åŒ–ğŸŒ„</li>
</ul>
<p>è¯¦ç»†çš„ Release Notes è¯·å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-editor%2Freleases%2Ftag%2Fv4.0.0" target="_blank" title="https://github.com/opentiny/tiny-editor/releases/tag/v4.0.0" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></p>
<p>æ¬¢è¿å®‰è£… v4.0 ç‰ˆæœ¬ä½“éªŒï¼š</p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> <span class="hljs-keyword">@opentiny</span>/fluent-editor<span class="hljs-keyword">@4</span>.0.0
</code></pre>
<h2 data-id="heading-0">1 äº®ç‚¹ç‰¹æ€§</h2>
<h3 data-id="heading-1">1.1 å¤šäººåä½œç¼–è¾‘</h3>
<p>v4.0 æœ€é‡ç£…çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯å¼•å…¥äº†<strong>å®Œæ•´çš„åä½œç¼–è¾‘èƒ½åŠ›</strong>ã€‚æˆ‘ä»¬é›†æˆäº† quill-cursor æ¨¡å—ï¼Œæ”¯æŒå¤šäººå®æ—¶åä½œç¼–è¾‘ï¼Œå¹¶æä¾›äº†ç‹¬ç«‹çš„ npm åŒ…ä¾›å¼€å‘è€…é›†æˆã€‚æ— è®ºæ˜¯éœ€è¦ç¦»çº¿æ”¯æŒè¿˜æ˜¯äº‘ç«¯åä½œï¼ŒTinyEditor éƒ½èƒ½èƒœä»»ã€‚</p>
<p>ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„æ¼”ç¤ºé¡¹ç›®ä¸­è¿›è¡Œä½“éªŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2Fprojects%2F" target="_blank" title="https://opentiny.github.io/tiny-editor/projects/" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-editorâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83e7ddefd0ea4c63b04df3c819c1f679~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379527&amp;x-signature=gq%2F6Zh4%2Fa9vxk1Ika8eWUkBT%2BE8%3D" alt="1.JPG" loading="lazy"/></p>
<p>å…³äºååŒç¼–è¾‘æ›´è¯¦ç»†çš„ä»‹ç»ï¼Œå‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FJ_aIaAUxUtj-dtqvYZW0ng" target="_blank" title="https://mp.weixin.qq.com/s/J_aIaAUxUtj-dtqvYZW0ng" ref="nofollow noopener noreferrer">å¦‚ä½•ä½¿ç”¨ TinyEditor å¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªå¤šäººååŒå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Ÿ</a></p>
<h3 data-id="heading-2">1.2 è¡¨æ ¼èƒ½åŠ›å‡çº§</h3>
<p>é›†æˆäº†Â <strong>table-up</strong>Â æ¨¡å—ï¼Œå¤§å¹…æå‡äº†è¡¨æ ¼ç¼–è¾‘å’Œæ“ä½œèƒ½åŠ›ï¼Œæ”¯æŒæ›´å¤æ‚çš„è¡¨æ ¼åœºæ™¯ã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2Fdocs%2Fdemo%2Ftable-up" target="_blank" title="https://opentiny.github.io/tiny-editor/docs/demo/table-up" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-editorâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc7dfebfda6349149ae19e31e71bc158~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379527&amp;x-signature=DXvaDwSPXsGgc2ocpFvXmaGIsUk%3D" alt="2.gif" loading="lazy"/></p>
<p>è¯¦ç»†ä»‹ç»å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FpnQVjqHLH_fxpC7s10trzA" target="_blank" title="https://mp.weixin.qq.com/s/pnQVjqHLH_fxpC7s10trzA" ref="nofollow noopener noreferrer">TinyEditor v4.0 alphaï¼šè¡¨æ ¼æ›´å¼ºå¤§ï¼Œè¡¨æƒ…æ›´ä¸°å¯Œï¼Œä¸Šä¼ ä½“éªŒè¶…ä¹æƒ³è±¡ï¼</a></p>
<h3 data-id="heading-3">1.3 æ›´ä¸°å¯Œçš„ Emoji è¡¨æƒ…ğŸ˜˜</h3>
<ul>
<li>é›†æˆÂ <strong>emoji-mart</strong>ï¼Œæä¾›ä¸°å¯Œçš„è¡¨æƒ…é€‰æ‹©</li>
<li>ä¿®å¤äº†æ’å…¥è¡¨æƒ…åçš„å…‰æ ‡ä½ç½®é—®é¢˜</li>
<li>å®Œå–„äº†è¡¨æƒ…æ’å…¥çš„äº¤äº’ä½“éªŒ</li>
</ul>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2Fdocs%2Fdemo%2Femoji" target="_blank" title="https://opentiny.github.io/tiny-editor/docs/demo/emoji" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-editorâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81cf625cd7a144f5a4e1434ffffb93f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379527&amp;x-signature=nu0YUDKy1BFPBpefppBvoSFwgOI%3D" alt="3.gif" loading="lazy"/></p>
<p>è¯¦ç»†ä»‹ç»å¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FpnQVjqHLH_fxpC7s10trzA" target="_blank" title="https://mp.weixin.qq.com/s/pnQVjqHLH_fxpC7s10trzA" ref="nofollow noopener noreferrer">TinyEditor v4.0 alphaï¼šè¡¨æ ¼æ›´å¼ºå¤§ï¼Œè¡¨æƒ…æ›´ä¸°å¯Œï¼Œä¸Šä¼ ä½“éªŒè¶…ä¹æƒ³è±¡ï¼</a></p>
<h3 data-id="heading-4">1.4 å¿«æ·é”®å’Œå¿«é€Ÿèœå•</h3>
<p>æ–°å¢äº†å¼ºå¤§çš„å¿«æ·é”®ç³»ç»Ÿå’Œå¿«é€Ÿèœå•åŠŸèƒ½ï¼Œè®©é«˜çº§ç”¨æˆ·èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°æ“ä½œç¼–è¾‘å™¨ã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2Fprojects%2F" target="_blank" title="https://opentiny.github.io/tiny-editor/projects/" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-editorâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f07f004d21b843e5ad83de958c8a741e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379527&amp;x-signature=1zQV79O8UNX4qDmrNIlucyY4elU%3D" alt="4.png" loading="lazy"/></p>
<h3 data-id="heading-5">1.5 é¢œè‰²é€‰æ‹©å™¨å‡çº§</h3>
<p>è‡ªå®šä¹‰é¢œè‰²é€‰æ‹©å™¨ç°åœ¨èƒ½ä¿å­˜å½“å‰é€‰æ‹©ï¼Œå¹¶æ”¯æŒæ·»åŠ æ›´å¤šé¢œè‰²ã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/961273ada6244a04890af3e272840cab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379527&amp;x-signature=ahCvkoHc1XYxspiKJv076a%2Fckqs%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-6">1.6 æ–‡æœ¬æ¨¡æ¿ä¸å›½é™…åŒ–</h3>
<ul>
<li>æ”¯æŒ i18n æ–‡æœ¬æ¨¡æ¿æ›¿æ¢</li>
<li>å®Œå–„äº†å›½é™…åŒ–ç¿»è¯‘ï¼ˆheaderã€picker ç­‰ç»„ä»¶ï¼‰</li>
<li>æ›´å¥½çš„å¤šè¯­è¨€æ”¯æŒä½“éªŒ</li>
</ul>
<h3 data-id="heading-7">1.7 å›¾ç‰‡å’Œæ–‡ä»¶å¢å¼º</h3>
<ul>
<li><strong>å›¾ç‰‡å·¥å…·æ </strong>ï¼šé€‰ä¸­å›¾ç‰‡æ—¶æ˜¾ç¤ºä¸“é—¨çš„æ“ä½œå·¥å…·æ </li>
<li><strong>è‡ªå®šä¹‰ä¸Šä¼ </strong>ï¼šå¢åŠ Â <code>allowInvalidUrl</code>Â é€‰é¡¹ï¼Œæ”¯æŒ Electron ç­‰ç‰¹å®šåœºæ™¯</li>
<li><strong>æ”¹è¿›çš„ä¸Šä¼ é€»è¾‘</strong>ï¼šä¼˜åŒ–äº†å¤±è´¥çŠ¶æ€çš„å¤„ç†</li>
</ul>
<h2 data-id="heading-8">2 æŠ€æœ¯æ”¹è¿›</h2>
<h3 data-id="heading-9">2.1 æ„å»ºå’Œå·¥ç¨‹åŒ–</h3>
<ul>
<li>ä¿®å¤äº† SSR æ„å»ºé—®é¢˜</li>
<li>ä¼˜åŒ–äº† Vite é…ç½®ï¼Œè§£å†³äº† PostCSS å’Œ Tailwind çš„å…¼å®¹æ€§é—®é¢˜</li>
<li>æ”¹è¿›äº† SCSS æ–‡ä»¶å¼•å…¥æ–¹å¼</li>
<li>è¾“å‡ºæ–‡ä»¶åç§°ä¼˜åŒ–</li>
</ul>
<h3 data-id="heading-10">2.2 ä¾èµ–ç®¡ç†</h3>
<ul>
<li>å¤–éƒ¨åŒ– emoji-mart å’Œ floating-ui ä¾èµ–ï¼Œå‡å°‘åŒ…ä½“ç§¯</li>
<li>ç§»é™¤äº† better-table å’Œ lodash-esï¼Œä¼˜åŒ–ä¾èµ–æ ‘</li>
</ul>
<h3 data-id="heading-11">2.3 ä»£ç è´¨é‡</h3>
<ul>
<li>å®Œæ•´çš„æµ‹è¯•è¦†ç›–ç‡æå‡</li>
<li>é‡æ„ä¼˜åŒ–ï¼šç§»é™¤å†—ä½™ä»£ç </li>
<li>API æ ‡å‡†åŒ–ï¼š<code>scrollIntoView</code>Â â†’Â <code>scrollSelectionIntoView</code></li>
<li>ç¤ºä¾‹ä»£ç Â <code>async/await</code>Â æ”¹é€ ï¼Œä»£ç ç°ä»£åŒ–</li>
</ul>
<h3 data-id="heading-12">2.4 ç±»å‹å®‰å…¨</h3>
<ul>
<li>ä¿®å¤äº†å›  TypeScript ç±»å‹å¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</li>
<li>æ”¹è¿›äº†ç±»å‹å®šä¹‰</li>
</ul>
<h3 data-id="heading-13">2.5 API å¯¼å‡ºå¢å¼º</h3>
<p>v4.0 å¯¼å‡ºäº†å·¥å…·æ é…ç½®å¸¸é‡ï¼Œæ–¹ä¾¿å¼€å‘è€…å®šåˆ¶ï¼š</p>
<ul>
<li><code>DEFAULT_TOOLBAR</code>ï¼šé»˜è®¤å·¥å…·æ é…ç½®</li>
<li><code>FULL_TOOLBAR</code>ï¼šå®Œæ•´å·¥å…·æ é…ç½®</li>
</ul>
<h3 data-id="heading-14">2.6 å¢åŠ è‡ªåŠ¨å‘åŒ…å·¥ä½œæµ</h3>
<ul>
<li>å¢åŠ  auto-publish / auto-deploy ç­‰è‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œæ”¯æŒæ‰“ tag ä¹‹åè‡ªåŠ¨å‘ç‰ˆæœ¬ã€ç”Ÿæˆ Release Notes</li>
<li>PR é—¨ç¦åœ¨å•å…ƒæµ‹è¯•åŸºç¡€ä¸Šå¢åŠ  npm åŒ…å’Œç½‘ç«™æ„å»ºï¼Œç¡®ä¿åˆå…¥ PR ä¹‹å‰ï¼Œnpm åŒ…æ„å»ºå’Œç½‘ç«™æ„å»ºæ˜¯æ­£å¸¸çš„ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æ–¹å¼ä¿éšœç‰ˆæœ¬è´¨é‡ã€‚</li>
</ul>
<h2 data-id="heading-15">3 é—®é¢˜ä¿®å¤</h2>
<p>v4.0 ä¿®å¤äº†å¤§é‡å·²çŸ¥é—®é¢˜ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å·¥å…·æ é€‰æ‹©å™¨ä¸è·Ÿéšå…‰æ ‡å˜åŒ–çš„é—®é¢˜</li>
<li>è¡Œé«˜ä½œç”¨åŸŸé—®é¢˜</li>
<li>åˆ—è¡¨æ ·å¼æ˜¾ç¤ºä¸æ­£ç¡®</li>
<li>èƒŒæ™¯è‰² SVG å›¾æ ‡é—®é¢˜</li>
<li>VitePress é»˜è®¤æ ·å¼å½±å“çš„é—®é¢˜</li>
<li>è‡ªå®šä¹‰ä¸Šä¼ å¤±è´¥æ—¶è¡¨æ ¼æ•°æ®ç»“æ„ç ´åçš„é—®é¢˜</li>
<li>å¤šé¡¹æ–‡æ¡£å’Œå›½é™…åŒ–ç¿»è¯‘é—®é¢˜</li>
</ul>
<h2 data-id="heading-16">4 ç¤¾åŒºè´¡çŒ®</h2>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸º v4.0 åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼ä½ ä»¬çš„è¾›å‹¤ä»˜å‡ºè®© TinyEditor å˜å¾—æ›´å¥½ï¼</p>
<ul>
<li>@chenxi-20</li>
<li>@GaoNeng-wWw</li>
<li>@jany55555</li>
<li>@qwangry</li>
<li>@shenyaofeng</li>
<li>@vaebe</li>
<li>@wuyiping0628</li>
<li>@Yinlin124</li>
<li>@zzxming</li>
</ul>
<blockquote>
<p>æ³¨ï¼šæ’åä¸åˆ†å…ˆåï¼ŒæŒ‰åå­—é¦–å­—æ¯æ’åºã€‚</p>
</blockquote>
<p>å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®æˆ–åé¦ˆï¼Œæ¬¢è¿é€šè¿‡ GitHub Issues ä¸æˆ‘ä»¬è”ç³»ã€‚</p>
<h2 data-id="heading-17">å¾€æœŸæ¨èæ–‡ç« </h2>
<ul>
<li>ğŸ‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521363%26idx%3D1%26sn%3D1d9ac1d8fd757848553e6d6a628a4696%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521363&amp;idx=1&amp;sn=1d9ac1d8fd757848553e6d6a628a4696&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">TinyEditorï¼šä¸€ä¸ªåŸºäº Quill 2.0 çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒåŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ï¼</a></li>
<li>ğŸˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521458%26idx%3D1%26sn%3D56fa9b07b0667801ce33c569569eb820%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521458&amp;idx=1&amp;sn=56fa9b07b0667801ce33c569569eb820&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">TinyEditor å¯Œæ–‡æœ¬å¼€æº2ä¸ªæœˆçš„æ€»ç»“ï¼šå¢åŠ æ ¼å¼åˆ·ã€æˆªå±ã€TypeScript ç±»å‹å£°æ˜ç­‰æ–°ç‰¹æ€§</a></li>
<li>ğŸ¥³<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521498%26idx%3D1%26sn%3D2f09766e9ef5633d2f7df5d7bbef505e%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521498&amp;idx=1&amp;sn=2f09766e9ef5633d2f7df5d7bbef505e&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">é‡ç£…æ›´æ–°ï¼TinyEditor å¼€æºå¯Œæ–‡æœ¬æ”¯æŒ LaTeX å¯ç¼–è¾‘å…¬å¼å•¦~</a></li>
<li>ğŸ‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521407%26idx%3D1%26sn%3Ddb2240d78afddcb4f790e155e4ed684a%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521407&amp;idx=1&amp;sn=db2240d78afddcb4f790e155e4ed684a&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å–œæŠ¥ï¼TinyEditor å¼€æºå¯Œæ–‡æœ¬è¿æ¥äº†ç¬¬ä¸€ä½è´¡çŒ®è€…</a></li>
<li>ğŸ‘<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521518%26idx%3D1%26sn%3Dbe00e70af3e2ec312ffa67fe254fbf1e%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521518&amp;idx=1&amp;sn=be00e70af3e2ec312ffa67fe254fbf1e&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">è®©æˆ‘ä»¬ä¸€èµ·æ¥å»ºè®¾ TinyEditor å¼€æºå¯Œæ–‡æœ¬ç¼–è¾‘å™¨å§ï¼</a></li>
<li>âœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521560%26idx%3D1%26sn%3Dcd5c8fca9de30d44645e6f8c7099abb0%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521560&amp;idx=1&amp;sn=cd5c8fca9de30d44645e6f8c7099abb0&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">TinyEditor v3.25.0 æ­£å¼å‘å¸ƒï¼2025å¹´ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¢åŠ æ ‡é¢˜åˆ—è¡¨å¯¼èˆªã€åˆ†éš”çº¿ç­‰å®ç”¨ç‰¹æ€§</a></li>
<li>âš¡ï¸<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI2MDE3MTM4MA%3D%3D%26mid%3D2701521653%26idx%3D1%26sn%3Db17914b431c14826d150aa21bd054389%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&amp;mid=2701521653&amp;idx=1&amp;sn=b17914b431c14826d150aa21bd054389&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">TinyEditor v4.0 alpha ç‰ˆæœ¬å‘å¸ƒï¼šæ›´å¼ºå¤§çš„è¡¨æ ¼ã€æ›´ä¸°å¯Œçš„è¡¨æƒ…ã€æ›´å¥½çš„ä¸Šä¼ ä½“éªŒ</a></li>
</ul>
<h2 data-id="heading-18">å…³äºOpenTiny</h2>
<p>æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½</p>
<p>OpenTiny å®˜ç½‘ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design" target="_blank" title="https://opentiny.design" ref="nofollow noopener noreferrer">opentiny.design</a></strong><br/>
OpenTiny ä»£ç ä»“åº“ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny" target="_blank" title="https://github.com/opentiny" ref="nofollow noopener noreferrer">github.com/opentiny</a></strong><br/>
TinyVue æºç ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-vue" target="_blank" title="https://github.com/opentiny/tiny-vue" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></strong><br/>
TinyEngine æºç ï¼šâ€…<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-engine" target="_blank" title="https://github.com/opentiny/tiny-engine" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></strong><br/>
æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸTinyEngineã€TinyVueã€TinyNGã€TinyCLIã€TinyEditor~</p>
<p>å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° good first issueæ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿…é›·åŸºäºé˜¿é‡Œäº‘Â EMRÂ ServerlessÂ SparkÂ å®ç°æ•°ä»“èµ„æºæ•ˆç‡ä¸ä¸šåŠ¡æå‡]]></title>    <link>https://juejin.cn/post/7592170171634597903</link>    <guid>https://juejin.cn/post/7592170171634597903</guid>    <pubDate>2026-01-07T08:33:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592170171634597903" data-draft-id="7592152007839956992" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿…é›·åŸºäºé˜¿é‡Œäº‘Â EMRÂ ServerlessÂ SparkÂ å®ç°æ•°ä»“èµ„æºæ•ˆç‡ä¸ä¸šåŠ¡æå‡"/> <meta itemprop="keywords" content="Spark"/> <meta itemprop="datePublished" content="2026-01-07T08:33:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿…é›·åŸºäºé˜¿é‡Œäº‘Â EMRÂ ServerlessÂ SparkÂ å®ç°æ•°ä»“èµ„æºæ•ˆç‡ä¸ä¸šåŠ¡æå‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:33:49.000Z" title="Wed Jan 07 2026 08:33:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆ˜æ•Â |Â è¿…é›·å¤§æ•°æ®å¹³å°è´Ÿè´£äºº</p>
<p>å°¤å¸…Â |Â è¿…é›·å¤§æ•°æ®å¹³å°èµ„æ·±å·¥ç¨‹å¸ˆ</p>
<p>é™ˆç…§Â |Â é˜¿é‡Œäº‘å…¬å…±äº‘ä¸šåŠ¡äº‹ä¸šéƒ¨è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ</p>
<p>æ½˜é”¦æ£‰Â |Â é˜¿é‡Œäº‘å…¬å…±äº‘ä¸šåŠ¡äº‹ä¸šéƒ¨è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆÂ </p>
<p>åˆ˜ç‘ä¼ŸÂ |Â é˜¿é‡Œäº‘å…¬å…±äº‘ä¸šåŠ¡äº‹ä¸šéƒ¨å¤§æ•°æ®è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ</p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä»‹ç»</h2>
<h3 data-id="heading-1">ä¼ä¸šç®€ä»‹</h3>
<p>è¿…é›·ï¼ˆçº³æ–¯è¾¾å…‹è‚¡ç¥¨ä»£ç ï¼šXNETï¼‰ä½œä¸ºå…¨çƒåˆ†å¸ƒå¼æŠ€æœ¯é¢†åŸŸçš„å…ˆè¡Œè€…ï¼Œä»¥æŠ€æœ¯æ„å»ºå•†ä¸šï¼Œä»¥æœåŠ¡åˆ›é€ å…±è¯†ï¼Œä»è€Œå»ºç«‹ä¸€ä¸ªé«˜æ•ˆå¯ä¿¡çš„å­˜å‚¨ä¸ä¼ è¾“ç½‘ç»œã€‚</p>
<p>è‡ª2003å¹´åˆ›ç«‹ä»¥æ¥ï¼Œå…¬å¸é€šè¿‡æŒç»­æ·±è€•P2Pä¼ è¾“ã€è¾¹ç¼˜è®¡ç®—ä¸åŒºå—é“¾æŠ€æœ¯ï¼Œæ„å»ºèµ·è¦†ç›–å…¨çƒçš„é«˜æ•ˆå¯ä¿¡æ•°æ®ç½‘ç»œï¼šè¿™ä¸€ç½‘ç»œä¸ä»…æ‰¿è½½ç€äº¿çº§ç”¨æˆ·çš„æ—¥å¸¸æ•°å­—ç”Ÿæ´»ï¼Œæ›´æˆä¸ºWeb3.0æ—¶ä»£åŸºç¡€è®¾æ–½çš„é‡è¦å®è·µè€…ã€‚</p>
<p>å‡­å€Ÿå¯¹æè‡´ç”¨æˆ·ä½“éªŒçš„è¿½æ±‚ï¼Œè¿…é›·æ‰“é€ äº†å¤šæ¬¾è¡Œä¸šæ ‡æ†äº§å“ï¼šé©å‘½æ€§çš„è¿…é›·ä¸‹è½½å¼•æ“é‡æ–°å®šä¹‰äº†æ–‡ä»¶ä¼ è¾“æ•ˆç‡ï¼Œè¿…é›·äº‘ç›˜ä»¥å»ä¸­å¿ƒåŒ–å­˜å‚¨æ¶æ„å®ç°æ•°æ®ä¸»æƒå›å½’ï¼Œç©å®¢äº‘ç­‰æ™ºèƒ½ç¡¬ä»¶åˆ™å¼€åˆ›äº†å…±äº«è®¡ç®—æ–°ç”Ÿæ€ã€‚</p>
<p>æˆªè‡³2025å¹´ï¼Œè¿…é›·äº§å“çŸ©é˜µå·²æœåŠ¡å…¨çƒè¶…4äº¿æ³¨å†Œç”¨æˆ·ï¼Œå½¢æˆæå…·ä»·å€¼çš„å®æ—¶è¡Œä¸ºæ•°æ®é‡‘çŸ¿ã€‚</p>
<p>æŠ€æœ¯åº•åº§å†³å®šå•†ä¸šè¾¹ç•Œã€‚è¿…é›·æ·±è€•ä¸‰å¤§æŠ€æœ¯èƒ½åŠ›ï¼š</p>
<p>1.Â æµ·é‡æ•°æ®å®æ—¶æ²»ç†èƒ½åŠ›ï¼šæ¯ç§’å¤„ç†PBçº§ä¼ è¾“æ—¥å¿—ä¸å­˜å‚¨å…ƒæ•°æ®</p>
<p>2.Â äº¿çº§èŠ‚ç‚¹åŠ¨æ€è°ƒåº¦ç³»ç»Ÿï¼šé€šè¿‡æ™ºèƒ½ç®—æ³•å®ç°å…¨çƒåˆ†å¸ƒå¼èŠ‚ç‚¹æ¯«ç§’çº§å“åº”</p>
<p>3.Â è·¨åœºæ™¯è”é‚¦è®¡ç®—æ¶æ„ï¼šåœ¨ä¿éšœéšç§å®‰å…¨å‰æä¸‹æ¿€æ´»æ•°æ®è¦ç´ ä»·å€¼</p>
<p>è¿™å¥—ç»å—é«˜å¹¶å‘æ·¬ç‚¼çš„æŠ€æœ¯ä½“ç³»ï¼Œä¸ä»…æ”¯æ’‘ç€å½±è§†ã€æ¸¸æˆã€IoTç­‰è¡Œä¸šçš„å…³é”®ä¸šåŠ¡åœºæ™¯ï¼Œæ›´æ²‰æ·€å‡ºå¯¹æ•°æ®æµåŠ¨è§„å¾‹çš„æ·±åº¦è®¤çŸ¥ï¼šè¿™æ­£æ˜¯è¿…é›·ä¸é˜¿é‡Œäº‘åœ¨å¤§æ•°æ®æ™ºèƒ½æ—¶ä»£å±•å¼€æ·±åº¦ååŒçš„åº•å±‚é€»è¾‘ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒä¸šåŠ¡ç—›ç‚¹</h3>
<p>éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œåœ¨å¤§æ•°æ®å¹³å°ä¾§é‡åˆ°äº†ä¸€äº›ç—›ç‚¹ï¼š</p>
<ul>
<li>
<p><strong>æ•°æ®å¤„ç†æ•ˆç‡å­˜åœ¨ç“¶é¢ˆ</strong>ï¼šåŸÂ HadoopÂ é›†ç¾¤éš¾ä»¥å……åˆ†åˆ©ç”¨ä¸šç•Œé¢†å…ˆçš„Â <strong>NativeÂ åŠ é€Ÿ</strong>Â ä¸Â <strong>RemoteÂ ShuffleÂ Service</strong>Â ç­‰æŠ€æœ¯ï¼Œæ•´ä½“æ€§èƒ½æå‡å—é™ï¼Œè¿›è€Œå½±å“é™æœ¬å¢æ•ˆã€‚</p>
</li>
<li>
<p><strong>è®¡ç®—èµ„æºå¼¹æ€§ä¸è¶³</strong>ï¼šåŸÂ HadoopÂ é›†ç¾¤èµ„æºå›ºå®šï¼Œå½“å‡ºç°æ•°æ®é‡çªå¢ã€ä»»åŠ¡å›æº¯ç­‰éœ€è¦ä¸´æ—¶æ‰©å®¹çš„åœºæ™¯æ—¶ï¼Œå®¹æ˜“å‘ç”Ÿèµ„æºç´§å¼ ï¼›ä¸”æ‰©å®¹å‘¨æœŸè¾ƒé•¿ï¼Œéš¾ä»¥å¿«é€Ÿç¼“è§£é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>è¿ç»´å¤æ‚åº¦è¾ƒé«˜</strong>ï¼šåŸé›†ç¾¤åœ¨èµ„æºå±‚é¢éœ€è¦è¾ƒå¤šäººåŠ›ä»‹å…¥ï¼›SparkÂ å¼•æ“å‡çº§ã€PythonÂ ç¯å¢ƒç®¡ç†ç­‰å¸¸è§è¿ç»´æ“ä½œæµç¨‹å¤æ‚ä¸”ç”Ÿäº§é£é™©è¾ƒé«˜ã€‚åŒæ—¶ï¼Œç”±äºé›†ç¾¤ç‰ˆæœ¬åä½ï¼Œåœ¨ä¸šåŠ¡ç”¨é‡å¢é•¿åæ›´æ˜“è§¦å‘å¼€æºç¼ºé™·ï¼Œå¯¼è‡´ç¨³å®šæ€§ä¸‹é™ï¼Œä¸”éš¾ä»¥åŸåœ°å‡çº§ã€‚</p>
</li>
<li>
<p><strong>æˆæœ¬ç®¡æ§å‹åŠ›è¾ƒå¤§</strong>ï¼šè°ƒåº¦ä»»åŠ¡å‘ˆç°â€œå¤œé—´ç¹å¿™ã€æ—¥é—´ç©ºé—²â€çš„å…¸å‹æ³¢å³°æ³¢è°·ç‰¹å¾ï¼Œå›ºå®šèµ„æºåœ¨æ—¥é—´å­˜åœ¨è¾ƒå¤šé—²ç½®ï¼Œé€ æˆä¸å¿…è¦çš„æˆæœ¬æµªè´¹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">æŠ€æœ¯å‡çº§æ ¸å¿ƒè¯‰æ±‚</h3>
<ol>
<li>
<p>é™æœ¬å¢æ•ˆï¼šåœ¨æå‡æ•°æ®å¤„ç†æ•ˆç‡çš„åŒæ—¶ï¼Œé™ä½é›†ç¾¤è¿ç»´æˆæœ¬ä¸ç¡¬ä»¶æŠ•å…¥æˆæœ¬ï¼›</p>
</li>
<li>
<p>æè‡´å¼¹æ€§ï¼šå®ç°è®¡ç®—èµ„æºâ€œæŒ‰éœ€åˆ†é…ã€ç§’çº§æ‰©å®¹â€ï¼Œç²¾å‡†åŒ¹é…ä¸šåŠ¡æµé‡æ³¢åŠ¨ï¼Œé¿å…èµ„æºé—²ç½®ä¸çŸ­ç¼ºï¼›</p>
</li>
<li>
<p>æç®€è¿ç»´ï¼šæ‘†è„±é›†ç¾¤ç®¡ç†è´Ÿæ‹…ï¼Œè®©æŠ€æœ¯å›¢é˜Ÿèšç„¦æ ¸å¿ƒä¸šåŠ¡å¼€å‘ä¸ä¼˜åŒ–ï¼›</p>
</li>
<li>
<p>ç¨³å®šå¯é ï¼šä¿éšœé«˜å¹¶å‘åœºæ™¯ä¸‹æ•°æ®å¤„ç†çš„ç¨³å®šæ€§ä¸å‡†ç¡®æ€§ï¼Œæ”¯æŒä»»åŠ¡æ–­ç‚¹ç»­è·‘ã€æ•…éšœè‡ªåŠ¨æ¢å¤ã€‚</p>
</li>
</ol>
<h2 data-id="heading-4">äºŒã€é˜¿é‡Œäº‘Â EMRÂ ServerlessÂ SparkÂ æŠ€æœ¯èµ‹èƒ½</h2>
<p><strong>1ã€ServerlessÂ æ¨¡å¼çªç ´ç®—åŠ›ç“¶é¢ˆï¼Œå®ç°å¼¹æ€§æ•æ·çš„æ•°æ®å¤„ç†</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0140c8322768445f8cab43d2307db987~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379629&amp;x-signature=%2Fl5LQNavMBojYZpnVb%2F55yzwQn4%3D" alt="image.png" loading="lazy"/></p>
<p>åŸé›†ç¾¤æ˜¯ä¸€ä¸ªå…¸å‹çš„æœåŠ¡å™¨æ¶æ„ï¼Œå›°å¢ƒæ˜¯ï¼Œèµ„æºè¦ä¹ˆé•¿æœŸè¢«æ‰“æ»¡ï¼Œè¦ä¹ˆåœ¨ç©ºçª—æœŸå¤§é‡é—²ç½®ã€‚å›¾ä¸­Â <code>yarn_cluster_totalMB</code>Â åŸºæœ¬æ˜¯ä¸€æ¡å¹³ç›´çš„ä¸Šæ²¿çº¿ï¼Œä»£è¡¨é›†ç¾¤çš„æ€»å†…å­˜å®¹é‡æ˜¯å›ºå®šä¸å˜çš„ï¼›è€ŒÂ <code>yarn_cluster_allocatedMB</code>Â åœ¨å¤§å¤šæ•°æ—¶é—´å‡ ä¹è´´ç€è¿™æ¡ä¸Šæ²¿çº¿è¿è¡Œï¼Œæ„å‘³ç€é›†ç¾¤ç»å¤§éƒ¨åˆ†æ—¶é—´éƒ½å¤„åœ¨å…¨åˆ†é…çš„çŠ¶æ€ã€‚çœ‹ä¸Šå»åˆ©ç”¨ç‡å¾ˆé«˜ï¼Œä½†ä»æ¶æ„ä¸äº¤ä»˜è§†è§’ï¼Œè¿™æ›´åƒæ˜¯åœ¨æç¤ºï¼šé›†ç¾¤å·²ç»è¢«å½“ä½œä¸€ä¸ªâ€œåˆšæ€§èµ„æºæ± â€ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªèƒ½å¤Ÿå¹³æ»‘æ‰¿æ¥ä¸šåŠ¡æ³¢åŠ¨çš„å¼¹æ€§èµ„æºåº•åº§ã€‚</p>
<p>å½“Â <code>allocatedMB</code>Â é•¿æ—¶é—´æ¥è¿‘Â <code>totalMB</code>ï¼Œç³»ç»Ÿå‡ ä¹æ²¡æœ‰ä»»ä½•ç¼“å†²ç©ºé—´ã€‚åªè¦ä¸šåŠ¡ä¾§å‡ºç°çªå‘å³°å€¼ã€æŸä¸ªä½œä¸šå‘ç”Ÿæ•°æ®å€¾æ–œå¯¼è‡´æ‰§è¡Œæ—¶é—´æ‹‰é•¿ã€æˆ–è€…å‡ºç°Â shuffleÂ æ”¾å¤§ã€é‡è¯•å¢å¤šï¼ŒYARNÂ çš„è°ƒåº¦å°±ä¼šç«‹åˆ»è½¬å‘æ’é˜Ÿä¸æ‹¥å¡ã€‚äºæ˜¯ç”¨æˆ·æ„ŸçŸ¥åˆ°çš„å¾€å¾€ä¸æ˜¯â€œé«˜åˆ©ç”¨ç‡â€ï¼Œè€Œæ˜¯æ›´ç›´è§‚çš„ä½“éªŒé—®é¢˜ï¼šæäº¤ä»»åŠ¡åæ’é˜Ÿæ—¶é—´å˜é•¿ï¼Œäº¤äº’å¼åˆ†æä¸å†åŠæ—¶ï¼Œæ‰¹å¤„ç†çª—å£è¢«æŒ¤å‹ï¼Œç”šè‡³åœ¨æç«¯æƒ…å†µä¸‹å½¢æˆé›ªå´©æ•ˆåº”â€”â€”ä»»åŠ¡å˜æ…¢å ç”¨èµ„æºæ›´ä¹…ï¼Œå¯¼è‡´åç»­ä»»åŠ¡æ›´æ’é˜Ÿï¼›æ’é˜Ÿè¶Šå¤šï¼Œè¶…æ—¶ä¸é‡è¯•è¶Šå¤šï¼Œåè¿‡æ¥åˆè¿›ä¸€æ­¥åŠ å‰§æ‹¥å¡ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1889ccb296944f1796aedda6dde03480~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768379629&amp;x-signature=0O%2B8NPJAAx4Dyfdey7UuoBfGG%2BM%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è¿ç§»åˆ°Â EMRÂ ServerlessÂ SparkÂ ä¹‹åï¼Œä»ä¸Šè¿°è¿™å¼ Â WorkspaceÂ memoryÂ consumptionÂ æ›²çº¿å‘ˆç°å‡ºéå¸¸å…¸å‹çš„â€œæ½®æ±å‹è´Ÿè½½â€ç‰¹å¾ï¼šåœ¨ä¸šåŠ¡é«˜å³°æœŸå†…å­˜ç”¨é‡å¯ä»¥å¿«é€Ÿæ‹‰å‡åˆ°æ•°åÂ TBï¼›è€Œåœ¨ä»»åŠ¡å®Œæˆã€è´Ÿè½½å›è½åï¼Œèµ„æºå ç”¨åˆèƒ½è¿…é€Ÿä¸‹é™ï¼Œç”šè‡³å›å½’åˆ°æ¥è¿‘Â 0Â çš„æ°´å¹³ã€‚å¯¹è¿…é›·è€Œè¨€ï¼Œè¿™æ„å‘³ç€è®¡ç®—èµ„æºä¸å†è¢«å›ºå®šé›†ç¾¤å®¹é‡æ‰€æŸç¼šï¼Œå³°å€¼æ—¶èƒ½å¤ŸæŒ‰éœ€è·å¾—è¶³å¤Ÿçš„å†…å­˜ä¸å¹¶å‘èƒ½åŠ›å»æ‰¿æ¥æ‰¹å¤„ç†çª—å£ã€çªå‘ä»»åŠ¡æˆ–ä¸´æ—¶åˆ†æï¼Œä»è€Œæ˜¾è‘—é™ä½æ’é˜Ÿã€æ‹¥å¡ä¸â€œé¡¶æ ¼è¿è¡Œâ€çš„é£é™©ï¼Œè®©ä½œä¸šå®Œæˆæ—¶é—´ä¸äº¤ä»˜èŠ‚å¥æ›´å¯æ§ã€‚</p>
<p>ä»ç³»ç»Ÿèƒ½åŠ›è§’åº¦çœ‹ï¼Œè¿™æ¡æ›²çº¿ä½“ç°çš„æ˜¯Â ServerlessÂ SparkÂ æŠŠâ€œå®¹é‡è§„åˆ’ä¸èµ„æºæ± è¿ç»´â€ä»ç”¨æˆ·ä¾§å½»åº•å‰¥ç¦»ï¼šå¹³å°èƒ½å¤ŸåŸºäºä½œä¸šç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨æ‹‰èµ·èµ„æºã€æŒ‰éœ€æ‰©å±•ã€åœ¨ç©ºé—²æ—¶è‡ªåŠ¨å›æ”¶ï¼Œå®ç°çœŸæ­£çš„å¼¹æ€§ä¼¸ç¼©ä¸æ›´å¼ºçš„èµ„æºéš”ç¦»ã€‚æœ€ç»ˆå¸¦æ¥çš„ç›´æ¥æ”¶ç›Šæ˜¯æˆæœ¬ä¸ä½¿ç”¨é‡å¼ºç»‘å®šâ€”â€”é«˜å³°æœŸç”¨å¤šå°‘ä»˜å¤šå°‘ï¼Œä½è°·æœŸå‡ ä¹ä¸äº§ç”Ÿèµ„æºå ç”¨ï¼Œä¹Ÿå°±ä¸å†ä¸ºé—²ç½®å®¹é‡é•¿æœŸä¹°å•ï¼›åŒæ—¶å¹³å°ç”¨è‡ªåŠ¨åŒ–è°ƒåº¦ä¸å›æ”¶æœºåˆ¶ä¿éšœèµ„æºä¾›ç»™çš„åŠæ—¶æ€§ä¸ç¨³å®šæ€§ã€‚</p>
<p><strong>2ã€çµæ´»è®¿é—®å½’æ¡£æ•°æ®</strong></p>
<p>è¿…é›·æ•°æ®å›¢é˜Ÿå°†å¤§é‡OSSæ•°æ®ä»¥å½’æ¡£ã€å†·å½’æ¡£ã€æ·±åº¦å†·å½’æ¡£ç±»å‹å­˜å‚¨è¾¾åˆ°é™ä½å­˜å‚¨è´¹ç”¨çš„ç›®çš„ï¼Œè¿™äº›å½’æ¡£æ•°æ®æ— æ³•ç›´æ¥è®¿é—®ï¼Œéœ€è¦æå‰æ‰§è¡Œè§£å†»æ“ä½œã€‚</p>
<p>EMRÂ ServerlessÂ Sparkæä¾›è‡ªåŠ¨å’Œæ‰‹åŠ¨ä¸¤ç§è§£å†»æ–¹å¼ä¾¿äºä½œä¸šçµæ´»è®¿é—®å½’æ¡£æ•°æ®ï¼Œè¯¦è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Femr%2Femr-serverless-spark%2Fuse-cases%2Funfreeze-the-oss-archive%3Fspm%3Da2c4g.11186623.help-menu-search-28066.d_0" target="_blank" title="https://help.aliyun.com/zh/emr/emr-serverless-spark/use-cases/unfreeze-the-oss-archive?spm=a2c4g.11186623.help-menu-search-28066.d_0" ref="nofollow noopener noreferrer">è§£å†»OSSå½’æ¡£æ–‡ä»¶</a></p>
<ul>
<li>
<p>è‡ªåŠ¨è§£å†»ï¼Œåœ¨ä½œä¸šç”Ÿäº§plané˜¶æ®µè¯†åˆ«å‡ºå½’æ¡£æ–‡ä»¶ï¼Œè‡ªåŠ¨æäº¤è§£å†»è¯·æ±‚ï¼Œä½¿å¾—ä½œä¸šæ‰§è¡Œæ—¶èƒ½å¤Ÿæ­£å¸¸è¯»å–æ•°æ®ã€‚ä½†å¯¹äºåˆ†åŒºå€¼éœ€è¦åŠ¨æ€è®¡ç®—å¾—å‡ºçš„åœºæ™¯ï¼Œè‡ªåŠ¨è§£å†»æ–¹å¼æ— æ³•ä¸€æ¬¡æäº¤æ‰€æœ‰è§£å†»è¯·æ±‚ï¼Œè¿›è€Œå½±å“ä½œä¸šæ‰§è¡Œæ•ˆç‡ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">--conf spark.sql.emr.autoRestoreOssArchive.enabled=true</span>
</code></pre>
</li>
<li>
<p>æ‰‹åŠ¨è§£å†»ï¼Œæä¾›restoreÂ sqlè¯­æ³•æ˜¾ç¤ºå¯¹è¡¨ã€åˆ†åŒºæå‰è§£å†»ï¼Œè§£å†»è¿‡ç¨‹å¯¹ç”¨æˆ·æ›´å‹å¥½ã€‚</p>
</li>
</ul>
<p>å€ŸåŠ©ä¸Šè¿°åŠŸèƒ½ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿå“åº”æ•°æ®åˆ†æå¸ˆå¯¹å†å²å½’æ¡£æ•°æ®çš„è®¿é—®éœ€æ±‚ï¼Œé™ä½å­˜å‚¨æˆæœ¬çš„åŒæ—¶åŠ é€Ÿä¸šåŠ¡è¿­ä»£ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è§£å†»æ•´ä¸ªè¡¨å¯¹åº”çš„OSSå½’æ¡£æ–‡ä»¶ä¾›åç»­æŸ¥è¯¢ã€‚</span>
RESTORE <span class="hljs-keyword">TABLE</span> table_name;

<span class="hljs-comment">-- æŒ‡å®šåˆ†åŒºè§£å†», ç²¾ç»†åŒ–æ§åˆ¶è§£å†»ç²’åº¦ï¼ŒèŠ‚çœèµ„æºä¸æ—¶é—´ã€‚</span>
RESTORE <span class="hljs-keyword">TABLE</span> table_name <span class="hljs-keyword">PARTITION</span> (pt1<span class="hljs-operator">=</span><span class="hljs-string">'a'</span>, pt2<span class="hljs-operator">=</span><span class="hljs-string">'b'</span>);
</code></pre>
<p><strong>3ã€åŸºäºKyuubiçš„äº¤äº’å¼å¼€å‘</strong></p>
<p>ServerlessÂ Sparkå†…ç½®äº†100%å…¼å®¹å¼€æºçš„KyuubiÂ Gatewayï¼Œå¹¶åœ¨äº‘åŸç”Ÿç¨³å®šæ€§å’Œå¤šç§Ÿéš”ç¦»æ€§ç­‰æ–¹é¢è¿›è¡Œäº†å¢å¼ºã€‚ä¸€æ–¹é¢èƒ½å¤ç”¨Driver/Executorèµ„æºï¼Œé¿å…å®¹å™¨å¯åŠ¨å»¶è¿Ÿï¼Œæä¾›ç§’çº§æŸ¥è¯¢ï¼Œå¦ä¸€æ–¹é¢åˆ©ç”¨Sparkçš„åŠ¨æ€èµ„æºä¼¸ç¼©ï¼Œé—²æ—¶åŠæ—¶é‡Šæ”¾èµ„æºï¼Œé¿å…æµªè´¹ï¼Œä»è€Œæä¾›é«˜æ€§ä»·æ¯”çš„äº¤äº’å¼åˆ†æèƒ½åŠ›ã€‚</p>
<p>è¿…é›·è‡ªç ”çš„æ•°æ®å¼€å‘å¹³å°é€šè¿‡beelineå’Œhueæ— ç¼å¯¹æ¥KyuubiÂ Gatewayï¼Œæ”¯æŒæ—¥å¸¸çš„æ•°ä»“ä»»åŠ¡å¼€å‘ä»¥åŠå³å¸­æŸ¥è¯¢ï¼Œæ˜¾è‘—æå‡å¼€å‘åˆ†ææ•ˆç‡ï¼ŒåŒæ—¶å¤§å¹…é™ä½äº†æ•°æ®å¼€å‘ï¼Œæ•°æ®åˆ†æå’Œä¸´æ—¶æŸ¥è¯¢æˆæœ¬ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€ä¸šåŠ¡ä¸æŠ€æœ¯ä»·å€¼åŒé‡çªç ´</h2>
<p>è¿ç§»åˆ°Â EMRÂ ServerlessÂ SparkÂ ä¹‹åï¼Œæœ€ç›´è§‚çš„æ„Ÿå—æ˜¯Â <strong>TCOÂ æ˜æ˜¾ä¸‹é™</strong>ï¼šä¸å†éœ€è¦ä¸ºå›ºå®šé›†ç¾¤æŒ‰å³°å€¼é•¿æœŸå¤‡èµ„æºï¼Œå¹³å°æŒ‰ä½œä¸šç”Ÿå‘½å‘¨æœŸå¼¹æ€§æ‹‰èµ·ä¸å›æ”¶ï¼Œä½è°·æœŸèµ„æºå ç”¨å¯é™åˆ°æ¥è¿‘Â 0ï¼Œåªä¸ºå®é™…æ¶ˆè€—ä»˜è´¹ã€‚åŒæ—¶ï¼Œæ‰˜ç®¡åŒ–å¸¦æ¥çš„ç¨³å®šæ€§ä¸è°ƒåº¦æ•ˆç‡æå‡ï¼Œå‡å°‘äº†æ’é˜Ÿã€é‡è¯•å’Œèµ„æºäº‰æŠ¢ç­‰éšæ€§æˆæœ¬ï¼Œä½¿åŒæ ·çš„ä¸šåŠ¡äº§å‡ºç”¨æ›´å°‘çš„èµ„æºä¸æ›´å°‘çš„è¿ç»´æŠ•å…¥å°±èƒ½å®Œæˆã€‚</p>
<p>æ›´å…³é”®çš„æ˜¯<strong>äº¤ä»˜ç¡®å®šæ€§æå‡</strong>ï¼šå¤§ä½œä¸šæ•´ä½“å¯æé€Ÿçº¦Â 1Â å°æ—¶ï¼ŒæŠ¥è¡¨é“¾è·¯ä»è¿‡å»çš„é•¿å°¾æ³¢åŠ¨å˜æˆæ›´å¯æ§çš„å‡ºæ•°èŠ‚å¥ï¼Œå…³é”®æŠ¥è¡¨èƒ½ç¨³å®šåœ¨Â 6:00Â å‰äº§å‡ºã€‚å¤œé—´äººå·¥å¹²é¢„å¤§å¹…å‡å°‘ï¼ŒåŸºæœ¬æ— éœ€è¿ç»´äººå‘˜æ·±å¤œå“åº”ã€‚æœ¬è´¨ä¸Šåæ˜ äº†å¤±è´¥ç‡ä¸é•¿å°¾æ˜¾è‘—é™ä½â€”â€”å¹³å°é€šè¿‡å¼¹æ€§ä¾›ç»™ã€éš”ç¦»ä¸è‡ªåŠ¨åŒ–æ¢å¤ï¼ŒæŠŠåŸæœ¬éœ€è¦äººå·¥å…œåº•çš„å®¹é‡ä¸ç¨³å®šæ€§é—®é¢˜å‰ç§»åˆ°ç³»ç»Ÿèƒ½åŠ›ä¸­è§£å†³ï¼Œè®©ç”Ÿäº§é“¾è·¯æ›´ç¨³ã€æ›´å‡†ç‚¹ã€‚</p>
<h2 data-id="heading-6">å››ã€æœªæ¥å±•æœ›</h2>
<p>åœ¨<strong>åœºæ™¯æ‹“å±•</strong>ä¸Šï¼Œå°†EMRÂ ServerlessÂ Sparkå¹¿æ³›åº”ç”¨äºä¸´æ—¶æŸ¥è¯¢ã€æ•°æ®é›†æˆç­‰æ›´å¤šä¸šåŠ¡åœºæ™¯ï¼Œè¿›ä¸€æ­¥é‡Šæ”¾å…¶å¼¹æ€§ã€å…è¿ç»´çš„ä¼˜åŠ¿ï¼›å¦ä¸€æ–¹é¢ï¼Œåœ¨<strong>æŠ€æœ¯æ·±åŒ–</strong>ä¸Šï¼Œç§¯ææ¢ç´¢AIä¸å¤§æ•°æ®çš„èåˆåˆ›æ–°ï¼Œå……åˆ†å‘æŒ¥ServerlessÂ Sparkåœ¨æµ·é‡æ•°æ®å¤„ç†ä¸AIååŒæ–¹é¢çš„æ½œåŠ›ï¼Œä¸ºä¸šåŠ¡åˆ›é€ æ›´å¤§ä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æ OpenCodeï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7592170706026266659</link>    <guid>https://juejin.cn/post/7592170706026266659</guid>    <pubDate>2026-01-07T07:45:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592170706026266659" data-draft-id="7592170706025922595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£æ OpenCodeï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„è‰ºæœ¯"/> <meta itemprop="keywords" content="TypeScript,AIGC"/> <meta itemprop="datePublished" content="2026-01-07T07:45:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Tam"/> <meta itemprop="url" content="https://juejin.cn/user/1222312659527768"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£æ OpenCodeï¼šä¸‹ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹çš„æ¶æ„è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1222312659527768/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Tam
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T07:45:41.000Z" title="Wed Jan 07 2026 07:45:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»é›¶åˆ°ä¸€ï¼Œæ­ç§˜è¿™ä¸ª2026å¹´å¼€å¹´æœ€ç«çš„å¼€æº AI Coding Agent çš„å†…éƒ¨è¿ä½œæœºåˆ¶</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ç›®å½•</h2>
<ul>
<li><a href="#%E5%BC%95%E8%A8%80%E5%BD%93-ai-%E5%AD%A6%E4%BC%9A%E5%86%99%E4%BB%A3%E7%A0%81" title="#%E5%BC%95%E8%A8%80%E5%BD%93-ai-%E5%AD%A6%E4%BC%9A%E5%86%99%E4%BB%A3%E7%A0%81">å¼•è¨€ï¼šå½“ AI å­¦ä¼šå†™ä»£ç </a></li>
<li><a href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%E9%B8%9F%E7%9E%B0%E5%85%A8%E5%B1%80---opencode-%E6%9E%B6%E6%9E%84%E6%80%BB%E8%A7%88" title="#%E7%AC%AC%E4%B8%80%E7%AB%A0%E9%B8%9F%E7%9E%B0%E5%85%A8%E5%B1%80---opencode-%E6%9E%B6%E6%9E%84%E6%80%BB%E8%A7%88">ç¬¬ä¸€ç« ï¼šé¸Ÿç°å…¨å±€ - OpenCode æ¶æ„æ€»è§ˆ</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86---ai-%E7%9A%84%E8%AE%B0%E5%BF%86%E5%AE%AB%E6%AE%BF" title="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86---ai-%E7%9A%84%E8%AE%B0%E5%BF%86%E5%AE%AB%E6%AE%BF">ç¬¬äºŒç« ï¼šä¼šè¯ç®¡ç† - AI çš„"è®°å¿†å®«æ®¿"</a></li>
<li><a href="#%E7%AC%AC%E4%B8%89%E7%AB%A0agent-%E7%B3%BB%E7%BB%9F---%E6%80%9D%E8%80%83%E7%9A%84%E8%89%BA%E6%9C%AF" title="#%E7%AC%AC%E4%B8%89%E7%AB%A0agent-%E7%B3%BB%E7%BB%9F---%E6%80%9D%E8%80%83%E7%9A%84%E8%89%BA%E6%9C%AF">ç¬¬ä¸‰ç« ï¼šAgent ç³»ç»Ÿ - æ€è€ƒçš„è‰ºæœ¯</a></li>
<li><a href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F---ai-%E7%9A%84%E7%91%9E%E5%A3%AB%E5%86%9B%E5%88%80" title="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%B7%A5%E5%85%B7%E7%B3%BB%E7%BB%9F---ai-%E7%9A%84%E7%91%9E%E5%A3%AB%E5%86%9B%E5%88%80">ç¬¬å››ç« ï¼šå·¥å…·ç³»ç»Ÿ - AI çš„"ç‘å£«å†›åˆ€"</a></li>
<li><a href="#%E7%AC%AC%E4%BA%94%E7%AB%A0provider-%E6%8A%BD%E8%B1%A1%E5%B1%82---%E4%B8%87%E7%89%A9%E7%9A%86%E5%8F%AF-llm" title="#%E7%AC%AC%E4%BA%94%E7%AB%A0provider-%E6%8A%BD%E8%B1%A1%E5%B1%82---%E4%B8%87%E7%89%A9%E7%9A%86%E5%8F%AF-llm">ç¬¬äº”ç« ï¼šProvider æŠ½è±¡å±‚ - ä¸‡ç‰©çš†å¯ LLM</a></li>
<li><a href="#%E7%AC%AC%E5%85%AD%E7%AB%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8E%8B%E7%BC%A9---%E8%AE%B0%E5%BF%86%E7%9A%84%E8%89%BA%E6%9C%AF" title="#%E7%AC%AC%E5%85%AD%E7%AB%A0%E4%B8%8A%E4%B8%8B%E6%96%87%E5%8E%8B%E7%BC%A9---%E8%AE%B0%E5%BF%86%E7%9A%84%E8%89%BA%E6%9C%AF">ç¬¬å…­ç« ï¼šä¸Šä¸‹æ–‡å‹ç¼© - è®°å¿†çš„è‰ºæœ¯</a></li>
<li><a href="#%E7%AC%AC%E4%B8%83%E7%AB%A0%E5%AE%89%E5%85%A8%E4%B8%8E%E6%9D%83%E9%99%90---%E4%BF%A1%E4%BB%BB%E4%BD%86%E8%A6%81%E9%AA%8C%E8%AF%81" title="#%E7%AC%AC%E4%B8%83%E7%AB%A0%E5%AE%89%E5%85%A8%E4%B8%8E%E6%9D%83%E9%99%90---%E4%BF%A1%E4%BB%BB%E4%BD%86%E8%A6%81%E9%AA%8C%E8%AF%81">ç¬¬ä¸ƒç« ï¼šå®‰å…¨ä¸æƒé™ - ä¿¡ä»»ä½†è¦éªŒè¯</a></li>
<li><a href="#%E7%AC%AC%E5%85%AB%E7%AB%A0%E4%BA%AE%E7%82%B9%E6%8A%80%E6%9C%AF%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90" title="#%E7%AC%AC%E5%85%AB%E7%AB%A0%E4%BA%AE%E7%82%B9%E6%8A%80%E6%9C%AF%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90">ç¬¬å…«ç« ï¼šäº®ç‚¹æŠ€æœ¯æ·±åº¦è§£æ</a></li>
<li><a href="#%E7%AC%AC%E4%B9%9D%E7%AB%A0%E4%BB%8E%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F" title="#%E7%AC%AC%E4%B9%9D%E7%AB%A0%E4%BB%8E%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F">ç¬¬ä¹ç« ï¼šä»æºç å­¦ä¹ è®¾è®¡æ¨¡å¼</a></li>
<li><a href="#%E7%AC%AC%E5%8D%81%E7%AB%A0%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5" title="#%E7%AC%AC%E5%8D%81%E7%AB%A0%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%AE%9E%E8%B7%B5">ç¬¬åç« ï¼šæ€§èƒ½ä¼˜åŒ–ä¸å·¥ç¨‹å®è·µ</a></li>
<li><a href="#%E7%BB%93%E8%AF%ADai-%E7%BC%96%E7%A8%8B%E7%9A%84%E6%9C%AA%E6%9D%A5" title="#%E7%BB%93%E8%AF%ADai-%E7%BC%96%E7%A8%8B%E7%9A%84%E6%9C%AA%E6%9D%A5">ç»“è¯­ï¼šAI ç¼–ç¨‹çš„æœªæ¥</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">å¼•è¨€ï¼šå½“ AI å­¦ä¼šå†™ä»£ç </h2>
<p>è¿˜è®°å¾—ç¬¬ä¸€æ¬¡è®© ChatGPT å¸®ä½ å†™ä»£ç çš„æ„Ÿè§‰å—ï¼Ÿé‚£ç§"å“‡ï¼Œè¿™ä¹Ÿè¡Œï¼Ÿ"çš„æƒŠå¹ï¼Œå¾ˆå¿«å°±è¢«"ç­‰ç­‰ï¼Œè¿™ä»£ç è·‘ä¸èµ·æ¥å•Š"çš„æ²®ä¸§æ‰€å–ä»£ã€‚</p>
<p>AI èƒ½å†™ä»£ç ï¼Œä½†å®ƒä¸èƒ½<strong>çœŸæ­£åœ°</strong>å†™ä»£ç â€”â€”å®ƒä¸èƒ½è¯»å–ä½ çš„æ–‡ä»¶ã€ä¸èƒ½è¿è¡Œæµ‹è¯•ã€ä¸èƒ½ç†è§£ä½ é¡¹ç›®çš„ä¸Šä¸‹æ–‡ã€‚å®ƒå°±åƒä¸€ä¸ªè¢«è’™ä¸Šçœ¼ç›ã€ç»‘ä½æ‰‹è„šçš„å¤©æ‰ç¨‹åºå‘˜ï¼šæœ‰èƒ½åŠ›ï¼Œä½†æ— æ³•æ–½å±•ã€‚</p>
<p><strong>OpenCode</strong> çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†è§£å¼€è¿™äº›æŸç¼šã€‚</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   ä¼ ç»Ÿ LLM Chatbot          vs         OpenCode Agent          â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚    User     â”‚                    â”‚        User         â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â”‚                                      â”‚              â”‚
â”‚          â–¼                                      â–¼              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚     LLM     â”‚                    â”‚       Agent         â”‚   â”‚
â”‚   â”‚  (é»‘ç®±å¯¹è¯)  â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚  æ€è€ƒ (Think)  â”‚  â”‚   â”‚
â”‚          â”‚                           â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚          â–¼                           â”‚  â”‚  å·¥å…· (Tools)  â”‚  â”‚   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  â”‚  â”œâ”€ Read      â”‚  â”‚   â”‚
â”‚   â”‚  çº¯æ–‡æœ¬å›å¤  â”‚                    â”‚  â”‚  â”œâ”€ Write     â”‚  â”‚   â”‚
â”‚   â”‚  (æ— æ³•æ‰§è¡Œ)  â”‚                    â”‚  â”‚  â”œâ”€ Bash      â”‚  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚  â”œâ”€ Grep      â”‚  â”‚   â”‚
â”‚                                      â”‚  â”‚  â””â”€ ...       â”‚  â”‚   â”‚
â”‚                                      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚   â”‚
â”‚                                      â”‚  â”‚  æ‰§è¡Œ (Action) â”‚  â”‚   â”‚
â”‚                                      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                 â”‚              â”‚
â”‚                                                 â–¼              â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                      â”‚   çœŸå®çš„ä»£ç ä¿®æ”¹     â”‚   â”‚
â”‚                                      â”‚   å¯è¿è¡Œçš„ç»“æœ       â”‚   â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>OpenCode æ˜¯ä¸€ä¸ªå¼€æºçš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œä½†æ›´å‡†ç¡®åœ°è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>å®Œæ•´çš„ Agent æ¡†æ¶</strong>ã€‚å®ƒè®© LLM èƒ½å¤Ÿï¼š</p>
<ul>
<li>ğŸ” <strong>é˜…è¯»</strong>ä½ çš„ä»£ç æ–‡ä»¶</li>
<li>âœï¸ <strong>ç¼–è¾‘</strong>ä½ çš„ä»£ç </li>
<li>ğŸ–¥ï¸ <strong>æ‰§è¡Œ</strong> shell å‘½ä»¤</li>
<li>ğŸ” <strong>æœç´¢</strong>ä»£ç åº“</li>
<li>ğŸ¤” <strong>æ€è€ƒ</strong>å¹¶å±•ç¤ºæ¨ç†è¿‡ç¨‹</li>
<li>ğŸ“ <strong>è®°å¿†</strong>é•¿å¯¹è¯ä¸Šä¸‹æ–‡</li>
<li>ğŸ”„ <strong>å›æ»š</strong>ä»»ä½•ä¿®æ”¹</li>
</ul>
<p>è¿™ä¸æ˜¯ä¸€ä¸ªç®€å•çš„ API wrapperï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„å·¥ç¨‹è‰ºæœ¯å“ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥å®ƒçš„å†…éƒ¨ï¼Œçœ‹çœ‹ç°ä»£ AI Agent æ˜¯å¦‚ä½•æ„å»ºçš„ã€‚</p>
<hr/>
<h2 data-id="heading-2">ç¬¬ä¸€ç« ï¼šé¸Ÿç°å…¨å±€ - OpenCode æ¶æ„æ€»è§ˆ</h2>
<h3 data-id="heading-3">1.1 Monorepo çš„é€‰æ‹©</h3>
<p>OpenCode é‡‡ç”¨ <strong>Monorepo</strong> æ¶æ„ï¼Œä½¿ç”¨ <strong>Bun</strong> ä½œä¸ºè¿è¡Œæ—¶å’ŒåŒ…ç®¡ç†å™¨ï¼Œ<strong>Turbo</strong> ä½œä¸ºæ„å»ºç¼–æ’å·¥å…·ã€‚è¿™ä¸ªé€‰æ‹©å¹¶éå¶ç„¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">opencode/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ opencode/        <span class="hljs-comment"># æ ¸å¿ƒ CLI å’ŒæœåŠ¡å™¨ (å¿ƒè„)</span>
â”‚   â”œâ”€â”€ console/         <span class="hljs-comment"># Web ç®¡ç†æ§åˆ¶å° (å¤§è„‘å¯è§†åŒ–)</span>
â”‚   â”‚   â”œâ”€â”€ app/         <span class="hljs-comment"># SolidJS Web UI</span>
â”‚   â”‚   â”œâ”€â”€ core/        <span class="hljs-comment"># åç«¯é€»è¾‘</span>
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-keyword">function</span>/    <span class="hljs-comment"># Serverless å‡½æ•°</span>
â”‚   â”‚   â””â”€â”€ mail/        <span class="hljs-comment"># é‚®ä»¶æ¨¡æ¿</span>
â”‚   â”œâ”€â”€ desktop/         <span class="hljs-comment"># Tauri æ¡Œé¢åº”ç”¨ (Native å¤–å£³)</span>
â”‚   â”œâ”€â”€ app/             <span class="hljs-comment"># å…±äº« UI ç»„ä»¶ (ç»Ÿä¸€è§†è§‰)</span>
â”‚   â”œâ”€â”€ sdk/js/          <span class="hljs-comment"># JavaScript SDK (å¯¹å¤–æ¥å£)</span>
â”‚   â”œâ”€â”€ ui/              <span class="hljs-comment"># UI ç»„ä»¶åº“ (è®¾è®¡ç³»ç»Ÿ)</span>
â”‚   â”œâ”€â”€ plugin/          <span class="hljs-comment"># æ’ä»¶ç³»ç»Ÿ (æ‰©å±•èƒ½åŠ›)</span>
â”‚   â”œâ”€â”€ util/            <span class="hljs-comment"># å…±äº«å·¥å…·å‡½æ•° (åŸºç¡€è®¾æ–½)</span>
â”‚   â”œâ”€â”€ web/             <span class="hljs-comment"># æ–‡æ¡£ç½‘ç«™ (çŸ¥è¯†åº“)</span>
â”‚   â””â”€â”€ identity/        <span class="hljs-comment"># èº«ä»½è®¤è¯ (å®‰å…¨é—¨æˆ·)</span>
â”œâ”€â”€ infra/               <span class="hljs-comment"># åŸºç¡€è®¾æ–½å³ä»£ç  (SST/AWS)</span>
â””â”€â”€ sdks/                <span class="hljs-comment"># SDK åˆ†å‘</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯ Monorepoï¼Ÿ</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨å»ºé€ ä¸€åº§ç°ä»£åŒ–çš„æ™ºèƒ½å¤§å¦ï¼š</p>
<ul>
<li><strong>CLI</strong> æ˜¯å¤§å¦çš„ç”µæ¢¯ç³»ç»Ÿâ€”â€”ç”¨æˆ·é€šè¿‡å®ƒè¿›å…¥</li>
<li><strong>Server</strong> æ˜¯å¤§å¦çš„ä¸­å¤®æ§åˆ¶å®¤â€”â€”åè°ƒä¸€åˆ‡</li>
<li><strong>Desktop</strong> æ˜¯å¤§å¦çš„è±ªåé—¨å…â€”â€”ç²¾è‡´çš„å…¥å£</li>
<li><strong>Web Console</strong> æ˜¯å¤§å¦çš„ç›‘æ§ä¸­å¿ƒâ€”â€”å…¨å±€å¯è§†</li>
<li><strong>SDK</strong> æ˜¯å¤§å¦çš„ API æ¥å£â€”â€”ä¾›å¤–éƒ¨ç³»ç»Ÿå¯¹æ¥</li>
</ul>
<p>è¿™äº›ç»„ä»¶éœ€è¦<strong>å…±äº«ä»£ç </strong>ï¼ˆUI ç»„ä»¶ã€å·¥å…·å‡½æ•°ã€ç±»å‹å®šä¹‰ï¼‰ï¼Œéœ€è¦<strong>åŒæ­¥ç‰ˆæœ¬</strong>ï¼Œéœ€è¦<strong>ç»Ÿä¸€æ„å»º</strong>ã€‚Monorepo è®©è¿™ä¸€åˆ‡å˜å¾—ä¼˜é›…ã€‚</p>
<h3 data-id="heading-4">1.2 æŠ€æœ¯æ ˆå…¨æ™¯</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "Frontend Layer"
        CLI[CLI/TUI&lt;br/&gt;yargs + ink]
        Desktop[Desktop&lt;br/&gt;Tauri 2]
        Web[Web Console&lt;br/&gt;SolidJS + Vite]
    end

    subgraph "API Layer"
        Server[HTTP Server&lt;br/&gt;Hono]
        WS[WebSocket&lt;br/&gt;Real-time]
        ACP[ACP Protocol]
        MCP[MCP Protocol]
    end

    subgraph "Core Layer"
        Session[Session Manager]
        Agent[Agent System]
        Tool[Tool Registry]
        Provider[Provider Layer]
    end

    subgraph "Infrastructure"
        Storage[Storage&lt;br/&gt;SQLite/Postgres]
        Config[Config Manager]
        Permission[Permission System]
        Bus[Event Bus]
    end

    subgraph "External"
        LLM[LLM Providers&lt;br/&gt;Anthropic/OpenAI/Google...]
        Git[Git/VCS]
        FS[File System]
    end

    CLI --&gt; Server
    Desktop --&gt; Server
    Web --&gt; Server

    Server --&gt; Session
    WS --&gt; Session
    ACP --&gt; Session
    MCP --&gt; Tool

    Session --&gt; Agent
    Session --&gt; Provider
    Agent --&gt; Tool

    Tool --&gt; FS
    Tool --&gt; Git
    Provider --&gt; LLM

    Session --&gt; Storage
    Session --&gt; Bus
    Tool --&gt; Permission
</code></pre>
<h3 data-id="heading-5">1.3 æ ¸å¿ƒåŒ…ç»“æ„æ·±å…¥</h3>
<p>è®©æˆ‘ä»¬èšç„¦ <code>packages/opencode</code>â€”â€”è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿçš„å¿ƒè„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">packages/opencode/src/
â”œâ”€â”€ cli/cmd/           <span class="hljs-comment"># CLI å‘½ä»¤å…¥å£ (17+ å‘½ä»¤)</span>
â”‚   â”œâ”€â”€ run.ts         <span class="hljs-comment"># ä¸»è¿è¡Œå‘½ä»¤</span>
â”‚   â”œâ”€â”€ auth.ts        <span class="hljs-comment"># è®¤è¯å‘½ä»¤</span>
â”‚   â”œâ”€â”€ serve.ts       <span class="hljs-comment"># æœåŠ¡å™¨æ¨¡å¼</span>
â”‚   â”œâ”€â”€ mcp.ts         <span class="hljs-comment"># MCP æœåŠ¡å™¨</span>
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ agent/             <span class="hljs-comment"># Agent ç³»ç»Ÿ</span>
â”‚   â””â”€â”€ agent.ts       <span class="hljs-comment"># Agent å®šä¹‰ä¸é…ç½®</span>
â”‚
â”œâ”€â”€ session/           <span class="hljs-comment"># ä¼šè¯ç®¡ç† (æ ¸å¿ƒ!)</span>
â”‚   â”œâ”€â”€ index.ts       <span class="hljs-comment"># Session CRUD</span>
â”‚   â”œâ”€â”€ message-v2.ts  <span class="hljs-comment"># æ¶ˆæ¯ Schema</span>
â”‚   â”œâ”€â”€ prompt.ts      <span class="hljs-comment"># æç¤ºè¯æ„å»º + ä¸»å¾ªç¯</span>
â”‚   â”œâ”€â”€ processor.ts   <span class="hljs-comment"># æµå¼å¤„ç†ç®¡é“</span>
â”‚   â”œâ”€â”€ compaction.ts  <span class="hljs-comment"># ä¸Šä¸‹æ–‡å‹ç¼©</span>
â”‚   â”œâ”€â”€ summary.ts     <span class="hljs-comment"># æ‘˜è¦ç”Ÿæˆ</span>
â”‚   â”œâ”€â”€ llm.ts         <span class="hljs-comment"># LLM è°ƒç”¨æ¥å£</span>
â”‚   â”œâ”€â”€ system.ts      <span class="hljs-comment"># System Prompt æ„å»º</span>
â”‚   â”œâ”€â”€ revert.ts      <span class="hljs-comment"># å›æ»šåŠŸèƒ½</span>
â”‚   â”œâ”€â”€ status.ts      <span class="hljs-comment"># çŠ¶æ€è¿½è¸ª</span>
â”‚   â”œâ”€â”€ retry.ts       <span class="hljs-comment"># é‡è¯•é€»è¾‘</span>
â”‚   â””â”€â”€ todo.ts        <span class="hljs-comment"># ä»»åŠ¡è¿½è¸ª</span>
â”‚
â”œâ”€â”€ provider/          <span class="hljs-comment"># LLM Provider æŠ½è±¡</span>
â”‚   â””â”€â”€ provider.ts    <span class="hljs-comment"># 18+ æä¾›å•†æ”¯æŒ</span>
â”‚
â”œâ”€â”€ tool/              <span class="hljs-comment"># å·¥å…·ç³»ç»Ÿ</span>
â”‚   â”œâ”€â”€ registry.ts    <span class="hljs-comment"># å·¥å…·æ³¨å†Œè¡¨</span>
â”‚   â”œâ”€â”€ tool.ts        <span class="hljs-comment"># å·¥å…·å®šä¹‰æ¥å£</span>
â”‚   â”œâ”€â”€ bash.ts        <span class="hljs-comment"># Shell æ‰§è¡Œ</span>
â”‚   â”œâ”€â”€ read.ts        <span class="hljs-comment"># æ–‡ä»¶è¯»å–</span>
â”‚   â”œâ”€â”€ write.ts       <span class="hljs-comment"># æ–‡ä»¶å†™å…¥</span>
â”‚   â”œâ”€â”€ edit.ts        <span class="hljs-comment"># æ–‡ä»¶ç¼–è¾‘</span>
â”‚   â”œâ”€â”€ grep.ts        <span class="hljs-comment"># ä»£ç æœç´¢</span>
â”‚   â”œâ”€â”€ glob.ts        <span class="hljs-comment"># æ–‡ä»¶åŒ¹é…</span>
â”‚   â”œâ”€â”€ lsp.ts         <span class="hljs-comment"># LSP é›†æˆ</span>
â”‚   â”œâ”€â”€ task.ts        <span class="hljs-comment"># å­ä»»åŠ¡</span>
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ server/            <span class="hljs-comment"># HTTP æœåŠ¡å™¨</span>
â”‚   â”œâ”€â”€ server.ts      <span class="hljs-comment"># Hono æœåŠ¡å™¨</span>
â”‚   â””â”€â”€ tui.ts         <span class="hljs-comment"># TUI è·¯ç”±</span>
â”‚
â”œâ”€â”€ mcp/               <span class="hljs-comment"># Model Context Protocol</span>
â”œâ”€â”€ lsp/               <span class="hljs-comment"># Language Server Protocol</span>
â”œâ”€â”€ project/           <span class="hljs-comment"># é¡¹ç›®ç®¡ç†</span>
â”œâ”€â”€ permission/        <span class="hljs-comment"># æƒé™ç³»ç»Ÿ</span>
â”œâ”€â”€ storage/           <span class="hljs-comment"># æ•°æ®å­˜å‚¨</span>
â”œâ”€â”€ bus/               <span class="hljs-comment"># äº‹ä»¶æ€»çº¿</span>
â”œâ”€â”€ config/            <span class="hljs-comment"># é…ç½®ç®¡ç†</span>
â”œâ”€â”€ worktree/          <span class="hljs-comment"># Git Worktree</span>
â”œâ”€â”€ snapshot/          <span class="hljs-comment"># æ–‡ä»¶å¿«ç…§</span>
â””â”€â”€ plugin/            <span class="hljs-comment"># æ’ä»¶ç³»ç»Ÿ</span>
</code></pre>
<p>è¿™ä¸ªç»“æ„ä½“ç°äº†<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>çš„è®¾è®¡å“²å­¦ï¼šæ¯ä¸ªç›®å½•éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼Œæ¨¡å—ä¹‹é—´é€šè¿‡æ¸…æ™°çš„æ¥å£é€šä¿¡ã€‚</p>
<hr/>
<h2 data-id="heading-6">ç¬¬äºŒç« ï¼šä¼šè¯ç®¡ç† - AI çš„"è®°å¿†å®«æ®¿"</h2>
<blockquote>
<p>"è®°å¿†æ˜¯æ™ºæ…§çš„æ¯äº²ã€‚" â€”â€” åŸƒæ–¯åº“ç½—æ–¯</p>
</blockquote>
<p>å¦‚æœè¯´ LLM æ˜¯ Agent çš„å¤§è„‘ï¼Œé‚£ä¹ˆ <strong>Session Management</strong> å°±æ˜¯å®ƒçš„è®°å¿†ç³»ç»Ÿã€‚æ²¡æœ‰è®°å¿†çš„ AIï¼Œå°±åƒæ‚£äº†é˜¿å°”èŒ¨æµ·é»˜ç—‡çš„å¤©æ‰â€”â€”æ¯æ¬¡å¯¹è¯éƒ½ä»é›¶å¼€å§‹ã€‚</p>
<h3 data-id="heading-7">2.1 ä¼šè¯çš„æ•°æ®æ¨¡å‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">erDiagram
    Session ||--o{ Message : contains
    Message ||--o{ Part : contains
    Session {
        string id PK
        string projectID FK
        string directory
        string title
        timestamp created
        timestamp updated
        json summary
        json permission
    }
    Message {
        string id PK
        string sessionID FK
        string role "user|assistant"
        string parentID "for assistant"
        string agent
        json model
        json tokens
        float cost
        string finish
        json error
    }
    Part {
        string id PK
        string messageID FK
        string type "text|tool|reasoning|file|..."
        json content
        json state "for tool parts"
        timestamp created
    }
</code></pre>
<p>è¿™ä¸ªä¸‰å±‚ç»“æ„è®¾è®¡å¾—éå¸¸ç²¾å¦™ï¼š</p>
<ol>
<li><strong>Session</strong> - ä¸€æ¬¡å®Œæ•´çš„ä»»åŠ¡ä¼šè¯</li>
<li><strong>Message</strong> - ç”¨æˆ·æˆ– AI çš„ä¸€æ¬¡å‘è¨€</li>
<li><strong>Part</strong> - å‘è¨€ä¸­çš„ç»„æˆéƒ¨åˆ†ï¼ˆæ–‡æœ¬ã€å·¥å…·è°ƒç”¨ã€æ€è€ƒè¿‡ç¨‹ç­‰ï¼‰</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ Part å±‚çº§ï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿçš„ chatbot åªæœ‰ Message å±‚çº§â€”â€”ä¸€æ¡æ¶ˆæ¯å°±æ˜¯ä¸€æ®µæ–‡æœ¬ã€‚ä½† AI Agent çš„è¾“å‡ºè¦å¤æ‚å¾—å¤šï¼š</p>
<pre><code class="hljs language-css" lang="css">User: <span class="hljs-string">"å¸®æˆ‘ä¿®å¤ src/app.ts çš„ bug"</span>

Assistant Response:
â”œâ”€ ReasoningPart: <span class="hljs-string">"è®©æˆ‘å…ˆè¯»å–æ–‡ä»¶çœ‹çœ‹é—®é¢˜..."</span>
â”œâ”€ ToolPart: { name: <span class="hljs-string">"read"</span>, input: {...}, output: <span class="hljs-string">"..."</span> }
â”œâ”€ ReasoningPart: <span class="hljs-string">"æˆ‘å‘ç°ç¬¬ 42 è¡Œæœ‰ç±»å‹é”™è¯¯..."</span>
â”œâ”€ ToolPart: { name: <span class="hljs-string">"edit"</span>, input: {...}, output: <span class="hljs-string">"..."</span> }
â”œâ”€ TextPart: <span class="hljs-string">"å·²ä¿®å¤ï¼é—®é¢˜æ˜¯..."</span>
â””â”€ PatchPart: { diff: <span class="hljs-string">"..."</span> }
</code></pre>
<p>Part å±‚çº§è®©æˆ‘ä»¬èƒ½å¤Ÿï¼š</p>
<ul>
<li><strong>æµå¼æ›´æ–°</strong>ï¼šæ¯ä¸ª Part å¯ä»¥ç‹¬ç«‹æ›´æ–°ï¼ŒUI å®æ—¶åˆ·æ–°</li>
<li><strong>çŠ¶æ€è¿½è¸ª</strong>ï¼šå·¥å…·æ‰§è¡Œæœ‰ç‹¬ç«‹çš„çŠ¶æ€æœº</li>
<li><strong>ç»†ç²’åº¦å­˜å‚¨</strong>ï¼šåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†</li>
<li><strong>å·®å¼‚åŒ–æ¸²æŸ“</strong>ï¼šæ€è€ƒè¿‡ç¨‹ã€å·¥å…·è°ƒç”¨ã€æœ€ç»ˆå›å¤ç”¨ä¸åŒæ ·å¼æ˜¾ç¤º</li>
</ul>
<h3 data-id="heading-8">2.2 æ¶ˆæ¯çš„ç±»å‹ç³»ç»Ÿ</h3>
<p>OpenCode ä½¿ç”¨ <strong>Zod</strong> å®šä¹‰äº†ä¸¥æ ¼çš„ç±»å‹ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨æˆ·æ¶ˆæ¯ Schema</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">UserMessage</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">id</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">sessionID</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">role</span>: z.<span class="hljs-title function_">literal</span>(<span class="hljs-string">"user"</span>),
  <span class="hljs-attr">time</span>: z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">created</span>: z.<span class="hljs-title function_">number</span>() }),

  <span class="hljs-comment">// AI é…ç½®</span>
  <span class="hljs-attr">agent</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">model</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">providerID</span>: z.<span class="hljs-title function_">string</span>(),
    <span class="hljs-attr">modelID</span>: z.<span class="hljs-title function_">string</span>(),
  }),

  <span class="hljs-comment">// å¯é€‰è¦†ç›–</span>
  <span class="hljs-attr">system</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),      <span class="hljs-comment">// è‡ªå®šä¹‰ system prompt</span>
  <span class="hljs-attr">tools</span>: z.<span class="hljs-title function_">record</span>(z.<span class="hljs-title function_">boolean</span>()).<span class="hljs-title function_">optional</span>(), <span class="hljs-comment">// å·¥å…·å¼€å…³</span>
  <span class="hljs-attr">variant</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),     <span class="hljs-comment">// æ¨¡å‹å˜ä½“</span>

  <span class="hljs-comment">// æ‘˜è¦ä¿¡æ¯</span>
  <span class="hljs-attr">summary</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">title</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">body</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">diffs</span>: z.<span class="hljs-title function_">array</span>(<span class="hljs-title class_">FileDiff</span>),
  }).<span class="hljs-title function_">optional</span>(),
});

<span class="hljs-comment">// åŠ©æ‰‹æ¶ˆæ¯ Schema</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">AssistantMessage</span> = z.<span class="hljs-title function_">object</span>({
  <span class="hljs-attr">id</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">sessionID</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">role</span>: z.<span class="hljs-title function_">literal</span>(<span class="hljs-string">"assistant"</span>),
  <span class="hljs-attr">parentID</span>: z.<span class="hljs-title function_">string</span>(),  <span class="hljs-comment">// å…³è”åˆ°ç”¨æˆ·æ¶ˆæ¯</span>

  <span class="hljs-attr">time</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">created</span>: z.<span class="hljs-title function_">number</span>(),
    <span class="hljs-attr">completed</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">optional</span>(),
  }),

  <span class="hljs-comment">// æ¨¡å‹ä¿¡æ¯</span>
  <span class="hljs-attr">modelID</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">providerID</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">agent</span>: z.<span class="hljs-title function_">string</span>(),
  <span class="hljs-attr">mode</span>: z.<span class="hljs-title function_">string</span>(),

  <span class="hljs-comment">// æ‰§è¡Œç»“æœ</span>
  <span class="hljs-attr">finish</span>: z.<span class="hljs-title function_">enum</span>([<span class="hljs-string">"tool-calls"</span>, <span class="hljs-string">"stop"</span>, <span class="hljs-string">"length"</span>, <span class="hljs-string">"content-filter"</span>, <span class="hljs-string">"other"</span>]),
  <span class="hljs-attr">error</span>: <span class="hljs-title class_">MessageError</span>.<span class="hljs-title function_">optional</span>(),

  <span class="hljs-comment">// æˆæœ¬è¿½è¸ª</span>
  <span class="hljs-attr">cost</span>: z.<span class="hljs-title function_">number</span>(),
  <span class="hljs-attr">tokens</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">input</span>: z.<span class="hljs-title function_">number</span>(),
    <span class="hljs-attr">output</span>: z.<span class="hljs-title function_">number</span>(),
    <span class="hljs-attr">reasoning</span>: z.<span class="hljs-title function_">number</span>(),
    <span class="hljs-attr">cache</span>: z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">read</span>: z.<span class="hljs-title function_">number</span>(), <span class="hljs-attr">write</span>: z.<span class="hljs-title function_">number</span>() }),
  }),
});
</code></pre>
<p><strong><code>finish</code> å­—æ®µçš„æ™ºæ…§</strong></p>
<p>æ³¨æ„ <code>finish</code> å­—æ®µçš„æšä¸¾å€¼ï¼š</p>
<ul>
<li><code>"tool-calls"</code>: AI éœ€è¦è°ƒç”¨å·¥å…·ï¼Œå¾ªç¯ç»§ç»­</li>
<li><code>"stop"</code>: AI ä¸»åŠ¨ç»“æŸï¼Œå¾ªç¯ç»ˆæ­¢</li>
<li><code>"length"</code>: è¾“å‡ºè¿‡é•¿è¢«æˆªæ–­</li>
<li><code>"content-filter"</code>: å†…å®¹è¢«è¿‡æ»¤</li>
<li><code>"other"</code>: å…¶ä»–åŸå› </li>
</ul>
<p>è¿™ä¸ªå­—æ®µæ˜¯<strong>ä¸»å¾ªç¯çš„æ§åˆ¶å¼€å…³</strong>â€”â€”åªæœ‰å½“ <code>finish !== "tool-calls"</code> æ—¶ï¼ŒAgent æ‰ä¼šåœæ­¢å·¥ä½œã€‚</p>
<h3 data-id="heading-9">2.3 Part çš„ç±»å‹å®‡å®™</h3>
<p>Part ä½¿ç”¨ <strong>Discriminated Union</strong> æ¨¡å¼ï¼Œè¿™æ˜¯ TypeScript ç±»å‹ç³»ç»Ÿçš„ä¸€ä¸ªå¼ºå¤§ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Part</span> =
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"reasoning"</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"tool"</span>; <span class="hljs-attr">state</span>: <span class="hljs-title class_">ToolState</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"file"</span>; <span class="hljs-attr">source</span>: <span class="hljs-string">"file"</span> | <span class="hljs-string">"symbol"</span> | <span class="hljs-string">"resource"</span>; <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"snapshot"</span>; <span class="hljs-attr">ref</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"patch"</span>; <span class="hljs-attr">diff</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"step-start"</span>; <span class="hljs-attr">snapshot</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"step-finish"</span>; <span class="hljs-attr">usage</span>: <span class="hljs-title class_">Usage</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"agent"</span>; <span class="hljs-attr">agentID</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"compaction"</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"subtask"</span>; <span class="hljs-attr">taskID</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"retry"</span>; <span class="hljs-attr">attempt</span>: <span class="hljs-built_in">number</span>; };
</code></pre>
<p>æ¯ç§ç±»å‹éƒ½æœ‰å…¶ç‹¬ç‰¹çš„ç”¨é€”ï¼š</p>




























































<table><thead><tr><th>ç±»å‹</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>text</code></td><td>AI çš„æ–‡æœ¬å›å¤</td><td>"æˆ‘å·²ç»ä¿®å¤äº†è¿™ä¸ª bug..."</td></tr><tr><td><code>reasoning</code></td><td>æ€è€ƒè¿‡ç¨‹</td><td>"è®©æˆ‘åˆ†æä¸€ä¸‹è¿™ä¸ªå‡½æ•°..."</td></tr><tr><td><code>tool</code></td><td>å·¥å…·è°ƒç”¨</td><td>Read, Write, Bash, Grep...</td></tr><tr><td><code>file</code></td><td>æ–‡ä»¶é™„ä»¶</td><td>è¯»å–çš„ä»£ç æ–‡ä»¶å†…å®¹</td></tr><tr><td><code>snapshot</code></td><td>Git å¿«ç…§å¼•ç”¨</td><td>ç”¨äºå›æ»š</td></tr><tr><td><code>patch</code></td><td>æ–‡ä»¶å˜æ›´</td><td>diff æ ¼å¼çš„ä¿®æ”¹</td></tr><tr><td><code>step-start/finish</code></td><td>æ­¥éª¤è¾¹ç•Œ</td><td>ç”¨äºè®¡ç®— token å’Œæˆæœ¬</td></tr><tr><td><code>compaction</code></td><td>å‹ç¼©æ ‡è®°</td><td>æ ‡è®°ä¸Šä¸‹æ–‡è¢«å‹ç¼©</td></tr><tr><td><code>subtask</code></td><td>å­ä»»åŠ¡</td><td>è°ƒç”¨å…¶ä»– Agent</td></tr><tr><td><code>retry</code></td><td>é‡è¯•å…ƒæ•°æ®</td><td>è®°å½•é‡è¯•æ¬¡æ•°</td></tr></tbody></table>
<h3 data-id="heading-10">2.4 Tool Part çš„çŠ¶æ€æœº</h3>
<p>å·¥å…·è°ƒç”¨æ˜¯ Agent æœ€æ ¸å¿ƒçš„èƒ½åŠ›ï¼Œå®ƒçš„çŠ¶æ€ç®¡ç†å°¤ä¸ºé‡è¦ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">stateDiagram-v2
    [*] --&gt; Pending: tool-input-start
    Pending --&gt; Running: tool-call
    Running --&gt; Completed: tool-result
    Running --&gt; Error: tool-error
    Completed --&gt; [*]
    Error --&gt; [*]

    note right of Pending
        ç­‰å¾…è¾“å…¥å®Œæˆ
        raw: åŸå§‹ JSON å­—ç¬¦ä¸²
    end note

    note right of Running
        æ­£åœ¨æ‰§è¡Œ
        input: è§£æåçš„å‚æ•°
        time.start: å¼€å§‹æ—¶é—´
    end note

    note right of Completed
        æ‰§è¡ŒæˆåŠŸ
        output: æ‰§è¡Œç»“æœ
        title: å±•ç¤ºæ ‡é¢˜
        metadata: é¢å¤–ä¿¡æ¯
        time.end: ç»“æŸæ—¶é—´
    end note

    note right of Error
        æ‰§è¡Œå¤±è´¥
        error: é”™è¯¯ä¿¡æ¯
    end note
</code></pre>
<p>çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ToolState</span> =
  | {
      <span class="hljs-attr">status</span>: <span class="hljs-string">"pending"</span>;
      <span class="hljs-attr">input</span>: {};
      <span class="hljs-attr">raw</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æµå¼æ¥æ”¶çš„åŸå§‹ JSON</span>
    }
  | {
      <span class="hljs-attr">status</span>: <span class="hljs-string">"running"</span>;
      <span class="hljs-attr">input</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;
      title?: <span class="hljs-built_in">string</span>;
      metadata?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;
      <span class="hljs-attr">time</span>: { <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span> };
    }
  | {
      <span class="hljs-attr">status</span>: <span class="hljs-string">"completed"</span>;
      <span class="hljs-attr">input</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;
      <span class="hljs-attr">output</span>: <span class="hljs-built_in">string</span>;
      <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
      <span class="hljs-attr">metadata</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;
      <span class="hljs-attr">time</span>: { <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span>; compacted?: <span class="hljs-built_in">number</span> };
      attachments?: <span class="hljs-title class_">FilePart</span>[];
    }
  | {
      <span class="hljs-attr">status</span>: <span class="hljs-string">"error"</span>;
      <span class="hljs-attr">input</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;
      <span class="hljs-attr">error</span>: <span class="hljs-built_in">string</span>;
      <span class="hljs-attr">time</span>: { <span class="hljs-attr">start</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">end</span>: <span class="hljs-built_in">number</span> };
    };
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ <code>pending</code> çŠ¶æ€ï¼Ÿ</strong></p>
<p>å½“ LLM å†³å®šè°ƒç”¨å·¥å…·æ—¶ï¼Œå®ƒä¼šæµå¼è¾“å‡ºå·¥å…·çš„å‚æ•°ã€‚åœ¨å‚æ•°å®Œæ•´ä¹‹å‰ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªä¸å®Œæ•´çš„ JSON å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æ¥æ”¶ä¸­: {<span class="hljs-string">"file_path"</span>: <span class="hljs-string">"src/ap
æ¥æ”¶ä¸­: {"</span>file_path<span class="hljs-string">": "</span>src/app.ts<span class="hljs-string">", "</span>off
æ¥æ”¶ä¸­: {<span class="hljs-string">"file_path"</span>: <span class="hljs-string">"src/app.ts"</span>, <span class="hljs-string">"offset"</span>: 0, <span class="hljs-string">"limit"</span>: 100}
</code></pre>
<p><code>pending</code> çŠ¶æ€è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ UI ä¸Šæ˜¾ç¤º"æ­£åœ¨å‡†å¤‡å·¥å…·è°ƒç”¨..."ï¼Œè€Œä¸æ˜¯ç­‰åˆ°å‚æ•°å®Œæ•´æ‰æ˜¾ç¤ºã€‚</p>
<hr/>
<h2 data-id="heading-11">ç¬¬ä¸‰ç« ï¼šAgent ç³»ç»Ÿ - æ€è€ƒçš„è‰ºæœ¯</h2>
<h3 data-id="heading-12">3.1 ä»€ä¹ˆæ˜¯ Agentï¼Ÿ</h3>
<p>åœ¨ OpenCode ä¸­ï¼Œ<strong>Agent</strong> ä¸ä»…ä»…æ˜¯ä¸€ä¸ª LLM çš„åŒ…è£…â€”â€”å®ƒæ˜¯ä¸€ä¸ª<strong>äººæ ¼åŒ–çš„è§’è‰²å®šä¹‰</strong>ã€‚æ¯ä¸ª Agent æœ‰è‡ªå·±çš„ï¼š</p>
<ul>
<li><strong>System Prompt</strong> - è¡Œä¸ºæŒ‡å—</li>
<li><strong>æƒé™é…ç½®</strong> - èƒ½åšä»€ä¹ˆ</li>
<li><strong>æ¨¡å‹å‚æ•°</strong> - temperature, topP ç­‰</li>
<li><strong>æ­¥æ•°é™åˆ¶</strong> - æœ€å¤šæ‰§è¡Œå¤šå°‘è½®</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AgentInfo</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// å”¯ä¸€æ ‡è¯†ç¬¦</span>
  <span class="hljs-attr">mode</span>: <span class="hljs-string">"subagent"</span> | <span class="hljs-string">"primary"</span> | <span class="hljs-string">"all"</span>;  <span class="hljs-comment">// ä½¿ç”¨æ¨¡å¼</span>
  permission?: <span class="hljs-title class_">PermissionRuleset</span>;  <span class="hljs-comment">// æƒé™è§„åˆ™</span>
  prompt?: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// è‡ªå®šä¹‰ System Prompt</span>
  temperature?: <span class="hljs-built_in">number</span>;   <span class="hljs-comment">// åˆ›é€ æ€§ç¨‹åº¦</span>
  topP?: <span class="hljs-built_in">number</span>;          <span class="hljs-comment">// é‡‡æ ·èŒƒå›´</span>
  steps?: <span class="hljs-built_in">number</span>;         <span class="hljs-comment">// æœ€å¤§æ­¥æ•°</span>
}
</code></pre>
<h3 data-id="heading-13">3.2 å†…ç½® Agent å›¾é‰´</h3>
<p>OpenCode å†…ç½®äº†å¤šä¸ªä¸“ä¸šåŒ–çš„ Agentï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph "Primary Agents"
        Build[build&lt;br/&gt;ä¸»æ‰§è¡Œ Agent]
        Plan[plan&lt;br/&gt;è§„åˆ’ Agent]
    end

    subgraph "Subagents"
        Explore[explore&lt;br/&gt;æ¢ç´¢ Agent&lt;br/&gt;åªè¯»æƒé™]
        General[general&lt;br/&gt;é€šç”¨ Agent]
    end

    subgraph "Hidden Agents"
        Compaction[compaction&lt;br/&gt;å‹ç¼© Agent]
        Title[title&lt;br/&gt;æ ‡é¢˜ç”Ÿæˆ]
        Summary[summary&lt;br/&gt;æ‘˜è¦ç”Ÿæˆ]
    end

    Build --&gt; Explore
    Build --&gt; General
    Build --&gt; Compaction
    Build --&gt; Title
    Build --&gt; Summary
</code></pre>
<p><strong>å„ Agent çš„èŒè´£ï¼š</strong></p>





















































<table><thead><tr><th>Agent</th><th>æ¨¡å¼</th><th>èŒè´£</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>build</code></td><td>primary</td><td>ä¸»è¦çš„ä»£ç æ‰§è¡Œ Agent</td><td>åŸç”Ÿæƒé™ï¼Œæœ€å¸¸ç”¨</td></tr><tr><td><code>plan</code></td><td>primary</td><td>è§„åˆ’é˜¶æ®µ Agent</td><td>ç”¨äºåˆ¶å®šå®æ–½è®¡åˆ’</td></tr><tr><td><code>explore</code></td><td>subagent</td><td>ä»£ç åº“æ¢ç´¢</td><td><strong>åªè¯»æƒé™</strong>ï¼Œå¿«é€Ÿæœç´¢</td></tr><tr><td><code>general</code></td><td>subagent</td><td>é€šç”¨å¤šæ­¥ä»»åŠ¡</td><td>å®Œæ•´æƒé™</td></tr><tr><td><code>compaction</code></td><td>hidden</td><td>ä¸Šä¸‹æ–‡å‹ç¼©</td><td>è‡ªåŠ¨è°ƒç”¨ï¼Œç”¨æˆ·ä¸å¯è§</td></tr><tr><td><code>title</code></td><td>hidden</td><td>ç”Ÿæˆä¼šè¯æ ‡é¢˜</td><td>ä½¿ç”¨å°æ¨¡å‹ï¼Œæˆæœ¬ä½</td></tr><tr><td><code>summary</code></td><td>hidden</td><td>ç”Ÿæˆæ¶ˆæ¯æ‘˜è¦</td><td>è‡ªåŠ¨æ€»ç»“å¯¹è¯</td></tr></tbody></table>
<h3 data-id="heading-14">3.3 Explore Agent çš„å¦™ç”¨</h3>
<p><code>explore</code> Agent æ˜¯ä¸€ä¸ª<strong>åªè¯»çš„å¿«é€Ÿæ¢ç´¢è€…</strong>ï¼Œå®ƒçš„è®¾è®¡ä½“ç°äº†"æœ€å°æƒé™åŸåˆ™"ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">{
  <span class="hljs-attr">name</span>: <span class="hljs-string">"explore"</span>,
  <span class="hljs-attr">mode</span>: <span class="hljs-string">"subagent"</span>,
  <span class="hljs-attr">permission</span>: {
    <span class="hljs-comment">// åªå…è®¸è¯»å–æ“ä½œ</span>
    <span class="hljs-string">"tool.read"</span>: { <span class="hljs-attr">allow</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-string">"tool.glob"</span>: { <span class="hljs-attr">allow</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-string">"tool.grep"</span>: { <span class="hljs-attr">allow</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-comment">// ç¦æ­¢å†™å…¥æ“ä½œ</span>
    <span class="hljs-string">"tool.write"</span>: { <span class="hljs-attr">deny</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-string">"tool.edit"</span>: { <span class="hljs-attr">deny</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-string">"tool.bash"</span>: { <span class="hljs-attr">deny</span>: <span class="hljs-literal">true</span> },
  },
  <span class="hljs-attr">prompt</span>: <span class="hljs-string">`You are a fast codebase explorer. Your job is to quickly
    find relevant files and code patterns. You cannot modify anything.`</span>,
  <span class="hljs-attr">steps</span>: <span class="hljs-number">10</span>,  <span class="hljs-comment">// æœ€å¤š 10 è½®ï¼Œå¿«é€Ÿå®Œæˆ</span>
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<p>å½“ç”¨æˆ·é—®"è¿™ä¸ªé¡¹ç›®çš„è·¯ç”±æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"ï¼Œä¸» Agent å¯ä»¥ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <code>explore</code> å­ä»»åŠ¡</li>
<li>Explore Agent å¿«é€Ÿæœç´¢ä»£ç </li>
<li>è¿”å›ç»“æœç»™ä¸» Agent</li>
<li>ä¸» Agent ç»¼åˆå›ç­”</li>
</ol>
<p>è¿™æ ·çš„è®¾è®¡æœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li><strong>å®‰å…¨</strong>ï¼šæ¢ç´¢è¿‡ç¨‹ä¸ä¼šæ„å¤–ä¿®æ”¹æ–‡ä»¶</li>
<li><strong>é«˜æ•ˆ</strong>ï¼šexplore æœ‰ä¸“é—¨ä¼˜åŒ–çš„ prompt</li>
<li><strong>å¹¶è¡Œ</strong>ï¼šå¤šä¸ªæ¢ç´¢ä»»åŠ¡å¯ä»¥å¹¶è¡Œæ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-15">3.4 Agent çš„è°ƒç”¨é“¾</h3>
<pre><code class="hljs language-css" lang="css">User <span class="hljs-selector-tag">Input</span>: <span class="hljs-string">"å¸®æˆ‘é‡æ„è¿™ä¸ªå‡½æ•°"</span>
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Build Agent                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ€è€ƒï¼šæˆ‘éœ€è¦å…ˆäº†è§£è¿™ä¸ªå‡½æ•°çš„ç”¨é€”å’Œä¸Šä¸‹æ–‡                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å·¥å…·è°ƒç”¨ï¼šTask (åˆ›å»º explore å­ä»»åŠ¡)                        â”‚  â”‚
â”‚  â”‚ { agent: <span class="hljs-string">"explore"</span>, prompt: <span class="hljs-string">"æ‰¾å‡ºæ‰€æœ‰è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„åœ°æ–¹"</span> }   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Explore Agent                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å·¥å…·ï¼šGrep (æœç´¢å‡½æ•°å¼•ç”¨)                                    â”‚  â”‚
â”‚  â”‚ å·¥å…·ï¼šRead (è¯»å–ç›¸å…³æ–‡ä»¶)                                    â”‚  â”‚
â”‚  â”‚ è¿”å›ï¼šæ‰¾åˆ° <span class="hljs-number">5</span> å¤„è°ƒç”¨ï¼Œä½äº <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.ts</span>, <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.ts</span>, c<span class="hljs-selector-class">.ts</span>...               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Build Agent (ç»§ç»­)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ æ€è€ƒï¼šäº†è§£äº†ä¸Šä¸‹æ–‡ï¼Œç°åœ¨å¯ä»¥å®‰å…¨åœ°é‡æ„                        â”‚  â”‚
â”‚  â”‚ å·¥å…·ï¼šEdit (ä¿®æ”¹å‡½æ•°)                                        â”‚  â”‚
â”‚  â”‚ å·¥å…·ï¼šEdit (æ›´æ–°è°ƒç”¨å¤„)                                      â”‚  â”‚
â”‚  â”‚ è¾“å‡ºï¼šé‡æ„å®Œæˆï¼Œä¿®æ”¹äº† <span class="hljs-number">6</span> ä¸ªæ–‡ä»¶                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-16">ç¬¬å››ç« ï¼šå·¥å…·ç³»ç»Ÿ - AI çš„"ç‘å£«å†›åˆ€"</h2>
<h3 data-id="heading-17">4.1 å·¥å…·çš„è®¾è®¡å“²å­¦</h3>
<p>å·¥å…·æ˜¯ Agent ä¸çœŸå®ä¸–ç•Œäº¤äº’çš„æ¡¥æ¢ã€‚OpenCode çš„å·¥å…·ç³»ç»Ÿéµå¾ªå‡ ä¸ªè®¾è®¡åŸåˆ™ï¼š</p>
<ol>
<li><strong>å£°æ˜å¼å®šä¹‰</strong>ï¼šä½¿ç”¨ Zod Schema å®šä¹‰å‚æ•°</li>
<li><strong>ä¸Šä¸‹æ–‡æ„ŸçŸ¥</strong>ï¼šæ¯ä¸ªå·¥å…·éƒ½èƒ½è®¿é—®ä¼šè¯ä¸Šä¸‹æ–‡</li>
<li><strong>çŠ¶æ€è¿½è¸ª</strong>ï¼šæ‰§è¡Œè¿‡ç¨‹å®æ—¶æ›´æ–°</li>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šæ¯ä¸ªå·¥å…·è°ƒç”¨éƒ½ç»è¿‡æƒé™æ£€æŸ¥</li>
<li><strong>å¯æ‰©å±•</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å·¥å…·å’Œ MCP åè®®</li>
</ol>
<h3 data-id="heading-18">4.2 å·¥å…·å®šä¹‰æ¥å£</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å·¥å…·å®šä¹‰æ¥å£</span>
<span class="hljs-title class_">Tool</span>.<span class="hljs-property">define</span> = (<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">init</span>: <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// ç»™ LLM çœ‹çš„æè¿°</span>
  <span class="hljs-attr">parameters</span>: <span class="hljs-title class_">ZodSchema</span>;         <span class="hljs-comment">// å‚æ•° Schema</span>
  <span class="hljs-attr">execute</span>: <span class="hljs-function">(<span class="hljs-params">args: T, ctx: ToolContext</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ToolResult</span>&gt;;
  formatValidationError?: <span class="hljs-function">(<span class="hljs-params">error: ZodError</span>) =&gt;</span> <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// è‡ªå®šä¹‰é”™è¯¯æ ¼å¼</span>
}));

<span class="hljs-comment">// å·¥å…·ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ToolContext</span> {
  <span class="hljs-attr">sessionID</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">messageID</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">agent</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">abort</span>: <span class="hljs-title class_">AbortSignal</span>;           <span class="hljs-comment">// ç”¨äºå–æ¶ˆæ‰§è¡Œ</span>
  <span class="hljs-attr">callID</span>: <span class="hljs-built_in">string</span>;               <span class="hljs-comment">// æœ¬æ¬¡è°ƒç”¨çš„å”¯ä¸€ ID</span>

  <span class="hljs-comment">// åŠ¨æ€æ–¹æ³•</span>
  <span class="hljs-title function_">metadata</span>(<span class="hljs-attr">input</span>: <span class="hljs-built_in">object</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;  <span class="hljs-comment">// æ›´æ–°å…ƒæ•°æ®</span>
  <span class="hljs-title function_">ask</span>(<span class="hljs-attr">request</span>: <span class="hljs-title class_">PermissionRequest</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;  <span class="hljs-comment">// è¯·æ±‚æƒé™</span>
}

<span class="hljs-comment">// å·¥å…·æ‰§è¡Œç»“æœ</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ToolResult</span> {
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;                <span class="hljs-comment">// å±•ç¤ºç»™ç”¨æˆ·çš„æ ‡é¢˜</span>
  <span class="hljs-attr">output</span>: <span class="hljs-built_in">string</span>;               <span class="hljs-comment">// è¿”å›ç»™ LLM çš„è¾“å‡º</span>
  metadata?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;;  <span class="hljs-comment">// é¢å¤–ä¿¡æ¯</span>
  attachments?: <span class="hljs-title class_">FilePart</span>[];     <span class="hljs-comment">// é™„ä»¶ï¼ˆå¦‚å›¾ç‰‡ï¼‰</span>
}
</code></pre>
<h3 data-id="heading-19">4.3 æ ¸å¿ƒå·¥å…·è¯¦è§£</h3>
<h4 data-id="heading-20">Read Tool - æ–‡ä»¶è¯»å–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Tool</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"read"</span>, <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">description</span>: <span class="hljs-string">`Reads a file from the local filesystem.
    - The file_path parameter must be an absolute path
    - By default reads up to 2000 lines
    - Can read images (PNG, JPG), PDFs, and Jupyter notebooks
    - Results use cat -n format with line numbers`</span>,

  <span class="hljs-attr">parameters</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">file_path</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Absolute path to the file"</span>),
    <span class="hljs-attr">offset</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">optional</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Starting line number"</span>),
    <span class="hljs-attr">limit</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">optional</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Number of lines to read"</span>),
  }),

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">{ file_path, offset, limit }, ctx</span>) {
    <span class="hljs-comment">// 1. è§„èŒƒåŒ–è·¯å¾„</span>
    <span class="hljs-keyword">const</span> normalizedPath = <span class="hljs-title function_">normalizePath</span>(file_path);

    <span class="hljs-comment">// 2. æ£€æŸ¥æƒé™</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isExternalPath</span>(normalizedPath)) {
      <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">ask</span>({ <span class="hljs-attr">permission</span>: <span class="hljs-string">"read.external"</span>, <span class="hljs-attr">path</span>: normalizedPath });
    }

    <span class="hljs-comment">// 3. æ£€æµ‹æ–‡ä»¶ç±»å‹</span>
    <span class="hljs-keyword">const</span> fileType = <span class="hljs-title function_">detectFileType</span>(normalizedPath);

    <span class="hljs-comment">// 4. æ ¹æ®ç±»å‹è¯»å–</span>
    <span class="hljs-keyword">if</span> (fileType === <span class="hljs-string">"image"</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">title</span>: <span class="hljs-string">`Read image`</span>, <span class="hljs-attr">output</span>: <span class="hljs-string">"[Image]"</span>, <span class="hljs-attr">attachments</span>: [...] };
    }
    <span class="hljs-keyword">if</span> (fileType === <span class="hljs-string">"pdf"</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">title</span>: <span class="hljs-string">`Read PDF`</span>, <span class="hljs-attr">output</span>: <span class="hljs-title function_">extractPdfText</span>(normalizedPath) };
    }

    <span class="hljs-comment">// 5. è¯»å–æ–‡æœ¬æ–‡ä»¶</span>
    <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readFile</span>(normalizedPath, { offset, limit });

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">`Read <span class="hljs-subst">${basename(normalizedPath)}</span>`</span>,
      <span class="hljs-attr">output</span>: <span class="hljs-title function_">formatWithLineNumbers</span>(content, offset),
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">lines</span>: content.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-property">length</span>, <span class="hljs-attr">path</span>: normalizedPath },
    };
  },
}));
</code></pre>
<h4 data-id="heading-21">Edit Tool - ç²¾ç¡®ç¼–è¾‘</h4>
<p>Edit Tool æ˜¯æœ€å¤æ‚çš„å·¥å…·ä¹‹ä¸€ï¼Œå®ƒå®ç°äº†<strong>ç²¾ç¡®çš„å­—ç¬¦ä¸²æ›¿æ¢</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Tool</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"edit"</span>, <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">description</span>: <span class="hljs-string">`Performs exact string replacements in files.
    - You must read the file before editing
    - old_string must be unique in the file
    - Use replace_all for batch replacements`</span>,

  <span class="hljs-attr">parameters</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">file_path</span>: z.<span class="hljs-title function_">string</span>(),
    <span class="hljs-attr">old_string</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Text to replace"</span>),
    <span class="hljs-attr">new_string</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Replacement text"</span>),
    <span class="hljs-attr">replace_all</span>: z.<span class="hljs-title function_">boolean</span>().<span class="hljs-title function_">default</span>(<span class="hljs-literal">false</span>),
  }),

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">{ file_path, old_string, new_string, replace_all }, ctx</span>) {
    <span class="hljs-comment">// 1. è¯»å–å½“å‰å†…å®¹</span>
    <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readFile</span>(file_path);

    <span class="hljs-comment">// 2. éªŒè¯ old_string å­˜åœ¨ä¸”å”¯ä¸€ï¼ˆé™¤é replace_allï¼‰</span>
    <span class="hljs-keyword">const</span> occurrences = <span class="hljs-title function_">countOccurrences</span>(content, old_string);

    <span class="hljs-keyword">if</span> (occurrences === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`String not found in file`</span>);
    }
    <span class="hljs-keyword">if</span> (occurrences &gt; <span class="hljs-number">1</span> &amp;&amp; !replace_all) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`String appears <span class="hljs-subst">${occurrences}</span> times. Use replace_all or provide more context.`</span>);
    }

    <span class="hljs-comment">// 3. æ‰§è¡Œæ›¿æ¢</span>
    <span class="hljs-keyword">const</span> newContent = replace_all
      ? content.<span class="hljs-title function_">replaceAll</span>(old_string, new_string)
      : content.<span class="hljs-title function_">replace</span>(old_string, new_string);

    <span class="hljs-comment">// 4. å†™å…¥æ–‡ä»¶</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">writeFile</span>(file_path, newContent);

    <span class="hljs-comment">// 5. ç”Ÿæˆ diff</span>
    <span class="hljs-keyword">const</span> diff = <span class="hljs-title function_">createDiff</span>(content, newContent, file_path);

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">`Edit <span class="hljs-subst">${basename(file_path)}</span>`</span>,
      <span class="hljs-attr">output</span>: diff,
      <span class="hljs-attr">metadata</span>: {
        <span class="hljs-attr">replacements</span>: replace_all ? occurrences : <span class="hljs-number">1</span>,
        <span class="hljs-attr">path</span>: file_path,
      },
    };
  },
}));
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨å­—ç¬¦ä¸²æ›¿æ¢è€Œä¸æ˜¯è¡Œå·ï¼Ÿ</strong></p>
<p>è¡Œå·ç¼–è¾‘ï¼ˆ"ä¿®æ”¹ç¬¬ 42 è¡Œ"ï¼‰çœ‹ä¼¼ç®€å•ï¼Œä½†æœ‰ä¸€ä¸ªè‡´å‘½é—®é¢˜ï¼š<strong>LLM æ•°ä¸å‡†è¡Œå·</strong>ã€‚</p>
<p>å½“ AI è¯´"è¯·çœ‹ç¬¬ 42 è¡Œ"ï¼Œå®ƒå¯èƒ½å®é™…ä¸ŠæŒ‡çš„æ˜¯ç¬¬ 40 è¡Œæˆ–ç¬¬ 45 è¡Œã€‚ä½†å­—ç¬¦ä¸²åŒ¹é…æ˜¯ç²¾ç¡®çš„â€”â€”è¦ä¹ˆæ‰¾åˆ°ï¼Œè¦ä¹ˆæ‰¾ä¸åˆ°ã€‚</p>
<p>è¿™ç§è®¾è®¡è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼š<strong>å¼ºåˆ¶ AI æä¾›ä¸Šä¸‹æ–‡</strong>ã€‚å¦‚æœæ›¿æ¢ç›®æ ‡ä¸å”¯ä¸€ï¼ŒAI å¿…é¡»æä¾›æ›´å¤šå‘¨å›´ä»£ç æ¥æ¶ˆæ­§ä¹‰ï¼Œè¿™åè€Œæé«˜äº†ç¼–è¾‘çš„å‡†ç¡®æ€§ã€‚</p>
<h4 data-id="heading-22">Bash Tool - Shell æ‰§è¡Œ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Tool</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"bash"</span>, <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">description</span>: <span class="hljs-string">`Executes bash commands with timeout and security measures.
    - Avoid file operations, use dedicated tools instead
    - Commands timeout after 2 minutes by default
    - Output truncated at 30000 characters`</span>,

  <span class="hljs-attr">parameters</span>: z.<span class="hljs-title function_">object</span>({
    <span class="hljs-attr">command</span>: z.<span class="hljs-title function_">string</span>(),
    <span class="hljs-attr">timeout</span>: z.<span class="hljs-title function_">number</span>().<span class="hljs-title function_">max</span>(<span class="hljs-number">600000</span>).<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">run_in_background</span>: z.<span class="hljs-title function_">boolean</span>().<span class="hljs-title function_">optional</span>(),
    <span class="hljs-attr">description</span>: z.<span class="hljs-title function_">string</span>().<span class="hljs-title function_">describe</span>(<span class="hljs-string">"5-10 word description of what this does"</span>),
  }),

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">{ command, timeout = <span class="hljs-number">120000</span>, run_in_background }, ctx</span>) {
    <span class="hljs-comment">// 1. å®‰å…¨æ£€æŸ¥</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">containsDangerousPatterns</span>(command)) {
      <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">ask</span>({
        <span class="hljs-attr">permission</span>: <span class="hljs-string">"bash.dangerous"</span>,
        command,
        <span class="hljs-attr">warning</span>: <span class="hljs-string">"This command may be destructive"</span>,
      });
    }

    <span class="hljs-comment">// 2. åˆ›å»º shell è¿›ç¨‹</span>
    <span class="hljs-keyword">const</span> shell = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createShell</span>({
      command,
      timeout,
      <span class="hljs-attr">cwd</span>: <span class="hljs-title function_">getWorkingDirectory</span>(),
      <span class="hljs-attr">abort</span>: ctx.<span class="hljs-property">abort</span>,
    });

    <span class="hljs-comment">// 3. åå°è¿è¡Œå¤„ç†</span>
    <span class="hljs-keyword">if</span> (run_in_background) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">title</span>: <span class="hljs-string">`Background: <span class="hljs-subst">${description}</span>`</span>,
        <span class="hljs-attr">output</span>: <span class="hljs-string">`Started in background. Task ID: <span class="hljs-subst">${shell.id}</span>`</span>,
        <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">taskId</span>: shell.<span class="hljs-property">id</span>, <span class="hljs-attr">background</span>: <span class="hljs-literal">true</span> },
      };
    }

    <span class="hljs-comment">// 4. ç­‰å¾…æ‰§è¡Œå®Œæˆ</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> shell.<span class="hljs-title function_">wait</span>();

    <span class="hljs-comment">// 5. æˆªæ–­è¿‡é•¿è¾“å‡º</span>
    <span class="hljs-keyword">const</span> output = <span class="hljs-title function_">truncate</span>(result.<span class="hljs-property">output</span>, <span class="hljs-number">30000</span>);

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: description || <span class="hljs-string">`Run: <span class="hljs-subst">${command.slice(<span class="hljs-number">0</span>, <span class="hljs-number">50</span>)}</span>`</span>,
      <span class="hljs-attr">output</span>: <span class="hljs-string">`Exit code: <span class="hljs-subst">${result.exitCode}</span>\n\n<span class="hljs-subst">${output}</span>`</span>,
      <span class="hljs-attr">metadata</span>: { <span class="hljs-attr">exitCode</span>: result.<span class="hljs-property">exitCode</span>, <span class="hljs-attr">duration</span>: result.<span class="hljs-property">duration</span> },
    };
  },
}));
</code></pre>
<h3 data-id="heading-23">4.4 å·¥å…·æ³¨å†Œè¡¨</h3>
<p>æ‰€æœ‰å·¥å…·é€šè¿‡ <code>ToolRegistry</code> ç»Ÿä¸€ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">ToolRegistry</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">tools</span>(<span class="hljs-params">providerID: <span class="hljs-built_in">string</span>, agent?: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Tool</span>[] {
    <span class="hljs-keyword">const</span> builtinTools = [
      <span class="hljs-title class_">InvalidTool</span>,      <span class="hljs-comment">// å¤„ç†æ— æ•ˆå·¥å…·è°ƒç”¨</span>
      <span class="hljs-title class_">BashTool</span>,         <span class="hljs-comment">// Shell æ‰§è¡Œ</span>
      <span class="hljs-title class_">ReadTool</span>,         <span class="hljs-comment">// æ–‡ä»¶è¯»å–</span>
      <span class="hljs-title class_">GlobTool</span>,         <span class="hljs-comment">// æ–‡ä»¶åŒ¹é…</span>
      <span class="hljs-title class_">GrepTool</span>,         <span class="hljs-comment">// ä»£ç æœç´¢</span>
      <span class="hljs-title class_">EditTool</span>,         <span class="hljs-comment">// æ–‡ä»¶ç¼–è¾‘</span>
      <span class="hljs-title class_">WriteTool</span>,        <span class="hljs-comment">// æ–‡ä»¶å†™å…¥</span>
      <span class="hljs-title class_">TaskTool</span>,         <span class="hljs-comment">// å­ä»»åŠ¡</span>
      <span class="hljs-title class_">WebFetchTool</span>,     <span class="hljs-comment">// ç½‘é¡µè·å–</span>
      <span class="hljs-title class_">TodoReadTool</span>,     <span class="hljs-comment">// ä»»åŠ¡åˆ—è¡¨è¯»å–</span>
      <span class="hljs-title class_">TodoWriteTool</span>,    <span class="hljs-comment">// ä»»åŠ¡åˆ—è¡¨å†™å…¥</span>
      <span class="hljs-title class_">WebSearchTool</span>,    <span class="hljs-comment">// ç½‘é¡µæœç´¢</span>
      <span class="hljs-title class_">SkillTool</span>,        <span class="hljs-comment">// æŠ€èƒ½è°ƒç”¨</span>
    ];

    <span class="hljs-comment">// å¯é€‰å·¥å…·</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Config</span>.<span class="hljs-title function_">get</span>().<span class="hljs-property">experimental</span>?.<span class="hljs-property">lsp</span>) {
      builtinTools.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">LSPTool</span>);  <span class="hljs-comment">// Language Server Protocol</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Config</span>.<span class="hljs-title function_">get</span>().<span class="hljs-property">experimental</span>?.<span class="hljs-property">batch</span>) {
      builtinTools.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">BatchTool</span>);  <span class="hljs-comment">// æ‰¹é‡æ“ä½œ</span>
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰å·¥å…·</span>
    <span class="hljs-keyword">const</span> customTools = <span class="hljs-title function_">loadCustomTools</span>(<span class="hljs-string">"~/.opencode/tool/"</span>);

    <span class="hljs-comment">// MCP å·¥å…·</span>
    <span class="hljs-keyword">const</span> mcpTools = <span class="hljs-variable constant_">MCP</span>.<span class="hljs-title function_">tools</span>();

    <span class="hljs-keyword">return</span> [...builtinTools, ...customTools, ...mcpTools];
  }
}
</code></pre>
<h3 data-id="heading-24">4.5 MCPï¼šå·¥å…·çš„æ— é™æ‰©å±•</h3>
<p><strong>Model Context Protocol (MCP)</strong> æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œå…è®¸å¤–éƒ¨æœåŠ¡ä¸º AI æä¾›å·¥å…·å’Œèµ„æºã€‚OpenCode å®Œæ•´æ”¯æŒ MCPï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph "OpenCode"
        Agent[Agent]
        MCPClient[MCP Client]
    end

    subgraph "MCP Servers"
        GitHub[GitHub MCP]
        Database[Database MCP]
        Notion[Notion MCP]
        Custom[Custom MCP]
    end

    Agent --&gt; MCPClient
    MCPClient --&gt; GitHub
    MCPClient --&gt; Database
    MCPClient --&gt; Notion
    MCPClient --&gt; Custom

    GitHub -.-&gt;|tools: pr, issue, ...| MCPClient
    Database -.-&gt;|tools: query, insert, ...| MCPClient
    Notion -.-&gt;|resources: pages, databases| MCPClient
    Custom -.-&gt;|custom tools| MCPClient
</code></pre>
<p>é…ç½® MCP æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// .opencode/config.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"servers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"github"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-github"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"GITHUB_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"..."</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"postgres"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-postgres"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"DATABASE_URL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"..."</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™æ ·ï¼ŒAI å°±èƒ½ç›´æ¥æ“ä½œ GitHub PRã€æŸ¥è¯¢æ•°æ®åº“ï¼Œç”šè‡³æ›´æ–° Notion æ–‡æ¡£â€”â€”è€Œè¿™äº›èƒ½åŠ›å®Œå…¨é€šè¿‡é…ç½®æ·»åŠ ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-25">ç¬¬äº”ç« ï¼šProvider æŠ½è±¡å±‚ - ä¸‡ç‰©çš†å¯ LLM</h2>
<h3 data-id="heading-26">5.1 å¤š Provider çš„æŒ‘æˆ˜</h3>
<p>ç°åœ¨å¸‚é¢ä¸Šæœ‰å¤ªå¤š LLM æä¾›å•†äº†ï¼š</p>
<ul>
<li>Anthropic (Claude)</li>
<li>OpenAI (GPT-4, o1)</li>
<li>Google (Gemini, Vertex AI)</li>
<li>Azure OpenAI</li>
<li>AWS Bedrock</li>
<li>Groq, Mistral, Cohere...</li>
</ul>
<p>æ¯ä¸ªæä¾›å•†çš„ API éƒ½ç•¥æœ‰ä¸åŒï¼šä¸åŒçš„è®¤è¯æ–¹å¼ã€ä¸åŒçš„è¯·æ±‚æ ¼å¼ã€ä¸åŒçš„ streaming å®ç°ã€ä¸åŒçš„é”™è¯¯å¤„ç†...</p>
<p>OpenCode çš„ Provider æŠ½è±¡å±‚è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-27">5.2 ç»Ÿä¸€çš„ Provider æ¥å£</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Provider</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-comment">// è®¤è¯</span>
  <span class="hljs-title function_">getApiKey</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;

  <span class="hljs-comment">// æ¨¡å‹åˆ—è¡¨</span>
  <span class="hljs-title function_">models</span>(): <span class="hljs-title class_">Model</span>[];

  <span class="hljs-comment">// è·å–è¯­è¨€æ¨¡å‹å®ä¾‹</span>
  <span class="hljs-title function_">languageModel</span>(<span class="hljs-attr">modelID</span>: <span class="hljs-built_in">string</span>, options?: <span class="hljs-title class_">ModelOptions</span>): <span class="hljs-title class_">LanguageModel</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Model</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">provider</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-comment">// èƒ½åŠ›</span>
  <span class="hljs-attr">context</span>: <span class="hljs-built_in">number</span>;          <span class="hljs-comment">// ä¸Šä¸‹æ–‡çª—å£å¤§å°</span>
  maxOutput?: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// æœ€å¤§è¾“å‡ºé•¿åº¦</span>
  supportsImages?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ”¯æŒå›¾åƒè¾“å…¥</span>
  supportsToolUse?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ”¯æŒå·¥å…·è°ƒç”¨</span>
  supportsReasoning?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ”¯æŒæ¨ç†ï¼ˆå¦‚ o1ï¼‰</span>

  <span class="hljs-comment">// æˆæœ¬</span>
  pricing?: {
    <span class="hljs-attr">input</span>: <span class="hljs-built_in">number</span>;   <span class="hljs-comment">// $ per 1M tokens</span>
    <span class="hljs-attr">output</span>: <span class="hljs-built_in">number</span>;
    cache?: { <span class="hljs-attr">read</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">write</span>: <span class="hljs-built_in">number</span> };
  };

  <span class="hljs-comment">// é…ç½®</span>
  options?: <span class="hljs-title class_">ModelOptions</span>;
}
</code></pre>
<h3 data-id="heading-28">5.3 Provider æ³¨å†Œè¡¨</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "Provider Registry"
        Anthropic[Anthropic Provider]
        OpenAI[OpenAI Provider]
        Google[Google Provider]
        Azure[Azure Provider]
        Groq[Groq Provider]
        More[... 15+ more]
    end

    subgraph "AI SDK"
        SDK[Vercel AI SDK]
    end

    subgraph "Application"
        Session[Session]
        LLM[LLM Module]
    end

    Session --&gt; LLM
    LLM --&gt; SDK
    SDK --&gt; Anthropic
    SDK --&gt; OpenAI
    SDK --&gt; Google
    SDK --&gt; Azure
    SDK --&gt; Groq
    SDK --&gt; More
</code></pre>
<p>OpenCode ä½¿ç”¨ <strong>Vercel AI SDK</strong> ä½œä¸ºåº•å±‚ï¼Œå®ƒæä¾›äº†ç»Ÿä¸€çš„ streaming æ¥å£ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { streamText } <span class="hljs-keyword">from</span> <span class="hljs-string">"ai"</span>;
<span class="hljs-keyword">import</span> { anthropic } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ai-sdk/anthropic"</span>;
<span class="hljs-keyword">import</span> { openai } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ai-sdk/openai"</span>;
<span class="hljs-keyword">import</span> { google } <span class="hljs-keyword">from</span> <span class="hljs-string">"@ai-sdk/google"</span>;

<span class="hljs-comment">// æ— è®ºä½¿ç”¨å“ªä¸ª providerï¼Œè°ƒç”¨æ–¹å¼éƒ½ä¸€æ ·</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">streamText</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-title function_">anthropic</span>(<span class="hljs-string">"claude-3-5-sonnet"</span>),  <span class="hljs-comment">// æˆ– openai("gpt-4"), google("gemini-pro")</span>
  <span class="hljs-attr">messages</span>: [...],
  <span class="hljs-attr">tools</span>: {...},
});

<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> result.<span class="hljs-property">fullStream</span>) {
  <span class="hljs-comment">// ç»Ÿä¸€çš„æµå¼å¤„ç†</span>
}
</code></pre>
<h3 data-id="heading-29">5.4 æ™ºèƒ½æ¨¡å‹é€‰æ‹©</h3>
<p>OpenCode ä¼šæ ¹æ®ä»»åŠ¡è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸»ä»»åŠ¡ï¼šä½¿ç”¨é…ç½®çš„ä¸»æ¨¡å‹</span>
<span class="hljs-keyword">const</span> mainModel = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Provider</span>.<span class="hljs-title function_">getModel</span>(config.<span class="hljs-property">model</span>);

<span class="hljs-comment">// å°ä»»åŠ¡ï¼ˆæ ‡é¢˜ã€æ‘˜è¦ï¼‰ï¼šä½¿ç”¨å°æ¨¡å‹èŠ‚çœæˆæœ¬</span>
<span class="hljs-keyword">const</span> smallModel = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Provider</span>.<span class="hljs-title function_">getSmallModel</span>(mainModel);

<span class="hljs-comment">// ä¸åŒä»»åŠ¡ä½¿ç”¨ä¸åŒæ¨¡å‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateTitle</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">LLM</span>.<span class="hljs-title function_">stream</span>({
    <span class="hljs-attr">model</span>: smallModel,  <span class="hljs-comment">// ä½¿ç”¨ä¾¿å®œçš„å°æ¨¡å‹</span>
    <span class="hljs-attr">small</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">agent</span>: <span class="hljs-string">"title"</span>,
    <span class="hljs-comment">// ...</span>
  });
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">executeMainTask</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">LLM</span>.<span class="hljs-title function_">stream</span>({
    <span class="hljs-attr">model</span>: mainModel,   <span class="hljs-comment">// ä½¿ç”¨å¼ºå¤§çš„ä¸»æ¨¡å‹</span>
    <span class="hljs-attr">agent</span>: <span class="hljs-string">"build"</span>,
    <span class="hljs-comment">// ...</span>
  });
}
</code></pre>
<h3 data-id="heading-30">5.5 Provider ç‰¹å®šä¼˜åŒ–</h3>
<p>ä¸åŒçš„ Provider æœ‰ä¸åŒçš„æœ€ä½³å®è·µï¼ŒOpenCode å¯¹æ­¤è¿›è¡Œäº†ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Anthropic ç‰¹å®šçš„ System Prompt</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PROMPT_ANTHROPIC</span> = <span class="hljs-string">`
You are Claude, made by Anthropic.
You have access to a set of tools...
`</span>;

<span class="hljs-comment">// OpenAI ç‰¹å®šçš„ System Prompt</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PROMPT_OPENAI</span> = <span class="hljs-string">`
You are a helpful assistant with access to tools...
`</span>;

<span class="hljs-comment">// æ ¹æ® Provider é€‰æ‹©åˆé€‚çš„ prompt</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getSystemPrompt</span>(<span class="hljs-params">providerID: <span class="hljs-built_in">string</span>, model: Model</span>) {
  <span class="hljs-keyword">if</span> (providerID === <span class="hljs-string">"anthropic"</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">PROMPT_ANTHROPIC</span>;
  }
  <span class="hljs-keyword">if</span> (providerID === <span class="hljs-string">"openai"</span> &amp;&amp; model.<span class="hljs-property">supportsReasoning</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">PROMPT_OPENAI_REASONING</span>;  <span class="hljs-comment">// o1 æ¨¡å‹çš„ç‰¹æ®Šå¤„ç†</span>
  }
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>Prompt Caching ä¼˜åŒ–</strong></p>
<p>Anthropic æ”¯æŒ Prompt Cachingï¼Œå¯ä»¥ç¼“å­˜ System Prompt ä»¥å‡å°‘ token æ¶ˆè€—ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// System prompt åˆ†æˆä¸¤éƒ¨åˆ†</span>
<span class="hljs-keyword">const</span> system = [
  header,   <span class="hljs-comment">// [0] ä¸å˜çš„å¤´éƒ¨ - å¯ç¼“å­˜</span>
  body,     <span class="hljs-comment">// [1] åŠ¨æ€çš„æ­£æ–‡</span>
];

<span class="hljs-comment">// å¦‚æœå¤´éƒ¨ä¸å˜ï¼ŒAPI ä¼šä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-comment">// æ˜¾è‘—å‡å°‘ input token æˆæœ¬</span>
</code></pre>
<hr/>
<h2 data-id="heading-31">ç¬¬å…­ç« ï¼šä¸Šä¸‹æ–‡å‹ç¼© - è®°å¿†çš„è‰ºæœ¯</h2>
<h3 data-id="heading-32">6.1 é•¿å¯¹è¯çš„å›°å¢ƒ</h3>
<p>LLM æœ‰ä¸€ä¸ªæ ¹æœ¬é™åˆ¶ï¼š<strong>ä¸Šä¸‹æ–‡çª—å£æ˜¯æœ‰é™çš„</strong>ã€‚</p>
<p>å³ä½¿æ˜¯ Claude çš„ 200K token çª—å£ï¼Œåœ¨å¤æ‚çš„ç¼–ç¨‹ä»»åŠ¡ä¸­ä¹Ÿä¼šå¾ˆå¿«è¢«å¡«æ»¡ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·é—®é¢˜              â†’ <span class="hljs-number">500</span> tokens
ä»£ç æ–‡ä»¶ <span class="hljs-number">1</span> (<span class="hljs-number">500</span> è¡Œ)   â†’ <span class="hljs-number">8</span>,<span class="hljs-number">000</span> tokens
ä»£ç æ–‡ä»¶ <span class="hljs-number">2</span> (<span class="hljs-number">300</span> è¡Œ)   â†’ <span class="hljs-number">5</span>,<span class="hljs-number">000</span> tokens
AI æ€è€ƒ + å›å¤        â†’ <span class="hljs-number">3</span>,<span class="hljs-number">000</span> tokens
å·¥å…·è°ƒç”¨ç»“æœ <span class="hljs-number">1</span>        â†’ <span class="hljs-number">2</span>,<span class="hljs-number">000</span> tokens
å·¥å…·è°ƒç”¨ç»“æœ <span class="hljs-number">2</span>        â†’ <span class="hljs-number">10</span>,<span class="hljs-number">000</span> tokens
...
ç¬¬ <span class="hljs-number">10</span> è½®å¯¹è¯å        â†’ <span class="hljs-number">150</span>,<span class="hljs-number">000</span> tokens ğŸ˜±
</code></pre>
<p>å½“ä¸Šä¸‹æ–‡æ¥è¿‘é™åˆ¶æ—¶ï¼Œä¼šå‘ç”Ÿä¸¤ä»¶åäº‹ï¼š</p>
<ol>
<li><strong>æ€§èƒ½ä¸‹é™</strong>ï¼šå¤„ç†æ—¶é—´å˜é•¿ï¼Œè´¨é‡ä¸‹é™</li>
<li><strong>å¤±è´¥é£é™©</strong>ï¼šè¶…è¿‡é™åˆ¶ä¼šç›´æ¥æŠ¥é”™</li>
</ol>
<h3 data-id="heading-33">6.2 OpenCode çš„å‹ç¼©ç­–ç•¥</h3>
<p>OpenCode é‡‡ç”¨äº†<strong>å¤šå±‚å‹ç¼©ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "Level 1: è£å‰ª"
        Prune[å·¥å…·è¾“å‡ºè£å‰ª&lt;br/&gt;ç§»é™¤æ—§çš„å¤§è¾“å‡º]
    end

    subgraph "Level 2: æ‘˜è¦"
        Compact[ä¸Šä¸‹æ–‡å‹ç¼©&lt;br/&gt;ç”Ÿæˆå¯¹è¯æ‘˜è¦]
    end

    subgraph "Level 3: è¿‡æ»¤"
        Filter[æ¶ˆæ¯è¿‡æ»¤&lt;br/&gt;è·³è¿‡å·²å‹ç¼©éƒ¨åˆ†]
    end

    Overflow{Token æº¢å‡º?} --&gt; |Yes| Prune
    Prune --&gt; |ä»ç„¶æº¢å‡º| Compact
    Compact --&gt; Filter
    Filter --&gt; Continue[ç»§ç»­å¯¹è¯]

    Overflow --&gt; |No| Continue
</code></pre>
<h4 data-id="heading-34">å±‚çº§ 1ï¼šå·¥å…·è¾“å‡ºè£å‰ª (Prune)</h4>
<p>æ—§çš„å·¥å…·è¾“å‡ºå¾€å¾€å ç”¨å¤§é‡ç©ºé—´ä½†å·²ä¸å†éœ€è¦ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">prune</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> messages = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">messages</span>(sessionID);
  <span class="hljs-keyword">let</span> protectedTokens = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PROTECT_THRESHOLD</span> = <span class="hljs-number">40_000</span>;  <span class="hljs-comment">// ä¿æŠ¤æœ€è¿‘ 40K tokens</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PRUNE_THRESHOLD</span> = <span class="hljs-number">20_000</span>;    <span class="hljs-comment">// åªè£å‰ªè¶…è¿‡ 20K çš„è¾“å‡º</span>

  <span class="hljs-comment">// ä»åå¾€å‰æ‰«æ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = messages.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
    <span class="hljs-keyword">const</span> msg = messages[i];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> part <span class="hljs-keyword">of</span> msg.<span class="hljs-property">parts</span>) {
      <span class="hljs-keyword">if</span> (part.<span class="hljs-property">type</span> === <span class="hljs-string">"tool"</span> &amp;&amp; part.<span class="hljs-property">state</span>.<span class="hljs-property">status</span> === <span class="hljs-string">"completed"</span>) {
        <span class="hljs-keyword">const</span> outputSize = <span class="hljs-title function_">estimateTokens</span>(part.<span class="hljs-property">state</span>.<span class="hljs-property">output</span>);

        <span class="hljs-comment">// ä¿æŠ¤æœ€è¿‘çš„å·¥å…·è°ƒç”¨</span>
        <span class="hljs-keyword">if</span> (protectedTokens &lt; <span class="hljs-variable constant_">PROTECT_THRESHOLD</span>) {
          protectedTokens += outputSize;
          <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// è£å‰ªå¤§è¾“å‡º</span>
        <span class="hljs-keyword">if</span> (outputSize &gt; <span class="hljs-variable constant_">PRUNE_THRESHOLD</span>) {
          part.<span class="hljs-property">state</span>.<span class="hljs-property">output</span> = <span class="hljs-string">"[TOOL OUTPUT PRUNED]"</span>;
          part.<span class="hljs-property">state</span>.<span class="hljs-property">time</span>.<span class="hljs-property">compacted</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        }
      }
    }
  }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸å…¨éƒ¨è£å‰ªï¼Ÿ</strong></p>
<p>AI åœ¨æ€è€ƒæ—¶éœ€è¦å‚è€ƒæœ€è¿‘çš„å·¥å…·è¾“å‡ºã€‚å¦‚æœæŠŠæ‰€æœ‰è¾“å‡ºéƒ½è£æ‰ï¼Œå®ƒä¼šå¤±å»ä¸Šä¸‹æ–‡ï¼Œå¼€å§‹é‡å¤ç›¸åŒçš„å·¥å…·è°ƒç”¨ï¼ˆ"è®©æˆ‘å†è¯»ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶..."ï¼‰ã€‚</p>
<p>40K tokens çš„ä¿æŠ¤åŒºæ˜¯ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼šè¶³å¤Ÿ AI å·¥ä½œï¼Œåˆä¸ä¼šå ç”¨å¤ªå¤šç©ºé—´ã€‚</p>
<h4 data-id="heading-35">å±‚çº§ 2ï¼šä¸Šä¸‹æ–‡å‹ç¼© (Compaction)</h4>
<p>å½“è£å‰ªä¸å¤Ÿæ—¶ï¼Œéœ€è¦æ›´æ¿€è¿›çš„å‹ç¼©â€”â€”<strong>ç”Ÿæˆæ‘˜è¦</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">compact</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. åˆ›å»ºå‹ç¼© Agent æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> compactionMessage = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">createAssistant</span>({
    sessionID,
    <span class="hljs-attr">agent</span>: <span class="hljs-string">"compaction"</span>,
    <span class="hljs-attr">mode</span>: <span class="hljs-string">"compact"</span>,
  });

  <span class="hljs-comment">// 2. æ„å»ºå‹ç¼©æç¤º</span>
  <span class="hljs-keyword">const</span> compactionPrompt = <span class="hljs-string">`
You are a conversation summarizer. Your task is to create a comprehensive
summary of the conversation so far that preserves all important context
needed to continue the task.

Include:
- What the user originally asked
- What actions have been taken
- Current state of the task
- Any important findings or decisions

The summary will replace the conversation history, so it must be complete.
`</span>;

  <span class="hljs-comment">// 3. è°ƒç”¨ LLM ç”Ÿæˆæ‘˜è¦</span>
  <span class="hljs-keyword">const</span> summary = <span class="hljs-keyword">await</span> <span class="hljs-variable constant_">LLM</span>.<span class="hljs-title function_">stream</span>({
    <span class="hljs-attr">agent</span>: <span class="hljs-string">"compaction"</span>,
    <span class="hljs-attr">messages</span>: <span class="hljs-title function_">getAllMessages</span>(sessionID),
    <span class="hljs-attr">system</span>: compactionPrompt,
  });

  <span class="hljs-comment">// 4. æ ‡è®°å‹ç¼©ç‚¹</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">updatePart</span>(compactionMessage.<span class="hljs-property">id</span>, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"compaction"</span>,
  });

  <span class="hljs-comment">// 5. åˆ›å»ºåˆæˆç”¨æˆ·æ¶ˆæ¯ç»§ç»­å¯¹è¯</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">createSyntheticUser</span>({
    sessionID,
    <span class="hljs-attr">content</span>: <span class="hljs-string">"Please continue with the task based on the summary above."</span>,
  });
}
</code></pre>
<p>å‹ç¼©åçš„å¯¹è¯å†å²ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">[å‹ç¼©å‰ - <span class="hljs-number">150</span>K tokens]
<span class="hljs-symbol">User:</span> å¸®æˆ‘é‡æ„ç”¨æˆ·æ¨¡å—
<span class="hljs-symbol">AI:</span> è®©æˆ‘å…ˆçœ‹çœ‹ä»£ç ... [å·¥å…·è°ƒç”¨ x <span class="hljs-number">20</span>]
<span class="hljs-symbol">User:</span> é‚£ä¸ªå‡½æ•°æœ‰ bug
<span class="hljs-symbol">AI:</span> æˆ‘æ¥ä¿®å¤... [å·¥å…·è°ƒç”¨ x <span class="hljs-number">15</span>]
<span class="hljs-symbol">User:</span> è¿˜éœ€è¦åŠ æµ‹è¯•
<span class="hljs-symbol">AI:</span> å¥½çš„... [å·¥å…·è°ƒç”¨ x <span class="hljs-number">10</span>]

[å‹ç¼©å - <span class="hljs-number">5</span>K tokens]
AI (compaction):
## ä»»åŠ¡æ‘˜è¦
ç”¨æˆ·è¯·æ±‚é‡æ„ç”¨æˆ·æ¨¡å—ã€‚å·²å®Œæˆï¼š
<span class="hljs-number">1</span>. åˆ†æäº† src/user/ ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
<span class="hljs-number">2</span>. é‡æ„äº† UserServiceï¼Œå°†å…¶æ‹†åˆ†ä¸ºä¸‰ä¸ªå°ç±»
<span class="hljs-number">3</span>. ä¿®å¤äº† getUserById çš„ç©ºæŒ‡é’ˆ bug
<span class="hljs-number">4</span>. æ·»åŠ äº†å•å…ƒæµ‹è¯•ï¼Œè¦†ç›–ç‡è¾¾ <span class="hljs-number">85%</span>

å½“å‰çŠ¶æ€ï¼šåŸºæœ¬å®Œæˆï¼Œç”¨æˆ·å¯èƒ½è¿˜æœ‰åç»­éœ€æ±‚ã€‚

User (synthetic): Please <span class="hljs-keyword">continue</span> <span class="hljs-keyword">with</span> the task based <span class="hljs-keyword">on</span> the summary above.
</code></pre>
<h4 data-id="heading-36">å±‚çº§ 3ï¼šæ¶ˆæ¯è¿‡æ»¤</h4>
<p>åœ¨æ„å»º LLM è¾“å…¥æ—¶ï¼Œä¼šè‡ªåŠ¨è·³è¿‡å·²å‹ç¼©éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">filterCompacted</span>(<span class="hljs-params">messages: Message[]</span>): <span class="hljs-title class_">Message</span>[] {
  <span class="hljs-comment">// æ‰¾åˆ°æœ€åä¸€ä¸ªå‹ç¼©æ ‡è®°</span>
  <span class="hljs-keyword">const</span> lastCompactionIndex = messages.<span class="hljs-title function_">findLastIndex</span>(
    <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> msg.<span class="hljs-property">parts</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-property">type</span> === <span class="hljs-string">"compaction"</span>)
  );

  <span class="hljs-keyword">if</span> (lastCompactionIndex === -<span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> messages;  <span class="hljs-comment">// æ²¡æœ‰å‹ç¼©ï¼Œè¿”å›å…¨éƒ¨</span>
  }

  <span class="hljs-comment">// åªè¿”å›å‹ç¼©æ ‡è®°ä¹‹åçš„æ¶ˆæ¯</span>
  <span class="hljs-keyword">return</span> messages.<span class="hljs-title function_">slice</span>(lastCompactionIndex);
}
</code></pre>
<h3 data-id="heading-37">6.3 æº¢å‡ºæ£€æµ‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isOverflow</span>(<span class="hljs-params">model: Model, messages: Message[]</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> contextLimit = model.<span class="hljs-property">context</span>;
  <span class="hljs-keyword">const</span> outputReserve = model.<span class="hljs-property">maxOutput</span> || <span class="hljs-number">8192</span>;
  <span class="hljs-keyword">const</span> currentTokens = <span class="hljs-title function_">estimateTokens</span>(messages);

  <span class="hljs-comment">// ç•™å‡ºè¶³å¤Ÿçš„è¾“å‡ºç©ºé—´</span>
  <span class="hljs-keyword">return</span> currentTokens &gt; contextLimit - outputReserve;
}
</code></pre>
<p>è¿™ä¸ªæ£€æŸ¥åœ¨æ¯æ¬¡ LLM è°ƒç”¨å‰æ‰§è¡Œã€‚ä¸€æ—¦æ£€æµ‹åˆ°æº¢å‡ºé£é™©ï¼Œä¼šç«‹å³è§¦å‘å‹ç¼©æµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-38">ç¬¬ä¸ƒç« ï¼šå®‰å…¨ä¸æƒé™ - ä¿¡ä»»ä½†è¦éªŒè¯</h2>
<h3 data-id="heading-39">7.1 ä¸ºä»€ä¹ˆéœ€è¦æƒé™ç³»ç»Ÿï¼Ÿ</h3>
<p>AI Agent æ‹¥æœ‰å¼ºå¤§çš„èƒ½åŠ›ï¼Œä½†"èƒ½åŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§"ã€‚æƒ³è±¡ä¸€ä¸‹è¿™äº›åœºæ™¯ï¼š</p>
<ul>
<li>AI æ‰§è¡Œ <code>rm -rf /</code> ä¼šæ€æ ·ï¼Ÿ</li>
<li>AI è¯»å– <code>~/.ssh/id_rsa</code> ä¼šæ€æ ·ï¼Ÿ</li>
<li>AI å‘å¤–éƒ¨æœåŠ¡å‘é€ä½ çš„ä»£ç ä¼šæ€æ ·ï¼Ÿ</li>
</ul>
<p>æ²¡æœ‰æƒé™ç³»ç»Ÿï¼Œè¿™äº›éƒ½å¯èƒ½å‘ç”Ÿã€‚OpenCode å®ç°äº†<strong>ç»†ç²’åº¦çš„æƒé™æ§åˆ¶</strong>ã€‚</p>
<h3 data-id="heading-40">7.2 æƒé™æ¨¡å‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "Permission Sources"
        Agent[Agent æƒé™&lt;br/&gt;agent.permission]
        Session[Session æƒé™&lt;br/&gt;session.permission]
        Config[å…¨å±€é…ç½®&lt;br/&gt;config.permission]
    end

    subgraph "Permission Check"
        Merge[æƒé™åˆå¹¶]
        Check[æƒé™æ£€æŸ¥]
        Ask[ç”¨æˆ·è¯¢é—®]
    end

    subgraph "Decision"
        Allow[å…è®¸æ‰§è¡Œ]
        Deny[æ‹’ç»æ‰§è¡Œ]
        Remember[è®°ä½é€‰æ‹©]
    end

    Agent --&gt; Merge
    Session --&gt; Merge
    Config --&gt; Merge
    Merge --&gt; Check
    Check --&gt; |æ˜ç¡®å…è®¸| Allow
    Check --&gt; |æ˜ç¡®æ‹’ç»| Deny
    Check --&gt; |éœ€è¦ç¡®è®¤| Ask
    Ask --&gt; |ç”¨æˆ·å…è®¸| Allow
    Ask --&gt; |ç”¨æˆ·æ‹’ç»| Deny
    Ask --&gt; |è®°ä½é€‰æ‹©| Remember
    Remember --&gt; Allow
    Remember --&gt; Deny
</code></pre>
<h3 data-id="heading-41">7.3 æƒé™è§„åˆ™å®šä¹‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">PermissionRule</span> {
  <span class="hljs-comment">// åŒ¹é…æ¡ä»¶</span>
  tool?: <span class="hljs-built_in">string</span>;           <span class="hljs-comment">// å·¥å…·ååŒ¹é…</span>
  path?: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">RegExp</span>;  <span class="hljs-comment">// è·¯å¾„åŒ¹é…</span>
  command?: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">RegExp</span>; <span class="hljs-comment">// å‘½ä»¤åŒ¹é…</span>

  <span class="hljs-comment">// å†³ç­–</span>
  allow?: <span class="hljs-built_in">boolean</span>;         <span class="hljs-comment">// å…è®¸</span>
  deny?: <span class="hljs-built_in">boolean</span>;          <span class="hljs-comment">// æ‹’ç»</span>
  ask?: <span class="hljs-built_in">boolean</span>;           <span class="hljs-comment">// è¯¢é—®ç”¨æˆ·</span>

  <span class="hljs-comment">// è®°å¿†</span>
  always?: <span class="hljs-built_in">boolean</span>;        <span class="hljs-comment">// è®°ä½è¿™ä¸ªé€‰æ‹©</span>
}

<span class="hljs-comment">// ç¤ºä¾‹é…ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">permissionRules</span>: <span class="hljs-title class_">PermissionRule</span>[] = [
  <span class="hljs-comment">// å…è®¸è¯»å–é¡¹ç›®å†…æ–‡ä»¶</span>
  { <span class="hljs-attr">tool</span>: <span class="hljs-string">"read"</span>, <span class="hljs-attr">path</span>: <span class="hljs-regexp">/^\/project\//</span>, <span class="hljs-attr">allow</span>: <span class="hljs-literal">true</span> },

  <span class="hljs-comment">// æ‹’ç»è¯»å–ç§é’¥</span>
  { <span class="hljs-attr">tool</span>: <span class="hljs-string">"read"</span>, <span class="hljs-attr">path</span>: <span class="hljs-regexp">/\.ssh|\.env|password/</span>, <span class="hljs-attr">deny</span>: <span class="hljs-literal">true</span> },

  <span class="hljs-comment">// å±é™©å‘½ä»¤éœ€è¦ç¡®è®¤</span>
  { <span class="hljs-attr">tool</span>: <span class="hljs-string">"bash"</span>, <span class="hljs-attr">command</span>: <span class="hljs-regexp">/rm|sudo|chmod|curl/</span>, <span class="hljs-attr">ask</span>: <span class="hljs-literal">true</span> },

  <span class="hljs-comment">// å¤–éƒ¨è·¯å¾„éœ€è¦ç¡®è®¤</span>
  { <span class="hljs-attr">tool</span>: <span class="hljs-string">"write"</span>, <span class="hljs-attr">path</span>: <span class="hljs-regexp">/^(?!\/project\/)/</span>, <span class="hljs-attr">ask</span>: <span class="hljs-literal">true</span> },
];
</code></pre>
<h3 data-id="heading-42">7.4 æƒé™æ£€æŸ¥æµç¨‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkPermission</span>(<span class="hljs-params">
  tool: <span class="hljs-built_in">string</span>,
  args: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;,
  ctx: ToolContext
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-comment">// 1. è·å–åˆå¹¶åçš„æƒé™è§„åˆ™</span>
  <span class="hljs-keyword">const</span> rules = <span class="hljs-title class_">PermissionNext</span>.<span class="hljs-title function_">merge</span>(
    ctx.<span class="hljs-property">agent</span>.<span class="hljs-property">permission</span>,
    ctx.<span class="hljs-property">session</span>.<span class="hljs-property">permission</span>,
    <span class="hljs-title class_">Config</span>.<span class="hljs-title function_">get</span>().<span class="hljs-property">permission</span>
  );

  <span class="hljs-comment">// 2. æ‰¾åˆ°åŒ¹é…çš„è§„åˆ™</span>
  <span class="hljs-keyword">const</span> matchedRule = rules.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">rule</span> =&gt;</span> <span class="hljs-title function_">matches</span>(rule, tool, args));

  <span class="hljs-comment">// 3. å¦‚æœæ˜ç¡®å…è®¸ï¼Œç›´æ¥é€šè¿‡</span>
  <span class="hljs-keyword">if</span> (matchedRule?.<span class="hljs-property">allow</span>) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 4. å¦‚æœæ˜ç¡®æ‹’ç»ï¼ŒæŠ›å‡ºå¼‚å¸¸</span>
  <span class="hljs-keyword">if</span> (matchedRule?.<span class="hljs-property">deny</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PermissionNext</span>.<span class="hljs-title class_">RejectedError</span>(tool, args);
  }

  <span class="hljs-comment">// 5. å¦‚æœéœ€è¦è¯¢é—®ï¼Œè¯·æ±‚ç”¨æˆ·ç¡®è®¤</span>
  <span class="hljs-keyword">if</span> (!matchedRule || matchedRule.<span class="hljs-property">ask</span>) {
    <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">ask</span>({
      <span class="hljs-attr">permission</span>: <span class="hljs-string">`tool.<span class="hljs-subst">${tool}</span>`</span>,
      <span class="hljs-attr">metadata</span>: args,
      <span class="hljs-attr">patterns</span>: <span class="hljs-title function_">extractPatterns</span>(args),
      <span class="hljs-attr">always</span>: matchedRule?.<span class="hljs-property">always</span> ?? <span class="hljs-literal">false</span>,
    });
  }
}
</code></pre>
<h3 data-id="heading-43">7.5 ç”¨æˆ·äº¤äº’ç•Œé¢</h3>
<p>å½“éœ€è¦ç”¨æˆ·ç¡®è®¤æ—¶ï¼ŒCLI ä¼šæ˜¾ç¤ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” Permission Required                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Tool: bash                                                     â”‚
â”‚  Command: <span class="hljs-built_in">rm</span> -rf ./dist                                         â”‚
â”‚                                                                 â”‚
â”‚  This <span class="hljs-built_in">command</span> will delete the ./dist directory.                 â”‚
â”‚                                                                 â”‚
â”‚  [Y] Allow once                                                 â”‚
â”‚  [A] Always allow this pattern                                  â”‚
â”‚  [N] Deny                                                       â”‚
â”‚  [D] Always deny this pattern                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>é€‰æ‹© "Always allow" ä¼šå°†è§„åˆ™ä¿å­˜åˆ° Session æƒé™ä¸­ï¼Œåç»­ç›¸åŒæ¨¡å¼çš„è¯·æ±‚è‡ªåŠ¨é€šè¿‡ã€‚</p>
<h3 data-id="heading-44">7.6 æ­»å¾ªç¯ä¿æŠ¤ (Doom Loop Detection)</h3>
<p>æƒé™ç³»ç»Ÿè¿˜åŒ…å«ä¸€ä¸ªç‰¹æ®Šä¿æŠ¤ï¼š<strong>æ­»å¾ªç¯æ£€æµ‹</strong>ã€‚</p>
<p>å½“ AI é™·å…¥æ— æ•ˆå¾ªç¯æ—¶ï¼ˆé‡å¤è°ƒç”¨ç›¸åŒå·¥å…·ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä»‹å…¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">detectDoomLoop</span>(<span class="hljs-params">toolParts: ToolPart[]</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">if</span> (toolParts.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

  <span class="hljs-comment">// è·å–æœ€è¿‘ 3 æ¬¡å·¥å…·è°ƒç”¨</span>
  <span class="hljs-keyword">const</span> last3 = toolParts.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">3</span>);

  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å®Œå…¨ç›¸åŒ</span>
  <span class="hljs-keyword">const</span> allSame = last3.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">part</span> =&gt;</span>
    part.<span class="hljs-property">state</span>.<span class="hljs-property">name</span> === last3[<span class="hljs-number">0</span>].<span class="hljs-property">state</span>.<span class="hljs-property">name</span> &amp;&amp;
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(part.<span class="hljs-property">state</span>.<span class="hljs-property">input</span>) === <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(last3[<span class="hljs-number">0</span>].<span class="hljs-property">state</span>.<span class="hljs-property">input</span>)
  );

  <span class="hljs-keyword">return</span> allSame;
}

<span class="hljs-comment">// åœ¨å·¥å…·è°ƒç”¨æ—¶æ£€æŸ¥</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onToolCall</span>(<span class="hljs-params">tool: <span class="hljs-built_in">string</span>, input: <span class="hljs-built_in">object</span>, ctx: ToolContext</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">detectDoomLoop</span>(<span class="hljs-title function_">getRecentToolParts</span>(ctx.<span class="hljs-property">messageID</span>))) {
    <span class="hljs-comment">// è¯¢é—®ç”¨æˆ·æ˜¯å¦ç»§ç»­</span>
    <span class="hljs-keyword">await</span> ctx.<span class="hljs-title function_">ask</span>({
      <span class="hljs-attr">permission</span>: <span class="hljs-string">"doom_loop"</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-string">`AI is calling the same tool (<span class="hljs-subst">${tool}</span>) repeatedly with identical arguments. This might indicate a stuck loop.`</span>,
      <span class="hljs-attr">options</span>: [<span class="hljs-string">"Continue anyway"</span>, <span class="hljs-string">"Stop and intervene"</span>],
    });
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-45">ç¬¬å…«ç« ï¼šäº®ç‚¹æŠ€æœ¯æ·±åº¦è§£æ</h2>
<h3 data-id="heading-46">8.1 æµå¼æ€è€ƒæå– (Reasoning Extraction)</h3>
<p>OpenCode æœ€é…·çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯<strong>å®æ—¶æ˜¾ç¤º AI çš„æ€è€ƒè¿‡ç¨‹</strong>ã€‚è¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant LLM
    participant Middleware
    participant Processor
    participant UI

    LLM-&gt;&gt;Middleware: &lt;think&gt;è®©æˆ‘åˆ†æä¸€ä¸‹...
    Middleware-&gt;&gt;Processor: reasoning-start
    Processor-&gt;&gt;UI: æ˜¾ç¤º"æ€è€ƒä¸­..."

    LLM-&gt;&gt;Middleware: è¿™ä¸ªå‡½æ•°æœ‰é—®é¢˜...&lt;/think&gt;
    Middleware-&gt;&gt;Processor: reasoning-delta
    Processor-&gt;&gt;UI: å®æ—¶æ›´æ–°æ€è€ƒå†…å®¹

    LLM-&gt;&gt;Middleware: æˆ‘éœ€è¦è°ƒç”¨ read å·¥å…·
    Middleware-&gt;&gt;Processor: reasoning-end, text-start
    Processor-&gt;&gt;UI: æ˜¾ç¤ºå®Œæ•´æ€è€ƒï¼Œå¼€å§‹æ˜¾ç¤ºå›å¤
</code></pre>
<p><strong>å®ç°åŸç†ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { wrapLanguageModel, extractReasoningMiddleware } <span class="hljs-keyword">from</span> <span class="hljs-string">"ai"</span>;

<span class="hljs-comment">// åŒ…è£…æ¨¡å‹ä»¥æå–æ€è€ƒè¿‡ç¨‹</span>
<span class="hljs-keyword">const</span> wrappedModel = <span class="hljs-title function_">wrapLanguageModel</span>(baseModel,
  <span class="hljs-title function_">extractReasoningMiddleware</span>({
    <span class="hljs-attr">tagName</span>: <span class="hljs-string">"think"</span>  <span class="hljs-comment">// æå– &lt;think&gt;...&lt;/think&gt; ä¸­çš„å†…å®¹</span>
  })
);

<span class="hljs-comment">// æµå¼äº‹ä»¶å¤„ç†</span>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> event <span class="hljs-keyword">of</span> stream.<span class="hljs-property">fullStream</span>) {
  <span class="hljs-keyword">switch</span> (event.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"reasoning-start"</span>:
      <span class="hljs-comment">// åˆ›å»ºæ€è€ƒ Part</span>
      <span class="hljs-title function_">createReasoningPart</span>(messageID);
      <span class="hljs-keyword">break</span>;

    <span class="hljs-keyword">case</span> <span class="hljs-string">"reasoning-delta"</span>:
      <span class="hljs-comment">// è¿½åŠ æ€è€ƒå†…å®¹</span>
      <span class="hljs-title function_">appendToReasoningPart</span>(messageID, event.<span class="hljs-property">text</span>);
      <span class="hljs-comment">// UI å®æ—¶æ›´æ–°</span>
      <span class="hljs-title function_">publishPartUpdate</span>(messageID, partID);
      <span class="hljs-keyword">break</span>;

    <span class="hljs-keyword">case</span> <span class="hljs-string">"reasoning-end"</span>:
      <span class="hljs-comment">// å®Œæˆæ€è€ƒ</span>
      <span class="hljs-title function_">finalizeReasoningPart</span>(messageID);
      <span class="hljs-keyword">break</span>;
  }
}
</code></pre>
<p><strong>ç”¨æˆ·çœ‹åˆ°çš„æ•ˆæœï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤” <span class="hljs-title class_">Thinking</span>...                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è®©æˆ‘åˆ†æä¸€ä¸‹è¿™ä¸ªå‡½æ•°ã€‚                                           â”‚
â”‚                                                                 â”‚
â”‚ é—®é¢˜å‡ºåœ¨ç¬¬ <span class="hljs-number">42</span> è¡Œï¼š<span class="hljs-title function_">fetchData</span>() è¿”å›çš„æ˜¯ <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;ï¼Œ        â”‚
â”‚ ä½†ä»£ç ç›´æ¥èµ‹å€¼ç»™ <span class="hljs-built_in">string</span> ç±»å‹çš„å˜é‡ï¼Œæ²¡æœ‰ <span class="hljs-keyword">await</span>ã€‚                 â”‚
â”‚                                                                 â”‚
â”‚ æˆ‘éœ€è¦ï¼š                                                        â”‚
â”‚ <span class="hljs-number">1.</span> è¯»å–å®Œæ•´æ–‡ä»¶ç¡®è®¤ä¸Šä¸‹æ–‡                                        â”‚
â”‚ <span class="hljs-number">2.</span> æ·»åŠ  <span class="hljs-keyword">await</span> å…³é”®å­—                                            â”‚
â”‚ <span class="hljs-number">3.</span> ç¡®ä¿å‡½æ•°æ˜¯ <span class="hljs-keyword">async</span> çš„                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>è¿™ä¸ä»…æä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œè¿˜å¢åŠ äº†<strong>é€æ˜åº¦</strong>â€”â€”ç”¨æˆ·å¯ä»¥çœ‹åˆ° AI æ˜¯å¦‚ä½•æ€è€ƒçš„ï¼Œä»è€Œæ›´å¥½åœ°ç†è§£å’ŒéªŒè¯å…¶å†³ç­–ã€‚</p>
<h3 data-id="heading-47">8.2 æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ä¸å›æ»š</h3>
<p>OpenCode çš„å¦ä¸€ä¸ªäº®ç‚¹æ˜¯<strong>ä»»ä½•ä¿®æ”¹éƒ½å¯ä»¥å›æ»š</strong>ã€‚è¿™æ˜¯é€šè¿‡ Git å¿«ç…§å®ç°çš„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ­¥éª¤å¼€å§‹æ—¶åˆ›å»ºå¿«ç…§</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onStepStart</span>(<span class="hljs-params">ctx: StepContext</span>) {
  <span class="hljs-comment">// è®°å½•å½“å‰ Git çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> snapshot = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Snapshot</span>.<span class="hljs-title function_">track</span>({
    <span class="hljs-attr">directory</span>: ctx.<span class="hljs-property">directory</span>,
    <span class="hljs-attr">includeUntracked</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// åŒ…æ‹¬æœªè·Ÿè¸ªæ–‡ä»¶</span>
  });

  <span class="hljs-comment">// ä¿å­˜å¿«ç…§å¼•ç”¨</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">updatePart</span>(ctx.<span class="hljs-property">messageID</span>, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"step-start"</span>,
    <span class="hljs-attr">snapshot</span>: snapshot.<span class="hljs-property">ref</span>,
  });
}

<span class="hljs-comment">// æ­¥éª¤ç»“æŸæ—¶è®¡ç®—å˜æ›´</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onStepFinish</span>(<span class="hljs-params">ctx: StepContext</span>) {
  <span class="hljs-keyword">const</span> startSnapshot = <span class="hljs-title function_">getStepStartSnapshot</span>(ctx.<span class="hljs-property">messageID</span>);
  <span class="hljs-keyword">const</span> currentSnapshot = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Snapshot</span>.<span class="hljs-title function_">track</span>({ <span class="hljs-attr">directory</span>: ctx.<span class="hljs-property">directory</span> });

  <span class="hljs-comment">// è®¡ç®— diff</span>
  <span class="hljs-keyword">const</span> patch = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Snapshot</span>.<span class="hljs-title function_">diff</span>(startSnapshot, currentSnapshot);

  <span class="hljs-comment">// ä¿å­˜ patch</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">updatePart</span>(ctx.<span class="hljs-property">messageID</span>, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"patch"</span>,
    <span class="hljs-attr">diff</span>: patch,
    <span class="hljs-attr">additions</span>: <span class="hljs-title function_">countAdditions</span>(patch),
    <span class="hljs-attr">deletions</span>: <span class="hljs-title function_">countDeletions</span>(patch),
  });
}

<span class="hljs-comment">// å›æ»šåˆ°ä»»æ„å¿«ç…§</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">revert</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span>, messageID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> snapshot = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">getSnapshot</span>(messageID);

  <span class="hljs-comment">// æ¢å¤æ–‡ä»¶çŠ¶æ€</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Snapshot</span>.<span class="hljs-title function_">restore</span>(snapshot.<span class="hljs-property">ref</span>);

  <span class="hljs-comment">// åˆ›å»ºå›æ»šæ¶ˆæ¯</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">updatePart</span>(messageID, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"revert"</span>,
    <span class="hljs-attr">snapshot</span>: snapshot.<span class="hljs-property">ref</span>,
  });
}
</code></pre>
<p><strong>å›æ»šç•Œé¢ï¼š</strong></p>
<pre><code class="hljs language-less" lang="less">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“œ <span class="hljs-selector-tag">Session</span> <span class="hljs-selector-tag">History</span>                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ <span class="hljs-selector-attr">[1]</span> <span class="hljs-number">10</span>:<span class="hljs-number">30</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Read</span> <span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">app</span><span class="hljs-selector-class">.ts</span>                                    â”‚
â”‚ <span class="hljs-selector-attr">[2]</span> <span class="hljs-number">10</span>:<span class="hljs-number">31</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Edit</span> <span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">app</span><span class="hljs-selector-class">.ts</span> (+<span class="hljs-number">5</span>, -<span class="hljs-number">3</span>)          <span class="hljs-selector-attr">[ğŸ”„ Revert]</span>      â”‚
â”‚ <span class="hljs-selector-attr">[3]</span> <span class="hljs-number">10</span>:<span class="hljs-number">32</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Run</span> <span class="hljs-selector-tag">tests</span>                                          â”‚
â”‚ <span class="hljs-selector-attr">[4]</span> <span class="hljs-number">10</span>:<span class="hljs-number">33</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Edit</span> <span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span><span class="hljs-selector-class">.ts</span> (+<span class="hljs-number">20</span>, -<span class="hljs-number">0</span>)       <span class="hljs-selector-attr">[ğŸ”„ Revert]</span>      â”‚
â”‚ <span class="hljs-selector-attr">[5]</span> <span class="hljs-number">10</span>:<span class="hljs-number">35</span> <span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">Create</span> <span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">new-file</span><span class="hljs-selector-class">.ts</span> (+<span class="hljs-number">50</span>, -<span class="hljs-number">0</span>)  <span class="hljs-selector-attr">[ğŸ”„ Revert]</span>      â”‚
â”‚                                                                 â”‚
â”‚ <span class="hljs-selector-tag">Select</span> <span class="hljs-selector-tag">step</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">revert</span>, <span class="hljs-selector-tag">or</span> <span class="hljs-selector-tag">press</span> <span class="hljs-selector-tag">Q</span> <span class="hljs-selector-tag">to</span> <span class="hljs-selector-tag">cancel</span>                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-48">8.3 æ™ºèƒ½æ‘˜è¦ç”Ÿæˆ</h3>
<p>æ¯æ¬¡å¯¹è¯ç»“æŸåï¼ŒOpenCode ä¼šè‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">summarize</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span>, messageID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. ç”Ÿæˆæ ‡é¢˜</span>
  <span class="hljs-keyword">const</span> title = <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateTitle</span>(sessionID, messageID);

  <span class="hljs-comment">// 2. ç”Ÿæˆæ­£æ–‡æ‘˜è¦</span>
  <span class="hljs-keyword">const</span> body = <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateBody</span>(sessionID, messageID);

  <span class="hljs-comment">// 3. è®¡ç®—æ–‡ä»¶å˜æ›´ç»Ÿè®¡</span>
  <span class="hljs-keyword">const</span> diffs = <span class="hljs-keyword">await</span> <span class="hljs-title function_">computeDiffs</span>(sessionID);

  <span class="hljs-comment">// 4. ä¿å­˜æ‘˜è¦</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">updateMessage</span>(messageID, {
    <span class="hljs-attr">summary</span>: { title, body, diffs },
  });
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateTitle</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span>, messageID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// ä½¿ç”¨å°æ¨¡å‹ç”Ÿæˆæ ‡é¢˜</span>
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable constant_">LLM</span>.<span class="hljs-title function_">stream</span>({
    <span class="hljs-attr">model</span>: smallModel,
    <span class="hljs-attr">agent</span>: <span class="hljs-string">"title"</span>,
    <span class="hljs-attr">messages</span>: <span class="hljs-title function_">getFirstUserMessage</span>(sessionID),
    <span class="hljs-attr">system</span>: <span class="hljs-string">"Generate a concise title (max 100 chars) for this conversation."</span>,
  });

  <span class="hljs-keyword">return</span> result.<span class="hljs-property">text</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>);
}
</code></pre>
<p>æ‘˜è¦ç”¨äºï¼š</p>
<ul>
<li>ä¼šè¯åˆ—è¡¨æ˜¾ç¤º</li>
<li>å†å²æœç´¢</li>
<li>ä¸Šä¸‹æ–‡å‹ç¼©åçš„å‚è€ƒ</li>
</ul>
<h3 data-id="heading-49">8.4 Prompt Caching ä¼˜åŒ–</h3>
<p>Anthropic çš„ API æ”¯æŒ Prompt Cachingï¼ŒOpenCode å……åˆ†åˆ©ç”¨äº†è¿™ä¸€ç‰¹æ€§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// System prompt åˆ†æˆä¸¤éƒ¨åˆ†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">buildSystemPrompt</span>(<span class="hljs-params">agent: Agent, custom: <span class="hljs-built_in">string</span>[]</span>) {
  <span class="hljs-keyword">return</span> [
    <span class="hljs-comment">// [0] é™æ€å¤´éƒ¨ - å¯è¢«ç¼“å­˜</span>
    <span class="hljs-variable constant_">PROVIDER_HEADER</span>,

    <span class="hljs-comment">// [1] åŠ¨æ€æ­£æ–‡ - æ¯æ¬¡å¯èƒ½ä¸åŒ</span>
    [
      agent.<span class="hljs-property">prompt</span>,
      ...custom,
      <span class="hljs-title function_">environmentInfo</span>(),
    ].<span class="hljs-title function_">join</span>(<span class="hljs-string">"\n"</span>),
  ];
}

<span class="hljs-comment">// å¦‚æœå¤´éƒ¨ä¸å˜ï¼ŒAnthropic ä¼šä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-comment">// å¯ä»¥èŠ‚çœ 50-90% çš„ input token</span>
</code></pre>
<p><strong>æˆæœ¬å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">Without Caching:
- Input: 50,000 tokens Ã— $3/<span class="hljs-attr">M</span> = <span class="hljs-variable">$0</span>.<span class="hljs-number">15</span>
- Output: 2,000 tokens Ã— $15/<span class="hljs-attr">M</span> = <span class="hljs-variable">$0</span>.<span class="hljs-number">03</span>
- Total: $0.18

With Caching (80% cache hit):
- Input (cached): 40,000 tokens Ã— $0.30/<span class="hljs-attr">M</span> = <span class="hljs-variable">$0</span>.<span class="hljs-number">012</span>
- Input (new): 10,000 tokens Ã— $3/<span class="hljs-attr">M</span> = <span class="hljs-variable">$0</span>.<span class="hljs-number">03</span>
- Output: 2,000 tokens Ã— $15/<span class="hljs-attr">M</span> = <span class="hljs-variable">$0</span>.<span class="hljs-number">03</span>
- Total: $0.072

Savings: 60%!
</code></pre>
<h3 data-id="heading-50">8.5 å¹¶è¡Œå·¥å…·æ‰§è¡Œ</h3>
<p>å½“ AI éœ€è¦è°ƒç”¨å¤šä¸ªç‹¬ç«‹å·¥å…·æ—¶ï¼ŒOpenCode æ”¯æŒ<strong>å¹¶è¡Œæ‰§è¡Œ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// AI è¿”å›å¤šä¸ªå·¥å…·è°ƒç”¨</span>
<span class="hljs-keyword">const</span> toolCalls = [
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"read"</span>, <span class="hljs-attr">args</span>: { <span class="hljs-attr">file_path</span>: <span class="hljs-string">"src/a.ts"</span> } },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"read"</span>, <span class="hljs-attr">args</span>: { <span class="hljs-attr">file_path</span>: <span class="hljs-string">"src/b.ts"</span> } },
  { <span class="hljs-attr">name</span>: <span class="hljs-string">"grep"</span>, <span class="hljs-attr">args</span>: { <span class="hljs-attr">pattern</span>: <span class="hljs-string">"TODO"</span>, <span class="hljs-attr">path</span>: <span class="hljs-string">"src/"</span> } },
];

<span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œæ‰€æœ‰å·¥å…·</span>
<span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
  toolCalls.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> (call) =&gt; {
    <span class="hljs-keyword">const</span> tool = <span class="hljs-title class_">ToolRegistry</span>.<span class="hljs-title function_">get</span>(call.<span class="hljs-property">name</span>);
    <span class="hljs-keyword">return</span> tool.<span class="hljs-title function_">execute</span>(call.<span class="hljs-property">args</span>, ctx);
  })
);

<span class="hljs-comment">// æ‰€æœ‰ç»“æœä¸€èµ·è¿”å›ç»™ LLM</span>
</code></pre>
<p>è¿™æ˜¾è‘—æé«˜äº†æ•ˆç‡ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦è¯»å–å¤šä¸ªæ–‡ä»¶æˆ–æ‰§è¡Œå¤šä¸ªæœç´¢æ—¶ã€‚</p>
<hr/>
<h2 data-id="heading-51">ç¬¬ä¹ç« ï¼šä»æºç å­¦ä¹ è®¾è®¡æ¨¡å¼</h2>
<p>OpenCode çš„ä»£ç åº“æ˜¯å­¦ä¹ ç°ä»£ TypeScript è®¾è®¡æ¨¡å¼çš„ç»ä½³æ•™æã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä½¿ç”¨äº†å“ªäº›æ¨¡å¼ã€‚</p>
<h3 data-id="heading-52">9.1 Namespace æ¨¡å¼</h3>
<p>OpenCode å¤§é‡ä½¿ç”¨ TypeScript çš„ <code>namespace</code> æ¥ç»„ç»‡ä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// session/index.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Session</span> {
  <span class="hljs-comment">// ç±»å‹å®šä¹‰</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Info</span> = z.<span class="hljs-title function_">object</span>({...});
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Info</span> = z.<span class="hljs-property">infer</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Info</span>&gt;;

  <span class="hljs-comment">// äº‹ä»¶å®šä¹‰</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Event</span> = {
    <span class="hljs-title class_">Created</span>: <span class="hljs-title class_">BusEvent</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"session.created"</span>, <span class="hljs-title class_">Info</span>),
    <span class="hljs-title class_">Updated</span>: <span class="hljs-title class_">BusEvent</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"session.updated"</span>, <span class="hljs-title class_">Info</span>),
    <span class="hljs-title class_">Deleted</span>: <span class="hljs-title class_">BusEvent</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"session.deleted"</span>, z.<span class="hljs-title function_">string</span>()),
  };

  <span class="hljs-comment">// æ–¹æ³•</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">input: CreateInput</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Info</span>&gt; {...}
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Info</span> | <span class="hljs-literal">null</span>&gt; {...}
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span>, editor: Editor</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Info</span>&gt; {...}
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">remove</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {...}
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ Namespaceï¼Ÿ</strong></p>
<ol>
<li><strong>å‘½åç©ºé—´éš”ç¦»</strong>ï¼šé¿å…å…¨å±€æ±¡æŸ“</li>
<li><strong>ç»„ç»‡ä»£ç </strong>ï¼šç›¸å…³åŠŸèƒ½æ”¾åœ¨ä¸€èµ·</li>
<li><strong>ç±»å‹å’Œå€¼å…±å­˜</strong>ï¼š<code>Session.Info</code> æ—¢æ˜¯ç±»å‹ä¹Ÿæ˜¯ Schema</li>
<li><strong>è‡ªæ–‡æ¡£åŒ–</strong>ï¼š<code>Session.create()</code> æ¯” <code>createSession()</code> æ›´æ¸…æ™°</li>
</ol>
<h3 data-id="heading-53">9.2 Discriminated Union æ¨¡å¼</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨å­—é¢é‡ç±»å‹ä½œä¸ºåˆ¤åˆ«å™¨</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Part</span> =
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"tool"</span>; <span class="hljs-attr">state</span>: <span class="hljs-title class_">ToolState</span>; }
  | { <span class="hljs-attr">type</span>: <span class="hljs-string">"reasoning"</span>; <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>; };

<span class="hljs-comment">// ç±»å‹æ”¶çª„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderPart</span>(<span class="hljs-params">part: Part</span>) {
  <span class="hljs-keyword">switch</span> (part.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"text"</span>:
      <span class="hljs-comment">// TypeScript çŸ¥é“è¿™é‡Œ part æ˜¯ { type: "text"; content: string }</span>
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{part.content}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>;

    <span class="hljs-keyword">case</span> <span class="hljs-string">"tool"</span>:
      <span class="hljs-comment">// TypeScript çŸ¥é“è¿™é‡Œ part æ˜¯ { type: "tool"; state: ToolState }</span>
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ToolCall</span> <span class="hljs-attr">state</span>=<span class="hljs-string">{part.state}</span> /&gt;</span></span>;

    <span class="hljs-keyword">case</span> <span class="hljs-string">"reasoning"</span>:
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Thinking</span>&gt;</span>{part.content}<span class="hljs-tag">&lt;/<span class="hljs-name">Thinking</span>&gt;</span></span>;
  }
}
</code></pre>
<p>è¿™ç§æ¨¡å¼åœ¨ OpenCode ä¸­æ— å¤„ä¸åœ¨ï¼Œå®ƒè®©å¤æ‚çš„ç±»å‹å˜å¾—å¯ç®¡ç†ã€‚</p>
<h3 data-id="heading-54">9.3 Builder æ¨¡å¼</h3>
<p>System Prompt çš„æ„å»ºä½¿ç”¨äº† Builder æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SystemPromptBuilder</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">parts</span>: <span class="hljs-built_in">string</span>[] = [];

  <span class="hljs-title function_">addHeader</span>(<span class="hljs-params">providerID: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">SystemPrompt</span>.<span class="hljs-title function_">header</span>(providerID));
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">addAgentPrompt</span>(<span class="hljs-params">agent: Agent</span>) {
    <span class="hljs-keyword">if</span> (agent.<span class="hljs-property">prompt</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>.<span class="hljs-title function_">push</span>(agent.<span class="hljs-property">prompt</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">addCustomInstructions</span>(<span class="hljs-params">paths: <span class="hljs-built_in">string</span>[]</span>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> path <span class="hljs-keyword">of</span> paths) {
      <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">readFileSync</span>(path, <span class="hljs-string">"utf-8"</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>.<span class="hljs-title function_">push</span>(content);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">addEnvironment</span>(<span class="hljs-params">info: EnvInfo</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">formatEnvironment</span>(info));
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">build</span>(): <span class="hljs-built_in">string</span>[] {
    <span class="hljs-comment">// è¿”å›å¯ç¼“å­˜çš„ä¸¤éƒ¨åˆ†ç»“æ„</span>
    <span class="hljs-keyword">return</span> [
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>[<span class="hljs-number">0</span>],  <span class="hljs-comment">// header</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">parts</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">"\n"</span>),  <span class="hljs-comment">// body</span>
    ];
  }
}
</code></pre>
<h3 data-id="heading-55">9.4 Factory æ¨¡å¼</h3>
<p>å·¥å…·åˆ›å»ºä½¿ç”¨äº† Factory æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Tool</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> define&lt;T <span class="hljs-keyword">extends</span> z.<span class="hljs-property">ZodObject</span>&lt;<span class="hljs-built_in">any</span>&gt;&gt;(
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">init</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">ToolDefinition</span>&lt;T&gt;
  ): <span class="hljs-title class_">Tool</span> {
    <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">definition</span>: <span class="hljs-title class_">ToolDefinition</span>&lt;T&gt; | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">return</span> {
      id,
      <span class="hljs-keyword">get</span> <span class="hljs-title function_">schema</span>() {
        definition ??= <span class="hljs-title function_">init</span>();
        <span class="hljs-keyword">return</span> definition.<span class="hljs-property">parameters</span>;
      },
      <span class="hljs-keyword">get</span> <span class="hljs-title function_">description</span>() {
        definition ??= <span class="hljs-title function_">init</span>();
        <span class="hljs-keyword">return</span> definition.<span class="hljs-property">description</span>;
      },
      <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">args: z.infer&lt;T&gt;, ctx: ToolContext</span>) {
        definition ??= <span class="hljs-title function_">init</span>();
        <span class="hljs-keyword">return</span> definition.<span class="hljs-title function_">execute</span>(args, ctx);
      },
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ReadTool</span> = <span class="hljs-title class_">Tool</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"read"</span>, <span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">description</span>: <span class="hljs-string">"Reads a file"</span>,
  <span class="hljs-attr">parameters</span>: z.<span class="hljs-title function_">object</span>({ <span class="hljs-attr">file_path</span>: z.<span class="hljs-title function_">string</span>() }),
  <span class="hljs-attr">execute</span>: <span class="hljs-keyword">async</span> (args, ctx) =&gt; {...},
}));
</code></pre>
<p>å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆ<code>init()</code> åªåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è°ƒç”¨ï¼‰å¯ä»¥åŠ å¿«å¯åŠ¨é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-56">9.5 Observer æ¨¡å¼ (Event Bus)</h3>
<p>OpenCode ä½¿ç”¨äº‹ä»¶æ€»çº¿å®ç°æ¾è€¦åˆé€šä¿¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰äº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">SessionCreated</span> = <span class="hljs-title class_">BusEvent</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"session.created"</span>, <span class="hljs-title class_">Session</span>.<span class="hljs-property">Info</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MessageUpdated</span> = <span class="hljs-title class_">BusEvent</span>.<span class="hljs-title function_">define</span>(<span class="hljs-string">"message.updated"</span>, <span class="hljs-title class_">MessageV2</span>.<span class="hljs-property">Info</span>);

<span class="hljs-comment">// å‘å¸ƒäº‹ä»¶</span>
<span class="hljs-title class_">Bus</span>.<span class="hljs-title function_">publish</span>(<span class="hljs-title class_">SessionCreated</span>, sessionInfo);

<span class="hljs-comment">// è®¢é˜…äº‹ä»¶</span>
<span class="hljs-title class_">Bus</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-title class_">SessionCreated</span>, <span class="hljs-function">(<span class="hljs-params">session</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`New session: <span class="hljs-subst">${session.title}</span>`</span>);
});

<span class="hljs-comment">// åœ¨ UI ä¸­ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">SessionList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [sessions, setSessions] = useState&lt;<span class="hljs-title class_">Session</span>.<span class="hljs-property">Info</span>[]&gt;([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è®¢é˜…ä¼šè¯å˜æ›´</span>
    <span class="hljs-keyword">const</span> unsubscribe = <span class="hljs-title class_">Bus</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-title class_">SessionCreated</span>, <span class="hljs-function">(<span class="hljs-params">session</span>) =&gt;</span> {
      <span class="hljs-title function_">setSessions</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, session]);
    });

    <span class="hljs-keyword">return</span> unsubscribe;
  }, []);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{sessions}</span> /&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-57">9.6 Strategy æ¨¡å¼</h3>
<p>Provider å®ç°ä½¿ç”¨äº† Strategy æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProviderStrategy</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">getApiKey</span>(): <span class="hljs-built_in">string</span> | <span class="hljs-literal">undefined</span>;
  <span class="hljs-title function_">models</span>(): <span class="hljs-title class_">Model</span>[];
  <span class="hljs-title function_">languageModel</span>(<span class="hljs-attr">modelID</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">LanguageModel</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AnthropicProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ProviderStrategy</span> {
  id = <span class="hljs-string">"anthropic"</span>;

  <span class="hljs-title function_">getApiKey</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> process.<span class="hljs-property">env</span>.<span class="hljs-property">ANTHROPIC_API_KEY</span>;
  }

  <span class="hljs-title function_">models</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> [
      { <span class="hljs-attr">id</span>: <span class="hljs-string">"claude-3-5-sonnet"</span>, <span class="hljs-attr">context</span>: <span class="hljs-number">200000</span>, ... },
      { <span class="hljs-attr">id</span>: <span class="hljs-string">"claude-3-opus"</span>, <span class="hljs-attr">context</span>: <span class="hljs-number">200000</span>, ... },
    ];
  }

  <span class="hljs-title function_">languageModel</span>(<span class="hljs-params">modelID: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">anthropic</span>(modelID);
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OpenAIProvider</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ProviderStrategy</span> {
  id = <span class="hljs-string">"openai"</span>;
  <span class="hljs-comment">// ... ä¸åŒçš„å®ç°</span>
}

<span class="hljs-comment">// ç»Ÿä¸€ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getProvider</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">ProviderStrategy</span> {
  <span class="hljs-keyword">const</span> providers = {
    <span class="hljs-attr">anthropic</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">AnthropicProvider</span>(),
    <span class="hljs-attr">openai</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAIProvider</span>(),
    <span class="hljs-comment">// ...</span>
  };
  <span class="hljs-keyword">return</span> providers[id];
}
</code></pre>
<hr/>
<h2 data-id="heading-58">ç¬¬åç« ï¼šæ€§èƒ½ä¼˜åŒ–ä¸å·¥ç¨‹å®è·µ</h2>
<h3 data-id="heading-59">10.1 å¯åŠ¨æ€§èƒ½ä¼˜åŒ–</h3>
<p>CLI å·¥å…·çš„å¯åŠ¨é€Ÿåº¦è‡³å…³é‡è¦ã€‚OpenCode é‡‡ç”¨äº†å¤šç§ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å»¶è¿Ÿå¯¼å…¥</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runCommand</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åªåœ¨éœ€è¦æ—¶æ‰å¯¼å…¥é‡å‹æ¨¡å—</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-title class_">Session</span> } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./session"</span>);
  <span class="hljs-keyword">const</span> { <span class="hljs-title class_">Server</span> } = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"./server"</span>);
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// 2. å»¶è¿Ÿåˆå§‹åŒ–</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">_config</span>: <span class="hljs-title class_">Config</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// é¦–æ¬¡è°ƒç”¨æ—¶æ‰åŠ è½½é…ç½®</span>
  _config ??= <span class="hljs-title function_">loadConfig</span>();
  <span class="hljs-keyword">return</span> _config;
}

<span class="hljs-comment">// 3. å¹¶è¡Œåˆå§‹åŒ–</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">bootstrap</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¹¶è¡Œæ‰§è¡Œç‹¬ç«‹çš„åˆå§‹åŒ–ä»»åŠ¡</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
    <span class="hljs-title function_">loadConfig</span>(),
    <span class="hljs-title function_">initializeStorage</span>(),
    <span class="hljs-title function_">discoverMCPServers</span>(),
  ]);
}
</code></pre>
<h3 data-id="heading-60">10.2 å†…å­˜ç®¡ç†</h3>
<p>é•¿æ—¶é—´è¿è¡Œçš„ Agent éœ€è¦æ³¨æ„å†…å­˜ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æµå¼å¤„ç†ï¼Œé¿å…å¤§å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>* <span class="hljs-title function_">streamFile</span>(<span class="hljs-params">path: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">const</span> stream = <span class="hljs-title function_">createReadStream</span>(path);
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> stream) {
    <span class="hljs-keyword">yield</span> chunk.<span class="hljs-title function_">toString</span>();
  }
}

<span class="hljs-comment">// 2. åŠæ—¶æ¸…ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params">sessionID: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// æ¸…ç†ç¼“å­˜</span>
  messageCache.<span class="hljs-title function_">delete</span>(sessionID);
  partCache.<span class="hljs-title function_">delete</span>(sessionID);

  <span class="hljs-comment">// è§¦å‘ GCï¼ˆåœ¨ Bun ä¸­ï¼‰</span>
  <span class="hljs-title class_">Bun</span>.<span class="hljs-title function_">gc</span>(<span class="hljs-literal">true</span>);
}

<span class="hljs-comment">// 3. å¼±å¼•ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>&lt;<span class="hljs-built_in">object</span>, <span class="hljs-title class_">ComputedValue</span>&gt;();
</code></pre>
<h3 data-id="heading-61">10.3 å¹¶å‘æ§åˆ¶</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨ä¿¡å·é‡é™åˆ¶å¹¶å‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Semaphore</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">permits</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">queue</span>: (<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>)[] = [];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">permits: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">permits</span> = permits;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">acquire</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">permits</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">permits</span>--;
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(resolve));
  }

  <span class="hljs-title function_">release</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> next = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">shift</span>();
    <span class="hljs-keyword">if</span> (next) {
      <span class="hljs-title function_">next</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">permits</span>++;
    }
  }
}

<span class="hljs-comment">// é™åˆ¶åŒæ—¶æ‰§è¡Œçš„å·¥å…·æ•°é‡</span>
<span class="hljs-keyword">const</span> toolSemaphore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Semaphore</span>(<span class="hljs-number">5</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">executeTool</span>(<span class="hljs-params">tool: Tool, args: <span class="hljs-built_in">object</span>, ctx: ToolContext</span>) {
  <span class="hljs-keyword">await</span> toolSemaphore.<span class="hljs-title function_">acquire</span>();
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> tool.<span class="hljs-title function_">execute</span>(args, ctx);
  } <span class="hljs-keyword">finally</span> {
    toolSemaphore.<span class="hljs-title function_">release</span>();
  }
}
</code></pre>
<h3 data-id="heading-62">10.4 é”™è¯¯å¤„ç†æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. ç±»å‹åŒ–é”™è¯¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ToolExecutionError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    <span class="hljs-keyword">public</span> tool: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> args: <span class="hljs-built_in">object</span>,
    <span class="hljs-keyword">public</span> cause: <span class="hljs-built_in">Error</span>
  </span>) {
    <span class="hljs-variable language_">super</span>(<span class="hljs-string">`Tool <span class="hljs-subst">${tool}</span> failed: <span class="hljs-subst">${cause.message}</span>`</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">"ToolExecutionError"</span>;
  }
}

<span class="hljs-comment">// 2. é”™è¯¯è¾¹ç•Œ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> safeExecute&lt;T&gt;(
  <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;,
  <span class="hljs-attr">fallback</span>: T
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Execution failed:"</span>, error);
    <span class="hljs-keyword">return</span> fallback;
  }
}

<span class="hljs-comment">// 3. é‡è¯•é€»è¾‘</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> withRetry&lt;T&gt;(
  <span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;,
  <span class="hljs-attr">options</span>: { <span class="hljs-attr">maxAttempts</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">delay</span>: <span class="hljs-built_in">number</span> }
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">lastError</span>: <span class="hljs-title class_">Error</span> | <span class="hljs-literal">undefined</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> attempt = <span class="hljs-number">1</span>; attempt &lt;= options.<span class="hljs-property">maxAttempts</span>; attempt++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>();
    } <span class="hljs-keyword">catch</span> (error) {
      lastError = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>;

      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isRetryable</span>(error) || attempt === options.<span class="hljs-property">maxAttempts</span>) {
        <span class="hljs-keyword">throw</span> error;
      }

      <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(options.<span class="hljs-property">delay</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, attempt - <span class="hljs-number">1</span>));
    }
  }

  <span class="hljs-keyword">throw</span> lastError;
}
</code></pre>
<h3 data-id="heading-63">10.5 æµ‹è¯•ç­–ç•¥</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å•å…ƒæµ‹è¯•</span>
<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Session"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">"should create session with correct defaults"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">create</span>({
      <span class="hljs-attr">projectID</span>: <span class="hljs-string">"test-project"</span>,
      <span class="hljs-attr">directory</span>: <span class="hljs-string">"/test"</span>,
    });

    <span class="hljs-title function_">expect</span>(session.<span class="hljs-property">id</span>).<span class="hljs-title function_">toBeDefined</span>();
    <span class="hljs-title function_">expect</span>(session.<span class="hljs-property">title</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">""</span>);
    <span class="hljs-title function_">expect</span>(session.<span class="hljs-property">time</span>.<span class="hljs-property">created</span>).<span class="hljs-title function_">toBeLessThanOrEqual</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>());
  });
});

<span class="hljs-comment">// 2. é›†æˆæµ‹è¯•</span>
<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Tool Execution"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">"should read file correctly"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title class_">ReadTool</span>.<span class="hljs-title function_">execute</span>(
      { <span class="hljs-attr">file_path</span>: <span class="hljs-string">"/test/file.txt"</span> },
      mockContext
    );

    <span class="hljs-title function_">expect</span>(result.<span class="hljs-property">output</span>).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">"file content"</span>);
  });
});

<span class="hljs-comment">// 3. E2E æµ‹è¯•</span>
<span class="hljs-title function_">describe</span>(<span class="hljs-string">"Full Workflow"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">"should complete code editing task"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">create</span>({...});

    <span class="hljs-keyword">await</span> <span class="hljs-title class_">SessionPrompt</span>.<span class="hljs-title function_">prompt</span>({
      <span class="hljs-attr">sessionID</span>: session.<span class="hljs-property">id</span>,
      <span class="hljs-attr">parts</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"Fix the bug in app.ts"</span> }],
    });

    <span class="hljs-keyword">const</span> messages = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Session</span>.<span class="hljs-title function_">messages</span>(session.<span class="hljs-property">id</span>);
    <span class="hljs-keyword">const</span> lastAssistant = messages.<span class="hljs-title function_">findLast</span>(<span class="hljs-function"><span class="hljs-params">m</span> =&gt;</span> m.<span class="hljs-property">role</span> === <span class="hljs-string">"assistant"</span>);

    <span class="hljs-title function_">expect</span>(lastAssistant.<span class="hljs-property">finish</span>).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">"stop"</span>);
    <span class="hljs-title function_">expect</span>(lastAssistant.<span class="hljs-property">parts</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-property">type</span> === <span class="hljs-string">"tool"</span> &amp;&amp; p.<span class="hljs-property">state</span>.<span class="hljs-property">name</span> === <span class="hljs-string">"edit"</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-literal">true</span>);
  });
});
</code></pre>
<hr/>
<h2 data-id="heading-64">ç»“è¯­ï¼šAI ç¼–ç¨‹çš„æœªæ¥</h2>
<h3 data-id="heading-65">å›é¡¾ï¼šæˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ</h3>
<p>é€šè¿‡æ·±å…¥ OpenCode çš„æºç ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€ä¸ªç°ä»£ AI Agent æ¡†æ¶çš„å®Œæ•´å®ç°ï¼š</p>
<ol>
<li><strong>ä¼šè¯ç®¡ç†</strong>ï¼šä¸‰å±‚ç»“æ„ï¼ˆSession â†’ Message â†’ Partï¼‰æ”¯æŒå¤æ‚çš„çŠ¶æ€è¿½è¸ª</li>
<li><strong>Agent ç³»ç»Ÿ</strong>ï¼šä¸“ä¸šåŒ–çš„è§’è‰²å®šä¹‰ï¼Œæ”¯æŒå­ä»»åŠ¡å’Œå¹¶è¡Œæ‰§è¡Œ</li>
<li><strong>å·¥å…·ç³»ç»Ÿ</strong>ï¼šå£°æ˜å¼å®šä¹‰ï¼Œä¸Šä¸‹æ–‡æ„ŸçŸ¥ï¼Œæƒé™æ§åˆ¶</li>
<li><strong>Provider æŠ½è±¡</strong>ï¼šç»Ÿä¸€æ¥å£ï¼Œæ”¯æŒ 18+ LLM æä¾›å•†</li>
<li><strong>ä¸Šä¸‹æ–‡å‹ç¼©</strong>ï¼šå¤šå±‚ç­–ç•¥ï¼ˆè£å‰ªã€æ‘˜è¦ã€è¿‡æ»¤ï¼‰è§£å†³é•¿å¯¹è¯é—®é¢˜</li>
<li><strong>å®‰å…¨æœºåˆ¶</strong>ï¼šç»†ç²’åº¦æƒé™æ§åˆ¶ï¼Œæ­»å¾ªç¯ä¿æŠ¤</li>
</ol>
<h3 data-id="heading-66">å±•æœ›ï¼šAI ç¼–ç¨‹çš„ä¸‹ä¸€æ­¥</h3>
<p>OpenCode ä»£è¡¨äº† AI ç¼–ç¨‹åŠ©æ‰‹çš„<strong>å½“å‰æ°´å¹³</strong>ï¼Œä½†è¿™åªæ˜¯å¼€å§‹ã€‚æœªæ¥å¯èƒ½çš„å‘å±•æ–¹å‘ï¼š</p>
<p><strong>1. æ›´å¼ºçš„ä»£ç ç†è§£</strong></p>
<ul>
<li>é›†æˆæ›´å¤š LSP åŠŸèƒ½</li>
<li>æ”¯æŒç±»å‹æ¨å¯¼å’Œé‡æ„</li>
<li>ç†è§£é¡¹ç›®æ¶æ„å’Œè®¾è®¡æ¨¡å¼</li>
</ul>
<p><strong>2. æ›´æ™ºèƒ½çš„ä»»åŠ¡è§„åˆ’</strong></p>
<ul>
<li>è‡ªåŠ¨åˆ†è§£å¤æ‚ä»»åŠ¡</li>
<li>é¢„æµ‹å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li>
<li>å­¦ä¹ ç”¨æˆ·çš„ç¼–ç ä¹ æƒ¯</li>
</ul>
<p><strong>3. æ›´å¥½çš„åä½œä½“éªŒ</strong></p>
<ul>
<li>å¤š Agent åä½œ</li>
<li>äººæœºæ··åˆç¼–ç¨‹</li>
<li>å®æ—¶ä»£ç å®¡æŸ¥</li>
</ul>
<p><strong>4. æ›´å¹¿æ³›çš„é›†æˆ</strong></p>
<ul>
<li>ä¸ CI/CD ç³»ç»Ÿé›†æˆ</li>
<li>æ”¯æŒæ›´å¤šç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶</li>
<li>è¿æ¥æ›´å¤šå¤–éƒ¨æœåŠ¡ï¼ˆæ•°æ®åº“ã€APIã€æ–‡æ¡£ï¼‰</li>
</ul>
<h3 data-id="heading-67">æœ€åçš„è¯</h3>
<p>OpenCode ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒæ˜¯å¯¹"AI èƒ½ä¸ºç¼–ç¨‹åšä»€ä¹ˆ"è¿™ä¸ªé—®é¢˜çš„ä¸€æ¬¡è®¤çœŸå›ç­”ã€‚</p>
<p>å®ƒçš„ä»£ç åº“å±•ç¤ºäº†å¦‚ä½•å°†å¤æ‚çš„ AI èƒ½åŠ›åŒ…è£…æˆä¼˜é›…çš„å¼€å‘ä½“éªŒã€‚æ¯ä¸€ä¸ªè®¾è®¡å†³ç­–â€”â€”ä»æµå¼æ€è€ƒæå–åˆ°ä¸Šä¸‹æ–‡å‹ç¼©ï¼Œä»æƒé™ç³»ç»Ÿåˆ°å›æ»šåŠŸèƒ½â€”â€”éƒ½æ˜¯ä¸ºäº†è®© AI æˆä¸ºçœŸæ­£æœ‰ç”¨çš„ç¼–ç¨‹ä¼™ä¼´ã€‚</p>
<p>å¦‚æœä½ æ˜¯ä¸€åå¼€å‘è€…ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ï¼š</p>
<ol>
<li><strong>ä½¿ç”¨å®ƒ</strong>ï¼šäº²èº«ä½“éªŒ AI ç¼–ç¨‹çš„æ„Ÿè§‰</li>
<li><strong>é˜…è¯»å®ƒ</strong>ï¼šæºç æ˜¯æœ€å¥½çš„æ•™æ</li>
<li><strong>è´¡çŒ®å®ƒ</strong>ï¼šå¼€æºé¡¹ç›®éœ€è¦ç¤¾åŒºçš„åŠ›é‡</li>
</ol>
<p>AI ä¸ä¼šå–ä»£ç¨‹åºå‘˜ï¼Œä½†ä¼šä½¿ç”¨ AI çš„ç¨‹åºå‘˜ä¼šå–ä»£ä¸ä¼šçš„ã€‚</p>
<p><strong>ç°åœ¨ï¼Œæ˜¯æ—¶å€™æ‹¥æŠ± AI ç¼–ç¨‹çš„æœªæ¥äº†ã€‚</strong></p>
<hr/>
<h2 data-id="heading-68">é™„å½•ï¼šå¿«é€Ÿå‚è€ƒ</h2>
<h3 data-id="heading-69">A. æ ¸å¿ƒæ–‡ä»¶ä½ç½®</h3>









































<table><thead><tr><th>åŠŸèƒ½</th><th>æ–‡ä»¶è·¯å¾„</th></tr></thead><tbody><tr><td>CLI å…¥å£</td><td><code>packages/opencode/src/index.ts</code></td></tr><tr><td>Session ç®¡ç†</td><td><code>packages/opencode/src/session/index.ts</code></td></tr><tr><td>ä¸»å¾ªç¯</td><td><code>packages/opencode/src/session/prompt.ts</code></td></tr><tr><td>æµå¤„ç†</td><td><code>packages/opencode/src/session/processor.ts</code></td></tr><tr><td>LLM è°ƒç”¨</td><td><code>packages/opencode/src/session/llm.ts</code></td></tr><tr><td>å·¥å…·æ³¨å†Œ</td><td><code>packages/opencode/src/tool/registry.ts</code></td></tr><tr><td>Provider</td><td><code>packages/opencode/src/provider/provider.ts</code></td></tr><tr><td>æƒé™ç³»ç»Ÿ</td><td><code>packages/opencode/src/permission/</code></td></tr></tbody></table>
<h3 data-id="heading-70">B. å…³é”®ç±»å‹å®šä¹‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Session</span>
<span class="hljs-title class_">Session</span>.<span class="hljs-property">Info</span>
<span class="hljs-title class_">Session</span>.<span class="hljs-property">Event</span>.<span class="hljs-property">Created</span>
<span class="hljs-title class_">Session</span>.<span class="hljs-property">Event</span>.<span class="hljs-property">Updated</span>

<span class="hljs-comment">// Message</span>
<span class="hljs-title class_">MessageV2</span>.<span class="hljs-property">User</span>
<span class="hljs-title class_">MessageV2</span>.<span class="hljs-property">Assistant</span>
<span class="hljs-title class_">MessageV2</span>.<span class="hljs-property">Part</span>

<span class="hljs-comment">// Tool</span>
<span class="hljs-title class_">Tool</span>.<span class="hljs-property">Context</span>
<span class="hljs-title class_">Tool</span>.<span class="hljs-property">Result</span>
<span class="hljs-title class_">ToolState</span>

<span class="hljs-comment">// Agent</span>
<span class="hljs-title class_">Agent</span>.<span class="hljs-property">Info</span>
<span class="hljs-title class_">Agent</span>.<span class="hljs-property">Mode</span>

<span class="hljs-comment">// Provider</span>
<span class="hljs-title class_">Provider</span>.<span class="hljs-property">Model</span>
<span class="hljs-title class_">Provider</span>.<span class="hljs-property">Options</span>
</code></pre>
<h3 data-id="heading-71">C. é…ç½®æ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€é…ç½®</span>
~/.opencode/config.json

<span class="hljs-comment"># é¡¹ç›®é…ç½®</span>
.opencode/config.json

<span class="hljs-comment"># è‡ªå®šä¹‰æŒ‡ä»¤</span>
AGENTS.md
CLAUDE.md
CONTEXT.md

<span class="hljs-comment"># è‡ªå®šä¹‰å·¥å…·</span>
~/.opencode/tool/*.ts
</code></pre>
<h3 data-id="heading-72">D. ç¯å¢ƒå˜é‡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># API Keys</span>
ANTHROPIC_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...
GOOGLE_API_KEY=...

<span class="hljs-comment"># é…ç½®</span>
OPENCODE_MODEL=claude-4-5-sonnet
OPENCODE_PROVIDER=anthropic
OPENCODE_DEBUG=<span class="hljs-literal">true</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ"ç¼“å­˜"èƒ½æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Ÿâ€”â€”ä» CPU ç¼“å­˜åˆ°åˆ†å¸ƒå¼ç¼“å­˜]]></title>    <link>https://juejin.cn/post/7592170706026823715</link>    <guid>https://juejin.cn/post/7592170706026823715</guid>    <pubDate>2026-01-07T08:46:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592170706026823715" data-draft-id="7592170171634761743" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ&quot;ç¼“å­˜&quot;èƒ½æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Ÿâ€”â€”ä» CPU ç¼“å­˜åˆ°åˆ†å¸ƒå¼ç¼“å­˜"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-07T08:46:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ"ç¼“å­˜"èƒ½æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Ÿâ€”â€”ä» CPU ç¼“å­˜åˆ°åˆ†å¸ƒå¼ç¼“å­˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-07T08:46:41.000Z" title="Wed Jan 07 2026 08:46:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-07
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ’¨ ä¸ºä»€ä¹ˆ"ç¼“å­˜"èƒ½æé«˜ç³»ç»Ÿæ€§èƒ½ï¼Ÿâ€”â€”ä» CPU ç¼“å­˜åˆ°åˆ†å¸ƒå¼ç¼“å­˜ âš¡</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ— é™å¤§ï¼Œæ¬¢è¿æ”¶çœ‹åä¸‡ä¸ªä¸ºä»€ä¹ˆç³»åˆ—æ–‡ç« </p>
<p>å¸Œæœ›ä»Šå¤©çš„å†…å®¹èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©</p>
</blockquote>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ å»å›¾ä¹¦é¦†å€Ÿä¸€æœ¬ä¹¦ï¼Œæ¯æ¬¡éƒ½è¦ä»ä¹¦æ¶ä¸Šæ‰¾ï¼Œçœ‹å®Œå†æ”¾å›å»â€”â€”è¿™æ ·æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Ÿ</p>
<p>å¦‚æœæŠŠä½ æœ€è¿‘å¸¸çœ‹çš„å‡ æœ¬ä¹¦æ”¾åœ¨ä¹¦æ¡Œæ—è¾¹ï¼Œæ˜¯ä¸æ˜¯æ–¹ä¾¿å¤šäº†ï¼Ÿ</p>
<p>è¿™å°±æ˜¯<strong>ç¼“å­˜</strong>çš„åŸç†ï¼å®ƒå°±åƒä½ ä¹¦æ¡Œæ—è¾¹çš„"å¸¸ç”¨ä¹¦åŒº"ï¼ŒæŠŠé¢‘ç¹ä½¿ç”¨çš„æ•°æ®å­˜æ”¾åœ¨ç¦»CPUæ›´è¿‘çš„åœ°æ–¹ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚</p>
<h3 data-id="heading-1">ğŸ¤” æ ¸å¿ƒé—®é¢˜ï¼šç¼“å­˜çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸åŒå±‚çº§çš„ç¼“å­˜æœ‰ä½•ä½œç”¨ï¼Ÿ</h3>
<p>å¾ˆå¤šäººè§‰å¾—"ç¼“å­˜"æ˜¯ä¸ªå¤æ‚çš„æŠ€æœ¯æ¦‚å¿µï¼Œå…¶å®å®ƒçš„æœ¬è´¨å¾ˆç®€å•ï¼š<strong>ç”¨ç©ºé—´æ¢æ—¶é—´</strong>â€”â€”æŠŠæ•°æ®å­˜æ”¾åœ¨æ›´å¿«çš„å­˜å‚¨ä»‹è´¨ä¸­ï¼Œå‡å°‘è®¿é—®æ…¢ä»‹è´¨çš„æ¬¡æ•°ã€‚</p>
<h4 data-id="heading-2">ç¼“å­˜çš„"ä¸‰å¤§æ³•å®"</h4>
<ul>
<li>âš¡ <strong>é€Ÿåº¦</strong>ï¼šç¼“å­˜çš„è®¿é—®é€Ÿåº¦æ¯”åŸå§‹å­˜å‚¨å¿«å¾—å¤š</li>
<li>ğŸ“Š <strong>å‘½ä¸­ç‡</strong>ï¼šç¼“å­˜ä¸­æ‰¾åˆ°æ•°æ®çš„æ¦‚ç‡ï¼ˆè¶Šé«˜è¶Šå¥½ï¼‰</li>
<li>ğŸ”„ <strong>æ›¿æ¢ç­–ç•¥</strong>ï¼šå½“ç¼“å­˜æ»¡äº†ï¼Œå¦‚ä½•å†³å®šæ·˜æ±°å“ªäº›æ•°æ®</li>
</ul>
<h4 data-id="heading-3">ä¸ºä»€ä¹ˆç¼“å­˜èƒ½æé«˜æ€§èƒ½ï¼Ÿ</h4>
<ul>
<li>ğŸŒ <strong>å­˜å‚¨é€Ÿåº¦å·®å¼‚</strong>ï¼šä¸åŒå­˜å‚¨ä»‹è´¨çš„é€Ÿåº¦å·®å¼‚å·¨å¤§ï¼ˆCPUç¼“å­˜æ˜¯ç¡¬ç›˜çš„1000å€ä»¥ä¸Šï¼‰</li>
<li>ğŸ” <strong>å±€éƒ¨æ€§åŸç†</strong>ï¼šç¨‹åºå’Œæ•°æ®çš„è®¿é—®å…·æœ‰å±€éƒ¨æ€§ï¼ˆæ—¶é—´å±€éƒ¨æ€§ã€ç©ºé—´å±€éƒ¨æ€§ï¼‰</li>
<li>ğŸ’ª <strong>å‡å°‘CPUç­‰å¾…</strong>ï¼šCPUä¸ç”¨é•¿æ—¶é—´ç­‰å¾…æ…¢å­˜å‚¨çš„å“åº”</li>
<li>ğŸ’° <strong>é™ä½æˆæœ¬</strong>ï¼šé«˜é€Ÿå­˜å‚¨ï¼ˆå¦‚CPUç¼“å­˜ï¼‰æˆæœ¬é«˜ï¼Œä½é€Ÿå­˜å‚¨ï¼ˆå¦‚ç¡¬ç›˜ï¼‰æˆæœ¬ä½ï¼Œç¼“å­˜å¯ä»¥å¹³è¡¡æˆæœ¬å’Œæ€§èƒ½</li>
</ul>
<h3 data-id="heading-4">ğŸ“œ ä»"CPU"åˆ°"åˆ†å¸ƒå¼"ï¼šç¼“å­˜çš„è¿›åŒ–å²</h3>
<h4 data-id="heading-5">1. âš¡ CPUç¼“å­˜ï¼š"ç¦»CPUæœ€è¿‘çš„ç¼“å­˜"</h4>
<p>1980å¹´ä»£ï¼Œéšç€CPUé€Ÿåº¦çš„é£é€Ÿæå‡ï¼Œ<strong>CPUç¼“å­˜</strong>åº”è¿è€Œç”Ÿï¼Œå®ƒæ˜¯ç¦»CPUæœ€è¿‘çš„ç¼“å­˜ã€‚</p>
<p><strong>å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li><strong>ä¸€çº§ç¼“å­˜ï¼ˆL1 Cacheï¼‰</strong>ï¼š1985å¹´ï¼Œè‹±ç‰¹å°”80386 CPUé¦–æ¬¡å¼•å…¥L1ç¼“å­˜</li>
<li><strong>äºŒçº§ç¼“å­˜ï¼ˆL2 Cacheï¼‰</strong>ï¼š1995å¹´ï¼Œå¥”è…¾Pro CPUé¦–æ¬¡å°†L2ç¼“å­˜é›†æˆåœ¨CPUèŠ¯ç‰‡ä¸­</li>
<li><strong>ä¸‰çº§ç¼“å­˜ï¼ˆL3 Cacheï¼‰</strong>ï¼š2003å¹´ï¼Œè‡³å¼ºå¤„ç†å™¨é¦–æ¬¡å¼•å…¥L3ç¼“å­˜</li>
</ul>
<p><strong>CPUç¼“å­˜çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€Ÿåº¦æå¿«ï¼ˆL1ç¼“å­˜è®¿é—®å»¶è¿Ÿ&lt;1nsï¼ŒL3ç¼“å­˜&lt;10nsï¼‰</li>
<li>å®¹é‡å°ï¼ˆL1ç¼“å­˜å‡ åKBï¼ŒL3ç¼“å­˜å‡ MBåˆ°å‡ åMBï¼‰</li>
<li>å¤šçº§ç»“æ„ï¼ˆL1â†’L2â†’L3ï¼‰</li>
<li>ç¡¬ä»¶ç®¡ç†ï¼Œè½¯ä»¶ä¸å¯è§</li>
</ul>
<h4 data-id="heading-6">2. ğŸ“ å†…å­˜ç¼“å­˜ï¼š"ç¨‹åºçš„é«˜é€Ÿç¼“å†²åŒº"</h4>
<p>1990å¹´ä»£ï¼Œéšç€æ“ä½œç³»ç»Ÿçš„å‘å±•ï¼Œ<strong>å†…å­˜ç¼“å­˜</strong>å¼€å§‹æ™®åŠï¼Œå®ƒæ˜¯ç¨‹åºè¿è¡Œæ—¶çš„é«˜é€Ÿç¼“å†²åŒºã€‚</p>
<p><strong>å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li><strong>è™šæ‹Ÿå†…å­˜</strong>ï¼š1960å¹´ä»£æå‡ºï¼Œ1980å¹´ä»£æ™®åŠ</li>
<li><strong>æ–‡ä»¶ç³»ç»Ÿç¼“å­˜</strong>ï¼šæ“ä½œç³»ç»Ÿå°†å¸¸ç”¨æ–‡ä»¶æ•°æ®ç¼“å­˜åˆ°å†…å­˜</li>
<li><strong>åº”ç”¨ç¨‹åºç¼“å­˜</strong>ï¼šç¨‹åºå†…éƒ¨ä½¿ç”¨å†…å­˜ç¼“å­˜æé«˜æ€§èƒ½</li>
</ul>
<p><strong>å†…å­˜ç¼“å­˜çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€Ÿåº¦å¿«ï¼ˆè®¿é—®å»¶è¿Ÿçº¦100nsï¼‰</li>
<li>å®¹é‡ä¸­ç­‰ï¼ˆå‡ GBåˆ°å‡ åGBï¼‰</li>
<li>è½¯ä»¶å¯ç®¡ç†</li>
<li>æ˜“å¤±æ€§ï¼ˆæ–­ç”µæ•°æ®ä¸¢å¤±ï¼‰</li>
</ul>
<h4 data-id="heading-7">3. ğŸ’¾ ç£ç›˜ç¼“å­˜ï¼š"ç¡¬ç›˜çš„åŠ é€Ÿç¥å™¨"</h4>
<p>2000å¹´ä»£ï¼Œéšç€æœºæ¢°ç¡¬ç›˜çš„å¹¿æ³›ä½¿ç”¨ï¼Œ<strong>ç£ç›˜ç¼“å­˜</strong>æˆä¸ºæé«˜ç¡¬ç›˜æ€§èƒ½çš„å…³é”®ã€‚</p>
<p><strong>å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li><strong>ç¡¬ç›˜å†…éƒ¨ç¼“å­˜</strong>ï¼šç¡¬ç›˜æ§åˆ¶å™¨ä¸Šçš„é«˜é€Ÿç¼“å­˜</li>
<li><strong>RAIDç¼“å­˜</strong>ï¼šRAIDæ§åˆ¶å™¨ä¸Šçš„é«˜é€Ÿç¼“å­˜</li>
<li><strong>å›ºæ€æ··åˆç¡¬ç›˜ï¼ˆSSHDï¼‰</strong>ï¼šç»“åˆäº†æœºæ¢°ç¡¬ç›˜å’Œé—ªå­˜ç¼“å­˜</li>
</ul>
<p><strong>ç£ç›˜ç¼“å­˜çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€Ÿåº¦è¾ƒæ…¢ï¼ˆè®¿é—®å»¶è¿Ÿçº¦5msï¼‰</li>
<li>å®¹é‡è¾ƒå¤§ï¼ˆå‡ åMBåˆ°å‡ GBï¼‰</li>
<li>éæ˜“å¤±æ€§ï¼ˆéƒ¨åˆ†RAIDç¼“å­˜æœ‰ç”µæ± å¤‡ä»½ï¼‰</li>
<li>ç¡¬ä»¶å’Œè½¯ä»¶å…±åŒç®¡ç†</li>
</ul>
<h4 data-id="heading-8">4. ğŸŒ åˆ†å¸ƒå¼ç¼“å­˜ï¼š"äº’è”ç½‘æ—¶ä»£çš„ç¼“å­˜"</h4>
<p>2010å¹´ä»£ï¼Œéšç€äº’è”ç½‘çš„å…´èµ·ï¼Œ<strong>åˆ†å¸ƒå¼ç¼“å­˜</strong>æˆä¸ºå¤§è§„æ¨¡ç³»ç»Ÿçš„å¿…å¤‡ç»„ä»¶ã€‚</p>
<p><strong>å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li><strong>Memcached</strong>ï¼š2003å¹´è¯ç”Ÿï¼Œæœ€æ—©çš„åˆ†å¸ƒå¼ç¼“å­˜</li>
<li><strong>Redis</strong>ï¼š2009å¹´è¯ç”Ÿï¼ŒåŠŸèƒ½æ›´ä¸°å¯Œçš„åˆ†å¸ƒå¼ç¼“å­˜</li>
<li><strong>Tair</strong>ï¼šé˜¿é‡Œå·´å·´å¼€æºçš„åˆ†å¸ƒå¼ç¼“å­˜</li>
<li><strong>ElastiCache</strong>ï¼šAWSæä¾›çš„æ‰˜ç®¡ç¼“å­˜æœåŠ¡</li>
</ul>
<p><strong>åˆ†å¸ƒå¼ç¼“å­˜çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é€Ÿåº¦å¿«ï¼ˆè®¿é—®å»¶è¿Ÿçº¦1msï¼‰</li>
<li>å®¹é‡å¤§ï¼ˆå‡ åGBåˆ°å‡ ç™¾GBï¼‰</li>
<li>åˆ†å¸ƒå¼æ¶æ„ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•</li>
<li>æ”¯æŒæŒä¹…åŒ–ï¼ˆéƒ¨åˆ†ç¼“å­˜æ”¯æŒï¼‰</li>
<li>è½¯ä»¶ç®¡ç†ï¼Œé«˜åº¦å¯æ§</li>
</ul>
<h3 data-id="heading-9">ğŸ”§ æŠ€æœ¯åŸç†ï¼šç¼“å­˜çš„"ç§˜å¯†æ­¦å™¨"</h3>
<h4 data-id="heading-10">1. ğŸ“Š å±€éƒ¨æ€§åŸç†ï¼š"ç¼“å­˜çš„ç†è®ºåŸºç¡€"</h4>
<p>å±€éƒ¨æ€§åŸç†æ˜¯ç¼“å­˜å­˜åœ¨çš„<strong>ç†è®ºåŸºç¡€</strong>ï¼Œå®ƒåŒ…æ‹¬ä¸¤ç§ç±»å‹ï¼š</p>
<p><strong>æ—¶é—´å±€éƒ¨æ€§</strong>ï¼š</p>
<ul>
<li>æœ€è¿‘è®¿é—®è¿‡çš„æ•°æ®ï¼Œæœªæ¥å¾ˆå¯èƒ½å†æ¬¡è¢«è®¿é—®</li>
<li>æ¯”å¦‚ï¼šå¾ªç¯å˜é‡ã€å¸¸ç”¨å‡½æ•°ã€çƒ­ç‚¹æ•°æ®</li>
<li>ä¾‹å­ï¼šä½ ä»Šå¤©çœ‹çš„ä¹¦ï¼Œæ˜å¤©å¯èƒ½è¿˜ä¼šçœ‹</li>
</ul>
<p><strong>ç©ºé—´å±€éƒ¨æ€§</strong>ï¼š</p>
<ul>
<li>è®¿é—®æŸä¸ªä½ç½®çš„æ•°æ®ï¼Œå…¶é™„è¿‘çš„æ•°æ®æœªæ¥å¾ˆå¯èƒ½è¢«è®¿é—®</li>
<li>æ¯”å¦‚ï¼šæ•°ç»„éå†ã€ç»“æ„ä½“è®¿é—®ã€è¿ç»­å­˜å‚¨</li>
<li>ä¾‹å­ï¼šä½ çœ‹äº†ç¬¬100é¡µï¼Œæ¥ä¸‹æ¥å¯èƒ½ä¼šçœ‹ç¬¬101é¡µ</li>
</ul>
<h4 data-id="heading-11">2. ğŸ¯ ç¼“å­˜å‘½ä¸­ç‡ï¼š"ç¼“å­˜çš„ç”Ÿå‘½çº¿"</h4>
<p>ç¼“å­˜å‘½ä¸­ç‡æ˜¯è¡¡é‡ç¼“å­˜æ•ˆæœçš„<strong>æ ¸å¿ƒæŒ‡æ ‡</strong>ï¼Œå®ƒè¡¨ç¤ºç¼“å­˜ä¸­æ‰¾åˆ°æ•°æ®çš„æ¦‚ç‡ï¼š</p>
<p><strong>è®¡ç®—å…¬å¼</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç¼“å­˜å‘½ä¸­ç‡ = ç¼“å­˜å‘½ä¸­æ¬¡æ•° / (ç¼“å­˜å‘½ä¸­æ¬¡æ•° + ç¼“å­˜æœªå‘½ä¸­æ¬¡æ•°)
</code></pre>
<p><strong>å½±å“å‘½ä¸­ç‡çš„å› ç´ </strong>ï¼š</p>
<ul>
<li>ğŸ“¦ <strong>ç¼“å­˜å®¹é‡</strong>ï¼šå®¹é‡è¶Šå¤§ï¼Œå‘½ä¸­ç‡è¶Šé«˜ï¼ˆä½†æˆæœ¬ä¹Ÿè¶Šé«˜ï¼‰</li>
<li>ğŸ”„ <strong>æ›¿æ¢ç­–ç•¥</strong>ï¼šå¥½çš„æ›¿æ¢ç­–ç•¥èƒ½æé«˜å‘½ä¸­ç‡</li>
<li>ğŸ” <strong>å±€éƒ¨æ€§å¥½å</strong>ï¼šç¨‹åºçš„å±€éƒ¨æ€§è¶Šå¥½ï¼Œå‘½ä¸­ç‡è¶Šé«˜</li>
<li>ğŸ“Š <strong>æ•°æ®åˆ†å¸ƒ</strong>ï¼šçƒ­ç‚¹æ•°æ®è¶Šé›†ä¸­ï¼Œå‘½ä¸­ç‡è¶Šé«˜</li>
</ul>
<p><strong>è¡Œä¸šæ ‡å‡†</strong>ï¼š</p>
<ul>
<li>CPUç¼“å­˜ï¼šå‘½ä¸­ç‡å¯è¾¾90%ä»¥ä¸Š</li>
<li>å†…å­˜ç¼“å­˜ï¼šå‘½ä¸­ç‡å¯è¾¾80%ä»¥ä¸Š</li>
<li>åˆ†å¸ƒå¼ç¼“å­˜ï¼šå‘½ä¸­ç‡å¯è¾¾70%ä»¥ä¸Š</li>
</ul>
<h4 data-id="heading-12">3. ğŸ”„ ç¼“å­˜æ›¿æ¢ç®—æ³•ï¼š"è°è¯¥è¢«æ·˜æ±°ï¼Ÿ"</h4>
<p>å½“ç¼“å­˜æ»¡äº†ï¼Œéœ€è¦å†³å®šæ·˜æ±°å“ªäº›æ•°æ®ï¼Œè¿™å°±æ˜¯<strong>ç¼“å­˜æ›¿æ¢ç®—æ³•</strong>çš„å·¥ä½œï¼</p>
<p><strong>å¸¸è§çš„æ›¿æ¢ç®—æ³•</strong>ï¼š</p>
<h5 data-id="heading-13">ğŸ“Œ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰</h5>
<ul>
<li><strong>åŸç†</strong>ï¼šå…ˆè¿›å…¥ç¼“å­˜çš„æ•°æ®å…ˆæ·˜æ±°</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå®ç°ç®€å•ï¼Œå¼€é”€å°</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šä¸è€ƒè™‘æ•°æ®çš„è®¿é—®é¢‘ç‡</li>
<li><strong>ä¾‹å­</strong>ï¼šæ’é˜Ÿä¹°ç¥¨ï¼Œå…ˆåˆ°å…ˆå¾—</li>
</ul>
<h5 data-id="heading-14">ğŸ“ˆ LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰</h5>
<ul>
<li><strong>åŸç†</strong>ï¼šæ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šè€ƒè™‘äº†æ—¶é—´å±€éƒ¨æ€§</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå®ç°å¤æ‚ï¼Œéœ€è¦ç»´æŠ¤è®¿é—®é¡ºåº</li>
<li><strong>ä¾‹å­</strong>ï¼šä¹¦æ¶ä¸Šçš„ä¹¦ï¼Œæœ€ä¹…æ²¡çœ‹çš„å…ˆæ”¾å›ä¹¦æ¶</li>
</ul>
<p><strong>ä»£ç å®ä¾‹</strong>ï¼šPythonå®ç°LRUç¼“å­˜</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> OrderedDict

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LRUCache</span>:
    <span class="hljs-string">"""ç®€å•çš„LRUç¼“å­˜å®ç°"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, capacity: <span class="hljs-built_in">int</span></span>):
        self.capacity = capacity
        self.cache = OrderedDict()
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">any</span>:
        <span class="hljs-string">"""è·å–ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå¦‚æœä¸å­˜åœ¨è¿”å›None"""</span>
        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.cache:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        <span class="hljs-comment"># å°†è®¿é—®çš„é”®ç§»åˆ°æœ«å°¾ï¼Œè¡¨ç¤ºæœ€è¿‘ä½¿ç”¨</span>
        self.cache.move_to_end(key)
        <span class="hljs-keyword">return</span> self.cache[key]
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">put</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">str</span>, value: <span class="hljs-built_in">any</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""å°†æ•°æ®æ”¾å…¥ç¼“å­˜"""</span>
        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> self.cache:
            <span class="hljs-comment"># æ›´æ–°æ•°æ®ï¼Œå¹¶ç§»åˆ°æœ«å°¾</span>
            self.cache.move_to_end(key)
        self.cache[key] = value
        <span class="hljs-comment"># å¦‚æœç¼“å­˜æ»¡äº†ï¼Œæ·˜æ±°æœ€æ—©çš„é”®</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.cache) &gt; self.capacity:
            self.cache.popitem(last=<span class="hljs-literal">False</span>)
  
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""è¿”å›ç¼“å­˜çš„å­—ç¬¦ä¸²è¡¨ç¤º"""</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"LRUCache(capacity=<span class="hljs-subst">{self.capacity}</span>, items=<span class="hljs-subst">{<span class="hljs-built_in">list</span>(self.cache.items())}</span>)"</span>)

<span class="hljs-comment"># æµ‹è¯•LRUç¼“å­˜</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ¯ æµ‹è¯•LRUç¼“å­˜"</span>)
    cache = LRUCache(capacity=<span class="hljs-number">3</span>)
  
    <span class="hljs-comment"># æ”¾å…¥æ•°æ®</span>
    cache.put(<span class="hljs-string">"A"</span>, <span class="hljs-number">1</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ”¾å…¥A: <span class="hljs-subst">{cache}</span>"</span>)
  
    cache.put(<span class="hljs-string">"B"</span>, <span class="hljs-number">2</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ”¾å…¥B: <span class="hljs-subst">{cache}</span>"</span>)
  
    cache.put(<span class="hljs-string">"C"</span>, <span class="hljs-number">3</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ”¾å…¥C: <span class="hljs-subst">{cache}</span>"</span>)
  
    <span class="hljs-comment"># è®¿é—®Aï¼Œç§»åˆ°æœ«å°¾</span>
    cache.get(<span class="hljs-string">"A"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¿é—®A: <span class="hljs-subst">{cache}</span>"</span>)
  
    <span class="hljs-comment"># æ”¾å…¥Dï¼Œæ·˜æ±°æœ€æ—©çš„B</span>
    cache.put(<span class="hljs-string">"D"</span>, <span class="hljs-number">4</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ”¾å…¥D: <span class="hljs-subst">{cache}</span>"</span>)
  
    <span class="hljs-comment"># è®¿é—®ä¸å­˜åœ¨çš„E</span>
    result = cache.get(<span class="hljs-string">"E"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¿é—®E: <span class="hljs-subst">{result}</span>, ç¼“å­˜: <span class="hljs-subst">{cache}</span>"</span>)
  
    <span class="hljs-comment"># è¾“å‡º</span>
    <span class="hljs-comment"># ğŸ¯ æµ‹è¯•LRUç¼“å­˜</span>
    <span class="hljs-comment"># æ”¾å…¥A: LRUCache(capacity=3, items=[('A', 1)]))</span>
    <span class="hljs-comment"># æ”¾å…¥B: LRUCache(capacity=3, items=[('A', 1), ('B', 2)]))</span>
    <span class="hljs-comment"># æ”¾å…¥C: LRUCache(capacity=3, items=[('A', 1), ('B', 2), ('C', 3)]))</span>
    <span class="hljs-comment"># è®¿é—®A: LRUCache(capacity=3, items=[('B', 2), ('C', 3), ('A', 1)]))</span>
    <span class="hljs-comment"># æ”¾å…¥D: LRUCache(capacity=3, items=[('C', 3), ('A', 1), ('D', 4)]))</span>
    <span class="hljs-comment"># è®¿é—®E: None, ç¼“å­˜: LRUCache(capacity=3, items=[('C', 3), ('A', 1), ('D', 4)]))</span>
</code></pre>
<h5 data-id="heading-15">ğŸ“Š LFUï¼ˆæœ€å°‘ä½¿ç”¨é¢‘ç‡ï¼‰</h5>
<ul>
<li><strong>åŸç†</strong>ï¼šæ·˜æ±°ä½¿ç”¨é¢‘ç‡æœ€ä½çš„æ•°æ®</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šè€ƒè™‘äº†æ•°æ®çš„è®¿é—®é¢‘ç‡</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå®ç°å¤æ‚ï¼Œéœ€è¦ç»´æŠ¤è®¿é—®é¢‘ç‡</li>
<li><strong>ä¾‹å­</strong>ï¼šå›¾ä¹¦é¦†çš„ä¹¦ï¼Œå€Ÿçš„äººæœ€å°‘çš„å…ˆä¸‹æ¶</li>
</ul>
<h5 data-id="heading-16">ğŸ† å…¶ä»–ç®—æ³•</h5>
<ul>
<li><strong>LRU-K</strong>ï¼šç»“åˆäº†LRUå’ŒLFUçš„ä¼˜ç‚¹</li>
<li><strong>ARCï¼ˆè‡ªé€‚åº”æ›¿æ¢ç¼“å­˜ï¼‰</strong>ï¼šè‡ªåŠ¨å¹³è¡¡LRUå’ŒLFU</li>
<li><strong>MRUï¼ˆæœ€è¿‘æœ€å¸¸ä½¿ç”¨ï¼‰</strong>ï¼šæ·˜æ±°æœ€è¿‘æœ€å¸¸ä½¿ç”¨çš„æ•°æ®</li>
</ul>
<h4 data-id="heading-17">4. ğŸ“ ç¼“å­˜ä¸€è‡´æ€§ï¼š"æ•°æ®åŒæ­¥é—®é¢˜"</h4>
<p>å½“åŸå§‹æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚ä½•ç¡®ä¿ç¼“å­˜ä¸­çš„æ•°æ®ä¸åŸå§‹æ•°æ®ä¸€è‡´ï¼Ÿè¿™å°±æ˜¯<strong>ç¼“å­˜ä¸€è‡´æ€§</strong>é—®é¢˜ï¼</p>
<p><strong>å¸¸è§çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<h5 data-id="heading-18">1. ğŸ”„ ç¼“å­˜æ›´æ–°ç­–ç•¥</h5>
<ul>
<li><strong>æ›´æ–°ç¼“å­˜</strong>ï¼šä¿®æ”¹åŸå§‹æ•°æ®åï¼ŒåŒæ—¶æ›´æ–°ç¼“å­˜</li>
<li><strong>åˆ é™¤ç¼“å­˜</strong>ï¼šä¿®æ”¹åŸå§‹æ•°æ®åï¼Œåˆ é™¤ç¼“å­˜ï¼ˆä¸‹æ¬¡è®¿é—®æ—¶é‡æ–°åŠ è½½ï¼‰</li>
<li><strong>å»¶è¿ŸåŒåˆ </strong>ï¼šä¿®æ”¹æ•°æ®åï¼Œå…ˆåˆ ç¼“å­˜ï¼Œå†æ›´æ–°æ•°æ®åº“ï¼Œå†å»¶è¿Ÿåˆ ä¸€æ¬¡ç¼“å­˜</li>
</ul>
<h5 data-id="heading-19">2. ğŸƒ å¼‚æ­¥æ›´æ–°</h5>
<ul>
<li>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚Kafkaã€RabbitMQï¼‰å¼‚æ­¥æ›´æ–°ç¼“å­˜</li>
<li>é€‚åˆå®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯</li>
</ul>
<h5 data-id="heading-20">3. ğŸ”’ åˆ†å¸ƒå¼é”</h5>
<ul>
<li>ç¡®ä¿ç¼“å­˜æ›´æ–°çš„åŸå­æ€§</li>
<li>é˜²æ­¢å¹¶å‘æ›´æ–°å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´</li>
</ul>
<h5 data-id="heading-21">4. ğŸ’¡ è¯»å†™åˆ†ç¦»</h5>
<ul>
<li>å†™æ“ä½œç›´æ¥æ›´æ–°æ•°æ®åº“ï¼Œä¸æ›´æ–°ç¼“å­˜</li>
<li>è¯»æ“ä½œå…ˆè¯»ç¼“å­˜ï¼Œç¼“å­˜æœªå‘½ä¸­åˆ™ä»æ•°æ®åº“åŠ è½½</li>
<li>é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯</li>
</ul>
<h3 data-id="heading-22">ğŸ“Š è¶£å‘³å¯¹æ¯”ï¼šä¸åŒå±‚çº§ç¼“å­˜çš„é€Ÿåº¦å’Œå®¹é‡å·®å¼‚</h3>






















































































<table><thead><tr><th>ç¼“å­˜å±‚çº§</th><th>å­˜å‚¨ä»‹è´¨</th><th>è®¿é—®é€Ÿåº¦</th><th>å®¹é‡å¤§å°</th><th>æˆæœ¬/GB</th><th>ç®¡ç†æ–¹å¼</th><th>å…¸å‹åº”ç”¨</th></tr></thead><tbody><tr><td>âš¡ L1 CPUç¼“å­˜</td><td>SRAM</td><td>&lt;1ns</td><td>å‡ åKB</td><td>$1,000,000+</td><td>ç¡¬ä»¶</td><td>CPUæŒ‡ä»¤å’Œæ•°æ®</td></tr><tr><td>ğŸ“ L2 CPUç¼“å­˜</td><td>SRAM</td><td>1-5ns</td><td>å‡ ç™¾KB</td><td>$500,000+</td><td>ç¡¬ä»¶</td><td>CPUå¸¸ç”¨æ•°æ®</td></tr><tr><td>ğŸ—„ï¸ L3 CPUç¼“å­˜</td><td>SRAM</td><td>5-10ns</td><td>å‡ MBåˆ°å‡ åMB</td><td>$100,000+</td><td>ç¡¬ä»¶</td><td>CPUå…±äº«æ•°æ®</td></tr><tr><td>ğŸ’» å†…å­˜ç¼“å­˜</td><td>DRAM</td><td>~100ns</td><td>å‡ GBåˆ°å‡ åGB</td><td>$100-500</td><td>è½¯ä»¶</td><td>æ“ä½œç³»ç»Ÿã€åº”ç”¨ç¨‹åº</td></tr><tr><td>ğŸ’¾ ç£ç›˜ç¼“å­˜</td><td>é—ªå­˜/DRAM</td><td>~5ms</td><td>å‡ åMBåˆ°å‡ GB</td><td>$10-100</td><td>ç¡¬ä»¶+è½¯ä»¶</td><td>ç¡¬ç›˜ã€RAIDæ§åˆ¶å™¨</td></tr><tr><td>ğŸŒ åˆ†å¸ƒå¼ç¼“å­˜</td><td>å†…å­˜é›†ç¾¤</td><td>~1ms</td><td>å‡ åGBåˆ°å‡ ç™¾GB</td><td>$100-300</td><td>è½¯ä»¶</td><td>äº’è”ç½‘åº”ç”¨ã€å¤§æ•°æ®å¹³å°</td></tr><tr><td>ğŸ“€ ç¡¬ç›˜</td><td>HDD</td><td>~10ms</td><td>å‡ TB</td><td>$0.1-1</td><td>è½¯ä»¶</td><td>æŒä¹…åŒ–å­˜å‚¨</td></tr><tr><td>ğŸ“¼ ç£å¸¦</td><td>ç£å¸¦</td><td>~100ms</td><td>å‡ åTB</td><td>$0.01-0.1</td><td>è½¯ä»¶</td><td>å½’æ¡£å­˜å‚¨</td></tr></tbody></table>
<h3 data-id="heading-23">ğŸ¢ ç¼“å­˜çš„åº”ç”¨åœºæ™¯ï¼šæ— å¤„ä¸åœ¨çš„ç¼“å­˜</h3>



























































<table><thead><tr><th>åº”ç”¨åœºæ™¯</th><th>ä¸¾ä¾‹</th><th>ç¼“å­˜æŠ€æœ¯</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>âš¡ äº’è”ç½‘åº”ç”¨</td><td>æ·˜å®ã€äº¬ä¸œ</td><td>Redisã€Memcached</td><td>å“åº”æ—¶é—´ä»å‡ ç™¾msé™åˆ°å‡ ms</td></tr><tr><td>ğŸ“± ç§»åŠ¨åº”ç”¨</td><td>å¾®ä¿¡ã€æŠ–éŸ³</td><td>æœ¬åœ°ç¼“å­˜+åˆ†å¸ƒå¼ç¼“å­˜</td><td>å‡å°‘ç½‘ç»œè¯·æ±‚ï¼ŒèŠ‚çœæµé‡</td></tr><tr><td>ğŸ® æ¸¸æˆ</td><td>ç‹è€…è£è€€ã€è‹±é›„è”ç›Ÿ</td><td>å†…å­˜ç¼“å­˜+Redis</td><td>å®æ—¶æ›´æ–°ç©å®¶æ•°æ®ï¼Œä½å»¶è¿Ÿ</td></tr><tr><td>ğŸ” æœç´¢å¼•æ“</td><td>ç™¾åº¦ã€Google</td><td>å€’æ’ç´¢å¼•ç¼“å­˜</td><td>æœç´¢ç»“æœå¿«é€Ÿè¿”å›</td></tr><tr><td>ğŸ“Š å¤§æ•°æ®å¹³å°</td><td>Hadoopã€Spark</td><td>å†…å­˜ç¼“å­˜</td><td>è®¡ç®—ç»“æœå¤ç”¨ï¼ŒåŠ é€Ÿå¤„ç†</td></tr><tr><td>ğŸ“š æ•°æ®åº“</td><td>MySQLã€Oracle</td><td>æŸ¥è¯¢ç¼“å­˜ã€ç¼“å†²æ± </td><td>å‡å°‘ç£ç›˜I/Oï¼Œæé«˜æŸ¥è¯¢é€Ÿåº¦</td></tr><tr><td>ğŸŒ CDN</td><td>é˜¿é‡Œäº‘CDNã€Cloudflare</td><td>è¾¹ç¼˜ç¼“å­˜</td><td>é™æ€èµ„æºå¿«é€Ÿè®¿é—®</td></tr><tr><td>ğŸ¯ æœºå™¨å­¦ä¹ </td><td>TensorFlowã€PyTorch</td><td>GPUç¼“å­˜</td><td>åŠ é€Ÿæ¨¡å‹è®­ç»ƒ</td></tr></tbody></table>
<h3 data-id="heading-24">ğŸ“ˆ æ•°æ®æ”¯æ’‘ï¼šç¼“å­˜çš„"ç¡¬æ ¸å®åŠ›"</h3>
<ul>
<li>âš¡ <strong>CPUç¼“å­˜å‘½ä¸­ç‡å¯è¾¾90%ä»¥ä¸Š</strong>ï¼Œå‡å°‘CPUç­‰å¾…æ—¶é—´</li>
<li>ğŸ’¨ <strong>åˆ†å¸ƒå¼ç¼“å­˜å¯å°†ç³»ç»Ÿå“åº”æ—¶é—´é™ä½50%ä»¥ä¸Š</strong></li>
<li>ğŸ“Š <strong>äº’è”ç½‘åº”ç”¨ä¸­ï¼Œ80%çš„è¯·æ±‚è®¿é—®20%çš„æ•°æ®</strong>ï¼ˆç¬¦åˆå¸•ç´¯æ‰˜æ³•åˆ™ï¼‰</li>
<li>ğŸ’° <strong>ç¼“å­˜å¯ä»¥å‡å°‘70%ä»¥ä¸Šçš„æ•°æ®åº“å‹åŠ›</strong>ï¼Œé™ä½ç¡¬ä»¶æˆæœ¬</li>
<li>ğŸ”„ <strong>Redisçš„QPSï¼ˆæ¯ç§’å¤„ç†è¯·æ±‚æ•°ï¼‰å¯è¾¾10ä¸‡ä»¥ä¸Š</strong>ï¼Œæ˜¯ä¼ ç»Ÿæ•°æ®åº“çš„100å€</li>
<li>ğŸš€ <strong>CDNå¯å°†é™æ€èµ„æºçš„åŠ è½½é€Ÿåº¦æé«˜3-5å€</strong></li>
<li>â±ï¸ <strong>å†…å­˜è®¿é—®é€Ÿåº¦æ˜¯ç¡¬ç›˜çš„1000å€ä»¥ä¸Š</strong></li>
</ul>
<h3 data-id="heading-25">ğŸ”§ ä»£ç å®ä¾‹ï¼šRedisåˆ†å¸ƒå¼ç¼“å­˜ä½¿ç”¨ç¤ºä¾‹</h3>
<p><strong>Python + Redis ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> redis
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># è¿æ¥Redis</span>
r = redis.Redis(host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-number">6379</span>, db=<span class="hljs-number">0</span>)

<span class="hljs-comment"># æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–æ•°æ®çš„å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_data_from_db</span>(<span class="hljs-params">key</span>):
    <span class="hljs-string">"""ä»æ•°æ®åº“è·å–æ•°æ®ï¼ˆæ¨¡æ‹Ÿè€—æ—¶æ“ä½œï¼‰"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“Š ä»æ•°æ®åº“è·å–æ•°æ®: <span class="hljs-subst">{key}</span>"</span>)
    time.sleep(<span class="hljs-number">1</span>)  <span class="hljs-comment"># æ¨¡æ‹Ÿæ•°æ®åº“æŸ¥è¯¢è€—æ—¶</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"æ•°æ®_<span class="hljs-subst">{key}</span>"</span>

<span class="hljs-comment"># ä½¿ç”¨ç¼“å­˜çš„å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_data</span>(<span class="hljs-params">key, cache_expire=<span class="hljs-number">3600</span></span>):
    <span class="hljs-string">"""ä»ç¼“å­˜è·å–æ•°æ®ï¼Œå¦‚æœç¼“å­˜æœªå‘½ä¸­åˆ™ä»æ•°æ®åº“åŠ è½½"""</span>
    <span class="hljs-comment"># å…ˆä»ç¼“å­˜è·å–</span>
    cached_data = r.get(key)
  
    <span class="hljs-keyword">if</span> cached_data:
        <span class="hljs-comment"># ç¼“å­˜å‘½ä¸­</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… ç¼“å­˜å‘½ä¸­: <span class="hljs-subst">{key}</span>"</span>)
        <span class="hljs-keyword">return</span> cached_data.decode(<span class="hljs-string">'utf-8'</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># ç¼“å­˜æœªå‘½ä¸­ï¼Œä»æ•°æ®åº“åŠ è½½</span>
        data = get_data_from_db(key)
        <span class="hljs-comment"># å°†æ•°æ®å­˜å…¥ç¼“å­˜</span>
        r.<span class="hljs-built_in">set</span>(key, data, ex=cache_expire)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ’¾ æ•°æ®å·²å­˜å…¥ç¼“å­˜: <span class="hljs-subst">{key}</span>"</span>)
        <span class="hljs-keyword">return</span> data

<span class="hljs-comment"># æµ‹è¯•ç¼“å­˜æ•ˆæœ</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ¯ æµ‹è¯•Redisç¼“å­˜æ•ˆæœ"</span>)
  
    <span class="hljs-comment"># ç¬¬ä¸€æ¬¡è®¿é—®ï¼Œç¼“å­˜æœªå‘½ä¸­</span>
    start_time = time.time()
    data1 = get_data(<span class="hljs-string">"user_123"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬ä¸€æ¬¡è®¿é—®è€—æ—¶: <span class="hljs-subst">{end_time - start_time:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®: <span class="hljs-subst">{data1}</span>"</span>)
    <span class="hljs-built_in">print</span>()
  
    <span class="hljs-comment"># ç¬¬äºŒæ¬¡è®¿é—®ï¼Œç¼“å­˜å‘½ä¸­</span>
    start_time = time.time()
    data2 = get_data(<span class="hljs-string">"user_123"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬äºŒæ¬¡è®¿é—®è€—æ—¶: <span class="hljs-subst">{end_time - start_time:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®: <span class="hljs-subst">{data2}</span>"</span>)
    <span class="hljs-built_in">print</span>()
  
    <span class="hljs-comment"># è®¿é—®å¦ä¸€ä¸ªkey</span>
    start_time = time.time()
    data3 = get_data(<span class="hljs-string">"product_456"</span>)
    end_time = time.time()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¿é—®æ–°keyè€—æ—¶: <span class="hljs-subst">{end_time - start_time:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ•°æ®: <span class="hljs-subst">{data3}</span>"</span>)
    <span class="hljs-built_in">print</span>()
  
    <span class="hljs-comment"># è¾“å‡º</span>
    <span class="hljs-comment"># ğŸ¯ æµ‹è¯•Redisç¼“å­˜æ•ˆæœ</span>
    <span class="hljs-comment"># ğŸ“Š ä»æ•°æ®åº“è·å–æ•°æ®: user_123</span>
    <span class="hljs-comment"># ğŸ’¾ æ•°æ®å·²å­˜å…¥ç¼“å­˜: user_123</span>
    <span class="hljs-comment"># ç¬¬ä¸€æ¬¡è®¿é—®è€—æ—¶: 1.01ç§’</span>
    <span class="hljs-comment"># æ•°æ®: æ•°æ®_user_123</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># âœ… ç¼“å­˜å‘½ä¸­: user_123</span>
    <span class="hljs-comment"># ç¬¬äºŒæ¬¡è®¿é—®è€—æ—¶: 0.01ç§’</span>
    <span class="hljs-comment"># æ•°æ®: æ•°æ®_user_123</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># ğŸ“Š ä»æ•°æ®åº“è·å–æ•°æ®: product_456</span>
    <span class="hljs-comment"># ğŸ’¾ æ•°æ®å·²å­˜å…¥ç¼“å­˜: product_456</span>
    <span class="hljs-comment"># è®¿é—®æ–°keyè€—æ—¶: 1.01ç§’</span>
    <span class="hljs-comment"># æ•°æ®: æ•°æ®_product_456</span>
</code></pre>
<h3 data-id="heading-26">âš ï¸ å¸¸è§è¯¯åŒºçº æ­£</h3>
<h4 data-id="heading-27">1. "ç¼“å­˜å®¹é‡è¶Šå¤§è¶Šå¥½ï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> ç¼“å­˜å®¹é‡å¹¶éè¶Šå¤§è¶Šå¥½ï¼š</p>
<ul>
<li>ğŸ’° æˆæœ¬é«˜ï¼šé«˜é€Ÿå­˜å‚¨çš„æˆæœ¬æ˜¯ä½é€Ÿå­˜å‚¨çš„100å€ä»¥ä¸Š</li>
<li>â±ï¸ ç¼“å­˜ç®¡ç†å¼€é”€å¤§ï¼šå®¹é‡è¶Šå¤§ï¼Œç®¡ç†è¶Šå¤æ‚</li>
<li>ğŸ” å‘½ä¸­ç‡è¾¹é™…æ•ˆåº”ï¼šå½“å®¹é‡è¶…è¿‡ä¸€å®šå€¼ï¼Œå‘½ä¸­ç‡æå‡ä¸æ˜æ˜¾</li>
</ul>
<h4 data-id="heading-28">2. "ç¼“å­˜èƒ½è§£å†³æ‰€æœ‰æ€§èƒ½é—®é¢˜ï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> ç¼“å­˜ä¸æ˜¯"é“¶å¼¹"ï¼š</p>
<ul>
<li>ğŸ”„ ç¼“å­˜å¤±æ•ˆï¼šå½“æ•°æ®é¢‘ç¹å˜åŒ–æ—¶ï¼Œç¼“å­˜å‘½ä¸­ç‡ä¼šå¾ˆä½</li>
<li>ğŸ”§ å¼•å…¥å¤æ‚æ€§ï¼šéœ€è¦å¤„ç†ç¼“å­˜ä¸€è‡´æ€§ã€ç©¿é€ã€å‡»ç©¿ã€é›ªå´©ç­‰é—®é¢˜</li>
<li>ğŸ“Š ä¸é€‚ç”¨äºæ‰€æœ‰åœºæ™¯ï¼šå¯¹äºä¸€æ¬¡æ€§è®¿é—®çš„æ•°æ®ï¼Œç¼“å­˜æ²¡æœ‰æ„ä¹‰</li>
</ul>
<h4 data-id="heading-29">3. "åˆ†å¸ƒå¼ç¼“å­˜ä¸€å®šæ¯”å•æœºç¼“å­˜å¥½ï¼Ÿ"</h4>
<p><strong>ä¸ä¸€å®šï¼</strong> åˆ†å¸ƒå¼ç¼“å­˜çš„é€‰æ‹©å–å†³äºåœºæ™¯ï¼š</p>
<ul>
<li>ğŸ¢ å¤§è§„æ¨¡åº”ç”¨ï¼šéœ€è¦åˆ†å¸ƒå¼ç¼“å­˜</li>
<li>ğŸ  å°å‹åº”ç”¨ï¼šå•æœºç¼“å­˜è¶³å¤Ÿï¼Œç»´æŠ¤ç®€å•</li>
<li>âš¡ æ€§èƒ½è¦æ±‚æé«˜ï¼šå•æœºç¼“å­˜å¯èƒ½æ›´å¿«ï¼ˆæ— ç½‘ç»œå¼€é”€ï¼‰</li>
</ul>
<h4 data-id="heading-30">4. "ç¼“å­˜ç©¿é€å’Œç¼“å­˜å‡»ç©¿æ˜¯ä¸€å›äº‹ï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> å®ƒä»¬æ˜¯ä¸åŒçš„æ¦‚å¿µï¼š</p>
<ul>
<li>ğŸ” <strong>ç¼“å­˜ç©¿é€</strong>ï¼šè®¿é—®ä¸å­˜åœ¨çš„æ•°æ®ï¼Œç¼“å­˜å’Œæ•°æ®åº“éƒ½æ²¡æœ‰</li>
<li>ğŸ’¥ <strong>ç¼“å­˜å‡»ç©¿</strong>ï¼šçƒ­ç‚¹æ•°æ®è¿‡æœŸï¼Œå¤§é‡è¯·æ±‚åŒæ—¶è®¿é—®ï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›éª¤å¢</li>
<li>â„ï¸ <strong>ç¼“å­˜é›ªå´©</strong>ï¼šå¤§é‡ç¼“å­˜åŒæ—¶è¿‡æœŸï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›éª¤å¢</li>
</ul>
<h4 data-id="heading-31">5. "Redisæ˜¯å”¯ä¸€çš„åˆ†å¸ƒå¼ç¼“å­˜é€‰æ‹©ï¼Ÿ"</h4>
<p><strong>é”™ï¼</strong> è¿˜æœ‰å¾ˆå¤šå…¶ä»–é€‰æ‹©ï¼š</p>
<ul>
<li>ğŸ“¦ <strong>Memcached</strong>ï¼šç®€å•é«˜æ•ˆï¼Œé€‚åˆçº¯ç¼“å­˜åœºæ™¯</li>
<li>ğŸ”§ <strong>Tair</strong>ï¼šé˜¿é‡Œå·´å·´å¼€æºï¼Œæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“</li>
<li>ğŸŒ <strong>ElastiCache</strong>ï¼šAWSæ‰˜ç®¡ï¼Œæ”¯æŒRediså’ŒMemcached</li>
<li>ğŸ¯ <strong>Hazelcast</strong>ï¼šåˆ†å¸ƒå¼å†…å­˜æ•°æ®ç½‘æ ¼</li>
<li>ğŸ’ª <strong>Ignite</strong>ï¼šé«˜æ€§èƒ½åˆ†å¸ƒå¼ç¼“å­˜</li>
</ul>
<h3 data-id="heading-32">ğŸ”® æœªæ¥å±•æœ›ï¼šç¼“å­˜æŠ€æœ¯çš„å‘å±•è¶‹åŠ¿</h3>
<h4 data-id="heading-33">1. ğŸ¤– AIé©±åŠ¨çš„ç¼“å­˜</h4>
<p>AIå°†èå…¥ç¼“å­˜çš„å„ä¸ªç¯èŠ‚ï¼š</p>
<ul>
<li><strong>æ™ºèƒ½é¢„æµ‹</strong>ï¼šé¢„æµ‹æœªæ¥çš„è®¿é—®æ¨¡å¼ï¼Œæå‰åŠ è½½æ•°æ®</li>
<li><strong>è‡ªé€‚åº”è°ƒæ•´</strong>ï¼šæ ¹æ®è®¿é—®æ¨¡å¼è‡ªåŠ¨è°ƒæ•´ç¼“å­˜å®¹é‡å’Œæ›¿æ¢ç­–ç•¥</li>
<li><strong>å¼‚å¸¸æ£€æµ‹</strong>ï¼šè‡ªåŠ¨æ£€æµ‹ç¼“å­˜çƒ­ç‚¹å’Œå¼‚å¸¸è®¿é—®</li>
</ul>
<h4 data-id="heading-34">2. â˜ï¸ äº‘åŸç”Ÿç¼“å­˜</h4>
<p>éšç€äº‘è®¡ç®—çš„æ™®åŠï¼Œäº‘åŸç”Ÿç¼“å­˜å°†æˆä¸ºä¸»æµï¼š</p>
<ul>
<li><strong>Serverlessç¼“å­˜</strong>ï¼šæ— éœ€ç®¡ç†æœåŠ¡å™¨ï¼ŒæŒ‰éœ€ä»˜è´¹</li>
<li><strong>è¾¹ç¼˜ç¼“å­˜</strong>ï¼šå°†ç¼“å­˜éƒ¨ç½²åœ¨è¾¹ç¼˜èŠ‚ç‚¹ï¼Œå‡å°‘å»¶è¿Ÿ</li>
<li><strong>å¤šäº‘ç¼“å­˜</strong>ï¼šæ”¯æŒè·¨äº‘éƒ¨ç½²ï¼Œæé«˜å¯ç”¨æ€§</li>
</ul>
<h4 data-id="heading-35">3. ğŸš€ æ–°å‹å­˜å‚¨ä»‹è´¨</h4>
<p>æ–°å‹å­˜å‚¨ä»‹è´¨å°†æ”¹å˜ç¼“å­˜æ ¼å±€ï¼š</p>
<ul>
<li><strong>3D XPoint</strong>ï¼šé€Ÿåº¦æ¥è¿‘DRAMï¼Œå®¹é‡æ¥è¿‘NAND Flash</li>
<li><strong>MRAM</strong>ï¼šéæ˜“å¤±æ€§ï¼Œé€Ÿåº¦å¿«ï¼Œå¯¿å‘½é•¿</li>
<li><strong>ReRAM</strong>ï¼šç”µé˜»å¼å†…å­˜ï¼Œå¯†åº¦é«˜ï¼ŒåŠŸè€—ä½</li>
</ul>
<h4 data-id="heading-36">4. ğŸ”„ ç¼“å­˜ä¸è®¡ç®—èåˆ</h4>
<p>ç¼“å­˜å’Œè®¡ç®—çš„è¾¹ç•Œå°†è¶Šæ¥è¶Šæ¨¡ç³Šï¼š</p>
<ul>
<li><strong>è®¡ç®—è¿‘æ•°æ®</strong>ï¼šå°†è®¡ç®—èƒ½åŠ›åµŒå…¥å­˜å‚¨è®¾å¤‡</li>
<li><strong>å†…å­˜è®¡ç®—</strong>ï¼šç›´æ¥åœ¨å†…å­˜ä¸­è¿›è¡Œè®¡ç®—</li>
<li><strong>GPUç¼“å­˜</strong>ï¼šåŠ é€ŸAIå’Œå›¾å½¢è®¡ç®—</li>
</ul>
<h3 data-id="heading-37">ğŸ“ äº’åŠ¨å°æµ‹éªŒï¼šä½ ç­”å¯¹äº†å—ï¼Ÿ</h3>


















































<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>ç¼“å­˜çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>ç”¨ç©ºé—´æ¢æ—¶é—´</td><td>âœ…/âŒ</td></tr><tr><td>å±€éƒ¨æ€§åŸç†åŒ…æ‹¬å“ªä¸¤ç§ï¼Ÿ</td><td>æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§</td><td>âœ…/âŒ</td></tr><tr><td>æœ€å¸¸ç”¨çš„ç¼“å­˜æ›¿æ¢ç®—æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰</td><td>âœ…/âŒ</td></tr><tr><td>CPUç¼“å­˜çš„å‘½ä¸­ç‡å¯è¾¾å¤šå°‘ï¼Ÿ</td><td>90%ä»¥ä¸Š</td><td>âœ…/âŒ</td></tr><tr><td>Redisçš„QPSå¯è¾¾å¤šå°‘ï¼Ÿ</td><td>10ä¸‡ä»¥ä¸Š</td><td>âœ…/âŒ</td></tr><tr><td>ç¼“å­˜å‡»ç©¿æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>çƒ­ç‚¹æ•°æ®è¿‡æœŸå¯¼è‡´æ•°æ®åº“å‹åŠ›éª¤å¢</td><td>âœ…/âŒ</td></tr><tr><td>ç¼“å­˜ä¸€è‡´æ€§çš„è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ</td><td>æ›´æ–°ç¼“å­˜ã€åˆ é™¤ç¼“å­˜ã€å¼‚æ­¥æ›´æ–°ç­‰</td><td>âœ…/âŒ</td></tr><tr><td>å†…å­˜è®¿é—®é€Ÿåº¦æ˜¯ç¡¬ç›˜çš„å¤šå°‘å€ï¼Ÿ</td><td>1000å€ä»¥ä¸Š</td><td>âœ…/âŒ</td></tr></tbody></table>
<h3 data-id="heading-38">ğŸ¯ ç»“è¯­ï¼šç¼“å­˜â€”â€”ç³»ç»Ÿæ€§èƒ½çš„"åŠ é€Ÿå™¨"</h3>
<p>ä»CPUç¼“å­˜åˆ°åˆ†å¸ƒå¼ç¼“å­˜ï¼Œç¼“å­˜æŠ€æœ¯å·²ç»æˆä¸º<strong>ç°ä»£è®¡ç®—æœºç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶</strong>ï¼</p>
<p><strong>è®°ä½</strong>ï¼š</p>
<ul>
<li>âš¡ ç¼“å­˜æ˜¯"ç”¨ç©ºé—´æ¢æ—¶é—´"çš„å…¸å‹åº”ç”¨</li>
<li>ğŸ“Š å±€éƒ¨æ€§åŸç†æ˜¯ç¼“å­˜å­˜åœ¨çš„ç†è®ºåŸºç¡€</li>
<li>ğŸ¯ å‘½ä¸­ç‡æ˜¯è¡¡é‡ç¼“å­˜æ•ˆæœçš„æ ¸å¿ƒæŒ‡æ ‡</li>
<li>ğŸ”„ å¥½çš„æ›¿æ¢ç­–ç•¥èƒ½æé«˜å‘½ä¸­ç‡</li>
<li>ğŸ’¡ ç¼“å­˜ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œéœ€è¦æ ¹æ®åœºæ™¯é€‰æ‹©</li>
</ul>
<p>ä¸‹æ¬¡å½“ä½ ä½¿ç”¨æ‰‹æœºAPPã€æµè§ˆç½‘é¡µã€ç©æ¸¸æˆæ—¶ï¼Œä¸å¦¨æƒ³æƒ³èƒŒåçš„ç¼“å­˜æŠ€æœ¯â€”â€”æ­£æ˜¯è¿™äº›çœ‹ä¸è§çš„"åŠ é€Ÿå™¨"ï¼Œè®©æˆ‘ä»¬çš„æ•°å­—ç”Ÿæ´»å˜å¾—æ›´åŠ æµç•…å’Œä¾¿æ·ï¼</p>
<h3 data-id="heading-39">ğŸ’¬ äº’åŠ¨è¯é¢˜</h3>
<ol>
<li>ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡å“ªäº›ç¼“å­˜æŠ€æœ¯ï¼Ÿæ•ˆæœå¦‚ä½•ï¼Ÿ</li>
<li>ä½ é‡åˆ°è¿‡å“ªäº›ç¼“å­˜ç›¸å…³çš„é—®é¢˜ï¼Ÿæœ€åæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ</li>
<li>ä½ è§‰å¾—æœªæ¥çš„ç¼“å­˜æŠ€æœ¯ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</li>
<li>å¦‚æœä½ è®¾è®¡ç¼“å­˜ç³»ç»Ÿï¼Œä¼šè€ƒè™‘å“ªäº›å› ç´ ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>