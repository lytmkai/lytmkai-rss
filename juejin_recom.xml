<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[PicGo:ä¸ºé«˜æ•ˆåˆ›ä½œè€…è€Œç”Ÿçš„ç»ˆæå›¾ç‰‡ä¸Šä¼ å·¥å…·]]></title>    <link>https://juejin.cn/post/7598767580306243638</link>    <guid>https://juejin.cn/post/7598767580306243638</guid>    <pubDate>2026-01-25T15:04:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598767580306243638" data-draft-id="7598737609494675475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PicGo:ä¸ºé«˜æ•ˆåˆ›ä½œè€…è€Œç”Ÿçš„ç»ˆæå›¾ç‰‡ä¸Šä¼ å·¥å…·"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-01-25T15:04:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PicGo:ä¸ºé«˜æ•ˆåˆ›ä½œè€…è€Œç”Ÿçš„ç»ˆæå›¾ç‰‡ä¸Šä¼ å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T15:04:33.000Z" title="Sun Jan 25 2026 15:04:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†…å®¹åˆ›ä½œçš„ä¸–ç•Œé‡Œï¼Œå›¾ç‰‡å¤„ç†å¸¸å¸¸æ˜¯æ‰“æ–­åˆ›ä½œæµç¨‹çš„â€œç»Šè„šçŸ³â€ã€‚å†™åšå®¢ã€åšç¬”è®°ã€ç¼–å†™æŠ€æœ¯æ–‡æ¡£æ—¶ï¼Œå¦‚ä½•å¿«é€Ÿã€ä¼˜é›…åœ°ä¸Šä¼ å¹¶å¼•ç”¨å›¾ç‰‡ï¼Ÿä»Šå¤©æˆ‘è¦å‘å¤§å®¶æ¨èä¸€æ¬¾å ªç§°â€œç¥å™¨â€çš„å¼€æºå·¥å…·â€”â€”PicGoã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d924c99857941b6a08098b6b74d1912~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=w0%2FIRtk8IW1fNuag2xaVbkNoe3M%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">â“PicGoæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>PicGoæ˜¯ä¸€æ¬¾è·¨å¹³å°çš„æ¡Œé¢åº”ç”¨ï¼Œè‡´åŠ›äº<strong>å°†å›¾ç‰‡ä¸Šä¼ æ— ç¼é›†æˆåˆ°ä½ çš„åˆ›ä½œå·¥ä½œæµä¸­</strong>ã€‚æ— è®ºä½ æ˜¯Markdownçˆ±å¥½è€…ã€æŠ€æœ¯åšä¸»ï¼Œè¿˜æ˜¯æ—¥å¸¸éœ€è¦å¤„ç†å›¾ç‰‡çš„åˆ›ä½œè€…ï¼ŒPicGoéƒ½èƒ½è®©ä½ å½»åº•å‘Šåˆ«ç¹ççš„ä¸Šä¼ æ­¥éª¤ã€‚</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMolunerfinn%2FPicGo" target="_blank" title="https://github.com/Molunerfinn/PicGo" ref="nofollow noopener noreferrer">github.com/Molunerfinnâ€¦</a></p>
<p>å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpicgo.app%2F" target="_blank" title="https://picgo.app/" ref="nofollow noopener noreferrer">picgo.app/</a></p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.picgo.app%2Fzh%2F" target="_blank" title="https://docs.picgo.app/zh/" ref="nofollow noopener noreferrer">docs.picgo.app/zh/</a></p>
<p>è¯¥é¡¹ç›®ç›®å‰åœ¨githubå·²æœ‰26.2k â­ï¸ star</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3232e42e9afa4459806cf931602c3888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=WvtfnFnVhv4ijT3cPe54Uau1MpQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">âœ”ï¸ä¸ºä»€ä¹ˆä½ éœ€è¦PicGoï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä½ åœ¨å†™ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œéœ€è¦æ’å…¥å¤šå¼ æˆªå›¾ã€‚ä¼ ç»Ÿæµç¨‹æ˜¯ï¼š</p>
<ol>
<li>æˆªå›¾ä¿å­˜</li>
<li>æ‰“å¼€æµè§ˆå™¨</li>
<li>ç™»å½•å›¾åºŠ</li>
<li>ä¸Šä¼ å›¾ç‰‡</li>
<li>å¤åˆ¶é“¾æ¥</li>
<li>å›åˆ°ç¼–è¾‘å™¨ç²˜è´´</li>
</ol>
<p><strong>PicGoå°†è¿™ä¸ªå…­æ­¥æµç¨‹ç®€åŒ–ä¸ºä¸€é”®æ“ä½œ</strong>ã€‚</p>
<h2 data-id="heading-2">ğŸ¯æ ¸å¿ƒåŠŸèƒ½äº®ç‚¹</h2>
<h3 data-id="heading-3">ğŸ“¸ å¤šç»´åº¦ä¸Šä¼ æ–¹å¼</h3>
<ul>
<li><strong>æ‹–æ‹½ä¸Šä¼ </strong>ï¼šæŠŠå›¾ç‰‡ç›´æ¥æ‹–åˆ°PicGoçª—å£</li>
<li><strong>å‰ªè´´æ¿ç²˜è´´</strong>ï¼šæˆªå›¾åç›´æ¥ç²˜è´´åˆ°PicGo</li>
<li><strong>å¿«æ·é”®ä¸Šä¼ </strong>ï¼šé»˜è®¤<code>Cmd/Ctrl+Shift+P</code>å¿«é€Ÿå”¤èµ·</li>
<li><strong>å³é”®èœå•ä¸Šä¼ </strong>ï¼šåœ¨macOS/Windowsä¸Šå³é”®å›¾ç‰‡å³å¯ä¸Šä¼ </li>
</ul>
<h3 data-id="heading-4">ğŸ”— æ™ºèƒ½é“¾æ¥å¤„ç†</h3>
<p>ä¸Šä¼ æˆåŠŸåï¼ŒPicGoä¼šè‡ªåŠ¨å°†é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¹¶æ”¯æŒå¤šç§æ ¼å¼ï¼š</p>
<ul>
<li>Markdownæ ¼å¼ï¼š<code>![å›¾ç‰‡æè¿°](é“¾æ¥)</code></li>
<li>HTMLæ ¼å¼ï¼š<code>&lt;img src="é“¾æ¥" alt="æè¿°"&gt;</code></li>
<li>åŸå§‹URL</li>
<li>è‡ªå®šä¹‰æ¨¡æ¿</li>
</ul>
<h3 data-id="heading-5">â˜ï¸ å¹¿æ³›çš„å›¾åºŠæ”¯æŒ</h3>
<p>PicGoåŸç”Ÿæ”¯æŒä¸»æµå›¾åºŠå¹³å°ï¼š</p>
<ul>
<li><strong>å›½å†…äº‘æœåŠ¡</strong>ï¼šä¸ƒç‰›äº‘ã€è…¾è®¯äº‘COSã€åˆæ‹äº‘ã€é˜¿é‡Œäº‘OSS</li>
<li><strong>å›½é™…å¹³å°</strong>ï¼šGitHubã€SM.MSã€Imgur</li>
<li><strong>æ— é™æ‰©å±•</strong>ï¼šé€šè¿‡æ’ä»¶æ”¯æŒAWS S3ã€Cloudflare R2ã€MinIOã€cheveretoç­‰</li>
</ul>
<h3 data-id="heading-6">ğŸ”Œ å¼ºå¤§çš„æ’ä»¶ç”Ÿæ€</h3>
<p>PicGoæ‹¥æœ‰ä¸°å¯Œçš„æ’ä»¶ç³»ç»Ÿï¼Œä½ å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPicGo%2FAwesome-PicGo" target="_blank" title="https://github.com/PicGo/Awesome-PicGo" ref="nofollow noopener noreferrer">Awesome-PicGo</a>ä¸­æ‰¾åˆ°ï¼š</p>
<ul>
<li>å›¾ç‰‡å‹ç¼©æ’ä»¶</li>
<li>æ°´å°æ·»åŠ æ’ä»¶</li>
<li>æ–‡ä»¶åé‡å‘½åæ’ä»¶</li>
<li>Markdownå›¾ç‰‡è¿ç§»å·¥å…·</li>
<li>æ›´å¤šç¬¬ä¸‰æ–¹å›¾åºŠæ”¯æŒ</li>
</ul>
<h3 data-id="heading-7">ğŸ’» å¼€å‘è€…å‹å¥½ç‰¹æ€§</h3>
<p>å¯¹äºæŠ€æœ¯ç”¨æˆ·ï¼ŒPicGoæä¾›äº†æ›´å¤šé«˜çº§åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>HTTP APIæ”¯æŒ</strong>ï¼šv2.2.0+ç‰ˆæœ¬å¯é€šè¿‡HTTPè¯·æ±‚è°ƒç”¨ä¸Šä¼ </li>
<li><strong>å‘½ä»¤è¡Œæ¥å£</strong>ï¼šå®Œç¾é›†æˆåˆ°Shellè„šæœ¬å’ŒCI/CDæµç¨‹</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸€è¡Œå‘½ä»¤ä¸Šä¼ å›¾ç‰‡</span>
npx picgo upload /path/to/image.png
</code></pre>
<ul>
<li><strong>Node.js SDK</strong>ï¼šè½»æ¾é›†æˆåˆ°ä½ çš„åº”ç”¨ä¸­</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">PicGo</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'picgo'</span>)
<span class="hljs-keyword">const</span> picgo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PicGo</span>()
picgo.<span class="hljs-title function_">upload</span>([<span class="hljs-string">'/path/to/image.png'</span>])
</code></pre>
<h2 data-id="heading-8">ğŸš€æ— ç¼é›†æˆä½ çš„å·¥ä½œæµ</h2>
<p>PicGoæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºâ€œéšå½¢â€â€”â€”å®ƒèƒ½åœ¨ä½ å‡ ä¹å¯Ÿè§‰ä¸åˆ°çš„æƒ…å†µä¸‹å·¥ä½œï¼š</p>
<h3 data-id="heading-9">âœï¸ç¼–è¾‘å™¨é›†æˆ</h3>
<p>é€šè¿‡åŸç”Ÿæ”¯æŒæˆ–ç¤¾åŒºæ’ä»¶ï¼ŒPicGoå¯ä»¥ä¸å‡ ä¹æ‰€æœ‰ä¸»æµç¼–è¾‘å™¨æ— ç¼åä½œï¼š</p>
<ul>
<li><strong>Obsidian</strong>ï¼šçŸ¥è¯†ç®¡ç†ç¥å™¨</li>
<li><strong>VS Code</strong>ï¼šç¨‹åºå‘˜çš„æœ€çˆ±</li>
<li><strong>Typora</strong>ï¼šä¼˜é›…çš„Markdownç¼–è¾‘å™¨</li>
<li><strong>Neovim</strong>ï¼šç»ˆç«¯ç¼–è¾‘å™¨ç‹è€…</li>
<li><strong>MarkText</strong>ï¼šå¼€æºMarkdownç¼–è¾‘å™¨</li>
<li><strong>æ€æºç¬”è®°</strong>ï¼šæ–°ä¸€ä»£çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ</li>
<li><strong>Yank Note</strong>ï¼šå¯æ‰©å±•çš„Markdownç¼–è¾‘å™¨</li>
</ul>
<h3 data-id="heading-10">ğŸ”„é›¶ä¸Šä¸‹æ–‡åˆ‡æ¢</h3>
<p>ä½ ä¸éœ€è¦ç¦»å¼€å½“å‰çš„ç¼–è¾‘å™¨çª—å£ã€‚åªéœ€æˆªå›¾ã€ç²˜è´´ï¼ˆæˆ–æ‹–æ‹½ï¼‰ï¼ŒPicGoåœ¨åå°é»˜é»˜å®Œæˆä¸Šä¼ ï¼Œå¹¶å°†æ ¼å¼åŒ–å¥½çš„é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œä½ åªéœ€è¦ç²˜è´´å³å¯ã€‚</p>
<h2 data-id="heading-11">ğŸ“¦å®‰è£…ä¸ä½¿ç”¨</h2>
<h3 data-id="heading-12">ğŸ“¥å¤šç§å®‰è£…æ–¹å¼</h3>
<p>PicGoæä¾›äº†ä¸°å¯Œçš„å®‰è£…æ¸ é“ï¼Œç¡®ä¿æ— è®ºä½ åœ¨å“ªä¸ªå¹³å°éƒ½èƒ½è½»æ¾è·å–ï¼š</p>





























<table><thead><tr><th>å¹³å°</th><th>å®‰è£…æ–¹å¼</th></tr></thead><tbody><tr><td>Windows</td><td>Scoop: <code>scoop install picgo</code> Chocolatey: <code>choco install picgo</code></td></tr><tr><td>macOS</td><td>Homebrew: <code>brew install picgo --cask</code></td></tr><tr><td>Linux</td><td>AUR: <code>yay -S picgo-appimage</code></td></tr><tr><td>æ‰€æœ‰å¹³å°</td><td>GitHub Release:<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMolunerfinn%2FPicGo%2Freleases" target="_blank" title="https://github.com/Molunerfinn/PicGo/releases" ref="nofollow noopener noreferrer">github.com/Molunerfinnâ€¦</a></td></tr><tr><td>å›½å†…ç”¨æˆ·</td><td>å±±ä¸œå¤§å­¦é•œåƒç«™:<a href="https://link.juejin.cn?target=https%3A%2F%2Fmirrors.sdu.edu.cn%2Fgithub-release%2FMolunerfinn_PicGo" target="_blank" title="https://mirrors.sdu.edu.cn/github-release/Molunerfinn_PicGo" ref="nofollow noopener noreferrer">mirrors.sdu.edu.cn/github-releâ€¦</a></td></tr></tbody></table>
<h3 data-id="heading-13">ğŸƒå¿«é€Ÿä¸Šæ‰‹</h3>
<ol>
<li>ä¸‹è½½å¹¶å®‰è£…PicGo</li>
<li>é…ç½®ä½ å–œæ¬¢çš„å›¾åºŠï¼ˆæ”¯æŒå¤šç§å¹³å°ï¼‰</li>
<li>å¼€å§‹äº«å—ä¸€é”®ä¸Šä¼ çš„ä¾¿æ·</li>
</ol>
<p>ç¬¬ä¸€æ¬¡ä½¿ç”¨å¯ä»¥å‚è€ƒå®˜æ–¹[ä½¿ç”¨æ–‡æ¡£]<a href="https://link.juejin.cn?target=https%3A%2F%2Fpicgo.github.io%2FPicGo-Doc%2Fguide%2Fgetting-started.html" target="_blank" title="https://picgo.github.io/PicGo-Doc/guide/getting-started.html" ref="nofollow noopener noreferrer">picgo.github.io/PicGo-Doc/gâ€¦</a>ã€‚</p>
<p>æˆ‘ä¸€ç›´ä½¿ç”¨çš„æ˜¯å¼€æºå›¾åºŠchevereto,ä»¥ä¸‹æ˜¯é…ç½®ç¤ºä¾‹ï¼š</p>
<ul>
<li>åœ¨picgoæ’ä»¶è®¾ç½®ä¸­æŸ¥è¯¢<code>chevereto</code>æ’ä»¶å¹¶å®‰è£…ï¼ˆæœç´¢æ—¶åªæ˜¯ç”¨é¦–å­—æ¯æœç´¢å³å¯ï¼‰ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e34828244b844fc7a36b689b0f3a102f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=5GuvoEffpYfuF3FFo6SvCAburnU%3D" alt="" loading="lazy"/></li>
<li>åœ¨chevereto ä¸­å¤åˆ¶api-keyï¼ˆDashboard-&gt;setting-&gt;apiï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98aff837fbb448edad426c113d4b4cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=5alqroESR8iOZ8DHhem98xD%2FtsA%3D" alt="" loading="lazy"/></p>
<ul>
<li>åœ¨picgo å›¾åºŠè®¾ç½®ä¸­è®¾ç½®chevereto çš„å‚æ•°</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f03ad086016a4b019f98aa3d53c2208b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=ugnafqPSPkzYieQyKThikkYiLNA%3D" alt="" loading="lazy"/></p>
<ul>
<li>åœ¨ä¸Šä¼ åŒºä¸Šä¼ ç…§ç‰‡ï¼Œåœ¨ç›¸å†Œå¤„æŸ¥çœ‹åŠå¤åˆ¶æ‰€éœ€é“¾æ¥</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67208861cc4246c18dc648ac2c758dbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=U7CAWphzRhZTLcZSOmmBxfVG7uU%3D" alt="" loading="lazy"/></p>
<ul>
<li>åœ¨å…¶å®ƒæ”¯æŒé…ç½®picgoçš„ç¼–è¾‘å™¨æˆ–è€…ç¬”è®°è½¯ä»¶ä¸­å¯ç”¨é…ç½®picgo</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4e1e43e45714dedabd924e7ba8ef5b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=yaGA8tcFDsYpXT20zLJwAQcJqSE%3D" alt="" loading="lazy"/></p>
<ul>
<li>é…ç½®å®Œæˆåæˆ‘ä»¬å°±ç›´æ¥å¯ä»¥åœ¨ç¼–è¯‘å™¨æˆ–è€…ç¬”è®°ä¸­é€šè¿‡ <code>CTRL+C</code>ã€<code>CTRL+V</code> ç›´æ¥æ’å…¥å›¾ç‰‡äº†</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6ba21b440074ec2a0c46d6cddee782d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769958272&amp;x-signature=yXJoGaOVRdF6jXEA8a9vdA4oK5I%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">ğŸ“±ç§»åŠ¨ç«¯æ”¯æŒ</h2>
<p>é™¤äº†æ¡Œé¢ç«¯ï¼ŒPicGoç”Ÿæ€è¿˜æœ‰ç§»åŠ¨ç«¯åº”ç”¨ï¼š</p>
<ul>
<li>flutter-picgo <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPicGo%2Fflutter-picgo" target="_blank" title="https://github.com/PicGo/flutter-picgo" ref="nofollow noopener noreferrer">github.com/PicGo/fluttâ€¦</a>ï¼šæ”¯æŒAndroidå’ŒiOS</li>
<li>PicHoro <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FKuingsmile%2FPicHoro" target="_blank" title="https://github.com/Kuingsmile/PicHoro" ref="nofollow noopener noreferrer">github.com/Kuingsmile/â€¦</a>ï¼šå¦ä¸€æ¬¾Androidåº”ç”¨</li>
</ul>
<h2 data-id="heading-15">ğŸ¯ç»“è¯­</h2>
<p>åœ¨æ•ˆç‡è‡³ä¸Šçš„ä»Šå¤©ï¼Œæ¯ä¸€ç§’çš„æ³¨æ„åŠ›éƒ½å¼¥è¶³çè´µã€‚PicGoæ­£æ˜¯è¿™æ ·ä¸€æ¬¾å·¥å…·â€”â€”å®ƒä¸è¿½æ±‚èŠ±å“¨çš„åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸“æ³¨äºè§£å†³åˆ›ä½œè€…æœ€å®é™…çš„ç—›ç‚¹ï¼š<strong>è®©å›¾ç‰‡ä¸Šä¼ å˜å¾—æ— æ„Ÿï¼Œè®©ä½ ä¸“æ³¨äºå†…å®¹æœ¬èº«</strong>ã€‚</p>
<p>æ— è®ºä½ æ˜¯æŠ€æœ¯åšä¸»ã€æ–‡æ¡£å·¥ç¨‹å¸ˆï¼Œè¿˜æ˜¯æ—¥å¸¸éœ€è¦å¤„ç†å›¾ç‰‡çš„åˆ›ä½œè€…ï¼ŒPicGoéƒ½èƒ½æ˜¾è‘—æå‡ä½ çš„å·¥ä½œæ•ˆç‡ã€‚ä»Šå¤©å°±è¯•è¯•å§ï¼Œä½ ä¼šå‘ç°ï¼ŒåŸæ¥å›¾ç‰‡ç®¡ç†å¯ä»¥å¦‚æ­¤ç®€å•ä¼˜é›…ã€‚</p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmdnice.com%2F%3Ffrom%3Djuejin" target="_blank" title="https://mdnice.com/?from=juejin" ref="nofollow noopener noreferrer">mdnice</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Button Pattern è¯¦è§£]]></title>    <link>https://juejin.cn/post/7598737609494773779</link>    <guid>https://juejin.cn/post/7598737609494773779</guid>    <pubDate>2026-01-25T15:24:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598737609494773779" data-draft-id="7598699872552992804" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Button Pattern è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,HTML"/> <meta itemprop="datePublished" content="2026-01-25T15:24:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="anOnion"/> <meta itemprop="url" content="https://juejin.cn/user/553809592722589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Button Pattern è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/553809592722589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    anOnion
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T15:24:23.000Z" title="Sun Jan 25 2026 15:24:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Button Pattern è¯¦è§£ï¼šæ„å»ºæ— éšœç¢æŒ‰é’®ç»„ä»¶</h2>
<p>æŒ‰é’®æ˜¯ Web ç•Œé¢ä¸­æœ€åŸºç¡€çš„äº¤äº’å…ƒç´ ä¹‹ä¸€ï¼Œå®ƒè®©ç”¨æˆ·èƒ½å¤Ÿè§¦å‘ç‰¹å®šçš„æ“ä½œæˆ–äº‹ä»¶ï¼Œå¦‚æäº¤è¡¨å•ã€æ‰“å¼€å¯¹è¯æ¡†ã€å–æ¶ˆæ“ä½œæˆ–æ‰§è¡Œåˆ é™¤æ“ä½œã€‚æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FWAI%2FARIA%2Fapg%2Fpatterns%2Fbutton%2F" target="_blank" title="https://www.w3.org/WAI/ARIA/apg/patterns/button/" ref="nofollow noopener noreferrer">W3C WAI-ARIA Button Pattern è§„èŒƒ</a>ï¼Œæ­£ç¡®å®ç°çš„æŒ‰é’®ç»„ä»¶ä¸ä»…è¦å…·å¤‡è‰¯å¥½çš„è§†è§‰æ•ˆæœï¼Œæ›´éœ€è¦ç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½é¡ºåˆ©ä½¿ç”¨ï¼ŒåŒ…æ‹¬ä¾èµ–å±å¹•é˜…è¯»å™¨ç­‰è¾…åŠ©æŠ€æœ¯çš„ç”¨æˆ·ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Button Pattern çš„æ ¸å¿ƒæ¦‚å¿µã€å®ç°è¦ç‚¹ä»¥åŠæœ€ä½³å®è·µã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æŒ‰é’®çš„å®šä¹‰ä¸æ ¸å¿ƒåŠŸèƒ½</h3>
<p>æŒ‰é’®æ˜¯ä¸€ä¸ªå…è®¸ç”¨æˆ·è§¦å‘åŠ¨ä½œæˆ–äº‹ä»¶çš„ç•Œé¢ç»„ä»¶ã€‚ä»åŠŸèƒ½è§’åº¦æ¥çœ‹ï¼ŒæŒ‰é’®æ‰§è¡Œçš„æ˜¯<strong>åŠ¨ä½œ</strong>è€Œé<strong>å¯¼èˆª</strong>ï¼Œè¿™æ˜¯æŒ‰é’®ä¸é“¾æ¥çš„æœ¬è´¨åŒºåˆ«ã€‚å¸¸è§çš„æŒ‰é’®åŠŸèƒ½åŒ…æ‹¬ï¼šæäº¤è¡¨å•æ•°æ®ã€æ‰“å¼€å¯¹è¯æ¡†çª—å£ã€å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„æ“ä½œã€åˆ é™¤ç‰¹å®šå†…å®¹ç­‰ã€‚ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„æŒ‰é’®åº”å½“è®©ç”¨æˆ·æ¸…æ™°åœ°æ„ŸçŸ¥åˆ°ç‚¹å‡»å®ƒå°†äº§ç”Ÿä»€ä¹ˆæ•ˆæœï¼Œè¿™ç§å¯é¢„æœŸæ€§æ˜¯è‰¯å¥½ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæœ‰ä¸€ä¸ªå¹¿ä¸ºæ¥å—çš„çº¦å®šå€¼å¾—æ³¨æ„ï¼šå¦‚æœæŒ‰é’®çš„æ“ä½œä¼šæ‰“å¼€ä¸€ä¸ªå¯¹è¯æ¡†æˆ–å…¶ä»–éœ€è¦è¿›ä¸€æ­¥äº¤äº’çš„ç•Œé¢ï¼Œåº”è¯¥åœ¨æŒ‰é’®æ ‡ç­¾ååŠ ä¸Šçœç•¥å·ï¼ˆ...ï¼‰æ¥æç¤ºç”¨æˆ·ã€‚ä¾‹å¦‚ï¼Œ**ä¿å­˜ä¸º...**è¿™æ ·çš„æ ‡ç­¾èƒ½å¤Ÿå‘Šè¯‰ç”¨æˆ·ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®åä¼šå¼¹å‡ºé¢å¤–çš„å¯¹è¯æ¡†éœ€è¦å¡«å†™ã€‚è¿™ç§ç»†èŠ‚è™½ç„¶çœ‹ä¼¼å¾®å°ï¼Œå´èƒ½æ˜¾è‘—æå‡ç”¨æˆ·å¯¹ç•Œé¢è¡Œä¸ºçš„ç†è§£ã€‚</p>
<h3 data-id="heading-2">äºŒã€æŒ‰é’®çš„ä¸‰ç§ç±»å‹</h3>
<p>WAI-ARIA è§„èŒƒæ”¯æŒä¸‰ç§ç±»å‹çš„æŒ‰é’®ï¼Œæ¯ç§ç±»å‹éƒ½æœ‰å…¶ç‰¹å®šçš„ç”¨é€”å’Œå®ç°è¦æ±‚ã€‚ç†è§£è¿™ä¸‰ç§ç±»å‹çš„åŒºåˆ«å¯¹äºæ„å»ºæ­£ç¡®æ— éšœç¢çš„ç•Œé¢è‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-3">2.1 æ™®é€šæŒ‰é’®</h4>
<p>æ™®é€šæŒ‰é’®æ˜¯æœ€å¸¸è§çš„æŒ‰é’®ç±»å‹ï¼Œå®ƒæ‰§è¡Œå•ä¸€çš„æ“ä½œè€Œä¸æ¶‰åŠçŠ¶æ€çš„åˆ‡æ¢ã€‚æäº¤è¡¨å•çš„<strong>æäº¤</strong>æŒ‰é’®ã€è§¦å‘æŸä¸ªåŠ¨ä½œçš„<strong>æ‰§è¡Œ</strong>æŒ‰é’®éƒ½å±äºè¿™ä¸€ç±»åˆ«ã€‚æ™®é€šæŒ‰é’®åœ¨æ¿€æ´»æ—¶ä¼šæ‰§è¡Œé¢„å®šä¹‰çš„æ“ä½œï¼Œæ“ä½œå®Œæˆåé€šå¸¸ä¼šæ ¹æ®æ“ä½œçš„æ€§è´¨å†³å®šç„¦ç‚¹çš„ç§»åŠ¨ä½ç½®ã€‚ä¾‹å¦‚ï¼Œæ‰“å¼€å¯¹è¯æ¡†çš„æŒ‰é’®åœ¨æ¿€æ´»åï¼Œç„¦ç‚¹åº”ç§»åŠ¨åˆ°å¯¹è¯æ¡†å†…éƒ¨ï¼›è€Œæ‰§è¡ŒåŸåœ°æ“ä½œçš„æŒ‰é’®åˆ™å¯èƒ½ä¿æŒç„¦ç‚¹åœ¨åŸä½ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤è¡¨å•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2.2 åˆ‡æ¢æŒ‰é’®</h4>
<p>åˆ‡æ¢æŒ‰é’®æ˜¯ä¸€ç§å…·æœ‰ä¸¤ç§çŠ¶æ€çš„æŒ‰é’®ï¼Œå¯ä»¥å¤„äº<strong>æœªæŒ‰ä¸‹</strong>æˆ–<strong>å·²æŒ‰ä¸‹</strong>çš„çŠ¶æ€ã€‚è¿™ç§æŒ‰é’®é€šè¿‡ aria-pressed å±æ€§å‘è¾…åŠ©æŠ€æœ¯ä¼ è¾¾å…¶å½“å‰çŠ¶æ€ã€‚ä¾‹å¦‚ï¼ŒéŸ³é¢‘æ’­æ”¾å™¨ä¸­çš„<strong>é™éŸ³</strong>æŒ‰é’®å°±å¯ä»¥å®ç°ä¸ºåˆ‡æ¢æŒ‰é’®ï¼šå½“å£°éŸ³å¤„äºé™éŸ³çŠ¶æ€æ—¶ï¼ŒæŒ‰é’®çš„ aria-pressed å€¼ä¸º trueï¼›å½“å£°éŸ³æ­£å¸¸æ’­æ”¾æ—¶ï¼Œè¯¥å€¼ä¸º falseã€‚</p>
<p>å®ç°åˆ‡æ¢æŒ‰é’®æ—¶æœ‰ä¸€ä¸ªå…³é”®åŸåˆ™éœ€è¦ç‰¢è®°ï¼šæŒ‰é’®çš„æ ‡ç­¾åœ¨çŠ¶æ€æ”¹å˜æ—¶ä¸åº”å‘ç”Ÿå˜åŒ–ã€‚æ— è®ºæŒ‰é’®æ˜¯å¤„äºæŒ‰ä¸‹è¿˜æ˜¯æœªæŒ‰ä¸‹çŠ¶æ€ï¼Œå…¶å¯è®¿é—®åç§°åº”è¯¥ä¿æŒä¸€è‡´ã€‚å±å¹•é˜…è¯»å™¨ç”¨æˆ·ä¾èµ–è¿™ä¸ªç¨³å®šçš„æ ‡ç­¾æ¥ç†è§£æŒ‰é’®çš„åŠŸèƒ½ã€‚å¦‚æœè®¾è®¡è¦æ±‚åœ¨çŠ¶æ€æ”¹å˜æ—¶æ˜¾ç¤ºä¸åŒçš„æ–‡æœ¬ï¼Œé‚£ä¹ˆå°±ä¸åº”ä½¿ç”¨ aria-pressed å±æ€§ï¼Œè€Œæ˜¯åº”è¯¥é€šè¿‡å…¶ä»–æ–¹å¼ä¼ è¾¾çŠ¶æ€å˜åŒ–ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">aria-pressed</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"muteButton"</span>&gt;</span>
  é™éŸ³
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  muteButton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> isMuted = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'aria-pressed'</span>) === <span class="hljs-string">'true'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'aria-pressed'</span>, !isMuted);
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-5">2.3 èœå•æŒ‰é’®</h4>
<p>èœå•æŒ‰é’®æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŒ‰é’®ï¼Œç‚¹å‡»åä¼šå±•å¼€ä¸€ä¸ªèœå•æˆ–å…¶ä»–å¼¹å‡ºå¼ç•Œé¢ã€‚æ ¹æ® WAI-ARIA è§„èŒƒï¼Œé€šè¿‡å°† aria-haspopup å±æ€§è®¾ç½®ä¸º menu æˆ– trueï¼Œå¯ä»¥å°†æŒ‰é’®å‘è¾…åŠ©æŠ€æœ¯æ­ç¤ºä¸ºèœå•æŒ‰é’®ã€‚è¿™ç§æŒ‰é’®åœ¨ç”¨æˆ·ç•Œé¢ä¸­éå¸¸å¸¸è§ï¼Œä¾‹å¦‚è®¸å¤šåº”ç”¨ä¸­çš„<strong>æ–‡ä»¶</strong>èœå•ã€<strong>ç¼–è¾‘</strong>èœå•ç­‰ã€‚</p>
<p>èœå•æŒ‰é’®çš„å®ç°éœ€è¦éµå¾ªèœå•æ¨¡å¼çš„ç›¸å…³è§„èŒƒï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡é”®ç›˜å¯¼èˆªèœå•é¡¹ï¼Œå±å¹•é˜…è¯»å™¨èƒ½å¤Ÿæ­£ç¡®æ’­æŠ¥èœå•çŠ¶æ€ï¼Œè§†è§‰ç”¨æˆ·èƒ½å¤Ÿæ¸…æ™°åœ°çœ‹åˆ°èœå•çš„å±•å¼€å’Œæ”¶èµ·çŠ¶æ€ã€‚æ­£ç¡®å®ç°çš„èœå•æŒ‰é’®åº”å½“æä¾›å¹³æ»‘çš„ç”¨æˆ·ä½“éªŒï¼Œæ— è®ºç”¨æˆ·ä½¿ç”¨ä½•ç§è¾“å…¥æ–¹å¼æˆ–è¾…åŠ©æŠ€æœ¯ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">aria-haspopup</span>=<span class="hljs-string">"menu"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"fileMenu"</span>&gt;</span>
  æ–‡ä»¶
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€é”®ç›˜äº¤äº’è§„èŒƒ</h3>
<p>é”®ç›˜å¯è®¿é—®æ€§æ˜¯ Web æ— éšœç¢è®¾è®¡çš„æ ¸å¿ƒè¦ç´ ä¹‹ä¸€ã€‚æŒ‰é’®ç»„ä»¶å¿…é¡»æ”¯æŒå®Œæ•´çš„é”®ç›˜äº¤äº’ï¼Œç¡®ä¿æ— æ³•ä½¿ç”¨é¼ æ ‡çš„ç”¨æˆ·ä¹Ÿèƒ½é¡ºåˆ©æ“ä½œã€‚æ ¹æ® Button Pattern è§„èŒƒï¼Œå½“æŒ‰é’®è·å¾—ç„¦ç‚¹æ—¶ï¼Œç”¨æˆ·åº”èƒ½é€šè¿‡ä»¥ä¸‹æŒ‰é”®ä¸æŒ‰é’®äº¤äº’ï¼š</p>
<p><strong>ç©ºæ ¼é”®å’Œå›è½¦é”®</strong>æ˜¯æ¿€æ´»æŒ‰é’®çš„ä¸»è¦æ–¹å¼ã€‚å½“ç”¨æˆ·æŒ‰ä¸‹ç©ºæ ¼é”®æˆ–å›è½¦é”®æ—¶ï¼ŒæŒ‰é’®è¢«è§¦å‘æ‰§è¡Œå…¶é¢„å®šä¹‰çš„æ“ä½œã€‚è¿™ä¸ªè®¾è®¡éµå¾ªäº†ç”¨æˆ·å¯¹è¡¨å•æ§ä»¶çš„æ—¢æœ‰è®¤çŸ¥ï¼Œä¸ä¼ ç»Ÿæ¡Œé¢åº”ç”¨çš„äº¤äº’æ¨¡å¼ä¿æŒä¸€è‡´ã€‚</p>
<p>æŒ‰é’®æ¿€æ´»åç„¦ç‚¹çš„å¤„ç†éœ€è¦æ ¹æ®å…·ä½“æƒ…å¢ƒæ¥å†³å®šï¼Œè¿™æ˜¯å®ç°è‰¯å¥½é”®ç›˜ä½“éªŒçš„å…³é”®ã€‚å¦‚æœæŒ‰é’®æ‰“å¼€äº†ä¸€ä¸ªå¯¹è¯æ¡†ï¼Œç„¦ç‚¹åº”ç§»åŠ¨åˆ°å¯¹è¯æ¡†å†…éƒ¨ï¼Œé€šå¸¸æ˜¯å¯¹è¯æ¡†çš„ç¬¬ä¸€ä¸ªå¯èšç„¦å…ƒç´ æˆ–é»˜è®¤ç„¦ç‚¹å…ƒç´ ã€‚å¦‚æœæŒ‰é’®å…³é—­äº†å¯¹è¯æ¡†ï¼Œç„¦ç‚¹é€šå¸¸åº”è¿”å›åˆ°æ‰“å¼€è¯¥å¯¹è¯æ¡†çš„æŒ‰é’®ï¼Œé™¤éå¯¹è¯æ¡†ä¸­çš„æ“ä½œé€»è¾‘ä¸Šåº”è¯¥å¯¼è‡´ç„¦ç‚¹ç§»åŠ¨åˆ°å…¶ä»–ä½ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¡®è®¤åˆ é™¤æ“ä½œçš„å¯¹è¯æ¡†ä¸­ç‚¹å‡»<strong>ç¡®è®¤</strong>åï¼Œç„¦ç‚¹å¯èƒ½ä¼šç§»åŠ¨åˆ°é¡µé¢ä¸Šçš„å…¶ä»–ç›¸å…³å…ƒç´ ã€‚</p>
<p>å¯¹äºä¸ä¼šå…³é—­å½“å‰ä¸Šä¸‹æ–‡çš„æŒ‰é’®ï¼ˆå¦‚<strong>åº”ç”¨</strong>æŒ‰é’®ã€<strong>é‡æ–°è®¡ç®—</strong>æŒ‰é’®ï¼‰ï¼Œæ¿€æ´»åç„¦ç‚¹é€šå¸¸åº”ä¿æŒåœ¨åŸä½ã€‚å¦‚æœæŒ‰é’®çš„æ“ä½œè¡¨ç¤ºä¸Šä¸‹æ–‡å°†è¦å‘ç”Ÿå˜åŒ–ï¼ˆå¦‚å‘å¯¼ä¸­çš„<strong>ä¸‹ä¸€æ­¥</strong>ï¼‰ï¼Œåˆ™åº”å°†ç„¦ç‚¹ç§»åŠ¨åˆ°è¯¥æ“ä½œçš„èµ·å§‹ä½ç½®ã€‚å¯¹äºé€šè¿‡å¿«æ·é”®è§¦å‘çš„æŒ‰é’®ï¼Œç„¦ç‚¹é€šå¸¸åº”ä¿æŒåœ¨è§¦å‘å¿«æ·é”®æ—¶çš„ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<h3 data-id="heading-7">å››ã€WAI-ARIA è§’è‰²ã€çŠ¶æ€å’Œå±æ€§</h3>
<p>æ­£ç¡®ä½¿ç”¨ WAI-ARIA å±æ€§æ˜¯æ„å»ºæ— éšœç¢æŒ‰é’®ç»„ä»¶çš„æŠ€æœ¯åŸºç¡€ã€‚è™½ç„¶è¯­ä¹‰åŒ–çš„ HTML æŒ‰é’®å…ƒç´ ï¼ˆbuttonï¼‰æœ¬èº«å·²ç»å…·å¤‡æ­£ç¡®çš„è§’è‰²å’ŒåŸºæœ¬è¡Œä¸ºï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰å®ç°æˆ– ARIA å±æ€§æ¥å¢å¼ºå¯è®¿é—®æ€§ã€‚</p>
<p><strong>è§’è‰²å£°æ˜</strong>æ˜¯åŸºç¡€è¦æ±‚ã€‚æŒ‰é’®å…ƒç´ çš„ role å±æ€§åº”è®¾ç½®ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23button" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#button" ref="nofollow noopener noreferrer">button</a>ï¼Œå‘è¾…åŠ©æŠ€æœ¯è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®ç»„ä»¶ã€‚å¯¹äºä½¿ç”¨ button è¿™æ ·çš„åŸç”Ÿ HTML å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¤„ç†è§’è‰²å£°æ˜ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨æ·»åŠ ã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ div å…ƒç´ æ¨¡æ‹ŸæŒ‰é’®æ—¶éœ€è¦æ·»åŠ  role="button"ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"0"</span>
  <span class="hljs-attr">onclick</span>=<span class="hljs-string">"handleClick()"</span>&gt;</span>
  æäº¤
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å¯è®¿é—®åç§°</strong>æ˜¯æŒ‰é’®æœ€é‡è¦çš„å¯è®¿é—®æ€§ç‰¹å¾ä¹‹ä¸€ã€‚æŒ‰é’®å¿…é¡»æœ‰å¯è®¿é—®çš„åç§°ï¼Œè¿™ä¸ªåç§°å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼æä¾›ï¼šæŒ‰é’®å†…éƒ¨çš„æ–‡æœ¬å†…å®¹æ˜¯æœ€å¸¸è§çš„æ¥æºï¼›åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-labelledby" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-labelledby" ref="nofollow noopener noreferrer">aria-labelledby</a> å¼•ç”¨é¡µé¢ä¸Šçš„å…¶ä»–å…ƒç´ ä½œä¸ºæ ‡ç­¾ï¼›æˆ–è€…ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-label" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-label" ref="nofollow noopener noreferrer">aria-label</a> ç›´æ¥æä¾›æ ‡ç­¾æ–‡æœ¬ã€‚å±å¹•é˜…è¯»å™¨ç”¨æˆ·ä¸»è¦ä¾èµ–è¿™ä¸ªåç§°æ¥ç†è§£æŒ‰é’®çš„åŠŸèƒ½ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ aria-labelledby å¼•ç”¨å…¶ä»–å…ƒç´ ä½œä¸ºæ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"save-heading"</span>&gt;</span>ä¿å­˜è®¾ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">"save-heading"</span>&gt;</span>
  å›¾æ ‡
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p>ç¤ºä¾‹ 2ï¼šä½¿ç”¨ aria-label ç›´æ¥æä¾›æ ‡ç­¾æ–‡æœ¬ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"å…³é—­å¯¹è¯æ¡†"</span>
  <span class="hljs-attr">onclick</span>=<span class="hljs-string">"closeDialog()"</span>&gt;</span>
  Ã—
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p><strong>æè¿°ä¿¡æ¯</strong>å¯ä»¥é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-describedby" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-describedby" ref="nofollow noopener noreferrer">aria-describedby</a> å±æ€§å…³è”ã€‚å¦‚æœé¡µé¢ä¸Šå­˜åœ¨å¯¹æŒ‰é’®åŠŸèƒ½çš„è¯¦ç»†æè¿°è¯´æ˜ï¼Œåº”å°†æè¿°å…ƒç´ çš„ ID èµ‹ç»™è¿™ä¸ªå±æ€§ï¼Œè¾…åŠ©æŠ€æœ¯ä¼šåœ¨æ’­æŠ¥æŒ‰é’®åç§°åç»§ç»­æ’­æŠ¥æè¿°å†…å®¹ã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ aria-describedby æä¾›è¯¦ç»†æè¿°ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">aria-describedby</span>=<span class="hljs-string">"delete-warning"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"delete-warning"</span>&gt;</span>æ­¤æ“ä½œæ— æ³•æ’¤é”€ï¼Œå°†æ°¸ä¹…åˆ é™¤æ‰€é€‰æ•°æ®ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p><strong>ç¦ç”¨çŠ¶æ€</strong>éœ€è¦æ­£ç¡®ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-disabled" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-disabled" ref="nofollow noopener noreferrer">aria-disabled</a> å±æ€§ã€‚å½“æŒ‰é’®çš„å…³è”æ“ä½œä¸å¯ç”¨æ—¶ï¼Œåº”è®¾ç½® aria-disabled="true"ã€‚è¿™ä¸ªå±æ€§å‘è¾…åŠ©æŠ€æœ¯ä¼ è¾¾æŒ‰é’®å½“å‰å¤„äºç¦ç”¨çŠ¶æ€ï¼Œç”¨æˆ·æ— æ³•ä¸ä¹‹äº¤äº’ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºåŸç”Ÿ HTML button å…ƒç´ ï¼Œåº”ä½¿ç”¨ disabled å±æ€§è€Œé aria-disabledã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ aria-disabled ç¦ç”¨éåŸç”ŸæŒ‰é’®ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"-1"</span>
  <span class="hljs-attr">aria-disabled</span>=<span class="hljs-string">"true"</span>
  <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"ä¿å­˜"</span>&gt;</span>
  ä¿å­˜
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>åˆ‡æ¢çŠ¶æ€</strong>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-pressed" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-pressed" ref="nofollow noopener noreferrer">aria-pressed</a> å±æ€§æ¥ä¼ è¾¾ï¼Œè¿™ä¸ªå±æ€§åªç”¨äºå®ç°ä¸ºåˆ‡æ¢æŒ‰é’®çš„ç»„ä»¶ã€‚å±æ€§å€¼åº”ä¸º trueï¼ˆæŒ‰ä¸‹çŠ¶æ€ï¼‰ã€falseï¼ˆæœªæŒ‰ä¸‹çŠ¶æ€ï¼‰æˆ– mixedï¼ˆéƒ¨åˆ†é€‰ä¸­çŠ¶æ€ï¼Œç”¨äºä¸‰æ€æ ‘èŠ‚ç‚¹ç­‰åœºæ™¯ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ï¼šä½¿ç”¨ aria-pressed å®ç°åˆ‡æ¢æŒ‰é’®ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">aria-pressed</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"toggleBtn"</span>
  <span class="hljs-attr">onclick</span>=<span class="hljs-string">"toggleState()"</span>&gt;</span>
  å¤œé—´æ¨¡å¼
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">äº”ã€æŒ‰é’®ä¸é“¾æ¥çš„åŒºåˆ«</h3>
<p>åœ¨ Web å¼€å‘ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„æ··æ·†ç‚¹æ˜¯ä½•æ—¶åº”è¯¥ä½¿ç”¨æŒ‰é’®ï¼Œä½•æ—¶åº”è¯¥ä½¿ç”¨é“¾æ¥ã€‚è¿™ä¸¤è€…çš„åŠŸèƒ½å®šä½æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼Œç†è§£è¿™ä¸ªåŒºåˆ«å¯¹äºæ„å»ºè¯­ä¹‰æ­£ç¡®çš„é¡µé¢è‡³å…³é‡è¦ã€‚</p>
<p>æŒ‰é’®ç”¨äº<strong>è§¦å‘åŠ¨ä½œ</strong>ï¼Œå¦‚æäº¤è¡¨å•ã€æ‰“å¼€å¯¹è¯æ¡†ã€æ‰§è¡Œè®¡ç®—ã€åˆ é™¤æ•°æ®ç­‰ã€‚è¿™äº›æ“ä½œä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ”¹å˜åº”ç”¨çš„çŠ¶æ€æˆ–æ•°æ®ã€‚é“¾æ¥ç”¨äº<strong>å¯¼èˆª</strong>ï¼Œå°†ç”¨æˆ·å¸¦åˆ°å¦ä¸€ä¸ªé¡µé¢ã€é¡µé¢çš„ä¸åŒä½ç½®æˆ–ä¸åŒçš„åº”ç”¨çŠ¶æ€ã€‚é“¾æ¥çš„æœ¬è´¨æ˜¯è¶…æ–‡æœ¬å¼•ç”¨ï¼Œå®ƒå‘Šè¯‰ç”¨æˆ·<strong>è¿™é‡Œæœ‰ä½ å¯èƒ½æ„Ÿå…´è¶£çš„å¦ä¸€ä¸ªèµ„æº</strong>ã€‚</p>
<p>ä»æŠ€æœ¯å®ç°è§’åº¦ï¼Œè¿™ä¸ªåŒºåˆ«ç›´æ¥å½±å“äº†å¯è®¿é—®æ€§ã€‚å±å¹•é˜…è¯»å™¨å¯¹æŒ‰é’®å’Œé“¾æ¥çš„æ’­æŠ¥æ–¹å¼ä¸åŒï¼Œç”¨æˆ·ä¼šæ ¹æ®è¿™äº›æç¤ºå½¢æˆå¯¹ç•Œé¢åŠŸèƒ½çš„é¢„æœŸã€‚å¦‚æœä¸€ä¸ªå…ƒç´ çœ‹èµ·æ¥åƒé“¾æ¥ï¼ˆè“è‰²ä¸‹åˆ’çº¿æ–‡æœ¬ï¼‰ä½†ç‚¹å‡»åæ‰§è¡Œçš„æ˜¯æŒ‰é’®çš„åŠ¨ä½œï¼ˆæäº¤è¡¨å•ï¼‰ï¼Œä¼šç»™ç”¨æˆ·é€ æˆå›°æƒ‘ã€‚å³ä½¿å‡ºäºè®¾è®¡è€ƒè™‘å¿…é¡»ä½¿ç”¨è¿™ç§è§†è§‰ä¸åŠŸèƒ½çš„ç»„åˆï¼Œä¹Ÿåº”é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23button" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#button" ref="nofollow noopener noreferrer">role="button"</a> å±æ€§æ˜ç¡®å‘Šè¯‰è¾…åŠ©æŠ€æœ¯è¿™ä¸ªå…ƒç´ çš„çœŸå®åŠŸèƒ½ï¼Œé¿å…ç»™ä¾èµ–è¾…åŠ©æŠ€æœ¯çš„ç”¨æˆ·å¸¦æ¥å›°æƒ‘ã€‚</p>
<p>æ›´å¥½çš„åšæ³•æ˜¯è°ƒæ•´è§†è§‰è®¾è®¡ï¼Œä½¿å…¶ä¸åŠŸèƒ½ä¿æŒä¸€è‡´ã€‚å¦‚æœæŸä¸ªå…ƒç´ æ‰§è¡Œçš„æ˜¯åŠ¨ä½œï¼Œå°±åº”è¯¥çœ‹èµ·æ¥åƒä¸€ä¸ªæŒ‰é’®ï¼›å¦‚æœç”¨æˆ·éœ€è¦è¢«å¯¼èˆªåˆ°æ–°é¡µé¢ï¼Œå°±åº”è¯¥ä½¿ç”¨æ ‡å‡†çš„é“¾æ¥æ ·å¼ã€‚è¿™ç§è®¾è®¡ä¸Šçš„ç»Ÿä¸€èƒ½å¤Ÿå‡å°‘æ‰€æœ‰ç”¨æˆ·çš„è®¤çŸ¥è´Ÿæ‹…ã€‚</p>
<h3 data-id="heading-9">å…­ã€å…¶ä»–ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§æŒ‰é’®åœºæ™¯çš„å®ç°ç¤ºä¾‹â€”â€”æ‰“å¼€å¯¹è¯æ¡†çš„æŒ‰é’®ï¼Œå±•ç¤ºäº†å¦‚ä½•æ­£ç¡®åº”ç”¨ Button Pattern è§„èŒƒã€‚</p>
<p>ä½¿ç”¨ HTML åŸç”Ÿ <code>&lt;dialog&gt;</code> å…ƒç´ é…åˆæŒ‰é’®å®ç°å¯¹è¯æ¡†åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
  <span class="hljs-attr">aria-haspopup</span>=<span class="hljs-string">"dialog"</span>
  <span class="hljs-attr">aria-expanded</span>=<span class="hljs-string">"false"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"openDialog"</span>&gt;</span>
  è®¾ç½®...
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"settingsDialog"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"dialog"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> /&gt;</span> å¯ç”¨é€šçŸ¥ <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"confirm"</span>&gt;</span>ç¡®å®š<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> dialog = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'settingsDialog'</span>);
  <span class="hljs-keyword">const</span> openBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'openDialog'</span>);

  openBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    dialog.<span class="hljs-title function_">showModal</span>();
    openBtn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'true'</span>);
  });

  dialog.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">() =&gt;</span> {
    openBtn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'false'</span>);
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>å½“æŒ‰é’®ä¼šæ‰“å¼€å¯¹è¯æ¡†æ—¶ï¼Œä½¿ç”¨çœç•¥å·æç¤ºç”¨æˆ·åé¢è¿˜æœ‰é¢å¤–äº¤äº’ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-haspopup" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-haspopup" ref="nofollow noopener noreferrer">aria-haspopup</a> è¡¨æ˜æŒ‰é’®ä¼šå¼¹å‡ºå†…å®¹ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23aria-expanded" target="_blank" title="https://www.w3.org/TR/wai-aria-1.2/#aria-expanded" ref="nofollow noopener noreferrer">aria-expanded</a> ç”¨äºä¼ è¾¾å¼¹å‡ºå†…å®¹çš„å½“å‰çŠ¶æ€ã€‚</p>
<h3 data-id="heading-10">ä¸ƒã€CSS ä¼ªç±»ä¸äº¤äº’æ ·å¼</h3>
<p>ä»¥ä¸‹ CSS ä¼ªç±»å¯ç”¨äºå¢å¼ºæŒ‰é’®çš„é”®ç›˜äº¤äº’ä½“éªŒï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* Tab é”®å¯¼èˆªåˆ°æŒ‰é’®æ—¶æ˜¾ç¤ºç„¦ç‚¹æ¡† */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid blue;
  <span class="hljs-attribute">outline-offset</span>: <span class="hljs-number">2px</span>;
}

<span class="hljs-comment">/* ä»…é”®ç›˜ç„¦ç‚¹æ˜¾ç¤ºæ ·å¼ï¼Œé¼ æ ‡ç‚¹å‡»ä¸æ˜¾ç¤º */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:focus</span>-visible {
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid currentColor;
  <span class="hljs-attribute">outline-offset</span>: <span class="hljs-number">2px</span>;
}

<span class="hljs-comment">/* ç©ºæ ¼é”®æˆ–å›è½¦é”®æŒ‰ä¸‹æ—¶çš„æ ·å¼ */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:active</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.98</span>);
}

<span class="hljs-comment">/* é¼ æ ‡æ‚¬åœæ•ˆæœï¼ˆå¯é€‰ï¼Œå¢å¼ºè§†è§‰åé¦ˆï¼‰ */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.9</span>;
}

<span class="hljs-comment">/* Tab + Space ç»„åˆé”®æ¿€æ´»æ ·å¼ï¼ˆéœ€ JS æ·»åŠ ç±»ï¼‰ */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.keyboard-active</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.95</span>);
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">oklch</span>(from currentColor <span class="hljs-number">0.8</span>);
}

<span class="hljs-comment">/* Tab + Enter ç»„åˆé”®æ¿€æ´»æ ·å¼ï¼ˆéœ€ JS æ·»åŠ ç±»ï¼‰ */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.keyboard-enter</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.95</span>);
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">oklch</span>(from currentColor <span class="hljs-number">0.8</span>);
}
</code></pre>
<p><strong>å„ä¼ªç±»è¯´æ˜ï¼š</strong></p>






























<table><thead><tr><th>ä¼ªç±»</th><th>è§¦å‘æ–¹å¼</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>:focus</code></td><td>Tab é”®/é¼ æ ‡ç‚¹å‡»</td><td>å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶</td></tr><tr><td><code>:focus-visible</code></td><td>ä»…é”®ç›˜ Tab</td><td>ä»…é”®ç›˜ç„¦ç‚¹æ˜¾ç¤ºï¼Œé¿å…é¼ æ ‡ç‚¹å‡»æ—¶å‡ºç°æ¡†</td></tr><tr><td><code>:active</code></td><td>æŒ‰ä¸‹ç©ºæ ¼/å›è½¦/é¼ æ ‡</td><td>å…ƒç´ è¢«æ¿€æ´»æ—¶</td></tr><tr><td><code>:hover</code></td><td>é¼ æ ‡æ‚¬åœ</td><td>é¼ æ ‡æ‚¬åœæ—¶çš„è§†è§‰åé¦ˆ</td></tr></tbody></table>
<h4 data-id="heading-11">7.1 ç»„åˆé”®äº¤äº’ç¤ºä¾‹</h4>
<p>CSS æœ¬èº«æ— æ³•ç›´æ¥æ£€æµ‹ç»„åˆé”®ï¼Œä½†å¯ä»¥é€šè¿‡ JavaScript å¢å¼ºä½“éªŒï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"submitBtn"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-comment">/* Tab + Space æ¿€æ´»çŠ¶æ€ */</span>
  <span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.space-pressed</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.95</span>);
    <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">4px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
  }

  <span class="hljs-comment">/* Tab + Enter æ¿€æ´»çŠ¶æ€ */</span>
  <span class="hljs-selector-tag">button</span><span class="hljs-selector-class">.enter-pressed</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.95</span>);
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">oklch</span>(from <span class="hljs-built_in">var</span>(--btn-bg, currentColor) <span class="hljs-number">0.8</span>);
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'submitBtn'</span>);

  <span class="hljs-comment">// Tab + Space ç»„åˆé”®</span>
  btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keydown'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">' '</span> &amp;&amp; e.<span class="hljs-property">target</span> === <span class="hljs-variable language_">document</span>.<span class="hljs-property">activeElement</span>) {
      btn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'space-pressed'</span>);
    }
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">'Enter'</span> &amp;&amp; e.<span class="hljs-property">target</span> === <span class="hljs-variable language_">document</span>.<span class="hljs-property">activeElement</span>) {
      btn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'enter-pressed'</span>);
    }
  });

  btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keyup'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">' '</span>) {
      btn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'space-pressed'</span>);
    }
    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">'Enter'</span>) {
      btn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'enter-pressed'</span>);
    }
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>ç»„åˆé”®è¯´æ˜ï¼š</strong></p>




















<table><thead><tr><th>ç»„åˆé”®</th><th>æ•ˆæœ</th><th>è§¦å‘å…ƒç´ </th></tr></thead><tbody><tr><td>Tab + Space</td><td>èšç„¦å¹¶æ¿€æ´»æŒ‰é’®</td><td><code>&lt;button&gt;</code></td></tr><tr><td>Tab + Enter</td><td>èšç„¦å¹¶è§¦å‘æŒ‰é’®</td><td><code>&lt;button&gt;</code>ã€<code>&lt;div role="button"&gt;</code></td></tr></tbody></table>
<p><strong>åŸç”Ÿ HTML æŒ‰é’®çš„è¡Œä¸ºï¼š</strong></p>
<ul>
<li><code>&lt;button&gt;</code>ï¼šTab èšç„¦åæŒ‰ Space/Enter éƒ½ä¼šè§¦å‘ç‚¹å‡»</li>
<li><code>&lt;div role="button"&gt;</code>ï¼šéœ€è¦é¢å¤– JS å¤„ç† Space é”®</li>
</ul>
<h3 data-id="heading-12">å…«ã€æ€»ç»“</h3>
<p>æ„å»ºæ— éšœç¢çš„æŒ‰é’®ç»„ä»¶éœ€è¦å…³æ³¨å¤šä¸ªå±‚é¢çš„ç»†èŠ‚ã€‚ä»è§†è§‰è®¾è®¡è§’åº¦ï¼ŒæŒ‰é’®åº”è¯¥è®©ç”¨æˆ·æ¸…æ™°åœ°æ„ŸçŸ¥åˆ°å®ƒæ˜¯ä¸€ä¸ªå¯äº¤äº’çš„å…ƒç´ ï¼›ä»é”®ç›˜äº¤äº’è§’åº¦ï¼Œå¿…é¡»æ”¯æŒç©ºæ ¼é”®å’Œå›è½¦é”®çš„æ¿€æ´»æ“ä½œï¼›ä» ARIA å±æ€§è§’åº¦ï¼Œéœ€è¦æ­£ç¡®ä½¿ç”¨è§’è‰²ã€çŠ¶æ€å’Œå±æ€§æ¥ä¼ è¾¾ç»„ä»¶çš„è¯­ä¹‰å’Œå½“å‰çŠ¶æ€ã€‚</p>
<p>æŒ‰é’®ä¸é“¾æ¥çš„åŠŸèƒ½åŒºåˆ†æ˜¯ Web è¯­ä¹‰åŒ–çš„åŸºç¡€ä¹‹ä¸€ï¼Œéµå¾ªè¿™ä¸ªåŸåˆ™ä¸ä»…æœ‰åŠ©äºè¾…åŠ©æŠ€æœ¯ç”¨æˆ·ç†è§£é¡µé¢ç»“æ„ï¼Œä¹Ÿèƒ½æå‡æ‰€æœ‰ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¼˜å…ˆä½¿ç”¨è¯­ä¹‰åŒ–çš„åŸç”Ÿ HTML å…ƒç´ ï¼Œåªæœ‰åœ¨å¿…è¦æ—¶æ‰è€ƒè™‘ä½¿ç”¨è‡ªå®šä¹‰å®ç°ï¼Œå¹¶ç¡®ä¿ä¸ºè¿™äº›å®ç°æ·»åŠ å®Œæ•´çš„æ— éšœç¢æ”¯æŒã€‚</p>
<p>WAI-ARIA Button Pattern ä¸ºæˆ‘ä»¬æä¾›äº†æ¸…æ™°çš„æŒ‡å¯¼æ–¹é’ˆï¼Œå°†è¿™äº›è§„èŒƒå†…åŒ–ä¸ºå¼€å‘ä¹ æƒ¯ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åˆ›å»ºæ›´åŠ åŒ…å®¹å’Œæ˜“ç”¨çš„ Web åº”ç”¨ã€‚æ¯ä¸€ä¸ªæ­£ç¡®å®ç°çš„æŒ‰é’®ç»„ä»¶ï¼Œéƒ½æ˜¯æ„å»ºæ— éšœç¢ç½‘ç»œç¯å¢ƒçš„é‡è¦ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¢¨æ¢…åšå®¢ 1.2.0 å‘å¸ƒä¸ AI å¼€å‘å®è·µ | 2026 å¹´ç¬¬ 4 å‘¨è‰æ¢…å‘¨æŠ¥]]></title>    <link>https://juejin.cn/post/7598921649888804891</link>    <guid>https://juejin.cn/post/7598921649888804891</guid>    <pubDate>2026-01-25T15:33:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598921649888804891" data-draft-id="7598947628468092974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¢¨æ¢…åšå®¢ 1.2.0 å‘å¸ƒä¸ AI å¼€å‘å®è·µ | 2026 å¹´ç¬¬ 4 å‘¨è‰æ¢…å‘¨æŠ¥"/> <meta itemprop="keywords" content="GitHub,å¼€æº,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-25T15:33:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰æ¢…å‹ä»"/> <meta itemprop="url" content="https://juejin.cn/user/3043088413495815"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¢¨æ¢…åšå®¢ 1.2.0 å‘å¸ƒä¸ AI å¼€å‘å®è·µ | 2026 å¹´ç¬¬ 4 å‘¨è‰æ¢…å‘¨æŠ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3043088413495815/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰æ¢…å‹ä»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T15:33:36.000Z" title="Sun Jan 25 2026 15:33:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd" target="_blank" title="https://blog.cmyr.ltd" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢</a> å‘å¸ƒå’Œæ›´æ–°ï¼Œå¹¶åœ¨å¤šä¸ªå¹³å°åŒæ­¥å‘å¸ƒã€‚å¦‚æœ‰æ›´æ–°ï¼Œä»¥åšå®¢ä¸Šçš„ç‰ˆæœ¬ä¸ºå‡†ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æ–‡æœ«çš„ <code>åŸæ–‡é“¾æ¥</code> æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¬¢è¿æ¥åˆ°è‰æ¢…å‘¨æŠ¥ï¼è¿™æ˜¯ä¸€ä¸ªç”±è‰æ¢…å‹ä»åŸºäº AI æ•´ç†çš„å‘¨æŠ¥ï¼Œæ—¨åœ¨ä¸ºæ‚¨æä¾›æœ€æ–°çš„åšå®¢æ›´æ–°ã€GitHub åŠ¨æ€ã€ä¸ªäººåŠ¨æ€å’Œå…¶ä»–å‘¨åˆŠæ–‡ç« æ¨èç­‰å†…å®¹ã€‚</p>
<hr/>
<h2 data-id="heading-1">å¼€æºåŠ¨æ€</h2>
<p>æœ¬å‘¨ä¾æ—§åœ¨å¼€å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei" target="_blank" title="https://github.com/CaoMeiYouRen/momei" ref="nofollow noopener noreferrer">å¢¨æ¢… (Momei)</a> ä¸­ã€‚</p>
<blockquote>
<p>æ‚¨å¯ä»¥å‰å¾€ Demo ç«™è¯•ç”¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdemo.momei.app%2F" target="_blank" title="https://demo.momei.app/" ref="nofollow noopener noreferrer">demo.momei.app/</a></p>
<ul>
<li>æ‚¨å¯ä»¥é€šè¿‡é‚®ç®± <code>admin@example.com</code>ï¼Œå¯†ç <code>momei123456</code>ç™»å½•æ¼”ç¤ºç”¨ç®¡ç†å‘˜è´¦å·ã€‚</li>
</ul>
<p>æˆ–å‰å¾€å®˜ç½‘æ³¨å†Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmomei.app%2F" target="_blank" title="https://momei.app/" ref="nofollow noopener noreferrer">momei.app/</a></p>
<p>ä¹Ÿå¯ä»¥å‰å¾€æ–‡æ¡£ç«™æ¥äº†è§£é¡¹ç›®æ•´ä½“è§„åˆ’å’Œæœªæ¥å¼€å‘è·¯çº¿å›¾ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.momei.app%2F" target="_blank" title="https://docs.momei.app/" ref="nofollow noopener noreferrer">docs.momei.app/</a></p>
</blockquote>
<p>å½“å‰å¢¨æ¢…åšå®¢å·²ç»æ­£å¼å‘å¸ƒäº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei%2Freleases%2Ftag%2Fv1.2.0" target="_blank" title="https://github.com/CaoMeiYouRen/momei/releases/tag/v1.2.0" ref="nofollow noopener noreferrer">1.2.0</a> ç‰ˆæœ¬ï¼Œä»¥ä¸‹æ˜¯é¡µé¢å’ŒåŠŸèƒ½çš„ä¸€äº›æˆªå›¾ã€‚</p>
<p>å¢åŠ äº†é‚®ç®±è®¢é˜…å’Œ RSS è®¢é˜…åŠŸèƒ½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22a716ef6070436f849c8c18397ee813~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=2TT4Rxnl9n2Z4LUHiqIyHpM8QgE%3D" alt="image-20260125213101001" loading="lazy"/></p>
<p>å¢åŠ äº†æœç´¢åŠŸèƒ½ï¼ˆctrl+K å¯å¿«æ·è°ƒç”¨ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a475c1cc13744cc867d161e89e3c65c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=zWsRnskT6%2B%2FnfmcFsTQNEcfHdnQ%3D" alt="image-20260125214529879" loading="lazy"/></p>
<p>ä¼˜åŒ–äº†å›½é™…åŒ–åŠŸèƒ½ï¼Œç›®å‰å¯è‡ªåŠ¨åˆ‡æ¢æ–‡ç« ã€åˆ†ç±»ã€æ ‡ç­¾ç­‰æ–‡æœ¬çš„è¯­è¨€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9002bc0c6a74419d939f2682fa633bfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=s4WnSifnLem4%2FHbV5BzsP6pcOjQ%3D" alt="image-20260125214137560" loading="lazy"/></p>
<p>æ–°å¢äº† AI è¾…åŠ©åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ ‡é¢˜ã€è·¯å¾„åˆ«åã€æ ‡ç­¾ã€åˆ†ç±»ã€æ‘˜è¦ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e59afe0205b1444cb213d48f2a18d201~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=ac9QOu%2BiNT68Yzp1ohii9%2Fcvf%2Fk%3D" alt="image-20260125214330435" loading="lazy"/></p>
<p>æ–°å¢äº†ä¸»é¢˜å®šåˆ¶åŠŸèƒ½ï¼Œå¯ä»¥æ›´åŠ è‡ªç”±çš„è®¾è®¡ UI æ ·å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e51dd35faada4bbabca0c2b6afe3942a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=MXH0rUIcfHNYOjjG3wqcrBpkmw8%3D" alt="image-20260125212120340" loading="lazy"/></p>
<p>æ–‡ç« å¢åŠ äº†å¤šç§è®¿é—®æƒé™æ§åˆ¶ï¼Œä¾‹å¦‚ç§å¯†ã€å¯†ç ä¿æŠ¤ã€ç™»å½•å¯è§ã€è®¢é˜…å¯è§ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c75e1da0d474059a00631dbfba4ce46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=UgF2pzIruFuTDQHSDJcKvnffv%2B8%3D" alt="image-20260125212214155" loading="lazy"/></p>
<p>åœ¨ Markdown æ”¯æŒä¸Šï¼Œæ·»åŠ äº†è‡ªå®šä¹‰æç¤ºã€ä»£ç ç»„ã€GitHub è­¦æŠ¥ã€Emojiã€LaTeX ç­‰åŠŸèƒ½æ”¯æŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44b0e1d252d3419eac7be0f207943f17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=YGJAKfCo2eYynIeQxoDAPgMU1R0%3D" alt="image-20260125212618490" loading="lazy"/></p>
<p>æ›´å¤šé¡µé¢å¯ä»¥å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Fmomei.app%2F" target="_blank" title="https://momei.app/" ref="nofollow noopener noreferrer">å®˜ç½‘</a>ä½“éªŒï¼Œä¹Ÿå¯å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2025-51-caomei-weekly-momei-blog-mvp-caomei-auth-update.html" target="_blank" title="https://blog.cmyr.ltd/archives/2025-51-caomei-weekly-momei-blog-mvp-caomei-auth-update.html" ref="nofollow noopener noreferrer">ä¹‹å‰çš„åšå®¢</a>æŸ¥çœ‹æˆªå›¾ã€‚</p>
<p>æ¬¢è¿å„ä½ç”¨æˆ·ä½“éªŒã€‚å¹¶æå‡ºæ„è§å’Œå»ºè®®ã€‚</p>
<p>æ¥ä¸‹æ¥çš„è¯è¿˜ä¼šç»§ç»­æŒ‰ç…§è·¯çº¿å›¾å’Œå¾…åŠè¿›è¡Œå¼€å‘åŠŸèƒ½ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>
<p>å½“ç„¶ï¼Œç›®å‰å¢¨æ¢…åšå®¢è¿˜æœ‰å¾ˆå¤šéœ€è¦æ‰“ç£¨çš„ç»†èŠ‚ï¼ŒåŠŸèƒ½ä¸Šä¹Ÿè¿˜ä¸å®Œå–„ï¼Œå¦‚æœ‰ä»»ä½•æ„è§å’Œå»ºè®®ï¼Œéƒ½å¯ä»¥åœ¨é¡¹ç›®çš„  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei%2Fissues" target="_blank" title="https://github.com/CaoMeiYouRen/momei/issues" ref="nofollow noopener noreferrer">GitHub issues</a> ä¸­æå‡ºã€‚</p>
<p>å¦‚æœä½ ä¹Ÿå¯¹å¢¨æ¢…åšå®¢æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å‚ä¸å¼€å‘å’Œæµ‹è¯•ã€‚</p>
<h2 data-id="heading-2">å¼€å‘æ—¥å¸¸</h2>
<p>æœ€è¿‘ä¹Ÿæ˜¯å°è¯•äº†ä½¿ç”¨è¯­éŸ³ç¼–ç¨‹ï¼Œæ•ˆæœç¡®å®ä¸é”™ã€‚è™½ç„¶æœ‰äº›é”™è¯¯ï¼Œä½†ç›®å‰çš„ AI ä¹Ÿå·²ç»è¶³ä»¥æ­£ç¡®è¯†åˆ«ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†æƒ…å†µä¸‹éƒ½æ˜¯ OK çš„ï¼Œæ„Ÿè§‰å’Œ AI çš„æ²Ÿé€šæ•ˆç‡æ›´é«˜äº†ã€‚</p>
<p>åœ¨ VSCode é‡Œé¢è£…ä¸€ä¸‹ VS Code Speech è¿™ä¸ªæ‰©å±•å°±è¡Œï¼ŒCopilot çš„å¯¹è¯æ¡†é‡Œé¢å°±ä¼šå‡ºç°ä¸€ä¸ªéº¦å…‹é£ï¼Œä¹‹åå°±ç›´æ¥èŠå¤©å§ã€‚
è®°å¾—å†å®‰è£…ä¸­æ–‡æ”¯æŒæ’ä»¶ï¼Œä¸ç„¶è¯†åˆ«ä¸å‡ºä¸­æ–‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a71f518735e1432482a92c95cf70cb2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=eqkjzhd14Fn%2FMcM3PlQRvfXvPjQ%3D" alt="image-20260125215750890" loading="lazy"/></p>
<p>ç„¶åæ˜¯ç ”ç©¶äº†ä¸‹å¦‚ä½•åœ¨æ‰‹æœºä¸Šè¿œç¨‹ç”¨ AI å¼€å‘çš„äº‹æƒ…ã€‚</p>
<p>ç›®å‰æ˜¯é‡‡ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslopus%2Fhappy" target="_blank" title="https://github.com/slopus/happy" ref="nofollow noopener noreferrer">Happy Coder</a> + <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fclaude-code" target="_blank" title="https://github.com/anthropics/claude-code" ref="nofollow noopener noreferrer">Claude Code</a> æ¥å®ç°è¿™ä¸€ç‚¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55dbc1e1a734402cbbb91e4e5f33d6bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769960016&amp;x-signature=GnTS2bt1mIole%2BZI9Af2Rf4pHOU%3D" alt="Screenshot_2026-01-23-11-05-52-86_57f62d029f3be71" loading="lazy"/></p>
<p><code>happy</code> ä»æœ¬è´¨ä¸Šæ¥è®²å°±æ˜¯ä¸ªè¿œç¨‹è°ƒç”¨ <code>claude</code> æˆ–  <code>codex</code> çš„å·¥å…·ï¼Œæ‰€ä»¥è¦åœ¨æœ¬åœ°ç”µè„‘æœ‰ <code>claude</code> æˆ–  <code>codex</code> ã€‚</p>
<p>æ‰€ä»¥åªè¦å®‰è£…äº† <code>claude</code> æˆ–  <code>codex</code> ï¼Œå†å®‰è£… <code>happy</code> å°±å¯ä»¥æ„‰å¿«çš„è¿œç¨‹å¼€å‘äº†ã€‚</p>
<blockquote>
<p>è¯­éŸ³åŠ©æ‰‹çš„ç®€ä½“ä¸­æ–‡å£éŸ³æœ‰ç‚¹éš¾ç»·ï¼Œæ„Ÿè§‰æœ‰ç‚¹ç²¤è¯­å£éŸ³ï¼Œä¸è¿‡è¯†åˆ«çš„è¿˜æŒºå‡†ç¡®çš„ï¼Œä¸æ˜¯ç›´æ¥è½¬æ–‡æœ¬ï¼Œè€Œæ˜¯å†æ•´ç†è¿‡åå‘é€åˆ°ä¸»æœºã€‚</p>
</blockquote>
<h2 data-id="heading-3">GitHub Release</h2>
<h3 data-id="heading-4">caomei-auth</h3>
<h4 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcaomei-auth%2Freleases%2Ftag%2Fv1.12.3" target="_blank" title="https://github.com/CaoMeiYouRen/caomei-auth/releases/tag/v1.12.3" ref="nofollow noopener noreferrer">v1.12.3</a> - 2026-01-17 20:14:59</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 1.12.3 (2026-01-17)</p>
<p>Bug ä¿®å¤ï¼š</p>
<ol>
<li>ä¼˜åŒ–ç”Ÿæˆçº¯æ–‡æœ¬ç‰ˆæœ¬çš„é€»è¾‘ï¼Œç§»é™¤äº† script æ ‡ç­¾åŠå…¶å†…å®¹</li>
<li>ä¿®å¤äº†è·å–å¾®ä¿¡å’ŒæŠ–éŸ³ openid çš„é€»è¾‘ï¼ŒåŒæ—¶ç®€åŒ–äº†ç›¸å…³ä»£ç </li>
<li>æ·»åŠ äº† sanitize-html ä¾èµ–å¹¶è¿›ä¸€æ­¥ä¼˜åŒ–äº†çº¯æ–‡æœ¬ç”Ÿæˆé€»è¾‘</li>
</ol>
<p>ä»£ç é‡æ„ï¼š</p>
<ol>
<li>å°†æ³¨å†Œå’Œä¿®æ”¹å¯†ç è¡¨å•çš„åŸºç¡€ Schema æå–ä¸ºå•ç‹¬çš„å¸¸é‡</li>
<li>æ›´æ–°äº†æ–‡æ¡£ç»“æ„ï¼Œä¼˜åŒ–äº†å¼€å‘ã€è®¾è®¡å’Œæ ‡å‡†ç›¸å…³çš„é“¾æ¥</li>
</ol>
<h3 data-id="heading-6">momei</h3>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei%2Freleases%2Ftag%2Fv1.2.0" target="_blank" title="https://github.com/CaoMeiYouRen/momei/releases/tag/v1.2.0" ref="nofollow noopener noreferrer">v1.2.0</a> - 2026-01-24 20:06:12</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 1.2.0 æ‘˜è¦ (2026-01-24)</p>
<p>ã€æ€§èƒ½ä¼˜åŒ–ã€‘</p>
<ul>
<li>ä¼˜åŒ– Lighthouse è·‘åˆ†ï¼Œä¿®å¤ SEOã€æ— éšœç¢åŠ CLS é—®é¢˜</li>
</ul>
<p>ã€æ–°åŠŸèƒ½ã€‘</p>
<ul>
<li>æ–°å¢å›¾ç‰‡æ‡’åŠ è½½æ”¯æŒï¼Œæå‡é¡µé¢æ€§èƒ½</li>
<li>å®ç°å›½é™…åŒ–æ–‡æœ¬ç»Ÿä¸€ï¼Œä¼˜åŒ–æç¤ºä¿¡æ¯</li>
<li>è¯„è®ºç³»ç»Ÿæ”¹è¿›ï¼šæ”¯æŒæ¸¸å®¢è¯„è®ºèº«ä»½å‡­è¯ï¼Œç§»é™¤é‚®ç®±æŸ¥è¯¢</li>
<li>æ–°å¢ Markdown æ¸²æŸ“å™¨ï¼Œæ”¯æŒå›¾ç‰‡æ‡’åŠ è½½ã€Lightbox é¢„è§ˆå’Œä»£ç ç»„åŠŸèƒ½</li>
<li>AI æœåŠ¡å¢åŠ ç”¨æˆ· ID æ”¯æŒï¼Œä¼˜åŒ–æ—¥å¿—è®°å½•</li>
<li>ä¸»é¢˜è®¾ç½®å¢å¼ºï¼šæ–°å¢æ·±è‰²æ¨¡å¼ã€è‡ªå®šä¹‰ CSS æ³¨å…¥ã€é¢œè‰²é…ç½®é€‰é¡¹</li>
<li>æ–°å¢å¤‡æ¡ˆä¿¡æ¯å±•ç¤ºåŠŸèƒ½</li>
<li>è¯„è®ºç³»ç»Ÿå‰ç«¯ UI å®ç°ï¼Œæ”¯æŒæ–‡ç« è®¿é—®é™åˆ¶</li>
<li>æ•°æ®åº“ç»“æ„æ›´æ–°ï¼Œæ–°å¢ç”¨æˆ·ã€æ–‡ç« ã€è¯„è®ºç­‰è¡¨å­—æ®µ</li>
<li>æ–°å¢ PV ç¼“å­˜ç³»ç»Ÿï¼Œä¼˜åŒ–é˜…è¯»é‡ç»Ÿè®¡</li>
<li>æ–°å¢å¤–éƒ¨èµ„æº URL ç™½åå•é…ç½®ï¼Œå¢å¼ºå®‰å…¨æ€§</li>
<li>æ–°å¢æ–‡ç« å¯è§æ€§ç­–ç•¥ï¼ˆå…¬å¼€/ç§å¯†/å¯†ç ä¿æŠ¤ï¼‰</li>
<li>æ–°å¢æµå¼ç¿»è¯‘åŠŸèƒ½ï¼Œæ”¯æŒé•¿æ–‡ç« åˆ†æ®µå¤„ç†</li>
<li>æ–°å¢æ¼”ç¤ºæ¨¡å¼åŠŸèƒ½ï¼Œé›†æˆå¼•å¯¼å’Œæ¨¡æ‹Ÿ AI æœåŠ¡</li>
<li>æ–°å¢ç”¨æˆ·åè®®å’Œéšç§æ”¿ç­–é¡µé¢</li>
<li>æ–°å¢ç®¡ç†å‘˜è´¦å·é…ç½®ï¼Œé¦–ä½æ³¨å†Œç”¨æˆ·è‡ªåŠ¨è·å¾—ç®¡ç†å‘˜è§’è‰²</li>
<li>æ–°å¢è¯„è®ºç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒåˆ›å»ºã€åˆ é™¤å’Œæ‰¹é‡æ“ä½œ</li>
</ul>
<p>ã€Bug ä¿®å¤ã€‘</p>
<ul>
<li>ä¿®å¤å¤šä¸ªé«˜å±å®‰å…¨æ¼æ´ï¼ˆdevalue, tar, h3ï¼‰</li>
<li>ä¼˜åŒ–å“åº”å¼æ ·å¼å’Œåª’ä½“æŸ¥è¯¢æ¡ä»¶</li>
<li>ä¿®å¤ TypeORM å®ä½“å…ƒæ•°æ®ä¸¢å¤±é—®é¢˜</li>
<li>ä¿®å¤è¯„è®ºå†…å®¹å±•ç¤ºé—®é¢˜å’Œæ¸¸å®¢ä¿¡æ¯è¯»å–é€»è¾‘</li>
<li>æ›´æ–°ä¾èµ–é¡¹è§£å†³å…¼å®¹æ€§å’Œå®‰å…¨é—®é¢˜</li>
<li>ä¿®å¤ç®¡ç†å‘˜èœå•é¡¹ç±»å‹å®šä¹‰å’Œç‚¹å‡»äº‹ä»¶</li>
</ul>
<p>ã€ä»£ç é‡æ„ã€‘</p>
<ul>
<li>ä¼˜åŒ– PV ç¼“å­˜ç³»ç»Ÿï¼Œæ”¯æŒ Redis</li>
<li>æ›´æ–° Markdown æ ¼å¼åŒ–è§„åˆ™ï¼Œç¦ç”¨æ ‡ç‚¹ç¬¦å·å¤„ç†</li>
<li>æ·»åŠ æ— æœåŠ¡å™¨ç¯å¢ƒæ£€æµ‹åŠŸèƒ½</li>
<li>ç»Ÿä¸€ä¸»é¢˜è®¾ç½®æ¥å£å­—æ®µå‘½å</li>
<li>è¿ç§»å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é—´ä¼°ç®—åŠŸèƒ½</li>
</ul>
<h4 data-id="heading-8"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei%2Freleases%2Ftag%2Fv1.1.0" target="_blank" title="https://github.com/CaoMeiYouRen/momei/releases/tag/v1.1.0" ref="nofollow noopener noreferrer">v1.1.0</a> - 2026-01-17 20:05:30</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 1.1.0 ä¸»è¦æ›´æ–°æ‘˜è¦ï¼š</p>
<p>æ–°åŠŸèƒ½ï¼š</p>
<ol>
<li>å¤šè¯­è¨€æ”¯æŒï¼šå®ç°æ–‡ç« ã€åˆ†ç±»å’Œæ ‡ç­¾çš„è·¨è¯­è¨€åˆ‡æ¢ï¼Œæ·»åŠ è¯­è¨€åˆ‡æ¢å™¨ç»„ä»¶ï¼Œæ”¯æŒ(slug, language)å¤åˆç´¢å¼•</li>
<li>SEO ä¼˜åŒ–ï¼šå¼•å…¥ sitemap ç”ŸæˆåŠŸèƒ½ï¼Œæ”¯æŒåŠ¨æ€è·¯ç”±ï¼Œæ·»åŠ  Google/Bing æœç´¢æ§åˆ¶å°æ”¯æŒ</li>
<li>è®¢é˜…åŠŸèƒ½ï¼šå®ç° RSS è®¢é˜…å’ŒåŸºç¡€é‚®ä»¶è®¢é˜…ï¼Œæ”¯æŒæŒ‰è¯­è¨€è¿‡æ»¤</li>
<li>AI é›†æˆï¼šæ·»åŠ æ ‡é¢˜å»ºè®®ã€æ‘˜è¦ç”Ÿæˆã€æ ‡ç­¾æ¨èå’Œç¿»è¯‘åŠŸèƒ½ï¼Œæ”¯æŒå¤šè¯­è¨€åŒæ­¥</li>
<li>ç”¨æˆ·ç®¡ç†ï¼šå¢åŠ  Google ç™»å½•æ”¯æŒï¼Œå®ç° API å¯†é’¥ç®¡ç†åŠŸèƒ½</li>
<li>å†…å®¹ç®¡ç†ï¼šä¼˜åŒ–ç‰ˆæƒå£°æ˜ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§ CC åè®®ï¼Œæ·»åŠ æ–‡ç« çŠ¶æ€æœºå’Œé¢„è§ˆåŠŸèƒ½</li>
</ol>
<p>Bug ä¿®å¤ï¼š</p>
<ol>
<li>ä¿®å¤ RSS è®¢é˜…å†…å®¹æ ¼å¼é—®é¢˜ï¼Œç¡®ä¿è¾“å‡ºä¸º HTML</li>
<li>ä¿®æ­£åˆ†ç±»/æ ‡ç­¾é¡µ 400 é”™è¯¯ï¼Œä¼˜åŒ– i18n æ˜¾ç¤º</li>
<li>ä¿®å¤æ•°æ®åº“æŸ¥è¯¢ä¸­çš„å­—æ®µåé”™è¯¯</li>
<li>ä¼˜åŒ– API å¯†é’¥ç®¡ç†ç•Œé¢æ ·å¼å’ŒéªŒè¯é€»è¾‘</li>
<li>ä¿®æ­£æ ‡ç­¾å’Œåˆ†ç±»åç§°åœ¨ä¸åŒè¯­è¨€ä¸‹çš„å”¯ä¸€æ€§æ ¡éªŒ</li>
</ol>
<p>ä»£ç é‡æ„ï¼š</p>
<ol>
<li>ä¼˜åŒ– AI åŠŸèƒ½æ¥å£ï¼Œæå‡å†…å®¹åˆ›ä½œæ•ˆç‡</li>
<li>æå– AI æœåŠ¡é…ç½®åˆ°ç¯å¢ƒå˜é‡</li>
<li>æ›´æ–°æŸ¥è¯¢æ„å»ºå™¨ç±»å‹å®šä¹‰å¢å¼ºå®‰å…¨æ€§</li>
<li>ä¼˜åŒ–é”™è¯¯å¤„ç†å’Œè¯­è¨€æ£€æµ‹é€»è¾‘</li>
</ol>
<p>å…¶ä»–æ”¹è¿›ï¼š</p>
<ol>
<li>ä¼˜åŒ–æœç´¢åŠŸèƒ½ï¼Œå¢åŠ é¢‘ç‡é™åˆ¶å’Œç´¢å¼•</li>
<li>å¢å¼ºæƒé™ç®¡ç†ï¼Œæ”¯æŒå¤šè§’è‰²æ ¡éªŒ</li>
<li>æ›´æ–°ç®¡ç†åå°æ ·å¼å’ŒåŠŸèƒ½</li>
<li>æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡å’Œé˜…è¯»æ—¶é•¿é¢„ä¼°åŠŸèƒ½</li>
</ol>
<h3 data-id="heading-9">eslint-config-cmyr</h3>
<h4 data-id="heading-10"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Feslint-config-cmyr%2Freleases%2Ftag%2Fv2.1.0" target="_blank" title="https://github.com/CaoMeiYouRen/eslint-config-cmyr/releases/tag/v2.1.0" ref="nofollow noopener noreferrer">v2.1.0</a> - 2026-01-12 21:23:59</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 2.1.0 æ›´æ–°æ‘˜è¦ï¼š</p>
<p>æ–°åŠŸèƒ½ï¼š</p>
<ul>
<li>æ–°å¢å¯¹ TypeScript çš„æ”¯æŒå’Œç›¸å…³è¯­è¨€é€‰é¡¹é…ç½®</li>
</ul>
<p>Bug ä¿®å¤ï¼š</p>
<ul>
<li>ç§»é™¤äº†ä¸å¿…è¦çš„å¯¼å…¥è¯­å¥</li>
<li>ä¼˜åŒ–äº†è§£æå™¨é€‰é¡¹çš„ç±»å‹æ³¨é‡Š</li>
</ul>
<p>æœ¬æ¬¡æ›´æ–°ä¸»è¦å¢å¼ºäº† TypeScript æ”¯æŒå¹¶è¿›è¡Œäº†ä»£ç ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-11"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Feslint-config-cmyr%2Freleases%2Ftag%2Fv2.1.0-beta.1" target="_blank" title="https://github.com/CaoMeiYouRen/eslint-config-cmyr/releases/tag/v2.1.0-beta.1" ref="nofollow noopener noreferrer">v2.1.0-beta.1</a> - 2026-01-12 21:13:22</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 2.1.0-beta.1 (2026-01-12)</p>
<p>æ–°åŠŸèƒ½ï¼š</p>
<ul>
<li>æ–°å¢å¯¹ TypeScript çš„æ”¯æŒå’Œè¯­è¨€é€‰é¡¹é…ç½®</li>
</ul>
<p>Bug ä¿®å¤ï¼š</p>
<ul>
<li>ç§»é™¤äº†ä¸å¿…è¦çš„å¯¼å…¥</li>
<li>ä¼˜åŒ–äº†è§£æå™¨é€‰é¡¹çš„ç±»å‹æ³¨é‡Š</li>
</ul>
<h2 data-id="heading-12">æœ€æ–° GitHub åŠ æ˜Ÿä»“åº“</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flint-md%2Flint-md" target="_blank" title="https://github.com/lint-md/lint-md" ref="nofollow noopener noreferrer">CaoMeiYouRen starred lint-md</a> - 2026-01-25 03:13:06
ä¸­æ–‡ Markdown æ ¼å¼æ£€æŸ¥å‘½ä»¤è¡Œå·¥å…·ï¼ŒåŸºäº AST æŠ€æœ¯å®ç°ï¼Œå¯é›†æˆ CI æµç¨‹ã€‚ä¸»è¦åŠŸèƒ½åŒ…æ‹¬åšå®¢æ–‡æ¡£æ ¼å¼æ ¡éªŒï¼Œæ”¯æŒ API è°ƒç”¨ã€‚ä½¿ç”¨ TypeScript å¼€å‘ï¼ŒGitHub è· 954 æ˜Ÿã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwecode-ai%2FWegent" target="_blank" title="https://github.com/wecode-ai/Wegent" ref="nofollow noopener noreferrer">CaoMeiYouRen starred Wegent</a> - 2026-01-25 01:41:01
å¼€æº AI åŸç”Ÿæ“ä½œç³»ç»Ÿï¼Œç”¨äºå®šä¹‰ã€ç»„ç»‡å’Œè¿è¡Œæ™ºèƒ½ä»£ç†å›¢é˜Ÿã€‚ä¸»è¦ä½¿ç”¨ Python è¯­è¨€å¼€å‘ï¼Œå·²è·å¾— 207 ä¸ªæ˜Ÿæ ‡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnumman-ali%2Fopenskills" target="_blank" title="https://github.com/numman-ali/openskills" ref="nofollow noopener noreferrer">CaoMeiYouRen starred openskills</a> - 2026-01-24 02:28:20
Universal skills loader for AI coding agents is available as an npm package called openskills. Written primarily in TypeScript, it has gained notable popularity with over 7,000 stargazers on its repository. The package can be installed globally using npm install -g openskills command.</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Flighthouse-ci" target="_blank" title="https://github.com/GoogleChrome/lighthouse-ci" ref="nofollow noopener noreferrer">CaoMeiYouRen starred lighthouse-ci</a> - 2026-01-24 01:49:45
è‡ªåŠ¨åŒ–è¿è¡Œ Lighthouse æµ‹è¯•æ¯ä¸ªæäº¤ï¼ŒæŸ¥çœ‹å˜æ›´å¹¶é˜²æ­¢æ€§èƒ½é€€åŒ–ã€‚è¯¥é¡¹ç›®ä½¿ç”¨ JavaScript å¼€å‘ï¼Œå·²åœ¨ GitHub è·å¾— 6839 ä¸ªæ˜Ÿæ ‡ã€‚æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬æäº¤çº§åˆ«çš„æ€§èƒ½ç›‘æµ‹ã€å˜æ›´å¯è§†åŒ–å¯¹æ¯”å’Œå›å½’é¢„é˜²æœºåˆ¶ã€‚é€šè¿‡é›†æˆ CI/CD æµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡ä¸æ€§èƒ½æŒ‡æ ‡çš„æŒç»­ç›‘æ§ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fblader%2Fhumanizer" target="_blank" title="https://github.com/blader/humanizer" ref="nofollow noopener noreferrer">CaoMeiYouRen starred humanizer</a> - 2026-01-23 21:20:28
è¯¥å·¥å…·æ—¨åœ¨æ¶ˆé™¤ AI ç”Ÿæˆæ–‡æœ¬çš„ç‰¹å¾ç—•è¿¹ï¼Œä½¿å…¶æ›´æ¥è¿‘äººç±»å†™ä½œé£æ ¼ã€‚é¡¹ç›®åœ¨ GitHub ä¸Šè·å¾— 2907 ä¸ªæ˜Ÿæ ‡ï¼Œæ˜¾ç¤ºå…¶å—æ¬¢è¿ç¨‹åº¦ã€‚åŠŸèƒ½åŒ…æ‹¬è¯†åˆ«å¹¶ä¿®æ”¹ AI å†™ä½œçš„å…¸å‹æ¨¡å¼ï¼Œå¦‚è¿‡åº¦æ­£å¼çš„è¡¨è¾¾ã€ç‰¹å®šè¯æ±‡åå¥½ç­‰ã€‚é€šè¿‡ç®—æ³•è°ƒæ•´æ–‡æœ¬é£æ ¼ï¼Œä½¿å…¶æ›´è‡ªç„¶æµç•…ã€‚é€‚ç”¨äºéœ€è¦éšè— AI ç”Ÿæˆæ¥æºçš„åœºæ™¯ï¼Œå¦‚å†…å®¹åˆ›ä½œã€å­¦æœ¯å†™ä½œç­‰ã€‚é¡¹ç›®æ”¯æŒå¤šç§è¯­è¨€å¤„ç†ï¼Œå¸®åŠ©ç”¨æˆ·è§„é¿ AI æ£€æµ‹å·¥å…·çš„è¯†åˆ«ã€‚</li>
</ul>
<h2 data-id="heading-13">å…¶ä»–åšå®¢æˆ–å‘¨åˆŠæ¨è</h2>
<h3 data-id="heading-14">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</h3>
<ul>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2026%2F01%2Fweekly-issue-382.html" target="_blank" title="http://www.ruanyifeng.com/blog/2026/01/weekly-issue-382.html" ref="nofollow noopener noreferrer">ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 382 æœŸï¼‰ï¼šç‹¬ç«‹è½¯ä»¶çš„é»„æ˜</a> - 2026-01-23 08:13:47</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2026%2F01%2Fai-native-workspace.html" target="_blank" title="http://www.ruanyifeng.com/blog/2026/01/ai-native-workspace.html" ref="nofollow noopener noreferrer">AI native Workspace ä¹Ÿè®¸æ˜¯æ™ºèƒ½ä½“çš„ä¸‹ä¸€é˜¶æ®µ</a> - 2026-01-22 19:46:37</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2026%2F01%2Fweekly-issue-381.html" target="_blank" title="http://www.ruanyifeng.com/blog/2026/01/weekly-issue-381.html" ref="nofollow noopener noreferrer">ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 381 æœŸï¼‰ï¼šä¸­å›½ AI å¤§æ¨¡å‹é¢†å¯¼è€…åœ¨æƒ³ä»€ä¹ˆ</a> - 2026-01-16 08:13:47</li>
</ul>
<h3 data-id="heading-15">é˜¿çŒ«çš„åšå®¢</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fameow.xyz%2Farchives%2Fweekly-091" target="_blank" title="https://ameow.xyz/archives/weekly-091" ref="nofollow noopener noreferrer">çŒ«é±¼å‘¨åˆŠ vol. 091 2026 æ–°å¹´å¿«ä¹</a> - 2026-01-18 21:09:56</li>
</ul>
<h3 data-id="heading-16">æ½®æµå‘¨åˆŠ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.tw93.fun%2Fposts%2F255%2F" target="_blank" title="https://weekly.tw93.fun/posts/255/" ref="nofollow noopener noreferrer">ç¬¬ 255 æœŸ - å¥½åƒé¸¡ç¿…</a> - 2026-01-26 08:00:00</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.tw93.fun%2Fposts%2F254%2F" target="_blank" title="https://weekly.tw93.fun/posts/254/" ref="nofollow noopener noreferrer">ç¬¬ 254 æœŸ - äºŒé›¶äºŒå…­</a> - 2026-01-19 08:00:00</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.tw93.fun%2Fposts%2F253%2F" target="_blank" title="https://weekly.tw93.fun/posts/253/" ref="nofollow noopener noreferrer">ç¬¬ 253 æœŸ - çˆ±æ— äººæœº</a> - 2026-01-12 08:00:00</li>
</ul>
<h3 data-id="heading-17">äºŒä¸«è®²æ¢µçš„å­¦ä¹ å‘¨åˆŠ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwiki.eryajf.net%2Fpages%2Fd06784%2F" target="_blank" title="https://wiki.eryajf.net/pages/d06784/" ref="nofollow noopener noreferrer">å­¦ä¹ å‘¨åˆŠ-æ€»ç¬¬ 246 æœŸ-2026 å¹´ç¬¬ 03 å‘¨</a> - 2026-01-15 20:56:42</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwiki.eryajf.net%2Fpages%2F12031d%2F" target="_blank" title="https://wiki.eryajf.net/pages/12031d/" ref="nofollow noopener noreferrer">å­¦ä¹ å‘¨åˆŠ-æ€»ç¬¬ 247 æœŸ-2026 å¹´ç¬¬ 04 å‘¨</a> - 2026-01-22 21:26:13</li>
</ul>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>æœ¬å‘¨çš„æ›´æ–°å’ŒåŠ¨æ€å¦‚ä¸Šæ‰€ç¤ºã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼
æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¢é˜…è‰æ¢…å‘¨æŠ¥çš„æ›´æ–°ï¼š</p>
<ul>
<li><strong>åšå®¢</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd" target="_blank" title="https://blog.cmyr.ltd" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢</a></li>
<li><strong>å¢¨æ¢…åšå®¢</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmomei.app" target="_blank" title="https://momei.app" ref="nofollow noopener noreferrer">å¢¨æ¢…åšå®¢</a></li>
<li><strong>RSS</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Fweekly.xml" target="_blank" title="https://blog.cmyr.ltd/weekly.xml" ref="nofollow noopener noreferrer">è‰æ¢…å‘¨æŠ¥</a></li>
<li><strong>å…¬ä¼—å·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Foss.cmyr.dev%2Fimages%2F20241025184516839-21n2ctv.png" target="_blank" title="https://oss.cmyr.dev/images/20241025184516839-21n2ctv.png" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åèŠ±å›­</a></li>
<li><strong>é‚®ç®±è®¢é˜…</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flistmonk.cmyr.dev%2Fsubscription%2Fform" target="_blank" title="https://listmonk.cmyr.dev/subscription/form" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢è®¢é˜…</a></li>
</ul>
<p>æœ¬æ–‡ä½œè€…ï¼šè‰æ¢…å‹ä»<br/>æœ¬æ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2026-04-caomei-weekly-momei-1-2-0-release-ai-development.html" target="_blank" title="https://blog.cmyr.ltd/archives/2026-04-caomei-weekly-momei-1-2-0-release-ai-development.html" ref="nofollow noopener noreferrer">blog.cmyr.ltd/archives/20â€¦</a><br/>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡é‡‡ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcreativecommons.org%2Flicenses%2Fby-nc-sa%2F4.0%2Fdeed.zh-hans" target="_blank" title="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" ref="nofollow noopener noreferrer">CC BY-NC-SA 4.0 åè®®</a> è¿›è¡Œåˆ†å‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼<br/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ES åŸºæœ¬æ“ä½œ]]></title>    <link>https://juejin.cn/post/7598737609494790163</link>    <guid>https://juejin.cn/post/7598737609494790163</guid>    <pubDate>2026-01-25T15:36:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598737609494790163" data-draft-id="7598767580306292790" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ES åŸºæœ¬æ“ä½œ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-25T15:36:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å·¦Pythonå³Java"/> <meta itemprop="url" content="https://juejin.cn/user/4107431173952525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ES åŸºæœ¬æ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431173952525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å·¦Pythonå³Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T15:36:53.000Z" title="Sun Jan 25 2026 15:36:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-bash" lang="bash">GET _search
{
  <span class="hljs-string">"query"</span>: {
    <span class="hljs-string">"match_all"</span>: {}
  }
}

<span class="hljs-comment"># æŸ¥çœ‹esçš„ä¿¡æ¯</span>
GET /

<span class="hljs-comment"># æ–°å¢ç´¢å¼•åº“</span>
PUT /order
{
  <span class="hljs-string">"mappings"</span>: {
    <span class="hljs-string">"properties"</span>: {
      <span class="hljs-string">"info"</span>:{
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
        <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_smart"</span>
      },
      <span class="hljs-string">"brand"</span>:{
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"keyword"</span>
      }
    }
  }
}

<span class="hljs-comment"># æŸ¥è¯¢ç´¢å¼•åº“</span>
GET /order
GET /shopping
GET /user

<span class="hljs-comment"># åˆ é™¤ç´¢å¼•åº“</span>
DELETE /order

<span class="hljs-comment"># ä¿®æ”¹ç´¢å¼•åº“,åªèƒ½æ˜¯æ–°å¢å­—æ®µ</span>
PUT /order/_mapping
{
  <span class="hljs-string">"properties"</span>:{
    <span class="hljs-string">"number"</span>:{
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>
    }
  }
}

<span class="hljs-comment"># ä¿®æ”¹ç´¢å¼•åº“ï¼Œæ—§çš„å­—æ®µæŠ¥é”™</span>
PUT /order/_mapping
{
  <span class="hljs-string">"properties"</span>:{
    <span class="hljs-string">"number"</span>:{
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"long"</span>
    }
  }
}


<span class="hljs-comment"># æ’å…¥æ–‡æ¡£</span>
POST /order/_doc/1
{
  <span class="hljs-string">"info"</span>:<span class="hljs-string">"åä¸ºMate5"</span>,
  <span class="hljs-string">"brand"</span>:<span class="hljs-string">"åä¸º"</span>,
  <span class="hljs-string">"number"</span>: 10000
}

<span class="hljs-comment"># å…¨é‡ä¿®æ”¹ï¼Œå¦‚æœæ–‡æ¡£å­˜åœ¨ï¼Œå…ˆåˆ é™¤ï¼Œåæ–°å¢</span>
PUT /order/_doc/2
{
  <span class="hljs-string">"info"</span>:<span class="hljs-string">"è‹¹æœ16"</span>,
  <span class="hljs-string">"brand"</span>:<span class="hljs-string">"è‹¹æœ"</span>,
  <span class="hljs-string">"number"</span>: 30000
}

<span class="hljs-comment"># å±€éƒ¨ä¿®æ”¹</span>
POST /order/_doc/1/_update
{
    <span class="hljs-string">"doc"</span>:{
        <span class="hljs-string">"number"</span>: 111
    }
}


<span class="hljs-comment">#æŸ¥çœ‹æ–‡æ¡£</span>
GET /order/_doc/1

<span class="hljs-comment">#åˆ é™¤</span>
DELETE /order/_doc/2

<span class="hljs-comment">#æŸ¥çœ‹æ–‡æ¡£</span>
GET /shopping/_doc/1001
GET /user/_doc/1

<span class="hljs-comment"># æµ‹è¯•åˆ†è¯</span>
POST  /_analyze
{
  <span class="hljs-string">"text"</span>:<span class="hljs-string">"ç«™ç¨³å•¦ï¼Œè¦ä¸Šé«˜é€Ÿå•¦ï¼Œapple"</span>,
  <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"standard"</span>
}

POST  /_analyze
{
  <span class="hljs-string">"text"</span>:<span class="hljs-string">"ç«™ç¨³å•¦ï¼Œè¦ä¸Šé«˜é€Ÿå•¦ï¼Œapple"</span>,
  <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"english"</span>
}

POST  /_analyze
{
  <span class="hljs-string">"text"</span>:<span class="hljs-string">"ç«™ç¨³å•¦ï¼Œè¦ä¸Šé«˜é€Ÿå•¦ï¼Œapple"</span>,
  <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_max_word"</span>
}

POST  /_analyze
{
  <span class="hljs-string">"text"</span>:<span class="hljs-string">"ç«™ç¨³å•¦ï¼Œè¦ä¸Šé«˜é€Ÿå•¦ï¼Œapple"</span>,
  <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_smart"</span>
}

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¤– ä»é›¶åˆ°ä¸€ï¼šå¦‚ä½•å°† AI å¤šæ¨¡æ€é¡¹ç›®æ‹†è§£ä¸ºå¯å¤ç”¨çš„ Skills æ¨¡å—]]></title>    <link>https://juejin.cn/post/7598563188112556084</link>    <guid>https://juejin.cn/post/7598563188112556084</guid>    <pubDate>2026-01-25T14:46:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598563188112556084" data-draft-id="7598588085597683752" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¤– ä»é›¶åˆ°ä¸€ï¼šå¦‚ä½•å°† AI å¤šæ¨¡æ€é¡¹ç›®æ‹†è§£ä¸ºå¯å¤ç”¨çš„ Skills æ¨¡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-25T14:46:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼–ç¨‹å¹²è´§é“º"/> <meta itemprop="url" content="https://juejin.cn/user/52383084474680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¤– ä»é›¶åˆ°ä¸€ï¼šå¦‚ä½•å°† AI å¤šæ¨¡æ€é¡¹ç›®æ‹†è§£ä¸ºå¯å¤ç”¨çš„ Skills æ¨¡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/52383084474680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼–ç¨‹å¹²è´§é“º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T14:46:38.000Z" title="Sun Jan 25 2026 14:46:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p>æœ€è¿‘å®Œæˆäº†ä¸€ä¸ª AI å¤šæ¨¡æ€åº”ç”¨é¡¹ç›®ï¼ŒåŒ…å«èŠå¤©ã€ç¬”è®°ã€å›¾åƒç”Ÿæˆç­‰åŠŸèƒ½ã€‚æŠ€æœ¯æ ˆï¼Œå‰ç«¯é‡‡ç”¨ Vue3.5 ï¼Œåç«¯é‡‡ç”¨ Node.js çš„ Express æ¡†æ¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°å¾ˆå¤šåŠŸèƒ½æ¨¡å—åœ¨å…¶ä»–é¡¹ç›®ä¸­ä¹Ÿä¼šç”¨åˆ°ã€‚äºæ˜¯æˆ‘å¼€å§‹æ€è€ƒï¼šèƒ½å¦å°†è¿™äº›åŠŸèƒ½å°è£…æˆå¯å¤ç”¨çš„ Skillsï¼Œè®©æœªæ¥çš„é¡¹ç›®å¼€å‘æ›´é«˜æ•ˆï¼Ÿç»è¿‡å®è·µå’Œæ€»ç»“ï¼Œæˆ‘æ•´ç†å‡ºäº†ä¸€å¥—å®Œæ•´çš„æ¨¡å—åŒ–å°è£…æ–¹æ¡ˆã€‚ä»Šå¤©åˆ†äº«ç»™å¤§å®¶ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°æœ‰ç±»ä¼¼éœ€æ±‚çš„å¼€å‘è€…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9807d688ebf7448887103c584edc8bf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769957198&amp;x-signature=FvdFIg3ZprpQ5SkmAalCIC%2ByazE%3D" alt="87167886-be09-4656-875a-4f21afc0d71b.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">â“ ä¸ºä»€ä¹ˆéœ€è¦å°è£… Skillsï¼Ÿ</h2>
<p>åœ¨å¼€å‘ AI åº”ç”¨æ—¶ï¼Œæˆ‘å‘ç°å¾ˆå¤šåŠŸèƒ½éœ€è¦é‡æ–°å®ç°ï¼šç”¨æˆ·è®¤è¯ã€æ–‡ä»¶ä¸Šä¼ ã€æµå¼å“åº”å¤„ç†... è¿™äº›åŠŸèƒ½åœ¨ç¬¬ä¸€ä¸ªé¡¹ç›®ä¸­å·²ç»åšè¿‡äº†ï¼Œä½†ä»£ç æ•£è½åœ¨å„å¤„ï¼Œéš¾ä»¥å¤ç”¨ã€‚âš ï¸ ç—›ç‚¹ï¼š</p>
<ul>
<li>é‡å¤é€ è½®å­ï¼Œå¼€å‘æ•ˆç‡ä½</li>
<li>ä»£ç è´¨é‡å‚å·®ä¸é½ï¼Œç»´æŠ¤æˆæœ¬é«˜</li>
<li>å‰åç«¯æ¥å£ä¸ç»Ÿä¸€ï¼Œåä½œå›°éš¾</li>
<li>æœ€ä½³å®è·µéš¾ä»¥æ²‰æ·€å’Œå¤ç”¨</li>
</ul>
<p>âœ… è§£å†³æ–¹æ¡ˆï¼šå°†åŠŸèƒ½æŒ‰ä¸šåŠ¡æ¨¡å—å°è£…æˆ Skillsï¼ŒåŒ…å«å®Œæ•´çš„å‰åç«¯å®ç°ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ’¡ æˆ‘ä»¬çš„å°è£…æ€è·¯</h2>
<h2 data-id="heading-3">ğŸ“œ æ ¸å¿ƒåŸåˆ™</h2>
<ul>
<li>ä¸šåŠ¡å®Œæ•´æ€§ï¼šæŒ‰ä¸šåŠ¡åŠŸèƒ½æ¨¡å—æ‹†åˆ†ï¼ŒåŒ…å«å®Œæ•´çš„å‰åç«¯å®ç°</li>
<li>æŠ€æœ¯ç‹¬ç«‹æ€§ï¼šåŠŸèƒ½å¯ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸ä¾èµ–ç‰¹å®šä¸šåŠ¡é€»è¾‘</li>
<li>æ¥å£ä¸€è‡´æ€§ï¼šå‰åç«¯æ¥å£è§„èŒƒä¿æŒä¸€è‡´ï¼Œä¾¿äºåä½œ</li>
<li>é…ç½®é©±åŠ¨ï¼šé€šè¿‡é…ç½®å¯¹è±¡æ§åˆ¶è¡Œä¸ºï¼Œè€Œéç¡¬ç¼–ç </li>
</ul>
<h2 data-id="heading-4">ğŸ—‚ï¸ æ¨¡å—åˆ’åˆ†ç­–ç•¥</h2>
<p>æˆ‘ä»¬å°†é¡¹ç›®æ‹†åˆ†ä¸º 10 ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æ˜¯å®Œæ•´çš„åŠŸèƒ½å•å…ƒï¼Œå¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ” æ ¸å¿ƒæ¨¡å—è¯¦è§£</h2>
<h2 data-id="heading-6">ğŸ” Module 1: ç”¨æˆ·è®¤è¯ä¸æˆæƒ - æ¯ä¸ªåº”ç”¨çš„åŸºç¡€</h2>
<h3 data-id="heading-7">ğŸ“– åœºæ™¯</h3>
<p>å‡ ä¹æ¯ä¸ª Web åº”ç”¨éƒ½éœ€è¦ç”¨æˆ·ç³»ç»Ÿï¼Œä½†æ¯æ¬¡éƒ½è¦ä»é›¶å¼€å§‹å®ç°è®¤è¯é€»è¾‘ã€‚</p>
<h3 data-id="heading-8">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-9">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>JWT è®¤è¯ç³»ç»Ÿï¼šä½¿ç”¨ JWT ç”Ÿæˆ Tokenï¼Œå­˜å‚¨åœ¨ HttpOnly Cookie ä¸­ï¼Œé˜²æ­¢ XSS æ”»å‡»ã€‚æ”¯æŒ Token åˆ·æ–°æœºåˆ¶ï¼Œç”¨æˆ·æ— éœ€é¢‘ç¹é‡æ–°ç™»å½•ã€‚</li>
<li>å¯†ç åŠ å¯†ï¼šä½¿ç”¨ bcryptjs åŠ å¯†å¯†ç ï¼Œæ”¯æŒå¯é…ç½®çš„ç›å€¼è½®æ•°ï¼Œç¡®ä¿å¯†ç å®‰å…¨ã€‚</li>
<li>æ™ºèƒ½æå–ï¼šä¼˜å…ˆä» Cookie è·å– Tokenï¼Œå…¶æ¬¡ä» Authorization Headerï¼Œå…¼å®¹å¤šç§åœºæ™¯ã€‚</li>
<li>ç»Ÿä¸€å“åº”ï¼šæ‰©å±• Express Response å¯¹è±¡ï¼Œæ·»åŠ () æ–¹æ³•ï¼Œç»Ÿä¸€å“åº”æ ¼å¼ä¸º {status, message, data}ã€‚</li>
</ul>
<h3 data-id="heading-10">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>çŠ¶æ€ç®¡ç†ï¼šä½¿ç”¨ Pinia ç®¡ç†ç”¨æˆ·ä¿¡æ¯å’Œè®¤è¯çŠ¶æ€ï¼Œç™»å½•åè‡ªåŠ¨æ›´æ–°å…¨å±€çŠ¶æ€ã€‚</li>
<li>è¯·æ±‚æ‹¦æˆªï¼šåœ¨ axios è¯·æ±‚æ‹¦æˆªå™¨ä¸­è‡ªåŠ¨æ·»åŠ  Tokenï¼Œæ£€æµ‹åˆ° 401 é”™è¯¯æ—¶è‡ªåŠ¨åˆ·æ–° Tokenã€‚</li>
<li>è·¯ç”±å®ˆå«ï¼šæœªç™»å½•ç”¨æˆ·è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µï¼Œç™»å½•åè‡ªåŠ¨è·³è½¬åˆ°åŸè®¿é—®é¡µé¢ã€‚</li>
<li>è®°ä½ç™»å½•ï¼šæ”¯æŒ "è®°ä½æˆ‘" åŠŸèƒ½ï¼Œå»¶é•¿ç™»å½•æœ‰æ•ˆæœŸï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-11">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>æ–°é¡¹ç›®é›†æˆè®¤è¯æ¨¡å—åªéœ€ 1 å¤©ï¼Œè€Œä¸æ˜¯ 1 å‘¨ç»Ÿä¸€çš„æ¥å£è§„èŒƒï¼Œå‰åç«¯åä½œæ›´é¡ºç•…å®‰å…¨æœºåˆ¶å®Œå–„ï¼Œç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯</p>
<hr/>
<h2 data-id="heading-12">ğŸ’¬ Module 2: AI å¯¹è¯ä¸æµå¼å“åº” - è®© AI å¯¹è¯æ›´æµç•…</h2>
<h3 data-id="heading-13">ğŸ“– åœºæ™¯</h3>
<p>AI å¯¹è¯åº”ç”¨éœ€è¦å®æ—¶æ˜¾ç¤º AI å›å¤ï¼Œä¼ ç»Ÿçš„è¯·æ±‚ - å“åº”æ¨¡å¼ä½“éªŒå·®ï¼Œç”¨æˆ·éœ€è¦ç­‰å¾…å®Œæ•´å›å¤ã€‚</p>
<h3 data-id="heading-14">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-15">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>SSE æµå¼å“åº”ï¼šä½¿ç”¨ Server-Sent Events æŠ€æœ¯ï¼Œå®æ—¶æ¨é€ AI å›å¤ç»™å‰ç«¯ã€‚é…ç½®æ­£ç¡®çš„å“åº”å¤´ï¼Œç¦ç”¨ Nginx ç¼“å†²ï¼Œç¡®ä¿æ•°æ®å®æ—¶ä¼ è¾“ã€‚</li>
<li>ç¼“å†²åŒºæœºåˆ¶ï¼šè§£å†³æµå¼æ•°æ®åˆ†å‰²å¯¼è‡´çš„ JSON è§£æé—®é¢˜ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§ã€‚</li>
<li>å¤šæ¨¡å‹æ”¯æŒï¼šæ”¯æŒå¿«é€Ÿæ¨¡å‹å’Œæ·±åº¦æ€è€ƒæ¨¡å‹ï¼Œæ ¹æ®åœºæ™¯åŠ¨æ€åˆ‡æ¢ã€‚æ·±åº¦æ€è€ƒæ¨¡å‹æ”¯æŒæ€ç»´é“¾å±•ç¤ºï¼Œè®©ç”¨æˆ·äº†è§£ AI çš„æ€è€ƒè¿‡ç¨‹ã€‚</li>
<li>é”™è¯¯å¤„ç†ï¼šç½‘ç»œé”™è¯¯ã€è§£æé”™è¯¯ç­‰æƒ…å†µé€šè¿‡ SSE æ¨é€é”™è¯¯ä¿¡æ¯ï¼Œå‰ç«¯å¯ä»¥å®æ—¶å¤„ç†ã€‚</li>
</ul>
<h3 data-id="heading-16">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>æµå¼æ•°æ®å¤„ç†ï¼šä½¿ç”¨ fetch API å»ºç«‹ SSE è¿æ¥ï¼Œè§£ææµå¼æ•°æ®ï¼Œå®ç°æ‰“å­—æœºæ•ˆæœã€‚</li>
<li>å¤šè½®å¯¹è¯ï¼šè‡ªåŠ¨æ„å»ºåŒ…å«å®Œæ•´å¯¹è¯å†å²çš„ messages æ•°ç»„ï¼Œæœ€å¤šä¿ç•™æœ€è¿‘ 20 æ¡æ¶ˆæ¯ï¼Œå¹³è¡¡ä¸Šä¸‹æ–‡é•¿åº¦å’Œæ€§èƒ½ã€‚</li>
<li>Markdown æ¸²æŸ“ï¼šä½¿ç”¨ MarkdownIt è§£æ Markdown è¯­æ³•ï¼ŒPrism.js é«˜äº®ä»£ç å—ï¼Œæ”¯æŒä¸€é”®å¤åˆ¶ã€‚</li>
<li>è™šæ‹Ÿæ»šåŠ¨ï¼šä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨æŠ€æœ¯ï¼Œä»…æ¸²æŸ“å¯è§†åŒºåŸŸçš„æ¶ˆæ¯ï¼Œæ”¯æŒåŠ¨æ€é«˜åº¦å’Œåˆ†é¡µåŠ è½½ã€‚</li>
</ul>
<h3 data-id="heading-17">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>AI å›å¤å®æ—¶æ˜¾ç¤ºï¼Œç”¨æˆ·ä½“éªŒå¤§å¹…æå‡æ”¯æŒæ•°ä¸‡æ¡æ¶ˆæ¯çš„æµç•…æ»šåŠ¨ï¼Œæ€§èƒ½ä¼˜å¼‚ä»£ç é«˜äº®ã€è¡¨æ ¼ä¼˜åŒ–ç­‰ç»†èŠ‚å®Œå–„ï¼Œä¸“ä¸šæ„Ÿå¼º</p>
<hr/>
<h2 data-id="heading-18">ğŸ“¤ Module 3: æ–‡ä»¶ä¸Šä¼ ä¸ç®¡ç† - å®‰å…¨å¯é çš„æ–‡ä»¶å¤„ç†</h2>
<h3 data-id="heading-19">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·ä¸Šä¼ å¤´åƒã€å›¾ç‰‡ã€æ–‡æ¡£æ˜¯å¸¸è§éœ€æ±‚ï¼Œä½†æ–‡ä»¶éªŒè¯ã€å­˜å‚¨ç®¡ç†ã€å®‰å…¨é˜²æŠ¤ç­‰ç»†èŠ‚å®¹æ˜“å‡ºé”™ã€‚</p>
<h3 data-id="heading-20">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-21">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>æ–‡ä»¶éªŒè¯ï¼šä½¿ç”¨ Multer ä¸­é—´ä»¶ï¼Œé…ç½®æ–‡ä»¶ç±»å‹ç™½åå•ã€å¤§å°é™åˆ¶ï¼Œé˜²æ­¢æ¶æ„æ–‡ä»¶ä¸Šä¼ ã€‚</li>
</ul>

<ul>
<li>å”¯ä¸€æ–‡ä»¶åï¼šæ—¶é—´æˆ³ + éšæœºæ•° + åŸå§‹æ‰©å±•åï¼Œç¡®ä¿æ–‡ä»¶åå”¯ä¸€ï¼Œé¿å…è¦†ç›–ã€‚</li>
</ul>

<ul>
<li>æ—§æ–‡ä»¶æ¸…ç†ï¼šä¸Šä¼ æ–°æ–‡ä»¶æ—¶è‡ªåŠ¨åˆ é™¤æ—§æ–‡ä»¶ï¼Œé¿å…å­˜å‚¨æµªè´¹ã€‚</li>
</ul>

<ul>
<li>è·¯å¾„ç®¡ç†ï¼šç»Ÿä¸€ç®¡ç†ä¸Šä¼ æ–‡ä»¶è·¯å¾„ï¼ŒæŒ‰ç±»å‹åˆ†ç±»å­˜å‚¨ï¼ˆavatarsã€imagesã€documentsï¼‰ï¼Œä¾¿äºåç»­è¿ç§»ã€‚</li>
</ul>
<h3 data-id="heading-22">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>æ–‡ä»¶é¢„è§ˆï¼šä¸Šä¼ å‰é¢„è§ˆå›¾ç‰‡ï¼Œæ”¯æŒè£å‰ªå’Œæ—‹è½¬ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li>ä¸Šä¼ è¿›åº¦ï¼šæ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡ï¼Œæ”¯æŒå–æ¶ˆåŠŸèƒ½ï¼Œè®©ç”¨æˆ·äº†è§£ä¸Šä¼ çŠ¶æ€ã€‚</li>
<li>å¤šæ–‡ä»¶ä¸Šä¼ ï¼šæ”¯æŒæ‰¹é‡ä¸Šä¼ ï¼Œæ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„ä¸Šä¼ çŠ¶æ€ï¼Œä¾¿äºç®¡ç†ã€‚</li>
<li>å›¾ç‰‡æ‡’åŠ è½½ï¼šä½¿ç”¨ Intersection Observer å®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼Œä¼˜åŒ–é¦–å±åŠ è½½æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-23">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>æ–‡ä»¶ä¸Šä¼ å®‰å…¨å¯é ï¼Œç»è¿‡ç”Ÿäº§ç¯å¢ƒéªŒè¯ç”¨æˆ·ä½“éªŒå‹å¥½ï¼Œæ”¯æŒé¢„è§ˆã€è¿›åº¦æ˜¾ç¤ºç­‰åŠŸèƒ½å­˜å‚¨ç®¡ç†è§„èŒƒï¼Œä¾¿äºåç»­ç»´æŠ¤å’Œè¿ç§»</p>
<hr/>
<h2 data-id="heading-24">ğŸ“‹ Module 4: ä¼šè¯ç®¡ç†ç³»ç»Ÿ - å¤šåœºæ™¯ä¼šè¯ç®¡ç†</h2>
<h3 data-id="heading-25">ğŸ“– åœºæ™¯</h3>
<p>èŠå¤©ã€ç¬”è®°ã€å›¾åƒç”Ÿæˆç­‰ä¸åŒåœºæ™¯éƒ½éœ€è¦ä¼šè¯ç®¡ç†ï¼Œä½†æ¯ä¸ªåœºæ™¯çš„å®ç°æ–¹å¼ä¸åŒï¼Œéš¾ä»¥ç»Ÿä¸€ã€‚</p>
<h3 data-id="heading-26">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-27">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>å¤šç±»å‹æ”¯æŒï¼šä½¿ç”¨ ENUM ç±»å‹å®šä¹‰ä¼šè¯ç±»å‹ï¼ˆchatã€noteã€imageï¼‰ï¼Œç»Ÿä¸€ç®¡ç†ä¸åŒåœºæ™¯çš„ä¼šè¯ã€‚</li>
<li>çº§è”åˆ é™¤ï¼šåˆ é™¤ä¼šè¯æ—¶è‡ªåŠ¨åˆ é™¤å…³è”çš„æ¶ˆæ¯ã€ç¬”è®°ã€å›¾ç‰‡ç­‰æ•°æ®ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</li>
<li>åˆ†é¡µæŸ¥è¯¢ï¼šæ”¯æŒæŒ‰ç±»å‹ç­›é€‰ã€åˆ†é¡µæŸ¥è¯¢ï¼ŒæŒ‰æ—¶é—´å€’åºæ’åˆ—ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡ã€‚</li>
<li>ä¼šè¯ç»Ÿè®¡ï¼šç»Ÿè®¡ä¼šè¯æ•°é‡ã€æ¶ˆæ¯æ•°é‡ç­‰ï¼Œæ”¯æŒæ•°æ®åˆ†æã€‚</li>
</ul>
<h3 data-id="heading-28">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>å¤šæ¨¡å—æ”¯æŒï¼šæ”¯æŒèŠå¤©ã€ç¬”è®°ã€ç»˜ç”»ä¸‰ä¸ªæ¨¡å—ï¼Œç›‘å¬è·¯ç”±è‡ªåŠ¨åˆ‡æ¢ã€‚</li>
<li>ç‹¬ç«‹ç¼“å­˜ï¼šæ¯ä¸ªæ¨¡å—çš„ä¼šè¯åˆ—è¡¨ç‹¬ç«‹ç¼“å­˜ï¼Œäº’ä¸å¹²æ‰°ï¼Œæå‡åˆ‡æ¢é€Ÿåº¦ã€‚</li>
<li>æ™ºèƒ½é€‰ä¸­ï¼šåˆ‡æ¢æ¨¡å—æ—¶ä¼˜å…ˆä½¿ç”¨ç¼“å­˜çš„é€‰ä¸­ IDï¼Œç¼“å­˜ä¸ºç©ºæ—¶é€‰ä¸­ç¬¬ä¸€ä¸ªï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li>çŠ¶æ€æŒä¹…åŒ–ï¼šå½“å‰ä¼šè¯ ID æŒä¹…åŒ–åˆ° localStorageï¼Œé¡µé¢åˆ·æ–°åæ¢å¤ï¼Œä¿æŒç”¨æˆ·æ“ä½œè¿ç»­æ€§ã€‚</li>
</ul>
<h3 data-id="heading-29">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>ç»Ÿä¸€ç®¡ç†ä¸åŒåœºæ™¯çš„ä¼šè¯ï¼Œä»£ç æ›´ç®€æ´ç”¨æˆ·ä½“éªŒæµç•…ï¼Œåˆ‡æ¢æ¨¡å—æ— å¡é¡¿çŠ¶æ€ç®¡ç†å®Œå–„ï¼Œé¡µé¢åˆ·æ–°åçŠ¶æ€æ¢å¤</p>
<hr/>
<h2 data-id="heading-30">â­ Module 5: æ”¶è—ç³»ç»Ÿ - è®©ç”¨æˆ·è½»æ¾ç®¡ç†å†…å®¹</h2>
<h3 data-id="heading-31">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·éœ€è¦æ”¶è—é‡è¦çš„èŠå¤©è®°å½•ã€å›¾ç‰‡ç­‰å†…å®¹ï¼Œä½†æ”¶è—åŠŸèƒ½æ¶‰åŠæ‰¹é‡æ“ä½œã€åˆ†ç»„å±•ç¤ºç­‰å¤æ‚é€»è¾‘ã€‚</p>
<h3 data-id="heading-32">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-33">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>æ‰¹é‡æ”¶è—ï¼šæ”¯æŒæ‰¹é‡æ ‡è®°æ”¶è—ï¼Œç”Ÿæˆç»Ÿä¸€çš„æ‰¹æ¬¡ IDï¼ˆUUIDï¼‰ï¼Œä¾¿äºåç»­ç®¡ç†å’Œç»Ÿè®¡ã€‚</li>
<li>æ‰¹æ¬¡ç®¡ç†ï¼šä½¿ç”¨æ‰¹æ¬¡ ID å…³è”åŒä¸€æ‰¹æ”¶è—çš„å†…å®¹ï¼Œæ”¯æŒæŒ‰æ‰¹æ¬¡æŸ¥è¯¢å’Œåˆ é™¤ã€‚</li>
<li>ç»Ÿä¸€æ¥å£ï¼šæä¾›ç»Ÿä¸€çš„æ”¶è—æ¥å£ï¼Œæ”¯æŒä¸åŒç±»å‹çš„å†…å®¹ï¼ˆæ¶ˆæ¯ã€å›¾ç‰‡ç­‰ï¼‰ã€‚</li>
<li>æ”¶è—ç»Ÿè®¡ï¼šç»Ÿè®¡æ”¶è—æ•°é‡ã€æ‰¹æ¬¡æ•°é‡ç­‰ï¼Œæ”¯æŒçƒ­é—¨å†…å®¹æ¨èã€‚</li>
</ul>
<h3 data-id="heading-34">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>æ‰¹é‡é€‰æ‹©ï¼šç‚¹å‡»æ”¶è—æŒ‰é’®è¿›å…¥é€‰æ‹©æ¨¡å¼ï¼Œæ˜¾ç¤ºå¤é€‰æ¡†ï¼Œæ”¯æŒå¤šé€‰ã€‚</li>
<li>åˆ†ç»„å±•ç¤ºï¼šæŒ‰æ”¶è—æ‰¹æ¬¡åˆ†ç»„ï¼Œä½¿ç”¨æŠ˜å é¢æ¿å±•ç¤ºï¼Œä¾¿äºç”¨æˆ·ç®¡ç†ã€‚</li>
<li>æœç´¢è¿‡æ»¤ï¼šæ”¯æŒæŒ‰å†…å®¹æœç´¢ï¼Œå®æ—¶è¿‡æ»¤å±•ç¤ºï¼Œæå‡æŸ¥æ‰¾æ•ˆç‡ã€‚</li>
<li>çŠ¶æ€åŒæ­¥ï¼šæ”¶è—çŠ¶æ€å˜æ›´æ—¶åŒæ­¥æ›´æ–° UI å’Œå…¨å±€çŠ¶æ€ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</li>
</ul>
<h3 data-id="heading-35">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>æ”¶è—åŠŸèƒ½å®Œå–„ï¼Œæ”¯æŒæ‰¹é‡æ“ä½œå’Œåˆ†ç»„å±•ç¤ºç”¨æˆ·ä½“éªŒå‹å¥½ï¼ŒæŸ¥æ‰¾å’Œç®¡ç†æ”¶è—å†…å®¹ä¾¿æ·æ•°æ®ç»Ÿè®¡å®Œå–„ï¼Œæ”¯æŒçƒ­é—¨å†…å®¹æ¨è</p>
<hr/>
<h2 data-id="heading-36">âœï¸ Module 6: æç¤ºè¯ç®¡ç†ç³»ç»Ÿ - AI åº”ç”¨çš„æ•ˆç‡å·¥å…·</h2>
<h3 data-id="heading-37">ğŸ“– åœºæ™¯</h3>
<p>AI åº”ç”¨éœ€è¦é¢‘ç¹ä½¿ç”¨æç¤ºè¯ï¼Œä½†æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨è¾“å…¥ï¼Œæ•ˆç‡ä½ã€‚ç”¨æˆ·å¸Œæœ›æœ‰æç¤ºè¯åº“ï¼Œå¿«é€Ÿå¤ç”¨å¸¸ç”¨æç¤ºè¯ã€‚</p>
<h3 data-id="heading-38">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-39">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>åˆ†ç±»ç®¡ç†ï¼šæ”¯æŒåˆ›å»ºã€åˆ é™¤ã€æŸ¥è¯¢æç¤ºè¯åˆ†ç±»ï¼Œä¾¿äºç”¨æˆ·ç»„ç»‡æç¤ºè¯ã€‚</li>
<li>æ‰¹é‡æ“ä½œï¼šæ”¯æŒæ‰¹é‡æ·»åŠ ã€æ›´æ–°ã€åˆ é™¤æç¤ºè¯ï¼Œæå‡ç®¡ç†æ•ˆç‡ã€‚</li>
<li>ä½¿ç”¨ç»Ÿè®¡ï¼šè®°å½•æç¤ºè¯ä½¿ç”¨æ¬¡æ•°ã€æœ€åä½¿ç”¨æ—¶é—´ï¼Œæ”¯æŒçƒ­é—¨æ¨èã€‚</li>
<li>æœç´¢åŠŸèƒ½ï¼šæ”¯æŒæŒ‰æ ‡é¢˜å’Œå†…å®¹æœç´¢æç¤ºè¯ï¼Œæ”¯æŒæ¨¡ç³ŠåŒ¹é…ã€‚</li>
</ul>
<h3 data-id="heading-40">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>æç¤ºè¯é¢æ¿ï¼šç›‘å¬è¾“å…¥æ¡†è¾“å…¥ï¼Œæ£€æµ‹æ–œæ å­—ç¬¦ï¼ˆ/ï¼‰è§¦å‘é¢æ¿ï¼Œå±•ç¤ºæç¤ºè¯åˆ—è¡¨ã€‚</li>
<li>å®æ—¶æœç´¢ï¼šæ”¯æŒæŒ‰æ ‡é¢˜å’Œå†…å®¹æœç´¢ï¼Œå®æ—¶è¿‡æ»¤ï¼Œæå‡æŸ¥æ‰¾æ•ˆç‡ã€‚</li>
<li>é”®ç›˜å¯¼èˆªï¼šæ”¯æŒä¸Šä¸‹ç®­å¤´é”®å¯¼èˆªï¼Œå›è½¦é”®é€‰æ‹©ï¼Œæå‡æ“ä½œæ•ˆç‡ã€‚</li>
<li>å¿«é€Ÿæ’å…¥ï¼šé€‰æ‹©æç¤ºè¯åè‡ªåŠ¨æ’å…¥åˆ°è¾“å…¥æ¡†ï¼Œåˆ é™¤æ–œæ ï¼Œæ— ç¼ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-41">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>æç¤ºè¯ä½¿ç”¨æ•ˆç‡å¤§å¹…æå‡ï¼Œç”¨æˆ·æ»¡æ„åº¦é«˜æ”¯æŒåˆ†ç±»ç®¡ç†å’Œæœç´¢ï¼Œä¾¿äºç»„ç»‡å¤§é‡æç¤ºè¯ä½¿ç”¨ç»Ÿè®¡å®Œå–„ï¼Œæ”¯æŒçƒ­é—¨æ¨èï¼Œæå‡ç”¨æˆ·ä½“éªŒ</p>
<hr/>
<h2 data-id="heading-42">ğŸ““ Module 7: ç¬”è®°ç®¡ç†ç³»ç»Ÿ - å®Œæ•´çš„å†™ä½œå·¥å…·</h2>
<h3 data-id="heading-43">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·éœ€è¦å†™ç¬”è®°ï¼Œä½†ä¼ ç»Ÿçš„æ–‡æœ¬ç¼–è¾‘å™¨åŠŸèƒ½å•ä¸€ï¼Œç¼ºä¹ AI è¾…åŠ©ã€è¯­éŸ³è¾“å…¥ç­‰ç°ä»£åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-44">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-45">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>ç¬”è®°ç®¡ç†ï¼šæ”¯æŒåˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤ç¬”è®°ï¼Œå…³è”ç¬”è®°ä¼šè¯ï¼Œæ”¯æŒè½¯åˆ é™¤ã€‚</li>
<li>AI è¾…åŠ©å†™ä½œï¼šæ”¯æŒæ¶¦è‰²ã€æ‘˜è¦ã€ç¿»è¯‘ã€ç»­å†™å››ç§æ“ä½œç±»å‹ï¼Œä½¿ç”¨ SSE æµå¼è¿”å› AI ç”Ÿæˆå†…å®¹ã€‚</li>
<li>è¯­éŸ³è¯†åˆ«ï¼šä½¿ç”¨ WebSocket è¿æ¥è¯­éŸ³è¯†åˆ«æœåŠ¡ï¼Œæ”¯æŒå®æ—¶è¯­éŸ³è½¬æ–‡å­—ï¼Œæ’å…¥åˆ°ç¬”è®°ä¸­ã€‚</li>
</ul>
<h3 data-id="heading-46">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼šé›†æˆ WangEditorï¼Œæ”¯æŒä¸°å¯Œçš„æ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼Œè‡ªå®šä¹‰èœå•æ‰©å±• AI åŠŸèƒ½ã€‚</li>
<li>AI å†™ä½œåŠ©æ‰‹ï¼šæ”¯æŒå¿«æ·é”®è§¦å‘ï¼ˆCtrl+Altï¼‰ï¼Œæ ¹æ®é€‰ä¸­æ–‡æœ¬ã€å…‰æ ‡ä½ç½®å‡†å¤‡ AI è¾“å…¥ï¼Œæµå¼æ’å…¥ç”Ÿæˆå†…å®¹ã€‚</li>
<li>è¯­éŸ³è¯†åˆ«ï¼šä½¿ç”¨ AudioWorklet å¤„ç†éŸ³é¢‘ï¼Œå®æ—¶è½¬æ¢ä¸º PCM æ ¼å¼ï¼Œé€šè¿‡ WebSocket ä¼ è¾“ï¼Œè¯†åˆ«ç»“æœæ’å…¥ç¼–è¾‘å™¨ã€‚</li>
<li>è‡ªåŠ¨ä¿å­˜ï¼šç›‘å¬ç¼–è¾‘å™¨å†…å®¹å˜åŒ–ï¼Œ2 ç§’åè‡ªåŠ¨ä¿å­˜ï¼Œé¿å…æ•°æ®ä¸¢å¤±ã€‚</li>
</ul>
<h3 data-id="heading-47">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>ç¬”è®°åŠŸèƒ½å®Œå–„ï¼Œæ”¯æŒ AI è¾…åŠ©å’Œè¯­éŸ³è¾“å…¥ç”¨æˆ·ä½“éªŒæµç•…ï¼Œè‡ªåŠ¨ä¿å­˜ã€æµå¼æ’å…¥ç­‰åŠŸèƒ½å®Œå–„ç¼–è¾‘å™¨åŠŸèƒ½ä¸°å¯Œï¼Œæ»¡è¶³ä¸“ä¸šå†™ä½œéœ€æ±‚</p>
<hr/>
<h2 data-id="heading-48">ğŸ¨ Module 8: AI å›¾åƒç”Ÿæˆ - è®©åˆ›ä½œæ›´ç®€å•</h2>
<h3 data-id="heading-49">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·éœ€è¦ç”Ÿæˆ AI å›¾ç‰‡ï¼Œä½†å‚æ•°é…ç½®å¤æ‚ï¼Œç”Ÿæˆçš„å›¾ç‰‡éœ€è¦ç®¡ç†å’Œåˆ†äº«ã€‚</p>
<h3 data-id="heading-50">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-51">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>å›¾åƒç”Ÿæˆï¼šé›†æˆè±†åŒ… Seedream 4.0 å›¾åƒç”Ÿæˆ APIï¼Œæ”¯æŒå¤šç§å°ºå¯¸å’Œé£æ ¼å‚æ•°ã€‚</li>
<li>å›¾ç‰‡ç®¡ç†ï¼šä¸‹è½½ç”Ÿæˆçš„å›¾ç‰‡åˆ°æœ¬åœ°ï¼Œè®°å½•å›¾åƒä¿¡æ¯åˆ°æ•°æ®åº“ï¼Œå…³è”ä¼šè¯å’Œç”¨æˆ·ã€‚</li>
<li>æ”¶è—åŠŸèƒ½ï¼šæ”¯æŒæ”¶è—å’Œå–æ¶ˆæ”¶è—å›¾åƒï¼Œæ”¯æŒæŒ‰ç”¨æˆ·æŸ¥è¯¢æ”¶è—çš„å›¾åƒã€‚</li>
</ul>
<h3 data-id="heading-52">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>å¯¹è¯å¼äº¤äº’ï¼šä½¿ç”¨å¯¹è¯ç•Œé¢å±•ç¤ºç”¨æˆ·è¾“å…¥å’Œ AI å›å¤ï¼Œç”Ÿæˆè¿‡ç¨‹å¯è§†åŒ–ã€‚</li>
<li>å‚æ•°é…ç½®ï¼šæ”¯æŒé€‰æ‹©å›¾ç‰‡å°ºå¯¸ï¼ˆ1:1ã€3:4ã€16:9ã€4:3ï¼‰å’Œé£æ ¼ï¼ˆå†™å®ã€ç§‘å¹»ã€ç°ä»£ã€å¹»æƒ³ï¼‰ï¼Œé…ç½®ç®€å•ç›´è§‚ã€‚</li>
<li>å›¾ç‰‡å±•ç¤ºï¼šå±•ç¤ºç”Ÿæˆçš„å›¾ç‰‡ï¼Œæ”¯æŒæ”¾å¤§æŸ¥çœ‹ï¼Œå›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–æ€§èƒ½ã€‚</li>
<li>åˆ†äº«åŠŸèƒ½ï¼šç”Ÿæˆåˆ†äº«å¡ç‰‡ï¼ŒåŒ…å«å›¾ç‰‡ã€æç¤ºè¯ã€é£æ ¼ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œæ”¯æŒå¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</li>
</ul>
<h3 data-id="heading-53">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>å›¾åƒç”Ÿæˆæµç¨‹é¡ºç•…ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½å‚æ•°é…ç½®ç®€å•ï¼Œæ”¯æŒå¤šç§å°ºå¯¸å’Œé£æ ¼å›¾ç‰‡ç®¡ç†å’Œåˆ†äº«åŠŸèƒ½å®Œå–„ï¼Œæ»¡è¶³ç”¨æˆ·éœ€æ±‚</p>
<hr/>
<h2 data-id="heading-54">ğŸ”Š Module 9: è¯­éŸ³åŠŸèƒ½ - è®©äº¤äº’æ›´è‡ªç„¶</h2>
<h3 data-id="heading-55">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·éœ€è¦è¯­éŸ³è¾“å…¥å’Œè¯­éŸ³æœ—è¯»åŠŸèƒ½ï¼Œä½†éŸ³é¢‘å¤„ç†å¤æ‚ï¼Œéœ€è¦å¤„ç†æ ¼å¼è½¬æ¢ã€æµå¼ä¼ è¾“ç­‰é—®é¢˜ã€‚</p>
<h3 data-id="heading-56">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-57">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>è¯­éŸ³åˆæˆï¼ˆTTSï¼‰ï¼šä½¿ç”¨ WebSocket è¿æ¥ç«å±±å¼•æ“ TTSï¼Œå®æ—¶éŸ³é¢‘æ•°æ®æµå¼å†™å…¥å“åº”ï¼Œä¸ç¼“å­˜ï¼ŒO (1) å†…å­˜ã€‚</li>
<li>è¯­éŸ³è¯†åˆ«ï¼ˆASRï¼‰ï¼šä½¿ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œä½œä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ¡¥æ¢ï¼Œå¤„ç†åè®®è½¬æ¢ï¼Œæ”¯æŒå®æ—¶è¯­éŸ³è¯†åˆ«ã€‚</li>
</ul>
<h3 data-id="heading-58">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>è¯­éŸ³æœ—è¯»ï¼šAudio src æŒ‡å‘æµå¼æ¥å£ï¼Œæµè§ˆå™¨è‡ªåŠ¨æµå¼åŠ è½½ï¼Œæ”¯æŒæ’­æ”¾ / æš‚åœ / æ¢å¤ã€‚ä½¿ç”¨æ–‡æœ¬ Hash ä½œä¸ºç¼“å­˜ keyï¼Œç¼“å­˜æœ€è¿‘ 10 ä¸ªéŸ³é¢‘ï¼ŒåŒæ ·å†…å®¹ç§’çº§æ’­æ”¾ã€‚</li>
<li>è¯­éŸ³è¯†åˆ«ï¼šä½¿ç”¨ AudioWorklet å¤„ç†éŸ³é¢‘ï¼Œå®æ—¶è½¬æ¢ä¸º PCM æ ¼å¼ï¼Œé€šè¿‡ WebSocket ä¼ è¾“ï¼Œè¯†åˆ«ç»“æœå®æ—¶æ˜¾ç¤ºï¼Œæ’å…¥åˆ°è¾“å…¥æ¡†æˆ–ç¼–è¾‘å™¨ã€‚</li>
</ul>
<h3 data-id="heading-59">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>è¯­éŸ³åŠŸèƒ½å®Œå–„ï¼Œæ”¯æŒå®æ—¶è¯†åˆ«å’Œæµå¼æ’­æ”¾æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œæå‡ç”¨æˆ·ä½“éªŒéŸ³é¢‘å¤„ç†é«˜æ•ˆï¼Œæ€§èƒ½ä¼˜å¼‚</p>
<hr/>
<h2 data-id="heading-60">ğŸ“¤ Module 10: å†…å®¹å¯¼å‡ºä¸åˆ†äº« - è®©å†…å®¹ä¼ æ’­æ›´ä¾¿æ·</h2>
<h3 data-id="heading-61">ğŸ“– åœºæ™¯</h3>
<p>ç”¨æˆ·éœ€è¦å¯¼å‡ºèŠå¤©è®°å½•ã€ç¬”è®°ç­‰å†…å®¹ï¼Œä½†å¯¼å‡ºåŠŸèƒ½å¤æ‚ï¼Œéœ€è¦æ”¯æŒå¤šç§æ ¼å¼å’Œæ°´å°ä¿æŠ¤ã€‚</p>
<h3 data-id="heading-62">ğŸ“ æˆ‘ä»¬çš„æ–¹æ¡ˆ</h3>
<h3 data-id="heading-63">âš™ï¸ åç«¯å®ç°ï¼š</h3>
<ul>
<li>å†…å®¹å¯¼å‡ºï¼šæ”¯æŒå¯¼å‡ºä¸ºæ–‡æœ¬ã€Markdownã€HTML ç­‰æ ¼å¼ï¼Œæ”¯æŒæ‰¹é‡å¯¼å‡ºã€‚</li>
<li>åˆ†äº«é“¾æ¥ï¼šç”Ÿæˆåˆ†äº«é“¾æ¥ï¼Œæ”¯æŒè®¾ç½®æœ‰æ•ˆæœŸå’Œè®¿é—®æƒé™ã€‚</li>
</ul>
<h3 data-id="heading-64">ğŸ–¥ï¸ å‰ç«¯å®ç°ï¼š</h3>
<ul>
<li>æ‰¹é‡å¯¼å‡ºï¼šæ”¯æŒå¤šé€‰èŠå¤©è®°å½•ï¼Œé¢„è§ˆåå¯¼å‡ºä¸ºå›¾ç‰‡æˆ–æ–‡æ¡£ã€‚</li>
<li>é˜²ç¯¡æ”¹æ°´å°ï¼šä½¿ç”¨ Canvas ç”Ÿæˆæ°´å°ï¼ŒMutationObserver ç›‘å¬ DOM å˜åŒ–ï¼Œæ£€æµ‹åˆ°åˆ é™¤æˆ–ä¿®æ”¹æ—¶ 100ms å†…è‡ªåŠ¨æ¢å¤ã€‚</li>
<li>åˆ†äº«å¡ç‰‡ï¼šç”Ÿæˆåˆ†äº«å¡ç‰‡ï¼Œä½¿ç”¨ html2canvas è½¬æ¢ä¸ºå›¾ç‰‡ï¼Œæ”¯æŒå¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</li>
</ul>
<h3 data-id="heading-65">ğŸ“ˆ å®é™…æ•ˆæœ</h3>
<p>å¯¼å‡ºåŠŸèƒ½å®Œå–„ï¼Œæ”¯æŒå¤šç§æ ¼å¼æ°´å°ä¿æŠ¤æœºåˆ¶å®Œå–„ï¼Œé˜²æ­¢å†…å®¹è¢«åˆ é™¤åˆ†äº«åŠŸèƒ½ä¾¿æ·ï¼Œæ”¯æŒä¸€é”®å¤åˆ¶</p>
<h5 data-id="heading-66">å¤šæ¨¡æ€AIåº”ç”¨è®¾è®¡å›¾ï¼Œå³ä¸‹è§’å¯ä»¥æ‰«ç äº†è§£ï¼š</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/481cbf65366a432fba96b5901f5f6195~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yW56iL5bmy6LSn6ZO6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769957198&amp;x-signature=JShiNdnLz%2FZAWezf8qtDlgH4Vx8%3D" alt="è®¾è®¡å›¾ï¼ˆå¸¦äºŒç»´ç ï¼‰.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git ä»»åŠ¡åˆ‡æ¢è¡€æ³ªæŒ‡å—ï¼šä»æ‰‹å¿™è„šä¹±åˆ°å‹‰å¼ºæ‹¿æ]]></title>    <link>https://juejin.cn/post/7599017594519601178</link>    <guid>https://juejin.cn/post/7599017594519601178</guid>    <pubDate>2026-01-25T14:52:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599017594519601178" data-draft-id="7598921649888657435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git ä»»åŠ¡åˆ‡æ¢è¡€æ³ªæŒ‡å—ï¼šä»æ‰‹å¿™è„šä¹±åˆ°å‹‰å¼ºæ‹¿æ"/> <meta itemprop="keywords" content="Git,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-25T14:52:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†å­¦ä¸€ç‚¹å°±ç¡Orz"/> <meta itemprop="url" content="https://juejin.cn/user/671151992348125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git ä»»åŠ¡åˆ‡æ¢è¡€æ³ªæŒ‡å—ï¼šä»æ‰‹å¿™è„šä¹±åˆ°å‹‰å¼ºæ‹¿æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/671151992348125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†å­¦ä¸€ç‚¹å°±ç¡Orz
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T14:52:14.000Z" title="Sun Jan 25 2026 14:52:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€ä¸´æ—¶åˆ‡æ¢åˆ†æ”¯å¤„ç†ç´§æ€¥éœ€æ±‚ã€å¹¶è¡Œå¼€å‘å¤šä»»åŠ¡ã€‚æœ¬æ–‡ç³»ç»Ÿæ•´ç†äº† Git åˆ‡æ¢ä»»åŠ¡çš„å¸¸ç”¨æ–¹æ³•ï¼Œæ¶µç›–ä¸åŒåœºæ™¯çš„é€‚é…æ–¹æ¡ˆã€æ“ä½œç»†èŠ‚åŠæœ€ä½³å®è·µï¼Œå¸®ä½ é«˜æ•ˆåº”å¯¹å„ç±»ä»»åŠ¡åˆ‡æ¢åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-0">æ–¹æ³•ä¸€è§ˆ</h2>








































<table><thead><tr><th>æ–¹æ³•</th><th>æ ¸å¿ƒæ€è·¯</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>git stash</td><td>æš‚å­˜ä¿®æ”¹åˆ°æœ¬åœ°æ ˆä¸­</td><td>çŸ­æš‚åˆ‡æ¢ï¼ˆåˆ†é’Ÿçº§ï¼Œä¸´æ—¶æŸ¥çœ‹/ä¿®å°é—®é¢˜ï¼‰</td></tr><tr><td>git commit</td><td>æäº¤åŠæˆå“ä¸ºä¸´æ—¶è®°å½•</td><td>ä¸­é•¿æœŸåˆ‡æ¢ï¼ˆå°æ—¶/å¤©çº§ï¼Œè·¨æ—¶æ®µå¼€å‘ï¼‰</td></tr><tr><td>git worktree</td><td>å¤šç›®å½•å…±äº«ä»“åº“å¹¶è¡Œæ£€å‡º</td><td>é•¿æœŸå¹¶è¡Œå¼€å‘ï¼ˆå¤šä»»åŠ¡åŒæ­¥æ¨è¿›ï¼‰</td></tr><tr><td>git clone</td><td>å…‹éš†å¤šä»½ç‹¬ç«‹ä»“åº“å‰¯æœ¬</td><td>å®Œå…¨éš”ç¦»ç¯å¢ƒï¼ˆéœ€ç‹¬ç«‹é…ç½®/æµ‹è¯•ç ´åæ€§æ“ä½œï¼‰</td></tr><tr><td>git branch + reset</td><td>ä¿å­˜è¿›åº¦åˆ°ä¸´æ—¶åˆ†æ”¯</td><td>éœ€ä¿ç•™åˆ†æ”¯çº§è¿›åº¦è®°å½•ï¼ˆå›¢é˜Ÿåä½œåˆ†äº«è¿›åº¦ï¼‰</td></tr><tr><td>Patch æ–‡ä»¶</td><td>å¯¼å‡ºä¿®æ”¹ä¸ºç‹¬ç«‹æ–‡ä»¶</td><td>è·¨ä»“åº“/è·¨æœºå™¨è¿ç§»ä¿®æ”¹ï¼ˆæ— ç½‘ç»œ/ç¦»çº¿ä¼ è¾“ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">ä¸€ã€git stash - ä¸´æ—¶æš‚å­˜ä¿®æ”¹</h2>
<h3 data-id="heading-2">æ ¸å¿ƒåŸç†</h3>
<p>å°†å½“å‰å·¥ä½œåŒºã€æš‚å­˜åŒºçš„æœªæäº¤ä¿®æ”¹ï¼Œä¸´æ—¶ä¿å­˜åˆ° Git å†…ç½®çš„æ ˆç»“æ„ä¸­ï¼ŒåŒæ—¶å°†å·¥ä½œåŒºæ¢å¤è‡³å¹²å‡€çŠ¶æ€ï¼ˆä¸æœ€è¿‘ä¸€æ¬¡æäº¤ä¸€è‡´ï¼‰ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ‡æ¢åˆ†æ”¯ã€‚</p>
<h3 data-id="heading-3">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€æš‚å­˜ï¼ˆæ— æè¿°ï¼Œä¸æ¨èï¼‰</span>
git stash

<span class="hljs-comment"># å¸¦æè¿°æš‚å­˜ï¼ˆæ¨èï¼Œä¾¿äºåç»­è¯†åˆ«ï¼‰</span>
git stash save <span class="hljs-string">"feat: ç”¨æˆ·ç™»å½• - å®Œæˆè¡¨å•éªŒè¯é€»è¾‘"</span>
<span class="hljs-comment"># æ–°ç‰ˆè¯­æ³•ï¼ˆæ›´çµæ´»ï¼Œæ”¯æŒéƒ¨åˆ†æš‚å­˜ç­‰å‚æ•°ï¼‰</span>
git stash push -m <span class="hljs-string">"feat: ç”¨æˆ·ç™»å½• - å®Œæˆè¡¨å•éªŒè¯é€»è¾‘"</span>

<span class="hljs-comment"># æš‚å­˜æœªè·Ÿè¸ªæ–‡ä»¶ï¼ˆæ–°åˆ›å»ºæœªaddçš„æ–‡ä»¶ï¼‰</span>
git stash -u  <span class="hljs-comment"># ç®€å†™</span>
git stash --include-untracked  <span class="hljs-comment"># å®Œæ•´å†™æ³•</span>

<span class="hljs-comment"># æš‚å­˜æ‰€æœ‰æ–‡ä»¶ï¼ˆå«.gitignoreå¿½ç•¥çš„æ–‡ä»¶ï¼Œå¦‚æ—¥å¿—ã€ä¾èµ–åŒ…ï¼‰</span>
git stash -a  <span class="hljs-comment"># ç®€å†™</span>
git stash --all  <span class="hljs-comment"># å®Œæ•´å†™æ³•</span>

<span class="hljs-comment"># äº¤äº’å¼éƒ¨åˆ†æš‚å­˜ï¼ˆæŒ‰éœ€é€‰æ‹©è¦æš‚å­˜çš„æ–‡ä»¶/ä»£ç å—ï¼‰</span>
git stash -p  <span class="hljs-comment"># ç®€å†™</span>
git stash --patch  <span class="hljs-comment"># å®Œæ•´å†™æ³•</span>

<span class="hljs-comment"># æŸ¥çœ‹æš‚å­˜åˆ—è¡¨ï¼ˆæ‰€æœ‰å·²æš‚å­˜çš„è¿›åº¦è®°å½•ï¼‰</span>
git stash list

<span class="hljs-comment"># æŸ¥çœ‹æŒ‡å®šæš‚å­˜çš„å†…å®¹ï¼ˆstash@{0}ä¸ºæœ€è¿‘ä¸€æ¬¡æš‚å­˜ï¼Œæ•°å­—é€’å¢ï¼‰</span>
git stash show stash@{0}  <span class="hljs-comment"># æ˜¾ç¤ºç®€è¦å˜æ›´ç»Ÿè®¡</span>
git stash show -p stash@{0}  <span class="hljs-comment"># æ˜¾ç¤ºè¯¦ç»†diffï¼ˆæ¨èï¼ŒæŸ¥çœ‹å…·ä½“ä¿®æ”¹å†…å®¹ï¼‰</span>

<span class="hljs-comment"># æ¢å¤æš‚å­˜å†…å®¹</span>
git stash pop  <span class="hljs-comment"># æ¢å¤æœ€è¿‘ä¸€æ¬¡æš‚å­˜ï¼Œå¹¶ä»æ ˆä¸­åˆ é™¤è¯¥è®°å½•</span>
git stash apply  <span class="hljs-comment"># æ¢å¤æœ€è¿‘ä¸€æ¬¡æš‚å­˜ï¼Œä¿ç•™æ ˆä¸­è®°å½•ï¼ˆå¯å¤šæ¬¡å¤ç”¨ï¼‰</span>

<span class="hljs-comment"># æ¢å¤æŒ‡å®šæš‚å­˜ï¼ˆé€‚ç”¨äºå¤šæš‚å­˜åœºæ™¯ï¼‰</span>
git stash pop stash@{2}
git stash apply stash@{2}

<span class="hljs-comment"># åˆ é™¤æš‚å­˜è®°å½•</span>
git stash drop stash@{0}  <span class="hljs-comment"># åˆ é™¤æŒ‡å®šæš‚å­˜</span>
git stash clear  <span class="hljs-comment"># æ¸…ç©ºæ‰€æœ‰æš‚å­˜è®°å½•ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</span>

<span class="hljs-comment"># ä»æš‚å­˜åˆ›å»ºåˆ†æ”¯ï¼ˆè§£å†³æ¢å¤æ—¶å†²çªçš„æœ€ä¼˜æ–¹æ¡ˆï¼‰</span>
git stash branch feature/login-fix stash@{0}
</code></pre>
<h3 data-id="heading-4">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>æ“ä½œç®€æ´å¿«é€Ÿï¼Œé€‚åˆä¸´æ—¶åˆ‡æ¢</td><td>ä»…æ”¯æŒå•ç›®å½•å·¥ä½œï¼Œæ— æ³•å¹¶è¡Œæ“ä½œ</td></tr><tr><td>ä¸äº§ç”Ÿå†—ä½™æäº¤ï¼Œä¿æŒåˆ†æ”¯å†å²å¹²å‡€</td><td>æ¢å¤æ—¶å¯èƒ½ä¸ç›®æ ‡åˆ†æ”¯äº§ç”Ÿå†²çª</td></tr><tr><td>æ”¯æŒå¤šæš‚å­˜æ ˆç®¡ç†ï¼Œå¯ä¿ç•™å¤šä¸ªè¿›åº¦</td><td>æš‚å­˜ä»…å­˜å‚¨æœ¬åœ°ï¼Œæ— æ³•è¿œç¨‹å¤‡ä»½ï¼ˆæœ¬åœ°æ•…éšœæ˜“ä¸¢å¤±ï¼‰</td></tr><tr><td>æ”¯æŒäº¤äº’å¼éƒ¨åˆ†æš‚å­˜ï¼Œçµæ´»åº¦é«˜</td><td>æš‚å­˜è¿‡å¤šæ—¶æ˜“æ··ä¹±ï¼Œéœ€ä¾èµ–æ¸…æ™°æè¿°åŒºåˆ†</td></tr></tbody></table>
<h3 data-id="heading-5">æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æš‚å­˜å¿…å¸¦æè¿°ï¼Œæ˜ç¡®ä¸šåŠ¡åœºæ™¯å’Œè¿›åº¦</span>
git stash push -m <span class="hljs-string">"feat: ç”¨æˆ·ç™»å½• - å®Œæˆè¡¨å•éªŒè¯ï¼Œå¾…è”è°ƒæ¥å£"</span>

<span class="hljs-comment"># 2. å®šæœŸæ¸…ç†è¿‡æœŸæš‚å­˜ï¼Œé¿å…å †ç§¯</span>
git stash list  <span class="hljs-comment"># å…ˆæŸ¥çœ‹æ‰€æœ‰æš‚å­˜</span>
git stash drop stash@{5}  <span class="hljs-comment"># åˆ é™¤5å¤©å‰çš„è¿‡æœŸæš‚å­˜</span>

<span class="hljs-comment"># 3. æ¢å¤å‰å…ˆéªŒè¯æš‚å­˜å†…å®¹ï¼Œé¿å…è¯¯æ“ä½œ</span>
git stash show -p stash@{0}  <span class="hljs-comment"># ç¡®è®¤ä¿®æ”¹å†…å®¹</span>
git stash pop  <span class="hljs-comment"># ç¡®è®¤æ— è¯¯åæ¢å¤</span>
</code></pre>
<hr/>
<h2 data-id="heading-6">äºŒã€git commit - æäº¤åŠæˆå“æš‚å­˜</h2>
<h3 data-id="heading-7">æ ¸å¿ƒåŸç†</h3>
<p>å°†å½“å‰æœªå®Œæˆçš„ä¿®æ”¹ï¼Œä»¥ WIPï¼ˆWork In Progressï¼Œå·¥ä½œä¸­ï¼‰ä¸ºå‰ç¼€æäº¤ä¸ºä¸´æ—¶è®°å½•ï¼Œä½¿å·¥ä½œåŒºå¹²å‡€å¯åˆ‡æ¢åˆ†æ”¯ã€‚åç»­å®Œæˆå¼€å‘åï¼Œé€šè¿‡æ”¹å†™æäº¤ã€åˆå¹¶æäº¤ç­‰æ–¹å¼æ•´ç†åˆ†æ”¯å†å²ï¼Œä¿è¯å†å²è®°å½•çš„æ•´æ´æ€§ã€‚</p>
<h3 data-id="heading-8">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æäº¤åŠæˆå“ï¼ˆç»Ÿä¸€å‰ç¼€WIPï¼Œä¾¿äºåç»­è¯†åˆ«æ•´ç†ï¼‰</span>
git add .  <span class="hljs-comment"># æš‚å­˜æ‰€æœ‰ä¿®æ”¹ï¼ˆä¹Ÿå¯æŒ‰éœ€addæŒ‡å®šæ–‡ä»¶ï¼‰</span>
git commit -m <span class="hljs-string">"WIP: ç”¨æˆ·ç™»å½•åŠŸèƒ½ - å¼€å‘ä¸­ï¼ˆå®Œæˆè¡¨å•ä¸éªŒè¯ï¼‰"</span>

<span class="hljs-comment"># 2. åˆ‡æ¢åˆ†æ”¯å¤„ç†å…¶ä»–ä»»åŠ¡</span>
git checkout hotfix/online-bug  <span class="hljs-comment"># åˆ‡æ¢åˆ°çº¿ä¸Šbugä¿®å¤åˆ†æ”¯</span>
<span class="hljs-comment"># ... å®Œæˆbugä¿®å¤å¹¶æäº¤ ...</span>
git checkout feature/login  <span class="hljs-comment"># åˆ‡å›åŸå¼€å‘åˆ†æ”¯</span>

<span class="hljs-comment"># 3. ç»§ç»­å¼€å‘åï¼Œæ•´ç†ä¸´æ—¶æäº¤ï¼ˆ5ç§å¸¸ç”¨æ–¹å¼ï¼‰</span>
<span class="hljs-comment"># æ–¹å¼1ï¼šæ”¹å†™æœ€åä¸€æ¬¡æäº¤ï¼ˆé€‚ç”¨äºä»…éœ€è¡¥å……ä¿®æ”¹ï¼Œæ— éœ€æ–°å¢è®°å½•ï¼‰</span>
git add .
git commit --amend -m <span class="hljs-string">"feat: å®Œæˆç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼ˆå«è¡¨å•éªŒè¯ä¸æ¥å£è”è°ƒï¼‰"</span>

<span class="hljs-comment"># æ–¹å¼2ï¼šè¿½åŠ ä¿®æ”¹åˆ°æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸æ”¹å†™æäº¤ä¿¡æ¯ï¼‰</span>
git add .
git commit --amend --no-edit

<span class="hljs-comment"># æ–¹å¼3ï¼šäº¤äº’å¼åˆå¹¶å¤šä¸ªä¸´æ—¶æäº¤ï¼ˆé€‚ç”¨äºå¤šä¸ªWIPæäº¤ï¼Œéœ€æ•´ç†ä¸ºä¸€ä¸ªå®Œæ•´æäº¤ï¼‰</span>
git rebase -i HEAD~3  <span class="hljs-comment"># HEAD~3è¡¨ç¤ºåˆå¹¶æœ€è¿‘3æ¬¡æäº¤ï¼ˆæŒ‰éœ€è°ƒæ•´æ•°å­—ï¼‰</span>
<span class="hljs-comment"># ç¼–è¾‘å™¨ä¸­æ“ä½œï¼ˆæŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œä¿®æ”¹æŒ‡ä»¤åæŒ‰ESC+:wqä¿å­˜é€€å‡ºï¼‰ï¼š</span>
<span class="hljs-comment"># pick abc1234 WIP: å¼€å§‹å¼€å‘ç”¨æˆ·ç™»å½•</span>
<span class="hljs-comment"># squash def5678 WIP: å®Œæˆè¡¨å•éªŒè¯</span>
<span class="hljs-comment"># squash ghi9012 WIP: è”è°ƒæ¥å£å®Œæˆ</span>
<span class="hljs-comment"># ä¿å­˜åè¿›å…¥æäº¤ä¿¡æ¯ç¼–è¾‘é¡µï¼Œæ•´åˆä¸ºå®Œæ•´æè¿°</span>

<span class="hljs-comment"># æ–¹å¼4ï¼šè½¯é‡ç½®åé‡æ–°æäº¤ï¼ˆé€‚ç”¨äºéœ€å½»åº•é‡æ„æäº¤å†…å®¹ï¼‰</span>
git reset --soft HEAD~3  <span class="hljs-comment"># å›åˆ°3æ¬¡æäº¤å‰çš„çŠ¶æ€ï¼ˆä¿®æ”¹ä»ä¿ç•™åœ¨å·¥ä½œåŒºï¼‰</span>
git add .
git commit -m <span class="hljs-string">"feat: å®Œæˆç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼ˆè¡¨å•éªŒè¯+æ¥å£è”è°ƒ+å¼‚å¸¸å¤„ç†ï¼‰"</span>

<span class="hljs-comment"># æ–¹å¼5ï¼šfixupè‡ªåŠ¨åˆå¹¶ï¼ˆé€‚ç”¨äºå¿«é€Ÿåˆå¹¶åˆ°ç›®æ ‡æäº¤ï¼Œä¸¢å¼ƒä¸´æ—¶ä¿¡æ¯ï¼‰</span>
git commit --fixup=HEAD~2  <span class="hljs-comment"># å°†å½“å‰ä¿®æ”¹åˆå¹¶åˆ°å€’æ•°ç¬¬2æ¬¡æäº¤</span>
git rebase -i --autosquash HEAD~3  <span class="hljs-comment"># è‡ªåŠ¨æ•´ç†æäº¤ï¼ˆæ— éœ€æ‰‹åŠ¨è°ƒæ•´é¡ºåºï¼‰</span>
</code></pre>
<h3 data-id="heading-9">äº¤äº’å¼ Rebase æŒ‡ä»¤è¯´æ˜</h3>
<p>æ‰§è¡Œ <code>git rebase -i</code> åï¼Œç¼–è¾‘å™¨ä¸­æ”¯æŒä»¥ä¸‹æŒ‡ä»¤ï¼Œç”¨äºæ•´ç†æäº¤å†å²ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pick   = ä¿ç•™è¯¥æäº¤ï¼ˆé»˜è®¤æŒ‡ä»¤ï¼‰
reword = ä¿ç•™æäº¤å†…å®¹ï¼Œä¿®æ”¹æäº¤ä¿¡æ¯
edit   = ä¿ç•™æäº¤ï¼Œæš‚åœrebaseè¿‡ç¨‹ä»¥ä¾¿è¡¥å……ä¿®æ”¹
squash = åˆå¹¶åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œä¿ç•™è¯¥æäº¤çš„ä¿¡æ¯
fixup  = åˆå¹¶åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œä¸¢å¼ƒè¯¥æäº¤çš„ä¿¡æ¯ï¼ˆä»…ä¿ç•™å†…å®¹ï¼‰
drop   = åˆ é™¤è¯¥æäº¤
</code></pre>
<h3 data-id="heading-10">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>æäº¤è®°å½•å¯è¿œç¨‹æ¨é€å¤‡ä»½ï¼Œæ•°æ®å®‰å…¨åº¦é«˜</td><td>äº§ç”Ÿä¸´æ—¶æäº¤ï¼Œéœ€åç»­æ‰‹åŠ¨æ•´ç†å†å²</td></tr><tr><td>æ”¯æŒé•¿æ—¶é—´è·¨åˆ†æ”¯åˆ‡æ¢ï¼Œè¿›åº¦ä¸æ˜“ä¸¢å¤±</td><td>Rebase æ“ä½œæœ‰å­¦ä¹ æˆæœ¬ï¼Œæ–°æ‰‹æ˜“å‡ºé”™</td></tr><tr><td>å¯åˆ†äº«ä¸´æ—¶è¿›åº¦ç»™å›¢é˜Ÿæˆå‘˜ï¼Œä¾¿äºåä½œ</td><td>å·²æ¨é€åˆ°è¿œç¨‹çš„ä¸´æ—¶æäº¤ï¼Œæ•´ç†åéœ€å¼ºåˆ¶æ¨é€ï¼ˆå½±å“å›¢é˜Ÿåä½œï¼‰</td></tr><tr><td>æäº¤å†å²å¯çµæ´»æ•´ç†ï¼Œæœ€ç»ˆä¿æŒæ•´æ´</td><td>ä¸´æ—¶æäº¤è¿‡å¤šæ—¶ï¼Œæ•´ç†æ•ˆç‡è¾ƒä½</td></tr></tbody></table>
<h3 data-id="heading-11">æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä¸´æ—¶æäº¤ç»Ÿä¸€è§„èŒƒå‰ç¼€ï¼Œä¾¿äºæ‰¹é‡è¯†åˆ«</span>
git commit -m <span class="hljs-string">"WIP: [ç”¨æˆ·ç™»å½•] è¡¨å•éªŒè¯å¼€å‘ä¸­"</span>
git commit -m <span class="hljs-string">"WIP: [è®¢å•æ¨¡å—] æ”¯ä»˜æµç¨‹è”è°ƒä¸­"</span>

<span class="hljs-comment"># 2. å¼€å‘å®Œæˆåä¸€æ¬¡æ€§æ•´ç†ï¼Œé¿å…é¢‘ç¹æ“ä½œ</span>
git rebase -i HEAD~n  <span class="hljs-comment"># nä¸ºä¸´æ—¶æäº¤æ•°é‡ï¼ŒæŒ‰éœ€è°ƒæ•´</span>

<span class="hljs-comment"># 3. å›¢é˜Ÿåä½œæ—¶ï¼Œä¼˜å…ˆä½¿ç”¨fixup+autosquashï¼Œæé«˜æ•´ç†æ•ˆç‡</span>
git commit --fixup=&lt;ç›®æ ‡æäº¤å“ˆå¸Œ&gt;
git rebase -i --autosquash HEAD~n
</code></pre>
<hr/>
<h2 data-id="heading-12">ä¸‰ã€git worktree - å¤šç›®å½•å¹¶è¡Œå¼€å‘</h2>
<h3 data-id="heading-13">æ ¸å¿ƒåŸç†</h3>
<p>åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºå¤šä¸ªç‹¬ç«‹å·¥ä½œç›®å½•ï¼Œæ‰€æœ‰ç›®å½•å…±äº«åŒä¸€ä¸ª .git ä»“åº“ï¼ˆé¿å…é‡å¤å­˜å‚¨ï¼‰ï¼Œæ¯ä¸ªç›®å½•å¯æ£€å‡ºä¸åŒåˆ†æ”¯ï¼Œå®ç°å¤šä»»åŠ¡å¹¶è¡Œå¼€å‘ï¼Œæ— éœ€é¢‘ç¹æš‚å­˜/æäº¤ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-14">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ·»åŠ worktreeï¼ˆæ£€å‡ºå·²æœ‰åˆ†æ”¯åˆ°æŒ‡å®šç›®å½•ï¼‰</span>
git worktree add &lt;ç›®å½•è·¯å¾„&gt; &lt;åˆ†æ”¯å&gt;
<span class="hljs-comment"># ç¤ºä¾‹ï¼šåœ¨ä¸Šçº§ç›®å½•åˆ›å»ºhotfixåˆ†æ”¯çš„å·¥ä½œç›®å½•</span>
git worktree add ../project-hotfix hotfix/online-01

<span class="hljs-comment"># 2. æ·»åŠ worktreeå¹¶åˆ›å»ºæ–°åˆ†æ”¯</span>
git worktree add -b &lt;æ–°åˆ†æ”¯å&gt; &lt;ç›®å½•è·¯å¾„&gt; [èµ·å§‹åˆ†æ”¯]
<span class="hljs-comment"># ç¤ºä¾‹ï¼šåŸºäºmainåˆ†æ”¯åˆ›å»ºç™»å½•åŠŸèƒ½åˆ†æ”¯çš„worktree</span>
git worktree add -b feature/login ../project-login main

<span class="hljs-comment"># 3. æ£€å‡ºç‰¹å®šæäº¤ï¼ˆè„±ç¦»åˆ†æ”¯ï¼Œä»…ç”¨äºæŸ¥çœ‹/æµ‹è¯•å†å²ç‰ˆæœ¬ï¼‰</span>
git worktree add --detach &lt;ç›®å½•è·¯å¾„&gt; &lt;æäº¤å“ˆå¸Œ/æ ‡ç­¾&gt;
<span class="hljs-comment"># ç¤ºä¾‹ï¼šæ£€å‡ºv1.0.0ç‰ˆæœ¬æŸ¥çœ‹å†å²ä»£ç </span>
git worktree add --detach ../project-v1.0 v1.0.0

<span class="hljs-comment"># 4. æŸ¥çœ‹æ‰€æœ‰worktreeï¼ˆå«è·¯å¾„ã€åˆ†æ”¯ã€çŠ¶æ€ï¼‰</span>
git worktree list
git worktree list --porcelain  <span class="hljs-comment"># æœºå™¨å¯è¯»æ ¼å¼ï¼ˆè„šæœ¬è‡ªåŠ¨åŒ–ç”¨ï¼‰</span>

<span class="hljs-comment"># 5. åˆ é™¤worktreeï¼ˆå·¥ä½œå®Œæˆåæ¸…ç†ï¼‰</span>
git worktree remove &lt;ç›®å½•è·¯å¾„&gt;
<span class="hljs-comment"># ç¤ºä¾‹ï¼šåˆ é™¤hotfixåˆ†æ”¯çš„worktree</span>
git worktree remove ../project-hotfix

<span class="hljs-comment"># 6. å¼ºåˆ¶åˆ é™¤ï¼ˆç›®å½•å†…æœ‰æœªæäº¤ä¿®æ”¹æ—¶ï¼‰</span>
git worktree remove --force ../project-hotfix

<span class="hljs-comment"># 7. ç§»åŠ¨worktreeç›®å½•ï¼ˆè°ƒæ•´å­˜å‚¨è·¯å¾„ï¼‰</span>
git worktree move &lt;åŸè·¯å¾„&gt; &lt;æ–°è·¯å¾„&gt;

<span class="hljs-comment"># 8. æ¸…ç†æ— æ•ˆworktreeè®°å½•ï¼ˆç›®å½•è¢«æ‰‹åŠ¨åˆ é™¤åï¼Œæ¸…ç†æ®‹ç•™è®°å½•ï¼‰</span>
git worktree prune

<span class="hljs-comment"># 9. é”å®š/è§£é”worktreeï¼ˆé˜²æ­¢è¯¯åˆ é™¤/æ¸…ç†ï¼‰</span>
git worktree lock &lt;ç›®å½•è·¯å¾„&gt;  <span class="hljs-comment"># é”å®š</span>
git worktree unlock &lt;ç›®å½•è·¯å¾„&gt;  <span class="hljs-comment"># è§£é”</span>
</code></pre>
<h3 data-id="heading-15">å…¸å‹ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">~/projects/
â”œâ”€â”€ my-project/          # ä¸»å·¥ä½œç›®å½•ï¼ˆæ£€å‡ºmainåˆ†æ”¯ï¼‰
â”‚   â”œâ”€â”€ .git/            # æ‰€æœ‰worktreeå…±äº«çš„Gitä»“åº“
â”‚   â””â”€â”€ src/             # ä¸šåŠ¡ä»£ç ç›®å½•
â”œâ”€â”€ my-project-hotfix/   # Worktreeç›®å½•ï¼ˆæ£€å‡ºhotfixåˆ†æ”¯ï¼‰
â”‚   â””â”€â”€ src/             # ç‹¬ç«‹å¼€å‘hotfixï¼Œä¸å½±å“ä¸»ç›®å½•
â””â”€â”€ my-project-login/    # Worktreeç›®å½•ï¼ˆæ£€å‡ºfeature/loginåˆ†æ”¯ï¼‰
    â””â”€â”€ src/             # å¹¶è¡Œå¼€å‘ç™»å½•åŠŸèƒ½
</code></pre>
<h3 data-id="heading-16">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>å¤šç›®å½•å¹¶è¡Œå¼€å‘ï¼Œæ— éœ€æš‚å­˜/æäº¤</td><td>æ¯ä¸ªworktreeå ç”¨ç‹¬ç«‹ç£ç›˜ç©ºé—´ï¼ˆé‡å¤å­˜å‚¨ä»£ç æ–‡ä»¶ï¼‰</td></tr><tr><td>å…±äº«.gitä»“åº“ï¼ŒèŠ‚çœå­˜å‚¨èµ„æº</td><td>åŒä¸€åˆ†æ”¯æ— æ³•åœ¨å¤šä¸ªworktreeä¸­åŒæ—¶æ£€å‡º</td></tr><tr><td>åˆ‡æ¢ä»»åŠ¡ä»…éœ€åˆ‡æ¢ç›®å½•ï¼Œæ•ˆç‡æé«˜</td><td>éœ€ç®¡ç†å¤šä¸ªç›®å½•ï¼Œè·¯å¾„åˆ‡æ¢ç•¥ç¹ç</td></tr><tr><td>å„ç›®å½•ç¯å¢ƒç‹¬ç«‹ï¼Œäº’ä¸å½±å“</td><td>åˆæ¬¡ä½¿ç”¨éœ€ç†Ÿæ‚‰æŒ‡ä»¤ï¼Œæœ‰ä¸€å®šå­¦ä¹ æˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-17">æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ç›®å½•å‘½åè§„èŒƒï¼Œå…³è”åˆ†æ”¯ç”¨é€”ï¼ˆä¾¿äºè¯†åˆ«ï¼‰</span>
git worktree add ../project-hotfix-01 hotfix/online-01
git worktree add ../project-feat-login feature/login

<span class="hljs-comment"># 2. ä»»åŠ¡å®ŒæˆååŠæ—¶æ¸…ç†ï¼Œé¿å…ç›®å½•å †ç§¯</span>
git worktree remove ../project-hotfix-01
git worktree prune  <span class="hljs-comment"># æ¸…ç†æ®‹ç•™è®°å½•</span>

<span class="hljs-comment"># 3. å®šæœŸæŸ¥çœ‹worktreeçŠ¶æ€ï¼ŒæŒæ¡æ‰€æœ‰å¹¶è¡Œä»»åŠ¡</span>
git worktree list
</code></pre>
<hr/>
<h2 data-id="heading-18">å››ã€git clone - å¤šä»“åº“ç‹¬ç«‹éƒ¨ç½²</h2>
<h3 data-id="heading-19">æ ¸å¿ƒåŸç†</h3>
<p>ç›´æ¥å…‹éš†å¤šä»½å®Œæ•´çš„ä»“åº“å‰¯æœ¬ï¼Œæ¯ä»½å‰¯æœ¬æ‹¥æœ‰ç‹¬ç«‹çš„ .git ä»“åº“ã€å·¥ä½œåŒºåŠé…ç½®ï¼Œå®Œå…¨éš”ç¦»äº’ä¸å½±å“ã€‚é€‚åˆéœ€è¦ç‹¬ç«‹ç¯å¢ƒé…ç½®ã€æµ‹è¯•ç ´åæ€§æ“ä½œçš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-20">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. ä»è¿œç¨‹ä»“åº“å…‹éš†å¤šä»½ï¼ˆä¸åŒç›®å½•ååŒºåˆ†ï¼‰</span>
git <span class="hljs-built_in">clone</span> git@github.com:user/my-project.git project-main  <span class="hljs-comment"># ä¸»ä»“åº“ï¼ˆmainåˆ†æ”¯ï¼‰</span>
git <span class="hljs-built_in">clone</span> git@github.com:user/my-project.git project-hotfix  <span class="hljs-comment"># hotfixä¸“ç”¨ä»“åº“</span>

<span class="hljs-comment"># 2. ä»æœ¬åœ°ä»“åº“å…‹éš†ï¼ˆé€Ÿåº¦æ›´å¿«ï¼Œé¿å…é‡å¤æ‹‰å–è¿œç¨‹ä»£ç ï¼‰</span>
git <span class="hljs-built_in">clone</span> ./project-main ./project-hotfix

<span class="hljs-comment"># 3. æµ…å…‹éš†ï¼ˆä»…æ‹‰å–æœ€æ–°ç‰ˆæœ¬ä»£ç ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´å’Œæ—¶é—´ï¼‰</span>
git <span class="hljs-built_in">clone</span> --depth 1 git@github.com:user/my-project.git project-quick
<span class="hljs-comment"># æµ…å…‹éš†ä»…å«æœ€è¿‘1æ¬¡æäº¤ï¼Œå¦‚éœ€å®Œæ•´å†å²å¯è¡¥å……æ‹‰å–</span>
git fetch --unshallow
</code></pre>
<h3 data-id="heading-21">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>ç¯å¢ƒå®Œå…¨ç‹¬ç«‹ï¼Œæ— ç›¸äº’å½±å“é£é™©</td><td>å¤šä»½ä»“åº“å ç”¨å¤§é‡ç£ç›˜ç©ºé—´ï¼ˆé‡å¤å­˜å‚¨.gitå’Œä»£ç ï¼‰</td></tr><tr><td>å¯é…ç½®ä¸åŒè¿œç¨‹ä»“åº“/ç”¨æˆ·åï¼Œçµæ´»åº¦é«˜</td><td>éœ€åˆ†åˆ«æ‹‰å–/æ¨é€ä»£ç ï¼ŒåŒæ­¥æˆæœ¬é«˜</td></tr><tr><td>æ“ä½œç®€å•ç›´æ¥ï¼Œæ— éœ€å­¦ä¹ å¤æ‚æŒ‡ä»¤</td><td>åˆ†æ”¯çŠ¶æ€ä¸å…±äº«ï¼Œéœ€æ‰‹åŠ¨åŒæ­¥è¿›åº¦</td></tr><tr><td>æ”¯æŒæµ‹è¯•ç ´åæ€§æ“ä½œï¼ˆå¦‚å¼ºåˆ¶é‡ç½®ã€åˆ é™¤åˆ†æ”¯ï¼‰</td><td>ç®¡ç†æˆæœ¬é«˜ï¼Œå¤šä»“åº“åˆ‡æ¢ç¹ç</td></tr></tbody></table>
<h3 data-id="heading-22">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>éœ€è¦ç‹¬ç«‹é…ç½®ï¼ˆå¦‚ä¸åŒç¯å¢ƒå˜é‡ã€ä¾èµ–ç‰ˆæœ¬ï¼‰çš„å¼€å‘åœºæ™¯ï¼›</li>
<li>æµ‹è¯•ç ´åæ€§æ“ä½œï¼ˆå¦‚é‡æ„åˆ†æ”¯ã€å¼ºåˆ¶åˆå¹¶ï¼‰ï¼Œé¿å…å½±å“ä¸»å¼€å‘ç¯å¢ƒï¼›</li>
<li>å¤šè´¦å·å¼€å‘ï¼ˆå¦‚åŒæ—¶ä½¿ç”¨ä¸ªäººè´¦å·å’Œå·¥ä½œè´¦å·æ“ä½œåŒä¸€ä»“åº“ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-23">äº”ã€git branch + reset - ä¸´æ—¶åˆ†æ”¯ä¿å­˜è¿›åº¦</h2>
<h3 data-id="heading-24">æ ¸å¿ƒåŸç†</h3>
<p>åˆ›å»ºä¸´æ—¶åˆ†æ”¯ä¿å­˜å½“å‰å¼€å‘è¿›åº¦ï¼ˆå«æœªæäº¤ä¿®æ”¹ï¼‰ï¼Œç„¶åå°†åŸåˆ†æ”¯é‡ç½®åˆ°å¹²å‡€çŠ¶æ€ä»¥åˆ‡æ¢ä»»åŠ¡ã€‚åç»­å¯é€šè¿‡åˆå¹¶ã€æ‹£é€‰æäº¤ç­‰æ–¹å¼ï¼Œå°†ä¸´æ—¶åˆ†æ”¯çš„è¿›åº¦æ¢å¤åˆ°åŸåˆ†æ”¯ï¼Œä¿ç•™å®Œæ•´çš„åˆ†æ”¯è¿›åº¦è®°å½•ã€‚</p>
<h3 data-id="heading-25">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³•ä¸€ï¼šå®Œæ•´æµç¨‹ï¼ˆä¿ç•™è¯¦ç»†è®°å½•ï¼‰</span>
git stash  <span class="hljs-comment"># æš‚å­˜æœªæäº¤ä¿®æ”¹</span>
git branch temp-save-$(<span class="hljs-built_in">date</span> +%Y%m%d)  <span class="hljs-comment"># åˆ›å»ºå¸¦æ—¥æœŸçš„ä¸´æ—¶åˆ†æ”¯ï¼ˆé¿å…å‘½åå†²çªï¼‰</span>
git stash pop  <span class="hljs-comment"># æ¢å¤æš‚å­˜å†…å®¹</span>
git add .  <span class="hljs-comment"># æš‚å­˜æ‰€æœ‰ä¿®æ”¹</span>
git commit -m <span class="hljs-string">"temp: ä¿å­˜ç”¨æˆ·ç™»å½•å¼€å‘è¿›åº¦ï¼ˆè¡¨å•éªŒè¯å®Œæˆï¼‰"</span>
git checkout main  <span class="hljs-comment"># åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯å¤„ç†ä»»åŠ¡</span>
<span class="hljs-comment"># ... å®Œæˆå…¶ä»–ä»»åŠ¡å ...</span>
git checkout feature/login  <span class="hljs-comment"># åˆ‡å›åŸå¼€å‘åˆ†æ”¯</span>
git cherry-pick temp-save-20240124  <span class="hljs-comment"># æ‹£é€‰ä¸´æ—¶åˆ†æ”¯çš„è¿›åº¦</span>
git branch -D temp-save-20240124  <span class="hljs-comment"># æ¸…ç†ä¸´æ—¶åˆ†æ”¯</span>

<span class="hljs-comment"># æ–¹æ³•äºŒï¼šç®€åŒ–æµç¨‹ï¼ˆå¿«é€Ÿå¤‡ä»½ï¼‰</span>
git checkout -b temp-backup  <span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ°ä¸´æ—¶åˆ†æ”¯</span>
git add .  <span class="hljs-comment"># æš‚å­˜æ‰€æœ‰ä¿®æ”¹</span>
git commit -m <span class="hljs-string">"temp: å¤‡ä»½ç”¨æˆ·ç™»å½•å¼€å‘è¿›åº¦"</span>
git checkout feature/login  <span class="hljs-comment"># åˆ‡å›åŸåˆ†æ”¯</span>
git reset --hard HEAD~1  <span class="hljs-comment"># é‡ç½®åˆ°æäº¤å‰çŠ¶æ€ï¼ˆå¹²å‡€å·¥ä½œåŒºï¼‰</span>
<span class="hljs-comment"># ... å®Œæˆå…¶ä»–ä»»åŠ¡å ...</span>
git merge temp-backup  <span class="hljs-comment"># åˆå¹¶ä¸´æ—¶åˆ†æ”¯è¿›åº¦</span>
git branch -D temp-backup  <span class="hljs-comment"># æ¸…ç†ä¸´æ—¶åˆ†æ”¯</span>
</code></pre>
<h3 data-id="heading-26">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è¿›åº¦ä»¥åˆ†æ”¯å½¢å¼å­˜å‚¨ï¼Œå¯è¿œç¨‹æ¨é€å¤‡ä»½</td><td>æ“ä½œæ­¥éª¤è¾ƒå¤šï¼Œæ¯”stashç¹ç</td></tr><tr><td>æ”¯æŒæ‹£é€‰ã€åˆå¹¶ç­‰æ“ä½œï¼Œçµæ´»å¤ç”¨è¿›åº¦</td><td>äº§ç”Ÿä¸´æ—¶åˆ†æ”¯ï¼Œéœ€æ‰‹åŠ¨æ¸…ç†é¿å…å †ç§¯</td></tr><tr><td>åˆ†æ”¯è®°å½•æ¸…æ™°ï¼Œä¾¿äºå›¢é˜Ÿåä½œåˆ†äº«è¿›åº¦</td><td>åˆå¹¶/æ‹£é€‰æ—¶å¯èƒ½äº§ç”Ÿå†²çªï¼Œéœ€æ‰‹åŠ¨è§£å†³</td></tr><tr><td>å¯ä¿ç•™ç»†åˆ†è¿›åº¦ï¼Œä¾¿äºå›æº¯</td><td>ä¸é€‚åˆé¢‘ç¹ä¸´æ—¶åˆ‡æ¢ï¼ˆæ•ˆç‡ä½ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-27">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>éœ€è¦ä¿ç•™åˆ†æ”¯çº§è¿›åº¦è®°å½•ï¼Œä¾¿äºåç»­å›æº¯æˆ–å¤ç›˜ï¼›</li>
<li>å›¢é˜Ÿåä½œä¸­ï¼Œéœ€å°†æœªå®Œæˆè¿›åº¦åˆ†äº«ç»™å…¶ä»–æˆå‘˜ï¼›</li>
<li>è¿›åº¦éœ€åœ¨å¤šä¸ªåˆ†æ”¯ä¸­å¤ç”¨ï¼ˆå¦‚è·¨åˆ†æ”¯åŒæ­¥åŠŸèƒ½ç‰‡æ®µï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-28">å…­ã€Patch æ–‡ä»¶ - è·¨ç¯å¢ƒè¿ç§»ä¿®æ”¹</h2>
<h3 data-id="heading-29">æ ¸å¿ƒåŸç†</h3>
<p>å°†å·¥ä½œåŒºã€æš‚å­˜åŒºçš„ä¿®æ”¹æˆ–æŒ‡å®šæäº¤ï¼Œå¯¼å‡ºä¸ºç‹¬ç«‹çš„ Patch æ–‡ä»¶ï¼ˆæ–‡æœ¬æ ¼å¼ï¼Œå«ä»£ç å˜æ›´ç»†èŠ‚ï¼‰ï¼Œé€šè¿‡æ–‡ä»¶ä¼ è¾“ï¼ˆé‚®ä»¶ã€Uç›˜ç­‰ï¼‰åœ¨ä¸åŒä»“åº“ã€ä¸åŒæœºå™¨é—´è¿ç§»ä¿®æ”¹ï¼Œæ— éœ€ä¾èµ– Git è¿œç¨‹ä»“åº“ã€‚</p>
<h3 data-id="heading-30">å®Œæ•´æ“ä½œæŒ‡å—</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸€ã€å¯¼å‡ºPatchæ–‡ä»¶</span>
<span class="hljs-comment"># 1. å¯¼å‡ºå·¥ä½œåŒºæœªæäº¤ä¿®æ”¹ï¼ˆä¸å«æš‚å­˜åŒºï¼‰</span>
git diff &gt; my-changes.patch

<span class="hljs-comment"># 2. å¯¼å‡ºæš‚å­˜åŒºå·²addçš„ä¿®æ”¹</span>
git diff --cached &gt; staged-changes.patch

<span class="hljs-comment"># 3. å¯¼å‡ºå·¥ä½œåŒº+æš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹ï¼ˆç›¸å¯¹äºæœ€è¿‘ä¸€æ¬¡æäº¤ï¼‰</span>
git diff HEAD &gt; all-changes.patch

<span class="hljs-comment"># 4. å¯¼å‡ºæŒ‡å®šæäº¤ä¸ºPatchï¼ˆå«æäº¤ä¿¡æ¯ï¼Œæ¨èï¼‰</span>
git format-patch -1 &lt;æäº¤å“ˆå¸Œ&gt;  <span class="hljs-comment"># å¯¼å‡ºå•ä¸ªæäº¤</span>
git format-patch HEAD~3..HEAD  <span class="hljs-comment"># å¯¼å‡ºæœ€è¿‘3æ¬¡æäº¤ï¼ˆç”Ÿæˆ3ä¸ªPatchæ–‡ä»¶ï¼‰</span>

<span class="hljs-comment"># äºŒã€åº”ç”¨Patchæ–‡ä»¶</span>
<span class="hljs-comment"># 1. åº”ç”¨æ™®é€šPatchï¼ˆä»…å¯¼å…¥ä»£ç ä¿®æ”¹ï¼Œä¸ä¿ç•™æäº¤ä¿¡æ¯ï¼‰</span>
git apply my-changes.patch

<span class="hljs-comment"># 2. åº”ç”¨format-patchç”Ÿæˆçš„Patchï¼ˆä¿ç•™æäº¤ä¿¡æ¯ï¼Œæ¨èï¼‰</span>
git am &lt; 0001-feat-login-form-validation.patch

<span class="hljs-comment"># 3. éªŒè¯Patchå¯ç”¨æ€§ï¼ˆæ£€æŸ¥æ˜¯å¦å¯æ­£å¸¸åº”ç”¨ï¼Œæ— å†²çªï¼‰</span>
git apply --check my-changes.patch

<span class="hljs-comment"># 4. æŸ¥çœ‹Patchå˜æ›´ç»Ÿè®¡ï¼ˆäº†è§£ä¿®æ”¹èŒƒå›´ï¼‰</span>
git apply --<span class="hljs-built_in">stat</span> my-changes.patch

<span class="hljs-comment"># 5. éƒ¨åˆ†åº”ç”¨Patchï¼ˆæŒ‰éœ€é€‰æ‹©ä¿®æ”¹ç‰‡æ®µï¼‰</span>
git apply -p1 --include=<span class="hljs-string">"src/login/**"</span> my-changes.patch
</code></pre>
<h3 data-id="heading-31">ä¼˜ç¼ºç‚¹åˆ†æ</h3>

























<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>è·¨ä»“åº“/è·¨æœºå™¨è¿ç§»ï¼Œä¸ä¾èµ–Gitè¿œç¨‹è¿æ¥</td><td>æ“ä½œç¹çï¼Œéœ€æ‰‹åŠ¨å¯¼å‡º/ä¼ è¾“/åº”ç”¨</td></tr><tr><td>æ”¯æŒç¦»çº¿ä¼ è¾“ï¼ˆé‚®ä»¶ã€Uç›˜ç­‰ï¼‰ï¼Œé€‚é…æ— ç½‘ç»œåœºæ™¯</td><td>ä»£ç å·®å¼‚è¾ƒå¤§æ—¶æ˜“äº§ç”Ÿå†²çªï¼Œæ’æŸ¥å¤æ‚</td></tr><tr><td>å¯éƒ¨åˆ†åº”ç”¨ä¿®æ”¹ï¼Œçµæ´»åº¦é«˜</td><td>ä¸é€‚åˆå¤§é‡ä¿®æ”¹ï¼ˆPatchæ–‡ä»¶è¿‡å¤§ï¼Œç®¡ç†ä¸ä¾¿ï¼‰</td></tr><tr><td>format-patchå¯ä¿ç•™æäº¤ä¿¡æ¯ï¼Œä¾¿äºå¤ç”¨</td><td>å¯¹äºŒè¿›åˆ¶æ–‡ä»¶æ”¯æŒè¾ƒå·®ï¼Œæ˜“ä¸¢å¤±ä¿¡æ¯</td></tr></tbody></table>
<h3 data-id="heading-32">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>è·¨ä»“åº“è¿ç§»ä¿®æ”¹ï¼ˆå¦‚ä»ä¸ªäººä»“åº“åŒæ­¥åˆ°å…¬å¸ä»“åº“ï¼‰ï¼›</li>
<li>æ— ç½‘ç»œç¯å¢ƒä¸‹ï¼Œåœ¨ä¸åŒæœºå™¨é—´ä¼ è¾“ä»£ç ä¿®æ”¹ï¼›</li>
<li>é‚®ä»¶åˆ—è¡¨å¼ä»£ç å®¡æŸ¥ï¼ˆé€šè¿‡Patchåˆ†äº«ä¿®æ”¹å†…å®¹ï¼‰ï¼›</li>
<li>å¤‡ä»½é‡è¦ä¿®æ”¹åˆ°éGitç³»ç»Ÿï¼ˆå¦‚æœ¬åœ°æ–‡ä»¶æœåŠ¡å™¨ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-33">ä¸ƒã€æ–¹æ³•å¯¹æ¯”ä¸åœºæ™¯é€‰å‹</h2>
<h3 data-id="heading-34">æŒ‰åœºæ™¯å¿«é€Ÿé€‰å‹</h3>


















































<table><thead><tr><th>ä¸šåŠ¡åœºæ™¯</th><th>æ¨èæ–¹æ³•</th><th>æ ¸å¿ƒåŸå› </th></tr></thead><tbody><tr><td>ä¸´æ—¶æŸ¥çœ‹å…¶ä»–åˆ†æ”¯ï¼ˆ5åˆ†é’Ÿå†…å®Œæˆï¼‰</td><td>git stash</td><td>æ“ä½œæœ€å¿«ï¼Œæ— éœ€é¢å¤–æ•´ç†</td></tr><tr><td>ç´§æ€¥ä¿®å¤çº¿ä¸Šå°Bugï¼ˆ30åˆ†é’Ÿå†…å®Œæˆï¼‰</td><td>git stash</td><td>ç®€å•é«˜æ•ˆï¼Œåˆ‡æ¢åå¯å¿«é€Ÿæ¢å¤è¿›åº¦</td></tr><tr><td>è·¨å¤©/è·¨æ—¶æ®µåˆ‡æ¢ä»»åŠ¡ï¼ˆéœ€å¤‡ä»½è¿›åº¦ï¼‰</td><td>git commit</td><td>å¯è¿œç¨‹å¤‡ä»½ï¼Œè¿›åº¦ä¸æ˜“ä¸¢å¤±ï¼Œåç»­å¯æ•´ç†å†å²</td></tr><tr><td>å¤šä»»åŠ¡å¹¶è¡Œå¼€å‘ï¼ˆéœ€åŒæ—¶è¿è¡Œå¤šä¸ªç‰ˆæœ¬ï¼‰</td><td>git worktree</td><td>å¤šç›®å½•ç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€é¢‘ç¹æš‚å­˜/æäº¤</td></tr><tr><td>é¢‘ç¹åˆ‡æ¢å¤šä¸ªåŠŸèƒ½åˆ†æ”¯ï¼ˆé«˜æ•ˆè¿­ä»£ï¼‰</td><td>git worktree</td><td>åˆ‡æ¢ä»…éœ€æ¢ç›®å½•ï¼Œæ•ˆç‡è¿œè¶…å…¶ä»–æ–¹æ³•</td></tr><tr><td>éœ€è¦å®Œå…¨éš”ç¦»çš„å¼€å‘/æµ‹è¯•ç¯å¢ƒ</td><td>git clone</td><td>ç¯å¢ƒç‹¬ç«‹ï¼Œæ— ç›¸äº’å½±å“ï¼Œæ”¯æŒç ´åæ€§æµ‹è¯•</td></tr><tr><td>è·¨æœºå™¨/è·¨ä»“åº“è¿ç§»ä¿®æ”¹ï¼ˆæ— ç½‘ç»œï¼‰</td><td>Patchæ–‡ä»¶</td><td>ç¦»çº¿ä¼ è¾“ï¼Œä¸ä¾èµ–Gitè¿œç¨‹è¿æ¥</td></tr><tr><td>éœ€ä¿ç•™åˆ†æ”¯çº§è¿›åº¦è®°å½•ï¼ˆå›¢é˜Ÿåä½œï¼‰</td><td>git branch + reset</td><td>è¿›åº¦å¯åˆ†äº«ï¼Œä¾¿äºå›æº¯å’Œå¤ç”¨</td></tr></tbody></table>
<h3 data-id="heading-35">æŒ‰æ ¸å¿ƒç‰¹æ€§å¯¹æ¯”</h3>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>stash</th><th>commit</th><th>worktree</th><th>clone</th><th>branch+reset</th><th>patch</th></tr></thead><tbody><tr><td>æ“ä½œå¤æ‚åº¦</td><td>ä½</td><td>ä¸­</td><td>ä¸­</td><td>ä½</td><td>ä¸­</td><td>é«˜</td></tr><tr><td>ç£ç›˜å ç”¨</td><td>æ— </td><td>æ— </td><td>ä¸­</td><td>é«˜</td><td>æ— </td><td>æ— </td></tr><tr><td>å¯è¿œç¨‹å¤‡ä»½</td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯ï¼ˆæ–‡ä»¶ä¼ è¾“ï¼‰</td></tr><tr><td>å¹¶è¡Œå·¥ä½œèƒ½åŠ›</td><td>å¦</td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td><td>å¦</td><td>å¦</td></tr><tr><td>æ•°æ®å®‰å…¨åº¦</td><td>ä½</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>ä¸­</td></tr><tr><td>å­¦ä¹ æˆæœ¬</td><td>ä½</td><td>ä¸­</td><td>ä¸­</td><td>ä½</td><td>ä¸­</td><td>é«˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-36">å…«ã€å®æˆ˜å·¥ä½œæµç¤ºä¾‹</h2>
<h3 data-id="heading-37">åœºæ™¯ï¼šå¼€å‘ä¸­çªå‘çº¿ä¸ŠBugï¼Œéœ€ç´§æ€¥ä¿®å¤</h3>
<h4 data-id="heading-38">æ–¹æ¡ˆä¸€ï¼šå¿«é€Ÿåˆ‡æ¢ï¼ˆgit stashï¼Œé€‚åˆ1å°æ—¶å†…å¯å®Œæˆä¿®å¤ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æš‚å­˜å½“å‰å¼€å‘è¿›åº¦ï¼ˆå¸¦æè¿°ï¼Œä¾¿äºè¯†åˆ«ï¼‰</span>
git stash push -m <span class="hljs-string">"feat: ç”¨æˆ·ç™»å½• - å®Œæˆè¡¨å•éªŒè¯ï¼Œå¾…è”è°ƒæ¥å£"</span>

<span class="hljs-comment"># 2. åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯å¹¶æ‹‰å–æœ€æ–°ä»£ç </span>
git checkout main
git pull origin main

<span class="hljs-comment"># 3. åˆ›å»ºhotfixåˆ†æ”¯å¹¶ä¿®å¤Bug</span>
git checkout -b hotfix/online-login-error
<span class="hljs-comment"># ... å®šä½å¹¶ä¿®å¤Bug ...</span>
git add .
git commit -m <span class="hljs-string">"fix: çº¿ä¸Šç™»å½•å¤±è´¥é—®é¢˜ï¼ˆä¿®å¤å‚æ•°æ ¡éªŒé€»è¾‘ï¼‰"</span>

<span class="hljs-comment"># 4. æ¨é€hotfixåˆ†æ”¯ï¼Œç­‰å¾…åˆå¹¶ä¸Šçº¿</span>
git push origin hotfix/online-login-error

<span class="hljs-comment"># 5. åˆ‡å›åŸå¼€å‘åˆ†æ”¯ï¼Œæ¢å¤è¿›åº¦ç»§ç»­å¼€å‘</span>
git checkout feature/login
git stash pop  <span class="hljs-comment"># æ¢å¤æš‚å­˜çš„è¿›åº¦</span>
</code></pre>
<h4 data-id="heading-39">æ–¹æ¡ˆäºŒï¼šç¨³å¦¥å¤‡ä»½ï¼ˆgit commitï¼Œé€‚åˆä¿®å¤è€—æ—¶è¾ƒé•¿ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æäº¤å½“å‰åŠæˆå“è¿›åº¦ï¼ˆWIPå‰ç¼€ï¼‰</span>
git add .
git commit -m <span class="hljs-string">"WIP: feat: ç”¨æˆ·ç™»å½• - è¡¨å•éªŒè¯å¼€å‘ä¸­"</span>

<span class="hljs-comment"># 2. åˆ‡æ¢ä¸»åˆ†æ”¯æ‹‰å–æœ€æ–°ä»£ç ï¼Œåˆ›å»ºhotfixåˆ†æ”¯</span>
git checkout main
git pull origin main
git checkout -b hotfix/online-login-error

<span class="hljs-comment"># 3. ä¿®å¤Bugå¹¶æäº¤</span>
git add .
git commit -m <span class="hljs-string">"fix: çº¿ä¸Šç™»å½•å¤±è´¥é—®é¢˜ï¼ˆä¿®å¤å‚æ•°æ ¡éªŒé€»è¾‘ï¼‰"</span>
git push origin hotfix/online-login-error

<span class="hljs-comment"># 4. åˆ‡å›åŸå¼€å‘åˆ†æ”¯ï¼Œç»§ç»­å¼€å‘</span>
git checkout feature/login
<span class="hljs-comment"># ... è¡¥å……å¼€å‘å‰©ä½™åŠŸèƒ½ ...</span>
git add .
<span class="hljs-comment"># 5. æ•´ç†ä¸´æ—¶æäº¤ï¼Œåˆå¹¶ä¸ºå®Œæ•´æäº¤</span>
git commit --amend -m <span class="hljs-string">"feat: å®Œæˆç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼ˆè¡¨å•éªŒè¯+æ¥å£è”è°ƒï¼‰"</span>
</code></pre>
<h4 data-id="heading-40">æ–¹æ¡ˆä¸‰ï¼šå¹¶è¡Œå¼€å‘ï¼ˆgit worktreeï¼Œé€‚åˆéœ€åŒæ—¶æ¨è¿›å¼€å‘ä¸ä¿®å¤ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ›å»ºhotfixåˆ†æ”¯çš„worktreeï¼Œå¹¶è¡Œå¤„ç†</span>
git worktree add ../project-hotfix main
<span class="hljs-built_in">cd</span> ../project-hotfix

<span class="hljs-comment"># 2. åˆ›å»ºhotfixåˆ†æ”¯å¹¶ä¿®å¤Bug</span>
git checkout -b hotfix/online-login-error
<span class="hljs-comment"># ... ä¿®å¤Bug ...</span>
git add .
git commit -m <span class="hljs-string">"fix: çº¿ä¸Šç™»å½•å¤±è´¥é—®é¢˜ï¼ˆä¿®å¤å‚æ•°æ ¡éªŒé€»è¾‘ï¼‰"</span>
git push origin hotfix/online-login-error

<span class="hljs-comment"># 3. åŸç›®å½•ç»§ç»­å¼€å‘ç™»å½•åŠŸèƒ½ï¼ˆæ— éœ€æš‚å­˜/æäº¤ï¼‰</span>
<span class="hljs-built_in">cd</span> ../my-project
<span class="hljs-comment"># ... ç»§ç»­å¼€å‘ç™»å½•åŠŸèƒ½ ...</span>

<span class="hljs-comment"># 4. Bugä¿®å¤å®Œæˆåï¼Œåˆ é™¤hotfixçš„worktree</span>
git worktree remove ../project-hotfix
git worktree prune
</code></pre>
<hr/>
<h2 data-id="heading-41">ä¹ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-42">Q1ï¼šgit stash pop æ¢å¤æ—¶å†²çªäº†æ€ä¹ˆåŠï¼Ÿ</h3>
<p>å†²çªåï¼Œstash è®°å½•ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œéœ€æ‰‹åŠ¨å¤„ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ‰“å¼€å†²çªæ–‡ä»¶ï¼Œæ‰‹åŠ¨è§£å†³å†²çªï¼ˆæ ‡è®°ä¸º &lt;&lt;&lt;&lt;&lt;&lt;&lt;ã€=======ã€&gt;&gt;&gt;&gt;&gt;&gt;&gt; çš„éƒ¨åˆ†ï¼‰</span>
<span class="hljs-comment"># 2. è§£å†³å®Œæˆåï¼Œæš‚å­˜å†²çªæ–‡ä»¶</span>
git add &lt;å†²çªæ–‡ä»¶è·¯å¾„&gt;
<span class="hljs-comment"># 3. æ‰‹åŠ¨åˆ é™¤å¯¹åº”çš„stashè®°å½•</span>
git stash drop stash@{0}
</code></pre>
<h3 data-id="heading-43">Q2ï¼šgit worktree æŠ¥é”™ â€œalready checked outâ€ å¦‚ä½•å¤„ç†ï¼Ÿ</h3>
<p>åŸå› ï¼šåŒä¸€åˆ†æ”¯å·²åœ¨å…¶ä»– worktree æˆ–ä¸»ç›®å½•æ£€å‡ºï¼ŒGit ä¸å…è®¸åŒä¸€åˆ†æ”¯å¤šå¤„æ£€å‡ºã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æŸ¥çœ‹æ‰€æœ‰worktreeï¼Œç¡®è®¤åˆ†æ”¯æ‰€åœ¨ç›®å½•</span>
git worktree list
<span class="hljs-comment"># 2. åˆ é™¤å·²æ£€å‡ºè¯¥åˆ†æ”¯çš„worktreeï¼Œæˆ–åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯</span>
git worktree remove ../project-old
<span class="hljs-comment"># 3. é‡æ–°åˆ›å»ºworktreeï¼ˆä½¿ç”¨å…¶ä»–åˆ†æ”¯æˆ–æ–°åˆ†æ”¯ï¼‰</span>
git worktree add ../project-new feature/new-branch
</code></pre>
<h3 data-id="heading-44">Q3ï¼šgit rebase æ•´ç†æäº¤æ—¶æ“ä½œå¤±è¯¯ï¼Œå¦‚ä½•æ¢å¤ï¼Ÿ</h3>
<p>å¯é€šè¿‡ Git å¼•ç”¨æ—¥å¿—ï¼ˆreflogï¼‰æ‰¾å›æ“ä½œå‰çš„çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æŸ¥çœ‹å¼•ç”¨æ—¥å¿—ï¼Œæ‰¾åˆ°rebaseå‰çš„æäº¤å“ˆå¸Œï¼ˆæ ‡æ³¨ä¸ºHEAD@{n}ï¼‰</span>
git reflog
<span class="hljs-comment"># 2. å¼ºåˆ¶é‡ç½®åˆ°è¯¥çŠ¶æ€ï¼Œæ¢å¤åˆ†æ”¯åŸè²Œ</span>
git reset --hard HEAD@{2}  <span class="hljs-comment"># HEAD@{2}ä¸ºrebaseå‰çš„çŠ¶æ€ï¼ŒæŒ‰éœ€è°ƒæ•´æ•°å­—</span>
<span class="hljs-comment"># 3. è‹¥rebaseè¿‡ç¨‹ä¸­å¡ä½ï¼Œå¯ç›´æ¥æ”¾å¼ƒrebase</span>
git rebase --abort
</code></pre>
<h3 data-id="heading-45">Q4ï¼šå¦‚ä½•æŸ¥çœ‹æŸä¸ª stash å¯¹åº”çš„åˆ†æ”¯ï¼Ÿ</h3>
<p>æ‰§è¡Œ <code>git stash list</code> æ—¶ï¼Œè¾“å‡ºç»“æœä¼šæ˜¾ç¤º stash å¯¹åº”çš„åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git stash list
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># stash@{0}: WIP on feature/login: abc1234 feat: ä¼˜åŒ–è¡¨å•æ ·å¼</span>
<span class="hljs-comment"># å…¶ä¸­ â€œon feature/loginâ€ å³ä¸ºè¯¥stashå¯¹åº”çš„åˆ†æ”¯</span>
</code></pre>
<hr/>
<h2 data-id="heading-46">åã€æ€»ç»“</h2>
<p>Git åˆ‡æ¢ä»»åŠ¡çš„æ ¸å¿ƒæ˜¯â€œå®‰å…¨ä¿å­˜å½“å‰è¿›åº¦ï¼Œç¡®ä¿å·¥ä½œåŒºå¹²å‡€å¯åˆ‡æ¢â€ï¼Œä¸åŒæ–¹æ³•é€‚é…ä¸åŒåœºæ™¯ï¼Œæ ¸å¿ƒé€‰å‹åŸåˆ™å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>çŸ­æš‚ä¸´æ—¶åˆ‡æ¢</strong>ï¼šä¼˜å…ˆç”¨ <code>git stash</code>ï¼Œé«˜æ•ˆå¿«æ·ï¼›</li>
<li><strong>ä¸­é•¿æœŸè·¨æ—¶æ®µåˆ‡æ¢</strong>ï¼šç”¨ <code>git commit</code>ï¼Œæ”¯æŒå¤‡ä»½ä¸å†å²æ•´ç†ï¼›</li>
<li><strong>å¤šä»»åŠ¡å¹¶è¡Œå¼€å‘</strong>ï¼šç”¨ <code>git worktree</code>ï¼Œå¤šç›®å½•ç‹¬ç«‹è¿è¡Œï¼Œæ•ˆç‡æœ€ä¼˜ï¼›</li>
<li><strong>å®Œå…¨éš”ç¦»ç¯å¢ƒéœ€æ±‚</strong>ï¼šç”¨ <code>git clone</code>ï¼Œé¿å…ç›¸äº’å½±å“ï¼›</li>
<li><strong>åˆ†æ”¯çº§è¿›åº¦è®°å½•/åä½œ</strong>ï¼šç”¨ <code>git branch + reset</code>ï¼Œå¯åˆ†äº«å¯å›æº¯ï¼›</li>
<li><strong>è·¨ç¯å¢ƒè¿ç§»ä¿®æ”¹</strong>ï¼šç”¨ <code>Patch æ–‡ä»¶</code>ï¼Œé€‚é…ç¦»çº¿/è·¨ä»“åº“åœºæ™¯ã€‚</li>
</ul>
<p>å®é™…å¼€å‘ä¸­ï¼Œæ— éœ€æ‹˜æ³¥äºå•ä¸€æ–¹æ³•ï¼Œå¯æ ¹æ®ä»»åŠ¡æ—¶é•¿ã€åä½œéœ€æ±‚ã€ç¯å¢ƒé™åˆ¶çµæ´»ç»„åˆä½¿ç”¨ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯â€œé«˜æ•ˆåˆ‡æ¢ã€å®‰å…¨ä¿å­˜ã€æ•´æ´å†å²â€ã€‚</p>
<hr/>
<p>å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµå’Œæ”¶è—ï¼Œå¤§å®¶çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œä¼˜è´¨å†…å®¹çš„åŠ¨åŠ›ğŸŒ¹ğŸŒ¹ğŸŒ¹ä¹Ÿå¸Œæœ›æ‚¨èƒ½åœ¨ğŸ˜‰ğŸ˜‰ğŸ˜‰<a href="https://juejin.cn/user/671151992348125" target="_blank" title="https://juejin.cn/user/671151992348125">æˆ‘çš„ä¸»é¡µ</a> ğŸ˜‰ğŸ˜‰ğŸ˜‰æ‰¾åˆ°æ›´å¤šå¯¹æ‚¨æœ‰å¸®åŠ©çš„å†…å®¹ã€‚</p>
<ul>
<li>è‡´æ•¬æ¯ä¸€ä½èµ¶è·¯äºº</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆRAGä¸Agentæ™ºèƒ½ä½“åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7598710324167409679</link>    <guid>https://juejin.cn/post/7598710324167409679</guid>    <pubDate>2026-01-25T13:07:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598710324167409679" data-draft-id="7598563188112392244" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆRAGä¸Agentæ™ºèƒ½ä½“åŒºåˆ«"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-25T13:07:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯çš„é˜¶æ¢¯"/> <meta itemprop="url" content="https://juejin.cn/user/2604076678261512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆRAGä¸Agentæ™ºèƒ½ä½“åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2604076678261512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯çš„é˜¶æ¢¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T13:07:00.000Z" title="Sun Jan 25 2026 13:07:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§æ¨¡å‹RAGä¸agentçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼ŸRAG ä¸ Agent åˆ†åˆ«ä»£è¡¨äº†å¤§æ¨¡å‹æ—¶ä»£çš„ â€œçŸ¥è¯†å¢å¼ºâ€ ä¸ â€œè‡ªä¸»å†³ç­–â€ ä¸¤å¤§æ ¸å¿ƒæ–¹å‘ã€‚RAG é€šè¿‡æ£€ç´¢å¤–éƒ¨çŸ¥è¯†æå‡ç”Ÿæˆå‡†ç¡®æ€§ï¼Œè€Œ Agent é€šè¿‡åŠ¨æ€è§„åˆ’ä¸å·¥å…·è°ƒç”¨å®ç°å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸€ã€æ ¸å¿ƒå®šä¹‰ï¼šRAG ä¸ Agent çš„æœ¬è´¨å·®å¼‚</strong></h2>
<p><strong>RAG</strong> <strong>ï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong></p>
<p>å®šä¹‰ï¼šç»“åˆæ£€ç´¢ä¸ç”Ÿæˆçš„ â€œçŸ¥è¯†å¤–æŒ‚â€ æŠ€æœ¯ï¼Œé€šè¿‡å¤–éƒ¨çŸ¥è¯†åº“é™ä½æ¨¡å‹å¹»è§‰ã€‚</p>
<p>å…¸å‹æ¶æ„ï¼š</p>
<p>æ£€ç´¢å™¨ï¼šä½¿ç”¨Â BM25ã€SentenceBERT ç­‰ç®—æ³•ä»çŸ¥è¯†åº“ï¼ˆå¦‚å‘é‡æ•°æ®åº“ï¼‰ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>ç”Ÿæˆå™¨ï¼šåŸºäºæ£€ç´¢ç»“æœç”Ÿæˆæ–‡æœ¬ï¼Œå¦‚ Hugging Face çš„ RAG æ¨¡å‹ã€‚</p>
<p>çŸ¥è¯†åº“ï¼šæ”¯æŒåŠ¨æ€æ›´æ–°ï¼Œå¦‚è…¾è®¯äº‘ ES çš„æ··åˆæœç´¢èƒ½åŠ›ã€‚</p>
<p>å…¸å‹åº”ç”¨ï¼šä¼ä¸šçº§é—®ç­”ç³»ç»Ÿï¼ˆå¦‚è…¾è®¯ä¹äº«é€šè¿‡ RAG æ•´åˆå†…éƒ¨æ–‡æ¡£åº“ï¼‰ã€‚</p>
<p><strong>Agent</strong> <strong>ï¼ˆæ™ºèƒ½ä½“ï¼‰</strong></p>
<p>å®šä¹‰ï¼šå…·å¤‡æ„ŸçŸ¥ã€æ¨ç†ã€å†³ç­–ä¸æ‰§è¡Œèƒ½åŠ›çš„ â€œè¡ŒåŠ¨è€…â€ï¼Œå¯è‡ªä¸»å®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<p>æ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>è§„åˆ’ï¼šå¦‚ ReAct æ¡†æ¶é€šè¿‡ â€œæ€è€ƒ - è¡ŒåŠ¨ - è§‚å¯Ÿâ€ å¾ªç¯åŠ¨æ€è°ƒæ•´ç­–ç•¥ã€‚</p>
<p>è®°å¿†ï¼šå­˜å‚¨å†å²äº¤äº’ä¿¡æ¯ï¼Œå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D256172650%26content_type%3DArticle%26match_order%3D1%26q%3DLangChain%26zd_token%3DeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MTcxMjQsInEiOiJMYW5nQ2hhaW4iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoyNTYxNzI2NTAsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.HLODpf27ZMjuUFm9Ii-dbjwgkp0gh_Q-pwFm-yUk-eo%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=256172650&amp;content_type=Article&amp;match_order=1&amp;q=LangChain&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MTcxMjQsInEiOiJMYW5nQ2hhaW4iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoyNTYxNzI2NTAsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.HLODpf27ZMjuUFm9Ii-dbjwgkp0gh_Q-pwFm-yUk-eo&amp;zhida_source=entity" ref="nofollow noopener noreferrer">LangChain</a>Â çš„å¯¹è¯å¼ Agentã€‚</p>
<p>å·¥å…·è°ƒç”¨ï¼šæ”¯æŒ APIã€æ•°æ®åº“ç­‰å¤–éƒ¨å·¥å…·ï¼Œå¦‚è‡ªåŠ¨é©¾é©¶ Agent è°ƒç”¨ä¼ æ„Ÿå™¨æ•°æ®ã€‚</p>
<p>å…¸å‹åº”ç”¨ï¼šè‡ªåŠ¨é©¾é©¶ï¼ˆå¦‚ç‰¹æ–¯æ‹‰ FSD çš„ç¯å¢ƒæ„ŸçŸ¥ä¸å†³ç­–ï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2c916680dae4ee1bb031964614c0853~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv55qE6Zi25qKv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951313&amp;x-signature=nG1OQ24PR4EQSSU6Ry4F%2BjPj0Ac%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>äºŒã€æŠ€æœ¯å¯¹æ¯”ï¼šä»æµç¨‹åˆ°èƒ½åŠ›çš„å…¨æ–¹ä½å·®å¼‚</strong></h2>
<p><strong>å·¥ä½œåŸç†</strong></p>
<p>RAGï¼šå›ºå®šæµç¨‹ï¼ˆæ£€ç´¢â†’ç”Ÿæˆâ†’è¯„ä¼°ï¼‰ï¼Œå¦‚é˜¿é‡Œäº‘ RAG ç³»ç»Ÿé€šè¿‡å‘é‡æ£€ç´¢ç”Ÿæˆç­”æ¡ˆã€‚</p>
<p>Agentï¼šåŠ¨æ€è§„åˆ’ï¼ˆæ„ŸçŸ¥â†’æ¨ç†â†’å†³ç­–â†’æ‰§è¡Œï¼‰ï¼Œå¦‚ LangChain çš„ ReAct Agent é€æ­¥æ‹†è§£ä»»åŠ¡ã€‚</p>
<p><strong>å…³é”®æŠ€æœ¯</strong></p>
<p>RAGï¼š</p>
<p>å‘é‡æ•°æ®åº“ï¼šå¦‚è…¾è®¯äº‘ ES æ”¯æŒ 10 äº¿çº§å‘é‡æ¯«ç§’çº§æ£€ç´¢ã€‚</p>
<p>è¯­ä¹‰æ£€ç´¢ï¼šGraphRAG é€šè¿‡çŸ¥è¯†å›¾è°±æå‡æ£€ç´¢ç²¾åº¦ã€‚</p>
<p>Agentï¼š</p>
<p>å¤šæ¨¡å—ååŒï¼šå¦‚å®åœ¨ Agent çš„ TARS å¤§æ¨¡å‹ä¸ ISSUT è§†è§‰æŠ€æœ¯ç»“åˆã€‚</p>
<p>å·¥å…·è°ƒç”¨ï¼šOpenAI Function Call æ”¯æŒç»“æ„åŒ–è¾“å‡ºã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p>RAGï¼š</p>
<p>çŸ¥è¯†å¯†é›†å‹ä»»åŠ¡ï¼šåŒ»ç–—é—®ç­”ï¼ˆæ•´åˆ PubMed æ–‡çŒ®ï¼‰ã€æ³•å¾‹æ¡æ–‡è§£æï¼ˆç»“åˆåˆ¤ä¾‹åº“ï¼‰ã€‚</p>
<p>å®æ—¶æ•°æ®æ•´åˆï¼šé‡‘èæŠ¥å‘Šç”Ÿæˆï¼ˆæ¥å…¥è‚¡ç¥¨ APIï¼‰ã€‚</p>
<p>Agentï¼š</p>
<p>å¤æ‚ä»»åŠ¡æ‹†è§£ï¼šç”µå•†å®¢æœå…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼ˆä»éœ€æ±‚åˆ†æåˆ°è®¢å•å¤„ç†ï¼‰ã€‚</p>
<p>åŠ¨æ€ç¯å¢ƒäº¤äº’ï¼šè‡ªåŠ¨é©¾é©¶ï¼ˆå®æ—¶è°ƒæ•´è·¯çº¿ï¼‰ã€‚</p>
<p><strong>åº”ç”¨åœºæ™¯</strong></p>
<p>é‡‘èè¡Œä¸šï¼š</p>
<p>RAG æ•´åˆå®æ—¶æ•°æ®ï¼šé€šè¿‡æ£€ç´¢è‚¡å¸‚è¡Œæƒ…ã€è´¢æŠ¥æ•°æ®ï¼ŒAgent è‡ªä¸»ç”ŸæˆæŠ•èµ„åˆ†ææŠ¥å‘Šã€‚</p>
<p>ç”µå•†å®¢æœï¼š</p>
<p>åŠ¨æ€å“åº”ç”¨æˆ·éœ€æ±‚ï¼šAgent è°ƒç”¨ RAG æ£€ç´¢å•†å“çŸ¥è¯†åº“ï¼Œç»“åˆç”¨æˆ·å†å²è®¢å•æ¨èä¸ªæ€§åŒ–æ–¹æ¡ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d5b1428f91a406c9a510649c472a65d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv55qE6Zi25qKv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951313&amp;x-signature=JsxIVSloqkUnjiehuGrY0zI%2BmeY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2"><strong>ä¸‰ã€æœªæ¥è¶‹åŠ¿ï¼šRAG ä¸ Agent çš„ååŒè¿›åŒ–</strong></h2>
<p><strong>æŠ€æœ¯èåˆæ–¹å‘</strong></p>
<p>Agentic RAGï¼ˆæ™ºèƒ½ä½“é©±åŠ¨çš„åŠ¨æ€æ£€ç´¢ç”Ÿæˆï¼‰ï¼š</p>
<p>åŠ¨æ€æ£€ç´¢ç­–ç•¥ï¼šAgent æ ¹æ®é—®é¢˜ç±»å‹é€‰æ‹©å‘é‡æœç´¢ã€SQL æŸ¥è¯¢æˆ– Web æœç´¢ï¼Œå¦‚è…¾è®¯äº‘ ES çš„æ··åˆæœç´¢ã€‚</p>
<p>å¤šè·³æ¨ç†ï¼šè·¨æ–‡æ¡£å¯¹æ¯”ï¼ˆå¦‚ç§‘ç ”è®ºæ–‡åˆ†æï¼‰æˆ–ç»“åˆå¤–éƒ¨ API æ•°æ®ï¼ˆå¦‚å¤©æ°”ã€è‚¡å¸‚ï¼‰ã€‚</p>
<p>å…¸å‹æ¡ˆä¾‹ï¼š</p>
<p>åŒ»ç–—é¢†åŸŸï¼šAgentic RAG æ•´åˆæœ€æ–°ä¸´åºŠè¯•éªŒæ•°æ®ï¼Œç”Ÿæˆä¸ªæ€§åŒ–æ²»ç–—æ–¹æ¡ˆã€‚</p>
<p>æ³•å¾‹é¢†åŸŸï¼šAgent åŠ¨æ€è°ƒç”¨æ³•è§„åº“ä¸åˆ¤ä¾‹åº“ï¼Œç”Ÿæˆåˆè§„åˆ†ææŠ¥å‘Šã€‚</p>
<h2 data-id="heading-3"><strong>å››ã€ç»“è¯­</strong></h2>
<p>æœªæ¥ï¼Œä¸¤è€…çš„æ·±åº¦èåˆï¼ˆå¦‚ Agentic RAGï¼‰å°†æ¨åŠ¨ AI ä» â€œä¿¡æ¯æä¾›è€…â€ å‘ â€œé—®é¢˜è§£å†³è€…â€ æ¼”è¿›ï¼Œä¸ºåŒ»ç–—ã€æ³•å¾‹ã€é‡‘èç­‰é¢†åŸŸå¸¦æ¥æ›´æ™ºèƒ½ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-221 ç¦»çº¿æ•°ä»“åˆ†å±‚å®æˆ˜ï¼šODS/DWD/DWS/DIM/ADS æ€ä¹ˆåˆ’ï¼Œæ•°æ®é›†å¸‚å¦‚ä½•é¿å…æ•°æ®å­¤å²›]]></title>    <link>https://juejin.cn/post/7598587406708113449</link>    <guid>https://juejin.cn/post/7598587406708113449</guid>    <pubDate>2026-01-25T13:11:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598587406708113449" data-draft-id="7598699872552845348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-221 ç¦»çº¿æ•°ä»“åˆ†å±‚å®æˆ˜ï¼šODS/DWD/DWS/DIM/ADS æ€ä¹ˆåˆ’ï¼Œæ•°æ®é›†å¸‚å¦‚ä½•é¿å…æ•°æ®å­¤å²›"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Hadoop"/> <meta itemprop="datePublished" content="2026-01-25T13:11:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-221 ç¦»çº¿æ•°ä»“åˆ†å±‚å®æˆ˜ï¼šODS/DWD/DWS/DIM/ADS æ€ä¹ˆåˆ’ï¼Œæ•°æ®é›†å¸‚å¦‚ä½•é¿å…æ•°æ®å­¤å²›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T13:11:33.000Z" title="Sun Jan 25 2026 13:11:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šéƒ¨é—¨è‡ªå»ºæ•°æ®é›†å¸‚è¶Šå¤šï¼Œå£å¾„ä¸ä¸€ã€æ¥å£ä¸é€šï¼Œå½¢æˆæ•°æ®å­¤å²›ï¼ŒæŸ¥æ•°æˆæœ¬çˆ†ç‚¸ã€‚</li>
<li>ç»“è®ºï¼šç”¨â€œåˆ†å±‚ + ä¸€è‡´æ€§ç»´åº¦ + å¯å¤ç”¨æ±‡æ€»å±‚â€æ§å¤æ‚åº¦ï¼›ER é€‚åˆç¨³æ€å¤§ç»„ç»‡ï¼Œç»´åº¦æ¨¡å‹æ›´é€‚åˆæ•æ·äº¤ä»˜ã€‚</li>
<li>äº§å‡ºï¼šä¸€å¥—ç¦»çº¿æ•°ä»“åˆ†å±‚å®šä¹‰ï¼ˆODSâ†’DWâ†’ADSï¼‰+ å»ºæ¨¡æ–¹æ³•å¯¹æ¯” + å¸¸è§æ•…éšœé€ŸæŸ¥å¡ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a373e9ac83904233a7eae676104bf596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951493&amp;x-signature=M2YqwBOeBnwUAHFO7nmN7kaTEzs%3D" alt="å¤§æ•°æ®-221 ç¦»çº¿æ•°ä»“åˆ†å±‚å®æˆ˜ï¼šODS/DWD/DWS/DIM/ADS æ€ä¹ˆåˆ’ï¼Œæ•°æ®é›†å¸‚å¦‚ä½•é¿å…æ•°æ®å­¤å²›" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab13761524a647c19eb6fd78319368c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951493&amp;x-signature=TXx0a41wFho75VCf1dvHy5Ku5zc%3D" alt="ç¦»çº¿æ•°ä»“ æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-1">æ•°æ®é›†å¸‚</h2>
<p>æ•°æ®ä»“åº“ï¼ˆDWï¼‰æ˜¯ä¸€ç§åæ˜ ä¸»é¢˜çš„å…¨å±€æ€§æ•°æ®ç»„ç»‡ï¼Œä½†å…¨å±€æ€§æ•°æ®ä»“åº“å¾€å¾€å¤ªå¤§ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ä»–ä»¬æŒ‰éƒ¨é—¨æˆ–ä¸šåŠ¡åˆ†åˆ«å»ºç«‹åæ˜ å„ä¸ªå­ä¸»é¢˜çš„å±€éƒ¨æ€§æ•°æ®ç»„ç»‡ï¼Œå³æ•°æ®é›†å¸‚ï¼ˆData Martï¼‰ï¼Œæœ‰æ—¶ä¹Ÿç§°å®ƒä¸ºæ•°æ®ä»“åº“ã€‚
æ•°æ®é›†å¸‚ï¼šæ˜¯æŒ‰ç…§ä¸»é¢˜åŸŸç»„ç»‡çš„æ•°æ®é›†åˆï¼Œç”¨äºæ”¯æŒéƒ¨é—¨çº§çš„æ•°æ®åˆ†æä¸å†³ç­–ã€‚å¦‚åœ¨å•†å“é”€å”®çš„æ•°æ®ä»“åº“ä¸­å¯ä»¥å»ºç«‹å¤šä¸ªä¸åŒä¸»é¢˜çš„æ•°æ®é›†å¸‚ï¼š</p>
<ul>
<li>å•†å“é‡‡è´­æ•°æ®é›†å¸‚</li>
<li>å•†å“åº“å­˜æ•°æ®é›†å¸‚</li>
<li>å•†å“é”€å”®æ•°æ®é›†å¸‚</li>
</ul>
<p>æ•°æ®é›†å¸‚ä»…ä»…æ˜¯æ•°æ®ä»“åº“çš„æŸä¸€éƒ¨åˆ†ï¼Œå®æ–½éš¾åº¦å¤§å¤§é™ä½ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ»¡è¶³ä¼ä¸šå†…éƒ¨éƒ¨åˆ†ä¸šåŠ¡éƒ¨åˆ†çš„è¿«åˆ‡éœ€æ±‚ï¼Œåœ¨åˆæœŸè·å¾—äº†è¾ƒå¤§çš„æˆåŠŸã€‚ä½†éšç€æ•°æ®é›†å¸‚çš„ä¸æ–­å¢å¤šï¼Œè¿™ç§æ¶æ„çš„ç¼ºé™·ä¹Ÿé€æ­¥æ˜¾ç°ã€‚ä¼ä¸šå†…éƒ¨ç‹¬ç«‹å»ºè®¾çš„æ•°æ®é›†å¸‚ç”±äºéµå¾ªä¸åŒçš„æ ‡å‡†å’Œå»ºè®¾åŸåˆ™ï¼Œä»¥è‡³äºå¤šä¸ªæ•°æ®é›†å¸‚çš„æ•°æ®æ··ä¹±å’Œä¸ä¸€è‡´ï¼Œå½¢æˆä¼—å¤šçš„æ•°æ®å­¤å²›ã€‚</p>
<h3 data-id="heading-2">æ•°æ®å­¤å²›ç°è±¡è¯¦è§£</h3>
<p>éšç€ä¼ä¸šä¸šåŠ¡çš„ä¸æ–­æ‰©å±•ï¼Œç»„ç»‡æ¶æ„é€šå¸¸ä¼šåˆ’åˆ†ä¸ºå¤šä¸ªäº‹ä¸šéƒ¨é—¨ï¼ˆBusiness Unitï¼‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¤§å‹é›¶å”®ä¼ä¸šå¯èƒ½åˆ†ä¸ºç”µå•†äº‹ä¸šéƒ¨ã€çº¿ä¸‹é›¶å”®äº‹ä¸šéƒ¨ã€ä¾›åº”é“¾äº‹ä¸šéƒ¨ç­‰ã€‚æ¯ä¸ªäº‹ä¸šéƒ¨é—¨åœ¨è¿è¥è¿‡ç¨‹ä¸­éƒ½ä¼šäº§ç”Ÿå¤§é‡ä¸šåŠ¡æ•°æ®ï¼ŒåŒ…æ‹¬é”€å”®è®°å½•ã€åº“å­˜ä¿¡æ¯ã€å®¢æˆ·èµ„æ–™ç­‰ã€‚</p>
<h4 data-id="heading-3">æ•°æ®å­¤å²›çš„å½¢æˆåŸå› </h4>
<ol>
<li>
<p><strong>ç‹¬ç«‹çš„æ•°æ®å­˜å‚¨ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li>å„éƒ¨é—¨å¾€å¾€ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“ç³»ç»Ÿï¼ˆå¦‚ç”µå•†ç”¨MySQLï¼Œè´¢åŠ¡ç”¨Oracleï¼‰</li>
<li>æ•°æ®æ ¼å¼ä¸ç»Ÿä¸€ï¼ˆå¦‚æ—¥æœŸæ ¼å¼æœ‰YYYY-MM-DDå’ŒMM/DD/YYYYä¹‹åˆ†ï¼‰</li>
<li>å‘½åè§„èŒƒä¸ä¸€è‡´ï¼ˆå¦‚å®¢æˆ·IDå­—æ®µå¯èƒ½è¢«å‘½åä¸ºcust_idã€customerIDæˆ–client_noï¼‰</li>
</ul>
</li>
<li>
<p><strong>éƒ¨é—¨å£å’</strong>ï¼š</p>
<ul>
<li>ç¼ºä¹è·¨éƒ¨é—¨æ•°æ®å…±äº«æœºåˆ¶</li>
<li>å‡ºäºæ•°æ®å®‰å…¨è€ƒè™‘è€Œè®¾ç½®çš„è®¿é—®é™åˆ¶</li>
<li>éƒ¨é—¨é—´çš„ç«äº‰å…³ç³»å¯¼è‡´æ•°æ®ä¿æŠ¤ä¸»ä¹‰</li>
</ul>
</li>
<li>
<p><strong>æŠ€æœ¯éšœç¢</strong>ï¼š</p>
<ul>
<li>ç³»ç»Ÿæ¶æ„ä¸å…¼å®¹ï¼ˆå¦‚éƒ¨åˆ†ä½¿ç”¨äº‘æœåŠ¡ï¼Œéƒ¨åˆ†ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼‰</li>
<li>ç¼ºä¹ç»Ÿä¸€çš„æ•°æ®æ¥å£æ ‡å‡†</li>
<li>å†å²é—ç•™ç³»ç»Ÿçš„æŠ€æœ¯å€ºåŠ¡</li>
</ul>
</li>
</ol>
<h4 data-id="heading-4">æ•°æ®å­¤å²›çš„å…·ä½“è¡¨ç°</h4>
<p>ä»¥é›¶å”®ä¼ä¸šä¸ºä¾‹ï¼š</p>
<ul>
<li>ç”µå•†äº‹ä¸šéƒ¨æŒæ¡çš„å®¢æˆ·ç½‘è´­è¡Œä¸ºæ•°æ®æ— æ³•ä¸çº¿ä¸‹é—¨åº—çš„ä¼šå‘˜æ•°æ®æ‰“é€š</li>
<li>ä¾›åº”é“¾éƒ¨é—¨çš„åº“å­˜æ•°æ®æ— æ³•å®æ—¶åŒæ­¥ç»™é”€å”®éƒ¨é—¨</li>
<li>å¸‚åœºè¥é”€éƒ¨é—¨çš„æ´»åŠ¨æ•ˆæœæ•°æ®éš¾ä»¥ä¸è´¢åŠ¡éƒ¨é—¨çš„ROIåˆ†æå…³è”</li>
</ul>
<h4 data-id="heading-5">æ•°æ®å­¤å²›çš„è´Ÿé¢å½±å“</h4>
<ol>
<li>
<p><strong>å†³ç­–æ•ˆç‡ä½ä¸‹</strong>ï¼š</p>
<ul>
<li>ç®¡ç†å±‚æ— æ³•è·å–å®Œæ•´çš„ä¸šåŠ¡è§†å›¾</li>
<li>éœ€è¦äººå·¥æ•´åˆå¤šä»½æŠ¥å‘Šæ‰èƒ½åšå‡ºå†³ç­–</li>
</ul>
</li>
<li>
<p><strong>è¿è¥æˆæœ¬å¢åŠ </strong>ï¼š</p>
<ul>
<li>é‡å¤çš„æ•°æ®é‡‡é›†å’Œæ¸…æ´—å·¥ä½œ</li>
<li>éœ€è¦ç»´æŠ¤å¤šä¸ªç‹¬ç«‹çš„æ•°æ®ç³»ç»Ÿ</li>
</ul>
</li>
<li>
<p><strong>å®¢æˆ·ä½“éªŒå—æŸ</strong>ï¼š</p>
<ul>
<li>æ— æ³•å®ç°è·¨æ¸ é“çš„ä¸ªæ€§åŒ–æœåŠ¡</li>
<li>å®¢æˆ·åœ¨ä¸åŒéƒ¨é—¨éœ€è¦é‡å¤æä¾›ç›¸åŒä¿¡æ¯</li>
</ul>
</li>
<li>
<p><strong>åˆ›æ–°å—é˜»</strong>ï¼š</p>
<ul>
<li>éš¾ä»¥å¼€å±•è·¨éƒ¨é—¨çš„æ•°æ®åˆ†æé¡¹ç›®</li>
<li>æ— æ³•å……åˆ†æŒ–æ˜æ•°æ®çš„æ½œåœ¨ä»·å€¼</li>
</ul>
</li>
</ol>
<h4 data-id="heading-6">å…¸å‹åœºæ™¯ç¤ºä¾‹</h4>
<p>åœºæ™¯ï¼šå®¢æˆ·æŠ•è¯‰å¤„ç†</p>
<ul>
<li>å®¢æœéƒ¨é—¨ï¼šè®°å½•æŠ•è¯‰å†…å®¹ï¼Œä½†æ— æ³•æŸ¥çœ‹è¯¥å®¢æˆ·çš„å†å²è®¢å•æ•°æ®</li>
<li>å”®åéƒ¨é—¨ï¼šå¤„ç†é€€æ¢è´§ï¼Œä½†ä¸çŸ¥é“å®¢æˆ·ä¹‹å‰çš„å’¨è¯¢è®°å½•</li>
<li>è´¨é‡éƒ¨é—¨ï¼šåˆ†æäº§å“é—®é¢˜ï¼Œä½†ç¼ºä¹å®Œæ•´çš„å®¢æˆ·åé¦ˆæ•°æ®</li>
</ul>
<p>è¿™ç§æƒ…å†µå¯¼è‡´å®¢æˆ·é—®é¢˜éœ€è¦å¤šæ¬¡è½¬æ¥ï¼Œå¤„ç†å‘¨æœŸé•¿ï¼Œå®¢æˆ·æ»¡æ„åº¦ä¸‹é™ã€‚</p>
<h2 data-id="heading-7">å»ºæ¨¡æ–¹æ³•</h2>
<p>æ•°æ®æ¨¡å‹å°±æ˜¯æ•°æ®ç»„ç»‡å’Œå­˜å‚¨æ–¹æ³•ï¼Œå®ƒå¼ºè°ƒä¸šåŠ¡ã€æ•°æ®å­˜å–å’Œä½¿ç”¨è§’åº¦åˆç†å­˜å‚¨æ•°æ®ã€‚æœ‰äº†é€‚åˆçš„åŸºç¡€æ•°æ®å­˜å‚¨ç¯å¢ƒçš„æ¨¡å‹ï¼Œèƒ½è·å¾—ä»¥ä¸‹å¥½å¤„ï¼š</p>
<ul>
<li>æ€§èƒ½ï¼šè‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å¿«é€ŸæŸ¥è¯¢æ‰€éœ€è¦çš„æ•°æ®ï¼Œå‡å°‘æ•°æ®çš„I/Oåå</li>
<li>æˆæœ¬ï¼šè‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½æå¤§çš„å‡å°‘ä¸å¿…è¦çš„æ•°æ®å†—ä½™ï¼Œä¹Ÿèƒ½å®ç°è®¡ç®—ç»“æœå¤ç”¨ï¼Œæå¤§çš„é™ä½æ•°æ®ç³»ç»Ÿä¸­çš„å­˜å‚¨å’Œè®¡ç®—æˆæœ¬ã€‚</li>
<li>æ•ˆç‡ï¼šè‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½æå¤§çš„æ”¹å–„ä½¿ç”¨ä½¿ç”¨æ•°æ®çš„ä½“éªŒï¼Œæé«˜ä½¿ç”¨æ•°æ®çš„æ•ˆç‡</li>
<li>è´¨é‡ï¼šè‰¯å¥½çš„æ•°æ®æ¨¡å‹èƒ½å¤Ÿæ”¹å–„æ•°æ®ç»Ÿè®¡å£å¾„ä¸ä¸€è‡´æ€§ï¼Œå‡å°‘æ•°æ®è®¡ç®—é”™è¯¯çš„å¯èƒ½æ€§ã€‚</li>
</ul>
<p>å¤§æ•°æ®ç³»ç»Ÿéœ€è¦æ•°æ®æ¨¡å‹çš„æ–¹æ³•æ¥å¸®åŠ©æ›´å¥½çš„ç»„ç»‡å’Œå­˜å‚¨æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ€§èƒ½ã€æˆæœ¬ã€æ•ˆç‡å’Œè´¨é‡ä¹‹é—´å–å¾—æœ€ä½³çš„å¹³è¡¡ã€‚</p>
<h2 data-id="heading-8">ERæ¨¡å‹</h2>
<p>æ•°æ®ä»“åº“ä¹‹çˆ¶Bill Inmonæå‡ºçš„å»ºæ¨¡æ–¹æ³•æ˜¯ä»å…¨ä¼ä¸šçš„é«˜åº¦è®¾è®¡ä¸€ä¸ª3NFæ¨¡å‹ï¼Œç”¨å®ä½“å…³ç³»ï¼ˆEntity RelationShipï¼ŒERï¼‰æ¨¡å‹æè¿°ä¼ä¸šä¸šåŠ¡ï¼Œåœ¨èŒƒå¼ç†è®ºä¸Šç¬¦åˆ3NFã€‚æ•°æ®ä»“åº“ä¸­çš„3NFä¸OLTPç³»ç»Ÿä¸­çš„3NFçš„åŒºåˆ«åœ¨äºï¼Œå®ƒæ˜¯ç«™åœ¨ä¼ä¸šè§’åº¦é¢å‘ä¸»é¢˜çš„æŠ½è±¡ï¼Œè€Œä¸æ˜¯é’ˆå¯¹æŸä¸ªå…·ä½“ä¸šåŠ¡æµç¨‹çš„å®ä½“å¯¹è±¡çš„æŠ½è±¡ã€‚å…¶å…·ä½“æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p>
<ul>
<li>éœ€è¦å…¨é¢çš„äº†è§£æ•´ä¸ªä¼ä¸šä¸šåŠ¡å’Œæ•°æ®</li>
<li>å®æ–½å‘¨æœŸéå¸¸çš„é•¿</li>
<li>å¯¹å»ºæ¨¡äººå‘˜çš„èƒ½åŠ›è¦æ±‚éå¸¸é«˜</li>
</ul>
<p>é‡‡ç”¨ERæ¨¡å‹å»ºè®¾æ•°æ®ä»“åº“æ¨¡å‹çš„å‡ºå‘ç‚¹æ˜¯æ•´åˆæ•°æ®ï¼Œå°†å„ä¸ªç³»ç»Ÿä¸­çš„æ•°æ®ä»¥æ•´ä¸ªä¼ä¸šè§’åº¦æŒ‰ä¸»é¢˜è¿›è¡Œç›¸ä¼¼æ€§ç»„åˆå’Œåˆå¹¶ï¼Œå¹¶è¿›è¡Œä¸€è‡´æ€§å¤„ç†ï¼Œä¸ºæ•°æ®åˆ†æå†³ç­–æœåŠ¡ï¼Œä½†æ˜¯å¹¶ä¸èƒ½ç›´æ¥ç”¨äºåˆ†æå†³ç­–ï¼Œå…¶å»ºæ¨¡æ­¥éª¤åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>é«˜å±‚æ¨¡å‹ï¼šä¸€ä¸ªé«˜åº¦æŠ½è±¡çš„æ¨¡å‹ï¼Œæè¿°ä¸»è¦çš„ä¸»é¢˜ä»¥åŠä¸»é¢˜é—´çš„å…³ç³»ï¼Œç”¨äºæè¿°ä¼ä¸šçš„ä¸šåŠ¡æ€»ä½“æ¦‚å†µ</li>
<li>ä¸­å±‚æ¨¡å‹ï¼šåœ¨é«˜å±‚æ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œç»†åŒ–ä¸»é¢˜çš„æ•°æ®é¡¹</li>
<li>ç‰©ç†æ¨¡å‹ï¼ˆä¹Ÿå«åº•å±‚æ¨¡å‹ï¼‰ï¼šåœ¨ä¸­å±‚æ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œè€ƒè™‘ç‰©ç†å­˜å‚¨ï¼ŒåŒæ—¶åŸºäºæ€§èƒ½å’Œå¹³å°ç‰¹ç‚¹è¿›è¡Œç‰©ç†å±æ€§çš„è®¾è®¡ï¼Œä¹Ÿå¯èƒ½åšä¸€äº›è¡¨çš„åˆå¹¶ã€åˆ†åŒºçš„è®¾è®¡ç­‰ç­‰</li>
</ul>
<h2 data-id="heading-9">ç»´åº¦æ¨¡å‹</h2>
<p>ç»´åº¦æ¨¡å‹æ˜¯æ•°æ®ä»“åº“é¢†åŸŸçš„Palph Kimball å¤§å¸ˆæ‰€å€¡å¯¼çš„ï¼Œä»–çš„ã€Šæ•°æ®ä»“åº“å·¥å…·ç®±ã€‹æ˜¯æ•°æ®ä»“åº“å·¥ç¨‹é¢†åŸŸæœ€æµè¡Œçš„æ•°æ®ä»“åº“å»ºæ¨¡ç»å…¸ã€‚
ç»´åº¦æ¨¡å‹ä»åˆ†æå†³ç­–çš„éœ€æ±‚å‡ºå‘æ„å»ºæ¨¡å‹ï¼Œä¸ºåˆ†æéœ€æ±‚æœåŠ¡ï¼Œé‡ç‚¹å…³æ³¨ç”¨æˆ·å¦‚ä½•æ›´å¿«çš„å®Œæˆéœ€æ±‚åˆ†æï¼ŒåŒæ—¶å…·æœ‰è¾ƒå¥½çš„å¤§è§„æ¨¡å¤æ‚æŸ¥è¯¢çš„å“åº”æ€§èƒ½ã€‚å…¶å…¸å‹çš„ä»£è¡¨æ˜¯æ˜Ÿå‹æ¨¡å‹ï¼Œä»¥åŠåœ¨ä¸€äº›ç‰¹æ®Šåœºæ™¯ä¸‹çš„é›ªèŠ±æ¨¡å‹ã€‚
å…¶è®¾è®¡ä¸»è¦åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ul>
<li>é€‰æ‹©éœ€è¦è¿›è¡Œåˆ†æå†³ç­–çš„ä¸šåŠ¡è¿‡ç¨‹ï¼Œä¸šåŠ¡è¿‡ç¨‹å¯ä»¥æ˜¯ï¼šå•ä¸ªä¸šåŠ¡äº‹ä»¶ï¼Œæ¯”å¦‚äº¤æ˜“çš„æ”¯ä»˜ã€é€€æ¬¾çš„ã€‚æŸä¸ªäº‹ä»¶çš„çŠ¶æ€ï¼Œæ¯”å¦‚å½“å‰çš„è´¦æˆ·ä½™é¢ç­‰ã€‚ä¸€ç³»åˆ—ç›¸å…³ä¸šåŠ¡äº‹ä»¶ç»„æˆçš„ä¸šåŠ¡æµç¨‹ã€‚</li>
<li>é€‰æ‹©æ•°æ®çš„ç²’åº¦ï¼Œåœ¨äº‹ä»¶åˆ†æä¸­ï¼Œæˆ‘ä»¬è¦é¢„åˆ¤æ‰€æœ‰åˆ†æéœ€è¦ç»†åˆ†çš„ç¨‹åº¦ï¼Œä»è€Œå†³å®šé€‰æ‹©çš„ç²’åº¦ã€‚</li>
<li>è¯†åˆ«ç»´è¡¨ï¼Œé€‰æ‹©å¥½ç²’åº¦ä¹‹åï¼Œå°±éœ€è¦åŸºäºæ­¤ç²’åº¦è®¾è®¡ç»´åº¦è¡¨ï¼ŒåŒ…æ‹¬ç»´åº¦å±æ€§ï¼Œç”¨äºåˆ†ææ—¶è¿›è¡Œåˆ†ç»„å’Œç­›é€‰ã€‚</li>
<li>é€‰æ‹©äº‹å®ï¼Œç¡®å®šåˆ†æéœ€è¦è¡¡é‡çš„æŒ‡æ ‡</li>
</ul>
<p>ç°ä»£ä¼ä¸šä¸šåŠ¡å˜åŒ–å¿«ã€äººå‘˜æµåŠ¨é¢‘ç¹ã€ä¸šåŠ¡çŸ¥è¯†åŠŸåº•ä¸å¤Ÿå…¨é¢ï¼Œå¯¼è‡´ERæ¨¡å‹è®¾è®¡äº§å‡ºå‘¨æœŸé•¿ã€‚å¤§å¤šä¼ä¸šå®æ–½æ•°æ®ä»“åº“çš„ç»éªŒè¯´æ˜ï¼šåœ¨ä¸å¤ªæˆç†Ÿã€å¿«é€Ÿå˜åŒ–çš„ä¸šåŠ¡é¢å‰ï¼Œæ„å»ºERæ¨¡å‹çš„é£é™©éå¸¸å¤§ï¼Œä¸å¤ªé€‚åˆå»æ„å»ºERæ¨¡å‹ã€‚è€Œç»´åº¦å»ºæ¨¡å¯¹æŠ€æœ¯è¦æ±‚ä¸é«˜ï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œæ•æ·è¿­ä»£ï¼Œå¿«é€Ÿäº¤ä»˜ï¼Œæ›´å¿«é€Ÿå®Œæˆåˆ†æéœ€æ±‚ï¼Œæœ‰è¾ƒå¥½çš„å¤§è§„æ¨¡å¤æ‚æŸ¥è¯¢çš„å“åº”æ€§èƒ½ã€‚</p>
<h2 data-id="heading-10">æ•°ä»“åˆ†å±‚</h2>
<p>æ•°æ®ä»“åº“æ›´å¤šä»£è¡¨çš„æ˜¯ä¸€ç§å¯¹æ•°æ®çš„ç®¡ç†å’Œä½¿ç”¨çš„æ–¹å¼ï¼Œå®ƒæ˜¯ä¸€æ•´å¥—åŒ…æ‹¬äº†æ•°æ®å»ºæ¨¡ã€ETLï¼ˆæ•°æ®æŠ½å–ã€è½¬æ¢ã€åŠ è½½ï¼‰ã€ä½œä¸šè°ƒåº¦ç­‰åœ¨å†…çš„å®Œæ•´çš„ç†è®ºä½“ç³»æµç¨‹ã€‚æ•°æ®ä»“åº“åœ¨æ„å»ºè¿‡ç¨‹ä¸­é€šå¸¸éœ€è¦è¿›è¡Œåˆ†å±‚å¤„ç†ã€‚ä¸šåŠ¡ä¸åŒï¼Œåˆ†å±‚çš„æŠ€æœ¯å¤„ç†æ‰‹æ®µä¹Ÿä¸åŒã€‚
åˆ†å±‚çš„ä¸»è¦åŸå› æ˜¯åœ¨ç®¡ç†æ•°æ®çš„æ—¶å€™ï¼Œèƒ½å¯¹æ•°æ®æœ‰ä¸€ä¸ªæ›´åŠ æ¸…æ™°çš„æŒæ§ã€‚è¯¦ç»†æ¥è®²ï¼Œä¸»è¦æœ‰ä¸‹é¢å‡ ä¸ªåŸå› ï¼š</p>
<ul>
<li>æ¸…æ™°çš„æ•°æ®ç»“æ„ï¼šæ¯ä¸€ä¸ªæ•°æ®åˆ†å±‚éƒ½æœ‰å®ƒçš„ä½œç”¨åŸŸï¼Œåœ¨ä½¿ç”¨è¡¨çš„æ—¶å€™èƒ½æ›´æ–¹ä¾¿çš„å®šä½å’Œç†è§£ã€‚</li>
<li>å°†å¤æ‚çš„é—®é¢˜ç®€å•åŒ–ï¼šå°†ä¸€ä¸ªå¤æ‚çš„ä»»åŠ¡åˆ†è§£æˆå¤šä¸ªæ­¥éª¤æ¥å®Œæˆï¼Œæ¯ä¸€å±‚åªå¤„ç†å•ä¸€çš„é—®é¢˜ï¼Œæ¯”è¾ƒç®€å•å’Œå®¹æ˜“ç†è§£ï¼Œè€Œä¸”ä¾¿äºç»´æŠ¤æ•°æ®çš„å‡†ç¡®æ€§ï¼Œå½“æ•°æ®å‡ºç°é—®é¢˜ä¹‹åï¼Œå¯ä»¥ä¸ç”¨ä¿®å¤æ‰€æœ‰çš„æ•°æ®ï¼Œåªéœ€è¦ä»æœ‰é—®é¢˜çš„åœ°æ–¹å¼€å§‹ä¿®å¤ã€‚</li>
<li>å‡å°‘é‡å¤å¼€å‘ï¼šè§„èŒƒæ•°æ®åˆ†å±‚ï¼Œå¼€å‘ä¸€äº›é€šç”¨çš„ä¸­é—´å±‚æ•°æ®ï¼Œèƒ½å¤Ÿæå¤§å‡å°‘é‡å¤è®¡ç®—</li>
<li>å±è”½åŸå§‹æ•°æ®çš„å¼‚å¸¸ï¼šå±è”½ä¸šåŠ¡çš„å½±å“ï¼Œä¸å¿…æ”¹ä¸€æ¬¡ä¸šåŠ¡å°±é‡æ–°æ¥å…¥æ•°æ®</li>
<li>æ•°æ®è¡€ç¼˜çš„è¿½è¸ªï¼šæœ€ç»ˆç»™ä¸šåŠ¡å‘ˆç°çš„æ˜¯ä¸€ä¸ªèƒ½ç›´æ¥ä½¿ç”¨ä¸šåŠ¡è¡¨ï¼Œä½†æ˜¯å®ƒçš„æ¥æºå¾ˆå¤šï¼Œå¦‚æœæœ‰ä¸€å¼ æ¥æºè¡¨å‡ºé—®é¢˜äº†ï¼Œå€ŸåŠ©è¡€ç¼˜æœ€ç»ˆèƒ½å¤Ÿå¿«é€Ÿå‡†ç¡®çš„å®šä½åˆ°é—®é¢˜ï¼Œå¹¶æ¸…æ¥šå®ƒçš„å±å®³èŒƒå›´ã€‚</li>
</ul>
<p>æ•°ä»“çš„å¸¸è§åˆ†å±‚ä¸€èˆ¬ä¸º3å±‚ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>æ•°æ®æ“ä½œå±‚</li>
<li>æ•°æ®ä»“åº“å±‚</li>
<li>åº”ç”¨æ•°æ®å±‚ï¼ˆæ•°æ®é›†å¸‚å±‚ï¼‰ã€‚</li>
</ul>
<p>å½“ç„¶æ ¹æ®ç ”ç©¶äººå‘˜ç»éªŒæˆ–è€…ä¸šåŠ¡ï¼Œå¯ä»¥åˆ†ä¸ºæ›´å¤šä¸åŒçš„å±‚ï¼Œåªè¦èƒ½è¾¾åˆ°æµç¨‹æ¸…æ™°ï¼Œæ–¹ä¾¿æŸ¥æ•°å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41afe8b2b57048ddb3dd28339bcfd4f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951493&amp;x-signature=7zSK7FJTMjAfKih2jnd1IgFljQA%3D" alt="ç¦»çº¿æ•°ä»“ æ•´ä½“æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-11">ODS</h2>
<p>ODSï¼ˆOperation Data Store æ•°æ®å‡†å¤‡åŒºï¼‰ï¼Œæ•°æ®ä»“åº“æºå¤´ç³»ç»Ÿçš„æ•°æ®è¡¨é€šå¸¸ä¼šåŸå°ä¸åŒçš„å­˜å‚¨ä¸€ä»½ï¼Œè¿™ç§°ä¸ºODSå±‚ï¼Œä¹Ÿç§°ä¸ºå‡†å¤‡åŒºã€‚å®ƒä»¬æ˜¯åç»­æ•°æ®ä»“åº“åŠ å·¥æ•°æ®çš„æ¥æºã€‚ODSå±‚æ•°æ®çš„ä¸»è¦æ¥æºåŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸šåŠ¡æ•°æ®åº“ï¼Œå¯ç”¨DataXã€Sqoopç­‰å·¥å…·æ¥æŠ½å–ï¼Œæ¯å¤©å®šæ—¶æŠ½å–ä¸€æ¬¡ï¼Œåœ¨å®æ—¶çš„åº”ç”¨ä¸­ï¼Œå¯ç”¨Canalç›‘å¬MySQL Binlogï¼Œå®æ—¶æ¥å…¥å˜æ›´çš„æ•°æ®ã€‚</li>
<li>åŸ‹ç‚¹æ—¥å¿—ï¼Œçº¿ä¸Šç³»ç»Ÿä¼šæ‰“å…¥å„ç§æ—¥å¿—ï¼Œè¿™äº›æ—¥å¿—ä¸€èˆ¬ä»¥æ–‡ä»¶çš„å½¢å¼ä¿å­˜ï¼Œå¯ä»¥ç”¨Flumeå®šæ—¶æŠ½å–</li>
<li>å…¶ä»–æ•°æ®æºï¼Œä»ç¬¬ä¸‰æ–¹è´­ä¹°çš„æ•°æ®ï¼Œæˆ–æ˜¯ç½‘ç»œçˆ¬è™«çš„æ•°æ®</li>
</ul>
<h2 data-id="heading-12">DW</h2>
<p>DWï¼ˆData WareHouse æ•°æ®ä»“åº“å±‚ï¼‰ï¼ŒåŒ…å«DWDã€DWSã€DIMå±‚ï¼Œç”±ODSå±‚æ•°æ®åŠ å·¥è€Œæˆï¼Œä¸»è¦å®Œæˆæ•°æ®åŠ å·¥ä¸æ•´åˆï¼Œå»ºç«‹ä¸€è‡´æ€§çš„ç»´åº¦ï¼Œæ„å»ºå¯å¤ç”¨çš„é¢å‘åˆ†æå’Œç»Ÿè®¡çš„æ˜ç»†äº‹å®è¡¨ï¼Œä»¥åŠæ±‡æ€»å…¬å…±ç²’åº¦çš„æŒ‡æ ‡ã€‚</p>
<ul>
<li>DWDï¼ˆData WareHouse Detail ç»†èŠ‚æ•°æ®å±‚ï¼‰ï¼Œæ˜¯ä¸šåŠ¡ä¸æ•°æ®ä»“åº“çš„éš”ç¦»å±‚ï¼Œä»¥ä¸šåŠ¡è¿‡ç¨‹ä¸ºå»ºæ¨¡é©±åŠ¨ï¼ŒåŸºäºæ¯ä¸ªå…·ä½“çš„ä¸šåŠ¡è¿‡ç¨‹ç‰¹ç‚¹ï¼Œæ„å»ºç»†ç²’åº¦çš„æ˜ç»†å±‚äº‹å®è¡¨ã€‚å¯ä»¥ç»“åˆä¼ä¸šçš„æ•°æ®ä½¿ç”¨ç‰¹ç‚¹ï¼Œå°†æ˜ç»†äº‹å®è¡¨çš„æŸäº›é‡è¦ç»´åº¦å±æ€§å­—æ®µåšé€‚å½“åœ°å†—ä½™ï¼Œä¹Ÿå³å®½è¡¨åŒ–å¤„ç†ã€‚</li>
<li>DWSï¼ˆData WareHouse Service æœåŠ¡æ•°æ®å±‚ï¼‰ï¼ŒåŸºäºDWDçš„åŸºç¡€æ•°æ®ï¼Œæ•´åˆæ±‡æ€»æˆåˆ†ææŸä¸ªä¸»é¢˜åŸŸçš„æœåŠ¡æ•°æ®ã€‚ä»¥åˆ†æçš„ä¸»é¢˜ä¸ºå»ºæ¨¡é©±åŠ¨ï¼ŒåŸºäºä¸Šå±‚çš„åº”ç”¨å’Œäº§å“çš„æŒ‡æ ‡éœ€æ±‚ï¼Œæ„å»ºå…¬å…±ç²’åº¦çš„æ±‡æ€»æŒ‡æ ‡äº‹å®è¡¨ã€‚</li>
<li>å…¬å…±ç»´åº¦å±‚ï¼ˆDIMï¼‰ï¼šåŸºäºç»´åº¦å»ºæ¨¡ç†å¿µæ€æƒ³ï¼Œå»ºç«‹ä¸€è‡´æ€§ç»´åº¦</li>
<li>TMPå±‚ï¼šä¸´æ—¶å±‚ï¼Œå­˜æ”¾è®¡ç®—è¿‡ç¨‹ä¸­ä¸´æ—¶äº§ç”Ÿçš„æ•°æ®</li>
</ul>
<h2 data-id="heading-13">ADS</h2>
<p>ADSï¼ˆApplication Data Storeï¼‰åº”ç”¨æ•°æ®å±‚ï¼ŒåŸºäºDWæ•°æ®ï¼Œæ•´åˆæ±‡æ€»æˆä¸»é¢˜åŸŸçš„æœåŠ¡æ•°æ®ï¼Œç”¨äºæä¾›åç»­çš„ä¸šåŠ¡æŸ¥è¯¢ç­‰ã€‚</p>
<h2 data-id="heading-14">ç®€å•æ€»ç»“</h2>
<p>æ•°æ®ä»“åº“å±‚æ¬¡çš„åˆ’åˆ†ä¸æ˜¯å›ºå®šä¸å˜çš„ï¼Œå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œé€‚å½“è£å‰ªæˆ–è€…æ˜¯æ·»åŠ ï¼Œå¦‚æœä¸šåŠ¡ç›¸å¯¹ç®€å•å’Œç‹¬ç«‹ï¼Œå¯ä»¥å°†DWDã€DWSè¿›è¡Œåˆå¹¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2de879f5258b4bc5a3f1f11b184e10d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769951493&amp;x-signature=AHH9Ski2g%2FtdP%2Fya%2Fqldi4BpS%2FI%3D" alt="ç¦»çº¿æ•°ä»“ ADS ETL" loading="lazy"/></p>
<h2 data-id="heading-15">é”™è¯¯é€ŸæŸ¥</h2>













































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>åŒä¸€ä¸ªæŒ‡æ ‡åœ¨ä¸åŒæŠ¥è¡¨æ•°å€¼ä¸ä¸€è‡´</td><td>å£å¾„åˆ†æ•£åœ¨å„æ•°æ®é›†å¸‚/å„å›¢é˜Ÿè„šæœ¬é‡Œï¼Œç»´åº¦ä¸ä¸€è‡´ã€è¿‡æ»¤æ¡ä»¶ä¸ä¸€è‡´</td><td>æ‹‰é½æŒ‡æ ‡å®šä¹‰ï¼šç»Ÿè®¡å‘¨æœŸã€å»é‡è§„åˆ™ã€çŠ¶æ€è¿‡æ»¤ï¼›å¯¹æ¯”å„è¡¨ SQL/ETL é€»è¾‘å·®å¼‚ï¼›æŒ‡æ ‡ä¸Šæ”¶ï¼šæ²‰åˆ° DWS å…¬å…±ç²’åº¦æ±‡æ€»å±‚ï¼›ç»Ÿä¸€ DIM ç»´åº¦ä¸ä¸»é”®æ˜ å°„ï¼›ç¦æ­¢ ADS ç§è‡ªæ”¹å£å¾„</td></tr><tr><td>åå¤åšç›¸åŒæ¸…æ´—/Joinï¼Œä»»åŠ¡é“¾è¶Šæ¥è¶Šé•¿</td><td>åˆ†å±‚è¾¹ç•Œä¸æ¸…ï¼ŒODS/DWD ç›´æ¥æœåŠ¡ä¸Šå±‚ï¼›ç¼ºå°‘å¯å¤ç”¨ä¸­é—´å±‚</td><td>çœ‹ DAGï¼šç›¸åŒ Join/è¿‡æ»¤åœ¨å¤šä¸ªä»»åŠ¡é‡å¤å‡ºç°ï¼›çœ‹æ•°æ®è¡€ç¼˜åŒæºå¤šäº§å‡ºï¼›æŠ½å…¬å…±é€»è¾‘åˆ° DWDï¼ˆæ˜ç»†äº‹å®ï¼‰æˆ– DIMï¼ˆä¸€è‡´æ€§ç»´åº¦ï¼‰ï¼›DWS æä¾›å…¬å…±ç²’åº¦æ±‡æ€»å¤ç”¨</td></tr><tr><td>æŸ¥æ•°æ…¢ã€æ‰«æé‡å·¨å¤§</td><td>æ˜ç»†å±‚ç²’åº¦è¿‡ç»†ä¸”æ— åˆ†åŒº/æ— å®½è¡¨ç­–ç•¥ï¼›ç»´åº¦è¡¨è®¾è®¡ä¸åˆç†</td><td>çœ‹æ‰§è¡Œè®¡åˆ’ï¼šå…¨è¡¨æ‰«æã€Shuffle è¿‡å¤§ï¼›çœ‹åˆ†åŒºå­—æ®µæ˜¯å¦å‘½ä¸­ï¼›DWD æŒ‰ä¸šåŠ¡è¿‡ç¨‹å®šç²’åº¦å¹¶åˆ†åŒºï¼›é€‚åº¦å®½è¡¨åŒ–ï¼›ç»´åº¦è¡¨æ‹†åˆ†çƒ­å­—æ®µä¸ä½é¢‘å­—æ®µ</td></tr><tr><td>ä¸šåŠ¡ä¸€æ”¹å­—æ®µ/é€»è¾‘ï¼Œä¸Šå±‚å¤§é¢ç§¯é‡è·‘</td><td>ODS æœªåšâ€œåŸå§‹ç•™å­˜ + å˜åŒ–éš”ç¦»â€ï¼›ä¸Šæ¸¸å¼‚å¸¸ç›´æ¥æ±¡æŸ“ DW</td><td>æ¯”å¯¹ ODS åŸå§‹ä¸ DWD æ¸…æ´—åå·®å¼‚ï¼›æ£€æŸ¥å­—æ®µå˜æ›´æ˜¯å¦æœ‰å…¼å®¹å±‚ï¼›ODS åªåšåŸæ ·è½åœ°ä¸æœ€å°è§„èŒƒåŒ–ï¼›åœ¨ DWD åšç¨³å®šæŠ½è±¡ï¼›æ–°å¢è¿‡æ¸¡å­—æ®µä¸å…¼å®¹è§†å›¾</td></tr><tr><td>ç»´åº¦å£å¾„æ··ä¹±ï¼šåŒä¸€å®¢æˆ·åœ¨ä¸åŒç³»ç»Ÿ ID ä¸åŒ</td><td>ä¸»æ•°æ®ç¼ºå¤±ï¼Œç¼ºå°‘ä¸€è‡´æ€§ç»´åº¦ï¼ˆDIMï¼‰ä¸æ˜ å°„è¡¨</td><td>æŠ½æ ·æ ¸å¯¹ï¼šè®¢å•ã€ä¼šå‘˜ã€CRM ç­‰ç³»ç»Ÿçš„ ID æ˜ å°„è¦†ç›–ç‡ï¼›å»ºç«‹ç»Ÿä¸€ä¸»é”®ï¼ˆsurrogate keyï¼‰ä¸æ˜ å°„è¡¨ï¼›DIM ç»´æŠ¤ç”Ÿå‘½å‘¨æœŸä¸ SCD ç­–ç•¥ï¼ˆæ…¢å˜ç»´ï¼‰</td></tr><tr><td>ADS è¡¨è¶Šæ¥è¶Šå¤šã€åƒâ€œå¦ä¸€ä¸ªæ•°ä»“â€</td><td>ADS æ‰¿æ‹…äº†å»ºæ¨¡ä¸åŠ å·¥èŒè´£ï¼Œè¶Šæƒ</td><td>çœ‹ ADS æ˜¯å¦åŒ…å«å¤æ‚ Join/æ¸…æ´—/å£å¾„è®¡ç®—ï¼›ADS åªåšé¢å‘åº”ç”¨çš„è½»åº¦æ•´åˆä¸å‡ºæ•°ï¼›é‡åŠ å·¥å›æ”¶è‡³ DWï¼ˆDWD/DWS/DIMï¼‰</td></tr><tr><td>ä¸´æ—¶ TMP è¡¨é•¿æœŸå­˜åœ¨ã€å£å¾„ä¸å¯è¿½æº¯</td><td>TMP è¢«å½“æˆæ­£å¼äº§å‡ºï¼Œç¼ºå°‘æ²»ç†ä¸ç”Ÿå‘½å‘¨æœŸ</td><td>æŸ¥å…ƒæ•°æ®ï¼šTMP å­˜æ´»æ—¶é—´ã€å¼•ç”¨é“¾ã€æ˜¯å¦æœ‰ ownerï¼›TMP è®¾ TTL ä¸å‘½åè§„èŒƒï¼›å¼•ç”¨å¿…é¡»è½åˆ° DWD/DWSï¼›çº³å…¥è¡€ç¼˜ä¸è´¨é‡æ ¡éªŒ</td></tr></tbody></table>
<h2 data-id="heading-16">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-17">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-18">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-19">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsã€Rulesã€Promptã€MCPï¼Œä¸€æ–‡æŠŠå®ƒä»¬ç†æ¸…æ¥šäº†]]></title>    <link>https://juejin.cn/post/7599268297201958950</link>    <guid>https://juejin.cn/post/7599268297201958950</guid>    <pubDate>2026-01-25T13:54:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599268297201958950" data-draft-id="7598921649888559131" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsã€Rulesã€Promptã€MCPï¼Œä¸€æ–‡æŠŠå®ƒä»¬ç†æ¸…æ¥šäº†"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-25T13:54:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸å¦‚æ‘¸é±¼å»"/> <meta itemprop="url" content="https://juejin.cn/user/26044011388510"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsã€Rulesã€Promptã€MCPï¼Œä¸€æ–‡æŠŠå®ƒä»¬ç†æ¸…æ¥šäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044011388510/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸å¦‚æ‘¸é±¼å»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T13:54:58.000Z" title="Sun Jan 25 2026 13:54:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0cde99a53249d78feb581f3a6ad055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769954097&amp;x-signature=P06QY2A6CIp%2BX5s3QPJaI7BzePI%3D" alt="" loading="lazy"/></p>
<p>æˆ‘çš„å…³æ³¨è€…é‡Œï¼Œç»å¸¸æœ‰äººé—®æˆ‘åŒä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p>"Agent Skillsã€Rulesã€Promptã€MCPåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæˆ‘ä¹Ÿæƒ³ç”¨AIï¼Œä½†æ¯æ¬¡çœ‹åˆ°è¿™äº›è¯å°±å¤´å¤§ã€‚"</p>
</blockquote>
<p>è¯´å®è¯ï¼Œæˆ‘ç†è§£è¿™ç§å›°æƒ‘ã€‚</p>
<p>è¿™å°±å¥½æ¯”ä½ å»ä¸€å®¶é¤å…ï¼Œèœå•ä¸Šå†™ç€"å‰èœ"ã€"ä¸»èœ"ã€"é…èœ"ã€"ä½æ–™"ï¼Œä½†æ²¡äººå‘Šè¯‰ä½ å®ƒä»¬åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»ã€‚ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ec6620cc14e400d94ab9081fdef6c43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769954097&amp;x-signature=KfsC12H%2BYBcA4sIBmm73qLGm9sw%3D" alt="" loading="lazy"/></p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æŠŠè¿™äº›æ¦‚å¿µå½»åº•æ°å¼€æ‰ç¢äº†è®²æ¸…æ¥šã€‚</p>
<h2 data-id="heading-0">01</h2>
<p>ä¸€ä¸ªçœŸå®çš„AIå›°æƒ‘</p>
<p>ä¸Šå‘¨æœ‰ä¸ªç¨‹åºå‘˜æœ‹å‹è·Ÿæˆ‘è¯´ï¼š</p>
<p>"æˆ‘å†™äº†ä¸€ä¸ªPromptï¼Œè®©AIå¸®æˆ‘å†™ä»£ç ï¼Œä½†å®ƒæ€»ç†è§£ä¸å¯¹æˆ‘çš„éœ€æ±‚ã€‚åæ¥å¬è¯´è¦åŠ Rulesï¼Œç„¶ååˆæœ‰äººè¯´è¦ç”¨Skillsï¼Œç°åœ¨åˆå†’å‡ºä¸ªMCPâ€¦â€¦æˆ‘åˆ°åº•è¯¥ç”¨å“ªä¸ªï¼Ÿ"</p>
<p>è¿™ä¸æ˜¯æŸä¸ªäººçš„å›°æƒ‘ï¼Œè€Œæ˜¯å¾ˆå¤šAIä½¿ç”¨è€…çš„æ™®éå›°å¢ƒã€‚</p>
<p>å› ä¸ºAIç”Ÿæ€å‘å±•å¤ªå¿«ï¼Œæ–°æ¦‚å¿µå±‚å‡ºä¸ç©·ï¼Œä½†è¿™äº›æ¦‚å¿µä¹‹é—´å¾€å¾€æœ‰é‡å ï¼Œè¾¹ç•Œä¸æ¸…ã€‚</p>
<p>æ›´è®©äººå¤´å¤§çš„æ˜¯ï¼Œä¸åŒçš„å¹³å°ã€ä¸åŒçš„æ–‡æ¡£ï¼Œå¯¹åŒä¸€ä¸ªè¯çš„å«æ³•è¿˜ä¸ä¸€æ ·ã€‚</p>
<p><strong>ä½†è¿™å››ä¸ªæ¦‚å¿µï¼Œç¡®å®æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚</strong></p>
<h2 data-id="heading-1">02</h2>
<p>Promptï¼šä½ å’ŒAIçš„å¯¹è¯åŸºç¡€</p>
<p>å…ˆè¯´æœ€åŸºç¡€çš„ï¼šPromptã€‚</p>
<p>Promptå°±æ˜¯ä½ ç»™AIçš„è¾“å…¥ï¼Œæ˜¯ä½ å’ŒAIå¯¹è¯çš„åŸºç¡€ã€‚</p>
<p>å®ƒå¯ä»¥æ˜¯ä¸€å¥è¯ã€ä¸€æ®µæ–‡å­—ã€ä¸€ä¸ªé—®é¢˜ã€ä¸€ä¸ªä»»åŠ¡æè¿°ã€‚</p>
<blockquote>
<p><strong>Prompt = ä½ å¯¹AIè¯´çš„è¯</strong></p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>"å¸®æˆ‘å†™ä¸€ç¯‡å…³äºæ˜¥å¤©çš„è¯—"</li>
<li>"è¿™æ®µä»£ç æœ‰ä»€ä¹ˆbugï¼Ÿ"</li>
<li>"è§£é‡Šä¸€ä¸‹é‡å­çº ç¼ "</li>
</ul>
<p><strong>Promptçš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ç®€å•ç›´æ¥ï¼Œå°±åƒä½ åœ¨è·ŸäººèŠå¤©</li>
<li>æ¯æ¬¡å¯¹è¯éƒ½å¯ä»¥ä¸åŒ</li>
<li>é€‚åˆä¸€æ¬¡æ€§ä»»åŠ¡</li>
</ul>
<p><strong>Promptçš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ ç»å¸¸è¦åšç±»ä¼¼çš„äº‹æƒ…ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°è¾“å…¥Prompt</li>
<li>AIå¯èƒ½ä¼š"å¿˜è®°"ä½ ä¹‹å‰çš„è®¾ç½®</li>
<li>æ— æ³•å¤ç”¨å’Œå…±äº«</li>
</ul>
<h2 data-id="heading-2">03</h2>
<p>Rulesï¼šç»™AIçš„"è¡Œä¸ºå‡†åˆ™"</p>
<p>å½“ä½ å‘ç°éœ€è¦åå¤å‘Šè¯‰AIåŒæ ·çš„äº‹æƒ…æ—¶ï¼Œå°±éœ€è¦Rulesäº†ã€‚</p>
<p>Ruleså°±æ˜¯ä½ ç»™AIè®¾å®šçš„é•¿æœŸè§„åˆ™ï¼Œå°±åƒä½ ç»™åŠ©ç†åˆ¶å®šçš„"å·¥ä½œæ‰‹å†Œ"ã€‚</p>
<blockquote>
<p><strong>Rules = AIçš„è¡Œä¸ºå‡†åˆ™</strong></p>
</blockquote>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¨‹åºå‘˜ï¼Œå†™ä»£ç æ—¶è¦éµå¾ªPEP8è§„èŒƒ"</li>
<li>"å›å¤æ—¶è¦ç®€çŸ­ç²¾ç‚¼ï¼Œä¸è¦è¶…è¿‡100å­—"</li>
<li>"é‡åˆ°ä¸ç¡®å®šçš„ä¿¡æ¯ï¼Œè¦æ˜ç¡®å‘Šè¯‰ç”¨æˆ·"</li>
</ul>
<p><strong>Rulesçš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸€æ¬¡è®¾ç½®ï¼Œé•¿æœŸç”Ÿæ•ˆ</li>
<li>å®šä¹‰äº†AIçš„"äººè®¾"å’Œ"è¡Œä¸ºæ¨¡å¼"</li>
<li>é€‚åˆé•¿æœŸç¨³å®šçš„éœ€æ±‚</li>
</ul>
<p><strong>Rulesçš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>åªèƒ½å®šä¹‰"åšä»€ä¹ˆ"å’Œ"ä¸åšä»€ä¹ˆ"ï¼Œæ— æ³•å®šä¹‰"æ€ä¹ˆåš"</li>
<li>æ— æ³•åŒ…å«å¤æ‚çš„æ“ä½œæ­¥éª¤</li>
<li>ä»ç„¶æ¯”è¾ƒæŠ½è±¡</li>
</ul>
<h2 data-id="heading-3">04</h2>
<p>Skillsï¼šAIçš„"è¶…èƒ½åŠ›æ¨¡æ¿"</p>
<p>ç°åœ¨è¿›å…¥é‡å¤´æˆï¼šSkillsã€‚</p>
<p>Skillsæ˜¯AIçš„"è¶…èƒ½åŠ›æ¨¡æ¿"ï¼Œæ˜¯ä¸€å¥—å®Œæ•´çš„ã€å¯å¤ç”¨çš„ã€èƒ½è§£å†³ç‰¹å®šé—®é¢˜çš„æ–¹æ¡ˆã€‚</p>
<blockquote>
<p><strong>Skills = AIçš„è¶…èƒ½åŠ›æ¨¡æ¿</strong></p>
</blockquote>
<p>ä¸€ä¸ªSkillé€šå¸¸åŒ…å«ï¼š</p>
<ul>
<li><strong>Promptæ¨¡æ¿</strong>ï¼šå®šä¹‰ä»»åŠ¡ç›®æ ‡</li>
<li><strong>Rules</strong>ï¼šè®¾å®šè¡Œä¸ºè§„èŒƒ</li>
<li><strong>æ“ä½œæ­¥éª¤</strong>ï¼šå…·ä½“çš„æ‰§è¡Œæµç¨‹</li>
<li><strong>å·¥å…·è°ƒç”¨</strong>ï¼šéœ€è¦ç”¨åˆ°çš„å¤–éƒ¨å·¥å…·æˆ–API</li>
<li><strong>è¾“å‡ºæ ¼å¼</strong>ï¼šæ ‡å‡†åŒ–çš„ç»“æœå‘ˆç°</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/845df433e73d44a2aa3c50dc556ec0e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769954097&amp;x-signature=x8mF3Ynayfyp3Y8W4tUfTU4F07g%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼š</p>
<p>å‡è®¾ä½ ç»å¸¸éœ€è¦ä»ç½‘é¡µæŠ“å–æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Šã€‚</p>
<ul>
<li><strong>ç”¨Prompt</strong>ï¼šæ¯æ¬¡éƒ½è¦è¾“å…¥"å¸®æˆ‘è®¿é—®è¿™ä¸ªç½‘é¡µï¼Œæå–XXæ•°æ®ï¼Œç„¶åç”ŸæˆæŠ¥å‘Š"</li>
<li><strong>ç”¨Rules</strong>ï¼šå¯ä»¥è®¾å®š"ä½ æ˜¯ä¸ªæ•°æ®åˆ†æå¸ˆï¼Œç”ŸæˆæŠ¥å‘Šæ—¶è¦åŒ…å«XXéƒ¨åˆ†"</li>
<li><strong>ç”¨Skill</strong>ï¼šç›´æ¥è°ƒç”¨"ç½‘é¡µæ•°æ®æŠ“å–Skill"ï¼Œå®ƒä¼šè‡ªåŠ¨å®Œæˆè®¿é—®â†’æå–â†’åˆ†æâ†’ç”ŸæˆæŠ¥å‘Šçš„å…¨æµç¨‹</li>
</ul>
<p><strong>Skillsçš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>å®Œæ•´æ€§</strong>ï¼šä»è¾“å…¥åˆ°è¾“å‡ºçš„å®Œæ•´æ–¹æ¡ˆ</li>
<li><strong>å¯å¤ç”¨</strong>ï¼šä¸€æ¬¡åˆ›å»ºï¼Œå¤šæ¬¡ä½¿ç”¨</li>
<li><strong>å¯å…±äº«</strong>ï¼šå¯ä»¥è¢«å…¶ä»–ç”¨æˆ·æˆ–Agentè°ƒç”¨</li>
<li><strong>å¯ç»„åˆ</strong>ï¼šå¤šä¸ªSkillå¯ä»¥ç»„åˆå®Œæˆå¤æ‚ä»»åŠ¡</li>
</ul>
<p><strong>Skillsçš„ä»·å€¼</strong>ï¼š</p>
<ul>
<li>ä¸ç”¨æ¯æ¬¡éƒ½é‡æ–°æè¿°éœ€æ±‚</li>
<li>ä¿è¯äº†è¾“å‡ºçš„è´¨é‡å’Œä¸€è‡´æ€§</li>
<li>å¯ä»¥åœ¨ç¤¾åŒºä¸­å…±äº«å’Œäº¤æ¢</li>
<li>è®©AIçœŸæ­£æˆä¸ºä½ çš„"æ•°å­—å‘˜å·¥"</li>
</ul>
<h2 data-id="heading-4">05</h2>
<p>MCPï¼šè¿æ¥AIå’Œä¸–ç•Œçš„"æ¡¥æ¢"</p>
<p>æœ€åè¯´MCPã€‚</p>
<p>MCPï¼ˆModel Context Protocolï¼‰æ˜¯ä¸€ä¸ªæŠ€æœ¯åè®®ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©AIèƒ½å¤Ÿå®‰å…¨ã€è§„èŒƒåœ°è®¿é—®å¤–éƒ¨æ•°æ®å’ŒæœåŠ¡ã€‚</p>
<blockquote>
<p><strong>MCP = AIå’Œä¸–ç•Œè¿æ¥çš„åè®®</strong></p>
</blockquote>
<p>ä½ å¯ä»¥æŠŠMCPç†è§£æˆä¸€å¥—"æ’åº§æ ‡å‡†"ã€‚</p>
<ul>
<li><strong>AI</strong>æ˜¯ç”µå™¨</li>
<li><strong>å¤–éƒ¨ç³»ç»Ÿ</strong>ï¼ˆæ•°æ®åº“ã€APIã€æ–‡ä»¶ç³»ç»Ÿï¼‰æ˜¯ç”µæº</li>
<li><strong>MCP</strong>æ˜¯æ’åº§æ ‡å‡†</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c59f8eb19d1547a39ea0498a87721f00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769954097&amp;x-signature=4ksd3GqdtmhF8l4yOEIiY2fxyr4%3D" alt="" loading="lazy"/></p>
<p>æœ‰äº†ç»Ÿä¸€çš„æ’åº§æ ‡å‡†ï¼Œç”µå™¨å°±å¯ä»¥æ–¹ä¾¿åœ°è¿æ¥å„ç§ç”µæºï¼Œè€Œä¸ç”¨æ‹…å¿ƒæ¥å£ä¸åŒ¹é…ã€‚</p>
<p><strong>MCPè§£å†³çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li><strong>å®‰å…¨é—®é¢˜</strong>ï¼šå¦‚ä½•è®©AIå®‰å…¨åœ°è®¿é—®æ•æ„Ÿæ•°æ®</li>
<li><strong>æ ‡å‡†åŒ–é—®é¢˜</strong>ï¼šä¸åŒçš„ç³»ç»Ÿç”¨ç»Ÿä¸€çš„æ–¹å¼è¿æ¥</li>
<li><strong>æƒé™ç®¡ç†</strong>ï¼šAIèƒ½åšä»€ä¹ˆã€ä¸èƒ½åšä»€ä¹ˆ</li>
<li><strong>æ•°æ®éš”ç¦»</strong>ï¼šé¿å…AIè¶Šç•Œè®¿é—®ä¸è¯¥è®¿é—®çš„å†…å®¹</li>
</ul>
<p><strong>MCPä¸Skillsçš„å…³ç³»</strong>ï¼š</p>
<p>Skillsæ˜¯"åšä»€ä¹ˆ"ï¼ŒMCPæ˜¯"æ€ä¹ˆå®‰å…¨åœ°åš"ã€‚</p>
<p>ä¸€ä¸ªSkillåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœéœ€è¦è®¿é—®å¤–éƒ¨ç³»ç»Ÿï¼Œå°±ä¼šé€šè¿‡MCPåè®®æ¥è¿æ¥ã€‚</p>
<h2 data-id="heading-5">06</h2>
<p>ä¸€å¼ å›¾çœ‹æ‡‚å®ƒä»¬çš„å…³ç³»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0f0c19086ec49328acca84f2ff82eae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769954097&amp;x-signature=wbMurCuPzF4gincbNbH1RUCKEVs%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>Prompt</strong>ï¼šæ˜¯ä½ å’ŒAIå¯¹è¯çš„èµ·ç‚¹</li>
<li><strong>Rules</strong>ï¼šå®šä¹‰AIçš„åŸºæœ¬è¡Œä¸ºè§„èŒƒ</li>
<li><strong>Skills</strong>ï¼šå°è£…äº†å®Œæ•´çš„ä»»åŠ¡è§£å†³æ–¹æ¡ˆ</li>
<li><strong>MCP</strong>ï¼šè®©AIèƒ½å¤Ÿå®‰å…¨åœ°è¿æ¥å¤–éƒ¨ä¸–ç•Œ</li>
</ul>
<h2 data-id="heading-6">07</h2>
<p>å®é™…åœºæ™¯ä¸­è¯¥ç”¨å“ªä¸ªï¼Ÿ</p>
<p><strong>åœºæ™¯1ï¼šå¶å°”è®©AIå¸®ä¸ªå°å¿™</strong> â†’ ç”¨ <strong>Prompt</strong> å°±å¤Ÿäº†</p>
<p>æ¯”å¦‚ï¼š"å¸®æˆ‘å†™ä¸ªç”Ÿæ—¥ç¥ç¦è¯­"</p>
<p><strong>åœºæ™¯2ï¼šAIè¦é•¿æœŸæ‰®æ¼”æŸä¸ªè§’è‰²</strong> â†’ ç”¨ <strong>Rules</strong></p>
<p>æ¯”å¦‚ï¼šè®¾å®šAIæ˜¯"ä½ çš„ç§äººè‹±è¯­è€å¸ˆ"ï¼Œå›å¤æ—¶è¦ç”¨ç®€å•è‹±è¯­ï¼Œä¸è¶…è¿‡50ä¸ªå•è¯</p>
<p><strong>åœºæ™¯3ï¼šç»å¸¸è¦åšä¸€ä»¶å¤æ‚çš„äº‹</strong> â†’ ç”¨ <strong>Skills</strong></p>
<p>æ¯”å¦‚ï¼šæ¯å‘¨éƒ½è¦åˆ†æè¡Œä¸šæ–°é—»å¹¶ç”ŸæˆæŠ¥å‘Šï¼Œé‚£å°±åˆ›å»ºä¸€ä¸ª"è¡Œä¸šæŠ¥å‘Šç”ŸæˆSkill"</p>
<p><strong>åœºæ™¯4ï¼šè¦è®©AIè®¿é—®ä½ çš„ç§æœ‰æ•°æ®æˆ–API</strong> â†’ éœ€è¦é…ç½® <strong>MCP</strong></p>
<p>æ¯”å¦‚ï¼šè®©AIèƒ½å¤ŸæŸ¥è¯¢ä½ çš„æ•°æ®åº“ã€è°ƒç”¨ä½ çš„ä¸šåŠ¡API</p>
<h2 data-id="heading-7">08</h2>
<p>ä¸ºä»€ä¹ˆSkillsè¿™ä¹ˆé‡è¦ï¼Ÿ</p>
<p>ä½ å¯èƒ½å‘ç°ï¼Œè¿™å››ä¸ªæ¦‚å¿µé‡Œï¼ŒSkillsæ˜¯æœ€"é‡"çš„ã€‚</p>
<p>å®ƒéœ€è¦ä½ èŠ±æ—¶é—´å»è®¾è®¡ã€å»è°ƒè¯•ã€å»ä¼˜åŒ–ã€‚</p>
<p><strong>ä½†ä¸ºä»€ä¹ˆè¿˜è¦ç”¨Skillsï¼Ÿ</strong></p>
<p>å› ä¸ºå½“ä½ ç”¨AIä¸å†æ˜¯ä¸ºäº†"å¶å°”ç©ç©"ï¼Œè€Œæ˜¯ä¸ºäº†çœŸæ­£æå‡å·¥ä½œæ•ˆç‡ã€è§£å†³å®é™…é—®é¢˜æ—¶ï¼Œä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li><strong>æ—¶é—´æˆæœ¬</strong>ï¼šä¸€æ¬¡åˆ›å»ºï¼Œé•¿æœŸå—ç›Š</li>
<li><strong>è´¨é‡ä¿è¯</strong>ï¼šæ¯æ¬¡è¾“å‡ºéƒ½ç¨³å®šå¯é </li>
<li><strong>å›¢é˜Ÿåä½œ</strong>ï¼šå¯ä»¥åˆ†äº«ç»™åŒäº‹ä½¿ç”¨</li>
<li><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šå¯ä»¥ä¸æ–­æ”¹è¿›å’Œå®Œå–„</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼ŒSkillsè®©AIä»"èŠå¤©å·¥å…·"å˜æˆäº†"ç”Ÿäº§åŠ›å·¥å…·"ã€‚</p>
<h2 data-id="heading-8">09</h2>
<p>æœ€åçš„å»ºè®®</p>
<p>å¦‚æœä½ åˆšå¼€å§‹ç”¨AIï¼š</p>
<ol>
<li><strong>ä»Promptå¼€å§‹</strong>ï¼šå…ˆå­¦ä¼šå’ŒAIå¯¹è¯ï¼Œäº†è§£å®ƒçš„èƒ½åŠ›è¾¹ç•Œ</li>
<li><strong>ç§¯ç´¯å¸¸ç”¨Prompt</strong>ï¼šæŠŠç»å¸¸ç”¨åˆ°çš„Promptä¿å­˜èµ·æ¥ï¼Œå½¢æˆ"ä¸ªäººPromptåº“"</li>
<li><strong>å°è¯•Rules</strong>ï¼šå½“å‘ç°éœ€è¦åå¤è®¾å®šåŒæ ·è§„åˆ™æ—¶ï¼Œå¼€å§‹ç”¨Rules</li>
<li><strong>åˆ›å»ºSkills</strong>ï¼šå½“æœ‰æ˜ç¡®ã€é‡å¤çš„å¤æ‚ä»»åŠ¡æ—¶ï¼Œå°è¯•åˆ›å»ºç¬¬ä¸€ä¸ªSkill</li>
<li><strong>äº†è§£MCP</strong>ï¼šå¦‚æœéœ€è¦è®©AIè®¿é—®ä½ çš„ç³»ç»Ÿï¼Œå†æ·±å…¥å­¦ä¹ MCP</li>
</ol>
<p><strong>åˆ«è¢«æ¦‚å¿µå“åˆ°ã€‚</strong></p>
<p>å®ƒä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸ºäº†è®©ä½ æ›´å¥½åœ°ä½¿ç”¨AIï¼Œä»"å¶å°”é—®ä¸€é—®"è¿›åŒ–åˆ°"æŠŠå®ƒå½“æˆçœŸæ­£çš„æ•°å­—åŠ©æ‰‹"ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CLAUDE.md å…¨å±€è§„åˆ™åˆ†æ]]></title>    <link>https://juejin.cn/post/7598563188112375860</link>    <guid>https://juejin.cn/post/7598563188112375860</guid>    <pubDate>2026-01-25T12:07:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598563188112375860" data-draft-id="7598588085597503528" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CLAUDE.md å…¨å±€è§„åˆ™åˆ†æ"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2026-01-25T12:07:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°å…µå¼ å¥"/> <meta itemprop="url" content="https://juejin.cn/user/1257497032405229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CLAUDE.md å…¨å±€è§„åˆ™åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1257497032405229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°å…µå¼ å¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T12:07:38.000Z" title="Sun Jan 25 2026 12:07:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ˜¯æŠŠç”µè„‘ä¿¡æ¯, PowerShell ä¿¡æ¯(è¿™ä¸ªå¥½åƒæ²¡å•¥ç”¨, win çš„ Bash ç”¨çš„ git çš„),è¯­è¨€è§„èŒƒ, Context7(å¥½åƒæ²¡çœ‹åˆ°è°ƒç”¨), Superpowers skills(è¿™ä¸ªéå¸¸æœ‰ç”¨)éƒ½é…è¿›å»äº†.</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> Environment: Windows 11
<span class="hljs-bullet">-</span> Shell: PowerShell 7
<span class="hljs-bullet">-</span> Language: Always reply in Chinese (ç®€ä½“ä¸­æ–‡), including code comments, logs, and ALL artifacts/files generated by skills (plans, todos, etc.). Even if skill instructions are in English, the output MUST be in Chinese.
<span class="hljs-bullet">-</span> Web Search: When executing web search related tasks, you MUST use the markitdown MCP tool (e.g. mcp<span class="hljs-strong">__markitdown__</span>convert<span class="hljs-emphasis">_to_</span>markdown) to process content.
<span class="hljs-bullet">-</span> Always use Context7 MCP when I need library/API documentation, code generation, setup or configuration steps without me having to explicitly ask.
<span class="hljs-bullet">-</span> Superpowers: MUST ALWAYS invoke the "superpowers:using-superpowers" skill at the very beginning of every conversation or interaction. This is a MANDATORY requirement for all tasks.
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[40 å²ç¨‹åºå‘˜çš„â€œå¼ºåˆ¶è¿›å‚ç»´ä¿®â€è®°å½•]]></title>    <link>https://juejin.cn/post/7598734303173984308</link>    <guid>https://juejin.cn/post/7598734303173984308</guid>    <pubDate>2026-01-25T12:12:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598734303173984308" data-draft-id="7598588085596766248" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="40 å²ç¨‹åºå‘˜çš„â€œå¼ºåˆ¶è¿›å‚ç»´ä¿®â€è®°å½•"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-25T12:12:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3087084378402445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            40 å²ç¨‹åºå‘˜çš„â€œå¼ºåˆ¶è¿›å‚ç»´ä¿®â€è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3087084378402445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T12:12:04.000Z" title="Sun Jan 25 2026 12:12:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™äº›å¤©ï¼Œ32å²ç¨‹åºå‘˜çŒæ­»çš„æ–°é—»åˆåœ¨ç½‘ä¸Šåˆ·å±äº†ã€‚è¿™ç±»æ¶ˆæ¯ä¼¼ä¹éš”æ®µæ—¶é—´å°±ä¼šå‡ºç°ä¸€æ¬¡ï¼ŒæŠ€æœ¯åœˆé‡Œæœ€è®©äººå”å˜˜çš„ï¼Œå¤§æ¦‚æ˜¯23å¹´æŠ€æœ¯å¤§æ‹¿é™ˆçš“ï¼ˆå·¦è€³æœµè€—å­ï¼‰çš„çªç„¶ç¦»ä¸–ã€‚ä½†å”å˜˜å½’å”å˜˜ï¼Œæ—¥å­ä¸€ä¹…ï¼Œå¤§å®¶ä¹Ÿå°±æ…¢æ…¢æ·¡å¿˜äº†ã€‚</p>
<p>è¯´èµ·æ¥ï¼Œæˆ‘è‡ªå·±å‰å‡ å¹´ä¹Ÿç»å†è¿‡ä¸€æ¬¡â€œå¼ºåˆ¶è¿›å‚ç»´ä¿®â€â€”â€”å› ä¸ºå¿ƒè‚Œç‚ä½äº†ä¸ƒå¤©é™¢ã€‚ç°åœ¨å›æƒ³èµ·æ¥ï¼Œä¹Ÿç®—æ˜¯ä¸€æ¬¡èº«ä½“å‘å‡ºçš„ã€ä¸å®¹å¿½è§†çš„ä¸¥é‡è­¦å‘Šã€‚</p>
<h2 data-id="heading-0">äº‹ä»¶ç»è¿‡</h2>
<p><strong>å‡ºäº‹å‰ä¸¤å‘¨</strong>ï¼Œæˆ‘å’ŒåŒäº‹è‡ªé©¾èµ°318å›½é“å»è¥¿è—ï¼Œè™½ç„¶å› ä¸ºç–«æƒ…ä¸­é€”æŠ˜è¿”åˆ°äº†é¦™æ ¼é‡Œæ‹‰ï¼Œä½†ä¸€è·¯éƒ½åœ¨é«˜æµ·æ‹”ç¼ºæ°§çš„ç¯å¢ƒé‡ŒæŠ˜è…¾ã€‚æ¯å¤©å¼€ä¸‰å››ä¸ªå°æ—¶è½¦ï¼Œèº«ä½“å…¶å®å·²ç»ç§¯ç´¯äº†ä¸å°‘ç–²æƒ«ã€‚</p>
<p><strong>å‡ºäº‹å‰ä¸€å‘¨</strong>ï¼Œå·¥ä½œå‹åŠ›ç‰¹åˆ«å¤§ï¼Œæˆ‘è¿ç»­å¥½å‡ å¤©ç¡çœ ä¸è¶³ã€‚èº«ä½“å¼€å§‹å‘å‡ºæŠ—è®®ä¿¡å·â€”â€”æµ‘èº«é…¸ç—›ã€‚å¥‡æ€ªçš„æ˜¯ï¼Œè¿™ç–¼ç—›åƒåœ¨â€œæ‰“æ¸¸å‡»â€ï¼Œä»Šå¤©è‚©è†€ç–¼ï¼Œæ˜å¤©è…°ç–¼ï¼Œä¼‘æ¯ä¸€ä¸‹å¥½åƒåˆå¥½ç‚¹ã€‚æˆ‘å½“æ—¶æ²¡å¤ªå½“å›äº‹ï¼Œä»¥ä¸ºå°±æ˜¯æ™®é€šçš„åŠ³ç´¯ã€‚</p>
<p><strong>å‡ºäº‹å‰ä¸‰å¤©</strong>ï¼Œç–¼ç—›å‡çº§äº†ï¼Œä¸»è¦é›†ä¸­åœ¨èƒŒéƒ¨ï¼Œæ™šä¸Šç–¼å¾—ç¿»æ¥è¦†å»ç¡ä¸ç€ã€‚</p>
<p><strong>å‡ºäº‹å½“å¤©</strong>ï¼Œå‡Œæ™¨æ—¶åˆ†ï¼Œç–¼ç—›å¼€å§‹å‘èƒ¸å£è”“å»¶ã€‚æˆ‘æœ‰ç‚¹æ…Œäº†ï¼Œèµ¶ç´§è¯·å‡å»åŒ»é™¢ã€‚å¯æ›´å¥‡æ€ªçš„äº‹æƒ…å‘ç”Ÿäº†ï¼šåˆ°äº†åŒ»é™¢ï¼Œä¸€é˜µå‰§ç—›è¿‡åï¼Œæˆ‘å±…ç„¶æ„Ÿè§‰â€œå¥½äº†â€ï¼å¿ƒç”µå›¾ã€æŠ½è¡€éƒ½æ²¡æŸ¥å‡ºå¤§é—®é¢˜ï¼ŒåŒ»ç”Ÿä¹Ÿè¯´ä¸å‡ºä¸ªæ‰€ä»¥ç„¶ã€‚æˆ‘å¿ƒæƒ³ï¼Œå¯èƒ½æ˜¯è™šæƒŠä¸€åœºï¼Œå°±åˆå›å»ä¸Šç­äº†ã€‚</p>
<p><strong>åˆ°äº†æ™šä¸Š</strong>ï¼Œç†Ÿæ‚‰çš„ç–¼ç—›å·åœŸé‡æ¥ã€‚ä¸€å¼€å§‹è¿˜èƒ½å¿ï¼Œæˆ‘ç”šè‡³è‡ªå·±å¼€è½¦å›äº†å®¶ã€‚å¯åˆ°å®¶ä¸€åä¸‹ï¼Œå®Œäº†ï¼Œç¨å¾®ä¸€åŠ¨å°±ç–¼å¾—é¾‡ç‰™å’§å˜´ï¼Œæ ¹æœ¬å¿ä¸ä½ã€‚æœ€åæ˜¯æ‰“è½¦å»çš„æ€¥è¯Šã€‚æ‹CTçš„æ—¶å€™ï¼Œç–¼å¾—éœ€è¦äººæ€æ‰¶æ‰èƒ½çˆ¬ä¸Šæ£€æŸ¥åºŠã€‚</p>
<p>æ‰“å®Œæ­¢ç—›é’ˆï¼Œç–¼ç—›ç¼“è§£äº†ä¸€äº›ï¼Œä½†é‚£ä¸€æ™šè¿˜æ˜¯åœ¨ç…ç†¬ä¸­åº¦è¿‡çš„ã€‚ä¹‹åï¼Œæˆ‘å°±è¢«æ­£å¼æ”¶æ²»ä½é™¢ï¼Œä¸€ä½å°±æ˜¯ä¸ƒå¤©ã€‚ä½é™¢çš„å¤´ä¸‰å¤©æ™šä¸Šï¼Œç–¼ç—›è¿˜ä¼šæ—¶ä¸æ—¶æ¥â€œæ‹œè®¿â€ä¸€ä¸‹ï¼Œä¹‹åæ‰å½»åº•æ¶ˆåœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12d256cd0d09495fb4b396d0f2b9316a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769947923&amp;x-signature=8xy0I%2BNMSxsLMinqHGN8kxO0ZQE%3D" alt="IMG_3313.HEIC" loading="lazy"/></p>
<h2 data-id="heading-1">æ€»ç»“ï¼šèº«ä½“æ˜¯è‡ªå·±çš„ï¼Œå¾—è‡ªå·±ç–¼</h2>
<p>è¿™æ¬¡ç»å†è®©æˆ‘æƒ³æ˜ç™½äº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>
<p><strong>èº«ä½“æ˜¯å”¯ä¸€çš„ï¼Œä¸”æ²¡æœ‰å¤‡ç”¨é›¶ä»¶ã€‚</strong> èººåœ¨ç—…åºŠä¸Šæˆ‘æ‰æ·±åˆ‡ä½“ä¼šåˆ°ï¼Œå†å‰å®³çš„åŒ»ç”Ÿä¹Ÿåªèƒ½æä¾›åŒ»ç–—å¸®åŠ©ï¼ŒçœŸæ­£çš„ç—›è‹¦å’Œæ¢å¤è¿‡ç¨‹ï¼Œåªèƒ½è‡ªå·±æ‰¿å—ã€‚æˆ‘è®°å¾—åœ¨æ€¥è¯Šå®¤ç–¼å¾—å«å‡ºå£°æ—¶ï¼ŒæŠ¤å£«è¿‡æ¥çœ‹äº†ä¸€çœ¼ï¼Œç¡®è®¤æ²¡æœ‰ç”Ÿå‘½å±é™©å°±èµ°äº†â€”â€”åœ¨ä»–ä»¬çœ‹æ¥ï¼Œèƒ½å–Šå‡ºæ¥åè€Œè¯´æ˜æƒ…å†µä¸ç®—æœ€å±æ€¥ã€‚æ‰€ä»¥ï¼Œæœ€è¯¥å…³å¿ƒä½ èº«ä½“çš„ï¼Œæ°¸è¿œæ˜¯ä½ è‡ªå·±ã€‚</p>
</li>
<li>
<p><strong>ä¸€å®šè¦å­¦ä¼šâ€œå¬â€èº«ä½“çš„è¯ã€‚</strong> èº«ä½“æ¯”æˆ‘ä»¬æƒ³è±¡ä¸­æ›´èªæ˜ï¼Œå›°äº†ã€ç´¯äº†ã€ç–¼äº†ï¼Œéƒ½æ˜¯å®ƒåœ¨å‘æ±‚æ•‘ä¿¡å·ã€‚åƒä¸‡åˆ«ç¡¬æ‰›ã€‚æˆ‘æŸ¥è¿‡èµ„æ–™ï¼Œå¿ƒæ¢—å‰å¸¸ä¼´æœ‰åèƒŒç–¼ç—›ï¼Œæˆ‘äº²èº«ä½“éªŒï¼Œå¿ƒè‚Œç‚ä¹Ÿæœ‰ç±»ä¼¼å¾å…†ã€‚<strong>ä»»ä½•ä¸æ˜åŸå› çš„ç–¼ç—›æŒç»­è¶…è¿‡ä¸‰å¤©ï¼Œåˆ«çŠ¹è±«ï¼Œç«‹åˆ»å»åŒ»é™¢ã€‚</strong></p>
</li>
<li>
<p><strong>ç¡çœ æ˜¯é¡¶çº§è¡¥è¯ã€‚</strong> ä½é™¢é‚£å‡ å¤©ï¼ŒåŒ»é™¢æ™šä¸Šä¹ç‚¹å°±ç†„ç¯ï¼Œç¯å¢ƒå®‰é™å¾—åªèƒ½ç¡è§‰ã€‚æˆ‘è¢«è¿«è¿‡ä¸Šäº†è§„å¾‹çš„ä½œæ¯ï¼Œç»“æœèº«ä½“æ¢å¤å¾—å‡ºå¥‡åœ°å¿«ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼Œå¹³æ—¶é‚£äº›â€œç†¬å¤œèµ¶å·¥â€çš„æ•ˆç‡ï¼Œå¯èƒ½è¿œæ¯”ä¸ä¸Šç¡ä¸ªå¥½è§‰åæ¸…é†’çš„å¤´è„‘ã€‚</p>
</li>
<li>
<p><strong>æœ‰äº›ä¼¤å®³å¯èƒ½æ˜¯æ°¸ä¹…çš„ã€‚</strong> å‡ºé™¢åï¼Œæ¯æ¬¡ç†¬å¤œæˆ–è¿‡åº¦åŠ³ç´¯ï¼Œèƒ¸å£å’ŒåèƒŒæ€»ä¼šéšéšæœ‰äº›ä¸é€‚ï¼Œä»¿ä½›åœ¨æé†’æˆ‘é‚£æ®µç»å†ã€‚è™½ç„¶å¤æŸ¥ä¸€åˆ‡æ­£å¸¸ï¼Œä½†è¿™ç§â€œå¿ƒç†é˜´å½±â€æˆ–è€…è¯´èº«ä½“çš„â€œè®°å¿†â€ï¼Œå‘Šè¯‰æˆ‘å®ƒå¹¶æ²¡æœ‰å®Œå…¨å¿˜è®°é‚£æ¬¡åˆ›ä¼¤ã€‚</p>
</li>
<li>
<p><strong>åˆ«æ€•çœ‹ç—…ï¼Œæœ‰ä¿éšœã€‚</strong> æˆ‘è¿™æ¬¡ä½é™¢æ€»èŠ±è´¹å¤§æ¦‚äº”åƒå¤šï¼ŒåŒ»ä¿ã€å…¬å¸çš„è¡¥å……å•†ä¸šä¿é™©ï¼Œå†åŠ ä¸Šæˆ‘è‡ªå·±ä¹°çš„ä½é™¢é™©ï¼Œå‡ ä¹å…¨é¢æŠ¥é”€äº†ã€‚åœ¨ç»æµä¸Šå‡ ä¹æ²¡é€ æˆè´Ÿæ‹…ã€‚æ‰€ä»¥ï¼Œèº«ä½“æœ‰é—®é¢˜åƒä¸‡åˆ«æ‹–ï¼Œè¯¥æ²»å°±æ²»ã€‚åœ¨å›½å†…ï¼Œæœ‰æ­£è§„å·¥ä½œçš„ç¨‹åºå‘˜ï¼ŒåŒ»ç–—ä¿éšœè¿™å—é€šå¸¸è¿˜æ˜¯ä¸é”™çš„ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">å¯¹äºå·¥ä½œï¼šå­¦ä¼šâ€œæ”¾æƒâ€ä¸â€œæ”¾æ‰‹â€</h2>
<p>è¿™æ¬¡ç”Ÿç—…ä¹Ÿè®©æˆ‘é‡æ–°å®¡è§†äº†å’Œå·¥ä½œå…³ç³»ï¼š</p>
<ul>
<li>
<p><strong>å¯¹å…¬å¸è€Œè¨€ï¼Œæ²¡æœ‰è°æ˜¯ä¸å¯æ›¿ä»£çš„ã€‚</strong> ä¸€å®¶è¿ä½œè‰¯å¥½çš„å…¬å¸å°±åƒä¸€å°ç²¾å¯†çš„æœºå™¨ï¼Œæµç¨‹å®Œå¤‡ï¼Œä»»ä½•ä¸€ä¸ªé›¶ä»¶ï¼ˆåŒ…æ‹¬äººï¼‰éƒ½æ˜¯å¯ä»¥æ›´æ¢çš„ã€‚åƒä¸‡åˆ«é™·å…¥â€œå…¬å¸æ²¡æˆ‘ä¸è¡Œâ€çš„è‡ªæˆ‘æ„ŸåŠ¨é‡Œï¼Œå‡ºäºè¿‡åº¦è´£ä»»å¿ƒå¤§åŒ…å¤§æ½ï¼Œæœ€åç´¯å®çš„åªæœ‰è‡ªå·±ã€‚</p>
</li>
<li>
<p><strong>å¯¹ç®¡ç†è€…è€Œè¨€ï¼Œæ ¸å¿ƒä»·å€¼æ˜¯â€œèƒŒé”…â€ä¸â€œæ”¾æƒâ€ã€‚</strong> ä½œä¸ºä¸€ä¸ªå›¢é˜Ÿçš„å°é¢†å¯¼ï¼Œä½ çš„æˆåŠŸä¸æ˜¯ä½“ç°åœ¨è‡ªå·±å¤šèƒ½å¹²ï¼Œè€Œæ˜¯<strong>ç¡®ä¿å›¢é˜Ÿåœ¨æ²¡æœ‰ä½ çš„æƒ…å†µä¸‹ä¾ç„¶èƒ½æ­£å¸¸è¿è½¬</strong>ã€‚å¯¹ä¸Šï¼Œä½ è¦æ‰¿æ‹…è´£ä»»å’Œå‹åŠ›ï¼›å¯¹ä¸‹ï¼Œä½ è¦æ•¢äºä¿¡ä»»å’Œæ”¾æƒã€‚å‡¡äº‹äº²åŠ›äº²ä¸ºï¼Œä¸æ˜¯è´Ÿè´£ï¼Œæ˜¯ç“¶é¢ˆï¼Œæ›´æ˜¯å¯¹è‡ªå·±å’Œå›¢é˜Ÿçš„ä¸è´Ÿè´£ã€‚</p>
</li>
<li>
<p><strong>å¯¹æ™®é€šå‘˜å·¥è€Œè¨€ï¼Œå¹²ä¸å®Œä¸€å®šè¦è¯´ã€‚</strong> å·¥ä½œé‡è¶…å‡ºåˆç†èŒƒå›´ï¼Œä¸€å®šè¦åŠæ—¶ã€æ˜ç¡®åœ°å‘ä¸Šçº§åé¦ˆã€‚ç¡¬æ’‘ä¸ä¼šæ¢æ¥æ„Ÿæ¿€ï¼Œåªä¼šå¯¼è‡´å·¥ä½œè´¨é‡ä¸‹é™æˆ–è‡ªå·±å´©æºƒã€‚å…¬å¸æ€»æœ‰åŠæ³•è°ƒæ•´ï¼Œä½†ä½ çš„å¥åº·è€—ä¸èµ·ã€‚</p>
</li>
</ul>
<h2 data-id="heading-3">åè®°ï¼šåœ¨ç—…åºŠä¸Šè¯»ã€Šæ¯«æ— æ„ä¹‰çš„å·¥ä½œã€‹</h2>
<p>ä½é™¢æœŸé—´ï¼Œæˆ‘å¸¦äº†ä¸€æœ¬å¤§å«Â·æ ¼é›·ä¼¯çš„ã€Šæ¯«æ— æ„ä¹‰çš„å·¥ä½œã€‹ã€‚åœ¨é‚£ç§ç¯å¢ƒä¸‹è¯»è¿™æœ¬ä¹¦ï¼Œæ„Ÿå—æ ¼å¤–å¤æ‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9dc8d4613a346849c28d0235f6222a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769947923&amp;x-signature=WseivGX0EJKwj9JONA%2FVUQKMY%2FU%3D" alt="IMG_3298.HEIC" loading="lazy"/></p>
<p>ä¹¦é‡Œå¯¹ç°ä»£ç¤¾ä¼šä¸­ç§ç§â€œç‹—å±å·¥ä½œâ€çš„è¾›è¾£è®½åˆºã€‚æˆ‘èººåœ¨ç—…åºŠä¸Šå¿ä¸ä½æƒ³ï¼šå¹³æ—¥é‡Œçš„é‚£äº›å¿™ç¢Œã€ç„¦è™‘ã€ç†¬å¤œï¼Œå…¶ä¸­æœ‰å¤šå°‘æ˜¯çœŸæ­£åˆ›é€ ä»·å€¼çš„ï¼Œåˆæœ‰å¤šå°‘åªæ˜¯é™·å…¥äº†æŸç§â€œè¡¨æ¼”æ€§å¿™ç¢Œâ€çš„æƒ¯æ€§é‡Œï¼Ÿ</p>
<p>å‡ºé™¢åï¼Œæˆ‘å¹¶æ²¡æœ‰ç«‹åˆ»åšå‡ºä»€ä¹ˆæƒŠå¤©åŠ¨åœ°çš„æ”¹å˜ï¼Œä½†æˆ‘å¼€å§‹æ¥å—ä¸€ä¸ªäº‹å®ï¼š<strong>å·¥ä½œçš„æ„ä¹‰ï¼Œä¸åº”è¯¥ä»¥ç‰ºç‰²å¥åº·ä¸ºä»£ä»·æ¥è¯æ˜ã€‚</strong></p>
<p>é‚£æœ¬çš±å·´å·´çš„ã€Šæ¯«æ— æ„ä¹‰çš„å·¥ä½œã€‹ç°åœ¨è¿˜æ”¾åœ¨æˆ‘çš„ä¹¦æ¶ä¸Šã€‚å®ƒä¸å†åªæ˜¯ä¸€æœ¬ç¤¾ä¼šå­¦çš„ç•…é”€ä¹¦ï¼Œæ›´åƒä¸€ä¸ªæ¥è‡ªç—…åºŠä¸Šçš„ä¹¦ç­¾ï¼Œæ ‡è®°ç€æˆ‘äººç”Ÿä¸­ä¸€æ¬¡é‡è¦çš„â€œå®•æœºâ€ä¸â€œä¿®å¤â€è®°å½•ã€‚å®ƒæé†’æˆ‘ï¼Œåœ¨è¿½æ±‚æ•ˆç‡å’Œäº§å‡ºçš„åŒæ—¶ï¼Œæ›´è¦æ—¶å¸¸æ£€è§†è¿™ä¸€åˆ‡çš„â€œæ„ä¹‰â€ä½•åœ¨ï¼Œä»¥åŠä¸ºæ­¤ä»˜å‡ºçš„ä»£ä»·æ˜¯å¦å€¼å¾—ã€‚</p>
<p>æ¯•ç«Ÿï¼Œäººç”Ÿè¿™åœºâ€œé¡¹ç›®â€ï¼Œæœ€é‡è¦çš„KPIæ˜¯å¥åº·åœ°æ´»ç€ï¼Œå¹¶ä¸”æ¸…é†’åœ°çŸ¥é“ä¸ºä½•è€Œæ´»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬5ç« ã€æ§åˆ¶ç»“æ„â€”â€”æ¡ä»¶ã€å¾ªç¯ä¸è·³è½¬è¯­å¥]]></title>    <link>https://juejin.cn/post/7598737609494347795</link>    <guid>https://juejin.cn/post/7598737609494347795</guid>    <pubDate>2026-01-25T12:34:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598737609494347795" data-draft-id="7598587406708047913" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬5ç« ã€æ§åˆ¶ç»“æ„â€”â€”æ¡ä»¶ã€å¾ªç¯ä¸è·³è½¬è¯­å¥"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-25T12:34:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€•æµªçŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/2832784963939438"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬5ç« ã€æ§åˆ¶ç»“æ„â€”â€”æ¡ä»¶ã€å¾ªç¯ä¸è·³è½¬è¯­å¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2832784963939438/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€•æµªçŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T12:34:00.000Z" title="Sun Jan 25 2026 12:34:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï½ ä¸Šä¸€ç« æˆ‘ä»¬åƒé€äº†ç®€å•æ•°æ®ç±»å‹ï¼Œä»Šå¤©è¿›å…¥Goç¼–ç¨‹çš„â€œæµç¨‹æŒæ§â€ç¯èŠ‚â€”â€”æ§åˆ¶ç»“æ„ã€‚æ§åˆ¶ç»“æ„æ˜¯ä»£ç çš„â€œéª¨æ¶â€ï¼Œç”¨æ¥å†³å®šç¨‹åºæ‰§è¡Œçš„é¡ºåºï¼šæ¯”å¦‚æ ¹æ®æ¡ä»¶æ‰§è¡Œä¸åŒé€»è¾‘ï¼ˆif/switchï¼‰ã€é‡å¤æ‰§è¡Œä¸€æ®µä»£ç ï¼ˆforï¼‰ã€æˆ–è€…å¼ºåˆ¶æ”¹å˜æ‰§è¡Œæµç¨‹ï¼ˆbreak/continue/gotoï¼‰ã€‚</p>
<p>Goçš„æ§åˆ¶ç»“æ„è®¾è®¡éå¸¸ç®€æ´ï¼Œæ²¡æœ‰å†—ä½™çš„è¯­æ³•ï¼ˆæ¯”å¦‚æ²¡æœ‰do-whileå¾ªç¯ã€switchæ— éœ€breakè‡ªåŠ¨ç»ˆæ­¢ï¼‰ï¼Œä½†ç»†èŠ‚é‡Œè—ç€å¾ˆå¤šæå‡æ•ˆç‡çš„æŠ€å·§ã€‚æœ¬æ–‡ä¼šç»“åˆå®é™…å¼€å‘åœºæ™¯ï¼ŒæŠŠæ¯ä¸ªæ§åˆ¶ç»“æ„çš„ç”¨æ³•ã€æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µè®²é€ï¼Œè¿˜ä¼šé™„ä¸Šå¯ç›´æ¥è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œå»ºè®®è¾¹çœ‹è¾¹æ•²ï¼ŒåŠ æ·±ç†è§£ã€‚</p>
<h2 data-id="heading-0">1. ifè¯­å¥ä¸æ¡ä»¶è¡¨è¾¾å¼</h2>
<p>ifè¯­å¥æ˜¯æœ€åŸºç¡€çš„æ¡ä»¶æ§åˆ¶ç»“æ„ï¼Œç”¨æ¥æ ¹æ®â€œæ¡ä»¶æ˜¯å¦æˆç«‹â€æ‰§è¡Œä¸åŒçš„ä»£ç å—ã€‚Goä¸­çš„ifè¯­å¥è¯­æ³•ç®€æ´ï¼Œä¸”æ”¯æŒâ€œåˆå§‹åŒ–è¯­å¥â€ï¼Œè¿™æ˜¯æ—¥å¸¸å¼€å‘ä¸­éå¸¸å®ç”¨çš„ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-1">1.1 åŸºæœ¬è¯­æ³•ä¸ç”¨æ³•</h3>
<p>Goçš„ifè¯­å¥æœ‰ä¸¤ç§æ ¸å¿ƒå½¢å¼ï¼šåŸºç¡€å½¢å¼å’Œå¸¦åˆå§‹åŒ–è¯­å¥çš„å½¢å¼ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-comment">// åŸºç¡€å½¢å¼</span>
<span class="hljs-keyword">if</span> æ¡ä»¶è¡¨è¾¾å¼ {
    <span class="hljs-comment">// æ¡ä»¶ä¸ºtrueæ—¶æ‰§è¡Œ</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> æ¡ä»¶è¡¨è¾¾å¼<span class="hljs-number">2</span> {
    <span class="hljs-comment">// æ¡ä»¶1ä¸ºfalseï¼Œæ¡ä»¶2ä¸ºtrueæ—¶æ‰§è¡Œ</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºfalseæ—¶æ‰§è¡Œ</span>
}

<span class="hljs-comment">// å¸¦åˆå§‹åŒ–è¯­å¥çš„å½¢å¼ï¼ˆæ¨èï¼ï¼‰</span>
<span class="hljs-keyword">if</span> åˆå§‹åŒ–è¯­å¥; æ¡ä»¶è¡¨è¾¾å¼ {
    <span class="hljs-comment">// åˆå§‹åŒ–çš„å˜é‡ä»…åœ¨if-elseå—å†…æœ‰æ•ˆ</span>
}

</code></pre>
<p>å…³é”®æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>
<p>æ¡ä»¶è¡¨è¾¾å¼å¿…é¡»æ˜¯<strong>å¸ƒå°”ç±»å‹</strong>ï¼ˆtrue/falseï¼‰ï¼Œä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ï¼ˆå¦‚intçš„0/é0ï¼Œè¿™å’ŒCè¯­è¨€ä¸åŒï¼Œé¿å…äº†éšå¼ç±»å‹è½¬æ¢çš„å‘ï¼‰ï¼›</p>
</li>
<li>
<p>å¤§æ‹¬å·<code>{}</code>å¿…é¡»å­˜åœ¨ï¼Œå³ä½¿åªæœ‰ä¸€è¡Œä»£ç ï¼ˆGoå¼ºåˆ¶ä»£ç é£æ ¼ç»Ÿä¸€ï¼Œé¿å…æ­§ä¹‰ï¼‰ï¼›</p>
</li>
<li>
<p>å¸¦åˆå§‹åŒ–è¯­å¥çš„å½¢å¼ä¸­ï¼Œåˆå§‹åŒ–çš„å˜é‡ï¼ˆå¦‚ä¸´æ—¶å˜é‡ã€å‡½æ•°è¿”å›å€¼ï¼‰ä»…åœ¨if-elseå—å†…æœ‰æ•ˆï¼Œå¤–éƒ¨æ— æ³•è®¿é—®ï¼Œå‡å°‘å˜é‡ä½œç”¨åŸŸï¼Œæå‡ä»£ç å¯è¯»æ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">1.2 ä»£ç ç¤ºä¾‹ï¼šå®é™…å¼€å‘åœºæ™¯</h3>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åœºæ™¯1ï¼šåŸºç¡€æ¡ä»¶åˆ¤æ–­ï¼ˆç”¨æˆ·ç™»å½•çŠ¶æ€æ ¡éªŒï¼‰</span>
    isLogin := <span class="hljs-literal">true</span>
    username := <span class="hljs-string">"go_dev"</span>
    <span class="hljs-keyword">if</span> isLogin {
        fmt.Printf(<span class="hljs-string">"æ¬¢è¿å›æ¥ï¼Œ%sï¼\n"</span>, username)
    } <span class="hljs-keyword">else</span> {
        fmt.Println(<span class="hljs-string">"è¯·å…ˆç™»å½•ï½"</span>)
    }

    <span class="hljs-comment">// åœºæ™¯2ï¼šå¸¦åˆå§‹åŒ–è¯­å¥çš„ifï¼ˆæ ¡éªŒå‡½æ•°è¿”å›å€¼ï¼‰</span>
    <span class="hljs-comment">// åˆå§‹åŒ–è¯­å¥ï¼šè°ƒç”¨å‡½æ•°è·å–è¿”å›å€¼ï¼Œç›´æ¥åœ¨ifä¸­åˆ¤æ–­</span>
    <span class="hljs-keyword">if</span> userID, err := getUserID(username); err == <span class="hljs-literal">nil</span> {
        fmt.Printf(<span class="hljs-string">"ç”¨æˆ·IDï¼š%d\n"</span>, userID)
    } <span class="hljs-keyword">else</span> {
        fmt.Printf(<span class="hljs-string">"è·å–ç”¨æˆ·IDå¤±è´¥ï¼š%v\n"</span>, err)
    }
    <span class="hljs-comment">// æ³¨æ„ï¼šuserIDå’Œerrä»…åœ¨ä¸Šé¢çš„if-elseå—å†…æœ‰æ•ˆï¼Œè¿™é‡Œæ— æ³•è®¿é—®</span>
    <span class="hljs-comment">// fmt.Println(userID)  // ç¼–è¯‘æŠ¥é”™ï¼šundefined: userID</span>

    <span class="hljs-comment">// åœºæ™¯3ï¼šå¤šæ¡ä»¶åˆ¤æ–­ï¼ˆæˆç»©åˆ†çº§ï¼‰</span>
    score := <span class="hljs-number">85</span>
    <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">90</span> {
        fmt.Println(<span class="hljs-string">"æˆç»©ï¼šä¼˜ç§€"</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">80</span> {
        fmt.Println(<span class="hljs-string">"æˆç»©ï¼šè‰¯å¥½"</span>)
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> score &gt;= <span class="hljs-number">60</span> {
        fmt.Println(<span class="hljs-string">"æˆç»©ï¼šåŠæ ¼"</span>)
    } <span class="hljs-keyword">else</span> {
        fmt.Println(<span class="hljs-string">"æˆç»©ï¼šä¸åŠæ ¼"</span>)
    }
}

<span class="hljs-comment">// æ¨¡æ‹Ÿè·å–ç”¨æˆ·IDçš„å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getUserID</span><span class="hljs-params">(username <span class="hljs-type">string</span>)</span></span> (<span class="hljs-type">int</span>, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">if</span> username == <span class="hljs-string">"go_dev"</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">10001</span>, <span class="hljs-literal">nil</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, fmt.Errorf(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼š%s"</span>, username)
}

</code></pre>
<h3 data-id="heading-3">1.3 æœ€ä½³å®è·µ</h3>
<ul>
<li>
<p>ä¼˜å…ˆä½¿ç”¨â€œå¸¦åˆå§‹åŒ–è¯­å¥çš„ifâ€ï¼šå°†ä¸´æ—¶å˜é‡ï¼ˆå¦‚å‡½æ•°è¿”å›å€¼ã€å¾ªç¯å˜é‡ï¼‰çš„ä½œç”¨åŸŸé™åˆ¶åœ¨if-elseå—å†…ï¼Œé¿å…å˜é‡æ±¡æŸ“ï¼›</p>
</li>
<li>
<p>æ¡ä»¶è¡¨è¾¾å¼å°½é‡ç®€æ´ï¼šå¦‚æœæ¡ä»¶å¤æ‚ï¼Œå¯æŠ½æˆå•ç‹¬çš„å‡½æ•°ï¼ˆå¦‚<code>if isValidUser(username) { ... }</code>ï¼‰ï¼Œæå‡ä»£ç å¯è¯»æ€§ï¼›</p>
</li>
<li>
<p>é¿å…åµŒå¥—è¿‡æ·±ï¼šå¦‚æœif-elseåµŒå¥—è¶…è¿‡3å±‚ï¼Œå»ºè®®é‡æ„ï¼ˆç”¨switchæˆ–å‡½æ•°æ‹†åˆ†ï¼‰ï¼Œå¦åˆ™ä»£ç ä¼šå˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚</p>
</li>
</ul>
<h2 data-id="heading-4">2. switchè¯­å¥ï¼šè¡¨è¾¾å¼ä¸ç±»å‹é€‰æ‹©</h2>
<p>switchè¯­å¥ç”¨äºâ€œå¤šåˆ†æ”¯æ¡ä»¶åˆ¤æ–­â€ï¼Œç›¸æ¯”å¤šå±‚if-elseï¼Œswitchçš„ä»£ç æ›´ç®€æ´ã€é€»è¾‘æ›´æ¸…æ™°ã€‚Goçš„switchåŠŸèƒ½æ¯”å…¶ä»–è¯­è¨€æ›´å¼ºå¤§ï¼Œä¸ä»…æ”¯æŒâ€œå€¼åŒ¹é…â€ï¼Œè¿˜æ”¯æŒâ€œç±»å‹åŒ¹é…â€ï¼ˆtype switchï¼‰ï¼Œä¸”é»˜è®¤è‡ªåŠ¨breakï¼ˆæ— éœ€æ‰‹åŠ¨æ·»åŠ ï¼‰ã€‚</p>
<h3 data-id="heading-5">2.1 åŸºç¡€ç”¨æ³•ï¼šå€¼åŒ¹é…</h3>
<p>æ ¸å¿ƒè¯­æ³•ï¼šæ ¹æ®switchåçš„â€œè¡¨è¾¾å¼å€¼â€ï¼ŒåŒ¹é…caseä¸­çš„å€¼ï¼Œæ‰§è¡Œå¯¹åº”çš„ä»£ç å—ã€‚</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åœºæ™¯1ï¼šç®€å•å€¼åŒ¹é…ï¼ˆç”¨æˆ·è§’è‰²æƒé™åˆ¤æ–­ï¼‰</span>
    role := <span class="hljs-string">"editor"</span>
    <span class="hljs-keyword">switch</span> role {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"admin"</span>:
        fmt.Println(<span class="hljs-string">"æƒé™ï¼šå…¨é‡æ“ä½œ"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-string">"editor"</span>:
        fmt.Println(<span class="hljs-string">"æƒé™ï¼šç¼–è¾‘å†…å®¹"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-string">"viewer"</span>:
        fmt.Println(<span class="hljs-string">"æƒé™ï¼šä»…æŸ¥çœ‹"</span>)
    <span class="hljs-keyword">default</span>:
        fmt.Println(<span class="hljs-string">"æƒé™ï¼šæœªçŸ¥è§’è‰²"</span>)
    }

    <span class="hljs-comment">// åœºæ™¯2ï¼šcaseå¤šå€¼åŒ¹é…ï¼ˆå¤šä¸ªå€¼å¯¹åº”åŒä¸€é€»è¾‘ï¼‰</span>
    day := <span class="hljs-number">3</span>
    <span class="hljs-keyword">switch</span> day {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>:
        fmt.Println(<span class="hljs-string">"å·¥ä½œæ—¥"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>, <span class="hljs-number">7</span>:
        fmt.Println(<span class="hljs-string">"å‘¨æœ«"</span>)
    <span class="hljs-keyword">default</span>:
        fmt.Println(<span class="hljs-string">"æ— æ•ˆæ—¥æœŸ"</span>)
    }

    <span class="hljs-comment">// åœºæ™¯3ï¼šå¸¦åˆå§‹åŒ–è¯­å¥çš„switchï¼ˆç±»ä¼¼ifçš„åˆå§‹åŒ–ç‰¹æ€§ï¼‰</span>
    <span class="hljs-keyword">switch</span> hour := getCurrentHour(); {  <span class="hljs-comment">// è¡¨è¾¾å¼ä¸ºç©ºï¼Œç›´æ¥åˆ¤æ–­caseæ¡ä»¶</span>
    <span class="hljs-keyword">case</span> hour &gt;= <span class="hljs-number">6</span> &amp;&amp; hour &lt; <span class="hljs-number">12</span>:
        fmt.Println(<span class="hljs-string">"ä¸Šåˆå¥½ï½"</span>)
    <span class="hljs-keyword">case</span> hour &gt;= <span class="hljs-number">12</span> &amp;&amp; hour &lt; <span class="hljs-number">18</span>:
        fmt.Println(<span class="hljs-string">"ä¸‹åˆå¥½ï½"</span>)
    <span class="hljs-keyword">default</span>:
        fmt.Println(<span class="hljs-string">"æ™šä¸Šå¥½ï½"</span>)
    }
}

<span class="hljs-comment">// æ¨¡æ‹Ÿè·å–å½“å‰å°æ—¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">getCurrentHour</span><span class="hljs-params">()</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-number">14</span>  <span class="hljs-comment">// æµ‹è¯•ç”¨å›ºå®šå€¼</span>
}

</code></pre>
<p>å…³é”®ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>è‡ªåŠ¨breakï¼šæ‰§è¡Œå®ŒåŒ¹é…çš„caseåï¼Œé»˜è®¤ä¸ä¼šç»§ç»­æ‰§è¡Œåç»­caseï¼ˆå’ŒJavaã€Cä¸åŒï¼Œæ— éœ€æ‰‹åŠ¨å†™breakï¼‰ï¼›</p>
</li>
<li>
<p>caseå¤šå€¼ï¼šä¸€ä¸ªcaseå¯ä»¥åŒ¹é…å¤šä¸ªå€¼ï¼Œç”¨é€—å·åˆ†éš”ï¼›</p>
</li>
<li>
<p>ç©ºè¡¨è¾¾å¼ï¼šswitchåå¯ä»¥ä¸å¸¦è¡¨è¾¾å¼ï¼Œæ­¤æ—¶ç›¸å½“äºif-elseçš„ç®€åŒ–ç‰ˆï¼Œæ¯ä¸ªcaseæ˜¯ç‹¬ç«‹çš„æ¡ä»¶è¡¨è¾¾å¼ï¼›</p>
</li>
<li>
<p>defaultå¯é€‰ï¼šå½“æ‰€æœ‰caseéƒ½ä¸åŒ¹é…æ—¶ï¼Œæ‰§è¡Œdefaultï¼ˆé¡ºåºä¸å½±å“ï¼Œå»ºè®®æ”¾åœ¨æœ€åï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">2.2 é«˜çº§ç”¨æ³•ï¼šç±»å‹åŒ¹é…ï¼ˆtype switchï¼‰</h3>
<p>type switchç”¨äºâ€œåˆ¤æ–­å˜é‡çš„åŠ¨æ€ç±»å‹â€ï¼Œæ ¸å¿ƒåœºæ™¯æ˜¯å¤„ç†æ¥å£ç±»å‹å˜é‡ï¼ˆåç»­ç« èŠ‚ä¼šè¯¦ç»†è®²æ¥å£ï¼‰ã€‚è¯­æ³•ï¼š<code>switch å˜é‡.(type) { ... }</code>ã€‚</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å®šä¹‰æ¥å£å˜é‡ï¼Œèµ‹å€¼ä¸åŒç±»å‹çš„å€¼</span>
    <span class="hljs-keyword">var</span> data <span class="hljs-keyword">interface</span>{}
    data = <span class="hljs-string">"hello go"</span>  <span class="hljs-comment">// å¯ä¿®æ”¹ä¸ºï¼š100ã€3.14ã€trueç­‰ä¸åŒç±»å‹</span>

    <span class="hljs-comment">// type switchï¼šåˆ¤æ–­dataçš„åŠ¨æ€ç±»å‹</span>
    <span class="hljs-keyword">switch</span> v := data.(<span class="hljs-keyword">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-type">string</span>:
        fmt.Printf(<span class="hljs-string">"ç±»å‹ï¼šå­—ç¬¦ä¸²ï¼Œå€¼ï¼š%sï¼Œé•¿åº¦ï¼š%d\n"</span>, v, <span class="hljs-built_in">len</span>(v))
    <span class="hljs-keyword">case</span> <span class="hljs-type">int</span>:
        fmt.Printf(<span class="hljs-string">"ç±»å‹ï¼šæ•´æ•°ï¼Œå€¼ï¼š%dï¼Œå¹³æ–¹ï¼š%d\n"</span>, v, v*v)
    <span class="hljs-keyword">case</span> <span class="hljs-type">float64</span>:
        fmt.Printf(<span class="hljs-string">"ç±»å‹ï¼šæµ®ç‚¹æ•°ï¼Œå€¼ï¼š%.2f\n"</span>, v)
    <span class="hljs-keyword">case</span> <span class="hljs-type">bool</span>:
        fmt.Printf(<span class="hljs-string">"ç±»å‹ï¼šå¸ƒå°”å€¼ï¼Œå€¼ï¼š%t\n"</span>, v)
    <span class="hljs-keyword">default</span>:
        fmt.Println(<span class="hljs-string">"æœªçŸ¥ç±»å‹"</span>)
    }
}

</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>
<p>dataæ˜¯interface{}ç±»å‹ï¼ˆç©ºæ¥å£ï¼‰ï¼Œå¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„å€¼ï¼›</p>
</li>
<li>
<p>data.(type)åªèƒ½åœ¨switchä¸­ä½¿ç”¨ï¼Œç”¨äºè·å–å˜é‡çš„åŠ¨æ€ç±»å‹ï¼›</p>
</li>
<li>
<p>væ˜¯dataçš„â€œç±»å‹æ–­è¨€åçš„å€¼â€ï¼Œåœ¨å¯¹åº”caseä¸­ï¼Œvçš„ç±»å‹å°±æ˜¯åŒ¹é…çš„ç±»å‹ï¼ˆå¦‚case stringä¸­ï¼Œvæ˜¯stringç±»å‹ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-7">2.3 æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p>å¤šåˆ†æ”¯ä¼˜å…ˆç”¨switchï¼šå½“æ¡ä»¶æ˜¯â€œå›ºå®šå€¼åŒ¹é…â€æˆ–â€œç±»å‹åŒ¹é…â€æ—¶ï¼Œç”¨switchæ¯”å¤šå±‚if-elseæ›´ç®€æ´ï¼›</p>
</li>
<li>
<p>éœ€è¦ç©¿é€ç”¨fallthroughï¼šå¦‚æœéœ€è¦æ‰§è¡Œå®Œå½“å‰caseåç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcaseï¼Œå¯åœ¨caseæœ«å°¾åŠ <code>fallthrough</code>ï¼ˆæ…ç”¨ï¼Œå®¹æ˜“å¯¼è‡´é€»è¾‘æ··ä¹±ï¼‰ï¼›</p>
</li>
<li>
<p>type switchæ…ç”¨ï¼šä»…åœ¨éœ€è¦åˆ¤æ–­æ¥å£åŠ¨æ€ç±»å‹æ—¶ä½¿ç”¨ï¼Œé¿å…è¿‡åº¦ä¾èµ–ï¼ˆä¼šé™ä½ä»£ç çš„å¯è¯»æ€§ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-8">3. forå¾ªç¯çš„å¤šç§å†™æ³•</h2>
<p>forå¾ªç¯æ˜¯Goä¸­å”¯ä¸€çš„å¾ªç¯ç»“æ„ï¼ˆæ²¡æœ‰whileã€do-whileï¼‰ï¼Œä½†é€šè¿‡ä¸åŒçš„è¯­æ³•å˜å½¢ï¼Œå¯ä»¥å®ç°å…¶ä»–å¾ªç¯çš„åŠŸèƒ½ã€‚Goçš„forå¾ªç¯è¯­æ³•çµæ´»ï¼Œæ”¯æŒâ€œè®¡æ•°å¾ªç¯â€â€œæ¡ä»¶å¾ªç¯â€â€œæ— é™å¾ªç¯â€â€œè¿­ä»£å¾ªç¯â€å››ç§æ ¸å¿ƒå†™æ³•ã€‚</p>
<h3 data-id="heading-9">3.1 å››ç§æ ¸å¿ƒå†™æ³•</h3>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å†™æ³•1ï¼šè®¡æ•°å¾ªç¯ï¼ˆç±»ä¼¼Cè¯­è¨€çš„forï¼‰</span>
    <span class="hljs-comment">// è¯­æ³•ï¼šfor åˆå§‹åŒ–; æ¡ä»¶; å¢é‡ { ... }</span>
    fmt.Println(<span class="hljs-string">"è®¡æ•°å¾ªç¯ï¼ˆ0-4ï¼‰ï¼š"</span>)
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
        fmt.Printf(<span class="hljs-string">"%d "</span>, i)
    }
    fmt.Println()

    <span class="hljs-comment">// å†™æ³•2ï¼šæ¡ä»¶å¾ªç¯ï¼ˆç±»ä¼¼whileï¼‰</span>
    <span class="hljs-comment">// è¯­æ³•ï¼šfor æ¡ä»¶ { ... }ï¼ˆçœç•¥åˆå§‹åŒ–å’Œå¢é‡ï¼‰</span>
    fmt.Println(<span class="hljs-string">"æ¡ä»¶å¾ªç¯ï¼ˆ10-13ï¼‰ï¼š"</span>)
    num := <span class="hljs-number">10</span>
    <span class="hljs-keyword">for</span> num &lt; <span class="hljs-number">14</span> {
        fmt.Printf(<span class="hljs-string">"%d "</span>, num)
        num++
    }
    fmt.Println()

    <span class="hljs-comment">// å†™æ³•3ï¼šæ— é™å¾ªç¯ï¼ˆæ— ä»»ä½•æ¡ä»¶ï¼‰</span>
    <span class="hljs-comment">// è¯­æ³•ï¼šfor { ... }ï¼ˆå¿…é¡»ç”¨breakç»ˆæ­¢ï¼Œå¦åˆ™æ— é™æ‰§è¡Œï¼‰</span>
    fmt.Println(<span class="hljs-string">"æ— é™å¾ªç¯ï¼ˆæ‰§è¡Œ3æ¬¡åç»ˆæ­¢ï¼‰ï¼š"</span>)
    count := <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> {
        <span class="hljs-keyword">if</span> count &gt;= <span class="hljs-number">3</span> {
            <span class="hljs-keyword">break</span>  <span class="hljs-comment">// ç»ˆæ­¢å¾ªç¯</span>
        }
        fmt.Printf(<span class="hljs-string">"å¾ªç¯æ¬¡æ•°ï¼š%d "</span>, count)
        count++
    }
    fmt.Println()

    <span class="hljs-comment">// å†™æ³•4ï¼šè¿­ä»£å¾ªç¯ï¼ˆfor rangeï¼Œéå†é›†åˆï¼‰</span>
    <span class="hljs-comment">// è¯­æ³•ï¼šfor ç´¢å¼•, å€¼ := range é›†åˆ { ... }</span>
    <span class="hljs-comment">// æ”¯æŒéå†ï¼šå­—ç¬¦ä¸²ã€æ•°ç»„ã€åˆ‡ç‰‡ã€mapã€é€šé“ç­‰</span>
    fmt.Println(<span class="hljs-string">"éå†å­—ç¬¦ä¸²ï¼ˆfor rangeï¼‰ï¼š"</span>)
    str := <span class="hljs-string">"hello go"</span>
    <span class="hljs-keyword">for</span> idx, char := <span class="hljs-keyword">range</span> str {
        fmt.Printf(<span class="hljs-string">"ç´¢å¼•ï¼š%dï¼Œå­—ç¬¦ï¼š%c "</span>, idx, char)
    }
    fmt.Println()

    fmt.Println(<span class="hljs-string">"éå†åˆ‡ç‰‡ï¼ˆfor rangeï¼‰ï¼š"</span>)
    nums := []<span class="hljs-type">int</span>{<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>}
    <span class="hljs-keyword">for</span> idx, val := <span class="hljs-keyword">range</span> nums {
        fmt.Printf(<span class="hljs-string">"ç´¢å¼•ï¼š%dï¼Œå€¼ï¼š%d "</span>, idx, val)
    }
    fmt.Println()
}

</code></pre>
<h3 data-id="heading-10">3.2 for rangeéå†çš„å…³é”®ç»†èŠ‚</h3>
<p>for rangeæ˜¯Goä¸­æœ€å¸¸ç”¨çš„è¿­ä»£æ–¹å¼ï¼Œä½†æœ‰å‡ ä¸ªç»†èŠ‚å®¹æ˜“è¸©å‘ï¼Œå¿…é¡»æ³¨æ„ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ç»†èŠ‚1ï¼šéå†å­—ç¬¦ä¸²æ—¶ï¼Œfor rangeä¼šè‡ªåŠ¨å¤„ç†UTF-8ç¼–ç ï¼ˆè¿”å›runeç±»å‹ï¼‰</span>
    str := <span class="hljs-string">"ä½ å¥½go"</span>
    fmt.Println(<span class="hljs-string">"éå†å¤šè¯­è¨€å­—ç¬¦ä¸²ï¼š"</span>)
    <span class="hljs-keyword">for</span> idx, char := <span class="hljs-keyword">range</span> str {
        fmt.Printf(<span class="hljs-string">"ç´¢å¼•ï¼š%dï¼Œå­—ç¬¦ï¼š%cï¼ˆUnicodeï¼š%dï¼‰\n"</span>, idx, char, char)
    }
    <span class="hljs-comment">// è¾“å‡ºè¯´æ˜ï¼šä¸­æ–‡å 3å­—èŠ‚ï¼Œæ‰€ä»¥ç´¢å¼•æ˜¯0ã€3ã€6ã€7</span>

    <span class="hljs-comment">// ç»†èŠ‚2ï¼šéå†åˆ‡ç‰‡/æ•°ç»„æ—¶ï¼Œvalæ˜¯å‰¯æœ¬ï¼Œä¿®æ”¹valä¸å½±å“åŸåˆ‡ç‰‡</span>
    nums := []<span class="hljs-type">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>}
    <span class="hljs-keyword">for</span> _, val := <span class="hljs-keyword">range</span> nums {
        val *= <span class="hljs-number">2</span>  <span class="hljs-comment">// ä¿®æ”¹çš„æ˜¯å‰¯æœ¬ï¼ŒåŸåˆ‡ç‰‡ä¸å˜</span>
    }
    fmt.Println(<span class="hljs-string">"ä¿®æ”¹valåçš„åˆ‡ç‰‡ï¼š"</span>, nums)  <span class="hljs-comment">// è¾“å‡ºï¼š[1 2 3]</span>

    <span class="hljs-comment">// æ­£ç¡®ä¿®æ”¹åŸåˆ‡ç‰‡ï¼šé€šè¿‡ç´¢å¼•æ“ä½œ</span>
    <span class="hljs-keyword">for</span> idx := <span class="hljs-keyword">range</span> nums {
        nums[idx] *= <span class="hljs-number">2</span>
    }
    fmt.Println(<span class="hljs-string">"é€šè¿‡ç´¢å¼•ä¿®æ”¹åçš„åˆ‡ç‰‡ï¼š"</span>, nums)  <span class="hljs-comment">// è¾“å‡ºï¼š[2 4 6]</span>

    <span class="hljs-comment">// ç»†èŠ‚3ï¼šå¿½ç•¥ç´¢å¼•æˆ–å€¼</span>
    <span class="hljs-comment">// å¿½ç•¥ç´¢å¼•ï¼šç”¨_ä»£æ›¿</span>
    <span class="hljs-keyword">for</span> _, val := <span class="hljs-keyword">range</span> nums {
        fmt.Printf(<span class="hljs-string">"%d "</span>, val)
    }
    fmt.Println()

    <span class="hljs-comment">// å¿½ç•¥å€¼ï¼šåªå†™ç´¢å¼•</span>
    <span class="hljs-keyword">for</span> idx := <span class="hljs-keyword">range</span> nums {
        fmt.Printf(<span class="hljs-string">"ç´¢å¼•ï¼š%d "</span>, idx)
    }
    fmt.Println()
}
</code></pre>
<h3 data-id="heading-11">3.3 æœ€ä½³å®è·µ</h3>
<ul>
<li>
<p>éå†é›†åˆä¼˜å…ˆç”¨for rangeï¼šä»£ç ç®€æ´ï¼Œä¸”èƒ½è‡ªåŠ¨å¤„ç†UTF-8ç¼–ç ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€è¾¹ç•Œæ¡ä»¶ï¼ˆæ— éœ€æ‰‹åŠ¨æ§åˆ¶ç´¢å¼•ï¼‰ï¼›</p>
</li>
<li>
<p>ä¿®æ”¹é›†åˆå…ƒç´ ç”¨ç´¢å¼•ï¼šå¦‚æœéœ€è¦ä¿®æ”¹åˆ‡ç‰‡/æ•°ç»„çš„å…ƒç´ ï¼Œå¿…é¡»é€šè¿‡<code>nums[idx]</code>æ“ä½œï¼Œä¸èƒ½ä¿®æ”¹for rangeçš„valï¼ˆå‰¯æœ¬ï¼‰ï¼›</p>
</li>
<li>
<p>æ— é™å¾ªç¯æ…ç”¨ï¼šä»…åœ¨éœ€è¦â€œæŒç»­è¿è¡Œç›´åˆ°ç‰¹å®šæ¡ä»¶â€æ—¶ä½¿ç”¨ï¼ˆå¦‚æœåŠ¡ç›‘å¬ï¼‰ï¼Œä¸”å¿…é¡»ç¡®ä¿æœ‰breakç»ˆæ­¢é€»è¾‘ï¼›</p>
</li>
<li>
<p>è®¡æ•°å¾ªç¯æ³¨æ„æº¢å‡ºï¼šå¦‚æœå¾ªç¯æ¬¡æ•°æå¤§ï¼Œè¦æ³¨æ„ç´¢å¼•å˜é‡çš„ç±»å‹ï¼ˆå¦‚ç”¨int64é¿å…æº¢å‡ºï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-12">4. æ— é™å¾ªç¯ä¸å¾ªç¯æ§åˆ¶</h2>
<p>æ— é™å¾ªç¯ï¼ˆ<code>for { ... }</code>ï¼‰æ˜¯forå¾ªç¯çš„ç‰¹æ®Šå½¢å¼ï¼Œæ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œå¿…é¡»é€šè¿‡â€œå¾ªç¯æ§åˆ¶è¯­å¥â€ï¼ˆbreakã€continueï¼‰æˆ–å¤–éƒ¨ä¿¡å·æ¥ç»ˆæ­¢ã€‚æ ¸å¿ƒåº”ç”¨åœºæ™¯æ˜¯â€œæŒç»­è¿è¡Œçš„æœåŠ¡â€ï¼ˆå¦‚HTTPæœåŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—æ¶ˆè´¹è€…ï¼‰ã€‚</p>
<h3 data-id="heading-13">4.1 æ— é™å¾ªç¯çš„å…¸å‹åœºæ™¯</h3>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"time"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åœºæ™¯1ï¼šæ¨¡æ‹ŸæœåŠ¡ç›‘å¬ï¼ˆæŒç»­è¿è¡Œï¼Œç›´åˆ°ç”¨æˆ·ä¸­æ–­ï¼‰</span>
    fmt.Println(<span class="hljs-string">"æœåŠ¡å¯åŠ¨ï¼ŒæŒç»­ç›‘å¬è¯·æ±‚...ï¼ˆæŒ‰Ctrl+Cç»ˆæ­¢ï¼‰"</span>)
    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿç”¨æˆ·ä¸­æ–­ä¿¡å·ï¼ˆ3ç§’åè§¦å‘ï¼‰</span>
        time.Sleep(<span class="hljs-number">3</span> * time.Second)
        fmt.Println(<span class="hljs-string">"\næ”¶åˆ°ç»ˆæ­¢ä¿¡å·ï¼Œå‡†å¤‡å…³é—­æœåŠ¡..."</span>)
        closeService()
    }()

    <span class="hljs-comment">// æ— é™å¾ªç¯ï¼šæœåŠ¡ä¸»é€»è¾‘</span>
    <span class="hljs-keyword">for</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†è¯·æ±‚</span>
        handleRequest()
        time.Sleep(<span class="hljs-number">1</span> * time.Second)  <span class="hljs-comment">// æ¯ç§’å¤„ç†ä¸€æ¬¡</span>
    }
}

<span class="hljs-comment">// æ¨¡æ‹Ÿå¤„ç†è¯·æ±‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handleRequest</span><span class="hljs-params">()</span></span> {
    fmt.Printf(<span class="hljs-string">"å¤„ç†è¯·æ±‚ä¸­... %s\n"</span>, time.Now().Format(<span class="hljs-string">"15:04:05"</span>))
}

<span class="hljs-comment">// æ¨¡æ‹Ÿå…³é—­æœåŠ¡</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">closeService</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// å®é™…å¼€å‘ä¸­ï¼Œè¿™é‡Œä¼šåšèµ„æºæ¸…ç†ï¼ˆå…³é—­æ•°æ®åº“ã€é‡Šæ”¾è¿æ¥ç­‰ï¼‰</span>
    fmt.Println(<span class="hljs-string">"æœåŠ¡å…³é—­å®Œæˆï¼"</span>)
    <span class="hljs-comment">// é€€å‡ºç¨‹åºï¼ˆç»ˆæ­¢æ‰€æœ‰goroutineï¼‰</span>
    <span class="hljs-built_in">panic</span>(<span class="hljs-string">"exit"</span>)  <span class="hljs-comment">// ç®€å•æ¨¡æ‹Ÿï¼Œå®é™…ç”¨os.Exit(0)</span>
}

</code></pre>
<h3 data-id="heading-14">4.2 å¾ªç¯æ§åˆ¶çš„æ ¸å¿ƒé€»è¾‘</h3>
<p>æ— é™å¾ªç¯çš„æ§åˆ¶ä¾èµ–äºâ€œå†…éƒ¨æ¡ä»¶åˆ¤æ–­â€å’Œâ€œå¾ªç¯æ§åˆ¶è¯­å¥â€ï¼Œå¸¸è§é€»è¾‘ï¼š</p>
<ul>
<li>
<p>æ¡ä»¶ç»ˆæ­¢ï¼šåœ¨å¾ªç¯å†…éƒ¨åˆ¤æ–­ç‰¹å®šæ¡ä»¶ï¼ˆå¦‚æ”¶åˆ°ç»ˆæ­¢ä¿¡å·ã€å¤„ç†æ¬¡æ•°è¾¾åˆ°ä¸Šé™ï¼‰ï¼Œç”¨breakç»ˆæ­¢ï¼›</p>
</li>
<li>
<p>é”™è¯¯é‡è¯•ï¼šå¦‚æœå¤„ç†å¤±è´¥ï¼Œç”¨continueè·³è¿‡å½“å‰å¾ªç¯ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡é‡è¯•ï¼›</p>
</li>
<li>
<p>èµ„æºæ¸…ç†ï¼šç»ˆæ­¢å¾ªç¯å‰ï¼Œå¿…é¡»æ¸…ç†èµ„æºï¼ˆå¦‚å…³é—­æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥ï¼‰ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
</li>
</ul>
<h2 data-id="heading-15">5. breakã€continueã€gotoçš„ä½¿ç”¨åœºæ™¯</h2>
<p>breakã€continueã€gotoæ˜¯Goä¸­çš„â€œè·³è½¬è¯­å¥â€ï¼Œç”¨äºå¼ºåˆ¶æ”¹å˜ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚å®ƒä»¬çš„ä½œç”¨å’Œä½¿ç”¨åœºæ™¯å·®å¼‚å¾ˆå¤§ï¼Œå…¶ä¸­gotoå› ä¸ºå®¹æ˜“å¯¼è‡´ä»£ç é€»è¾‘æ··ä¹±ï¼Œè¢«å¾ˆå¤šè§„èŒƒé™åˆ¶ä½¿ç”¨ï¼Œéœ€è¦æ ¼å¤–è°¨æ…ã€‚</p>
<h3 data-id="heading-16">5.1 ä¸‰å¤§è·³è½¬è¯­å¥å¯¹æ¯”</h3>





























<table><thead><tr><th>è¯­å¥</th><th>æ ¸å¿ƒä½œç”¨</th><th>ä½¿ç”¨åœºæ™¯</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>break</td><td>ç»ˆæ­¢å½“å‰å¾ªç¯ï¼ˆforï¼‰æˆ–switchè¯­å¥</td><td>1. æ— é™å¾ªç¯çš„ç»ˆæ­¢ï¼›2. æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶é€€å‡ºå¾ªç¯ï¼›3. switchä¸­æå‰ç»ˆæ­¢ï¼ˆè¾ƒå°‘ç”¨ï¼‰</td><td>é»˜è®¤åªç»ˆæ­¢â€œæœ€å†…å±‚â€çš„å¾ªç¯/switchï¼Œå¦‚éœ€ç»ˆæ­¢å¤–å±‚å¾ªç¯ï¼Œéœ€é…åˆæ ‡ç­¾</td></tr><tr><td>continue</td><td>è·³è¿‡å½“å‰å¾ªç¯çš„å‰©ä½™éƒ¨åˆ†ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</td><td>1. è¿‡æ»¤ä¸ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼ˆå¦‚éå†åˆ‡ç‰‡æ—¶è·³è¿‡ç©ºå€¼ï¼‰ï¼›2. é”™è¯¯é‡è¯•ï¼ˆè·³è¿‡å¤±è´¥çš„å¤„ç†é€»è¾‘ï¼‰</td><td>ä»…å¯¹å½“å‰å¾ªç¯æœ‰æ•ˆï¼Œä¸å½±å“å¤–å±‚å¾ªç¯</td></tr><tr><td>goto</td><td>æ— æ¡ä»¶è·³è½¬åˆ°åŒä¸€å‡½æ•°å†…çš„æ ‡ç­¾è¯­å¥</td><td>1. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ï¼ˆè·³è½¬åˆ°å‡½æ•°æœ«å°¾çš„æ¸…ç†é€»è¾‘ï¼‰ï¼›2. ç®€åŒ–å¤šå±‚å¾ªç¯çš„ç»ˆæ­¢</td><td>ç¦æ­¢è·¨å‡½æ•°è·³è½¬ï¼›ç¦æ­¢è·³è½¬åˆ°å¾ªç¯/ifå†…éƒ¨ï¼ˆç ´åä»£ç ç»“æ„ï¼‰ï¼›å°½é‡å°‘ç”¨</td></tr></tbody></table>
<h3 data-id="heading-17">5.2 ä»£ç ç¤ºä¾‹ï¼šå®é™…åº”ç”¨</h3>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. breakçš„ä½¿ç”¨ï¼šç»ˆæ­¢å¾ªç¯</span>
    fmt.Println(<span class="hljs-string">"breakç¤ºä¾‹ï¼ˆæ‰¾åˆ°5å°±ç»ˆæ­¢ï¼‰ï¼š"</span>)
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        <span class="hljs-keyword">if</span> i == <span class="hljs-number">5</span> {
            <span class="hljs-keyword">break</span>  <span class="hljs-comment">// æ‰¾åˆ°5ï¼Œç»ˆæ­¢å¾ªç¯</span>
        }
        fmt.Printf(<span class="hljs-string">"%d "</span>, i)
    }
    fmt.Println()

    <span class="hljs-comment">// 2. continueçš„ä½¿ç”¨ï¼šè·³è¿‡å¶æ•°</span>
    fmt.Println(<span class="hljs-string">"continueç¤ºä¾‹ï¼ˆåªæ‰“å°å¥‡æ•°ï¼‰ï¼š"</span>)
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        <span class="hljs-keyword">if</span> i%<span class="hljs-number">2</span> == <span class="hljs-number">0</span> {
            <span class="hljs-keyword">continue</span>  <span class="hljs-comment">// è·³è¿‡å¶æ•°ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯</span>
        }
        fmt.Printf(<span class="hljs-string">"%d "</span>, i)
    }
    fmt.Println()

    <span class="hljs-comment">// 3. gotoçš„ä½¿ç”¨ï¼šç»Ÿä¸€é”™è¯¯å¤„ç†</span>
    fmt.Println(<span class="hljs-string">"gotoç¤ºä¾‹ï¼ˆé”™è¯¯å¤„ç†ï¼‰ï¼š"</span>)
    err := doSomething()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">goto</span> errorHandler  <span class="hljs-comment">// å‘ç”Ÿé”™è¯¯ï¼Œè·³è½¬åˆ°é”™è¯¯å¤„ç†æ ‡ç­¾</span>
    }
    fmt.Println(<span class="hljs-string">"æ‰§è¡ŒæˆåŠŸï¼"</span>)
    <span class="hljs-keyword">return</span>

errorHandler:  <span class="hljs-comment">// é”™è¯¯å¤„ç†æ ‡ç­¾</span>
    fmt.Printf(<span class="hljs-string">"æ‰§è¡Œå¤±è´¥ï¼š%v\n"</span>, err)
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥åšèµ„æºæ¸…ç†é€»è¾‘ï¼ˆå¦‚å…³é—­æ–‡ä»¶ã€é‡Šæ”¾è¿æ¥ï¼‰</span>
}

<span class="hljs-comment">// æ¨¡æ‹Ÿæ‰§è¡Œä»»åŠ¡ï¼Œå¯èƒ½è¿”å›é”™è¯¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span></span> <span class="hljs-type">error</span> {
    <span class="hljs-comment">// æ¨¡æ‹Ÿé”™è¯¯åœºæ™¯ï¼ˆå¯ä¿®æ”¹ä¸ºnilæµ‹è¯•æˆåŠŸæ¡ˆä¾‹ï¼‰</span>
    <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼šè¿æ¥è¶…æ—¶"</span>)
}

</code></pre>
<h2 data-id="heading-18">6. æ ‡ç­¾è¯­å¥ä¸è·¨å±‚è·³è½¬</h2>
<p>æ ‡ç­¾ï¼ˆLabelï¼‰æ˜¯Goä¸­çš„â€œæ ‡è®°è¯­å¥â€ï¼Œè¯­æ³•ï¼š<code>æ ‡ç­¾å: è¯­å¥</code>ã€‚æ ‡ç­¾ä¸»è¦ç”¨äºé…åˆbreakã€continueã€gotoå®ç°â€œè·¨å±‚è·³è½¬â€ï¼ˆå¦‚ç»ˆæ­¢å¤–å±‚å¾ªç¯ã€è·³è½¬åˆ°å‡½æ•°å†…ç‰¹å®šä½ç½®ï¼‰ã€‚</p>
<h3 data-id="heading-19">6.1 æ ¸å¿ƒç”¨æ³•ï¼šé…åˆbreakç»ˆæ­¢å¤–å±‚å¾ªç¯</h3>
<p>å½“å­˜åœ¨åµŒå¥—å¾ªç¯æ—¶ï¼Œé»˜è®¤çš„break/continueåªèƒ½ä½œç”¨äºæœ€å†…å±‚å¾ªç¯ã€‚å¦‚æœéœ€è¦ç»ˆæ­¢å¤–å±‚å¾ªç¯ï¼Œå°±éœ€è¦ç»™å¤–å±‚å¾ªç¯æ·»åŠ æ ‡ç­¾ï¼Œç„¶åç”¨<code>break æ ‡ç­¾å</code>å®ç°è·¨å±‚è·³è½¬ã€‚</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åœºæ™¯ï¼šåµŒå¥—å¾ªç¯ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å…ƒç´ åç»ˆæ­¢å¤–å±‚å¾ªç¯</span>
    <span class="hljs-comment">// ç»™å¤–å±‚å¾ªç¯æ·»åŠ æ ‡ç­¾ï¼šouterLoop</span>
    outerLoop:
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
        fmt.Printf(<span class="hljs-string">"å¤–å±‚å¾ªç¯ï¼ši=%d\n"</span>, i)
        <span class="hljs-keyword">for</span> j := <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++ {
            fmt.Printf(<span class="hljs-string">"  å†…å±‚å¾ªç¯ï¼šj=%d\n"</span>, j)
            <span class="hljs-keyword">if</span> i == <span class="hljs-number">1</span> &amp;&amp; j == <span class="hljs-number">1</span> {
                fmt.Println(<span class="hljs-string">"  æ‰¾åˆ°ç›®æ ‡ï¼ˆi=1,j=1ï¼‰ï¼Œç»ˆæ­¢å¤–å±‚å¾ªç¯"</span>)
                <span class="hljs-keyword">break</span> outerLoop  <span class="hljs-comment">// ç»ˆæ­¢æ ‡ç­¾ä¸ºouterLoopçš„å¤–å±‚å¾ªç¯</span>
            }
        }
    }
    fmt.Println(<span class="hljs-string">"å¾ªç¯ç»“æŸ"</span>)
}

</code></pre>
<h3 data-id="heading-20">6.2 å…¶ä»–ç”¨æ³•ï¼šé…åˆcontinueå’Œgoto</h3>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// 1. é…åˆcontinueï¼šè·³è¿‡å¤–å±‚å¾ªç¯çš„å½“å‰è¿­ä»£</span>
    fmt.Println(<span class="hljs-string">"æ ‡ç­¾+continueï¼š"</span>)
    outer:
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
        <span class="hljs-keyword">for</span> j := <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++ {
            <span class="hljs-keyword">if</span> j == <span class="hljs-number">1</span> {
                fmt.Printf(<span class="hljs-string">"i=%d,j=%dï¼šè·³è¿‡å¤–å±‚å½“å‰è¿­ä»£\n"</span>, i, j)
                <span class="hljs-keyword">continue</span> outer  <span class="hljs-comment">// è·³è¿‡å¤–å±‚å¾ªç¯çš„å½“å‰è¿­ä»£ï¼Œç›´æ¥è¿›å…¥i+1</span>
            }
            fmt.Printf(<span class="hljs-string">"i=%d,j=%d\n"</span>, i, j)
        }
    }

    <span class="hljs-comment">// 2. é…åˆgotoï¼šè·³è½¬åˆ°æ ‡ç­¾ä½ç½®ï¼ˆç®€åŒ–å¤šå±‚å¾ªç¯ç»ˆæ­¢ï¼‰</span>
    fmt.Println(<span class="hljs-string">"\næ ‡ç­¾+gotoï¼š"</span>)
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
        <span class="hljs-keyword">for</span> j := <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++ {
            <span class="hljs-keyword">if</span> i == <span class="hljs-number">2</span> &amp;&amp; j == <span class="hljs-number">2</span> {
                fmt.Printf(<span class="hljs-string">"i=%d,j=%dï¼šè·³è½¬åˆ°å¾ªç¯ç»“æŸæ ‡ç­¾\n"</span>, i, j)
                <span class="hljs-keyword">goto</span> loopEnd  <span class="hljs-comment">// è·³è½¬åˆ°å¾ªç¯ç»“æŸæ ‡ç­¾</span>
            }
            fmt.Printf(<span class="hljs-string">"i=%d,j=%d\n"</span>, i, j)
        }
    }
loopEnd:
    fmt.Println(<span class="hljs-string">"å¾ªç¯ç»“æŸ"</span>)
}

</code></pre>
<h3 data-id="heading-21">6.3 æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p>æ ‡ç­¾åå¿…é¡»å”¯ä¸€ï¼šåŒä¸€å‡½æ•°å†…çš„æ ‡ç­¾åä¸èƒ½é‡å¤ï¼›</p>
</li>
<li>
<p>æ ‡ç­¾å¿…é¡»åœ¨è·³è½¬è¯­å¥ä¹‹å‰ï¼šä¸èƒ½è·³è½¬åˆ°å‡½æ•°ä¸­æœªå®šä¹‰çš„æ ‡ç­¾ï¼Œä¹Ÿä¸èƒ½è·³è½¬åˆ°æ ‡ç­¾ä¹‹å‰çš„ä½ç½®ï¼›</p>
</li>
<li>
<p>é¿å…è¿‡åº¦ä½¿ç”¨ï¼šæ ‡ç­¾å’Œè·¨å±‚è·³è½¬ä¼šç ´åä»£ç çš„â€œçº¿æ€§æ‰§è¡Œæµç¨‹â€ï¼Œå¢åŠ é˜…è¯»éš¾åº¦ï¼Œä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨ï¼ˆå¦‚å¤šå±‚å¾ªç¯ç»ˆæ­¢ã€ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-22">7. æ¡ä»¶åˆ¤æ–­ä¸­çš„å¸¸è§é™·é˜±</h2>
<p>æ§åˆ¶ç»“æ„çš„é€»è¾‘é”™è¯¯æ˜¯å¼€å‘ä¸­æœ€å¸¸è§çš„bugæ¥æºä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯ä¸€äº›â€œéšè”½çš„é™·é˜±â€ã€‚ä¸‹é¢æ€»ç»“å‡ ä¸ªé«˜é¢‘é™·é˜±ï¼Œå¸®ä½ é¿å¼€å‘ã€‚</p>
<h3 data-id="heading-23">7.1 é™·é˜±1ï¼šæ¡ä»¶è¡¨è¾¾å¼çš„éšå¼ç±»å‹è½¬æ¢</h3>
<p>Goä¸å…è®¸æ¡ä»¶è¡¨è¾¾å¼ä¸­å‡ºç°éå¸ƒå°”ç±»å‹ï¼ˆå¦‚intã€stringï¼‰ï¼Œä½†æ–°æ‰‹å®¹æ˜“ä¸‹æ„è¯†åœ°å†™ç±»ä¼¼Cè¯­è¨€çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    num := <span class="hljs-number">10</span>
    <span class="hljs-comment">// é”™è¯¯ï¼šæ¡ä»¶è¡¨è¾¾å¼å¿…é¡»æ˜¯å¸ƒå°”ç±»å‹ï¼Œä¸èƒ½æ˜¯int</span>
    <span class="hljs-comment">// if num {  // ç¼–è¯‘æŠ¥é”™ï¼šnon-bool num (type int) used as if condition</span>
    <span class="hljs-comment">//     fmt.Println("numé0")</span>
    <span class="hljs-comment">// }</span>

    <span class="hljs-comment">// æ­£ç¡®ï¼šæ˜ç¡®å†™å‡ºå¸ƒå°”è¡¨è¾¾å¼</span>
    <span class="hljs-keyword">if</span> num != <span class="hljs-number">0</span> {
        fmt.Println(<span class="hljs-string">"numé0"</span>)
    }
}

</code></pre>
<h3 data-id="heading-24">7.2 é™·é˜±2ï¼šfor rangeçš„valæ˜¯å‰¯æœ¬ï¼Œä¿®æ”¹æ— æ•ˆ</h3>
<p>å‰é¢æåˆ°è¿‡ï¼Œfor rangeéå†åˆ‡ç‰‡/æ•°ç»„æ—¶ï¼Œvalæ˜¯å…ƒç´ çš„å‰¯æœ¬ï¼Œä¿®æ”¹valä¸ä¼šå½±å“åŸåˆ‡ç‰‡ã€‚è¿™ä¸ªé™·é˜±éå¸¸å®¹æ˜“è¸©ï¼Œå°¤å…¶æ˜¯åœ¨éå†ç»“æ„ä½“åˆ‡ç‰‡æ—¶ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {
    Name <span class="hljs-type">string</span>
    Age  <span class="hljs-type">int</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    users := []User{{<span class="hljs-string">"Alice"</span>, <span class="hljs-number">20</span>}, {<span class="hljs-string">"Bob"</span>, <span class="hljs-number">25</span>}}

    <span class="hljs-comment">// é”™è¯¯ï¼šä¿®æ”¹valçš„å‰¯æœ¬ï¼ŒåŸåˆ‡ç‰‡ä¸å˜</span>
    <span class="hljs-keyword">for</span> _, u := <span class="hljs-keyword">range</span> users {
        u.Age++  <span class="hljs-comment">// ä»…ä¿®æ”¹å‰¯æœ¬</span>
    }
    fmt.Println(<span class="hljs-string">"é”™è¯¯ä¿®æ”¹åï¼š"</span>, users)  <span class="hljs-comment">// è¾“å‡ºï¼š[{Alice 20} {Bob 25}]</span>

    <span class="hljs-comment">// æ­£ç¡®ï¼šé€šè¿‡ç´¢å¼•ä¿®æ”¹åŸåˆ‡ç‰‡å…ƒç´ </span>
    <span class="hljs-keyword">for</span> idx := <span class="hljs-keyword">range</span> users {
        users[idx].Age++  <span class="hljs-comment">// ç›´æ¥ä¿®æ”¹åŸåˆ‡ç‰‡</span>
    }
    fmt.Println(<span class="hljs-string">"æ­£ç¡®ä¿®æ”¹åï¼š"</span>, users)  <span class="hljs-comment">// è¾“å‡ºï¼š[{Alice 21} {Bob 26}]</span>
}

</code></pre>
<h3 data-id="heading-25">7.3 é™·é˜±3ï¼šswitchçš„caseç©¿é€ï¼ˆå¿˜è®°fallthroughï¼‰</h3>
<p>Goçš„switché»˜è®¤è‡ªåŠ¨breakï¼Œæ–°æ‰‹å¦‚æœä»Java/Cè½¬è¿‡æ¥ï¼Œå®¹æ˜“å¿˜è®°è¿™ä¸€ç‚¹ï¼Œå¯¼è‡´éœ€è¦â€œç©¿é€æ‰§è¡Œâ€æ—¶é€»è¾‘é”™è¯¯ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    role := <span class="hljs-string">"admin"</span>
    <span class="hljs-comment">// éœ€æ±‚ï¼šadminéœ€è¦æ‰§è¡Œeditorå’Œadminçš„æƒé™é€»è¾‘ï¼ˆç©¿é€ï¼‰</span>
    <span class="hljs-keyword">switch</span> role {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"admin"</span>:
        fmt.Println(<span class="hljs-string">"adminæƒé™ï¼šå…¨é‡æ“ä½œ"</span>)
        <span class="hljs-keyword">fallthrough</span>  <span class="hljs-comment">// å¿…é¡»åŠ fallthroughï¼Œå¦åˆ™ä¸ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªcase</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">"editor"</span>:
        fmt.Println(<span class="hljs-string">"editoræƒé™ï¼šç¼–è¾‘å†…å®¹"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-string">"viewer"</span>:
        fmt.Println(<span class="hljs-string">"vieweræƒé™ï¼šä»…æŸ¥çœ‹"</span>)
    }
}

</code></pre>
<h3 data-id="heading-26">7.4 é™·é˜±4ï¼šgotoè·³è½¬åˆ°å¾ªç¯å†…éƒ¨</h3>
<p>gotoç¦æ­¢è·³è½¬åˆ°å¾ªç¯/ifå†…éƒ¨ï¼Œè¿™ä¼šç ´åä»£ç çš„ç»“æ„å®Œæ•´æ€§ï¼Œç¼–è¯‘ç›´æ¥æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-go" lang="go">
<span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// é”™è¯¯ï¼šgotoä¸èƒ½è·³è½¬åˆ°å¾ªç¯å†…éƒ¨</span>
    <span class="hljs-comment">// goto insideLoop  // ç¼–è¯‘æŠ¥é”™ï¼šgoto insideLoop jumps into block starting at</span>

    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
insideLoop:
        fmt.Println(i)
    }
}

</code></pre>
<h2 data-id="heading-27">8. æ§åˆ¶ç»“æ„çš„æ€§èƒ½ä¸å¯è¯»æ€§</h2>
<p>å¥½çš„æ§åˆ¶ç»“æ„ä»£ç ï¼Œæ—¢è¦æ€§èƒ½é«˜æ•ˆï¼Œä¹Ÿè¦å¯è¯»æ€§å¼ºã€‚å¾ˆå¤šæ—¶å€™ï¼Œâ€œå¯è¯»æ€§ä¼˜å…ˆâ€ï¼ˆé™¤éæœ‰æ˜ç¡®çš„æ€§èƒ½ç“¶é¢ˆï¼‰ï¼Œå› ä¸ºç»´æŠ¤æˆæœ¬è¿œé«˜äºå¾®å°çš„æ€§èƒ½å·®å¼‚ã€‚ä¸‹é¢ä»æ€§èƒ½å’Œå¯è¯»æ€§ä¸¤ä¸ªç»´åº¦ï¼Œç»™å‡ºä¼˜åŒ–å»ºè®®ã€‚</p>
<h3 data-id="heading-28">8.1 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ul>
<li>
<p>å‡å°‘å¾ªç¯å†…çš„é‡å¤è®¡ç®—ï¼šå°†å¾ªç¯å†…ä¸å˜çš„è®¡ç®—ï¼ˆå¦‚åˆ‡ç‰‡é•¿åº¦ã€å‡½æ•°è°ƒç”¨ç»“æœï¼‰æå–åˆ°å¾ªç¯å¤–ï¼›</p>
</li>
<li>
<p>ä¼˜å…ˆç”¨for rangeéå†åˆ‡ç‰‡/æ•°ç»„ï¼šfor rangeçš„æ€§èƒ½å’Œæ‰‹åŠ¨è®¡æ•°å¾ªç¯æ¥è¿‘ï¼Œä¸”ä»£ç æ›´ç®€æ´ï¼Œä¸æ˜“å‡ºé”™ï¼›</p>
</li>
<li>
<p>é¿å…ä¸å¿…è¦çš„åµŒå¥—ï¼šå¤šå±‚åµŒå¥—ä¼šå¢åŠ CPUçš„åˆ†æ”¯é¢„æµ‹å¼€é”€ï¼ŒåŒæ—¶é™ä½å¯è¯»æ€§ï¼Œå¯é€šè¿‡â€œæå‰returnâ€â€œå‡½æ•°æ‹†åˆ†â€ç®€åŒ–ï¼›</p>
</li>
<li>
<p>gotoçš„æ€§èƒ½ä¼˜åŠ¿ï¼šåœ¨å¤šå±‚å¾ªç¯ç»ˆæ­¢æˆ–ç»Ÿä¸€é”™è¯¯å¤„ç†åœºæ™¯ï¼Œgotoçš„æ€§èƒ½æ¯”å¤šå±‚breakæ›´ä¼˜ï¼ˆå‡å°‘æ¡ä»¶åˆ¤æ–­ï¼‰ï¼Œä½†éœ€æƒè¡¡å¯è¯»æ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-29">8.2 å¯è¯»æ€§ä¼˜åŒ–å»ºè®®</h3>
<ul>
<li>
<p>å‘½åæ¸…æ™°ï¼šå¾ªç¯å˜é‡ã€æ ‡ç­¾åã€æ¡ä»¶å˜é‡çš„å‘½åè¦ç›´è§‚ï¼ˆå¦‚ç”¨i/j/kè¡¨ç¤ºç´¢å¼•ï¼Œç”¨isLoginã€hasErrorè¡¨ç¤ºå¸ƒå°”æ¡ä»¶ï¼‰ï¼›</p>
</li>
<li>
<p>æ‹†åˆ†å¤æ‚æ¡ä»¶ï¼šå°†å¤æ‚çš„æ¡ä»¶è¡¨è¾¾å¼æŠ½æˆå•ç‹¬çš„å‡½æ•°ï¼ˆå¦‚<code>isValidRequest(req)</code>ï¼‰ï¼Œè®©ä»£ç é€»è¾‘æ›´æ¸…æ™°ï¼›</p>
</li>
<li>
<p>æ§åˆ¶å¾ªç¯é•¿åº¦ï¼šä¸€ä¸ªå¾ªç¯çš„ä»£ç é•¿åº¦ä¸å®œè¿‡é•¿ï¼ˆå»ºè®®ä¸è¶…è¿‡20è¡Œï¼‰ï¼Œå¦‚æœè¿‡é•¿ï¼Œå¯æ‹†åˆ†æˆå¤šä¸ªå‡½æ•°ï¼›</p>
</li>
<li>
<p>ä¼˜å…ˆç”¨if-else/switchï¼Œå°‘ç”¨gotoï¼šé™¤éæœ‰æ˜ç¡®çš„éœ€æ±‚ï¼ˆå¦‚ç»Ÿä¸€é”™è¯¯å¤„ç†ï¼‰ï¼Œå¦åˆ™å°½é‡é¿å…ä½¿ç”¨gotoï¼Œé™ä½ä»£ç é˜…è¯»éš¾åº¦ï¼›</p>
</li>
<li>
<p>æ³¨é‡Šå…³é”®é€»è¾‘ï¼šå¯¹äºå¤æ‚çš„å¾ªç¯æ§åˆ¶ï¼ˆå¦‚è·¨å±‚è·³è½¬ã€æ¡ä»¶è¿‡æ»¤ï¼‰ï¼Œæ·»åŠ ç®€æ´çš„æ³¨é‡Šï¼Œè¯´æ˜é€»è¾‘ç›®çš„ã€‚</p>
</li>
</ul>
<h3 data-id="heading-30">8.3 æ€§èƒ½ä¸å¯è¯»æ€§çš„å¹³è¡¡åŸåˆ™</h3>
<ol>
<li>
<p>å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œå¯è¯»æ€§ä¼˜å…ˆäºå¾®å°çš„æ€§èƒ½æå‡ï¼šé™¤éé€šè¿‡æ€§èƒ½æµ‹è¯•å‘ç°æ§åˆ¶ç»“æ„æ˜¯ç“¶é¢ˆï¼Œå¦åˆ™ä¸è¦ä¸ºäº†â€œæè‡´æ€§èƒ½â€ç‰ºç‰²å¯è¯»æ€§ï¼›</p>
</li>
<li>
<p>æ€§èƒ½ä¼˜åŒ–è¦æœ‰æ•°æ®æ”¯æ’‘ï¼šé€šè¿‡<code>testing</code>åŒ…çš„æ€§èƒ½æµ‹è¯•ï¼ˆå¦‚<code>go test -bench</code>ï¼‰éªŒè¯ä¼˜åŒ–æ•ˆæœï¼Œä¸è¦å‡­æ„Ÿè§‰ä¼˜åŒ–ï¼›</p>
</li>
<li>
<p>ä¼˜å…ˆé€šè¿‡â€œç»“æ„ä¼˜åŒ–â€æå‡æ€§èƒ½ï¼šå¦‚å‡å°‘åµŒå¥—ã€æå‰returnã€é¿å…é‡å¤è®¡ç®—ï¼Œè¿™äº›ä¼˜åŒ–åŒæ—¶èƒ½æå‡å¯è¯»æ€§ã€‚</p>
</li>
</ol>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>æœ¬ç« æˆ‘ä»¬å…¨é¢è®²è§£äº†Goçš„æ§åˆ¶ç»“æ„ï¼Œæ ¸å¿ƒè¦ç‚¹æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>ifè¯­å¥ï¼šæ”¯æŒåˆå§‹åŒ–è¯­å¥ï¼Œæ¡ä»¶å¿…é¡»æ˜¯å¸ƒå°”ç±»å‹ï¼Œä¼˜å…ˆç”¨å¸¦åˆå§‹åŒ–çš„å½¢å¼ï¼Œå‡å°‘å˜é‡ä½œç”¨åŸŸï¼›</p>
</li>
<li>
<p>switchè¯­å¥ï¼šæ”¯æŒå€¼åŒ¹é…å’Œç±»å‹åŒ¹é…ï¼Œé»˜è®¤è‡ªåŠ¨breakï¼Œå¤šåˆ†æ”¯åœºæ™¯æ¯”if-elseæ›´ç®€æ´ï¼›</p>
</li>
<li>
<p>forå¾ªç¯ï¼šå››ç§å†™æ³•ï¼ˆè®¡æ•°ã€æ¡ä»¶ã€æ— é™ã€for rangeï¼‰ï¼Œfor rangeæ˜¯éå†é›†åˆçš„é¦–é€‰ï¼Œæ³¨æ„valæ˜¯å‰¯æœ¬çš„å‘ï¼›</p>
</li>
<li>
<p>è·³è½¬è¯­å¥ï¼šbreakç»ˆæ­¢å¾ªç¯/switchï¼Œcontinueè·³è¿‡å½“å‰è¿­ä»£ï¼Œgotoæ…ç”¨ï¼Œä»…ç”¨äºç»Ÿä¸€é”™è¯¯å¤„ç†æˆ–å¤šå±‚å¾ªç¯ç»ˆæ­¢ï¼›</p>
</li>
<li>
<p>æ ‡ç­¾è¯­å¥ï¼šé…åˆbreak/continue/gotoå®ç°è·¨å±‚è·³è½¬ï¼Œæ³¨æ„æ ‡ç­¾çš„ä½¿ç”¨è§„èŒƒï¼›</p>
</li>
<li>
<p>é¿å‘æŒ‡å—ï¼šé¿å…éšå¼ç±»å‹è½¬æ¢ã€for rangeå‰¯æœ¬ä¿®æ”¹ã€switchç©¿é€é—æ¼ã€gotoè·³è½¬åˆ°å¾ªç¯å†…éƒ¨ï¼›</p>
</li>
<li>
<p>æ€§èƒ½ä¸å¯è¯»æ€§ï¼šä¼˜å…ˆä¿è¯å¯è¯»æ€§ï¼Œé€šè¿‡ç»“æ„ä¼˜åŒ–æå‡æ€§èƒ½ï¼Œæ€§èƒ½ä¼˜åŒ–è¦æœ‰æ•°æ®æ”¯æ’‘ã€‚</p>
</li>
</ol>
<p>æ§åˆ¶ç»“æ„æ˜¯Goç¼–ç¨‹çš„åŸºç¡€ï¼Œç†Ÿç»ƒæŒæ¡è¿™äº›çŸ¥è¯†ç‚¹ï¼Œèƒ½è®©ä½ çš„ä»£ç æ›´ç®€æ´ã€é«˜æ•ˆã€å¯ç»´æŠ¤ã€‚å»ºè®®å¤šåŠ¨æ‰‹å†™ä¸åŒåœºæ™¯çš„ä»£ç ï¼ˆå¦‚åµŒå¥—å¾ªç¯ã€é”™è¯¯å¤„ç†ã€é›†åˆéå†ï¼‰ï¼ŒåŠ æ·±å¯¹æ§åˆ¶ç»“æ„çš„ç†è§£ã€‚å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï½</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<ul>
<li>
<p>Goå®˜æ–¹æ–‡æ¡£ - æ§åˆ¶ç»“æ„ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.dev%2Fref%2Fspec%23Control_structures" target="_blank" title="https://go.dev/ref/spec#Control_structures" ref="nofollow noopener noreferrer">go.dev/ref/spec#Coâ€¦</a></p>
</li>
<li>
<p>Goæ ‡å‡†åº“ - testingåŒ…ï¼ˆæ€§èƒ½æµ‹è¯•ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpkg.go.dev%2Ftesting" target="_blank" title="https://pkg.go.dev/testing" ref="nofollow noopener noreferrer">pkg.go.dev/testing</a></p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè¯´ Prompt ä¸å¤Ÿç”¨äº†ï¼ŸAgent Skill æ‰æ˜¯ AI åº”ç”¨çš„æ ¸å¿ƒæŠ½è±¡]]></title>    <link>https://juejin.cn/post/7598537739516936234</link>    <guid>https://juejin.cn/post/7598537739516936234</guid>    <pubDate>2026-01-25T13:00:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598537739516936234" data-draft-id="7599017594519191578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè¯´ Prompt ä¸å¤Ÿç”¨äº†ï¼ŸAgent Skill æ‰æ˜¯ AI åº”ç”¨çš„æ ¸å¿ƒæŠ½è±¡"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-25T13:00:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¥¿é™µ"/> <meta itemprop="url" content="https://juejin.cn/user/4353721774379054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè¯´ Prompt ä¸å¤Ÿç”¨äº†ï¼ŸAgent Skill æ‰æ˜¯ AI åº”ç”¨çš„æ ¸å¿ƒæŠ½è±¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4353721774379054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¥¿é™µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T13:00:10.000Z" title="Sun Jan 25 2026 13:00:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>éšç€å¤§æ¨¡å‹èƒ½åŠ›çš„æŒç»­æå‡ï¼ŒAgent å·²ç»ä¸å†åªæ˜¯å¯¹è¯å¼ AIï¼Œè€Œæ˜¯é€æ­¥æ¼”è¿›ä¸ºèƒ½å¤Ÿ<strong>ç›´æ¥æ“ä½œçœŸå®è®¡ç®—ç¯å¢ƒ</strong>çš„æ™ºèƒ½æ‰§è¡Œä½“ã€‚ä»¥ Claude Code ä¸ºä»£è¡¨çš„æ–°ä¸€ä»£ Agentï¼Œå¯ä»¥è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€æ‰§è¡Œä»£ç ã€ä¿®æ”¹é¡¹ç›®ç»“æ„ï¼Œç”šè‡³å®Œæˆè·¨é¢†åŸŸçš„å¤æ‚ä»»åŠ¡ã€‚è¿™ç§èƒ½åŠ›çš„è·ƒè¿ï¼Œä½¿ Agent å¼€å§‹çœŸæ­£å‚ä¸åˆ°è½¯ä»¶å¼€å‘ã€æ•°æ®å¤„ç†ã€å†…å®¹ç”Ÿäº§ç­‰å®é™…å·¥ä½œæµä¸­ã€‚</p>
<p>ä½†ä¸æ­¤åŒæ—¶ï¼Œä¸€ä¸ªé—®é¢˜ä¹Ÿæ„ˆå‘æ˜æ˜¾ï¼š<strong>æ¨¡å‹è¶Šå¼ºï¼Œå¹¶ä¸æ„å‘³ç€ Agent åœ¨æ‰€æœ‰åœºæ™¯ä¸‹éƒ½è¶³å¤Ÿä¸“ä¸šã€‚</strong></p>
<p>é€šç”¨ Agent åœ¨é¢å¯¹å…·ä½“é¢†åŸŸä»»åŠ¡æ—¶ï¼Œä»ç„¶éœ€è¦å¤§é‡ä¸Šä¸‹æ–‡è¯´æ˜ã€é‡å¤æŒ‡ä»¤å’Œäººå·¥å¼•å¯¼ã€‚ä¸åŒé¡¹ç›®ã€ä¸åŒå›¢é˜Ÿå¾€å¾€ä¼šå„è‡ªç»´æŠ¤ä¸€å¥—éšæ€§æµç¨‹å’Œç»éªŒåšæ³•ï¼Œè¿™äº›çŸ¥è¯†æ—¢éš¾ä»¥å¤ç”¨ï¼Œä¹Ÿéš¾ä»¥è§„æ¨¡åŒ–å…±äº«ã€‚ç»“æœå°±æ˜¯ï¼š</p>
<ul>
<li>Agent èƒ½åŠ›å¼ºï¼Œä½†æ¯æ¬¡éƒ½è¦é‡æ–°æ•™</li>
<li>Prompt è¶Šå†™è¶Šé•¿ï¼Œä¸Šä¸‹æ–‡æˆæœ¬è¶Šæ¥è¶Šé«˜</li>
<li>ä¸“ä¸šç»éªŒæ²‰æ·€åœ¨ä¸ªäººï¼Œè€Œä¸æ˜¯ç³»ç»Ÿä¸­</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–°çš„æ–¹å¼ï¼Œå°†<strong>äººçš„æµç¨‹ç»éªŒã€å·¥å…·ä½¿ç”¨æ–¹å¼å’Œé¢†åŸŸçŸ¥è¯†</strong>ï¼Œä»¥ç»“æ„åŒ–ã€å¯ç»„åˆçš„å½¢å¼äº¤ç»™ Agentã€‚</p>
<h2 data-id="heading-1">Agent Skillsçš„è¯ç”Ÿ</h2>
<p>2025 å¹´ 10 æœˆï¼ŒAnthropic æ¨å‡ºäº† Agent Skills èƒ½åŠ›ï¼Œåœ¨ Claude ç½‘é¡µç«¯ã€API ä»¥åŠ Claude Codeç­‰äº§å“éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>Agent Skills ä¸»è¦è§£å†³çš„é—®é¢˜æ˜¯æŠŠç‰¹å®šçš„å·¥ä½œæµã€ç‰¹å®šé¢†åŸŸçš„èƒ½åŠ›æ‰“åŒ…æˆå¯å¤ç”¨çš„<code>æŠ€èƒ½åŒ…</code>ï¼Œ åœ¨Agent ä¸Šå¯ä»¥ä¸°å¯Œå‡ºæ›´å¤šçš„åº”ç”¨ç”Ÿæ€ã€‚é‚£äº›æ—¥å¸¸å·¥ä½œä¸­çç¢ä½†é‡å¤çš„ä»»åŠ¡ï¼Œå€ŸåŠ© Skill çš„èƒ½åŠ›å¯ä»¥è¢«é«˜åº¦è‡ªåŠ¨åŒ–ã€‚</p>
<p>ä¸€ä¸ªéå¸¸è´´è¿‘çœŸå®å·¥ç¨‹åœºæ™¯çš„ä¾‹å­æ˜¯ <code>Code Review</code>ï¼Œåœ¨å›¢é˜Ÿåä½œä¸­ï¼Œ<code>Code Review</code> æœ¬èº«å°±æ˜¯ä¸€é¡¹<strong>è€—æ—¶ä¸”é«˜åº¦ä¾èµ–ç»éªŒçš„æµç¨‹</strong>ã€‚é€šç”¨ Agent å¹¶ä¸äº†è§£å›¢é˜Ÿå†…éƒ¨çš„ä»£ç è§„èŒƒã€è®¾è®¡åŸåˆ™å’Œä¼˜åŒ–åå¥½ï¼Œä¹Ÿæ— æ³•è‡ªç„¶åœ°å¤ç°çœŸå®å¼€å‘è€…çš„å®¡æŸ¥æ€è·¯ã€‚</p>
<p>é€šè¿‡å°†ä»£ç è§„èŒƒã€Review è§„åˆ™ã€å¸¸è§é—®é¢˜æ¨¡å¼ä»¥åŠä¼˜åŒ–ç­–ç•¥æ²‰æ·€ä¸ºä¸“é—¨çš„ Code Review Skillï¼ŒAgent å°±å¯ä»¥æŒ‰ç…§çœŸå®å¼€å‘æµç¨‹æ‰§è¡Œ CRï¼š</p>
<ul>
<li>è¯†åˆ«ç»“æ„æ€§é—®é¢˜</li>
<li>æŒ‡å‡ºæ½œåœ¨é£é™©</li>
<li>ç»™å‡ºç¬¦åˆå›¢é˜Ÿè§„èŒƒçš„ä¼˜åŒ–å»ºè®®</li>
</ul>
<p>åˆšå¼€å§‹ Agent Skills è¿™å¥—æœºåˆ¶åªæ”¯æŒ Claudeï¼Œåé¢åƒ Cursorã€codex éƒ½é™†ç»­å¼€å§‹æ”¯æŒè¯¥èƒ½åŠ›ï¼Œå› æ­¤åœ¨ 2025 å¹´ 12 æœˆï¼ŒAnthropic æ­£å¼å°† Agent Skills å‘å¸ƒä¸º<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">å¼€æ”¾æ ‡å‡†</a>ï¼Œæ”¯æŒè·¨å¹³å°è·¨äº§å“å¤ç”¨ã€‚</p>
<h2 data-id="heading-2">Agent Skillsç»“æ„å‰–æ</h2>
<p>Agent Skills æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">my-skill/
â”œâ”€â”€ <span class="hljs-variable constant_">SKILL</span>.<span class="hljs-property">md</span>          # <span class="hljs-title class_">Required</span>: instructions + metadata
â”œâ”€â”€ scripts/          # <span class="hljs-title class_">Optional</span>: executable code
â”œâ”€â”€ references/       # <span class="hljs-title class_">Optional</span>: documentation
â””â”€â”€ assets/           # <span class="hljs-title class_">Optional</span>: templates, resources
</code></pre>
<p>ä¸‹é¢ä¼šè¯¦ç»†ä»‹ç»æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼Œè¿™é‡Œä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwshobson%2Fagents%2Ftree%2Fmain%2Fplugins%2Fllm-application-dev%2Fskills%2Fprompt-engineering-patterns" target="_blank" title="https://github.com/wshobson/agents/tree/main/plugins/llm-application-dev/skills/prompt-engineering-patterns" ref="nofollow noopener noreferrer">prompt-engineering-patterns</a> è¿™ä¸ªå¼€æºçš„ skill ä¸ºä¾‹ï¼š</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2FSKILL.md" target="_blank" title="http://SKILL.md" ref="nofollow noopener noreferrer">SKILL.md</a> æ–‡ä»¶</p>
<p>è¿™ä¸ªæ–‡ä»¶æ˜¯æ¯ä¸ª skill å¿…é¡»è¦æœ‰çš„æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«è¿™ä¸ª skill çš„å…ƒæ•°æ®å’ŒæŒ‡ä»¤ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å…ƒæ•°æ®</span>
---
<span class="hljs-attr">name</span>: prompt-engineering-patterns
<span class="hljs-attr">description</span>: <span class="hljs-title class_">Master</span> advanced prompt engineering techniques to maximize <span class="hljs-variable constant_">LLM</span> performance, reliability, and controllability <span class="hljs-keyword">in</span> production. <span class="hljs-title class_">Use</span> when optimizing prompts, improving <span class="hljs-variable constant_">LLM</span> outputs, or designing production prompt templates.
---

<span class="hljs-comment">// æŒ‡ä»¤</span>
# <span class="hljs-title class_">Prompt</span> <span class="hljs-title class_">Engineering</span> <span class="hljs-title class_">Patterns</span>

<span class="hljs-title class_">Master</span> advanced prompt engineering techniques to maximize <span class="hljs-variable constant_">LLM</span> performance, reliability, and controllability.

## <span class="hljs-title class_">When</span> to <span class="hljs-title class_">Use</span> <span class="hljs-title class_">This</span> <span class="hljs-title class_">Skill</span>

- <span class="hljs-title class_">Designing</span> complex prompts <span class="hljs-keyword">for</span> production <span class="hljs-variable constant_">LLM</span> applications
- <span class="hljs-title class_">Optimizing</span> prompt performance and consistency
- <span class="hljs-title class_">Implementing</span> structured reasoning patterns (chain-<span class="hljs-keyword">of</span>-thought, tree-<span class="hljs-keyword">of</span>-thought)
- <span class="hljs-title class_">Building</span> few-shot learning systems <span class="hljs-keyword">with</span> dynamic example selection
- <span class="hljs-title class_">Creating</span> reusable prompt templates <span class="hljs-keyword">with</span> variable interpolation
- <span class="hljs-title class_">Debugging</span> and refining prompts that produce inconsistent outputs
- <span class="hljs-title class_">Implementing</span> system prompts <span class="hljs-keyword">for</span> specialized <span class="hljs-variable constant_">AI</span> assistants

## <span class="hljs-title class_">Core</span> <span class="hljs-title class_">Capabilities</span>
...
</code></pre>
<p><strong>å…ƒæ•°æ®</strong>ï¼šå…ƒæ•°æ®å°±æ˜¯æ–‡ä»¶ä¸­æœ€å¼€å§‹çš„ä¿¡æ¯ï¼Œå¿…é¡»åŒ…å« name å’Œ description ä¸¤ä¸ªå­—æ®µï¼Œç”¨äº Agent è¯†åˆ«ï¼Œå…¶ä½™å­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼Œå¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fspecification" target="_blank" title="https://agentskills.io/specification" ref="nofollow noopener noreferrer">å®˜ç½‘</a>ã€‚</p>
<p><strong>æŒ‡ä»¤</strong>ï¼šæŒ‡ä»¤æŒ‡çš„æ˜¯æ–‡ä»¶ä¸­çš„æ­£æ–‡ä¿¡æ¯ï¼ŒåŒ…å«æŠ€èƒ½ä½¿ç”¨çš„è¯¦ç»†è¯´æ˜ã€‚æ–‡æ¡£å†…å®¹æ ¼å¼æ²¡æœ‰é™åˆ¶ï¼Œåªéœ€è¦èƒ½å¤Ÿè®© Agent ç†è§£å¹¶æœ‰æ•ˆå®Œå®Œæˆä»»åŠ¡å³å¯ï¼Œå®˜æ–¹æ¨èæŒ‡ä»¤ä¸­åº”è¯¥è¦åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>Step-by-step instructionsï¼ˆæ‰§è¡Œæ­¥éª¤ï¼‰</li>
<li>Examples of inputs and outputsï¼ˆè¾“å…¥è¾“å‡ºç¤ºä¾‹ï¼‰</li>
<li>Common edge casesï¼ˆè¾¹ç•Œæƒ…å†µï¼‰</li>
</ul>
</li>
<li>
<p>scripts/</p>
<p>scripts æ˜¯<strong>å¯é€‰çš„</strong>ï¼Œç›®å½•ä¸‹åŒ…å«çš„æ˜¯ Agent å¯æ‰§è¡Œçš„ä»£ç ï¼Œè¿™äº›ä»£ç ä¼šåœ¨ skill çš„æ‰§è¡Œè¿‡ç¨‹ä¸­è¢«è°ƒç”¨ï¼Œå°±å½“å‰è¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª prompt è‡ªåŠ¨ä¼˜åŒ–çš„è„šæœ¬ <a href="https://link.juejin.cn?target=http%3A%2F%2Foptimize-prompt.py" target="_blank" title="http://optimize-prompt.py" ref="nofollow noopener noreferrer"><code>optimize-prompt.py</code></a> ï¼Œå½“ç”¨æˆ·éœ€è¦ä¼˜åŒ– prompt æ—¶ä¼šæ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œ<strong>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯æ‰§è¡Œè„šæœ¬ä¸ä¼šå ç”¨æ¨¡å‹ä¸Šä¸‹æ–‡</strong>ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx">## <span class="hljs-title class_">Resources</span>

- **scripts/optimize-prompt.<span class="hljs-property">py</span>**: <span class="hljs-title class_">Automated</span> prompt optimization tool
</code></pre>
</li>
<li>
<p>references/</p>
<p>references æ˜¯<strong>å¯é€‰çš„</strong>ï¼Œç›®å½•ä¸‹åŒ…å«çš„æ˜¯ä¸€äº›å‚è€ƒèµ„æ–™ï¼ŒAgent ä¼šæ ¹æ®åœºæ™¯éœ€æ±‚æŒ‰éœ€åŠ è½½ï¼ŒåŠ è½½reference æ—¶ä¼šå ç”¨æ¨¡å‹ä¸Šä¸‹æ–‡ï¼Œåˆç†çš„åˆ©ç”¨ references èƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘ä¸Šä¸‹æ–‡ã€‚</p>
<p>å°±å½“å‰çš„ä¾‹å­æ¥è¯´ï¼Œå®ƒæä¾›äº†<a href="https://link.juejin.cn?target=http%3A%2F%2Fchain-of-thought.md%2F" target="_blank" title="http://chain-of-thought.md/" ref="nofollow noopener noreferrer">chain-of-thought.md</a>ã€<a href="https://link.juejin.cn?target=http%3A%2F%2Ffew-shot-learning.md%2F" target="_blank" title="http://few-shot-learning.md/" ref="nofollow noopener noreferrer">few-shot-learning.md</a> ç­‰æç¤ºè¯ä¼˜åŒ–æ–¹æ¡ˆçš„å‚è€ƒèµ„æ–™ï¼Œå¹¶åœ¨ <a href="https://link.juejin.cn?target=http%3A%2F%2FSKILL.md" target="_blank" title="http://SKILL.md" ref="nofollow noopener noreferrer">SKILL.md</a> æ–‡ä»¶ä¸­è¿›è¡Œå¼•ç”¨è¯´æ˜ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx">## <span class="hljs-title class_">Resources</span>

- **references/few-shot-learning.<span class="hljs-property">md</span>**: <span class="hljs-title class_">Deep</span> dive on example selection and construction
- **references/chain-<span class="hljs-keyword">of</span>-thought.<span class="hljs-property">md</span>**: <span class="hljs-title class_">Advanced</span> reasoning elicitation techniques
- **references/prompt-optimization.<span class="hljs-property">md</span>**: <span class="hljs-title class_">Systematic</span> refinement workflows
- **references/prompt-templates.<span class="hljs-property">md</span>**: <span class="hljs-title class_">Reusable</span> template patterns
- **references/system-prompts.<span class="hljs-property">md</span>**: <span class="hljs-title class_">System</span>-level prompt design
</code></pre>
</li>
<li>
<p>assets/</p>
<p>assets æ˜¯<strong>å¯é€‰çš„</strong>ï¼Œç›®å½•ä¸‹åŒ…å«çš„æ˜¯ä¸€äº›é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€htmlæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ï¼ŒAgent ä¼šæ ¹æ®åœºæ™¯éœ€æ±‚æŒ‰éœ€åŠ è½½ï¼Œä¾‹å¦‚ç¤ºä¾‹ä¸­çš„ <a href="https://link.juejin.cn?target=http%3A%2F%2Fprompt-template-library.md" target="_blank" title="http://prompt-template-library.md" ref="nofollow noopener noreferrer">prompt-template-library.md</a> æ–‡ä»¶ï¼Œä½œä¸ºåˆ›å»º prompt çš„æ¨¡æ¿æ–‡ä»¶ï¼ŒåŠ è½½ assets ä¼šå ç”¨æ¨¡å‹ä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx">## <span class="hljs-title class_">Resources</span>

- assets/prompt-template-library.<span class="hljs-property">md</span>: <span class="hljs-title class_">Battle</span>-tested prompt templates
- assets/few-shot-examples.<span class="hljs-property">json</span>: <span class="hljs-title class_">Curated</span> example datasets
</code></pre>
</li>
</ul>
<h2 data-id="heading-3">Agent Skillæ‰§è¡ŒåŸç†</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµç¨‹å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66989d3d6a324fb5a7371997e2166631~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=BmFLkGFQG4EHBA4WiVdJvWNCIBE%3D" alt="image.png" loading="lazy"/></p>
<p>skill é‡‡ç”¨ä¸‰çº§åŠ è½½ç³»ç»Ÿæ¥é«˜æ•ˆç®¡ç†ä¸Šä¸‹æ–‡ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç”¨æˆ·å‘é€ query åï¼Œ claude codeï¼ˆcursorï¼‰ä¼šå°†æ‰€æœ‰ skills çš„å…ƒä¿¡æ¯å¸¦ç»™å¤§æ¨¡å‹ï¼Œç”±å¤§æ¨¡å‹åˆ¤æ–­éœ€è¦ä½¿ç”¨å“ªä¸ª skillã€‚</li>
<li>å¤§æ¨¡å‹ç¡®è®¤ä½¿ç”¨æŸä¸€ä¸ª skill åï¼Œclaude code æ‰ä¼šå°† <a href="https://link.juejin.cn?target=http%3A%2F%2Fskil.md" target="_blank" title="http://skil.md" ref="nofollow noopener noreferrer">skill.md</a> çš„å®Œæ•´ä¿¡æ¯å¸¦ç»™å¤§æ¨¡å‹ã€‚</li>
<li>å¤§æ¨¡å‹æ ¹æ®åœºæ™¯éœ€æ±‚æŒ‰éœ€åŠ è½½ reference ã€assets å’Œ scripts èµ„æºã€‚</li>
</ul>
<h2 data-id="heading-4">å®‰è£…Agent Skill</h2>
<p>Agent Skill çš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œä»¥ Claude Code è¿›è¡Œä»‹ç»ã€‚</p>
<ul>
<li>
<p>ç®€å•ç²—æš´ï¼Œç›´æ¥ä» github ä¸Šä¸‹è½½ skill æ–‡ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea23b9c5f2b84001b2c1e10d254c3cab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=AQ9i%2BA3mhEZD0Nq9EQvejOmZ8OM%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œå±•ç¤ºçš„æ˜¯ Anthropics å®˜æ–¹æä¾›çš„ skillsï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a>ï¼‰ ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ skill å‘½ä»¤è¡Œå·¥å…·å®‰è£…</p>
<p>vercel è¿‘æœŸå‘å¸ƒäº†ä¸€ä¸ª skill å®‰è£…å·¥å…· <a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh%2F" target="_blank" title="https://skills.sh/" ref="nofollow noopener noreferrer">skills</a>ï¼Œæ”¯æŒä¸€é”®ä¸‹è½½ github ä¸Šçš„å¼€æº skill</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64dd46ce61fc4b5d9757431ef8f7c909~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=k6QOe5SLpY%2Bxjvng9bn7jvuGpA4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee2cc9e5fbfb4121a92fc442de2ab2d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=tD8Q7ys0Kr%2FkTe8nW9%2BjOKElnH4%3D" alt="image.png" loading="lazy"/></p>
<p>åŒæ—¶ä¸‹è½½çš„ skill æ”¯æŒå¤šå¹³å°ï¼Œä¾‹å¦‚ Claude Codeã€Cursorã€GitHub Copilot ç­‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6681e213495456c8b2a2c35887f49eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=wEASeBr6zrra7Ctc%2F4tjyVJK05Y%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>å®˜æ–¹å®‰è£…æ–¹æ¡ˆ</p>
<p>ä»¥ Claude Code ä¸ºä¾‹ï¼Œåœ¨ Claude Code ä¸­æä¾›äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µâ€”â€”pluginã€‚</p>
<p>æ’ä»¶ï¼ˆPluginï¼‰æ˜¯ Claude Code ä¸­æœ€é«˜çº§åˆ«çš„æ‰©å±•æœºåˆ¶ï¼Œç”¨äºå°†commandã€agentã€Skillsã€hooksã€MCPã€LSP ç­‰èƒ½åŠ›<strong>æ‰“åŒ…ã€ç‰ˆæœ¬åŒ–ã€å…±äº«å’Œåˆ†å‘</strong>ã€‚</p>
<p>åœ¨ Claude Code ä¸­å¯ä»¥é€šè¿‡ /plugin å‘½ä»¤æ¥å®‰è£… pluginï¼Œä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">Anthropics å®˜æ–¹çš„ skills ä¸ºä¾‹</a>ï¼Œå®ƒæœ¬èº«æ˜¯ä¸€ä¸ª pluginï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff2b75cb00fa47bdb6e71bdd9115d253~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=qm7WRHeLvsEUVb0QVKhN3e%2BON0Q%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥å…ˆé€šè¿‡ <code>/plugin marketplace add anthropics/skills</code> è¿™è¡Œå‘½ä»¤å…ˆæ·»åŠ æ’ä»¶å¸‚åœºï¼Œç„¶åé€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹æ¡ˆä»æ’ä»¶ä¸­å®‰è£…å¯¹åº”çš„ skillsã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9a1bdc051ad4a728d73ab1ef95d03ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=jxm6O1Lqhv%2FT9NxleYmAuLPenEo%3D" alt="image.png" loading="lazy"/></p>
<p>ç°åœ¨ç¤¾åŒºå·²ç»æä¾›äº†å¯ä»¥æŸ¥çœ‹ github ä¸Šå¼€æºçš„ skill çš„ç½‘ç«™â€”â€” <a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com%2Fzh" target="_blank" title="https://skillsmp.com/zh" ref="nofollow noopener noreferrer">skillsmp.com</a>Â ï¼Œç›®å‰å·²ç»é›†æˆäº† <strong>80,948+</strong> ä¸ª skillã€‚</p>
</li>
</ul>
<h2 data-id="heading-5">Skill Creator</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯ agent skill åŠå…¶åŸç†ï¼Œä½†å¯¹äºä¸å°‘å¼€å‘è€…æ¥è¯´ï¼Œé¦–æ¬¡å¼€å‘ä¸€ä¸ªæ ‡å‡†çš„ skill ä¹Ÿæ˜¯æœ‰ä¸€å®šéš¾åº¦çš„ï¼Œå½“ç„¶ç°åœ¨ç¤¾åŒºå·²ç»æœ‰å¾ˆå¤šéå¸¸ä¼˜ç§€çš„å¼€æº skill å¯ä»¥å­¦ä¹ ã€‚</p>
<p>ä¸ºäº†é™ä½å¼€å‘ skill çš„æˆæœ¬ï¼Œå®˜æ–¹ä¸“é—¨æä¾›äº†ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ ‡å‡† skill çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Fblob%2Fmain%2Fskills%2Fskill-creator%2FSKILL.md" target="_blank" title="https://github.com/anthropics/skills/blob/main/skills/skill-creator/SKILL.md" ref="nofollow noopener noreferrer">skill</a>ï¼Œæ–‡æ¡£ä¸­è¯¦ç»†ä»‹ç»åˆ›å»º skill çš„å‡†åˆ™ä»¥åŠæ­¥éª¤ï¼Œå¤§æ¨¡å‹ä¼šæ ¹æ® <a href="https://link.juejin.cn?target=http%3A%2F%2FSKILL.md" target="_blank" title="http://SKILL.md" ref="nofollow noopener noreferrer">SKILL.md</a> ä¸­çš„è¦æ±‚ä¸€æ­¥æ­¥å¼•å¯¼å¼€å‘è€…å¹¶åˆ›å»º skillã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d0c75cd32734c20b28fcf0d22f8cf75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=Hd2TTKX7uxf7R2BVjVNXT%2FD05KU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">å®‰è£… skill-creator</h3>
<pre><code class="hljs language-jsx" lang="jsx">npx skills add <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/anthropics/skills --skill skill-creator</span>
</code></pre>
<p>ä½¿ç”¨ skills å‘½ä»¤è¡Œå·¥å…·åœ¨å…¨å±€/é¡¹ç›®ä¸­å®‰è£… skillï¼Œå®‰è£…å®Œä¹‹åå¯ä»¥åœ¨ .claude/ ç›®å½•ä¸‹è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<h3 data-id="heading-7">åˆ›å»º skill</h3>
<p>ä¸‹é¢æˆ‘ä¼šä½¿ç”¨ Claude Code å®ç°ä¸€ä¸ª code review skill æ¥å­¦ä¹ æ•´ä¸ªåˆ›å»ºè¿‡ç¨‹ã€‚</p>
<ul>
<li>
<p>è¾“å…¥æŒ‡ä»¤åŠè¦æ±‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7e7f04154ef4670a409d6e13de01a8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=kznNgrbFTL6KWtMKnKRU%2BFkYmkQ%3D" alt="image.png" loading="lazy"/></p>
<p>Claude Code å‘ç°æœ‰ä¸€ä¸ª skill-creator çš„æŠ€èƒ½å¯ä»¥ä½¿ç”¨ï¼Œè¯¢é—®æˆ‘æ˜¯å¦ä½¿ç”¨ã€‚</p>
</li>
<li>
<p>éœ€æ±‚æè¿°</p>
<p>æ¥ä¸‹æ¥å¤§æ¨¡å‹ä¼šè¯»å– skill-creator å¹¶æŒ‰ç…§è¦æ±‚æ¥å¼•å¯¼ç”¨æˆ·è¿›è¡Œä¿¡æ¯è¡¥å……ï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§æç¤ºä¸€æ­¥æ­¥è¿›è¡Œä¿¡æ¯è¡¥å……ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cc1905e509241878a02fb03e2af903a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=0qK5I1e8Fd2%2FAhwoU2XcDM5uSAQ%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢æ˜¯ç”Ÿæˆå®Œçš„ SKILL.mdï¼Œæ•´ä½“æ•ˆæœè¿˜æ˜¯éå¸¸å¥½çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e77c57fb5c44f38ad5b7be7e0961ddd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=U%2BepeE4IyaXYaXPoTyD7ip2CNpw%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>è°ƒæ•´skill</p>
<p>åŸºäºç”Ÿæˆçš„ skill è¿›è¡Œè°ƒæ•´ï¼Œä¾‹å¦‚è¡¥å…… scriptã€references ç­‰ï¼Œä¾‹å¦‚åœ¨å®¡æŸ¥èŒƒå›´ä¸­åªåˆ—ä¸¾äº†éœ€è¦å®¡æŸ¥çš„ç‚¹ï¼Œç¼ºå°‘ä»£ç ç¤ºä¾‹ä»¥åŠèƒŒæ™¯çŸ¥è¯†ä»‹ç»ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b25d018b0c374badb2016545d22d1682~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KW_6Zm1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769950809&amp;x-signature=3Yn7CqC%2F8iX4etzyrDAhXgvd5w8%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯”å¦‚çº¢æ¡†ä¸­å…‰è¯´ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œä½†æ˜¯å´ä¸å‘Šè¯‰å¤§æ¨¡å‹ React çš„æ¸²æŸ“æœºåˆ¶ï¼Œä¸æä¾›é‡æ¸²æŸ“çš„ä¼˜åŒ–ç­–ç•¥å’Œç¤ºä¾‹ï¼Œæœ€ç»ˆçš„å¤§æ¨¡å‹å¯èƒ½å°±è‡ªè¡Œå‘æŒ¥ï¼Œåç¦»é¢„æœŸã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸€ä¸ªå®¡æŸ¥ç‚¹æä¾›ä¸€ä¸ªå…·ä½“çš„ <a href="https://link.juejin.cn?target=http%3A%2F%2Freference.md" target="_blank" title="http://reference.md" ref="nofollow noopener noreferrer">reference.md</a> æ–‡ä»¶ï¼ŒåŒ…å«ç›¸å…³èƒŒæ™¯çŸ¥è¯†ã€é”™è¯¯ç¤ºä¾‹å’Œæ­£ç¡®ç¤ºä¾‹ç­‰ï¼Œä¸‹é¢æ˜¯æˆ‘ç®€åŒ–åçš„ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">---
<span class="hljs-attr">name</span>: react-code-review
<span class="hljs-attr">description</span>: å…¨é¢çš„<span class="hljs-title class_">React</span>ä»£ç å®¡æŸ¥å·¥å…·ï¼Œä¸»è¦æ£€æŸ¥reactçš„æœ€ä½³å®è·µã€‚å½“ç”¨æˆ·éœ€è¦å®¡æŸ¥<span class="hljs-title class_">React</span>ä»£ç æ–‡ä»¶æˆ–ä»£ç ç‰‡æ®µæ—¶ä½¿ç”¨ï¼Œæä¾›å…·ä½“çš„æ”¹è¿›å»ºè®®å’Œä»£ç ç¤ºä¾‹ã€‚
---

# <span class="hljs-title class_">React</span>ä»£ç å®¡æŸ¥

## æ¦‚è¿°

è¿™ä¸ªskillç”¨äºå¯¹<span class="hljs-title class_">React</span>ä»£ç è¿›è¡Œå…¨é¢çš„å®¡æŸ¥ï¼Œä¸»è¦æ£€æŸ¥reactçš„æœ€ä½³å®è·µï¼Œå®¡æŸ¥ç»“æœåŒ…å«å…·ä½“çš„ä»£ç ç¤ºä¾‹å’Œæ”¹è¿›å»ºè®®ã€‚

## å¿«é€Ÿå¼€å§‹

### å®¡æŸ¥æµç¨‹

<span class="hljs-number">1.</span> **è·å–ä»£ç ** - ç”¨æˆ·æä¾›è¦å®¡æŸ¥çš„<span class="hljs-title class_">React</span>ä»£ç æ–‡ä»¶è·¯å¾„æˆ–ä»£ç ç‰‡æ®µ
<span class="hljs-number">2.</span> **å¤šç»´åº¦åˆ†æ** - æŒ‰ç…§å®¡æŸ¥æ£€æŸ¥æ¸…å•è¿›è¡Œå…¨é¢åˆ†æ
<span class="hljs-number">3.</span> **ä¼˜åŒ–ä»£ç ** - æ ¹æ®ä¿®æ”¹æ„è§ä¼˜åŒ–ä»£ç 

### åŸºæœ¬å®¡æŸ¥å‘½ä»¤

ç”¨æˆ·è¯·æ±‚å®¡æŸ¥æ—¶é€šå¸¸çš„è¡¨è¿°æ–¹å¼ï¼š
- <span class="hljs-string">"å¸®æˆ‘å®¡æŸ¥è¿™ä¸ªReactç»„ä»¶ï¼š`src/components/Header.tsx`"</span>
- <span class="hljs-string">"è¯·å¯¹è¿™æ®µReactä»£ç è¿›è¡Œ code review"</span>

## å®¡æŸ¥èŒƒå›´

å®Œæ•´çš„ä»£ç å®¡æŸ¥æ¶µç›–ä»¥ä¸‹<span class="hljs-number">5</span>ä¸ªæ–¹é¢ï¼š

- æ¡ä»¶æ¸²æŸ“
- <span class="hljs-title class_">Effect</span>ä¾èµ–
- çŠ¶æ€æ›´æ–°
- çŠ¶æ€åˆå§‹åŒ–
- useMemoæ»¥ç”¨

## ä½¿ç”¨å»ºè®®

<span class="hljs-number">1.</span> **å‡†å¤‡ä»£ç ** - ç¡®ä¿æä¾›çš„ä»£ç æ–‡ä»¶å¯ä»¥è¢«è®¿é—®
<span class="hljs-number">2.</span> **æ˜ç¡®ç›®æ ‡** - å¦‚éœ€é‡ç‚¹å®¡æŸ¥æŸä¸ªæ–¹é¢ï¼Œå¯ä»¥ç‰¹åˆ«è¯´æ˜
<span class="hljs-number">3.</span> **ä¸Šä¸‹æ–‡ä¿¡æ¯** - æä¾›é¡¹ç›®ç›¸å…³çš„èƒŒæ™¯ä¿¡æ¯ï¼ˆæ¡†æ¶ç‰ˆæœ¬ã€è§„èŒƒç­‰ï¼‰
<span class="hljs-number">4.</span> **åå¤è¿­ä»£** - æ ¹æ®å»ºè®®è¿›è¡Œæ”¹è¿›ï¼Œå¯å†æ¬¡å®¡æŸ¥

## é™åˆ¶å’Œæ³¨æ„

- å®¡æŸ¥åŸºäºä»£ç é™æ€åˆ†æï¼Œä¸èƒ½æ£€æµ‹è¿è¡Œæ—¶çš„æ‰€æœ‰é—®é¢˜
- æŸäº›æ€§èƒ½é—®é¢˜éœ€è¦å®é™…æµ‹è¯•æ‰èƒ½ç¡®è®¤
- å¯¹äºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå»ºè®®é…åˆå•å…ƒæµ‹è¯•

## èµ„æºæ–‡ä»¶

æ­¤skillåŒ…å«ä»¥ä¸‹å‚è€ƒèµ„æºæ–‡ä»¶ï¼š

### references/
- **[æ¡ä»¶æ¸²æŸ“](references/rendering-conditional-render.<span class="hljs-property">md</span>)** - åœ¨reactä¸­ä½¿ç”¨æ¡ä»¶æ¸²æŸ“çš„æœ€ä½³å®è·µ
- **[<span class="hljs-title class_">Effect</span>ä¾èµ–](references/rerender-dependencies.<span class="hljs-property">md</span>)** - å¡«å†™useEffectä¾èµ–çš„æœ€ä½³å®è·µ
- **[çŠ¶æ€æ›´æ–°](references/rerender-functional-setstate.<span class="hljs-property">md</span>)** - åœ¨reactä¸­æ›´æ–°çŠ¶æ€çš„æœ€ä½³å®è·µ
- **[çŠ¶æ€åˆå§‹åŒ–](references/rerender-lazy-state-init.<span class="hljs-property">md</span>)** - åœ¨reactä¸­åˆå§‹åŒ–çŠ¶æ€çš„æœ€ä½³å®è·µ
- **[useMemoæ»¥ç”¨](references/rerender-simple-expression-<span class="hljs-keyword">in</span>-memo.<span class="hljs-property">md</span>)** - æ»¥ç”¨useMemoçš„åœºæ™¯ä»‹ç»
</code></pre>
<p>react æœ€ä½³å®è·µçš„åŸåˆ™å¯ä»¥å‚è€ƒ vercel å¼€æºçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fagent-skills" target="_blank" title="https://github.com/vercel-labs/agent-skills" ref="nofollow noopener noreferrer">skill</a>ã€‚</p>
</li>
</ul>
<h2 data-id="heading-8">Skill VS æç¤ºè¯</h2>
<p>å¾ˆå¤šäººå†™å®Œ skill å¯èƒ½ä¼šè§‰å¾—å’Œå†™æç¤ºè¯å¹¶æ²¡æœ‰ä»€åŒºåˆ«ï¼Œskill ä¸å°±æ˜¯ä¸€æ®µå¾ˆé•¿çš„æç¤ºè¯å—ï¼Ÿè¿™ä¸ªç†è§£å¯¹äº†ä¸€åŠã€‚<a href="https://link.juejin.cn?target=http%3A%2F%2Fskill.md%2F" target="_blank" title="http://skill.md/" ref="nofollow noopener noreferrer">SKILL.md</a> çš„æ ¸å¿ƒç¡®å®æ˜¯æŒ‡ä»¤æ–‡æœ¬ï¼Œä½† skill å´è¿œä¸æ­¢å¦‚æ­¤ï¼Œä¸‹é¢åˆ—ä¸¾äº† skill ç›¸æ¯”æç¤ºè¯çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚</p>
<ul>
<li>
<p>å¯å¤ç”¨</p>
<p>skill å†™ä¸€æ¬¡ä¹‹åï¼Œåç»­ Agent ä¼šè‡ªåŠ¨åŠ è½½ï¼Œä¸éœ€è¦é‡å¤çš„å¤åˆ¶é»è´´ã€‚</p>
</li>
<li>
<p>å¯æ¸è¿›åŠ è½½</p>
<p>Skill çš„æŒ‡ä»¤æ–‡æœ¬å’Œé™„å¸¦çš„èµ„æºæ–‡ä»¶ä¸ä¼šä¸€æ¬¡æ€§å…¨éƒ¨å‘é€ç»™å¤§æ¨¡å‹ï¼Œè€Œæ˜¯ä¼šæ ¹æ®éœ€æ±‚æ¸è¿›åŠ è½½ï¼Œè€Œæç¤ºè¯ä¸ç®¡å†æ€ä¹ˆç»„ç»‡ï¼Œå‘ç»™å¤§æ¨¡å‹çš„å°±æ˜¯å…¨éƒ¨å†…å®¹ï¼Œä¼šå ç”¨å¤§é‡çš„ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p>é¢å‘ Agent</p>
<p>Skill çš„å…¨åæ˜¯ Agent Skillï¼Œå³å®ƒé¢å‘çš„æ˜¯ Agentï¼Œè€Œéæ™®é€šçš„ ChatBotã€‚å› ä¸º Agent æ˜¯å…·å¤‡å·¥å…·è°ƒç”¨çš„èƒ½åŠ›ã€‚</p>
</li>
</ul>
<h2 data-id="heading-9">ä»€ä¹ˆæ—¶å€™éœ€è¦å°è£… Skillï¼Ÿ</h2>
<p>åœ¨å­¦ä¹ å’Œå¼•å…¥æ–°æŠ€æœ¯æ—¶ï¼Œæœ€å¸¸è§çš„è¯¯åŒºæ˜¯â€œæ‹¿ç€é”¤å­æ‰¾é’‰å­â€â€”â€”ä¸ºäº†ä½¿ç”¨æŸä¸ªæŠ€æœ¯è€Œå¼ºè¡Œå¥—ç”¨åœºæ™¯ã€‚ä»»ä½•æŠ€æœ¯éƒ½åªæœ‰åœ¨<strong>åˆé€‚çš„æŠ½è±¡å±‚çº§å’Œè¾¹ç•Œå†…ä½¿ç”¨</strong>ï¼Œæ‰èƒ½æœ€å¤§åŒ–å…¶ä»·å€¼ï¼Œå¦åˆ™åªä¼šå¼•å…¥ä¸å¿…è¦çš„å¤æ‚åº¦ã€‚</p>
<p>å¯¹ Agent Skill ä¹Ÿæ˜¯åŒæ ·çš„åŸåˆ™ã€‚Skill çš„æœ¬è´¨å¹¶ä¸æ˜¯â€œæŠŠèƒ½åŠ›éƒ½åŒ…ä¸€å±‚â€ï¼Œè€Œæ˜¯ç”¨äº<strong>è¡¥é½ Agent è‡ªèº«ä¸å…·å¤‡ã€ä½†åˆé«˜é¢‘å¤ç”¨çš„èƒ½åŠ›æ¨¡å—</strong>ã€‚å®ƒæ›´åƒæ˜¯ä¸€ä¸ªèƒ½åŠ›æ’ä»¶ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡é€»è¾‘çš„ç®€å•å°è£…ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå°† code review å°è£…ä¸ºä¸€ä¸ª Skill æ˜¯åˆç†çš„ï¼Œå› ä¸ºå®ƒå…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>Agent åŸç”Ÿèƒ½åŠ›ä¸è¶³ä»¥ç¨³å®šè¦†ç›–è¯¥ä»»åŠ¡ï¼Œä»£ç é£æ ¼æ²¡æœ‰ä¸€ä¸ªå¾ˆä¸¥æ ¼çš„æ ‡å‡†ã€‚</li>
<li>code review æ˜¯å¼€å‘è€…æ¯å¤©é‡å¤è¦åšä¸”éå¸¸é‡è¦ä»»åŠ¡ã€‚</li>
</ul>
<p>åè¿‡æ¥ï¼Œå¦‚æœæŸä¸ªèƒ½åŠ› Agent å·²ç»å¯ä»¥é€šè¿‡ Prompt æˆ–ä¸Šä¸‹æ–‡ç¨³å®šå®Œæˆï¼Œé‚£ä¹ˆå†é¢å¤–å°è£…æˆ Skillï¼Œå¾€å¾€åªä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ï¼ˆé…ç½®æˆæœ¬ã€è°ƒç”¨æˆæœ¬ã€ç»´æŠ¤æˆæœ¬ï¼‰ï¼Œå´æ— æ³•å¸¦æ¥å®è´¨æ€§çš„èƒ½åŠ›å¢ç›Šã€‚</p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>Agent Skills çš„å‡ºç°ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†è§£å†³é€šç”¨ Agent åœ¨ä¸“ä¸šé¢†åŸŸä¸­çš„èƒ½åŠ›ä¸è¶³é—®é¢˜ã€‚å°†äººçš„æµç¨‹ç»éªŒã€å·¥å…·ä½¿ç”¨æ–¹å¼å’Œé¢†åŸŸçŸ¥è¯†å°è£…ä¸ºå¯å¤ç”¨ã€å¯ç»„åˆçš„èƒ½åŠ›æ¨¡å—ï¼Œä½¿ Agent èƒ½å¤Ÿä»¥æ›´ä½çš„ä¸Šä¸‹æ–‡æˆæœ¬æ‰§è¡Œä¸“ä¸šä»»åŠ¡ã€‚</p>
<p>ä½† Skill å¹¶ä¸é€‚åˆè¢«æ»¥ç”¨ï¼Œå®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äºè¡¥é½èƒ½åŠ›ç¼ºå£ï¼Œè€Œä¸æ˜¯åŒ…è£…å·²æœ‰èƒ½åŠ›ã€‚å½“æŸé¡¹ä»»åŠ¡å·²ç»å¯ä»¥é€šè¿‡ä¸Šä¸‹æ–‡å’ŒæŒ‡ä»¤ç¨³å®šå®Œæˆæ—¶ï¼Œå¼•å…¥ Skill å¾€å¾€åªä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ï¼Œå´æ— æ³•å¸¦æ¥å®é™…æ”¶ç›Šã€‚çœŸæ­£å€¼å¾—å°è£…çš„ï¼Œåº”å½“æ˜¯é«˜é¢‘ã€ç»“æ„åŒ–ã€å¼ºä¾èµ–ä¸“ä¸šçŸ¥è¯†ä¸”å…·æœ‰é•¿æœŸå¤ç”¨ä»·å€¼çš„èƒ½åŠ›ï¼Œå¦åˆ™ Skill æœ¬èº«å°±ä¼šæˆä¸ºæ–°çš„æŠ€æœ¯è´Ÿæ‹…ã€‚</p>
<h2 data-id="heading-11">å‚è€ƒèµ„æ–™</h2>
<ul>
<li>skill å®˜æ–¹è§£è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">www.anthropic.com/engineeringâ€¦</a></li>
<li>Anthropic å®˜æ–¹ Skills ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li>Vercel <em>Agent Skillsï¼š</em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel-labs%2Fagent-skills" target="_blank" title="https://github.com/vercel-labs/agent-skills" ref="nofollow noopener noreferrer">github.com/vercel-labsâ€¦</a></li>
<li><em>Prompt Engineering Patterns Skillï¼š</em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwshobson%2Fagents%2Ftree%2Fmain%2Fplugins%2Fllm-application-dev%2Fskills%2Fprompt-engineering-patterns" target="_blank" title="https://github.com/wshobson/agents/tree/main/plugins/llm-application-dev/skills/prompt-engineering-patterns" ref="nofollow noopener noreferrer">github.com/wshobson/agâ€¦</a></li>
<li>Skills è„šæ‰‹æ¶ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh%2F" target="_blank" title="https://skills.sh/" ref="nofollow noopener noreferrer">skills.sh</a></li>
<li>Skills å¹¿åœºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com%2F" target="_blank" title="https://skillsmp.com/" ref="nofollow noopener noreferrer">skillsmp.com</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin åç¨‹-è¿›é˜¶ç¯‡]]></title>    <link>https://juejin.cn/post/7598807837867868186</link>    <guid>https://juejin.cn/post/7598807837867868186</guid>    <pubDate>2026-01-25T13:03:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598807837867868186" data-draft-id="7596865421611663414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin åç¨‹-è¿›é˜¶ç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-25T13:03:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jony_"/> <meta itemprop="url" content="https://juejin.cn/user/3403743732709767"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin åç¨‹-è¿›é˜¶ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743732709767/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jony_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T13:03:08.000Z" title="Sun Jan 25 2026 13:03:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä¸€ã€åç¨‹å¼‚å¸¸</h2>
<h3 data-id="heading-1">1. é˜»æ–­åç¨‹å¼‚å¸¸ä¼ æ’­</h3>
<p>åç¨‹çš„å¼‚å¸¸æ˜¯å¯ä»¥ä¼ æ’­çš„ï¼Œå­åç¨‹çš„å¼‚å¸¸ä¼šä¼ é€’ç»™çˆ¶åç¨‹ï¼Œçˆ¶åç¨‹å‡ºç°å¼‚å¸¸ï¼Œåˆ™ä¼šå–æ¶ˆå…¶å®ƒçš„å­åç¨‹ã€‚</p>
<p>SupervisorJob å¯ä»¥ç”¨æ¥é˜»æ­¢åç¨‹å‘çˆ¶åç¨‹ä»¥åŠå…„å¼Ÿåç¨‹ä¼ æ’­ï¼Œå…ˆæ¥çœ‹ä½¿ç”¨ Job åˆ›å»ºçš„åç¨‹ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    runBlocking {
        <span class="hljs-keyword">val</span> scope = CoroutineScope(Job())
        <span class="hljs-keyword">val</span> job1 = scope.async(Dispatchers.IO) {
            println(<span class="hljs-string">"job1"</span>)
            delay(<span class="hljs-number">1000</span>)
            error(<span class="hljs-string">"å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼"</span>)
        }
        <span class="hljs-keyword">val</span> job2 = scope.async(Dispatchers.IO) {
            delay(<span class="hljs-number">2000</span>)
            println(<span class="hljs-string">"job2"</span>)
        }
        job2.await()
        job1.await()
    }
}

è¾“å‡ºå¦‚ä¸‹ï¼š
job1
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">"main"</span> kotlinx.coroutines.JobCancellationException: Parent job <span class="hljs-keyword">is</span> Cancelling; job=JobImpl{Cancelled}@376b4233
Caused <span class="hljs-keyword">by</span>: java.lang.IllegalStateException: å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼
</code></pre>
<p>è¾“å‡ºç¬¦åˆé¢„æœŸï¼Œjob2 æ²¡æœ‰è¾“å‡ºã€‚åœ¨åˆ›å»º CoroutineScope çš„æ—¶å€™ï¼ŒæŒ‡å®šå®ƒçš„ Job ä¸º <strong>SupervisorJob</strong>ï¼Œ job2 å°±èƒ½å¤Ÿæ­£å¸¸è¾“å‡ºã€‚</p>
<p>é‚£ä¹ˆè¯·çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    runBlocking {
        <span class="hljs-keyword">val</span> scope = CoroutineScope(SupervisorJob())
        scope.launch {
            <span class="hljs-keyword">val</span> job1 = async(Dispatchers.IO) {
                println(<span class="hljs-string">"job1"</span>)
                delay(<span class="hljs-number">1000</span>)
                error(<span class="hljs-string">"å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼"</span>)
            }
            <span class="hljs-keyword">val</span> job2 = async(Dispatchers.IO) {
                delay(<span class="hljs-number">2000</span>)
                println(<span class="hljs-string">"job2"</span>)
            }
            job2.await()
            job1.await()
        }.join()
    }
}

è¾“å‡ºå¦‚ä¸‹ï¼š
job1 
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">"main"</span> kotlinx.coroutines.JobCancellationException: Parent job <span class="hljs-keyword">is</span> Cancelling; job=JobImpl{Cancelled}@376b4233
Caused <span class="hljs-keyword">by</span>: java.lang.IllegalStateException: å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼
</code></pre>
<p>åœ¨ scope.launch çš„åç¨‹ä¸­ï¼Œé€šè¿‡ async çš„æ–¹å¼åˆ›å»ºäº†å­åç¨‹ï¼Œå­åç¨‹æŠ›å‡ºçš„å¼‚å¸¸è¿˜æ˜¯è¢«ä¼ é€’åˆ°äº†çˆ¶åç¨‹ï¼Œä»è€Œå¯¼è‡´çˆ¶åç¨‹å–æ¶ˆäº†æ‰€æœ‰çš„å­åç¨‹ã€‚</p>
<p>æ¥ä¸‹æ¥çœ‹ <strong>supervisorScope</strong> ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> scope = CoroutineScope(Job())
    scope.launch {
        supervisorScope {
            <span class="hljs-keyword">val</span> job1 = async(Dispatchers.IO) {
                println(<span class="hljs-string">"job1"</span>)
                delay(<span class="hljs-number">1000</span>)
                error(<span class="hljs-string">"å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼"</span>)
            }
            <span class="hljs-keyword">val</span> job2 = async(Dispatchers.IO) {
                delay(<span class="hljs-number">2000</span>)
                println(<span class="hljs-string">"job2"</span>)
            }
            job2.await()
            job1.await()
        }
    }.join()
}

è¾“å‡ºå¦‚ä¸‹ï¼š
job1
job2
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">"DefaultDispatcher-worker-1"</span> java.lang.IllegalStateException: å‘ç”Ÿé”™è¯¯ï¼ï¼ï¼ï¼
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå­åç¨‹æŠ›å‡ºçš„å¼‚å¸¸åœ¨ <strong>supervisorScope</strong> ä¸­å¹¶æ²¡æœ‰å½±å“åˆ°å…¶å®ƒçš„å­åç¨‹ã€‚å…³äºå’Œ <strong>SupervisorJob</strong> çš„åŒºåˆ«ï¼Œå¦‚ä¸‹ï¼š<strong>[é‡è¦]</strong></p>
<ol>
<li>
<p><strong>SupervisorJob</strong> ä½œç”¨äºä½œç”¨åŸŸæ—¶ï¼Œè¯¥ä½œç”¨åŸŸä¸‹çš„æ‰€æœ‰åç¨‹äº’ä¸å½±å“ã€‚åç¨‹ä½“å†…éƒ¨çš„å­åç¨‹æŠ›å‡ºçš„å¼‚å¸¸ä¼šç›¸äº’å½±å“ <strong>ï¼ˆè¿™æ˜¯ç”±äºå­åç¨‹åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šé‡æ–°åˆ›å»ºä¸€ä¸ª Jobï¼Œä¼šè¦†ç›–çˆ¶åç¨‹çš„ SupervisorJobï¼‰</strong></p>
</li>
<li>
<p><strong>SupervisorJob</strong> ä½œç”¨äºåç¨‹æ—¶ï¼Œè¯¥åç¨‹åŠå…¶æ‰€æœ‰çš„å­åç¨‹æŠ›å‡ºçš„å¼‚å¸¸éœ€è¦è‡ªå·±å¤„ç†ï¼Œä¸ä¼šå½±å“åˆ°å…¶å®ƒçš„åç¨‹</p>
</li>
<li>
<p><strong>supervisorScope</strong> ä½œç”¨åŸŸå†…æ‰€æœ‰çš„å­åç¨‹éƒ½ä¸ä¼šç›¸äº’å½±å“</p>
</li>
</ol>
<h3 data-id="heading-2">2. ä¼˜é›…æ•è·å¼‚å¸¸</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> scope = CoroutineScope(SupervisorJob())
    scope.launch {
        <span class="hljs-keyword">val</span> job1 = async(SupervisorJob()) {
            println(<span class="hljs-string">"job1"</span>)
            delay(<span class="hljs-number">1000</span>)
            error(<span class="hljs-string">"é”™è¯¯ï¼ï¼ï¼ï¼"</span>)
        }
        <span class="hljs-keyword">val</span> job2 = async {
            delay(<span class="hljs-number">2000</span>)
            println(<span class="hljs-string">"job2"</span>)
        }
        job2.await()
        job1.await()
    }.join()
}

è¾“å‡ºå¦‚ä¸‹ï¼š
job1
job2
Exception <span class="hljs-keyword">in</span> thread <span class="hljs-string">"DefaultDispatcher-worker-1"</span> java.lang.IllegalStateException: é”™è¯¯ï¼ï¼ï¼ï¼
</code></pre>
<p>Job1 æŒ‡å®šäº† <strong>SupervisorJob</strong>ï¼Œå› æ­¤ Job2 èƒ½å¤Ÿæ­£å¸¸è¾“å‡ºã€‚ä½†æ˜¯ Job1 ä¹ŸæŠ›å‡ºäº†å¼‚å¸¸ï¼Œä»ç„¶ä¼šå¯¼è‡´åº”ç”¨ç¨‹åº Crashã€‚</p>
<p>æ•è·åç¨‹çš„ Crash å¯ä»¥é€šè¿‡ <strong>try/catch</strong> æœºåˆ¶æˆ–è€…æŒ‡å®š <strong>CoroutineExceptionHandler</strong>ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> handler = CoroutineExceptionHandler { coroutineContext, throwable -&gt;
        println(<span class="hljs-string">"CoroutineExceptionHandler is handler"</span>)
    }
    <span class="hljs-keyword">val</span> scope = CoroutineScope(SupervisorJob() + handler)
    scope.launch {
        <span class="hljs-keyword">val</span> job1 = async(SupervisorJob()) {
            println(<span class="hljs-string">"job1"</span>)
            delay(<span class="hljs-number">1000</span>)
            error(<span class="hljs-string">"é”™è¯¯ï¼ï¼ï¼ï¼"</span>)
        }
        <span class="hljs-keyword">val</span> job2 = async {
            delay(<span class="hljs-number">2000</span>)
            println(<span class="hljs-string">"job2"</span>)
        }
        job2.await()
        job1.await()
    }.join()
}

è¾“å‡ºå¦‚ä¸‹ï¼š
job1
job2
CoroutineExceptionHandler <span class="hljs-keyword">is</span> handler
</code></pre>
<p>å¯¹äºåç¨‹çš„å¼‚å¸¸å¤„ç†çš„æ•è·ï¼Œæ€»ç»“å¦‚ä¸‹ï¼š</p>
<ol>
<li>CoroutineExceptionHandler é€‚ç”¨äº <strong>launch</strong> æ„å»ºçš„åç¨‹</li>
<li>CoroutineExceptionHandler ä½œç”¨äº <strong>CoroutineScope</strong> ä¸­ï¼Œæˆ–è€…<strong>æ ¹åç¨‹</strong></li>
<li><strong>try / catch</strong> åªèƒ½æ•è·å½“å‰åç¨‹åœ¨å½“å‰è°ƒç”¨ç‚¹æŠ›å‡ºçš„å¼‚å¸¸</li>
</ol>
<h2 data-id="heading-3">äºŒã€åç¨‹ä½œç”¨åŸŸç†è§£</h2>
<p>å¯¹äºåç¨‹ä½œç”¨åŸŸçš„ç†è§£ï¼Œå°±éœ€è¦ç†è§£åç¨‹çš„å·¥ä½œåŸç†ã€‚æ•´ä½“ä¸Šæ¥è¯´ï¼Œåœ¨ JVM æˆ–è€… Android ART è™šæ‹Ÿæœºçš„èƒŒæ™¯ä¸‹ï¼Œåç¨‹å¹¶ä¸æ˜¯ä»€ä¹ˆè½»é‡çº§çš„çº¿ç¨‹ï¼Œé‚£ Kotlin åç¨‹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>Kotlin å€ŸåŠ© <strong>æœ‰é™çŠ¶æ€æœº</strong> å’Œ <strong><code>Continuation</code></strong>ï¼Œå®ç°æŒ‚èµ·å’Œæ¢å¤çš„èƒ½åŠ›ï¼ŒæŠŠå¼‚æ­¥çš„è°ƒç”¨è½¬æ¢æˆåŒæ­¥çš„å†™æ³•ã€‚æœ¬è´¨ä¸Šå®ƒæ˜¯ Kotlin å›¢é˜Ÿä¸ºæˆ‘ä»¬å°è£…çš„çº¿ç¨‹è°ƒåº¦æ¡†æ¶ã€‚</p>
<h3 data-id="heading-4">1. åç¨‹çŠ¶æ€æœº</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.IO)
    scope.launch {
        suspendFunction()
    }
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">suspendFunction</span><span class="hljs-params">()</span></span> {
    delay(<span class="hljs-number">1000</span>)
}
</code></pre>
<p>åŸºäºä¸Šé¢çš„ Kotlin ä»£ç ï¼Œåç¼–è¯‘æˆ Java ä»£ç ä¹‹åï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AKt</span> {
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
      <span class="hljs-type">CoroutineScope</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> CoroutineScopeKt.CoroutineScope((CoroutineContext)Dispatchers.getIO());
      BuildersKt.launch$<span class="hljs-keyword">default</span>(scope, (CoroutineContext)<span class="hljs-literal">null</span>, (CoroutineStart)<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function2</span>((Continuation)<span class="hljs-literal">null</span>) {
         <span class="hljs-type">int</span> label;

         <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">invokeSuspend</span><span class="hljs-params">(Object $result)</span> {
            <span class="hljs-type">Object</span> <span class="hljs-variable">var2</span> <span class="hljs-operator">=</span> IntrinsicsKt.getCOROUTINE_SUSPENDED();
            <span class="hljs-keyword">switch</span> (<span class="hljs-built_in">this</span>.label) {
               <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                  ResultKt.throwOnFailure($result);
                  <span class="hljs-type">Continuation</span> <span class="hljs-variable">var10000</span> <span class="hljs-operator">=</span> (Continuation)<span class="hljs-built_in">this</span>;
                  <span class="hljs-built_in">this</span>.label = <span class="hljs-number">1</span>;
                  <span class="hljs-keyword">if</span> (AKt.suspendFunction(var10000) == var2) {
                     <span class="hljs-keyword">return</span> var2;
                  }
                  <span class="hljs-keyword">break</span>;
               <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                  ResultKt.throwOnFailure($result);
                  <span class="hljs-keyword">break</span>;
               <span class="hljs-keyword">default</span>:
                  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"call to 'resume' before 'invoke' with coroutine"</span>);
            }

            <span class="hljs-keyword">return</span> Unit.INSTANCE;
         }

         <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Continuation <span class="hljs-title function_">create</span><span class="hljs-params">(Object value, Continuation $completion)</span> {
            <span class="hljs-keyword">return</span> (Continuation)(<span class="hljs-keyword">new</span> &lt;anonymous constructor&gt;($completion));
         }

         <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(CoroutineScope p1, Continuation p2)</span> {
            <span class="hljs-keyword">return</span> ((&lt;undefinedtype&gt;)<span class="hljs-built_in">this</span>.create(p1, p2)).invokeSuspend(Unit.INSTANCE);
         }

         <span class="hljs-comment">// $FF: synthetic method</span>
         <span class="hljs-comment">// $FF: bridge method</span>
         <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object p1, Object p2)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.invoke((CoroutineScope)p1, (Continuation)p2);
         }
      }, <span class="hljs-number">3</span>, (Object)<span class="hljs-literal">null</span>);
   }

   <span class="hljs-meta">@Nullable</span>
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">suspendFunction</span><span class="hljs-params">(<span class="hljs-meta">@NotNull</span> Continuation $completion)</span> {
      <span class="hljs-type">Object</span> <span class="hljs-variable">var10000</span> <span class="hljs-operator">=</span> DelayKt.delay(<span class="hljs-number">1000L</span>, $completion);
      <span class="hljs-keyword">return</span> var10000 == IntrinsicsKt.getCOROUTINE_SUSPENDED() ? var10000 : Unit.INSTANCE;
   }

   <span class="hljs-comment">// $FF: synthetic method</span>
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
      main();
   }
}
</code></pre>
<p>é‡ç‚¹æ¥çœ‹åç¨‹çŠ¶æ€æœºï¼Œç®€åŒ–åä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Function2</span>((Continuation)<span class="hljs-literal">null</span>) {
    <span class="hljs-type">int</span> label;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">invokeSuspend</span><span class="hljs-params">(Object $result)</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">var2</span> <span class="hljs-operator">=</span> IntrinsicsKt.getCOROUTINE_SUSPENDED();
        <span class="hljs-keyword">switch</span> (<span class="hljs-built_in">this</span>.label) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                ResultKt.throwOnFailure($result);
                <span class="hljs-type">Continuation</span> <span class="hljs-variable">var10000</span> <span class="hljs-operator">=</span> (Continuation)<span class="hljs-built_in">this</span>;
                <span class="hljs-built_in">this</span>.label = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">if</span> (suspendFunction(var10000) == var2) {
                    <span class="hljs-keyword">return</span> var2;
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                ResultKt.throwOnFailure($result);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"call to 'resume' before 'invoke' with coroutine"</span>);
        }
        <span class="hljs-keyword">return</span> Unit.INSTANCE;
    }
}
</code></pre>
<p>æ‰§è¡Œçš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æ—¶ label = 0ï¼Œè¿›å…¥åˆ†æ”¯åé‡ç½® label=1ï¼ˆæ¢å¤æ—¶è¿›å…¥åˆ†æ”¯ label = 1 çš„åˆ†æ”¯ï¼‰</li>
<li>éšåè°ƒç”¨ suspendFunction()ï¼Œå­˜åœ¨æŒ‚èµ·ç‚¹ï¼Œå‘½ä¸­åˆ¤æ–­é€»è¾‘åç›´æ¥ returnï¼ˆsuspendFunction(var10000) == var2ï¼‰</li>
<li>é‡‡ç”¨äº‹ä»¶å¾ªç¯ï¼Œè·å–åç¨‹çš„çŠ¶æ€ï¼ŒæŒ‚èµ·å‡½æ•°æ¢å¤åï¼Œè¿›å…¥ label = 1 çš„åˆ†æ”¯</li>
</ol>
<h3 data-id="heading-5">2. åç¨‹æŒ‚èµ·å’Œæ¢å¤</h3>
<p>æŒ‚èµ·å‡½æ•°å¿…é¡»åœ¨åç¨‹ä½œç”¨åŸŸæˆ–è€…å¦ä¸€ä¸ªæŒ‚èµ·å‡½æ•°ä¸­è°ƒç”¨ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>suspendFunction()</strong> è¿›è¡Œ Java åç¼–è¯‘ä¹‹åæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Object <span class="hljs-title function_">suspendFunction</span><span class="hljs-params">(<span class="hljs-meta">@NotNull</span> Continuation $completion)</span> {
   <span class="hljs-type">Object</span> <span class="hljs-variable">var10000</span> <span class="hljs-operator">=</span> DelayKt.delay(<span class="hljs-number">1000L</span>, $completion);
   <span class="hljs-keyword">return</span> var10000 == IntrinsicsKt.getCOROUTINE_SUSPENDED() ? var10000 : Unit.INSTANCE;
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ°å‡½æ•°æ–°å¢åŠ äº†ä¸€ä¸ª <strong>Continuation</strong> ç±»å‹çš„å‚æ•°ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„ä¸€ä¸ªå‚æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>åç¨‹çš„æŒ‚èµ·å’Œæ¢å¤éƒ½ä¾èµ–è¿™ä¸ªå‚æ•°ï¼Œåç¨‹ä½“å†…éƒ¨çš„ä¸´æ—¶å˜é‡ï¼Œä»¥åŠä¸Šä¸‹æ–‡çš„å‚æ•°ï¼Œéƒ½ä¼šè¢«ä¿å­˜åœ¨ Continuation ä¸­ã€‚</p>
<p>å¦‚æœè¯´åç¨‹çš„çŠ¶æ€æµè½¬ä¾èµ–çŠ¶æ€æœºï¼Œé‚£ Continuation æŒ‚èµ·å’Œæ¢å¤çš„åŠ¨åŠ›ã€‚ä¸¤è€…å…±åŒä½œç”¨ï¼Œæ‰ä½¿å¾— Kotlin åç¨‹èƒ½å¤Ÿè¿è½¬ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€åç¨‹ä¸Šä¸‹æ–‡</h2>
<p>åœ¨ Kotlin åç¨‹ä¸­ï¼Œ<strong>CoroutineContext</strong> å®šä¹‰äº†åç¨‹çš„è°ƒåº¦æ–¹å¼ï¼Œå¼‚å¸¸å¤„ç†çš„èƒ½åŠ›ã€‚</p>
<p>åœ¨ Kotlin çš„åº•å±‚å®ç°ä¸­ï¼Œ<strong>CoroutineContext</strong> æ˜¯ä¸å¯å˜çš„é“¾è¡¨ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>key-value</strong> æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ã€‚ä¸‹é¢çœ‹ä¸€æ®µ <strong>CoroutineContext</strong> çš„æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">operator</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">plus</span><span class="hljs-params">(context: <span class="hljs-type">CoroutineContext</span>)</span></span>: CoroutineContext =
    <span class="hljs-comment">// 1. å¦‚æœæ˜¯ EmptyCoroutineContextï¼Œåˆ™ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (context === EmptyCoroutineContext) <span class="hljs-keyword">this</span> <span class="hljs-keyword">else</span> <span class="hljs-comment">// fast path -- avoid lambda creation</span>
        context.fold(<span class="hljs-keyword">this</span>) { acc, element -&gt;
            <span class="hljs-comment">// 2. åˆ é™¤é›†åˆä¸­å’Œå½“å‰ context é‡åçš„å€¼</span>
            <span class="hljs-keyword">val</span> removed = acc.minusKey(element.key)
            <span class="hljs-keyword">if</span> (removed === EmptyCoroutineContext) element <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// make sure interceptor is always last in the context (and thus is fast to get when present)</span>
                <span class="hljs-keyword">val</span> interceptor = removed[ContinuationInterceptor]
                <span class="hljs-comment">// 3. å¤„ç†æ‹¦æˆªå™¨ä¸ºç©ºçš„æƒ…å†µ</span>
                <span class="hljs-keyword">if</span> (interceptor == <span class="hljs-literal">null</span>) CombinedContext(removed, element) <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">val</span> left = removed.minusKey(ContinuationInterceptor)
                    <span class="hljs-comment">// 4.æ‹¦æˆªå™¨éœ€è¦å†æœ€åæ·»åŠ ï¼Œç¡®ä¿èƒ½å¤Ÿæ€§èƒ½</span>
                    <span class="hljs-keyword">if</span> (left === EmptyCoroutineContext) CombinedContext(element, interceptor) <span class="hljs-keyword">else</span>
                        CombinedContext(CombinedContext(left, element), interceptor)
                }
            }
        }
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‚æ•°ä»…100äº¿å´ç¡¬åˆšåƒäº¿å·¨å¤´ï¼šé˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bå‡­ä»€ä¹ˆå°ç¥ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598537739516854314</link>    <guid>https://juejin.cn/post/7598537739516854314</guid>    <pubDate>2026-01-25T11:03:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598537739516854314" data-draft-id="7598744870995378219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‚æ•°ä»…100äº¿å´ç¡¬åˆšåƒäº¿å·¨å¤´ï¼šé˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bå‡­ä»€ä¹ˆå°ç¥ï¼Ÿ"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-25T11:03:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‚æ•°ä»…100äº¿å´ç¡¬åˆšåƒäº¿å·¨å¤´ï¼šé˜¶è·ƒæ˜Ÿè¾°Step3-VL-10Bå‡­ä»€ä¹ˆå°ç¥ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T11:03:41.000Z" title="Sun Jan 25 2026 11:03:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼ŒAIåœˆæµè¡Œç€ä¸€ç§è¿‘ä¹è¿·ä¿¡çš„è§‚ç‚¹ï¼šå¤§åŠ›å‡ºå¥‡è¿¹ã€‚å‚æ•°é‡è¶Šå¤§ï¼Œæ¨¡å‹è¶Šå¼ºï¼Œè¿™ä¼¼ä¹æˆäº†ä¸å¯æ’¼åŠ¨çš„é“å¾‹ã€‚ç„¶è€Œï¼Œ2026å¹´å¼€å¹´ï¼Œé˜¶è·ƒæ˜Ÿè¾°ï¼ˆStepFunï¼‰ç”©å‡ºçš„ä¸€å¼ â€œç‹ç‚¸â€ï¼Œç‹ ç‹ åœ°ç»™è¿™ä¸ªè§‚ç‚¹ç¥›äº†é­…ã€‚</p>
<p>ä»–ä»¬åˆšåˆšå¼€æºçš„ <strong>Step3-VL-10B</strong>ï¼Œæ˜¯ä¸€ä¸ªä»…æœ‰100äº¿å‚æ•°çš„å¤šæ¨¡æ€æ¨¡å‹ã€‚åœ¨åŠ¨è¾„åƒäº¿ç”šè‡³ä¸‡äº¿å‚æ•°çš„å·¨å…½é¢å‰ï¼Œå®ƒæœ¬è¯¥æ˜¯ä¸ªä¸èµ·çœ¼çš„â€œå°å¼Ÿâ€ã€‚ä½†å®é™…æµ‹è¯„ç»“æœå´ä»¤äººç ç›®ç»“èˆŒï¼šè¿™ä¸ªâ€œå°é’¢ç‚®â€ä¸ä»…åœ¨å¤šé¡¹åŸºå‡†æµ‹è¯•ä¸­ç¢¾å‹äº†å‚æ•°è§„æ¨¡æ˜¯å…¶10å€ç”šè‡³20å€çš„å¯¹æ‰‹ï¼ˆå¦‚Qwen3-VL-235Bã€GLM-4.6Vï¼‰ï¼Œç”šè‡³åœ¨æŸäº›é«˜éš¾åº¦ç§‘ç›®ä¸Šï¼Œç›´æ¥å«æ¿GPT-4oå’ŒGemini 2.5 Proç­‰é¡¶æµé—­æºæ¨¡å‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasfsdsfg-1024x576.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asfsdsfg-1024x576.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/424b6e7462f04e39982772e1e1585eaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769943821&amp;x-signature=vWY6h39mBk1QuXXK4z3NhAQQ56I%3D" alt="asfsdsfg" loading="lazy"/></a></p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€æ¬¡æ€§èƒ½çš„æå‡ï¼Œæ›´åƒæ˜¯ä¸€åœºå…³äºâ€œè®¡ç®—æ•ˆç‡â€çš„é©å‘½ã€‚</p>
<p><strong>å½“å°æ¨¡å‹å¼€å§‹â€œæ€è€ƒâ€ï¼šæ•°æ®ä¸ä¼šæ’’è°</strong></p>
<p>è®©æˆ‘ä»¬å…ˆæŠ›å¼€æ™¦æ¶©çš„æŠ€æœ¯åè¯ï¼Œç›´æ¥çœ‹æˆ˜ç»©ã€‚</p>
<p>åœ¨ä»£è¡¨æ•°å­¦æ¨ç†å·…å³°çš„ <strong>AIME 2025</strong> ç«èµ›é¢˜æµ‹è¯•ä¸­ï¼ŒStep3-VL-10B æ‹¿ä¸‹äº† <strong>94.43%</strong> çš„æƒŠäººé«˜åˆ†ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œåå£°åœ¨å¤–çš„ GPT-4o åœ¨åŒç±»æµ‹è¯•ä¸­çš„è¡¨ç°çº¦ä¸º 88%ã€‚è¦çŸ¥é“ï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿåœ¨æ¶ˆè´¹çº§æ˜¾å¡ç”šè‡³é«˜ç«¯ç»ˆç«¯è®¾å¤‡ä¸Šè¿è¡Œçš„å°æ¨¡å‹ã€‚</p>
<p>åœ¨ç»¼åˆå¤šæ¨¡æ€ç†è§£ï¼ˆMMMUï¼‰ä¸Šï¼Œå®ƒå¾—åˆ† <strong>80.11%</strong>ï¼Œè¶…è¶Šäº†è°·æ­Œçš„ Gemini 2.5 Proï¼ˆ70-72%åŒºé—´ï¼‰ã€‚åœ¨ä»£ç èƒ½åŠ›ï¼ˆLiveCodeBenchï¼‰ä¸Šï¼Œå®ƒä»¥ <strong>76.43%</strong> çš„æˆç»©ï¼ŒæŠŠæ‹¥æœ‰1060äº¿å‚æ•°çš„ GLM-4.6Vï¼ˆ48.71%ï¼‰è¿œè¿œç”©åœ¨èº«åã€‚</p>
<p>è¿™äº›æ•°æ®ä¸ä»…åç›´è§‰ï¼Œç”šè‡³æœ‰ç‚¹â€œä¸è®²æ­¦å¾·â€ã€‚å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-25_18.55.26-1024x638.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-25_18.55.26-1024x638.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/869f8e3f03c84bdba3632fea707ee942~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769943821&amp;x-signature=iYKULCEEztlf69CYoH2hjD0npRg%3D" alt="iShot_2026-01-25_18.55.26" loading="lazy"/></a></p>
<p><strong>æ­ç§˜èƒŒåçš„é»‘ç§‘æŠ€ï¼šä¸é è›®åŠ›ï¼Œé è„‘åŠ›</strong></p>
<p>Step3-VL-10B ä¹‹æ‰€ä»¥èƒ½ä»¥å°åšå¤§ï¼Œæ ¸å¿ƒåœ¨äºå®ƒä¸å†åªæ˜¯ç®€å•åœ°â€œé¢„æµ‹ä¸‹ä¸€ä¸ªå­—â€ï¼Œè€Œæ˜¯å­¦ä¼šäº†åƒäººç±»ä¸€æ ·â€œæ·±æ€ç†Ÿè™‘â€ã€‚é˜¶è·ƒæ˜Ÿè¾°åœ¨æ¶æ„ä¸ŠåŠ¨äº†ä¸‰æŠŠæ‰‹æœ¯ï¼Œæ¯ä¸€åˆ€éƒ½åˆ‡åœ¨è¦å®³ä¸Šã€‚</p>
<p><strong>ç¬¬ä¸€åˆ€ï¼šæ‰“é€šä»»ç£äºŒè„‰çš„å…¨å‚æ•°è®­ç»ƒ</strong> å¤§å¤šæ•°å¤šæ¨¡æ€æ¨¡å‹ä¸ºäº†çœäº‹ï¼Œé€šå¸¸ä¼šå†»ç»“è§†è§‰éƒ¨åˆ†ï¼Œåªè®­ç»ƒè¯­è¨€éƒ¨åˆ†ã€‚è¿™å°±åƒæ˜¯æŠŠçœ¼ç›å’Œå¤§è„‘å¼ºè¡Œæ‹¼åœ¨ä¸€èµ·ï¼Œä¸­é—´æ€»éš”ç€ä¸€å±‚è†œã€‚Step3-VL-10B æå…¶å¥¢ä¾ˆåœ°ä½¿ç”¨äº† 1.2ä¸‡äº¿ token çš„é«˜è´¨é‡æ•°æ®ï¼Œå¯¹è§†è§‰å’Œè¯­è¨€æ¨¡å—è¿›è¡Œäº†å…¨å‚æ•°ã€ç«¯åˆ°ç«¯çš„è”åˆç‰¹è®­ã€‚è¿™è®©å®ƒçš„â€œçœ¼ç›â€å’Œâ€œå¤§è„‘â€åœ¨åº•å±‚é€»è¾‘ä¸Šå®ç°äº†çœŸæ­£çš„èåˆï¼Œçœ‹å›¾ä¸å†æ˜¯çŒœè°œï¼Œè€Œæ˜¯ç›´è§‰èˆ¬çš„ç†è§£ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-25_18.56.10-1024x611.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-25_18.56.10-1024x611.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbabdf40e6314088a94dd70004cc9cc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769943821&amp;x-signature=Dvz2KvGSrElsthuW4wEX9kyeF%2F4%3D" alt="iShot_2026-01-25_18.56.10" loading="lazy"/></a></p>
<p><strong>ç¬¬äºŒåˆ€ï¼šåœ°ç‹±çº§çš„å¼ºåŒ–å­¦ä¹ ç‰¹è®­</strong> è¿™å¯èƒ½æ˜¯å®ƒå˜å¼ºçš„å…³é”®ã€‚æ¨¡å‹ç»å†äº†è¶…è¿‡ 1400 æ¬¡çš„å¼ºåŒ–å­¦ä¹ è¿­ä»£ã€‚è¿™ä¸æ˜¯ç®€å•çš„å¾®è°ƒï¼Œè€Œæ˜¯åŒ…å«â€œäººç±»åé¦ˆï¼ˆRLHFï¼‰â€å’Œâ€œç»“æœå¯¼å‘ï¼ˆRLVRï¼‰â€çš„åŒé‡æ‰“ç£¨ã€‚å°±åƒä¸€ä¸ªå¤‡æˆ˜å¥¥æ•°çš„å­¦ç”Ÿï¼Œä¸ä»…åˆ·é¢˜é‡å¤§ï¼ˆ1.2Tæ•°æ®ï¼‰ï¼Œè¿˜æœ‰åå¸ˆä¸€å¯¹ä¸€çº é”™ï¼ˆå¼ºåŒ–å­¦ä¹ ï¼‰ï¼Œä¸“é—¨æ­»ç£•é€»è¾‘æ¼æ´ã€‚</p>
<p><strong>ç¬¬ä¸‰åˆ€ï¼šPaCoReæœºåˆ¶â€”â€”è®©æ€ç»´å­¦ä¼šâ€œåˆ†èº«æœ¯â€</strong> è¿™æ˜¯Step3-VL-10Bæœ€æ ¸å¿ƒçš„æ€æ‰‹é”ï¼š<strong>å¹¶è¡Œåè°ƒæ¨ç†ï¼ˆPaCoReï¼‰</strong>ã€‚ ä¼ ç»Ÿçš„æ¨¡å‹æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼Œé”™äº†å°±é”™äº†ã€‚è€Œ PaCoRe æœºåˆ¶å…è®¸æ¨¡å‹åœ¨é‡åˆ°éš¾é¢˜æ—¶ï¼Œç¬é—´åˆ†è£‚å‡º 16 åˆ° 24 ä¸ªâ€œæ€ç»´åˆ†èº«â€ï¼Œå¹¶è¡Œæ¢ç´¢ä¸åŒçš„è§£é¢˜è·¯å¾„ï¼Œæœ€ååƒå¼€ä¼šä¸€æ ·èšåˆæ‰€æœ‰è¯æ®ï¼Œäº¤å‰éªŒè¯å¾—å‡ºæœ€å¯é çš„ç»“è®ºã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå®ƒåœ¨æ•°å­¦ç«èµ›å’Œå¤æ‚OCRè¯†åˆ«ä¸Šèƒ½æ‹¿åˆ°è¿‘ä¹æ»¡åˆ†çš„åŸå› ã€‚å®ƒä¸æ˜¯åœ¨ççŒœï¼Œè€Œæ˜¯åœ¨åå¤æ¨æ•²ã€‚è™½ç„¶è¿™ä¼šæ¶ˆè€—æ›´å¤šçš„æ¨ç†ç®—åŠ›ï¼Œä½†å´è®©ä¸€ä¸ªå°æ¨¡å‹æ‹¥æœ‰äº†æ·±å±‚é€»è¾‘æ¨ç†çš„â€œå¤§æ™ºæ…§â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-25_18.56.20-1024x678.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-25_18.56.20-1024x678.png" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/089e7048a1e141b1a3be3caeab2914c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769943821&amp;x-signature=0CT6W0808XDoqVbkzTQtKtUICJQ%3D" alt="iShot_2026-01-25_18.56.20" loading="lazy"/></a></p>
<p><strong>ä»äº‘ç«¯è·Œè½å‡¡é—´ï¼šé‡å¡‘ç»ˆç«¯äº¤äº’</strong></p>
<p>Step3-VL-10B çš„æœ€å¤§æ„ä¹‰ï¼Œæˆ–è®¸ä¸åœ¨äºè·‘åˆ†ï¼Œè€Œåœ¨äºå®ƒçš„â€œä½“å‹â€ã€‚</p>
<p>10B çš„å‚æ•°é‡æ„å‘³ç€å®ƒä¸éœ€è¦æ˜‚è´µçš„H100é›†ç¾¤ï¼Œå®Œå…¨æœ‰æœºä¼šéƒ¨ç½²åœ¨ä½ çš„é«˜æ€§èƒ½PCã€ç”šè‡³æœªæ¥çš„æ——èˆ°æ‰‹æœºä¸Šã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå®ƒåŸºäºæµ·é‡ GUI æ•°æ®è®­ç»ƒï¼Œèƒ½ç²¾å‡†è¯†åˆ«å±å¹•ä¸Šçš„æ¯ä¸€ä¸ªæŒ‰é’®å’Œçª—å£ã€‚è¿™æ„å‘³ç€ï¼Œæœªæ¥çš„ AI åŠ©æ‰‹ä¸å†æ˜¯äº‘ç«¯é‚£ä¸ªåªä¼šé™ªèŠçš„â€œå‰ç¥¥ç‰©â€ï¼Œè€Œæ˜¯èƒ½ç›´æ¥å¸®ä½ æ“ä½œç”µè„‘ã€æ•´ç†æŠ¥è¡¨ã€å†™ä»£ç ã€ç”šè‡³ç©æ¸¸æˆçš„æœ¬åœ°æ™ºèƒ½ä½“ã€‚å®ƒèƒ½çœ‹æ‡‚ä½ çš„å±å¹•ï¼Œç†è§£ä½ çš„æ„å›¾ï¼Œå¹¶ä¸”æ“ä½œä½ çš„è½¯ä»¶â€”â€”æ‰€æœ‰è¿™ä¸€åˆ‡ï¼Œéƒ½åœ¨æœ¬åœ°å®Œæˆï¼Œæ—¢é«˜æ•ˆåˆéšç§ã€‚</p>
<p><strong>ç»“è¯­</strong></p>
<p>é˜¶è·ƒæ˜Ÿè¾°è¿™æ¬¡çš„å¼€æºï¼Œç»™æ•´ä¸ªè¡Œä¸šæäº†ä¸ªé†’ï¼šåœ¨ç®—åŠ›æ—¥ç›Šæ˜‚è´µçš„ä»Šå¤©ï¼Œæ— è„‘å †å‚æ•°çš„æ—¶ä»£å¯èƒ½æ­£åœ¨è¿‡å»ã€‚é€šè¿‡ç²¾å¦™çš„ç®—æ³•è®¾è®¡ï¼ˆå¦‚ PaCoReï¼‰å’Œæè‡´çš„æ•°æ®è®­ç»ƒï¼Œå°æ¨¡å‹å®Œå…¨å¯ä»¥å®ç°è¶Šçº§æŒ‘æˆ˜ã€‚</p>
<p>å¯¹äºå¼€å‘è€…å’Œä¼ä¸šæ¥è¯´ï¼ŒStep3-VL-10B æä¾›äº†ä¸€ä¸ªç»ä½³çš„é€‰æ‹©ï¼šä½ æ—¢æ‹¥æœ‰äº†é¡¶çº§çš„å¤šæ¨¡æ€èƒ½åŠ›ï¼Œåˆä¸å¿…èƒŒè´Ÿæ²‰é‡çš„ç®—åŠ›æˆæœ¬ã€‚</p>
<p>ç›®å‰ï¼Œè¯¥æ¨¡å‹çš„ Base ç‰ˆå’Œå¢å¼ºæ¨ç†çš„ Thinking ç‰ˆå‡å·²åœ¨ Hugging Face å’Œ ModelScope ä¸Šæ¶ã€‚å¦‚æœä½ æ˜¯å¯¹ AI æ•ˆç‡å’Œç«¯ä¾§æ™ºèƒ½æ„Ÿå…´è¶£çš„æå®¢ï¼Œè¿™ä¸ªæ¨¡å‹ç»å¯¹å€¼å¾—ä½ ä¸‹è½½ä¸€è¯•ã€‚æ¯•ç«Ÿï¼Œè§è¯â€œå¤§å«å‡»å€’æ­Œåˆ©äºšâ€çš„æœºä¼šï¼Œå¹¶ä¸å¸¸æœ‰ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å‡½æ•°å…¥é—¨ï¼šä»åŸºç¡€è°ƒç”¨åˆ°é—­åŒ…ä¸æ¨¡å—åŒ–]]></title>    <link>https://juejin.cn/post/7598737609494102035</link>    <guid>https://juejin.cn/post/7598737609494102035</guid>    <pubDate>2026-01-25T10:02:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598737609494102035" data-draft-id="7598587406707818537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å‡½æ•°å…¥é—¨ï¼šä»åŸºç¡€è°ƒç”¨åˆ°é—­åŒ…ä¸æ¨¡å—åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-25T10:02:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·411924458439"/> <meta itemprop="url" content="https://juejin.cn/user/221443581553930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å‡½æ•°å…¥é—¨ï¼šä»åŸºç¡€è°ƒç”¨åˆ°é—­åŒ…ä¸æ¨¡å—åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/221443581553930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·411924458439
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T10:02:15.000Z" title="Sun Jan 25 2026 10:02:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ JavaScript çš„ä¸–ç•Œé‡Œï¼Œ<strong>å‡½æ•°ä¸ä»…æ˜¯ä»£ç çš„æ‰§è¡Œå•å…ƒï¼Œæ›´æ˜¯æ„å»ºå¤æ‚åº”ç”¨çš„æ ¸å¿ƒç§¯æœ¨</strong>ã€‚æ­£å¦‚ä½ çš„ç¬”è®°æ‰€è¨€ï¼šâ€œå‡½æ•°åŒ…å«ä¸€ç»„è¯­å¥ï¼Œå®ƒä»¬æ˜¯ JavaScript çš„åŸºç¡€æ¨¡å—å•å…ƒï¼Œç”¨äºä»£ç å¤ç”¨ã€ä¿¡æ¯éšè—å’Œç»„åˆè°ƒç”¨ã€‚â€ æœ¬æ–‡å°†ç³»ç»Ÿæ¢³ç† JavaScript å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§â€”â€”ä»å…¶å¯¹è±¡æœ¬è´¨ã€å››ç§è°ƒç”¨æ¨¡å¼ï¼Œåˆ°é—­åŒ…ã€æ¨¡å—åŒ–ç­‰é«˜çº§æ¦‚å¿µï¼ŒåŠ©ä½ çœŸæ­£æŒæ¡è¿™é—¨è¯­è¨€çš„çµé­‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å‡½æ•°å³å¯¹è±¡ï¼šä¸€åˆ‡çš†å¯èµ‹å€¼</h2>
<p>JavaScript ä¸­æœ€é¢ è¦†ä¼ ç»Ÿç¼–ç¨‹è®¤çŸ¥çš„ä¸€ç‚¹æ˜¯ï¼š<strong>å‡½æ•°æ˜¯å¤´ç­‰å¯¹è±¡ï¼ˆFirst-class Objectï¼‰</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
  }
  
  <span class="hljs-comment">// å‡½æ•°å¯ä»¥åƒæ™®é€šå˜é‡ä¸€æ ·è¢«èµ‹å€¼ã€ä¼ é€’ã€å­˜å‚¨</span>
  <span class="hljs-keyword">var</span> myFunc = add;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">myFunc</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 5</span>
  
  <span class="hljs-comment">// ç”šè‡³å¯ä»¥ä½œä¸ºå¯¹è±¡å±æ€§ï¼ˆæ–¹æ³•ï¼‰</span>
  <span class="hljs-keyword">var</span> calculator = { <span class="hljs-attr">operate</span>: add };
</code></pre>
<h3 data-id="heading-1">âœ… å‡½æ•°å¯¹è±¡çš„ç‰¹æ®Šæ€§ï¼š</h3>
<ul>
<li>å®ƒæ‹¥æœ‰æ™®é€šå¯¹è±¡çš„æ‰€æœ‰èƒ½åŠ›ï¼ˆå¯æ·»åŠ å±æ€§ã€å¯ä½œä¸ºå‚æ•°ä¼ é€’ï¼‰ï¼›</li>
<li><strong>å”¯ä¸€åŒºåˆ«</strong>ï¼šå®ƒå¯ä»¥é€šè¿‡Â <code>()</code>Â è¢«<strong>è°ƒç”¨ï¼ˆinvokedï¼‰</strong> ï¼›</li>
<li>å…¶åŸå‹é“¾ä¸ºï¼š<code>add â†’ Function.prototype â†’ Object.prototype</code>ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ æ­£å› å‡½æ•°æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬æ‰èƒ½å®ç°å›è°ƒã€é«˜é˜¶å‡½æ•°ã€é—­åŒ…ç­‰å¼ºå¤§æ¨¡å¼ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">äºŒã€å‡½æ•°å­—é¢é‡ï¼šå£°æ˜çš„å››ç§æ–¹å¼</h2>
<p>æœ€å¸¸ç”¨çš„æ˜¯<strong>å‡½æ•°å­—é¢é‡ï¼ˆFunction Literalï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å‘½åå‡½æ•°ï¼ˆæ¨èï¼Œä¾¿äºè°ƒè¯•ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, "</span> + name;
  }
  
  <span class="hljs-comment">// åŒ¿åå‡½æ•°ï¼ˆå¸¸ç”¨äºå›è°ƒï¼‰</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Delayed!"</span>);
  }, <span class="hljs-number">1000</span>);
</code></pre>
<p>æ­¤å¤–è¿˜æœ‰ï¼š</p>
<ul>
<li><strong>å‡½æ•°è¡¨è¾¾å¼</strong>ï¼š<code>const fn = function() {}</code></li>
<li><strong>ç®­å¤´å‡½æ•°ï¼ˆES6+ï¼‰</strong> ï¼š<code>const fn = () =&gt; {}</code></li>
</ul>
<blockquote>
<p>ğŸ“ŒÂ <strong>å‘½åå»ºè®®</strong>ï¼šé™¤éä½œä¸ºç®€çŸ­å›è°ƒï¼Œå¦åˆ™ä¼˜å…ˆä½¿ç”¨å‘½åå‡½æ•°ï¼Œæå‡å †æ ˆå¯è¯»æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å››å¤§è°ƒç”¨æ¨¡å¼ï¼š<code>this</code>Â çš„å‘½è¿ç”±è°å†³å®šï¼Ÿ</h2>
<p>å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨è·å¾—ä¸¤ä¸ªâ€œå…è´¹â€å‚æ•°ï¼š<strong><code>this</code>Â å’ŒÂ <code>arguments</code></strong>ã€‚è€ŒÂ <code>this</code>Â çš„æŒ‡å‘ï¼Œå–å†³äº<strong>è°ƒç”¨æ–¹å¼</strong>ã€‚</p>
<h3 data-id="heading-4">1. æ–¹æ³•è°ƒç”¨æ¨¡å¼ï¼ˆMethod Invocationï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>,
    <span class="hljs-attr">sayHi</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// "Alice" â€”â€” this æŒ‡å‘ obj</span>
    }
  };
  obj.<span class="hljs-title function_">sayHi</span>();
</code></pre>
<p>âœ…Â <strong><code>this</code>Â ç»‘å®šåˆ°è°ƒç”¨å¯¹è±¡</strong>ï¼Œè¿™æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„åŸºç¡€ã€‚</p>
<h3 data-id="heading-5">2. å‡½æ•°è°ƒç”¨æ¨¡å¼ï¼ˆFunction Invocationï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sayName</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// éä¸¥æ ¼æ¨¡å¼ï¼šwindowï¼›ä¸¥æ ¼æ¨¡å¼ï¼šundefined</span>
  }
  <span class="hljs-title function_">sayName</span>(); <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
</code></pre>
<p>âš ï¸Â <strong>å±é™©ï¼</strong> Â åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œ<code>this</code>Â æ„å¤–æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œæ˜“å¼•å‘ bugã€‚</p>
<h3 data-id="heading-6">3. æ„é€ å™¨è°ƒç”¨æ¨¡å¼ï¼ˆConstructor Invocationï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// this æŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹</span>
  }
  <span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Bob"</span>);
</code></pre>
<p>âœ… ä½¿ç”¨Â <code>new</code>Â æ—¶ï¼š</p>
<ul>
<li>åˆ›å»ºæ–°å¯¹è±¡ï¼›</li>
<li><code>this</code>Â ç»‘å®šåˆ°è¯¥å¯¹è±¡ï¼›</li>
<li>è‹¥æ— æ˜¾å¼Â <code>return</code>Â å¯¹è±¡ï¼Œåˆ™è¿”å›Â <code>this</code>ã€‚</li>
</ul>
<h3 data-id="heading-7">4. Apply/Call è°ƒç”¨æ¨¡å¼ï¼ˆExplicit Invocationï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">introduce</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"I'm "</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
  
  <span class="hljs-keyword">var</span> user = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Carol"</span> };
  introduce.<span class="hljs-title function_">call</span>(user);   <span class="hljs-comment">// "I'm Carol"</span>
  introduce.<span class="hljs-title function_">apply</span>(user);  <span class="hljs-comment">// åŒä¸Šï¼ˆå‚æ•°ä»¥æ•°ç»„å½¢å¼ä¼ å…¥ï¼‰</span>
</code></pre>
<p>âœ…Â <strong>æ˜¾å¼æŒ‡å®šÂ <code>this</code></strong>ï¼Œæ˜¯å®ç°å‡½æ•°å€Ÿç”¨ã€ç»‘å®šä¸Šä¸‹æ–‡çš„å…³é”®ã€‚</p>
<blockquote>
<p>ğŸŒŸÂ <strong>ç°ä»£æ›¿ä»£</strong>ï¼šES5+ çš„Â <code>bind()</code>Â å¯åˆ›å»ºæ°¸ä¹…ç»‘å®šÂ <code>this</code>Â çš„æ–°å‡½æ•°ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€å‚æ•°ä¸è¿”å›ï¼šçµæ´»ä½†éœ€è°¨æ…</h2>
<h3 data-id="heading-9">å‚æ•°ï¼š<code>arguments</code>Â å¯¹è±¡</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> total = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) {
      total += <span class="hljs-variable language_">arguments</span>[i];
    }
    <span class="hljs-keyword">return</span> total;
  }
  <span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// 6</span>
</code></pre>
<ul>
<li><code>arguments</code>Â æ˜¯<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ï¼Œæ— Â <code>map</code>/<code>forEach</code>Â ç­‰æ–¹æ³•ï¼›</li>
<li><strong>ç°ä»£æ›¿ä»£</strong>ï¼šä½¿ç”¨Â <strong>Rest å‚æ•°ï¼ˆ<code>...args</code>ï¼‰</strong> Â è·å–çœŸæ•°ç»„ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...numbers</span>) {
    <span class="hljs-keyword">return</span> numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
  }
</code></pre>
<h3 data-id="heading-10">è¿”å›å€¼è§„åˆ™</h3>
<ul>
<li>æ— Â <code>return</code>Â â†’ è¿”å›Â <code>undefined</code>ï¼›</li>
<li>æ„é€ å‡½æ•°ä¸­è‹¥Â <code>return</code>Â éå¯¹è±¡ â†’ å¿½ç•¥ï¼Œä»è¿”å›Â <code>this</code>ï¼›</li>
<li>è‹¥Â <code>return</code>Â å¯¹è±¡ â†’ è¿”å›è¯¥å¯¹è±¡ï¼ˆè¦†ç›–Â <code>this</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">äº”ã€é—­åŒ…ï¼šå‡½æ•°çš„â€œè®°å¿†â€èƒ½åŠ›</h2>
<blockquote>
<p><strong>é—­åŒ… = å†…éƒ¨å‡½æ•° + å¤–éƒ¨ä½œç”¨åŸŸçš„å¼•ç”¨</strong></p>
</blockquote>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">counter</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      count++;
      <span class="hljs-keyword">return</span> count;
    };
  }
  
  <span class="hljs-keyword">var</span> c = <span class="hljs-title function_">counter</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">c</span>()); <span class="hljs-comment">// 1</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">c</span>()); <span class="hljs-comment">// 2 â€”â€” count è¢«â€œè®°ä½â€äº†ï¼</span>
</code></pre>
<h3 data-id="heading-12">âœ… é—­åŒ…çš„ä»·å€¼ï¼š</h3>
<ul>
<li><strong>æ•°æ®ç§æœ‰åŒ–</strong>ï¼š<code>count</code>Â å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ï¼›</li>
<li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šå‡½æ•°â€œè®°ä½â€äº†åˆ›å»ºæ—¶çš„ç¯å¢ƒï¼›</li>
<li><strong>æ¨¡å—åŒ–åŸºç¡€</strong>ï¼šå®ç°ä¿¡æ¯éšè—ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-13">å…­ã€æ¨¡å—æ¨¡å¼ï¼šå‘Šåˆ«å…¨å±€æ±¡æŸ“</h2>
<p>åˆ©ç”¨é—­åŒ…ï¼Œå¯æ„å»º<strong>æ¨¡å—ï¼ˆModuleï¼‰</strong> â€”â€”æä¾›æ¥å£ä½†éšè—å†…éƒ¨çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">MyModule</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> privateVar = <span class="hljs-string">"secret"</span>;
  
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">privateMethod</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(privateVar);
    }
  
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">publicMethod</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">privateMethod</span>();
      }
    };
  })();
  
  <span class="hljs-title class_">MyModule</span>.<span class="hljs-title function_">publicMethod</span>(); <span class="hljs-comment">// "secret"</span>
  <span class="hljs-comment">// MyModule.privateVar â†’ undefinedï¼ˆæ— æ³•è®¿é—®ï¼‰</span>
</code></pre>
<blockquote>
<p>âœ…Â <strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…å…¨å±€å˜é‡å†²çªï¼›</li>
<li>å®ç°å°è£…ä¸è§£è€¦ï¼›</li>
<li>æ˜¯ç°ä»£ ES6 æ¨¡å—ï¼ˆ<code>import</code>/<code>export</code>ï¼‰çš„æ€æƒ³å‰èº«ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-14">ä¸ƒã€é«˜çº§æŠ€å·§ï¼šè®°å¿†åŒ–ã€å¥—ç”¨ä¸çº§è”</h2>
<h3 data-id="heading-15">1. è®°å¿†åŒ–ï¼ˆMemoizationï¼‰</h3>
<p>ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è¿ç®—ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n, memo = {}</span>) {
    <span class="hljs-keyword">if</span> (n <span class="hljs-keyword">in</span> memo) <span class="hljs-keyword">return</span> memo[n];
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> n;
    memo[n] = <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">1</span>, memo) + <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">2</span>, memo);
    <span class="hljs-keyword">return</span> memo[n];
  }
</code></pre>
<h3 data-id="heading-16">2. å¥—ç”¨ï¼ˆCurryingï¼‰</h3>
<p>å°†å¤šå‚æ•°å‡½æ•°è½¬æ¢ä¸ºä¸€ç³»åˆ—å•å‚æ•°å‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) {
      <span class="hljs-keyword">return</span> a + b;
    };
  }
  <span class="hljs-keyword">var</span> add5 = <span class="hljs-title function_">add</span>(<span class="hljs-number">5</span>);
  <span class="hljs-title function_">add5</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// 8</span>
</code></pre>
<h3 data-id="heading-17">3. çº§è”ï¼ˆChainingï¼‰</h3>
<p>æ–¹æ³•è¿”å›å¯¹è±¡è‡ªèº«ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">add</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> += x;
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// å…³é”®ï¼šè¿”å› this</span>
    },
    <span class="hljs-attr">log</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
    }
  };
  
  obj.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">add</span>(<span class="hljs-number">3</span>).<span class="hljs-title function_">log</span>(); <span class="hljs-comment">// 5</span>
</code></pre>
<h2 data-id="heading-18">å…«ã€å¼‚å¸¸å¤„ç†ï¼šä¼˜é›…åº”å¯¹é”™è¯¯</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Something went wrong!"</span>);
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e.<span class="hljs-property">message</span>);
  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Cleanup"</span>);
  }
</code></pre>
<ul>
<li><code>throw</code>Â æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼ˆå»ºè®®ç”¨Â <code>Error</code>Â å®ä¾‹ï¼‰ï¼›</li>
<li><code>catch</code>Â æ•è·å¹¶å¤„ç†ï¼›</li>
<li><code>finally</code>Â æ— è®ºæ˜¯å¦å‡ºé”™éƒ½ä¼šæ‰§è¡Œã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-19">ç»“è¯­ï¼šå‡½æ•°æ˜¯ JavaScript çš„çµé­‚</h2>
<p>ä»ç®€å•çš„ä»£ç å¤ç”¨ï¼Œåˆ°å¤æ‚çš„é—­åŒ…ã€æ¨¡å—ã€é«˜é˜¶å‡½æ•°ï¼ŒJavaScript çš„å‡½æ•°æœºåˆ¶èµ‹äºˆäº†å¼€å‘è€…æå¤§çš„è¡¨è¾¾åŠ›ã€‚ç†è§£å…¶å¯¹è±¡æœ¬è´¨ã€<code>this</code>Â ç»‘å®šè§„åˆ™ã€ä½œç”¨åŸŸé“¾ä¸é—­åŒ…åŸç†ï¼Œæ˜¯å†™å‡ºå¥å£®ã€å¯ç»´æŠ¤ä»£ç çš„å‰æã€‚</p>
<p>æ­£å¦‚ Douglas Crockford æ‰€è¨€ï¼š <strong>â€œJavaScript çš„ç²¾åï¼Œå°±åœ¨äºå®ƒçš„å‡½æ•°ã€‚â€</strong> Â æŒæ¡å‡½æ•°ï¼Œä½ å°±æŒæ¡äº†è¿™é—¨è¯­è¨€çš„é’¥åŒ™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptå¯¹è±¡çš„ç²¾é«“ä¸å“²å­¦æ€è€ƒâ€”â€”è§£æã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ç¬¬ä¸‰ç« ]]></title>    <link>https://juejin.cn/post/7598881914202374194</link>    <guid>https://juejin.cn/post/7598881914202374194</guid>    <pubDate>2026-01-25T10:06:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598881914202374194" data-draft-id="7598947628467552302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptå¯¹è±¡çš„ç²¾é«“ä¸å“²å­¦æ€è€ƒâ€”â€”è§£æã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ç¬¬ä¸‰ç« "/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-01-25T10:06:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ©å·å¾"/> <meta itemprop="url" content="https://juejin.cn/user/2402874087453658"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptå¯¹è±¡çš„ç²¾é«“ä¸å“²å­¦æ€è€ƒâ€”â€”è§£æã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ç¬¬ä¸‰ç« 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2402874087453658/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ©å·å¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T10:06:53.000Z" title="Sun Jan 25 2026 10:06:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScriptå¯¹è±¡çš„ç²¾é«“ä¸å“²å­¦æ€è€ƒâ€”â€”è§£æã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ç¬¬ä¸‰ç« </h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šä¸ºä»€ä¹ˆå¯¹è±¡æ˜¯JavaScriptçš„çµé­‚ï¼Ÿ</h3>
<p>åœ¨ç¼–ç¨‹è¯­è¨€çš„ä¸–ç•Œä¸­ï¼ŒJavaScriptçš„å¯¹è±¡ç³»ç»Ÿç‹¬æ ‘ä¸€å¸œã€‚å®ƒæ—¢ä¸åƒJava/C++åŸºäºä¸¥æ ¼çš„ç±»ç»§æ‰¿ï¼Œä¹Ÿä¸åƒçº¯å‡½æ•°å¼è¯­è¨€å®Œå…¨ä¾èµ–ä¸å¯å˜æ•°æ®ã€‚Douglas Crockfordåœ¨ã€ŠJavaScriptè¯­è¨€ç²¾ç²¹ã€‹ç¬¬ä¸‰ç« å¼€ç¯‡å³æŒ‡å‡ºï¼šâ€œJavaScriptçš„ç®€å•ç±»å‹åŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ã€nullå’Œundefinedï¼Œå…¶ä»–æ‰€æœ‰å€¼éƒ½æ˜¯å¯¹è±¡ã€‚â€è¿™ä¸€è®ºæ–­æ­ç¤ºäº†å¯¹è±¡åœ¨JavaScriptä¸­çš„æ ¸å¿ƒåœ°ä½ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æJavaScriptå¯¹è±¡çš„æœ¬è´¨ç‰¹æ€§ã€è®¾è®¡å“²å­¦åŠå®è·µåº”ç”¨ï¼Œå¹¶ç»“åˆç°ä»£å‰ç«¯å¼€å‘åœºæ™¯è¿›è¡Œå»¶ä¼¸æ€è€ƒã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€å¯¹è±¡å­—é¢é‡ï¼šJavaScriptæœ€ä¼˜é›…çš„åˆ›é€ </h3>
<h4 data-id="heading-3">1.1 æ— ç±»åˆ«çš„å¯¹è±¡ç³»ç»Ÿ</h4>
<p>ä¸ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ä¸åŒï¼ŒJavaScriptçš„å¯¹è±¡ç³»ç»Ÿæ˜¯â€œæ— ç±»åˆ«â€ï¼ˆclass-freeï¼‰çš„ã€‚è¿™æ„å‘³ç€å¯¹è±¡å¯ä»¥ç›´æ¥ä»å…¶ä»–å¯¹è±¡ç»§æ‰¿å±æ€§ï¼Œæ— éœ€é€šè¿‡ç±»ä½œä¸ºä¸­ä»‹ã€‚è¿™ç§è®¾è®¡å¸¦æ¥äº†æå¤§çš„çµæ´»æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">javascript
javascript
ä¸‹è½½
å¤åˆ¶
<span class="hljs-comment">// ç›´æ¥é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºå¯¹è±¡</span>
<span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,
  <span class="hljs-title function_">greet</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>;
  }
};
</code></pre>
<p>è¿™ç§ç®€æ´çš„è¯­æ³•ä¸ä»…å‡å°‘äº†ä»£ç é‡ï¼Œæ›´ç¬¦åˆäººç±»å¯¹ç°å®ä¸–ç•Œçš„ç›´è§‚è®¤çŸ¥ã€‚å½“æˆ‘ä»¬æè¿°ä¸€ä¸ªâ€œäººâ€æ—¶ï¼Œè‡ªç„¶ä¼šæƒ³åˆ°ä»–å…·æœ‰å§“åã€å¹´é¾„ç­‰å±æ€§ï¼Œä»¥åŠæ‰“æ‹›å‘¼ç­‰è¡Œä¸ºï¼Œè€Œæ— éœ€å…ˆå®šä¹‰â€œäººç±»â€è¿™ä¸ªæŠ½è±¡æ¦‚å¿µã€‚</p>
<h4 data-id="heading-4">1.2 åŠ¨æ€æ€§çš„åŒåˆƒå‰‘</h4>
<p>JavaScriptå¯¹è±¡åœ¨è¿è¡Œæ—¶å¯ä»¥åŠ¨æ€æ·»åŠ æˆ–ä¿®æ”¹å±æ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">javascript
javascript
ä¸‹è½½
å¤åˆ¶
const <span class="hljs-attr">obj</span> = {}<span class="hljs-comment">;</span>
<span class="hljs-attr">obj.newProperty</span> = <span class="hljs-string">'åŠ¨æ€æ·»åŠ çš„å±æ€§'</span><span class="hljs-comment">; // åˆæ³•çš„JavaScriptä»£ç </span>
</code></pre>
<p>è¿™ç§åŠ¨æ€æ€§æ—¢æ˜¯ä¼˜åŠ¿ä¹Ÿæ˜¯é™·é˜±ã€‚ä¼˜åŠ¿åœ¨äºå®ƒå…è®¸çµæ´»çš„æ•°æ®ç»“æ„æ¼”åŒ–ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†JSON APIå“åº”ç­‰ä¸ç¡®å®šæ•°æ®ç»“æ„ï¼›é™·é˜±åœ¨äºå®ƒå¯èƒ½å¯¼è‡´éš¾ä»¥è¿½è¸ªçš„bugï¼Œæ¯”å¦‚å±æ€§åæ‹¼å†™é”™è¯¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯é™é»˜åˆ›å»ºæ–°å±æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-5">äºŒã€åŸå‹é“¾ï¼šJavaScriptçš„ç»§æ‰¿å“²å­¦</h3>
<h4 data-id="heading-6">2.1 åŸå‹ç»§æ‰¿çš„æœ¬è´¨</h4>
<p>æ¯ä¸ªJavaScriptå¯¹è±¡éƒ½è¿æ¥åˆ°ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶ä»ä¸­ç»§æ‰¿å±æ€§ã€‚è¿™ç§æœºåˆ¶ä¸åŒäºç±»ç»§æ‰¿çš„å¤åˆ¶æ¨¡å¼ï¼Œè€Œæ˜¯é€šè¿‡å§”æ‰˜ï¼ˆdelegationï¼‰å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">javascript
javascript
ä¸‹è½½
å¤åˆ¶
// åŸå‹ç»§æ‰¿ç¤ºä¾‹
const <span class="hljs-attr">animal</span> = { eats: <span class="hljs-literal">true</span> }<span class="hljs-comment">;</span>
const <span class="hljs-attr">rabbit</span> = Object.create(animal)<span class="hljs-comment">;</span>
console.log(rabbit.eats)<span class="hljs-comment">; // trueï¼Œé€šè¿‡åŸå‹é“¾è®¿é—®</span>
</code></pre>
<p>Crockfordå¼ºè°ƒï¼šâ€œåŸå‹è¿æ¥åœ¨æ›´æ–°æ—¶ä¸èµ·ä½œç”¨ã€‚â€è¿™æ„å‘³ç€å¯¹å­å¯¹è±¡çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå‹ï¼Œè¿™ç§è®¾è®¡ä¿è¯äº†æ•°æ®çš„éš”ç¦»æ€§ï¼Œé¿å…æ„å¤–çš„å‰¯ä½œç”¨ã€‚</p>
<h4 data-id="heading-7">2.2 åŸå‹é“¾çš„å®è·µåº”ç”¨</h4>
<p>åœ¨ç°ä»£JavaScriptå¼€å‘ä¸­ï¼ŒåŸå‹é“¾çš„ç†è§£è‡³å…³é‡è¦ï¼š</p>
<ul>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé€šè¿‡åŸå‹å…±äº«æ–¹æ³•ï¼Œå‡å°‘å†…å­˜å ç”¨</li>
<li><strong>polyfillå®ç°</strong>ï¼šé€šè¿‡ä¿®æ”¹å†…ç½®å¯¹è±¡çš„åŸå‹æä¾›æ–°åŠŸèƒ½</li>
<li><strong>æ¡†æ¶è®¾è®¡</strong>ï¼šVue/Reactç­‰æ¡†æ¶åˆ©ç”¨åŸå‹æœºåˆ¶å®ç°ç»„ä»¶ç»§æ‰¿</li>
</ul>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€åå°„ä¸æšä¸¾ï¼šæ¢ç´¢å¯¹è±¡çš„å†…åœ¨ç»“æ„</h3>
<h4 data-id="heading-9">3.1 å®‰å…¨çš„ç±»å‹æ£€æŸ¥ç­–ç•¥</h4>
<p>JavaScriptçš„<code>typeof</code>æ“ä½œç¬¦åœ¨å¯¹è±¡æ£€æµ‹ä¸Šå­˜åœ¨å±€é™ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">javascript
javascript
ä¸‹è½½
å¤åˆ¶
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span> <span class="hljs-comment">// "object" ï¼ˆè¯­è¨€è®¾è®¡ç¼ºé™·ï¼‰</span>
<span class="hljs-keyword">typeof</span> [] <span class="hljs-comment">// "object" ï¼ˆæ— æ³•åŒºåˆ†æ•°ç»„ï¼‰</span>
</code></pre>
<p>æ›´å¯é çš„åšæ³•æ˜¯ç»„åˆä½¿ç”¨<code>Object.prototype.toString</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">javascript
javascript
ä¸‹è½½
å¤åˆ¶
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// "[object Null]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]) <span class="hljs-comment">// "[object Array]"</span>
</code></pre>
<h4 data-id="heading-10">3.2 å±æ€§æšä¸¾çš„æœ€ä½³å®è·µ</h4>
<p><code>for...in</code>å¾ªç¯ä¼šéå†åŸå‹é“¾ä¸Šçš„å¯æšä¸¾å±æ€§ï¼Œè¿™å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">javascript
javascript
ä¸‹è½½
å¤åˆ¶
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> };
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">customMethod</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {};

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key); <span class="hljs-comment">// è¾“å‡º a, b, customMethodï¼ˆä¸ç¬¦åˆé¢„æœŸï¼‰</span>
}
</code></pre>
<p>å®‰å…¨çš„åšæ³•æ˜¯ä½¿ç”¨<code>hasOwnProperty</code>è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">javascript
javascript
ä¸‹è½½
å¤åˆ¶
for (let key in obj) {
  if (obj.hasOwnProperty(key)) {
    console<span class="hljs-selector-class">.log</span>(key); <span class="hljs-comment">// åªè¾“å‡º a, b</span>
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-11">å››ã€å‡å°‘å…¨å±€æ±¡æŸ“ï¼šæ¨¡å—åŒ–æ€ç»´çš„æ—©æœŸå®è·µ</h3>
<h4 data-id="heading-12">4.1 å‘½åç©ºé—´æ¨¡å¼</h4>
<p>åœ¨ES6æ¨¡å—åŒ–æ ‡å‡†ä¹‹å‰ï¼ŒCrockfordå°±æå‡ºäº†é€šè¿‡å•ä¸€å…¨å±€å˜é‡é¿å…å‘½åå†²çªï¼š</p>
<pre><code class="hljs language-css" lang="css">javascript
javascript
ä¸‹è½½
å¤åˆ¶
// åˆ›å»ºåº”ç”¨å‘½åç©ºé—´
const MYAPP = {
  utils: {},
  models: {},
  views: {}
};
</code></pre>
<p>è¿™ç§æ¨¡å¼è™½ç„¶ç®€å•ï¼Œå´ä½“ç°äº†æ¨¡å—åŒ–æ€ç»´çš„æ ¸å¿ƒâ€”â€”é€šè¿‡ä½œç”¨åŸŸéš”ç¦»å‡å°‘è€¦åˆã€‚</p>
<h4 data-id="heading-13">4.2 ä¸ç°ä»£æ¨¡å—åŒ–çš„å¯¹æ¯”</h4>
<p>å½“ä»Šçš„ES6æ¨¡å—ç³»ç»Ÿå¯ä»¥çœ‹ä½œè¿™ç§æ€æƒ³çš„å®˜æ–¹å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">javascript
javascript
ä¸‹è½½
å¤åˆ¶
<span class="hljs-comment">// ç°ä»£æ¨¡å—åŒ–</span>
<span class="hljs-keyword">import</span> { utils } <span class="hljs-keyword">from</span> <span class="hljs-string">'./myapp.js'</span>;
</code></pre>
<p>ç†è§£å‘½åç©ºé—´æ¨¡å¼æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°ç†è§£æ¨¡å—åŒ–çš„æœ¬è´¨ï¼Œå³ä½¿åœ¨webpackç­‰å·¥å…·æ™®åŠçš„ä»Šå¤©ï¼Œè¿™ç§åŸºç¡€æ€ç»´ä»ç„¶æœ‰ä»·å€¼ã€‚</p>
<hr/>
<h3 data-id="heading-14">äº”ã€å¯¹è±¡è®¾è®¡çš„å“²å­¦æ€è€ƒ</h3>
<h4 data-id="heading-15">5.1 æ•°æ®ä¸è¡Œä¸ºçš„ç»Ÿä¸€</h4>
<p>JavaScriptå¯¹è±¡å°†æ•°æ®å’Œè¡Œä¸ºç»Ÿä¸€å°è£…ï¼Œè¿™ä¸ç°å®ä¸–ç•Œçš„ç‰©ä½“ç‰¹æ€§ç›¸ç¬¦ã€‚ä¸€ä¸ªâ€œæ¯å­â€æ—¢æœ‰é¢œè‰²ï¼ˆæ•°æ®å±æ€§ï¼‰ï¼Œåˆèƒ½ç››æ°´ï¼ˆæ–¹æ³•ï¼‰ï¼Œè¿™ç§ç»Ÿä¸€æ€§ä½¿å¾—ä»£ç æ›´æ˜“äºç†è§£ã€‚</p>
<h4 data-id="heading-16">5.2 æœ€å°æ¥å£åŸåˆ™</h4>
<p>Crockfordæå€¡çš„å¯¹è±¡è®¾è®¡éµå¾ªæœ€å°æ¥å£åŸåˆ™â€”â€”åªæš´éœ²å¿…è¦çš„å±æ€§å’Œæ–¹æ³•ã€‚è¿™ç§è®¾è®¡å‡å°‘è€¦åˆï¼Œæé«˜å¯ç»´æŠ¤æ€§ï¼Œä¸åæ¥çš„æ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰ä¸è°‹è€Œåˆã€‚</p>
<hr/>
<h3 data-id="heading-17">å…­ã€ç°ä»£JavaScriptä¸­çš„å¯¹è±¡æ¼”è¿›</h3>
<h4 data-id="heading-18">6.1 ES6åçš„è¯­æ³•å¢å¼º</h4>
<p>è™½ç„¶Crockfordçš„è‘—ä½œåŸºäºES3ï¼Œä½†ç°ä»£JavaScriptçš„å¯¹è±¡è¯­æ³•å·²å¤§å¹…è¿›åŒ–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">javascript
javascript
ä¸‹è½½
å¤åˆ¶
// å±æ€§ç®€å†™
const <span class="hljs-attr">name</span> = <span class="hljs-string">'æå››'</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">person</span> = { name }<span class="hljs-comment">; // ç­‰åŒäº { name: name }</span>

// æ–¹æ³•ç®€å†™
const <span class="hljs-attr">obj</span> = {
  method() { /* ... */ } // ä¼˜äº method: function() {}
}<span class="hljs-comment">;</span>

// è®¡ç®—å±æ€§å
const <span class="hljs-attr">propName</span> = <span class="hljs-string">'age'</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">person</span> = {
  <span class="hljs-section">[propName]</span>: 30 // åŠ¨æ€å±æ€§å
}<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-19">6.2 ä¸å¯å˜æ•°æ®è¶‹åŠ¿</h4>
<p>éšç€å‡½æ•°å¼ç¼–ç¨‹çš„å…´èµ·ï¼Œä¸å¯å˜å¯¹è±¡æ¨¡å¼æ—¥ç›Šé‡è¦ï¼š</p>
<pre><code class="hljs language-css" lang="css">javascript
javascript
ä¸‹è½½
å¤åˆ¶
// é€šè¿‡<span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.freeze</span>å®ç°æµ…ä¸å¯å˜
const immutableObj = <span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.freeze</span>({ value: <span class="hljs-number">1</span> });
</code></pre>
<p>è™½ç„¶è¿™è¶…å‡ºäº†åŸä¹¦èŒƒå›´ï¼Œä½†ä½“ç°äº†JavaScriptå¯¹è±¡ç³»ç»Ÿçš„å‘å±•æ–¹å‘ã€‚</p>
<hr/>
<h3 data-id="heading-20">ç»“è®ºï¼šå¯¹è±¡çš„è‰ºæœ¯ä¸ç§‘å­¦</h3>
<p>JavaScriptå¯¹è±¡ç³»ç»Ÿæ—¢æ˜¯ç§‘å­¦ä¹Ÿæ˜¯è‰ºæœ¯ã€‚å…¶ç§‘å­¦ä½“ç°åœ¨ä¸¥è°¨çš„åŸå‹æœºåˆ¶å’Œè¯­è¨€è§„èŒƒï¼Œè‰ºæœ¯åˆ™ä½“ç°åœ¨å®ƒç»™äºˆå¼€å‘è€…çš„åˆ›é€ è‡ªç”±ã€‚Crockfordåœ¨ç¬¬ä¸‰ç« ä¸­ä¼ é€’çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šç†è§£å¯¹è±¡çš„æœ¬è´¨æ¯”æŒæ¡ç‰¹å®šè¯­æ³•æ›´é‡è¦ã€‚</p>
<p>åœ¨å½“ä»Šå¤æ‚çš„å‰ç«¯åº”ç”¨ä¸­ï¼Œå¯¹è±¡ä»ç„¶æ˜¯æ„å»ºå¤æ‚ç³»ç»Ÿçš„åŸºçŸ³ã€‚æ— è®ºæ˜¯Reactçš„ç»„ä»¶çŠ¶æ€ã€Vueçš„å“åº”å¼æ•°æ®ï¼Œè¿˜æ˜¯Node.jsçš„æ¨¡å—ç³»ç»Ÿï¼Œéƒ½å»ºç«‹åœ¨JavaScriptå¯¹è±¡ç³»ç»Ÿä¹‹ä¸Šã€‚æŒæ¡å¯¹è±¡çš„ç²¾é«“ï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸ä»…å­¦ä¼šäº†ä½¿ç”¨ä¸€ç§è¯­æ³•ç‰¹æ€§ï¼Œæ›´è·å¾—äº†ä¸€ç§ç»„ç»‡ä»£ç çš„æ€ç»´æ–¹å¼ã€‚</p>
<p>æ­£å¦‚Crockfordæ‰€è¨€ï¼šâ€œå¯¹è±¡é€‚åˆç”¨äºæ”¶é›†å’Œç®¡ç†æ•°æ®ã€‚â€ä½†æ›´é‡è¦çš„æ˜¯ï¼Œå¯¹è±¡æ˜¯æˆ‘ä»¬è¡¨è¾¾ä¸šåŠ¡é€»è¾‘ã€æ„å»ºè½¯ä»¶æ¶æ„çš„åŸºæœ¬è¯­è¨€ã€‚åœ¨å¾®æœåŠ¡ã€äº‘åŸç”Ÿç­‰æŠ€æœ¯å˜é©çš„èƒŒæ™¯ä¸‹ï¼Œè¿™ç§åŸºç¡€èƒ½åŠ›æ˜¾å¾—æ„ˆå‘çè´µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[02-å¿«é€Ÿæ„å»ºMCPæœåŠ¡å™¨]]></title>    <link>https://juejin.cn/post/7598699872552648740</link>    <guid>https://juejin.cn/post/7598699872552648740</guid>    <pubDate>2026-01-25T09:38:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598699872552648740" data-draft-id="7598537739516706858" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="02-å¿«é€Ÿæ„å»ºMCPæœåŠ¡å™¨"/> <meta itemprop="keywords" content="MCP"/> <meta itemprop="datePublished" content="2026-01-25T09:38:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·34298882739"/> <meta itemprop="url" content="https://juejin.cn/user/1901526446777088"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            02-å¿«é€Ÿæ„å»ºMCPæœåŠ¡å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1901526446777088/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·34298882739
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:38:19.000Z" title="Sun Jan 25 2026 09:38:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">02-å¿«é€Ÿæ„å»ºMCPæœåŠ¡å™¨</h2>
<h3 data-id="heading-1">æ¦‚è¿°</h3>
<p>åœ¨ä¸Šä¸€ç¯‡ã€ŠMCPåè®®å…¥é—¨æŒ‡å—ã€‹ä¸­,æˆ‘ä»¬ä»‹ç»äº† MCP åè®®çš„åŸºæœ¬æ¦‚å¿µå’Œæ ¸å¿ƒç»„ä»¶ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ FastMCP æ¡†æ¶å¿«é€Ÿæ„å»ºå®Œæ•´çš„ MCP æœåŠ¡å™¨,åŒ…æ‹¬æ•°å­¦è®¡ç®—æœåŠ¡å™¨å’Œ BMI è®¡ç®—æœåŠ¡å™¨,å¹¶å±•ç¤ºå¦‚ä½•å®šä¹‰å·¥å…·ã€èµ„æºå’Œæç¤ºæ¨¡æ¿ã€‚</p>
<h3 data-id="heading-2">FastMCPæ¡†æ¶ç®€ä»‹</h3>
<p>FastMCP æ˜¯ä¸€ä¸ªç”¨äºå¿«é€Ÿæ„å»º MCP æœåŠ¡å™¨çš„ Python æ¡†æ¶,å®ƒæä¾›äº†ç®€æ´çš„ API å’Œå¼ºå¤§çš„åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>è£…é¥°å™¨è¯­æ³•</strong>: ä½¿ç”¨ <code>@mcp.tool()</code>, <code>@mcp.resource()</code>, <code>@mcp.prompt()</code> å¿«é€Ÿå®šä¹‰ç»„ä»¶</li>
<li><strong>è‡ªåŠ¨ç±»å‹æ¨æ–­</strong>: è‡ªåŠ¨ç”Ÿæˆ JSON Schema</li>
<li><strong>å¤šä¼ è¾“æ”¯æŒ</strong>: åŒæ—¶æ”¯æŒ stdio å’Œ HTTP ä¼ è¾“</li>
<li><strong>å¼€å‘å‹å¥½</strong>: å†…ç½®å¼€å‘å·¥å…·å’Œè°ƒè¯•åŠŸèƒ½</li>
</ul>
<h4 data-id="heading-4">å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ uv</span>
uv add fastmcp

<span class="hljs-comment"># æˆ–ä½¿ç”¨ pip</span>
pip install fastmcp
</code></pre>
<h3 data-id="heading-5">é¡¹ç›®å‡†å¤‡</h3>
<h4 data-id="heading-6">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">mcp_demo/
â”œâ”€â”€ math_mcp_server_stdio.py       <span class="hljs-comment"># æ•°å­¦è®¡ç®—æœåŠ¡å™¨(Stdioæ¨¡å¼)</span>
â”œâ”€â”€ math_mcp_server_http.py        <span class="hljs-comment"># æ•°å­¦è®¡ç®—æœåŠ¡å™¨(HTTPæ¨¡å¼)</span>
â”œâ”€â”€ bmi_mcp_server.py              <span class="hljs-comment"># BMIè®¡ç®—æœåŠ¡å™¨</span>
â””â”€â”€ pyproject.toml                 <span class="hljs-comment"># é¡¹ç›®é…ç½®</span>
</code></pre>
<h4 data-id="heading-7">ä¾èµ–é…ç½®</h4>
<p><code>pyproject.toml</code> é…ç½®:</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[project]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"mcp-demo"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">requires-python</span> = <span class="hljs-string">"&gt;=3.11"</span>
<span class="hljs-attr">dependencies</span> = [
    <span class="hljs-string">"fastmcp&gt;=2.14.3"</span>,
    <span class="hljs-string">"mcp&gt;=0.9.0"</span>,
]
</code></pre>
<h3 data-id="heading-8">æ„å»ºæ•°å­¦è®¡ç®— MCP æœåŠ¡å™¨</h3>
<h4 data-id="heading-9">åŸºç¡€ç»“æ„</h4>
<p>é¦–å…ˆåˆ›å»ºæ•°å­¦è®¡ç®—æœåŠ¡å™¨çš„åŸºç¡€ç»“æ„:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP
<span class="hljs-keyword">import</span> math

<span class="hljs-comment"># åˆ›å»º MCP æœåŠ¡å™¨å®ä¾‹</span>
mcp = FastMCP(<span class="hljs-string">"Math"</span>)

<span class="hljs-comment"># æœåŠ¡å™¨ç‰ˆæœ¬ä¿¡æ¯</span>
SERVER_VERSION = <span class="hljs-string">"1.0.0"</span>
</code></pre>
<h4 data-id="heading-10">å®šä¹‰æç¤ºæ¨¡æ¿</h4>
<p>æç¤ºæ¨¡æ¿ç”¨äºå®šä¹‰ AI åŠ©æ‰‹çš„è¡Œä¸ºæ¨¡å¼ã€‚</p>
<h5 data-id="heading-11">1. ç³»ç»Ÿæç¤ºæ¨¡æ¿</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.prompt()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">system_prompt</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    ç³»ç»Ÿæç¤ºæ¨¡æ¿
    å®šä¹‰AIåŠ©æ‰‹çš„åŸºæœ¬è¡Œä¸ºå’Œè§’è‰²
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"""
You are an AI assistant specialized in mathematical calculations.
- Use the available tools when needed to perform calculations
- Always explain your reasoning before calling a tool
- Show step-by-step solutions
- Provide clear and concise answers
- If a calculation is needed, use the appropriate tool
"""</span>
</code></pre>
<h5 data-id="heading-12">2. æ•°å­¦é—®é¢˜æç¤ºæ¨¡æ¿</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.prompt()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">example_prompt</span>(<span class="hljs-params">question: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    æ•°å­¦é—®é¢˜æç¤ºæ¨¡æ¿
    ç”¨äºå¼•å¯¼AIåŠ©æ‰‹å›ç­”æ•°å­¦é—®é¢˜
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"""
You are a math assistant. Answer the question step by step.
Question: <span class="hljs-subst">{question}</span>
Show your work and explain each step clearly.
"""</span>
</code></pre>
<h5 data-id="heading-13">3. è®¡ç®—æŒ‡å¯¼æ¨¡æ¿</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.prompt()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">calculation_guide</span>(<span class="hljs-params">operation: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è®¡ç®—æŒ‡å¯¼æ¨¡æ¿
    æä¾›ç‰¹å®šè¿ç®—ç±»å‹çš„æŒ‡å¯¼
    """</span>
    guides = {
        <span class="hljs-string">"addition"</span>: <span class="hljs-string">"To add two numbers, combine their values."</span>,
        <span class="hljs-string">"multiplication"</span>: <span class="hljs-string">"To multiply, add one number to itself the number of times specified by the other."</span>,
        <span class="hljs-string">"division"</span>: <span class="hljs-string">"To divide, split one number into equal parts of another."</span>,
        <span class="hljs-string">"subtraction"</span>: <span class="hljs-string">"To subtract, find the difference between two numbers."</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"""
Calculation Guide for <span class="hljs-subst">{operation}</span>:
<span class="hljs-subst">{guides.get(operation.lower(), <span class="hljs-string">"General calculation method"</span>)}</span>
Always use the appropriate tool for accurate results.
"""</span>
</code></pre>
<h4 data-id="heading-14">å®šä¹‰èµ„æº</h4>
<p>èµ„æºæä¾›é™æ€æˆ–åŠ¨æ€çš„æ•°æ®è®¿é—®èƒ½åŠ›ã€‚</p>
<h5 data-id="heading-15">1. æ•°å­¦å¸¸é‡èµ„æº</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"constant://pi"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_pi</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    åœ†å‘¨ç‡å¸¸æ•°
    è¿”å›æ•°å­¦å¸¸æ•°Ï€(Pi)çš„é«˜ç²¾åº¦å€¼
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{math.pi}</span>"</span>

<span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"constant://e"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_euler_number</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è‡ªç„¶å¸¸æ•°
    è¿”å›è‡ªç„¶å¯¹æ•°çš„åº•æ•°e(æ¬§æ‹‰æ•°)çš„é«˜ç²¾åº¦å€¼
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{math.e}</span>"</span>

<span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"constant://golden_ratio"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_golden_ratio</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    é»„é‡‘æ¯”ä¾‹
    è¿”å›é»„é‡‘æ¯”ä¾‹Ï†çš„å€¼(çº¦ç­‰äº1.618...)
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{(<span class="hljs-number">1</span> + math.sqrt(<span class="hljs-number">5</span>)) / <span class="hljs-number">2</span>}</span>"</span>
</code></pre>
<h5 data-id="heading-16">2. åŠ¨æ€èµ„æº</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"greeting://{name}"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_greeting</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    ä¸ªæ€§åŒ–é—®å€™
    æ ¹æ®æä¾›çš„åå­—è¿”å›é—®å€™è¯­
    """</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Hello, <span class="hljs-subst">{name}</span>! Welcome to the Math MCP Server."</span>
</code></pre>
<h5 data-id="heading-17">3. é…ç½®èµ„æº</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"config://app"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_config</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    åº”ç”¨é…ç½®
    è¿”å›æœåŠ¡å™¨é…ç½®ä¿¡æ¯(JSONæ ¼å¼)
    """</span>
    <span class="hljs-keyword">import</span> json
    config = {
        <span class="hljs-string">"server_name"</span>: <span class="hljs-string">"Math MCP Server"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
        <span class="hljs-string">"features"</span>: [<span class="hljs-string">"basic_arithmetic"</span>, <span class="hljs-string">"constants"</span>, <span class="hljs-string">"prompts"</span>],
        <span class="hljs-string">"supported_operations"</span>: [<span class="hljs-string">"add"</span>, <span class="hljs-string">"subtract"</span>, <span class="hljs-string">"multiply"</span>, <span class="hljs-string">"divide"</span>, <span class="hljs-string">"power"</span>, <span class="hljs-string">"sqrt"</span>, <span class="hljs-string">"factorial"</span>],
        <span class="hljs-string">"transport"</span>: <span class="hljs-string">"stdio"</span>
    }
    <span class="hljs-keyword">return</span> json.dumps(config, indent=<span class="hljs-number">2</span>, ensure_ascii=<span class="hljs-literal">False</span>)
</code></pre>
<h5 data-id="heading-18">4. æœåŠ¡å™¨èƒ½åŠ›èµ„æº</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"info://capabilities"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_capabilities</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    æœåŠ¡å™¨èƒ½åŠ›ä¿¡æ¯
    è¯¦ç»†è¯´æ˜æœåŠ¡å™¨æä¾›çš„åŠŸèƒ½
    """</span>
    capabilities = <span class="hljs-string">"""
Math MCP Server Capabilities:

Tools:
  - add(a, b): Addition of two numbers
  - subtract(a, b): Subtraction of two numbers
  - multiply(a, b): Multiplication of two numbers
  - divide(a, b): Division of two numbers
  - power(base, exponent): Exponentiation
  - sqrt(number): Square root
  - factorial(n): Factorial

Resources:
  - constant://pi: Pi constant (3.14159...)
  - constant://e: Euler's number (2.71828...)
  - constant://golden_ratio: Golden ratio (1.61803...)
  - greeting://{name}: Personalized greeting
  - config://app: Application configuration
  - info://capabilities: This capability list

Prompts:
  - example_prompt(question): Math question template
  - system_prompt(): System behavior template
  - calculation_guide(operation): Operation guide
"""</span>
    <span class="hljs-keyword">return</span> capabilities
</code></pre>
<h4 data-id="heading-19">å®šä¹‰å·¥å…·</h4>
<p>å·¥å…·æ˜¯å¯æ‰§è¡Œçš„å‡½æ•°,ä¾› AI åŠ©æ‰‹è°ƒç”¨ä»¥å®Œæˆç‰¹å®šä»»åŠ¡ã€‚</p>
<h5 data-id="heading-20">1. åŸºç¡€è¿ç®—å·¥å…·</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    åŠ æ³•è¿ç®—
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å’Œ

    Args:
        a: ç¬¬ä¸€ä¸ªåŠ æ•°
        b: ç¬¬äºŒä¸ªåŠ æ•°

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²
    """</span>
    result = a + b
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{a}</span> + <span class="hljs-subst">{b}</span> = <span class="hljs-subst">{result}</span>"</span>

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">subtract</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    å‡æ³•è¿ç®—
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å·®

    Args:
        a: è¢«å‡æ•°
        b: å‡æ•°

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²
    """</span>
    result = a - b
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{a}</span> - <span class="hljs-subst">{b}</span> = <span class="hljs-subst">{result}</span>"</span>

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">multiply</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    ä¹˜æ³•è¿ç®—
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„ä¹˜ç§¯

    Args:
        a: ç¬¬ä¸€ä¸ªä¹˜æ•°
        b: ç¬¬äºŒä¸ªä¹˜æ•°

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²
    """</span>
    result = a * b
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{a}</span> * <span class="hljs-subst">{b}</span> = <span class="hljs-subst">{result}</span>"</span>

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">divide</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    é™¤æ³•è¿ç®—
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å•†(æµ®ç‚¹æ•°ç»“æœ)

    Args:
        a: è¢«é™¤æ•°
        b: é™¤æ•°(ä¸èƒ½ä¸ºé›¶)

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²

    Raises:
        ValueError: å½“é™¤æ•°ä¸ºé›¶æ—¶
    """</span>
    <span class="hljs-keyword">if</span> b == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"é™¤æ•°ä¸èƒ½ä¸ºé›¶ (Divisor cannot be zero)"</span>)
    result = a / b
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{a}</span> / <span class="hljs-subst">{b}</span> = <span class="hljs-subst">{result}</span>"</span>
</code></pre>
<h5 data-id="heading-21">2. é«˜çº§è¿ç®—å·¥å…·</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">power</span>(<span class="hljs-params">base: <span class="hljs-built_in">int</span>, exponent: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    å¹‚è¿ç®—
    è®¡ç®—åŸºæ•°çš„æ•´æ•°æ¬¡å¹‚

    Args:
        base: åº•æ•°
        exponent: æŒ‡æ•°(å¿…é¡»ä¸ºéè´Ÿæ•´æ•°)

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²

    Raises:
        ValueError: å½“æŒ‡æ•°ä¸ºè´Ÿæ•°æ—¶
    """</span>
    <span class="hljs-keyword">if</span> exponent &lt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"æŒ‡æ•°å¿…é¡»ä¸ºéè´Ÿæ•´æ•° (Exponent must be non-negative)"</span>)
    result = base ** exponent
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{base}</span>^<span class="hljs-subst">{exponent}</span> = <span class="hljs-subst">{result}</span>"</span>

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sqrt</span>(<span class="hljs-params">number: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    å¹³æ–¹æ ¹è¿ç®—
    è®¡ç®—ä¸€ä¸ªéè´Ÿæ•´æ•°çš„å¹³æ–¹æ ¹

    Args:
        number: è¦è®¡ç®—å¹³æ–¹æ ¹çš„éè´Ÿæ•´æ•°

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²

    Raises:
        ValueError: å½“æ•°ä¸ºè´Ÿæ•°æ—¶
    """</span>
    <span class="hljs-keyword">if</span> number &lt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"ä¸èƒ½è®¡ç®—è´Ÿæ•°çš„å¹³æ–¹æ ¹ (Cannot calculate square root of negative number)"</span>)
    result = math.sqrt(number)
    <span class="hljs-keyword">if</span> result.is_integer():
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"âˆš<span class="hljs-subst">{number}</span> = <span class="hljs-subst">{<span class="hljs-built_in">int</span>(result)}</span>"</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"âˆš<span class="hljs-subst">{number}</span> â‰ˆ <span class="hljs-subst">{result:<span class="hljs-number">.6</span>f}</span>"</span>

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    é˜¶ä¹˜è¿ç®—
    è®¡ç®—ä¸€ä¸ªéè´Ÿæ•´æ•°çš„é˜¶ä¹˜

    Args:
        n: éè´Ÿæ•´æ•°

    Returns:
        è®¡ç®—ç»“æœå’Œè¿‡ç¨‹çš„æè¿°å­—ç¬¦ä¸²

    Raises:
        ValueError: å½“nä¸ºè´Ÿæ•°æ—¶
    """</span>
    <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">0</span>:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"é˜¶ä¹˜åªèƒ½è®¡ç®—éè´Ÿæ•´æ•° (Factorial only defined for non-negative integers)"</span>)
    result = math.factorial(n)
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{n}</span>! = <span class="hljs-subst">{result}</span>"</span>
</code></pre>
<h4 data-id="heading-22">æœåŠ¡å™¨å…¥å£</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Math MCP Server (Stdio Mode)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Server Information:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Name: Math"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - Version: <span class="hljs-subst">{SERVER_VERSION}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Transport: Stdio"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Available Tools (7):"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  1. add(a: int, b: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     åŠ æ³•è¿ç®— (Addition)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  2. subtract(a: int, b: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     å‡æ³•è¿ç®— (Subtraction)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  3. multiply(a: int, b: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     ä¹˜æ³•è¿ç®— (Multiplication)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  4. divide(a: int, b: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     é™¤æ³•è¿ç®— (Division)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  5. power(base: int, exponent: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     å¹‚è¿ç®— (Power)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  6. sqrt(number: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     å¹³æ–¹æ ¹è¿ç®— (Square Root)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  7. factorial(n: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     é˜¶ä¹˜è¿ç®— (Factorial)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Available Resources (6):"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  1. constant://pi"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     åœ†å‘¨ç‡å¸¸æ•° (Pi constant)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  2. constant://e"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     è‡ªç„¶å¸¸æ•° (Euler's number)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  3. constant://golden_ratio"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     é»„é‡‘æ¯”ä¾‹ (Golden ratio)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  4. greeting://{name}"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     ä¸ªæ€§åŒ–é—®å€™ (Personalized greeting)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  5. config://app"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     åº”ç”¨é…ç½® (App configuration)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  6. info://capabilities"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     æœåŠ¡å™¨èƒ½åŠ› (Server capabilities)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Available Prompts (3):"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  1. example_prompt(question: str) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     æ•°å­¦é—®é¢˜æ¨¡æ¿"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  2. system_prompt() -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     ç³»ç»Ÿæç¤ºæ¨¡æ¿"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  3. calculation_guide(operation: str) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"     è®¡ç®—æŒ‡å¯¼æ¨¡æ¿"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Server is ready and waiting for connections..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Note: This server runs in stdio mode."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Use the HTTP version (math_mcp_server_http.py) for HTTP mode."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    mcp.run()  <span class="hljs-comment"># Run server via stdio</span>
</code></pre>
<h3 data-id="heading-23">æ„å»º HTTP æ¨¡å¼æœåŠ¡å™¨</h3>
<p>HTTP æ¨¡å¼æœåŠ¡å™¨ä¸ stdio æ¨¡å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºä¼ è¾“æ–¹å¼çš„é…ç½®ã€‚</p>
<h4 data-id="heading-24">å…³é”®å·®å¼‚</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Math MCP Server (HTTP Mode)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Server Information:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Name: Math"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - Version: <span class="hljs-subst">{SERVER_VERSION}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Transport: HTTP (streamable-http)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - URL: http://0.0.0.0:8000/mcp"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-comment"># ... å·¥å…·å’Œèµ„æºåˆ—è¡¨ ...</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Starting HTTP server..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Waiting for client connections..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Note: This server runs in HTTP mode."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Use the stdio version (math_mcp_server_stdio.py) for stdio mode."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    mcp.run(transport=<span class="hljs-string">"streamable-http"</span>)  <span class="hljs-comment"># Run server via streamable-http</span>
</code></pre>
<h4 data-id="heading-25">å¯åŠ¨ HTTP æœåŠ¡å™¨</h4>
<pre><code class="hljs language-bash" lang="bash">python math_mcp_server_http.py
</code></pre>
<p>æœåŠ¡å™¨å°†åœ¨ <code>http://0.0.0.0:8000/mcp</code> ä¸Šç›‘å¬è¿æ¥ã€‚</p>
<h3 data-id="heading-26">æ„å»º BMI è®¡ç®—æœåŠ¡å™¨</h3>
<p>BMI è®¡ç®—æœåŠ¡å™¨æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„ç¤ºä¾‹,å±•ç¤ºäº†å¦‚ä½•æ„å»ºä¸“æ³¨äºç‰¹å®šåŠŸèƒ½çš„ MCP æœåŠ¡å™¨ã€‚</p>
<h4 data-id="heading-27">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP

mcp = FastMCP(<span class="hljs-string">"BMI"</span>)

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_bmi</span>(<span class="hljs-params">weight: <span class="hljs-built_in">int</span>, height: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""Calculate BMI
    
    Args:
        weight: Weight in kilograms (kg)
        height: Height in meters (m)
        
    Returns:
        BMI value and interpretation
    """</span>
    bmi = weight / (height * height)
    
    <span class="hljs-comment"># BMI åˆ†ç±»</span>
    <span class="hljs-keyword">if</span> bmi &lt; <span class="hljs-number">18.5</span>:
        category = <span class="hljs-string">"Underweight (åç˜¦)"</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-number">18.5</span> &lt;= bmi &lt; <span class="hljs-number">25</span>:
        category = <span class="hljs-string">"Normal weight (æ­£å¸¸)"</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-number">25</span> &lt;= bmi &lt; <span class="hljs-number">30</span>:
        category = <span class="hljs-string">"Overweight (è¶…é‡)"</span>
    <span class="hljs-keyword">else</span>:
        category = <span class="hljs-string">"Obese (è‚¥èƒ–)"</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"BMI: <span class="hljs-subst">{bmi:<span class="hljs-number">.2</span>f}</span>\nåˆ†ç±»: <span class="hljs-subst">{category}</span>"</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"BMI MCP Server"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Server Information:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Name: BMI"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Transport: HTTP (streamable-http)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - URL: http://localhost:8000/mcp"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"  - Available Tools:"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"    + calculate_bmi(weight: int, height: int) -&gt; str"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"      Calculate Body Mass Index"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"      weight: Weight in kilograms (kg)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"      height: Height in meters (m)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Starting HTTP server..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Waiting for client connections..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">""</span>)
    mcp.run(transport=<span class="hljs-string">"streamable-http"</span>)
</code></pre>
<h4 data-id="heading-28">å¯åŠ¨ BMI æœåŠ¡å™¨</h4>
<pre><code class="hljs language-bash" lang="bash">python bmi_mcp_server.py
</code></pre>
<h3 data-id="heading-29">æµ‹è¯•æœåŠ¡å™¨</h3>
<h4 data-id="heading-30">ä½¿ç”¨ Stdio å®¢æˆ·ç«¯æµ‹è¯•</h4>
<p>åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯ <code>test_math_server.py</code>:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client
<span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession, StdioServerParameters

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    server_params = StdioServerParameters(
        command=<span class="hljs-string">"python"</span>,
        args=[<span class="hljs-string">"math_mcp_server_stdio.py"</span>]
    )

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-keyword">await</span> session.initialize()

            <span class="hljs-comment"># æµ‹è¯•å·¥å…·è°ƒç”¨</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æµ‹è¯•å·¥å…·è°ƒç”¨:"</span>)
            result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"add"</span>, {<span class="hljs-string">"a"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"b"</span>: <span class="hljs-number">20</span>})
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  add(10, 20) = <span class="hljs-subst">{result.content[<span class="hljs-number">0</span>].text}</span>"</span>)

            result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"multiply"</span>, {<span class="hljs-string">"a"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"b"</span>: <span class="hljs-number">6</span>})
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  multiply(5, 6) = <span class="hljs-subst">{result.content[<span class="hljs-number">0</span>].text}</span>"</span>)

            <span class="hljs-comment"># æµ‹è¯•èµ„æºè¯»å–</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næµ‹è¯•èµ„æºè¯»å–:"</span>)
            resource = <span class="hljs-keyword">await</span> session.read_resource(<span class="hljs-string">"constant://pi"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Pi = <span class="hljs-subst">{resource.contents[<span class="hljs-number">0</span>].text}</span>"</span>)

            resource = <span class="hljs-keyword">await</span> session.read_resource(<span class="hljs-string">"greeting://Alice"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Greeting = <span class="hljs-subst">{resource.contents[<span class="hljs-number">0</span>].text}</span>"</span>)

            <span class="hljs-comment"># æµ‹è¯•æç¤ºæ¨¡æ¿</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\næµ‹è¯•æç¤ºæ¨¡æ¿:"</span>)
            prompt = <span class="hljs-keyword">await</span> session.get_prompt(<span class="hljs-string">"example_prompt"</span>, {<span class="hljs-string">"question"</span>: <span class="hljs-string">"What is 1+1?"</span>})
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Prompt = <span class="hljs-subst">{prompt.messages[<span class="hljs-number">0</span>].content.text}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<p>è¿è¡Œæµ‹è¯•:</p>
<pre><code class="hljs language-bash" lang="bash">python test_math_server.py
</code></pre>
<h4 data-id="heading-31">ä½¿ç”¨ HTTP å®¢æˆ·ç«¯æµ‹è¯•</h4>
<p>åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯ <code>test_bmi_server.py</code>:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession
<span class="hljs-keyword">from</span> mcp.client.streamable_http <span class="hljs-keyword">import</span> streamablehttp_client

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    server_url = <span class="hljs-string">"http://localhost:8000/mcp"</span>

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> streamablehttp_client(server_url) <span class="hljs-keyword">as</span> (read, write, _):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-keyword">await</span> session.initialize()

            <span class="hljs-comment"># æµ‹è¯• BMI è®¡ç®—</span>
            result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"calculate_bmi"</span>, {
                <span class="hljs-string">"weight"</span>: <span class="hljs-number">70</span>,
                <span class="hljs-string">"height"</span>: <span class="hljs-number">1.75</span>
            })
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"BMI è®¡ç®—ç»“æœ:\n<span class="hljs-subst">{result.content[<span class="hljs-number">0</span>].text}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<p>è¿è¡Œæµ‹è¯•:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç»ˆç«¯1: å¯åŠ¨ BMI æœåŠ¡å™¨</span>
python bmi_mcp_server.py

<span class="hljs-comment"># ç»ˆç«¯2: è¿è¡Œæµ‹è¯•</span>
python test_bmi_server.py
</code></pre>
<h3 data-id="heading-32">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-33">1. å·¥å…·è®¾è®¡åŸåˆ™</h4>
<ul>
<li><strong>å•ä¸€èŒè´£</strong>: æ¯ä¸ªå·¥å…·åªåšä¸€ä»¶äº‹</li>
<li><strong>æ˜ç¡®çš„å‚æ•°</strong>: ä½¿ç”¨ç±»å‹æ³¨è§£å’Œæ–‡æ¡£å­—ç¬¦ä¸²</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
<li><strong>è¿”å›æ ¼å¼</strong>: ä¿æŒä¸€è‡´çš„è¿”å›æ ¼å¼</li>
</ul>
<h4 data-id="heading-34">2. èµ„æºå‘½åè§„èŒƒ</h4>
<ul>
<li>ä½¿ç”¨ URI æ ¼å¼: <code>scheme://path/{param}</code></li>
<li>ä¿æŒå±‚æ¬¡æ¸…æ™°: <code>config://app</code>, <code>data://users/{id}</code></li>
<li>å‚æ•°ä½¿ç”¨è›‡å½¢å‘½å: <code>greeting://{user_name}</code></li>
</ul>
<h4 data-id="heading-35">3. æç¤ºæ¨¡æ¿è®¾è®¡</h4>
<ul>
<li>æ˜ç¡®è§’è‰²å®šä¹‰</li>
<li>æä¾›ä½¿ç”¨æŒ‡å¯¼</li>
<li>åŒ…å«ç¤ºä¾‹è¯´æ˜</li>
<li>ä¿æŒç®€æ´æ˜äº†</li>
</ul>
<h4 data-id="heading-36">4. æœåŠ¡å™¨é…ç½®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è‰¯å¥½çš„æœåŠ¡å™¨é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æ˜¾ç¤ºæœåŠ¡å™¨ä¿¡æ¯</span>
    print_banner()

    <span class="hljs-comment"># é€‰æ‹©ä¼ è¾“æ–¹å¼</span>
    transport = os.getenv(<span class="hljs-string">"TRANSPORT"</span>, <span class="hljs-string">"stdio"</span>)

    <span class="hljs-keyword">if</span> transport == <span class="hljs-string">"http"</span>:
        <span class="hljs-comment"># HTTP é…ç½®</span>
        host = os.getenv(<span class="hljs-string">"HOST"</span>, <span class="hljs-string">"0.0.0.0"</span>)
        port = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">"PORT"</span>, <span class="hljs-string">"8000"</span>))
        mcp.run(transport=<span class="hljs-string">"streamable-http"</span>, host=host, port=port)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># Stdio é…ç½®</span>
        mcp.run(transport=<span class="hljs-string">"stdio"</span>)
</code></pre>
<h3 data-id="heading-37">æ•…éšœæ’æŸ¥</h3>
<h4 data-id="heading-38">é—®é¢˜ 1: æœåŠ¡å™¨å¯åŠ¨å¤±è´¥</h4>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>:</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">ModuleNotFoundError:</span> No <span class="hljs-keyword">module</span> named <span class="hljs-comment">'fastmcp'</span>
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">uv <span class="hljs-built_in">sync</span>
<span class="hljs-comment"># æˆ–</span>
pip install fastmcp
</code></pre>
<h4 data-id="heading-39">é—®é¢˜ 2: å·¥å…·è°ƒç”¨å‚æ•°é”™è¯¯</h4>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>:</p>
<pre><code class="hljs language-ini" lang="ini">ValidationError: <span class="hljs-attr">type</span>=integer_type_constrained
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<ul>
<li>æ£€æŸ¥å‚æ•°ç±»å‹æ˜¯å¦åŒ¹é…</li>
<li>éªŒè¯å‚æ•°å€¼åœ¨æœ‰æ•ˆèŒƒå›´å†…</li>
<li>ä½¿ç”¨ JSON Schema éªŒè¯å·¥å…·å®šä¹‰</li>
</ul>
<h4 data-id="heading-40">é—®é¢˜ 3: HTTP ç«¯å£è¢«å ç”¨</h4>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>:</p>
<pre><code class="hljs language-ini" lang="ini">OSError: <span class="hljs-section">[Errno 48]</span> Address already in use
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹</span>
lsof -i :8000

<span class="hljs-comment"># ç»ˆæ­¢è¿›ç¨‹</span>
<span class="hljs-built_in">kill</span> -9 &lt;PID&gt;
</code></pre>
<h3 data-id="heading-41">æ€»ç»“</h3>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ FastMCP æ¡†æ¶æ„å»º MCP æœåŠ¡å™¨,åŒ…æ‹¬:</p>
<ul>
<li>æ•°å­¦è®¡ç®—æœåŠ¡å™¨çš„å®Œæ•´å®ç°(7ä¸ªå·¥å…·ã€6ä¸ªèµ„æºã€3ä¸ªæç¤ºæ¨¡æ¿)</li>
<li>BMI è®¡ç®—æœåŠ¡å™¨çš„ç®€åŒ–å®ç°</li>
<li>stdio å’Œ HTTP ä¸¤ç§ä¼ è¾“æ–¹å¼çš„é…ç½®</li>
<li>æœåŠ¡å™¨æµ‹è¯•å’Œæ•…éšœæ’æŸ¥</li>
</ul>
<p>åœ¨ä¸‹ä¸€ç¯‡ã€ŠMCPå®¢æˆ·ç«¯å¼€å‘å®æˆ˜ã€‹ä¸­,æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å¼€å‘ MCP å®¢æˆ·ç«¯,åŒ…æ‹¬ stdio å’Œ HTTP ä¸¤ç§ä¼ è¾“æ–¹å¼çš„å®¢æˆ·ç«¯å®ç°,ä»¥åŠå¦‚ä½•è°ƒç”¨å·¥å…·ã€è¯»å–èµ„æºå’Œè·å–æç¤ºæ¨¡æ¿ã€‚</p>
<h3 data-id="heading-42">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjlowin%2Ffastmcp" target="_blank" title="https://github.com/jlowin/fastmcp" ref="nofollow noopener noreferrer">FastMCP æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">MCP åè®®è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.python.org%2F3%2Flibrary%2Ftyping.html" target="_blank" title="https://docs.python.org/3/library/typing.html" ref="nofollow noopener noreferrer">Python ç±»å‹æ³¨è§£</a></li>
</ul>
<h3 data-id="heading-43">æ–‡ç« æ ‡ç­¾</h3>
<pre><code class="hljs">FastMCP, MCPæœåŠ¡å™¨, Pythonå¼€å‘, å·¥å…·è°ƒç”¨, èµ„æºç®¡ç†, æç¤ºæ¨¡æ¿, HTTPæœåŠ¡å™¨, stdioä¼ è¾“, å¼€å‘å®æˆ˜
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1 ä¸ªä»“åº“ï¼Œ243 ç§ skillï¼Œ3 åˆ†é’Ÿéƒ¨ç½²ï¼šä¸€äººå…¬å¸çš„ç»ˆæèµšé’±æ¨¡å¼ï¼]]></title>    <link>https://juejin.cn/post/7598574507347050531</link>    <guid>https://juejin.cn/post/7598574507347050531</guid>    <pubDate>2026-01-25T02:47:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598574507347050531" data-draft-id="7598574507347034147" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1 ä¸ªä»“åº“ï¼Œ243 ç§ skillï¼Œ3 åˆ†é’Ÿéƒ¨ç½²ï¼šä¸€äººå…¬å¸çš„ç»ˆæèµšé’±æ¨¡å¼ï¼"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,VibeCoding"/> <meta itemprop="datePublished" content="2026-01-25T02:47:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°è™AIç”Ÿæ´»"/> <meta itemprop="url" content="https://juejin.cn/user/1514493393768090"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1 ä¸ªä»“åº“ï¼Œ243 ç§ skillï¼Œ3 åˆ†é’Ÿéƒ¨ç½²ï¼šä¸€äººå…¬å¸çš„ç»ˆæèµšé’±æ¨¡å¼ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1514493393768090/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°è™AIç”Ÿæ´»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T02:47:29.000Z" title="Sun Jan 25 2026 02:47:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°è™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cbd23a214874064a2cb844bef8c4c4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6JmOQUnnlJ_mtLs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769914049&amp;x-signature=z7pZyF6Qer%2FP28MizJhAmgfIUko%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœè¯´ AI æ˜¯æ–°æ—¶ä»£çš„ç”µåŠ›ï¼Œé‚£ä¹ˆä»Šå¤©è¦ä»‹ç»çš„è¿™ä¸ªé¡¹ç›®ï¼Œå°±æ˜¯äº”é‡‘åº—é‡Œæœ€å…¨çš„é‚£å¥—å·¥å…·ç®±ã€‚</p>
<p>è¿™å‡ å¤©æˆ‘çœ‹åˆ° GitHub Trending çƒ­æ¦œä¸Šæœ‰ä¸€ä¸ªå« <code>Antigravity-Awesome-Skills</code> çš„ä»“åº“ã€‚ç‚¹è¿›å»ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬æ¢¦å¯ä»¥æ±‚çš„ <strong>AI æŠ€èƒ½åº”ç”¨å•†åº—</strong> å—ï¼Ÿ</p>
<p>æˆ‘åœ¨å­¦ä¹ ç¾¤é‡Œå¼äº†ä¸€å—“å­ï¼Œå‘ç°å¾ˆå¤šäººè¿˜ä¸çŸ¥é“æ€ä¹ˆç”¨ã€‚ æœ‰äººé—®ï¼š"è¿™ç©æ„å„¿å’‹è£…å•Šï¼Ÿè¦å†™ä»£ç å—ï¼Ÿ"</p>
<p><strong>ä¸ç”¨å†™ä»£ç ã€‚ä½ ä¼šå¤åˆ¶ç²˜è´´æ–‡ä»¶å°±è¡Œã€‚</strong></p>
<p>è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘å°±æ•™å¤§å®¶èŠ± 3 åˆ†é’Ÿæ—¶é—´ï¼ŒæŠŠè¿™äº›é¡¶çº§é«˜æ‰‹çš„"å¤§è„‘"è£…è¿›ä½ çš„ Claude é‡Œã€‚</p>
<hr/>
<h3 data-id="heading-0"><strong>ç›®æ ‡è®¾å®š</strong></h3>
<p>è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ å°†ä¼šåœ¨ä½ çš„ç”µè„‘ä¸ŠæˆåŠŸè¿è¡Œ <code>Antigravity-Awesome-Skills</code> é‡Œçš„çƒ­é—¨æŠ€èƒ½ï¼Œæ¯”å¦‚èƒ½å¸®ä½ è‡ªåŠ¨å†™æ–‡æ¡£çš„ <code>doc-coauthoring</code> æˆ–è€…å¸®ä½ å‘åˆ›ä¸šé¡¹ç›®çš„ <code>micro-saas-launcher</code>ã€‚</p>
<hr/>
<h3 data-id="heading-1"><strong>å‰ç½®å‡†å¤‡</strong></h3>
<ol>
<li><strong>Antigravity å®¢æˆ·ç«¯</strong> ï¼ˆæˆ–è€…ä»»ä½•æ”¯æŒ MCP Skills çš„ Claude å®¢æˆ·ç«¯ï¼‰</li>
<li><strong>Git</strong> ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œç›´æ¥å» GitHub ä¸‹è½½ ZIP åŒ…ä¹Ÿè¡Œï¼‰</li>
<li><strong>ä¸€é¢—æƒ³æé’±çš„å¿ƒ</strong></li>
</ol>
<hr/>
<h3 data-id="heading-2"><strong>ä»€ä¹ˆæ˜¯ Antigravity-Awesome-Skillsï¼Ÿï¼ˆå…¨è§ˆï¼‰</strong></h3>
<p>ä¸ºäº†è®©å¤§å®¶ä¸ç›²ç›®ä¸‹è½½ï¼Œæˆ‘æ•´ç†äº†ä¸€ä»½è¿™ä¸ªä»“åº“çš„"ç«åŠ›åˆ†å¸ƒå›¾"ã€‚ è¿™ä¸ªä»“åº“ç›®å‰æ”¶å½•äº† <strong>243+</strong> ä¸ª Skillï¼Œè¦†ç›–äº†ä»å†™ä»£ç åˆ°åšè®¾è®¡çš„å…¨æµç¨‹ï¼š</p>








































<table><thead><tr><th>åˆ†ç±»</th><th>æ ¸å¿ƒä»£è¡¨ Skill</th><th>é€‚åˆäººç¾¤</th></tr></thead><tbody><tr><td>Engineering (å·¥ç¨‹)</td><td>code-review-checklist, tech-stack-advisor, api-docs-generator</td><td>ç¨‹åºå‘˜ã€CTO</td></tr><tr><td>Product (äº§å“)</td><td>micro-saas-launcher, user-story-writer, competitor-analysis</td><td>äº§å“ç»ç†ã€ç‹¬ç«‹å¼€å‘è€…</td></tr><tr><td>Marketing (è¥é”€)</td><td>copywriting-master, seo-audit, social-content</td><td>è¿è¥ã€è‡ªåª’ä½“</td></tr><tr><td>Security (å®‰å…¨)</td><td>smart-contract-audit, pentest-checklist</td><td>å®‰å…¨ç ”ç©¶å‘˜</td></tr><tr><td>Design (è®¾è®¡)</td><td>ui-ux-critique, color-palette-generator</td><td>è®¾è®¡å¸ˆ</td></tr><tr><td>Writing (å†™ä½œ)</td><td>doc-coauthoring, email-sequence, story-teller</td><td>å†…å®¹åˆ›ä½œè€…</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3"><strong>æ ¸å¿ƒå®æ“</strong></h3>
<h4 data-id="heading-4"><strong>Step 1: ä¸‹è½½æŠ€èƒ½åº“</strong></h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸ªä»“åº“æåˆ°æœ¬åœ°ã€‚</p>
<p>å¦‚æœä½ æ˜¯ç¨‹åºå‘˜ï¼Œç›´æ¥ç»ˆç«¯ä¸€æŠŠæ¢­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/sickn33/antigravity-awesome-skills.git
</code></pre>
<p>å¦‚æœä½ æ˜¯å°ç™½ï¼Œç›´æ¥æ‰“å¼€ GitHub é¡µé¢ï¼Œç‚¹å‡»ç»¿è‰²çš„ <strong>Code</strong> æŒ‰é’®ï¼Œé€‰æ‹© <strong>Download</strong> <strong>ZIP</strong>ã€‚è§£å‹å®ƒã€‚</p>
<h4 data-id="heading-5"><strong>Step 2: æ‰¾åˆ°å®‰è£…ç›®å½•</strong></h4>
<p>è¿™ä¸€æ­¥æœ€å…³é”®ï¼Œ90% çš„äººå¡åœ¨è¿™é‡Œã€‚</p>
<p>Antigravity æ”¯æŒä¸¤ç§å®‰è£…æ¨¡å¼ï¼Œè¯·æ ¹æ®ä½ çš„éœ€æ±‚äºŒé€‰ä¸€ï¼š</p>
<p><strong>æ¨¡å¼ Aï¼šå•é¡¹ç›®ä¸“ç”¨ ï¼ˆWorkspace Scopeï¼‰</strong> åªè®©å½“å‰é¡¹ç›®æ‹¥æœ‰è¿™äº›èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>è·¯å¾„</strong>ï¼š <code>&lt;é¡¹ç›®æ ¹ç›®å½•&gt;/.agent/skills/</code></li>
<li><strong>é€‚ç”¨</strong>ï¼š é¡¹ç›®ç‰¹æœ‰çš„å·¥ä½œæµï¼ˆæ¯”å¦‚ç‰¹å®šå›¢é˜Ÿçš„éƒ¨ç½²è„šæœ¬ï¼‰ã€‚</li>
</ul>
<p><strong>æ¨¡å¼ Bï¼šå…¨å±€é€šç”¨ ï¼ˆGlobal Scopeï¼‰ â€”â€” ğŸŸ¢ æ‡’äººæ¨èï¼</strong> è£…ä¸€æ¬¡ï¼Œä½ æ‰€æœ‰çš„é¡¹ç›®ã€æ‰€æœ‰çš„å¯¹è¯éƒ½èƒ½ç”¨ã€‚è¿™å°±ç›¸å½“äºç»™ä½ çš„ AI æ°¸ä¹…å‡çº§äº†ã€‚</p>
<ul>
<li><strong>Windows</strong>: <code>C:\Users\ä½ çš„ç”¨æˆ·å.gemini\antigravity\global_skills</code></li>
<li><strong>Mac</strong> <strong>/Linux</strong>: <code>~/.gemini/antigravity/global_skills/</code></li>
</ul>
<p><em>ï¼ˆæ³¨ï¼šå¦‚æœæ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œè¯·æ‰‹åŠ¨æ–°å»ºï¼‰</em></p>
<h4 data-id="heading-6"><strong>Step 3: "æ³¨å…¥"æŠ€èƒ½</strong></h4>
<p>æ‰“å¼€ä½ åˆšæ‰è§£å‹çš„æ–‡ä»¶å¤¹ï¼Œä½ ä¼šçœ‹åˆ°ä¸€å †ä»¥ <code>skill-</code> å¼€å¤´çš„æ–‡ä»¶å¤¹ï¼ˆæˆ–è€…ç›´æ¥æ˜¯æŠ€èƒ½åï¼‰ã€‚</p>
<p><strong>æ“ä½œåŠ¨ä½œ</strong>ï¼šé€‰ä¸­ä½ æƒ³ç”¨çš„ Skill æ–‡ä»¶å¤¹ï¼Œç›´æ¥ <strong>å¤åˆ¶</strong> -&gt; <strong>ç²˜è´´</strong> åˆ° Step 2 å»ºç«‹çš„ <code>.agent/skills</code> ç›®å½•é‡Œã€‚</p>
<p>è¿™é‡Œæ¨èå‡ ä¸ªäº²æµ‹å¥½ç”¨çš„ï¼š</p>

























<table><thead><tr><th>æŠ€èƒ½åç§°</th><th>æ¨èæŒ‡æ•°</th><th>åªè¦å¹²å˜›çš„</th></tr></thead><tbody><tr><td>micro-saas-launcher</td><td>â­â­â­â­â­</td><td>å¸®ä½ æ„æ€å’Œå¯åŠ¨å¾®å‹SaaSé¡¹ç›®</td></tr><tr><td>browser-automation</td><td>â­â­â­â­â­</td><td>æŒ‡æŒ¥æµè§ˆå™¨è‡ªåŠ¨å¹²æ´»</td></tr><tr><td>doc-coauthoring</td><td>â­â­â­â­</td><td>å¸®ä½ è‡ªåŠ¨ä»å¤§çº²ç”Ÿæˆæ–‡æ¡£</td></tr></tbody></table>
<blockquote>
<p><strong>âš ï¸ é‡è¦æé†’</strong>ï¼šå¤åˆ¶å®Œæ–‡ä»¶åï¼Œ<strong>å¿…é¡»</strong> <strong>é‡å¯</strong> <strong>Antigravity å®¢æˆ·ç«¯</strong>ï¼å¦åˆ™å®ƒè¯»å–ä¸åˆ°æ–°æŠ€èƒ½ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7"><strong>æ•ˆæœéªŒè¯</strong></h3>
<p>é‡å¯åï¼Œéšæ„æ‰“å¼€ä¸€ä¸ªå¯¹è¯çª—å£ã€‚</p>
<p>è¾“å…¥ï¼š <code>å¸®æˆ‘åšä¸€ä¸ª AI å® ç‰©ä¼´ä¾£çš„ MVP æ–¹æ¡ˆ</code></p>
<p>æˆ–è€…æ˜¾å¼è°ƒç”¨å®ƒï¼ˆå–å†³äºä½ çš„å®¢æˆ·ç«¯æ”¯æŒï¼‰ï¼š <code>@micro-saas-launcher help me validate my idea</code></p>
<p>ä¸‹ä¸€ç§’ï¼Œä½ çš„ AI å°±ä¼šè¢«"å¾®å‹ SaaS ä¸“å®¶"é™„ä½“ï¼Œå¼€å§‹æ‹·é—®ä½ çš„å•†ä¸šæ¨¡å¼ã€‚å®ƒä¸å†æ˜¯é‚£ä¸ªåªä¼šè¯´æ¼‚äº®è¯çš„é€šç”¨ AIï¼Œè€Œæ˜¯å˜æˆäº†æ‹¿ç€æ‰‹æœ¯åˆ€çš„äº§å“ç»ç†ã€‚</p>
<p><strong>From 0 to 1, just like that.</strong></p>
<hr/>
<h3 data-id="heading-8"><strong>é¿å‘æŒ‡å—</strong></h3>
<ol>
<li><strong>è·¯å¾„åˆ«æé”™</strong>ï¼šæ¨èä½¿ç”¨ <code>.agent/skills</code>ï¼Œè¿™æ˜¯æœ€é€šç”¨çš„æ ‡å‡†è·¯å¾„ã€‚ä¸è¦è‡ªå·±çå‘æ˜è·¯å¾„ã€‚</li>
<li><strong>ç½‘ç»œé—®é¢˜</strong>ï¼šæœ‰äº› Skill ï¼ˆæ¯”å¦‚ <code>browser-automation</code>ï¼‰ å¯èƒ½éœ€è¦ä¸‹è½½é¢å¤–çš„æµè§ˆå™¨é©±åŠ¨ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œå¦‚æœæ…¢æ˜¯æ­£å¸¸çš„ã€‚</li>
<li><strong>é‡åå†²çª</strong>ï¼šå¦‚æœä½ è‡ªå·±ä»¥å‰å†™è¿‡åŒåçš„ Skillï¼Œä¼šè¢«è¦†ç›–ã€‚è®°å¾—å¤‡ä»½ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-9"><strong>ç»“å°¾</strong></h3>
<p>æŠŠè¿™ä¸ªæ•™ç¨‹æ”¶è—èµ·æ¥ã€‚</p>
<p>ä»¥å GitHub æ›´æ–°äº†æ–° Skillï¼Œä½ å°±æŒ‰è¿™ä¸ªæµç¨‹èµ°ä¸€éã€‚è¿™ä¸ªä»“åº“å°±æ˜¯ä½ çš„ <strong>å†›ç«åº“</strong>ã€‚</p>
<p>åˆ«è®©ä½ çš„ AI è£¸å¥”äº†ã€‚èµ¶ç´§å»æ­¦è£…å®ƒå§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨asdf-vmç®¡ç†å„ç§è¯­è¨€ç¯å¢ƒçš„å¤šç‰ˆæœ¬]]></title>    <link>https://juejin.cn/post/7598947628467208238</link>    <guid>https://juejin.cn/post/7598947628467208238</guid>    <pubDate>2026-01-25T07:52:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598947628467208238" data-draft-id="7598818096753803315" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨asdf-vmç®¡ç†å„ç§è¯­è¨€ç¯å¢ƒçš„å¤šç‰ˆæœ¬"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-25T07:52:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Panco"/> <meta itemprop="url" content="https://juejin.cn/user/571401778501054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨asdf-vmç®¡ç†å„ç§è¯­è¨€ç¯å¢ƒçš„å¤šç‰ˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401778501054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Panco
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T07:52:11.000Z" title="Sun Jan 25 2026 07:52:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªä¼šä½¿ç”¨ä¸€å¤§å †ç¼–ç¨‹è¯­è¨€çš„è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼Ÿä¾‹å¦‚ï¼š</p>
<blockquote>
<p>Javaã€C#ã€JavaScriptã€Rubyã€Pythonã€Goâ€¦â€¦</p>
</blockquote>
<p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œä¼šåœ¨ç”µè„‘ä¸Šè£…ä¸€å¤§å †ä»¥ä¸Šå„ç§è¯­è¨€çš„â€œç‰ˆæœ¬ç®¡ç†å™¨ï¼ˆVersion Manangerï¼‰â€ï¼Œä¸ºäº†ç®¡ç†å’Œåˆ‡æ¢ä¸åŒé¡¹ç›®çš„è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰ç‰ˆæœ¬ï¼Ÿä¾‹å¦‚ï¼š</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D111193852%26content_type%3DArticle%26match_order%3D1%26q%3Dsdkman%26zd_token%3DeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJzZGttYW4iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxMTExOTM4NTIsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.50Rxze4JVrm6U3cNQyOEhLoweoGQHAIwhqrfEKbJpaM%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=111193852&amp;content_type=Article&amp;match_order=1&amp;q=sdkman&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJzZGttYW4iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxMTExOTM4NTIsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.50Rxze4JVrm6U3cNQyOEhLoweoGQHAIwhqrfEKbJpaM&amp;zhida_source=entity" ref="nofollow noopener noreferrer">sdkman</a>ã€nvmã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D111193852%26content_type%3DArticle%26match_order%3D1%26q%3Drvm%26zd_token%3DeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJydm0iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxMTExOTM4NTIsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.lAPMpyLtQc7PyyLmjStmf_IfgCj18rp6AoohyTf4Pz8%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=111193852&amp;content_type=Article&amp;match_order=1&amp;q=rvm&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJydm0iLCJ6aGlkYV9zb3VyY2UiOiJlbnRpdHkiLCJjb250ZW50X2lkIjoxMTExOTM4NTIsImNvbnRlbnRfdHlwZSI6IkFydGljbGUiLCJtYXRjaF9vcmRlciI6MSwiemRfdG9rZW4iOm51bGx9.lAPMpyLtQc7PyyLmjStmf_IfgCj18rp6AoohyTf4Pz8&amp;zhida_source=entity" ref="nofollow noopener noreferrer">rvm</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D111193852%26content_type%3DArticle%26match_order%3D1%26q%3Dpyenv%26zd_token%3DeyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJweWVudiIsInpoaWRhX3NvdXJjZSI6ImVudGl0eSIsImNvbnRlbnRfaWQiOjExMTE5Mzg1MiwiY29udGVudF90eXBlIjoiQXJ0aWNsZSIsIm1hdGNoX29yZGVyIjoxLCJ6ZF90b2tlbiI6bnVsbH0.8V_es5DK2UGYOTC31IfNW7VkJVJG2omHgxbiwRpHaU0%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=111193852&amp;content_type=Article&amp;match_order=1&amp;q=pyenv&amp;zd_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJ6aGlkYV9zZXJ2ZXIiLCJleHAiOjE3Njk1MDAwNTUsInEiOiJweWVudiIsInpoaWRhX3NvdXJjZSI6ImVudGl0eSIsImNvbnRlbnRfaWQiOjExMTE5Mzg1MiwiY29udGVudF90eXBlIjoiQXJ0aWNsZSIsIm1hdGNoX29yZGVyIjoxLCJ6ZF90b2tlbiI6bnVsbH0.8V_es5DK2UGYOTC31IfNW7VkJVJG2omHgxbiwRpHaU0&amp;zhida_source=entity" ref="nofollow noopener noreferrer">pyenv</a>ã€gvmâ€¦â€¦</p>
</blockquote>
<p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªæµªè´¹äº†å¤§é‡æ—¶é—´åœ¨é€‰æ‹©æŸç§è¯­è¨€çš„ç‰ˆæœ¬ç®¡ç†å™¨ä¸Šçš„â€œå¼ºè¿«ç—‡æ‚£è€…â€ï¼Ÿä¾‹å¦‚ï¼š</p>
<blockquote>
<p>åˆ°åº•åº”è¯¥ç”¨sdkmanå‘¢è¿˜æ˜¯jabbarå‘¢ï¼Ÿ<br/>
åˆ°åº•åº”è¯¥ç”¨nvmå‘¢è¿˜æ˜¯nå‘¢ï¼Ÿ<br/>
åˆ°åº•åº”è¯¥ç”¨rvmå‘¢è¿˜æ˜¯rbenvå‘¢ï¼Ÿ<br/>
â€¦â€¦</p>
</blockquote>
<p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œè¢«å„ç§è¯­è¨€çš„ç‰ˆæœ¬ç®¡ç†å™¨æ±¡æŸ“äº†ç¡¬ç›˜è¿˜æ•´çš„ç²¾ç¥åˆ†è£‚å‘¢ï¼Ÿ</p>
<p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼ŒæœŸå¾…èƒ½å¤Ÿæœ‰ç§èƒ½å¤Ÿç®¡ç†æ‰€æœ‰è¯­è¨€çš„ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œä»è€Œâ€œä¸€ç»Ÿæ±Ÿæ¹–â€å‘¢ï¼Ÿ</p>
<p>ä½ æ˜¯ä¸æ˜¯å’Œæˆ‘ä¸€æ ·ï¼Œå¹³æ—¶ä½¿ç”¨macOSæˆ–è€…Linuxæ“ä½œç³»ç»Ÿå‘¢ï¼Ÿ</p>
<p>å¦‚æœä»¥ä¸Šç­”æ¡ˆéƒ½å’Œæˆ‘ä¸€æ ·ï¼Œé‚£è¿™ç¯‡ç¥å™¨æ¨èå°±æ˜¯å†™ç»™ä½ çš„ï¼Œè®©æˆ‘ä»¬éš†é‡ä»‹ç»è¿™æ¬¾â€œä¸€ç»Ÿæ±Ÿæ¹–çš„è¯­è¨€ç‰ˆæœ¬ç®¡ç†å™¨â€ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fasdf-vm.com%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//asdf-vm.com/" ref="nofollow noopener noreferrer">asdf-vm</a></strong>ï¼</p>
<p>ï¼ˆWindowså¯ä»¥å®‰è£…WSLä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ï¼‰</p>
<h2 data-id="heading-0">asdf-vmä»‹ç»</h2>
<p>asdf-vmæ˜¯ä¸€ä¸ªèƒ½å¤ŸæŒ‰é¡¹ç›®ç®¡ç†å¤šç§è¯­è¨€è¿è¡Œæ—¶ç‰ˆæœ¬çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå½“å‰ä»¥æ’ä»¶çš„æ–¹å¼å·²ç»æ”¯æŒ150+çš„è¯­è¨€æˆ–å¸¸ç”¨å¼€å‘å·¥å…·ã€‚</p>
<p>å®˜ç½‘åœ°å€ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fasdf-vm.com" target="_blank" title="https://link.zhihu.com/?target=https%3A//asdf-vm.com" ref="nofollow noopener noreferrer">asdf-vm.com</a></p>
<p>ç›¸æ¯”äºå®‰è£…ä¸€å¤§å †â€œä¸“æ¬¾ä¸“ç”¨â€çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·æ¥è¯´ï¼Œasdf-vmå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç”¨ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€</li>
<li>ç”¨å®Œå…¨ä¸€è‡´çš„å‘½ä»¤ç®¡ç†æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€</li>
<li>å¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶åœ¨ä¸€ä¸ªåœ°æ–¹ä¿æŒå…¨å±€çš„é»˜è®¤é…ç½®</li>
<li>å¯ä»¥é€šè¿‡ä¸€ä¸ªÂ <code>.tool-versions</code>Â é…ç½®æ–‡ä»¶æŒ‰å·¥ç¨‹è¿›è¡Œå•ç‹¬é…ç½®</li>
<li>æ”¯æŒç°æœ‰çš„é…ç½®æ–‡ä»¶ä»¥æ–¹ä¾¿è¿ç§»ç°æœ‰ç‰ˆæœ¬ç®¡ç†å·¥å…·çš„ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼šÂ <code>.node-version</code>,Â <code>.nvmrc</code>,Â <code>.ruby-version</code></li>
<li>åœ¨ç›®å½•åˆ‡æ¢çš„æ—¶å€™è‡ªåŠ¨åˆ‡æ¢è¿è¡Œæ—¶çš„ç‰ˆæœ¬</li>
<li>é€šè¿‡ç®€æ´çš„æ’ä»¶ç³»ç»Ÿæ·»åŠ å¤šç§ç¼–ç¨‹è¯­è¨€çš„æ”¯æŒ</li>
<li>ç”±æ’ä»¶è‡ªèº«ç®¡ç†å‘½ä»¤è¡Œè‡ªåŠ¨å®Œæˆè„šæœ¬ï¼Œè€Œä¸éœ€è¦ä½ è‡ªå·±å»é…ç½®ï¼</li>
</ul>
<p>è€Œä¸”è¿™ä¸ªå·¥å…·çš„åå­—èµ·çš„ä¹Ÿå¾ˆæœ‰ç‰¹è‰²â€”â€”<code>asdf</code>å¯¹åº”çš„å°±æ˜¯æ ‡å‡†é”®ç›˜ä¸Šå·¦æ‰‹é»˜è®¤æ”¾åœ¨ä¸Šé¢çš„<code>A</code>Â <code>S</code>Â <code>D</code>Â <code>F</code>å››ä¸ªæŒ‰é”®ï¼Œåˆå¥½æŒ‰åˆå¥½è®°ã€‚</p>
<h2 data-id="heading-1">ä½¿ç”¨æ–¹æ³•</h2>
<p>å·¥å…·çš„å®‰è£…æ–¹æ³•éå¸¸ç®€å•ï¼Œåœ¨è¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ï¼Œå¯ä»¥çœ‹å®˜ç½‘è¯´æ˜ã€‚åœ¨è¿™é‡Œä¸»è¦ç»™å¤§å®¶å¿«é€Ÿå±•ç¤ºä¸‹å¸¸ç”¨çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
<h3 data-id="heading-2">å®‰è£…è¯­è¨€æ’ä»¶</h3>
<p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥é¦–å…ˆé€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºæ‰€æœ‰æ”¯æŒçš„è¯­è¨€æ’ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css">asdf plugin list <span class="hljs-attribute">all</span>
</code></pre>
<p>å½“ç„¶ï¼Œå¦‚æœæƒ³å¿«é€ŸçŸ¥é“æŸç§è¯­è¨€æ˜¯å¦å·²è¢«æ”¯æŒï¼Œå¯ä»¥ç”¨grepæ ¹æ®å…³é”®å­—è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">asdf plugin list <span class="hljs-attribute">all</span> | grep golang
</code></pre>
<p>æ¯ç§è¯­è¨€çš„ä¸€äº›ç‰¹æ®Šä½¿ç”¨è¦æ±‚å’Œæ³¨æ„äº‹é¡¹ï¼Œå¯ä»¥æŸ¥çœ‹è¯¥è¯­è¨€çš„æ’ä»¶é¡µé¢ã€‚</p>
<h3 data-id="heading-3">å®‰è£…æŸç§è¯­è¨€çš„å¯ç”¨ç‰ˆæœ¬</h3>
<p>åœ¨å®‰è£…äº†æŸç§è¯­è¨€çš„æ’ä»¶ä¹‹åï¼Œå¯ä»¥é€šè¿‡<code>asdf list all &lt;name&gt;</code>å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰åœ¨çº¿çš„å¯ç”¨ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">asdf list <span class="hljs-attribute">all</span> golang
</code></pre>
<p>ç„¶åï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œé€šè¿‡<code>asdf install [&lt;name&gt; &lt;version]</code>å‘½ä»¤å®‰è£…æŒ‡å®šçš„è¯­è¨€ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs">asdf install golang 1.13.6
</code></pre>
<p><strong>PSï¼šå°å¿ƒç‚¹ï¼Œå¦‚æœä½ æ²¡æœ‰åŠ ç‰ˆæœ¬å·ï¼Œåˆ™é»˜è®¤å®‰è£…çš„æ˜¯è¯¥è¯­è¨€çš„æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬ï¼</strong></p>
<p>åœ¨å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰å·²å®‰è£…çš„è¯­è¨€å’Œç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs">asdf list
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨æŸç§è¯­è¨€çš„å·²å®‰è£…ç‰ˆæœ¬</h3>
<p>åœ¨æ—¥å¸¸ä½¿ç”¨æ—¶ï¼Œåˆ‡æ¢æŒ‡å®šçš„è¯­è¨€ç‰ˆæœ¬éå¸¸ç®€å•ã€‚</p>
<p>å¦‚æœä»…ä»…æ˜¯åœ¨å½“å‰çš„shellä¼šè¯ä¸­ä¸´æ—¶è¿›è¡Œåˆ‡æ¢ï¼Œå¯ä»¥ä½¿ç”¨<code>asdf shell &lt;name&gt; &lt;version&gt;</code>å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs">asdf shell golang 1.13.6
</code></pre>
<p>å¦‚æœå¸Œæœ›è®¾ç½®åœ¨æŸä¸ªç›®å½•ä¹‹ä¸‹ä½¿ç”¨ç‰¹å®šçš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨<code>asdf local &lt;name&gt; &lt;version&gt;</code>å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤èƒ½å¤Ÿåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ª<code>.tool-version</code>æ–‡ä»¶è®°å½•æŒ‡å®šçš„è¯­è¨€å’Œç‰ˆæœ¬å·ï¼Œè¿™æ ·ä¸‹å›å†ä»å‘½ä»¤è¡Œè®¿é—®æ”¹ç›®å½•çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¯¹åº”çš„è¯­è¨€ç‰ˆæœ¬ï¼ˆåŒæ—¶è¿˜å…¼å®¹å¸¸è§çš„å…¶ä»–ç‰ˆæœ¬ç®¡ç†å™¨çš„é…ç½®æ–‡ä»¶ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">asdf <span class="hljs-built_in">local</span> golang 1.13.6
</code></pre>
<p>å¦‚æœå¸Œæœ›åœ¨å…¨å±€è®¾ç½®é»˜è®¤çš„è¯­è¨€ç‰ˆæœ¬ï¼Œåˆ™å¯ä»¥ä½¿ç”¨<code>asdf global &lt;name&gt; &lt;version&gt;</code>å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤èƒ½å¤Ÿåœ¨ç”¨æˆ·çš„<code>$HOME</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ª<code>.tool-version</code>æ–‡ä»¶è®°å½•é»˜è®¤çš„è¯­è¨€å’Œç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">asdf <span class="hljs-keyword">global</span> golang <span class="hljs-number">1.13</span><span class="hljs-number">.6</span>
</code></pre>
<p>æ€ä¹ˆæ ·ï¼Ÿä»¥ä¸Šå‘½ä»¤æ˜¯ä¸æ˜¯éå¸¸ç®€å•å¥½ç”¨ï¼Ÿ</p>
<p><strong>ä»ç°åœ¨å¼€å§‹ï¼Œç”¨asdf-vmæ¥æŒ¨ä¸ªæ›¿æ¢ä½ ç”µè„‘ä¸Šå„ç§ä¸“ç”¨çš„è¿è¡Œæ—¶ç‰ˆæœ¬ç®¡ç†å™¨å§ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gité«˜é¢‘å‘½ä»¤ä¸æ³¨æ„äº‹é¡¹]]></title>    <link>https://juejin.cn/post/7598588085597372456</link>    <guid>https://juejin.cn/post/7598588085597372456</guid>    <pubDate>2026-01-25T09:17:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598588085597372456" data-draft-id="7598563188112212020" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gité«˜é¢‘å‘½ä»¤ä¸æ³¨æ„äº‹é¡¹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-25T09:17:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç››å¤å…‰å¹´çˆ±å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/2189882893018872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gité«˜é¢‘å‘½ä»¤ä¸æ³¨æ„äº‹é¡¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2189882893018872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç››å¤å…‰å¹´çˆ±å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:17:46.000Z" title="Sun Jan 25 2026 09:17:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é—®é¢˜å›é¡¾</h2>
<p>åœ¨ feature/branchA åˆ†æ”¯çš„åŸºç¡€ä¸Š checkout feature/branchA-bak åˆ†æ”¯ï¼Œç”±äºéœ€æ±‚æ¶‰åŠåˆ°model-A å’Œ model-Bä¸¤ä¸ªæ¨¡å—çš„å¼€å‘ï¼Œä½†æ˜¯éœ€è¦å…ˆå‘å¸ƒä¸Šçº¿ model-Açš„ä»£ç ï¼Œæš‚ä¸ä¸Šçº¿ model-Bçš„ä»£ç ï¼Œæ‰€ä»¥æƒ³åœ¨ checkout feature/branchA-bak åˆ†æ”¯ ä¸Šå›é€€ model-Bæ¨¡å—çš„ä»£ç å’Œmasteråˆ†æ”¯ä¿æŒä¸€è‡´ï¼Œåªå‘å¸ƒmodel-A çš„æ¨¡å—ä»£ç ï¼Œä½†æ˜¯åœ¨æ‰§è¡Œæ¨¡å—å›é€€çš„gitå‘½ä»¤çŠ¯äº†ä¸€ä¸ªé”™è¯¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">git checkout master -- model-<span class="hljs-selector-tag">B</span>
</code></pre>
<p>åœ¨feature/voip-add-node-bak åˆ†æ”¯ä¸Šæ‰§è¡Œ git checkout master -- model-B å‘½ä»¤ï¼Œç„¶åæœ¬åœ°è§£å†³ä¸€äº›ä»£ç ä¾èµ–ç­‰å†²çªåæ‰§è¡Œ commit: Revert model-B to master on bak branch ç„¶åpushäº†ï¼Œç”±äºéœ€æ±‚æ”¹åŠ¨çš„æ–‡ä»¶æ¯”è¾ƒå¤šï¼Œå‡ åä¸Šç™¾ä¸ªæ”¹åŠ¨æ–‡ä»¶ï¼Œå°†è¿‘ä¸¤ä¸‡è¡Œä»£ç ï¼Œæ²¡æœ‰ä»”ç»†æ¯”å¯¹commit ä»£ç æ˜¯å¦åˆç†å°±æ‰§è¡Œäº†pushæ“ä½œï¼Œé€ æˆ model-B æ¨¡å—å›é€€çš„æ—¶é—´è¾ƒæ—©ï¼Œä¹‹å‰å¾ˆå¤šåŠŸèƒ½å’Œé…ç½®éƒ½è¢«å›é€€äº†ï¼Œä¸Šçº¿æ—¶ç›´æ¥æŠŠfeature/voip-add-node-bak åˆ†æ”¯ä»£ç åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼Œé€ æˆmasteråˆ†æ”¯ä»£ç ä¹Ÿå›é€€äº†ã€‚</p>
<p><strong>åˆ†æï¼š</strong></p>
<p>git checkout master -- model-B è¿™æ¡å‘½ä»¤çš„æ„æ€æ˜¯ï¼š <strong>"ç”¨æœ¬åœ°masteråˆ†æ”¯ä¸­çš„model-Bç›®å½•ï¼Œè¦†ç›–å½“å‰å·¥ä½œåŒºä¸­çš„model-Bç›®å½•"ï¼Œ</strong> feature/branchA-bak åˆ†æ”¯ä¸Šmasterä»£ç å¾ˆå¯èƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œå¯èƒ½è½åäºä»£ç ä»“åº“ä¸Šmasteråˆ†æ”¯å‡ å‘¨çš„æ—¶é—´ï¼Œå› æ­¤ çœŸå®å›é€€çš„commit-idåŸºå‡†ä¸å¯æ§ã€‚æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"># æŸ¥çœ‹è¿œç¨‹masterçš„æœ€æ–°<span class="hljs-keyword">commit</span>
git log origin<span class="hljs-operator">/</span>master <span class="hljs-comment">--oneline -1</span>
â€‹
# ä½¿ç”¨å…·ä½“çš„<span class="hljs-keyword">commit</span>å“ˆå¸Œ
git checkout <span class="hljs-keyword">commit</span><span class="hljs-operator">-</span>id <span class="hljs-comment">-- model-B</span>
</code></pre>
<p>ä¿®å¤masteråˆ†æ”¯å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># å®‰å…¨åœ°æ’¤é”€é”™è¯¯çš„åˆå¹¶</span>
git revert -m <span class="hljs-number">1</span> bad123
git <span class="hljs-keyword">push</span> origin master
<span class="hljs-comment"># ä¼˜ç‚¹ï¼šä¿ç•™å†å²ï¼Œå›¢é˜Ÿå‹å¥½</span>
</code></pre>
<p>æˆ–è€…ç‚¹å‡»ä¸€é”®å›æ»šï¼Œå›æ»šä»£ç åˆ°ä¸Šæ¬¡ç¡®è®¤ä¸Šçº¿çš„ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-1">äºŒã€<strong>æ—¥å¸¸å¼€å‘é«˜é¢‘å‘½ä»¤</strong></h2>
<p>æˆ‘ä»¬ç°åœ¨æ˜¯å¤šåˆ†æ”¯å¼€å‘ï¼Œç»å¸¸æ¶‰åŠåˆ‡æ¢åˆ†æ”¯ï¼Œmerge åˆ†æ”¯ä»£ç ç­‰ï¼ŒåŸºäºæˆ‘ä»¬çš„ä½¿ç”¨åœºæ™¯ï¼Œåˆ†æä¸€äº›é‡è¦çš„git å‘½ä»¤ ä»¥åŠå®¹æ˜“å¿½ç•¥é”™è¯¯ä½¿ç”¨çš„å‘½ä»¤ï¼Œæ·±åˆ»ç†è§£git çš„åŸç†çš„æŠ€å·§ï¼Œå‡å°‘è¯¯æ“ä½œï¼Œæ¯”å¦‚ git rebaeã€ git merge ã€ git resetã€ git stashã€ git storeç­‰ç­‰ã€‚</p>
<h3 data-id="heading-2"><strong>ä¸€ã€Gitæœ¬è´¨ï¼šç†è§£è¿™ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ</strong></h3>
<h4 data-id="heading-3">1.Gitçš„çŠ¶æ€ä¸åŒºåŸŸ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/130cfd640fad494a8765d40461345d02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55ub5aSP5YWJ5bm054ix5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769937465&amp;x-signature=hzvpL5EyZLyFkmHJUaMTyzXWUDw%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-scss" lang="scss">å·¥ä½œåŒº (Working Directory) â†’ æš‚å­˜åŒº (Staging Area) â†’ æœ¬åœ°ä»“åº“ (Local Repository)  â†’  è¿œç¨‹ä»“åº“ (Remote Repository)
 Â  Â  Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â†“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â†“
 Â  ä½ ç¼–è¾‘çš„æ–‡ä»¶ Â  Â  Â  Â  Â  Â  Â  Â  Â  git addåçš„æ–‡ä»¶ Â  Â  Â  Â  Â  Â   git commitåçš„æäº¤ Â  Â  Â  Â  Â  git pushåçš„å…±äº«ä»£ç 
</code></pre>
<p><strong>äº”ä¸ªå·¥ä½œåŒº</strong>ï¼š</p>
<ul>
<li><strong>å·¥ä½œåŒº</strong>ï¼šå°±æ˜¯ä½ çœ‹åˆ°çš„é¡¹ç›®æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘ã€‚</li>
<li><strong>æš‚å­˜åŒº</strong>ï¼šä¸€ä¸ªä¸­é—´å±‚ï¼Œè®©ä½ å†³å®šå“ªäº›ä¿®æ”¹è¦è¿›å…¥ä¸‹ä¸€ä¸ªç‰ˆæœ¬ã€‚</li>
<li><strong>æœ¬åœ°ä»“åº“</strong>ï¼šä¿å­˜äº†é¡¹ç›®å®Œæ•´å†å²çš„åœ°æ–¹ï¼Œæœ¬åœ°è¿œç¨‹ä»“åº“æ˜¯è¿œç¨‹åˆ†æ”¯åœ¨æœ¬åœ°çš„å¼•ç”¨ï¼Œå±äºæœ¬åœ°ä»“åº“çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li><strong>è¿œç¨‹ä»“åº“</strong>ï¼šå›¢é˜Ÿå…±äº«çš„ä»£ç ä»“åº“ã€‚</li>
</ul>
<h4 data-id="heading-4">2. Gitå¯¹è±¡æ¨¡å‹ï¼šä¸€åˆ‡çš†å¯¹è±¡</h4>
<p>Gitåº•å±‚æœ‰å››ç§æ ¸å¿ƒå¯¹è±¡ï¼Œç†è§£å®ƒä»¬èƒ½è§£å¼€å¾ˆå¤šè°œå›¢ï¼š</p>























































<table><thead><tr><th>å¯¹è±¡ç±»å‹</th><th>ä½œç”¨</th><th>å­˜å‚¨å†…å®¹</th><th>ä¸å­˜å‚¨å†…å®¹</th><th>å…¸å‹ç»“æ„/å­—æ®µ</th><th>æ˜¯å¦å»é‡</th><th>å¸¸ç”¨æŸ¥çœ‹å‘½ä»¤</th><th>å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Blob</strong>(Binary Large Object)</td><td>å­˜æ–‡ä»¶<strong>å†…å®¹æœ¬èº«</strong></td><td>æ–‡ä»¶å­—èŠ‚å†…å®¹</td><td>æ–‡ä»¶åã€è·¯å¾„ã€ç›®å½•ç»“æ„ã€ä½œè€…ã€æ—¶é—´ã€æäº¤ä¿¡æ¯</td><td>åŸå§‹å­—èŠ‚æµ</td><td>ç›¸åŒå†…å®¹åªå­˜ä¸€ä»½ï¼ˆSHA-1/SHA-256ï¼‰</td><td><code>git hash-object``git cat-file -p &lt;blob&gt;</code></td><td>æ–‡ä»¶å†…å®¹å…¥åº“ã€å†…å®¹å»é‡</td></tr><tr><td><strong>Tree</strong></td><td>å­˜<strong>ç›®å½•ç»“æ„å¿«ç…§</strong></td><td>æ–‡ä»¶åã€æƒé™(mode)ã€å¯¹è±¡ç±»å‹(blob/tree)ã€å¯¹è±¡å“ˆå¸Œ</td><td>æ–‡ä»¶å†…å®¹ã€ä½œè€…ã€æäº¤ä¿¡æ¯</td><td><code>100644 blob &lt;hash&gt; filename``040000 tree &lt;hash&gt; dirname</code></td><td>é—´æ¥å»é‡ï¼ˆç»“æ„ç›¸åŒå…±äº« treeï¼‰</td><td><code>git cat-file -p &lt;tree&gt;git ls-tree &lt;tree&gt;</code></td><td>æ„å»ºé¡¹ç›®å¿«ç…§</td></tr><tr><td><strong>Commit</strong></td><td>å­˜ä¸€æ¬¡<strong>æäº¤è®°å½•</strong></td><td>æ ¹ tree æŒ‡é’ˆã€çˆ¶ commitã€ä½œè€…ã€æäº¤è€…ã€æ—¶é—´ã€æäº¤ä¿¡æ¯</td><td>æ–‡ä»¶å†…å®¹ã€ç›®å½•ç»“æ„</td><td><code>tree &lt;hash&gt;``parent &lt;hash&gt;``author ...``committer ...</code></td><td>é—´æ¥å»é‡ï¼ˆå…±äº« tree/blobï¼‰</td><td><code>git cat-file -p &lt;commit&gt;</code></td><td>æ„å»ºå†å²é“¾</td></tr><tr><td><strong>Tagï¼ˆæ ‡ç­¾ï¼‰</strong></td><td>ç»™ commit èµ·<strong>æ°¸ä¹…åå­—</strong></td><td>æŒ‡å‘å¯¹è±¡ã€æ ‡ç­¾ä½œè€…ã€æ—¶é—´ã€è¯´æ˜ã€ç­¾å</td><td>æ–‡ä»¶å†…å®¹ã€ç›®å½•ç»“æ„</td><td><code>object &lt;hash&gt;``type commit``tag v1.0</code></td><td>ä¸å»é‡</td><td><code>git cat-file -p &lt;tag&gt;</code></td><td>ç‰ˆæœ¬å‘å¸ƒã€é‡Œç¨‹ç¢‘æ ‡è®°</td></tr></tbody></table>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹Gitå¯¹è±¡ç±»å‹</span>
git cat-file -t &lt;<span class="hljs-built_in">hash</span>&gt;  <span class="hljs-comment"># æŸ¥çœ‹å¯¹è±¡ç±»å‹</span>
git cat-file -p &lt;<span class="hljs-built_in">hash</span>&gt;  <span class="hljs-comment"># æŸ¥çœ‹å¯¹è±¡å†…å®¹</span>
â€‹
<span class="hljs-comment"># å››ç§å¯¹è±¡ï¼š</span>
<span class="hljs-comment"># 1. blob: å­˜å‚¨æ–‡ä»¶å†…å®¹ï¼ˆæ–‡ä»¶åå’Œè·¯å¾„ä¿¡æ¯ä¸åœ¨è¿™é‡Œï¼‰</span>
<span class="hljs-comment"># 2. tree: å­˜å‚¨ç›®å½•ç»“æ„ï¼ŒæŒ‡å‘blobå’Œå…¶ä»–tree</span>
<span class="hljs-comment"># 3. commit: å­˜å‚¨æäº¤ä¿¡æ¯ï¼ŒæŒ‡å‘ä¸€ä¸ªtreeå’Œçˆ¶commit</span>
<span class="hljs-comment"># 4. tag: æŒ‡å‘ç‰¹å®šcommitçš„æ ‡ç­¾</span>
</code></pre>
<h4 data-id="heading-5">3. gitçš„æœ¬è´¨ï¼šæŒ‡é’ˆ+å¿«ç…§ç³»ç»Ÿ</h4>
<p><strong>commitï¼š</strong></p>
<ul>
<li>ç”Ÿæˆå¿«ç…§ï¼ˆtree + blobï¼‰</li>
<li>åˆ†æ”¯æŒ‡é’ˆå‰ç§»ä¸€æ ¼</li>
</ul>
<p><strong>checkoutï¼š</strong></p>
<ul>
<li>HEAD æ¢ä¸ªæŒ‡é’ˆ</li>
<li>å·¥ä½œåŒºé‡å»ºå¿«ç…§</li>
</ul>
<p><strong>resetï¼š</strong></p>
<ul>
<li>åˆ†æ”¯æŒ‡é’ˆå¾€å›æŒª</li>
<li>å¯é€‰æ˜¯å¦é‡å»ºæš‚å­˜åŒºå’Œå·¥ä½œåŒº</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹åˆ†æ”¯æ–‡ä»¶</span>
<span class="hljs-built_in">cat</span> .git/HEAD Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># å½“å‰HEADæŒ‡å‘</span>
<span class="hljs-built_in">cat</span> .git/refs/heads/main Â  Â  Â  Â   <span class="hljs-comment"># mainåˆ†æ”¯æŒ‡å‘çš„commit</span>
â€‹
<span class="hljs-comment"># åˆ›å»ºåˆ†æ”¯çš„æœ¬è´¨</span>
<span class="hljs-built_in">echo</span> $(git rev-parse HEAD) &gt; .git/refs/heads/new-branch
</code></pre>
<p>åˆ†æ”¯ä¸æ˜¯æ–‡ä»¶çš„æ‹·è´ï¼Œåªæ˜¯ä¸€ä¸ªæŒ‡å‘æŸä¸ªæäº¤çš„æŒ‡é’ˆã€‚åˆ‡æ¢åˆ†æ”¯æ—¶ï¼ŒGitåªæ˜¯æ›¿æ¢å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ã€‚</p>
<p>åˆ‡æ¢åˆ†æ”¯æ—¶ï¼ŒGit ä¼šï¼š</p>
<ol start="0">
<li>ç§»åŠ¨ HEAD æŒ‡å‘æ–°çš„åˆ†æ”¯</li>
<li>æ›´æ–° indexï¼ˆæš‚å­˜åŒºï¼‰</li>
<li>ç”¨ç›®æ ‡ commit çš„ tree é‡å»ºå·¥ä½œåŒºæ–‡ä»¶</li>
</ol>
<h3 data-id="heading-6">äºŒã€é«˜é¢‘å‘½ä»¤æ·±åº¦è§£æ</h3>
<h4 data-id="heading-7">1. <code>git add</code>ï¼šä¸ä»…ä»…æ˜¯æ·»åŠ æ–‡ä»¶</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å¸¸è§ç”¨æ³•</span>
git <span class="hljs-keyword">add</span> file.txt Â  Â  Â  Â   <span class="hljs-meta"># æ·»åŠ å•ä¸ªæ–‡ä»¶</span>
git <span class="hljs-keyword">add</span> . Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹ï¼ˆæ…ç”¨ï¼ï¼‰</span>
git <span class="hljs-keyword">add</span> -p Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># äº¤äº’å¼æ·»åŠ ï¼ˆæ¨èï¼‰</span>
â€‹
<span class="hljs-meta"># æœ¬è´¨ï¼šå°†å·¥ä½œåŒºçš„ä¿®æ”¹ä¿å­˜ä¸ºblobå¯¹è±¡ï¼Œå¹¶æ›´æ–°æš‚å­˜åŒº</span>
</code></pre>
<p><strong>å‘ç‚¹</strong>ï¼š</p>
<ul>
<li><code>git add .</code> ä¼šæ·»åŠ æ‰€æœ‰ä¿®æ”¹ï¼ŒåŒ…æ‹¬ä½ ä¸æƒ³æäº¤çš„è°ƒè¯•ä»£ç </li>
<li>å·²æ·»åŠ åˆ°.ï¼šçš„æ–‡ä»¶ä¸ä¼šè¢«addï¼Œä½†<strong>å·²è·Ÿè¸ªæ–‡ä»¶çš„ä¿®æ”¹ä¼šè¢«add</strong></li>
</ul>
<p><strong>å®‰å…¨åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å…ˆæŸ¥çœ‹çŠ¶æ€ï¼Œå†é€‰æ‹©æ€§æ·»åŠ </span>
git status -s Â  Â  Â  Â  Â   <span class="hljs-meta"># ç®€æ´çŠ¶æ€</span>
git diff Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># æŸ¥çœ‹å…·ä½“ä¿®æ”¹</span>
git <span class="hljs-keyword">add</span> -p Â  Â  Â  Â  Â  Â  Â  <span class="hljs-meta"># äº¤äº’å¼æ·»åŠ ï¼Œé€å—ç¡®è®¤</span>
</code></pre>
<h4 data-id="heading-8">2. <code>git commit</code>ï¼šåˆ›å»ºç‰ˆæœ¬å¿«ç…§</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># å¸¸ç”¨æ–¹å¼</span>
git commit -m <span class="hljs-string">"message"</span> Â  Â  Â  Â   <span class="hljs-comment"># ç®€å•æäº¤</span>
git commit --amend Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># ä¿®æ”¹æœ€è¿‘æäº¤</span>
git commit --allow-<span class="hljs-keyword">empty</span> Â  Â  Â  Â  <span class="hljs-comment"># åˆ›å»ºç©ºæäº¤</span>
â€‹
<span class="hljs-comment"># æœ¬è´¨ï¼šåˆ›å»ºä¸€ä¸ªcommitå¯¹è±¡ï¼ŒåŒ…å«treeã€çˆ¶æäº¤ã€ä½œè€…ä¿¡æ¯å’Œæäº¤ä¿¡æ¯</span>
</code></pre>
<p><strong>æ·±å…¥ç†è§£</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æäº¤çš„å®Œæ•´ä¿¡æ¯</span>
git show --<span class="hljs-built_in">stat</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># æŸ¥çœ‹æäº¤çš„ç»Ÿè®¡ä¿¡æ¯</span>
git show --name-only Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æŸ¥çœ‹æäº¤ä¿®æ”¹çš„æ–‡ä»¶å</span>
git show -p Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># æŸ¥çœ‹æäº¤çš„å…·ä½“å·®å¼‚</span>
â€‹
<span class="hljs-comment"># ä¿®æ”¹æäº¤ä¿¡æ¯</span>
git commit --amend -m <span class="hljs-string">"æ–°çš„æäº¤ä¿¡æ¯"</span>
<span class="hljs-comment"># æ³¨æ„ï¼šè¿™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„commitå¯¹è±¡ï¼Œæ›¿æ¢æ—§çš„</span>
</code></pre>
<p><strong>å‘ç‚¹</strong>ï¼š</p>
<ul>
<li><code>git commit --amend</code> ä¼š<strong>é‡å†™å†å²</strong>ï¼Œå·²æ¨é€åˆ°è¿œç¨‹çš„æäº¤ä¸è¦ä½¿ç”¨</li>
<li>æäº¤ä¿¡æ¯ä¸æ¸…æ™°ä¼šç»™å›¢é˜Ÿåä½œå¸¦æ¥éº»çƒ¦</li>
</ul>
<h4 data-id="heading-9">3. <code>git checkout</code> vs <code>git switch</code>/<code>git restore</code></h4>
<p>Git 2.23å¼•å…¥äº†æ›´æ˜ç¡®çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># ä¼ ç»Ÿæ–¹å¼ï¼ˆå®¹æ˜“æ··æ·†ï¼‰</span>
git checkout feature Â  Â   <span class="hljs-meta"># åˆ‡æ¢åˆ†æ”¯</span>
git checkout -- file Â  Â  <span class="hljs-meta"># ä¸¢å¼ƒå·¥ä½œåŒºä¿®æ”¹</span>
â€‹
<span class="hljs-meta"># æ–°å‘½ä»¤ï¼ˆè¯­ä¹‰æ›´æ¸…æ™°ï¼‰</span>
git <span class="hljs-keyword">switch</span> feature Â  Â  Â  <span class="hljs-meta"># åˆ‡æ¢åˆ†æ”¯</span>
git restore file Â  Â  Â   <span class="hljs-meta"># æ¢å¤æ–‡ä»¶</span>
git restore --staged file <span class="hljs-meta"># ä»æš‚å­˜åŒºç§»é™¤</span>
</code></pre>
<p><strong>æœ¬è´¨åŒºåˆ«</strong>ï¼š</p>
<ul>
<li><code>checkout</code>ï¼šå¤šåŠŸèƒ½å‘½ä»¤ï¼Œå¯ä»¥åˆ‡æ¢åˆ†æ”¯ã€æ¢å¤æ–‡ä»¶ç­‰</li>
<li><code>switch</code>ï¼šä¸“é—¨ç”¨äºåˆ‡æ¢åˆ†æ”¯</li>
<li><code>restore</code>ï¼šä¸“é—¨ç”¨äºæ¢å¤æ–‡ä»¶</li>
</ul>
<p><strong>å‘ç‚¹</strong>ï¼š</p>
<ul>
<li><code>git checkout -- .</code> ä¼š<strong>æ°¸ä¹…ä¸¢å¤±</strong>æ‰€æœ‰æœªæäº¤çš„ä¿®æ”¹</li>
<li>æ¢å¤å‰ä¸€å®šè¦å…ˆç”¨ <code>git status</code> ç¡®è®¤</li>
<li>åˆ‡æ¢åˆ†æ”¯ï¼Œèƒ½ç”¨ switchï¼Œå°±åˆ«ç”¨ checkout</li>
</ul>
<p><strong>ä½¿ç”¨ checkout çš„é£é™©ç‚¹ï¼š</strong></p>
<p>1)æ„å¤–è¦†ç›–æœªæäº¤çš„ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment"># å‡è®¾ä½ åœ¨ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿˜æ²¡æäº¤</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">"new changes"</span> &gt; important.txt
â€‹
<span class="hljs-comment"># å±é™©æ“ä½œï¼šcheckout åˆ°å¦ä¸€ä¸ªåˆ†æ”¯</span>
git checkout other-branch
<span class="hljs-comment"># âŒ å¦‚æœ other-branch ä¹Ÿæœ‰ important.txtï¼ŒGit ä¼šå°è¯•åˆå¹¶</span>
<span class="hljs-comment"># âŒ å¦‚æœåˆå¹¶å†²çªï¼Œå¯èƒ½é€ æˆä¿®æ”¹ä¸¢å¤±æˆ–æ··ä¹±</span>
â€‹
<span class="hljs-comment"># å®‰å…¨æ“ä½œï¼šä½¿ç”¨ switch</span>
git <span class="hljs-keyword">switch</span> other-branch
<span class="hljs-comment"># âš ï¸ åŒæ ·ä¼šæ£€æŸ¥æœªæäº¤ä¿®æ”¹ï¼Œä½†è¯­ä¹‰æ›´æ¸…æ™°</span>
</code></pre>
<p>2)ä¸æ¢å¤æ–‡ä»¶æ“ä½œæ··æ·†ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å±é™©ï¼šæƒ³åˆ‡æ¢åˆ†æ”¯ï¼Œä½†å†™é”™äº†å‘½ä»¤</span>
git checkout . Â  Â   <span class="hljs-meta"># æœ¬æ„æ˜¯åˆ‡æ¢åˆ†æ”¯ï¼Œå®é™…æ¢å¤äº†æ‰€æœ‰æ–‡ä»¶ï¼</span>
<span class="hljs-meta"># âŒ è¿™å°†ä¸¢å¼ƒæ‰€æœ‰æœªæš‚å­˜çš„ä¿®æ”¹ï¼</span>
â€‹
<span class="hljs-meta"># å®‰å…¨ï¼šåˆ†å¼€ä½¿ç”¨ä¸åŒå‘½ä»¤</span>
git <span class="hljs-keyword">switch</span> main Â  Â  <span class="hljs-meta"># åˆ‡æ¢åˆ†æ”¯</span>
git restore . Â  Â  Â  <span class="hljs-meta"># æ¢å¤æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
</code></pre>
<p>3)æ„å¤–åˆ†ç¦» HEADï¼š</p>
<pre><code class="hljs language-r" lang="r"><span class="hljs-comment"># å±é™©ï¼šæ£€æŸ¥å†å²æäº¤</span>
git checkout abc1234  <span class="hljs-comment"># åˆ†ç¦» HEAD åˆ°æŒ‡å®šæäº¤</span>
<span class="hljs-comment"># âŒ ç°åœ¨å¤„äº "detached HEAD" çŠ¶æ€</span>
<span class="hljs-comment"># âŒ åœ¨æ­¤çŠ¶æ€ä¸‹æäº¤ä¼šäº§ç”Ÿæ‚¬ç©ºæäº¤ï¼ˆæ˜“ä¸¢å¤±ï¼‰</span>
â€‹
<span class="hljs-comment"># å®‰å…¨ï¼šæ˜ç¡®æ„å›¾</span>
git <span class="hljs-built_in">switch</span> <span class="hljs-operator">-</span><span class="hljs-operator">-</span>detach abc1234  <span class="hljs-comment"># æ˜ç¡®è¡¨ç¤ºè¦åˆ†ç¦» HEAD</span>
<span class="hljs-comment"># æˆ–ä½¿ç”¨æ›´å®‰å…¨çš„æŸ¥çœ‹æ–¹å¼</span>
git show abc1234
git <span class="hljs-built_in">log</span> <span class="hljs-operator">-</span><span class="hljs-operator">-</span>oneline <span class="hljs-operator">-</span><span class="hljs-number">10</span>
</code></pre>
<p>4)åˆ†æ”¯åä¸æ–‡ä»¶åå†²çªï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å‡è®¾æœ‰ä¸€ä¸ªåˆ†æ”¯å« "docs"ï¼Œä¹Ÿæœ‰ä¸€ä¸ªæ–‡ä»¶å« "docs"</span>
â€‹
<span class="hljs-meta"># å±é™©ï¼šæƒ³åˆ‡æ¢åˆ†æ”¯ï¼Œä½†å¯èƒ½è¢«è¯¯è§£</span>
git checkout docs
<span class="hljs-meta"># è¿™åˆ°åº•æ˜¯åˆ‡æ¢åˆ†æ”¯è¿˜æ˜¯æ¢å¤æ–‡ä»¶ï¼ŸGit ä¼˜å…ˆè§£é‡Šä¸ºåˆ†æ”¯å</span>
<span class="hljs-meta"># ä½†å¦‚æœåˆ†æ”¯ä¸å­˜åœ¨ï¼Œä¼šè¢«è§£é‡Šä¸ºæ¢å¤æ–‡ä»¶ï¼</span>
â€‹
<span class="hljs-meta"># å®‰å…¨ï¼šæ˜ç¡®æ“ä½œ</span>
git <span class="hljs-keyword">switch</span> docs Â  Â  Â   <span class="hljs-meta"># æ˜ç¡®åˆ‡æ¢åˆ†æ”¯</span>
git restore -- docs Â   <span class="hljs-meta"># æ˜ç¡®æ¢å¤æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-10">4. <code>git reset</code>ï¼šä¸‰ä¸ªçº§åˆ«</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># ä¸‰çº§resetçš„åŒºåˆ«</span>
<span class="hljs-comment"># å‡è®¾æäº¤é“¾ï¼šAï¼ˆæœ€æ—©ï¼‰â†’ Bï¼ˆä¸­é—´ï¼‰â†’ Cï¼ˆæœ€æ–°ï¼ŒHEADï¼‰</span>
â€‹
<span class="hljs-comment"># --soft: åªç§»åŠ¨HEADæŒ‡é’ˆ</span>
git <span class="hljs-keyword">reset</span> --soft B
<span class="hljs-comment"># ç»“æœï¼šCçš„ä¿®æ”¹åœ¨æš‚å­˜åŒºï¼Œå¯ä»¥é‡æ–°æäº¤</span>
â€‹
<span class="hljs-comment"># --mixed: ç§»åŠ¨HEADæŒ‡é’ˆå¹¶é‡ç½®æš‚å­˜åŒºï¼ˆé»˜è®¤ï¼‰</span>
git <span class="hljs-keyword">reset</span> B  <span class="hljs-comment"># ç­‰åŒäº git reset --mixed B</span>
<span class="hljs-comment"># ç»“æœï¼šCçš„ä¿®æ”¹åœ¨å·¥ä½œåŒºï¼Œéœ€è¦é‡æ–°add</span>
â€‹
<span class="hljs-comment"># --hard: å½»åº•é‡ç½®</span>
git <span class="hljs-keyword">reset</span> --hard B
<span class="hljs-comment"># ç»“æœï¼šCçš„ä¿®æ”¹å®Œå…¨ä¸¢å¼ƒï¼Œä¸å¯æ¢å¤ï¼</span>
</code></pre>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼š</p>
<p>åœºæ™¯ 1ï¼šåªæœ‰ Commitï¼Œæ²¡æœ‰ Push</p>
<pre><code class="hljs language-css" lang="css"># åˆå§‹ï¼šæœ¬åœ° <span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> â†’ Cï¼Œè¿œç¨‹åªæœ‰ <span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span>
# Â  Â  Â   ï¼ˆC åªåœ¨ä½ çš„ç”µè„‘ä¸Šï¼‰
â€‹
# æ‰§è¡Œ reset
git reset <span class="hljs-attr">--hard</span> <span class="hljs-selector-tag">B</span>
â€‹
# ç»“æœï¼š
# æœ¬åœ°ï¼š<span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> (HEAD) Â  # C å®Œå…¨æ¶ˆå¤±
# è¿œç¨‹ï¼š<span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> Â  Â  Â  Â   # ä¸å—å½±å“ï¼ˆæœ¬æ¥å°±æ²¡æœ‰ Cï¼‰
â€‹
# ç»“è®ºï¼šå®‰å…¨ï¼å› ä¸ºæ²¡æœ‰å½±å“åˆ«äºº
</code></pre>
<p>åœºæ™¯ 2ï¼šå·²ç» Push äº†</p>
<pre><code class="hljs language-css" lang="css"># åˆå§‹ï¼šæœ¬åœ° <span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> â†’ Cï¼Œè¿œç¨‹ä¹Ÿæ˜¯ <span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> â†’ C
# Â  Â  Â   ï¼ˆåˆ«äººå¯èƒ½å·²ç»æ‹‰å–äº† Cï¼‰
â€‹
# æ‰§è¡Œ reset
git reset <span class="hljs-attr">--hard</span> <span class="hljs-selector-tag">B</span>
â€‹
# ç»“æœï¼š
# æœ¬åœ°ï¼š<span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> (HEAD) Â  # C æ¶ˆå¤±
# è¿œç¨‹ï¼š<span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-tag">B</span> â†’ C Â  Â   # è¿œç¨‹ä¾ç„¶æœ‰ Cï¼
â€‹
# ç°åœ¨æœ¬åœ°å’Œè¿œç¨‹ä¸ä¸€è‡´ï¼
</code></pre>
<h4 data-id="heading-11">5. <code>git merge</code> vs <code>git rebase</code>ï¼šé€‰æ‹©ç­–ç•¥</h4>
<p><strong>mergeçš„æœ¬è´¨</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"># <span class="hljs-keyword">Merge</span>ï¼ˆåˆå¹¶ï¼‰æ˜¯å°†ä¸¤ä¸ªåˆ†æ”¯çš„ä¿®æ”¹å†å²æ•´åˆåœ¨ä¸€èµ·ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åˆå¹¶æäº¤ï¼ˆ<span class="hljs-keyword">merge</span> <span class="hljs-keyword">commit</span>ï¼‰ã€‚
git <span class="hljs-keyword">merge</span> feature
# ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<span class="hljs-keyword">commit</span>ï¼Œæœ‰ä¸¤ä¸ªçˆ¶æäº¤
â€‹
# æŸ¥çœ‹åˆå¹¶å†å²
git log <span class="hljs-comment">--graph --oneline</span>
</code></pre>
<p><strong>åœºæ™¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># 1. æ‰¾åˆ°å…±åŒç¥–å…ˆï¼ˆBaseï¼‰</span>
<span class="hljs-comment"># main: A â† B â† E</span>
<span class="hljs-comment"># feature: A â† B â† C â† D</span>
<span class="hljs-comment"># å…±åŒç¥–å…ˆï¼šB</span>
â€‹
<span class="hljs-comment"># 2. è®¡ç®—å·®å¼‚</span>
diff(B â†’ E)  <span class="hljs-comment"># main åˆ†æ”¯çš„ä¿®æ”¹</span>
diff(B â†’ D)  <span class="hljs-comment"># feature åˆ†æ”¯çš„ä¿®æ”¹</span>
â€‹
<span class="hljs-comment"># 3. åˆå¹¶å·®å¼‚</span>
<span class="hljs-comment"># å¦‚æœæ²¡æœ‰å†²çªï¼Œè‡ªåŠ¨åˆå¹¶</span>
<span class="hljs-comment"># å¦‚æœæœ‰å†²çªï¼Œéœ€è¦æ‰‹åŠ¨è§£å†³</span>
â€‹
<span class="hljs-comment"># 4. åˆ›å»ºåˆå¹¶æäº¤</span>
git commit -m <span class="hljs-string">"Merge branch 'feature' into main"</span>
â€‹
â€‹
<span class="hljs-comment"># åœºæ™¯ï¼šä¸¤ä¸ªåˆ†æ”¯éƒ½æœ‰æ–°æäº¤</span>
<span class="hljs-section">main: Â   A â† B â† E</span>
<span class="hljs-section">feature: Â  Â  Â  â† C â† D</span>
â€‹
<span class="hljs-comment"># æ‰§è¡Œåˆå¹¶</span>
git checkout main
git merge feature
â€‹
<span class="hljs-comment"># ç»“æœï¼šåˆ›å»ºåˆå¹¶æäº¤ F</span>
<span class="hljs-section">main: Â   A â† B â† E â† F</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â   â†–
<span class="hljs-section">feature: Â  Â  Â  â† C â† D</span>
â€‹
ç‰¹ç‚¹ï¼š
â€‹
åˆ›å»ºæ–°çš„åˆå¹¶æäº¤ F
â€‹
F æœ‰ä¸¤ä¸ªçˆ¶æäº¤ï¼šE å’Œ D
â€‹
ä¿ç•™ä¸¤ä¸ªåˆ†æ”¯çš„å®Œæ•´å†å²
</code></pre>
<p><strong>rebaseçš„æœ¬è´¨</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Rebaseï¼ˆå˜åŸºï¼‰æ˜¯å°†ä¸€ä¸ªåˆ†æ”¯çš„æäº¤é‡æ–°åº”ç”¨åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œé‡å†™å†å²ä½¿å…¶å˜æˆçº¿æ€§ã€‚</span>
git rebase main
<span class="hljs-comment"># 1. æ‰¾åˆ°å½“å‰åˆ†æ”¯å’Œmainåˆ†æ”¯çš„æœ€è¿‘å…±åŒç¥–å…ˆ</span>
<span class="hljs-comment"># 2. æå–å½“å‰åˆ†æ”¯çš„æäº¤ï¼Œä¿å­˜ä¸ºä¸´æ—¶æ–‡ä»¶</span>
<span class="hljs-comment"># 3. å°†å½“å‰åˆ†æ”¯æŒ‡å‘ç›®æ ‡åˆ†æ”¯çš„æœ€æ–°æäº¤</span>
<span class="hljs-comment"># 4. ä¾æ¬¡åº”ç”¨ä¿å­˜çš„æäº¤</span>
</code></pre>
<p><strong>åœºæ™¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># 1. ä¿å­˜è¦å˜åŸºçš„æäº¤</span>
git checkout feature
git log --oneline
<span class="hljs-comment"># C: "Add feature X"</span>
<span class="hljs-comment"># D: "Fix bug in feature X"</span>
â€‹
<span class="hljs-comment"># 2. é‡ç½®åˆ°ç›®æ ‡åˆ†æ”¯</span>
git reset --hard main
â€‹
<span class="hljs-comment"># 3. é€ä¸ªåº”ç”¨ä¿å­˜çš„æäº¤</span>
git cherry-pick C  <span class="hljs-comment"># åˆ›å»º C'</span>
git cherry-pick D  <span class="hljs-comment"># åˆ›å»º D'</span>
â€‹
<span class="hljs-comment"># åŸæ¥çš„ Cã€D æäº¤è¢«åºŸå¼ƒï¼ˆå˜æˆæ‚¬ç©ºå¯¹è±¡ï¼‰</span>
â€‹
â€‹
â€‹
â€‹
<span class="hljs-comment"># åˆå§‹çŠ¶æ€</span>
<span class="hljs-section">main: Â   A â† B â† E</span>
<span class="hljs-section">feature: Â  Â  Â  â† C â† D</span>
â€‹
<span class="hljs-comment"># æ‰§è¡Œå˜åŸº</span>
git checkout feature
git rebase main
â€‹
<span class="hljs-comment"># è¿‡ç¨‹ï¼š</span>
<span class="hljs-comment"># 1. æ‰¾åˆ°å…±åŒç¥–å…ˆ B</span>
<span class="hljs-comment"># 2. ä¿å­˜ Cã€D çš„ä¿®æ”¹ä¸ºä¸´æ—¶è¡¥ä¸</span>
<span class="hljs-comment"># 3. å°† feature åˆ†æ”¯é‡ç½®åˆ° main çš„æœ€æ–°æäº¤ E</span>
<span class="hljs-comment"># 4. æŒ‰é¡ºåºåº”ç”¨è¡¥ä¸ï¼Œåˆ›å»ºæ–°çš„æäº¤ C'ã€D'</span>
â€‹
<span class="hljs-comment"># ç»“æœï¼š</span>
<span class="hljs-section">main: Â   A â† B â† E</span>
<span class="hljs-section">feature: Â  Â  Â  Â  Â  Â  â† C' â† D'</span>
</code></pre>
<p><strong>Merge vs Rebaseï¼šæ ¸å¿ƒåŒºåˆ«</strong></p>








































<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Merge</strong></th><th><strong>Rebase</strong></th></tr></thead><tbody><tr><td><strong>å†å²è®°å½•</strong></td><td>ä¿ç•™åˆ†æ”¯ç»“æ„ï¼Œæœ‰åˆå¹¶æäº¤</td><td>çº¿æ€§å†å²ï¼Œæ— åˆå¹¶æäº¤</td></tr><tr><td><strong>æäº¤å“ˆå¸Œ</strong></td><td>ä¸æ”¹å˜ç°æœ‰æäº¤çš„å“ˆå¸Œ</td><td>æ”¹å˜æäº¤å“ˆå¸Œï¼ˆé‡å†™å†å²ï¼‰</td></tr><tr><td><strong>å†²çªå¤„ç†</strong></td><td>ä¸€æ¬¡è§£å†³æ‰€æœ‰å†²çª</td><td>å¯èƒ½å¤šæ¬¡è§£å†³å†²çªï¼ˆæ¯ä¸ªæäº¤ï¼‰</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>å®‰å…¨ï¼Œä¸ç ´åå†å²</td><td>å±é™©ï¼Œé‡å†™å†å²å¯èƒ½é€ æˆæ··ä¹±</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å…¬å…±åˆ†æ”¯ï¼Œå›¢é˜Ÿåä½œ</td><td>ä¸ªäººåˆ†æ”¯ï¼Œæ•´ç†æäº¤</td></tr><tr><td><strong>å¯è§†åŒ–</strong></td><td>åˆ†æ”¯åˆå¹¶çš„ç½‘çŠ¶ç»“æ„</td><td>æ•´æ´çš„çº¿æ€§ç»“æ„</td></tr></tbody></table>
<p><strong>é»„é‡‘è§„åˆ™</strong>ï¼š</p>
<ul>
<li><strong>å·²æ¨é€åˆ°è¿œç¨‹çš„æäº¤ä¸è¦rebase</strong></li>
<li>ä¸ªäººæœ¬åœ°åˆ†æ”¯å¯ä»¥ç”¨rebaseä¿æŒæ•´æ´</li>
<li>å…¬å…±åˆ†æ”¯ç”¨mergeä¿ç•™å®Œæ•´å†å²</li>
</ul>
<h4 data-id="heading-12">6. <code>git stash</code>ï¼šä¸´æ—¶ä¿å­˜</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># å®Œæ•´ç”¨æ³•</span>
git stash save <span class="hljs-string">"æè¿°ä¿¡æ¯"</span> Â  Â  Â  Â  <span class="hljs-comment"># ä¿å­˜å½“å‰å·¥ä½œ</span>
git stash list Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># æŸ¥çœ‹ä¿å­˜åˆ—è¡¨</span>
git stash apply stash@{1} Â  Â  Â   <span class="hljs-comment"># å–å›ä¸åˆ é™¤ï¼ˆå¯é‡å¤å–ï¼‰</span>
git stash <span class="hljs-keyword">pop</span> Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># åº”ç”¨å¹¶åˆ é™¤æœ€è¿‘ä¿å­˜</span>
git stash drop stash@{2} Â  Â  Â  Â  <span class="hljs-comment"># åˆ é™¤ç‰¹å®šä¿å­˜</span>
git stash show -p stash@{0} Â  Â   <span class="hljs-comment"># æŸ¥çœ‹ä¿å­˜çš„å·®å¼‚</span>
</code></pre>
<p><strong>æœ¬è´¨</strong>ï¼šstashå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªç‰¹æ®Šçš„commitï¼Œä¿å­˜åœ¨<code>.git/refs/stash</code>ä¸­ã€‚</p>
<p><strong>å‘ç‚¹</strong>ï¼š</p>
<ul>
<li>å¤šæ¬¡stashåå®¹æ˜“æ··ä¹±ï¼Œè®°å¾—åŠ æè¿°</li>
<li>é»˜è®¤ä¸åŒ…å«æœªè·Ÿè¸ªæ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>-u</code>å‚æ•°</li>
<li>stashä¸ä¼šè·¨è¶Šåˆ†æ”¯è¾¹ç•Œï¼Œåœ¨ä¸åŒåˆ†æ”¯åº”ç”¨å¯èƒ½äº§ç”Ÿå†²çª</li>
</ul>
<p><strong>å®‰å…¨æ¨¡å¼</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># 1. ç´§æ€¥ä¿®å¤bug</span>
git stash save <span class="hljs-string">"feature-x å¼€å‘ä¸­"</span>
git checkout hotfix-branch
â€‹
<span class="hljs-meta"># 2. ä¿®å®Œbug</span>
git <span class="hljs-keyword">add</span> .
git commit -m <span class="hljs-string">"ç´§æ€¥ä¿®å¤"</span>
git checkout feature-branch
â€‹
<span class="hljs-meta"># 3. æ¢å¤å·¥ä½œ</span>
git stash pop
<span class="hljs-meta"># å¦‚æœå†²çªï¼Œæ‰‹åŠ¨è§£å†³</span>
</code></pre>
<h4 data-id="heading-13">7. <code>git cherry-pick</code>ï¼šå¤åˆ¶ç‰¹å®šæäº¤åˆ°å½“å‰åˆ†æ”¯</h4>
<p><strong>cherry-pickçš„æœ¬è´¨</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>ï¸âƒ£ å®ƒåˆ°åº•å¹²äº†ä»€ä¹ˆï¼Ÿ
â€‹
ä¸€å¥è¯ï¼š
â€‹
Cherry-pick = æŠŠæŸä¸ªæäº¤çš„â€œæ”¹åŠ¨â€å¤åˆ¶ä¸€ä»½ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°æäº¤ï¼Œè´´åˆ°å½“å‰åˆ†æ”¯ä¸Š
â€‹
ä¸æ˜¯â€œæ¬æäº¤â€
è€Œæ˜¯ï¼š
â€‹
é‡æ”¾è¿™ä¸ªæäº¤çš„ diff
â€‹
<span class="hljs-number">2</span>ï¸âƒ£ ç”¨æäº¤å›¾çœ‹æœ¬è´¨
â€‹
åŸå§‹ç»“æ„ï¼š
â€‹
<span class="hljs-selector-tag">A</span> --- <span class="hljs-selector-tag">B</span> --- C Â  (feature)
 Â  Â   \
 Â  Â  Â  X --- Y Â  (<span class="hljs-selector-tag">main</span>ï¼Œå½“å‰åˆ†æ”¯)
â€‹
â€‹
ä½ åœ¨ <span class="hljs-selector-tag">main</span> ä¸Šæ‰§è¡Œï¼š
â€‹
git cherry-pick C
â€‹
â€‹
Git å¹²çš„äº‹æ˜¯ï¼š
â€‹
Step <span class="hljs-number">1</span>ï¼šè®¡ç®—å·®å¼‚
â€‹
ç®—å‡ºï¼š
â€‹
diff = C - <span class="hljs-selector-tag">B</span>
â€‹
Step <span class="hljs-number">2</span>ï¼šåº”ç”¨å·®å¼‚
â€‹
æŠŠè¿™ä¸ª diff åº”ç”¨åˆ° Y
â€‹
Step <span class="hljs-number">3</span>ï¼šç”Ÿæˆæ–°æäº¤
â€‹
åˆ›å»ºæ–°æäº¤ C'
â€‹
<span class="hljs-number">3</span>ï¸âƒ£ ç»“æœç»“æ„
<span class="hljs-selector-tag">A</span> --- <span class="hljs-selector-tag">B</span> --- C Â  (feature)
 Â  Â   \
 Â  Â  Â  X --- Y --- C' Â  (<span class="hljs-selector-tag">main</span>)
â€‹
â€‹
å…³é”®ç‚¹ï¼š
â€‹
C' å’Œ C
â€‹
å†…å®¹ä¸€æ ·
â€‹
å“ˆå¸Œä¸ä¸€æ ·
â€‹
å†å²å…³ç³»æ²¡è¿èµ·æ¥
â€‹
Git è®¤ä¸ºå®ƒä»¬æ˜¯â€œä¸¤ä¸ªç‹¬ç«‹æäº¤â€
â€‹
<span class="hljs-number">4</span>ï¸âƒ£ æœ¬è´¨å¯¹æ¯”
å‘½ä»¤  æœ¬è´¨
merge è¿åˆ†æ”¯å†å²
rebase  æ‰¹é‡ cherry-pick
cherry-pick å¤åˆ¶å•ä¸ªæäº¤
</code></pre>
<p><strong>åœºæ™¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">åœºæ™¯ <span class="hljs-number">1</span>ï¼šç´§æ€¥ä¿® Bugï¼Œä¸æƒ³åˆæ•´ä¸ªåˆ†æ”¯
çŠ¶æ€
<span class="hljs-selector-tag">A</span> --- <span class="hljs-selector-tag">B</span> --- C --- D Â  (featureï¼Œæ–°åŠŸèƒ½è¿˜æ²¡æµ‹å®Œ)
 Â  Â   \
 Â  Â  Â  X --- Y Â  Â  Â  (<span class="hljs-selector-tag">main</span>ï¼Œçº¿ä¸Šåˆ†æ”¯)
â€‹
â€‹
C = Bug ä¿®å¤
D = æ–°åŠŸèƒ½ï¼ˆä¸ç¨³å®šï¼‰
â€‹
ä½ åªæƒ³è¦ C
â€‹
æ“ä½œ
git checkout <span class="hljs-selector-tag">main</span>
git cherry-pick C
â€‹
ç»“æœ
<span class="hljs-selector-tag">A</span> --- <span class="hljs-selector-tag">B</span> --- C --- D Â  (feature)
 Â  Â   \
 Â  Â  Â  X --- Y --- C' Â  (<span class="hljs-selector-tag">main</span>)
â€‹
â€‹
è¿™å°±æ˜¯ cherry-pick çš„é»„é‡‘åœºæ™¯
â€‹
åœºæ™¯ <span class="hljs-number">2</span>ï¼šè·¨åˆ†æ”¯åŒæ­¥å°ä¼˜åŒ–
â€‹
ä½ åœ¨ dev åˆ†æ”¯åšäº†ä¸ªæ—¥å¿—ä¼˜åŒ–æäº¤
æµ‹è¯•åˆ†æ”¯ä¹Ÿè¦
â€‹
git checkout test
git cherry-pick &lt;commit-hash&gt;
â€‹
åœºæ™¯ <span class="hljs-number">3</span>ï¼šå¤šæäº¤æ‰¹é‡æ¬è¿
git cherry-pick C D E
â€‹
â€‹
æˆ–è€…åŒºé—´æ–¹å¼ï¼š
â€‹
git cherry-pick <span class="hljs-selector-tag">B</span>.<span class="hljs-selector-class">.E</span>
â€‹
â€‹
è¡¨ç¤ºï¼š
â€‹
æ‹¿ <span class="hljs-selector-tag">B</span> ä¹‹ååˆ° E ä¹‹é—´çš„æäº¤
</code></pre>
<p><strong>æ—¥å¸¸å‘ç‚¹ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>ï¸âƒ£ åª pick äº†â€œæœ€åä¸€ä¸ªæäº¤â€ï¼Œå¿˜äº†ä¾èµ–æäº¤
åœºæ™¯
<span class="hljs-selector-tag">A</span> --- <span class="hljs-selector-tag">B</span> --- C Â  (feature)
â€‹
â€‹
ä½ åª pick äº† C
â€‹
ç»“æœ
â€‹
âŒ ç¼–è¯‘æŠ¥é”™
â€‹
âŒ é…ç½®ç¼ºå¤±
â€‹
âŒ é€»è¾‘å¼‚å¸¸
â€‹
æœ¬è´¨
â€‹
C çš„å˜æ›´æ˜¯å»ºç«‹åœ¨ <span class="hljs-selector-tag">B</span> ä¹‹ä¸Šçš„
ä½ æŠŠ**â€œä¸Šå±‚è¡¥ä¸â€è´´åˆ°äº†â€œæ—§åº•åº§â€ä¸Š**
â€‹
æ­£ç¡®å§¿åŠ¿
â€‹
ä¸€æ¬¡æ€§ pick ä¾èµ–æäº¤ï¼š
â€‹
git cherry-pick <span class="hljs-selector-tag">B</span>.<span class="hljs-selector-class">.C</span>
â€‹
â€‹
æˆ–æ˜¾å¼åˆ—å‡ºï¼š
â€‹
git cherry-pick <span class="hljs-selector-tag">B</span> C
â€‹
<span class="hljs-number">2</span>ï¸âƒ£ åç»­ merge åˆ†æ”¯æ—¶ï¼Œä»£ç è¢«â€œåˆè¿›æ¥ä¸¤æ¬¡â€
åœºæ™¯
â€‹
ä½ ï¼š
â€‹
ä» feature cherry-pick åˆ° <span class="hljs-selector-tag">main</span>
â€‹
ä¹‹ååˆ merge feature
â€‹
ç»“æœ
â€‹
âŒ å†²çªçˆ†å‘
â€‹
âŒ æˆ–ä»£ç é‡å¤
â€‹
æœ¬è´¨
â€‹
Git è®¤ä¸ºï¼š
â€‹
C â‰  C'
â€‹
â€‹
è™½ç„¶å†…å®¹ç›¸åŒï¼Œä½†æäº¤å†å²ä¸ç›¸è¿
â€‹
è§„é¿è§„åˆ™
â€‹
ç”¨è¿‡ cherry-pick çš„åˆ†æ”¯ï¼Œåç»­å°½é‡ä¸è¦å† merge å›æ¥
â€‹
<span class="hljs-number">3</span>ï¸âƒ£ åœ¨æ—§åˆ†æ”¯ä¸Š pick æ–°æäº¤
åœºæ™¯
â€‹
ä½ å½“å‰ <span class="hljs-selector-tag">main</span> ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬
ç›´æ¥ cherry-pick æ–°æäº¤
â€‹
ç»“æœ
â€‹
âŒ å†²çªæš´å¢
â€‹
âŒ å¼•å…¥è¿‡æ—¶ä»£ç 
â€‹
æ ‡å‡†æµç¨‹
git checkout <span class="hljs-selector-tag">main</span>
git pull
git cherry-pick C
â€‹
<span class="hljs-number">4</span>ï¸âƒ£ æ‰¹é‡ pick ä¸­é€”å†²çªï¼Œä¸çŸ¥é“ Git åœ¨â€œæš‚åœçŠ¶æ€â€
åœºæ™¯
git cherry-pick C D E
â€‹
â€‹
åœ¨ D å‘ç”Ÿå†²çª
â€‹
é”™è¯¯æ“ä½œ
â€‹
ç›´æ¥å† cherry-pick
â€‹
æˆ–å¼ºè¡Œåˆ‡æ¢åˆ†æ”¯
â€‹
æ­£ç¡®æ“ä½œé“¾
git status
git add .
git cherry-pick <span class="hljs-attr">--continue</span>
â€‹
â€‹
æˆ–æ”¾å¼ƒæœ¬æ¬¡æ“ä½œï¼š
â€‹
git cherry-pick <span class="hljs-attr">--abort</span>
â€‹
<span class="hljs-number">5</span>ï¸âƒ£ æŠŠâ€œå®éªŒä»£ç â€pick è¿›ä¸»å¹²
åœºæ™¯
â€‹
feature åˆ†æ”¯é‡Œï¼š
â€‹
ä¸€åŠæ˜¯è°ƒè¯•æ—¥å¿—
â€‹
ä¸€åŠæ˜¯æ­£å¼ä¿®å¤
â€‹
ä½ ç›´æ¥ pick æœ€è¿‘ä¸€æ¬¡æäº¤
â€‹
ç»“æœ
â€‹
âŒ æµ‹è¯•ä»£ç è¿›äº†ç”Ÿäº§åˆ†æ”¯
â€‹
æ ‡å‡†ä¹ æƒ¯
â€‹
å…ˆç¡®è®¤æäº¤å†…å®¹ï¼š
â€‹
git log <span class="hljs-attr">--oneline</span>
git show C
# ç¡®è®¤æ²¡é—®é¢˜å† pick
</code></pre>
<h3 data-id="heading-14">ä¸‰ã€å¤šåˆ†æ”¯å¼€å‘å®æˆ˜æ¨¡å¼</h3>
<h4 data-id="heading-15">1. åˆ†æ”¯ç­–ç•¥è®¾è®¡</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-tag">main</span>/master (ä¿æŠ¤åˆ†æ”¯)
 Â   â†‘
develop (é›†æˆåˆ†æ”¯)
 Â   â†‘
feature/xxx (çŸ­æœŸåŠŸèƒ½åˆ†æ”¯ï¼Œåˆå¹¶ååˆ é™¤)
 Â   â†‘
hotfix/xxx (ç´§æ€¥ä¿®å¤åˆ†æ”¯)
</code></pre>
<h4 data-id="heading-16">2. æ—¥å¸¸å¼€å‘å·¥ä½œæµ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ™¨é—´åŒæ­¥</span>
git <span class="hljs-keyword">switch</span> main
git fetch origin
git pull --rebase  <span class="hljs-meta"># ä½¿ç”¨rebaseä¿æŒçº¿æ€§å†å²</span>
â€‹
<span class="hljs-meta"># å¼€å§‹æ–°åŠŸèƒ½</span>
git <span class="hljs-keyword">switch</span> -c feature/<span class="hljs-keyword">new</span>-feature
<span class="hljs-meta"># ... å¼€å‘ ...</span>
git <span class="hljs-keyword">add</span> -p
git commit -m <span class="hljs-string">"feat: å®ç°æ–°åŠŸèƒ½"</span>
â€‹
<span class="hljs-meta"># åŒæ­¥ä¸»åˆ†æ”¯æ›´æ–°</span>
git fetch origin
git rebase origin/main  <span class="hljs-meta"># å°†ä¸»åˆ†æ”¯æ›´æ–°æ•´åˆåˆ°å½“å‰åˆ†æ”¯</span>
â€‹
<span class="hljs-meta"># å®ŒæˆåŠŸèƒ½</span>
git <span class="hljs-keyword">switch</span> main
git merge --no-ff feature/<span class="hljs-keyword">new</span>-feature  <span class="hljs-meta"># ä¿ç•™åˆå¹¶è®°å½•</span>
git branch -d feature/<span class="hljs-keyword">new</span>-feature Â  Â   <span class="hljs-meta"># åˆ é™¤åŠŸèƒ½åˆ†æ”¯</span>
</code></pre>
<h4 data-id="heading-17">3. ä»£ç å®¡æŸ¥ä¸åˆå¹¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºåˆå¹¶è¯·æ±‚å‰</span>
git fetch origin
git rebase origin/main  <span class="hljs-comment"># ç¡®ä¿åŸºäºæœ€æ–°ä»£ç </span>
â€‹
<span class="hljs-comment"># è§£å†³å†²çª</span>
git mergetool Â  Â  Â  Â  Â  <span class="hljs-comment"># ä½¿ç”¨å¯è§†åŒ–å·¥å…·è§£å†³å†²çª</span>
git rebase --<span class="hljs-built_in">continue</span> Â  <span class="hljs-comment"># ç»§ç»­rebase</span>
â€‹
<span class="hljs-comment"># æ¨é€</span>
git push origin feature/new-feature
<span class="hljs-comment"># ç„¶ååœ¨GitLab/GitHubåˆ›å»ºMerge Request</span>
</code></pre>
<h3 data-id="heading-18">å››ã€å¸¸è§å‘ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-19">å‘ç‚¹1ï¼šåœ¨é”™è¯¯çš„åˆ†æ”¯ä¸Šæäº¤</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨mainåˆ†æ”¯å¼€å‘äº†æ–°åŠŸèƒ½ï¼Œåº”è¯¥æäº¤åˆ°featureåˆ†æ”¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># é”™è¯¯ï¼šåœ¨mainåˆ†æ”¯æäº¤</span>
git <span class="hljs-keyword">switch</span> main
<span class="hljs-meta"># ... å¼€å‘ ...</span>
git <span class="hljs-keyword">add</span> . &amp;&amp; git commit -m <span class="hljs-string">"æ–°åŠŸèƒ½"</span>
â€‹
<span class="hljs-meta"># è§£å†³æ–¹æ¡ˆ1ï¼šåˆ›å»ºæ–°åˆ†æ”¯å¹¶ç§»åŠ¨æäº¤</span>
git <span class="hljs-keyword">switch</span> -c feature-<span class="hljs-keyword">new</span>  <span class="hljs-meta"># æ–°åˆ†æ”¯åŒ…å«åˆšæ‰çš„æäº¤</span>
git <span class="hljs-keyword">switch</span> main
git reset --hard HEAD~<span class="hljs-number">1</span> Â   <span class="hljs-meta"># mainåˆ†æ”¯å›é€€ï¼Œä¸¢å¼ƒæäº¤</span>
â€‹
<span class="hljs-meta"># è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨cherry-pick</span>
commit_hash=$(git log <span class="hljs-number">-1</span> --pretty=format:<span class="hljs-string">"%H"</span>)
git <span class="hljs-keyword">switch</span> -c feature-<span class="hljs-keyword">new</span>
git cherry-pick $commit_hash
git <span class="hljs-keyword">switch</span> main
git reset --hard HEAD~<span class="hljs-number">1</span>
</code></pre>
<h4 data-id="heading-20">å‘ç‚¹2ï¼šæäº¤äº†æ•æ„Ÿä¿¡æ¯</h4>
<p><strong>åœºæ™¯</strong>ï¼šä¸å°å¿ƒæäº¤äº†å¯†ç ã€å¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚æœè¿˜æ²¡æ¨é€</span>
git <span class="hljs-built_in">rm</span> --cached config/secrets.yml
<span class="hljs-built_in">echo</span> <span class="hljs-string">"config/secrets.yml"</span> &gt;&gt; .gitignore
git commit --amend
â€‹
<span class="hljs-comment"># å¦‚æœå·²ç»æ¨é€</span>
<span class="hljs-comment"># 1. ç«‹å³æ›´æ”¹å¯†ç /å¯†é’¥</span>
<span class="hljs-comment"># 2. ä½¿ç”¨BFGæˆ–git filter-repoæ¸…ç†å†å²</span>
<span class="hljs-comment"># 3. å¼ºåˆ¶æ¨é€ï¼ˆéœ€è¦å›¢é˜Ÿåè°ƒï¼‰</span>
git push --force-with-lease
</code></pre>
<h4 data-id="heading-21">å‘ç‚¹3ï¼šrebaseå†²çªåœ°ç‹±</h4>
<p><strong>åœºæ™¯</strong>ï¼šrebaseè¿‡ç¨‹ä¸­å‡ºç°å¤§é‡å†²çªï¼Œé™·å…¥å›°å¢ƒã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># é”™è¯¯å¤„ç†ï¼šç›²ç›®ç»§ç»­</span>
git rebase main
<span class="hljs-meta"># å†²çª...</span>
git <span class="hljs-keyword">add</span> . &amp;&amp; git rebase --<span class="hljs-keyword">continue</span>  <span class="hljs-meta"># å¯èƒ½å¼•å…¥é”™è¯¯</span>
â€‹
<span class="hljs-meta"># æ­£ç¡®åšæ³•ï¼šç†è§£rebaseè¿‡ç¨‹</span>
git rebase main
<span class="hljs-meta"># é‡åˆ°å†²çªæ—¶ï¼š</span>
<span class="hljs-meta"># 1. æŸ¥çœ‹å†²çªæ–‡ä»¶</span>
git status
<span class="hljs-meta"># 2. è§£å†³å†²çª</span>
git mergetool
<span class="hljs-meta"># 3. æ ‡è®°å·²è§£å†³</span>
git <span class="hljs-keyword">add</span> resolved-file.js
<span class="hljs-meta"># 4. ç»§ç»­</span>
git rebase --<span class="hljs-keyword">continue</span>
â€‹
<span class="hljs-meta"># å¦‚æœæƒ³æ”¾å¼ƒ</span>
git rebase --abort
</code></pre>
<h4 data-id="heading-22">å‘ç‚¹4ï¼šå¼ºåˆ¶æ¨é€çš„ç¾éš¾</h4>
<p><strong>åœºæ™¯</strong>ï¼šä½¿ç”¨<code>git push --force</code>è¦†ç›–äº†å›¢é˜Ÿçš„å·¥ä½œã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ°¸è¿œä¸è¦è¿™æ ·åšï¼š</span>
git <span class="hljs-keyword">push</span> --force
â€‹
<span class="hljs-comment"># ç›¸å¯¹å®‰å…¨ï¼š</span>
git <span class="hljs-keyword">push</span> --force-with-lease  <span class="hljs-comment"># æ£€æŸ¥è¿œç¨‹æ˜¯å¦æœ‰å…¶ä»–äººæ¨é€</span>
â€‹
<span class="hljs-comment"># æœ€ä½³å®è·µï¼šé¿å…å¼ºåˆ¶æ¨é€</span>
<span class="hljs-comment"># 1. ä½¿ç”¨ä¿æŠ¤åˆ†æ”¯</span>
<span class="hljs-comment"># 2. é€šè¿‡PR/MRåˆå¹¶ä»£ç </span>
<span class="hljs-comment"># 3. ä½¿ç”¨revertè€Œä¸æ˜¯reset</span>
</code></pre>
<h4 data-id="heading-23">å‘ç‚¹5ï¼šstashé—å¿˜ç—‡</h4>
<p><strong>åœºæ™¯</strong>ï¼šæš‚å­˜äº†å·¥ä½œï¼Œå‡ å¤©åå¿˜è®°äº†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¢„é˜²æªæ–½ï¼šæè¿°æ€§ä¿å­˜</span>
git stash save <span class="hljs-string">"feature-login: user auth implementation <span class="hljs-subst">$(date +%Y-%m-%d)</span>"</span>
â€‹
<span class="hljs-comment"># æ¯æ—¥æ£€æŸ¥</span>
<span class="hljs-built_in">alias</span> gsl=<span class="hljs-string">'git stash list'</span>
â€‹
<span class="hljs-comment"># è®¾ç½®æé†’ï¼ˆåœ¨.bashrcæˆ–.zshrcä¸­ï¼‰</span>
<span class="hljs-built_in">export</span> PROMPT_COMMAND=<span class="hljs-string">'stash_count=$(git stash list 2&gt;/dev/null | wc -l); if [ $stash_count -gt 0 ]; then echo "ä½ æœ‰ $stash_count ä¸ªæš‚å­˜çš„ä¿®æ”¹"; fi'</span>
</code></pre>
<h3 data-id="heading-24">äº”ã€é«˜çº§æŠ€å·§ä¸å†…éƒ¨åŸç†</h3>
<h4 data-id="heading-25">1. ç†è§£.gitç›®å½•ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">.git/
â”œâ”€â”€ HEAD Â  Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å½“å‰æ‰€åœ¨åˆ†æ”¯</span>
â”œâ”€â”€ config Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ä»“åº“é…ç½®</span>
â”œâ”€â”€ index Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># æš‚å­˜åŒº</span>
â”œâ”€â”€ objects/ Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># Gitå¯¹è±¡å­˜å‚¨</span>
â”‚ Â  â”œâ”€â”€ <span class="hljs-section">[0-9a-f]</span><span class="hljs-section">[0-9a-f]</span>/  <span class="hljs-comment"># å¯¹è±¡æ–‡ä»¶</span>
â”‚ Â  â””â”€â”€ pack/ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æ‰“åŒ…çš„å¯¹è±¡</span>
â”œâ”€â”€ refs/
â”‚ Â  â”œâ”€â”€ heads/ Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># åˆ†æ”¯æŒ‡é’ˆ</span>
â”‚ Â  â”œâ”€â”€ tags/ Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># æ ‡ç­¾æŒ‡é’ˆ</span>
â”‚ Â  â””â”€â”€ remotes/ Â  Â  Â  Â  Â  <span class="hljs-comment"># è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯</span>
â”œâ”€â”€ logs/ Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># å¼•ç”¨æ—¥å¿—</span>
â””â”€â”€ hooks/ Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># é’©å­è„šæœ¬</span>
</code></pre>
<h4 data-id="heading-26">2. ä½¿ç”¨reflogæ¢å¤è¯¯æ“ä½œ</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ“ä½œå†å²</span>
git reflog --date=iso
<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># abc1234 HEAD@{2023-10-01 10:30:00}: commit: æ·»åŠ æ–°åŠŸèƒ½</span>
<span class="hljs-comment"># def5678 HEAD@{2023-10-01 09:15:00}: checkout: ä»mainåˆ‡æ¢åˆ°feature</span>
â€‹
<span class="hljs-comment"># æ¢å¤è¯¯åˆ çš„åˆ†æ”¯</span>
git branch feature-lost HEAD@{2}
â€‹
<span class="hljs-comment"># æ¢å¤hard resetå‰çš„çŠ¶æ€</span>
git <span class="hljs-keyword">reset</span> --hard HEAD@{5}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šreflogè®°å½•äº†HEADçš„æ‰€æœ‰ç§»åŠ¨ï¼Œæ˜¯Gitçš„"æ—¶é—´æœºå™¨"ï¼Œé»˜è®¤ä¿å­˜90å¤©ã€‚</p>
<h4 data-id="heading-27">3. äºŒåˆ†æŸ¥æ‰¾å®šä½é—®é¢˜</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ‰¾åˆ°å¼•å…¥bugçš„æäº¤</span>
git bisect start
git bisect bad HEAD Â  Â  Â  Â   <span class="hljs-comment"># å½“å‰ç‰ˆæœ¬æœ‰é—®é¢˜</span>
git bisect good v1.<span class="hljs-number">0</span>.<span class="hljs-number">0</span> Â  Â  Â  <span class="hljs-comment"># è¿™ä¸ªç‰ˆæœ¬æ²¡é—®é¢˜</span>
â€‹
<span class="hljs-comment"># Gitä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸­é—´æäº¤ï¼Œä½ æµ‹è¯•åæ ‡è®°ï¼š</span>
git bisect good Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># è¿™ä¸ªæäº¤æ²¡é—®é¢˜</span>
<span class="hljs-comment"># æˆ–</span>
git bisect bad Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># è¿™ä¸ªæäº¤æœ‰é—®é¢˜</span>
â€‹
<span class="hljs-comment"># ç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªåæäº¤</span>
git bisect <span class="hljs-keyword">reset</span> Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># ç»“æŸäºŒåˆ†æŸ¥æ‰¾</span>
</code></pre>
<h3 data-id="heading-28">å…­ã€å›¢é˜Ÿåä½œæœ€ä½³å®è·µ</h3>
<h4 data-id="heading-29">1. åˆ†æ”¯ä¿æŠ¤ç­–ç•¥</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># GitLabç¤ºä¾‹ (.gitlab-ci.yml)</span>
<span class="hljs-attr">workflow:</span>
  <span class="hljs-attr">rules:</span>
 Â   <span class="hljs-bullet">-</span> <span class="hljs-attr">if:</span> <span class="hljs-string">$CI_COMMIT_BRANCH</span> <span class="hljs-string">==</span> <span class="hljs-string">"main"</span>
 Â  Â   <span class="hljs-attr">when:</span> <span class="hljs-string">never</span>  <span class="hljs-comment"># ç¦æ­¢ç›´æ¥æ¨é€åˆ°main</span>
<span class="hljs-string">â€‹</span>
<span class="hljs-comment"># åˆ†æ”¯ä¿æŠ¤è®¾ç½®ï¼š</span>
<span class="hljs-comment"># - è¦æ±‚è‡³å°‘2ä¸ªæ‰¹å‡†</span>
<span class="hljs-comment"># - è¦æ±‚CIé€šè¿‡</span>
<span class="hljs-comment"># - ç¦æ­¢å¼ºåˆ¶æ¨é€</span>
<span class="hljs-comment"># - è¦æ±‚çº¿æ€§å†å²</span>
</code></pre>
<h4 data-id="heading-30">2. æäº¤ä¿¡æ¯è§„èŒƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨Conventional Commits</span>
&lt;<span class="hljs-built_in">type</span>&gt;(&lt;scope&gt;): &lt;subject&gt;
â€‹
&lt;body&gt;
â€‹
&lt;footer&gt;
â€‹
<span class="hljs-comment"># ç±»å‹ï¼š</span>
<span class="hljs-comment"># feat: Â  Â  æ–°åŠŸèƒ½</span>
<span class="hljs-comment"># fix: Â  Â   ä¿®å¤bug</span>
<span class="hljs-comment"># docs: Â  Â  æ–‡æ¡£æ›´æ–°</span>
<span class="hljs-comment"># style: Â   ä»£ç æ ¼å¼</span>
<span class="hljs-comment"># refactor: é‡æ„</span>
<span class="hljs-comment"># test: Â  Â  æµ‹è¯•</span>
<span class="hljs-comment"># chore: Â   ç»´æŠ¤</span>
</code></pre>
<h4 data-id="heading-31">3. ä»£ç å®¡æŸ¥æ¸…å•</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">## åˆå¹¶å‰æ£€æŸ¥</span>
â€‹
<span class="hljs-comment">### ä»£ç è´¨é‡</span>
- <span class="hljs-section">[ ]</span> ç¼–è¯‘æ˜¯å¦é€šè¿‡ï¼Ÿ
- <span class="hljs-section">[ ]</span> æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦æœ‰æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦ç¬¦åˆç¼–ç è§„èŒƒï¼Ÿ
â€‹
<span class="hljs-comment">### Gitç›¸å…³</span>
- <span class="hljs-section">[ ]</span> æäº¤ä¿¡æ¯æ˜¯å¦æ¸…æ™°ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦åŒ…å«ä¸ç›¸å…³çš„ä¿®æ”¹ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦åŸºäºæœ€æ–°ä¸»åˆ†æ”¯ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦æœ‰åˆå¹¶å†²çªï¼Ÿ
â€‹
<span class="hljs-comment">### ä¸šåŠ¡é€»è¾‘</span>
- <span class="hljs-section">[ ]</span> æ˜¯å¦å¤„ç†äº†è¾¹ç•Œæƒ…å†µï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦æœ‰å®‰å…¨é£é™©ï¼Ÿ
- <span class="hljs-section">[ ]</span> æ˜¯å¦æœ‰æ–‡æ¡£æ›´æ–°ï¼Ÿ
</code></pre>
<h4 data-id="heading-32">4. è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># pre-commit-check.sh</span>
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=== æäº¤å‰æ£€æŸ¥ ==="</span>
â€‹
<span class="hljs-comment"># 1. æ£€æŸ¥æ˜¯å¦æœ‰æœªè·Ÿè¸ªçš„æ•æ„Ÿæ–‡ä»¶</span>
sensitive_files=$(git status --porcelain | grep -E <span class="hljs-string">".(key|pem|env|secret)"</span> || <span class="hljs-literal">true</span>)
<span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$sensitive_files</span>"</span> ]; <span class="hljs-keyword">then</span>
 Â   <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ å‘ç°æ•æ„Ÿæ–‡ä»¶:"</span>
 Â   <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$sensitive_files</span>"</span>
 Â   <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-comment"># 2. æ£€æŸ¥æäº¤ä¿¡æ¯æ ¼å¼</span>
<span class="hljs-keyword">if</span> [ -n <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> ]; <span class="hljs-keyword">then</span>
 Â   <span class="hljs-keyword">if</span> ! <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> | grep -qE <span class="hljs-string">"^(feat|fix|docs|style|refactor|test|chore)((.+))?: .+"</span>; <span class="hljs-keyword">then</span>
 Â  Â  Â   <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ æäº¤ä¿¡æ¯æ ¼å¼ä¸æ­£ç¡®"</span>
 Â  Â  Â   <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ ¼å¼åº”ä¸º: &lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;"</span>
 Â  Â  Â   <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹: feat(auth): æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"</span>
 Â  Â  Â   <span class="hljs-built_in">exit</span> 1
 Â   <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>
â€‹
<span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… æ£€æŸ¥é€šè¿‡"</span>
</code></pre>
<h2 data-id="heading-33">ä¸ƒã€æ€»ç»“</h2>
<p>åœ¨å›¢é˜Ÿå¼€å‘å¯†é›†ï¼Œå¤šåˆ†æ”¯å¼€å‘çš„ç€‘å¸ƒå¼å¼€å‘çš„åœºæ™¯ä¸­ï¼Œæ–°å»ºåˆ†æ”¯ã€åˆå¹¶åˆ†æ”¯ã€è§£å†³ä»£ç å†²çªç­‰å±äºé«˜é¢‘æ“ä½œï¼Œç‰¹åˆ«æ˜¯éœ€æ±‚æ¶‰åŠåˆ°æ–‡ä»¶ä¿®æ”¹è¾ƒå¤šå¤šï¼Œcommitã€pushå’Œä»£ç crä¼šè¢«å¤šä¸ªæ–‡ä»¶åˆ†æ•£æ³¨æ„åŠ›ï¼Œå¾ˆå®¹æ˜“æŠŠä¸€äº›è¯¯æ“ä½œçš„ä»£ç å˜æ›´åˆå¹¶åˆ°masteråˆ†æ”¯ä¸Šï¼Œä»è€Œé…¿æˆç”Ÿäº§äº‹æ•…ã€‚å› æ­¤åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ¯æ¬¡comit å’Œpush ä»£ç æ—¶ï¼Œéœ€è¦æ˜ç¡®è‡ªå·±æäº¤çš„æ–‡ä»¶å†…å®¹ï¼Œç‰¹åˆ«æ˜¯ä¸è¦æŠŠæœ¬åœ°debugä¿®æ”¹çš„ä¸€äº›é…ç½®æ–‡ä»¶å†…å®¹æäº¤ä¸Šå»ï¼Œæ­¤å¤–ä»£ç cræ—¶ï¼Œè¦è®¤çœŸåŸºäºä»£ç çš„æ¨¡å—é€ä¸ªç¡®è®¤ï¼Œåˆ‡ä¸å¯æœ‰åœ¨é¢„å‘ç¯å¢ƒæµ‹è¯•è¿‡æ²¡é—®é¢˜äº†å°±éº»ç—¹å¤§æ„ï¼Œåœ¨å‘å¸ƒä¸Šçº¿ä¹‹å‰ï¼Œæœ€å¥½æŠŠmasteråˆ†æ”¯æœ€æ–°ä»£ç åˆå¹¶åˆ°å‘å¸ƒåˆ†æ”¯ï¼Œç„¶åå‘å¸ƒé¢„å‘è§‚å¯ŸéªŒè¯ç³»ç»Ÿçš„åŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œé”™è¯¯æ—¥å¿—æ˜¯å¦æ­£å¸¸ç­‰ã€‚</p>
<h3 data-id="heading-34"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Skills ä¿å§†çº§æ•™ç¨‹ï¼šæ— è„‘ç…§åšå°±èƒ½ç”¨å‡ºæ•ˆæœ]]></title>    <link>https://juejin.cn/post/7598588085597437992</link>    <guid>https://juejin.cn/post/7598588085597437992</guid>    <pubDate>2026-01-25T09:52:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598588085597437992" data-draft-id="7598574507347722275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Skills ä¿å§†çº§æ•™ç¨‹ï¼šæ— è„‘ç…§åšå°±èƒ½ç”¨å‡ºæ•ˆæœ"/> <meta itemprop="keywords" content="OpenAI,AIGC,Claude"/> <meta itemprop="datePublished" content="2026-01-25T09:52:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½¯ä»¶æµ‹è¯•å›"/> <meta itemprop="url" content="https://juejin.cn/user/3540901112317224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Skills ä¿å§†çº§æ•™ç¨‹ï¼šæ— è„‘ç…§åšå°±èƒ½ç”¨å‡ºæ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3540901112317224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½¯ä»¶æµ‹è¯•å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:52:48.000Z" title="Sun Jan 25 2026 09:52:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83d50df94e734378b6215e0a6828311b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=Pcnm1ICWfxCkWJa2v6jZqCIC5W4%3D" alt="fJTFx54B9.jpeg" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å…­å“¥ã€‚</p>
<p><code>Claude Skills </code>æˆ‘ä¹Ÿæ˜¯ä¸Šå‘¨ä¸€æ‰çŸ¥é“æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆå®Œå…¨æ²¡æ¦‚å¿µï¼Œæƒ³æƒ³è¿˜æ˜¯è‡ªå·±çŸ¥é“çš„å¤ªæ™šäº†ã€‚</p>
<p>ä½†è¯´å®è¯ï¼Œè¿™ç©æ„æˆåŠŸçš„å¼•èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼</p>
<p>æ²¡æœ‰æ‰€è°“çš„æ–¹æ³•è®ºå’ŒåºŸè¯ï¼Œä¸‹é¢æˆ‘ä»¬ç›´æ¥å¼€å§‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Claude Skillsï¼Ÿ</h2>
<p><strong><code>Claude Skill </code>å°±æ˜¯è®© <code>AI </code> å­¦ä¼šä½ çš„æ–¹æ³•ï¼Œç„¶åä¸€ç›´æŒ‰ä½ çš„æ–¹æ³•åšäº‹ã€‚</strong></p>
<p>ä»€ä¹ˆï¼Ÿè¿˜æ˜¯æœ‰äº›ä¸å¤ªæ‡‚ï¼Ÿ</p>
<p>å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘æ¥ä¸¾ä¸ªä¾‹å­ï¼š</p>
<blockquote>
<p>å°±åƒä½ ç»™åˆ«äººæ¼”ç¤ºä¸€æ¬¡â€œæ€ä¹ˆå¸®ä½ æ•´ç†ä¹¦åŒ…â€ï¼Œ
ä»¥åä½ å‘Šè¯‰ä»–â€œå¸®æˆ‘æ•´ç†ä¹¦åŒ…â€ï¼Œ
å®ƒå°±ä¼šæŒ‰ç…§ä½ æ•™çš„é¡ºåºâ€”â€”å…ˆæ”¾è¯¾æœ¬ã€å†æ”¾æ–‡å…·ã€æœ€åæ”¾æ°´æ¯â€”â€”
è‡ªåŠ¨å¸®ä½ æ•´ç†å¥½ã€‚</p>
</blockquote>
<p><code>Claude Skill </code>å°±æ˜¯è¿™ä¸ªâ€œæ•™ <code>AI </code>è®°ä½ä½ åšäº‹æ–¹å¼â€çš„åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-1">äºŒã€Skillã€MCPâ€¯åˆ°åº•æœ‰ä»€ä¹ˆå…³ç³»</h2>
<p><strong><code>Skill</code> æ˜¯æ•™ <code>AI</code> æ€ä¹ˆåšäº‹çš„â€œæ–¹æ³•â€ï¼Œ<code>MCP</code> æ˜¯ <code>AI</code> èƒ½ç”¨æ¥å¸®å¿™çš„â€œå·¥å…·â€ã€‚</strong></p>
<p>è¿˜æ˜¯æ„Ÿè§‰å¤ªæŠ½è±¡ï¼Ÿ</p>
<p>å¥½çš„ï¼Œé‚£æˆ‘å†æ¥ä¸¾ä¸ªä¾‹å­ï¼š</p>
<blockquote>
<p>ä½ æ•™ AIï¼šâ€œæ•´ç†ä¹¦åŒ…è¦å…ˆæ”¾è¯¾æœ¬ã€å†æ”¾æ–‡å…·ã€æœ€åæ”¾æ°´æ¯ã€‚â€
è¿™æ˜¯ Skillï¼ˆæ–¹æ³•ï¼‰ã€‚
AI æ•´ç†ä¹¦åŒ…æ—¶ï¼Œéœ€è¦ç”¨åˆ°â€œæ‰‹â€â€œçœ¼ç›â€â€œå°æ¨è½¦â€è¿™äº›å·¥å…·ï¼Œ
è¿™äº›å·¥å…·å°±æ˜¯ MCPã€‚</p>
</blockquote>
<p>æœ‰äº†<strong>æ–¹æ³• + å·¥å…·</strong>ï¼Œ<code>AI</code> æ‰èƒ½åˆå¿«åˆå¥½åœ°å¸®ä½ æ•´ç†ä¹¦åŒ…ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€Claude Skills çš„ä½¿ç”¨</h2>
<p>çœ‹åˆ°è¿™ï¼Œç›¸ä¿¡ä½ å¯¹<code>Claude Skills</code> å¿ƒé‡Œä¼šæœ‰ä¸ªå¤§æ¦‚å°è±¡äº†ï¼Œä½†è¿˜æ˜¯ç¼ºä¹å®è·µä¸Šçš„ç†è§£ã€‚</p>
<p>å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸‹é¢ä¸€èµ·æ¥åŠ¨æ‰‹å¼ºåŒ–è¿™éƒ¨åˆ†çš„ç†è§£ã€‚</p>
<h3 data-id="heading-3">1ã€å®‰è£… Claude Code</h3>
<h4 data-id="heading-4">å®˜ç½‘æ–¹å¼å®‰è£…</h4>
<p>è¿™é‡Œæˆ‘Macç³»ç»Ÿä¸ºä¾‹ï¼Œå…¶ä»–åŒå­¦æŒ‰éœ€é€‰æ‹©ï¼Œç»ˆç«¯è¾“å…¥å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment">### macOS, Linux, WSL:</span>
curl -fsSL https://claude.ai/install.sh | bash
<span class="hljs-comment">### Windows PowerShell:</span>
irm https://claude.ai/install.ps1 | iex
<span class="hljs-comment">### Windows CMD:</span>
curl -fsSL https://claude.ai/install.cmd -o install.cmd &amp;&amp; install.cmd &amp;&amp; del install.cmd
</code></pre>
<h4 data-id="heading-5">npm æ–¹å¼å®‰è£…</h4>
<p>ç”µè„‘å¿…é¡»å®‰è£… Node.jsï¼Œå¦‚æ²¡æœ‰è¯·è‡ªè¡Œå®‰è£…</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f4c7e931d11400ba9204df75a2fee3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=9166KJm5sGVSdCmsfNtEnC%2BwmLQ%3D" alt="image" loading="lazy"/></p>
<p>ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…</p>
<p><code>npm install -g @anthropic-ai/claude-code</code></p>
<p>å®‰è£…å¥½åï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤éªŒè¯</p>
<p><code>claude --version</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd46724890df46ad9d5e11894c372436~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=VhZMMAnGowjnQgRtKAJJhg1E4Yc%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-6">2ã€ç™»é™†<code>Claude code</code></h3>
<p><code>Claude Code </code>éœ€è¦è´¦æˆ·æ‰èƒ½ä½¿ç”¨ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># é¦–æ¬¡ä½¿ç”¨æ—¶ç³»ç»Ÿä¼šæç¤ºæ‚¨ç™»å½•</span>
claude
<span class="hljs-comment"># æŒ‰ç…§æç¤ºä½¿ç”¨æ‚¨çš„è´¦æˆ·ç™»å½•</span>
/login
</code></pre>
<p>æˆåŠŸå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bfb94111d714eaf8b60d6e6bbe41504~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=h1ZSvIuuAyYNp9U1w%2F5KM1zXg2k%3D" alt="image" loading="lazy"/></p>
<p>è¿™é‡Œå¤§å®¶ä¹Ÿä¸éš¾çœ‹åˆ°ï¼Œä¸ç®¡æ˜¯ç”¨<code>API</code>æ–¹å¼ï¼Œè¿˜æ˜¯è´¦å·æ–¹å¼ç™»é™†ï¼Œé€‰æ‹©å®˜æ–¹çš„ <code>Claude</code>æ¨¡å‹ï¼ŒçœŸçš„éå¸¸è´µï¼Œå¯ä»¥é€‰æ‹©ä¸­è½¬çš„ <code>API</code>ï¼Œæ€§ä»·æ¯”é«˜ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹© GLM 4.7ï¼Œç›¸å¯¹åˆ’ç®—ã€‚</p>
<p>è¿™é‡Œæˆ‘å»ºè®®å®‰è£…<code>CC Swtich</code>æ¥ç®¡ç†å„ç§ <code>API</code> çš„é…ç½®ï¼Œå…·ä½“å®‰è£…å¦‚ä¸‹ï¼š</p>
<p>ç‚¹å‡»ä¸‹è½½é“¾æ¥â†’<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffarion1231%2Fcc-switch%2Freleases%2Ftag%2Fv3.10.2" target="_blank" title="https://github.com/farion1231/cc-switch/releases/tag/v3.10.2" ref="nofollow noopener noreferrer">ä¼ é€é—¨</a>â†ï¼Œè¿›å…¥<code>CC-Switch</code>çš„<code>Github Release</code>é¡µé¢</p>
<p>é¼ æ ‡æ»šåŠ¨åˆ°æœ€ä¸‹æ–¹é€‰æ‹©é€‚åˆè‡ªå·±ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œ<code>Windows</code>ç³»ç»Ÿæ¨èä¸‹è½½æ™®é€š<code>msi</code>åç¼€çš„å®‰è£…åŒ…è¿›è¡Œå®‰è£…</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aedc04755a1843e9a3c3d5243e685352~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=FWJDJ7phGrIsO3gbUrmI8k%2B90hA%3D" alt="image" loading="lazy"/></p>
<p>å®‰è£…åè¿è¡Œ<code>CC-Switch</code>ä¸»ç¨‹åºï¼Œç•Œé¢å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4bb8a6c53aa428d8645d88c520dcaa2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=BKMJuGYyoYzAIcEnfHibYnUWgGo%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-7">3ã€Claude codeé…ç½®</h3>
<p>æ‰“å¼€ä½ ä¸‹è½½çš„<code>CC Switch</code>è½¯ä»¶ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾çš„åˆå§‹ç•Œé¢</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d9ecaaaeb194c83aac02929207f6acd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=DlISiXVrINilj3YnZZO6Oe16VeU%3D" alt="image" loading="lazy"/></p>
<p>åœ¨åˆ†ç»„æ¡ä¸­ï¼Œå°†åˆ†ç»„é€‰æ‹©è‡³â€œClaudeâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dfa31d97ae847c39d148fc64be58a4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=PE47hlkvzHosXOzPEXLFgAT1jJE%3D" alt="image" loading="lazy"/></p>
<p>åœ¨ä¾›åº”å•†åˆ†ç»„ä¸­ï¼Œé€‰æ‹©å¦‚å›¾çš„â€œPakcyCodeâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72333ce3fa1d4bfb886375ccb9147221~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=0pPV8BMU8f%2FXQ9HrZdX3xap%2FalE%3D" alt="image" loading="lazy"/></p>
<p>å›é¡¾ åˆ›å»ºAPIä»¤ç‰Œï¼Œåœ¨ <code>PackyApi </code>ä¸­åˆ›å»º CC åˆ†ç»„çš„ä»¤ç‰Œï¼Œç‚¹å‡»å¤åˆ¶æŒ‰é’®ï¼Œå¤åˆ¶<code>ApiKey</code>åˆ°å‰ªåˆ‡æ¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/184c43f1ae5443bb84b58761e3e07dd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=wBhFOyDTeT0XXf0tRL%2Bt6i%2BGohM%3D" alt="image" loading="lazy"/></p>
<p>ä¸‹æ‹‰æ¨¡æ€æ¡†ï¼Œæ‰¾åˆ°â€œAPI Keyâ€é…ç½®é¡¹ï¼Œå¡«å…¥ä½ åˆšæ‰å¤åˆ¶çš„<code>ApiKey</code>ï¼Œå†ç‚¹å‡»å³ä¸‹è§’â€œæ·»åŠ â€æŒ‰é’®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/530f7d1762354f25b30ea359456c34f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=2cp0JO69JC5QJxBfrv0hEU4j9f0%3D" alt="image" loading="lazy"/></p>
<p>æ·»åŠ æˆåŠŸåï¼Œåœ¨ä¸»ç•Œé¢ä¼šçœ‹åˆ°æˆ‘ä»¬é…ç½®çš„åˆ†ç»„ï¼Œåœ¨å³ä¾§ç‚¹å‡»â€œå¯ç”¨â€æŒ‰é’®ï¼Œæ˜¾ç¤ºâ€œä½¿ç”¨ä¸­â€ï¼Œåˆ™é…ç½®å®Œæˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d8c9fad0c8b4dd1808b1fe59a9b6c60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=qIba%2FEYYQRcsmS772YMwCHLUNcE%3D" alt="image" loading="lazy"/></p>
<p>åœ¨ç»ˆç«¯è¿è¡Œ <code>claude</code>ï¼Œçœ‹åˆ°å¯¹è¯ç•Œé¢å¹¶èƒ½æ­£å¸¸å›å¤å³è¡¨ç¤ºé…ç½®å®Œæˆ
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85679700a3cf4372932b15c2ace238d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=sHEojRuyTkvmN7%2BezKC%2Fx5A1ZNE%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-8">4ã€åœ¨ Claude Code ä¸­å®‰è£… Skills</h3>
<p>åœ¨ Claude Code ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†æ­¤å­˜å‚¨åº“æ³¨å†Œä¸º <code>Claude Code </code>æ’ä»¶å¸‚åœºï¼š</p>
<p><code>/plugin marketplace add anthropics/skills</code></p>
<p>ç„¶åï¼Œåœ¨æ’ä»¶å¸‚åœºä¸­æœç´¢ç›¸å…³æ’ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b91dc6f9ea6a4ff0b89f47e7dadf3462~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=QK0yhvbrncFewwlXzxMonGcoxCw%3D" alt="image" loading="lazy"/></p>
<p><strong>å®‰è£…å¥½ <code>skills</code> åï¼Œé‡å¯<code>Claude Code</code>ã€‚</strong></p>
<p>okï¼Œå‡†å¤‡å°±ç»ª</p>
<h3 data-id="heading-9">5ã€Skillçš„ä½¿ç”¨</h3>
<p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹ä¸€èµ·å®è·µæ“ä½œã€‚</p>
<h4 data-id="heading-10">ç¬¬ä¸€ä¸ªä¾‹å­</h4>
<p>åœ¨<code>Claude Code</code>ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹</p>
<p><code>ç”¨ xlsx skill åˆ›å»ºä¸€ä¸ªç”Ÿæˆä¸€ä¸ª 2025 å¹´ 1â€“12 æœˆçš„é”€å”®æŠ¥è¡¨</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7faae8971daf4031869ab33c9e5ac28f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=XG0Sk3n6uxUzCcDKwIMka844aCU%3D" alt="image" loading="lazy"/></p>
<p>æ¥ç€ï¼Œå°±æ˜¯ä½ é€‰æ‹©<code>yes</code>å’Œ<code>no</code>çš„è¿‡ç¨‹äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/762682fce26f420a9cea8dfdca368827~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=FYkvQ6aLfmTzpAfa4KgMPDvjYOU%3D" alt="image" loading="lazy"/></p>
<p>ä¸­é—´æœ‰æŠ¥é”™æˆ–è€…ä»€ä¹ˆçš„ä½ éƒ½ä¸ç”¨æ“å¿ƒçš„ï¼Œå®ƒéƒ½ä¼šå¸®ä½ è§£å†³ï¼Œæœ€ç»ˆç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bebd35ac371d43d9aecd1a1619a00e59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=y1oeRB%2B%2FudzNACiPvYgKkfoNGbA%3D" alt="image" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10d6c5ee46844282b6813b33bc9b4263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=ThlNEOWr%2BIasnZpQI2YcZqJUz%2B4%3D" alt="image" loading="lazy"/></p>
<h4 data-id="heading-11">ç¬¬äºŒä¸ªä¾‹å­</h4>
<p>è¿™æ¬¡æˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­è¨€æ¥å®‰è£…Skillï¼ˆéœ€è¦<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nfsq.us%2F%23%2Fregister%3Fcode%3DxLnGFvrn" target="_blank" title="https://www.nfsq.us/#/register?code=xLnGFvrn" ref="nofollow noopener noreferrer">è¾…åŠ©</a>æ‰èƒ½é“¾æ¥githubï¼‰</p>
<pre><code class="hljs language-ruby" lang="ruby">å¸®æˆ‘å®‰è£…è¿™ä¸ª skillï¼Œåœ°å€ï¼š
<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/blob</span><span class="hljs-regexp">/main/skills</span><span class="hljs-regexp">/skill-creator

å…‹éš†åˆ° ~/</span>.claude/skills
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/489df6201bc04f5b8a89add3041a2f8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=o75UM2Mcgp%2BpeeLFEYr8ykrmEog%3D" alt="image" loading="lazy"/></p>
<p>å®‰è£…æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/028e713cc87b4391b39f1bceafce1bde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=4wpy1fOnCQO1HH6Lt8PSn3YA50s%3D" alt="image" loading="lazy"/></p>
<p>é‡å¯ <code>Claude Code</code>ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥å®è·µä¸€ä¸ªä¾‹å­</p>
<pre><code class="hljs language-Bash" lang="Bash">åˆ›å»ºä¸€ä¸ª skillï¼ŒåŠŸèƒ½æ˜¯ï¼š
è‡ªåŠ¨ç”Ÿæˆä¸€ä»½å…¬å¸å‘¨æŠ¥ Excel
åŒ…å«ï¼š
æœ¬å‘¨æ”¶å…¥
æœ¬å‘¨æ”¯å‡º
å‡€åˆ©æ¶¦
ç¯æ¯”å˜åŒ–
å¹¶è‡ªåŠ¨ç”ŸæˆæŠ˜çº¿å›¾ + æ¡å½¢å›¾
é£æ ¼ç®€æ´å•†åŠ¡é£
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7dd17c70f9d46ff91291d888bf16d48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=fbeUxPO0gHfPQ9dNRDuCy6mM0I8%3D" alt="image" loading="lazy"/></p>
<p>ç„¶åï¼Œæˆ‘ä»¬ç­‰å¾…<code>Skill</code>è¢«åˆ›å»ºå¥½ï¼Œå¦‚ä¸‹æ‰€ç¤º</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73b520557b744aa18e185ba432aa91c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=UieezTyantR5NjtmI1Uo2l3e4Pg%3D" alt="image" loading="lazy"/></p>
<p>æ¥ç€ï¼Œç”¨æˆ‘ä»¬åˆ›å»ºçš„<code>Skill</code>å¼€å§‹å¹²æ´»ï¼Œ<code>Claude Code</code>è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">ç”¨æˆ‘åˆšåˆ›å»ºçš„å‘¨æŠ¥ skill
ç”Ÿæˆä¸€ä»½ 2026 å¹´ç¬¬ 3 å‘¨çš„å…¬å¸è´¢åŠ¡æŠ¥è¡¨ Excel
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baef0b6ed44144e0ad845e64cc59a10e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=eejcAP5Lg9XjENQ6JSHV3Eslsmk%3D" alt="image" loading="lazy"/></p>
<p>ç°åœ¨ï¼Œå®ƒå¼€å§‹ç»™æˆ‘ä»¬å¹²æ´»äº†ã€‚</p>
<p>å¾ˆå¿«,æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ç»“æœï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62f339eb7ce54e399479a9f3d08022f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=vH2%2FCeqJxZvNQ8WuQCq8%2BeL9IfM%3D" alt="image" loading="lazy"/></p>
<p><strong>æœ€ç»ˆæ•ˆæœ</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45a02db794b248b8bee8ae30e487106d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=OO4F3b1jWnfKyu1Px4gVnjB4%2BdY%3D" alt="image" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/482f068e8af745d2bc46eb0284fe27da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=flMtGuR4WI6tqq%2FGSR%2F7HH65%2Fko%3D" alt="image" loading="lazy"/></p>
<p>çœŸçš„éå¸¸ç»™åŠ›å‘€ï¼Œä¸€ä¸ªæŠ¥è¡¨å°±è¿™ä¹ˆæ„‰å¿«çš„æå®šäº†ã€‚</p>
<p>åšä¸€ä¸ª skill å°±å‡ åˆ†é’Ÿæ—¶é—´ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<h3 data-id="heading-12">6ã€å¯èƒ½é‡åˆ°çš„å‘</h3>
<h4 data-id="heading-13">è´¦å·ã€APIå‡†å¤‡</h4>
<ul>
<li>è·å–è®¢é˜…äº†Claudeå¥—é¤çš„è°·æ­Œè´¦å·ï¼ˆè€ƒè™‘æŸå®åº—é“ºæœ‰å–ï¼Œç•¥è´µï¼‰</li>
<li>éœ€è¦è¾…åŠ©ï¼Œå…¬ä¼—å·è½¯ä»¶æµ‹è¯•å› å›å¤â€œå†œå¤«å±±æ³‰â€è·å–è¾…åŠ©ï¼ŒèŠ‚ç‚¹é¿é›·å¤§é™†ã€é¦™æ¸¯ã€ä¿„ç½—æ–¯ï¼Œå»ºè®®ç¾å›½ã€æ—¥æœ¬ã€æ–°åŠ å¡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.packyapi.com%2Fregister%3Faff%3DjJeQ" target="_blank" title="https://www.packyapi.com/register?aff=jJeQ" ref="nofollow noopener noreferrer">claudeä¸­è½¬API</a></li>
</ul>
<h4 data-id="heading-14">Claudeè®¤è¯</h4>
<p><strong>é—®é¢˜1ï¼š</strong> è¿è¡Œclaudeå‘½ä»¤æ—¶ï¼ŒæŠ¥é”™ï¼šUnable to connect to Anthropic services \n Failed to connect to api.anthropic.com: ERR_BAD_REQUEST ï¼š</p>
<ul>
<li>æ‰¾åˆ°.claude.jsonæ–‡ä»¶ï¼ˆå‘½ä»¤ï¼šls -a ~/.claude.jsonï¼‰</li>
<li>è¿›å…¥ç¼–è¾‘æ–‡ä»¶çª—å£ï¼ˆå‘½ä»¤ï¼šnano ~/.claude.jsonï¼‰</li>
<li>åœ¨æ–‡ä»¶æœ«å°¾ï¼ˆæ ¹å­—æ®µï¼‰æ·»åŠ ï¼š"hasCompletedOnboarding": true ä»¥è·³è¿‡é¦–æ¬¡è¿è¡Œçš„å¼•å¯¼ç•Œé¢</li>
</ul>
<p><strong>é—®é¢˜2ï¼š</strong> ç²˜è´´æˆæƒç åï¼ŒæŠ¥é”™ï¼š OAuth error: Request failed with status code 403 \n Press Enter to retry.ä¸”é‡è¯•æ— æœï¼š</p>
<ul>
<li>æŸ¥çœ‹å…¬ç½‘åœ°å€ä¿¡æ¯ï¼Œå¦‚æœä»æ˜¯å›½å†…åˆ™åŸå› ä¸ºä»£ç†å¤±æ•ˆï¼ˆå‘½ä»¤ï¼šcurl ipinfo.ioï¼‰</li>
<li>å¦‚æœæ˜¯ä»£ç†å¤±æ•ˆï¼Œåˆ™æ‰‹åŠ¨æ·»åŠ ä»£ç†ï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼šï¼ˆæ³¨æ„ä»£ç†ç«¯å£ä¸€èˆ¬æ˜¯7890ä½†å¯èƒ½ä¸ä¸€è‡´ï¼‰</li>
</ul>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">export</span> http_proxy=http://127.0.0.1:7890
<span class="hljs-built_in">export</span> https_proxy=http://127.0.0.1:7890
</code></pre>
<p>æ‰§è¡Œå®Œåé‡æ–°æŸ¥çœ‹å…¬ç½‘åœ°å€ï¼Œè‹¥æ˜¾ç¤ºä¸ºä»£ç†åœ°å€åˆ™æˆåŠŸï¼ˆæ•ˆæœè§ä¸‹å›¾ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78c0047cfe084eaa8bb1409c4a60d20d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=YCIj1Swg%2B4JZbX6UrTvsFKySXto%3D" alt="image" loading="lazy"/></p>
<p>å¯èƒ½æœ‰çš„åŒå­¦ä¼šé—®æˆ‘ï¼Œä¸ºä»€ä¹ˆæˆ‘å¯åŠ¨<code>Claude Code</code>æ—¶ï¼Œé»˜è®¤æ˜¯æ™ºè°±çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3DVABLPWRMVY" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=VABLPWRMVY" ref="nofollow noopener noreferrer">GLM4.7</a>ï¼Œ<strong>å› ä¸ºä¾¿å®œ</strong>ï¼</p>
<p>Claude Codeæ˜¯å¯ä»¥åˆ‡æ¢é»˜è®¤æ¨¡å‹çš„ï¼Œå¦‚æœ‰éœ€è¦ï¼Œåé¢æˆ‘ä¼šåœ¨æ›´æ–°ä¸€ç¯‡æ–‡ç« æ¥å†™å¦‚ä½•æ›´æ¢é»˜è®¤å¯åŠ¨æ¨¡å‹ï¼Œå¦‚æ„Ÿå…´è¶£ï¼Œå¯ä»¥æ–‡æœ«ç•™è¨€å‘¢ï¼</p>
<p>ä¸‹é¢æ˜¯æˆ‘æ¨èä¸€äº›é€šè¿‡<code>API</code>æ–¹å¼è°ƒç”¨ï¼Œæ¯”è¾ƒçœé’±çš„æ–¹å¼ï¼Œå¯ä»¥çœŸæ­£è·‘èµ·æ¥Claude Codeï¼Œè¯·æŒ‰éœ€é€‰æ‹©:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3DVABLPWRMVY" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=VABLPWRMVY" ref="nofollow noopener noreferrer">æ™ºè°±GLM</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bigmodel.cn%2Fglm-coding%3Fic%3DVABLPWRMVY" target="_blank" title="https://www.bigmodel.cn/glm-coding?ic=VABLPWRMVY" ref="nofollow noopener noreferrer">www.bigmodel.cn/glm-coding?â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.siliconflow.cn%2Fi%2FnyZIgvwa" target="_blank" title="https://cloud.siliconflow.cn/i/nyZIgvwa" ref="nofollow noopener noreferrer">ç¡…åŸºæµåŠ¨</a>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.siliconflow.cn%2Fi%2FnyZIgvwa" target="_blank" title="https://cloud.siliconflow.cn/i/nyZIgvwa" ref="nofollow noopener noreferrer">cloud.siliconflow.cn/i/nyZIgvwa</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nfsq.us%2F%23%2Fregister%3Fcode%3DxLnGFvrn" target="_blank" title="https://www.nfsq.us/#/register?code=xLnGFvrn" ref="nofollow noopener noreferrer">è¾…åŠ©</a>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nfsq.us%2F%23%2Fregister%3Fcode%3DxLnGFvrn" target="_blank" title="https://www.nfsq.us/#/register?code=xLnGFvrn" ref="nofollow noopener noreferrer">www.nfsq.us/#/register?â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.packyapi.com%2Fregister%3Faff%3DjJeQ" target="_blank" title="https://www.packyapi.com/register?aff=jJeQ" ref="nofollow noopener noreferrer">Claude Clodeä¸­è½¬API</a>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.packyapi.com%2Fregister%3Faff%3DjJeQ" target="_blank" title="https://www.packyapi.com/register?aff=jJeQ" ref="nofollow noopener noreferrer">www.packyapi.com/register?afâ€¦</a></li>
</ul>
<h2 data-id="heading-15">å››ã€ä¸€äº›å¥½ç”¨çš„skill</h2>
<h3 data-id="heading-16">1ã€ç”¨é€”é€ŸæŸ¥è¡¨</h3>




























































<table><thead><tr><th>åç§°</th><th>çƒ­åº¦</th><th>ä¸»è¦åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td>create-pr</td><td>169.7k</td><td>è‡ªåŠ¨åˆ›å»ºPRã€è§„èŒƒåŒ–Gitå·¥ä½œæµ</td></tr><tr><td>skill-lookup</td><td>142.6k</td><td>æŸ¥æ‰¾å’Œå®‰è£…å…¶ä»–Skills</td></tr><tr><td>frontend-code-review</td><td>126.3k</td><td>å‰ç«¯ä»£ç å®¡æŸ¥</td></tr><tr><td>cache-components-expert</td><td>137.2k</td><td>ä¼˜åŒ–LLMåº”ç”¨ç¼“å­˜</td></tr><tr><td>obra/superpowers</td><td>29.1k</td><td>è®©Claudeåƒé«˜çº§å·¥ç¨‹å¸ˆä¸€æ ·å·¥ä½œ</td></tr><tr><td>anthropics/skills</td><td>45.1k</td><td>å¤„ç†Word/PDF/Excelæ–‡æ¡£</td></tr><tr><td>electron-chromium-upgrade</td><td>119.6k</td><td>å¼€å‘Electronåº”ç”¨ã€å‡çº§Chromium</td></tr><tr><td>cloudflare-skill</td><td>2.8k</td><td>å¼€å‘Cloudflareåº”ç”¨</td></tr><tr><td>skill-writer</td><td>96k</td><td>åˆ›å»ºè‡ªå·±çš„Skill</td></tr><tr><td>awesome-claude-skills</td><td>21.6k</td><td>æ‰¾å„ç§Skillså‚è€ƒ</td></tr></tbody></table>
<h3 data-id="heading-17">2ã€ç›¸å…³èµ„æº</h3>

























<table><thead><tr><th>ç±»å‹</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>å®˜æ–¹æ–‡æ¡£</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer">code.claude.com/docs/en/skiâ€¦</a></td></tr><tr><td>Skillsè§„èŒƒ</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills%2Ftree%2Fmain%2Fspec" target="_blank" title="https://github.com/anthropics/skills/tree/main/spec" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></td></tr><tr><td>è§†è§‰ç›®å½•</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fawesomeclaude.ai%2Fawesome-claude-skills" target="_blank" title="https://awesomeclaude.ai/awesome-claude-skills" ref="nofollow noopener noreferrer">awesomeclaude.ai/awesome-claâ€¦</a></td></tr><tr><td>Skillså¸‚åœº</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com" target="_blank" title="https://skillsmp.com" ref="nofollow noopener noreferrer">skillsmp.com</a></td></tr></tbody></table>
<h2 data-id="heading-18">äº”ã€å†™åœ¨æœ€å</h2>
<p>ä»<code>AI</code>çš„æ•´ä¸ªå‘å±•å²æ¥çœ‹ï¼Œä»<code>LLMâ†’Agentâ†’MCPâ†’SKILL</code>ï¼Œæ¯ä¸ªé˜¶æ®µçš„å‡ºç°ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³ç‰¹å®šé—®é¢˜è€Œåº”è¿è€Œç”Ÿã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘æœ‰äº†çš„å¤§èƒ†çš„è®¾æƒ³ï¼Œè¿™ç©æ„åº”è¯¥å¯ä»¥ç§»æ¤åˆ°å®é™…çš„å¼€å‘åº”ç”¨ä¸­ï¼Œåº”è¯¥ä¼šå¾ˆæœ‰æ„æ€ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3723bf935a54e05a46551f6d0e98ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2v5Lu25rWL6K-V5ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769940991&amp;x-signature=RC092qc6YgknjP3ktGFyGkMfSd4%3D" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenContextEngine-skill ä¸€ä¸ªå·¥ä¸šçº§çš„ã€å¼€æº Augment Context Engineï¼ˆACEï¼‰å®ç°]]></title>    <link>https://juejin.cn/post/7598537377472839718</link>    <guid>https://juejin.cn/post/7598537377472839718</guid>    <pubDate>2026-01-25T01:09:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598537377472839718" data-draft-id="7598801700049600550" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenContextEngine-skill ä¸€ä¸ªå·¥ä¸šçº§çš„ã€å¼€æº Augment Context Engineï¼ˆACEï¼‰å®ç°"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-25T01:09:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·855303118659"/> <meta itemprop="url" content="https://juejin.cn/user/4237940043813211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenContextEngine-skill ä¸€ä¸ªå·¥ä¸šçº§çš„ã€å¼€æº Augment Context Engineï¼ˆACEï¼‰å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4237940043813211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·855303118659
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T01:09:15.000Z" title="Sun Jan 25 2026 01:09:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">open-context-engine-skill</h2>
<blockquote>
<p><strong>æºä»£ç </strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Foldjs%2Fopen-context-engine-skill" target="_blank" title="https://github.com/oldjs/open-context-engine-skill" ref="nofollow noopener noreferrer">github.com/oldjs/open-â€¦</a></p>
</blockquote>
<p>ä¸€ä¸ªå·¥ä¸šçº§ã€å¼€æºçš„ Augment Context Engine (ACE) å®ç°æ–¹æ¡ˆã€‚</p>
<p><strong>open-context-engine-skill</strong> æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„è¯­ä¹‰ä»£ç æœç´¢å’Œä¸Šä¸‹æ–‡æ”¶é›†å¼•æ“ï¼Œæ—¨åœ¨å¼¥åˆæµ·é‡ä»£ç åº“ä¸ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰æœ‰é™ä¸Šä¸‹æ–‡çª—å£ä¹‹é—´çš„é¸¿æ²Ÿã€‚å®ƒä½¿ AI Agentï¼ˆå¦‚ Claude Codeï¼‰èƒ½å¤Ÿå®æ—¶å¯¼èˆªã€ç†è§£å¹¶ç»¼åˆå¤æ‚çš„é¡¹ç›®ç»“æ„ã€‚</p>
<hr/>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>é›¶ä¾èµ–æ ¸å¿ƒ (Zero-Dependency Core)</strong>ï¼šå®Œå…¨ä½¿ç”¨ Python 3 æ ‡å‡†åº“ç¼–å†™ã€‚æ— éœ€ <code>pip install</code>ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸­å‡å…·æœ‰æœ€å¤§çš„å¯ç§»æ¤æ€§ã€‚</li>
<li><strong>åŒå±‚å¢é‡ç¼“å­˜ (Two-Layer Incremental Caching)</strong>ï¼š
<ul>
<li><strong>AST/æ¨¡å¼ç¼“å­˜</strong>ï¼šåˆ©ç”¨å†…å®¹å“ˆå¸Œï¼Œè·³è¿‡å¯¹æœªå˜æ›´æ–‡ä»¶çš„é‡å¤è§£æã€‚</li>
<li><strong>è¯­ä¹‰è¯„åˆ†ç¼“å­˜</strong>ï¼šåŸºäº SQLite çš„æŒä¹…åŒ–å­˜å‚¨ï¼ˆ<code>.oce_cache</code>ï¼‰ï¼Œé’ˆå¯¹ç›¸ä¼¼æŸ¥è¯¢å¤ç”¨ LLM çš„æ’åºç»“æœï¼Œå°†å»¶è¿Ÿä»æ•°ç§’é™è‡³ <strong>&lt;500ms</strong>ã€‚</li>
</ul>
</li>
<li><strong>å¹¶è¡Œ LLM æ’åº (Parallel LLM Ranking)</strong>ï¼šé€šè¿‡å¤šçº¿ç¨‹ LLM å®¢æˆ·ç«¯å®ç°é«˜ååé‡è¯„åˆ†ï¼Œå¯åŒæ—¶å¿«é€Ÿè¯„ä¼°æ•°ç™¾ä¸ªä»£ç å—ã€‚</li>
<li><strong>å¤šè¯­è¨€æ™ºèƒ½ (Multi-Language Intelligence)</strong>ï¼š
<ul>
<li><strong>Python</strong>ï¼šåŸºäºæ·±åº¦çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰æå–ã€‚</li>
<li><strong>é€šç”¨è¯­è¨€</strong>ï¼šåŸºäºæ¨¡å¼ï¼ˆPattern-basedï¼‰æå–ï¼Œæ”¯æŒ TS/JS, Go, Rust, Java, C++ ç­‰ 10 å¤šç§è¯­è¨€ã€‚</li>
</ul>
</li>
<li><strong>Git æ„ŸçŸ¥è¿‡æ»¤ (Git-Aware Filtering)</strong>ï¼šè‡ªåŠ¨éµå¾ª <code>.gitignore</code> è§„åˆ™ï¼Œå¹¶å¿½ç•¥äºŒè¿›åˆ¶æ–‡ä»¶ã€ä¾›åº”å•†ç›®å½•ï¼ˆvendorï¼‰å’Œæ„å»ºäº§ç‰©ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡æ‰“åŒ… (Context Packing)</strong>ï¼šæ™ºèƒ½ç»„è£…æœ€ç›¸å…³çš„ä»£ç ç‰‡æ®µï¼Œç”Ÿæˆç» Token ä¼˜åŒ–çš„â€œä¸Šä¸‹æ–‡åŒ… (Context Pack)â€ï¼Œä¾› LLM ç›´æ¥ä½¿ç”¨ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">Claude çš„å®æˆ˜æ‰‹è®°ï¼šä¸€æ¬¡çœŸå®çš„æœç´¢å¯¹æ¯”</h3>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Claudeã€‚è®©æˆ‘åˆ†äº«ä¸€ä¸ªä»Šå¤©å‘ç”Ÿçš„çœŸå®è°ƒè¯•æ•…äº‹ã€‚</p>
</blockquote>
<h4 data-id="heading-3">æŒ‘æˆ˜</h4>
<p>ç”¨æˆ·è®©æˆ‘æŸ¥æ‰¾ä¸€ä¸ª Next.js å…¨æ ˆé¡¹ç›®ä¸­çš„â€œç®¡ç†å‘˜ç”Ÿæˆé€»è¾‘ (admin generation logic)â€â€”â€”è¿™æ˜¯ä¸€ä¸ªåŒ…å« OAuthã€æ”¯ä»˜å’ŒåŸºäºè§’è‰²æƒé™çš„ CMS å¹³å°ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„<strong>æ„å›¾æ¨¡ç³ŠæŸ¥è¯¢ (ambiguous intent query)</strong>ã€‚â€œç®¡ç†å‘˜ç”Ÿæˆâ€å¯èƒ½æ„å‘³ç€ï¼š</p>
<ul>
<li>æ•°æ®åº“ç§å­è„šæœ¬ (Seed script)</li>
<li>åˆå§‹åŒ–ä¾‹ç¨‹</li>
<li>æ³¨å†Œæµç¨‹çš„ä¸€éƒ¨åˆ†</li>
<li>ä¸€ä¸ªéšè—çš„ç®¡ç†å‘˜é¢æ¿åŠŸèƒ½</li>
</ul>
<p>ä»£ç åº“æœ‰ 200 å¤šä¸ªæ–‡ä»¶ï¼Œæ‰‹åŠ¨æœç´¢å°†è€—è´¹å¤§é‡æ—¶é—´ã€‚</p>
<h4 data-id="heading-4">å°è¯• 1ï¼šACE (Augment Context Engine)</h4>
<p>æˆ‘é¦–å…ˆå°è¯•äº† ACEï¼Œä½¿ç”¨äº†åŒ…å«å¤§é‡å…³é”®è¯çš„æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">æŸ¥è¯¢ <span class="hljs-number">1</span>: <span class="hljs-string">"Find where admin user is created or generated, administrator 
         account initialization logic. Keywords: admin, create, generate, 
         init, seed"</span>

æŸ¥è¯¢ <span class="hljs-number">2</span>: <span class="hljs-string">"Find user registration, account creation, or seed script that 
         creates the first admin user. Keywords: register, signup, role"</span>
</code></pre>
<p><strong>2 æ¬¡æŸ¥è¯¢åçš„ç»“æœï¼š</strong></p>





















<table><thead><tr><th>è¿”å›çš„æ–‡ä»¶</th><th>å†…å®¹</th></tr></thead><tbody><tr><td><code>actions/cms.ts</code></td><td>æƒé™æ£€æŸ¥ï¼š<code>user?.role === "admin"</code></td></tr><tr><td><code>actions/admin-*.ts</code></td><td>ç®¡ç†å‘˜é¢æ¿çš„ CRUD æ“ä½œ</td></tr><tr><td><code>db/schema.ts</code></td><td>åŒ…å« <code>role</code> å­—æ®µçš„ç”¨æˆ·è¡¨å®šä¹‰</td></tr></tbody></table>
<p>ACE æ‰¾åˆ°äº†<strong>ä½¿ç”¨</strong>ç®¡ç†å‘˜æƒé™çš„ä»£ç ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°<strong>åˆ›å»º</strong>æƒé™çš„ä»£ç ã€‚å…³é”®è¯ "admin" åœ¨æƒé™æ£€æŸ¥ä¸­å‡ºç°äº† 50 å¤šæ¬¡ï¼Œæ·¹æ²¡äº†çœŸæ­£çš„åˆ›å»ºé€»è¾‘ã€‚</p>
<h4 data-id="heading-5">å°è¯• 2ï¼šOCE (Open Context Engine)</h4>
<p>åˆ‡æ¢åˆ° OCEï¼Œä½¿ç”¨è‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python scripts/search_context.py \
  --project <span class="hljs-string">"/path/to/nextjs-cms"</span> \
  --query <span class="hljs-string">"I want to find where admin users are created or generated 
           during system initialization, how the first admin account 
           is set up"</span>
  <span class="hljs-comment"># (æˆ‘æƒ³æ‰¾åˆ°åœ¨ç³»ç»Ÿåˆå§‹åŒ–æœŸé—´åœ¨å“ªé‡Œåˆ›å»ºæˆ–ç”Ÿæˆç®¡ç†å‘˜ç”¨æˆ·ï¼Œä»¥åŠç¬¬ä¸€ä¸ªç®¡ç†å‘˜è´¦æˆ·æ˜¯å¦‚ä½•è®¾ç½®çš„)</span>
</code></pre>
<p><strong>ç»“æœï¼šç¬¬ä¸€æ¬¡æŸ¥è¯¢å³å‘½ä¸­ç›®æ ‡ã€‚</strong></p>
<p>OCE è¿”å›äº† <code>src/app/api/auth/verify-email/route.ts</code>ï¼Œè¯„åˆ† <strong>10/10</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// If this is the first user, promote to admin</span>
<span class="hljs-keyword">const</span> userCount = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>({ <span class="hljs-attr">id</span>: users.<span class="hljs-property">id</span> }).<span class="hljs-title function_">from</span>(users);
<span class="hljs-keyword">if</span> (userCount.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">update</span>(users)
    .<span class="hljs-title function_">set</span>({ <span class="hljs-attr">role</span>: <span class="hljs-string">"admin"</span> })
    .<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, user.<span class="hljs-property">id</span>));
  user.<span class="hljs-property">role</span> = <span class="hljs-string">"admin"</span>;
}
</code></pre>
<p><strong>å‘ç°</strong>ï¼šè¯¥é¡¹ç›®ä½¿ç”¨â€œç¬¬ä¸€ä¸ªæ³¨å†Œç”¨æˆ·è‡ªåŠ¨æˆä¸ºç®¡ç†å‘˜â€çš„æ¨¡å¼ï¼ŒåµŒå…¥åœ¨ç”µå­é‚®ä»¶éªŒè¯æµç¨‹ä¸­â€”â€”è€Œä¸æ˜¯ç§å­è„šæœ¬ã€‚</p>
<h4 data-id="heading-6">æŠ€æœ¯åˆ†æï¼šä¸ºä»€ä¹ˆ OCE æˆåŠŸäº†</h4>
<h5 data-id="heading-7">1. è¯­ä¹‰ç†è§£ vs å…³é”®è¯åŒ¹é…</h5>

























<table><thead><tr><th>ç»´åº¦</th><th>ACE (åŸºäºå…³é”®è¯)</th><th>OCE (LLM è¯„åˆ†)</th></tr></thead><tbody><tr><td>æŸ¥è¯¢è§£è¯»</td><td>å­—é¢åŒ¹é… "admin"</td><td>ç†è§£ "creation" (åˆ›å»º) vs "usage" (ä½¿ç”¨)</td></tr><tr><td>ç»“æœæ’åº</td><td>é¢‘ç‡åŠ æƒ</td><td>è¯­ä¹‰ç›¸å…³æ€§ (0-10)</td></tr><tr><td>å™ªå£°è¿‡æ»¤</td><td>æœ‰é™</td><td>LLM å‰”é™¤è¯¯æŠ¥</td></tr></tbody></table>
<h5 data-id="heading-8">2. å…³é”®è¯é™·é˜±</h5>
<p>ACE çš„å…³é”®è¯åŒ¹é…è¢«é«˜é¢‘æ¨¡å¼æ±¡æŸ“äº†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è¿™ç§æ¨¡å¼åœ¨ 12 ä¸ªæ–‡ä»¶ä¸­å‡ºç°äº† 47 æ¬¡</span>
<span class="hljs-keyword">if</span> (user?.<span class="hljs-property">role</span> !== <span class="hljs-string">"admin"</span>) {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: <span class="hljs-string">"No permission"</span> };
}
</code></pre>
<p>æ¯ä¸€ä¸ªæƒé™æ£€æŸ¥éƒ½åŒ…å« "admin" + "user"ï¼Œè§¦å‘äº†è¯¯æŠ¥ã€‚</p>
<h5 data-id="heading-9">3. OCE çš„è¯„åˆ†æœºåˆ¶</h5>
<p>OCE çš„ LLM è¯„ä¼°å™¨ç†è§£äº†è¯­ä¹‰ä¸Šçš„å·®å¼‚ï¼š</p>





























<table><thead><tr><th>ä»£ç æ¨¡å¼</th><th>ACE ç›¸å…³æ€§</th><th>OCE è¯„åˆ†</th><th>åŸå› </th></tr></thead><tbody><tr><td><code>role !== "admin"</code> (æ£€æŸ¥)</td><td>é«˜ (å…³é”®è¯åŒ¹é…)</td><td>2-3</td><td>ä»…æ˜¯ä½¿ç”¨ï¼Œéåˆ›å»º</td></tr><tr><td><code>set({ role: "admin" })</code> (èµ‹å€¼)</td><td>ä¸­</td><td><strong>10</strong></td><td>å®é™…çš„è§’è‰²èµ‹å€¼</td></tr><tr><td><code>userCount.length === 1</code> (æ¡ä»¶)</td><td>ä½</td><td><strong>10</strong></td><td>é¦–ä¸ªç”¨æˆ·é€»è¾‘</td></tr></tbody></table>
<h4 data-id="heading-10">ç»“æœå¯¹æ¯”</h4>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>ACE</th><th>OCE</th></tr></thead><tbody><tr><td>æ‰€éœ€æŸ¥è¯¢æ¬¡æ•°</td><td>2 (æœªå®Œæˆ)</td><td><strong>1</strong></td></tr><tr><td>è¿”å›æ–‡ä»¶æ•°</td><td>6 ä¸ªæ–‡ä»¶</td><td><strong>1 ä¸ªæ–‡ä»¶</strong></td></tr><tr><td>æ‰¾åˆ°æ ¸å¿ƒé€»è¾‘</td><td>å¦</td><td><strong>æ˜¯</strong></td></tr><tr><td>è¯¯æŠ¥ç‡</td><td>~90%</td><td><strong>0%</strong></td></tr><tr><td>Token æ¶ˆè€—</td><td>~4500</td><td><strong>~1200</strong></td></tr></tbody></table>
<h4 data-id="heading-11">å…³é”®ç»“è®º</h4>
<ol>
<li>
<p><strong>æ„å›¾æ¨¡ç³Šçš„æŸ¥è¯¢æ›´é€‚åˆè¯­ä¹‰æœç´¢</strong></p>
<ul>
<li>â€œæ‰¾åˆ° X æ˜¯åœ¨å“ªé‡Œè¢«åˆ›å»ºçš„â€éœ€è¦ç†è§£â€œåˆ›å»ºâ€ä¸â€œä½¿ç”¨â€çš„åŒºåˆ«ã€‚</li>
<li>å…³é”®è¯åŒ¹é…æ— æ³•åŒºåˆ†è¿™äº›è¯­ä¹‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é«˜é¢‘æ¨¡å¼ä¼šåˆ¶é€ å™ªå£°</strong></p>
<ul>
<li>å¸¸è§æ¨¡å¼ï¼ˆæƒé™æ£€æŸ¥ã€æ—¥å¿—è®°å½•ï¼‰ä¼šæ±¡æŸ“å…³é”®è¯æœç´¢ç»“æœã€‚</li>
<li>LLM è¯„åˆ†å¯ä»¥è¯†åˆ«å¹¶è¿‡æ»¤ä¸ç›¸å…³çš„åŒ¹é…ã€‚</li>
</ul>
</li>
<li>
<p><strong>è‡ªç„¶è¯­è¨€æŸ¥è¯¢ä¼˜äºå…³é”®è¯åˆ—è¡¨</strong></p>
<ul>
<li>å·®ï¼š<code>"admin creation. Keywords: admin, create, generate"</code></li>
<li>å¥½ï¼š<code>"I want to find where admin users are created during initialization"</code></li>
</ul>
</li>
<li>
<p><strong>Token æ•ˆç‡ä¸ç²¾åº¦æ­£ç›¸å…³</strong></p>
<ul>
<li>OCE é€šè¿‡æ’é™¤è¯¯æŠ¥ï¼Œå‡å°‘äº† 73% çš„ Token è¿”å›é‡ã€‚</li>
<li>æ›´å°‘çš„å™ªå£° = æ›´å¿«çš„ç†è§£ = æ›´å¥½çš„å›ç­”ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-12">ä½•æ—¶ä½¿ç”¨å“ªç§å·¥å…·</h4>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èå·¥å…·</th></tr></thead><tbody><tr><td>å·²çŸ¥æ¨¡å¼æŸ¥æ‰¾ (<code>"find all useState hooks"</code>)</td><td>ACE</td></tr><tr><td>æ„å›¾æ¨¡ç³Š (<code>"how does auth work"</code>)</td><td><strong>OCE</strong></td></tr><tr><td>è·¨æ¨¡å—è¿½è¸ª</td><td><strong>OCE + --deep</strong></td></tr><tr><td>é¦–æ¬¡æ¢ç´¢ä»£ç åº“</td><td><strong>OCE</strong></td></tr></tbody></table>
<hr/>
<p><em>â€” Claude, 2025-01-24</em><br/>
<em>ï¼ˆåœ¨ä¸ºäº†ä»æ•°ç™¾ä¸ªæ–‡ä»¶ä¸­æ‰¾åˆ°é‚£ 5 è¡Œåƒâ€œå¤§æµ·æé’ˆâ€ä¸€æ ·çš„ä»£ç è€Œè¿›è¡Œæµ·é‡æ‰«æä¹‹åï¼‰</em></p>
<hr/>
<h3 data-id="heading-13">å®‰è£…</h3>
<ol>
<li>
<p><strong>å…‹éš†ä»“åº“</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/oldjs/open-context-engine-skill.git
<span class="hljs-built_in">cd</span> open-context-engine-skill
</code></pre>
</li>
<li>
<p><strong>é…ç½® API è®¿é—®</strong>ï¼š
åœ¨ <code>open-context-engine-skill/.config/open-context-engine/config.json</code> åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"api_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://api.openai.com/v1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"api_key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-api-key"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt-oss-120b"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"max_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8000</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-14">ä½¿ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-15">å‘½ä»¤è¡Œæ¥å£</h4>
<p>é’ˆå¯¹ä»»ä½•é¡¹ç›®è¿è¡Œè¯­ä¹‰æœç´¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python scripts/search_context.py \
  --project <span class="hljs-string">"/path/to/target/project"</span> \
  --query <span class="hljs-string">"Find where the database connection is initialized and how retries are handled."</span>
</code></pre>
<h4 data-id="heading-16">ä¸ AI å·¥å…· (Claude Code) é›†æˆ</h4>
<p>è¯¥å¼•æ“è¢«è®¾è®¡ä¸ºä¸€é¡¹ <strong>Skill (æŠ€èƒ½)</strong>ã€‚å½“ Agent é‡åˆ°å¤æ‚çš„ä»£ç åº“æŸ¥è¯¢æ—¶ï¼Œå®ƒä¼šè°ƒç”¨ <code>search_context.py</code> æ¥æ£€ç´¢æœ€ç›¸å…³çš„é€»è¾‘ï¼š</p>
<ol>
<li><strong>[search-mode] (æœç´¢æ¨¡å¼)</strong>ï¼šä½¿ç”¨å¹¶è¡Œ Agent å’Œæ„ŸçŸ¥ AST çš„å·¥å…·åœ¨ä»£ç åº“ä¸­è¿›è¡Œè¯¦å°½æœç´¢ã€‚</li>
<li><strong>[analyze-mode] (åˆ†ææ¨¡å¼)</strong>ï¼šåœ¨å»ºè®®æ¶æ„æ›´æ”¹ä¹‹å‰ï¼Œè¿›è¡Œæ·±åº¦çš„ä¸Šä¸‹æ–‡æ”¶é›†å’Œå…³ç³»æ˜ å°„ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-17">æ¶æ„</h3>
<p>å¼•æ“éµå¾ªä¸¥æ ¼ä¼˜åŒ–çš„ç®¡é“æµç¨‹ï¼š</p>
<ol>
<li><strong>File Collector (æ–‡ä»¶æ”¶é›†å™¨)</strong>ï¼šæ‰«æé¡¹ç›®ï¼Œåº”ç”¨ Git è§„åˆ™å¹¶æ£€æµ‹äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li>
<li><strong>Code Chunker (ä»£ç åˆ†å—å™¨)</strong>ï¼šå°†æ–‡ä»¶æ‹†åˆ†ä¸ºé€»è¾‘å•å…ƒï¼ˆç±»ã€å‡½æ•°æˆ–å—ï¼‰ï¼ŒåŒæ—¶ä¿ç•™å…ƒæ•°æ®ã€‚</li>
<li><strong>Cache Manager (ç¼“å­˜ç®¡ç†å™¨)</strong>ï¼šå¤„ç† SQLite äº¤äº’å’Œå†…å®¹å“ˆå¸Œï¼Œç¡®ä¿é‡å¤æŸ¥è¯¢é›¶æˆæœ¬ã€‚</li>
<li><strong>Context Ranker (ä¸Šä¸‹æ–‡æ’åºå™¨)</strong>ï¼šä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„ LLM å®¢æˆ·ç«¯æ‰§è¡Œå¤šçº¿ç¨‹è¯„åˆ†ã€‚</li>
<li><strong>Context Packer (ä¸Šä¸‹æ–‡æ‰“åŒ…å™¨)</strong>ï¼šå°†ç»“æœæ•´åˆä¸ºå•ä¸€ã€ç»“æ„åŒ–çš„ JSON è¾“å‡ºï¼Œä¸”æ§åˆ¶åœ¨ Token é™åˆ¶å†…ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-18">æ€§èƒ½</h3>

























<table><thead><tr><th>é¡¹ç›®è§„æ¨¡</th><th>å†·æœç´¢ (é¦–æ¬¡)</th><th>çƒ­æœç´¢ (ç¼“å­˜å)</th></tr></thead><tbody><tr><td>å°å‹ (&lt;100 æ–‡ä»¶)</td><td>~20-40ms</td><td>~15ms</td></tr><tr><td>ä¸­å‹ (~500 æ–‡ä»¶)</td><td>~80-120ms</td><td>~35ms</td></tr><tr><td>å¤§å‹ (&gt;1000 æ–‡ä»¶)</td><td>~1s+</td><td>~35ms</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-19">Token æ¶ˆè€—ï¼šå›åº”å¼€å‘è€…çš„æ‹…å¿§</h3>
<blockquote>
<p>â€œè¿™ä¸ªæŠ€èƒ½ä¼šçƒ§å…‰æˆ‘çš„ Token å—ï¼Ÿâ€</p>
</blockquote>
<p><strong>ç®€çŸ­å›ç­”ï¼šä¸ä¼šã€‚</strong> ä»¥ä¸‹æ˜¯çœŸå®æ•°æ®å’ŒæŠ€æœ¯è§£é‡Šã€‚</p>
<h4 data-id="heading-20">çœŸå®ä¸–ç•Œå®æµ‹</h4>
<p>åœ¨ç”Ÿäº§çº§ä»£ç åº“ï¼ˆæ¯ä¸ª 200+ æ–‡ä»¶ï¼‰ä¸Šæµ‹è¯•ï¼š</p>





























<table><thead><tr><th>é¡¹ç›®</th><th>æ–‡ä»¶æ•°</th><th>å†·æœç´¢ (æ— ç¼“å­˜)</th><th>çƒ­æœç´¢ (æœ‰ç¼“å­˜)</th></tr></thead><tbody><tr><td>Flutter + Go å…¨æ ˆ</td><td>200+</td><td>~2000 è¾“å…¥ / ~50 è¾“å‡º</td><td><strong>0 tokens</strong></td></tr><tr><td>Next.js CMS</td><td>200+</td><td>~2000 è¾“å…¥ / ~50 è¾“å‡º</td><td><strong>0 tokens</strong></td></tr><tr><td>æœ¬é¡¹ç›® (OCE)</td><td>~20</td><td>~800 è¾“å…¥ / ~30 è¾“å‡º</td><td><strong>0 tokens</strong></td></tr></tbody></table>
<p><strong>æ ¸å¿ƒæ´å¯Ÿ</strong>ï¼šåœ¨ä¸€ä¸ª 200+ æ–‡ä»¶çš„é¡¹ç›®ä¸Šè¿›è¡Œå†·æœç´¢ä»…æ¶ˆè€—çº¦ 2000 è¾“å…¥ Tokenã€‚åœ¨ GPT-4o-mini ä¸Šè¿™å¤§çº¦ä»…éœ€ <strong>$0.0001</strong>ã€‚</p>
<h4 data-id="heading-21">ä¸ºä»€ä¹ˆè¿™ä¹ˆä½ï¼Ÿç­¾åæå– + åŒå±‚ç¼“å­˜</h4>
<h5 data-id="heading-22">ä¼˜åŒ– 1ï¼šç­¾åæå– (è€Œéå®Œæ•´ä»£ç )</h5>
<p>OCE <strong>ä¸ä¼š</strong>å°†å®Œæ•´ä»£ç å‘é€ç»™ LLM è¿›è¡Œè¯„åˆ†ã€‚ç›¸åï¼Œå®ƒæå–ç´§å‡‘çš„ç­¾åï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŸå§‹ 150 è¡Œçš„ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span>:
    <span class="hljs-string">"""Handles user authentication and session management."""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, db: Database, cache: Redis</span>):
        self.db = db
        self.cache = cache
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">authenticate</span>(<span class="hljs-params">self, username: <span class="hljs-built_in">str</span>, password: <span class="hljs-built_in">str</span></span>) -&gt; User:
        <span class="hljs-comment"># ... 50 lines of implementation</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_session</span>(<span class="hljs-params">self, user: User</span>) -&gt; Session:
        <span class="hljs-comment"># ... 40 lines of implementation</span>
    
    <span class="hljs-comment"># ... 50 more lines</span>

<span class="hljs-comment"># LLM å®é™…çœ‹åˆ°çš„ (extract_signature çš„è¾“å‡º):</span>
<span class="hljs-comment"># â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment"># [0] src/services/user.py (class, L1-150)</span>
<span class="hljs-comment"># class UserService:</span>
<span class="hljs-comment">#     """Handles user authentication and session management."""</span>
<span class="hljs-comment">#     </span>
<span class="hljs-comment">#     def __init__(self, db: Database, cache: Redis):</span>
<span class="hljs-comment">#     def authenticate(self, username: str, password: str) -&gt; User:</span>
<span class="hljs-comment">#     def create_session(self, user: User) -&gt; Session:</span>
<span class="hljs-comment">#   ... (142 more lines)</span>
</code></pre>
<p><strong>ä¸åŒå—ç±»å‹çš„æå–è§„åˆ™ï¼š</strong></p>






























<table><thead><tr><th>å—ç±»å‹</th><th>å‘é€è¡Œæ•°</th><th>åŒ…å«å†…å®¹</th></tr></thead><tbody><tr><td>function/method</td><td>å‰ 8 è¡Œ</td><td>ç­¾å + æ–‡æ¡£å­—ç¬¦ä¸²</td></tr><tr><td>class/struct/interface</td><td>æœ€å¤š 12 ä¸ªå…³é”®è¡Œ</td><td>å£°æ˜ + å­—æ®µå®šä¹‰</td></tr><tr><td>export</td><td>å‰ 10 è¡Œ</td><td>å¯¼å‡ºè¯­å¥ + ç­¾å</td></tr><tr><td>block</td><td>å‰ 8 è¡Œ</td><td>èµ·å§‹ä¸Šä¸‹æ–‡</td></tr></tbody></table>
<p><strong>Token èŠ‚çœ</strong>ï¼šä¸€ä¸ª 150 è¡Œçš„ç±»åœ¨è¯„åˆ†æ—¶ä»…å çº¦ 15 ä¸ª Tokenã€‚ç”šè‡³åœ¨å‘½ä¸­ç¼“å­˜ä¹‹å‰å°±å·²å‡å°‘ <strong>90%</strong>ã€‚</p>
<h5 data-id="heading-23">ä¼˜åŒ– 2ï¼šåŒå±‚ç¼“å­˜æ¶æ„</h5>
<p>OCE ä½¿ç”¨<strong>å—çº§è¯­ä¹‰ç¼“å­˜</strong>ï¼Œè€Œä¸æ˜¯æŸ¥è¯¢çº§ç¼“å­˜ã€‚è¿™æ˜¯å…³é”®åŒºåˆ«ã€‚</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æœç´¢è¯·æ±‚                              â”‚
â”‚            "Find where admin users are created"             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ <span class="hljs-number">1</span> å±‚: æ–‡ä»¶å—ç¼“å­˜ (SQLite: file_cache)                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Key: file_path                                             â”‚
â”‚  Value: { hash: <span class="hljs-built_in">MD5</span>(file_content), chunks: [...] }          â”‚
â”‚                                                             â”‚
â”‚  å‘½ä¸­: æ–‡ä»¶æœªå˜ â†’ è·³è¿‡é‡æ–°è§£æ                              â”‚
â”‚  æœªå‘½ä¸­: é‡æ–°åˆ†å—æ–‡ä»¶ â†’ æ›´æ–°ç¼“å­˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ <span class="hljs-number">2</span> å±‚: è¯„åˆ†ç¼“å­˜ (SQLite: score_cache)                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Key: (query_key, chunk_hash)                               â”‚
â”‚       query_key  = <span class="hljs-built_in">MD5</span>(<span class="hljs-built_in">sorted</span>(keywords))                    â”‚
â”‚       chunk_hash = <span class="hljs-built_in">MD5</span>(code_content)                        â”‚
â”‚                                                             â”‚
â”‚  å‘½ä¸­: ç›¸åŒå…³é”®è¯ + ç›¸åŒä»£ç  â†’ è¿”å›ç¼“å­˜åˆ†æ•°                 â”‚
â”‚  æœªå‘½ä¸­: è°ƒç”¨ LLM è¯„åˆ† â†’ æ›´æ–°ç¼“å­˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»“æœ: åªæœ‰ã€æœªç¼“å­˜ã€‘çš„å—æ‰ä¼šè§¦å‘ LLM è°ƒç”¨                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-24">ç¼“å­˜é”®è®¾è®¡ (ä¸ºä»€ä¹ˆå‘½ä¸­ç‡é«˜)</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥è¯¢é”®: åŸºäºã€å…³é”®è¯ã€‘ï¼Œè€Œéç¡®åˆ‡çš„æŸ¥è¯¢æ–‡æœ¬</span>
query_key = MD5(<span class="hljs-string">","</span>.join(<span class="hljs-built_in">sorted</span>([<span class="hljs-string">"admin"</span>, <span class="hljs-string">"create"</span>, <span class="hljs-string">"user"</span>])))

<span class="hljs-comment"># ä»¥ä¸‹æŸ¥è¯¢ç”Ÿæˆç›¸åŒçš„ query_key:</span>
<span class="hljs-comment"># - "Find where admin users are created"</span>
<span class="hljs-comment"># - "Show me user creation for admin accounts"  </span>
<span class="hljs-comment"># - "admin user create logic"</span>
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šè¯­ä¹‰ç›¸ä¼¼çš„æŸ¥è¯¢å…±äº«ç¼“å­˜æ¡ç›®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å—å“ˆå¸Œ: åŸºäºã€ä»£ç å†…å®¹ã€‘</span>
chunk_hash = MD5(code_block_content)

<span class="hljs-comment"># ç›¸åŒä»£ç  = ç›¸åŒå“ˆå¸Œï¼Œæ— è®ºï¼š</span>
<span class="hljs-comment"># - æ–‡ä»¶è·¯å¾„å˜æ›´ (ç§»åŠ¨æ–‡ä»¶ä¾ç„¶å‘½ä¸­ç¼“å­˜)</span>
<span class="hljs-comment"># - æŸ¥è¯¢å˜åŒ– (ä¸åŒæŸ¥è¯¢ï¼Œåªè¦ä»£ç ç›¸åŒä¸”å…³é”®è¯ç»„ç›¸åŒ = å‘½ä¸­)</span>
</code></pre>
<h4 data-id="heading-25">Token æ¶ˆè€—å…¬å¼</h4>
<pre><code class="hljs language-ini" lang="ini">å†·æœç´¢ (é¦–æ¬¡):
  <span class="hljs-attr">tokens</span> = éœ€è¯„åˆ†çš„å—æ•° Ã— å¹³å‡æç¤ºå¤§å°
         â‰ˆ 150 å— Ã— 15 tokens/å—
         â‰ˆ 2000-2500 tokens

çƒ­æœç´¢ (ç¼“å­˜å‘½ä¸­):
  <span class="hljs-attr">tokens</span> = <span class="hljs-number">0</span>  â† æ— éœ€ LLM è°ƒç”¨

éƒ¨åˆ†ç¼“å­˜ (éƒ¨åˆ†æ–‡ä»¶å˜æ›´):
  <span class="hljs-attr">tokens</span> = æ–°å¢å—æ•° Ã— å¹³å‡æç¤ºå¤§å°
         â‰ˆ (ä»…å˜æ›´çš„æ–‡ä»¶) Ã— 15 tokens/å—
</code></pre>
<h4 data-id="heading-26">å®é™…åœºæ™¯</h4>



































<table><thead><tr><th>åœºæ™¯</th><th>Token æˆæœ¬</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>ç›¸åŒæŸ¥è¯¢ï¼Œç›¸åŒä»£ç åº“</td><td><strong>0</strong></td><td>100% ç¼“å­˜å‘½ä¸­</td></tr><tr><td>ç›¸ä¼¼æŸ¥è¯¢ (å…³é”®è¯ç›¸åŒ)</td><td><strong>0</strong></td><td>å…³é”®è¯åŒ¹é… â†’ ç¼“å­˜å‘½ä¸­</td></tr><tr><td>ç¼–è¾‘ 1 ä¸ªæ–‡ä»¶åæŸ¥è¯¢</td><td><strong>~50</strong></td><td>ä»…æ–°å—é‡æ–°è¯„åˆ†</td></tr><tr><td><code>git pull</code> (10 ä¸ªæ–‡ä»¶å˜æ›´) åæŸ¥è¯¢</td><td><strong>~300</strong></td><td>ä»…å˜æ›´æ–‡ä»¶é‡æ–°è¯„åˆ†</td></tr><tr><td>å®Œå…¨æ–°çš„æŸ¥è¯¢ä¸»é¢˜</td><td><strong>~2000</strong></td><td>å…¨é‡è¯„åˆ†ï¼Œä½†ä¼šä¸ºä¸‹æ¬¡ç¼“å­˜</td></tr></tbody></table>
<h4 data-id="heading-27">ä¸ºä»€ä¹ˆä¸æ˜¯æŸ¥è¯¢çº§ç¼“å­˜ï¼Ÿ</h4>
<p>ä¼ ç»Ÿæ–¹æ³•ï¼šç¼“å­˜ <code>(ç²¾ç¡®æŸ¥è¯¢å­—ç¬¦ä¸²) â†’ ç»“æœ</code></p>
<p><strong>é—®é¢˜</strong>ï¼š"Find admin creation" å’Œ "Where are admins created" å­—ç¬¦ä¸²ä¸åŒï¼Œä½†æ„å›¾ç›¸åŒã€‚</p>
<p>OCE æ–¹æ³•ï¼šç¼“å­˜ <code>(å…³é”®è¯, ä»£ç å“ˆå¸Œ) â†’ åˆ†æ•°</code></p>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å…³é”®è¯æ ‡å‡†åŒ–æé«˜äº†å‘½ä¸­ç‡</li>
<li>ä»£ç çº§ç²’åº¦æ„å‘³ç€éƒ¨åˆ†æ›´æ–°å¾ˆä¾¿å®œ</li>
<li>ç›¸ä¼¼æŸ¥è¯¢å¯ä»¥ä»å½¼æ­¤çš„ç¼“å­˜ä¸­å—ç›Š</li>
</ul>
<h4 data-id="heading-28">æ€»ç»“</h4>

























<table><thead><tr><th>æ‹…å¿§</th><th>ç°å®</th></tr></thead><tbody><tr><td>"200 ä¸ªæ–‡ä»¶ = å¾ˆè´µ"</td><td>200 æ–‡ä»¶ â‰ˆ 2000 tokens (å†·), <strong>0 tokens</strong> (çƒ­)</td></tr><tr><td>"æ¯æ¬¡æœç´¢éƒ½èŠ±é’±"</td><td>ä»…æ¯ç»„å…³é”®è¯çš„<strong>ç¬¬ä¸€æ¬¡æœç´¢</strong>èŠ±é’±</td></tr><tr><td>"ç¼“å­˜å¤±æ•ˆé—®é¢˜"</td><td>åŸºäºå†…å®¹å“ˆå¸Œ â†’ å˜æ›´è‡ªåŠ¨å¤±æ•ˆ</td></tr><tr><td>"å†…å­˜å¼€é”€"</td><td>10,000 ä¸ªå—çš„ SQLite æ–‡ä»¶ &lt; 1MB</td></tr></tbody></table>
<p><strong>ç®—ä¸€ç¬”è´¦</strong>ï¼šå¦‚æœä½ æ¯å¤©åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸Šç”¨ä¸åŒçš„æŸ¥è¯¢æœç´¢ 100 æ¬¡ï¼Œä½ ä¼šå‘½ä¸­ç¼“å­˜ 90% ä»¥ä¸Šã€‚æ¯æ—¥æˆæœ¬ â‰ˆ <strong>$0.001</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-29">åŸºå‡†æµ‹è¯•ï¼šOCE Deep æ¨¡å¼ vs Ace (2025-01-24)</h3>
<p>è¿™æ˜¯ä¸€é¡¹ A/B æµ‹è¯•ï¼Œå¯¹æ¯” <strong>open-context-engine-skill Deep Mode</strong> (<code>--deep</code>) ä¸ <strong>Ace</strong> (Augment's Context Engine MCP) åœ¨åŒä¸€ä»£ç åº“ä¸Šçš„è¡¨ç°ã€‚</p>
<h4 data-id="heading-30">æµ‹è¯•æŸ¥è¯¢</h4>

























<table><thead><tr><th>#</th><th>æŸ¥è¯¢</th><th>éš¾åº¦</th></tr></thead><tbody><tr><td>Q1</td><td>How to modify the LLM scoring logic to support custom weights?</td><td>ä¸­ç­‰ (å•ä¸€æ¨¡å—)</td></tr><tr><td>Q2</td><td>How does the cache system integrate with the scoring system?</td><td>ä¸­ç­‰ (è·¨æ¨¡å—)</td></tr><tr><td>Q3</td><td>How to add support for a new programming language (e.g., Elixir)?</td><td>ç®€å• (æ‰©å±•ç‚¹)</td></tr></tbody></table>
<h4 data-id="heading-31">Q1: LLM è¯„åˆ†é€»è¾‘</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>Ace</th><th>OCE Deep</th></tr></thead><tbody><tr><td><strong>è¿”å›æ–‡ä»¶</strong></td><td>7 ä¸ªç‰‡æ®µ (context_ranker, search_context, context_expander, README, config, cache_manager)</td><td>5 ä¸ªå— (ä»… context_ranker)</td></tr><tr><td><strong>æ ¸å¿ƒå‘½ä¸­</strong></td><td><code>rank_chunks</code>, <code>build_prompt</code>, <code>parse_scores</code></td><td><code>rank_chunks</code>(9), <code>parse_scores</code>(8), <code>build_prompt</code>(8), <code>quick_score</code>(7)</td></tr><tr><td><strong>å™ªå£°</strong></td><td>åŒ…å« context_expander, config.py, README</td><td><strong>é›¶å™ªå£°</strong></td></tr><tr><td><strong>Tokens</strong></td><td>~4000</td><td><strong>1827</strong></td></tr></tbody></table>
<h4 data-id="heading-32">Q2: ç¼“å­˜-è¯„åˆ†é›†æˆ</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>Ace</th><th>OCE Deep</th></tr></thead><tbody><tr><td><strong>è¿”å›æ–‡ä»¶</strong></td><td>5 ä¸ªå®Œæ•´æ–‡ä»¶ç‰‡æ®µ</td><td>2 ä¸ªå— (2 ä¸ªæ–‡ä»¶)</td></tr><tr><td><strong>æ ¸å¿ƒå‘½ä¸­</strong></td><td>å®Œæ•´çš„ CacheManager ç±», å®Œæ•´çš„ rank_chunks</td><td><code>rank_chunks</code>(9), <code>CacheManager</code>(8)</td></tr><tr><td><strong>é›†æˆç‚¹</strong></td><td>éœ€è¦é˜…è¯»å¤§æ®µä»£ç å—</td><td><strong>ç›´æ¥å±•ç¤ºç¼“å­˜é›†æˆç‚¹</strong></td></tr><tr><td><strong>Tokens</strong></td><td>~4500</td><td><strong>2040</strong></td></tr></tbody></table>
<h4 data-id="heading-33">Q3: æ·»åŠ æ–°è¯­è¨€æ”¯æŒ</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>Ace</th><th>OCE Deep</th></tr></thead><tbody><tr><td><strong>è¿”å›æ–‡ä»¶</strong></td><td>4 ä¸ªæ–‡ä»¶ (code_chunker å®Œæ•´ç‰ˆ, file_collector, SKILL, README)</td><td>3 ä¸ªå— (ä»… code_chunker)</td></tr><tr><td><strong>æ ¸å¿ƒå‘½ä¸­</strong></td><td>LANGUAGE_PATTERNS, EXT_TO_LANGUAGE (åŸ‹åœ¨ 400+ è¡Œä»£ç ä¸­)</td><td><code>LANGUAGE_PATTERNS</code>(8), <code>chunk_file</code>(8), <code>EXT_TO_LANGUAGE</code>(6)</td></tr><tr><td><strong>æ‰©å±•ç‚¹</strong></td><td>å¿…é¡»æœç´¢å¤§æ–‡ä»¶</td><td><strong>3 ä¸ªç²¾ç¡®çš„ä¿®æ”¹ä½ç½®</strong></td></tr><tr><td><strong>Tokens</strong></td><td>~3000</td><td><strong>1770</strong></td></tr></tbody></table>
<h4 data-id="heading-34">æ€»ä½“å¯¹æ¯”</h4>









































<table><thead><tr><th>ç»´åº¦</th><th>Ace</th><th>OCE Deep</th><th>èƒœè€…</th></tr></thead><tbody><tr><td><strong>ç²¾åº¦</strong></td><td>B (è¦†ç›–å¹¿ï¼Œéœ€äººå·¥è¿‡æ»¤)</td><td><strong>A+</strong> (æ‰‹æœ¯åˆ€èˆ¬ç²¾å‡†)</td><td>OCE Deep</td></tr><tr><td><strong>å™ªå£°æ§åˆ¶</strong></td><td>C (åŒ…å«æ–‡æ¡£ã€é…ç½®)</td><td><strong>A+</strong> (é›¶å™ªå£°)</td><td>OCE Deep</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡å®Œæ•´æ€§</strong></td><td><strong>A</strong> (å®Œæ•´è°ƒç”¨é“¾)</td><td>B+ (æ ¸å¿ƒ + æ™ºèƒ½æ‰©å±•)</td><td>Ace (ç•¥èƒœ)</td></tr><tr><td><strong>Token æ•ˆç‡</strong></td><td>C (å¹³å‡ ~3833)</td><td><strong>A+</strong> (å¹³å‡ ~1879)</td><td>OCE Deep</td></tr><tr><td><strong>LLM å‹å¥½åº¦</strong></td><td>B (éœ€è¦å¤§é‡é˜…è¯»)</td><td><strong>A+</strong> (ç«‹å³å¯æ“ä½œ)</td><td>OCE Deep</td></tr></tbody></table>
<h4 data-id="heading-35">Token æ•ˆç‡</h4>



































<table><thead><tr><th>æŸ¥è¯¢</th><th>Ace (é¢„ä¼°)</th><th>OCE Deep</th><th>èŠ‚çœ</th></tr></thead><tbody><tr><td>Q1</td><td>~4000</td><td>1827</td><td><strong>54%</strong></td></tr><tr><td>Q2</td><td>~4500</td><td>2040</td><td><strong>55%</strong></td></tr><tr><td>Q3</td><td>~3000</td><td>1770</td><td><strong>41%</strong></td></tr><tr><td><strong>å¹³å‡</strong></td><td>~3833</td><td><strong>1879</strong></td><td><strong>~51%</strong></td></tr></tbody></table>
<h4 data-id="heading-36">å‡†ç¡®æ€§åˆ†æ</h4>
<p>Deep æ¨¡å¼åœ¨æ‰€æœ‰æµ‹è¯•æŸ¥è¯¢ä¸­å‡è¾¾åˆ° <strong>100% å‡†ç¡®ç‡</strong>ï¼š</p>





























<table><thead><tr><th>æŸ¥è¯¢</th><th>æ ¸å¿ƒå‘½ä¸­ç‡</th><th>å™ªå£°ç‡</th><th>ç»“è®º</th></tr></thead><tbody><tr><td>Q1: LLM è¯„åˆ†</td><td>100%</td><td>0%</td><td>æ‰€æœ‰è¿”å›çš„å—éƒ½æ˜¯å®é™…ä¿®æ”¹ç‚¹</td></tr><tr><td>Q2: ç¼“å­˜é›†æˆ</td><td>100%</td><td>0%</td><td>ç›´æ¥å±•ç¤ºäº† <code>rank_chunks</code> å†…éƒ¨å¯¹ <code>CacheManager</code> çš„è°ƒç”¨</td></tr><tr><td>Q3: æ–°è¯­è¨€</td><td>100%</td><td>0%</td><td>ç²¾ç¡®å®šä½äº† 3 ä¸ªéœ€ä¿®æ”¹çš„ä½ç½®</td></tr></tbody></table>
<p><strong>Q1 ç»†åˆ†:</strong></p>






























<table><thead><tr><th>è¿”å›å—</th><th>åˆ†æ•°</th><th>æ˜¯å¦æ ¸å¿ƒ?</th></tr></thead><tbody><tr><td><code>rank_chunks()</code></td><td>9</td><td><strong>æ ¸å¿ƒ</strong> - ä¸»è¯„åˆ†å…¥å£</td></tr><tr><td><code>parse_scores()</code></td><td>8</td><td><strong>æ ¸å¿ƒ</strong> - è§£æ LLM å“åº”</td></tr><tr><td><code>build_prompt()</code></td><td>8</td><td><strong>æ ¸å¿ƒ</strong> - æ„å»ºè¯„åˆ†æç¤ºè¯</td></tr><tr><td><code>quick_score()</code></td><td>7</td><td><strong>ç›¸å…³</strong> - é¢„è¯„åˆ†é€»è¾‘</td></tr></tbody></table>
<p><strong>Q3 ç»†åˆ†:</strong></p>

























<table><thead><tr><th>è¿”å›å—</th><th>åˆ†æ•°</th><th>æ‰€éœ€æ“ä½œ</th></tr></thead><tbody><tr><td><code>LANGUAGE_PATTERNS</code></td><td>8</td><td>æ·»åŠ  Elixir æ­£åˆ™æ¨¡å¼</td></tr><tr><td><code>chunk_file()</code></td><td>8</td><td>å¤„ç† <code>.ex</code> æ‰©å±•å</td></tr><tr><td><code>EXT_TO_LANGUAGE</code></td><td>6</td><td>æ˜ å°„ <code>.ex</code> â†’ <code>elixir</code></td></tr></tbody></table>
<h4 data-id="heading-37">å…³é”®å‘ç°</h4>
<p><strong>ä¸ºä»€ä¹ˆ Deep æ¨¡å¼æ¶ˆè€—æ›´å°‘çš„ Token (åç›´è§‰!)</strong></p>
<p>Deep æ¨¡å¼ä¸æ˜¯â€œè¿”å›æ›´å¤šä¸Šä¸‹æ–‡â€ï¼Œè€Œæ˜¯**â€œè¿”å›æ›´ç²¾å‡†çš„ä¸Šä¸‹æ–‡â€**ã€‚</p>
<p>æ‰©å±•é€»è¾‘çš„è®¾è®¡å¸¦æœ‰<strong>æ™ºèƒ½å…‹åˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä»…å½“å‰å‡ åå—çš„åˆ†æ•° &gt;= 6 æ—¶æ‰©å±•</span>
top_chunks = [c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> chunks <span class="hljs-keyword">if</span> c.get(<span class="hljs-string">"score"</span>, <span class="hljs-number">0</span>) &gt;= <span class="hljs-number">6</span>][:<span class="hljs-number">5</span>]
<span class="hljs-comment"># LLM å†³å®šæ˜¯å¦éœ€è¦æ‰©å±•</span>
expanded = expand_context(client, query, top_chunks, ...)
</code></pre>
<p>å½“ LLM åˆ†æå™¨ç¡®å®šâ€œè¿™äº›æ ¸å¿ƒå—è¶³ä»¥å›ç­”æŸ¥è¯¢â€æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç©ºçš„æ‰©å±•åˆ—è¡¨ã€‚è¿™æ˜¯<strong>æ­£ç¡®çš„è¡Œä¸º</strong>â€”â€”æ˜æ™ºçš„å…‹åˆ¶èƒœè¿‡ç›²ç›®çš„æ‰©å±•ã€‚</p>
<p><strong>OCE Deep æ¨¡å¼ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>èŠ‚çœ 51% Token</strong>ï¼šç²¾åº¦èƒœè¿‡ä½“é‡</li>
<li><strong>æ‰‹æœ¯åˆ€èˆ¬ç²¾å‡†</strong>ï¼šä»…è¿”å›ç¡®åˆ‡éœ€è¦çš„ä»£ç å—</li>
<li><strong>é›¶å™ªå£°</strong>ï¼šç»“æœä¸­æ—  READMEã€é…ç½®æˆ–æ— å…³æ–‡ä»¶</li>
<li><strong>é«˜ç›¸å…³æ€§è¯„åˆ†</strong>ï¼šæ ¸å¿ƒå‡½æ•°å§‹ç»ˆå¾—åˆ†ä¸º 8-9</li>
<li><strong>æ™ºèƒ½æ‰©å±•</strong>ï¼šä»…åœ¨çœŸæ­£éœ€è¦æ—¶æ‰©å±•ï¼Œå¦åˆ™ä¿æŒç²¾ç®€</li>
</ul>
<p><strong>Ace ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å®Œæ•´çš„ä»£ç è¦†ç›–åœ¨å¯¹é¡¹ç›®å®Œå…¨é™Œç”Ÿæ—¶æœ‰å¸®åŠ©</li>
<li>å®Œæ•´çš„è°ƒç”¨é“¾å¯¹äºéå¸¸å¤§è§„æ¨¡çš„é‡æ„æ›´å®‰å…¨</li>
</ul>
<h4 data-id="heading-38">å»ºè®®</h4>

































<table><thead><tr><th>ç”¨ä¾‹</th><th>æ¨èå·¥å…·</th></tr></thead><tbody><tr><td>æ—¥å¸¸å¼€å‘æŸ¥è¯¢</td><td><strong>OCE Deep</strong></td></tr><tr><td>å¿«é€Ÿ Bug ä¿®å¤</td><td><strong>OCE Deep</strong></td></tr><tr><td>æ‰©å±•ç‚¹æŸ¥æ‰¾</td><td><strong>OCE Deep</strong></td></tr><tr><td>è·¨æ¨¡å—é›†æˆ</td><td><strong>OCE Deep</strong></td></tr><tr><td>æ¶æ„æ·±åº¦æ¢ç´¢ (æ–°é¡¹ç›®)</td><td>Ace</td></tr><tr><td>å¤§è§„æ¨¡é‡æ„ (100+ æ–‡ä»¶)</td><td>Ace</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">è·¨è¯­è¨€æ”¯æŒï¼šFlutter + Go å…¨æ ˆé¡¹ç›®</h3>
<p>OCE æä¾›æ— ç¼çš„è·¨è¯­è¨€æœç´¢èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ª <strong>Flutter + Go å…¨æ ˆåº”ç”¨</strong> (~200 æ–‡ä»¶, Dart å‰ç«¯ + Go åç«¯) çš„çœŸå®åŸºå‡†æµ‹è¯•ã€‚</p>
<h4 data-id="heading-40">æµ‹è¯•é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">my_first_app/
â”œâ”€â”€ lib/                    <span class="hljs-comment"># Flutter å‰ç«¯ (Dart)</span>
â”‚   â”œâ”€â”€ main.dart           <span class="hljs-comment"># App å…¥å£</span>
â”‚   â”œâ”€â”€ core/api_client.dart    <span class="hljs-comment"># Dio HTTP å®¢æˆ·ç«¯</span>
â”‚   â”œâ”€â”€ data/auth_manager.dart  <span class="hljs-comment"># ChangeNotifier çŠ¶æ€</span>
â”‚   â”œâ”€â”€ services/*.dart     <span class="hljs-comment"># API æœåŠ¡å±‚</span>
â”‚   â””â”€â”€ pages/*.dart        <span class="hljs-comment"># UI ç»„ä»¶</span>
â””â”€â”€ server/                 <span class="hljs-comment"># Go åç«¯</span>
    â”œâ”€â”€ main.go             <span class="hljs-comment"># HTTP æœåŠ¡ + è·¯ç”±</span>
    â”œâ”€â”€ *_handler.go        <span class="hljs-comment"># è¯·æ±‚å¤„ç†å™¨</span>
    â”œâ”€â”€ models/*.go         <span class="hljs-comment"># GORM æ¨¡å‹</span>
    â””â”€â”€ utils/*.go          <span class="hljs-comment"># å·¥å…·ç±»</span>
</code></pre>
<h4 data-id="heading-41">æµ‹è¯•æŸ¥è¯¢ä¸ç»“æœ</h4>





































<table><thead><tr><th>æŸ¥è¯¢</th><th>å—æ•°</th><th>æ–‡ä»¶æ•°</th><th>Tokens</th><th>æœ€é«˜åˆ†</th><th>äº®ç‚¹</th></tr></thead><tbody><tr><td><strong>Q1</strong>: App å…¥å£ä¸åˆå§‹åŒ–</td><td>1</td><td>1</td><td>1021</td><td>9</td><td>ç²¾ç¡®å‘½ä¸­ <code>main()</code> + <code>ShanhaiApp</code></td></tr><tr><td><strong>Q2</strong>: çŠ¶æ€ç®¡ç†æ¨¡å¼</td><td>13</td><td>8</td><td>1423</td><td>9</td><td>æ‰¾åˆ°æ‰€æœ‰ <code>ChangeNotifier</code> + <code>setState</code></td></tr><tr><td><strong>Q3</strong>: ç½‘ç»œ/API è°ƒç”¨</td><td>14</td><td>7</td><td>1848</td><td>9</td><td><strong>è·¨è¯­è¨€</strong>: Dart å®¢æˆ·ç«¯ + Go å¤„ç†å™¨</td></tr></tbody></table>
<h4 data-id="heading-42">Q1: App å…¥å£ç‚¹</h4>
<pre><code class="hljs language-bash" lang="bash">python scripts/search_context.py \
  --project <span class="hljs-string">"/path/to/flutter_app"</span> \
  --query <span class="hljs-string">"Find the main entry point and app initialization flow"</span>
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šå•ä¸ªå— (1021 tokens) åŒ…å«å®Œæ•´çš„åˆå§‹åŒ–é“¾ï¼š</p>

























<table><thead><tr><th>ç»„ä»¶</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>isDesktop</code></td><td>å¹³å°æ£€æµ‹</td></tr><tr><td><code>main()</code></td><td>çª—å£ç®¡ç†å™¨ + ApiClient åˆå§‹åŒ–</td></tr><tr><td><code>ShanhaiApp</code></td><td>MaterialApp é…ç½®</td></tr><tr><td><code>build()</code></td><td>ä¸»é¢˜ + è·¯ç”±è®¾ç½®</td></tr></tbody></table>
<h4 data-id="heading-43">Q2: çŠ¶æ€ç®¡ç†</h4>
<p><strong>ç»“æœ</strong>ï¼š8 ä¸ªæ–‡ä»¶ä¸­çš„ 13 ä¸ªå—ï¼Œè¦†ç›–ï¼š</p>





















<table><thead><tr><th>æ¨¡å¼</th><th>å‘ç°çš„æ–‡ä»¶</th></tr></thead><tbody><tr><td><code>ChangeNotifier</code> å•ä¾‹</td><td><code>auth_manager.dart</code>, <code>record_manager.dart</code></td></tr><tr><td><code>setState()</code> ä½¿ç”¨</td><td><code>login_page.dart</code>, <code>voice_feed_page.dart</code>, ç­‰</td></tr><tr><td>ç›‘å¬å™¨æ¨¡å¼</td><td><code>_onAuthChanged()</code>, <code>_onRecordsChanged()</code></td></tr></tbody></table>
<h4 data-id="heading-44">Q3: ç½‘ç»œè¯·æ±‚ (è·¨è¯­è¨€)</h4>
<p><strong>ç»“æœ</strong>ï¼šæ¥è‡ª <strong>Dart å’Œ Go ä»£ç </strong>çš„ 14 ä¸ªå—ï¼š</p>




















<table><thead><tr><th>è¯­è¨€</th><th>æ–‡ä»¶</th><th>å…³é”®å‘ç°</th></tr></thead><tbody><tr><td><strong>Dart</strong></td><td>4</td><td><code>ApiClient</code> (Dio å°è£…), <code>user_service.dart</code>, <code>membership_service.dart</code></td></tr><tr><td><strong>Go</strong></td><td>3</td><td><code>GetRechargeOrdersHandler</code>, <code>ExchangeMembershipHandler</code>, <code>syncRechargeToBackend</code></td></tr></tbody></table>
<p>è¿™å±•ç¤ºäº† OCE ç†è§£<strong>å…¨æ ˆè¯·æ±‚æµ</strong>çš„èƒ½åŠ›â€”â€”ä» Flutter å‰ç«¯ä¸€ç›´è´¯ç©¿åˆ° Go åç«¯ã€‚</p>
<h4 data-id="heading-45">ä¸ ACE å¯¹æ¯”</h4>



































<table><thead><tr><th>ç»´åº¦</th><th>ACE</th><th>OCE</th><th>èƒœè€…</th></tr></thead><tbody><tr><td><strong>Token æ•ˆç‡</strong></td><td>å¹³å‡ ~3500</td><td><strong>å¹³å‡ ~1430</strong></td><td>OCE (<strong>èŠ‚çœ 59%</strong>)</td></tr><tr><td><strong>è·¨è¯­è¨€</strong></td><td>éœ€åˆ†åˆ«æŸ¥è¯¢</td><td><strong>è‡ªåŠ¨</strong></td><td>OCE</td></tr><tr><td><strong>ç²’åº¦</strong></td><td>æ–‡ä»¶çº§ç‰‡æ®µ</td><td><strong>å—çº§</strong></td><td>OCE</td></tr><tr><td><strong>å™ªå£°</strong></td><td>åŒ…å«é…ç½®ã€README</td><td><strong>é›¶å™ªå£°</strong></td><td>OCE</td></tr></tbody></table>
<h4 data-id="heading-46">å…³é”®ç»“è®º</h4>
<ul>
<li><strong>è·¨è¯­è¨€æ™ºèƒ½</strong>ï¼šå•æ¬¡æŸ¥è¯¢åŒæ—¶è¿”å› Dart å’Œ Go ä»£ç </li>
<li><strong>æ¨¡å¼è¯†åˆ«</strong>ï¼šæ­£ç¡®è¯†åˆ« <code>ChangeNotifier</code> ä¸º Flutter çš„çŠ¶æ€ç®¡ç†</li>
<li><strong>å—çº§ç²¾åº¦</strong>ï¼šè¿”å›å…·ä½“å‡½æ•°ï¼Œè€Œéæ•´ä¸ªæ–‡ä»¶</li>
<li><strong>é«˜å‡†ç¡®åº¦</strong>ï¼šæ‰€æœ‰æ ¸å¿ƒå—å¾—åˆ†å‡ä¸º 8-9</li>
</ul>
<hr/>
<details>
<summary><b>å½’æ¡£ï¼šè¿‡å¾€åŸºå‡†æµ‹è¯•</b></summary>
<h4 data-id="heading-47">OCE æ ‡å‡†æ¨¡å¼ vs Ace (2025-01-24)</h4>



































<table><thead><tr><th>æŸ¥è¯¢</th><th>Ace (é¢„ä¼°)</th><th>OCE æ ‡å‡†æ¨¡å¼</th><th>èŠ‚çœ</th></tr></thead><tbody><tr><td>Q1</td><td>~4000</td><td>2074</td><td>48%</td></tr><tr><td>Q2</td><td>~4500</td><td>3625</td><td>19%</td></tr><tr><td>Q3</td><td>~3000</td><td>3105</td><td>-3%</td></tr><tr><td><strong>å¹³å‡</strong></td><td>~3833</td><td><strong>2935</strong></td><td><strong>~23%</strong></td></tr></tbody></table>
<h4 data-id="heading-48">æ—©æœŸç»“æœ (æ—©æœŸç‰ˆæœ¬)</h4>



































<table><thead><tr><th>æŸ¥è¯¢</th><th>Ace</th><th>OCE (æ—©æœŸ)</th><th>èŠ‚çœ</th></tr></thead><tbody><tr><td>Q1</td><td>~4000</td><td>2673</td><td>33%</td></tr><tr><td>Q2</td><td>~4500</td><td>3207</td><td>29%</td></tr><tr><td>Q3</td><td>~3000</td><td>944</td><td>69%</td></tr><tr><td>å¹³å‡</td><td>~3833</td><td><strong>2275</strong></td><td><strong>~40%</strong></td></tr></tbody></table>
</details></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue CSS å˜é‡åŒ–æ·±åº¦è§£æï¼šä» v-bind åˆ°å“åº”å¼æ›´æ–°]]></title>    <link>https://juejin.cn/post/7598537739516166186</link>    <guid>https://juejin.cn/post/7598537739516166186</guid>    <pubDate>2026-01-25T05:30:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598537739516166186" data-draft-id="7598472744481669139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue CSS å˜é‡åŒ–æ·±åº¦è§£æï¼šä» v-bind åˆ°å“åº”å¼æ›´æ–°"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-01-25T05:30:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥½å¤§ä¸€åªæ¸©æŸ”é¬¼"/> <meta itemprop="url" content="https://juejin.cn/user/3571656416038920"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue CSS å˜é‡åŒ–æ·±åº¦è§£æï¼šä» v-bind åˆ°å“åº”å¼æ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3571656416038920/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥½å¤§ä¸€åªæ¸©æŸ”é¬¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T05:30:42.000Z" title="Sun Jan 25 2026 05:30:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ºäº†è®©å¼€å‘è€…èƒ½å¤Ÿæ›´ç›´è§‚ã€åŠ¨æ€åœ°æ§åˆ¶æ ·å¼ï¼ŒVue 3 åœ¨ Single-File Components (SFC) çš„ <code>&lt;style&gt;</code> å—ä¸­å¼•å…¥äº† <code>v-bind()</code> è¯­æ³•ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æè¿™ä¸€ç‰¹æ€§èƒŒåçš„å®Œæ•´æŠ€æœ¯å®ç°é“¾æ¡ï¼Œå±•ç¤ºä¸€è¡Œç®€å•çš„ <code>color: v-bind(color);</code> å¦‚ä½•æœ€ç»ˆå˜ä¸ºé¡µé¢ä¸Šå®æ—¶å“åº”çš„æ ·å¼ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒè„‰ç»œï¼šä¸¤ä¸ªé˜¶æ®µçš„ç²¾å¯†åä½œ</h2>
<p>æ•´ä¸ªè¿‡ç¨‹çš„å®ç°å¯ä»¥æ¸…æ™°åœ°åˆ’åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>ç¼–è¯‘æ—¶</strong>çš„é™æ€åˆ†æä¸è½¬æ¢ï¼Œä»¥åŠ<strong>è¿è¡Œæ—¶</strong>çš„åŠ¨æ€ä¾èµ–è¿½è¸ªä¸æ›´æ–°ã€‚ä¸‹å›¾æç»˜äº†ä»æºç åˆ°è§†å›¾çš„å®Œæ•´æ—…ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36aac21e88cf4c5988ea92cc1c720b11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aW95aSn5LiA5Y-q5rip5p-U6ay8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769923842&amp;x-signature=wPcTMEM%2FbaCQ4AoRxvl1oLLSRH8%3D" alt="deepseek_mermaid_20260125_b36b0a.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€é˜¶æ®µï¼šç¼–è¯‘æ—¶ - é™æ€è¯­æ³•è½¬æ¢ä¸ä»£ç æ³¨å…¥</h2>
<p>æ­¤é˜¶æ®µç”± <code>@vue/compiler-sfc</code> åŒ…å®Œæˆï¼Œå…¶èŒè´£æ˜¯å°†å¼€å‘è€…å‹å¥½çš„ <code>v-bind()</code> è¯­æ³•â€œç¿»è¯‘â€æˆæµè§ˆå™¨å¯æ‰§è¡Œã€Vue å¯ç®¡ç†çš„ä»£ç ã€‚</p>
<h3 data-id="heading-2">1. è§£æä¸æå–å˜é‡</h3>
<p>ç¼–è¯‘å™¨åœ¨è§£æ SFC çš„ <code>&lt;style&gt;</code> å—æ—¶ï¼Œä¼šä½¿ç”¨ç‰¹å®šçš„æ¨¡å¼ï¼ˆå¦‚æ­£åˆ™è¡¨è¾¾å¼ï¼‰åŒ¹é… <code>v-bind(</code> è¯­å¥ï¼Œå¹¶æå–å…¶ä¸­åŒ…è£¹çš„å“åº”å¼å˜é‡åã€‚</p>
<p><strong>æºç è¾“å…¥</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;style scoped&gt;
.text {
  color: v-bind(color);
  font-size: v-bind(fontSize);
}
&lt;/style&gt;
&lt;script setup&gt;
const color = ref('#007bff');
const fontSize = ref('16px');
&lt;/script&gt;
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šä»ä¸­æå–å‡ºä¸€ä¸ª <strong>CSS å˜é‡åˆ—è¡¨</strong>ï¼š<code>['color', 'fontSize']</code>ã€‚</p>
<h3 data-id="heading-3">2. è½¬æ¢ CSS è¯­æ³•</h3>
<p>æå–å˜é‡åï¼Œä¸€ä¸ªå†…ç½®çš„ <strong>PostCSS æ’ä»¶</strong> ä¼šå°† <code>v-bind()</code> è½¬æ¢ä¸ºæ ‡å‡†çš„ CSS è‡ªå®šä¹‰å±æ€§è¯­æ³•ã€‚è½¬æ¢çš„å…³é”®åœ¨äºç”Ÿæˆä¸€ä¸ª<strong>å”¯ä¸€ä¸”ç¨³å®šçš„å˜é‡å</strong>ã€‚</p>
<ul>
<li><strong>ç”Ÿæˆå“ˆå¸Œ</strong>ï¼šä¸ºä¿è¯ç»„ä»¶æ ·å¼éš”ç¦»ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªä¸è¯¥ç»„ä»¶ç›¸å…³çš„å“ˆå¸Œå€¼ï¼ˆä¾‹å¦‚ <code>7ba5bd90</code>ï¼‰ï¼Œè¯¥å“ˆå¸Œä¸ Scoped CSS ä½¿ç”¨çš„å“ˆå¸Œä¸€è‡´ã€‚</li>
<li><strong>é‡å†™è§„åˆ™</strong>ï¼šæ’ä»¶å°† <code>v-bind(color)</code> é‡å†™ä¸º <code>var(--7ba5bd90-color)</code>ã€‚</li>
</ul>
<p><strong>è½¬æ¢åçš„CSSè¾“å‡º</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.text</span><span class="hljs-selector-attr">[data-v-7ba5bd90]</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--<span class="hljs-number">7</span>ba5bd90-color);
  <span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">var</span>(--<span class="hljs-number">7</span>ba5bd90-fontSize);
}
</code></pre>
<p>æ­¤æ—¶ï¼Œæ ·å¼è¡¨å·²ç»å˜æˆäº†åˆæ³•çš„ã€ä½¿ç”¨ CSS å˜é‡çš„è§„åˆ™ï¼Œä½†å˜é‡å€¼å°šæœªå®šä¹‰ã€‚</p>
<h3 data-id="heading-4">3. æ³¨å…¥è¿è¡Œæ—¶è„šæœ¬</h3>
<p>è¿™æ˜¯ç¼–è¯‘æ—¶æœ€å…³é”®çš„æ­¥éª¤ã€‚ç¼–è¯‘å™¨éœ€è¦è®© JS è¿è¡Œæ—¶çŸ¥é“è¿™äº› CSS å˜é‡çš„å­˜åœ¨åŠå…¶å¯¹åº”çš„å“åº”å¼æ•°æ®ã€‚å®ƒä¼šåœ¨ç»„ä»¶çš„æ¸²æŸ“å‡½æ•°æˆ– <code>setup</code> ä»£ç ä¸­è‡ªåŠ¨æ³¨å…¥å¯¹ <strong><code>useCssVars</code></strong> è¿è¡Œæ—¶è¾…åŠ©å‡½æ•°çš„è°ƒç”¨ã€‚</p>
<p><strong>æ³¨å…¥åçš„ç®€åŒ–è„šæœ¬ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useCssVars, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> color = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'#007bff'</span>);
<span class="hljs-keyword">const</span> fontSize = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'16px'</span>);

<span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨æ³¨å…¥çš„ä»£ç </span>
<span class="hljs-title function_">useCssVars</span>(<span class="hljs-function">(<span class="hljs-params">_ctx</span>) =&gt;</span> ({
  <span class="hljs-string">'7ba5bd90-color'</span>: color.<span class="hljs-property">value</span>, <span class="hljs-comment">// è®¿é—®å“åº”å¼å€¼ï¼Œå»ºç«‹ä¾èµ–</span>
  <span class="hljs-string">'7ba5bd90-fontSize'</span>: fontSize.<span class="hljs-property">value</span>
}));
</code></pre>
<p>è‡³æ­¤ï¼Œç¼–è¯‘æ—¶å·¥ä½œå®Œæˆã€‚å®ƒäº§å‡ºäº†ä¸€ä»½â€œåŠæˆå“â€ï¼šCSS å®šä¹‰äº†ä½¿ç”¨å“ªäº›å˜é‡ï¼ŒJS åˆ™æŒæœ‰äº†è¿™äº›å˜é‡å½“å‰åº”è¯¥æ˜¯ä»€ä¹ˆå€¼ã€‚ä¸¤è€…é€šè¿‡<strong>çº¦å®šçš„å“ˆå¸Œå˜é‡å</strong>è¿›è¡Œå…³è”ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œæ—¶ - å“åº”å¼ä¾èµ–è¿½è¸ªä¸ DOM æ›´æ–°</h2>
<p>æ­¤é˜¶æ®µç”± Vue æ ¸å¿ƒåº“æ¥ç®¡ï¼Œæ ¸å¿ƒæ˜¯ <code>useCssVars</code> å‡½æ•°ã€‚å®ƒçš„ä»»åŠ¡æ˜¯<strong>æ‰“é€šå“åº”å¼æ•°æ®ä¸ DOM æ ·å¼ä¹‹é—´çš„æ¡¥æ¢</strong>ï¼Œå¹¶ç¡®ä¿æ•°æ®å˜åŒ–æ—¶ï¼Œæ ·å¼åŒæ­¥æ›´æ–°ã€‚</p>
<h3 data-id="heading-6">1. åˆå§‹åŒ–ï¼šå»ºç«‹ä¾èµ–å…³ç³»</h3>
<p>å½“ç»„ä»¶å®ä¾‹åŒ–å¹¶æ‰§è¡Œ <code>setup</code> å‡½æ•°æ—¶ï¼Œæ³¨å…¥çš„ <code>useCssVars</code> ä¼šè¢«è°ƒç”¨ã€‚</p>
<ul>
<li>å®ƒé¦–å…ˆæ‰§è¡Œä¼ å…¥çš„ getter å‡½æ•° <code>() =&gt; ({â€˜7ba5bd90-colorâ€™: color.value, ...})</code>ã€‚</li>
<li><strong>åœ¨é¦–æ¬¡æ‰§è¡Œè¿™ä¸ª getter çš„è¿‡ç¨‹ä¸­ï¼ŒVue çš„å“åº”å¼ç³»ç»Ÿä¼šç²¾ç¡®åœ°è¿½è¸ªåˆ°å‡½æ•°å†…éƒ¨è®¿é—®äº† <code>color.value</code> å’Œ <code>fontSize.value</code></strong>ã€‚è¿™å°±å¦‚åŒ <code>computed</code> æˆ– <code>watchEffect</code> ä¸€æ ·ï¼Œå»ºç«‹äº†ä¸€ä¸ªå‰¯ä½œç”¨ï¼š<strong>â€œå½“è¿™äº› ref çš„å€¼å˜åŒ–æ—¶ï¼Œè¯·é‡æ–°æ‰§è¡Œè¿™ä¸ª getter å¹¶æ›´æ–° CSS å˜é‡â€</strong>ã€‚</li>
</ul>
<h3 data-id="heading-7">2. æ›´æ–°ï¼šå“åº”å¼æ•°æ®å˜åŒ–</h3>
<p>å½“ç”¨æˆ·åœ¨æŸä¸ªäº‹ä»¶ä¸­ä¿®æ”¹ <code>color.value = â€˜#ff0000â€™</code> æ—¶ï¼š</p>
<ol>
<li><strong>è§¦å‘ä¾èµ–</strong>ï¼šVue çš„å“åº”å¼ç³»ç»Ÿæ£€æµ‹åˆ° <code>color</code> çš„å˜åŒ–ï¼Œå¹¶è§¦å‘æ‰€æœ‰ç›¸å…³çš„å‰¯ä½œç”¨ï¼ŒåŒ…æ‹¬ <code>useCssVars</code> å»ºç«‹çš„é‚£ä¸ªã€‚</li>
<li><strong>é‡æ–°è®¡ç®—</strong>ï¼šå‰¯ä½œç”¨å‡½æ•°é‡æ–°æ‰§è¡Œï¼Œè·å–æœ€æ–°çš„é¢œè‰²å€¼ <code>â€˜#ff0000â€™</code>ã€‚</li>
<li><strong>åº”ç”¨è‡³ DOM</strong>ï¼š<code>useCssVars</code> å†…éƒ¨çš„ <code>setVars</code> å‡½æ•°è¢«è°ƒç”¨ï¼Œå®ƒé€šè¿‡ <strong><code>el.style.setProperty(â€˜--7ba5bd90-colorâ€™, â€˜#ff0000â€™)</code></strong> å°†æ–°å€¼è®¾ç½®åˆ°<strong>ç»„ä»¶æ ¹å…ƒç´ </strong>ï¼ˆæˆ–å…³è”å…ƒç´ ï¼‰çš„ <code>style</code> å±æ€§ä¸Šã€‚</li>
</ol>
<p><strong>æœ€ç»ˆDOMæ•ˆæœ</strong>ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-v-7ba5bd90</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"--7ba5bd90-color: #ff0000; --7ba5bd90-fontSize: 16px;"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text"</span>&gt;</span>è¿™æ®µæ–‡å­—çš„é¢œè‰²ä¼šå˜æˆçº¢è‰²ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ç”±äº <code>.text</code> å…ƒç´ çš„ <code>color</code> æ ·å¼è§„åˆ™å¼•ç”¨äº† <code>var(--7ba5bd90-color)</code>ï¼Œæµè§ˆå™¨ä¼šç«‹å³æ ¹æ®å…¶çˆ¶å…ƒç´ ä¸Šæœ€æ–°çš„ <code>style</code> å±æ€§é‡æ–°æ¸²æŸ“ï¼Œä»è€Œå®ç°äº†è§†è§‰ä¸Šçš„å³æ—¶æ›´æ–°ã€‚</p>
<h3 data-id="heading-8">3. é«˜çº§åœºæ™¯ä¸ä¼˜åŒ–ç­–ç•¥</h3>
<p>ä¸ºäº†åº”å¯¹å¤æ‚æƒ…å†µï¼ŒVue çš„ CSS å˜é‡åŒ–æœºåˆ¶åŒ…å«äº†å¤šé¡¹ä¼˜åŒ–å’Œå…œåº•ç­–ç•¥ï¼š</p>
<ul>
<li><strong>æ‰¹é‡å¼‚æ­¥æ›´æ–°</strong>ï¼šä½ çš„æ–‡æ¡£ä¸­æåˆ°çš„ <code>queuePostFlushCb(setVars)</code> æ˜¯å…³é”®ã€‚å®ƒå°† CSS å˜é‡çš„æ›´æ–°æ¨è¿Ÿåˆ° Vue çš„ <strong>â€œpost flushâ€</strong> é˜¶æ®µï¼Œä¸ DOM æ›´æ–°åœ¨åŒä¸€å‘¨æœŸã€‚è¿™ç¡®ä¿äº†å³ä½¿åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å¤šæ¬¡ä¿®æ”¹å“åº”å¼æ•°æ®ï¼Œ<code>setVars</code> ä¹Ÿ<strong>åªä¼šæ‰§è¡Œä¸€æ¬¡</strong>ï¼Œé¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½æŸè€—ã€‚</li>
<li><strong>å¤„ç†åŠ¨æ€ DOM ç»“æ„</strong>ï¼šå¯¹äº <code>v-if</code>ã€<code>v-for</code> åŠ¨æ€åˆ›å»ºçš„ DOM èŠ‚ç‚¹ï¼Œä»…é å“åº”å¼ä¾èµ–è§¦å‘å¯èƒ½ä¸å¤Ÿã€‚å› æ­¤ï¼Œ<code>useCssVars</code> åœ¨ç»„ä»¶æŒ‚è½½åï¼Œä¼šåˆ›å»ºä¸€ä¸ª <strong><code>MutationObserver</code></strong>ï¼Œç›‘å¬ç»„ä»¶æ ¹å®¹å™¨å†…å­èŠ‚ç‚¹çš„å˜åŒ–ã€‚ä¸€æ—¦æœ‰æ–°çš„ç¬¦åˆæ¡ä»¶ï¼ˆå¸¦æœ‰ <code>data-v-owner</code> å±æ€§æ ‡è®°ï¼‰çš„å…ƒç´ è¢«æ·»åŠ ï¼ŒObserver ä¼šç¡®ä¿ CSS å˜é‡ä¹Ÿè¢«åº”ç”¨åˆ°è¿™äº›æ–°å…ƒç´ ä¸Šã€‚</li>
<li><strong>æ”¯æŒ <code>Teleport</code> å’Œ <code>Suspense</code></strong>ï¼šå¯¹äºè¢« <code>&lt;Teleport&gt;</code> ä¼ é€è‡³æ–‡æ¡£å…¶ä»–éƒ¨åˆ†çš„å†…å®¹ï¼ŒVue ä¼šé€šè¿‡ <code>data-v-owner</code> å±æ€§æ ‡è®°å…¶â€œæ‰€å±â€çš„ç»„ä»¶å®ä¾‹ã€‚<code>useCssVars</code> åœ¨æ›´æ–°æ—¶ä¼šæŸ¥è¯¢æ•´ä¸ªæ–‡æ¡£ä¸­æ‰€æœ‰å¸¦æœ‰å½“å‰å®ä¾‹ <code>uid</code> æ ‡è®°çš„å…ƒç´ ï¼Œå¹¶å¯¹å®ƒä»¬ç»Ÿä¸€åº”ç”¨å˜é‡ï¼Œç¡®ä¿äº†æ ·å¼çš„ä¸€è‡´æ€§ã€‚å¯¹äº <code>&lt;Suspense&gt;</code> ä¸‹çš„å¼‚æ­¥ç»„ä»¶ï¼ŒCSS å˜é‡çš„åº”ç”¨ä¼šè¢«å¦¥å–„å®‰æ’åˆ°å¼‚æ­¥ç»„ä»¶åŠ è½½å®Œæˆä¹‹åã€‚</li>
</ul>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>Vue çš„ CSS å˜é‡åŒ– (<code>v-bind</code> in <code>&lt;style&gt;</code>) æ˜¯ä¸€é¡¹ç¼–è¯‘æ—¶ä¸è¿è¡Œæ—¶ç´§å¯†åä½œçš„ç²¾å¯†ç‰¹æ€§ï¼š</p>
<ol>
<li><strong>ç¼–è¯‘æ—¶</strong> (<code>@vue/compiler-sfc</code>) è´Ÿè´£<strong>è¯­æ³•è½¬æ¢</strong>ä¸<strong>ä»£ç ç»‡å…¥</strong>ï¼šå®ƒå°†å£°æ˜å¼çš„ <code>v-bind()</code> è½¬æ¢ä¸º CSS å˜é‡å¼•ç”¨ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥ç”¨äºå»ºç«‹å“åº”å¼æ¡¥æ¥çš„ <code>useCssVars</code> è°ƒç”¨ã€‚</li>
<li><strong>è¿è¡Œæ—¶</strong> (<code>vue</code> core) è´Ÿè´£<strong>ä¾èµ–è¿½è¸ª</strong>ä¸<strong>æ›´æ–°åŒæ­¥</strong>ï¼šå®ƒåˆ©ç”¨ Vue å¼ºå¤§çš„å“åº”å¼ç³»ç»Ÿï¼Œåœ¨ CSS å˜é‡ä¸å“åº”å¼æ•°æ®é—´å»ºç«‹è”ç³»ï¼Œå¹¶é€šè¿‡é«˜æ•ˆçš„æ›´æ–°ç­–ç•¥ï¼ˆæ‰¹é‡å¼‚æ­¥æ›´æ–°ã€DOM å˜åŒ–ç›‘å¬ï¼‰ç¡®ä¿æ ·å¼èƒ½è·¨å„ç§åœºæ™¯å®æ—¶ã€å‡†ç¡®åœ°å“åº”æ•°æ®å˜åŒ–ã€‚</li>
</ol>
<p>è¿™ç§è®¾è®¡ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿä»¥æå…¶ç›´è§‚å’Œå£°æ˜å¼çš„æ–¹å¼å®ç°åŠ¨æ€æ ·å¼ï¼Œè€Œæ¡†æ¶åˆ™åœ¨èƒŒåå¤„ç†äº†æ‰€æœ‰å¤æ‚çš„ç¼–è¯‘ã€ä¾èµ–ç®¡ç†å’Œ DOM æ“ä½œçš„ç»†èŠ‚ï¼Œå†æ¬¡ä½“ç°äº† Vue â€œæ¸è¿›å¼â€ä¸â€œå¼€å‘è€…å‹å¥½â€çš„æ ¸å¿ƒå“²å­¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PWMï¼šå…‰æ˜ç²’å­çš„å ç©ºæ¯”ä¸è„‰å†²æ§åˆ¶]]></title>    <link>https://juejin.cn/post/7598574507347492899</link>    <guid>https://juejin.cn/post/7598574507347492899</guid>    <pubDate>2026-01-25T07:37:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598574507347492899" data-draft-id="7598490039489757219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PWMï¼šå…‰æ˜ç²’å­çš„å ç©ºæ¯”ä¸è„‰å†²æ§åˆ¶"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,Arduino"/> <meta itemprop="datePublished" content="2026-01-25T07:37:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éŸ©å¸ˆå‚…"/> <meta itemprop="url" content="https://juejin.cn/user/286348958252526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PWMï¼šå…‰æ˜ç²’å­çš„å ç©ºæ¯”ä¸è„‰å†²æ§åˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/286348958252526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éŸ©å¸ˆå‚…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T07:37:19.000Z" title="Sun Jan 25 2026 07:37:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><blockquote>
<p>ğŸ’¬ ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸€ä¸ªä¿¡å·çš„â€œäº®â€å’Œâ€œç­â€ï¼Œä¹Ÿèƒ½æ„æˆä¸€åº§åŸå¸‚çš„å‘¼å¸ï¼Ÿ<br/>
å¦‚æœä½ ç”¨â€œå…‰æ˜ç²’å­â€æ¥ç†è§£ PWMï¼Œä¼šä¸ä¼šæ›´å®¹æ˜“è®°ä½å ç©ºæ¯”å’Œé¢‘ç‡å‘¢ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>ğŸ¯ ç”¨"ä½å…ƒçµåŠ›ä¸–ç•Œ"ä¸–ç•Œè§‚ç†è§£ PWM<br/>
ğŸ“š ç³»åˆ—ï¼šä½å…ƒçµåŠ› Â· æ¨¡å—è§‰é†’æ‰‹å†Œ - Day 1 PWM</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ’“ PWM çš„æœ¬è´¨ï¼šåŸå¸‚çš„è„‰å†²èƒ½é‡è¾“é€</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09128c9b825b4fdb970ec2ce4c627c0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769931439&amp;x-signature=AyCyNCsUToVf9NSUCfqUidDT7kE%3D" alt="003 è„‰å†².png" loading="lazy"/></p>
<h3 data-id="heading-1">æ ¸å¿ƒç†è§£</h3>
<p><strong>Arduino åŸå¸‚çš„ä¾›èƒ½ä¸ä½œç”¨</strong>ï¼š</p>
<ul>
<li>Arduino åŸå¸‚æ˜¯æœ‰ä¾›èƒ½çš„ï¼Œæœ‰å…‰æ˜ç²’å­å’Œé»‘æš—ç²’å­è¿›å…¥ä¾›èƒ½</li>
<li>åŸå¸‚çš„æœ€å¤§ä½œç”¨æ˜¯å°†ç²’å­å†åˆ†é…</li>
<li>é€šè¿‡æ§åˆ¶è„‰å†²æ¥å®Œæˆä¸åŒä»»åŠ¡ï¼ˆæ¯”å¦‚ç¯å…‰çš„æ˜æš—ã€é£æ‰‡çš„è½¬é€Ÿç­‰ï¼‰</li>
</ul>
<p><strong>PWM = åŸå¸‚çš„è„‰å†²èƒ½é‡è¾“é€</strong>ï¼š</p>
<ul>
<li>å°±åƒåŸå¸‚çš„èƒ½é‡è¾“é€ç³»ç»Ÿï¼Œé€šè¿‡è„‰å†²æ§åˆ¶èƒ½é‡åˆ†é…</li>
<li>ä¸€ä¸ªå®Œæ•´åŸå¸‚çš„å±…æ°‘ï¼ˆArduino æ¿ä¸Šçš„æ‰€æœ‰ç»„ä»¶/æ¨¡å—ï¼‰å…±åŒäº§ç”Ÿè¿™ä¸ªè„‰å†²</li>
<li>åŸå¸‚è§„åˆ’è€…ï¼ˆç¨‹åºå‘˜ï¼‰å¯ä»¥è°ƒèŠ‚è¿™ä¸ªè„‰å†²çš„å¼ºåº¦å’Œé¢‘ç‡</li>
<li>å…¶ä»–åŸå¸‚éƒ¨ä»¶è¿è¡Œï¼Œéœ€è¦æ§åˆ¶è„‰å†²æ¥å®Œæˆä¸åŒä»»åŠ¡</li>
</ul>
<p><strong>è„‰å†²çš„ä¸¤ä¸ªç»´åº¦</strong>ï¼š</p>
<ol>
<li><strong>é¢‘ç‡</strong>ï¼šè„‰å†²æœ‰å¤šå¿«ï¼ˆæ¯ç§’è¾“é€å¤šå°‘æ¬¡ï¼‰</li>
<li><strong>å ç©ºæ¯”</strong>ï¼šæ¯æ¬¡è„‰å†²æ—¶ï¼Œå…‰æ˜ç²’å­æŒç»­å¤šä¹…</li>
</ol>
<h3 data-id="heading-2">ä½å…ƒçµåŠ›ä¸–ç•Œçš„è§£é‡Š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a0133114241477e8d254a1dfafe16e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769931439&amp;x-signature=Gi9g1aholDPlRJYmNmJV8ZkI22c%3D" alt="003 å ç©ºæ¯”.png" loading="lazy"/></p>
<p><strong>å…‰æ˜ç²’å­ä¸é»‘æš—ç²’å­çš„äº¤æ›¿</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ªå‘¨æœŸå†…ï¼Œå…‰æ˜ç²’å­ï¼ˆ1ï¼‰å’Œé»‘æš—ç²’å­ï¼ˆ0ï¼‰äº¤æ›¿å‡ºç°</li>
<li>å ç©ºæ¯” = å…‰æ˜ç²’å­åœ¨å‘¨æœŸå†…çš„æ—¶é—´æ¯”ä¾‹</li>
<li>é¢‘ç‡ = æ¯ç§’æœ‰å¤šå°‘ä¸ªå‘¨æœŸï¼ˆè„‰å†²å¤šå°‘æ¬¡ï¼‰</li>
</ul>
<p><strong>åŸå¸‚çš„èƒ½é‡è¾“å‡º</strong>ï¼š</p>
<ul>
<li>100% å ç©ºæ¯” = æŒç»­å…‰æ˜ç²’å­ = åŸå¸‚èƒ½é‡è¾“å‡ºæœ€å¼º</li>
<li>50% å ç©ºæ¯” = ä¸€åŠå…‰æ˜ä¸€åŠé»‘æš— = åŸå¸‚èƒ½é‡è¾“å‡ºä¸­ç­‰</li>
<li>20% å ç©ºæ¯” = å°‘é‡å…‰æ˜ç²’å­ = åŸå¸‚èƒ½é‡è¾“å‡ºè¾ƒå¼±</li>
<li>0% å ç©ºæ¯” = æŒç»­é»‘æš—ç²’å­ = åŸå¸‚æ²¡æœ‰èƒ½é‡è¾“å‡º</li>
</ul>
<p><strong>ç²’å­å†åˆ†é…</strong>ï¼š</p>
<ul>
<li>åŸå¸‚æ¥æ”¶å¤–éƒ¨ä¾›èƒ½ï¼ˆå…‰æ˜ç²’å­å’Œé»‘æš—ç²’å­ï¼‰</li>
<li>é€šè¿‡è„‰å†²æ§åˆ¶ï¼Œå°†ç²’å­å†åˆ†é…ç»™å…¶ä»–åŸå¸‚éƒ¨ä»¶</li>
<li>ä¸åŒçš„å ç©ºæ¯”å’Œé¢‘ç‡ï¼Œæ§åˆ¶ä¸åŒéƒ¨ä»¶å®Œæˆä¸åŒä»»åŠ¡</li>
</ul>
<hr/>
<h2 data-id="heading-3">ğŸ” å…³é”®æ¦‚å¿µè¯¦è§£</h2>
<h3 data-id="heading-4">1. å ç©ºæ¯”å’Œé¢‘ç‡çš„æ­£ç¡®ç†è§£ âš ï¸</h3>
<p><strong>é‡è¦çº æ­£</strong>ï¼š</p>
<p>âŒ <strong>é”™è¯¯ç†è§£</strong>ï¼šå ç©ºæ¯”è¶Šé«˜ï¼Œé»‘æš—ç²’å­è¶Šå¤šï¼Œèƒ½é‡è¶Šå°‘</p>
<p>âœ… <strong>æ­£ç¡®ç†è§£</strong>ï¼š</p>
<ul>
<li><strong>å ç©ºæ¯” = å…‰æ˜ç²’å­åœ¨å‘¨æœŸå†…çš„æ—¶é—´æ¯”ä¾‹</strong></li>
<li><strong>å ç©ºæ¯”è¶Šé«˜ = å…‰æ˜ç²’å­è¶Šå¤š = èƒ½é‡è¶Šå¤š</strong></li>
<li><strong>å ç©ºæ¯”è¶Šä½ = é»‘æš—ç²’å­è¶Šå¤š = èƒ½é‡è¶Šå°‘</strong></li>
</ul>
<p><strong>å…·ä½“ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li>100% å ç©ºæ¯” = 100% å…‰æ˜ç²’å­ = èƒ½é‡æœ€å¼ºï¼ˆç¯æœ€äº®ï¼‰</li>
<li>50% å ç©ºæ¯” = 50% å…‰æ˜ç²’å­ + 50% é»‘æš—ç²’å­ = èƒ½é‡ä¸­ç­‰ï¼ˆç¯ä¸­ç­‰äº®åº¦ï¼‰</li>
<li>20% å ç©ºæ¯” = 20% å…‰æ˜ç²’å­ + 80% é»‘æš—ç²’å­ = èƒ½é‡è¾ƒå¼±ï¼ˆç¯è¾ƒæš—ï¼‰</li>
<li>0% å ç©ºæ¯” = 0% å…‰æ˜ç²’å­ = æ²¡æœ‰èƒ½é‡ï¼ˆç¯ä¸äº®ï¼‰</li>
</ul>
<p><strong>é¢‘ç‡</strong>ï¼š</p>
<ul>
<li>é¢‘ç‡ = æ¯ç§’æœ‰å¤šå°‘ä¸ªå‘¨æœŸï¼ˆè„‰å†²å¤šå°‘æ¬¡ï¼‰</li>
<li>é¢‘ç‡è¶Šé«˜ = è„‰å†²è¶Šå¿« = æ§åˆ¶ååº”è¶Šå¿«</li>
<li>é¢‘ç‡è¶Šä½ = è„‰å†²è¶Šæ…¢ = æ§åˆ¶ååº”è¶Šæ…¢</li>
<li>ä½†é¢‘ç‡ä¸å½±å“èƒ½é‡å¼ºåº¦ï¼Œåªå½±å“ååº”é€Ÿåº¦</li>
</ul>
<p><strong>å…³é”®è®°å¿†</strong>ï¼š</p>
<ul>
<li>å ç©ºæ¯”æ§åˆ¶"èƒ½é‡å¼ºåº¦"ï¼ˆå…‰æ˜ç²’å­å å¤šå°‘æ—¶é—´ï¼‰</li>
<li>é¢‘ç‡æ§åˆ¶"ååº”é€Ÿåº¦"ï¼ˆè„‰å†²æœ‰å¤šå¿«ï¼‰</li>
</ul>
<h3 data-id="heading-5">2. è„‰å†²çš„äº§ç”Ÿæœºåˆ¶</h3>
<p><strong>è„‰å†²æ˜¯ç”±ä¸»æ¿ä¸Šçš„å¤šä¸ªæ¨¡å—å…±åŒäº§ç”Ÿçš„</strong>ï¼š</p>
<ul>
<li>è„‰å†²ä¸æ˜¯å•ä¸€æ¨¡å—äº§ç”Ÿçš„ï¼Œè€Œæ˜¯ç”± Arduino æ¿ä¸Šçš„å¤šä¸ªæ¨¡å—ï¼ˆå®šæ—¶å™¨ã€æ—¶é’Ÿã€ä¸»æ§ç­‰ï¼‰å…±åŒåä½œäº§ç”Ÿ</li>
<li>ä¸»æ§æ¨¡å—è´Ÿè´£"è°ƒèŠ‚"è„‰å†²çš„å‚æ•°ï¼ˆé¢‘ç‡ã€å ç©ºæ¯”ï¼‰ï¼Œè€Œä¸æ˜¯"åˆ¶é€ "è„‰å†²æœ¬èº«</li>
<li>è„‰å†²æ˜¯è°ƒèŠ‚å¤–éƒ¨ä¾›èƒ½ç²’å­æµçš„æ–¹å¼ï¼Œé€šè¿‡æ§åˆ¶å…‰æ˜ç²’å­å’Œé»‘æš—ç²’å­çš„æ—¶é—´æ¯”ä¾‹æ¥å®ç°</li>
</ul>
<p><strong>ç±»æ¯”</strong>ï¼š</p>
<ul>
<li>å°±åƒåŸå¸‚çš„ä¾›æ°´ç³»ç»Ÿï¼Œæ°´ï¼ˆç²’å­ï¼‰ä»å¤–éƒ¨è¿›å…¥ï¼Œä½†åŸå¸‚å†…éƒ¨çš„å¤šä¸ªæ¨¡å—ï¼ˆæ°´æ³µã€é˜€é—¨ã€ç®¡é“ï¼‰å…±åŒåä½œï¼Œè°ƒèŠ‚æ°´æµçš„å¤§å°å’ŒèŠ‚å¥</li>
</ul>
<h3 data-id="heading-6">3. è„‰å†²è¾“å‡ºå£ vs æ™®é€šç®¡çº¿æ¥å£</h3>
<p><strong>æœ¬è´¨åŒºåˆ«</strong>ï¼š</p>
<p><strong>è„‰å†²è¾“å‡ºå£ï¼ˆPWM å¼•è„šï¼‰</strong>ï¼š</p>
<ul>
<li>å¯ä»¥è¾“å‡º"å¯è°ƒèŠ‚å¼ºåº¦çš„ç²’å­æµ"</li>
<li>é€šè¿‡å ç©ºæ¯”æ§åˆ¶å…‰æ˜ç²’å­å’Œé»‘æš—ç²’å­çš„æ—¶é—´æ¯”ä¾‹</li>
<li>å¯ä»¥è¾“å‡º"ä¸­é—´å€¼"ï¼ˆæ¯”å¦‚ 50% çš„å…‰æ˜ç²’å­ = ä¸­ç­‰å¼ºåº¦ï¼‰</li>
<li>é€‚åˆéœ€è¦"æ¸å˜æ§åˆ¶"çš„ä»»åŠ¡ï¼ˆç¯å…‰æ˜æš—ã€é£æ‰‡è½¬é€Ÿç­‰ï¼‰</li>
</ul>
<p><strong>æ™®é€šç®¡çº¿æ¥å£</strong>ï¼š</p>
<ul>
<li>åªèƒ½è¾“å‡º"å¼€å…³å¼çš„ç²’å­æµ"</li>
<li>è¦ä¹ˆå…¨æœ‰ï¼ˆHIGH = å…¨éƒ¨å…‰æ˜ç²’å­ï¼‰ï¼Œè¦ä¹ˆå…¨æ— ï¼ˆLOW = å…¨éƒ¨é»‘æš—ç²’å­ï¼‰</li>
<li>ä¸èƒ½è¾“å‡º"ä¸­é—´å€¼"</li>
<li>é€‚åˆéœ€è¦"å¼€å…³æ§åˆ¶"çš„ä»»åŠ¡ï¼ˆç»§ç”µå™¨å¼€å…³ã€LED äº®ç­ç­‰ï¼‰</li>
</ul>
<p><strong>ç±»æ¯”</strong>ï¼š</p>
<ul>
<li>è„‰å†²è¾“å‡ºå£ = å¯è°ƒèŠ‚çš„æ°´é¾™å¤´ï¼ˆå¯ä»¥æ§åˆ¶æ°´æµå¤§å°ï¼‰</li>
<li>æ™®é€šç®¡çº¿æ¥å£ = å¼€å…³å¼çš„æ°´é¾™å¤´ï¼ˆåªèƒ½å…¨å¼€æˆ–å…¨å…³ï¼‰</li>
</ul>
<hr/>
<p>ğŸ’­ <strong>ä½ è§‰å¾— PWM çš„å“ªä¸€éƒ¨åˆ†æœ€éš¾ç†è§£ï¼Ÿ</strong><br/>
æ˜¯é¢‘ç‡çš„å˜åŒ–ï¼Œè¿˜æ˜¯å ç©ºæ¯”çš„è°ƒèŠ‚ï¼Ÿ<br/>
æˆ–è€…ï¼Œä½ æœ‰æ²¡æœ‰è‡ªå·±ç¼–ç¨‹æ§åˆ¶ PWM ç¯å…‰äº®åº¦çš„ç»éªŒï¼Ÿ<br/>
æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç†è§£ï¼Œæˆ–è€…æå‡ºä½ çš„é—®é¢˜ï¼Œæˆ‘ä¼šé€ä¸€å›å¤å“¦ ğŸ‘‡</p>
<hr/>
<blockquote>
<p>ğŸ”„ ç”¨"ä½å…ƒçµåŠ›ä¸–ç•Œ"ä¸–ç•Œè§‚ç†è§£ PWM çš„æœ¬è´¨<br/>
ğŸ“š ç³»åˆ—ï¼šä½å…ƒçµåŠ› Â· æ¨¡å—è§‰é†’æ‰‹å†Œ - Day 1 PWM<br/>
â­ï¸ ä¸‹ä¸€ç¯‡ï¼šArduino ç³»ç»Ÿç»“æ„ï¼šä¸»æ§åŸå¸‚ä¸å«æ˜Ÿæ¨¡å—çš„ç²’å­é“¾æ¥</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Arduino ç³»ç»Ÿç»“æ„ï¼šä¸»æ§åŸå¸‚ä¸å«æ˜Ÿæ¨¡å—çš„ç²’å­é“¾æ¥]]></title>    <link>https://juejin.cn/post/7598588085597159464</link>    <guid>https://juejin.cn/post/7598588085597159464</guid>    <pubDate>2026-01-25T07:41:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598588085597159464" data-draft-id="7598588085597126696" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Arduino ç³»ç»Ÿç»“æ„ï¼šä¸»æ§åŸå¸‚ä¸å«æ˜Ÿæ¨¡å—çš„ç²’å­é“¾æ¥"/> <meta itemprop="keywords" content="Arduino,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-25T07:41:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éŸ©å¸ˆå‚…"/> <meta itemprop="url" content="https://juejin.cn/user/286348958252526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Arduino ç³»ç»Ÿç»“æ„ï¼šä¸»æ§åŸå¸‚ä¸å«æ˜Ÿæ¨¡å—çš„ç²’å­é“¾æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/286348958252526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éŸ©å¸ˆå‚…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T07:41:44.000Z" title="Sun Jan 25 2026 07:41:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><blockquote>
<p>ğŸŒ€ å¦‚æœä½ æ˜¯ä¸€ä¸ªåŸå¸‚çš„ä¸»æ§è€…ï¼Œä½ ä¼šå¦‚ä½•å®‰æ’èƒ½é‡æµå‘ï¼Ÿ<br/>
Arduino å°±æ˜¯è¿™æ ·ä¸€ä¸ªæŒæ§ç²’å­çš„æ ¸å¿ƒï¼ŒæŒ‡æŒ¥ç€åŸå¸‚ä¸­çš„æ¯ä¸€ä¸ªæ¨¡å—ã€‚<br/>
ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·è§£æ„è¿™åº§åŸå¸‚çš„èƒ½é‡åˆ†é…æ³•åˆ™ã€‚</p>
</blockquote>
<blockquote>
<p>ğŸ¯ ç”¨"ä½å…ƒçµåŠ›ä¸–ç•Œ"ä¸–ç•Œè§‚ç†è§£ PWM<br/>
ğŸ“š ç³»åˆ—ï¼šä½å…ƒçµåŠ› Â· æ¨¡å—è§‰é†’æ‰‹å†Œ - Day 1 PWM</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ™ï¸ åŸå¸‚ç³»ç»Ÿçš„å·¥ä½œæœºåˆ¶</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66c65554347249408b97f433e6b83c7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932046&amp;x-signature=ojHISy5dLmMps78vf%2B935FQtKMc%3D" alt="003 ä¸»æ§åŸå¸‚.png" loading="lazy"/></p>
<h3 data-id="heading-1">1. åŸå¸‚çš„ä¾›èƒ½ä¸ç²’å­å†åˆ†é…</h3>
<p><strong>Arduino åŸå¸‚çš„ä¾›èƒ½</strong>ï¼š</p>
<ul>
<li>åŸå¸‚æœ‰ä¾›èƒ½ï¼Œæœ‰å…‰æ˜ç²’å­å’Œé»‘æš—ç²’å­è¿›å…¥ä¾›èƒ½</li>
<li>é€šè¿‡ USB æˆ–å¤–éƒ¨ç”µæºï¼Œç²’å­è¿›å…¥åŸå¸‚</li>
</ul>
<p><strong>åŸå¸‚çš„æœ€å¤§ä½œç”¨ï¼šç²’å­å†åˆ†é…</strong>ï¼š</p>
<ul>
<li>åŸå¸‚æ¥æ”¶å¤–éƒ¨ä¾›èƒ½åï¼Œå°†ç²’å­å†åˆ†é…ç»™å…¶ä»–åŸå¸‚éƒ¨ä»¶</li>
<li>é€šè¿‡æ§åˆ¶è„‰å†²ï¼Œå®Œæˆä¸åŒä»»åŠ¡ï¼š
<ul>
<li>ç¯å…‰çš„æ˜æš—ï¼ˆé€šè¿‡å ç©ºæ¯”æ§åˆ¶ï¼‰</li>
<li>é£æ‰‡çš„è½¬é€Ÿï¼ˆé€šè¿‡å ç©ºæ¯”æ§åˆ¶ï¼‰</li>
<li>èˆµæœºçš„è§’åº¦ï¼ˆé€šè¿‡å ç©ºæ¯”æ§åˆ¶ï¼‰</li>
<li>ç­‰ç­‰</li>
</ul>
</li>
</ul>
<p><strong>ç²’å­å†åˆ†é…çš„æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-plain" lang="plain">å¤–éƒ¨ä¾›èƒ½ â†’ åŸå¸‚æ¥æ”¶ â†’ ä¸»æ§æ¨¡å—è°ƒèŠ‚ â†’ è„‰å†²è¾“å‡º â†’ å«æ˜ŸåŸå¸‚æ¥æ”¶
ï¼ˆç²’å­è¿›å…¥ï¼‰ï¼ˆç²’å­å­˜å‚¨ï¼‰ï¼ˆç²’å­å†åˆ†é…ï¼‰ï¼ˆç²’å­è¾“é€ï¼‰ï¼ˆç²’å­æ¶ˆè€—ï¼‰
</code></pre>
<h3 data-id="heading-2">2. ä¸»æ§åŸå¸‚ä¸å«æ˜ŸåŸå¸‚</h3>
<p><strong>ä¸»æ§åŸå¸‚ï¼ˆArduinoï¼‰</strong>ï¼š</p>
<ul>
<li>æœ‰å®Œæ•´çš„åŸå¸‚ç³»ç»Ÿï¼ˆä¸»æ§æ¨¡å—ã€å¤šä¸ªæ¨¡å—ã€å¤šä¸ªæ¥å£ï¼‰</li>
<li>è´Ÿè´£æ¥æ”¶ä¾›èƒ½ã€ç²’å­å†åˆ†é…ã€æ§åˆ¶å…¶ä»–åŸå¸‚</li>
<li>æ˜¯"æŒ‡æŒ¥ä¸­å¿ƒ"</li>
<li>é€šè¿‡è„‰å†²æ§åˆ¶ï¼Œå°†ç²’å­å†åˆ†é…ç»™å«æ˜ŸåŸå¸‚</li>
</ul>
<p><strong>å«æ˜ŸåŸå¸‚ï¼ˆå…¶ä»–éƒ¨ä»¶ï¼‰</strong>ï¼š</p>
<ul>
<li><strong>æœ‰åŸå¸‚ç³»ç»Ÿçš„å«æ˜ŸåŸå¸‚</strong>ï¼ˆæ¯”å¦‚æ™ºèƒ½ä¼ æ„Ÿå™¨ï¼‰ï¼š
<ul>
<li>æœ‰è‡ªå·±çš„å¤„ç†èƒ½åŠ›</li>
<li>å¯ä»¥æ¥æ”¶ä¸»æ§åŸå¸‚çš„æŒ‡ä»¤</li>
<li>å¯ä»¥å¤„ç†æ•°æ®å¹¶è¿”å›ç»“æœ</li>
<li>æœ‰è‡ªæ²»èƒ½åŠ›ï¼Œä½†å—ä¸»æ§åŸå¸‚æŒ‡æŒ¥</li>
</ul>
</li>
<li><strong>åªæœ‰æ‰§è¡Œå±‚çš„å«æ˜ŸåŸå¸‚</strong>ï¼ˆæ¯”å¦‚ LED ç¯ã€é£æ‰‡ï¼‰ï¼š
<ul>
<li>åªæ˜¯æ¶ˆè€—ç²’å­</li>
<li>æ¥æ”¶ä¸»æ§åŸå¸‚åˆ†é…çš„ç²’å­ï¼Œå®Œæˆå…·ä½“ä»»åŠ¡</li>
<li>æ²¡æœ‰å¤„ç†èƒ½åŠ›ï¼Œåªæ˜¯æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<p><strong>ä¸»æ§åŸå¸‚ä¸å«æ˜ŸåŸå¸‚çš„å…³ç³»</strong>ï¼š</p>
<ul>
<li>ä¸»æ§åŸå¸‚é€šè¿‡è„‰å†²æ§åˆ¶ï¼Œå°†ç²’å­å†åˆ†é…ç»™å«æ˜ŸåŸå¸‚</li>
<li>å«æ˜ŸåŸå¸‚æ¥æ”¶ç²’å­åï¼Œå®Œæˆå…·ä½“ä»»åŠ¡ï¼ˆå‘å…‰ã€è½¬åŠ¨ã€æ£€æµ‹ç­‰ï¼‰</li>
<li>ä½¿ç”¨ä¸åŒçš„ä¼ è¾“å’Œé€šä¿¡æ–¹å¼ï¼ˆUARTã€SPIã€IÂ²Cï¼‰å°†è„‰å†²èƒ½é‡è¾“é€åˆ°å«æ˜ŸåŸå¸‚</li>
</ul>
<p><strong>ç±»æ¯”</strong>ï¼š</p>
<ul>
<li>ä¸»æ§åŸå¸‚ = é¦–éƒ½ï¼ˆæœ‰å®Œæ•´çš„æ”¿åºœç³»ç»Ÿï¼Œè´Ÿè´£æŒ‡æŒ¥ï¼‰</li>
<li>å«æ˜ŸåŸå¸‚ = å…¶ä»–åŸå¸‚ï¼ˆæœ‰çš„æœ‰è‡ªæ²»èƒ½åŠ›ï¼Œæœ‰çš„åªæ˜¯æ‰§è¡Œä»»åŠ¡ï¼‰</li>
</ul>
<h3 data-id="heading-3">3. åŸå¸‚è§„åˆ’è€…ä¸ä¸»æ§æ¨¡å—</h3>
<p><strong>åŸå¸‚è§„åˆ’è€…ï¼ˆç¨‹åºå‘˜ï¼‰çš„èŒè´£</strong>ï¼š</p>
<ul>
<li>å¿…é¡»æŒ‰ç…§é€ ç‰©ä¸»ç•™ä¸‹çš„è§„åˆ™è¿›è¡ŒåŸå¸‚è§„åˆ’</li>
<li>å¯ä»¥è°ƒèŠ‚åŸå¸‚çš„è„‰å†²ï¼ˆPWM çš„é¢‘ç‡å’Œå ç©ºæ¯”ï¼‰</li>
<li>æ§åˆ¶ç²’å­å†åˆ†é…ï¼Œè®©å«æ˜ŸåŸå¸‚å®Œæˆä¸åŒä»»åŠ¡</li>
<li>ä½†å¦‚æœé…ç½®ä¸å¯¹ï¼Œä¼šå¯¼è‡´ï¼š
<ul>
<li>å±…æ°‘å’Œèƒ½é‡è¢«æ¶ˆè€—</li>
<li>èƒ½é‡è¢«æµªè´¹</li>
<li>åŸå¸‚è¢«åºŸå¼ƒ</li>
</ul>
</li>
</ul>
<p><strong>ä¸»æ§æ¨¡å—çš„ä½œç”¨</strong>ï¼š</p>
<ul>
<li>ä¸»æ§æ¨¡å—æ˜¯åŸå¸‚è§„åˆ’è€…åœ¨åŸå¸‚å†…éƒ¨çš„æ‰§è¡Œæœºæ„</li>
<li>å®ƒç»Ÿç®¡æ¨¡å—ä½œä¸ºæˆ–åˆ†é…ç²’å­èµ„æº</li>
<li>æ§åˆ¶æ•´ä¸ªåŸå¸‚çš„è„‰å†²èŠ‚å¥å’Œèƒ½é‡è¾“é€</li>
<li>æ˜¯ä¸»æ§åŸå¸‚çš„"å¤§è„‘"</li>
</ul>
<h3 data-id="heading-4">4. åŸå¸‚çš„å±…æ°‘å¦‚ä½•å‚ä¸</h3>
<p><strong>å®Œæ•´åŸå¸‚çš„å±…æ°‘</strong>ï¼š</p>
<ul>
<li>Arduino æ¿ä¸Šçš„æ‰€æœ‰ç»„ä»¶/æ¨¡å—éƒ½æ˜¯åŸå¸‚çš„å±…æ°‘</li>
<li>å®ƒä»¬å…±åŒç»´æŒåŸå¸‚çš„è„‰å†²èƒ½é‡è¾“é€</li>
<li>æ¯ä¸ªå±…æ°‘éƒ½æœ‰è‡ªå·±çš„èŒè´£ï¼š
<ul>
<li>æœ‰äº›è´Ÿè´£æ¥æ”¶å¤–éƒ¨ä¾›èƒ½</li>
<li>æœ‰äº›è´Ÿè´£äº§ç”Ÿè„‰å†²</li>
<li>æœ‰äº›è´Ÿè´£ä¼ é€’ç²’å­</li>
<li>æœ‰äº›è´Ÿè´£æ¥æ”¶ç²’å­</li>
</ul>
</li>
</ul>
<p><strong>æ¨¡å—èšè½ç¤¾ä¼š</strong>ï¼š</p>
<ul>
<li>å±…æ°‘æŒ‰åŠŸèƒ½åˆ†ç±»ï¼Œè¢«é…ç½®åœ¨å„ç§æ¨¡å—ä¸­</li>
<li>å½“åŸå¸‚è§„åˆ’è€…å†™å…¥æˆ–è¯»å–æ•°æ®æ—¶ï¼Œæ¨¡å—ä¹‹é—´é€šè¿‡ç®¡çº¿è¿›è¡Œåä½œ</li>
<li>å¦‚æœé…ç½®ä¸å¯¹ï¼ŒåŒä¸€æ•°æ®æ¸ é“ä¹Ÿå¯èƒ½é€ æˆæ¨¡å—ä¹‹é—´å†²çª</li>
</ul>
<h2 data-id="heading-5">ğŸ”Œ åŸå¸‚ç®¡çº¿æ¥å£è¯¦è§£</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33a0f55676cd46f08ed1b57b2645e2b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z-p5biI5YKF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932046&amp;x-signature=GVFb0pta9BO%2FwER4A%2F1TkuTrvJY%3D" alt="003 å¼•è„šåˆ†å¸ƒ.png" loading="lazy"/></p>
<h3 data-id="heading-6">Arduino UNO æ•°å­—å¼•è„šåˆ†å¸ƒï¼ˆ0~13ï¼‰</h3>
















































































<table><thead><tr><th>å¼•è„šç¼–å·</th><th>æ˜¯å¦æ”¯æŒ PWM è„‰å†²ï¼Ÿ</th><th>å¸¸ç”¨ç”¨é€”ï¼ˆä½å…ƒçµåŠ›ä¸–ç•Œç‰ˆï¼‰</th></tr></thead><tbody><tr><td>0 (RX)</td><td>âŒ</td><td>ä¸»åŸåŒºçš„æ€»æ¥æ”¶å£ï¼ˆRX = Receiveï¼‰ï¼Œæ¥æ”¶å¤–éƒ¨ä¸–ç•Œçš„ç²’å­</td></tr><tr><td>1 (TX)</td><td>âŒ</td><td>ä¸»åŸåŒºçš„æ€»å‘é€å£ï¼ˆTX = Transmitï¼‰ï¼Œå‘å¤–éƒ¨ä¸–ç•Œå‘é€ç²’å­</td></tr><tr><td>2</td><td>âŒ</td><td>æ™®é€šç®¡çº¿æ¥å£ï¼Œç”¨äºå¼€å…³æ§åˆ¶ã€æŒ‰é’®è¯»å–ç­‰</td></tr><tr><td>3</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œå¯ä»¥è°ƒèŠ‚èƒ½é‡è¾“å‡ºå¼ºåº¦ï¼Œæ§åˆ¶å…¶ä»–éƒ¨ä»¶å®Œæˆä»»åŠ¡</td></tr><tr><td>4</td><td>âŒ</td><td>æ™®é€šç®¡çº¿æ¥å£ï¼Œç”¨äºå¼€å…³æ§åˆ¶ã€æŒ‰é’®è¯»å–ç­‰</td></tr><tr><td>5</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œå¯ä»¥è°ƒèŠ‚èƒ½é‡è¾“å‡ºå¼ºåº¦ï¼Œæ§åˆ¶å…¶ä»–éƒ¨ä»¶å®Œæˆä»»åŠ¡</td></tr><tr><td>6</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œå¯ä»¥è°ƒèŠ‚èƒ½é‡è¾“å‡ºå¼ºåº¦ï¼Œæ§åˆ¶å…¶ä»–éƒ¨ä»¶å®Œæˆä»»åŠ¡</td></tr><tr><td>7</td><td>âŒ</td><td>æ™®é€šç®¡çº¿æ¥å£ï¼Œç”¨äºå¼€å…³æ§åˆ¶ã€æŒ‰é’®è¯»å–ç­‰</td></tr><tr><td>8</td><td>âŒ</td><td>æ™®é€šç®¡çº¿æ¥å£ï¼Œç”¨äºå¼€å…³æ§åˆ¶ã€æŒ‰é’®è¯»å–ç­‰</td></tr><tr><td>9</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œå¯ä»¥è°ƒèŠ‚èƒ½é‡è¾“å‡ºå¼ºåº¦ï¼Œæ§åˆ¶å…¶ä»–éƒ¨ä»¶å®Œæˆä»»åŠ¡</td></tr><tr><td>10</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰/ SPI é€šä¿¡çš„é€‰ä¸­çº¿ï¼ˆSSï¼‰</td></tr><tr><td>11</td><td>âœ… ~</td><td>è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰/ SPI é€šä¿¡çš„ä¸»å‘ä»æ”¶çº¿ï¼ˆMOSIï¼‰</td></tr><tr><td>12</td><td>âŒ</td><td>SPI é€šä¿¡çš„ä»å‘ä¸»æ”¶çº¿ï¼ˆMISOï¼‰</td></tr><tr><td>13</td><td>âŒ</td><td>æ¿è½½ LED è¿æ¥å£ï¼ˆå¯ä»¥æ§åˆ¶åŸå¸‚å†…éƒ¨æŒ‡ç¤ºç¯äº®ç­ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-7">æ¥å£åˆ†ç±»è¯¦è§£</h3>
<h4 data-id="heading-8">1. ä¸»åŸåŒºçš„æ€»é€šä¿¡å£ï¼ˆå¼•è„š 0 å’Œ 1ï¼‰</h4>
<p>âš ï¸ <strong>é‡è¦ï¼šä¸èƒ½éšæ„ä½¿ç”¨ï¼</strong></p>
<p><strong>å¼•è„š 0 (RX = Receive)</strong>ï¼šä¸»åŸåŒºçš„æ€»æ¥æ”¶å£</p>
<ul>
<li>è¿™æ˜¯åŸå¸‚è§„åˆ’è€…ä¸å¤–éƒ¨ä¸–ç•Œï¼ˆç”µè„‘ï¼‰é€šä¿¡çš„å”¯ä¸€æ¥æ”¶é€šé“</li>
<li>æ¥æ”¶å¤–éƒ¨ä¸–ç•Œå‘é€çš„ç²’å­ï¼ˆæ•°æ®ï¼‰</li>
<li>å¦‚æœæ¥å…¶ä»–è®¾å¤‡ï¼Œä¼šå½±å“ä¸²å£è°ƒè¯•</li>
</ul>
<p><strong>å¼•è„š 1 (TX = Transmit)</strong>ï¼šä¸»åŸåŒºçš„æ€»å‘é€å£</p>
<ul>
<li>è¿™æ˜¯åŸå¸‚è§„åˆ’è€…å‘å¤–éƒ¨ä¸–ç•Œå‘é€ç²’å­çš„å”¯ä¸€å‘é€é€šé“</li>
<li>å‘å¤–éƒ¨ä¸–ç•Œå‘é€ç²’å­ï¼ˆæ•°æ®ï¼‰</li>
<li>å¦‚æœæ¥å…¶ä»–è®¾å¤‡ï¼Œä¼šå½±å“ç¨‹åºä¸Šä¼ </li>
</ul>
<h4 data-id="heading-9">2. åŸå¸‚çš„è„‰å†²è¾“å‡ºå£ï¼ˆPWM å¼•è„šï¼Œå¸¦ ~ æ ‡è®°ï¼‰</h4>
<p><strong>æ”¯æŒ PWM çš„å¼•è„š</strong>ï¼š</p>
<ul>
<li>æ•°å­—å¼•è„š 3ã€5ã€6ã€9ã€10ã€11</li>
<li>è¿™äº›æ˜¯åŸå¸‚çš„"è„‰å†²è¾“å‡ºå£"</li>
<li>åŸå¸‚è§„åˆ’è€…å¯ä»¥é€šè¿‡è¿™äº›æ¥å£æ§åˆ¶åŸå¸‚çš„èƒ½é‡è¾“å‡ºå¼ºåº¦</li>
<li>å¯ä»¥è°ƒèŠ‚å ç©ºæ¯”ï¼Œæ§åˆ¶å…‰æ˜ç²’å­åœ¨å‘¨æœŸå†…çš„æ—¶é—´æ¯”ä¾‹</li>
<li>é€šè¿‡è„‰å†²æ§åˆ¶å…¶ä»–éƒ¨ä»¶å®Œæˆä»»åŠ¡ï¼ˆæ¯”å¦‚ç¯å…‰çš„æ˜æš—ï¼‰</li>
</ul>
<p><strong>PWM å¼•è„šçš„å¤ç”¨</strong>ï¼š</p>
<ul>
<li><strong>å¼•è„š 10</strong>ï¼šå¯ä»¥æ˜¯è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ SPI é€šä¿¡çš„é€‰ä¸­çº¿ï¼ˆSSï¼‰</li>
<li><strong>å¼•è„š 11</strong>ï¼šå¯ä»¥æ˜¯è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ SPI é€šä¿¡çš„ä¸»å‘ä»æ”¶çº¿ï¼ˆMOSIï¼‰</li>
</ul>
<h4 data-id="heading-10">3. æ™®é€šç®¡çº¿æ¥å£ï¼ˆä¸å¸¦ ~ æ ‡è®°ï¼‰</h4>
<p><strong>ä¸æ”¯æŒ PWM çš„å¼•è„š</strong>ï¼š</p>
<ul>
<li>æ•°å­—å¼•è„š 2ã€4ã€7ã€8ã€12ã€13</li>
<li>è¿™äº›æ˜¯åŸå¸‚çš„"æ™®é€šç®¡çº¿æ¥å£"</li>
<li>ç”¨äºï¼š
<ul>
<li>å¼€å…³æ§åˆ¶ï¼ˆå…‰æ˜/é»‘æš—ç²’å­çš„å¼€å…³ï¼‰</li>
<li>æŒ‰é’®è¯»å–ï¼ˆæ¥æ”¶å¤–éƒ¨ä¿¡å·ï¼‰</li>
<li>ä¼ æ„Ÿå™¨ä¿¡å·æ¥æ”¶ï¼ˆæ¥æ”¶å…¶ä»–åŸå¸‚çš„ä¿¡æ¯ï¼‰</li>
<li>é€šä¿¡åè®®ï¼ˆä¸å…¶ä»–åŸå¸‚é€šä¿¡ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>ç‰¹æ®Šå¼•è„š</strong>ï¼š</p>
<ul>
<li><strong>å¼•è„š 12</strong>ï¼šSPI é€šä¿¡çš„ä»å‘ä¸»æ”¶çº¿ï¼ˆMISOï¼‰</li>
<li><strong>å¼•è„š 13</strong>ï¼šæ¿è½½ LED è¿æ¥å£ï¼ˆå¯ä»¥æ§åˆ¶åŸå¸‚å†…éƒ¨æŒ‡ç¤ºç¯äº®ç­ï¼‰</li>
</ul>
<h4 data-id="heading-11">4. ç®¡çº¿çš„å¤ç”¨</h4>
<p><strong>é‡è¦æ¦‚å¿µ</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ªç®¡çº¿æ¥å£å¯ä»¥æ‰®æ¼”å¤šä¸ªè§’è‰²</li>
<li>æ ¹æ®åŸå¸‚è§„åˆ’è€…çš„é…ç½®ï¼Œä¸´æ—¶åˆ‡æ¢è§’è‰²</li>
<li>ä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨å¤šä¸ªåŠŸèƒ½</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><strong>å¼•è„š 10</strong>ï¼šå¯ä»¥æ˜¯è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ SPI é€šä¿¡çš„é€‰ä¸­çº¿ï¼ˆSSï¼‰</li>
<li><strong>å¼•è„š 11</strong>ï¼šå¯ä»¥æ˜¯è„‰å†²è¾“å‡ºå£ï¼ˆPWMï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ SPI é€šä¿¡çš„ä¸»å‘ä»æ”¶çº¿ï¼ˆMOSIï¼‰</li>
<li><strong>å¼•è„š 13</strong>ï¼šå¯ä»¥æ˜¯æ™®é€šç®¡çº¿æ¥å£ï¼ˆæ§åˆ¶æ¿è½½ LEDï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ SPI é€šä¿¡çš„æ—¶é’Ÿçº¿ï¼ˆSCLKï¼‰</li>
<li><strong>æ¨¡æ‹Ÿå¼•è„š A4</strong>ï¼šå¯ä»¥æ˜¯æ¨¡æ‹Ÿè¾“å…¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯ IÂ²C é€šä¿¡çš„æ•°æ®çº¿ï¼ˆSDAï¼‰</li>
<li><strong>æ¨¡æ‹Ÿå¼•è„š A5</strong>ï¼šå¯ä»¥æ˜¯æ¨¡æ‹Ÿè¾“å…¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯ IÂ²C é€šä¿¡çš„æ—¶é’Ÿçº¿ï¼ˆSCLï¼‰</li>
</ul>
<hr/>
<p>ğŸ’­ <strong>ä½ æœ‰æ²¡æœ‰è¯•è¿‡ç”¨ Arduino æ§åˆ¶è¿‡å“ªäº›â€œå«æ˜ŸåŸå¸‚â€ï¼Ÿ</strong><br/>
æ˜¯ç¯å…‰ï¼Ÿé£æ‰‡ï¼Ÿè¿˜æ˜¯æ›´å¤æ‚çš„ä¼ æ„Ÿå™¨æ¨¡å—ï¼Ÿ<br/>
æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼Œæˆ–è€…æƒ³çœ‹çš„æ¨¡å—è§£æå†…å®¹ï¼Œæˆ‘ä¼šç»§ç»­åœ¨ç³»åˆ—ä¸­å±•å¼€ ğŸ‘‡</p>
<blockquote>
<p>ğŸ”„ ç”¨"ä½å…ƒçµåŠ›ä¸–ç•Œ"ä¸–ç•Œè§‚ç†è§£ PWM çš„æœ¬è´¨<br/>
ğŸ“š ç³»åˆ—ï¼šä½å…ƒçµåŠ› Â· æ¨¡å—è§‰é†’æ‰‹å†Œ - Day 1 PWM<br/>
â®ï¸ ä¸Šä¸€ç¯‡ï¼šPWMï¼šå…‰æ˜ç²’å­çš„å ç©ºæ¯”ä¸è„‰å†²æ§åˆ¶<br/>
â­ï¸ ä¸‹ä¸€ç¯‡ï¼šåŸå¸‚é€šä¿¡é­”æ³•ï¼šUART / SPI / IÂ²C çš„èƒ½é‡é¢‘é“åˆ‡æ¢</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Kotlinç³»åˆ—15ã€‘å¤šå¹³å°å¼€å‘å®æˆ˜ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œ]]></title>    <link>https://juejin.cn/post/7598801700050812966</link>    <guid>https://juejin.cn/post/7598801700050812966</guid>    <pubDate>2026-01-25T08:16:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598801700050812966" data-draft-id="7598827641307693107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Kotlinç³»åˆ—15ã€‘å¤šå¹³å°å¼€å‘å®æˆ˜ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œ"/> <meta itemprop="keywords" content="Kotlin,Android,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2026-01-25T08:16:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Kotlinç³»åˆ—15ã€‘å¤šå¹³å°å¼€å‘å®æˆ˜ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T08:16:07.000Z" title="Sun Jan 25 2026 08:16:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>å½“ä½ çš„å›¢é˜Ÿéœ€è¦åŒæ—¶ç»´æŠ¤iOSã€Androidã€Webä¸‰ä¸ªå¹³å°çš„åº”ç”¨æ—¶ï¼Œä½ æ˜¯å¦æ›¾ç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåŒä¸€ä¸ªä¸šåŠ¡é€»è¾‘éœ€è¦ç”¨Swiftã€Kotlinã€TypeScriptå„å®ç°ä¸€éï¼ŒAPIè¿”å›ç»“æ„å˜æ›´æ—¶ä¸‰ç«¯éƒ½è¦ä¿®æ”¹ï¼Œå•å…ƒæµ‹è¯•ä¹Ÿè¦å†™ä¸‰ä»½ï¼Ÿè¿™ä¸ä»…è€—è´¹å¤§é‡å¼€å‘èµ„æºï¼Œè¿˜ææ˜“å¯¼è‡´å¹³å°é—´è¡Œä¸ºä¸ä¸€è‡´çš„bugã€‚</p>
<p>Kotlin Multiplatformï¼ˆKMPï¼‰çš„å‡ºç°æ”¹å˜äº†è¿™ä¸€åˆ‡ã€‚å®ƒä¸æ˜¯åˆä¸€ä¸ª"write once, run anywhere"çš„ç©ºæƒ³ï¼Œè€Œæ˜¯ä¸€ä¸ªåŠ¡å®çš„è§£å†³æ–¹æ¡ˆâ€”â€”<strong>è®©ä½ å¯ä»¥åœ¨ä¿ç•™å„å¹³å°UIåŸç”Ÿæ€§çš„åŒæ—¶ï¼Œå…±äº«ä¸šåŠ¡é€»è¾‘ã€ç½‘ç»œå±‚ã€æ•°æ®å¤„ç†ç­‰æ ¸å¿ƒä»£ç </strong>ã€‚Googleåœ¨å…¶å¤šä¸ªé¡¹ç›®ä¸­é‡‡ç”¨äº†KMPï¼ŒJetBrainsçš„æ——èˆ°äº§å“ä¹Ÿåœ¨ä½¿ç”¨ï¼Œè¿™è¯æ˜äº†å…¶ç”Ÿäº§çº§çš„å¯é æ€§ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹æŒæ¡Kotlin Multiplatformå¼€å‘ï¼Œé€šè¿‡å®æˆ˜æ¡ˆä¾‹ç†è§£å…¶æ¶æ„è®¾è®¡ã€å¹³å°äº’æ“ä½œæœºåˆ¶ä»¥åŠæœ€ä½³å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€Kotlin Multiplatformæ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯Kotlin Multiplatformï¼Ÿ</h3>
<p>Kotlin Multiplatformæ˜¯ä¸€ä¸ªè·¨å¹³å°æŠ€æœ¯æ–¹æ¡ˆï¼Œå®ƒå…è®¸ä½ ï¼š</p>
<ul>
<li><strong>å…±äº«ä¸šåŠ¡é€»è¾‘</strong>ï¼šåœ¨å¤šä¸ªå¹³å°é—´å¤ç”¨Kotlinä»£ç </li>
<li><strong>ä¿ç•™å¹³å°ç‰¹æ€§</strong>ï¼šæ¯ä¸ªå¹³å°å¯ä»¥ä½¿ç”¨åŸç”ŸUIå’Œå¹³å°API</li>
<li><strong>çµæ´»çš„å…±äº«ç²’åº¦</strong>ï¼šä»å®Œå…¨å…±äº«åˆ°éƒ¨åˆ†å…±äº«ï¼Œè‡ªç”±é€‰æ‹©</li>
<li><strong>æ— è¿è¡Œæ—¶å¼€é”€</strong>ï¼šç¼–è¯‘ä¸ºå„å¹³å°åŸç”Ÿä»£ç ï¼Œæ— è™šæ‹Ÿæœº</li>
</ul>
<h3 data-id="heading-3">1.2 KMPæ¶æ„å…¨æ™¯</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/968020202366431d875617016471442e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769933766&amp;x-signature=ZKI2QYpqEjKniAhGBJeBXr7ZGxs%3D" alt="15-01-kmp-architecture.png" loading="lazy"/></p>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>å…±äº«ä»£ç å±‚</strong>ï¼šçº¯Kotlinä»£ç ï¼Œå¯åœ¨æ‰€æœ‰ç›®æ ‡å¹³å°è¿è¡Œ</li>
<li><strong>å¹³å°ç‰¹å®šå±‚</strong>ï¼šä½¿ç”¨å„å¹³å°åŸç”ŸæŠ€æœ¯ï¼ˆSwiftUIã€Jetpack Composeã€Reactç­‰ï¼‰</li>
<li><strong>expect/actualæœºåˆ¶</strong>ï¼šè¿æ¥å…±äº«ä»£ç ä¸å¹³å°å®ç°çš„æ¡¥æ¢</li>
</ol>
<h3 data-id="heading-4">1.3 expect/actualæœºåˆ¶è¯¦è§£</h3>
<p><code>expect/actual</code>æ˜¯KMPæœ€æ ¸å¿ƒçš„æœºåˆ¶ï¼Œç”¨äºå®šä¹‰è·¨å¹³å°APIï¼š</p>
<p><strong>å…±äº«æ¨¡å—ä¸­å£°æ˜é¢„æœŸï¼ˆexpectï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/Platform.kt</span>
<span class="hljs-keyword">expect</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Platform</span>() {
    <span class="hljs-keyword">val</span> name: String
}

<span class="hljs-keyword">expect</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPlatformInfo</span><span class="hljs-params">()</span></span>: String
</code></pre>
<p><strong>Androidå¹³å°å®ç°ï¼ˆactualï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidMain/Platform.kt</span>
<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Platform</span> {
    <span class="hljs-keyword">actual</span> <span class="hljs-keyword">val</span> name: String = <span class="hljs-string">"Android <span class="hljs-subst">${android.os.Build.VERSION.SDK_INT}</span>"</span>
}

<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPlatformInfo</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Running on Android"</span>
}
</code></pre>
<p><strong>iOSå¹³å°å®ç°ï¼ˆactualï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// iosMain/Platform.kt</span>
<span class="hljs-keyword">import</span> platform.UIKit.UIDevice

<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Platform</span> {
    <span class="hljs-keyword">actual</span> <span class="hljs-keyword">val</span> name: String =
        UIDevice.currentDevice.systemName() + <span class="hljs-string">" "</span> +
        UIDevice.currentDevice.systemVersion
}

<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPlatformInfo</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Running on iOS"</span>
}
</code></pre>
<p><strong>åŸç†</strong>ï¼š</p>
<ul>
<li>ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®ç›®æ ‡å¹³å°é€‰æ‹©å¯¹åº”çš„<code>actual</code>å®ç°</li>
<li><code>expect</code>å£°æ˜å¿…é¡»åœ¨æ‰€æœ‰ç›®æ ‡å¹³å°éƒ½æœ‰<code>actual</code>å®ç°ï¼Œå¦åˆ™ç¼–è¯‘å¤±è´¥</li>
<li>ä¿è¯äº†ç±»å‹å®‰å…¨å’ŒAPIä¸€è‡´æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-5">äºŒã€åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªKMPé¡¹ç›®</h2>
<h3 data-id="heading-6">2.1 é¡¹ç›®ç»“æ„</h3>
<p>ä½¿ç”¨Kotlin Multiplatform Wizardï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fkmp.jetbrains.com%25EF%25BC%2589%25E5%2588%259B%25E5%25BB%25BA%25E9%25A1%25B9%25E7%259B%25AE%25E5%2590%258E%25EF%25BC%258C%25E5%25BE%2597%25E5%2588%25B0%25E5%25A6%2582%25E4%25B8%258B%25E7%25BB%2593%25E6%259E%2584%25EF%25BC%259A" target="_blank" title="https://kmp.jetbrains.com%EF%BC%89%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%90%8E%EF%BC%8C%E5%BE%97%E5%88%B0%E5%A6%82%E4%B8%8B%E7%BB%93%E6%9E%84%EF%BC%9A" ref="nofollow noopener noreferrer">kmp.jetbrains.comï¼‰åˆ›å»ºé¡¹ç›®åï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æ„ï¼š</a></p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-kmp-app/
â”œâ”€â”€ shared/                      <span class="hljs-comment"># å…±äº«æ¨¡å—</span>
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ commonMain/          <span class="hljs-comment"># é€šç”¨ä»£ç </span>
â”‚   â”‚   â”‚   â””â”€â”€ kotlin/
â”‚   â”‚   â”‚       â”œâ”€â”€ models/      <span class="hljs-comment"># æ•°æ®æ¨¡å‹</span>
â”‚   â”‚   â”‚       â”œâ”€â”€ repository/  <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘</span>
â”‚   â”‚   â”‚       â””â”€â”€ util/        <span class="hljs-comment"># å·¥å…·ç±»</span>
â”‚   â”‚   â”œâ”€â”€ androidMain/         <span class="hljs-comment"># Androidç‰¹å®šä»£ç </span>
â”‚   â”‚   â”‚   â””â”€â”€ kotlin/
â”‚   â”‚   â”œâ”€â”€ iosMain/             <span class="hljs-comment"># iOSç‰¹å®šä»£ç </span>
â”‚   â”‚   â”‚   â””â”€â”€ kotlin/
â”‚   â”‚   â”œâ”€â”€ commonTest/          <span class="hljs-comment"># é€šç”¨æµ‹è¯•</span>
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ build.gradle.kts
â”œâ”€â”€ androidApp/                  <span class="hljs-comment"># Androidåº”ç”¨</span>
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ build.gradle.kts
â””â”€â”€ iosApp/                      <span class="hljs-comment"># iOSåº”ç”¨ï¼ˆXcodeé¡¹ç›®ï¼‰</span>
    â””â”€â”€ iosApp.xcodeproj
</code></pre>
<h3 data-id="heading-7">2.2 é…ç½®Gradleæ„å»ºè„šæœ¬</h3>
<p><code>shared/build.gradle.kts</code>é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    kotlin(<span class="hljs-string">"multiplatform"</span>)
    kotlin(<span class="hljs-string">"plugin.serialization"</span>) version <span class="hljs-string">"1.9.22"</span>
    id(<span class="hljs-string">"com.android.library"</span>)
}

kotlin {
    <span class="hljs-comment">// Androidç›®æ ‡</span>
    android {
        compilations.all {
            kotlinOptions {
                jvmTarget = <span class="hljs-string">"17"</span>
            }
        }
    }

    <span class="hljs-comment">// iOSç›®æ ‡</span>
    listOf(
        iosX64(),
        iosArm64(),
        iosSimulatorArm64()
    ).forEach { iosTarget -&gt;
        iosTarget.binaries.framework {
            baseName = <span class="hljs-string">"shared"</span>
            isStatic = <span class="hljs-literal">true</span>
        }
    }

    <span class="hljs-comment">// å¯é€‰ï¼šJVMç›®æ ‡ï¼ˆç”¨äºæ¡Œé¢åº”ç”¨ï¼‰</span>
    jvm()

    <span class="hljs-comment">// å¯é€‰ï¼šJSç›®æ ‡ï¼ˆç”¨äºWebåº”ç”¨ï¼‰</span>
    js(IR) {
        browser()
        nodejs()
    }

    <span class="hljs-comment">// æºé›†é…ç½®</span>
    sourceSets {
        <span class="hljs-keyword">val</span> commonMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                <span class="hljs-comment">// Kotlinåç¨‹</span>
                implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3"</span>)
                <span class="hljs-comment">// åºåˆ—åŒ–</span>
                implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.2"</span>)
                <span class="hljs-comment">// Ktorç½‘ç»œåº“</span>
                implementation(<span class="hljs-string">"io.ktor:ktor-client-core:2.3.7"</span>)
                <span class="hljs-comment">// æ—¥æœŸæ—¶é—´</span>
                implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-datetime:0.5.0"</span>)
            }
        }

        <span class="hljs-keyword">val</span> androidMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"io.ktor:ktor-client-android:2.3.7"</span>)
            }
        }

        <span class="hljs-keyword">val</span> iosMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"io.ktor:ktor-client-darwin:2.3.7"</span>)
            }
        }

        <span class="hljs-keyword">val</span> commonTest <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(kotlin(<span class="hljs-string">"test"</span>))
            }
        }
    }
}

android {
    namespace = <span class="hljs-string">"com.example.myapp.shared"</span>
    compileSdk = <span class="hljs-number">34</span>
    defaultConfig {
        minSdk = <span class="hljs-number">24</span>
    }
}
</code></pre>
<p><strong>å…³é”®é…ç½®è¯´æ˜</strong>ï¼š</p>
<ol>
<li><strong>å¤šç›®æ ‡æ”¯æŒ</strong>ï¼š<code>android()</code>, <code>iosX64()</code>, <code>jvm()</code>, <code>js()</code>ç­‰</li>
<li><strong>Frameworkå¯¼å‡º</strong>ï¼ˆiOSï¼‰ï¼š<code>binaries.framework</code>é…ç½®iOSæ¡†æ¶</li>
<li><strong>æºé›†ä¾èµ–</strong>ï¼š<code>commonMain</code>ä¸­çš„ä¾èµ–ä¼šè‡ªåŠ¨ä¼ é€’åˆ°å¹³å°ç‰¹å®šæºé›†</li>
<li><strong>å¹³å°ç‰¹å®šä¾èµ–</strong>ï¼šå¦‚Ktorçš„Androidå’ŒiOSå®¢æˆ·ç«¯å®ç°</li>
</ol>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šå…±äº«ç½‘ç»œå±‚</h2>
<h3 data-id="heading-9">3.1 å®šä¹‰é€šç”¨æ•°æ®æ¨¡å‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/models/User.kt</span>
<span class="hljs-keyword">import</span> kotlinx.serialization.Serializable

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Int</span>,
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> email: String,
    <span class="hljs-keyword">val</span> avatar: String? = <span class="hljs-literal">null</span>
)

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiResponse</span>&lt;<span class="hljs-type">T</span>&gt;(
    <span class="hljs-keyword">val</span> code: <span class="hljs-built_in">Int</span>,
    <span class="hljs-keyword">val</span> message: String,
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: T? = <span class="hljs-literal">null</span>
)
</code></pre>
<h3 data-id="heading-10">3.2 åˆ›å»ºè·¨å¹³å°HTTPå®¢æˆ·ç«¯</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/network/HttpClient.kt</span>
<span class="hljs-keyword">import</span> io.ktor.client.*
<span class="hljs-keyword">import</span> io.ktor.client.call.*
<span class="hljs-keyword">import</span> io.ktor.client.plugins.contentnegotiation.*
<span class="hljs-keyword">import</span> io.ktor.client.request.*
<span class="hljs-keyword">import</span> io.ktor.serialization.kotlinx.json.*
<span class="hljs-keyword">import</span> kotlinx.serialization.json.Json

<span class="hljs-keyword">expect</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createPlatformHttpClient</span><span class="hljs-params">()</span></span>: HttpClient

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiClient</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> client = createPlatformHttpClient()

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> json = Json {
        ignoreUnknownKeys = <span class="hljs-literal">true</span>
        isLenient = <span class="hljs-literal">true</span>
        prettyPrint = <span class="hljs-literal">true</span>
    }

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: Result&lt;List&lt;User&gt;&gt; = runCatching {
        <span class="hljs-keyword">val</span> response: ApiResponse&lt;List&lt;User&gt;&gt; = client.<span class="hljs-keyword">get</span>(
            <span class="hljs-string">"https://api.example.com/users"</span>
        ).body()

        <span class="hljs-keyword">if</span> (response.code == <span class="hljs-number">200</span> &amp;&amp; response.<span class="hljs-keyword">data</span> != <span class="hljs-literal">null</span>) {
            response.<span class="hljs-keyword">data</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> Exception(response.message)
        }
    }

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserById</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Result&lt;User&gt; = runCatching {
        <span class="hljs-keyword">val</span> response: ApiResponse&lt;User&gt; = client.<span class="hljs-keyword">get</span>(
            <span class="hljs-string">"https://api.example.com/users/<span class="hljs-variable">$id</span>"</span>
        ).body()

        response.<span class="hljs-keyword">data</span> ?: <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">"User not found"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span> {
        client.close()
    }
}
</code></pre>
<p><strong>Androidå¹³å°å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidMain/network/HttpClient.kt</span>
<span class="hljs-keyword">import</span> io.ktor.client.*
<span class="hljs-keyword">import</span> io.ktor.client.engine.android.*
<span class="hljs-keyword">import</span> io.ktor.client.plugins.contentnegotiation.*
<span class="hljs-keyword">import</span> io.ktor.serialization.kotlinx.json.*

<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createPlatformHttpClient</span><span class="hljs-params">()</span></span>: HttpClient = HttpClient(Android) {
    install(ContentNegotiation) {
        json()
    }

    engine {
        connectTimeout = <span class="hljs-number">30_000</span>
        socketTimeout = <span class="hljs-number">30_000</span>
    }
}
</code></pre>
<p><strong>iOSå¹³å°å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// iosMain/network/HttpClient.kt</span>
<span class="hljs-keyword">import</span> io.ktor.client.*
<span class="hljs-keyword">import</span> io.ktor.client.engine.darwin.*
<span class="hljs-keyword">import</span> io.ktor.client.plugins.contentnegotiation.*
<span class="hljs-keyword">import</span> io.ktor.serialization.kotlinx.json.*

<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createPlatformHttpClient</span><span class="hljs-params">()</span></span>: HttpClient = HttpClient(Darwin) {
    install(ContentNegotiation) {
        json()
    }

    engine {
        configureRequest {
            setAllowsCellularAccess(<span class="hljs-literal">true</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-11">3.3 Repositoryæ¨¡å¼å°è£…</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/repository/UserRepository.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> apiClient = ApiClient()

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchUsers</span><span class="hljs-params">()</span></span>: Result&lt;List&lt;User&gt;&gt; {
        <span class="hljs-keyword">return</span> apiClient.getUsers()
    }

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchUserById</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Result&lt;User&gt; {
        <span class="hljs-keyword">return</span> apiClient.getUserById(id)
    }
}
</code></pre>
<h3 data-id="heading-12">3.4 åœ¨Androidä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidApp/MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository = UserRepository()

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContent {
            <span class="hljs-keyword">var</span> users <span class="hljs-keyword">by</span> remember { mutableStateOf&lt;List&lt;User&gt;&gt;(emptyList()) }
            <span class="hljs-keyword">var</span> isLoading <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">false</span>) }
            <span class="hljs-keyword">var</span> error <span class="hljs-keyword">by</span> remember { mutableStateOf&lt;String?&gt;(<span class="hljs-literal">null</span>) }

            LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
                isLoading = <span class="hljs-literal">true</span>
                repository.fetchUsers()
                    .onSuccess { users = it }
                    .onFailure { error = it.message }
                isLoading = <span class="hljs-literal">false</span>
            }

            UserListScreen(
                users = users,
                isLoading = isLoading,
                error = error
            )
        }
    }
}
</code></pre>
<h3 data-id="heading-13">3.5 åœ¨iOSä¸­ä½¿ç”¨</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// iosApp/ContentView.swift</span>
<span class="hljs-keyword">import</span> SwiftUI
<span class="hljs-keyword">import</span> shared

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> users: [<span class="hljs-type">User</span>] <span class="hljs-operator">=</span> []
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> errorMessage: <span class="hljs-type">String</span>?

    <span class="hljs-keyword">let</span> repository <span class="hljs-operator">=</span> <span class="hljs-type">UserRepository</span>()

    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">NavigationView</span> {
            <span class="hljs-keyword">if</span> isLoading {
                <span class="hljs-type">ProgressView</span>()
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> errorMessage {
                <span class="hljs-type">Text</span>(<span class="hljs-string">"Error: <span class="hljs-subst">\(error)</span>"</span>)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">List</span>(users, id: \.id) { user <span class="hljs-keyword">in</span>
                    <span class="hljs-type">HStack</span> {
                        <span class="hljs-type">AsyncImage</span>(url: <span class="hljs-type">URL</span>(string: user.avatar <span class="hljs-operator">??</span> <span class="hljs-string">""</span>))
                            .frame(width: <span class="hljs-number">50</span>, height: <span class="hljs-number">50</span>)
                        <span class="hljs-type">VStack</span>(alignment: .leading) {
                            <span class="hljs-type">Text</span>(user.name).font(.headline)
                            <span class="hljs-type">Text</span>(user.email).font(.caption)
                        }
                    }
                }
            }
        }
        .task {
            <span class="hljs-keyword">await</span> loadUsers()
        }
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadUsers</span>() <span class="hljs-keyword">async</span> {
        isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> repository.fetchUsers()
            users <span class="hljs-operator">=</span> result
        } <span class="hljs-keyword">catch</span> {
            errorMessage <span class="hljs-operator">=</span> error.localizedDescription
        }
        isLoading <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>Kotlinçš„<code>suspend</code>å‡½æ•°åœ¨Swiftä¸­è‡ªåŠ¨è½¬æ¢ä¸º<code>async</code>å‡½æ•°</li>
<li><code>Result&lt;T&gt;</code>ç±»å‹åœ¨Swiftä¸­æ­£å¸¸å·¥ä½œ</li>
<li>æ•°æ®ç±»åœ¨Swiftä¸­è¡¨ç°ä¸ºä¸å¯å˜ç»“æ„</li>
</ul>
<hr/>
<h2 data-id="heading-14">å››ã€å®æˆ˜æ¡ˆä¾‹äºŒï¼šè·¨å¹³å°æ•°æ®æŒä¹…åŒ–</h2>
<h3 data-id="heading-15">4.1 ä½¿ç”¨SQLDelightå®ç°æ•°æ®åº“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad3f43a675a4401ea0eb177b67225b6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769933766&amp;x-signature=kbvThkMh4e0tutwNikmF9rBP9RQ%3D" alt="15-02-data-persistence.png" loading="lazy"/></p>
<p><strong>æ·»åŠ ä¾èµ–</strong>ï¼ˆ<code>shared/build.gradle.kts</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    id(<span class="hljs-string">"app.cash.sqldelight"</span>) version <span class="hljs-string">"2.0.1"</span>
}

sqldelight {
    databases {
        create(<span class="hljs-string">"AppDatabase"</span>) {
            packageName.<span class="hljs-keyword">set</span>(<span class="hljs-string">"com.example.db"</span>)
        }
    }
}

kotlin {
    sourceSets {
        <span class="hljs-keyword">val</span> commonMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"app.cash.sqldelight:runtime:2.0.1"</span>)
                implementation(<span class="hljs-string">"app.cash.sqldelight:coroutines-extensions:2.0.1"</span>)
            }
        }
        <span class="hljs-keyword">val</span> androidMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"app.cash.sqldelight:android-driver:2.0.1"</span>)
            }
        }
        <span class="hljs-keyword">val</span> iosMain <span class="hljs-keyword">by</span> getting {
            dependencies {
                implementation(<span class="hljs-string">"app.cash.sqldelight:native-driver:2.0.1"</span>)
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-16">4.2 å®šä¹‰æ•°æ®åº“Schema</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- commonMain/sqldelight/com/example/db/User.sq</span>

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">User</span> (
    id <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    name TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    email TEXT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    avatar TEXT,
    createdAt <span class="hljs-type">INTEGER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);

<span class="hljs-comment">-- æ’å…¥æˆ–æ›¿æ¢ç”¨æˆ·</span>
insertOrReplace:
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">User</span>(id, name, email, avatar, createdAt)
<span class="hljs-keyword">VALUES</span> (?, ?, ?, ?, ?);

<span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·</span>
selectAll:
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> createdAt <span class="hljs-keyword">DESC</span>;

<span class="hljs-comment">-- æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·</span>
selectById:
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span>
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> ?;

<span class="hljs-comment">-- åˆ é™¤ç”¨æˆ·</span>
deleteById:
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span>
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> ?;

<span class="hljs-comment">-- æ¸…ç©ºè¡¨</span>
deleteAll:
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">User</span>;
</code></pre>
<h3 data-id="heading-17">4.3 åˆ›å»ºæ•°æ®åº“é©±åŠ¨</h3>
<p><strong>é€šç”¨æ¥å£</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/database/DatabaseDriverFactory.kt</span>
<span class="hljs-keyword">import</span> app.cash.sqldelight.db.SqlDriver
<span class="hljs-keyword">import</span> com.example.db.AppDatabase

<span class="hljs-keyword">expect</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDatabase</span><span class="hljs-params">(driverFactory: <span class="hljs-type">DatabaseDriverFactory</span>)</span></span>: AppDatabase {
    <span class="hljs-keyword">val</span> driver = driverFactory.createDriver()
    <span class="hljs-keyword">return</span> AppDatabase(driver)
}
</code></pre>
<p><strong>Androidå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidMain/database/DatabaseDriverFactory.kt</span>
<span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> app.cash.sqldelight.db.SqlDriver
<span class="hljs-keyword">import</span> app.cash.sqldelight.driver.android.AndroidSqliteDriver
<span class="hljs-keyword">import</span> com.example.db.AppDatabase

<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) {
    <span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver {
        <span class="hljs-keyword">return</span> AndroidSqliteDriver(
            AppDatabase.Schema,
            context,
            <span class="hljs-string">"app.db"</span>
        )
    }
}
</code></pre>
<p><strong>iOSå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// iosMain/database/DatabaseDriverFactory.kt</span>
<span class="hljs-keyword">import</span> app.cash.sqldelight.db.SqlDriver
<span class="hljs-keyword">import</span> app.cash.sqldelight.driver.native.NativeSqliteDriver
<span class="hljs-keyword">import</span> com.example.db.AppDatabase

<span class="hljs-keyword">actual</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactory</span> {
    <span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createDriver</span><span class="hljs-params">()</span></span>: SqlDriver {
        <span class="hljs-keyword">return</span> NativeSqliteDriver(
            AppDatabase.Schema,
            <span class="hljs-string">"app.db"</span>
        )
    }
}
</code></pre>
<h3 data-id="heading-18">4.4 å°è£…æ•°æ®è®¿é—®å±‚</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/database/UserDao.kt</span>
<span class="hljs-keyword">import</span> app.cash.sqldelight.coroutines.asFlow
<span class="hljs-keyword">import</span> app.cash.sqldelight.coroutines.mapToList
<span class="hljs-keyword">import</span> com.example.db.AppDatabase
<span class="hljs-keyword">import</span> kotlinx.coroutines.Dispatchers
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.Flow
<span class="hljs-keyword">import</span> kotlinx.coroutines.withContext
<span class="hljs-keyword">import</span> kotlinx.datetime.Clock

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDao</span>(database: AppDatabase) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> queries = database.userQueries

    <span class="hljs-comment">// è§‚å¯Ÿæ‰€æœ‰ç”¨æˆ·ï¼ˆFlowï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">observeAll</span><span class="hljs-params">()</span></span>: Flow&lt;List&lt;User&gt;&gt; {
        <span class="hljs-keyword">return</span> queries.selectAll(::mapToUser)
            .asFlow()
            .mapToList(Dispatchers.Default)
    }

    <span class="hljs-comment">// æ’å…¥ç”¨æˆ·</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insert</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> = withContext(Dispatchers.Default) {
        queries.insertOrReplace(
            id = user.id.toLong(),
            name = user.name,
            email = user.email,
            avatar = user.avatar,
            createdAt = Clock.System.now().toEpochMilliseconds()
        )
    }

    <span class="hljs-comment">// æ‰¹é‡æ’å…¥</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertAll</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> = withContext(Dispatchers.Default) {
        queries.transaction {
            users.forEach { user -&gt;
                queries.insertOrReplace(
                    id = user.id.toLong(),
                    name = user.name,
                    email = user.email,
                    avatar = user.avatar,
                    createdAt = Clock.System.now().toEpochMilliseconds()
                )
            }
        }
    }

    <span class="hljs-comment">// æ ¹æ®IDæŸ¥è¯¢</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getById</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: User? = withContext(Dispatchers.Default) {
        queries.selectById(id.toLong(), ::mapToUser)
            .executeAsOneOrNull()
    }

    <span class="hljs-comment">// åˆ é™¤ç”¨æˆ·</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">delete</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span> = withContext(Dispatchers.Default) {
        queries.deleteById(id.toLong())
    }

    <span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰ç”¨æˆ·</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">deleteAll</span><span class="hljs-params">()</span></span> = withContext(Dispatchers.Default) {
        queries.deleteAll()
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">mapToUser</span><span class="hljs-params">(
        id: <span class="hljs-type">Long</span>,
        name: <span class="hljs-type">String</span>,
        email: <span class="hljs-type">String</span>,
        avatar: <span class="hljs-type">String</span>?,
        createdAt: <span class="hljs-type">Long</span>
    )</span></span>: User {
        <span class="hljs-keyword">return</span> User(
            id = id.toInt(),
            name = name,
            email = email,
            avatar = avatar
        )
    }
}
</code></pre>
<h3 data-id="heading-19">4.5 å®ç°ç¼“å­˜ç­–ç•¥çš„Repository</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/repository/CachedUserRepository.kt</span>
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.Flow
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.first

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CachedUserRepository</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userDao: UserDao,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> apiClient: ApiClient
) {
    <span class="hljs-comment">// è§‚å¯Ÿæœ¬åœ°ç¼“å­˜</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">observeUsers</span><span class="hljs-params">()</span></span>: Flow&lt;List&lt;User&gt;&gt; {
        <span class="hljs-keyword">return</span> userDao.observeAll()
    }

    <span class="hljs-comment">// åˆ·æ–°æ•°æ®ï¼ˆç½‘ç»œä¼˜å…ˆï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refresh</span><span class="hljs-params">()</span></span>: Result&lt;<span class="hljs-built_in">Unit</span>&gt; = runCatching {
        <span class="hljs-keyword">val</span> result = apiClient.getUsers().getOrThrow()
        userDao.deleteAll()
        userDao.insertAll(result)
    }

    <span class="hljs-comment">// è·å–ç”¨æˆ·ï¼ˆç¼“å­˜ä¼˜å…ˆï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUser</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>, forceRefresh: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">false</span>)</span></span>: Result&lt;User&gt; {
        <span class="hljs-keyword">if</span> (!forceRefresh) {
            <span class="hljs-keyword">val</span> cached = userDao.getById(id)
            <span class="hljs-keyword">if</span> (cached != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> Result.success(cached)
            }
        }

        <span class="hljs-keyword">return</span> runCatching {
            <span class="hljs-keyword">val</span> user = apiClient.getUserById(id).getOrThrow()
            userDao.insert(user)
            user
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-20">äº”ã€å¹³å°äº’æ“ä½œæ·±åº¦è§£æ</h2>
<h3 data-id="heading-21">5.1 Kotlin/Nativeä¸Swiftäº’æ“ä½œ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1270b6155c0649438491865577fdee8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769933766&amp;x-signature=OX0oIDMaBji8sbz37%2BAbIiENUOs%3D" alt="15-03-platform-interop.png" loading="lazy"/></p>
<h4 data-id="heading-22">5.1.1 æ•°æ®ç±»å‹æ˜ å°„</h4>




























































<table><thead><tr><th>Kotlinç±»å‹</th><th>Swiftç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Int</code></td><td><code>Int32</code></td><td>32ä½æ•´æ•°</td></tr><tr><td><code>Long</code></td><td><code>Int64</code></td><td>64ä½æ•´æ•°</td></tr><tr><td><code>Float</code></td><td><code>Float</code></td><td>32ä½æµ®ç‚¹æ•°</td></tr><tr><td><code>Double</code></td><td><code>Double</code></td><td>64ä½æµ®ç‚¹æ•°</td></tr><tr><td><code>Boolean</code></td><td><code>Bool</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>String</code></td><td><code>String</code></td><td>å­—ç¬¦ä¸²ï¼ˆè‡ªåŠ¨æ¡¥æ¥ï¼‰</td></tr><tr><td><code>List&lt;T&gt;</code></td><td><code>NSArray</code></td><td>åˆ—è¡¨ï¼ˆæ³¨æ„å¯å˜æ€§ï¼‰</td></tr><tr><td><code>Map&lt;K, V&gt;</code></td><td><code>NSDictionary</code></td><td>å­—å…¸</td></tr><tr><td><code>suspend fun</code></td><td><code>async func</code></td><td>å¼‚æ­¥å‡½æ•°</td></tr><tr><td><code>Flow&lt;T&gt;</code></td><td>æ— ç›´æ¥æ˜ å°„</td><td>éœ€è¦è½¬æ¢</td></tr></tbody></table>
<h4 data-id="heading-23">5.1.2 å¤„ç†Kotlin Flowåœ¨Swiftä¸­çš„ä½¿ç”¨</h4>
<p>Kotlinçš„<code>Flow</code>åœ¨Swiftä¸­æ²¡æœ‰ç›´æ¥å¯¹åº”ç‰©ï¼Œéœ€è¦è½¬æ¢ä¸ºCombineçš„<code>Publisher</code>æˆ–ä½¿ç”¨å›è°ƒï¼š</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šè½¬æ¢ä¸ºCombineï¼ˆæ¨èï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// iosMain/util/FlowExtensions.kt</span>
<span class="hljs-keyword">import</span> kotlinx.coroutines.CoroutineScope
<span class="hljs-keyword">import</span> kotlinx.coroutines.Dispatchers
<span class="hljs-keyword">import</span> kotlinx.coroutines.Job
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.Flow
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.launchIn
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.onEach

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FlowWrapper</span>&lt;<span class="hljs-type">T</span>&gt;(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> flow: Flow&lt;T&gt;) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">subscribe</span><span class="hljs-params">(
        onEach: (<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Unit</span>,
        onComplete: () -&gt; <span class="hljs-type">Unit</span>,
        onThrow: (<span class="hljs-type">Error</span>) -&gt; <span class="hljs-type">Unit</span>
    )</span></span>: Cancellable {
        <span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.Main)
        <span class="hljs-keyword">val</span> job = flow.onEach { onEach(it) }
            .launchIn(scope)

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">object</span> : Cancellable {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">cancel</span><span class="hljs-params">()</span></span> {
                job.cancel()
            }
        }
    }
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Cancellable</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">cancel</span><span class="hljs-params">()</span></span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Flow<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">wrap</span><span class="hljs-params">()</span></span>: FlowWrapper&lt;T&gt; = FlowWrapper(<span class="hljs-keyword">this</span>)
</code></pre>
<p><strong>åœ¨Swiftä¸­ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// iosApp/UserListViewModel.swift</span>
<span class="hljs-keyword">import</span> Combine
<span class="hljs-keyword">import</span> shared

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserListViewModel</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> users: [<span class="hljs-type">User</span>] <span class="hljs-operator">=</span> []

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> repository: <span class="hljs-type">CachedUserRepository</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> cancellable: <span class="hljs-type">Cancellable</span>?

    <span class="hljs-keyword">init</span>(<span class="hljs-params">repository</span>: <span class="hljs-type">CachedUserRepository</span>) {
        <span class="hljs-keyword">self</span>.repository <span class="hljs-operator">=</span> repository
        observeUsers()
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">observeUsers</span>() {
        cancellable <span class="hljs-operator">=</span> repository.observeUsers().wrap().subscribe(
            onEach: { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] users <span class="hljs-keyword">in</span>
                <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.users <span class="hljs-operator">=</span> users
            },
            onComplete: {},
            onThrow: { error <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"Error: <span class="hljs-subst">\(error)</span>"</span>)
            }
        )
    }

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">refresh</span>() <span class="hljs-keyword">async</span> {
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> repository.refresh()
        } <span class="hljs-keyword">catch</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Refresh failed: <span class="hljs-subst">\(error)</span>"</span>)
        }
    }

    <span class="hljs-keyword">deinit</span> {
        cancellable<span class="hljs-operator">?</span>.cancel()
    }
}
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨å›è°ƒ</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/repository/UserRepositoryCallback.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepositoryCallback</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: CachedUserRepository) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.Main)

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">observeUsers</span><span class="hljs-params">(onChange: (<span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;) -&gt; <span class="hljs-type">Unit</span>)</span></span>: Cancellable {
        <span class="hljs-keyword">val</span> job = scope.launch {
            repository.observeUsers().collect { users -&gt;
                onChange(users)
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">object</span> : Cancellable {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">cancel</span><span class="hljs-params">()</span></span> = job.cancel()
        }
    }
}
</code></pre>
<h4 data-id="heading-24">5.1.3 å¤„ç†å¯†å°ç±»ï¼ˆSealed Classï¼‰</h4>
<p>Kotlinçš„å¯†å°ç±»åœ¨Swiftä¸­ä¼šç”Ÿæˆä¸€ä¸ªåŸºç±»å’Œå¤šä¸ªå­ç±»ï¼š</p>
<p><strong>Kotlinå®šä¹‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonMain/models/Resource.kt</span>
<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Resource</span>&lt;<span class="hljs-type">out T</span>&gt; {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>&lt;<span class="hljs-type">T</span>&gt;(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: T) : Resource&lt;T&gt;()
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> message: String, <span class="hljs-keyword">val</span> code: <span class="hljs-built_in">Int</span>) : Resource&lt;<span class="hljs-built_in">Nothing</span>&gt;()
    <span class="hljs-keyword">object</span> Loading : Resource&lt;<span class="hljs-built_in">Nothing</span>&gt;()
}
</code></pre>
<p><strong>Swiftä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">handleResource</span>(<span class="hljs-params">resource</span>: <span class="hljs-type">Resource</span>&lt;<span class="hljs-type">User</span>&gt;) {
    <span class="hljs-keyword">switch</span> resource {
    <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> success <span class="hljs-keyword">as</span> <span class="hljs-type">Resource</span>.<span class="hljs-type">Success</span>&lt;<span class="hljs-type">User</span>&gt;:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"User: <span class="hljs-subst">\(success.data)</span>"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> error <span class="hljs-keyword">as</span> <span class="hljs-type">Resource</span>.<span class="hljs-type">Error</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Error: <span class="hljs-subst">\(error.message)</span>"</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-keyword">is</span> <span class="hljs-type">Resource</span>.<span class="hljs-type">Loading</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Loading..."</span>)
    <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">break</span>
    }
}
</code></pre>
<h3 data-id="heading-25">5.2 Kotlin/JVMä¸Androidäº’æ“ä½œ</h3>
<p>Androidå¹³å°çš„äº’æ“ä½œç›¸å¯¹ç®€å•ï¼Œå› ä¸ºKotlinæœ¬èº«å°±æ˜¯Androidä¸€ç­‰å…¬æ°‘ï¼š</p>
<p><strong>åœ¨Androidä¸­ä½¿ç”¨å…±äº«æ¨¡å—</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidApp/di/AppModule.kt</span>
<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> AppModule {
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideDatabaseDriverFactory</span><span class="hljs-params">(
        <span class="hljs-meta">@ApplicationContext</span> context: <span class="hljs-type">Context</span>
    )</span></span>: DatabaseDriverFactory {
        <span class="hljs-keyword">return</span> DatabaseDriverFactory(context)
    }

    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideAppDatabase</span><span class="hljs-params">(
        driverFactory: <span class="hljs-type">DatabaseDriverFactory</span>
    )</span></span>: AppDatabase {
        <span class="hljs-keyword">return</span> createDatabase(driverFactory)
    }

    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideUserRepository</span><span class="hljs-params">(
        database: <span class="hljs-type">AppDatabase</span>
    )</span></span>: CachedUserRepository {
        <span class="hljs-keyword">return</span> CachedUserRepository(
            userDao = UserDao(database),
            apiClient = ApiClient()
        )
    }
}
</code></pre>
<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li><strong>R8/ProGuardè§„åˆ™</strong>ï¼šç¡®ä¿ä¸æ··æ·†å…±äº«æ¨¡å—çš„ç±»</li>
<li><strong>åç¨‹è°ƒåº¦å™¨</strong>ï¼šä½¿ç”¨<code>Dispatchers.Main.immediate</code>é¿å…ä¸å¿…è¦çš„è°ƒåº¦</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæ³¨æ„é¿å…å†…å­˜æ³„æ¼ï¼Œç‰¹åˆ«æ˜¯åœ¨ViewModelä¸­</li>
</ol>
<hr/>
<h2 data-id="heading-26">å…­ã€KMPæœ€ä½³å®è·µ</h2>
<h3 data-id="heading-27">6.1 æ¶æ„è®¾è®¡åŸåˆ™</h3>
<p><strong>1. æ¸…æ™°çš„è´£ä»»åˆ’åˆ†</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">å…±äº«å±‚èŒè´£ï¼š
<span class="hljs-operator">âœ…</span> ä¸šåŠ¡é€»è¾‘
<span class="hljs-operator">âœ…</span> æ•°æ®å¤„ç†
<span class="hljs-operator">âœ…</span> ç½‘ç»œè¯·æ±‚
<span class="hljs-operator">âœ…</span> æ•°æ®æŒä¹…åŒ–
<span class="hljs-operator">âœ…</span> å·¥å…·ç±»

å¹³å°å±‚èŒè´£ï¼š
<span class="hljs-operator">âœ…</span> <span class="hljs-type">UIæ¸²æŸ“</span>
<span class="hljs-operator">âœ…</span> ç”¨æˆ·äº¤äº’
<span class="hljs-operator">âœ…</span> å¹³å°ç‰¹å®š<span class="hljs-type">APIï¼ˆå¦‚æ¨é€</span><span class="hljs-operator">ã€</span>æ”¯ä»˜ï¼‰
<span class="hljs-operator">âœ…</span> æ€§èƒ½æ•æ„Ÿçš„<span class="hljs-type">UIåŠ¨ç”»</span>
</code></pre>
<p><strong>2. ä½¿ç”¨Repositoryæ¨¡å¼éš”ç¦»æ•°æ®æº</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å…±äº«å±‚åªå®šä¹‰æ¥å£å’Œä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: Result&lt;List&lt;User&gt;&gt;
}

<span class="hljs-comment">// å¹³å°å±‚å¯ä»¥æä¾›ç‰¹å®šå®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AndroidUserRepository</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> sharedRepo: CachedUserRepository,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> analytics: FirebaseAnalytics
) : UserRepository {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: Result&lt;List&lt;User&gt;&gt; {
        analytics.logEvent(<span class="hljs-string">"fetch_users"</span>, <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> sharedRepo.refresh()
            .map { sharedRepo.observeUsers().first() }
    }
}
</code></pre>
<p><strong>3. é¿å…åœ¨å…±äº«å±‚ä½¿ç”¨å¹³å°ç‰¹å®šç±»å‹</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šAndroidç‰¹å®šç±»å‹æ³„æ¼åˆ°å…±äº«å±‚</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageLoader</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> context: Context) { <span class="hljs-comment">// Contextæ˜¯Androidç‰¹å®šçš„</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadImage</span><span class="hljs-params">(url: <span class="hljs-type">String</span>)</span></span> { ... }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨expect/actualå°è£…</span>
<span class="hljs-keyword">expect</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageLoader</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadImage</span><span class="hljs-params">(url: <span class="hljs-type">String</span>, callback: (<span class="hljs-type">ByteArray</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span>
}
</code></pre>
<h3 data-id="heading-28">6.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<p><strong>1. å‡å°‘è·¨å¹³å°è¾¹ç•Œè°ƒç”¨</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ä½æ•ˆï¼šé¢‘ç¹è·¨è¾¹ç•Œè°ƒç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processUsers</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span>: List&lt;String&gt; {
    <span class="hljs-keyword">return</span> users.map { it.name } <span class="hljs-comment">// æ¯æ¬¡mapéƒ½ä¼šè·¨è¾¹ç•Œ</span>
}

<span class="hljs-comment">// âœ… é«˜æ•ˆï¼šæ‰¹é‡è¿”å›</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserNames</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span>: List&lt;String&gt; {
    <span class="hljs-keyword">return</span> users.map { it.name } <span class="hljs-comment">// ä¸€æ¬¡æ€§è¿”å›æ•´ä¸ªåˆ—è¡¨</span>
}
</code></pre>
<p><strong>2. åˆç†ä½¿ç”¨å†»ç»“ï¼ˆFreezingï¼‰æœºåˆ¶ï¼ˆKotlin/Nativeï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨Kotlin/Nativeä¸­ï¼Œè·¨çº¿ç¨‹å…±äº«çš„å¯¹è±¡å¿…é¡»å†»ç»“</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSafeCache</span>&lt;<span class="hljs-type">T : Any</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> cache = mutableMapOf&lt;String, T&gt;()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">put</span><span class="hljs-params">(key: <span class="hljs-type">String</span>, value: <span class="hljs-type">T</span>)</span></span> {
        cache[key] = value.freeze() <span class="hljs-comment">// å†»ç»“å¯¹è±¡</span>
    }
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šä»Kotlin 1.7.20å¼€å§‹ï¼Œæ–°å†…å­˜æ¨¡å‹é»˜è®¤å¯ç”¨ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä¸å†éœ€è¦æ‰‹åŠ¨å†»ç»“ã€‚</p>
<p><strong>3. ä½¿ç”¨åç¨‹ä¼˜åŒ–å¼‚æ­¥æ“ä½œ</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¹¶å‘æ‰§è¡Œå¤šä¸ªç½‘ç»œè¯·æ±‚</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadDashboardData</span><span class="hljs-params">()</span></span>: DashboardData = coroutineScope {
    <span class="hljs-keyword">val</span> usersDeferred = async { apiClient.getUsers() }
    <span class="hljs-keyword">val</span> postsDeferred = async { apiClient.getPosts() }
    <span class="hljs-keyword">val</span> statsDeferred = async { apiClient.getStats() }

    DashboardData(
        users = usersDeferred.await().getOrThrow(),
        posts = postsDeferred.await().getOrThrow(),
        stats = statsDeferred.await().getOrThrow()
    )
}
</code></pre>
<h3 data-id="heading-29">6.3 æµ‹è¯•ç­–ç•¥</h3>
<p><strong>1. å…±äº«ä»£ç çš„å•å…ƒæµ‹è¯•</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonTest/repository/UserRepositoryTest.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepositoryTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mockApiClient = MockApiClient()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mockUserDao = MockUserDao()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository = CachedUserRepository(mockUserDao, mockApiClient)

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> `refresh should update local cache`<span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-comment">// Given</span>
        <span class="hljs-keyword">val</span> remoteUsers = listOf(
            User(<span class="hljs-number">1</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"alice@example.com"</span>),
            User(<span class="hljs-number">2</span>, <span class="hljs-string">"Bob"</span>, <span class="hljs-string">"bob@example.com"</span>)
        )
        mockApiClient.usersToReturn = remoteUsers

        <span class="hljs-comment">// When</span>
        <span class="hljs-keyword">val</span> result = repository.refresh()

        <span class="hljs-comment">// Then</span>
        assertTrue(result.isSuccess)
        assertEquals(remoteUsers, mockUserDao.storedUsers)
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> `getUser should return cached <span class="hljs-keyword">data</span> <span class="hljs-keyword">when</span> available`<span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-comment">// Given</span>
        <span class="hljs-keyword">val</span> cachedUser = User(<span class="hljs-number">1</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-string">"alice@example.com"</span>)
        mockUserDao.storedUsers = listOf(cachedUser)

        <span class="hljs-comment">// When</span>
        <span class="hljs-keyword">val</span> result = repository.getUser(<span class="hljs-number">1</span>, forceRefresh = <span class="hljs-literal">false</span>)

        <span class="hljs-comment">// Then</span>
        assertTrue(result.isSuccess)
        assertEquals(cachedUser, result.getOrNull())
        assertEquals(<span class="hljs-number">0</span>, mockApiClient.callCount) <span class="hljs-comment">// æœªè°ƒç”¨ç½‘ç»œ</span>
    }
}
</code></pre>
<p><strong>2. å¹³å°ç‰¹å®šæµ‹è¯•</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// androidTest/database/DatabaseDriverFactoryTest.kt</span>
<span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactoryTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testDatabaseCreation</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">val</span> context = ApplicationProvider.getApplicationContext&lt;Context&gt;()
        <span class="hljs-keyword">val</span> driverFactory = DatabaseDriverFactory(context)
        <span class="hljs-keyword">val</span> driver = driverFactory.createDriver()

        assertNotNull(driver)
        driver.close()
    }
}
</code></pre>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// iosAppTests/DatabaseDriverFactoryTests.swift</span>
<span class="hljs-keyword">import</span> XCTest
<span class="hljs-keyword">@testable</span> <span class="hljs-keyword">import</span> shared

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseDriverFactoryTests</span>: <span class="hljs-title class_">XCTestCase</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testDatabaseCreation</span>() {
        <span class="hljs-keyword">let</span> driverFactory <span class="hljs-operator">=</span> <span class="hljs-type">DatabaseDriverFactory</span>()
        <span class="hljs-keyword">let</span> driver <span class="hljs-operator">=</span> driverFactory.createDriver()

        <span class="hljs-type">XCTAssertNotNil</span>(driver)
    }
}
</code></pre>
<p><strong>3. é›†æˆæµ‹è¯•</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// commonTest/integration/UserFlowTest.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserFlowTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> `complete user flow should work correctly`<span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">val</span> repository = createRealRepository()

        <span class="hljs-comment">// 1. åˆ·æ–°æ•°æ®</span>
        repository.refresh().getOrThrow()

        <span class="hljs-comment">// 2. è§‚å¯Ÿæœ¬åœ°æ•°æ®</span>
        <span class="hljs-keyword">val</span> users = repository.observeUsers().first()
        assertTrue(users.isNotEmpty())

        <span class="hljs-comment">// 3. è·å–å•ä¸ªç”¨æˆ·</span>
        <span class="hljs-keyword">val</span> user = repository.getUser(users.first().id).getOrThrow()
        assertEquals(users.first(), user)
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-30">ä¸ƒã€å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-31">7.1 Kotlin/Nativeå†…å­˜ç®¡ç†</h3>
<p><strong>é™·é˜±1ï¼šå°è¯•è·¨çº¿ç¨‹è®¿é—®å¯å˜å¯¹è±¡</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šåœ¨iOSä¸Šä¼šå´©æºƒ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> cache = mutableListOf&lt;User&gt;()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addUser</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
        cache.add(user) <span class="hljs-comment">// å¦‚æœåœ¨ä¸åŒçº¿ç¨‹è°ƒç”¨ä¼šæŠ¥é”™</span>
    }
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆæˆ–å†»ç»“</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> cache = ConcurrentMutableList&lt;User&gt;()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addUser</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
        cache.add(user)
    }
}

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨åç¨‹+å•ä¸€Dispatcher</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> scope = CoroutineScope(Dispatchers.Default)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> cache = mutableListOf&lt;User&gt;()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addUser</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
        scope.launch {
            cache.add(user)
        }
    }
}
</code></pre>
<p><strong>é™·é˜±2ï¼šLambdaæ•è·å¯å˜çŠ¶æ€</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šLambdaæ•è·äº†å¯å˜å˜é‡</span>
<span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>
<span class="hljs-keyword">val</span> callback = { counter++ } <span class="hljs-comment">// å¯èƒ½å¯¼è‡´å†…å­˜é—®é¢˜</span>

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨åŸå­ç±»å‹</span>
<span class="hljs-keyword">val</span> counter = AtomicInt(<span class="hljs-number">0</span>)
<span class="hljs-keyword">val</span> callback = { counter.incrementAndGet() }
</code></pre>
<h3 data-id="heading-32">7.2 expect/actualä¸åŒ¹é…</h3>
<p><strong>é™·é˜±3ï¼šç­¾åä¸å®Œå…¨ä¸€è‡´</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šå‚æ•°åä¸ä¸€è‡´</span>
<span class="hljs-comment">// commonMain</span>
<span class="hljs-keyword">expect</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatDate</span><span class="hljs-params">(timestamp: <span class="hljs-type">Long</span>)</span></span>: String

<span class="hljs-comment">// androidMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatDate</span><span class="hljs-params">(time: <span class="hljs-type">Long</span>)</span></span>: String { ... } <span class="hljs-comment">// å‚æ•°åä¸åŒ</span>

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿å‚æ•°åå®Œå…¨ä¸€è‡´</span>
<span class="hljs-comment">// androidMain</span>
<span class="hljs-keyword">actual</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">formatDate</span><span class="hljs-params">(timestamp: <span class="hljs-type">Long</span>)</span></span>: String { ... }
</code></pre>
<h3 data-id="heading-33">7.3 ä¾èµ–ç®¡ç†é—®é¢˜</h3>
<p><strong>é™·é˜±4ï¼šä½¿ç”¨äº†éKMPå…¼å®¹çš„åº“</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šGsonåªæ”¯æŒJVM</span>
dependencies {
    implementation(<span class="hljs-string">"com.google.code.gson:gson:2.10.1"</span>)
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨KMPå…¼å®¹çš„åº“</span>
dependencies {
    implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.2"</span>)
}
</code></pre>
<p><strong>é™·é˜±5ï¼šå¹³å°ç‰¹å®šä¾èµ–é…ç½®é”™è¯¯</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šåœ¨commonMainä¸­æ·»åŠ å¹³å°ç‰¹å®šä¾èµ–</span>
<span class="hljs-keyword">val</span> commonMain <span class="hljs-keyword">by</span> getting {
    dependencies {
        implementation(<span class="hljs-string">"io.ktor:ktor-client-android:2.3.7"</span>) <span class="hljs-comment">// Androidç‰¹å®š</span>
    }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåœ¨å¯¹åº”å¹³å°æºé›†ä¸­æ·»åŠ </span>
<span class="hljs-keyword">val</span> androidMain <span class="hljs-keyword">by</span> getting {
    dependencies {
        implementation(<span class="hljs-string">"io.ktor:ktor-client-android:2.3.7"</span>)
    }
}
</code></pre>
<h3 data-id="heading-34">7.4 åºåˆ—åŒ–é—®é¢˜</h3>
<p><strong>é™·é˜±6ï¼šä½¿ç”¨äº†ä¸æ”¯æŒåºåˆ—åŒ–çš„ç±»å‹</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šDateä¸æ”¯æŒkotlinx.serialization</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Event</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> date: java.util.Date <span class="hljs-comment">// ä¸æ”¯æŒ</span>
)

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨kotlinx-datetimeæˆ–Long</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Event</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> timestamp: <span class="hljs-built_in">Long</span> <span class="hljs-comment">// æ—¶é—´æˆ³</span>
)

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Event</span>(
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-meta">@Serializable(with = DateSerializer::class)</span>
    <span class="hljs-keyword">val</span> date: Instant
)
</code></pre>
<hr/>
<h2 data-id="heading-35">å…«ã€KMPç”Ÿæ€ç³»ç»Ÿä¸å·¥å…·é“¾</h2>
<h3 data-id="heading-36">8.1 å¸¸ç”¨KMPåº“</h3>























































<table><thead><tr><th>åº“å</th><th>åŠŸèƒ½</th><th>æ”¯æŒå¹³å°</th></tr></thead><tbody><tr><td><strong>Ktor Client</strong></td><td>HTTPå®¢æˆ·ç«¯</td><td>Android, iOS, JVM, JS, Native</td></tr><tr><td><strong>SQLDelight</strong></td><td>ç±»å‹å®‰å…¨çš„SQLæ•°æ®åº“</td><td>Android, iOS, JVM, JS, Native</td></tr><tr><td><strong>kotlinx.serialization</strong></td><td>åºåˆ—åŒ–/ååºåˆ—åŒ–</td><td>å…¨å¹³å°</td></tr><tr><td><strong>kotlinx.coroutines</strong></td><td>åç¨‹</td><td>å…¨å¹³å°</td></tr><tr><td><strong>kotlinx.datetime</strong></td><td>æ—¥æœŸæ—¶é—´API</td><td>å…¨å¹³å°</td></tr><tr><td><strong>Koin</strong></td><td>ä¾èµ–æ³¨å…¥</td><td>Android, iOS, JVM</td></tr><tr><td><strong>Napier</strong></td><td>æ—¥å¿—åº“</td><td>å…¨å¹³å°</td></tr><tr><td><strong>Multiplatform Settings</strong></td><td>é”®å€¼å­˜å‚¨</td><td>Android, iOS, JVM, JS</td></tr><tr><td><strong>KStore</strong></td><td>æ•°æ®æµå­˜å‚¨</td><td>Android, iOS, JVM</td></tr></tbody></table>
<h3 data-id="heading-37">8.2 å¼€å‘å·¥å…·</h3>
<p><strong>1. Android Studio / Fleet</strong>ï¼š</p>
<ul>
<li>KMPæ’ä»¶ï¼šæä¾›æ¨¡æ¿å’Œä»£ç å¯¼èˆª</li>
<li>Kotlin Multiplatform Mobileæ’ä»¶ï¼šiOSæ¨¡æ‹Ÿå™¨é›†æˆ</li>
</ul>
<p><strong>2. Xcode</strong>ï¼š</p>
<ul>
<li>é€šè¿‡CocoaPodsæˆ–SPMé›†æˆKotlinæ¡†æ¶</li>
<li>è°ƒè¯•Kotlinä»£ç éœ€è¦LLDBæ”¯æŒ</li>
</ul>
<p><strong>3. KDoctor</strong>ï¼š
æ£€æŸ¥KMPå¼€å‘ç¯å¢ƒé…ç½®</p>
<pre><code class="hljs language-bash" lang="bash">brew install kdoctor
kdoctor
</code></pre>
<p><strong>4. Gradleç›¸å…³æ’ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    kotlin(<span class="hljs-string">"multiplatform"</span>) version <span class="hljs-string">"1.9.22"</span>
    kotlin(<span class="hljs-string">"plugin.serialization"</span>) version <span class="hljs-string">"1.9.22"</span>
    id(<span class="hljs-string">"com.android.library"</span>)
    id(<span class="hljs-string">"app.cash.sqldelight"</span>) version <span class="hljs-string">"2.0.1"</span>
}
</code></pre>
<h3 data-id="heading-38">8.3 CI/CDé…ç½®</h3>
<p><strong>GitHub Actionsç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">KMP</span> <span class="hljs-string">CI</span>

<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>, <span class="hljs-string">pull_request</span>]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">macos-latest</span> <span class="hljs-comment"># éœ€è¦macOSæ‰èƒ½ç¼–è¯‘iOS</span>

    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">JDK</span> <span class="hljs-number">17</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-java@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">java-version:</span> <span class="hljs-string">'17'</span>
          <span class="hljs-attr">distribution:</span> <span class="hljs-string">'temurin'</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Cache</span> <span class="hljs-string">Gradle</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/cache@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">path:</span> <span class="hljs-string">|
            ~/.gradle/caches
            ~/.gradle/wrapper
</span>          <span class="hljs-attr">key:</span> <span class="hljs-string">${{</span> <span class="hljs-string">runner.os</span> <span class="hljs-string">}}-gradle-${{</span> <span class="hljs-string">hashFiles('**/*.gradle*')</span> <span class="hljs-string">}}</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Shared</span> <span class="hljs-string">Module</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">:shared:build</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">Tests</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">:shared:allTests</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Android</span> <span class="hljs-string">App</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">:androidApp:assembleDebug</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">iOS</span> <span class="hljs-string">Framework</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">:shared:linkDebugFrameworkIosX64</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Upload</span> <span class="hljs-string">Test</span> <span class="hljs-string">Results</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/upload-artifact@v3</span>
        <span class="hljs-attr">if:</span> <span class="hljs-string">always()</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">name:</span> <span class="hljs-string">test-results</span>
          <span class="hljs-attr">path:</span> <span class="hljs-string">'**/build/test-results/**/*.xml'</span>
</code></pre>
<hr/>
<h2 data-id="heading-39">ä¹ã€æ€»ç»“ä¸å­¦ä¹ è·¯å¾„</h2>
<h3 data-id="heading-40">æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<ol>
<li><strong>KMPæ˜¯åŠ¡å®çš„è·¨å¹³å°æ–¹æ¡ˆ</strong>ï¼šä¸å¼ºåˆ¶"ä¸€æ¬¡ç¼–å†™åˆ°å¤„è¿è¡Œ"ï¼Œè€Œæ˜¯è®©ä½ è‡ªç”±é€‰æ‹©å…±äº«ç²’åº¦</li>
<li><strong>expect/actualæ˜¯æ ¸å¿ƒæœºåˆ¶</strong>ï¼šè¿æ¥å…±äº«ä»£ç ä¸å¹³å°å®ç°çš„æ¡¥æ¢</li>
<li><strong>é€‰æ‹©åˆé€‚çš„å…±äº«è¾¹ç•Œ</strong>ï¼šä¸šåŠ¡é€»è¾‘ã€ç½‘ç»œã€æ•°æ®åº“é€‚åˆå…±äº«ï¼ŒUIä¿æŒå¹³å°åŸç”Ÿ</li>
<li><strong>é‡è§†å¹³å°äº’æ“ä½œ</strong>ï¼šç†è§£Kotlin/Nativeçš„å†…å­˜æ¨¡å‹å’ŒSwiftäº’æ“ä½œç»†èŠ‚</li>
<li><strong>ç”Ÿæ€é€æ¸æˆç†Ÿ</strong>ï¼šä¸»æµåº“ï¼ˆKtorã€SQLDelightã€Koinç­‰ï¼‰å·²æ”¯æŒKMP</li>
</ol>
<h3 data-id="heading-41">å­¦ä¹ èµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š</p>
<ul>
<li>Kotlin Multiplatformå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fmultiplatform.html" target="_blank" title="https://kotlinlang.org/docs/multiplatform.html" ref="nofollow noopener noreferrer">kotlinlang.org/docs/multipâ€¦</a></li>
</ul>
<p><strong>å¼€æºé¡¹ç›®å‚è€ƒ</strong>ï¼š</p>
<ul>
<li>Jetpack Compose Multiplatformï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJetBrains%2Fcompose-multiplatform" target="_blank" title="https://github.com/JetBrains/compose-multiplatform" ref="nofollow noopener noreferrer">github.com/JetBrains/câ€¦</a></li>
<li>Touchlab KaMPKitï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftouchlab%2FKaMPKit" target="_blank" title="https://github.com/touchlab/KaMPKit" ref="nofollow noopener noreferrer">github.com/touchlab/Kaâ€¦</a></li>
</ul>
<p><strong>ç¤¾åŒº</strong>ï¼š</p>
<ul>
<li>Kotlin Slackçš„#multiplatformé¢‘é“</li>
<li>Reddit: r/Kotlin_Multiplatform</li>
<li>Stack Overflowæ ‡ç­¾ï¼škotlin-multiplatform</li>
</ul>
<h3 data-id="heading-42">è¿›é˜¶æ–¹å‘</h3>
<ol>
<li><strong>Compose Multiplatform</strong>ï¼šå­¦ä¹ ä½¿ç”¨Jetpack Composeæ„å»ºè·¨å¹³å°UI</li>
<li><strong>Kotlin/Wasm</strong>ï¼šå…³æ³¨WebAssemblyç›®æ ‡å¹³å°çš„å‘å±•</li>
<li><strong>è‡ªå®šä¹‰Gradleæ’ä»¶</strong>ï¼šä¸ºKMPé¡¹ç›®å®šåˆ¶æ„å»ºæµç¨‹</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ·±å…¥ç†è§£ç¼–è¯‘å™¨ä¼˜åŒ–å’Œè¿è¡Œæ—¶æ€§èƒ½</li>
</ol>
<h3 data-id="heading-43">å®è·µå»ºè®®</h3>
<ul>
<li><strong>ä»å°åšèµ·</strong>ï¼šå…ˆå…±äº«æ•°æ®æ¨¡å‹å’ŒAPIå±‚ï¼Œé€æ­¥æ‰©å¤§å…±äº«èŒƒå›´</li>
<li><strong>ä¿æŒå›¢é˜Ÿæ²Ÿé€š</strong>ï¼šiOSå’ŒAndroidå¼€å‘è€…éœ€è¦ç´§å¯†åä½œ</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼šå…±äº«ä»£ç å¿…é¡»æœ‰å®Œå–„çš„æµ‹è¯•è¦†ç›–</li>
<li><strong>ç›‘æ§æ€§èƒ½æŒ‡æ ‡</strong>ï¼šè·Ÿè¸ªåº”ç”¨å¤§å°å’Œè¿è¡Œæ—¶æ€§èƒ½</li>
<li><strong>æŒç»­å­¦ä¹ </strong>ï¼šKMPç”Ÿæ€å¿«é€Ÿå‘å±•ï¼Œä¿æŒæŠ€æœ¯æ•æ„Ÿåº¦</li>
</ul>
<hr/>
<p>Kotlin Multiplatformä¸æ˜¯é“¶å¼¹,ä½†å®ƒä¸ºè·¨å¹³å°å¼€å‘æä¾›äº†ä¸€ä¸ªå®ç”¨ã€æ¸è¿›å¼çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡åˆç†çš„æ¶æ„è®¾è®¡å’Œå¯¹å¹³å°ç‰¹æ€§çš„å°Šé‡,ä½ å¯ä»¥åœ¨ä¿è¯åº”ç”¨è´¨é‡çš„åŒæ—¶æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚ç°åœ¨,å¼€å§‹ä½ çš„KMPä¹‹æ—…å§!</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ol>
<li>Kotlin Multiplatformå®˜æ–¹æ–‡æ¡£ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fmultiplatform.html" target="_blank" title="https://kotlinlang.org/docs/multiplatform.html" ref="nofollow noopener noreferrer">kotlinlang.org/docs/multipâ€¦</a></li>
<li>SQLDelightå®˜æ–¹æ–‡æ¡£ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fcashapp.github.io%2Fsqldelight%2F" target="_blank" title="https://cashapp.github.io/sqldelight/" ref="nofollow noopener noreferrer">cashapp.github.io/sqldelight/</a></li>
<li>Ktor Clientæ–‡æ¡£ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fktor.io%2Fdocs%2Fclient.html" target="_blank" title="https://ktor.io/docs/client.html" ref="nofollow noopener noreferrer">ktor.io/docs/clientâ€¦</a></li>
<li>Google's Guide to Kotlin Multiplatform - <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fkotlin%2Fmultiplatform" target="_blank" title="https://developer.android.com/kotlin/multiplatform" ref="nofollow noopener noreferrer">developer.android.com/kotlin/multâ€¦</a></li>
</ol>
<hr/>
<p><strong>ç³»åˆ—æ–‡ç« å¯¼èˆª:</strong></p>
<ul>
<li>ğŸ‘‰ ä¸Šä¸€ç¯‡: <a href="https://juejin.cn/post/7598532592455942171" target="_blank" title="https://juejin.cn/post/7598532592455942171">ç¼–è¯‘å™¨æ’ä»¶ä¸æ³¨è§£å¤„ç†å™¨å¼€å‘ï¼šåœ¨ç¼–è¯‘æœŸæ“æ§Kotlin</a></li>
</ul>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«!æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ,ä¸€èµ·æˆé•¿!</em></p>
<p><em>ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>å‘ç°æ›´å¤šå®è—èµ„æº</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[EggNog-mapperæœ¬åœ°åŒ–ä¸‹è½½å®‰è£…å’Œä½¿ç”¨è¶…è¯¦ç»†æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7598574507347247139</link>    <guid>https://juejin.cn/post/7598574507347247139</guid>    <pubDate>2026-01-25T06:06:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598574507347247139" data-draft-id="7598588085596930088" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="EggNog-mapperæœ¬åœ°åŒ–ä¸‹è½½å®‰è£…å’Œä½¿ç”¨è¶…è¯¦ç»†æ•™ç¨‹"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-25T06:06:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="EvilAutuman"/> <meta itemprop="url" content="https://juejin.cn/user/2737128320537099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            EggNog-mapperæœ¬åœ°åŒ–ä¸‹è½½å®‰è£…å’Œä½¿ç”¨è¶…è¯¦ç»†æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2737128320537099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    EvilAutuman
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T06:06:09.000Z" title="Sun Jan 25 2026 06:06:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="rainbow">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#474949;color:#d1d9e1}.hljs-comment,.hljs-quote{color:#969896;font-style:italic}.hljs-addition,.hljs-keyword,.hljs-literal,.hljs-selector-tag,.hljs-type{color:#c9c}.hljs-number,.hljs-selector-attr,.hljs-selector-pseudo{color:#f99157}.hljs-doctag,.hljs-regexp,.hljs-string{color:#8abeb7}.hljs-built_in,.hljs-name,.hljs-section,.hljs-title{color:#b5bd68}.hljs-class .hljs-title,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#fc6}.hljs-name,.hljs-section,.hljs-strong{font-weight:700}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-subst,.hljs-symbol{color:#f99157}.hljs-deletion{color:#dc322f}.hljs-formula{background:#eee8d5}.hljs-attr,.hljs-attribute{color:#81a2be}.hljs-emphasis{font-style:italic}</style><p>è¯¥ç¬”è®°å†™äº2025å¹´2æœˆ13æ—¥ï¼Œè¯·æ³¨æ„å‚è€ƒè¯¥æ•™ç¨‹çš„æ—¶æ•ˆæ€§</p>
<h2 data-id="heading-0">ä¸€ã€EggNog-mapperçš„å®‰è£…</h2>
<h3 data-id="heading-1">1ã€åˆ©ç”¨Condaå®‰è£…æ–¹æ³•ï¼š</h3>
<p><strong>è¿™é‡Œæˆ‘æ˜¯åˆ©ç”¨Condaå®‰è£…çš„ï¼ˆå·²æµ‹è¯•å¯è¡Œï¼‰</strong></p>
<pre><code class="hljs language-Shell" lang="Shell">conda install -c bioconda -c conda-forge eggnog-mapper
</code></pre>
<p>å¦æœ‰å…¶ä»–çš„å®‰è£…æ–¹æ³•</p>
<h3 data-id="heading-2">2ã€ä»¥ä¸‹å†…å®¹å¤åˆ¶è‡³GitHubï¼Œæœªè¿›è¡Œæµ‹è¯•ï¼š</h3>
<p><strong>Pypi ç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-Shell" lang="Shell">pip install eggnog-mapper
</code></pre>
<h4 data-id="heading-3"><strong>GitHub ç‰ˆæœ¬å‘å¸ƒ</strong></h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Feggnogdb%2Feggnog-mapper%2Freleases" target="_blank" title="https://github.com/eggnogdb/eggnog-mapper/releases" ref="nofollow noopener noreferrer">github.com/eggnogdb/egâ€¦</a></p>
<p>ä»ä»¥ä¸‹é“¾æ¥ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ eggnog - mapperï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Feggnogdb%2Feggnog-mapper%2Freleases%2Flatest" target="_blank" title="https://github.com/eggnogdb/eggnog-mapper/releases/latest" ref="nofollow noopener noreferrer">github.com/eggnogdb/egâ€¦</a>è§£å‹.tar.gz æˆ–.zip æ–‡ä»¶ã€‚è¿›å…¥è§£å‹åçš„ç›®å½•ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å®‰è£…ä¾èµ–é¡¹ï¼š</p>
<ul>
<li>ä½¿ç”¨ setuptoolsï¼špython setup.py install</li>
<li>ä½¿ç”¨ pipï¼špip install -r requirements.txt</li>
<li>ä½¿ç”¨ condaï¼šconda install --file requirements.txt</li>
</ul>
<h4 data-id="heading-4"><strong>å…‹éš† GitHub ä»“åº“</strong></h4>
<p>ä¸‹è½½ï¼ˆå…‹éš†ï¼‰ä»“åº“ï¼šgit cloneÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Feggnogdb%2Feggnog-mapper.git" target="_blank" title="https://github.com/eggnogdb/eggnog-mapper.git" ref="nofollow noopener noreferrer">github.com/eggnogdb/egâ€¦</a>è¿›å…¥ä»“åº“ç›®å½•ï¼Œå¯é€šè¿‡ä»¥ä¸‹ä»»æ„ä¸€ç§æ–¹å¼å®‰è£…ä¾èµ–é¡¹ï¼š</p>
<ul>
<li>ä½¿ç”¨ setuptoolsï¼špython setup.py install</li>
<li>ä½¿ç”¨ pipï¼špip install -r requirements.txt</li>
<li>ä½¿ç”¨ condaï¼šconda install --file requirements.txt</li>
</ul>
<h2 data-id="heading-5">äºŒã€ç¯å¢ƒè®¾ç½®ï¼ˆä»¥ä¸‹ä¸ºGitHubæ•™ç¨‹çš„ç¿»è¯‘ï¼‰</h2>
<p>å¦‚æœä½ æƒ³ç¡®ä¿ eggNOG-mapper ä½¿ç”¨çš„æ˜¯éšé™„çš„å¤–éƒ¨å·¥å…·ï¼ˆå¦‚ Prodigalã€HMMERã€Diamondã€MMseqsï¼‰äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°† emapper è„šæœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶æ·»åŠ åˆ°ä½ çš„ç¯å¢ƒå˜é‡æˆ–Â <code>PATH</code>Â å˜é‡ä¸­å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ eggnog-mapper å®‰è£…è·¯å¾„ä¸ºÂ <code>/home/user/eggnog-mapper</code></p>
<p>å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">export PATH=/home/user/eggnog-mapper:/home/user/eggnog-mapper/eggnogmapper/bin:"$PATH"
</code></pre>
<p>æ­¤å¤–ï¼Œå¦‚æœä½ æƒ³å°† eggNOG-mapper æ•°æ®åº“å­˜å‚¨åœ¨ç‰¹å®šç›®å½•ä¸­ï¼Œä½ å¯èƒ½å¸Œæœ›åˆ›å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œè¿™æ ·å°±æ— éœ€åœ¨æ‰€æœ‰å‘½ä»¤ä¸­éƒ½æŒ‡å®šè¯¥ç›®å½•ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨Â <code>--data_dir</code>Â å‚æ•°æŒ‡å®šç›®å½•çš„åŠŸèƒ½å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥å®ç°ã€‚</p>
<p>ä½ å¯ä»¥è¿™æ ·è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">export EGGNOG_DATA_DIR=/home/user/eggnog-mapper-data
</code></pre>
<p>ä¸‹ä¸€æ­¥æ˜¯ä¸‹è½½ eggNOG-mapper æ•°æ®åº“ï¼Œä½ å¯ä»¥è¿è¡Œä»¥ä¸‹è„šæœ¬ï¼šï¼ˆcondaå®‰è£…çš„ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå…¶ä»–å®‰è£…æ–¹å¼å¦‚æœæœªæŒ‰ç…§ä¸Šé¢æ–¹æ³•è®¾ç½®ç¯å¢ƒå˜é‡è¯·åœ¨æ‰§è¡Œæ—¶å¸¦ä¸Šç»å¯¹è·¯å¾„ï¼‰</p>
<pre><code class="hljs language-Shell" lang="Shell">download_eggnog_data.py
</code></pre>
<p>è¿™å°†ä¸‹è½½ eggNOG æ³¨é‡Šæ•°æ®åº“ï¼ˆä»¥åŠåˆ†ç±»ç¾¤æ•°æ®åº“ï¼‰ï¼Œè¿˜æœ‰ç”¨äº Diamond æœç´¢çš„ eggNOG è›‹ç™½è´¨æ•°æ®åº“ã€‚</p>
<p>å¦‚æœæ—¢æ²¡æœ‰å®šä¹‰Â <code>EGGNOG_DATA_DIR</code>Â ç¯å¢ƒå˜é‡ï¼Œåœ¨è¿è¡ŒÂ <code>download_eggnog_data.py</code>Â è„šæœ¬æ—¶ä¹Ÿæ²¡æœ‰ä½¿ç”¨Â <code>--data_dir</code>Â é€‰é¡¹ï¼Œé‚£ä¹ˆè¯¥è„šæœ¬ä¼šå°è¯•å°†æ–‡ä»¶ä¸‹è½½åˆ° eggnog-mapper ç›®å½•ä¸‹çš„Â <code>data/</code>Â æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p>è¯·æ³¨æ„ï¼ŒDiamond æ•°æ®åº“æ˜¯å¯é€‰çš„ã€‚ä½ å¯ä»¥é€‰æ‹©è¿›è¡Œ HMMER æˆ– MMseqs2 æœç´¢ï¼Œæˆ–è€…ä½ å¯èƒ½å¸Œæœ›åˆ›å»ºç‰¹å®šåˆ†ç±»èŒƒå›´çš„ Diamond æˆ– MMseqs2 æ•°æ®åº“ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·æŸ¥çœ‹Â <code>download_eggnog_data.py --help</code>ï¼ˆç”¨äºä¸‹è½½ HMMER æ•°æ®åº“æˆ–å®Œæ•´çš„ Diamond æˆ– MMseqs2 æ•°æ®åº“ï¼‰ï¼Œå¹¶æŸ¥çœ‹Â <code>create_dbs.py --help</code>ï¼ˆç”¨äºåˆ›å»ºç‰¹å®šåˆ†ç±»ç¾¤çš„ Diamond/MMseqs2 æ•°æ®åº“ï¼‰ã€‚æ­¤å¤–ï¼Œä½ å¯èƒ½å¸Œæœ›ä¸‹è½½ PFAM æ•°æ®åº“ï¼Œä»¥ä¾¿èƒ½å¤Ÿä½¿ç”¨Â <code>--pfam_realign realign</code>Â æˆ–Â <code>--pfam_realign denovo</code>Â è¿›è¡Œ PFAM é‡æ–°æ¯”å¯¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œ<code>download_eggnog_data.py</code>Â æœ‰ä»¥ä¸‹ä¸€äº›é€‰é¡¹ï¼š</p>
<ul>
<li><code>P</code>Â æ ‡å¿—ï¼šä¸‹è½½ PFAM æ•°æ®åº“æ—¶éœ€è¦ä½¿ç”¨æ­¤æ ‡å¿—ã€‚</li>
<li><code>M</code>Â æ ‡å¿—ï¼šä¸‹è½½ MMseqs2 æ•°æ®åº“æ—¶éœ€è¦ä½¿ç”¨æ­¤æ ‡å¿—ã€‚å®Œæ•´çš„ MMseqs2 æ•°æ®åº“åŒ…å«ä¸å±äºä»»ä½• eggNOG ç›´ç³»åŒæºç»„ï¼ˆOGï¼‰çš„ eggNOG è›‹ç™½è´¨ï¼Œè€Œ Diamond æ•°æ®åº“ä»…åŒ…å«å±äºæŸä¸ª OG çš„è›‹ç™½è´¨ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼Œä¸ä¼šæä¾› MMseqs2 ç´¢å¼•ã€‚è‹¥è¦åˆ›å»ºè¯¥ç´¢å¼•ï¼Œä½ å¯ä»¥ä½¿ç”¨å‘½ä»¤Â <code>mmseqs createindex "$EGGNOG_DATA_DIR"/mmseqs tmp</code>ï¼ˆæ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚é˜…Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmmseqs.com%2Flatest%2Fuserguide.pdf" target="_blank" title="https://mmseqs.com/latest/userguide.pdf" ref="nofollow noopener noreferrer">mmseqs.com/latest/userâ€¦</a>Â ï¼‰ã€‚</li>
<li><code>H -d taxID</code>Â æ ‡å¿—ï¼šä¸‹è½½ç»™å®šåˆ†ç±»å•å…ƒ IDï¼ˆtaxIDï¼‰çš„ HMMER æ•°æ®åº“æ—¶éœ€è¦ä½¿ç”¨æ­¤æ ‡å¿—ï¼ˆå¯åœ¨Â <a href="https://link.juejin.cn?target=http%3A%2F%2Feggnog5.embl.de%2F%23%2Fapp%2Fdownloads" target="_blank" title="http://eggnog5.embl.de/#/app/downloads" ref="nofollow noopener noreferrer">eggnog5.embl.de/#/app/downlâ€¦</a>Â æŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼‰ã€‚</li>
</ul>
<p>åŒæ ·åœ°ï¼Œå¯ä»¥ä½¿ç”¨Â <code>create_dbs.py</code>Â è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œä»…ä¸ºç»†èŒåˆ›å»ºä¸€ä¸ª Diamond æ•°æ®åº“ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">create_dbs.py -m diamond --dbname bacteria --taxa Bacteria
</code></pre>
<p>è¿™å°†åœ¨é»˜è®¤æ•°æ®ç›®å½•æˆ–ç¯å¢ƒå˜é‡Â <code>EGGNOG_DATA_DIR</code>Â æŒ‡å®šçš„ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª Diamond æ•°æ®åº“ã€‚è¯¥æ•°æ®åº“å¯ä¸Â <code>emapper.py --dmnd_db bacteria.dmnd</code>Â é…åˆä½¿ç”¨ã€‚è¯·æ³¨æ„ï¼Œé¦–æ¬¡ä½¿ç”¨Â <code>create_dbs.py</code>Â æ—¶ï¼Œä¸‹è½½ eggNOG è›‹ç™½è´¨å¹¶åˆ›å»º Diamond æˆ– MMseqs2 æ•°æ®åº“éœ€è¦ä¸€äº›æ—¶é—´ã€‚åç»­å†æ¬¡è°ƒç”¨Â <code>create_dbs.py</code>ï¼ˆæŒ‡å‘ç”±Â <code>EGGNOG_DATA_DIR</code>ã€<code>--data_dir</code>Â æŒ‡å®šçš„åŒä¸€æ•°æ®ç›®å½•ï¼Œæˆ–é»˜è®¤ç›®å½•ï¼‰æ—¶ï¼Œæ— éœ€å†æ¬¡ä¸‹è½½ eggnog5 è›‹ç™½è´¨ã€‚å¦‚æœä¸å†åˆ›å»ºæ›´å¤šæ•°æ®åº“ï¼Œå¯ä»¥åˆ é™¤è¿™äº›è›‹ç™½è´¨ã€‚å¦‚éœ€æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹Â <code>create_dbs.py --help</code>ã€‚</p>
<h3 data-id="heading-6">ä»¥ä¸‹æ˜¯æˆ‘æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œçš„æ“ä½œï¼ˆå¤§å®¶å¯ä»¥å€Ÿé‰´è¿™éƒ¨åˆ†ï¼‰ï¼š</h3>
<p>eggnogçš„æ•°æ®åº“åŒ…å«ä¸¤ä¸ªæ–‡ä»¶ï¼šå¯ä»¥ç›´æ¥æ‰§è¡Œ<code>download_eggnog_data.py</code> ä¼šè‡ªåŠ¨ä¸‹è½½è¿™ä¸¤æ–‡ä»¶</p>
<p>ä¹Ÿå¯åœ¨ä¸‹é¢ä¸¤ç½‘å€è‡ªå·±ä¸‹è½½ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flinks.jianshu.com%2Fgo%3Fto%3Dhttps%253A%252F%252Flink.zhihu.com%252F%253Ftarget%253Dhttp%25253A%252F%252Feggnogdb.embl.de%252Fdownload%252Femapperdb-5.0.0%252Feggnog.db.gzhttp%25253A%252F%252Feggnogdb.embl.de%252Fdownload%252Femapperdb-5.0.0%252Feggnog_proteins.dmnd.gz" target="_blank" title="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Feggnogdb.embl.de%2Fdownload%2Femapperdb-5.0.0%2Feggnog.db.gzhttp%253A%2F%2Feggnogdb.embl.de%2Fdownload%2Femapperdb-5.0.0%2Feggnog_proteins.dmnd.gz" ref="nofollow noopener noreferrer">eggnogdb.embl.de/download/emâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flinks.jianshu.com%2Fgo%3Fto%3Dhttps%253A%252F%252Flink.zhihu.com%252F%253Ftarget%253Dhttp%25253A%252F%252Feggnogdb.embl.de%252Fdownload%252Femapperdb-5.0.0%252Feggnog.db.gzhttp%25253A%252F%252Feggnogdb.embl.de%252Fdownload%252Femapperdb-5.0.0%252Feggnog_proteins.dmnd.gz" target="_blank" title="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttp%253A%2F%2Feggnogdb.embl.de%2Fdownload%2Femapperdb-5.0.0%2Feggnog.db.gzhttp%253A%2F%2Feggnogdb.embl.de%2Fdownload%2Femapperdb-5.0.0%2Feggnog_proteins.dmnd.gz" ref="nofollow noopener noreferrer">eggnogdb.embl.de/download/emâ€¦</a></p>
<p>ç„¶åæˆ‘éœ€è¦æ„å»ºåŸæ ¸ç”Ÿç‰©çš„æ•°æ®åº“</p>
<p>åŸæ ¸ç”Ÿç‰©åŒ…å«äº†ç»†èŒå’Œå¤èŒï¼Œæ‰€ä»¥æˆ‘æ‰§è¡Œ</p>
<pre><code class="hljs language-Shell" lang="Shell">create_dbs.py -m diamond --dbname prokaryotes --taxa Bacteria --taxa Archaea --data_dir /media/sutai/D/eggnog_data/prokaryotes/
</code></pre>
<p><code>-m diamond</code>ï¼šæŒ‡å®šåˆ›å»º Diamond æ•°æ®åº“<br/>
<code>--dbname prokaryotes</code>ï¼šæŒ‡å®šæ•°æ®åº“çš„åç§°ä¸º <code>prokaryotes</code><br/>
<code>--taxa Bacteria</code> å’Œ <code>--taxa Archaea</code>ï¼šæŒ‡å®šç›®æ ‡åˆ†ç±»ç¾¤ä¸ºç»†èŒå’Œå¤èŒ<br/>
<code>--data_dir</code> æŒ‡å®šä¸‹è½½çš„æ•°æ®åº“çš„ç›®å½•</p>
<p>ç„¶åï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘çš„æœåŠ¡å™¨è¿æ¥ä¸ä¸Šç½‘ç»œï¼Œæˆ‘çœ‹ä»–æ˜¯ç”¨wgetè¿›è¡Œä¸‹è½½çš„ï¼Œå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ã€‚</p>
<p>ç„¶åæˆ‘çœ‹ä¸‹è½½çš„æ˜¯è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œäºæ˜¯é€šè¿‡æœ¬åœ°çš„windowsåœ¨ç½‘é¡µä¸Šä¸‹è½½äº†è¿™ä¸¤æ–‡ä»¶</p>
<p>![[../Notion-å›¾ç‰‡/image 42.png|image 42.png]]</p>
<p>ç„¶åä¸Šä¼ åˆ°äº†linuxæœåŠ¡å™¨ä¸Šï¼Œæ‰§è¡Œ<code>create_dbs.py -m diamond --dbname prokaryotes --taxa Bacteria --taxa Archaea --data_dir /media/sutai/D/eggnog_data/prokaryotes/</code> ç›¸åŒçš„å‘½ä»¤ï¼Œä¼šæç¤ºæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°±èƒ½æˆåŠŸæ„å»ºæ•°æ®åº“äº†</p>
<p>![[../Notion-å›¾ç‰‡/image 1 3.png|image 1 3.png]]</p>
<h2 data-id="heading-7">ä¸‰ã€EggNog-mapperçš„ä½¿ç”¨æ•™ç¨‹</h2>
<h3 data-id="heading-8"><strong>1ã€åŸºæœ¬ç”¨æ³•</strong></h3>
<p>è¦å¯åŠ¨ä¸€ä¸ªæ³¨é‡Šä»»åŠ¡ï¼Œè¯·æä¾›ä¸€ä¸ªåŒ…å«æŸ¥è¯¢åºåˆ—çš„ FASTA æ–‡ä»¶ï¼ˆ<code>-i</code> é€‰é¡¹ï¼‰ï¼ŒæŒ‡å®šä¸€ä¸ªé¡¹ç›®åç§°ï¼Œè¯¥åç§°å°†ç”¨ä½œæ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„å‰ç¼€ï¼ˆ<code>-o</code> é€‰é¡¹ï¼‰ï¼Œç„¶åè¿è¡Œ <code>emapper.py</code>ã€‚</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTEINS -o test
</code></pre>
<p>è¿™ä¸ªåŸºæœ¬ç¤ºä¾‹å°†è¿è¡Œæœç´¢ï¼Œå¹¶å¯¹é‚£äº›ä¸ eggNOG è›‹ç™½åºåˆ—åŒ¹é…çš„æŸ¥è¯¢åºåˆ—è¿›è¡ŒåŠŸèƒ½æ³¨é‡Šã€‚</p>
<p><code>emapper.py -i FASTA_FILE_PROTEINS -o test</code></p>
<h3 data-id="heading-9">2ã€ä¸€äº›å¸¸ç”¨ä½¿ç”¨ç»„åˆ</h3>
<ul>
<li>
<p><strong>ä½¿ç”¨ Diamond åœ¨ blastx æ¨¡å¼ä¸‹è¿è¡Œæœç´¢å’Œæ³¨é‡Š</strong>ï¼š</p>
<p><code>emapper.py -m diamond --itype CDS -i FASTA_FILE_NTS -o test</code></p>
</li>
<li>
<p><strong>ä½¿ç”¨ MMseqs å¯¹è¾“å…¥çš„ CDS è¿›è¡Œç¿»è¯‘åè¿è¡Œæœç´¢å’Œæ³¨é‡Šï¼Œå¹¶å°†æœç´¢å’Œæ³¨é‡Šç»“æœæ·»åŠ åˆ°ç°æœ‰çš„ GFF æ–‡ä»¶çš„å±æ€§ä¸­ï¼ˆGFF è£…é¥°ï¼‰ï¼Œä½¿ç”¨ GeneID å­—æ®µå°† GFF ä¸­çš„ç‰¹å¾ä¸æ³¨é‡Šç»“æœå…³è”</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m mmseqs --itype CDS --translate -i FASTA_FILE_CDS -o test \
--decorate_gff MY_GFF_FILE --decorate_gff_ID_field GeneID
</code></pre>
</li>
<li>
<p><strong>å¯¹ç»„è£…çš„ contigs è¿è¡Œæœç´¢å’Œæ³¨é‡Šï¼Œä½¿ç”¨ MMseqs2 çš„ "blastx" å‘½ä¸­è¿›è¡ŒåŸºå› é¢„æµ‹</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m mmseqs --itype metagenome -i FASTA_FILE_NTS -o test
</code></pre>
</li>
<li>
<p><strong>å¯¹åŸºå› ç»„è¿è¡Œæœç´¢å’Œæ³¨é‡Šï¼Œä½¿ç”¨ Diamond å¯¹ Prodigal é¢„æµ‹çš„è›‹ç™½è¿›è¡Œæœç´¢ï¼Œå¹¶æ›´æ”¹è¾“å‡ºç›®å½•</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m diamond --itype genome --genepred prodigal \
-i FASTA_FILE_NTS -o test --output_dir /home/me/mydir
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨åŸºå› ç»„è®­ç»ƒ Prodigal è¿›è¡ŒåŸºå› é¢„æµ‹</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m mmseqs --itype genome --genepred prodigal -i FASTA_FILE_NTS -o test \
--training_genome FASTA_FILE --training_file OUT_TRAIN_FILE
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œåˆ†ä¸¤æ­¥ï¼ˆæœç´¢ + æ³¨é‡Šï¼‰è¿è¡Œï¼Œä½¿ç”¨ Diamond çš„æ›´æ•æ„Ÿæ¨¡å¼ï¼Œå¹¶å°†æ³¨é‡Šæ•°æ®åº“åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆ</strong><code>**-dbmem**</code><strong>ï¼›éœ€è¦çº¦ 44 GB çš„ç©ºé—²å†…å­˜ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m diamond --sensmode more-sensitive --no_annot -i FASTA_FILE_PROTS -o test

emapper.py -m no_search --annotate_hits_table test.emapper.seed_orthologs -o test_annot_1 --dbmem
</code></pre>
</li>
<li>
<p><strong>é‡å¤æ³¨é‡Šæ­¥éª¤ï¼Œä½¿ç”¨ç‰¹å®šåˆ†ç±»ç¾¤ä½œä¸ºç›®æ ‡ï¼Œå¹¶æŠ¥å‘Šæ‰¾åˆ°çš„ä¸€å¯¹ä¸€åŒæºç‰©</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m no_search --annotate_hits_table test.emapper.seed_orthologs -o test_annot_2 --dbmem \
--report_orthologs --target_orthologs one2one --target_taxa 72274,1123487
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ HMMER æœç´¢ä¸€ä¸ªç»†èŒè›‹ç™½æ•°æ®åº“ï¼Œä½¿ç”¨å½“å‰ç›®å½•ä½œä¸ºä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ª "scratch" ç›®å½•åœ¨ä¸è¯»å–ä¸åŒçš„ç¡¬ç›˜ä¸Šå†™è¾“å‡ºã€‚ä¸€æ—¦</strong> <code>**emapper.py**</code> <strong>å®Œæˆï¼Œscratch ç›®å½•ä¸­çš„è¾“å‡ºæ–‡ä»¶å°†è¢«ç§»åŠ¨åˆ°å®é™…çš„è¾“å‡ºç›®å½•ä¸­ï¼Œscratch ç›®å½•å°†è¢«åˆ é™¤</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -m hmmer -d bact -i FASTA_FILE_PROTS -o test --scratch_dir /scratch/test --temp_dir .
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œ Diamond æœç´¢ï¼Œå¹¶åœ¨æ³¨é‡Šæ—¶ä¹Ÿå°†æŸ¥è¯¢åºåˆ—é‡æ–°æ¯”å¯¹åˆ°åŒæºç¾¤ç»„ä¸­æ‰¾åˆ°çš„ PFAM åŸŸ</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTS -o test --pfam_realign realign
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œ Diamond æœç´¢ï¼Œå¹¶åœ¨æ³¨é‡Šæ—¶ä¹Ÿå°†æŸ¥è¯¢åºåˆ—é‡æ–°æ¯”å¯¹åˆ°æ•´ä¸ª PFAM æ•°æ®åº“</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTS -o test --pfam_realign denovo
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œ Diamond æœç´¢å’Œæ³¨é‡Šï¼Œå°†æ£€ç´¢æ³¨é‡Šçš„åŒæºç¾¤ç»„é™åˆ¶ä¸ºç»†èŒåˆ†ç±»ç¾¤</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTS -o test --tax_scope Bacteria
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œ Diamond æœç´¢å’Œæ³¨é‡Šï¼Œå°†æ£€ç´¢æ³¨é‡Šçš„åŒæºç¾¤ç»„é™åˆ¶ä¸ºé¢„å®šä¹‰çš„åˆ†ç±»èŒƒå›´ï¼ˆå®šä¹‰åœ¨æ–‡ä»¶ä¸­ï¼‰é’ˆå¯¹ç»†èŒåŠå…¶åä»£ã€‚ä¸å‰ä¸€ä¸ªç¤ºä¾‹çš„åŒºåˆ«åœ¨äºï¼Œè¿™é‡Œä½¿ç”¨çš„ç»†èŒæ–‡ä»¶åŒ…å«ä¸€ä¸ªåˆ†ç±»ç¾¤åˆ—è¡¨ï¼Œè€Œä¸ä»…ä»…æ˜¯ç»†èŒã€‚å¦‚æœå‡ ä¸ª OG ä¸èŒƒå›´ç›¸äº¤ï¼Œå¯¹äºç»™å®šçš„è›‹ç™½è´¨ï¼Œæœ€çª„çš„èŒƒå›´å°†è¢«ç”¨æ¥å°†æ³¨é‡Šä¼ é€’ç»™æŸ¥è¯¢ï¼šeggnogmapper/annotation/tax_scopes/bacteria</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTS -o test --tax_scope bacteria
</code></pre>
</li>
<li>
<p><strong>è¿›è¡Œ Diamond æœç´¢å’Œæ³¨é‡Šï¼Œå°†æ£€ç´¢æ³¨é‡Šçš„åŒæºç¾¤ç»„é™åˆ¶ä¸º Gammaproteobacteria åˆ†ç±»èŒƒå›´ã€‚æ­¤å¤–ï¼Œä»è¿™äº› OG ä¸­ï¼Œå¼ºåˆ¶åœ¨ç»†èŒçº§åˆ«æ£€ç´¢æ³¨é‡Š</strong>ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i FASTA_FILE_PROTS -o test --tax_scope Gammaproteobacteria --tax_scope_mode Bacteria
</code></pre>
</li>
</ul>
<h3 data-id="heading-10">3ã€emapper.py å‚æ•°è¯´æ˜</h3>
<h4 data-id="heading-11">é€šç”¨é€‰é¡¹</h4>
<ul>
<li><code>**--version**</code>ï¼š<br/>
æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡ºã€‚</li>
<li><code>**--list_taxa**</code>ï¼š<br/>
åˆ—å‡ºå¯ç”¨äºåŒæºç¾¤ç»„ï¼ˆOGsï¼‰çš„åˆ†ç±»å­¦åç§°å’Œ IDï¼Œå¹¶é€€å‡ºã€‚è¿™äº›æ˜¯ <code>--tax_scope</code> å’Œ <code>--tax_scope_mode</code> çš„æœ‰æ•ˆåˆ†ç±»åç§°å’Œ IDã€‚</li>
</ul>
<h4 data-id="heading-12">æ‰§è¡Œé€‰é¡¹</h4>
<ul>
<li><code>**--cpu NUM_CPU**</code>ï¼š<br/>
æŒ‡å®šåœ¨å¯èƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ CPU æ•°é‡ï¼ˆä¾‹å¦‚åœ¨ Diamond å’Œæ³¨é‡Šä»»åŠ¡ä¸­ï¼‰ã€‚è®¾ç½®ä¸º <code>-cpu 0</code> å¯ä»¥ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„ CPUã€‚é»˜è®¤å€¼ä¸º 1ã€‚</li>
<li><code>**--resume**</code>ï¼š<br/>
æ¢å¤ä¹‹å‰çš„ <code>emapper</code> è¿è¡Œï¼Œè·³è¿‡å·²å­˜åœ¨çš„è¾“å‡ºæ–‡ä»¶ä¸­çš„ç»“æœã€‚</li>
<li><code>**--override**</code>ï¼š<br/>
å¦‚æœè¾“å‡ºæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¦†ç›–å®ƒä»¬ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæ£€æµ‹åˆ°å†²çªçš„æ–‡ä»¶ï¼Œæ‰§è¡Œå°†è¢«ç»ˆæ­¢ã€‚</li>
<li><code>**--mp_start_method [fork,spawn,forkserver]**</code>ï¼š<br/>
ç”¨äºæ§åˆ¶ Python å¤šè¿›ç¨‹çš„å¯åŠ¨æ–¹æ³•ã€‚å¦‚æœåœ¨ä½ çš„æ“ä½œç³»ç»Ÿä¸­å¤šè¿›ç¨‹è¿è¡Œä¸æ­£å¸¸ï¼Œå¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹ã€‚é»˜è®¤å€¼ä¸º <code>spawn</code>ï¼ˆè‡ªç‰ˆæœ¬ 2.1.6 èµ·ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-13">è¾“å…¥æ•°æ®é€‰é¡¹</h4>
<ul>
<li>
<p><code>**i FILE**</code>ï¼š<br/>
åŒ…å«æŸ¥è¯¢åºåˆ—çš„è¾“å…¥ FASTA æ–‡ä»¶ï¼ˆé»˜è®¤ä¸ºè›‹ç™½è´¨åºåˆ—ï¼›å‚è§ <code>-itype</code> å’Œ <code>-translate</code>ï¼‰ã€‚é™¤éä½¿ç”¨ <code>-no_search</code>ï¼Œå¦åˆ™æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚</p>
</li>
<li>
<p><code>**-itype INPUT_TYPE**</code>ï¼š<br/>
è¾“å…¥æ–‡ä»¶ä¸­çš„åºåˆ—ç±»å‹ã€‚é»˜è®¤å€¼ä¸º <code>proteins</code>ã€‚æ‰€æœ‰ <code>INPUT_TYPE</code> é€‰é¡¹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>

























<table><thead><tr><th>INPUT_TYPE</th><th>æè¿°</th></tr></thead><tbody><tr><td>proteins</td><td>è¾“å…¥åºåˆ—å°†ç›´æ¥ç”¨äºæœç´¢æ­¥éª¤ã€‚</td></tr><tr><td>CDS</td><td>è¾“å…¥åºåˆ—å°†ç›´æ¥ç”¨äº Diamond å’Œ MMseqs2ï¼Œå®ƒä»¬å°†ä»¥ "blastx" æ¨¡å¼è¿è¡Œå¹¶æŠ¥å‘Šæœ€ä½³åŒ¹é…ï¼Œé™¤éä½¿ç”¨äº† --translateï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥åºåˆ—å°†è¢«ç¿»è¯‘ä¸ºè›‹ç™½è´¨å¹¶ä»¥ "blastp" æ¨¡å¼è¿›è¡Œæœç´¢ã€‚å¯¹äº HMMERï¼Œè¾“å…¥çš„ CDS å§‹ç»ˆè¢«ç¿»è¯‘ä¸ºè›‹ç™½è´¨ï¼ˆ--translate è‡ªåŠ¨æ¿€æ´»ï¼‰ã€‚</td></tr><tr><td>genome</td><td>è¾“å…¥åºåˆ—è¢«è§†ä¸ºæŸ“è‰²ä½“/contigsï¼Œå°†è¿›è¡ŒåŸºå› é¢„æµ‹ï¼ˆå‚è§ --genepredï¼‰ã€‚</td></tr><tr><td>metagenome</td><td>ä¸ genome ç›¸åŒï¼Œä½† Prodigal å°†ä»¥ä¸åŒçš„æ¨¡å¼è¿è¡Œï¼ˆå‚è§ --genepred prodigalï¼‰ã€‚</td></tr></tbody></table>
</li>
<li>
<p><code>**--translate**</code>ï¼š<br/>
å½“ <code>--itype CDS</code> æ—¶ï¼Œè¾“å…¥åºåˆ—å°†åœ¨æœç´¢å‰è¢«ç¿»è¯‘ä¸ºè›‹ç™½è´¨ã€‚å¦‚æœ <code>--itype CDS</code> å’Œ <code>--translate</code> åŒæ—¶ä½¿ç”¨ï¼Œè¾“å…¥åºåˆ—å°†è¢«ç¿»è¯‘ä¸ºè›‹ç™½è´¨ï¼Œå°±åƒ <code>--translate</code> è‡ªåŠ¨æ¿€æ´»ä¸€æ ·ã€‚å¦‚æœ <code>--itype CDS</code> æˆ– <code>--itype genome</code> æˆ– <code>--itype metagenome</code> ä¸”æœªæŒ‡å®šå…¶ä»–é€‰é¡¹ï¼Œåˆ™æœç´¢å°†ä»¥ "blastx" æ¨¡å¼è¿›è¡Œï¼Œå¹¶æ³¨é‡Šæœ€ä½³åŒ¹é…ã€‚è¯·æ³¨æ„ï¼Œè¿™ä¸ä½¿ç”¨ <code>--translate</code> æˆ– <code>--genepred</code> ä¸åŒï¼Œåè€…å¯ä»¥æ³¨é‡Šæ¯ä¸ªæŸ¥è¯¢çš„å¤šä¸ªåŒ¹é…ã€‚</p>
</li>
<li>
<p><code>**--annotate_hits_table FILE**</code>ï¼š<br/>
æ³¨é‡Š TSV æ ¼å¼çš„è¡¨æ ¼ï¼Œè‡³å°‘åŒ…å« 4 ä¸ªå­—æ®µï¼šæŸ¥è¯¢ã€åŒ¹é…ã€E å€¼ã€åˆ†æ•°ã€‚é€šå¸¸ï¼Œ<code>FILE</code> æ˜¯ä¹‹å‰ <code>eggNOG-mapper</code> è¿è¡Œç”Ÿæˆçš„ <code>emapper.seed_orthologs</code> æ–‡ä»¶ã€‚å¦‚æœä½¿ç”¨ <code>--no_search</code>ï¼Œåˆ™æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚</p>
</li>
<li>
<p><strong>-</strong><code>**c FILE, --cache FILE**</code>ï¼š<br/>
åŒ…å«åºåˆ—çš„ MD5 æ ¡éªŒå’Œçš„æ³¨é‡Šæ–‡ä»¶ã€‚å¦‚æœä½¿ç”¨ <code>-m cache</code>ï¼Œåˆ™æ­¤é€‰é¡¹æ˜¯å¿…éœ€çš„ã€‚</p>
</li>
<li>
<p><code>**--data_dir DIR**</code>ï¼š<br/>
æŒ‡å®š <code>eggNOG-mapper</code> æ•°æ®åº“çš„è·¯å¾„ã€‚é»˜è®¤ä¸º <code>data/</code> æ–‡ä»¶å¤¹æˆ–ç”±ç¯å¢ƒå˜é‡ <code>EGGNOG_DATA_DIR</code> æŒ‡å®šçš„æ–‡ä»¶å¤¹ã€‚æ³¨é‡Šæ•°æ®åº“å¿…é¡»å§‹ç»ˆä½äºæ­¤ç›®å½•ä¸­ï¼Œè€Œ HMMERã€Diamond å’Œ MMseqs2 æ•°æ®åº“å¯ä»¥åœ¨ä½¿ç”¨ <code>--database</code>ã€<code>--dmnd_db</code> å’Œ <code>--mmseqs_db</code> æ—¶ä½äºä¸åŒçš„ç›®å½•ä¸­ã€‚</p>
</li>
</ul>
<h4 data-id="heading-14">åŸºå› é¢„æµ‹é€‰é¡¹</h4>
<ul>
<li><code>**--genepred search|prodigal**</code>ï¼š
<ul>
<li>å½“ä½¿ç”¨ <code>--itype genome</code> æˆ– <code>--itype metagenome</code> æ—¶ï¼Œå°†è¿›è¡ŒåŸºå› é¢„æµ‹ã€‚æœ‰ä¸¤ç§åŸºå› é¢„æµ‹æ¨¡å¼ï¼š
<ul>
<li>é»˜è®¤æ¨¡å¼æ˜¯ <code>search</code>ï¼Œè¿™æ„å‘³ç€å°†æ ¹æ®å‚æ•°è¿è¡Œ Diamond æˆ– MMseqs2ï¼ˆå–å†³äº <code>m</code> å‚æ•°ï¼‰çš„ <code>blastx</code> æ¨¡å¼ã€‚ç›®å‰ï¼Œæˆ‘ä»¬ä¸æ¨èåœ¨å®Œæ•´åŸºå› ç»„ä¸Šä½¿ç”¨ Diamondï¼Œé™¤éç»„è£…è¾ƒä¸ºç¢ç‰‡åŒ–å’Œ/æˆ– contigs ä¸æ˜¯éå¸¸å¤§ã€‚å¯¹äºç»„è£…çš„åŸºå› ç»„ï¼ŒMMseqs2 æ¯” Diamond æ›´å¿«ï¼Œå¯¹äºå¤§ contigsï¼ŒMMseqs2 æ˜¯æ¨èçš„é€‰æ‹©ã€‚</li>
<li>å¦‚æœæŒ‡å®š <code>prodigal</code>ï¼Œå°†ä½¿ç”¨ Prodigal è¿›è¡ŒåŸºå› é¢„æµ‹ï¼Œå¹¶å°† Prodigal é¢„æµ‹çš„è›‹ç™½ç”¨äºåç»­çš„æœç´¢å’Œæ³¨é‡Šæ­¥éª¤ã€‚æ ¹æ®ä½¿ç”¨ <code>--itype genome</code> æˆ– <code>--itype metagenome</code>ï¼ŒProdigal å°†ä»¥ä¸åŒçš„æ¨¡å¼è¿è¡Œã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**--trans_table TRANS_TABLE_CODE**</code>ï¼š
<ul>
<li>ç”¨äºæ”¹å˜ CDS ç¿»è¯‘å’ŒåŸºå› é¢„æµ‹æ‰€ä½¿ç”¨çš„ç¿»è¯‘è¡¨ã€‚è¿™å¯¹åº”äº Diamond çš„ <code>--query-gencode</code>ã€MMseqs2 çš„ <code>--translation-table-g</code> å’Œ Prodigal çš„ <code>--trans-table</code>ã€‚é€šå¸¸ï¼Œå€¼æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå¯¹åº”äºç‰¹å®šçš„ç¿»è¯‘è¡¨ï¼ˆä¾‹å¦‚ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ncbi.nlm.nih.gov%2FTaxonomy%2FUtils%2Fwprintgc.cgi" target="_blank" title="https://www.ncbi.nlm.nih.gov/Taxonomy/Utils/wprintgc.cgi" ref="nofollow noopener noreferrer">NCBI çš„ç¿»è¯‘è¡¨</a>ï¼‰ã€‚å½“ä½¿ç”¨ <code>--translate</code> æ—¶ï¼Œæ­¤é€‰é¡¹ä¹Ÿé€‚ç”¨äºè¾“å…¥å’Œè¾“å‡ºåºåˆ—ã€‚</li>
</ul>
</li>
<li><code>**--training_genome FASTA_FILE**</code>ï¼š
<ul>
<li>ç”¨äº Prodigal è®­ç»ƒæ¨¡å¼çš„åŸºå› ç»„çš„ FASTA æ–‡ä»¶ã€‚éœ€è¦ <code>--itype genome</code> å’Œ <code>--genepred prodigal</code>ã€‚æ³¨æ„ï¼Œåªæœ‰å½“è®­ç»ƒæ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œæ‰ä¼šè¿è¡Œè®­ç»ƒã€‚å¦‚æœè®­ç»ƒæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°†ç›´æ¥ä½¿ç”¨è¯¥æ–‡ä»¶è¿›è¡ŒåŸºå› é¢„æµ‹ï¼Œè·³è¿‡è®­ç»ƒã€‚</li>
</ul>
</li>
<li><code>**--training_file FILE**</code>ï¼š
<ul>
<li>Prodigal åˆ›å»ºå’Œ/æˆ–ä½¿ç”¨çš„è®­ç»ƒæ–‡ä»¶ã€‚å¦‚æœè®­ç»ƒæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°†ä½¿ç”¨è®­ç»ƒåŸºå› ç»„ï¼ˆ<code>--training_genome</code> é€‰é¡¹ï¼‰åˆ›å»ºè®­ç»ƒæ–‡ä»¶ï¼Œç„¶åç«‹å³ä½¿ç”¨è¯¥è®­ç»ƒæ–‡ä»¶è¿›è¡ŒåŸºå› é¢„æµ‹ã€‚å¦‚æœè®­ç»ƒæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œè®­ç»ƒå°†è¢«è·³è¿‡ï¼Œ<code>--training_genome</code> é€‰é¡¹å°†è¢«å¿½ç•¥ï¼Œå¹¶ä½¿ç”¨ç°æœ‰çš„è®­ç»ƒæ–‡ä»¶è¿›è¡ŒåŸºå› é¢„æµ‹ã€‚</li>
</ul>
</li>
<li><code>**--allow_overlaps none|strand|diff_frame|all**</code>ï¼š
<ul>
<li>å½“ä½¿ç”¨ <code>--genepred search</code> å’Œ <code>--itype genome/metagenome</code> æ—¶ï¼Œæ­¤é€‰é¡¹æ§åˆ¶æ˜¯å¦æ³¨é‡Šé‡å çš„ <code>blastx</code> å‘½ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†æ³¨é‡Šé‡å å‘½ä¸­ä¸­çš„æœ€ä½³å‘½ä¸­ã€‚å¦‚æœè®¾ç½®ä¸º <code>none</code>ï¼Œå°†æ³¨é‡Šæ¯ä¸ªé“¾ä¸Šçš„æœ€ä½³éé‡å å‘½ä¸­ã€‚å¦‚æœè®¾ç½®ä¸º <code>diff_frame</code>ï¼Œå°†æ³¨é‡Šæ¯ä¸ªé“¾ä¸Šæ¯ä¸ªæ¡†æ¶ä¸­çš„æœ€ä½³éé‡å å‘½ä¸­ã€‚å¦‚æœè®¾ç½®ä¸º <code>all</code>ï¼Œå°†æ³¨é‡Šæ‰€æœ‰å‘½ä¸­ã€‚</li>
</ul>
</li>
<li><code>**--overlap_tol FLOAT**</code>ï¼š
<ul>
<li>é‡å å®¹å¿åº¦ï¼ˆ0.0 - 1.0ï¼‰ã€‚å¦‚æœä¸¤ä¸ªå‘½ä¸­çš„é‡å å¤§å°ä¸å‘½ä¸­é•¿åº¦çš„æ¯”å€¼å¤§äº <code>overlap_tol</code>ï¼Œåˆ™è®¤ä¸ºè¿™ä¸¤ä¸ªå‘½ä¸­é‡å ã€‚é»˜è®¤å€¼ä¸º 0.0ï¼Œå³ä»»ä½•é‡å éƒ½è¢«è§†ä¸ºé‡å ã€‚ç›¸åï¼Œ<code>overlap_tol 1.0</code> è¡¨ç¤ºå…¶ä¸­ä¸€ä¸ªå‘½ä¸­å¿…é¡»å®Œå…¨é‡å ï¼Œæ‰èƒ½è®¤ä¸ºè¿™ä¸¤ä¸ªå‘½ä¸­ç›¸äº’é‡å ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-15">æœç´¢é€‰é¡¹</h4>
<ul>
<li>
<p><code>**m MODE**</code>ï¼š</p>
<ul>
<li>æŒ‡å®šè¾“å…¥æŸ¥è¯¢å°†å¦‚ä½•ä¸ eggNOG åºåˆ—è¿›è¡Œæœç´¢ã€‚é»˜è®¤å€¼ä¸º <code>diamond</code>ã€‚æ‰€æœ‰ <code>MODE</code> é€‰é¡¹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</li>
</ul>



































<table><thead><tr><th>MODE</th><th>æè¿°</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>diamond</td><td>ä½¿ç”¨ Diamond æœç´¢ eggNOG åºåˆ—</td><td>éœ€è¦ -i FILE</td></tr><tr><td>hmmer</td><td>ä½¿ç”¨ HMMER æœç´¢åºåˆ—/HMM</td><td>éœ€è¦ -i FILE å’Œ -d DB_NAME</td></tr><tr><td>mmseqs</td><td>ä½¿ç”¨ MMseqs2 æœç´¢ eggNOG åºåˆ—</td><td>éœ€è¦ -i FILE</td></tr><tr><td>cache</td><td>ä½¿ç”¨ä¹‹å‰æ³¨é‡Šçš„æ–‡ä»¶ï¼ˆåŒ…å«æ³¨é‡Šåºåˆ—çš„ MD5 å“ˆå¸Œï¼‰æ³¨é‡ŠæŸ¥è¯¢</td><td>éœ€è¦ -i FILE å’Œ -c FILE</td></tr><tr><td>no_search</td><td>è·³è¿‡æœç´¢é˜¶æ®µã€‚æ³¨é‡Šç°æœ‰çš„ emapper.seed_orthologs æ–‡ä»¶</td><td>éœ€è¦ --annotate_hits_table FILEï¼Œé™¤éä½¿ç”¨ --no_annot</td></tr></tbody></table>
</li>
</ul>
<h4 data-id="heading-16">æœç´¢è¿‡æ»¤é€šç”¨é€‰é¡¹</h4>
<ul>
<li><code>**--pident FLOAT**</code>ï¼š
<ul>
<li>åªæŠ¥å‘Šè¾¾åˆ°æˆ–è¶…è¿‡æ­¤ç™¾åˆ†æ¯”èº«ä»½é˜ˆå€¼ï¼ˆ0.0 - 100.0ï¼‰çš„æ¯”å¯¹ã€‚é»˜è®¤å€¼ä¸º <code>None</code>ã€‚å¦‚æœ <code>m hmmer</code>ï¼Œåˆ™æ— æ•ˆã€‚</li>
</ul>
</li>
<li><code>**--evalue FLOAT**</code>ï¼š
<ul>
<li>åªæŠ¥å‘Šè¾¾åˆ°æˆ–è¶…è¿‡æ­¤ E å€¼é˜ˆå€¼çš„æ¯”å¯¹ã€‚é»˜è®¤å€¼ä¸º 0.001ã€‚</li>
</ul>
</li>
<li><code>**--score FLOAT**</code>ï¼š
<ul>
<li>åªæŠ¥å‘Šè¾¾åˆ°æˆ–è¶…è¿‡æ­¤ä½åˆ†é˜ˆå€¼çš„æ¯”å¯¹ã€‚é»˜è®¤å€¼ä¸º <code>None</code>ã€‚</li>
</ul>
</li>
<li><code>**--query_cover FLOAT**</code>ï¼š
<ul>
<li>åªæŠ¥å‘Šè¾¾åˆ°æˆ–è¶…è¿‡æ­¤æŸ¥è¯¢è¦†ç›–åˆ†æ•°é˜ˆå€¼ï¼ˆ0.0 - 100.0ï¼‰çš„æ¯”å¯¹ã€‚é»˜è®¤å€¼ä¸º <code>None</code>ã€‚å¦‚æœ <code>m hmmer</code>ï¼Œåˆ™æ— æ•ˆã€‚</li>
</ul>
</li>
<li><code>**--subject_cover FLOAT**</code>ï¼š
<ul>
<li>åªæŠ¥å‘Šè¾¾åˆ°æˆ–è¶…è¿‡æ­¤ç›®æ ‡ï¼ˆeggNOG åºåˆ—ï¼‰è¦†ç›–åˆ†æ•°é˜ˆå€¼ï¼ˆ0.0 - 100.0ï¼‰çš„æ¯”å¯¹ã€‚é»˜è®¤å€¼ä¸º <code>None</code>ã€‚å¦‚æœ <code>m hmmer</code>ï¼Œåˆ™æ— æ•ˆã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-17">Diamond æœç´¢é€‰é¡¹</h4>
<ul>
<li><code>**--dmnd_algo [auto, 0, 1, ctg]**</code>ï¼š
<ul>
<li>Diamond çš„ <code>-algo</code> é€‰é¡¹ã€‚å½“è¾“å…¥åºåˆ—é›†è¾ƒå°æ—¶ï¼Œä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥è¿›è¡Œæ›´å¿«çš„æœç´¢ã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ï¼ˆè‡ªç‰ˆæœ¬ 2.1.6 èµ·ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--dmnd_db FILE**</code>ï¼š
<ul>
<li>æŒ‡å®šä¸ Diamond å…¼å®¹çš„æ•°æ®åº“è·¯å¾„ã€‚ç”¨äºæŒ‡å®šä¸ <code>data/</code>ã€<code>EGGNOG_DATA_DIR</code> æˆ– <code>-data_dir</code> ä¸åŒçš„ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**--sensmode DIAMOND_SENS_MODE**</code>ï¼š
<ul>
<li>å¯ä»¥æ˜¯ <code>default</code>ã€<code>fast</code>ã€<code>mid-sensitive</code>ã€<code>sensitive</code>ã€<code>more-sensitive</code>ã€<code>very-sensitive</code> æˆ– <code>ultra-sensitive</code>ã€‚é»˜è®¤å€¼ä¸º <code>sensitive</code>ï¼ˆè¯·ç¡®ä¿æ£€æŸ¥æ‚¨ç‰ˆæœ¬çš„é»˜è®¤å€¼ï¼Œè¿è¡Œ <code>emapper.py --help</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--dmnd_iterate [yes, no]**</code>ï¼š
<ul>
<li>æ¿€æ´»/ç¦ç”¨ Diamond çš„è¿­ä»£æœç´¢é€‰é¡¹ï¼Œä»æ›´å¿«ã€æ›´ä¸æ•æ„Ÿçš„æ¨¡å¼ï¼Œåˆ° <code>sensmode</code> æŒ‡å®šçš„çµæ•åº¦ã€‚éœ€è¦ä½¿ç”¨ Diamond ç‰ˆæœ¬ &gt;= 2.0.11ã€‚åœ¨ç‰ˆæœ¬ 2.1.5 ä¸­ä½¿ç”¨ <code>-iterate</code> æ¿€æ´»ã€‚åœ¨ç‰ˆæœ¬ 2.1.6 ä¸­é»˜è®¤æ¿€æ´»ï¼›ä½¿ç”¨ <code>-dmnd_iterate no</code> ç¦ç”¨ã€‚</li>
</ul>
</li>
<li><code>**--matrix MATRIX_NAME**</code>ï¼š
<ul>
<li>æŒ‡å®š Diamond ä½¿ç”¨çš„æ›¿æ¢çŸ©é˜µï¼Œå¯é€‰å€¼ä¸º <code>BLOSUM62</code>ã€<code>BLOSUM90</code>ã€<code>BLOSUM80</code>ã€<code>BLOSUM50</code>ã€<code>BLOSUM45</code>ã€<code>PAM250</code>ã€<code>PAM70</code>ã€<code>PAM30</code>ã€‚</li>
</ul>
</li>
<li><code>**--dmnd_frameshift INT**</code>ï¼š
<ul>
<li>æ§åˆ¶ Diamond çš„ <code>-frameshift</code> é€‰é¡¹ã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ï¼ˆç¦ç”¨ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--gapopen INT**</code>ï¼š
<ul>
<li>Diamond ä½¿ç”¨çš„ç¼ºå£å¼€å¯æƒ©ç½šã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ã€‚</li>
</ul>
</li>
<li><code>**--gapextend INT**</code>ï¼š
<ul>
<li>Diamond ä½¿ç”¨çš„ç¼ºå£å»¶ä¼¸æƒ©ç½šã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ã€‚</li>
</ul>
</li>
<li><code>**--block_size FLOAT**</code>ï¼š
<ul>
<li>Diamond çš„ <code>b/--block-size</code> é€‰é¡¹ã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ã€‚</li>
</ul>
</li>
<li><code>**--index_chunks INT**</code>ï¼š
<ul>
<li>Diamond çš„ <code>c/--index-chunks</code> é€‰é¡¹ã€‚é»˜è®¤å€¼ä¸º Diamond çš„é»˜è®¤å€¼ã€‚</li>
</ul>
</li>
<li><code>**--outfmt_short**</code>ï¼š
<ul>
<li>Diamond å°†ä»…åœ¨å…¶è¾“å‡ºä¸­äº§ç”ŸæŸ¥è¯¢ã€ä¸»é¢˜ã€E å€¼å’Œåˆ†æ•°å­—æ®µï¼Œ<code>seed_orthologs</code> æ–‡ä»¶ä¹Ÿå°†ä»…åŒ…å«è¿™äº›å­—æ®µã€‚å½“ä¸ä½¿ç”¨èº«ä»½ç™¾åˆ†æ¯”ã€æŸ¥è¯¢å’Œç›®æ ‡è¦†ç›–é˜ˆå€¼æ—¶ï¼Œæ­¤é€‰é¡¹å¯ç”¨äºæé«˜æ€§èƒ½ï¼ˆæ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Diamond æ–‡æ¡£å…³äºå›æº¯çš„éƒ¨åˆ†ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--dmnd_ignore_warnings**</code>ï¼š
<ul>
<li>Diamond çš„ <code>-ignore-warnings</code> é€‰é¡¹ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥é¿å… Diamond å› è­¦å‘Šè€Œåœæ­¢æ‰§è¡Œï¼ˆä¾‹å¦‚ï¼Œå½“æŸ¥è¯¢åŒ…å«ä»…åŒ…å« ATGC æ°¨åŸºé…¸çš„è›‹ç™½è´¨æ—¶ï¼‰ã€‚è‡ªç‰ˆæœ¬ 2.1.6 èµ·å¯ç”¨ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-18">MMseqs2 æœç´¢é€‰é¡¹</h4>
<ul>
<li><code>**--mmseqs_db FILE**</code>ï¼š
<ul>
<li>æŒ‡å®šä¸ MMseqs2 å…¼å®¹çš„æ•°æ®åº“è·¯å¾„ã€‚å¦‚æœéœ€è¦æŒ‡å®šä¸åŒäº <code>data/</code>ã€<code>EGGNOG_DATA_DIR</code> æˆ– <code>-data_dir</code> çš„ä½ç½®ï¼Œæ­¤é€‰é¡¹éå¸¸æœ‰ç”¨ã€‚</li>
</ul>
</li>
<li><code>**--start_sens FLOAT**</code>ï¼š
<ul>
<li>MMseqs2 è¿­ä»£æœç´¢çš„èµ·å§‹çµæ•åº¦ã€‚é»˜è®¤å€¼ä¸º 3ã€‚</li>
</ul>
</li>
<li><code>**--sens_steps INT**</code>ï¼š
<ul>
<li>MMseqs2 è¿›è¡Œä¸åŒçµæ•åº¦çš„è¿­ä»£æœç´¢æ¬¡æ•°ã€‚é»˜è®¤å€¼ä¸º 3ã€‚</li>
</ul>
</li>
<li><code>**--final_sens FLOAT**</code>ï¼š
<ul>
<li>MMseqs2 è¿­ä»£æœç´¢çš„æœ€ç»ˆçµæ•åº¦ã€‚é»˜è®¤å€¼ä¸º 7ã€‚</li>
</ul>
</li>
<li><code>**--mmseqs_sub_mat MMSEQS_SUB_MAT**</code>ï¼š
<ul>
<li>ç”¨äº MMseqs2 çš„ <code>--sub-mat</code> é€‰é¡¹çš„æ›¿æ¢çŸ©é˜µã€‚é»˜è®¤å€¼ä¸º MMseqs2 ä½¿ç”¨çš„é»˜è®¤çŸ©é˜µã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-19">HMMER æœç´¢é€‰é¡¹</h4>
<ul>
<li><code>**-d DB_NAME, --database DB_NAME**</code>ï¼š
<ul>
<li>æŒ‡å®šåºåˆ—æœç´¢çš„ç›®æ ‡æ•°æ®åº“ã€‚<code>DB_NAME</code> åº”è¯¥æ˜¯ä½¿ç”¨ <code>download_eggnog_data.py -H -d taxID</code> ä¸‹è½½çš„æ•°æ®åº“åç§°ï¼Œæˆ–è€…æ˜¯åŠ è½½åœ¨æœåŠ¡å™¨ä¸Šçš„æ­¤ç±»æ•°æ®åº“ï¼ˆä¾‹å¦‚ï¼Œ<code>db.hmm:host:port</code>ï¼›å‚è§ <code>hmm_server.py --help</code>ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--servers_list FILE**</code>ï¼š
<ul>
<li>åŒ…å«è¿œç¨‹ <code>hmmpgmd</code> æœåŠ¡å™¨åˆ—è¡¨çš„æ–‡ä»¶ã€‚æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ ¼å¼ä¸º <code>host:port</code>ã€‚å¦‚æœæŒ‡å®šäº† <code>-servers_list</code>ï¼Œåˆ™ä¼šå¿½ç•¥ <code>-database</code> é€‰é¡¹ä¸­çš„ <code>host</code> å’Œ <code>port</code>ã€‚</li>
</ul>
</li>
<li><code>**--qtype QUERY_TYPE**</code>ï¼š
<ul>
<li>è¾“å…¥æ•°æ®çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ <code>hmm</code> æˆ– <code>seq</code>ï¼ˆåºåˆ—ï¼‰ã€‚</li>
</ul>
</li>
<li><code>**--dbtype DB_TYPE**</code>ï¼š
<ul>
<li>æ•°æ®åº“ä¸­çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ <code>hmmdb</code> æˆ– <code>seqdb</code>ã€‚</li>
</ul>
</li>
<li><code>**--usemem**</code>ï¼š
<ul>
<li>ä½¿ç”¨æ­¤é€‰é¡¹å°†æ•´ä¸ª HMMER æ•°æ®åº“åŠ è½½åˆ°å†…å­˜ä¸­ã€‚å¦‚æœä½¿ç”¨ <code>-dbtype hmmdb</code>ï¼Œæ•°æ®åº“å¿…é¡»æ˜¯ç»è¿‡ <code>hmmpress</code> å¤„ç†çš„æ•°æ®åº“ã€‚å¦‚æœä½¿ç”¨ <code>-dbtype seqdb</code>ï¼Œæ•°æ®åº“å¿…é¡»æ˜¯ä½¿ç”¨ <code>esl-reformat</code> åˆ›å»ºçš„ HMMER æ ¼å¼æ•°æ®åº“ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæ•°æ®åº“å°†ä»å†…å­˜ä¸­å¸è½½ã€‚æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸ <code>-dbmem</code> ä¸åŒï¼Œåè€…ç”¨äºå°†æ³¨é‡Šæ•°æ®åº“åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</li>
</ul>
</li>
<li><code>**-p INT, --port INT**</code>ï¼š
<ul>
<li>è®¾ç½® HMM æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„ç«¯å£å·ã€‚ä¹Ÿç”¨äº <code>-pfam_realign</code> æ¨¡å¼ã€‚</li>
</ul>
</li>
<li><code>**--end_port PORT**</code>ï¼š
<ul>
<li>è®¾ç½® HMM æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„æœ€åä¸€ä¸ªç«¯å£å·ã€‚ä¹Ÿç”¨äº <code>-pfam_realign</code> æ¨¡å¼ã€‚</li>
</ul>
</li>
<li><code>**--num_servers INT**</code>ï¼š
<ul>
<li>ä½¿ç”¨ <code>-usemem</code> æ—¶ï¼ŒæŒ‡å®šè¦å¯åŠ¨çš„æœåŠ¡å™¨æ•°é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»…ä½¿ç”¨ 1 ä¸ªæœåŠ¡å™¨ã€‚æ³¨æ„ï¼Œä½¿ç”¨ <code>-cpu</code> æŒ‡å®šçš„ CPU å°†åœ¨æœåŠ¡å™¨å’Œå·¥ä½œçº¿ç¨‹ä¹‹é—´åˆ†é…ã€‚ä¹Ÿç”¨äº <code>-pfam_realign</code> æ¨¡å¼ã€‚é‡è¦çš„æ˜¯è¦è€ƒè™‘ï¼Œå¯¹äºæ¯ä¸ªæœåŠ¡å™¨å®ä¾‹ï¼ŒHMM æ•°æ®åº“å°†è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå› æ­¤éšç€æœåŠ¡å™¨æ•°é‡çš„å¢åŠ ï¼Œå†…å­˜æ¶ˆè€—ä¹Ÿä¼šå¢åŠ ã€‚</li>
</ul>
</li>
<li><code>**--num_workers INT**</code>ï¼š
<ul>
<li>ä½¿ç”¨ <code>-usemem</code> æ—¶ï¼ŒæŒ‡å®šæ¯ä¸ªæœåŠ¡å™¨è¦å¯åŠ¨çš„å·¥ä½œçº¿ç¨‹æ•°é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>-cpu</code> æŒ‡å®šçš„ CPU å°†åœ¨æœåŠ¡å™¨å’Œå·¥ä½œçº¿ç¨‹ä¹‹é—´åˆ†é…ã€‚ä¹Ÿç”¨äº <code>-pfam_realign</code> æ¨¡å¼ã€‚åœ¨æˆ‘ä»¬çš„æµ‹è¯•ä¸­ï¼Œå¢åŠ  <code>-num_workers</code> å¹¶æœªè¾¾åˆ°é¢„æœŸçš„æ€§èƒ½æå‡æ•ˆæœï¼Œéœ€è¦å¢åŠ  <code>-num_servers</code> æ‰èƒ½çœŸæ­£æé«˜é€Ÿåº¦ï¼Œå°½ç®¡å¿…é¡»æ»¡è¶³å†…å­˜éœ€æ±‚ã€‚ç„¶è€Œï¼Œåœ¨å…¶ä»–ç³»ç»Ÿã€ç¼–è¯‘ç‰ˆæœ¬æˆ– <code>hmmpgmd</code> çš„ç‰ˆæœ¬ä¸­ï¼Œæƒ…å†µå¯èƒ½æœ‰æ‰€ä¸åŒã€‚</li>
</ul>
</li>
<li><code>**--hmm_maxhits INT**</code>ï¼š
<ul>
<li>è¦æŠ¥å‘Šçš„æœ€å¤§å‘½ä¸­æ¬¡æ•°ï¼ˆè®¾ç½®ä¸º 0 ä»¥æŠ¥å‘Šæ‰€æœ‰å‘½ä¸­ï¼‰ã€‚é»˜è®¤å€¼ä¸º 1ã€‚</li>
</ul>
</li>
<li><code>**--report_no_hits**</code>ï¼š
<ul>
<li>æ˜¯å¦å°†æ²¡æœ‰å‘½ä¸­çš„æŸ¥è¯¢åŒ…å«åœ¨è¾“å‡ºè¡¨ä¸­ã€‚</li>
</ul>
</li>
<li><code>**--hmm_maxseqlen INT**</code>ï¼š
<ul>
<li>å¿½ç•¥å¤§äºæ­¤é•¿åº¦çš„æŸ¥è¯¢åºåˆ—ã€‚é»˜è®¤å€¼ä¸º 5000ã€‚</li>
</ul>
</li>
<li><code>**-Z FLOAT**</code>ï¼š
<ul>
<li>åœ¨ <code>phmmer</code>/<code>hmmscan</code> ä¸­ä½¿ç”¨çš„å›ºå®šæ•°æ®åº“å¤§å°ï¼Œå…è®¸åœ¨ä¸åŒæ•°æ®åº“ä¹‹é—´æ¯”è¾ƒ E å€¼ã€‚é»˜è®¤å€¼ä¸º 40,000,000ã€‚</li>
</ul>
</li>
<li><code>**--cut_ga**</code>ï¼š
<ul>
<li>åœ¨ HMMER å‘½ä»¤ä¸­æ·»åŠ  <code>-cut_ga</code>ï¼ˆä¾‹å¦‚ï¼Œå¯¹äº Pfam æ˜ å°„å¾ˆæœ‰ç”¨ï¼‰ã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜… HMMER æ–‡æ¡£ã€‚</li>
</ul>
</li>
<li><code>**--clean_overlaps CLEAN_OVERLAPS_MODE**</code>ï¼š
<ul>
<li>ç§»é™¤é‡å çš„å‘½ä¸­ï¼Œä»…ä¿ç•™ E å€¼æœ€ä½³çš„å‘½ä¸­ã€‚é»˜è®¤å€¼ä¸º <code>none</code>ã€‚åœ¨æ‰§è¡Œ <code>hmmscan</code> ç±»å‹æœç´¢æ—¶ï¼ˆå³æ•°æ®åº“ä¸­åŒ…å«åŸŸï¼‰ï¼Œä½¿ç”¨ <code>all</code> å’Œ <code>clans</code> é€‰é¡¹ã€‚åœ¨æ‰§è¡Œ <code>hmmsearch</code> ç±»å‹æœç´¢æ—¶ï¼ˆå³åŸŸæ˜¯æŸ¥è¯¢ï¼‰ï¼Œä½¿ç”¨ <code>hmmsearch_all</code> å’Œ <code>hmmsearch_clans</code> é€‰é¡¹ã€‚<code>clans</code> å’Œ <code>hmmsearch_clans</code> é€‰é¡¹ä»…å¯¹ Pfam çš„å‘½ä¸­/æŸ¥è¯¢æœ‰æ•ˆã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-20">æ³¨é‡Šé€‰é¡¹</h4>
<ul>
<li>
<p><code>**--no_annot**</code>ï¼š</p>
<ul>
<li>ä»…æ‰§è¡Œæœç´¢é˜¶æ®µï¼Œè·³è¿‡åŠŸèƒ½æ³¨é‡Šï¼Œä»…æŠ¥å‘Šç§å­åŒæºç‰©ï¼ˆç”Ÿæˆ <code>emapper.seed_orthologs</code> æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><code>**--dbmem**</code>ï¼š</p>
<ul>
<li>åœ¨æ£€ç´¢æ³¨é‡Šä¹‹å‰ï¼Œå°†æ•´ä¸ª eggNOG SQLite æ•°æ®åº“åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è¿™éœ€è¦çº¦ 44 GB çš„å¯ç”¨ RAMï¼Œä½†å¯ä»¥æ˜¾è‘—æé«˜æ³¨é‡Šé€Ÿåº¦ã€‚æ‰§è¡Œåï¼Œæ•°æ®åº“å°†ä»å†…å­˜ä¸­å¸è½½ã€‚</li>
</ul>
</li>
<li>
<p><code>**--seed_ortholog_evalue FLOAT**</code>ï¼š</p>
<ul>
<li>æœç´¢ç§å­ eggNOG åŒæºç‰©æ—¶çš„æœ€å° E å€¼é˜ˆå€¼ã€‚æ²¡æœ‰æ˜¾è‘—ç§å­åŒæºç‰©çš„æŸ¥è¯¢å°†ä¸ä¼šè¢«æ³¨é‡Šã€‚é»˜è®¤å€¼ä¸º 0.001ã€‚</li>
</ul>
</li>
<li>
<p><code>**--seed_ortholog_score FLOAT**</code>ï¼š</p>
<ul>
<li>æœç´¢ç§å­ eggNOG åŒæºç‰©æ—¶çš„æœ€å°ä½åˆ†æ•°é˜ˆå€¼ã€‚æ²¡æœ‰æ˜¾è‘—ç§å­åŒæºç‰©çš„æŸ¥è¯¢å°†ä¸ä¼šè¢«æ³¨é‡Šã€‚é»˜è®¤å€¼ä¸º 60ã€‚</li>
</ul>
</li>
<li>
<p><code>**--tax_scope FILE|PREDEFINED_FILENAME|LIST_OF_TAXA|none**</code>ï¼š</p>
<ul>
<li>å›ºå®šç”¨äºæ³¨é‡Šçš„åˆ†ç±»èŒƒå›´ï¼Œå› æ­¤ä»…ä½¿ç”¨ç‰¹å®šè°±ç³»çš„ç‰©ç§äº‹ä»¶è¿›è¡ŒåŠŸèƒ½è½¬ç§»ã€‚æ›´å…·ä½“åœ°è¯´ï¼Œè¯¥åˆ—è¡¨ä¸ç§å­åŒæºç‰©çš„è°±ç³»ï¼ˆå³ç§å­åŒæºç‰©çš„ OGs ä¸­çš„åˆ†ç±»ç¾¤ï¼‰è¿›è¡Œäº¤é›†ï¼Œç»“æœè°±ç³»ç”¨äºåŸºäºæ³¨é‡Šã€‚è¯·æ³¨æ„ï¼Œæ²¡æœ‰ä¸ <code>-tax_scope</code> äº¤é›†çš„ç§å­åŒæºç‰©å°†è¢«è¿‡æ»¤æ‰ï¼Œä¸”ä¸ä¼šè¢«æ³¨é‡Šã€‚å¯èƒ½çš„å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚é»˜è®¤å€¼ä¸º <code>auto</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„æ–‡ä»¶åã€‚</li>
</ul>

























<table><thead><tr><th>tax_scope</th><th>æè¿°</th></tr></thead><tbody><tr><td>FILE</td><td>åŒ…å«åˆ†ç±» ID å’Œ/æˆ–åˆ†ç±»åç§°åˆ—è¡¨çš„æ–‡ä»¶è·¯å¾„ã€‚</td></tr><tr><td>PREDEFINED_FILENAME</td><td>å­˜å‚¨åœ¨ eggnogmapper/annotation/tax_scopes/ ä¸­çš„æ–‡ä»¶åï¼ŒåŒ…å«åˆ†ç±» ID å’Œ/æˆ–åˆ†ç±»åç§°çš„åˆ—è¡¨ã€‚å¯ç”¨çš„é€‰é¡¹æœ‰ï¼šautoï¼ˆåŒä¹‰è¯ allï¼‰ã€auto_broadï¼ˆåŒä¹‰è¯ all_broadï¼‰ã€all_narrowã€archaeaã€bacteriaã€bacteria_broadã€eukaryotaã€eukaryota_broad å’Œ prokaryota_broadã€‚</td></tr><tr><td>LIST_OF_TAXA</td><td>ä»¥é€—å·åˆ†éš”çš„åˆ†ç±» ID å’Œ/æˆ–åˆ†ç±»åç§°åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œé’ˆå¯¹çœŸæ ¸ç”Ÿç‰©ã€å¤èŒã€ç»†èŒå’Œæ ¹éƒ¨ï¼š--tax_scope 2759,2157,2,1ã€‚</td></tr><tr><td>none</td><td>ä¸æ ¹æ®åˆ†ç±»èŒƒå›´è¿‡æ»¤æ³¨é‡Šã€‚</td></tr></tbody></table>
</li>
<li>
<p><code>**--tax_scope_mode broadest|inner_broadest|inner_narrowest|narrowest|FILE|PREDEFINED_FILENAME|LIST_OF_TAXA**</code>ï¼š</p>
<ul>
<li>æ§åˆ¶ä»ä¸­æ£€ç´¢æ³¨é‡Šçš„åˆ†ç±»èŒƒå›´çš„ç¬¬äºŒå±‚ã€‚å¦‚æœ <code>-tax_scope</code> ä½œä¸ºè¿‡æ»¤å™¨ï¼Œç¡®å®šä½¿ç”¨ç§å­åŒæºç‰©çš„å“ªä¸ªåˆ†ç±»çº§åˆ«ï¼ˆå³å“ªä¸ªåŒæºç¾¤ç»„ï¼‰æ¥æ£€ç´¢æ³¨é‡Šã€‚é»˜è®¤å€¼ä¸º <code>inner_narrowest</code>ã€‚å¯èƒ½çš„å‚æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</li>
</ul>





























<table><thead><tr><th>tax_scope_mode</th><th>æè¿°</th></tr></thead><tbody><tr><td>broadest</td><td>ä½¿ç”¨å…·æœ‰æœ€å¹¿è°±ç³»çš„ OGã€‚</td></tr><tr><td>inner_broadest</td><td>ä»ä¸ --tax_scope äº¤é›†çš„ OG ä¸­ï¼Œä½¿ç”¨å…·æœ‰æœ€å¹¿è°±ç³»çš„ OGã€‚</td></tr><tr><td>inner_narrowest</td><td>ä»ä¸ --tax_scope äº¤é›†çš„ OG ä¸­ï¼Œä½¿ç”¨å…·æœ‰æœ€çª„è°±ç³»çš„ OGã€‚</td></tr><tr><td>narrowest</td><td>ä½¿ç”¨å…·æœ‰æœ€çª„è°±ç³»çš„ OGã€‚</td></tr><tr><td>FILEã€PREDEFINED_FILENAMEã€LIST_OF_TAXA</td><td>ä¸ --tax_scope æ¥å—çš„ç›¸åŒå€¼ï¼Œé™¤äº† noneã€‚å¦‚æœä½¿ç”¨æ­¤é€‰é¡¹ï¼ŒOG çš„åˆ†ç±»ç¾¤å°†é¦–å…ˆä¸ --tax_scope è¿›è¡Œäº¤é›†ï¼Œä»¥è¿‡æ»¤æ‰è¶…å‡ºåˆ†ç±»èŒƒå›´çš„ç§å­åŒæºç‰©ã€‚å…¶æ¬¡ï¼ŒOG çš„åˆ†ç±»ç¾¤å°†ä¸ --tax_scope è¿›è¡Œäº¤é›†ã€‚ä»å‰©ä½™çš„ OG ä¸­ï¼Œä½¿ç”¨å…·æœ‰æœ€çª„è°±ç³»çš„ OGï¼ˆå¦‚ inner_narrowestï¼‰ã€‚å½“æˆ‘ä»¬å¸Œæœ›è¿‡æ»¤æ‰ä½¿ç”¨ä¸æ³¨é‡Šä¸åŒçš„åˆ†ç±»èŒƒå›´çš„æŸ¥è¯¢æ—¶ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›ä»…æ³¨é‡Šåœ¨ Gammaproteobacteria èŒƒå›´å†…çš„æŸ¥è¯¢ï¼Œä½†ä½¿ç”¨ç»†èŒçº§åˆ«çš„ OG è¿›è¡Œè¿™äº›æŸ¥è¯¢çš„æ³¨é‡Šï¼š--tax_scope Gammaproteobacteria --tax_scope_mode Bacteriaã€‚</td></tr></tbody></table>
</li>
<li>
<p><code>**--target_orthologs one2one|many2one|one2many|many2many|all**</code>ï¼š</p>
<ul>
<li>å®šä¹‰åº”ä½¿ç”¨å“ªç§ç±»å‹çš„åŒæºç‰©ï¼ˆç›¸å¯¹äºç§å­åŒæºç‰©ï¼‰è¿›è¡ŒåŠŸèƒ½è½¬ç§»ã€‚é»˜è®¤å€¼ä¸º <code>all</code>ã€‚</li>
</ul>
</li>
<li>
<p><code>**--target_taxa all|LIST_OF_TAX_IDS**</code>ï¼š</p>
<ul>
<li>ç”¨äºæ³¨é‡Šçš„åˆ†ç±»ç¾¤çš„ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚è¯·æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸ç”±äº <code>-tax_scope</code>/<code>-tax_scope_mode</code> é€‰é¡¹é€‰æ‹©çš„åŒæºç¾¤ç»„ç›¸äº’ä½œç”¨ã€‚é¦–å…ˆï¼ŒåŸºäº <code>-tax_scope</code>/<code>-tax_scope_mode</code> ç¡®å®š OG ä¸­çš„ç‰©ç§äº‹ä»¶ã€‚ç„¶åï¼Œå°†ä»è¿™äº›ç‰©ç§äº‹ä»¶ä¸­æ‰¾åˆ°çš„åŒæºç‰©è½¬ç§»æ³¨é‡Šï¼šå¦‚æœ <code>-target_taxa all</code>ï¼ˆé»˜è®¤ï¼‰ï¼Œåˆ™ä»æ‰€æœ‰åŒæºç‰©ä¸­è½¬ç§»ï¼›å¦‚æœæŒ‡å®šäº† <code>-target_taxa LIST_OF_TAX_IDS</code>ï¼Œåˆ™ä»…ä»è¯¥åˆ—è¡¨ä¸­çš„åˆ†ç±»ç¾¤è½¬ç§»æ³¨é‡Šã€‚</li>
</ul>
</li>
<li>
<p><code>**--excluded_taxa none|LIST_OF_TAX_IDS**</code>ï¼š</p>
<ul>
<li>ä¸ <code>-target_taxa</code> ç›¸åçš„è¡Œä¸ºã€‚é»˜è®¤å€¼ä¸º <code>none</code>ï¼ˆä¸æ’é™¤ä»»ä½•ç‰©ç§è¿›è¡Œæ³¨é‡Šï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><code>**--report_orthologs**</code>ï¼š</p>
<ul>
<li>ä½œä¸ºåŠŸèƒ½æ³¨é‡Šçš„ç¬¬ä¸€æ­¥ï¼ŒeggNOG-mapper ç¡®å®šæ¯ä¸ªæŸ¥è¯¢çš„åŒæºç‰©ï¼Œä½¿ç”¨æœç´¢é˜¶æ®µçš„ç§å­åŒæºç‰©ä½œä¸ºé”šç‚¹æˆ–èµ·å§‹ç‚¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ä¼šæŠ¥å‘Šè¿™äº›åŒæºç‰©çš„åˆ—è¡¨ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥è·å–æ¯ä¸ªæŸ¥è¯¢æ‰¾åˆ°çš„åŒæºç‰©åˆ—è¡¨ï¼ˆç”Ÿæˆ <code>emapper.orthologs</code> æ–‡ä»¶ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><code>**--go_evidence experimental|non-electronic|all**</code>ï¼š</p>
<ul>
<li>å®šä¹‰åº”ä½¿ç”¨å“ªç§ç±»å‹çš„ GO æœ¯è¯­è¿›è¡Œæ³¨é‡Šã€‚<code>experimental</code> = ä»…ä½¿ç”¨ä»å®éªŒè¯æ®æ¨æ–­çš„æœ¯è¯­ï¼›<code>non-electronic</code>ï¼ˆé»˜è®¤ï¼‰= ä»…ä½¿ç”¨éç”µå­ç­–åˆ’çš„æœ¯è¯­ï¼›<code>all</code> = å°†æ£€ç´¢æ‰€æœ‰ GO æœ¯è¯­ã€‚</li>
</ul>
</li>
<li>
<p><code>**--pfam_realign none|realign|denovo**</code>ï¼š</p>
<ul>
<li>å®šä¹‰ PFAM æ³¨é‡Šå°†å¦‚ä½•æ‰§è¡Œã€‚</li>
<li><code>none</code>ï¼šå°†ç›´æ¥ä»åŒæºç‰©è½¬ç§»çš„ PFAM åˆ—è¡¨æŠ¥å‘Šã€‚</li>
<li><code>realign</code>ï¼šå°†åŒæºç‰©çš„ PFAM é‡æ–°æ¯”å¯¹åˆ°æŸ¥è¯¢ï¼Œå¹¶æŠ¥å‘Š PFAM åŠå…¶åœ¨æŸ¥è¯¢ä¸­çš„ä½ç½®ã€‚</li>
<li><code>denovo</code>ï¼šæ¯ä¸ªæŸ¥è¯¢å°†é‡æ–°æ¯”å¯¹åˆ°æ•´ä¸ª PFAM æ•°æ®åº“ï¼Œå¹¶æŠ¥å‘Š PFAM åŠå…¶åœ¨æŸ¥è¯¢ä¸­çš„ä½ç½®ã€‚</li>
</ul>
</li>
<li>
<p><code>**--md5**</code>ï¼š</p>
<ul>
<li>åœ¨æ³¨é‡Šè¾“å‡ºæ–‡ä»¶ä¸­æ·»åŠ æŸ¥è¯¢åºåˆ—çš„ MD5 å“ˆå¸Œå€¼åˆ—ã€‚ä»¥è¿™ç§æ–¹å¼åˆ›å»ºçš„æ³¨é‡Šè¾“å‡ºæ–‡ä»¶å¯ä»¥ç”¨ä½œç¼“å­˜æ–‡ä»¶ï¼ˆ<code>c CACHE_FILE</code>ï¼‰ç”¨äº <code>--m cache</code> æ¨¡å¼ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-21">è¾“å‡ºé€‰é¡¹</h4>
<ul>
<li><code>**--output,-o FILE_PREFIX**</code>ï¼š
<ul>
<li>è¾“å‡ºæ–‡ä»¶çš„åŸºæœ¬åç§°ã€‚</li>
</ul>
</li>
<li><code>**--output_dir DIR**</code>ï¼š
<ul>
<li>è¾“å‡ºæ–‡ä»¶åº”å†™å…¥çš„ç›®å½•ã€‚é»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚</li>
</ul>
</li>
<li><code>**--scratch_dir DIR**</code>ï¼š
<ul>
<li>åœ¨ä¸´æ—¶çš„ scratch ç›®å½•ä¸­å†™å…¥è¾“å‡ºæ–‡ä»¶ï¼Œå®Œæˆåå†å°†å®ƒä»¬ç§»åŠ¨åˆ°æœ€ç»ˆçš„è¾“å‡ºç›®å½•ã€‚åœ¨ä½¿ç”¨ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œå¤§è§„æ¨¡è®¡ç®—æ—¶ï¼Œå¯ä»¥åŠ å¿«é€Ÿåº¦ã€‚</li>
</ul>
</li>
<li><code>**--temp_dir DIR**</code>ï¼š
<ul>
<li>ä¸´æ—¶æ–‡ä»¶åˆ›å»ºçš„ä½ç½®ã€‚æœ€å¥½æ˜¯æœ¬åœ°ç£ç›˜ã€‚</li>
</ul>
</li>
<li><code>**--no_file_comments**</code>ï¼š
<ul>
<li>è¾“å‡ºæ–‡ä»¶ä¸­ä¸åŒ…å«æ ‡é¢˜è¡Œæˆ–ç»Ÿè®¡ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li><code>**--decorate_gff no|yes|FILE**</code>ï¼š
<ul>
<li>åˆ›å»º/è£…é¥° GFF æ–‡ä»¶çš„é€‰é¡¹ï¼Œä½¿ç”¨ emapper å‘½ä¸­å’Œ/æˆ–æ³¨é‡Šã€‚é»˜è®¤å€¼ä¸º <code>no</code>ã€‚</li>
<li><code>no</code>ï¼šä¸è¿›è¡Œ GFF è£…é¥°ã€‚å¦‚æœä½¿ç”¨ Prodigal è¿›è¡ŒåŸºå› é¢„æµ‹ï¼Œå…¶ GFF æ–‡ä»¶æ— è®ºå¦‚ä½•éƒ½ä¼šåŒ…å«åœ¨è¾“å‡ºæ–‡ä»¶ä¸­ã€‚å¦‚æœè¿è¡ŒåŸºäº blastx çš„åŸºå› é¢„æµ‹ï¼ˆ<code>-genepred search</code>ï¼‰ï¼Œå‘½ä¸­ CDS çš„ GFF æ–‡ä»¶æ— è®ºå¦‚ä½•éƒ½ä¼šåŒ…å«åœ¨è¾“å‡ºæ–‡ä»¶ä¸­ã€‚</li>
<li><code>yes</code>ï¼šå°†åˆ›å»ºä¸€ä¸ªæ–°çš„ GFF æ–‡ä»¶ï¼Œå¹¶ç”¨å‘½ä¸­å’Œ/æˆ–æ³¨é‡Šè¿›è¡Œè£…é¥°ã€‚è‡ª emapper ç‰ˆæœ¬ 2.1.7 èµ·ï¼Œè¿™ä¸åŸºå› é¢„æµ‹æœŸé—´åˆ›å»ºçš„ GFF æ–‡ä»¶ä¸åŒã€‚</li>
<li><code>FILE</code>ï¼šå°†åˆ›å»ºä¸€ä¸ªæ–°çš„ GFF æ–‡ä»¶ï¼Œå¹¶å°†å‘½ä¸­å’Œ/æˆ–æ³¨é‡Šæ·»åŠ åˆ°æŒ‡å®š <code>FILE</code> ä¸­å·²å­˜åœ¨çš„å±æ€§ä¸­ã€‚å¯ä»¥ä½¿ç”¨ <code>-decorate_gff_ID_field</code> æŒ‡å®š GFF å±æ€§ï¼ˆå‚è§ <code>-decorate_gff_ID_field</code>ï¼‰ã€‚è‡ª emapper ç‰ˆæœ¬ 2.1.7 èµ·ï¼Œè¿™ä¸åŸºå› é¢„æµ‹æœŸé—´åˆ›å»ºçš„ GFF æ–‡ä»¶ä¸åŒã€‚</li>
</ul>
</li>
<li><code>**--decorate_gff_ID_field ID**</code>ï¼š
<ul>
<li>å½“ä½¿ç”¨ <code>-decorate_gff FILE</code> æ—¶ï¼Œç”¨äºé“¾æ¥ GFF ç‰¹å¾å’Œæ³¨é‡Šç»“æœçš„ GFF å±æ€§çš„ ID æˆ–åç§°ã€‚é»˜è®¤å€¼ä¸º <code>ID</code>ã€‚</li>
</ul>
</li>
<li><code>**--excel**</code>ï¼š
<ul>
<li>æ³¨é‡Šä¹Ÿå°†ä»¥ Excelï¼ˆ.xlsxï¼‰æ ¼å¼è¾“å‡ºã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-22">è¾“å‡ºæ ¼å¼</h4>
<h4 data-id="heading-23">è¾“å‡ºæ–‡ä»¶</h4>
<ul>
<li><code>**Search hits (prefix.emapper.hits)**</code>ï¼š
<ul>
<li>ä» HMMERã€Diamond æˆ– MMseqs2 çš„æœç´¢é˜¶æ®µå¾—åˆ°çš„ç»“æœæ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><code>**Seed orthologs (prefix.emapper.seed_orthologs)**</code>ï¼š
<ul>
<li>è§£æå‘½ä¸­ç»“æœçš„æ–‡ä»¶ã€‚æ¯ä¸€è¡Œå°†ä¸€ä¸ªæŸ¥è¯¢ä¸ä¸€ä¸ªç§å­åŒæºç‰©å…³è”èµ·æ¥ã€‚æ— è®ºä½¿ç”¨å“ªç§æœç´¢å·¥å…·ï¼Œè¯¥æ–‡ä»¶çš„æ ¼å¼éƒ½ç›¸åŒï¼Œä½†å¯ä»¥æ˜¯ç®€çŸ­æ ¼å¼ï¼ˆ4 ä¸ªå­—æ®µï¼‰æˆ–å®Œæ•´æ ¼å¼ã€‚</li>
</ul>
</li>
<li><code>**Annotations (prefix.emapper.annotations)**</code>ï¼š
<ul>
<li>æ³¨é‡Šé˜¶æ®µçš„ç»“æœæ–‡ä»¶ã€‚å› æ­¤ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸ºç»™å®šæŸ¥è¯¢æŠ¥å‘Šçš„æ³¨é‡Šã€‚</li>
</ul>
</li>
<li><code>**Excel (prefix.emapper.annotations.xlsx)**</code>ï¼š
<ul>
<li>ä»¥ .xlsx æ ¼å¼ä¿å­˜çš„æ³¨é‡Šæ–‡ä»¶ã€‚ä»…åœ¨ä½¿ç”¨ <code>-excel</code> é€‰é¡¹æ—¶åˆ›å»ºã€‚</li>
</ul>
</li>
<li><code>**Orthologs (prefix.emapper.orthologs)**</code>ï¼š
<ul>
<li>æ¯ä¸ªæŸ¥è¯¢æ‰¾åˆ°çš„åŒæºç‰©åˆ—è¡¨æ–‡ä»¶ã€‚ä»…åœ¨ä½¿ç”¨ <code>-report_orthologs</code> é€‰é¡¹æ—¶åˆ›å»ºã€‚</li>
</ul>
</li>
<li><code>**Sequences of predicted CDS (prefix.emapper.genepred.fasta)**</code>ï¼š
<ul>
<li>é¢„æµ‹çš„ CDS åºåˆ—çš„ FASTA æ–‡ä»¶ã€‚å½“è¿›è¡ŒåŸºå› é¢„æµ‹æ—¶ï¼Œæ— è®ºæ˜¯ä½¿ç”¨ <code>-itype genome</code> è¿˜æ˜¯ <code>-itype metagenome</code>ï¼Œéƒ½ä¼šç”Ÿæˆæ­¤æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><code>**GFF of predicted CDS (prefix.emapper.gff)**</code>ï¼ˆä»…é™ç‰ˆæœ¬ 2.1.5 å’Œ 2.1.6ï¼‰ï¼š
<ul>
<li>GFFï¼ˆç‰ˆæœ¬ 3ï¼‰æ–‡ä»¶ï¼ŒåŒ…å«æœç´¢å’Œ/æˆ–æ³¨é‡Šç»“æœã€‚å‚è§ <code>-decorate_gff</code>ã€‚</li>
</ul>
</li>
<li><code>**GFF of predicted CDS (prefix.emapper.genepred.gff)**</code>ï¼ˆä»…é™ç‰ˆæœ¬ 2.1.7ï¼‰ï¼š
<ul>
<li>GFFï¼ˆç‰ˆæœ¬ 3ï¼‰æ–‡ä»¶ï¼ŒåŒ…å« Prodigal æˆ–ç±»ä¼¼ blastx æœç´¢çš„åŸºå› é¢„æµ‹ç»“æœã€‚</li>
</ul>
</li>
<li><code>**GFF decorated with hits and/or annotations (prefix.emapper.decorated.gff)**</code>ï¼ˆä»…é™ç‰ˆæœ¬ 2.1.7ï¼‰ï¼š
<ul>
<li>GFFï¼ˆç‰ˆæœ¬ 3ï¼‰æ–‡ä»¶ï¼Œç”¨å‘½ä¸­å’Œ/æˆ–æ³¨é‡Šä½œä¸ºå±æ€§è¿›è¡Œè£…é¥°ã€‚å‚è§ <code>-decorate_gff</code>ã€‚</li>
</ul>
</li>
<li><code>**Sequences without annotation (prefix.emapper.no_annotations.fasta)**</code>ï¼š
<ul>
<li>æœªæ‰¾åˆ°ç°æœ‰æ³¨é‡Šçš„æŸ¥è¯¢åºåˆ—çš„ FASTA æ–‡ä»¶ï¼ˆä½¿ç”¨ <code>m cache</code> æ¨¡å¼ï¼‰ã€‚æ­¤æ–‡ä»¶å¯ä»¥ç”¨ä½œä¸ä½¿ç”¨ç¼“å­˜çš„å¦ä¸€ä¸ª eggNOG-mapper è¿è¡Œçš„è¾“å…¥ï¼Œå°è¯•æ³¨é‡Šè¿™äº›åºåˆ—ã€‚</li>
</ul>
</li>
<li><code>**PFAM hits (prefix.emapper.pfam)**</code>ï¼š
<ul>
<li>è¯†åˆ«çš„ PFAM åŸŸçš„ä½ç½®æ–‡ä»¶ã€‚ä»…åœ¨ä½¿ç”¨ <code>-pfam_realign realign</code> æˆ– <code>-pfam_realign denovo</code> æ—¶åˆ›å»ºã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-24">è¾“å‡ºå­—æ®µ</h4>
<p>æ‰€æœ‰æ–‡ä»¶éƒ½åŒ…å«ä»¥åˆ¶è¡¨ç¬¦åˆ†éš”çš„åˆ—æˆ–å­—æ®µã€‚</p>
<h4 data-id="heading-25">ç§å­åŒæºç‰©æ–‡ä»¶</h4>
<ul>
<li><code>**query**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„åç§°ã€‚</li>
</ul>
</li>
<li><code>**target**</code>ï¼š
<ul>
<li>ç›®æ ‡åºåˆ—ï¼Œä¹Ÿç§°ä¸ºâ€œç§å­åŒæºç‰©â€ã€‚è¿™æ˜¯åœ¨æœç´¢é˜¶æ®µä¸ºç»™å®šæŸ¥è¯¢æ‰¾åˆ°çš„æœ€ä½³å‘½ä¸­å¯¹åº”çš„ eggNOG åºåˆ—ï¼Œåœ¨æ³¨é‡Šé˜¶æ®µå°†ç”¨äºæ£€ç´¢ç”¨äºæ³¨é‡Šè½¬ç§»çš„åŒæºç‰©ã€‚</li>
</ul>
</li>
<li><code>**e-value**</code>ï¼š
<ul>
<li>ä½¿ç”¨çš„æœç´¢å·¥å…·ï¼ˆé»˜è®¤ä¸º Diamondï¼Œå‚è§ <code>m</code> é€‰é¡¹ï¼‰è¿”å›çš„ E å€¼ã€‚</li>
</ul>
</li>
<li><code>**bit-score**</code>ï¼š
<ul>
<li>ä½¿ç”¨çš„æœç´¢å·¥å…·è¿”å›çš„ä½åˆ†æ•°ã€‚</li>
</ul>
</li>
<li><code>**pident**</code>ï¼š
<ul>
<li>æŸ¥è¯¢å’Œç›®æ ‡ä¹‹é—´çš„ç›¸ä¼¼æ€§ç™¾åˆ†æ¯”ã€‚</li>
</ul>
</li>
<li><code>**qstart**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—åœ¨æ¯”å¯¹ä¸­çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**qend**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—åœ¨æ¯”å¯¹ä¸­çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**sstart**</code>ï¼š
<ul>
<li>ç›®æ ‡åºåˆ—ï¼ˆå³â€œtargetâ€ï¼‰åœ¨æ¯”å¯¹ä¸­çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**send**</code>ï¼š
<ul>
<li>ç›®æ ‡åºåˆ—åœ¨æ¯”å¯¹ä¸­çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**qcov**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—é•¿åº¦ä¸­å‚ä¸æ¯”å¯¹çš„éƒ¨åˆ†æ‰€å çš„ç™¾åˆ†æ¯”ã€‚</li>
</ul>
</li>
<li><code>**scov**</code>ï¼š
<ul>
<li>ç›®æ ‡åºåˆ—é•¿åº¦ä¸­å‚ä¸æ¯”å¯¹çš„éƒ¨åˆ†æ‰€å çš„ç™¾åˆ†æ¯”ã€‚</li>
</ul>
</li>
</ul>
<p>å½“ä½¿ç”¨ Diamond è¿›è¡Œæœç´¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>--outfmt_short</code> é€‰é¡¹ä»…è¾“å‡ºç§å­åŒæºç‰©æ–‡ä»¶çš„å‰ 4 ä¸ªå­—æ®µï¼ˆå‚è§ä¸Šè¿°é€‰é¡¹ï¼‰ã€‚</p>
<h4 data-id="heading-26">æ³¨é‡Šæ–‡ä»¶</h4>
<ul>
<li><code>**Search hit fields**</code>ï¼š
<ul>
<li><code>**query_name**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„åç§°ã€‚</li>
</ul>
</li>
<li><code>**seed_eggNOG_ortholog**</code>ï¼š
<ul>
<li>ç§å­ eggNOG åŒæºç‰©ã€‚</li>
</ul>
</li>
<li><code>**seed_ortholog_evalue**</code>ï¼š
<ul>
<li>ç§å­åŒæºç‰©çš„ E å€¼ã€‚</li>
</ul>
</li>
<li><code>**seed_ortholog_score**</code>ï¼š
<ul>
<li>ç§å­åŒæºç‰©çš„ä½åˆ†æ•°ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**Orthologous Groups fields**</code>ï¼š
<ul>
<li><code>**eggNOG_OGs**</code>ï¼š
<ul>
<li>ä¸ºè¯¥æŸ¥è¯¢è¯†åˆ«çš„åŒæºç¾¤ç»„ï¼ˆOGsï¼‰åˆ—è¡¨ï¼ŒæŒ‰è°±ç³»æ·±åº¦æ’åºï¼ˆä»æœ€å¹¿åˆ°æœ€çª„ï¼‰ï¼Œä»¥é€—å·åˆ†éš”ã€‚æ³¨æ„ï¼Œæ¯ä¸ª OG ä»¥ä»¥ä¸‹æ ¼å¼è¡¨ç¤ºï¼šOG@tax_id|tax_nameã€‚</li>
</ul>
</li>
<li><code>**max_annot_lvl**</code>ï¼š
<ul>
<li>ç”¨äºæ£€ç´¢æ³¨é‡Šçš„æœ€å¹¿ OG çš„ tax_id|tax_nameã€‚</li>
</ul>
</li>
<li><code>**COG_cat**</code>ï¼š
<ul>
<li>å…·æœ‰æœ‰æ•ˆ COG ç±»åˆ«çš„æœ€çª„ OG çš„ COG ç±»åˆ«ã€‚</li>
</ul>
</li>
<li><code>**Description**</code>ï¼š
<ul>
<li>å…·æœ‰æœ‰æ•ˆæè¿°çš„æœ€çª„ OG çš„æè¿°ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**Transferred annotations fields**</code>ï¼š
<ul>
<li><code>**Preferred_name**</code>ï¼š
<ul>
<li>ä¼˜å…ˆåç§°ã€‚</li>
</ul>
</li>
<li><code>**GOs**</code>ï¼š
<ul>
<li>åŸºå› æœ¬ä½“ï¼ˆGOï¼‰æœ¯è¯­ã€‚</li>
</ul>
</li>
<li><code>**EC**</code>ï¼š
<ul>
<li>é…¶å§”å‘˜ä¼šï¼ˆECï¼‰ç¼–å·ã€‚</li>
</ul>
</li>
<li><code>**KEGG_ko**</code>ï¼š
<ul>
<li>KEGG ç›´ç³»åŒæºç‰©ï¼ˆkoï¼‰ã€‚</li>
</ul>
</li>
<li><code>**KEGG_Pathway**</code>ï¼š
<ul>
<li>KEGG é€šè·¯ã€‚</li>
</ul>
</li>
<li><code>**KEGG_Module**</code>ï¼š
<ul>
<li>KEGG æ¨¡å—ã€‚</li>
</ul>
</li>
<li><code>**KEGG_Reaction**</code>ï¼š
<ul>
<li>KEGG ååº”ã€‚</li>
</ul>
</li>
<li><code>**KEGG_rclass**</code>ï¼š
<ul>
<li>KEGG ååº”ç±»åˆ«ã€‚</li>
</ul>
</li>
<li><code>**BRITE**</code>ï¼š
<ul>
<li>KEGG BRITE å±‚çº§ç»“æ„ã€‚</li>
</ul>
</li>
<li><code>**KEGG_TC**</code>ï¼š
<ul>
<li>KEGG è¿è¾“åˆ†ç±»ï¼ˆTCï¼‰ã€‚</li>
</ul>
</li>
<li><code>**CAZy**</code>ï¼š
<ul>
<li>ç¢³æ°´åŒ–åˆç‰©æ´»æ€§é…¶ï¼ˆCAZyï¼‰æ•°æ®åº“ä¸­çš„æ¡ç›®ã€‚</li>
</ul>
</li>
<li><code>**BiGG_Reaction**</code>ï¼š
<ul>
<li>BiGG ååº”ã€‚</li>
</ul>
</li>
<li><code>**PFAMs**</code>ï¼š
<ul>
<li>PFAM åŸŸã€‚</li>
</ul>
</li>
<li><code>**md5**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„ MD5 å“ˆå¸Œå€¼ï¼ˆä»…å½“ä½¿ç”¨ <code>-md5</code> æ—¶ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**Orthologs file**</code>ï¼š
<ul>
<li><code>**query**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„åç§°ã€‚</li>
</ul>
</li>
<li><code>**orth_type**</code>ï¼š
<ul>
<li>æ­¤è¡Œä¸­çš„åŒæºç‰©ç±»å‹ã€‚å‚è§ <code>-target_orthologs</code>ã€‚</li>
</ul>
</li>
<li><code>**species**</code>ï¼š
<ul>
<li>åŒæºç‰©çš„ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ã€‚</li>
<li>å¦‚æœåŒæºç‰©åé¢æœ‰ä¸€ä¸ªâ€œ*â€ï¼Œåˆ™è¡¨ç¤ºè¯¥åŒæºç‰©ç”¨äºå°†æ³¨é‡Šè½¬ç§»åˆ°æŸ¥è¯¢åºåˆ—ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**HMMER hits file**</code>ï¼š
<ul>
<li><code>**query**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„åç§°ã€‚</li>
</ul>
</li>
<li><code>**hit**</code>ï¼š
<ul>
<li>å‘½ä¸­åºåˆ—ï¼ˆä¾‹å¦‚ï¼ŒPFAM åŸŸï¼‰ã€‚</li>
</ul>
</li>
<li><code>**evalue**</code>ï¼š
<ul>
<li>E å€¼ã€‚</li>
</ul>
</li>
<li><code>**sum_score**</code>ï¼š
<ul>
<li>æ€»åˆ†æ•°ã€‚</li>
</ul>
</li>
<li><code>**query length**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„é•¿åº¦ã€‚</li>
</ul>
</li>
<li><code>**HMM position "from"**</code>ï¼š
<ul>
<li>HMM ä½ç½®çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**HMM position "to"**</code>ï¼š
<ul>
<li>HMM ä½ç½®çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**Sequence position "from"**</code>ï¼š
<ul>
<li>åºåˆ—ä½ç½®çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**Sequence position "to"**</code>ï¼š
<ul>
<li>åºåˆ—ä½ç½®çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**query coverage**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„è¦†ç›–èŒƒå›´ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>**Diamond hits file**</code>ï¼š
<ul>
<li>ä¾èµ–äº <code>-outfmt_short</code>ã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜… Diamond æ–‡æ¡£ã€‚</li>
</ul>
</li>
<li><code>**MMseqs2 hits file**</code>ï¼š
<ul>
<li>æ›´å¤šä¿¡æ¯è¯·å‚é˜… MMseqs2 æ–‡æ¡£ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-27">é¢„æµ‹çš„ CDS åºåˆ—</h4>
<p>å¦‚æœä½¿ç”¨æœç´¢å‘½ä¸­ï¼ˆDiamond æˆ– MMseqs2 çš„â€œblastxâ€å‘½ä¸­ï¼‰è¿›è¡ŒåŸºå› é¢„æµ‹ï¼Œåºåˆ—æ ‡è¯†ç¬¦å°†åŒ…æ‹¬æ‰¾åˆ° CDS çš„åŸå§‹åºåˆ—çš„æ ‡è¯†ç¬¦ï¼Œåé¢è·Ÿç€ä¸€ä¸ªä¸‹åˆ’çº¿å’Œä¸€ä¸ªæ•°å­—ï¼Œä»¥åŒºåˆ†æ¥è‡ªåŒä¸€åŸå§‹åºåˆ—çš„ CDSï¼ˆä¾‹å¦‚ï¼Œåœ¨ <code>&gt;query_seq</code> ä¸­æ‰¾åˆ°çš„ CDS å°†è¢«å‘½åä¸º <code>&gt;query_seq_1</code>ã€‚ç¬¬äºŒä¸ªå°†è¢«å‘½åä¸º <code>&gt;query_seq_2</code>ï¼Œâ€¦â€¦ï¼‰ã€‚å¦‚æœä½¿ç”¨ Prodigal è¿›è¡ŒåŸºå› é¢„æµ‹ï¼Œæ­¤è¾“å‡ºæ–‡ä»¶æ˜¯ Prodigal ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆå‚é˜… Prodigal æ–‡æ¡£ä»¥äº†è§£è¾“å‡ºæ ¼å¼ï¼‰ã€‚</p>
<h4 data-id="heading-28">GFF</h4>
<p>æ‰€æœ‰ eggNOG-mapper å±æ€§éƒ½å°†ä»¥å‰ç¼€â€œem_â€å¼€å¤´ã€‚å¦‚æœä½¿ç”¨ Prodigal è¿›è¡ŒåŸºå› é¢„æµ‹å¹¶ä½¿ç”¨äº† <code>--decorate_gff no</code>ï¼Œæ­¤è¾“å‡ºæ–‡ä»¶æ˜¯ Prodigal ç”Ÿæˆçš„æ–‡ä»¶ï¼ˆå‚é˜… Prodigal æ–‡æ¡£ä»¥äº†è§£æ›´å¤šä¿¡æ¯ï¼‰ã€‚</p>
<h4 data-id="heading-29">æœªæ³¨é‡Šçš„åºåˆ—</h4>
<p>ä¸åŸå§‹åºåˆ—å…·æœ‰ç›¸åŒæ ‡è¯†ç¬¦çš„ FASTA æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-30">PFAM å‘½ä¸­</h4>
<ul>
<li><code>**query_name**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„åç§°ã€‚</li>
</ul>
</li>
<li><code>**hit**</code>ï¼š
<ul>
<li>å‘½ä¸­åºåˆ—ï¼ˆå³ PFAM åŸŸï¼‰ã€‚</li>
</ul>
</li>
<li><code>**evalue**</code>ï¼š
<ul>
<li>E å€¼ã€‚</li>
</ul>
</li>
<li><code>**sum_score**</code>ï¼š
<ul>
<li>æ€»åˆ†æ•°ã€‚</li>
</ul>
</li>
<li><code>**query_length**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„é•¿åº¦ã€‚</li>
</ul>
</li>
<li><code>**hmmfrom**</code>ï¼š
<ul>
<li>HMM ä½ç½®çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**hmmto**</code>ï¼š
<ul>
<li>HMM ä½ç½®çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**seqfrom**</code>ï¼š
<ul>
<li>åºåˆ—ä½ç½®çš„èµ·å§‹ä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**seqto**</code>ï¼š
<ul>
<li>åºåˆ—ä½ç½®çš„ç»“æŸä½ç½®ã€‚</li>
</ul>
</li>
<li><code>**query_coverage**</code>ï¼š
<ul>
<li>æŸ¥è¯¢åºåˆ—çš„è¦†ç›–èŒƒå›´ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-31">4ã€æ ¹æ®è‡ªå·±éœ€è¦æˆ‘çš„è¿è¡Œï¼ˆå¤§å®¶å¯ä»¥å‚è€ƒè¿™ä¸€éƒ¨åˆ†ï¼‰</h3>
<p>æˆ‘çš„æ˜¯å®åŸºå› ç»„æ•°æ®ï¼Œäº‹å…ˆæˆ‘å·²ç»åˆ©ç”¨<strong>Prodigalè½¯ä»¶</strong>é¢„æµ‹äº†ç»„è£…åçš„contigsçš„CDSï¼Œç„¶åæˆ‘å·²ç»æœ‰è›‹ç™½å’ŒDNAåºåˆ—ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨DNAçš„åºåˆ—è¿›è¡Œæ³¨é‡Š</p>
<p>æˆ‘çš„å‘½ä»¤æ˜¯ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell">emapper.py -i /media/sutai/I/LXD/marine/de_prodigal_orf/DNA/ERR599155.fasta -o /media/sutai/I/LXD/marine/eggnog_output/ERR599155_DNA --itype CDS --cpu 128 --dmnd_db /media/sutai/D/eggnog_data/prokaryotes/prokaryotes.dmnd -m diamond --data_dir /media/sutai/D/eggnog_data/prokaryotes
</code></pre>
<p><code>-i /media/sutai/I/LXD/marine/de_prodigal_orf/DNA/ERR599155.fasta</code> è¾“å…¥çš„ç›®å½•æ–‡ä»¶</p>
<p><code>-o /media/sutai/I/LXD/marine/eggnog_output/ERR599155_DNA</code> è¾“å‡ºæ–‡ä»¶çš„ä½ç½®å’Œå‰ç¼€</p>
<p><code>--itype CDS</code> ä»¥CDSæ¨¡å¼è¿›è¡Œè¿è¡Œï¼Œä¼šä»¥blastxçš„æ¨¡å¼ä¸åº“ä¸­è›‹ç™½è¿›è¡Œæ¯”å¯¹ï¼Œå³è¾¹ç¿»è¯‘è¾¹æ¯”å¯¹ï¼Œæˆ‘å¯¹æ¯”è¿‡ä½¿ç”¨è›‹ç™½åºåˆ—å’ŒDNAåºåˆ—çš„æ³¨é‡Šç»“æœï¼Œå•æ¡ç»“æœæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½†æ˜¯ä½¿ç”¨DNAåºåˆ—èƒ½å¤Ÿæ¯”å¯¹æ³¨é‡Šçš„æ›´å¤šï¼ˆå³å‡å¦‚æˆ‘æœ‰10000æ¡åºåˆ—ï¼Œä½¿ç”¨å®ƒä»¬çš„è›‹ç™½åºåˆ—ï¼Œå…¶ä¸­9000æ¡èƒ½è¢«æ³¨é‡Šï¼Œä½¿ç”¨DNAèƒ½æœ‰9100æ¡åºåˆ—è¢«æ³¨é‡Šï¼‰</p>
<p><code>--cpu 128</code> ä½¿ç”¨çº¿ç¨‹æ•°é‡ï¼ŒåŠ å¿«è¿è¡Œé€Ÿåº¦</p>
<p><code>--dmnd_db /media/sutai/D/eggnog_data/prokaryotes/prokaryotes.dmnd</code> æˆ‘ä¹‹å‰æ„å»ºçš„åŸæ ¸ç”Ÿç‰©çš„æ•°æ®åº“</p>
<p><code>-m diamond</code> æœç´¢æ¯”å¯¹é˜¶æ®µä½¿ç”¨diamondæ¨¡å¼ï¼Œé»˜è®¤ä¹Ÿæ˜¯è¿™ä¸ªæ¨¡å¼</p>
<p><code>--data_dir /media/sutai/D/eggnog_data/prokaryotes</code> eggnogæ•°æ®åº“çš„ä½ç½®ï¼Œæˆ‘ä¹‹å‰ä¸‹åœ¨è¿™ä¸ªä½ç½®çš„ï¼Œå¹¶ä¸”æ²¡æœ‰è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™éœ€è¦åŠ ä¸Š</p>
<p>æ„å»ºæ‰¹é‡è¿è¡Œshellè„šæœ¬å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-Shell" lang="Shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>
<span class="hljs-meta prompt_">
# </span><span class="bash">å®šä¹‰è¾“å…¥å’Œè¾“å‡ºç›®å½•</span>
input_dir="/media/sutai/I/LXD/marine/de_prodigal_orf/DNA"
output_dir="/media/sutai/I/LXD/marine/eggnog_output"
dmnd_db="/media/sutai/D/eggnog_data/prokaryotes/prokaryotes.dmnd"
data_dir="/media/sutai/D/eggnog_data/prokaryotes"
<span class="hljs-meta prompt_">
# </span><span class="bash">æ£€æŸ¥è¾“å‡ºç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»º</span>
mkdir -p "$output_dir"
<span class="hljs-meta prompt_">
# </span><span class="bash">éå†è¾“å…¥ç›®å½•ä¸­çš„æ‰€æœ‰.fastaæ–‡ä»¶</span>
for file in "$input_dir"/*.fasta; do
    if [[ -f "$file" ]]; then
        # è·å–æ–‡ä»¶åï¼ˆä¸åŒ…å«è·¯å¾„ï¼‰
        filename=$(basename "$file" .fasta)
        
        # å®šä¹‰è¾“å‡ºè·¯å¾„
        output_path="$output_dir/${filename}_DNA"
        
        # è¿è¡Œemapper.pyå‘½ä»¤
        echo "Processing $file..."
        emapper.py -i "$file" -o "$output_path" --itype CDS --cpu 200 --dmnd_db "$dmnd_db" -m diamond --data_dir "$data_dir"
        
        echo "Completed processing $file"
    fi
done

echo "All files processed."
</code></pre>
<hr/>
<p><strong>ä½œè€…</strong>ï¼šEvil Autuman | Autuman Lab</p>
<p><strong>å¾®ä¿¡å…¬ä¼—å·</strong>ï¼šEvil Autuman</p>
<p><strong>æ›´æ–°æ—¶é—´</strong>ï¼š2026å¹´1æœˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[flex å¸ƒå±€å‡­ä»€ä¹ˆæˆä¸ºå‰ç«¯æ’ç‰ˆçš„å¤©èŠ±æ¿ï¼Ÿå®ƒè®©æˆ‘å‘Šåˆ«äº† float çš„æ‰€æœ‰å™©æ¢¦]]></title>    <link>https://juejin.cn/post/7598807837867409434</link>    <guid>https://juejin.cn/post/7598807837867409434</guid>    <pubDate>2026-01-25T08:53:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598807837867409434" data-draft-id="7598827641307660339" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="flex å¸ƒå±€å‡­ä»€ä¹ˆæˆä¸ºå‰ç«¯æ’ç‰ˆçš„å¤©èŠ±æ¿ï¼Ÿå®ƒè®©æˆ‘å‘Šåˆ«äº† float çš„æ‰€æœ‰å™©æ¢¦"/> <meta itemprop="keywords" content="CSS,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-25T08:53:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            flex å¸ƒå±€å‡­ä»€ä¹ˆæˆä¸ºå‰ç«¯æ’ç‰ˆçš„å¤©èŠ±æ¿ï¼Ÿå®ƒè®©æˆ‘å‘Šåˆ«äº† float çš„æ‰€æœ‰å™©æ¢¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T08:53:39.000Z" title="Sun Jan 25 2026 08:53:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“ å‰è¨€</h2>
<p>è¿˜åœ¨ä¸ºè°ƒä¸ªé¡µé¢å¸ƒå±€ç†¬å¤§å¤œï¼Ÿç”¨ <code>float</code> æ’ä¸ªç‰ˆï¼Œå…ƒç´ åˆ°å¤„ä¹±è·‘ï¼›ç”¨ <code>position</code> å®šä¸ªä½ï¼Œç¨å¾®æ”¹ç‚¹ä¸œè¥¿å°±å…¨ä¹±å¥—ã€‚ä¸æƒ³ç†¬å¤œäº†ğŸ˜­ï¼</p>
<p>åˆ«æ…Œï¼Œä»Šå¤©å’±ä»¬å°±æ¥èŠèŠå‰ç«¯ç•Œçš„ <code>â€œæ•‘æ˜Ÿâ€</code> â€” <strong>Flex å¼¹æ€§å¸ƒå±€</strong>ã€‚å®ƒå°±åƒä¸€ä¸ªè´´å¿ƒçš„æ”¶çº³å¸ˆï¼Œä¸ç”¨ç»•å¼¯å­ï¼Œä¸ç”¨æ­»æŠ åƒç´ ï¼Œå‡ è¡Œä»£ç å°±èƒ½æŠŠå…ƒç´ æ‘†å¾—æ•´æ•´é½é½ï¼Œä»æ­¤å‘Šåˆ« <strong>â€œå ç½—æ±‰â€</strong> å¼çš„å¸ƒå±€å™©æ¢¦ã€‚</p>
<h3 data-id="heading-1">ğŸ”§ <strong>åˆè¯† Flexï¼šä¸€ä¸ªå®¹å™¨æå®šæ‰€æœ‰æ’åˆ—</strong></h3>
<p><code>Flex</code> å¸ƒå±€çš„æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼š<strong>å…ˆè®©çˆ¶å®¹å™¨å˜èº«æˆå¼¹æ€§å®¹å™¨ï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±äº¤ç»™å®ƒæ¥å®‰æ’</strong>ã€‚åªéœ€è¦ä¸€è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">display</span>: flex;
}
</code></pre>
<p>é…ä¸Š<code>html</code>:</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a25a910690145188c439a7064b4f20c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=Sr1szGYkoJROUPq6k8L9fF%2FBry8%3D" alt="image.png" loading="lazy"/></p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå­å…ƒç´ ä¼šè‡ªåŠ¨åœ¨æ°´å¹³æ–¹å‘ä¸Šæ’æˆä¸€è¡Œï¼Œè¿™å°±æ˜¯<code>Flex</code>çš„<strong>é»˜è®¤ä¸»è½´æ–¹å‘</strong>ã€‚</p>
<h3 data-id="heading-2">ğŸ¯ <strong>ä¸»è½´ä¸äº¤å‰è½´ï¼šå¸ƒå±€çš„ â€œæŒ‡æŒ¥æ£’â€</strong></h3>
<p><code>Flex å®¹å™¨</code>æœ‰ä¸¤æ ¹ â€œæŒ‡æŒ¥æ£’â€ï¼š<strong>ä¸»è½´</strong>ï¼ˆé»˜è®¤æ°´å¹³æ–¹å‘ï¼‰å’Œ<strong>äº¤å‰è½´</strong>ï¼ˆé»˜è®¤å‚ç›´æ–¹å‘ï¼‰ã€‚</p>
<ul>
<li><strong>justify-content</strong> ç®¡ä¸»è½´ä¸Šçš„æ’åˆ—æ–¹å¼ï¼Œæ¯”å¦‚ <code>space-evenly</code> å¯ä»¥è®©å…ƒç´ ä¹‹é—´çš„é—´è·å®Œå…¨ç›¸ç­‰ã€‚</li>
<li><strong>align-items</strong> ç®¡äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œæ¯”å¦‚ <code>center</code> å¯ä»¥è®©å…ƒç´ åœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­ã€‚</li>
</ul>
<p>å¦‚æœä½ æƒ³æŠŠ<strong>ä¸»è½´æ”¹æˆå‚ç›´æ–¹å‘</strong>ï¼Œåªéœ€è¦ç»™å®¹å™¨åŠ ä¸€å¥ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
}
</code></pre>
<p>å°±åƒ <code>index.html</code> é‡Œè¿™æ ·è®¾ç½®åï¼Œä¸‰ä¸ªå½©è‰²å°æ–¹å—å°±ä¼šä¹–ä¹–åœ°å‚ç›´æ’åˆ—ï¼Œå¹¶ä¸”åœ¨å®¹å™¨é‡Œå‡åŒ€åˆ†å¸ƒã€å±…ä¸­å¯¹é½ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span>{
    <span class="hljs-attribute">width</span>: <span class="hljs-number">800px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">justify-content</span>: space-evenly;
    <span class="hljs-attribute">align-items</span>: center;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0291053845554872af767f02ded81239~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=kxiTmfr1uKvO3zSq0h1noxlQwxw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ§© <strong>æ¢è¡Œä¸å¤šè½´æ§åˆ¶ï¼šç©ºé—´ä¸å¤Ÿï¼Ÿæ‹†åˆ†æˆè¡Œï¼</strong></h3>
<p>å¦‚æœ<strong>å­å…ƒç´ å¤ªå¤š</strong>ï¼Œä¸€è¡Œæ”¾ä¸ä¸‹æ€ä¹ˆåŠï¼Ÿåˆ«æ‹…å¿ƒï¼Œ<code>flex-wrap: wrap</code> å¯ä»¥è®©å…ƒç´ è‡ªåŠ¨æ¢è¡Œï¼Œå°±åƒ <code>index2.html</code> é‡Œè¿™æ ·ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
    <span class="hljs-attribute">flex-wrap</span>: wrap;
    <span class="hljs-attribute">align-content</span>: space-around;
}
</code></pre>
<p><strong>è¡¥å……ï¼š</strong> <code>align-content</code> è¿™ä¸ªå±æ€§æ˜¯ä¸“é—¨ç”¨æ¥æ§åˆ¶æ¢è¡Œåï¼Œå¤šè¡Œå…ƒç´ ä¹‹é—´çš„é—´è·çš„ï¼Œæ¯”å¦‚ <code>space-around</code> å¯ä»¥è®©<strong>æ¯ä¸€è¡Œä¸Šä¸‹éƒ½æœ‰å‡åŒ€çš„ç•™ç™½</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60cbd390bd19455b930f6a4eb87fdbe0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=LgAlOGFQf%2FkYETS6pqys4Knq93g%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ğŸ“Š <strong>ç©ºé—´åˆ†é…ï¼šè°èƒ–è°ç˜¦ï¼Œæˆ‘è¯´äº†ç®—</strong></h3>
<p>å½“å®¹å™¨æœ‰å¤šä½™ç©ºé—´æ—¶ï¼Œ<code>flex-grow</code> å°±ä¼šæ´¾ä¸Šç”¨åœºã€‚å®ƒå°±åƒç»™å­å…ƒç´ åˆ†é… <strong>â€œé•¿èƒ–â€</strong> çš„åé¢ï¼Œæ•°å€¼è¶Šå¤§ï¼Œå çš„ç©ºé—´å°±è¶Šå¤šã€‚æ¯”å¦‚åœ¨ <code>index3.html</code> é‡Œï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>){
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
}
<span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>){
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">2</span>;
}
<span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">3</span>){
    <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
}
</code></pre>
<p>è¿™å°±æ„å‘³ç€ï¼Œä¸­é—´çš„<strong>ç»¿è‰²æ–¹å—ä¼š â€œé•¿èƒ–â€ ä¸¤å€</strong>ï¼Œå·¦å³ä¸¤ä¸ªæ–¹å—å„ <strong>â€œé•¿èƒ–â€ ä¸€å€</strong>ï¼Œå®Œç¾å¡«æ»¡æ•´ä¸ªå®¹å™¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51d27afc28334eebb57bf970e84c84f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=4IZW%2F3IP5jZNsS6m9uIDVsX8a64%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">ğŸ¨ <strong>ä¸ªæ€§åŒ–å®šåˆ¶ï¼šç»™æŸä¸ªå…ƒç´ å¼€å°ç¶</strong></h3>
<p>å¦‚æœæƒ³è®©<strong>æŸä¸ªå­å…ƒç´ </strong>åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼<strong>ä¸ä¼—ä¸åŒ</strong>ï¼Œ<code>align-self</code> å°±æ˜¯ä½ çš„ä¸“å±å·¥å…·ã€‚å°±åƒ <code>index4.html</code> é‡Œè¿™æ ·ï¼Œåªæœ‰ä¸­é—´çš„ç»¿è‰²æ–¹å—è¢«å•ç‹¬è®¾ç½®æˆäº† <code>align-self: center</code>ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­ï¼Œè€Œå…¶ä»–æ–¹å—ä¿æŒé»˜è®¤å¯¹é½ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.item</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>){
    <span class="hljs-attribute">align-self</span>: center;
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c34011ab74614f1b871a8beec01f3b32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=rnNTomEpNU%2BLgveZHFc4gxW2NI4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">ğŸŒ <strong>å®æˆ˜ç‹è€…ï¼šä¸‰æ å¸ƒå±€è½»æ¾æ‹¿æ</strong></h3>
<p><strong>Flex å¸ƒå±€</strong>æœ€ç»å…¸çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€å°±æ˜¯<strong>ä¸‰æ å¸ƒå±€</strong>ã€‚æ¯”å¦‚ <code>three.html</code> è¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å®ç° <strong>â€œå·¦ä¾§ + ä¸»ä½“ + å³ä¾§â€</strong> çš„å¸ƒå±€ï¼Œè€Œä¸”ä¸»ä½“éƒ¨åˆ†ä¼šè‡ªåŠ¨å¡«å……å‰©ä½™ç©ºé—´ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.page</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">display</span>: flex;
}
<span class="hljs-selector-class">.left</span>, <span class="hljs-selector-class">.right</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e17a7a</span>;
}
<span class="hljs-selector-class">.main</span> {
    <span class="hljs-attribute">background-color</span>: aquamarine;
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
}
<span class="hljs-selector-class">.left</span> {
    <span class="hljs-attribute">order</span>: -<span class="hljs-number">1</span>;
}
</code></pre>
<p>è¿™é‡Œçš„ <code>flex: 1</code> è®©ä¸»ä½“éƒ¨åˆ†<strong>è‡ªåŠ¨å æ»¡å‰©ä½™ç©ºé—´</strong>ï¼Œ<code>order: -1</code> åˆ™æŠŠå·¦ä¾§æ æå‰ï¼Œå³ä½¿å®ƒåœ¨ HTML ç»“æ„é‡Œæ˜¯å†™åœ¨ä¸»ä½“åé¢çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66a9c80b9ce64437932b604955991553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936019&amp;x-signature=3Kc9b9A%2B2Zk0MVFDW74jTWV6IZ8%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">âœ¨ ç»“è¯­</h2>
<p><code>Flex å¸ƒå±€</code>å°±åƒä¸€æŠŠ<strong>ä¸‡èƒ½é’¥åŒ™</strong>ï¼Œä»ç®€å•çš„å±…ä¸­å¯¹é½åˆ°å¤æ‚çš„å“åº”å¼å¸ƒå±€ï¼Œå®ƒéƒ½èƒ½è½»æ¾æå®šã€‚</p>
<p>åªè¦æŒæ¡äº† <code>display: flex</code>ã€<code>justify-content</code>ã€<code>align-items</code> è¿™äº›<strong>æ ¸å¿ƒå±æ€§</strong>ï¼Œå†åŠ ä¸Š <code>flex-grow</code>ã€<code>order</code> è¿™äº› <strong>â€œè°ƒå‘³å‰‚â€</strong>ï¼Œä½ å°±èƒ½ä»å¸ƒå±€ â€œå°ç™½â€ ç§’å˜ â€œå¤§ç¥â€ã€‚</p>
<blockquote>
<p><strong>å¿«å»è®©ä½ çš„é¡µé¢å…ƒç´ éƒ½ä¹–ä¹–å¬è¯å§ï¼</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LeetCode 6. Z å­—å½¢å˜æ¢ï¼šä¸¤ç§è§£æ³•æ·±åº¦è§£æä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7598818096754163763</link>    <guid>https://juejin.cn/post/7598818096754163763</guid>    <pubDate>2026-01-25T09:14:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598818096754163763" data-draft-id="7598881914202193970" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LeetCode 6. Z å­—å½¢å˜æ¢ï¼šä¸¤ç§è§£æ³•æ·±åº¦è§£æä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-25T09:14:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Wect"/> <meta itemprop="url" content="https://juejin.cn/user/4185164878720068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LeetCode 6. Z å­—å½¢å˜æ¢ï¼šä¸¤ç§è§£æ³•æ·±åº¦è§£æä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4185164878720068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Wect
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:14:59.000Z" title="Sun Jan 25 2026 09:14:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åœ¨å­—ç¬¦ä¸²å¤„ç†ç±»ç®—æ³•é¢˜ä¸­ï¼ŒZ å­—å½¢å˜æ¢æ˜¯ä¸€é“ç»å…¸çš„ã€Œè§„å¾‹æç‚¼ + ä»£ç ä¼˜åŒ–ã€åŒé‡ç‚¹é¢˜å‹ï¼Œé¢‘ç¹å‡ºç°åœ¨é¢è¯•ä¸ç®—æ³•ç»ƒä¹ ä¸­ã€‚å®ƒçš„æ ¸å¿ƒéš¾ç‚¹ä¸åœ¨äºå®ç°åŠŸèƒ½ï¼Œè€Œåœ¨äºå¦‚ä½•ç²¾å‡†æ•æ‰ Z å­—å½¢æ’åˆ—çš„å‘¨æœŸæ€§è§„å¾‹ï¼ŒåŒæ—¶å…¼é¡¾ä»£ç çš„å¯è¯»æ€§ä¸æ‰§è¡Œæ•ˆç‡ã€‚æœ¬æ–‡å°†ä»é¢˜ç›®ç†è§£å‡ºå‘ï¼Œè¯¦ç»†æ‹†è§£ä¸¤ç§ä¸»æµè§£æ³•ï¼Œå¯¹æ¯”å…¶ä¼˜åŠ£ï¼Œå¹¶è¡¥å……å…³é”®æ³¨æ„äº‹é¡¹ï¼Œå¸®åŠ©å¤§å®¶å½»åº•æŒæ¡è¿™é“é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é¢˜ç›®æ ¸å¿ƒè§£æ</h2>
<h3 data-id="heading-1">é¢˜ç›®æè¿°</h3>
<p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œä¸€ä¸ªæ•´æ•° <code>numRows</code>ï¼Œå°†å­—ç¬¦ä¸²æŒ‰ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³çš„é¡ºåºæ’åˆ—æˆ Z å­—å½¢ï¼Œå†ä»å·¦åˆ°å³é€è¡Œè¯»å–å­—ç¬¦ï¼Œè¿”å›æ‹¼æ¥åçš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<h3 data-id="heading-2">ç¤ºä¾‹æ¼”ç¤º</h3>
<p>è¾“å…¥ï¼š<code>s = "PAYPALISHIRING", numRows = 3</code></p>
<p>Z å­—å½¢æ’åˆ—æ•ˆæœï¼š</p>
<pre><code class="hljs language-plain" lang="plain">
P   A   H   N
A P L S I I G
Y   I   R
</code></pre>
<p>é€è¡Œè¯»å–ç»“æœï¼š<code>"PAHNAPLSIIGYIR"</code></p>
<h3 data-id="heading-3">æ ¸å¿ƒè¦æ±‚</h3>
<p>å®ç°å‡½æ•° <code>convert(s: string, numRows: number): string</code>ï¼Œé«˜æ•ˆå®Œæˆå­—ç¬¦ä¸²å˜æ¢ï¼Œéœ€é‡ç‚¹å…³æ³¨è¾¹ç•Œåœºæ™¯ä¸æ€§èƒ½ã€‚</p>
<h2 data-id="heading-4">äºŒã€è§£æ³•ä¸€ï¼šæ•°å­¦å‘¨æœŸæ³•ï¼ˆå…¬å¼æ¨å¯¼å‹ï¼‰</h2>
<h3 data-id="heading-5">æ ¸å¿ƒæ€è·¯</h3>
<p>Z å­—å½¢æ’åˆ—çš„æœ¬è´¨æ˜¯ã€Œå‘¨æœŸæ€§é‡å¤ã€ï¼Œæˆ‘ä»¬å…ˆæç‚¼å…¶å‘¨æœŸè§„å¾‹ï¼š</p>
<ol>
<li>
<p>ä¸€ä¸ªå®Œæ•´çš„ Z å­—å‘¨æœŸåŒ…å« <code>2*(numRows-1)</code> ä¸ªå­—ç¬¦ï¼ˆä¸‹è¡Œé˜¶æ®µå  <code>numRows</code> ä¸ªï¼Œä¸Šè¡Œé˜¶æ®µå  <code>numRows-2</code> ä¸ªï¼Œä¸å«é¦–å°¾é‡å¤è¡Œï¼‰ï¼›</p>
</li>
<li>
<p>é¦–è¡Œä¸æœ«è¡Œï¼šæ¯ä¸ªå‘¨æœŸå†…ä»…å­˜åœ¨ã€Œå‚ç›´åˆ—ã€å­—ç¬¦ï¼Œæ— æ–œåˆ—å­—ç¬¦ï¼›</p>
</li>
<li>
<p>ä¸­é—´è¡Œï¼ˆéé¦–éæœ«ï¼‰ï¼šæ¯ä¸ªå‘¨æœŸå†…åŒæ—¶å­˜åœ¨ã€Œå‚ç›´åˆ—ã€å’Œã€Œæ–œåˆ—ã€ä¸¤ä¸ªå­—ç¬¦ï¼Œéœ€åˆ†åˆ«è®¡ç®—ä½ç½®ã€‚</p>
</li>
</ol>
<p>åŸºäºæ­¤è§„å¾‹ï¼Œæˆ‘ä»¬å¯é€šè¿‡æ•°å­¦å…¬å¼ç›´æ¥å®šä½æ¯ä¸ªå­—ç¬¦åœ¨ç»“æœä¸­çš„ä½ç½®ï¼Œæ— éœ€æ¨¡æ‹Ÿå®Œæ•´ Z å­—å½¢æ’åˆ—ã€‚</p>
<h3 data-id="heading-6">ä»£ç å®ç°ä¸é€è¡Œè§£è¯»</h3>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">convert_1</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span>, numRows: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶1ï¼šè¡Œæ•°ä¸º1æ—¶ï¼Œæ— æ³•å½¢æˆZå­—ï¼Œç›´æ¥è¿”å›åŸå­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">if</span> (numRows === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s;

  <span class="hljs-keyword">const</span> sL = s.<span class="hljs-property">length</span>;
  <span class="hljs-comment">// è®¡ç®—ä¸€ä¸ªå®Œæ•´Zå­—å‘¨æœŸçš„å­—ç¬¦æ•°ï¼ˆæ ¸å¿ƒå˜é‡ï¼‰</span>
  <span class="hljs-keyword">const</span> groupNum = (numRows - <span class="hljs-number">1</span>) * <span class="hljs-number">2</span>;
  <span class="hljs-keyword">let</span> res = <span class="hljs-string">''</span>;

  <span class="hljs-comment">// å¤–å±‚å¾ªç¯ï¼šé€è¡Œè¯»å–ç»“æœ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numRows; i++) {
    <span class="hljs-comment">// å†…å±‚å¾ªç¯ï¼šé€å‘¨æœŸéå†ï¼Œå®šä½å½“å‰è¡Œçš„å­—ç¬¦</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(sL / groupNum); j++) {
      <span class="hljs-comment">// 1. å®šä½å½“å‰å‘¨æœŸå†…å½“å‰è¡Œçš„å‚ç›´åˆ—å­—ç¬¦ç´¢å¼•</span>
      <span class="hljs-keyword">const</span> verticalIdx = i + j * groupNum;
      <span class="hljs-keyword">if</span> (verticalIdx &gt;= sL) <span class="hljs-keyword">break</span>; <span class="hljs-comment">// è¶…å‡ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œç»ˆæ­¢å½“å‰è¡Œéå†</span>
      res += s[verticalIdx];

      <span class="hljs-comment">// 2. ä»…ä¸­é—´è¡Œéœ€è¦è¡¥å……æ–œåˆ—å­—ç¬¦</span>
      <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; i &lt; numRows - <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">const</span> diagonalIdx = groupNum - i + j * groupNum;
        <span class="hljs-keyword">if</span> (diagonalIdx &gt;= sL) <span class="hljs-keyword">break</span>; <span class="hljs-comment">// æ–œåˆ—å­—ç¬¦è¶…å‡ºèŒƒå›´ï¼Œè·³è¿‡</span>
        res += s[diagonalIdx];
      }
    }
  }
  <span class="hljs-keyword">return</span> res;
}
</code></pre>
<h3 data-id="heading-7">å…³é”®æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p>è¾¹ç•Œå¤„ç†ï¼šå¿…é¡»ä¼˜å…ˆåˆ¤æ–­ <code>numRows === 1</code>ï¼Œå¦åˆ™ <code>groupNum</code>ä¼šè®¡ç®—ä¸º 0ï¼Œå¯¼è‡´å¾ªç¯é€»è¾‘å¼‚å¸¸ï¼›</p>
</li>
<li>
<p>ç´¢å¼•åˆæ³•æ€§ï¼šæ¯æ¬¡è®¡ç®—å‚ç›´åˆ—ã€æ–œåˆ—ç´¢å¼•åï¼Œéœ€åˆ¤æ–­æ˜¯å¦è¶…å‡ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œé¿å…è¶Šç•ŒæŠ¥é”™ï¼›</p>
</li>
<li>
<p>æ–œåˆ—å­—ç¬¦èŒƒå›´ï¼šä»…ä¸­é—´è¡Œå­˜åœ¨æ–œåˆ—å­—ç¬¦ï¼Œé¦–è¡Œä¸æœ«è¡Œéœ€è·³è¿‡æ­¤æ­¥éª¤ï¼Œå¦åˆ™ä¼šé‡å¤æ‹¼æ¥å­—ç¬¦ã€‚</p>
</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€è§£æ³•äºŒï¼šæ–¹å‘æ¨¡æ‹Ÿæ³•ï¼ˆç›´è§‚ä¼˜åŒ–å‹ï¼‰</h2>
<h3 data-id="heading-9">ä¼˜åŒ–æ€è·¯</h3>
<p>æ•°å­¦å‘¨æœŸæ³•è™½ç©ºé—´æ•ˆç‡é«˜ï¼Œä½†å…¬å¼æ¨å¯¼å¯¹æ–°æ‰‹ä¸å‹å¥½ï¼Œä¸” JavaScript ä¸­å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œé¢‘ç¹ä½¿ç”¨<code>res +=</code> ä¼šåˆ›å»ºå¤§é‡ä¸´æ—¶å­—ç¬¦ä¸²ï¼Œå­˜åœ¨æ€§èƒ½æŸè€—ã€‚æ–¹å‘æ¨¡æ‹Ÿæ³•é€šè¿‡ã€Œæ¨¡æ‹Ÿå­—ç¬¦ç§»åŠ¨è½¨è¿¹ã€ç®€åŒ–é€»è¾‘ï¼ŒåŒæ—¶ç”¨æ•°ç»„ä¼˜åŒ–å­—ç¬¦ä¸²æ‹¼æ¥ï¼š</p>
<ol>
<li>
<p>ç”¨æ•°ç»„ <code>rows</code> å­˜å‚¨æ¯ä¸€è¡Œçš„å­—ç¬¦ï¼Œé¿å…é¢‘ç¹å­—ç¬¦ä¸²æ‹¼æ¥ï¼›</p>
</li>
<li>
<p>å®šä¹‰ <code>currentRow</code> è·Ÿè¸ªå½“å‰å­—ç¬¦æ‰€åœ¨è¡Œï¼Œ<code>step</code> æ§åˆ¶ç§»åŠ¨æ–¹å‘ï¼ˆ1 å‘ä¸‹ï¼Œ-1 å‘ä¸Šï¼‰ï¼›</p>
</li>
<li>
<p>å½“åˆ°è¾¾é¦–è¡Œæˆ–æœ«è¡Œæ—¶ï¼Œåè½¬ç§»åŠ¨æ–¹å‘ï¼Œå®ç° Z å­—å½¢çš„ã€Œä¸‹è½-ä¸Šå‡ã€å¾ªç¯ã€‚</p>
</li>
</ol>
<h3 data-id="heading-10">ä»£ç å®ç°ä¸é€è¡Œè§£è¯»</h3>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-keyword">function</span> <span class="hljs-title function_">convert_2</span>(<span class="hljs-params">s: <span class="hljs-built_in">string</span>, numRows: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-comment">// è¾¹ç•Œæ¡ä»¶ä¼˜åŒ–ï¼šè¡Œæ•°ä¸º1 æˆ– è¡Œæ•°â‰¥å­—ç¬¦ä¸²é•¿åº¦ï¼Œç›´æ¥è¿”å›åŸå­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">if</span> (numRows === <span class="hljs-number">1</span> || numRows &gt;= s.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> s;

  <span class="hljs-comment">// åˆå§‹åŒ–æ¯è¡Œå­˜å‚¨å®¹å™¨ï¼Œç”¨æ•°ç»„é¿å…é¢‘ç¹å­—ç¬¦ä¸²æ‹¼æ¥</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">rows</span>: <span class="hljs-built_in">string</span>[] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(numRows).<span class="hljs-title function_">fill</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> cycleLen = <span class="hljs-number">2</span> * (numRows - <span class="hljs-number">1</span>); <span class="hljs-comment">// å‘¨æœŸé•¿åº¦ï¼ˆä»…ä½œé€»è¾‘å‚è€ƒï¼Œéå¿…éœ€ï¼‰</span>
  <span class="hljs-keyword">let</span> currentRow = <span class="hljs-number">0</span>; <span class="hljs-comment">// å½“å‰å­—ç¬¦æ‰€åœ¨è¡Œ</span>
  <span class="hljs-keyword">let</span> step = -<span class="hljs-number">1</span>; <span class="hljs-comment">// ç§»åŠ¨æ–¹å‘ï¼š-1å‘ä¸Šï¼Œ1å‘ä¸‹</span>

  <span class="hljs-comment">// éå†æ¯ä¸ªå­—ç¬¦ï¼Œåˆ†é…åˆ°å¯¹åº”è¡Œ</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> char <span class="hljs-keyword">of</span> s) {
    rows[currentRow] += char;

    <span class="hljs-comment">// åˆ°è¾¾é¦–è¡Œ/æœ«è¡Œï¼Œåè½¬ç§»åŠ¨æ–¹å‘</span>
    <span class="hljs-keyword">if</span> (currentRow === <span class="hljs-number">0</span> || currentRow === numRows - <span class="hljs-number">1</span>) {
      step = -step;
    }
    currentRow += step;
  }

  <span class="hljs-comment">// æ‹¼æ¥æ‰€æœ‰è¡Œå­—ç¬¦ï¼Œå¾—åˆ°æœ€ç»ˆç»“æœ</span>
  <span class="hljs-keyword">return</span> rows.<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
}
</code></pre>
<h3 data-id="heading-11">å…³é”®æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>
<p>è¾¹ç•Œæ¡ä»¶è¡¥å……ï¼šæ–°å¢ <code>numRows &gt;= s.length</code> åˆ¤æ–­ï¼Œæ­¤æ—¶å­—ç¬¦ä¸²æ— æ³•å½¢æˆ Z å­—ï¼Œç›´æ¥è¿”å›åŸå­—ç¬¦ä¸²ï¼Œå‡å°‘æ— æ•ˆè®¡ç®—ï¼›</p>
</li>
<li>
<p>æ–¹å‘åˆå§‹åŒ–ï¼š<code>step</code> åˆå§‹å€¼è®¾ä¸º -1ï¼Œæ˜¯å› ä¸ºé¦–æ¬¡è¿›å…¥å¾ªç¯åï¼Œ<code>currentRow</code> ä¸º 0ï¼Œä¼šè§¦å‘æ–¹å‘åè½¬ï¼Œä½¿ç¬¬ä¸€æ­¥ç§»åŠ¨æ–¹å‘ä¸ºå‘ä¸‹ï¼ˆstep=1ï¼‰ï¼›</p>
</li>
<li>
<p>æ•°ç»„ä¼˜åŒ–ï¼šJavaScript ä¸­æ•°ç»„æ‹¼æ¥æ•ˆç‡è¿œé«˜äºå­—ç¬¦ä¸²ç´¯åŠ ï¼Œå°¤å…¶é€‚åˆé•¿å­—ç¬¦ä¸²åœºæ™¯ï¼Œè¿™æ˜¯è¯¥è§£æ³•çš„æ ¸å¿ƒæ€§èƒ½ä¼˜åŠ¿ã€‚</p>
</li>
</ul>
<h2 data-id="heading-12">å››ã€ä¸¤ç§è§£æ³•å¯¹æ¯”ä¸åœºæ™¯é€‰æ‹©</h2>



































<table><thead><tr><th>ç»´åº¦</th><th>æ•°å­¦å‘¨æœŸæ³•</th><th>æ–¹å‘æ¨¡æ‹Ÿæ³•</th></tr></thead><tbody><tr><td>æ—¶é—´å¤æ‚åº¦</td><td>O(n)ï¼ˆæ¯ä¸ªå­—ç¬¦ä»…è®¿é—®ä¸€æ¬¡ï¼‰</td><td>O(n)ï¼ˆæ¯ä¸ªå­—ç¬¦ä»…è®¿é—®ä¸€æ¬¡ï¼‰</td></tr><tr><td>ç©ºé—´å¤æ‚åº¦</td><td>O(1)ï¼ˆä»…ç”¨ä¸´æ—¶å˜é‡ï¼Œæ— é¢å¤–å­˜å‚¨ï¼‰</td><td>O(n)ï¼ˆéœ€æ•°ç»„å­˜å‚¨æ¯è¡Œå­—ç¬¦ï¼‰</td></tr><tr><td>å¯è¯»æ€§</td><td>è¾ƒå·®ï¼Œéœ€ç†è§£å…¬å¼æ¨å¯¼é€»è¾‘</td><td>ä¼˜ç§€ï¼Œæ¨¡æ‹Ÿè¿‡ç¨‹ç›´è§‚æ˜“æ‡‚</td></tr><tr><td>æ€§èƒ½è¡¨ç°</td><td>é•¿å­—ç¬¦ä¸²åœºæ™¯ä¸‹ï¼Œå› é¢‘ç¹å­—ç¬¦ä¸²æ‹¼æ¥ç•¥é€Š</td><td>æ•°ç»„ä¼˜åŒ–æ‹¼æ¥ï¼Œæ€§èƒ½æ›´ç¨³å®š</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ä½å†…å­˜ç¯å¢ƒã€å¯¹ç©ºé—´æ•ˆç‡è¦æ±‚æé«˜çš„åœºæ™¯</td><td>æ—¥å¸¸å¼€å‘ã€é¢è¯•ç­”é¢˜ï¼ˆå…¼é¡¾å¯è¯»æ€§ä¸æ€§èƒ½ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-13">äº”ã€æµ‹è¯•éªŒè¯ä¸å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-14">æµ‹è¯•ç”¨ä¾‹è¦†ç›–</h3>
<pre><code class="hljs language-typescript" lang="typescript">
<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹1ï¼šåŸºç¡€åœºæ™¯</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_1</span>(<span class="hljs-string">"PAYPALISHIRING"</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šPAHNAPLSIIGYIR</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_2</span>(<span class="hljs-string">"PAYPALISHIRING"</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šPAHNAPLSIIGYIR</span>

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹2ï¼šè¡Œæ•°ä¸º4</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_1</span>(<span class="hljs-string">"PAYPALISHIRING"</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šPINALSIGYAHRPI</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_2</span>(<span class="hljs-string">"PAYPALISHIRING"</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šPINALSIGYAHRPI</span>

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹3ï¼šè¾¹ç•Œåœºæ™¯ï¼ˆè¡Œæ•°=1ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_1</span>(<span class="hljs-string">"A"</span>, <span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šA</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_2</span>(<span class="hljs-string">"A"</span>, <span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šA</span>

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹4ï¼šè¾¹ç•Œåœºæ™¯ï¼ˆè¡Œæ•°â‰¥å­—ç¬¦ä¸²é•¿åº¦ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">convert_2</span>(<span class="hljs-string">"ABCDE"</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// è¾“å‡ºï¼šABCDE</span>
</code></pre>
<h3 data-id="heading-15">å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<ol>
<li>
<p>å­—ç¬¦é‡å¤/ç¼ºå¤±ï¼šå¤§æ¦‚ç‡æ˜¯æ–œåˆ—å­—ç¬¦åˆ¤æ–­é€»è¾‘é”™è¯¯ï¼Œéœ€æ£€æŸ¥ <code>i &gt; 0 &amp;&amp; i &lt; numRows - 1</code> æ¡ä»¶æ˜¯å¦é—æ¼ï¼›</p>
</li>
<li>
<p>è¶Šç•ŒæŠ¥é”™ï¼šæœªåˆ¤æ–­ç´¢å¼•åˆæ³•æ€§ï¼Œéœ€åœ¨æ‹¼æ¥å­—ç¬¦å‰æ ¡éªŒ <code>verticalIdx</code> å’Œ <code>diagonalIdx</code> æ˜¯å¦å°äºå­—ç¬¦ä¸²é•¿åº¦ï¼›</p>
</li>
<li>
<p>æ–¹å‘å¼‚å¸¸ï¼š<code>step</code> åˆå§‹åŒ–é”™è¯¯æˆ–æ–¹å‘åè½¬é€»è¾‘ç¼ºå¤±ï¼Œéœ€ç¡®ä¿åˆ°è¾¾é¦–è¡Œ/æœ«è¡Œæ—¶åè½¬æ–¹å‘ã€‚</p>
</li>
</ol>
<h2 data-id="heading-16">å…­ã€æ€»ç»“</h2>
<p>Z å­—å½¢å˜æ¢çš„æ ¸å¿ƒæ˜¯ã€ŒæŠ“ä½å‘¨æœŸæ€§ã€ï¼Œä¸¤ç§è§£æ³•å‡åŸºäºè¿™ä¸€æ ¸å¿ƒè§„å¾‹ï¼Œåªæ˜¯å®ç°è·¯å¾„ä¸åŒï¼šæ•°å­¦å‘¨æœŸæ³•åé‡äºå…¬å¼æ¨å¯¼ï¼Œè¿½æ±‚æè‡´ç©ºé—´æ•ˆç‡ï¼›æ–¹å‘æ¨¡æ‹Ÿæ³•åé‡äºç›´è§‚æ¨¡æ‹Ÿï¼Œç”¨åˆç†çš„ç©ºé—´æ¢å¯è¯»æ€§ä¸æ€§èƒ½ã€‚</p>
<p>åœ¨é¢è¯•ä¸­ï¼Œæ¨èä¼˜å…ˆä½¿ç”¨æ–¹å‘æ¨¡æ‹Ÿæ³•ï¼Œå…¶é€»è¾‘æ¸…æ™°ã€ä¸æ˜“å‡ºé”™ï¼Œèƒ½å¿«é€Ÿå‘é¢è¯•å®˜å±•ç°æ€è·¯ï¼›è‹¥é¢è¯•å®˜è¿½é—®ç©ºé—´ä¼˜åŒ–ï¼Œå¯å†è¡¥å……æ•°å­¦å‘¨æœŸæ³•çš„æ€è·¯ã€‚åŒæ—¶ï¼Œè¾¹ç•Œæ¡ä»¶çš„å…¨é¢è¦†ç›–çš„æ˜¯è¿™é“é¢˜çš„å¾—åˆ†å…³é”®ï¼Œéœ€ç‰¢è®°è¡Œæ•°ä¸º 1ã€è¡Œæ•°â‰¥å­—ç¬¦ä¸²é•¿åº¦è¿™ä¸¤ä¸ªç‰¹æ®Šåœºæ™¯ã€‚</p>
<p>æŒæ¡è¿™é“é¢˜çš„æ€è€ƒæ–¹å¼ï¼Œèƒ½ä¸ºåç»­è§£å†³å­—ç¬¦ä¸²ã€æ•°ç»„ç±»çš„è§„å¾‹å‹é¢˜ç›®æä¾›å€Ÿé‰´ï¼Œæ ¸å¿ƒæ˜¯å­¦ä¼šä»å¤æ‚æ’åˆ—ä¸­æç‚¼ç®€åŒ–è§„å¾‹ï¼Œå†é€šè¿‡ä»£ç ä¼˜åŒ–å¹³è¡¡æ•ˆç‡ä¸å¯è¯»æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MMKVï¼šé«˜æ€§èƒ½ç§»åŠ¨ç«¯é”®å€¼å­˜å‚¨æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7598947628467421230</link>    <guid>https://juejin.cn/post/7598947628467421230</guid>    <pubDate>2026-01-25T09:07:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598947628467421230" data-draft-id="7598537739516592170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MMKVï¼šé«˜æ€§èƒ½ç§»åŠ¨ç«¯é”®å€¼å­˜å‚¨æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-25T09:07:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åº¦ç†Šå›"/> <meta itemprop="url" content="https://juejin.cn/user/1618089084457853"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MMKVï¼šé«˜æ€§èƒ½ç§»åŠ¨ç«¯é”®å€¼å­˜å‚¨æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1618089084457853/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åº¦ç†Šå›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:07:19.000Z" title="Sun Jan 25 2026 09:07:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€MMKV çš„å«ä¹‰ä¸æ¦‚è¿°</h2>
<p>MMKV æ˜¯è…¾è®¯å¼€æºçš„ä¸€æ¬¾åŸºäº mmap å†…å­˜æ˜ å°„çš„é”®å€¼å­˜å‚¨ç»„ä»¶ï¼Œä¸“é—¨ä¸ºç§»åŠ¨ç«¯è®¾è®¡ï¼Œå…·æœ‰é«˜æ€§èƒ½çš„ç‰¹æ€§ï¼Œæ ¸å¿ƒå®šä½æ˜¯<strong>æ›¿ä»£ä¼ ç»Ÿçš„è½»é‡çº§é”®å€¼å­˜å‚¨æ–¹æ¡ˆ</strong>ã€‚å…¶åå­—æ¥æºäº "Memory-Mapped Key-Value" çš„ç¼©å†™ã€‚</p>
<h2 data-id="heading-1">äºŒã€MMKV çš„ä½œç”¨ä¸ä¼˜åŠ¿</h2>
<ol>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šåŸºäº mmap å†…å­˜æ˜ å°„ï¼Œè¯»å†™æ€§èƒ½è¿œè¶… SharedPreferencesã€‚SharedPreferences çš„ IO æ“ä½œåŸºäºæ–‡ä»¶æµï¼Œé¢‘ç¹è¯»å†™ä¼šè§¦å‘å¤§é‡ç£ç›˜ IOï¼Œè€Œ MMKV åŸºäº mmap å®ç° â€œå†…å­˜ - ç£ç›˜â€ æ˜ å°„ï¼Œè¯»å†™å‡ ä¹æ— ç£ç›˜ IO å¼€é”€</li>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šMMKV ä¸ä¼šåƒ SP é‚£æ ·æ¯æ¬¡ä¿®æ”¹éƒ½é‡å†™æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œæ˜¯åœ¨å†…å­˜æ˜ å°„åŒºåŸŸä¸­æ‰¾åˆ°å¯¹åº”é”®çš„ä½ç½®ï¼Œç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œä»…å½“å†…å­˜ä¸è¶³æ—¶æ‰æ‰©å®¹æ–‡ä»¶å¹¶é‡æ–°æ˜ å°„ï¼Œå¤§å¹…å‡å°‘ç£ç›˜å†™å…¥å¼€é”€ã€‚</li>
<li><strong>å¤šè¿›ç¨‹å®‰å…¨</strong>ï¼šå†…ç½®æ–‡ä»¶é”æœºåˆ¶ï¼Œæ”¯æŒå¤šè¿›ç¨‹è¯»å†™ã€‚SharedPreferences å¤šè¿›ç¨‹æ¨¡å¼å­˜åœ¨æ•°æ®ä¸¢å¤±ã€æ­»é”é£é™©ï¼ŒMMKV å†…ç½®æ–‡ä»¶é”ï¼Œä¿è¯å¤šè¿›ç¨‹å®‰å…¨</li>
<li><strong>æ˜“ç”¨æ€§</strong>ï¼šAPI è®¾è®¡ç®€æ´ï¼Œä¸ SharedPreferences å…¼å®¹ï¼Œè¿ç§»æˆæœ¬æä½</li>
<li><strong>è½»é‡</strong>ï¼šç¼–è¯‘åä½“ç§¯ä»…å‡ å KB</li>
<li><strong>æ•°æ®åŠ å¯†</strong>ï¼šæ”¯æŒ AES CFB-128 åŠ å¯†ä¿æŠ¤æ•æ„Ÿæ•°æ®</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-3">1. ç”¨æˆ·é…ç½®å­˜å‚¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ›¿ä»£ SharedPreferences å­˜å‚¨ç”¨æˆ·è®¾ç½®</span>
MMKV.defaultMMKV().encode(<span class="hljs-string">"theme_mode"</span>, <span class="hljs-string">"dark"</span>)
<span class="hljs-keyword">val</span> theme = MMKV.defaultMMKV().decodeString(<span class="hljs-string">"theme_mode"</span>)
</code></pre>
<h3 data-id="heading-4">2. è½»é‡çº§ç¼“å­˜</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å­˜å‚¨ä¸´æ—¶æ•°æ®æˆ–ç¼“å­˜</span>
<span class="hljs-keyword">val</span> mmkv = MMKV.mmkvWithID(<span class="hljs-string">"user_cache"</span>)
mmkv.encode(<span class="hljs-string">"last_login_time"</span>, System.currentTimeMillis())
mmkv.encode(<span class="hljs-string">"user_profile"</span>, jsonString)
</code></pre>
<h3 data-id="heading-5">3. è·¨è¿›ç¨‹æ•°æ®å…±äº«</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¤šè¿›ç¨‹åº”ç”¨ä¸­çš„æ•°æ®åŒæ­¥</span>
<span class="hljs-keyword">val</span> mmkv = MMKV.mmkvWithID(<span class="hljs-string">"inter_process_data"</span>, MMKV.MULTI_PROCESS_MODE)
mmkv.encode(<span class="hljs-string">"global_config"</span>, configData)
</code></pre>
<h3 data-id="heading-6">4. æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åŠ å¯†å­˜å‚¨ç”¨æˆ·å‡­è¯ç­‰æ•æ„Ÿä¿¡æ¯</span>
<span class="hljs-keyword">val</span> cryptKey = <span class="hljs-string">"My-Encryption-Key"</span>.toByteArray()
<span class="hljs-keyword">val</span> mmkv = MMKV.mmkvWithID(<span class="hljs-string">"encrypted_data"</span>, MMKV.SINGLE_PROCESS_MODE, cryptKey)
mmkv.encode(<span class="hljs-string">"auth_token"</span>, sensitiveToken)
</code></pre>
<h2 data-id="heading-7">å››ã€æ ¸å¿ƒåŸç†è¯¦è§£</h2>
<h3 data-id="heading-8">1. å†…å­˜æ˜ å°„ï¼ˆmmapï¼‰æœºåˆ¶</h3>
<p>MMKV çš„æ ¸å¿ƒæ˜¯ä½¿ç”¨ mmap å°†æ–‡ä»¶ç›´æ¥æ˜ å°„åˆ°å†…å­˜ç©ºé—´ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++ æ ¸å¿ƒå®ç°ï¼ˆç®€åŒ–ï¼‰</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MMKV::initializeMMKV</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string &amp;path)</span> </span>{
    <span class="hljs-comment">// æ‰“å¼€æˆ–åˆ›å»ºæ–‡ä»¶</span>
    m_fd = <span class="hljs-built_in">open</span>(path.<span class="hljs-built_in">c_str</span>(), O_RDWR | O_CREAT, S_IRWXU);
    
    <span class="hljs-comment">// è·å–æ–‡ä»¶å¤§å°å¹¶è°ƒæ•´</span>
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">stat</span> st = {};
    <span class="hljs-built_in">fstat</span>(m_fd, &amp;st);
    m_size = st.st_size;
    
    <span class="hljs-comment">// å†…å­˜æ˜ å°„</span>
    m_ptr = (<span class="hljs-type">char</span> *)<span class="hljs-built_in">mmap</span>(<span class="hljs-literal">nullptr</span>, m_size, PROT_READ | PROT_WRITE, MAP_SHARED, m_fd, <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// æ–‡ä»¶é•¿åº¦ä¸å¤Ÿæ—¶æ‰©å®¹</span>
    <span class="hljs-keyword">if</span> (m_actualSize &gt; m_size) {
        <span class="hljs-keyword">do</span> {
            m_size *= <span class="hljs-number">2</span>;
        } <span class="hljs-keyword">while</span> (m_actualSize &gt; m_size);
        <span class="hljs-built_in">ftruncate</span>(m_fd, m_size);
        <span class="hljs-built_in">munmap</span>(m_ptr, m_size);
        m_ptr = (<span class="hljs-type">char</span> *)<span class="hljs-built_in">mmap</span>(<span class="hljs-literal">nullptr</span>, m_size, PROT_READ | PROT_WRITE, MAP_SHARED, m_fd, <span class="hljs-number">0</span>);
    }
}
</code></pre>
<p><strong>mmap ä¼˜åŠ¿</strong>ï¼š
<code>mmap</code> æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„å†…å­˜æ˜ å°„æ–‡ä»¶æœºåˆ¶ï¼Œå°†ç£ç›˜æ–‡ä»¶çš„ä¸€éƒ¨åˆ† / å…¨éƒ¨æ˜ å°„åˆ°è¿›ç¨‹çš„è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œåç»­å¯¹è¯¥å†…å­˜åŒºåŸŸçš„è¯»å†™æ“ä½œï¼Œä¼šç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨åŒæ­¥åˆ°ç£ç›˜ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨ <code>read()</code>/<code>write()</code>ã€‚</p>
<p>ç›¸æ¯”ä¼ ç»Ÿæ–‡ä»¶ IOï¼š</p>
<ul>
<li>ä¼ ç»Ÿ IOï¼šæ•°æ®éœ€ç»è¿‡ â€œç£ç›˜ â†’ å†…æ ¸ç¼“å†²åŒº â†’ ç”¨æˆ·ç¼“å†²åŒºâ€ ä¸¤æ¬¡æ‹·è´ï¼›</li>
<li>mmapï¼šæ•°æ®ç›´æ¥æ˜ å°„åˆ°ç”¨æˆ·å†…å­˜ï¼Œä»…ä¸€æ¬¡æ‹·è´ï¼Œä¸”è¯»å†™æ“ä½œæ— ç³»ç»Ÿè°ƒç”¨å¼€é”€ã€‚</li>
</ul>
<h3 data-id="heading-9">2. æ•°æ®åºåˆ—åŒ–ä¸å­˜å‚¨æ ¼å¼</h3>
<p>MMKV é‡‡ç”¨ <strong>Protobuf</strong>ï¼ˆProtocol Buffersï¼‰ä½œä¸ºæ•°æ®åºåˆ—åŒ–æ–¹å¼ï¼Œè€Œé SP çš„ XML æ ¼å¼ï¼Œæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>äºŒè¿›åˆ¶ç¼–ç ï¼Œä½“ç§¯è¿œå°äº XMLï¼›</li>
<li>è§£æé€Ÿåº¦å¿«ï¼Œæ— éœ€åƒ XML é‚£æ ·è§£æå­—ç¬¦ä¸²ï¼›</li>
<li>æ”¯æŒå¢é‡æ›´æ–°ï¼Œä»…ä¿®æ”¹å˜åŒ–çš„å­—æ®µï¼Œæ— éœ€é‡å†™æ•´ä¸ªæ–‡ä»¶ã€‚</li>
</ul>
<pre><code class="hljs language-protobuf" lang="protobuf">// æ•°æ®å­˜å‚¨ç»“æ„
message KV {
    optional string key = 1;
    optional bytes value = 2;
    optional sint32 value_size = 3;
}

// æ–‡ä»¶æ ¼å¼
+----------------+----------------+----------------+
|   Total Size   |   Actual Size  |   CRC Check    |
+----------------+----------------+----------------+
|                |                |                |
|   Key-Value    |   Key-Value    |   Key-Value    |
|    Pairs       |    Pairs       |    Pairs       |
|                |                |                |
+----------------+----------------+----------------+
</code></pre>
<h3 data-id="heading-10">3. å¤šè¿›ç¨‹åŒæ­¥æœºåˆ¶</h3>
<p>MMKV ä½¿ç”¨æ–‡ä»¶é”å®ç°è¿›ç¨‹é—´åŒæ­¥ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è¿›ç¨‹é”å®ç°</span>
<span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">MMKV::lock</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">flock</span> lock = {};
    lock.l_type = F_WRLCK;
    lock.l_whence = SEEK_SET;
    lock.l_start = <span class="hljs-number">0</span>;
    lock.l_len = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">fcntl</span>(m_fd, F_SETLKW, &amp;lock) == <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MMKV::unlock</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">flock</span> lock = {};
    lock.l_type = F_UNLCK;
    lock.l_whence = SEEK_SET;
    
    <span class="hljs-built_in">fcntl</span>(m_fd, F_SETLK, &amp;lock);
}
</code></pre>
<h3 data-id="heading-11">4. æ•°æ®åŠ å¯†å®ç°</h3>
<p>é‡‡ç”¨ AES CFB-128 åŠ å¯†ç®—æ³•ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åŠ å¯†è§£å¯†æµç¨‹</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MMKV::crypt</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">void</span> *input, <span class="hljs-type">void</span> *output, <span class="hljs-type">size_t</span> length)</span> </span>{
    <span class="hljs-keyword">if</span> (!m_crypter) {
        <span class="hljs-built_in">memcpy</span>(output, input, length);
        <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-keyword">if</span> (m_crypter-&gt;<span class="hljs-built_in">getCryptTag</span>() != m_metaInfo-&gt;m_cryptTag) {
        <span class="hljs-comment">// éœ€è¦é‡æ–°è®¡ç®— CRC</span>
        <span class="hljs-built_in">recalcCRCDigest</span>();
    }
    
    m_crypter-&gt;<span class="hljs-built_in">crypt</span>(input, output, length);
}
</code></pre>
<h3 data-id="heading-12">5. æ•°æ®æ·˜æ±°ä¸å‹ç¼©æœºåˆ¶</h3>
<p>å½“å­˜å‚¨ç©ºé—´ä¸è¶³æ—¶ï¼ŒMMKV ä¼šæ‰§è¡Œæ•°æ®æ¸…ç†ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MMKV::trim</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// æ”¶é›†æ‰€æœ‰æœ‰æ•ˆæ•°æ®çš„æŒ‡é’ˆ</span>
    std::vector&lt;MMBuffer&gt; validBuffers;
    
    <span class="hljs-comment">// é‡æ–°æ•´ç†æ•°æ®ï¼Œä¸¢å¼ƒè¿‡æœŸæ•°æ®</span>
    <span class="hljs-type">size_t</span> newSize = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;pair : m_dic) {
        <span class="hljs-keyword">if</span> (!pair.second.<span class="hljs-built_in">isStale</span>()) {
            validBuffers.<span class="hljs-built_in">push_back</span>(pair.second);
            newSize += pair.second.<span class="hljs-built_in">length</span>();
        }
    }
    
    <span class="hljs-comment">// å¦‚æœèŠ‚çœç©ºé—´è¶…è¿‡é˜ˆå€¼ï¼Œæ‰§è¡Œå‹ç¼©</span>
    <span class="hljs-keyword">if</span> (m_actualSize - newSize &gt; m_size * <span class="hljs-number">0.5</span>) {
        <span class="hljs-built_in">fullWriteback</span>();
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€Android é›†æˆä¸ä½¿ç”¨</h2>
<h3 data-id="heading-14">1. æ·»åŠ ä¾èµ–</h3>
<pre><code class="hljs language-gradle" lang="gradle">dependencies {
    implementation 'com.tencent:mmkv:2.3.0'
}
</code></pre>
<h3 data-id="heading-15">2. åˆå§‹åŒ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        
        <span class="hljs-comment">// åˆå§‹åŒ– MMKV</span>
        <span class="hljs-keyword">val</span> rootDir = MMKV.initialize(<span class="hljs-keyword">this</span>)
        println(<span class="hljs-string">"MMKV root: <span class="hljs-variable">$rootDir</span>"</span>)
        
        <span class="hljs-comment">// æˆ–æŒ‡å®šè‡ªå®šä¹‰è·¯å¾„</span>
        <span class="hljs-comment">// MMKV.initialize(cacheDir.absolutePath + "/mmkv")</span>
    }
}
</code></pre>
<h3 data-id="heading-16">3. åŸºæœ¬æ“ä½œ</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è·å–é»˜è®¤å®ä¾‹</span>
<span class="hljs-keyword">val</span> kv = MMKV.defaultMMKV()

<span class="hljs-comment">// å­˜å‚¨æ•°æ®</span>
kv.encode(<span class="hljs-string">"bool"</span>, <span class="hljs-literal">true</span>)
kv.encode(<span class="hljs-string">"int"</span>, <span class="hljs-number">123</span>)
kv.encode(<span class="hljs-string">"string"</span>, <span class="hljs-string">"Hello, MMKV"</span>)
kv.encode(<span class="hljs-string">"float"</span>, <span class="hljs-number">3.14f</span>)
kv.encode(<span class="hljs-string">"bytes"</span>, byteArrayOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-keyword">val</span> bValue = kv.decodeBool(<span class="hljs-string">"bool"</span>)
<span class="hljs-keyword">val</span> iValue = kv.decodeInt(<span class="hljs-string">"int"</span>)
<span class="hljs-keyword">val</span> sValue = kv.decodeString(<span class="hljs-string">"string"</span>)

<span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
kv.removeValueForKey(<span class="hljs-string">"bool"</span>)
kv.removeValuesForKeys(arrayOf(<span class="hljs-string">"int"</span>, <span class="hljs-string">"float"</span>))

<span class="hljs-comment">// æ‰¹é‡æ›´æ–°</span>
kv.edit().apply {
    putString(<span class="hljs-string">"name"</span>, <span class="hljs-string">"John"</span>)
    putInt(<span class="hljs-string">"age"</span>, <span class="hljs-number">30</span>)
    commit()
}
</code></pre>
<h3 data-id="heading-17">4. é«˜çº§ç‰¹æ€§ä½¿ç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. å¤šå®ä¾‹ç®¡ç†</span>
<span class="hljs-keyword">val</span> userKV = MMKV.mmkvWithID(<span class="hljs-string">"user_data"</span>)
<span class="hljs-keyword">val</span> settingsKV = MMKV.mmkvWithID(<span class="hljs-string">"app_settings"</span>)

<span class="hljs-comment">// 2. æ•°æ®å˜åŒ–ç›‘å¬</span>
<span class="hljs-keyword">val</span> listener = <span class="hljs-keyword">object</span> : MMKV.OnContentChangeListener {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onContentChangedByOuterProcess</span><span class="hljs-params">(mmkvID: <span class="hljs-type">String</span>?)</span></span> {
        <span class="hljs-comment">// å¤„ç†è·¨è¿›ç¨‹æ•°æ®å˜æ›´</span>
    }
}
kv.addContentChangeListener(listener)

<span class="hljs-comment">// 3. å¤‡ä»½ä¸æ¢å¤</span>
<span class="hljs-keyword">val</span> backupPath = filesDir.absolutePath + <span class="hljs-string">"/backup"</span>
<span class="hljs-keyword">val</span> backupKey = <span class="hljs-string">"backup_key"</span>
kv.backupOneToDirectory(backupPath, backupKey)

<span class="hljs-comment">// 4. æ•°æ®è¿ç§»ï¼ˆä» SharedPreferencesï¼‰</span>
<span class="hljs-keyword">val</span> sharedPreferences = getSharedPreferences(<span class="hljs-string">"old_data"</span>, MODE_PRIVATE)
kv.importFromSharedPreferences(sharedPreferences)
sharedPreferences.edit().clear().apply()
</code></pre>
<h2 data-id="heading-18">å…­ã€æ€§èƒ½å¯¹æ¯”</h2>
<p>ä»¥ä¸‹æ˜¯ MMKV ä¸ SharedPreferences çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼š</p>





























<table><thead><tr><th>æ“ä½œç±»å‹</th><th>MMKV</th><th>SharedPreferences</th><th>æå‡å€æ•°</th></tr></thead><tbody><tr><td>å†™å…¥ 1000 æ¡æ•°æ®</td><td>~50ms</td><td>~10000ms</td><td>200å€</td></tr><tr><td>è¯»å– 1000 æ¡æ•°æ®</td><td>~10ms</td><td>~2000ms</td><td>200å€</td></tr><tr><td>è·¨è¿›ç¨‹è¯»å–</td><td>~20ms</td><td>ä¸æ”¯æŒ</td><td>N/A</td></tr></tbody></table>
<h2 data-id="heading-19">ä¸ƒã€æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-20">1. å­˜å‚¨ç­–ç•¥é€‰æ‹©</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ ¹æ®åœºæ™¯é€‰æ‹©å­˜å‚¨æ¨¡å¼</span>
<span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageStrategy</span> {
    <span class="hljs-comment">// å•è¿›ç¨‹é¢‘ç¹è¯»å†™</span>
    SINGLE_PROCESS_FREQUENT {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMMKV</span><span class="hljs-params">()</span></span>: MMKV {
            <span class="hljs-keyword">return</span> MMKV.mmkvWithID(<span class="hljs-string">"frequent_data"</span>)
        }
    },
    
    <span class="hljs-comment">// è·¨è¿›ç¨‹å…±äº«</span>
    MULTI_PROCESS_SHARED {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMMKV</span><span class="hljs-params">()</span></span>: MMKV {
            <span class="hljs-keyword">return</span> MMKV.mmkvWithID(<span class="hljs-string">"shared_data"</span>, MMKV.MULTI_PROCESS_MODE)
        }
    },
    
    <span class="hljs-comment">// åŠ å¯†å­˜å‚¨</span>
    ENCRYPTED_SENSITIVE {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMMKV</span><span class="hljs-params">()</span></span>: MMKV {
            <span class="hljs-keyword">val</span> key = <span class="hljs-string">"your-256-bit-encryption-key"</span>.toByteArray()
            <span class="hljs-keyword">return</span> MMKV.mmkvWithID(<span class="hljs-string">"sensitive"</span>, MMKV.SINGLE_PROCESS_MODE, key)
        }
    };
    
    <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMMKV</span><span class="hljs-params">()</span></span>: MMKV
}
</code></pre>
<h3 data-id="heading-21">2. æ•°æ®å¤§å°æ§åˆ¶</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é¿å…å­˜å‚¨è¿‡å¤§æ•°æ®</span>
<span class="hljs-keyword">object</span> MMKVManager {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> MAX_VALUE_SIZE = <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> <span class="hljs-comment">// 1MB</span>
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">safeEncode</span><span class="hljs-params">(key: <span class="hljs-type">String</span>, value: <span class="hljs-type">ByteArray</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">if</span> (value.size &gt; MAX_VALUE_SIZE) {
            Log.w(<span class="hljs-string">"MMKV"</span>, <span class="hljs-string">"Value too large for key: <span class="hljs-variable">$key</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">return</span> MMKV.defaultMMKV().encode(key, value)
    }
}
</code></pre>
<h3 data-id="heading-22">3. å¼‚å¸¸å¤„ç†</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¥å£®çš„æ•°æ®è®¿é—®</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">safeDecodeString</span><span class="hljs-params">(key: <span class="hljs-type">String</span>, defaultValue: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>)</span></span>: String {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
        MMKV.defaultMMKV().decodeString(key, defaultValue) ?: defaultValue
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        Log.e(<span class="hljs-string">"MMKV"</span>, <span class="hljs-string">"Failed to decode key: <span class="hljs-variable">$key</span>"</span>, e)
        defaultValue
    }
}
</code></pre>
<h2 data-id="heading-23">å…«ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>æ•°æ®é‡é™åˆ¶</strong>ï¼šé€‚åˆå­˜å‚¨ä¸­å°è§„æ¨¡æ•°æ®ï¼Œä¸å»ºè®®å­˜å‚¨è¶…è¿‡ 1MB çš„å•ä¸ªå€¼</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹</strong>ï¼šå‡çº§æ—¶æ³¨æ„æ•°æ®æ ¼å¼å…¼å®¹æ€§</li>
<li><strong>å†…å­˜ä½¿ç”¨</strong>ï¼šå¤§æ•°æ®é‡æ—¶æ³¨æ„å†…å­˜å ç”¨ç›‘æ§</li>
</ol>
<p><strong><strong>æ¬¢è¿å…³æ³¨å…¬ä¼—å·åº¦ç†Šå›ï¼Œä¸€èµ·åˆ†äº«äº¤æµã€‚</strong></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter åº•å±‚åŸç†xyzé¢˜å…¨é¢æ¢³ç†]]></title>    <link>https://juejin.cn/post/7598472744482013203</link>    <guid>https://juejin.cn/post/7598472744482013203</guid>    <pubDate>2026-01-25T08:25:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598472744482013203" data-draft-id="7598737609493905427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter åº•å±‚åŸç†xyzé¢˜å…¨é¢æ¢³ç†"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-01-25T08:25:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿†æ±Ÿå—"/> <meta itemprop="url" content="https://juejin.cn/user/4230576472602845"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter åº•å±‚åŸç†xyzé¢˜å…¨é¢æ¢³ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576472602845/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿†æ±Ÿå—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T08:25:25.000Z" title="Sun Jan 25 2026 08:25:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Flutter æ¶æ„åŸç†</h2>
<h3 data-id="heading-1">1. Flutter çš„æ•´ä½“æ¶æ„æ˜¯æ€æ ·çš„ï¼Ÿ</h3>
<p>Flutter é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œä»ä¸Šåˆ°ä¸‹åˆ†ä¸ºä¸‰å±‚ï¼š</p>
<p><strong>Framework å±‚ï¼ˆDartï¼‰</strong></p>
<ul>
<li><strong>Material/Cupertino</strong>ï¼šUI ç»„ä»¶åº“</li>
<li><strong>Widgets</strong>ï¼šç»„åˆå¼ UI æ„å»º</li>
<li><strong>Rendering</strong>ï¼šå¸ƒå±€ã€ç»˜åˆ¶ã€å‘½ä¸­æµ‹è¯•</li>
<li><strong>Animation/Painting/Gestures</strong>ï¼šåŠ¨ç”»ã€ç»˜å›¾ã€æ‰‹åŠ¿</li>
<li><strong>Foundation</strong>ï¼šåŸºç¡€å·¥å…·ç±»</li>
</ul>
<p><strong>Engine å±‚ï¼ˆC++ï¼‰</strong></p>
<ul>
<li><strong>Skia</strong>ï¼š2D æ¸²æŸ“å¼•æ“ï¼Œè´Ÿè´£å…‰æ …åŒ–</li>
<li><strong>Dart Runtime</strong>ï¼šDart è™šæ‹Ÿæœºï¼ŒJIT/AOT ç¼–è¯‘</li>
<li><strong>Text</strong>ï¼šæ–‡æœ¬æ’ç‰ˆå¼•æ“ï¼ˆlibtxt + HarfBuzz + ICUï¼‰</li>
<li><strong>Shell</strong>ï¼šå¹³å°é€‚é…å±‚</li>
</ul>
<p><strong>Embedder å±‚ï¼ˆå¹³å°ç›¸å…³ï¼‰</strong></p>
<ul>
<li>è´Ÿè´£ä¸åŸç”Ÿå¹³å°äº¤äº’</li>
<li>æä¾› Surface ä¾›æ¸²æŸ“</li>
<li>å¤„ç†è¾“å…¥äº‹ä»¶ã€ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Framework (Dart)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Material / Cupertino          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚            Widgets                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚           Rendering                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚   <span class="hljs-attribute">Animation</span> / Painting / Gestures  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚          Foundation                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Engine (C++)                â”‚
â”‚  Skia â”‚ Dart VM â”‚ Text â”‚ Platform Shell â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Embedder (Platform Specific)      â”‚
â”‚     Android â”‚ iOS â”‚ Windows â”‚ macOS     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€ä¸‰æ£µæ ‘åŸç†ï¼ˆæ ¸å¿ƒé‡ç‚¹ï¼‰</h2>
<h3 data-id="heading-3">2. Widgetã€Elementã€RenderObject ä¸‰æ£µæ ‘çš„å…³ç³»ï¼Ÿ</h3>
<p><strong>Widget Treeï¼ˆé…ç½®æ ‘ï¼‰</strong></p>
<ul>
<li>Widget æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰é…ç½®æè¿°</li>
<li>è½»é‡çº§ï¼Œå¯é¢‘ç¹åˆ›å»ºé”€æ¯</li>
<li>åªæ˜¯ "è“å›¾"ï¼Œä¸ç›´æ¥å‚ä¸æ¸²æŸ“</li>
</ul>
<p><strong>Element Treeï¼ˆå…ƒç´ æ ‘ï¼‰</strong></p>
<ul>
<li>Widget çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿æ¥ Widget å’Œ RenderObject</li>
<li>å¯å˜çš„ï¼Œæœ‰ç”Ÿå‘½å‘¨æœŸ</li>
<li>è´Ÿè´£ç®¡ç† Widget çš„å¤ç”¨å’Œæ›´æ–°</li>
<li>æŒæœ‰ BuildContextï¼ˆElement å°±æ˜¯ BuildContextï¼‰</li>
</ul>
<p><strong>RenderObject Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰</strong></p>
<ul>
<li>çœŸæ­£è´Ÿè´£å¸ƒå±€ï¼ˆlayoutï¼‰å’Œç»˜åˆ¶ï¼ˆpaintï¼‰</li>
<li>åŒ…å«å°ºå¯¸ã€ä½ç½®ä¿¡æ¯</li>
<li>è®¡ç®—æˆæœ¬é«˜ï¼Œå°½é‡å¤ç”¨</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">Widget Tree          Element Tree         RenderObject Tree
    â”‚                     â”‚                      â”‚
Container â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º ComponentElement           â”‚
    â”‚                     â”‚                      â”‚
    â””â”€â”€â–º <span class="hljs-attribute">Padding</span> â”€â”€â”€â”€â–º SingleChildRender â”€â”€â”€â–º RenderPadding
              â”‚           Element                    â”‚
              â””â”€â”€â–º Text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º RenderParagraph
</code></pre>
<h3 data-id="heading-4">3. ä¸ºä»€ä¹ˆè¦è®¾è®¡ä¸‰æ£µæ ‘ï¼Ÿ</h3>
<p><strong>åˆ†ç¦»å…³æ³¨ç‚¹</strong>ï¼š</p>
<ul>
<li>Widgetï¼šæè¿° UI é…ç½®ï¼Œå¼€å‘è€…å‹å¥½</li>
<li>Elementï¼šç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œé«˜æ•ˆ diff</li>
<li>RenderObjectï¼šä¸“æ³¨æ¸²æŸ“æ€§èƒ½</li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>Widget å¯é¢‘ç¹é‡å»ºï¼ˆO(n)åˆ›å»ºæˆæœ¬ä½ï¼‰</li>
<li>Element å¤ç”¨æœºåˆ¶å‡å°‘é‡å»º</li>
<li>RenderObject åªåœ¨å¿…è¦æ—¶æ›´æ–°</li>
</ul>
<p><strong>å¤ç”¨ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Element çš„ updateChild æ ¸å¿ƒé€»è¾‘</span>
<span class="hljs-keyword">if</span> (widget == newWidget) <span class="hljs-keyword">return</span> child;  <span class="hljs-comment">// åŒä¸€å®ä¾‹ï¼Œæ— éœ€æ›´æ–°</span>
<span class="hljs-keyword">if</span> (widget.runtimeType == newWidget.runtimeType &amp;&amp;
    widget.key == newWidget.key) {
  child.update(newWidget);  <span class="hljs-comment">// å¤ç”¨ Elementï¼Œæ›´æ–°é…ç½®</span>
  <span class="hljs-keyword">return</span> child;
}
<span class="hljs-comment">// ç±»å‹æˆ– key ä¸åŒï¼Œé”€æ¯é‡å»º</span>
</code></pre>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€æ¸²æŸ“ç®¡çº¿åŸç†</h2>
<h3 data-id="heading-6">4. Flutter çš„æ¸²æŸ“æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</h3>
<p>ä¸€å¸§çš„æ¸²æŸ“æµç¨‹ï¼ˆçº¦ 16.67ms @60fpsï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸€å¸§æ¸²æŸ“æµç¨‹                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Build   â”‚  Layout  â”‚  Paint   â”‚ Compositeâ”‚   Raster   â”‚
â”‚  æ„å»º     â”‚   å¸ƒå±€    â”‚   ç»˜åˆ¶    â”‚   åˆæˆ    â”‚   å…‰æ …åŒ–   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ setState â”‚ è®¡ç®—å¤§å°  â”‚ ç”ŸæˆLayer â”‚ æ„å»ºåœºæ™¯  â”‚  GPUæ¸²æŸ“   â”‚
â”‚ è§¦å‘é‡å»º  â”‚ ç¡®å®šä½ç½®  â”‚   Tree    â”‚   æ ‘     â”‚   ä¸Šå±    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">         UI Thread                          GPU Thread
</span></code></pre>
<p><strong>è¯¦ç»†æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p><strong>Build Phase</strong></p>
<ul>
<li><code>setState()</code> æ ‡è®° Element ä¸º dirty</li>
<li><code>WidgetsBinding.drawFrame()</code> è§¦å‘</li>
<li>è°ƒç”¨ <code>build()</code> æ–¹æ³•é‡å»º Widget æ ‘</li>
<li>Element è¿›è¡Œ diffï¼Œå†³å®šå¤ç”¨æˆ–é‡å»º</li>
</ul>
</li>
<li>
<p><strong>Layout Phase</strong></p>
<ul>
<li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œçˆ¶ä¼ çº¦æŸç»™å­</li>
<li>å­è¿”å›å°ºå¯¸ç»™çˆ¶</li>
<li>ç¡®å®šæ¯ä¸ªèŠ‚ç‚¹çš„ Size å’Œ Position</li>
<li><strong>Constraints go down, Sizes go up</strong></li>
</ul>
</li>
<li>
<p><strong>Paint Phase</strong></p>
<ul>
<li>éå† RenderObject æ ‘</li>
<li>è°ƒç”¨ <code>paint()</code> æ–¹æ³•ç”Ÿæˆç»˜åˆ¶æŒ‡ä»¤</li>
<li>æ„å»º Layer Treeï¼ˆåˆ†å±‚åˆæˆï¼‰</li>
</ul>
</li>
<li>
<p><strong>Composite Phase</strong></p>
<ul>
<li>åˆæˆ Layer Tree ä¸º Scene</li>
<li>æäº¤ç»™ Engine</li>
</ul>
</li>
<li>
<p><strong>Raster Phase</strong></p>
<ul>
<li>Skia å°† Scene å…‰æ …åŒ–ä¸ºåƒç´ </li>
<li>GPU æ¸²æŸ“ä¸Šå±</li>
</ul>
</li>
</ol>
<h3 data-id="heading-7">5. Layout å¸ƒå±€çš„çº¦æŸä¼ é€’æœºåˆ¶ï¼Ÿ</h3>
<p>Flutter ä½¿ç”¨ <strong>ç›’çº¦æŸæ¨¡å‹ï¼ˆBox Constraintsï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BoxConstraints</span> </span>{
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> minWidth;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> maxWidth;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> minHeight;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> maxHeight;
}
</code></pre>
<p><strong>çº¦æŸä¼ é€’è¿‡ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">çˆ¶ Widget
<span class="hljs-code">    â”‚
    â”œâ”€â”€â–º ä¼ é€’ Constraintsï¼ˆçº¦æŸï¼‰ç»™å­
    â”‚
å­ Widget
    â”‚
    â”œâ”€â”€â–º åœ¨çº¦æŸèŒƒå›´å†…ç¡®å®šè‡ªå·±çš„ Size
    â”‚
    â””â”€â”€â–º è¿”å› Size ç»™çˆ¶
</span>
çˆ¶ Widget
<span class="hljs-code">    â”‚
    â””â”€â”€â–º ç¡®å®šå­çš„ Positionï¼ˆåç§»ï¼‰
</span></code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼š</p>
<ul>
<li><strong>Tight Constraints</strong>ï¼šmin == maxï¼Œå¼ºåˆ¶å›ºå®šå¤§å°</li>
<li><strong>Loose Constraints</strong>ï¼šmin = 0ï¼Œå¯ä»»æ„å¤§å°</li>
<li><strong>Unbounded</strong>ï¼šmax = infinityï¼Œéœ€è¦å­è‡ªè¡Œå†³å®šå¤§å°</li>
</ul>
<h3 data-id="heading-8">6. RepaintBoundary çš„ä½œç”¨åŸç†ï¼Ÿ</h3>
<p><code>RepaintBoundary</code> åˆ›å»ºç‹¬ç«‹çš„ Layerï¼Œéš”ç¦»é‡ç»˜åŒºåŸŸã€‚</p>
<p><strong>åŸç†</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ™®é€šæƒ…å†µï¼šå…±äº« Layerï¼Œä¸€å¤„æ”¹å˜å…¨éƒ¨é‡ç»˜</span>
Parent Layer
    â”œâ”€â”€ Child A (changed)
    â”œâ”€â”€ Child B (ä¹Ÿè¢«é‡ç»˜)
    â””â”€â”€ Child C (ä¹Ÿè¢«é‡ç»˜)

<span class="hljs-comment">// ä½¿ç”¨ RepaintBoundaryï¼šç‹¬ç«‹ Layer</span>
Parent Layer
    â”œâ”€â”€ Child A Layer (changedï¼Œåªé‡ç»˜è¿™ä¸ª)
    â”œâ”€â”€ Child B Layer (ä¿æŒä¸å˜)
    â””â”€â”€ Child C Layer (ä¿æŒä¸å˜)
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é¢‘ç¹åŠ¨ç”»çš„å±€éƒ¨åŒºåŸŸ</li>
<li>å¤æ‚åˆ—è¡¨é¡¹</li>
<li>ç‹¬ç«‹æ›´æ–°çš„ç»„ä»¶ï¼ˆå¦‚ CustomPaintï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€Element ç”Ÿå‘½å‘¨æœŸä¸æ›´æ–°æœºåˆ¶</h2>
<h3 data-id="heading-10">7. Element çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Element</span> </span>{
  <span class="hljs-comment">// 1. åˆ›å»ºï¼šWidget.createElement() è°ƒç”¨</span>
  <span class="hljs-built_in">Element</span>(Widget widget);

  <span class="hljs-comment">// 2. æŒ‚è½½ï¼šæ’å…¥ Element æ ‘</span>
  <span class="hljs-keyword">void</span> mount(<span class="hljs-built_in">Element?</span> parent, <span class="hljs-built_in">Object?</span> newSlot) {
    _parent = parent;
    _slot = newSlot;
    _lifecycleState = _ElementLifecycle.active;
    <span class="hljs-comment">// åˆ›å»º RenderObjectï¼ˆå¦‚æœæ˜¯ RenderObjectElementï¼‰</span>
  }

  <span class="hljs-comment">// 3. æ›´æ–°ï¼šWidget é…ç½®å˜åŒ–æ—¶</span>
  <span class="hljs-keyword">void</span> update(Widget newWidget) {
    _widget = newWidget;
  }

  <span class="hljs-comment">// 4. é‡å»ºï¼šæ ‡è®° dirty å</span>
  <span class="hljs-keyword">void</span> rebuild() {
    performRebuild();  <span class="hljs-comment">// è°ƒç”¨ build()</span>
  }

  <span class="hljs-comment">// 5. å¸è½½ï¼šä»æ ‘ä¸­ç§»é™¤</span>
  <span class="hljs-keyword">void</span> unmount() {
    _lifecycleState = _ElementLifecycle.defunct;
  }
}
</code></pre>
<h3 data-id="heading-11">8. setState() çš„å·¥ä½œåŸç†ï¼Ÿ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> setState(VoidCallback fn) {
  <span class="hljs-comment">// 1. æ‰§è¡Œå›è°ƒä¿®æ”¹çŠ¶æ€</span>
  fn();

  <span class="hljs-comment">// 2. æ ‡è®° Element ä¸º dirty</span>
  _element!.markNeedsBuild();
}

<span class="hljs-keyword">void</span> markNeedsBuild() {
  <span class="hljs-keyword">if</span> (dirty) <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// é¿å…é‡å¤æ ‡è®°</span>
  _dirty = <span class="hljs-keyword">true</span>;

  <span class="hljs-comment">// 3. å°† Element åŠ å…¥ dirty åˆ—è¡¨</span>
  owner!.scheduleBuildFor(<span class="hljs-keyword">this</span>);
}

<span class="hljs-comment">// 4. ä¸‹ä¸€å¸§ç»Ÿä¸€é‡å»ºæ‰€æœ‰ dirty Elements</span>
<span class="hljs-keyword">void</span> buildScope(<span class="hljs-built_in">Element</span> context, [VoidCallback? callback]) {
  <span class="hljs-keyword">while</span> (_dirtyElements.isNotEmpty) {
    <span class="hljs-keyword">final</span> element = _dirtyElements.removeLast();
    element.rebuild();
  }
}
</code></pre>
<p><strong>é‡è¦ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li><code>setState</code> æ˜¯å¼‚æ­¥çš„ï¼ˆä¸‹ä¸€å¸§æ‰ç”Ÿæ•ˆï¼‰</li>
<li>å¤šæ¬¡ <code>setState</code> ä¼šåˆå¹¶ï¼ˆåŒä¸€ Element åªé‡å»ºä¸€æ¬¡ï¼‰</li>
<li>åœ¨ <code>build()</code> ä¸­è°ƒç”¨ <code>setState</code> ä¼šæŠ¥é”™</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€Key çš„åŸç†ä¸ä½œç”¨</h2>
<h3 data-id="heading-13">9. Key çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿåº•å±‚åŸç†ï¼Ÿ</h3>
<p><strong>ä½œç”¨</strong>ï¼šæ ‡è¯† Elementï¼Œæ§åˆ¶ Element çš„å¤ç”¨ç­–ç•¥ã€‚</p>
<p><strong>æ²¡æœ‰ Key çš„åŒ¹é…è§„åˆ™</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åªæ¯”è¾ƒ runtimeType</span>
canUpdate(oldWidget, newWidget) {
  <span class="hljs-keyword">return</span> oldWidget.runtimeType == newWidget.runtimeType;
}
</code></pre>
<p><strong>æœ‰ Key çš„åŒ¹é…è§„åˆ™</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ¯”è¾ƒ runtimeType + key</span>
canUpdate(oldWidget, newWidget) {
  <span class="hljs-keyword">return</span> oldWidget.runtimeType == newWidget.runtimeType
      &amp;&amp; oldWidget.key == newWidget.key;
}
</code></pre>
<h3 data-id="heading-14">10. LocalKey vs GlobalKey çš„åŒºåˆ«ï¼Ÿ</h3>
<p><strong>LocalKey</strong>ï¼ˆValueKeyã€ObjectKeyã€UniqueKeyï¼‰ï¼š</p>
<ul>
<li>ä»…åœ¨å…„å¼ŸèŠ‚ç‚¹é—´å”¯ä¸€</li>
<li>ç”¨äº ListView ä¸­å…ƒç´ é‡æ’åº</li>
<li>è½»é‡çº§ï¼Œä¸è·¨æ ‘è®¿é—®</li>
</ul>
<p><strong>GlobalKey</strong>ï¼š</p>
<ul>
<li>å…¨å±€å”¯ä¸€ï¼Œå¯è·¨æ ‘è®¿é—®</li>
<li>æŒæœ‰ Element å¼•ç”¨ï¼Œå¯è·å– State å’Œ RenderObject</li>
<li>æˆæœ¬è¾ƒé«˜ï¼Œæ…ç”¨</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// GlobalKey çš„åº•å±‚å®ç°</span>
<span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;GlobalKey, <span class="hljs-built_in">Element</span>&gt; _globalKeyRegistry = {};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalKey</span>&lt;<span class="hljs-title">T</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">Key</span> </span>{
  <span class="hljs-built_in">Element?</span> <span class="hljs-keyword">get</span> _currentElement =&gt; _globalKeyRegistry[<span class="hljs-keyword">this</span>];

  BuildContext? <span class="hljs-keyword">get</span> currentContext =&gt; _currentElement;

  Widget? <span class="hljs-keyword">get</span> currentWidget =&gt; _currentElement?.widget;

  T? <span class="hljs-keyword">get</span> currentState =&gt; (_currentElement <span class="hljs-keyword">as</span> StatefulElement?)?.state <span class="hljs-keyword">as</span> T?;
}
</code></pre>
<hr/>
<h2 data-id="heading-15">å…­ã€InheritedWidget åŸç†</h2>
<h3 data-id="heading-16">11. InheritedWidget çš„å®ç°åŸç†ï¼Ÿ</h3>
<p><code>InheritedWidget</code> å®ç°äº†é«˜æ•ˆçš„è·¨å±‚çº§æ•°æ®ä¼ é€’ã€‚</p>
<p><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InheritedWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ProxyWidget</span> </span>{
  <span class="hljs-comment">// 1. åˆ›å»º InheritedElement</span>
  <span class="hljs-meta">@override</span>
  InheritedElement createElement() =&gt; InheritedElement(<span class="hljs-keyword">this</span>);

  <span class="hljs-comment">// 2. åˆ¤æ–­æ˜¯å¦éœ€è¦é€šçŸ¥ä¾èµ–è€…</span>
  <span class="hljs-built_in">bool</span> updateShouldNotify(InheritedWidget oldWidget);
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InheritedElement</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ProxyElement</span> </span>{
  <span class="hljs-comment">// 3. å­˜å‚¨ä¾èµ–å…³ç³»</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">Element</span>, <span class="hljs-built_in">Object?</span>&gt; _dependents = {};

  <span class="hljs-comment">// 4. æ³¨å†Œä¾èµ–ï¼ˆdependOnInheritedWidgetOfExactType æ—¶è°ƒç”¨ï¼‰</span>
  <span class="hljs-keyword">void</span> setDependencies(<span class="hljs-built_in">Element</span> dependent, <span class="hljs-built_in">Object?</span> value) {
    _dependents[dependent] = value;
  }

  <span class="hljs-comment">// 5. æ›´æ–°æ—¶é€šçŸ¥æ‰€æœ‰ä¾èµ–è€…</span>
  <span class="hljs-keyword">void</span> notifyClients(InheritedWidget oldWidget) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> dependent <span class="hljs-keyword">in</span> _dependents.keys) {
      dependent.didChangeDependencies();
    }
  }
}
</code></pre>
<p><strong>æŸ¥æ‰¾è¿‡ç¨‹ï¼ˆO(1) å¤æ‚åº¦ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">T? dependOnInheritedWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> InheritedWidget&gt;() {
  <span class="hljs-comment">// æ¯ä¸ª Element æŒæœ‰ç¥–å…ˆ InheritedElement çš„ Map</span>
  <span class="hljs-keyword">final</span> ancestor = _inheritedWidgets?[T];

  <span class="hljs-keyword">if</span> (ancestor != <span class="hljs-keyword">null</span>) {
    <span class="hljs-comment">// æ³¨å†Œä¾èµ–å…³ç³»</span>
    ancestor.setDependencies(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">null</span>);
  }

  <span class="hljs-keyword">return</span> ancestor?.widget <span class="hljs-keyword">as</span> T?;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯ O(1)ï¼Ÿ</strong></p>
<ul>
<li>Element åœ¨ mount æ—¶ä¼šç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„ <code>_inheritedWidgets</code> Map</li>
<li>æŸ¥æ‰¾ç›´æ¥é€šè¿‡ Type ä½œä¸º key è·å–</li>
</ul>
<hr/>
<h2 data-id="heading-17">ä¸ƒã€BuildContext çš„æœ¬è´¨</h2>
<h3 data-id="heading-18">12. BuildContext æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>æœ¬è´¨ï¼š<code>BuildContext</code> å°±æ˜¯ <code>Element</code></strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Element</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BuildContext</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget <span class="hljs-keyword">get</span> widget =&gt; _widget!;

  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> <span class="hljs-keyword">get</span> mounted =&gt; _lifecycleState == _ElementLifecycle.active;

  <span class="hljs-meta">@override</span>
  T? dependOnInheritedWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> InheritedWidget&gt;() {...}

  <span class="hljs-meta">@override</span>
  T? findAncestorWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> Widget&gt;() {...}

  <span class="hljs-meta">@override</span>
  T? findAncestorStateOfType&lt;T <span class="hljs-keyword">extends</span> State&gt;() {...}
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦æŠ½è±¡æˆ BuildContextï¼Ÿ</strong></p>
<ul>
<li>é™åˆ¶å¼€å‘è€…åªèƒ½è®¿é—®å¿…è¦çš„ API</li>
<li>éšè— Element çš„å†…éƒ¨å®ç°ç»†èŠ‚</li>
<li>æä¾›æ›´æ¸…æ™°çš„è¯­ä¹‰ï¼ˆ"æ„å»ºä¸Šä¸‹æ–‡"ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-19">å…«ã€Dart å¼‚æ­¥åŸç†</h2>
<h3 data-id="heading-20">13. Event Loop äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼Ÿ</h3>
<p>Dart æ˜¯å•çº¿ç¨‹æ¨¡å‹ï¼Œé€šè¿‡äº‹ä»¶å¾ªç¯å¤„ç†å¼‚æ­¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Event Loop                  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      Microtask Queue            â”‚    â”‚ â† ä¼˜å…ˆçº§é«˜
â”‚  â”‚  scheduleMicrotask / then       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                  â†“                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚        Event Queue              â”‚    â”‚ â† ä¼˜å…ˆçº§ä½
â”‚  â”‚  Future / Timer / <span class="hljs-selector-tag">I</span>/O / æ‰‹åŠ¿    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  while (true) {                         â”‚
â”‚    while (microtaskQueue.isNotEmpty) {  â”‚
â”‚      microtaskQueue<span class="hljs-selector-class">.removeFirst</span>()();    â”‚
â”‚    }                                     â”‚
â”‚    if (eventQueue.isNotEmpty) {         â”‚
â”‚      eventQueue<span class="hljs-selector-class">.removeFirst</span>()();        â”‚
â”‚    }                                     â”‚
â”‚  }                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ‰§è¡Œé¡ºåº</strong>ï¼š</p>
<ol>
<li>æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>æ‰§è¡Œæ‰€æœ‰ Microtaskï¼ˆç›´åˆ°é˜Ÿåˆ—ç©ºï¼‰</li>
<li>æ‰§è¡Œä¸€ä¸ª Event</li>
<li>å›åˆ°æ­¥éª¤ 2</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() {
  <span class="hljs-built_in">print</span>(<span class="hljs-string">'1'</span>);  <span class="hljs-comment">// åŒæ­¥</span>

  Future(() =&gt; <span class="hljs-built_in">print</span>(<span class="hljs-string">'2'</span>));  <span class="hljs-comment">// Event Queue</span>

  scheduleMicrotask(() =&gt; <span class="hljs-built_in">print</span>(<span class="hljs-string">'3'</span>));  <span class="hljs-comment">// Microtask Queue</span>

  Future.microtask(() =&gt; <span class="hljs-built_in">print</span>(<span class="hljs-string">'4'</span>));  <span class="hljs-comment">// Microtask Queue</span>

  <span class="hljs-built_in">print</span>(<span class="hljs-string">'5'</span>);  <span class="hljs-comment">// åŒæ­¥</span>
}
<span class="hljs-comment">// è¾“å‡ºï¼š1, 5, 3, 4, 2</span>
</code></pre>
<h3 data-id="heading-21">14. Future å’Œ async/await çš„åŸç†ï¼Ÿ</h3>
<p><strong>Future æœ¬è´¨</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Future</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
  <span class="hljs-comment">// çŠ¶æ€ï¼špending / completed / error</span>
  _FutureState _state;

  <span class="hljs-comment">// ç»“æœå€¼æˆ–é”™è¯¯</span>
  T? _value;
  <span class="hljs-built_in">Object?</span> _error;

  <span class="hljs-comment">// å›è°ƒé“¾è¡¨</span>
  _FutureListener? _listeners;

  <span class="hljs-comment">// å®Œæˆæ—¶è§¦å‘æ‰€æœ‰å›è°ƒ</span>
  <span class="hljs-keyword">void</span> _complete(T value) {
    _value = value;
    _state = _FutureState.completed;
    _propagateToListeners();
  }
}
</code></pre>
<p><strong>async/await ç¼–è¯‘è½¬æ¢</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æºä»£ç </span>
Future&lt;<span class="hljs-built_in">int</span>&gt; fetchData() <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">final</span> response = <span class="hljs-keyword">await</span> http.<span class="hljs-keyword">get</span>(url);
  <span class="hljs-keyword">return</span> response.statusCode;
}

<span class="hljs-comment">// ç¼–è¯‘åï¼ˆä¼ªä»£ç ï¼‰</span>
Future&lt;<span class="hljs-built_in">int</span>&gt; fetchData() {
  <span class="hljs-keyword">return</span> Future.<span class="hljs-keyword">sync</span>(() {
    <span class="hljs-keyword">return</span> http.<span class="hljs-keyword">get</span>(url).then((response) {
      <span class="hljs-keyword">return</span> response.statusCode;
    });
  });
}
</code></pre>
<h3 data-id="heading-22">15. Isolate çš„é€šä¿¡åŸç†ï¼Ÿ</h3>
<p><strong>Isolate æ˜¯ç‹¬ç«‹çš„å†…å­˜ç©ºé—´</strong>ï¼Œé€šè¿‡ Port é€šä¿¡ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Main Isolate â”‚         â”‚   New Isolate   â”‚
â”‚                 â”‚         â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  æ¶ˆæ¯   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ SendPort  â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚ReceivePortâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚         â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  æ¶ˆæ¯   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ReceivePortâ”‚â—„â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚ SendPort  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚         â”‚                 â”‚
â”‚  ç‹¬ç«‹ Heap      â”‚         â”‚   ç‹¬ç«‹ Heap     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ¶ˆæ¯ä¼ é€’æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯é€šè¿‡<strong>æ·±æ‹·è´</strong>ä¼ é€’ï¼ˆä¸å…±äº«å†…å­˜ï¼‰</li>
<li>æ”¯æŒåŸºæœ¬ç±»å‹ã€Listã€Mapã€SendPort</li>
<li>ä¸æ”¯æŒé—­åŒ…ã€å‡½æ•°å¼•ç”¨</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½¿ç”¨ compute ç®€åŒ–</span>
<span class="hljs-keyword">final</span> result = <span class="hljs-keyword">await</span> compute(expensiveOperation, data);

<span class="hljs-comment">// åº•å±‚å®ç°</span>
Future&lt;R&gt; compute&lt;Q, R&gt;(ComputeCallback&lt;Q, R&gt; callback, Q message) {
  <span class="hljs-keyword">final</span> receivePort = ReceivePort();
  <span class="hljs-keyword">await</span> Isolate.spawn(_isolateEntry, [receivePort.sendPort, callback, message]);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> receivePort.first <span class="hljs-keyword">as</span> R;
}
</code></pre>
<hr/>
<h2 data-id="heading-23">ä¹ã€Platform Channel åŸç†</h2>
<h3 data-id="heading-24">16. Flutter å¦‚ä½•ä¸åŸç”Ÿé€šä¿¡ï¼Ÿ</h3>
<p><strong>ä¸‰ç§ Channel ç±»å‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Flutter (Dart)          Platform (Native)
     â”‚                        â”‚
     â”‚    MethodChannel       â”‚
     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  è¯·æ±‚/å“åº”æ¨¡å¼
     â”‚                        â”‚
     â”‚   EventChannel         â”‚
     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  æ•°æ®æµ/äº‹ä»¶æ¨¡å¼
     â”‚                        â”‚
     â”‚ BasicMessageChannel    â”‚
     â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  åŸºç¡€æ¶ˆæ¯æ¨¡å¼
     â”‚                        â”‚
</code></pre>
<p><strong>MethodChannel è°ƒç”¨æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Dart ç«¯</span>
<span class="hljs-keyword">final</span> channel = MethodChannel(<span class="hljs-string">'com.example/battery'</span>);
<span class="hljs-keyword">final</span> batteryLevel = <span class="hljs-keyword">await</span> channel.invokeMethod(<span class="hljs-string">'getBatteryLevel'</span>);

<span class="hljs-comment">// iOS ç«¯ (Swift)</span>
let channel = FlutterMethodChannel(name: <span class="hljs-string">"com.example/battery"</span>,
                                    binaryMessenger: controller.binaryMessenger)
channel.setMethodCallHandler { (call, result) <span class="hljs-keyword">in</span>
  <span class="hljs-keyword">if</span> call.method == <span class="hljs-string">"getBatteryLevel"</span> {
    result(UIDevice.current.batteryLevel * <span class="hljs-number">100</span>)
  }
}
</code></pre>
<p><strong>åº•å±‚é€šä¿¡æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>Dart è°ƒç”¨ <code>invokeMethod</code>ï¼Œåºåˆ—åŒ–å‚æ•°</li>
<li>é€šè¿‡ JNIï¼ˆAndroidï¼‰/ C APIï¼ˆiOSï¼‰ä¼ é€’äºŒè¿›åˆ¶æ•°æ®</li>
<li>åŸç”Ÿç«¯è§£ç ï¼Œæ‰§è¡Œæ–¹æ³•ï¼Œç¼–ç ç»“æœ</li>
<li>è¿”å›ç»™ Dartï¼Œååºåˆ—åŒ–</li>
</ol>
<p><strong>æ¶ˆæ¯ç¼–è§£ç å™¨</strong>ï¼š</p>
<ul>
<li><code>StandardMessageCodec</code>ï¼šæ”¯æŒåŸºæœ¬ç±»å‹</li>
<li><code>JSONMessageCodec</code>ï¼šJSON æ ¼å¼</li>
<li><code>BinaryCodec</code>ï¼šåŸå§‹å­—èŠ‚</li>
</ul>
<hr/>
<h2 data-id="heading-25">åã€çƒ­é‡è½½åŸç†</h2>
<h3 data-id="heading-26">17. Hot Reload çš„å®ç°åŸç†ï¼Ÿ</h3>
<pre><code class="hljs">å¼€å‘æœº                              è®¾å¤‡/æ¨¡æ‹Ÿå™¨
   â”‚                                    â”‚
   â”‚  1. æ£€æµ‹æ–‡ä»¶å˜åŒ–                    â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
   â”‚                                    â”‚
   â”‚  2. å¢é‡ç¼–è¯‘ï¼Œç”Ÿæˆ kernel å·®å¼‚æ–‡ä»¶   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
   â”‚                                    â”‚
   â”‚  3. é€šè¿‡ VM Service å‘é€åˆ°è®¾å¤‡      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
   â”‚                                    â”‚
   â”‚  4. Dart VM åŠ è½½æ–°ä»£ç               â”‚
   â”‚  5. é‡å»º Widget æ ‘                  â”‚
   â”‚  6. ä¿ç•™ State çŠ¶æ€                 â”‚
   â”‚                                    â”‚
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>JIT ç¼–è¯‘æ¨¡å¼æ”¯æŒï¼ˆDebug onlyï¼‰</li>
<li>å¢é‡ç¼–è¯‘ï¼ˆåªç¼–è¯‘å˜åŒ–çš„ä»£ç ï¼‰</li>
<li>Widget é‡å»ºï¼ŒState ä¿ç•™</li>
<li>ä¸ä¼šè§¦å‘ <code>initState()</code></li>
</ul>
<p><strong>Hot Reload vs Hot Restart</strong>ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Hot Reload</th><th>Hot Restart</th></tr></thead><tbody><tr><td>State çŠ¶æ€</td><td>ä¿ç•™</td><td>ä¸¢å¤±</td></tr><tr><td>é€Ÿåº¦</td><td>å¿«ï¼ˆ~1sï¼‰</td><td>è¾ƒæ…¢ï¼ˆå‡ ç§’ï¼‰</td></tr><tr><td>å…¨å±€å˜é‡</td><td>ä¿ç•™</td><td>é‡ç½®</td></tr><tr><td>é™æ€å­—æ®µ</td><td>ä¿ç•™</td><td>é‡ç½®</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-27">åä¸€ã€æ‰‹åŠ¿è¯†åˆ«åŸç†</h2>
<h3 data-id="heading-28">18. Flutter çš„æ‰‹åŠ¿ç³»ç»Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3>
<p><strong>äº‹ä»¶åˆ†å‘æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åŸç”Ÿè§¦æ‘¸äº‹ä»¶
     â”‚
     â–¼
GestureBinding<span class="hljs-selector-class">.handlePointerEvent</span>()
     â”‚
     â–¼
å‘½ä¸­æµ‹è¯• (Hit Test) â”€â”€â–º ç¡®å®šè§¦æ‘¸ç‚¹ä¸‹çš„æ‰€æœ‰ Widget
     â”‚
     â–¼
æ”¶é›† HitTestEntry åˆ—è¡¨
     â”‚
     â–¼
äº‹ä»¶åˆ†å‘åˆ°æ‰€æœ‰å‘½ä¸­çš„ Widget
     â”‚
     â–¼
æ‰‹åŠ¿ç«æŠ€åœº (Gesture Arena) å†³å®šèƒœè€…
</code></pre>
<p><strong>æ‰‹åŠ¿ç«æŠ€åœºï¼ˆGesture Arenaï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// å½“å¤šä¸ªæ‰‹åŠ¿è¯†åˆ«å™¨ç«äº‰æ—¶</span>
GestureRecognizer A (Tap)     â”€â”€â”
GestureRecognizer B (DoubleTap) â”‚ â”€â”€â–º Arena â”€â”€â–º èƒœè€…æ‰§è¡Œ
GestureRecognizer C (LongPress) â”˜
</code></pre>
<p><strong>ç«äº‰è§„åˆ™</strong>ï¼š</p>
<ol>
<li>è¯†åˆ«å™¨è°ƒç”¨ <code>addPointer</code> åŠ å…¥ç«æŠ€åœº</li>
<li>ç¡®å®šæ‰‹åŠ¿åè°ƒç”¨ <code>accept()</code> æˆ– <code>reject()</code></li>
<li>åªæœ‰ä¸€ä¸ªèƒœè€…æ—¶ï¼Œèƒœè€…è·èƒœ</li>
<li>æ‰€æœ‰ç«äº‰è€… rejectï¼Œç¬¬ä¸€ä¸ª hold çš„è·èƒœ</li>
</ol>
<hr/>
<h2 data-id="heading-29">åäºŒã€åŠ¨ç”»åŸç†</h2>
<h3 data-id="heading-30">19. Flutter åŠ¨ç”»çš„åº•å±‚å®ç°ï¼Ÿ</h3>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">AnimationController
     â”‚
     â”œâ”€â”€ Ticker â”€â”€â–º æ¥æ”¶ vsync ä¿¡å·ï¼ˆæ¯å¸§ä¸€æ¬¡ï¼‰
     â”‚
     â”œâ”€â”€ AnimationStatus â”€â”€â–º forward / reverse / completed / dismissed
     â”‚
     â””â”€â”€ Value (<span class="hljs-number">0.0</span> ~ <span class="hljs-number">1.0</span>) â”€â”€â–º å½“å‰è¿›åº¦å€¼
</code></pre>
<p><strong>Ticker ä¸ SchedulerBinding</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ticker</span> </span>{
  TickerCallback _onTick;

  <span class="hljs-keyword">void</span> scheduleTick() {
    <span class="hljs-comment">// æ³¨å†Œåˆ°ä¸‹ä¸€å¸§å›è°ƒ</span>
    SchedulerBinding.instance.scheduleFrameCallback(_tick);
  }

  <span class="hljs-keyword">void</span> _tick(<span class="hljs-built_in">Duration</span> elapsed) {
    _onTick(elapsed);  <span class="hljs-comment">// æ›´æ–°åŠ¨ç”»å€¼</span>
    <span class="hljs-keyword">if</span> (isActive) scheduleTick();  <span class="hljs-comment">// ç»§ç»­ä¸‹ä¸€å¸§</span>
  }
}
</code></pre>
<p><strong>åŠ¨ç”»æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">VSync ä¿¡å· (<span class="hljs-number">60</span>fps)
     â”‚
     â–¼
SchedulerBinding<span class="hljs-selector-class">.handleBeginFrame</span>()
     â”‚
     â–¼
Ticker<span class="hljs-selector-class">._tick</span>() â”€â”€â–º AnimationController æ›´æ–° value
     â”‚
     â–¼
<span class="hljs-built_in">notifyListeners</span>() â”€â”€â–º AnimatedBuilder é‡å»º
     â”‚
     â–¼
ä¸‹ä¸€å¸§...
</code></pre>
<hr/>
<h2 data-id="heading-31">åä¸‰ã€å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶</h2>
<h3 data-id="heading-32">20. Dart çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ</h3>
<p><strong>åˆ†ä»£å¼åƒåœ¾å›æ”¶</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Dart Heap                â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  <span class="hljs-keyword">New</span> Space   â”‚  â”‚  <span class="hljs-keyword">Old</span> Space   â”‚ â”‚
â”‚  â”‚  (å¹´è½»ä»£)     â”‚  â”‚   (è€å¹´ä»£)    â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
â”‚  â”‚ å°å¯¹è±¡<span class="hljs-operator">/</span>çŸ­å‘½   â”‚  â”‚ å¤§å¯¹è±¡<span class="hljs-operator">/</span>é•¿å¯¿   â”‚ â”‚
â”‚  â”‚ é¢‘ç¹ GC      â”‚  â”‚ è¾ƒå°‘ GC      â”‚ â”‚
â”‚  â”‚ <span class="hljs-keyword">Copy</span> GC     â”‚  â”‚ Mark<span class="hljs-operator">-</span>Sweep   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>New Spaceï¼ˆå¹´è½»ä»£ï¼‰</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨ <strong>åŠç©ºé—´å¤åˆ¶ç®—æ³•</strong></li>
<li>åˆ†ä¸º From å’Œ To ä¸¤ä¸ªåŒºåŸŸ</li>
<li>GC æ—¶å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ° Toï¼ŒFrom æ¸…ç©º</li>
<li>é€Ÿåº¦å¿«ï¼Œä½†éœ€è¦åŒå€ç©ºé—´</li>
</ul>
<p><strong>Old Spaceï¼ˆè€å¹´ä»£ï¼‰</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨ <strong>æ ‡è®°-æ¸…é™¤-æ•´ç†</strong> ç®—æ³•</li>
<li>GC è¿‡ç¨‹ï¼šæ ‡è®°å­˜æ´»å¯¹è±¡ â†’ æ¸…é™¤æ­»å¯¹è±¡ â†’ æ•´ç†å†…å­˜ç¢ç‰‡</li>
<li>å¹¶å‘æ‰§è¡Œï¼Œå‡å°‘åœé¡¿</li>
</ul>
<p><strong>å¯¹è±¡æ™‹å‡</strong>ï¼š</p>
<ul>
<li>åœ¨ New Space å­˜æ´»å¤šæ¬¡ GC åæ™‹å‡åˆ° Old Space</li>
<li>å¤§å¯¹è±¡ç›´æ¥åˆ†é…åˆ° Old Space</li>
</ul>
<hr/>
<h2 data-id="heading-33">åå››ã€å›¾ç‰‡åŠ è½½åŸç†</h2>
<h3 data-id="heading-34">21. Flutter å›¾ç‰‡åŠ è½½ä¸ç¼“å­˜æœºåˆ¶ï¼Ÿ</h3>
<pre><code class="hljs language-scss" lang="scss">Image<span class="hljs-selector-class">.network</span>(url)
     â”‚
     â–¼
ImageProvider â”€â”€â–º åˆ›å»º ImageStreamCompleter
     â”‚
     â–¼
ImageCache â”€â”€â–º æ£€æŸ¥ç¼“å­˜ï¼ˆå†…å­˜ï¼‰
     â”‚
     â”œâ”€â”€ å‘½ä¸­ â”€â”€â–º ç›´æ¥è¿”å› ImageInfo
     â”‚
     â””â”€â”€ æœªå‘½ä¸­ â”€â”€â–º åŠ è½½å›¾ç‰‡
                      â”‚
                      â–¼
               NetworkImage<span class="hljs-selector-class">._loadAsync</span>()
                      â”‚
                      â–¼
               HttpClient<span class="hljs-selector-class">.get</span>() ä¸‹è½½
                      â”‚
                      â–¼
               <span class="hljs-built_in">instantiateImageCodec</span>() è§£ç 
                      â”‚
                      â–¼
               ç¼“å­˜åˆ° ImageCache
                      â”‚
                      â–¼
               è¿”å› ImageInfo â”€â”€â–º RenderImage ç»˜åˆ¶
</code></pre>
<p><strong>ImageCache ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageCache</span> </span>{
  <span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
  <span class="hljs-built_in">int</span> _maximumSize = <span class="hljs-number">1000</span>;  <span class="hljs-comment">// æœ€å¤§æ•°é‡</span>
  <span class="hljs-built_in">int</span> _maximumSizeBytes = <span class="hljs-number">100</span> &lt;&lt; <span class="hljs-number">20</span>;  <span class="hljs-comment">// æœ€å¤§å­—èŠ‚æ•° (100MB)</span>

  <span class="hljs-comment">// LRU ç¼“å­˜</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">Object</span>, _PendingImage&gt; _pendingImages;
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">Object</span>, _CachedImage&gt; _cache;
}
</code></pre>
<hr/>
<h2 data-id="heading-35">åäº”ã€Sliver ä¸åˆ—è¡¨åŸç†</h2>
<h3 data-id="heading-36">22. ListView çš„æ‡’åŠ è½½åŸç†ï¼Ÿ</h3>
<p><strong>Sliver åè®®</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// çº¦æŸï¼ˆä» Viewport ä¼ é€’ç»™ Sliverï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliverConstraints</span> </span>{
  <span class="hljs-built_in">double</span> scrollOffset;      <span class="hljs-comment">// å·²æ»šåŠ¨çš„è·ç¦»</span>
  <span class="hljs-built_in">double</span> remainingPaintExtent;  <span class="hljs-comment">// å‰©ä½™å¯ç»˜åˆ¶åŒºåŸŸ</span>
  <span class="hljs-built_in">double</span> viewportMainAxisExtent;  <span class="hljs-comment">// è§†å£å¤§å°</span>
  <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// å‡ ä½•ä¿¡æ¯ï¼ˆSliver è¿”å›ç»™ Viewportï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SliverGeometry</span> </span>{
  <span class="hljs-built_in">double</span> scrollExtent;   <span class="hljs-comment">// æ€»æ»šåŠ¨èŒƒå›´</span>
  <span class="hljs-built_in">double</span> paintExtent;    <span class="hljs-comment">// ç»˜åˆ¶èŒƒå›´</span>
  <span class="hljs-built_in">double</span> layoutExtent;   <span class="hljs-comment">// å¸ƒå±€èŒƒå›´</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>æ‡’åŠ è½½å®ç°</strong>ï¼š</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Viewport                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 0  â”‚ â† å·²å›æ”¶        â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 1  â”‚ â† ç¼“å­˜åŒº        â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å¯è§†åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 2  â”‚ â† æ¸²æŸ“          â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 3  â”‚ â† æ¸²æŸ“          â”‚  â”‚
â”‚  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 4  â”‚ â† æ¸²æŸ“          â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 5  â”‚ â† ç¼“å­˜åŒº        â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚    â”‚ Item 6  â”‚ â† æœªæ„å»º        â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>SliverList æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åªæ„å»ºå¯è§†åŒºåŸŸ + ç¼“å­˜åŒºçš„ children</span>
<span class="hljs-keyword">void</span> performLayout() {
  <span class="hljs-comment">// è®¡ç®—é¦–ä¸ªå¯è§ child çš„ index</span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">int</span> firstIndex = getMinChildIndexForScrollOffset(scrollOffset);

  <span class="hljs-comment">// å¸ƒå±€å¯è§çš„ children</span>
  <span class="hljs-keyword">while</span> (endScrollOffset &lt; targetEndScrollOffset) {
    <span class="hljs-keyword">final</span> child = obtainChild(index);  <span class="hljs-comment">// æŒ‰éœ€åˆ›å»º</span>
    layoutChild(child);
    index++;
  }

  <span class="hljs-comment">// å›æ”¶ä¸å¯è§çš„ children</span>
  collectGarbage(leadingGarbage, trailingGarbage);
}
</code></pre>
<hr/>
<h2 data-id="heading-37">åå…­ã€Skia ä¸ Impeller</h2>
<h3 data-id="heading-38">23. Skia æ¸²æŸ“å¼•æ“çš„å·¥ä½œåŸç†ï¼Ÿ</h3>
<p><strong>Skia æ¸²æŸ“æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Layer Tree (Dart)
     â”‚
     â–¼
Scene (C++)
     â”‚
     â–¼
Skia â”€â”€â–º ç»˜åˆ¶å‘½ä»¤è½¬æ¢ä¸º GPU æŒ‡ä»¤
     â”‚
     â–¼
OpenGL / Metal / Vulkan
     â”‚
     â–¼
GPU æ¸²æŸ“
     â”‚
     â–¼
å¸§ç¼“å†²åŒº â”€â”€â–º å±å¹•æ˜¾ç¤º
</code></pre>
<p><strong>Impellerï¼ˆæ–°æ¸²æŸ“å¼•æ“ï¼‰</strong>ï¼š</p>
<ul>
<li>é¢„ç¼–è¯‘ Shaderï¼Œé¿å…è¿è¡Œæ—¶ç¼–è¯‘å¡é¡¿</li>
<li>æ›´å¥½çš„åˆ©ç”¨ Metalï¼ˆiOSï¼‰å’Œ Vulkanï¼ˆAndroidï¼‰</li>
<li>å‡å°‘ Jankï¼ˆæ‰å¸§ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-39">åä¸ƒã€çŠ¶æ€ç®¡ç†åŸç†</h2>
<h3 data-id="heading-40">24. Provider çš„å®ç°åŸç†ï¼Ÿ</h3>
<p><strong>æ ¸å¿ƒåŸºäº InheritedWidget</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InheritedProvider</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">InheritedWidget</span> </span>{
  <span class="hljs-keyword">final</span> T value;

  <span class="hljs-comment">// è®¢é˜…ä¾èµ–</span>
  <span class="hljs-keyword">static</span> T of&lt;T&gt;(BuildContext context) {
    <span class="hljs-keyword">return</span> context.dependOnInheritedWidgetOfExactType&lt;InheritedProvider&lt;T&gt;&gt;()!.value;
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> updateShouldNotify(InheritedProvider&lt;T&gt; oldWidget) {
    <span class="hljs-keyword">return</span> value != oldWidget.value;
  }
}
</code></pre>
<p><strong>ChangeNotifier + Selector ä¼˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ChangeNotifier æä¾›ç»†ç²’åº¦æ›´æ–°</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChangeNotifier</span> </span>{
  <span class="hljs-built_in">int</span> _count = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">int</span> <span class="hljs-keyword">get</span> count =&gt; _count;

  <span class="hljs-keyword">void</span> increment() {
    _count++;
    notifyListeners();  <span class="hljs-comment">// é€šçŸ¥ç›‘å¬è€…</span>
  }
}

<span class="hljs-comment">// Selector åªç›‘å¬ç‰¹å®šå±æ€§</span>
Selector&lt;Counter, <span class="hljs-built_in">int</span>&gt;(
  selector: (_, counter) =&gt; counter.count,
  builder: (_, count, __) =&gt; Text(<span class="hljs-string">'<span class="hljs-subst">$count</span>'</span>),
)
</code></pre>
<hr/>
<h2 data-id="heading-41">åå…«ã€ç¼–è¯‘ä¸è¿è¡Œæ¨¡å¼</h2>
<h3 data-id="heading-42">25. JIT vs AOT ç¼–è¯‘çš„åŒºåˆ«ï¼Ÿ</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>JIT (Just-In-Time)</th><th>AOT (Ahead-Of-Time)</th></tr></thead><tbody><tr><td>ç¼–è¯‘æ—¶æœº</td><td>è¿è¡Œæ—¶</td><td>æ„å»ºæ—¶</td></tr><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>æ…¢ï¼ˆéœ€ç¼–è¯‘ï¼‰</td><td>å¿«ï¼ˆç›´æ¥è¿è¡Œï¼‰</td></tr><tr><td>è¿è¡Œæ€§èƒ½</td><td>å¯åŠ¨æ€ä¼˜åŒ–</td><td>å›ºå®šä¼˜åŒ–</td></tr><tr><td>åŒ…ä½“ç§¯</td><td>å°ï¼ˆæºå¸¦æºç ï¼‰</td><td>å¤§ï¼ˆåŒ…å«æœºå™¨ç ï¼‰</td></tr><tr><td>è°ƒè¯•æ”¯æŒ</td><td>æ”¯æŒçƒ­é‡è½½</td><td>ä¸æ”¯æŒ</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>Debug æ¨¡å¼</td><td>Release æ¨¡å¼</td></tr></tbody></table>
<p><strong>ç¼–è¯‘äº§ç‰©</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Debug (JIT):
  â””â”€â”€ app.dill (Kernel å­—èŠ‚ç )

Release (AOT):
  â””â”€â”€ app.so / App.framework (æœºå™¨ç )
</code></pre>
<hr/>
<h2 data-id="heading-43">åä¹ã€å¸¸è§æ€§èƒ½ä¼˜åŒ–åŸç†</h2>
<h3 data-id="heading-44">26. const æ„é€ å‡½æ•°çš„ä¼˜åŒ–åŸç†ï¼Ÿ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// æ²¡æœ‰ constï¼šæ¯æ¬¡ build åˆ›å»ºæ–°å®ä¾‹</span>
Widget build() {
  <span class="hljs-keyword">return</span> Container(
    child: Text(<span class="hljs-string">'Hello'</span>),  <span class="hljs-comment">// æ–°å®ä¾‹</span>
  );
}

<span class="hljs-comment">// ä½¿ç”¨ constï¼šç¼–è¯‘æœŸåˆ›å»ºå•ä¾‹ï¼Œå¤ç”¨</span>
Widget build() {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">const</span> Container(
    child: Text(<span class="hljs-string">'Hello'</span>),  <span class="hljs-comment">// åŒä¸€å®ä¾‹</span>
  );
}
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>å‡å°‘å¯¹è±¡åˆ›å»ºï¼Œé™ä½ GC å‹åŠ›</li>
<li>Widget ç›¸åŒå®ä¾‹ï¼ŒElement ç›´æ¥è·³è¿‡æ›´æ–°</li>
<li><code>canUpdate</code> è¿”å› true ä¸” <code>widget == newWidget</code>ï¼Œæ— éœ€ rebuild</li>
</ul>
<h3 data-id="heading-45">27. shouldRebuild ä¸ shouldRepaint çš„ä½œç”¨ï¼Ÿ</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// Delegate çš„ shouldRebuild</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDelegate</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SliverChildBuilderDelegate</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> shouldRebuild(MyDelegate oldDelegate) {
    <span class="hljs-keyword">return</span> data != oldDelegate.data;  <span class="hljs-comment">// åªåœ¨æ•°æ®å˜åŒ–æ—¶é‡å»º</span>
  }
}

<span class="hljs-comment">// CustomPainter çš„ shouldRepaint</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyPainter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CustomPainter</span> </span>{
  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">bool</span> shouldRepaint(MyPainter oldDelegate) {
    <span class="hljs-keyword">return</span> color != oldDelegate.color;  <span class="hljs-comment">// åªåœ¨å±æ€§å˜åŒ–æ—¶é‡ç»˜</span>
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-46">äºŒåã€Flutter Web åŸç†</h2>
<h3 data-id="heading-47">28. Flutter Web çš„ä¸¤ç§æ¸²æŸ“æ¨¡å¼ï¼Ÿ</h3>
<p><strong>HTML Renderer</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">Widget â”€â”€â–º <span class="hljs-selector-tag">HTML</span> Elements + CSS
         â””â–º <span class="hljs-selector-tag">Canvas</span> (éƒ¨åˆ†ç»„ä»¶)
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šåŒ…ä½“ç§¯å°ï¼ŒSEO å‹å¥½</li>
<li>ç¼ºç‚¹ï¼šä¸åŸç”Ÿ Flutter æ¸²æŸ“æœ‰å·®å¼‚</li>
</ul>
<p><strong>CanvasKit Renderer</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">Widget â”€â”€â–º Skia (WebAssembly) â”€â”€â–º WebGL <span class="hljs-selector-tag">Canvas</span>
</code></pre>
<ul>
<li>ä¼˜ç‚¹ï¼šæ¸²æŸ“ä¸€è‡´æ€§é«˜ï¼Œä¸ç§»åŠ¨ç«¯ç›¸åŒ</li>
<li>ç¼ºç‚¹ï¼šåŒ…ä½“ç§¯å¤§ï¼ˆ~2MBï¼‰ï¼Œé¦–æ¬¡åŠ è½½æ…¢</li>
</ul>
<hr/>
<h2 data-id="heading-48">æ€»ç»“</h2>
<p>ä»¥ä¸Šæ¶µç›–äº† Flutter åº•å±‚åŸç†çš„æ ¸å¿ƒx'y'zé¢˜ï¼Œé‡ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ä¸‰æ£µæ ‘æ¶æ„</strong>ï¼šWidget/Element/RenderObject çš„èŒè´£åˆ†ç¦»</li>
<li><strong>æ¸²æŸ“ç®¡çº¿</strong>ï¼šBuild â†’ Layout â†’ Paint â†’ Composite â†’ Raster</li>
<li><strong>Element å¤ç”¨</strong>ï¼šåŸºäº runtimeType å’Œ Key çš„ diff ç®—æ³•</li>
<li><strong>äº‹ä»¶å¾ªç¯</strong>ï¼šMicrotask ä¼˜å…ˆäº Event æ‰§è¡Œ</li>
<li><strong>å¹³å°é€šé“</strong>ï¼šé€šè¿‡äºŒè¿›åˆ¶æ¶ˆæ¯å®ç° Dart ä¸åŸç”Ÿé€šä¿¡</li>
<li><strong>çƒ­é‡è½½</strong>ï¼šJIT ç¼–è¯‘ + å¢é‡ä»£ç æ³¨å…¥ + Widget é‡å»º</li>
<li><strong>åˆ—è¡¨ä¼˜åŒ–</strong>ï¼šSliver åè®®å®ç°æŒ‰éœ€åŠ è½½å’Œå›æ”¶</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šåˆ†ä»£ GCï¼Œå¹´è½»ä»£å¤åˆ¶ç®—æ³• + è€å¹´ä»£æ ‡è®°æ¸…é™¤</li>
</ol>
<p>æŒæ¡è¿™äº›åº•å±‚åŸç†ï¼Œä¸ä»…èƒ½åº”å¯¹xyzï¼Œæ›´èƒ½å¸®åŠ©ä½ åœ¨å®é™…å¼€å‘ä¸­å†™å‡ºé«˜æ€§èƒ½çš„ Flutter åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ARC åŸç†ä¸ weak åº•å±‚å®ç°ï¼ˆSide Table æ·±åº¦è§£æï¼‰]]></title>    <link>https://juejin.cn/post/7598537739516690474</link>    <guid>https://juejin.cn/post/7598537739516690474</guid>    <pubDate>2026-01-25T09:22:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598537739516690474" data-draft-id="7598737609493987347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ARC åŸç†ä¸ weak åº•å±‚å®ç°ï¼ˆSide Table æ·±åº¦è§£æï¼‰"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2026-01-25T09:22:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±‰ç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/3755587450191879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ARC åŸç†ä¸ weak åº•å±‚å®ç°ï¼ˆSide Table æ·±åº¦è§£æï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3755587450191879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±‰ç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:22:52.000Z" title="Sun Jan 25 2026 09:22:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ARC åŸç†ä¸ weak åº•å±‚å®ç°ï¼ˆSide Table æ·±åº¦è§£æï¼‰</strong></h2>
<blockquote>
<p>é¢å‘ï¼š<strong>æœ‰ä¸€å®š iOS / Runtime åŸºç¡€çš„å¼€å‘è€…</strong></p>
</blockquote>
<blockquote>
<p>ç›®æ ‡ï¼š<strong>çœŸæ­£ææ¸…æ¥š weak åˆ°åº• weak äº†è°ã€SideTable é‡Œå­˜çš„æ˜¯ä»€ä¹ˆã€ä¸ºä»€ä¹ˆèƒ½è‡ªåŠ¨ç½® nil</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-1"><strong>ä¸€ã€å…ˆç»™ç»“è®ºï¼ˆéå¸¸é‡è¦ï¼‰</strong></h3>
<blockquote>
<p><strong>weak ä¸æ˜¯ä¿®é¥°å¯¹è±¡ï¼Œè€Œæ˜¯ä¿®é¥°â€œæŒ‡é’ˆå˜é‡â€</strong></p>
</blockquote>
<blockquote>
<p><strong>SideTable è®°å½•çš„æ˜¯ï¼šæŸä¸ªå¯¹è±¡ï¼Œè¢«å“ªäº› weak æŒ‡é’ˆåœ°å€æŒ‡å‘</strong></p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>âŒ ä¸æ˜¯ã€ŒA weak å¼•ç”¨ Bã€</li>
<li>âŒ ä¸æ˜¯ã€Œå¯¹è±¡è®°ä½äº†è° weak å®ƒã€</li>
<li>âœ… æ˜¯ã€ŒRuntime è®°ä½ï¼šå“ªäº›å†…å­˜åœ°å€ï¼ˆweak æŒ‡é’ˆï¼‰æŒ‡å‘äº†è¿™ä¸ªå¯¹è±¡ã€</li>
</ul>
<hr/>
<h3 data-id="heading-2"><strong>äºŒã€ä»ä¸€è¡Œä»£ç å¼€å§‹</strong></h3>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>, <span class="hljs-keyword">weak</span>) Person *person;
</code></pre>
<p>ç¼–è¯‘åæœ¬è´¨æ˜¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Person *__weak _person<span class="hljs-comment">;</span>
</code></pre>
<p>è¯´æ˜ä¸‰ç‚¹ï¼š</p>
<ol>
<li>_person æ˜¯ä¸€ä¸ª<strong>æ™®é€šæŒ‡é’ˆå˜é‡</strong></li>
<li>weak ä¿®é¥°çš„æ˜¯<strong>è¿™ä¸ªæŒ‡é’ˆå˜é‡çš„è¡Œä¸º</strong></li>
<li>å¹¶ä¸æ˜¯ Person å¯¹è±¡â€œå˜æˆäº† weakâ€</li>
</ol>
<hr/>
<h3 data-id="heading-3"><strong>ä¸‰ã€æ˜ç¡®ä¸‰ä¸ªæ ¸å¿ƒè§’è‰²</strong></h3>
<pre><code class="hljs language-ini" lang="ini">Person *<span class="hljs-attr">p</span> = [[Person alloc] init]<span class="hljs-comment">;</span>
<span class="hljs-attr">self.person</span> = p<span class="hljs-comment">; // weak</span>
</code></pre>
<p>æ­¤æ—¶å†…å­˜ä¸­å­˜åœ¨ä¸‰æ ·ä¸œè¥¿ï¼š</p>





















<table><thead><tr><th><strong>è§’è‰²</strong></th><th><strong>å«ä¹‰</strong></th></tr></thead><tbody><tr><td>Person å¯¹è±¡</td><td>çœŸæ­£çš„ OC å®ä¾‹</td></tr><tr><td>strong æŒ‡é’ˆ</td><td>æ‹¥æœ‰å¯¹è±¡ï¼ˆå¦‚ pï¼‰</td></tr><tr><td>weak æŒ‡é’ˆ</td><td>ä¸æ‹¥æœ‰å¯¹è±¡ï¼ˆå¦‚ self-&gt;_personï¼‰</td></tr></tbody></table>
<p><strong>weak çš„å¯¹è±¡ä¸æ˜¯ Personï¼Œè€Œæ˜¯ _person è¿™ä¸ªæŒ‡é’ˆå˜é‡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-4"><strong>å››ã€objc_storeWeak åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</strong></h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">self.person</span> = p<span class="hljs-comment">;</span>
</code></pre>
<p>ç¼–è¯‘åï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-title function_ invoke__">objc_storeWeak</span>(&amp;<span class="hljs-keyword">self</span><span class="hljs-punctuation">-&gt;</span>_person, p);
</code></pre>
<p>æ³¨æ„è¿™é‡Œä¼ å…¥çš„ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li>
<p>&amp;self-&gt;_person ğŸ‘‰ <strong>weak æŒ‡é’ˆçš„åœ°å€</strong></p>
</li>
<li>
<p>p ğŸ‘‰ <strong>å¯¹è±¡åœ°å€</strong></p>
</li>
</ul>
<blockquote>
<p>Runtime çš„çœŸå®æ„å›¾ï¼š</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p><strong>ç™»è®°ï¼šå¯¹è±¡ pï¼Œè¢«è¿™ä¸ª weak æŒ‡é’ˆåœ°å€å¼±å¼•ç”¨äº†</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-5"><strong>äº”ã€SideTable / weak_table çš„çœŸå®é€»è¾‘ç»“æ„</strong></h3>
<h4 data-id="heading-6"><strong>1ï¸âƒ£ SideTableï¼ˆç®€åŒ–ï¼‰</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SideTable</span> {
    <span class="hljs-type">spinlock_t</span> lock;
    RefcountMap refcnts;     <span class="hljs-comment">// å¼ºå¼•ç”¨è®¡æ•°</span>
    <span class="hljs-type">weak_table_t</span> weak_table; <span class="hljs-comment">// å¼±å¼•ç”¨è¡¨</span>
};
</code></pre>
<h4 data-id="heading-7"><strong>2ï¸âƒ£ weak_table_t</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">weak_table_t</span> {
    <span class="hljs-type">weak_entry_t</span> *weak_entries;
};
</code></pre>
<h4 data-id="heading-8"><strong>3ï¸âƒ£ weak_entry_tï¼ˆé‡ç‚¹ï¼‰</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">weak_entry_t</span> {
    DisguisedPtr&lt;objc_object&gt; referent; <span class="hljs-comment">// è¢« weak çš„å¯¹è±¡</span>
    <span class="hljs-type">weak_referrer_t</span> *referrers;         <span class="hljs-comment">// weak æŒ‡é’ˆåœ°å€æ•°ç»„</span>
};
</code></pre>
<hr/>
<h3 data-id="heading-9"><strong>å…­ã€SideTable ä¸­çœŸæ­£å­˜çš„æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3>
<p>ç”¨ä¸€å¼ é€»è¾‘å›¾è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">SideTable
â””â”€â”€ weak_table
    â””â”€â”€ weak_entry
        â”œâ”€â”€ <span class="hljs-attr">referent</span> = Person å¯¹è±¡
        â””â”€â”€ <span class="hljs-attr">referrers</span> = [
              &amp;self-&gt;_person,
              &amp;vc-&gt;_delegate,
              &amp;cell-&gt;_model
          ]
</code></pre>
<h4 data-id="heading-10"><strong>å…³é”®ç‚¹ï¼ˆä¸€å®šè¦è®°ä½ï¼‰ï¼š</strong></h4>
<ul>
<li>weak_table çš„ <strong>key æ˜¯å¯¹è±¡</strong></li>
<li>value æ˜¯ <strong>æ‰€æœ‰æŒ‡å‘å®ƒçš„ weak æŒ‡é’ˆåœ°å€</strong></li>
</ul>
<hr/>
<h3 data-id="heading-11"><strong>ä¸ƒã€è°è¢« weakï¼Ÿè°è¢«è®°å½•ï¼Ÿ</strong></h3>
<p>ä»¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">self.person</span> = p<span class="hljs-comment">;</span>
</code></pre>
<p>ä¸ºä¾‹ï¼š</p>





















<table><thead><tr><th><strong>é—®é¢˜</strong></th><th><strong>ç­”æ¡ˆ</strong></th></tr></thead><tbody><tr><td>è°è¢« weakï¼Ÿ</td><td>_person è¿™ä¸ªæŒ‡é’ˆå˜é‡</td></tr><tr><td>è°è¢«å¼•ç”¨ï¼Ÿ</td><td>Person å¯¹è±¡</td></tr><tr><td>SideTable è®°å½•ä»€ä¹ˆï¼Ÿ</td><td>Person â†’ weak æŒ‡é’ˆåœ°å€åˆ—è¡¨</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-12"><strong>å…«ã€å¯¹è±¡é‡Šæ”¾æ—¶ä¸ºä»€ä¹ˆèƒ½è‡ªåŠ¨ç½® nilï¼Ÿ</strong></h3>
<p>å½“ Person çš„å¼•ç”¨è®¡æ•°é™ä¸º 0ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">objc_destroyWeak</span>(obj);
</code></pre>
<p>Runtime çš„é€»è¾‘æµç¨‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">1. æ‰¾åˆ° obj å¯¹åº”çš„ weak_entry
2. éå† referrersï¼ˆweak æŒ‡é’ˆåœ°å€ï¼‰
3. å¯¹æ¯ä¸ªåœ°å€æ‰§è¡Œï¼š
      *(Person **)<span class="hljs-attr">referrer</span> = nil
4. ç§»é™¤ weak_entry
</code></pre>
<p>âš ï¸ Runtime <strong>å®Œå…¨ä¸çŸ¥é“å˜é‡å</strong>ï¼Œåªæ“ä½œå†…å­˜åœ°å€ã€‚</p>
<hr/>
<h3 data-id="heading-13"><strong>ä¹ã€ç”¨å†…å­˜è§†è§’å®Œæ•´èµ°ä¸€é</strong></h3>
<h4 data-id="heading-14"><strong>1ï¸âƒ£ å†…å­˜å¸ƒå±€</strong></h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">0</span>x1000  Person å¯¹è±¡

<span class="hljs-number">0</span>x2000  <span class="hljs-selector-tag">p</span> (<span class="hljs-selector-tag">strong</span>)        â†’ <span class="hljs-number">0</span>x1000
<span class="hljs-number">0</span>x3000  self-&gt;_person     â†’ <span class="hljs-number">0</span>x1000
</code></pre>
<h4 data-id="heading-15"><strong>2ï¸âƒ£ weak_table</strong></h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">key: 0x1000</span>
<span class="hljs-section">value: [0x3000]</span>
</code></pre>
<h4 data-id="heading-16"><strong>3ï¸âƒ£ Person é‡Šæ”¾</strong></h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">free</span>(<span class="hljs-number">0</span>x1000)
*(<span class="hljs-number">0</span>x3000) = nil
</code></pre>
<p>æœ€ç»ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">self.person</span> == nil
</code></pre>
<hr/>
<h3 data-id="heading-17"><strong>åã€ä¸ºä»€ä¹ˆ weak ä¸ä¼šäº§ç”Ÿé‡æŒ‡é’ˆï¼Ÿ</strong></h3>

















<table><thead><tr><th><strong>ä¿®é¥°ç¬¦</strong></th><th><strong>è¡Œä¸º</strong></th></tr></thead><tbody><tr><td>assign</td><td>ä¸ retainã€ä¸ç½® nil â†’ é‡æŒ‡é’ˆ</td></tr><tr><td>weak</td><td>Runtime æ‰«è¡¨å¹¶ç½® nil</td></tr></tbody></table>
<blockquote>
<p>weak çš„å®‰å…¨æ€§æ¥è‡ª <strong>Runtime çš„é›†ä¸­æ¸…ç†æœºåˆ¶</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-18"><strong>åä¸€ã€ä¸ºä»€ä¹ˆ weak_table ä»¥â€œå¯¹è±¡â€ä¸ºä¸­å¿ƒï¼Ÿ</strong></h3>
<p>å› ä¸ºï¼š</p>
<blockquote>
<p><strong>å¯¹è±¡é‡Šæ”¾æ˜¯ä¸€ä¸ªç¡®å®šäº‹ä»¶</strong></p>
</blockquote>
<p>ä»¥å¯¹è±¡ä¸º keyï¼š</p>
<ul>
<li>å¯¹è±¡é”€æ¯ â†’ ä¸€æ¬¡æ€§æ¸…ç†æ‰€æœ‰ weak æŒ‡é’ˆ</li>
<li>æ€§èƒ½å¯æ§</li>
<li>é€»è¾‘é›†ä¸­</li>
</ul>
<hr/>
<h3 data-id="heading-19"><strong>åäºŒã€å¸¸è§è¯¯è§£æ¾„æ¸…</strong></h3>
<h4 data-id="heading-20"><strong>âŒ A weak å¼•ç”¨ B</strong></h4>
<p>âœ… A çš„æŸä¸ªæŒ‡é’ˆ weak æŒ‡å‘ B</p>
<h4 data-id="heading-21"><strong>âŒ å¯¹è±¡çŸ¥é“è° weak å®ƒ</strong></h4>
<p>âœ… Runtime çŸ¥é“ï¼Œå¯¹è±¡æœ¬èº«ä¸çŸ¥é“</p>
<h4 data-id="heading-22"><strong>âŒ weak æ˜¯å¯¹è±¡å±æ€§</strong></h4>
<p>âœ… weak æ˜¯æŒ‡é’ˆè¯­ä¹‰</p>
<h4 data-id="heading-23"><strong>âŒ weak åªæ˜¯â€œä¸ retainâ€</strong></h4>
<p>âœ… weak = ä¸ retain + æ³¨å†Œ weak_table + è‡ªåŠ¨ç½® nil</p>
<hr/>
<h3 data-id="heading-24"><strong>åä¸‰ã€ä¸€å¥è¯æ€»ç»“</strong></h3>
<blockquote>
<p><strong>weak çš„æœ¬è´¨ä¸æ˜¯å¼±å¼•ç”¨å¯¹è±¡ï¼Œ</strong></p>
</blockquote>
<blockquote>
<p><strong>è€Œæ˜¯ Runtime è®°å½•â€œå“ªäº›æŒ‡é’ˆå¼±æŒ‡å‘äº†è¿™ä¸ªå¯¹è±¡â€ï¼Œ</strong></p>
</blockquote>
<blockquote>
<p><strong>å¹¶åœ¨å¯¹è±¡é”€æ¯æ—¶ç»Ÿä¸€æŠŠè¿™äº›æŒ‡é’ˆç½®ä¸º nilã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-25"><strong>åå››ã€ä¸‹ä¸€æ­¥å¯ç»§ç»­æ·±å…¥</strong></h3>
<ul>
<li>
<p>block æ•è·ä¸‹ weak_table çš„å˜åŒ–è¿‡ç¨‹</p>
</li>
<li>
<p>__unsafe_unretained ä¸ weak çš„å®ç°å¯¹æ¯”</p>
</li>
<li>
<p>objc-runtime æºç ä¸­ weak_entry çš„çœŸå®å®ç°</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬äºŒç« ï¼šè¿›é˜¶ç¯‡â€”â€”è§£é”å¤§æ¨¡å‹çš„æ·±å±‚èƒ½åŠ›ä¸å®šåˆ¶åŒ–]]></title>    <link>https://juejin.cn/post/7598587406707720233</link>    <guid>https://juejin.cn/post/7598587406707720233</guid>    <pubDate>2026-01-25T08:27:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598587406707720233" data-draft-id="7598737609493921811" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬äºŒç« ï¼šè¿›é˜¶ç¯‡â€”â€”è§£é”å¤§æ¨¡å‹çš„æ·±å±‚èƒ½åŠ›ä¸å®šåˆ¶åŒ–"/> <meta itemprop="keywords" content="LLM,Agent"/> <meta itemprop="datePublished" content="2026-01-25T08:27:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æä¸è¨€"/> <meta itemprop="url" content="https://juejin.cn/user/3403743729552056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬äºŒç« ï¼šè¿›é˜¶ç¯‡â€”â€”è§£é”å¤§æ¨¡å‹çš„æ·±å±‚èƒ½åŠ›ä¸å®šåˆ¶åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743729552056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æä¸è¨€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T08:27:27.000Z" title="Sun Jan 25 2026 08:27:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æŒæ¡äº†æ¨¡å‹çš„åŸºç¡€èƒ½åŠ›åï¼Œæˆ‘ä»¬ä¾¿ç«™åœ¨äº†â€œä½¿ç”¨æ¨¡å‹â€çš„é—¨æ§›ä¸Šã€‚ä½†è¦è§£å†³ç°å®ä¸–ç•Œä¸­æ›´å¤æ‚ã€æ›´ä¸“ä¸šçš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¼šâ€œå¡‘é€ æ¨¡å‹â€ã€‚</p>
<p>æœ¬ç« å°†ä»‹ç»ä¸‰ç§æ ¸å¿ƒçš„è¿›é˜¶è·¯å¾„ï¼š<strong>æç¤ºå·¥ç¨‹</strong>ã€<strong>æ¨¡å‹å¾®è°ƒ</strong>å’Œ<strong>æ™ºèƒ½ä½“æ„å»º</strong>ã€‚å®ƒä»¬å¦‚åŒä¸ºä¸€æŠŠç‘å£«å†›åˆ€ï¼ˆåŸºç¡€æ¨¡å‹ï¼‰é…å¤‡ä¸“ç”¨åˆ€å¤´ã€è¿›è¡Œä¸ªæ€§åŒ–æ”¹è£…ï¼Œå¹¶æ•™ä¼šå®ƒè‡ªä¸»å®Œæˆä»»åŠ¡ï¼Œä»è€Œçªç ´åŸºç¡€èƒ½åŠ›çš„é™åˆ¶ï¼Œå®ç°æ›´å¯é ã€æ›´å¤æ‚çš„ä»»åŠ¡è‡ªåŠ¨åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-0">2.1 æç¤ºå·¥ç¨‹çš„é­”æ³•ï¼šä»é›¶æ ·æœ¬åˆ°æ€ç»´é“¾ (CoT)</h2>
<p>æç¤ºå·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰æ˜¯é€šè¿‡ç²¾å¿ƒè®¾è®¡è¾“å…¥æ–‡æœ¬æ¥å¼•å¯¼æ¨¡å‹è¾“å‡ºæ›´ä½³ç»“æœçš„æŠ€æœ¯ã€‚å®ƒæˆæœ¬æä½ï¼Œæ˜¯è§£é”æ¨¡å‹æ½œåŠ›çš„é¦–è¦å·¥å…·ã€‚</p>
<h3 data-id="heading-1">2.1.1 åŸºç¡€ï¼šä»é›¶æ ·æœ¬åˆ°å°‘æ ·æœ¬æç¤º</h3>
<ul>
<li>
<p><strong>é›¶æ ·æœ¬ (Zero-Shot)</strong> ï¼šç›´æ¥å‘æ¨¡å‹æå‡ºæ–°ä»»åŠ¡ï¼Œä¸æä¾›ç¤ºä¾‹ã€‚</p>
<blockquote>
<p><em>ä¾‹å¦‚</em>ï¼šâ€œå°†ä»¥ä¸‹è‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡ï¼šâ€˜Hello, world.â€™â€</p>
</blockquote>
</li>
<li>
<p><strong>å°‘æ ·æœ¬ (Few-Shot)</strong> ï¼šåœ¨é—®é¢˜å‰æä¾›å‡ ä¸ªè¾“å…¥-è¾“å‡ºç¤ºä¾‹ä½œä¸ºâ€œç¤ºèŒƒâ€ã€‚</p>
<blockquote>
<p><em>æ•ˆæœ</em>ï¼šç ”ç©¶æ˜¾ç¤ºï¼Œä»…æä¾› 3-5 ä¸ªç¤ºä¾‹ï¼ˆ3-shot, 5-shotï¼‰å°±èƒ½æ˜¾è‘—æå‡æ¨¡å‹åœ¨ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚æƒ…æ„Ÿåˆ†æï¼‰ä¸Šçš„è¡¨ç°ã€‚</p>
</blockquote>
</li>
</ul>
<h3 data-id="heading-2">2.1.2 è¿›é˜¶ï¼šæ€ç»´é“¾ (Chain-of-Thought, CoT)</h3>
<p>å¯¹äºæ•°å­¦æ¨ç†ã€é€»è¾‘åˆ¤æ–­ç­‰å¤æ‚é—®é¢˜ï¼Œç›´æ¥æé—®å¸¸å¯¼è‡´é”™è¯¯ã€‚<strong>æ€ç»´é“¾</strong>æŠ€æœ¯é€šè¿‡è¦æ±‚æ¨¡å‹â€œå±•ç¤ºå…¶æ¨ç†æ­¥éª¤â€ï¼Œèƒ½å¤§å¹…æå‡å‡†ç¡®æ€§ã€‚</p>
<ul>
<li><strong>åŸç†</strong>ï¼šç±»æ¯”äºè§£æ•°å­¦é¢˜ï¼Œå†™å‡ºâ€œå› ä¸ºâ€¦æ‰€ä»¥â€¦â€çš„æ­¥éª¤ä¾¿äºæ£€æŸ¥å’Œä¿®æ­£ã€‚CoT æç¤ºæ¿€æ´»äº†æ¨¡å‹å†…éƒ¨çš„é€»è¾‘æ¨ç†è·¯å¾„ã€‚</li>
<li><strong>æ•°æ®æ”¯æ’‘</strong>ï¼šåœ¨ <strong>GSM8K</strong>ï¼ˆå°å­¦æ•°å­¦é¢˜ï¼‰åŸºå‡†æµ‹è¯•ä¸­ï¼Œä½¿ç”¨ CoT æç¤ºçš„ GPT-3 æ¨¡å‹å‡†ç¡®ç‡ä»çº¦ <strong>17% æå‡è‡³ 58%</strong> ã€‚</li>
</ul>
<h4 data-id="heading-3">ğŸ’¡ æ¡ˆä¾‹å¯¹æ¯”</h4>
<blockquote>
<p><strong>é—®é¢˜</strong>ï¼šä¸€ä¸ªèŠ±å›­æœ‰ 4 æ’ç«ç‘°ï¼Œæ¯æ’ 6 æ ªã€‚åˆç§äº† 3 æ’éƒé‡‘é¦™ï¼Œæ¯æ’ 5 æ ªã€‚æ€»å…±æœ‰å¤šå°‘æ ªèŠ±ï¼Ÿ</p>
<p><strong>é”™è¯¯æç¤ºï¼ˆæ ‡å‡†ï¼‰</strong> ï¼šè¯·ç›´æ¥å›ç­”ã€‚</p>
<p><strong>æ¨¡å‹å¯èƒ½é”™è¯¯è¾“å‡º</strong>ï¼š39ã€‚ï¼ˆæ³¨ï¼šæ­¤å¤„ä¸ºæ¼”ç¤ºé€»è¾‘ï¼Œæœ‰æ—¶æ¨¡å‹ä¼šå› è·³æ­¥å¯¼è‡´è®¡ç®—åè¯¯ï¼‰</p>
<p><strong>CoT æç¤º</strong>ï¼šè¯·é€æ­¥æ¨ç†ã€‚</p>
<p><strong>æ¨¡å‹è¾“å‡º</strong>ï¼š</p>
<ol>
<li>
<p>é¦–å…ˆï¼Œç«ç‘°æœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mtext>æ’</mtext><mo>Ã—</mo><mn>6</mn><mtext>æ ª/æ’</mtext><mo>=</mo><mn>24</mn><mtext>æ ª</mtext></mrow><annotation encoding="application/x-tex">4 \text{æ’} \times 6 \text{æ ª/æ’} = 24 \text{æ ª}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">4</span><span class="mord text"><span class="mord cjk_fallback">æ’</span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">6</span><span class="mord text"><span class="mord cjk_fallback">æ ª</span><span class="mord">/</span><span class="mord cjk_fallback">æ’</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">24</span><span class="mord text"><span class="mord cjk_fallback">æ ª</span></span></span></span></span></span>ã€‚</p>
</li>
<li>
<p>å…¶æ¬¡ï¼Œéƒé‡‘é¦™æœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mtext>æ’</mtext><mo>Ã—</mo><mn>5</mn><mtext>æ ª/æ’</mtext><mo>=</mo><mn>15</mn><mtext>æ ª</mtext></mrow><annotation encoding="application/x-tex">3 \text{æ’} \times 5 \text{æ ª/æ’} = 15 \text{æ ª}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">3</span><span class="mord text"><span class="mord cjk_fallback">æ’</span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5</span><span class="mord text"><span class="mord cjk_fallback">æ ª</span><span class="mord">/</span><span class="mord cjk_fallback">æ’</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">15</span><span class="mord text"><span class="mord cjk_fallback">æ ª</span></span></span></span></span></span>ã€‚</p>
</li>
<li>
<p>æœ€åï¼Œæ€»æ•°æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mo>+</mo><mn>15</mn><mo>=</mo><mn>39</mn><mtext>æ ª</mtext></mrow><annotation encoding="application/x-tex">24 + 15 = 39 \text{æ ª}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">24</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">15</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">39</span><span class="mord text"><span class="mord cjk_fallback">æ ª</span></span></span></span></span></span>ã€‚</p>
<p><strong>æ‰€ä»¥ç­”æ¡ˆæ˜¯ 39ã€‚</strong></p>
</li>
</ol>
</blockquote>
<p>é€šè¿‡ CoTï¼Œæˆ‘ä»¬å°†æ¨¡å‹çš„â€œé»‘ç®±â€æ€è€ƒè¿‡ç¨‹éƒ¨åˆ†å¯è§†åŒ–ï¼Œä½¿å…¶æ¨ç†æ›´å¯é ã€‚</p>
<hr/>
<h2 data-id="heading-4">2.2 æ¨¡å‹çš„â€œç²¾è£…ä¿®â€ï¼šå¾®è°ƒ (Fine-tuning) æŠ€æœ¯å…¨æ™¯</h2>
<p>å½“æç¤ºå·¥ç¨‹æ— æ³•æ»¡è¶³å¯¹ç‰¹å®šé£æ ¼ã€çŸ¥è¯†æˆ–ä»»åŠ¡çš„æè‡´éœ€æ±‚æ—¶ï¼Œå°±éœ€è¦å¯¹æ¨¡å‹è¿›è¡Œ<strong>å¾®è°ƒ</strong>ã€‚è¿™å¥½æ¯”å¯¹æ¯›å¯æˆ¿ï¼ˆåŸºç¡€æ¨¡å‹ï¼‰è¿›è¡Œâ€œç²¾è£…ä¿®â€ï¼Œä½¿å…¶æ›´è´´åˆä½ çš„ä¸“ä¸šé¢†åŸŸã€‚</p>
<h3 data-id="heading-5">2.2.1 å…¨å‚æ•°å¾®è°ƒä¸å®ƒçš„æŒ‘æˆ˜</h3>
<p>ä¼ ç»Ÿå¾®è°ƒä¼šæ›´æ–°æ¨¡å‹çš„æ‰€æœ‰å‚æ•°ï¼ˆæƒé‡ï¼‰ï¼Œè™½ç„¶æ•ˆæœå¥½ï¼Œä½†æˆæœ¬æé«˜ã€‚ä»¥æ‹¥æœ‰ <strong>1750 äº¿å‚æ•°</strong> çš„ GPT-3 ä¸ºä¾‹ï¼Œä¸€æ¬¡å…¨å¾®è°ƒéœ€è¦æ•°ç™¾ä¸ªé«˜ç«¯ GPU å’Œæ•°ä¸‡ç¾å…ƒï¼Œå¯¹å¤§å¤šæ•°å¼€å‘è€…è€Œè¨€é¥ä¸å¯åŠã€‚</p>
<h3 data-id="heading-6">2.2.2 é«˜æ•ˆå¾®è°ƒçš„é©å‘½ï¼šLoRA ä¸ QLoRA</h3>
<p>ä¸ºäº†é™ä½é—¨æ§›ï¼Œç ”ç©¶è€…æå‡ºäº† <strong>å‚æ•°é«˜æ•ˆå¾®è°ƒ (PEFT)</strong> æŠ€æœ¯ï¼š</p>
<ul>
<li>
<p><strong>LoRA (Low-Rank Adaptationï¼Œä½ç§©é€‚é…)</strong> ï¼š</p>
<ul>
<li><strong>åŸç†</strong>ï¼šä¸ç›´æ¥ä¿®æ”¹åŸå§‹å·¨å¤§å‚æ•°çŸ©é˜µï¼Œè€Œæ˜¯è®­ç»ƒä¸€å¯¹å°çš„â€œé€‚é…å™¨â€çŸ©é˜µå¹¶æ³¨å…¥æ¨¡å‹ã€‚æƒ³è±¡ä¸ºï¼šä¸é‡é€ æ±½è½¦å‘åŠ¨æœºï¼Œè€Œæ˜¯åŠ è£…ä¸€ä¸ªå¤–æŒ‚ç”µè„‘æ¥ä¼˜åŒ–æ€§èƒ½ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼šé€šå¸¸åªéœ€è®­ç»ƒåŸå‚æ•°çš„ <strong>0.1%-1%</strong> ï¼Œå´èƒ½è¾¾åˆ°æ¥è¿‘å…¨å¾®è°ƒçš„æ•ˆæœã€‚</li>
</ul>
</li>
<li>
<p><strong>QLoRA (Quantized LoRA)</strong> ï¼š</p>
<ul>
<li><strong>åŸç†</strong>ï¼šåœ¨ LoRA åŸºç¡€ä¸Šï¼Œå°†åŸå§‹æ¨¡å‹æƒé‡é‡åŒ–ä¸º <strong>4 ä½ç²¾åº¦</strong>ï¼ˆæå¤§å‡å°‘å†…å­˜å ç”¨ï¼‰ã€‚</li>
<li><strong>æ•°æ®æ”¯æ’‘</strong>ï¼šQLoRA ä½¿å¾—åœ¨å•ä¸ªæ¶ˆè´¹çº§ GPUï¼ˆå¦‚ <strong>24GB æ˜¾å­˜çš„ RTX 4090</strong>ï¼‰ä¸Šå¾®è°ƒ 650 äº¿å‚æ•°æ¨¡å‹æˆä¸ºå¯èƒ½ã€‚</li>
</ul>
</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¾®è°ƒé€‚ç”¨äºéœ€è¦æ¨¡å‹æ·±åº¦å¸æ”¶ç§æœ‰çŸ¥è¯†ã€å›ºåŒ–ç‰¹å®šé£æ ¼ï¼ˆå¦‚æ³•å¾‹æ–‡ä¹¦ï¼‰æˆ–ç²¾é€šå‚ç›´é¢†åŸŸä»»åŠ¡ï¼ˆå¦‚åŒ»ç–—è¯Šæ–­ï¼‰çš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-7">2.3 ä»å·¥å…·åˆ°ä¼™ä¼´ï¼šAI æ™ºèƒ½ä½“ (Agent) çš„æ„å»ºä¸ååŒ</h2>
<p>æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æ˜¯èƒ½æ„ŸçŸ¥ç¯å¢ƒã€è¿›è¡Œè§„åˆ’ã€æ‰§è¡ŒåŠ¨ä½œå¹¶è¾¾æˆç›®æ ‡çš„ AI ç³»ç»Ÿã€‚å®ƒå°†å¤§æ¨¡å‹ä»â€œè¢«åŠ¨åº”ç­”çš„å·¥å…·â€è½¬å˜ä¸ºâ€œä¸»åŠ¨æ‰§è¡Œçš„ä¼™ä¼´â€ã€‚</p>
<h3 data-id="heading-8">ğŸ› ï¸ æ ¸å¿ƒèƒ½åŠ›</h3>
<ol>
<li>
<p><strong>è§„åˆ’ (Planning)</strong> ï¼šå°†å¤æ‚ç›®æ ‡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„å­ä»»åŠ¡åºåˆ—ã€‚</p>
</li>
<li>
<p><strong>å·¥å…·ä½¿ç”¨ (Tool Use)</strong> ï¼šæ¡†æ¶å…è®¸æ¨¡å‹è°ƒç”¨å¤–éƒ¨ APIï¼Œå¦‚ï¼š</p>
<ul>
<li><code>search_web(query)</code>ï¼šè·å–æœ€æ–°ä¿¡æ¯ã€‚</li>
<li><code>calculator(expression)</code>ï¼šè¿›è¡Œç²¾ç¡®è®¡ç®—ã€‚</li>
<li><code>execute_python(code)</code>ï¼šè¿è¡Œä»£ç å¤„ç†æ•°æ®ã€‚</li>
</ul>
</li>
<li>
<p><strong>åæ€ (Reflection)</strong> ï¼šæ£€æŸ¥è¡ŒåŠ¨ç»“æœï¼Œè‹¥æœªè¾¾åˆ°é¢„æœŸï¼Œåˆ™è°ƒæ•´è®¡åˆ’æˆ–é‡è¯•ã€‚</p>
</li>
</ol>
<h3 data-id="heading-9">ğŸ“¦ æ¡†æ¶å®ä¾‹</h3>
<ul>
<li><strong>LangChain</strong>ï¼šåƒâ€œä¹é«˜ç§¯æœ¨â€ä¸€æ ·ï¼Œæä¾›è¿æ¥æ¨¡å‹ã€å·¥å…·ã€è®°å¿†æ¨¡å—çš„æ ‡å‡†åŒ–ç»„ä»¶ã€‚</li>
<li><strong>AutoGPT</strong>ï¼šå±•ç¤ºäº†æ™ºèƒ½ä½“å¦‚ä½•é€šè¿‡å¾ªç¯è¿­ä»£ï¼Œè‡ªä¸»ä½¿ç”¨ç½‘ç»œå’Œæ–‡ä»¶ç³»ç»Ÿå®Œæˆå¼€æ”¾å¼ç›®æ ‡ã€‚</li>
</ul>
<blockquote>
<p><strong>æ¡ˆä¾‹</strong>ï¼šæ„å»ºä¸€ä¸ªâ€œå­¦æœ¯ç ”ç©¶åŠ©æ‰‹â€æ™ºèƒ½ä½“ã€‚ä½ åªéœ€è¾“å…¥â€œç ”ç©¶é‡å­è®¡ç®—åœ¨ææ–™ç§‘å­¦ä¸­çš„åº”ç”¨â€ï¼Œæ™ºèƒ½ä½“ä¾¿ä¼šè‡ªåŠ¨è§„åˆ’ï¼šæœç´¢è®ºæ–‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ä¸‹è½½æ€»ç»“æ–‡çŒ® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ•´ç†ç»“æ„åŒ–ç»¼è¿°ã€‚è¿™å®ç°äº†ä»å•æ¬¡é—®ç­”åˆ°<strong>å¤šæ­¥éª¤å·¥ä½œæµè‡ªåŠ¨åŒ–</strong>çš„è·ƒè¿ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">2.4 å¤šæ¨¡æ€èåˆï¼šè®©æ¨¡å‹â€œçœ‹å¾—è§â€ã€â€œå¬å¾—åˆ°â€</h2>
<p>åŸºç¡€è¯­è¨€æ¨¡å‹åªå¤„ç†æ–‡æœ¬ã€‚<strong>å¤šæ¨¡æ€å¤§æ¨¡å‹</strong>ï¼ˆå¦‚ GPT-4Vã€Geminiï¼‰åˆ™èƒ½åŒæ—¶ç†è§£å’Œç”Ÿæˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ç­‰ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-11">ğŸ¨ åŸç†ä¸ä»·å€¼</h3>
<p>æ¨¡å‹åœ¨è®­ç»ƒæ—¶å¯¹é½äº†ä¸åŒæ¨¡æ€çš„æ•°æ®ï¼Œå­¦ä¼šç†è§£è·¨æ¨¡æ€çš„æ¦‚å¿µã€‚</p>
<ul>
<li><strong>è§†è§‰ç†è§£</strong>ï¼šåˆ†æå›¾ç‰‡å†…å®¹ã€‚ä¾‹å¦‚ä¸Šä¼ ä»ªè¡¨ç›˜æˆªå›¾ï¼Œæ¨¡å‹èƒ½è¯»å‡ºæ•°å€¼å¹¶æ€»ç»“çŠ¶æ€ã€‚</li>
<li><strong>è§†è§‰ç”Ÿæˆ</strong>ï¼šæ ¹æ®æ–‡æœ¬æè¿°ç”Ÿæˆå›¾åƒï¼Œå¦‚â€œç”Ÿæˆèµ›åšæœ‹å…‹é£æ ¼çš„åŸå¸‚å¤œæ™¯â€ã€‚</li>
<li><strong>è¯­éŸ³äº¤äº’</strong>ï¼šå®ç°è‡ªç„¶çš„è¯­éŸ³å¯¹è¯ï¼Œè®© AI åŠ©ç†èƒ½â€œå¬â€å’Œâ€œè¯´â€ã€‚</li>
</ul>
<h3 data-id="heading-12">ğŸš€ åº”ç”¨åœºæ™¯</h3>
<ul>
<li><strong>æ— éšœç¢æŠ€æœ¯</strong>ï¼šä¸ºè§†éšœç”¨æˆ·æè¿°å‘¨å›´ç¯å¢ƒã€‚</li>
<li><strong>æ™ºèƒ½å®¢æœ</strong>ï¼šç”¨æˆ·ä¸Šä¼ æ•…éšœå›¾ç‰‡ï¼ŒAI è‡ªåŠ¨è¯†åˆ«é—®é¢˜ã€‚</li>
<li><strong>å†…å®¹åˆ›ä½œ</strong>ï¼šæ–‡æ¡ˆè‡ªåŠ¨é…å›¾ï¼Œæˆ–ä¸ºè§†é¢‘ç”Ÿæˆå­—å¹•å’Œè§£è¯´ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-13">æœ¬ç« æ€»ç»“</h3>
<p>ä»ç²¾å¿ƒè®¾è®¡çš„<strong>æç¤ºè¯</strong>ï¼Œåˆ°æ·±åº¦å®šåˆ¶çš„<strong>å¾®è°ƒæ¨¡å‹</strong>ï¼Œå†åˆ°èƒ½è‡ªä¸»ä½¿ç”¨å·¥å…·çš„<strong>æ™ºèƒ½ä½“</strong>ï¼Œæœ€ååˆ°æ„ŸçŸ¥å¤šå…ƒä¸–ç•Œçš„<strong>å¤šæ¨¡æ€æ¨¡å‹</strong>ï¼Œæˆ‘ä»¬ä¸€æ­¥æ­¥å°†é€šç”¨å¤§æ¨¡å‹â€œå¡‘é€ â€æˆè§£å†³ç‰¹å®šé—®é¢˜çš„å¼ºå¤§å¼•æ“ã€‚</p>
<p>è¿™æ ‡å¿—ç€ä½ ä»æ¨¡å‹ä½¿ç”¨è€…å‘ <strong>AI è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ</strong> çš„æ€ç»´è½¬å˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»åŸç”Ÿ Node.js åˆ° Koaï¼šè½»é‡ä¼˜é›…ï¼Œè§£é”åç«¯å¼€å‘æ–°ä½“éªŒ]]></title>    <link>https://juejin.cn/post/7598614012183740443</link>    <guid>https://juejin.cn/post/7598614012183740443</guid>    <pubDate>2026-01-24T14:11:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598614012183740443" data-draft-id="7598614012183527451" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»åŸç”Ÿ Node.js åˆ° Koaï¼šè½»é‡ä¼˜é›…ï¼Œè§£é”åç«¯å¼€å‘æ–°ä½“éªŒ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-01-24T14:11:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»åŸç”Ÿ Node.js åˆ° Koaï¼šè½»é‡ä¼˜é›…ï¼Œè§£é”åç«¯å¼€å‘æ–°ä½“éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T14:11:10.000Z" title="Sat Jan 24 2026 14:11:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¯ä¸€ä¸ª <code>Node.js</code> å¼€å‘è€…éƒ½æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼šç”¨åŸç”Ÿ <code>http</code> æ¨¡å—æ­å»ºæœåŠ¡æ—¶ï¼Œè¦æ‰‹å†™è¯·æ±‚åˆ¤æ–­ã€å¤„ç†å“åº”å¤´ï¼Œå‡ è¡Œä»£ç å°±å˜å¾—è‡ƒè‚¿ä¸å ªã€‚</p>
<p>ä¸ºäº†å‘Šåˆ«è¿™ç§ä½æ•ˆçš„é‡å¤é€ è½®å­ï¼Œ<code>Node.js</code>ç¤¾åŒºæ¶Œç°å‡ºäº†ä¸€æ‰¹ä¼˜ç§€çš„å¼€å‘æ¡†æ¶ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>express æ¡†æ¶</li>
<li>koa æ¡†æ¶</li>
<li>nestjs æ¡†æ¶</li>
</ul>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠå…¶ä¸­æœ€è½»å·§ã€æœ€å…·ç°ä»£æ„Ÿçš„ <strong>Koa</strong>ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨æ¡†æ¶ï¼Ÿä¼˜åŒ–åœ¨å“ªï¼Ÿ</h3>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æé«˜æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚æ¯”å¦‚åŸç”Ÿ<code>http</code>å†™æ³•ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">'/home'</span>) {
        res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'hello world'</span>)
    }
});
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'server is running at http://localhost:3000'</span>)
});
</code></pre>
<p>è¿™æ ·å½“æˆ‘ä»¬è¾“å…¥URLå°±æˆåŠŸå‡ºç°äº†<code>hello world</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20dddc622b144f8a8d62207ee0f23958~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=xQyTq1jAuFlLPQR6HsFHiO%2Bt34Y%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†æ˜¯å†™æ³•è¿‡äºéº»çƒ¦ï¼Œå¤ªè¿‡ä½çº§ï¼Œäºæ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨é«˜çº§çš„æ¡†æ¶ã€‚</p>
<h3 data-id="heading-2">äºŒã€åˆè¯† Koaï¼šå‡ è¡Œä»£ç æ­å»ºå®Œæ•´ Web æœåŠ¡</h3>
<p><code>Koa</code> çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯<strong>æç®€</strong>ï¼Œæ— éœ€å¤æ‚çš„é…ç½®ï¼Œå®‰è£…åå‡ è¡Œä»£ç å°±èƒ½å¯åŠ¨ä¸€ä¸ªå¯è¿è¡Œçš„ Web æœåŠ¡ï¼Œç›¸æ¯”åŸç”Ÿ<code>http</code>æ¨¡å—ï¼Œçœå»äº†å¤§é‡çš„åŸºç¡€å°è£…å·¥ä½œã€‚åŒæ—¶<code>koa</code>ä¹Ÿæ˜¯ <code>Express</code> åŸç­äººé©¬æ‰“é€ çš„ä¸‹ä¸€ä»£ <strong>Node.js Web æ¡†æ¶</strong>ï¼Œå®ƒæŠ›å¼ƒäº†å†—ä½™çš„å†…ç½®ä¸­é—´ä»¶ï¼Œç”¨ <code>async/await</code> è®©å¼‚æ­¥ä»£ç å˜å¾—åƒåŒæ­¥ä¸€æ ·æ¸…çˆ½ã€‚</p>
<h4 data-id="heading-3">1. åŸºç¡€å‡†å¤‡ä¸å®‰è£…</h4>
<p>é¦–å…ˆç¡®ä¿ä½ çš„ç¯å¢ƒè£…æœ‰ <code>Node.js</code> å’Œ <code>npm</code>ï¼ˆç›´æ¥å»å®˜ç½‘ä¸‹è½½<code>Node.js</code>å³å¯ï¼‰ï¼Œç„¶åæ–°å»ºé¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œåˆå§‹åŒ–å’Œå®‰è£…å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm init -y 
npm install koa
</code></pre>
<h4 data-id="heading-4">2. ç¬¬ä¸€ä¸ª Koa æœåŠ¡ï¼šä» 0 åˆ° 1</h4>
<p>é…ç½®å¥½ç¯å¢ƒï¼Œæˆ‘ä»¬å°±ç›´æ¥ä¸Šæ‰‹å®Œæˆä¸€ä¸ªæœ€åŸºç¡€çš„ <code>Koa</code> æœåŠ¡å®ç°ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å¼•å…¥Koaæ¨¡å—</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Koa</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'koa'</span>);
<span class="hljs-comment">// åˆ›å»ºKoaåº”ç”¨å®ä¾‹</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Koa</span>();

<span class="hljs-comment">// å®šä¹‰æ ¸å¿ƒä¸šåŠ¡å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">ctx</span>) {
    <span class="hljs-comment">// æ¨¡æ‹Ÿå¾…è¿”å›çš„åˆ—è¡¨æ•°æ®</span>
    <span class="hljs-keyword">const</span> data = [
        {<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'henry'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>},
        {<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'harvest'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">19</span>},
        {<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'hello'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>}
    ]
    <span class="hljs-comment">// åˆ¤æ–­è¯·æ±‚è·¯å¾„ï¼Œè¿”å›å¯¹åº”æ•°æ®</span>
    <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">url</span> === <span class="hljs-string">'/list'</span>) {
        ctx.<span class="hljs-property">body</span> = data;
    }
}

<span class="hljs-comment">// æ³¨å†Œä¸­é—´ä»¶ï¼Œå¤„ç†æ‰€æœ‰è¯·æ±‚</span>
app.<span class="hljs-title function_">use</span>(main);
<span class="hljs-comment">// ç›‘å¬3000ç«¯å£ï¼Œå¯åŠ¨æœåŠ¡</span>
app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'server is running at http://localhost:3000'</span>);
});
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f304f98793884689a7914d90ec592543~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=ObgjvDGEnrkwz5oayrkTiE57Tvc%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ®µä»£ç ä¸­ï¼Œ<code>ctx</code> æ˜¯ Koa æœ€æ ¸å¿ƒçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå®ƒæŠŠ <code>request</code> å’Œ <code>response</code> å°è£…åœ¨ä¸€èµ·ã€‚å½“è®¿é—® <code>http://localhost:3000/list</code> æ—¶ï¼Œå°±èƒ½ç›´æ¥æ‹¿åˆ°æˆ‘ä»¬é¢„è®¾çš„ JSON æ•°æ®ï¼Œæ— éœ€åƒåŸç”Ÿ <code>http</code> é‚£æ ·æ‰‹åŠ¨è®¾ç½®å“åº”å¤´ã€‚</p>
<h4 data-id="heading-5">3. çµæ´»å¤„ç†å“åº”ï¼šå¤šç±»å‹é€‚é…ï¼Œä¸€é”®åˆ‡æ¢</h4>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿”å›ä¸åŒç±»å‹çš„å“åº”æ•°æ®ï¼Œæ¯”å¦‚ JSONã€HTMLã€çº¯æ–‡æœ¬ç­‰ï¼ŒKoa é€šè¿‡<code>ctx.response.type</code>å¯ä»¥è½»æ¾å®ç°<strong>å“åº”ç±»å‹çš„åˆ‡æ¢</strong>ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®å¤æ‚çš„å“åº”å¤´ï¼Œè®©å“åº”å¤„ç†å˜å¾—æå…¶çµæ´»ã€‚</p>
<p>æ¯”å¦‚éœ€è¦è¿”å›æ ‡å‡†çš„ JSON æ ¼å¼æ•°æ®ï¼Œåªéœ€æŒ‡å®šå“åº”ç±»å‹ä¸º<code>json</code>ï¼Œå†ç»™<code>ctx.body</code>èµ‹å€¼å³å¯ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Koa</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'koa'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Koa</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">ctx</span>) {
    ctx.<span class="hljs-property">response</span>.<span class="hljs-property">type</span> = <span class="hljs-string">'json'</span>; <span class="hljs-comment">// æŒ‡å®šå“åº”ç±»å‹ä¸ºJSON</span>
    ctx.<span class="hljs-property">body</span> = <span class="hljs-string">'{"data": "hello koa"}'</span>; <span class="hljs-comment">// èµ‹å€¼JSONå­—ç¬¦ä¸²</span>
}

app.<span class="hljs-title function_">use</span>(main);
app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'server is running at http://localhost:3000'</span>);
});
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10832ef76aba4092870bd6ba194f5aa7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=AmrhF4rJ6JO1Tgm67RKXsaSG1Ys%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ç„¶å•¦ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å»è¯•è¯•å…¶ä»–ç±»å‹ï¼Œç”¨æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„ğŸ˜„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d423d89dd53e40f595f4d8c6fac28122~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=T%2Bj%2FlC7IyCpJlS25SYa4lqSO%2F1U%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœéœ€è¦è¿”å› HTML å†…å®¹ï¼Œåªéœ€å°†<code>ctx.response.type</code>æ”¹ä¸º<code>html</code>ï¼Œ<code>ctx.body</code>å¯ä»¥ç›´æ¥èµ‹å€¼ HTML å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥è¯»å–æœ¬åœ° HTML æ–‡ä»¶è¿”å›ï¼Œé€‚é…æ€§æ‹‰æ»¡ã€‚</p>
<h4 data-id="heading-6">4. è¯»å–æœ¬åœ°æ–‡ä»¶ï¼šé«˜æ•ˆè¿”å›ï¼Œé€‚é…é¡µé¢å¼€å‘</h4>
<p><code>åœ¨ Web å¼€å‘ä¸­</code>ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è¿”å›æœ¬åœ°çš„ <strong>HTML é¡µé¢</strong>ï¼Œ<code>Koa</code> ç»“åˆ <strong>Node.js</strong> çš„<code>fs</code>æ¨¡å—ï¼Œèƒ½é«˜æ•ˆå®ç°æœ¬åœ°æ–‡ä»¶çš„<strong>è¯»å–</strong>å’Œ<strong>è¿”å›</strong>ï¼Œè€Œä¸”é€šè¿‡<strong>æµ</strong>çš„æ–¹å¼è¯»å–ï¼Œé¿å…äº†å¤§æ–‡ä»¶ä¸€æ¬¡æ€§åŠ è½½çš„æ€§èƒ½é—®é¢˜ï¼Œå…¼é¡¾æ•ˆç‡å’Œæ€§èƒ½ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Koa</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'koa'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Koa</span>();
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>); <span class="hljs-comment">// å¼•å…¥Node.jså†…ç½®çš„æ–‡ä»¶æ¨¡å—</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">ctx</span>) {
    ctx.<span class="hljs-property">response</span>.<span class="hljs-property">type</span> = <span class="hljs-string">'html'</span>; <span class="hljs-comment">// æŒ‡å®šå“åº”ç±»å‹ä¸ºHTML</span>
    <span class="hljs-comment">// ä»¥æµçš„æ–¹å¼è¯»å–æœ¬åœ°3.htmlæ–‡ä»¶ï¼Œèµ‹å€¼ç»™å“åº”ä½“</span>
    ctx.<span class="hljs-property">body</span> = fs.<span class="hljs-title function_">createReadStream</span>(<span class="hljs-string">'./3.html'</span>);
}

app.<span class="hljs-title function_">use</span>(main);
app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'server is running at http://localhost:3000'</span>);
});
</code></pre>
<p>æˆ‘ä»¬è¦åŒæ—¶åˆ›å»ºä¸€ä¸ª<code>html</code>çš„æ–‡ä»¶ï¼Œè®©å®ƒè¯»å–é‡Œé¢çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ¬¢è¿è®¿é—® koa æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/899ae31578484b319f6d4e2c7a06b267~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=f79xJxzhyhyUvC0Ka8QIfrZkIxg%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ®µä»£ç è¿è¡Œåï¼Œè®¿é—®æœ¬åœ° 3000 ç«¯å£ï¼Œå°±èƒ½ç›´æ¥çœ‹åˆ°<code>3.html</code>æ–‡ä»¶çš„é¡µé¢å†…å®¹ï¼Œå®Œç¾é€‚é…å‰ç«¯é¡µé¢çš„æ¸²æŸ“éœ€æ±‚ã€‚</p>
<h4 data-id="heading-7">5. è·¯ç”±ç®¡ç†ï¼šæ¸…æ™°åˆ’åˆ†ï¼Œå‘Šåˆ«æ‚ä¹±ä»£ç </h4>
<p>å½“é¡¹ç›®ä¸šåŠ¡é€æ¸å¤æ‚ï¼Œå•ä¸€è·¯ç”±å·²ç»æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸åŒçš„è¯·æ±‚åœ°å€åšæ¸…æ™°çš„è·¯ç”±åˆ’åˆ†ï¼Œæ¯”å¦‚é¦–é¡µã€å…³äºé¡µã€æ•°æ®æ¥å£ç­‰ï¼Œå„è‡ªå¯¹åº”ä¸åŒçš„å¤„ç†é€»è¾‘ã€‚Koa æœ¬èº«æ²¡æœ‰å†…ç½®è·¯ç”±åŠŸèƒ½ï¼Œä½†å¯ä»¥é€šè¿‡<code>koa-route</code>ä¸­é—´ä»¶å¿«é€Ÿå®ç°è·¯ç”±ç®¡ç†ï¼Œè®©ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œç»´æŠ¤æ›´æ–¹ä¾¿ã€‚</p>
<ul>
<li><strong>é¦–å…ˆå®‰è£…<code>koa-route</code>ä¸­é—´ä»¶ï¼š</strong></li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm i koa-route -S
</code></pre>
<ul>
<li><strong>ç„¶åé€šè¿‡ä¸­é—´ä»¶å®ç°è·¯ç”±çš„åˆ†å‘å’Œå¤„ç†ï¼Œä¸åŒè·¯ç”±å¯¹åº”ä¸åŒå‡½æ•°ï¼š</strong></li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Koa</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'koa'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Koa</span>();
<span class="hljs-keyword">const</span> router = <span class="hljs-built_in">require</span>(<span class="hljs-string">'koa-route'</span>); <span class="hljs-comment">// å¼•å…¥è·¯ç”±ä¸­é—´ä»¶</span>

<span class="hljs-comment">// é¦–é¡µè·¯ç”±å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">home</span> = (<span class="hljs-params">ctx</span>) =&gt; {
    ctx.<span class="hljs-property">body</span> = <span class="hljs-string">'è¿™æ˜¯Koaçš„é¦–é¡µ'</span>;
}

<span class="hljs-comment">// å…³äºé¡µè·¯ç”±å¤„ç†å‡½æ•°ï¼Œæ”¯æŒç›´æ¥è¿”å›HTMLæ ‡ç­¾</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">about</span> = (<span class="hljs-params">ctx</span>) =&gt; {
    ctx.<span class="hljs-property">body</span> = <span class="hljs-string">'&lt;h2&gt;è¿™æ˜¯Koaçš„å…³äºé¡µé¢&lt;/h2&gt;'</span>;
}

<span class="hljs-comment">// æ³¨å†ŒGETè·¯ç”±ï¼ŒæŒ‡å®šè¯·æ±‚åœ°å€å’Œå¯¹åº”çš„å¤„ç†å‡½æ•°</span>
app.<span class="hljs-title function_">use</span>(router.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/home'</span>, home));
app.<span class="hljs-title function_">use</span>(router.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/about'</span>, about));

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'server is running at http://localhost:3000'</span>);
});
</code></pre>
<p>æ­¤æ—¶è®¿é—®<code>/home</code>ä¼šè¿”å›é¦–é¡µæ–‡å­—ï¼Œè®¿é—®<code>/about</code>ä¼šæ¸²æŸ“å‡º HTML æ ‡é¢˜ï¼Œä¸åŒè·¯ç”±çš„é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼Œå³ä½¿åç»­æ–°å¢è·¯ç”±ï¼Œä¹Ÿåªéœ€<strong>æ–°å¢å¤„ç†å‡½æ•°</strong>å¹¶æ³¨å†Œå³å¯ï¼Œä»£ç å§‹ç»ˆä¿æŒæ•´æ´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88c4059215484c0aa4549b50ab2ac2d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=0Z9CcsjJiXh2HzxmdqYHZ40Hft8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9826a4c8257343429bf1c6fc2ee4c82b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769868669&amp;x-signature=CnUBNJX8wI67okP4cUE8IB1bcmA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">ä¸‰ã€ Koa çš„æ ¸å¿ƒé­…åŠ›ï¼šä¸­é—´ä»¶ä¸å¼‚æ­¥ï¼ˆå¿ä¸ä½å” å—‘æ‹“å±•ï¼‰</h3>
<p>èŠåˆ° <code>Koa</code>ï¼Œå°±ä¸å¾—ä¸æå®ƒçš„ä¸¤å¤§æ ¸å¿ƒé­…åŠ›ï¼š<strong>ä¸­é—´ä»¶æœºåˆ¶</strong>å’Œ<strong>å®Œç¾çš„å¼‚æ­¥æ”¯æŒ</strong>ã€‚</p>
<p>Koa çš„ä¸­é—´ä»¶é‡‡ç”¨<strong>æ´‹è‘±æ¨¡å‹</strong>æ‰§è¡Œï¼Œæ‰€æœ‰ä¸­é—´ä»¶ä¼š<strong>ä»å¤–åˆ°å†…ä¾æ¬¡æ‰§è¡Œ</strong>ï¼Œå†<strong>ä»å†…åˆ°å¤–åå‘æ‰§è¡Œ</strong>ï¼Œè¿™ç§æœºåˆ¶è®©è¯·æ±‚å’Œå“åº”çš„å¤„ç†å¯ä»¥åˆ†å±‚å®ç°ï¼Œå„è‡ªè´Ÿè´£ç‹¬ç«‹çš„åŠŸèƒ½ï¼Œäº’ä¸å¹²æ‰°ï¼Œè¿˜èƒ½å®ç°åŠŸèƒ½çš„å¤ç”¨ã€‚</p>
<p>è€Œ<code>async/await</code>çš„å®Œç¾æ”¯æŒï¼Œè®© <code>Koa</code> å½»åº•æ‘†è„±äº†<strong>å›è°ƒåœ°ç‹±</strong>çš„å›°æ‰°ã€‚åœ¨å¤„ç†æ•°æ®åº“æŸ¥è¯¢ã€æ¥å£è¯·æ±‚ç­‰å¼‚æ­¥æ“ä½œæ—¶ï¼Œæ— éœ€åµŒå¥—å¤šå±‚å›è°ƒï¼Œåªéœ€ç”¨<code>await</code>ç­‰å¾…å¼‚æ­¥ç»“æœï¼Œä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å¤§å¹…æå‡ï¼Œè¿™ä¹Ÿæ˜¯ <code>Koa</code> ç›¸æ¯”ä¼ ç»Ÿæ¡†æ¶çš„ä¸€å¤§ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-9">å››ã€æ€»ç»“</h3>
<p><code>Koa</code> ä½œä¸º<strong>è½»é‡å‹ Node.js æ¡†æ¶</strong>ï¼Œä»¥æç®€æ ¸å¿ƒã€æ´‹è‘±æ¨¡å‹ä¸­é—´ä»¶æœºåˆ¶å’Œå¯¹<code>async/await</code>çš„å®Œç¾æ”¯æŒä¸ºäº®ç‚¹ï¼Œå¯çµæ´»å¤„ç†å“åº”ã€æœ¬åœ°æ–‡ä»¶ã€è·¯ç”±ç­‰éœ€æ±‚ï¼Œæ­é…ä¸­é—´ä»¶å³å¯æŒ‰éœ€æ‰©å±•ï¼Œå…¼é¡¾å¼€å‘æ•ˆç‡ä¸ä»£ç æ•´æ´åº¦ï¼Œæ˜¯ä¸­å°é¡¹ç›®åŠå¿«é€Ÿå¼€å‘åœºæ™¯çš„ä¼˜é€‰ã€‚</p>
<h2 data-id="heading-10">ç»“è¯­</h2>
<p><code>Koa</code> ç”¨ä¼˜é›…è¯­æ³•ç®€åŒ–äº† <strong>Node.js åç«¯å¼€å‘</strong>ï¼Œå¹³è¡¡äº†è‡ªç”±åº¦ä¸å®ç”¨æ€§ã€‚å…¥æ‰‹ <code>Koa</code>ï¼Œæ—¢èƒ½æ‘†è„±åŸç”Ÿå¼€å‘çš„å†—ä½™ï¼Œä¹Ÿèƒ½å¿«é€Ÿæ­å»ºé«˜æ•ˆæœåŠ¡ï¼Œè§£é”è½»é‡åŒ–åç«¯å¼€å‘çš„ä¾¿æ·ä½“éªŒã€‚</p>
<blockquote>
<p>ä¸å…è®¸ä½ è¿˜ä¸ä¼š <strong>koa</strong>ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Coding ä¸€å‘¨ï¼Œæˆ‘åšäº†ä¸ªæ¡Œé¢ Agent]]></title>    <link>https://juejin.cn/post/7598465042968477736</link>    <guid>https://juejin.cn/post/7598465042968477736</guid>    <pubDate>2026-01-24T09:19:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598465042968477736" data-draft-id="7598464972912590888" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Coding ä¸€å‘¨ï¼Œæˆ‘åšäº†ä¸ªæ¡Œé¢ Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-24T09:19:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¾é€—ç¬”"/> <meta itemprop="url" content="https://juejin.cn/user/2682464100687230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Coding ä¸€å‘¨ï¼Œæˆ‘åšäº†ä¸ªæ¡Œé¢ Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2682464100687230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¾é€—ç¬”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T09:19:53.000Z" title="Sat Jan 24 2026 09:19:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤ç›˜ä¸€ä¸‹æˆ‘vibe coding ä¸€å‘¨ï¼Œå¼€å‘ WorkAny çš„è¿‡ç¨‹ï¼Œå¾ˆæœ‰æ„æ€ã€‚ğŸ˜‚</p>
<h2 data-id="heading-0">å¼€å‘è¿‡ç¨‹</h2>
<ol>
<li>
<p>ä¸Šå‘¨ä¸‰åœ¨é¦™æ¸¯åŠå¡ï¼Œä¸´æ—¶èµ·æ„æƒ³åšä¸ªæ¡Œé¢ Agent é¡¹ç›®ï¼Œå¯¹æ ‡ coworkï¼Œæ™šä¸Šå›åˆ°å¹¿å·å¼€å§‹å†™ä»£ç </p>
</li>
<li>
<p>åˆæœŸç›®æ ‡æ˜¯å¿«é€Ÿå‘å¸ƒï¼Œæ²¡æ—¶é—´å»ç ”ç©¶å“ªä¸ª Agent æ¡†æ¶å¥½ç”¨äº†ï¼Œçœ‹å¾ˆå¤šäººåœ¨ç”¨ claude agent sdkï¼Œå…ˆç”¨è¿™ä¸ªå§</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6638cb4bb6047f9b704201c62ae3e50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=twU06G5cn6F9gF7Um5YEB85SkxE%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>
<p>ç¬¬ä¸€æ—¶é—´æƒ³åˆ°ç”¨ tauriï¼Œå–œæ¬¢å°è€Œç¾ï¼Œæ€»è§‰å¾— electron å¾ˆé‡ï¼Œä¸æƒ³ç”¨</p>
</li>
<li>
<p>ä¸æƒ³è‡ªå·±å†™ä»£ç äº†ï¼Œå†³å®šè®© claude code æ¥å†™ã€‚ä¹‹å‰çš„ claude è´¦å·éƒ½è¢«å°äº†ï¼Œç”¨ä¸ä¸ŠåŸç‰ˆ ccï¼Œè£…äº†ä¸ª cc-switchï¼Œæ¥ä¸Š OpenRouter çš„ API å¼€å§‹å†™</p>
</li>
<li>
<p>æˆªäº†ä¸ª chatbot çš„äº¤äº’æˆªå›¾ï¼Œè®© cc å‚è€ƒç€å…ˆæŠŠåŸºæœ¬çš„å¯¹è¯æµç¨‹è·‘é€šï¼Œç”¨ claude agent sdkï¼Œæ¥ä¸Š OpenRouterï¼Œcc å¾ˆå¿«å†™å®Œäº†ç¬¬ä¸€ç‰ˆ</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d40f912af6048938b6c24d8b0e9d04a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=cNvyLxjsZ3MH81jp2x9lj1nHYyQ%3D" alt="" loading="lazy"/></p>
<ol start="6">
<li>tauri æœ¬è´¨æ˜¯ç”¨ rust çš„å£³å­å¥—äº†ä¸ªå‰ç«¯ç•Œé¢ï¼Œä¸ç†Ÿæ‚‰ rustï¼Œè®© cc ç”¨ hono å†™APIï¼Œrust åªåšå£³å­ï¼Œä¸åšä¸šåŠ¡åŠŸèƒ½ã€‚API ä½œä¸º sidecar æ‰“åŒ…è¿› app</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42bcbb34123943d7a370c427f8a3f02e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=mCeWv%2FlkhgYJTJeUEyCllpvNcj8%3D" alt="" loading="lazy"/></p>
<ol start="7">
<li>
<p>è®© cc åœ¨ API å¼•å…¥ sqlite å®ç°æœ¬åœ°å­˜å‚¨ï¼ŒæŒä¹…åŒ–ä»»åŠ¡æ•°æ®ï¼Œåˆ›å»ºæœ¬åœ°å·¥ä½œç›®å½•ï¼Œä¿å­˜ä»»åŠ¡è¾“å‡ºæ–‡ä»¶</p>
</li>
<li>
<p>å†™äº†åŠå¤©ï¼Œçœ‹ OpenRouter æ¶ˆè€—äº† 110 åˆ€ï¼Œæœ‰ç‚¹è‚‰ç–¼ã€‚ä¹°äº†ä¸ªç¾å›½ä½å®… ipï¼Œä»˜è´¹ä¸Šäº†åŸç‰ˆ claude pro</p>
</li>
<li>
<p>æˆªäº†ä¸ª Manus çš„ä»»åŠ¡è¯¦æƒ…å›¾ï¼Œè®© cc å‚è€ƒå†™å®Œå·¥å…·è°ƒç”¨çš„é€»è¾‘ï¼Œä¸­é—´æ˜¯ chatbot å¯¹è¯ï¼Œå³è¾¹ç”¨ä¸€ä¸ªè™šæ‹Ÿè®¡ç®—æœºçš„å®¹å™¨å±•ç¤ºè¾“å…¥è¾“å‡º</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f659b49ba9d4069a565fd8c49e81e7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=KuCYbRKETYxXYA9JZtLl5DOPXMA%3D" alt="" loading="lazy"/></p>
<ol start="10">
<li>è®© cc æ¥å…¥ shadcn/uiï¼ŒæŠŠæ ·å¼åšå¾—å¥½çœ‹ä¸€ç‚¹ï¼Œæ”¯æŒåˆ‡æ¢çš®è‚¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71722d5fd61045fea186b2b47117f5d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=l0qj52LJxdYjsve8hhqXbIAn6eQ%3D" alt="" loading="lazy"/></p>
<ol start="11">
<li>
<p>åˆå†™äº†ä¸€å¤©ï¼Œå…³é”®æ—¶å€™ claude pro é™é¢‘äº†ï¼Œå¾ˆå½±å“å¿ƒæƒ…ï¼Œè¡¥å·®ä»·ä¸Šäº† claude max é¡¶é…ç‰ˆ</p>
</li>
<li>
<p>è®© cc æŠŠè‡ªå®šä¹‰æ¨¡å‹é…ç½®ï¼Œmcpã€skills è°ƒç”¨çš„é€»è¾‘éƒ½å®ç°äº†ï¼Œè·‘äº†å‡ ä¸ªç”Ÿæˆ PPTã€Excelã€Docã€ ç½‘é¡µçš„ caseï¼Œæ•ˆæœä¸é”™</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e97af301a7d841929dc5d65a6cf455e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=jTZ45ZnICl8En5Ci1KmTZx%2B5hho%3D" alt="" loading="lazy"/></p>
<ol start="13">
<li>è®© cc æŠŠè¾“å‡ºæ–‡ä»¶å¤¹å’Œä¸­é—´è¿‡ç¨‹çš„ artifacts éƒ½åœ¨å³è¾¹å±•ç¤ºå‡ºæ¥ï¼Œå†™äº†ä¸ª artifact preview å®¹å™¨ï¼Œæ¸²æŸ“å„ç§ç±»å‹çš„æ–‡ä»¶ï¼Œå¯è§†åŒ–é¢„è§ˆ</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74a2bfa14d3a40c6b60b88d20d6701e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=h%2FPXsExTE%2BIRFGAYeR6ktWfjs6o%3D" alt="" loading="lazy"/></p>
<ol start="14">
<li>æœ‰äº›ä»»åŠ¡éœ€è¦è·‘è„šæœ¬å®Œæˆï¼Œè€ƒè™‘åˆ°ç”¨æˆ·ç”µè„‘å¯èƒ½æ²¡è£…ä»£ç è¿è¡Œç¯å¢ƒï¼Œè®© cc å¼•å…¥ sandbox æ¥è¿è¡Œä»£ç </li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/811d03960c6043c68495da51d07e4492~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=F22XoHYbuDG9NdF1e%2FFhIf6wC4M%3D" alt="" loading="lazy"/></p>
<ol start="15">
<li>è€ƒè™‘åˆ°æ‰©å±•æ€§ï¼Œéœ€è¦æ”¯æŒä¸åŒç±»å‹çš„ Agent runtime å’Œ sandboxï¼Œè®© cc å†™äº†ä¸¤ä¸ªæŠ½è±¡ç±»ï¼Œç»Ÿä¸€æ¥å£è°ƒç”¨ã€‚Agent runtime æ”¯æŒ claude codeã€codexã€deepagentsï¼Œsandbox æ”¯æŒ boxliteã€codex-sandboxã€claude-sandbox</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/708c2f2504cf4327a5ee3b543816e26d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=M8FGZZHJSIJaPqqZLMaw8dB%2BK1I%3D" alt="" loading="lazy"/></p>
<ol start="16">
<li>è§‰å¾— cc å†™çš„ä»£ç æœ‰ç‚¹ä¹±ï¼Œè®© cc å¼•å…¥ eslint å’Œ prettier åšäº†ä¸‹æ ¼å¼åŒ–ï¼ŒæŠŠé€»è¾‘å¤ªå¤šçš„æ–‡ä»¶åšæ¨¡å—åŒ–æ‹†åˆ†ã€‚å†å‚è€ƒ ShipAny çš„ç›®å½•ç»“æ„ï¼Œè°ƒæ•´äº†ä¸€ä¸‹é¡¹ç›®ç»“æ„</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7d317c0f2f5454c9c04ae388af01f91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=Qgzjeq50lD63syn6vcNWykLDQrs%3D" alt="" loading="lazy"/></p>
<ol start="17">
<li>è®© cc å†™æ‰“åŒ…è„šæœ¬ï¼Œæ„å»ºä¸åŒæ“ä½œç³»ç»Ÿçš„å®‰è£…åŒ…ã€‚æŠŠå®‰è£…åŒ…å‘ç»™ä¸€äº›æœ‹å‹ï¼Œå¼€å§‹å†…æµ‹äº†ã€‚æ ¹æ®å†…æµ‹ç”¨æˆ·çš„åé¦ˆï¼Œå†è®© cc ç»§ç»­ä¼˜åŒ–é€»è¾‘ï¼Œè§£å†³é—®é¢˜ï¼Œè¿­ä»£åŠŸèƒ½</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5da0190b1724df1bdabb1ab39244608~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=X95HZi%2F0To8vUabtElEckAjjOps%3D" alt="" loading="lazy"/></p>
<ol start="18">
<li>
<p>æœ‰äº›ç”¨æˆ·ç”µè„‘æ²¡è£… nodeï¼Œæ²¡æœ‰ claude codeï¼Œå®‰è£…è½¯ä»¶åè·‘ä¸èµ·æ¥ï¼Œè®© cc åœ¨æ„å»ºè„šæœ¬æ”¯æŒ flag å‚æ•°ï¼ŒæŠŠ node å’Œ cc ä½œä¸º sidecar æ‰“åŒ…è¿› appï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå¼€ç®±å³ç”¨</p>
</li>
<li>
<p>Mac ç”¨æˆ·å®‰è£… app åæç¤ºæ–‡ä»¶æŸåæˆ–æœ‰å®‰å…¨æç¤ºï¼Œè®© cc åœ¨æ„å»ºè„šæœ¬é‡Œé¢åŠ ä¸Šç­¾åå¤„ç†ï¼Œç”¨æˆ‘çš„ Apple å¼€å‘è€…è´¦æˆ·å¯¹æ‰“åŒ…çš„ Mac app åšç­¾å</p>
</li>
<li>
<p>node å’Œ cc éƒ½æ‰“åŒ…è¿› app çš„ç‰ˆæœ¬ï¼Œå®‰è£…åŒ… 100 å¤š mï¼Œæœ‰ç‚¹é‡ã€‚è®© cc åœ¨æ„å»ºè„šæœ¬å®ç°é»˜è®¤ä¸æ‰“åŒ…ï¼Œåœ¨ç”¨æˆ·å¯åŠ¨ app çš„æ—¶å€™å¼•å¯¼å®‰è£… node å’Œ ccï¼Œç²¾ç®€ç‰ˆå®‰è£…åŒ…æ‰ 20 å¤š mï¼Œå°å·§ç²¾è‡´</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8e99a9ff9544c87b874018539f66c97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=KF4HEfIKOkMN4a4XtTKetdb6lWk%3D" alt="" loading="lazy"/></p>
<ol start="21">
<li>app åŸºæœ¬åŠŸèƒ½å®ç°å¾—å·®ä¸å¤šäº†ï¼Œè®© cc åœ¨ ShipAny æ¨¡æ¿åŸºç¡€ä¸Šå†™ä¸€ä¸ª WorkAny çš„å®˜ç½‘ï¼Œæ”¾ä¸Šæ¼”ç¤ºå›¾ï¼Œéƒ¨ç½²ä¸Šçº¿</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ee57d70102b4b13b3d3a515b6c29f34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=CjmI9cmNXPHyD%2FuV1gx9kvrgtUE%3D" alt="" loading="lazy"/></p>
<ol start="22">
<li>WorkAny å¼€æºå‘å¸ƒï¼ŒMVP ç‰ˆæœ¬ä¸Šçº¿ï¼Œç”¨æˆ·æ‹‰æºç æœ¬åœ°æ„å»ºï¼Œé…ä¸ª API ç›´æ¥ç”¨</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34802ec98531460c9f90a37c8e5e672c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=Hz10Ady75tV2J1hJtL17LulUffo%3D" alt="" loading="lazy"/></p>
<ol start="23">
<li>è®© cc å†™äº†ä¸ª github æ„å»ºè„šæœ¬ï¼Œåœ¨ä»£ç æ¨é€åˆ° main åˆ†æ”¯æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ github action æ„å»ºï¼Œä¸€æ¬¡æ€§æ‰“åŒ… Windowsã€Linuxã€Mac ä¸‰å¤§å¹³å°çš„å®‰è£…åŒ…ï¼Œè‡ªåŠ¨å‘å¸ƒåˆ° releaseï¼Œç”¨æˆ·æ— éœ€è‡ªè¡Œæ„å»ºäº†</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/875ea5654cf0440a99411114e7500739~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=o1MVFAKL6rojqV69qtgVm0S7n%2Fk%3D" alt="" loading="lazy"/></p>
<ol start="24">
<li>æ ¹æ®ç”¨æˆ·çš„åé¦ˆï¼Œé—®é¢˜ä¸¢ç»™ cc å»ä¿®ï¼Œæƒ³åˆ°ä»€ä¹ˆæ–°åŠŸèƒ½ä¹Ÿå‘Šè¯‰ cc åŠ ä¸Šï¼Œè‡ªå·±åªåšæµ‹è¯•ï¼Œä¸å†™ä»£ç ï¼Œçœ‹éƒ½ä¸çœ‹ä¸€çœ¼ã€‚ğŸŒš</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e68039517e54390a685a2850efe394e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=kzfb2Ui7VrDj2NWGWs%2BD%2FN%2B0nLA%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">å‡ ç‚¹æ„Ÿæ‚Ÿ</h2>
<ol>
<li>ç¬¬ä¸€æ¬¡å°è¯•å…¨è‡ªåŠ¨é©¾é©¶ vibe coding åšé¡¹ç›®ï¼Œçˆ½æ„Ÿéå¸¸å¼ºçƒˆï¼ŒWorkAny çš„ä»£ç  100% ç”± cc è€å¼Ÿå®Œæˆï¼Œæˆ‘åªè´Ÿè´£æŒ‡æŒ¥ï¼Œæ—¥å¸¸å¼€ä¸‰ä¸ªçª—å£ï¼Œè®©ä¸‰ä¸ª cc è€å¼ŸåŒæ—¶å¹²æ´»ï¼Œæ•ˆç‡æ‹‰æ»¡</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f65c44ce406422bac53effa8da87ff1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=Jv4jeqybt1kQ7LxuVIw%2BL6OfZIU%3D" alt="" loading="lazy"/></p>
<ol start="2">
<li>AI æ—¶ä»£æŠ€æœ¯å¹³æƒï¼Œäººäººéƒ½æ˜¯å»ºç­‘å¸ˆï¼Œç†è§£ç”¨æˆ·éœ€æ±‚ã€å¥½çš„äº§å“ sense å’Œå®¡ç¾æ˜¯åšå‡ºå¥½äº§å“çš„å…³é”®</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/916b74cae2474ec9bb563a822ff21c6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=EtAg5iOc%2FgI0vnKj4e5%2BAfyUdqM%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>
<p>æŠ€æœ¯å¹¿åº¦å’Œå…¨å±€è§†é‡æ˜¯æœ€å¤§çš„ä¼˜åŠ¿ï¼Œå¯ä»¥ç²¾å‡†æéœ€æ±‚ï¼ŒæŒ‡å“ªæ‰“å“ªï¼Œé‡åˆ°é—®é¢˜èƒ½å¿«é€Ÿå®šä½ï¼Œé˜²æ­¢ AI èµ°åå¤±æ§</p>
</li>
<li>
<p>ä»¥å‰æ€»è§‰å¾—æ‰‹æ´—çš„è¡£æœæ¯”æ´—è¡£æœºæ´—çš„å¹²å‡€ï¼Œç°åœ¨å¯ä»¥æ”¾å¿ƒäº¤ç»™æ´—è¡£æœºäº†ï¼Œåˆå¹²å‡€åˆå¿«ï¼Œèƒ½ç©¿å°±è¡Œ</p>
</li>
<li>
<p>ä¼˜ç§€çš„ç¨‹åºå‘˜ä¸ä¼šè¢« AI æ·˜æ±°ï¼Œæ³•æ‹‰åˆ©è€äº†è¿˜æ˜¯æ³•æ‹‰åˆ©ã€‚ğŸŒ</p>
</li>
</ol>
<p>æ¬¢è¿è¯•ç”¨ WorkAnyï¼Œæ„Ÿè°¢åé¦ˆä¸æ”¯æŒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fworkany.ai" target="_blank" title="https://workany.ai" ref="nofollow noopener noreferrer">workany.ai</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/473bd81c6fe44fb5a4410778625065a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YCX56yU:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769851193&amp;x-signature=ZOLyD%2Bp9oO%2F%2BiqJdFH4wmuSKCGQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rust æ‰€æœ‰æƒä¸å€Ÿç”¨ï¼šä»å †æ ˆå¼€å§‹å»ºç«‹å¿ƒæ™ºæ¨¡å‹]]></title>    <link>https://juejin.cn/post/7598507330859958314</link>    <guid>https://juejin.cn/post/7598507330859958314</guid>    <pubDate>2026-01-23T16:35:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598507330859958314" data-draft-id="7598418891400642614" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rust æ‰€æœ‰æƒä¸å€Ÿç”¨ï¼šä»å †æ ˆå¼€å§‹å»ºç«‹å¿ƒæ™ºæ¨¡å‹"/> <meta itemprop="keywords" content="Rust,æ“ä½œç³»ç»Ÿ,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-23T16:35:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mCell"/> <meta itemprop="url" content="https://juejin.cn/user/2280829967146779"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rust æ‰€æœ‰æƒä¸å€Ÿç”¨ï¼šä»å †æ ˆå¼€å§‹å»ºç«‹å¿ƒæ™ºæ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2280829967146779/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mCell
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T16:35:12.000Z" title="Fri Jan 23 2026 16:35:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d279a104a97b4f27a8f51be3a9130eb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbUNlbGw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769790912&amp;x-signature=1v9tDnYY4FHiLCc%2FqXV9XprTgGU%3D" alt="202603" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡å†™ä½œæ—¶ï¼Œæå¤§çš„å€Ÿé‰´äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fcourse.rs%2Fbasic%2Fownership%2Fownership.html" target="_blank" title="https://course.rs/basic/ownership/ownership.html" ref="nofollow noopener noreferrer">ã€ŠThe Rust Programming Languageã€‹</a>ï¼ˆä¿—ç§°â€œRust åœ£ç»â€ï¼‰ä¸­ç›¸å…³ç« èŠ‚çš„å†…å®¹å’Œç»“æ„ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ã€‚</p>
</blockquote>
<p>å†™ Rust çš„ç¬¬ä¸€é“åï¼Œä¸æ˜¯è¯­æ³•ï¼Œä¹Ÿä¸æ˜¯å®ï¼Œè€Œæ˜¯â€œæˆ‘æ˜æ˜åªæ˜¯æŠŠå˜é‡ä¼ ç»™ä½ ç”¨ä¸€ä¸‹ï¼Œæ€ä¹ˆå®ƒå°±ä¸å±äºæˆ‘äº†ï¼Ÿâ€</p>
<p>è¿™ç±»å›°æƒ‘é€šå¸¸å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºæˆ‘ä»¬ä¹ æƒ¯äº†åˆ«çš„è¯­è¨€é‚£å¥—â€œå†…å­˜é»˜è®¤æœ‰äººå…œåº•â€çš„æ¨¡å‹ï¼Œæ¯”å¦‚ Javascriptã€Golang çš„è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ã€‚Rust æ°æ°ç›¸åï¼šå®ƒè¦æ±‚ä½ æŠŠå†…å­˜è¿™ä»¶äº‹æƒ³æ¸…æ¥šï¼Œç„¶åæŠŠè§„åˆ™å†™è¿›ç±»å‹ç³»ç»Ÿï¼Œäº¤ç»™ç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘æœŸ</strong>å¼ºåˆ¶æ‰§è¡Œâ€”â€”è¿™å°±æ˜¯æ‰€æœ‰æƒç³»ç»Ÿçš„æ ¸å¿ƒæ„ä¹‰ã€‚</p>
<p>ä¸ºäº†å°½é‡è®²æ¸…æ¥šï¼Œæœ¬æ–‡æŒ‰ä¸€æ¡çº¿å¾€å‰èµ°ï¼šå…ˆè®²å †æ ˆï¼Œå†è®²æ‰€æœ‰æƒï¼Œå†è®²å€Ÿç”¨ã€‚</p>
<h2 data-id="heading-0">å†…å­˜ç®¡ç†è¿™ä»¶äº‹ï¼Œè¯­è¨€å¤§è‡´åˆ†ä¸‰æ´¾</h2>
<p>æ‰€æœ‰ç¨‹åºéƒ½è¦ç”¨å†…å­˜ï¼šç”³è¯·ç©ºé—´ã€ä½¿ç”¨ã€é‡Šæ”¾ã€‚éº»çƒ¦åœ¨äºâ€œä»€ä¹ˆæ—¶å€™é‡Šæ”¾ã€è°æ¥é‡Šæ”¾â€ã€‚å†å²ä¸Šä¸»æµè¯­è¨€å¤§è‡´èµ°è¿‡ä¸‰æ¡è·¯ï¼š</p>
<ol>
<li><strong>GC</strong>ï¼šè¿è¡Œæ—¶æ‰¾å‡ºä¸å†ä½¿ç”¨çš„å†…å­˜å¹¶å›æ”¶ï¼ˆJavascriptã€Golangï¼‰ã€‚</li>
<li><strong>æ‰‹åŠ¨ç®¡ç†</strong>ï¼šç¨‹åºå‘˜æ˜¾å¼åˆ†é…/é‡Šæ”¾ï¼ˆC/C++ï¼‰ã€‚</li>
<li><strong>æ‰€æœ‰æƒ</strong>ï¼šç¼–è¯‘æœŸæŒ‰è§„åˆ™æ£€æŸ¥ï¼Œè¿è¡ŒæœŸä¸é¢å¤–ä»˜è´¹ï¼ˆRustï¼‰ã€‚</li>
</ol>
<p>Rust é€‰æ‹©ç¬¬ä¸‰æ¡è·¯çš„â€œé‡å¿ƒâ€å¾ˆæ˜ç¡®ï¼šæ—¢æƒ³è¦æ¥è¿‘ C/C++ çš„æ€§èƒ½ï¼Œåˆæƒ³æŠŠæ‚¬ç©ºæŒ‡é’ˆã€äºŒæ¬¡é‡Šæ”¾ã€æ•°æ®ç«äº‰è¿™ç±»å†…å­˜å®‰å…¨é—®é¢˜ï¼Œå°½é‡æå‰åˆ°ç¼–è¯‘é˜¶æ®µè§£å†³ã€‚</p>
<h2 data-id="heading-1">å…ˆæŠŠåœ°åŸºæ‰“ç‰¢ï¼šæ ˆï¼ˆStackï¼‰ä¸å †ï¼ˆHeapï¼‰</h2>
<p>å¦‚æœä½ åªå†™è„šæœ¬è¯­è¨€ï¼Œå¯èƒ½ä¸€è¾ˆå­ä¸å¿…æ·±ç©¶å †æ ˆã€‚ä½†åœ¨ Rust é‡Œï¼Œç†è§£å †æ ˆä¼šç›´æ¥å†³å®šä½ æ˜¯å¦çœ‹å¾—æ‡‚â€œç§»åŠ¨/å€Ÿç”¨â€çš„è¡Œä¸ºã€‚</p>
<h3 data-id="heading-2">æ ˆï¼šåè¿›å…ˆå‡ºï¼Œå¤§å°å¿…é¡»å›ºå®š</h3>
<p>æ ˆåƒä¸€å ç›˜å­ï¼šåªèƒ½ä»é¡¶éƒ¨æ”¾ã€ä»é¡¶éƒ¨æ‹¿ï¼Œåè¿›å…ˆå‡ºã€‚å…¥æ ˆ/å‡ºæ ˆéå¸¸å¿«ï¼Œä½†å‰ææ˜¯ï¼š<strong>æ¯ä¸ªå€¼çš„å¤§å°åœ¨ç¼–è¯‘æœŸå¿…é¡»å·²çŸ¥ä¸”å›ºå®š</strong>ï¼Œå¦åˆ™ä½ æ— æ³•â€œç²¾ç¡®åœ°å¼¹å‡ºâ€ä½ æƒ³è¦çš„é‚£å—æ•°æ®ã€‚</p>
<p>ä½ å¯ä»¥æŠŠä¸€æ¬¡å‡½æ•°è°ƒç”¨æƒ³æˆï¼š</p>
<ul>
<li>å‚æ•°ã€å±€éƒ¨å˜é‡ä¾æ¬¡å‹æ ˆ</li>
<li>å‡½æ•°ç»“æŸæŒ‰ç›¸åé¡ºåºå‡ºæ ˆ</li>
<li>å‡ºæ ˆå°±æ„å‘³ç€é‚£æ®µæ ˆå†…å­˜å¯ä»¥è¢«å¤ç”¨ï¼ˆæ‰€ä»¥â€œæ‹¿ç€æ ˆä¸Šå±€éƒ¨å˜é‡çš„åœ°å€å›å»â€å¾ˆå±é™©ï¼‰</li>
</ul>
<h3 data-id="heading-3">å †ï¼šå­˜æ”¾å¤§å°å¯å˜çš„æ•°æ®ï¼Œç”¨æŒ‡é’ˆå»æ‰¾å®ƒ</h3>
<p>å †é€‚åˆâ€œå¤§å°æœªçŸ¥æˆ–å¯èƒ½å˜åŒ–â€çš„æ•°æ®ã€‚åˆ†é…æ—¶ï¼Œæ“ä½œç³»ç»Ÿæ‰¾ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºä½ï¼Œæ ‡è®°å·²ä½¿ç”¨ï¼Œå¹¶è¿”å›è¯¥ä½ç½®çš„<strong>æŒ‡é’ˆ</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹å«åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼ˆallocatingï¼‰ã€‚</p>
<p>å…³é”®ç»†èŠ‚æ˜¯ï¼š
<strong>å †ä¸Šçš„æ•°æ®æœ¬ä½“ä¸åœ¨æ ˆé‡Œï¼Œä½†æŒ‡å‘å®ƒçš„æŒ‡é’ˆé€šå¸¸åœ¨æ ˆé‡Œ</strong>ï¼ˆå› ä¸ºæŒ‡é’ˆå¤§å°å›ºå®šï¼‰ã€‚ä½ ä¹‹åæ¯æ¬¡è®¿é—®å †æ•°æ®ï¼Œéƒ½æ˜¯é€šè¿‡æ ˆä¸Šçš„æŒ‡é’ˆå»â€œå¯¼èˆªâ€åˆ°å †ä¸Šã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆå †æ›´éº»çƒ¦</h3>
<p>æ ˆæ˜¯â€œè‡ªåŠ¨ç®¡ç†â€çš„ï¼šä½œç”¨åŸŸç»“æŸå°±å‡ºæ ˆï¼›
å †æ˜¯â€œæ•£è£…çš„â€ï¼šä¸è·Ÿç€æŸä¸ªä½œç”¨åŸŸè‡ªåŠ¨æ¶ˆå¤±ï¼Œå¦‚æœä½ ä¸è¿½è¸ªå®ƒä½•æ—¶é‡Šæ”¾ï¼Œå°±å¯èƒ½å†…å­˜æ³„æ¼ã€‚Rust çš„æ‰€æœ‰æƒç³»ç»Ÿï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æŠŠâ€œå †ä¸Šèµ„æºçš„é‡Šæ”¾è´£ä»»â€ç”¨è§„åˆ™å›ºå®šä¸‹æ¥ã€‚</p>
<h2 data-id="heading-5">æ‰€æœ‰æƒä¸‰æ¡è§„åˆ™ï¼šæŠŠâ€œé‡Šæ”¾è´£ä»»â€å†™æ­»</h2>
<p>Rust çš„æ‰€æœ‰æƒè§„åˆ™å¯ä»¥èƒŒä¸‹æ¥ï¼ˆå…ˆåˆ«æ€¥ç€ç†è§£ï¼Œåé¢ä¼šç”¨ä¾‹å­æŠŠå®ƒç£¨æ¸…æ¥šï¼‰ï¼š</p>
<ol>
<li>Rust ä¸­æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡ä½œä¸ºå®ƒçš„<strong>æ‰€æœ‰è€…</strong></li>
<li>åŒä¸€æ—¶åˆ»ä¸€ä¸ªå€¼åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…</li>
<li>æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œè¿™ä¸ªå€¼ä¼šè¢«ä¸¢å¼ƒï¼ˆdropï¼‰</li>
</ol>
<p>æ³¨æ„ç¬¬ä¸‰æ¡ï¼šâ€œdropâ€ä¸æ˜¯æŠ½è±¡æ¦‚å¿µï¼Œå®ƒå°±æ˜¯â€œé‡Šæ”¾èµ„æºâ€çš„é‚£ä¸ªåŠ¨ä½œâ€”â€”å¯¹æ ˆä¸Šç®€å•å€¼æ²¡ä»€ä¹ˆç‰¹åˆ«ï¼Œå¯¹å †ä¸Šæ•°æ®å°±éå¸¸å…³é”®ï¼Œå› ä¸ºå®ƒå†³å®šäº†å †å†…å­˜ä½•æ—¶é‡Šæ”¾ã€‚</p>
<h2 data-id="heading-6">ä¸€ä¸ªæœ€å¸¸è§çš„è¯¯ä¼šï¼š<code>String</code> èµ‹å€¼ä¸ºä»€ä¹ˆä¼šè®©æ—§å˜é‡å¤±æ•ˆï¼Ÿ</h2>
<p>æ¥çœ‹ä¸¤æ®µå¯¹æ¯”ä»£ç ã€‚</p>
<h3 data-id="heading-7"><code>i32</code> è¿™ç§ç®€å•ç±»å‹ï¼šå¤åˆ¶ï¼ˆCopyï¼‰å°±å®Œäº‹äº†</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span> = x;
<span class="hljs-built_in">println!</span>(<span class="hljs-string">"x = {}, y = {}"</span>, x, y); <span class="hljs-comment">// x ä»ç„¶å¯ç”¨</span>
</code></pre>
<p>æ•´æ•°æ˜¯å›ºå®šå¤§å°çš„ç®€å•å€¼ï¼Œæ”¾åœ¨æ ˆä¸Šï¼Œâ€œå¤åˆ¶ 4 ä¸ªå­—èŠ‚â€éå¸¸å¿«ï¼Œæ‰€ä»¥ Rust ç›´æ¥åšæ‹·è´ï¼Œ<code>x</code> ä¸ä¼šå¤±æ•ˆã€‚</p>
<h3 data-id="heading-8"><code>String</code>ï¼šèƒŒåæœ‰å †å†…å­˜ï¼Œä¸èƒ½éšä¾¿â€œé»˜è®¤å¤åˆ¶â€</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s2</span> = s1;
<span class="hljs-built_in">println!</span>(<span class="hljs-string">"s1 = {}, s2 = {}"</span>, s1, s2); <span class="hljs-comment">// ç¼–è¯‘æŠ¥é”™ï¼Œs1 å¤±æ•ˆ</span>
</code></pre>
<p><code>String</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªâ€œå¥æŸ„â€ï¼š<strong>æ ˆä¸Š</strong>å­˜ç€ï¼ˆå †æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡ï¼‰ï¼ŒçœŸæ­£çš„å­—ç¬¦æ•°æ®åœ¨<strong>å †ä¸Š</strong>ã€‚</p>
<p>è¿™æ—¶å¦‚æœå…è®¸ <code>s1</code>ã€<code>s2</code> åŒæ—¶æŒ‡å‘åŒä¸€å—å †å†…å­˜ï¼Œå°±ä¼šæ’ä¸Šæ‰€æœ‰æƒç¬¬äºŒæ¡ï¼šä¸€ä¸ªå€¼åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚æ›´ç°å®çš„é—®é¢˜æ˜¯ï¼šä½œç”¨åŸŸç»“æŸæ—¶ï¼Œè°æ¥ dropï¼Ÿå¦‚æœä¸¤ä¸ªéƒ½ dropï¼Œå°±å¯èƒ½äºŒæ¬¡é‡Šæ”¾ã€‚Rust ä¸èµŒè¿æ°”ï¼Œå®ƒé€‰æ‹©åœ¨èµ‹å€¼æ—¶æŠŠæ‰€æœ‰æƒè½¬ç§»ç»™æ–°å˜é‡ï¼Œè®©æ—§å˜é‡ç«‹åˆ»å¤±æ•ˆï¼Œä»æ ¹ä¸Šåˆ‡æ–­è¿™ç±»é—®é¢˜ã€‚</p>
<p>ç¼–è¯‘å™¨çš„æŠ¥é”™ä¹Ÿä¼šç›´æ¥å‘Šè¯‰ä½ ï¼š<code>String</code> æ²¡å®ç° <code>Copy</code>ï¼Œå› æ­¤å‘ç”Ÿäº† moveï¼Œä¹‹åå†ç”¨æ—§å˜é‡å°±ä¸è¡Œã€‚</p>
<h2 data-id="heading-9">Move / Clone / Copyï¼šä¸‰ä¸ªè¯ï¼Œä¸‰ç§æˆæœ¬</h2>
<p>æŠŠè¿™ä¸‰è€…åˆ†æ¸…ï¼Œæ‰€æœ‰æƒå°±é€šäº†å…«æˆã€‚</p>
<h3 data-id="heading-10">Moveï¼šè½¬ç§»â€œé‡Šæ”¾è´£ä»»â€ï¼Œé€šå¸¸ä¸å¤åˆ¶å †æ•°æ®</h3>
<p>å¯¹ <code>String</code> è¿™ç§æ‹¥æœ‰å †èµ„æºçš„ç±»å‹ï¼Œ<code>let s2 = s1;</code> çš„æ ¸å¿ƒä¸æ˜¯â€œå¤åˆ¶å†…å®¹â€ï¼Œè€Œæ˜¯â€œæŠŠé‡Šæ”¾è´£ä»»äº¤ç»™ s2â€ã€‚è¿™æ ·æ€§èƒ½å¾ˆå¥½ï¼Œå› ä¸ºä½ æ²¡æœ‰åšæ·±æ‹·è´ã€‚</p>
<h3 data-id="heading-11">Cloneï¼šæ·±æ‹·è´ï¼Œå¤åˆ¶å †ä¸Šå†…å®¹ï¼ˆè´µï¼‰</h3>
<p>å¦‚æœä½ ç¡®å®éœ€è¦ä¸¤ä»½ç‹¬ç«‹çš„æ•°æ®ï¼Œç”¨ <code>clone()</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s2</span> = s1.<span class="hljs-title function_ invoke__">clone</span>();
<span class="hljs-built_in">println!</span>(<span class="hljs-string">"s1 = {}, s2 = {}"</span>, s1, s2);
</code></pre>
<p>Rust ä¸ä¼šè‡ªåŠ¨æ·±æ‹·è´ï¼›ä½ æ˜¾å¼ <code>clone</code>ï¼Œå°±ç­‰äºæ˜¾å¼é€‰æ‹©äº†æ›´é«˜æˆæœ¬ã€‚å®˜æ–¹ä¹Ÿæé†’ï¼šçƒ­ç‚¹è·¯å¾„ä¸Šæ»¥ç”¨ clone ä¼šæ˜¾è‘—æ‹–æ…¢æ€§èƒ½ã€‚</p>
<h3 data-id="heading-12">Copyï¼šå¯¹æ ˆä¸Šå›ºå®šå¤§å°ç±»å‹ï¼Œèµ‹å€¼å°±æ˜¯å¤åˆ¶</h3>
<p>Rust æœ‰ä¸ª <code>Copy</code> ç‰¹å¾ï¼šå®ç°äº†å®ƒçš„ç±»å‹ï¼Œåœ¨èµ‹å€¼/ä¼ å‚æ—¶ä¼šå‘ç”Ÿæ‹·è´ï¼Œæ—§å˜é‡ä»å¯ç”¨ã€‚å¤§ä½“è§„åˆ™æ˜¯ï¼šä¸éœ€è¦åˆ†é…å†…å­˜ã€æ²¡æœ‰â€œé‡Šæ”¾èµ„æºâ€è´Ÿæ‹…çš„ç±»å‹å¾€å¾€å¯ Copyï¼Œæ¯”å¦‚æ•´æ•°ã€boolã€æµ®ç‚¹ã€charã€åªåŒ…å« Copy æˆå‘˜çš„å…ƒç»„ã€ä¸å¯å˜å¼•ç”¨ <code>&amp;T</code> ç­‰ã€‚</p>
<p>è¿™é‡Œé¡ºä¾¿ç‚¹ä¸€ä¸‹ï¼š<strong>å¯å˜å¼•ç”¨ <code>&amp;mut T</code> ä¸èƒ½ Copy</strong>ï¼Œå› ä¸ºâ€œåˆ°å¤„å¤åˆ¶å¯å†™é’¥åŒ™â€ä¼šç›´æ¥ç ´ååé¢çš„å€Ÿç”¨å®‰å…¨è§„åˆ™ã€‚</p>
<h2 data-id="heading-13">å‡½æ•°è°ƒç”¨ï¼šä¼ å‚å’Œè¿”å›å€¼åŒæ ·ä¼šè§¦å‘ Move/Copy</h2>
<p>å¾ˆå¤šäººç¬¬ä¸€æ¬¡â€œè¢« Rust æ•™è‚²â€ï¼Œå°±æ˜¯åœ¨å‡½æ•°å‚æ•°è¿™é‡Œã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">takes_ownership</span>(some_string: <span class="hljs-type">String</span>) { <span class="hljs-comment">/* ... */</span> }
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">makes_copy</span>(some_integer: <span class="hljs-type">i32</span>) { <span class="hljs-comment">/* ... */</span> }

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-title function_ invoke__">takes_ownership</span>(s); <span class="hljs-comment">// moveï¼Œs å¤±æ•ˆ</span>

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = <span class="hljs-number">5</span>;
    <span class="hljs-title function_ invoke__">makes_copy</span>(x); <span class="hljs-comment">// copyï¼Œx ä»ç„¶å¯ç”¨</span>
}
</code></pre>
<p><code>String</code> ä¼ å…¥å‡½æ•°åï¼Œæ‰€æœ‰æƒç§»åŠ¨åˆ°å½¢å‚ï¼›å‡½æ•°ç»“æŸå½¢å‚ç¦»å¼€ä½œç”¨åŸŸï¼Œè§¦å‘ dropï¼Œå †å†…å­˜è¢«é‡Šæ”¾ã€‚<code>i32</code> å› ä¸º Copyï¼Œä¸å½±å“å¤–é¢çš„ <code>x</code>ã€‚</p>
<p>å‡½æ•°è¿”å›å€¼ä¹Ÿä¸€æ ·å¸¦ç€æ‰€æœ‰æƒï¼šè°æ¥ä½ï¼Œè°å°±æˆä¸ºæ–°æ‰€æœ‰è€…ã€‚</p>
<p>åˆ°è¿™é‡Œä½ ä¼šå‘ç°ï¼šå¦‚æœæ¯æ¬¡åªæ˜¯â€œå€Ÿæ¥ç”¨ä¸€ä¸‹â€ï¼Œå´å¿…é¡» move è¿›å»ã€å† move å‡ºæ¥ï¼Œä»£ç ä¼šå¾ˆå•°å—¦ã€‚è¿™æ­£æ˜¯ä¸‹ä¸€ç« ï¼š<strong>å€Ÿç”¨</strong> è¦è§£å†³çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-14">å€Ÿç”¨ï¼šæˆ‘åªæƒ³ç”¨ä½ çš„æ•°æ®ï¼Œä½†ä¸æƒ³æ‹¿èµ°å®ƒ</h2>
<p>å€Ÿç”¨ï¼ˆborrowingï¼‰å°±æ˜¯ï¼š<strong>åˆ›å»ºå¼•ç”¨ï¼Œç”¨å¼•ç”¨è®¿é—®æ•°æ®ï¼Œä½†ä¸å¤ºèµ°æ‰€æœ‰æƒ</strong>ã€‚ç°å®æ¯”å–»å¾ˆç›´ç™½ï¼šåˆ«äººæ‹¥æœ‰æŸæ ·ä¸œè¥¿ï¼Œä½ å¯ä»¥å€Ÿæ¥ç”¨ï¼Œç”¨å®Œè¦è¿˜ã€‚</p>
<h2 data-id="heading-15">ä¸å¯å˜å¼•ç”¨ï¼šåªè¯»å€Ÿé˜…ï¼Œä¸æ”¹å†…å®¹</h2>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">calculate_length</span>(s: &amp;<span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">usize</span> {
    s.<span class="hljs-title function_ invoke__">len</span>()
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s1</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">len</span> = <span class="hljs-title function_ invoke__">calculate_length</span>(&amp;s1);
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{} {}"</span>, s1, len); <span class="hljs-comment">// s1 ä»ç„¶å¯ç”¨</span>
}
</code></pre>
<p>è¿™é‡Œå‘ç”Ÿäº†ä¸¤ä»¶é‡è¦çš„äº‹ï¼š</p>
<ol>
<li>å‚æ•°ç±»å‹ä» <code>String</code> å˜æˆ <code>&amp;String</code>ï¼Œæ‰€ä»¥ä¸ä¼š move æ‰€æœ‰æƒ</li>
<li>å¼•ç”¨ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œä¸ä¼š drop å…¶æŒ‡å‘çš„å€¼ï¼Œå› ä¸ºå¼•ç”¨ä¸æ˜¯æ‰€æœ‰è€…</li>
</ol>
<p>ä½ å¯ä»¥æŠŠ <code>&amp;String</code> æƒ³æˆâ€œåªè¯»é—¨ç¦å¡â€ï¼šèƒ½è¿›é—¨çœ‹æˆ¿é—´ï¼ˆè®¿é—®æ•°æ®ï¼‰ï¼Œä½†ä¸èƒ½è£…ä¿®ï¼ˆä¿®æ”¹æ•°æ®ï¼‰ï¼Œä¹Ÿä¸èƒ½å†³å®šæ‹†æˆ¿ï¼ˆé‡Šæ”¾å†…å­˜ï¼‰ã€‚</p>
<h2 data-id="heading-16">å¯å˜å¼•ç”¨ï¼šå¯ä»¥ä¿®æ”¹ï¼Œä½†â€œåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€æŠŠå¯å†™é’¥åŒ™â€</h2>
<p>å¦‚æœä½ æƒ³é€šè¿‡å€Ÿç”¨å»ä¿®æ”¹æ•°æ®ï¼Œéœ€è¦ <code>&amp;mut</code>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">change</span>(s: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">String</span>) {
    s.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">", world"</span>);
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    <span class="hljs-title function_ invoke__">change</span>(&amp;<span class="hljs-keyword">mut</span> s);
}
</code></pre>
<p>å…³é”®é™åˆ¶æ¥äº†ï¼š<strong>åŒä¸€ä½œç”¨åŸŸå†…ï¼Œç‰¹å®šæ•°æ®åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯å˜å¼•ç”¨</strong>ã€‚å¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚</p>
<p>è¿™æ¡é™åˆ¶ä¸æ˜¯ä¸ºäº†æŠ˜ç£¨äººï¼Œè€Œæ˜¯ä¸ºäº†åœ¨ç¼–è¯‘æœŸæ¶ˆç­â€œæ•°æ®ç«äº‰â€çš„ç»å…¸æˆå› ï¼š</p>
<ul>
<li>å¤šä¸ªæŒ‡é’ˆåŒæ—¶è®¿é—®åŒä¸€æ•°æ®</li>
<li>è‡³å°‘ä¸€ä¸ªåœ¨å†™</li>
<li>æ²¡æœ‰åŒæ­¥æœºåˆ¶
è¿™ä¸‰æ¡å‡‘é½ï¼Œå°±å¯èƒ½å‡ºç°æœªå®šä¹‰è¡Œä¸ºã€‚Rust é€‰æ‹©ç›´æ¥ä¸è®©è¿™ç§ä»£ç é€šè¿‡ç¼–è¯‘ã€‚</li>
</ul>
<p>ä¸€ä¸ªå¾ˆå®ç”¨çš„å°æŠ€å·§æ˜¯ï¼šç”¨ <code>{}</code> ç¼©å°å€Ÿç”¨ä½œç”¨åŸŸï¼Œè®©å‰ä¸€ä¸ªå¯å˜å€Ÿç”¨å°½æ—©ç»“æŸï¼Œå†åˆ›å»ºä¸‹ä¸€ä¸ªã€‚</p>
<h2 data-id="heading-17">å¯å˜ä¸ä¸å¯å˜ä¸èƒ½æ··ç”¨ï¼šè¯»è€…ä¸å¸Œæœ›ä¹¦è¢«å½“åœºæ”¹å†™</h2>
<p>å€Ÿç”¨è¿˜æœ‰ä¸€æ¡æ€»è§„åˆ™ï¼ˆä¹Ÿæ˜¯ä½ æœªæ¥æœ€å¸¸ç”¨çš„å¿ƒæ³•ï¼‰ï¼š</p>
<ul>
<li>åŒä¸€æ—¶åˆ»ï¼šè¦ä¹ˆ<strong>ä¸€ä¸ªå¯å˜å¼•ç”¨</strong>ï¼Œè¦ä¹ˆ<strong>ä»»æ„å¤šä¸ªä¸å¯å˜å¼•ç”¨</strong></li>
<li>å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„</li>
</ul>
<p>ç›´è§‰è§£é‡Šï¼šå¤šä¸ªåªè¯»åŒæ—¶å­˜åœ¨æ²¡é—®é¢˜ï¼Œå› ä¸ºå¤§å®¶éƒ½ä¸å†™ï¼›ä½†åªè¦æœ‰äººå†™ï¼Œå°±å¿…é¡»ä¿è¯â€œå†™çš„æ—¶å€™æ²¡äººè¯»ã€æ²¡äººä¹Ÿåœ¨å†™â€ï¼Œå¦åˆ™ä½ è¯»åˆ°çš„å¯èƒ½æ˜¯åŠæ›´æ–°çŠ¶æ€çš„æ•°æ®ã€‚</p>
<h2 data-id="heading-18">ä½ ä»¥ä¸ºå¼•ç”¨çš„ä½œç”¨åŸŸè·Ÿ <code>{}</code> ä¸€æ ·ï¼ŸRust è¿˜åšäº† NLL ä¼˜åŒ–</h2>
<p>å¾ˆå¤šâ€œçœ‹èµ·æ¥åº”è¯¥èƒ½è¿‡â€çš„ä»£ç ï¼Œå¡åœ¨å€Ÿç”¨æ£€æŸ¥ä¸Šï¼ŒåŸå› å¾€å¾€æ˜¯ï¼šä½ æŠŠå¼•ç”¨çš„æœ‰æ•ˆæœŸæƒ³æˆäº†â€œåˆ°èŠ±æ‹¬å·ç»“æŸâ€ï¼Œä½† Rust æ–°ç¼–è¯‘å™¨ä¼šæ›´èªæ˜ï¼šå¼•ç”¨çš„æœ‰æ•ˆæœŸæŒç»­åˆ°<strong>æœ€åä¸€æ¬¡ä½¿ç”¨</strong>ã€‚</p>
<p>è¿™ç§ä¼˜åŒ–å« <strong>Non-Lexical Lifetimesï¼ˆNLLï¼‰</strong>ã€‚å®ƒè®©å¾ˆå¤šè¿‡å»éœ€è¦â€œæ‰‹åŠ¨æ”¹ç»“æ„â€çš„ä»£ç ï¼Œç°åœ¨å¯ä»¥è‡ªç„¶é€šè¿‡ã€‚</p>
<h2 data-id="heading-19">æ‚¬å‚å¼•ç”¨ï¼šRust åœ¨ç¼–è¯‘æœŸå°±æŠŠâ€œæ‹¿ç€ç©ºæ°”åœ°å€â€è¿™äº‹å µæ­»</h2>
<p>æ‚¬å‚å¼•ç”¨ï¼ˆDangling Referenceï¼‰å°±æ˜¯ï¼šæŒ‡é’ˆè¿˜åœ¨ï¼Œä½†å®ƒæŒ‡å‘çš„å€¼å·²ç»è¢«é‡Šæ”¾æˆ–è¢«é‡ç”¨ã€‚å¾ˆå¤šè¯­è¨€é‡Œè¿™æ˜¯è¿è¡Œæ—¶ç‚¸å¼¹ï¼›Rust çš„ç›®æ ‡æ˜¯è®©å®ƒå˜æˆç¼–è¯‘æ—¶é”™è¯¯ã€‚</p>
<p>ç»å…¸é”™è¯¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">dangle</span>() <span class="hljs-punctuation">-&gt;</span> &amp;<span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    &amp;s
} <span class="hljs-comment">// s ç¦»å¼€ä½œç”¨åŸŸè¢«é‡Šæ”¾</span>
</code></pre>
<p>å‡½æ•°è¿”å›äº† <code>s</code> çš„å¼•ç”¨ï¼Œä½† <code>s</code> åœ¨å‡½æ•°ç»“æŸæ—¶å°±è¢« drop äº†ï¼Œå¼•ç”¨å°†æŒ‡å‘æ— æ•ˆå†…å­˜ã€‚Rust ä¼šç›´æ¥æ‹’ç»ç¼–è¯‘ï¼Œå¹¶æç¤ºï¼šè¿”å›ç±»å‹åŒ…å«å€Ÿç”¨å€¼ï¼Œä½†æ‰¾ä¸åˆ°å¯å€Ÿç”¨çš„æ¥æºã€‚</p>
<p>è§£å†³æ–¹å¼å¾€å¾€å¾ˆâ€œRustâ€ï¼š<strong>ç›´æ¥è¿”å›æ‹¥æœ‰æ‰€æœ‰æƒçš„å€¼</strong>ï¼Œè®©æ‰€æœ‰æƒç§»åŠ¨ç»™è°ƒç”¨è€…ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">no_dangle</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">s</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">from</span>(<span class="hljs-string">"hello"</span>);
    s
}
</code></pre>
<p>è¿™æ®µå°±æ²¡æœ‰æ‚¬å‚å¼•ç”¨é£é™©äº†ã€‚</p>
<h2 data-id="heading-20">æŠŠå®ƒä»¬ä¸²èµ·æ¥ï¼šä¸€ä¸ªå®ç”¨çš„å¿ƒæ™ºæ¨¡å‹</h2>
<p>åˆ°è¿™é‡Œï¼Œä½ å¯ä»¥ç”¨ä¸€å¥è¯æŠŠæ‰€æœ‰æƒç³»ç»Ÿè®°ä½ï¼š</p>
<blockquote>
<p>Rust ç”¨â€œå”¯ä¸€æ‰€æœ‰è€… + å€Ÿç”¨è§„åˆ™â€æ¥ç®¡ç†å †ä¸Šèµ„æºçš„é‡Šæ”¾è´£ä»»ï¼Œå¹¶åœ¨ç¼–è¯‘æœŸé˜»æ­¢åˆ«åå†™å…¥ã€æ‚¬å‚å¼•ç”¨å’Œæ•°æ®ç«äº‰ã€‚</p>
</blockquote>
<p>å†æŠŠå®ƒæ˜ å°„åˆ°å †æ ˆï¼š</p>
<ul>
<li>æ ˆä¸Šç®€å•å€¼ï¼ˆå›ºå®šå¤§å°ï¼‰å¤§å¤š Copyï¼šå¤åˆ¶æˆæœ¬å°ï¼Œæ²¡é‡Šæ”¾è´Ÿæ‹…</li>
<li>å †ä¸Šèµ„æºï¼ˆ<code>String</code>ã€<code>Vec</code> ç­‰ï¼‰é»˜è®¤ Moveï¼šè½¬ç§»é‡Šæ”¾è´£ä»»ï¼Œé¿å…äºŒæ¬¡é‡Šæ”¾</li>
<li>å€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰è®©ä½ â€œä¸æ‹¿èµ°æ‰€æœ‰æƒä¹Ÿèƒ½ç”¨â€ï¼šä½†è¯»å†™åˆ«åå¿…é¡»è¢«è§„åˆ™çº¦æŸï¼Œå¦åˆ™å°±å›åˆ° C çš„ä¸å®‰å…¨ä¸–ç•Œ</li>
</ul>
<p>ä½ ä¼šé€æ¸å‘ç°ï¼šRust ä¸æ˜¯â€œé™åˆ¶å¤šâ€ï¼Œè€Œæ˜¯æŠŠè¿‡å»è¿è¡Œæ—¶æ‰çˆ†ç‚¸çš„é—®é¢˜ï¼Œæå‰åˆ°ä½ å†™ä»£ç çš„é‚£ä¸€åˆ»å°±æŒ‡å‡ºæ¥ã€‚å®ƒè®©ä½ æ…¢ä¸€ç‚¹å†™å¯¹ï¼Œä½†å¿«å¾ˆå¤šç»´æŠ¤ã€‚</p>
<h2 data-id="heading-21">å€Ÿç”¨è§„åˆ™é€Ÿè®°å¡</h2>
<ul>
<li>å€¼çš„æ‰€æœ‰è€…ç¦»å¼€ä½œç”¨åŸŸå°± dropï¼ˆå¯¹å †èµ„æºå°¤å…¶å…³é”®ï¼‰</li>
<li><code>String</code> è¿™ç±»æ‹¥æœ‰å †èµ„æºçš„ç±»å‹ï¼Œèµ‹å€¼/ä¼ å‚é»˜è®¤ moveï¼ˆæ—§å˜é‡å¤±æ•ˆï¼‰</li>
<li>éœ€è¦ä¸¤ä»½æ•°æ®å°± <code>clone()</code>ï¼Œä½†è¦æ„è¯†åˆ°å®ƒä¼šæ·±æ‹·è´ã€ä¼šè´µ</li>
<li>å€Ÿç”¨æ€»ç»“ï¼šåŒä¸€æ—¶åˆ»è¦ä¹ˆ 1 ä¸ª <code>&amp;mut</code>ï¼Œè¦ä¹ˆ N ä¸ª <code>&amp;</code>ï¼›å¼•ç”¨å¿…é¡»æœ‰æ•ˆ</li>
<li>è¿”å›å±€éƒ¨å˜é‡å¼•ç”¨ä¼šå¯¼è‡´æ‚¬å‚å¼•ç”¨é£é™©ï¼ŒRust ä¼šæ‹’ç»ç¼–è¯‘ï¼›é€šå¸¸æ”¹ä¸ºè¿”å›æ‹¥æœ‰æ‰€æœ‰æƒçš„å€¼</li>
</ul>
<p>ï¼ˆå®Œï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pythontutor - ä»£ç å¯è§†åŒ–æ¢ç´¢ï¼šé“¾è¡¨ã€å¼‚å¸¸ä¸æ§åˆ¶æµçš„åŠ¨æ€æ¼”ç¤º]]></title>    <link>https://juejin.cn/post/7598499504170893350</link>    <guid>https://juejin.cn/post/7598499504170893350</guid>    <pubDate>2026-01-24T08:12:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598499504170893350" data-draft-id="7598818096728866854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pythontutor - ä»£ç å¯è§†åŒ–æ¢ç´¢ï¼šé“¾è¡¨ã€å¼‚å¸¸ä¸æ§åˆ¶æµçš„åŠ¨æ€æ¼”ç¤º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-24T08:12:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="pe7er"/> <meta itemprop="url" content="https://juejin.cn/user/905653310988445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pythontutor - ä»£ç å¯è§†åŒ–æ¢ç´¢ï¼šé“¾è¡¨ã€å¼‚å¸¸ä¸æ§åˆ¶æµçš„åŠ¨æ€æ¼”ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653310988445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    pe7er
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T08:12:21.000Z" title="Sat Jan 24 2026 08:12:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PythonTutor æ˜¯ä»€ä¹ˆ</h2>
<p>PythonTutor æ˜¯ä¸€ä¸ªç”¨äºå±•ç¤ºä»£ç æ‰§è¡Œè¿‡ç¨‹çš„å¯è§†åŒ–å­¦ä¹ å·¥å…·ã€‚å®ƒå…³æ³¨çš„ä¸æ˜¯ç¨‹åºæœ€ç»ˆè¾“å‡ºçš„ç»“æœï¼Œè€Œæ˜¯ä»£ç åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ¯ä¸€æ­¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ã€å˜é‡å’Œå¯¹è±¡åœ¨å†…å­˜ä¸­å¦‚ä½•å˜åŒ–ã€‚</p>
<hr/>
<h3 data-id="heading-1">PythonTutor çš„æ ¸å¿ƒä»·å€¼</h3>
<p>PythonTutor ä¼šé€è¡Œæ‰§è¡Œä»£ç ï¼Œå¹¶å®æ—¶å±•ç¤ºï¼š</p>
<ul>
<li>å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç è¡Œ</li>
<li>å˜é‡åœ¨ä¸åŒé˜¶æ®µçš„å–å€¼å˜åŒ–</li>
<li>å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åˆ†é…æƒ…å†µ</li>
<li>å¼•ç”¨å…³ç³»ã€æŒ‡é’ˆæŒ‡å‘å’Œè°ƒç”¨æ ˆç»“æ„</li>
</ul>
<p>è¿™ç§æ–¹å¼å¯ä»¥å¸®åŠ©å¼€å‘è€…çœŸæ­£ç†è§£ç¨‹åºçš„æ‰§è¡Œé€»è¾‘ï¼Œè€Œä¸ä»…ä»…æ˜¯â€œè·‘é€šä»£ç â€ã€‚</p>
<hr/>
<h3 data-id="heading-2">å¯è§†åŒ–å˜é‡å’Œå†…å­˜ç»“æ„</h3>
<p>åœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œå˜é‡æœ¬è´¨ä¸Šæ˜¯å¯¹å¯¹è±¡çš„å¼•ç”¨ã€‚ä»…é€šè¿‡æ—¥å¿—æˆ–æ‰“å°è¾“å‡ºï¼Œå¾ˆéš¾ç›´è§‚ç†è§£å¤šä¸ªå˜é‡æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>PythonTutor ä¼šå°†è¿™äº›å…³ç³»ä»¥å›¾å½¢å½¢å¼å±•ç¤ºå‡ºæ¥ï¼Œå°¤å…¶é€‚åˆç†è§£ä»¥ä¸‹æ¦‚å¿µï¼š</p>
<ul>
<li>å¼•ç”¨ä¸å¯¹è±¡çš„å…³ç³»</li>
<li>é“¾è¡¨å’ŒæŒ‡é’ˆç»“æ„</li>
<li>å¯¹è±¡å…±äº«ä¸å‰¯ä½œç”¨</li>
<li>æ ˆä¸å †å†…å­˜çš„å˜åŒ–</li>
</ul>
<hr/>
<h3 data-id="heading-3">Java é“¾è¡¨ç¤ºä¾‹</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´ã€å¯ç›´æ¥è¿è¡Œçš„ Java å•å‘é“¾è¡¨ç¤ºä¾‹ï¼Œé€‚åˆæ”¾å…¥ PythonTutor çš„ Java æ¨¡å¼ä¸­è§‚å¯ŸæŒ‡é’ˆå’Œå¯¹è±¡çš„å˜åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2765da14261b4fabbfb1dd97a3dd4005~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGU3ZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769847968&amp;x-signature=vyg7qoH%2FTmKLIYXokTHMZz1AXeo%3D" alt="é“¾è¡¨è™šæ‹ŸåŒ–.gif" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span>Â java.util.Objects;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedListDemo</span> {

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> {
        <span class="hljs-type">int</span> value;
        Node next;

        Node(<span class="hljs-type">int</span> value) {
            <span class="hljs-built_in">this</span>.value = value;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">head</span> <span class="hljs-operator">=</span> buildList();
        printList(head);

        head = delete(head, <span class="hljs-number">2</span>);
        printList(head);

        System.out.println(<span class="hljs-string">"æ˜¯å¦åŒ…å« 3: "</span> + contains(head, <span class="hljs-number">3</span>));
        System.out.println(<span class="hljs-string">"æ˜¯å¦åŒ…å« 5: "</span> + contains(head, <span class="hljs-number">5</span>));

        head = reverse(head);
        printList(head);
    }

    <span class="hljs-keyword">static</span> Node <span class="hljs-title function_">buildList</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">Node</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-number">2</span>);
        <span class="hljs-type">Node</span> <span class="hljs-variable">n3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-number">3</span>);
        <span class="hljs-type">Node</span> <span class="hljs-variable">n4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-number">4</span>);

        n1.next = n2;
        n2.next = n3;
        n3.next = n4;

        <span class="hljs-keyword">return</span> n1;
    }

    <span class="hljs-keyword">static</span> Node <span class="hljs-title function_">delete</span><span class="hljs-params">(Node head, <span class="hljs-type">int</span> target)</span> {
        <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (head.value == target) {
            <span class="hljs-keyword">return</span> head.next;
        }

        <span class="hljs-type">Node</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> head;
        <span class="hljs-keyword">while</span> (current.next != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (current.next.value == target) {
                current.next = current.next.next;
                <span class="hljs-keyword">break</span>;
            }
            current = current.next;
        }
        <span class="hljs-keyword">return</span> head;
    }

    <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">contains</span><span class="hljs-params">(Node head, <span class="hljs-type">int</span> target)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> head;
        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (current.value == target) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            current = current.next;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">static</span> Node <span class="hljs-title function_">reverse</span><span class="hljs-params">(Node head)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">prev</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-type">Node</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> head;

        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">null</span>) {
            <span class="hljs-type">Node</span> <span class="hljs-variable">nextTemp</span> <span class="hljs-operator">=</span> current.next;
            current.next = prev;
            prev = current;
            current = nextTemp;
        }
        <span class="hljs-keyword">return</span> prev;
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printList</span><span class="hljs-params">(Node head)</span> {
        <span class="hljs-type">Node</span> <span class="hljs-variable">current</span> <span class="hljs-operator">=</span> head;
        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">null</span>) {
            System.out.print(current.value + <span class="hljs-string">" -&gt; "</span>);
            current = current.next;
        }
        System.out.println(<span class="hljs-string">"null"</span>);
    }
}
</code></pre>
<p>å¤åˆ¶ä¸‹é¢çš„å†…å®¹åœ¨æµè§ˆå™¨åœ°å€è®¿é—®</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//pythontutor.com/render.html#code=import%<span class="hljs-number">20</span>java.util.Objects%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>Apublic%<span class="hljs-number">20</span><span class="hljs-keyword">class</span>%<span class="hljs-number">20L</span>inkedListDemo%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E5%<span class="hljs-number">8</span>D%<span class="hljs-number">95%</span>E9%<span class="hljs-number">93%</span>BE%E8%A1%A8%E8%<span class="hljs-number">8</span>A%<span class="hljs-number">82%</span>E7%<span class="hljs-number">82%</span>B9%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20s</span>tatic%<span class="hljs-number">20</span><span class="hljs-keyword">class</span>%<span class="hljs-number">20</span>Node%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>nt%<span class="hljs-number">20</span>value%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span><span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">28i</span>nt%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>this.value%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>value%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">private</span>%<span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E5%B0%BE%E6%<span class="hljs-number">8</span>F%<span class="hljs-number">92%</span>E6%B3%<span class="hljs-number">95%</span>E6%B7%BB%E5%<span class="hljs-number">8</span>A%A0%E8%<span class="hljs-number">8</span>A%<span class="hljs-number">82%</span>E7%<span class="hljs-number">82%</span>B9%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>add%<span class="hljs-number">28i</span>nt%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>newNode%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span><span class="hljs-built_in">new</span>%<span class="hljs-number">20</span>Node%<span class="hljs-number">28</span>value%<span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28</span>head%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>head%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>newNode%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">20</span>!%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>newNode%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E5%<span class="hljs-number">88%</span>A0%E9%<span class="hljs-number">99%</span>A4%E6%<span class="hljs-number">8</span>C%<span class="hljs-number">87%</span>E5%AE%<span class="hljs-number">9</span>A%E5%<span class="hljs-number">80%</span>BC%E7%<span class="hljs-number">9</span>A%<span class="hljs-number">84%</span>E8%<span class="hljs-number">8</span>A%<span class="hljs-number">82%</span>E7%<span class="hljs-number">82%</span>B9%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>remove%<span class="hljs-number">28i</span>nt%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28</span>head%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28</span>head.value%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>head%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">20</span>!%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur.<span class="hljs-keyword">next</span>.value%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E5%<span class="hljs-number">88%</span>A4%E6%<span class="hljs-number">96%</span>AD%E6%<span class="hljs-number">98%</span>AF%E5%<span class="hljs-number">90%</span>A6%E5%<span class="hljs-number">8</span>C%<span class="hljs-number">85%</span>E5%<span class="hljs-number">90%</span>AB%E6%<span class="hljs-number">9</span>F%<span class="hljs-number">90%</span>E4%B8%AA%E5%<span class="hljs-number">80%</span>BC%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20</span><span class="hljs-type">boolean</span>%<span class="hljs-number">20</span>contains%<span class="hljs-number">28i</span>nt%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur%<span class="hljs-number">20</span>!%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28</span>Objects.<span class="hljs-keyword">equals</span>%<span class="hljs-number">28</span>cur.value,%<span class="hljs-number">20</span>value%<span class="hljs-number">29%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">20</span><span class="hljs-literal">true</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">return</span>%<span class="hljs-number">20</span><span class="hljs-literal">false</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E6%<span class="hljs-number">89%</span><span class="hljs-number">93%</span>E5%<span class="hljs-number">8</span>D%B0%E9%<span class="hljs-number">93%</span>BE%E8%A1%A8%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>print%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur%<span class="hljs-number">20</span>!%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.print%<span class="hljs-number">28</span>cur.value%<span class="hljs-number">20%</span><span class="hljs-number">2</span>B%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">20</span>-%<span class="hljs-number">3</span>E%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22</span>null%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E5%<span class="hljs-number">8</span>F%<span class="hljs-number">8</span>D%E8%BD%AC%E9%<span class="hljs-number">93%</span>BE%E8%A1%A8%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>reverse%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>prev%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>head%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>cur%<span class="hljs-number">20</span>!%<span class="hljs-number">3</span>D%<span class="hljs-number">20</span>null%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>Node%<span class="hljs-number">20</span>nextTemp%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur.<span class="hljs-keyword">next</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>prev%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>prev%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>cur%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>cur%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>nextTemp%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>head%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>prev%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E6%B5%<span class="hljs-number">8</span>B%E8%AF%<span class="hljs-number">95%</span>E5%<span class="hljs-number">85%</span>A5%E5%<span class="hljs-number">8</span>F%A3%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20s</span>tatic%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>main%<span class="hljs-number">28S</span>tring%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D%<span class="hljs-number">20</span>args%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20L</span>inkedListDemo%<span class="hljs-number">20l</span>ist%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span><span class="hljs-built_in">new</span>%<span class="hljs-number">20L</span>inkedListDemo%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.add%<span class="hljs-number">281%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.add%<span class="hljs-number">282%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.add%<span class="hljs-number">283%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.add%<span class="hljs-number">284%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E5%<span class="hljs-number">8</span>E%<span class="hljs-number">9</span>F%E5%A7%<span class="hljs-number">8</span>B%E9%<span class="hljs-number">93%</span>BE%E8%A1%A8%<span class="hljs-number">3</span>A%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.print%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E5%<span class="hljs-number">88%</span>A0%E9%<span class="hljs-number">99%</span>A4%<span class="hljs-number">202%</span><span class="hljs-number">3</span>A%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.remove%<span class="hljs-number">282%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.print%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E6%<span class="hljs-number">98%</span>AF%E5%<span class="hljs-number">90%</span>A6%E5%<span class="hljs-number">8</span>C%<span class="hljs-number">85%</span>E5%<span class="hljs-number">90%</span>AB%<span class="hljs-number">203%</span><span class="hljs-number">3</span>A%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">20%</span><span class="hljs-number">2</span>B%<span class="hljs-number">20l</span>ist.contains%<span class="hljs-number">283%</span><span class="hljs-number">29%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E6%<span class="hljs-number">98%</span>AF%E5%<span class="hljs-number">90%</span>A6%E5%<span class="hljs-number">8</span>C%<span class="hljs-number">85%</span>E5%<span class="hljs-number">90%</span>AB%<span class="hljs-number">205%</span><span class="hljs-number">3</span>A%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">20%</span><span class="hljs-number">2</span>B%<span class="hljs-number">20l</span>ist.contains%<span class="hljs-number">285%</span><span class="hljs-number">29%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E5%<span class="hljs-number">8</span>F%<span class="hljs-number">8</span>D%E8%BD%AC%E9%<span class="hljs-number">93%</span>BE%E8%A1%A8%<span class="hljs-number">3</span>A%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.reverse%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20l</span>ist.print%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">7</span>D&amp;cumulative=<span class="hljs-literal">false</span>&amp;curInstr=<span class="hljs-number">0&amp;</span>heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D&amp;textReferences=<span class="hljs-literal">false</span>
</code></pre>
<h3 data-id="heading-4">Java ä¸­çš„ try catch finally ç¤ºä¾‹</h3>
<p>è¿™ä¸ªç¤ºä¾‹é€‚åˆç”¨æ¥è§‚å¯Ÿå¼‚å¸¸å‘ç”Ÿæ—¶æ§åˆ¶æµçš„å˜åŒ–ï¼Œä»¥åŠ finally ä»£ç å—ä¸€å®šä¼šè¢«æ‰§è¡Œçš„ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TryCatchDemo</span> {

    <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªéœ€è¦æ‰‹åŠ¨é‡Šæ”¾çš„èµ„æº</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FakeResource</span> {
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">open</span>()</span> {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"èµ„æºå·²æ‰“å¼€"</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">use</span>()</span> {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ­£åœ¨ä½¿ç”¨èµ„æº"</span>);
            <span class="hljs-comment">// äººä¸ºåˆ¶é€ å¼‚å¸¸</span>
            <span class="hljs-built_in">int</span> x = <span class="hljs-number">10</span> / <span class="hljs-number">0</span>;
        }

        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">close</span>()</span> {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"èµ„æºå·²é‡Šæ”¾"</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        FakeResource resource = <span class="hljs-keyword">new</span> FakeResource();

        <span class="hljs-keyword">try</span> {
            resource.open();
            resource.use();
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"è¿™è¡Œä»£ç ä¸ä¼šè¢«æ‰§è¡Œ"</span>);
        } <span class="hljs-keyword">catch</span> (ArithmeticException e) {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ•è·åˆ°å¼‚å¸¸: "</span> + e.getMessage());
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œ</span>
            resource.close();
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"finally å—æ‰§è¡Œå®Œæˆ"</span>);
        }
    }
}
</code></pre>
<p>åœ¨ PythonTutor ä¸­å¯ä»¥æ¸…æ¥šçœ‹åˆ°ï¼š</p>
<ul>
<li>å¼‚å¸¸å‘ç”Ÿåç›´æ¥è·³è½¬åˆ° catch</li>
<li>try ä¸­å‰©ä½™ä»£ç ä¸å†æ‰§è¡Œ</li>
<li>finally å§‹ç»ˆä¼šè¢«æ‰§è¡Œ</li>
</ul>
<p>å¤åˆ¶ä¸‹é¢çš„å†…å®¹åœ¨æµè§ˆå™¨åœ°å€è®¿é—®</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//pythontutor.com/render.html#code=<span class="hljs-keyword">public</span>%<span class="hljs-number">20</span><span class="hljs-keyword">class</span>%<span class="hljs-number">20</span>TryCatchDemo%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E6%A8%A1%E6%<span class="hljs-number">8</span>B%<span class="hljs-number">9</span>F%E4%B8%<span class="hljs-number">80%</span>E4%B8%AA%E9%<span class="hljs-number">9</span>C%<span class="hljs-number">80%</span>E8%A6%<span class="hljs-number">81%</span>E6%<span class="hljs-number">89%</span><span class="hljs-number">8</span>B%E5%<span class="hljs-number">8</span>A%A8%E9%<span class="hljs-number">87%</span><span class="hljs-number">8</span>A%E6%<span class="hljs-number">94%</span>BE%E7%<span class="hljs-number">9</span>A%<span class="hljs-number">84%</span>E8%B5%<span class="hljs-number">84%</span>E6%BA%<span class="hljs-number">90%</span><span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20s</span>tatic%<span class="hljs-number">20</span><span class="hljs-keyword">class</span>%<span class="hljs-number">20</span>FakeResource%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>void%<span class="hljs-number">20</span>open%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E8%B5%<span class="hljs-number">84%</span>E6%BA%<span class="hljs-number">90%</span>E5%B7%B2%E6%<span class="hljs-number">89%</span><span class="hljs-number">93%</span>E5%BC%<span class="hljs-number">80%</span><span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>void%<span class="hljs-number">20us</span>e%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E6%AD%A3%E5%<span class="hljs-number">9</span>C%A8%E4%BD%BF%E7%<span class="hljs-number">94%</span>A8%E8%B5%<span class="hljs-number">84%</span>E6%BA%<span class="hljs-number">90%</span><span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E4%BA%BA%E4%B8%BA%E5%<span class="hljs-number">88%</span>B6%E9%<span class="hljs-number">80%</span>A0%E5%BC%<span class="hljs-number">82%</span>E5%B8%B8%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>nt%<span class="hljs-number">20</span>x%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">2010%</span><span class="hljs-number">20</span>/%<span class="hljs-number">200%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>void%<span class="hljs-number">20</span>close%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E8%B5%<span class="hljs-number">84%</span>E6%BA%<span class="hljs-number">90%</span>E5%B7%B2%E9%<span class="hljs-number">87%</span><span class="hljs-number">8</span>A%E6%<span class="hljs-number">94%</span>BE%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20s</span>tatic%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>main%<span class="hljs-number">28S</span>tring%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D%<span class="hljs-number">20</span>args%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>FakeResource%<span class="hljs-number">20</span>resource%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span><span class="hljs-built_in">new</span>%<span class="hljs-number">20</span>FakeResource%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">try</span>%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>resource.open%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>resource.use%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E8%BF%<span class="hljs-number">99%</span>E8%A1%<span class="hljs-number">8</span>C%E4%BB%A3%E7%A0%<span class="hljs-number">81%</span>E4%B8%<span class="hljs-number">8</span>D%E4%BC%<span class="hljs-number">9</span>A%E8%A2%AB%E6%<span class="hljs-number">89%</span>A7%E8%A1%<span class="hljs-number">8</span>C%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">20</span><span class="hljs-keyword">catch</span>%<span class="hljs-number">20%</span><span class="hljs-number">28</span>ArithmeticException%<span class="hljs-number">20</span>e%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E6%<span class="hljs-number">8</span>D%<span class="hljs-number">95%</span>E8%<span class="hljs-number">8</span>E%B7%E5%<span class="hljs-number">88%</span>B0%E5%BC%<span class="hljs-number">82%</span>E5%B8%B8%<span class="hljs-number">3</span>A%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">20%</span><span class="hljs-number">2</span>B%<span class="hljs-number">20</span>e.getMessage%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">20</span><span class="hljs-keyword">finally</span>%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>//%<span class="hljs-number">20%</span>E6%<span class="hljs-number">97%</span>A0%E8%AE%BA%E6%<span class="hljs-number">98%</span>AF%E5%<span class="hljs-number">90%</span>A6%E5%<span class="hljs-number">8</span>F%<span class="hljs-number">91%</span>E7%<span class="hljs-number">94%</span><span class="hljs-number">9</span>F%E5%BC%<span class="hljs-number">82%</span>E5%B8%B8%EF%BC%<span class="hljs-number">8</span>C%E9%<span class="hljs-number">83%</span>BD%E4%BC%<span class="hljs-number">9</span>A%E6%<span class="hljs-number">89%</span>A7%E8%A1%<span class="hljs-number">8</span>C%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>resource.close%<span class="hljs-number">28%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22</span><span class="hljs-keyword">finally</span>%<span class="hljs-number">20%</span>E5%<span class="hljs-number">9</span>D%<span class="hljs-number">97%</span>E6%<span class="hljs-number">89%</span>A7%E8%A1%<span class="hljs-number">8</span>C%E5%AE%<span class="hljs-number">8</span>C%E6%<span class="hljs-number">88%</span><span class="hljs-number">90%</span><span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">7</span>D&amp;cumulative=<span class="hljs-literal">false</span>&amp;curInstr=<span class="hljs-number">0&amp;</span>heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D&amp;textReferences=<span class="hljs-literal">false</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">Java ä¸­çš„ switch case ï¼ˆå‘½ä¸­ç©¿é€ï¼‰ç¤ºä¾‹</h3>
<p>ä¸‹é¢è¿™ä¸ªç¤ºä¾‹å°† break åˆ é™¤äº†ï¼Œé€‚åˆè§‚å¯Ÿåˆ†æ”¯åŒ¹é…å’Œ break å¯¹æµç¨‹çš„å½±å“ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SwitchDemo</span> {

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
            <span class="hljs-built_in">int</span> day = <span class="hljs-number">1</span>;

            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"day = "</span> + day);
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œ switch"</span>);

            <span class="hljs-keyword">switch</span> (day) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å‘½ä¸­ case 1ï¼šæ˜ŸæœŸä¸€"</span>);
                    <span class="hljs-comment">// break;</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å‘½ä¸­ case 2ï¼šæ˜ŸæœŸäºŒ"</span>);
                    <span class="hljs-comment">// break;</span>
                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
                    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å‘½ä¸­ case 3ï¼šæ˜ŸæœŸä¸‰"</span>);
                    <span class="hljs-comment">// break;</span>
                <span class="hljs-literal">default</span>:
                    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å‘½ä¸­ defaultï¼šæœªçŸ¥æ—¥æœŸ"</span>);
                    <span class="hljs-comment">// break;</span>
            }

            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"switch æ‰§è¡Œç»“æŸ"</span>);
        }
    }
</code></pre>
<p>é€šè¿‡å¯è§†åŒ–å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>switch è¡¨è¾¾å¼åªè®¡ç®—ä¸€æ¬¡</li>
<li>ç¬¬ä¸€ä¸ªåŒ¹é…çš„ case å°±ä¼šè¢«æ‰§è¡Œ</li>
<li>ç¼ºå°‘break ä¼šå¯¼è‡´å‘½ä¸­ç©¿é€ã€‚</li>
</ul>
<p>å¤åˆ¶ä¸‹é¢çš„å†…å®¹åœ¨æµè§ˆå™¨åœ°å€è®¿é—®</p>
<pre><code class="hljs language-sql" lang="sql">https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>pythontutor.com<span class="hljs-operator">/</span>render.html#code<span class="hljs-operator">=</span>public<span class="hljs-operator">%</span><span class="hljs-number">20</span>class<span class="hljs-operator">%</span><span class="hljs-number">20</span>SwitchDemo<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">7</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>public<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">static</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>void<span class="hljs-operator">%</span><span class="hljs-number">20</span>main<span class="hljs-operator">%</span><span class="hljs-number">28</span>String<span class="hljs-operator">%</span><span class="hljs-number">5</span>B<span class="hljs-operator">%</span><span class="hljs-number">5</span>D<span class="hljs-operator">%</span><span class="hljs-number">20</span>args<span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">7</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-type">int</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">day</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>D<span class="hljs-operator">%</span><span class="hljs-number">201</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-keyword">day</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>D<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">2</span>B<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">day</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span>BC<span class="hljs-operator">%</span><span class="hljs-number">80</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span>A7<span class="hljs-operator">%</span><span class="hljs-number">8</span>B<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">89</span><span class="hljs-operator">%</span>A7<span class="hljs-operator">%</span>E8<span class="hljs-operator">%</span>A1<span class="hljs-operator">%</span><span class="hljs-number">8</span>C<span class="hljs-operator">%</span><span class="hljs-number">20</span>switch<span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>switch<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-keyword">day</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">7</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">201</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span><span class="hljs-number">91</span><span class="hljs-operator">%</span>BD<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span>AD<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">201</span><span class="hljs-operator">%</span>EF<span class="hljs-operator">%</span>BC<span class="hljs-operator">%</span><span class="hljs-number">9</span>A<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">98</span><span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>C<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span><span class="hljs-number">80</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>break<span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">202</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span><span class="hljs-number">91</span><span class="hljs-operator">%</span>BD<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span>AD<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">202</span><span class="hljs-operator">%</span>EF<span class="hljs-operator">%</span>BC<span class="hljs-operator">%</span><span class="hljs-number">9</span>A<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">98</span><span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>C<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>BA<span class="hljs-operator">%</span><span class="hljs-number">8</span>C<span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>break<span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">203</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span><span class="hljs-number">91</span><span class="hljs-operator">%</span>BD<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span>AD<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">case</span><span class="hljs-operator">%</span><span class="hljs-number">203</span><span class="hljs-operator">%</span>EF<span class="hljs-operator">%</span>BC<span class="hljs-operator">%</span><span class="hljs-number">9</span>A<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">98</span><span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>C<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span><span class="hljs-number">89</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>break<span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">default</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span>E5<span class="hljs-operator">%</span><span class="hljs-number">91</span><span class="hljs-operator">%</span>BD<span class="hljs-operator">%</span>E4<span class="hljs-operator">%</span>B8<span class="hljs-operator">%</span>AD<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-keyword">default</span><span class="hljs-operator">%</span>EF<span class="hljs-operator">%</span>BC<span class="hljs-operator">%</span><span class="hljs-number">9</span>A<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>C<span class="hljs-operator">%</span>AA<span class="hljs-operator">%</span>E7<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span>A5<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">97</span><span class="hljs-operator">%</span>A5<span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>C<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>break<span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">7</span>D<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span>System.out.println<span class="hljs-operator">%</span><span class="hljs-number">28</span><span class="hljs-operator">%</span><span class="hljs-number">22</span>switch<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">89</span><span class="hljs-operator">%</span>A7<span class="hljs-operator">%</span>E8<span class="hljs-operator">%</span>A1<span class="hljs-operator">%</span><span class="hljs-number">8</span>C<span class="hljs-operator">%</span>E7<span class="hljs-operator">%</span>BB<span class="hljs-operator">%</span><span class="hljs-number">93</span><span class="hljs-operator">%</span>E6<span class="hljs-operator">%</span><span class="hljs-number">9</span>D<span class="hljs-operator">%</span><span class="hljs-number">9</span>F<span class="hljs-operator">%</span><span class="hljs-number">22</span><span class="hljs-operator">%</span><span class="hljs-number">29</span><span class="hljs-operator">%</span><span class="hljs-number">3</span>B<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">20</span><span class="hljs-operator">%</span><span class="hljs-number">7</span>D<span class="hljs-operator">%</span><span class="hljs-number">0</span>A<span class="hljs-operator">%</span><span class="hljs-number">7</span>D<span class="hljs-operator">&amp;</span>cumulative<span class="hljs-operator">=</span><span class="hljs-literal">false</span><span class="hljs-operator">&amp;</span>curInstr<span class="hljs-operator">=</span><span class="hljs-number">0</span><span class="hljs-operator">&amp;</span>heapPrimitives<span class="hljs-operator">=</span>nevernest<span class="hljs-operator">&amp;</span>mode<span class="hljs-operator">=</span>display<span class="hljs-operator">&amp;</span>origin<span class="hljs-operator">=</span>opt<span class="hljs-operator">-</span>frontend.js<span class="hljs-operator">&amp;</span>py<span class="hljs-operator">=</span>java<span class="hljs-operator">&amp;</span>rawInputLstJSON<span class="hljs-operator">=</span><span class="hljs-operator">%</span><span class="hljs-number">5</span>B<span class="hljs-operator">%</span><span class="hljs-number">5</span>D<span class="hljs-operator">&amp;</span>textReferences<span class="hljs-operator">=</span><span class="hljs-literal">false</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">while å¾ªç¯ä¸ continueã€break ç¤ºä¾‹</h3>
<p>è¿™ä¸ªç¤ºä¾‹éå¸¸é€‚åˆåœ¨ PythonTutor ä¸­è§‚å¯Ÿå¾ªç¯å˜é‡çš„å˜åŒ–ï¼Œä»¥åŠ continue å’Œ break å¯¹æµç¨‹çš„å½±å“ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WhileDemo</span> {

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
            <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;

            <span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">5</span>) {
                i++;

                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span>) {
                    <span class="hljs-keyword">continue</span>;
                }

                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">4</span>) {
                    <span class="hljs-keyword">break</span>;
                }

                System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"å½“å‰ i = "</span> + i);
            }
        }
    }
</code></pre>
<p>åœ¨å¯è§†åŒ–è¿‡ç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>continue ä¼šè·³è¿‡æœ¬è½®å¾ªç¯å‰©ä½™ä»£ç </li>
<li>break ä¼šç›´æ¥è·³å‡ºæ•´ä¸ªå¾ªç¯</li>
<li>i çš„å˜åŒ–è¿‡ç¨‹æ¸…æ™°å¯è§</li>
</ul>

<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//pythontutor.com/render.html#code=<span class="hljs-keyword">public</span>%<span class="hljs-number">20</span><span class="hljs-keyword">class</span>%<span class="hljs-number">20</span>WhileDemo%<span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">public</span>%<span class="hljs-number">20s</span>tatic%<span class="hljs-number">20</span>void%<span class="hljs-number">20</span>main%<span class="hljs-number">28S</span>tring%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D%<span class="hljs-number">20</span>args%<span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>nt%<span class="hljs-number">20i</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">200%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">while</span>%<span class="hljs-number">20%</span><span class="hljs-number">28i</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>C%<span class="hljs-number">205%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>%<span class="hljs-number">2</span>B%<span class="hljs-number">2</span>B%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28i</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">202%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span><span class="hljs-keyword">continue</span>%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20i</span>f%<span class="hljs-number">20%</span><span class="hljs-number">28i</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">3</span>D%<span class="hljs-number">204%</span><span class="hljs-number">29%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20</span>break%<span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20S</span>ystem.out.println%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E5%BD%<span class="hljs-number">93%</span>E5%<span class="hljs-number">89%</span><span class="hljs-number">8</span>D%<span class="hljs-number">20i</span>%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20%</span><span class="hljs-number">22%</span><span class="hljs-number">20%</span><span class="hljs-number">2</span>B%<span class="hljs-number">20i</span>%<span class="hljs-number">29%</span><span class="hljs-number">3</span>B%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">20%</span><span class="hljs-number">7</span>D%<span class="hljs-number">0</span>A%<span class="hljs-number">7</span>D&amp;cumulative=<span class="hljs-literal">false</span>&amp;curInstr=<span class="hljs-number">0&amp;</span>heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=java&amp;rawInputLstJSON=%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D&amp;textReferences=<span class="hljs-literal">false</span>
</code></pre>
<hr/>
<h3 data-id="heading-7">Python ä¸­çš„å˜é‡å¼•ç”¨ç¤ºä¾‹</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„ Python ç¤ºä¾‹ï¼Œç”¨äºç†è§£å˜é‡å’Œå¯¹è±¡ä¹‹é—´çš„å…³ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1fd3fb4232544e19b72e4ae4e82f81f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGU3ZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769847968&amp;x-signature=vIOfQFqi5nAE9%2F2VPiQAgpDPA5Q%3D" alt="python è™šæ‹ŸåŒ–.gif" loading="lazy"/></p>
<pre><code class="hljs language-scss" lang="scss">    <span class="hljs-selector-tag">a</span> = <span class="hljs-selector-attr">[1, 2, 3]</span>
    <span class="hljs-selector-tag">b</span> = <span class="hljs-selector-tag">a</span>

    <span class="hljs-built_in">print</span>("a:", a)
    <span class="hljs-built_in">print</span>("b:", b)

    <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.append</span>(<span class="hljs-number">4</span>)

    <span class="hljs-built_in">print</span>("ä¿®æ”¹ b ä¹‹å")
    <span class="hljs-built_in">print</span>("a:", a)
    <span class="hljs-built_in">print</span>("b:", b)
</code></pre>
<p>åœ¨ PythonTutor ä¸­å¯ä»¥ç›´è§‚çœ‹åˆ°ï¼š</p>
<ul>
<li>a å’Œ b æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨å¯¹è±¡</li>
<li>å¯¹ b çš„ä¿®æ”¹ä¼šåŒæ­¥å½±å“ a</li>
<li>å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªåˆ—è¡¨å®ä¾‹</li>
</ul>
<p>å¤åˆ¶ä¸‹é¢çš„å†…å®¹åœ¨æµè§ˆå™¨åœ°å€è®¿é—®</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//pythontutor.com/render.html#code=a%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20%</span><span class="hljs-number">5</span>B1,%<span class="hljs-number">202</span>,%<span class="hljs-number">203%</span><span class="hljs-number">5</span>D%<span class="hljs-number">0</span>Ab%<span class="hljs-number">20%</span><span class="hljs-number">3</span>D%<span class="hljs-number">20</span>a%<span class="hljs-number">0</span>A%<span class="hljs-number">0</span>Aprint%<span class="hljs-number">28%</span><span class="hljs-number">22</span>a%<span class="hljs-number">3</span>A%<span class="hljs-number">22</span>,%<span class="hljs-number">20</span>a%<span class="hljs-number">29%</span><span class="hljs-number">0</span>Aprint%<span class="hljs-number">28%</span><span class="hljs-number">22</span>b%<span class="hljs-number">3</span>A%<span class="hljs-number">22</span>,%<span class="hljs-number">20</span>b%<span class="hljs-number">29%</span><span class="hljs-number">0</span>A%<span class="hljs-number">0</span>Ab.append%<span class="hljs-number">284%</span><span class="hljs-number">29%</span><span class="hljs-number">0</span>A%<span class="hljs-number">0</span>Aprint%<span class="hljs-number">28%</span><span class="hljs-number">22%</span>E4%BF%AE%E6%<span class="hljs-number">94%</span>B9%<span class="hljs-number">20</span>b%<span class="hljs-number">20%</span>E4%B9%<span class="hljs-number">8</span>B%E5%<span class="hljs-number">90%</span><span class="hljs-number">8</span>E%<span class="hljs-number">22%</span><span class="hljs-number">29%</span><span class="hljs-number">0</span>Aprint%<span class="hljs-number">28%</span><span class="hljs-number">22</span>a%<span class="hljs-number">3</span>A%<span class="hljs-number">22</span>,%<span class="hljs-number">20</span>a%<span class="hljs-number">29%</span><span class="hljs-number">0</span>Aprint%<span class="hljs-number">28%</span><span class="hljs-number">22</span>b%<span class="hljs-number">3</span>A%<span class="hljs-number">22</span>,%<span class="hljs-number">20</span>b%<span class="hljs-number">29&amp;</span>cumulative=<span class="hljs-literal">false</span>&amp;curInstr=<span class="hljs-number">0&amp;</span>heapPrimitives=nevernest&amp;mode=display&amp;origin=opt-frontend.js&amp;py=<span class="hljs-number">311&amp;</span>rawInputLstJSON=%<span class="hljs-number">5</span>B%<span class="hljs-number">5</span>D&amp;textReferences=<span class="hljs-literal">false</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">é€‚åˆä½¿ç”¨ PythonTutor çš„åœºæ™¯</h3>
<p>PythonTutor ç‰¹åˆ«é€‚åˆç”¨äºï¼š</p>
<ul>
<li>å­¦ä¹ åŸºç¡€è¯­æ³•å’Œæ§åˆ¶æµç¨‹</li>
<li>ç†è§£å¼‚å¸¸å¤„ç†é€»è¾‘</li>
<li>æŒæ¡å¾ªç¯ä¸åˆ†æ”¯çš„æ‰§è¡Œç»†èŠ‚</li>
<li>å­¦ä¹ æ•°æ®ç»“æ„å’Œå¼•ç”¨æ¨¡å‹</li>
</ul>
<p>å®ƒå¹¶ä¸æ˜¯è°ƒè¯•å¤§å‹é¡¹ç›®çš„å·¥å…·ï¼Œè€Œæ˜¯å¸®åŠ©å»ºç«‹æ­£ç¡®æ‰§è¡Œè®¤çŸ¥çš„å­¦ä¹ è¾…åŠ©å·¥å…·ã€‚</p>
<hr/>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>PythonTutor é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼ï¼ŒæŠŠéšè—åœ¨è¿è¡Œæ—¶å†…éƒ¨çš„æ‰§è¡Œè¿‡ç¨‹å®Œæ•´å‘ˆç°å‡ºæ¥ã€‚æ— è®ºæ˜¯é“¾è¡¨ã€å¼‚å¸¸å¤„ç†ã€åˆ†æ”¯åˆ¤æ–­è¿˜æ˜¯å¾ªç¯æ§åˆ¶ï¼Œéƒ½å¯ä»¥é€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼è¢«æ¸…æ™°ç†è§£ï¼Œæ˜¯å­¦ä¹ å’Œæ•™å­¦ä¸­éå¸¸æœ‰ä»·å€¼çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-10">æ‰©å±•</h3>
<p>IDEA æ’ä»¶ç¤¾åŒºé‡Œæœ‰ä¸€ä¸ªæ’ä»¶<code>Java Visualizer</code>å¯ä»¥åœ¨ IDEA é‡Œè°ƒè¯•æ—¶ä½¿ç”¨ç±»ä¼¼çš„æ•ˆæœï¼Œå•åªèƒ½ä¸‹ä¸€æ­¥ï¼Œä¸èƒ½å¾€å›èµ°ï¼Œéå¸¸å¥½ç”¨ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3345f9fcf3014fa3b4f0cad9211466c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcGU3ZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769847968&amp;x-signature=TU%2FOMtKSZ73XRM1yia3E%2FCjljNM%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥æµ…å‡ºå“ˆå¸Œè¡¨ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7598587406695219243</link>    <guid>https://juejin.cn/post/7598587406695219243</guid>    <pubDate>2026-01-24T06:40:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598587406695219243" data-draft-id="7598587406695202859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥æµ…å‡ºå“ˆå¸Œè¡¨ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="JavaScript,åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-24T06:40:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥æµ…å‡ºå“ˆå¸Œè¡¨ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T06:40:16.000Z" title="Sat Jan 24 2026 06:40:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥æµ…å‡ºå“ˆå¸Œè¡¨ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨</h2>
<p>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰æ˜¯ç¼–ç¨‹ä¸­æœ€å¸¸ç”¨çš„é«˜æ•ˆæ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œå‡ ä¹æ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„æ ‡å‡†åº“éƒ½æä¾›äº†å“ˆå¸Œè¡¨çš„å®ç°ï¼ˆå¦‚ JavaScript çš„ <code>Map</code>/<code>Object</code>ã€Java çš„ <code>HashMap</code>ã€Python çš„ <code>dict</code>ï¼‰ã€‚å®ƒä»¥ <strong>O(1) å¹³å‡æ—¶é—´å¤æ‚åº¦</strong> æ”¯æŒå¢åˆ æŸ¥æ”¹æ“ä½œï¼Œæ˜¯è§£å†³â€œå¿«é€Ÿé”®å€¼æ˜ å°„â€é—®é¢˜çš„é¦–é€‰æ–¹æ¡ˆã€‚æœ¬æ–‡å°†ä»åº•å±‚åŸç†å‡ºå‘ï¼Œæ‹†è§£å“ˆå¸Œè¡¨çš„æ ¸å¿ƒè®¾è®¡ï¼Œå®ç°ä¸¤ç§è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ¡ˆï¼Œå¹¶ç»“åˆå®æˆ˜æ¡ˆä¾‹ï¼ˆ<code>RandomizedCollection</code>ï¼‰å±•ç¤ºå“ˆå¸Œè¡¨çš„çµæ´»åº”ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2307833f58b9407cbba184df472e24a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aKc6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769841632&amp;x-signature=0p6nyNRilNjHLjWkMG6pjm%2FO17Q%3D" alt="hash_x.png" loading="lazy"/></p>
<h3 data-id="heading-1">ä¸€ã€å“ˆå¸Œè¡¨çš„æ ¸å¿ƒåŸç†ï¼šæ•°ç»„+å“ˆå¸Œå‡½æ•°</h3>
<p>å“ˆå¸Œè¡¨çš„æœ¬è´¨æ˜¯<strong>ç”¨æ•°ç»„å®ç°çš„é”®å€¼æ˜ å°„</strong>â€”â€”é€šè¿‡ä¸€ä¸ªâ€œå“ˆå¸Œå‡½æ•°â€å°†ä»»æ„ç±»å‹çš„ <code>key</code> è½¬åŒ–ä¸ºæ•°ç»„çš„åˆæ³•ç´¢å¼•ï¼Œä»è€Œå€ŸåŠ©æ•°ç»„ O(1) çš„éšæœºè®¿é—®ç‰¹æ€§å®ç°é«˜æ•ˆæ“ä½œã€‚</p>
<h4 data-id="heading-2">1.1 åŸºæœ¬ç»“æ„ï¼ˆä¼ªä»£ç ï¼‰</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyHashMap</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// åº•å±‚å­˜å‚¨æ•°ç»„</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-comment">// å¢/æ”¹ï¼škeyâ†’ç´¢å¼•â†’æ•°ç»„èµ‹å€¼</span>
    <span class="hljs-title function_">put</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = value;
    }

    <span class="hljs-comment">// æŸ¥ï¼škeyâ†’ç´¢å¼•â†’æ•°ç»„å–å€¼</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index];
    }

    <span class="hljs-comment">// åˆ ï¼škeyâ†’ç´¢å¼•â†’æ•°ç»„ç½®ç©º</span>
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// æ ¸å¿ƒï¼šå“ˆå¸Œå‡½æ•°ï¼ˆkeyâ†’åˆæ³•ç´¢å¼•ï¼‰</span>
    <span class="hljs-title function_">hash</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-comment">// 1. è®¡ç®—keyçš„å“ˆå¸Œå€¼ï¼ˆä¿è¯ç›¸åŒkeyè¿”å›ç›¸åŒå€¼ï¼‰</span>
        <span class="hljs-keyword">let</span> h = key.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>);
        <span class="hljs-comment">// 2. ä¿è¯å“ˆå¸Œå€¼éè´Ÿï¼ˆä½è¿ç®—æ•ˆç‡é«˜äºç®—æœ¯è¿ç®—ï¼‰</span>
        h = h &amp; <span class="hljs-number">0x7fffffff</span>;
        <span class="hljs-comment">// 3. æ˜ å°„åˆ°æ•°ç»„åˆæ³•ç´¢å¼•ï¼ˆå–æ¨¡ï¼‰</span>
        <span class="hljs-keyword">return</span> h % <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>.<span class="hljs-property">length</span>;
    }
}
</code></pre>
<h4 data-id="heading-3">1.2 å“ˆå¸Œå‡½æ•°çš„æ ¸å¿ƒè¦æ±‚</h4>
<p>å“ˆå¸Œå‡½æ•°æ˜¯å“ˆå¸Œè¡¨çš„â€œçµé­‚â€ï¼Œå¿…é¡»æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼š</p>
<ol>
<li>
<p><strong>ç¡®å®šæ€§</strong>ï¼šç›¸åŒ <code>key</code> å¿…é¡»è¿”å›ç›¸åŒç´¢å¼•ï¼›</p>
</li>
<li>
<p><strong>é«˜æ•ˆæ€§</strong>ï¼šè®¡ç®—å¤æ‚åº¦ä¸º O(1)ï¼ˆå¦åˆ™å“ˆå¸Œè¡¨æ•´ä½“æ€§èƒ½é€€åŒ–ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å‡åŒ€æ€§</strong>ï¼šå°½å¯èƒ½è®©ä¸åŒ <code>key</code> æ˜ å°„åˆ°ä¸åŒç´¢å¼•ï¼ˆå‡å°‘å†²çªï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">äºŒã€å“ˆå¸Œå†²çªï¼šä¸å¯é¿å…çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p>ç”±äºå“ˆå¸Œå‡½æ•°æ˜¯â€œæ— ç©·ç©ºé—´â†’æœ‰é™ç©ºé—´â€çš„æ˜ å°„ï¼Œ<strong>å“ˆå¸Œå†²çª</strong>ï¼ˆä¸åŒ <code>key</code> æ˜ å°„åˆ°åŒä¸€ç´¢å¼•ï¼‰æ˜¯å¿…ç„¶å­˜åœ¨çš„ã€‚è§£å†³å†²çªçš„æ ¸å¿ƒæ–¹æ¡ˆæœ‰ä¸¤ç§ï¼š<strong>æ‹‰é“¾æ³•</strong>ï¼ˆä¸»æµï¼‰å’Œ <strong>çº¿æ€§æ¢æŸ¥æ³•</strong>ã€‚</p>
<h4 data-id="heading-5">2.1 æ‹‰é“¾æ³•ï¼šæ•°ç»„+é“¾è¡¨ï¼ˆç®€å•æ˜“å®ç°ï¼‰</h4>
<h5 data-id="heading-6">æ ¸å¿ƒæ€è·¯</h5>
<p>æ•°ç»„çš„æ¯ä¸ªä½ç½®å­˜å‚¨ä¸€ä¸ª<strong>é“¾è¡¨</strong>ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œå°†å†²çªçš„é”®å€¼å¯¹è¿½åŠ åˆ°é“¾è¡¨å°¾éƒ¨ã€‚</p>
<ul>
<li>
<p>å¢åˆ æŸ¥æ”¹ï¼šå…ˆé€šè¿‡å“ˆå¸Œå‡½æ•°æ‰¾åˆ°æ•°ç»„ç´¢å¼•ï¼Œå†æ“ä½œå¯¹åº”é“¾è¡¨ï¼›</p>
</li>
<li>
<p>ä¼˜åŠ¿ï¼šå®ç°ç®€å•ã€æ”¯æŒé«˜è´Ÿè½½å› å­ï¼ˆé“¾è¡¨å¯æ— é™å»¶ä¼¸ï¼‰ï¼›</p>
</li>
<li>
<p>åŠ£åŠ¿ï¼šé“¾è¡¨éå†æœ‰è½»å¾®æ€§èƒ½æŸè€—ï¼ˆä½†å¹³å‡ä»ä¸º O(1)ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-7">å®Œæ•´å®ç°ï¼ˆJavaScriptï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">// é“¾è¡¨èŠ‚ç‚¹ï¼šå­˜å‚¨key-value</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HashNode</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HashTableChaining</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">capacity = <span class="hljs-number">10</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> = capacity; <span class="hljs-comment">// æ•°ç»„åˆå§‹å®¹é‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// å®é™…å­˜å‚¨çš„é”®å€¼å¯¹æ•°é‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadFactor</span> = <span class="hljs-number">0.75</span>; <span class="hljs-comment">// è´Ÿè½½å› å­ï¼ˆè§¦å‘æ‰©å®¹çš„é˜ˆå€¼ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(capacity).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">// åº•å±‚æ•°ç»„</span>
    }

    <span class="hljs-comment">// å“ˆå¸Œå‡½æ•°ï¼škeyâ†’ç´¢å¼•</span>
    <span class="hljs-title function_">hash</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">let</span> h = <span class="hljs-keyword">typeof</span> key === <span class="hljs-string">'number'</span> ? key : key.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>);
        h = h &amp; <span class="hljs-number">0x7fffffff</span>; <span class="hljs-comment">// ä¿è¯éè´Ÿ</span>
        <span class="hljs-keyword">return</span> h % <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>;
    }

    <span class="hljs-comment">// æ‰©å®¹ï¼šè§£å†³å“ˆå¸Œå†²çªé¢‘ç¹çš„é—®é¢˜</span>
    <span class="hljs-title function_">resize</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> oldTable = <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> *= <span class="hljs-number">2</span>; <span class="hljs-comment">// å®¹é‡ç¿»å€</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;

        <span class="hljs-comment">// é‡æ–°å“ˆå¸Œå¹¶è¿ç§»æ•°æ®</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> node <span class="hljs-keyword">of</span> oldTable) {
            <span class="hljs-keyword">while</span> (node) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">put</span>(node.<span class="hljs-property">key</span>, node.<span class="hljs-property">val</span>);
                node = node.<span class="hljs-property">next</span>;
            }
        }
    }

    <span class="hljs-comment">// å¢/æ”¹</span>
    <span class="hljs-title function_">put</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-comment">// è¾¾åˆ°è´Ÿè½½å› å­ï¼Œå…ˆæ‰©å®¹</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadFactor</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resize</span>();
        }

        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-comment">// é“¾è¡¨ä¸ºç©ºï¼Œç›´æ¥æ–°å»ºèŠ‚ç‚¹</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index]) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashNode</span>(key, val);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// é“¾è¡¨éç©ºï¼šéå†æŸ¥æ‰¾ï¼ˆå­˜åœ¨åˆ™ä¿®æ”¹ï¼Œä¸å­˜åœ¨åˆ™è¿½åŠ ï¼‰</span>
        <span class="hljs-keyword">let</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index];
        <span class="hljs-keyword">while</span> (curr) {
            <span class="hljs-keyword">if</span> (curr.<span class="hljs-property">key</span> === key) {
                curr.<span class="hljs-property">val</span> = val; <span class="hljs-comment">// å­˜åœ¨ï¼Œä¿®æ”¹å€¼</span>
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (!curr.<span class="hljs-property">next</span>) {
                curr.<span class="hljs-property">next</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashNode</span>(key, val); <span class="hljs-comment">// ä¸å­˜åœ¨ï¼Œè¿½åŠ åˆ°å°¾éƒ¨</span>
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
                <span class="hljs-keyword">return</span>;
            }
            curr = curr.<span class="hljs-property">next</span>;
        }
    }

    <span class="hljs-comment">// æŸ¥</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-keyword">let</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index];
        <span class="hljs-keyword">while</span> (curr) {
            <span class="hljs-keyword">if</span> (curr.<span class="hljs-property">key</span> === key) {
                <span class="hljs-keyword">return</span> curr.<span class="hljs-property">val</span>;
            }
            curr = curr.<span class="hljs-property">next</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°</span>
    }

    <span class="hljs-comment">// åˆ </span>
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-keyword">let</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index];
        <span class="hljs-keyword">let</span> prev = <span class="hljs-literal">null</span>;

        <span class="hljs-keyword">while</span> (curr) {
            <span class="hljs-keyword">if</span> (curr.<span class="hljs-property">key</span> === key) {
                <span class="hljs-comment">// æ‰¾åˆ°èŠ‚ç‚¹ï¼šåˆ é™¤ï¼ˆåˆ†å¤´éƒ¨/ä¸­é—´èŠ‚ç‚¹ï¼‰</span>
                <span class="hljs-keyword">if</span> (prev) {
                    prev.<span class="hljs-property">next</span> = curr.<span class="hljs-property">next</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = curr.<span class="hljs-property">next</span>;
                }
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            prev = curr;
            curr = curr.<span class="hljs-property">next</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æœªæ‰¾åˆ°</span>
    }
}

<span class="hljs-comment">// æµ‹è¯•æ‹‰é“¾æ³•å“ˆå¸Œè¡¨</span>
<span class="hljs-keyword">const</span> ht = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashTableChaining</span>();
ht.<span class="hljs-title function_">put</span>(<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>);
ht.<span class="hljs-title function_">put</span>(<span class="hljs-string">"b"</span>, <span class="hljs-number">2</span>);
ht.<span class="hljs-title function_">put</span>(<span class="hljs-string">"c"</span>, <span class="hljs-number">3</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ht.<span class="hljs-title function_">get</span>(<span class="hljs-string">"a"</span>)); <span class="hljs-comment">// 1</span>
ht.<span class="hljs-title function_">remove</span>(<span class="hljs-string">"b"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ht.<span class="hljs-title function_">get</span>(<span class="hljs-string">"b"</span>)); <span class="hljs-comment">// null</span>
</code></pre>
<h4 data-id="heading-8">2.2 çº¿æ€§æ¢æŸ¥æ³•ï¼šå¼€æ”¾å¯»å€ï¼ˆå¤æ‚ä½†æ— é“¾è¡¨å¼€é”€ï¼‰</h4>
<h5 data-id="heading-9">æ ¸å¿ƒæ€è·¯</h5>
<p>ä¸ä½¿ç”¨é“¾è¡¨ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œ<strong>å‘åéå†æ•°ç»„æ‰¾ç©ºä½</strong>ï¼ˆåˆ°æ•°ç»„æœ«å°¾åˆ™ç»•å›å¤´éƒ¨ï¼‰ï¼š</p>
<ul>
<li>
<p>æ’å…¥ï¼šæ‰¾åˆ°ç©ºä½åç›´æ¥å­˜å…¥ï¼›</p>
</li>
<li>
<p>æŸ¥è¯¢ï¼šä»å“ˆå¸Œç´¢å¼•å¼€å§‹éå†ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ–ç©ºä½ï¼›</p>
</li>
<li>
<p>åˆ é™¤ï¼šä¸èƒ½ç›´æ¥ç½®ç©ºï¼ˆä¼šä¸­æ–­æŸ¥è¯¢ï¼‰ï¼Œéœ€ç”¨<strong>å ä½ç¬¦</strong>æ ‡è®°ï¼ˆå¦‚ <code>DELETED</code>ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-10">å…³é”®éš¾ç‚¹</h5>
<ol>
<li>
<p><strong>ç¯å½¢æ•°ç»„</strong>ï¼šéå†åˆ°æ•°ç»„æœ«å°¾æ—¶éœ€ç»•å›å¤´éƒ¨ï¼›</p>
</li>
<li>
<p><strong>åˆ é™¤é€»è¾‘</strong>ï¼šç”¨å ä½ç¬¦æ›¿ä»£ç›´æ¥ç½®ç©ºï¼Œé¿å…æŸ¥è¯¢ä¸­æ–­ã€‚</p>
</li>
</ol>
<h5 data-id="heading-11">å®Œæ•´å®ç°ï¼ˆJavaScriptï¼‰</h5>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HashTableProbing</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">capacity = <span class="hljs-number">10</span></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> = capacity;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadFactor</span> = <span class="hljs-number">0.75</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(capacity).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'deleted'</span>); <span class="hljs-comment">// å ä½ç¬¦ï¼šæ ‡è®°å·²åˆ é™¤</span>
    }

    <span class="hljs-comment">// å“ˆå¸Œå‡½æ•°</span>
    <span class="hljs-title function_">hash</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">let</span> h = <span class="hljs-keyword">typeof</span> key === <span class="hljs-string">'number'</span> ? key : key.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>);
        h = h &amp; <span class="hljs-number">0x7fffffff</span>;
        <span class="hljs-keyword">return</span> h % <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>;
    }

    <span class="hljs-comment">// æ‰©å®¹</span>
    <span class="hljs-title function_">resize</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> oldTable = <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> *= <span class="hljs-number">2</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;

        <span class="hljs-comment">// è¿ç§»æ•°æ®ï¼ˆè·³è¿‡å ä½ç¬¦ï¼‰</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> oldTable) {
            <span class="hljs-keyword">if</span> (entry &amp;&amp; entry !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">put</span>(entry.<span class="hljs-property">key</span>, entry.<span class="hljs-property">val</span>);
            }
        }
    }

    <span class="hljs-comment">// æŸ¥æ‰¾keyçš„ç´¢å¼•ï¼ˆæ ¸å¿ƒï¼šå¤„ç†å†²çª+å ä½ç¬¦ï¼‰</span>
    <span class="hljs-title function_">findIndex</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">let</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hash</span>(key);
        <span class="hljs-keyword">let</span> start = index;

        <span class="hljs-comment">// ç¯å½¢éå†ï¼šç›´åˆ°æ‰¾åˆ°ç›®æ ‡/ç©ºä½/éå†å®Œ</span>
        <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] !== <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// æ‰¾åˆ°ç›®æ ‡key</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index].<span class="hljs-property">key</span> === key) {
                <span class="hljs-keyword">return</span> index;
            }
            <span class="hljs-comment">// ç»•å›å¤´éƒ¨</span>
            index = (index + <span class="hljs-number">1</span>) % <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>;
            <span class="hljs-comment">// éå†å®Œä¸€åœˆä»æœªæ‰¾åˆ°</span>
            <span class="hljs-keyword">if</span> (index === start) {
                <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
            }
        }
        <span class="hljs-keyword">return</span> index; <span class="hljs-comment">// è¿”å›ç©ºä½ç´¢å¼•</span>
    }

    <span class="hljs-comment">// å¢/æ”¹</span>
    <span class="hljs-title function_">put</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">loadFactor</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resize</span>();
        }

        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">findIndex</span>(key);
        <span class="hljs-comment">// æœªæ‰¾åˆ°ï¼šæ’å…¥æ–°å€¼</span>
        <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-literal">null</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = { key, val };
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>++;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// æ‰¾åˆ°ï¼šä¿®æ”¹å€¼</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index].<span class="hljs-property">val</span> = val;
    }

    <span class="hljs-comment">// æŸ¥</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">findIndex</span>(key);
        <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-literal">null</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index].<span class="hljs-property">val</span>;
    }

    <span class="hljs-comment">// åˆ ï¼šç”¨å ä½ç¬¦æ ‡è®°</span>
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">findIndex</span>(key);
        <span class="hljs-keyword">if</span> (index === -<span class="hljs-number">1</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-literal">null</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] === <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">table</span>[index] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">DELETED</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span>--;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}

<span class="hljs-comment">// æµ‹è¯•çº¿æ€§æ¢æŸ¥æ³•å“ˆå¸Œè¡¨</span>
<span class="hljs-keyword">const</span> htProbe = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashTableProbing</span>();
htProbe.<span class="hljs-title function_">put</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
htProbe.<span class="hljs-title function_">put</span>(<span class="hljs-number">11</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// å“ˆå¸Œå†²çªï¼ˆ1%10=1ï¼Œ11%10=1ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(htProbe.<span class="hljs-title function_">get</span>(<span class="hljs-number">11</span>)); <span class="hljs-comment">// 20</span>
htProbe.<span class="hljs-title function_">remove</span>(<span class="hljs-number">1</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(htProbe.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// null</span>
</code></pre>
<h3 data-id="heading-12">ä¸‰ã€å“ˆå¸Œè¡¨çš„è¿›é˜¶ç‰¹æ€§</h3>
<h4 data-id="heading-13">3.1 è´Ÿè½½å› å­ä¸æ‰©å®¹</h4>
<p>è´Ÿè½½å› å­ = å·²å­˜å‚¨å…ƒç´ æ•° / æ•°ç»„å®¹é‡ï¼Œæ˜¯å“ˆå¸Œè¡¨æ‰©å®¹çš„æ ¸å¿ƒä¾æ®ï¼ˆé€šå¸¸è®¾ä¸º 0.75ï¼‰ï¼š</p>
<ul>
<li>
<p>è´Ÿè½½å› å­è¿‡é«˜ï¼šå“ˆå¸Œå†²çªé¢‘ç¹ï¼Œæ€§èƒ½é€€åŒ–ï¼›</p>
</li>
<li>
<p>è´Ÿè½½å› å­è¿‡ä½ï¼šæ•°ç»„ç©ºé—´æµªè´¹ï¼›</p>
</li>
<li>
<p>æ‰©å®¹é€»è¾‘ï¼šå®¹é‡ç¿»å€ï¼Œé‡æ–°å“ˆå¸Œå¹¶è¿ç§»æ‰€æœ‰æ•°æ®ï¼ˆä¿è¯åç»­å†²çªå‡å°‘ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-14">3.2 æœ‰åºå“ˆå¸Œè¡¨ï¼šå“ˆå¸Œé“¾è¡¨ï¼ˆLinkedHashMapï¼‰</h4>
<p>æ ‡å‡†å“ˆå¸Œè¡¨çš„éå†é¡ºåºæ˜¯æ— åºçš„ï¼Œè‹¥éœ€ä¿ç•™æ’å…¥é¡ºåºï¼Œå¯ç»“åˆ<strong>å“ˆå¸Œè¡¨+åŒå‘é“¾è¡¨</strong>å®ç°ï¼š</p>
<ul>
<li>
<p>å“ˆå¸Œè¡¨ï¼šå¿«é€ŸæŸ¥æ‰¾èŠ‚ç‚¹ï¼ˆO(1)ï¼‰ï¼›</p>
</li>
<li>
<p>åŒå‘é“¾è¡¨ï¼šç»´æŠ¤æ’å…¥é¡ºåºï¼ˆåˆ é™¤èŠ‚ç‚¹ O(1)ï¼‰ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">
<span class="hljs-comment">// åŒå‘é“¾è¡¨èŠ‚ç‚¹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedNode</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">prev</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedHashMap</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å“¨å…µèŠ‚ç‚¹ï¼šç®€åŒ–é“¾è¡¨æ“ä½œ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>.<span class="hljs-property">next</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>.<span class="hljs-property">prev</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// å“ˆå¸Œè¡¨ï¼škeyâ†’èŠ‚ç‚¹</span>
    }

    <span class="hljs-comment">// æ–°å¢èŠ‚ç‚¹åˆ°é“¾è¡¨å°¾éƒ¨</span>
    <span class="hljs-title function_">addLast</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> prev = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>.<span class="hljs-property">prev</span>;
        prev.<span class="hljs-property">next</span> = node;
        node.<span class="hljs-property">prev</span> = prev;
        node.<span class="hljs-property">next</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>.<span class="hljs-property">prev</span> = node;
    }

    <span class="hljs-comment">// ç§»é™¤é“¾è¡¨èŠ‚ç‚¹</span>
    <span class="hljs-title function_">removeNode</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> prev = node.<span class="hljs-property">prev</span>;
        <span class="hljs-keyword">const</span> next = node.<span class="hljs-property">next</span>;
        prev.<span class="hljs-property">next</span> = next;
        next.<span class="hljs-property">prev</span> = prev;
    }

    <span class="hljs-comment">// å¢/æ”¹</span>
    <span class="hljs-title function_">put</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key);
            node.<span class="hljs-property">val</span> = val;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">const</span> newNode = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedNode</span>(key, val);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addLast</span>(newNode);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">set</span>(key, newNode);
    }

    <span class="hljs-comment">// æŸ¥</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key) ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key).<span class="hljs-property">val</span> : <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// åˆ </span>
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key)) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeNode</span>(node);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">delete</span>(key);
    }

    <span class="hljs-comment">// æŒ‰æ’å…¥é¡ºåºéå†key</span>
    <span class="hljs-title function_">keys</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> res = [];
        <span class="hljs-keyword">let</span> curr = <span class="hljs-variable language_">this</span>.<span class="hljs-property">head</span>.<span class="hljs-property">next</span>;
        <span class="hljs-keyword">while</span> (curr !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">tail</span>) {
            res.<span class="hljs-title function_">push</span>(curr.<span class="hljs-property">key</span>);
            curr = curr.<span class="hljs-property">next</span>;
        }
        <span class="hljs-keyword">return</span> res;
    }
}

<span class="hljs-comment">// æµ‹è¯•æœ‰åºå“ˆå¸Œè¡¨</span>
<span class="hljs-keyword">const</span> lhm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>();
lhm.<span class="hljs-title function_">put</span>(<span class="hljs-string">"a"</span>, <span class="hljs-number">1</span>);
lhm.<span class="hljs-title function_">put</span>(<span class="hljs-string">"b"</span>, <span class="hljs-number">2</span>);
lhm.<span class="hljs-title function_">put</span>(<span class="hljs-string">"c"</span>, <span class="hljs-number">3</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lhm.<span class="hljs-title function_">keys</span>()); <span class="hljs-comment">// ["a", "b", "c"]</span>
lhm.<span class="hljs-title function_">remove</span>(<span class="hljs-string">"b"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lhm.<span class="hljs-title function_">keys</span>()); <span class="hljs-comment">// ["a", "c"]</span>
</code></pre>
<h4 data-id="heading-15">3.3 æ”¯æŒéšæœºè®¿é—®çš„å“ˆå¸Œè¡¨</h4>
<p>è‹¥éœ€å“ˆå¸Œè¡¨æ”¯æŒâ€œéšæœºè¿”å›é”®â€ä¸”<strong>å…ƒç´ ä¸é‡å¤</strong>ï¼ˆå¦‚ <code>MyArrayHashMap</code>ï¼‰ï¼Œå¯ç»“åˆ<strong>æ•°ç»„+å“ˆå¸Œè¡¨</strong>å®ç°ï¼Œæ ¸å¿ƒæ˜¯ç”¨æ•°ç»„å­˜å‚¨é”®å€¼å¯¹ã€å“ˆå¸Œè¡¨æ˜ å°„é”®ä¸ä¸‹æ ‡ï¼Œå…¼é¡¾ O(1) å¢åˆ æŸ¥ä¸éšæœºè®¿é—®ã€‚</p>
<ul>
<li>
<p>æ•°ç»„ï¼šå­˜å‚¨ <code>Node</code> å®ä¾‹ï¼ˆå« key å’Œ valï¼‰ï¼Œæ”¯æŒ O(1) éšæœºè®¿é—®ï¼Œä¿è¯éšæœºè¿”å›é”®çš„ç­‰æ¦‚ç‡æ€§ï¼›</p>
</li>
<li>
<p>å“ˆå¸Œè¡¨ï¼škeyâ†’å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼ˆä¸€ä¸€å¯¹åº”ï¼Œå› å…ƒç´ ä¸é‡å¤ï¼‰ï¼Œæ”¯æŒ O(1) å®šä½å…ƒç´ ï¼Œè§„é¿æ•°ç»„éå†å¼€é”€ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">

<span class="hljs-comment">// é”®å€¼å¯¹èŠ‚ç‚¹ï¼šå°è£…keyå’Œval</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArrayHashMap</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å“ˆå¸Œè¡¨ï¼šå­˜å‚¨keyä¸å¯¹åº”åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå®ç°O(1)å®šä½</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-comment">// æ•°ç»„ï¼šå­˜å‚¨Nodeå®ä¾‹ï¼Œæ”¯æŒO(1)éšæœºè®¿é—®</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span> = [];
    }

    <span class="hljs-comment">/**
     * æŒ‰keyæŸ¥è¯¢å€¼
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} <span class="hljs-variable">key</span> - è¦æŸ¥è¯¢çš„é”®
     * <span class="hljs-doctag">@return</span> {<span class="hljs-type">*</span>} å¯¹åº”çš„å€¼ï¼ˆä¸å­˜åœ¨è¿”å›nullï¼‰
     */</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-comment">// å“ˆå¸Œè¡¨å–ä¸‹æ ‡ï¼Œæ•°ç»„ç›´æ¥è®¿é—®</span>
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key)].<span class="hljs-property">val</span>;
    }

    <span class="hljs-comment">/**
     * å¢/æ”¹é”®å€¼å¯¹ï¼ˆå…ƒç´ ä¸é‡å¤ï¼Œå·²å­˜åœ¨åˆ™ä¿®æ”¹å€¼ï¼‰
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} <span class="hljs-variable">key</span> - é”®
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} <span class="hljs-variable">val</span> - å€¼
     */</span>
    <span class="hljs-title function_">put</span>(<span class="hljs-params">key, val</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">containsKey</span>(key)) {
            <span class="hljs-comment">// å·²å­˜åœ¨ï¼šé€šè¿‡ä¸‹æ ‡ä¿®æ”¹å¯¹åº”èŠ‚ç‚¹çš„å€¼</span>
            <span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key);
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[i].<span class="hljs-property">val</span> = val;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// æ–°å¢ï¼šæ•°ç»„å°¾éƒ¨æ·»åŠ èŠ‚ç‚¹ï¼Œå“ˆå¸Œè¡¨è®°å½•ä¸‹æ ‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(key, val));
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">set</span>(key, <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);
    }

    <span class="hljs-comment">/**
     * æŒ‰keyåˆ é™¤é”®å€¼å¯¹
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} <span class="hljs-variable">key</span> - è¦åˆ é™¤çš„é”®
     */</span>
    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">get</span>(key); <span class="hljs-comment">// å¾…åˆ é™¤å…ƒç´ ä¸‹æ ‡</span>
        <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[index]; <span class="hljs-comment">// å¾…åˆ é™¤èŠ‚ç‚¹</span>
        <span class="hljs-keyword">const</span> lastIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">const</span> lastNode = <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[lastIndex]; <span class="hljs-comment">// æ•°ç»„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span>

        <span class="hljs-comment">// 1. äº¤æ¢å¾…åˆ é™¤èŠ‚ç‚¹ä¸æœ€åä¸€ä¸ªèŠ‚ç‚¹ä½ç½®ï¼ˆé¿å…æ•°ç»„ç§»ä½ï¼Œä¿è¯O(1)ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[index] = lastNode;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[lastIndex] = node;

        <span class="hljs-comment">// 2. æ›´æ–°æœ€åä¸€ä¸ªèŠ‚ç‚¹åœ¨å“ˆå¸Œè¡¨ä¸­çš„ä¸‹æ ‡æ˜ å°„</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">set</span>(lastNode.<span class="hljs-property">key</span>, index);

        <span class="hljs-comment">// 3. æ•°ç»„åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆO(1)æ“ä½œï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-title function_">pop</span>();

        <span class="hljs-comment">// 4. å“ˆå¸Œè¡¨åˆ é™¤å¾…åˆ é™¤èŠ‚ç‚¹çš„key</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">delete</span>(node.<span class="hljs-property">key</span>);
    }

    <span class="hljs-comment">/**
     * éšæœºè¿”å›ä¸€ä¸ªé”®ï¼ˆç­‰æ¦‚ç‡ï¼‰
     * <span class="hljs-doctag">@return</span> {<span class="hljs-type">*</span>} éšæœºé”®
     */</span>
    <span class="hljs-title function_">randomKey</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> n = <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// è¾¹ç•Œå¤„ç†ï¼šç©ºè¡¨è¿”å›null</span>
        <span class="hljs-keyword">const</span> randomIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * n);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">arr</span>[randomIndex].<span class="hljs-property">key</span>;
    }

    <span class="hljs-comment">/**
     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨
     * <span class="hljs-doctag">@param</span> {<span class="hljs-type">*</span>} <span class="hljs-variable">key</span> - è¦åˆ¤æ–­çš„é”®
     * <span class="hljs-doctag">@return</span> {<span class="hljs-type">boolean</span>} å­˜åœ¨è¿”å›trueï¼Œå¦åˆ™false
     */</span>
    <span class="hljs-title function_">containsKey</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">has</span>(key);
    }

    <span class="hljs-comment">/**
     * è·å–é”®å€¼å¯¹æ•°é‡
     * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>} æ•°é‡
     */</span>
    <span class="hljs-title function_">size</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-property">size</span>;
    }
}

<span class="hljs-comment">// æµ‹è¯•ï¼ˆéªŒè¯ä¸é‡å¤ç‰¹æ€§ã€å¢åˆ æŸ¥åŠéšæœºè®¿é—®ï¼‰</span>
<span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyArrayHashMap</span>();
map.<span class="hljs-title function_">put</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
map.<span class="hljs-title function_">put</span>(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>);
map.<span class="hljs-title function_">put</span>(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>);
map.<span class="hljs-title function_">put</span>(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>);
map.<span class="hljs-title function_">put</span>(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// 1ï¼ˆæŸ¥è¯¢æ­£å¸¸ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">randomKey</span>()); <span class="hljs-comment">// éšæœºè¿”å›1-5ä¸­çš„ä¸€ä¸ªé”®</span>

map.<span class="hljs-title function_">remove</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// åˆ é™¤key=4çš„é”®å€¼å¯¹</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">randomKey</span>()); <span class="hljs-comment">// éšæœºè¿”å›1-3ã€5ä¸­çš„ä¸€ä¸ªé”®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">randomKey</span>()); <span class="hljs-comment">// å†æ¬¡éšæœºï¼Œæ— é‡å¤å…ƒç´ å¹²æ‰°</span>

</code></pre>
<h3 data-id="heading-16">å››ã€å“ˆå¸Œè¡¨çš„å…³é”®æ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-17">4.1 ä¸è¦æ··æ·†â€œMapæ¥å£â€å’Œâ€œHashMapå®ç°â€</h4>
<ul>
<li>
<p><code>Map</code> æ˜¯æ¥å£ï¼ˆæŠ½è±¡å®šä¹‰ï¼‰ï¼Œä¸ä¿è¯æ—¶é—´å¤æ‚åº¦ï¼›</p>
</li>
<li>
<p><code>HashMap</code> æ˜¯å®ç°ï¼ˆå“ˆå¸Œè¡¨ï¼‰ï¼Œå¹³å‡ O(1)ï¼›<code>TreeMap</code> æ˜¯å®ç°ï¼ˆçº¢é»‘æ ‘ï¼‰ï¼ŒO(logN)ã€‚</p>
</li>
</ul>
<h4 data-id="heading-18">4.2 keyå¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹</h4>
<p>è‹¥ key æ˜¯å¯å˜ç±»å‹ï¼ˆå¦‚æ•°ç»„ã€å¯¹è±¡ï¼‰ï¼Œä¿®æ”¹åå“ˆå¸Œå€¼ä¼šå˜åŒ–ï¼Œå¯¼è‡´æ— æ³•æ‰¾åˆ°åŸæ•°æ®ï¼Œç”šè‡³å†…å­˜æ³„æ¼ã€‚</p>
<h4 data-id="heading-19">4.3 æ‹‰é“¾æ³• vs çº¿æ€§æ¢æŸ¥æ³•</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>æ‹‰é“¾æ³•</th><th>çº¿æ€§æ¢æŸ¥æ³•</th></tr></thead><tbody><tr><td>å®ç°éš¾åº¦</td><td>ç®€å•</td><td>å¤æ‚ï¼ˆéœ€å¤„ç†ç¯å½¢/å ä½ç¬¦ï¼‰</td></tr><tr><td>è´Ÿè½½å› å­</td><td>æ— ä¸Šé™ï¼ˆé“¾è¡¨å¯å»¶ä¼¸ï¼‰</td><td>é€šå¸¸â‰¤0.75ï¼ˆå¦åˆ™æ€§èƒ½å·®ï¼‰</td></tr><tr><td>æ€§èƒ½</td><td>å¹³å‡O(1)ï¼ˆé“¾è¡¨éå†ï¼‰</td><td>å¹³å‡O(1)ï¼ˆç¼“å­˜å‹å¥½ï¼‰</td></tr><tr><td>ç©ºé—´åˆ©ç”¨ç‡</td><td>è¾ƒä½ï¼ˆé“¾è¡¨èŠ‚ç‚¹å¼€é”€ï¼‰</td><td>è¾ƒé«˜ï¼ˆæ— é¢å¤–èŠ‚ç‚¹ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-20">äº”ã€æ€»ç»“</h3>
<p>å“ˆå¸Œè¡¨çš„æ ¸å¿ƒæ˜¯â€œæ•°ç»„+å“ˆå¸Œå‡½æ•°â€ï¼Œè§£å†³å†²çªçš„ä¸¤å¤§æ–¹æ¡ˆå„æœ‰ä¼˜åŠ£ï¼ˆæ‹‰é“¾æ³•æ˜¯ä¸»æµï¼‰ã€‚å®é™…å¼€å‘ä¸­ï¼Œéœ€æ ¹æ®åœºæ™¯é€‰æ‹©ä¸åŒçš„å“ˆå¸Œè¡¨å˜ä½“ï¼š</p>
<ul>
<li>
<p>æ™®é€šé”®å€¼æ˜ å°„ï¼šç”¨æ ‡å‡†å“ˆå¸Œè¡¨ï¼ˆå¦‚ <code>Map</code>ï¼‰ï¼›</p>
</li>
<li>
<p>æœ‰åºéå†ï¼šç”¨å“ˆå¸Œé“¾è¡¨ï¼ˆLinkedHashMapï¼‰ï¼›</p>
</li>
<li>
<p>éšæœºè®¿é—®+å…ƒç´ ä¸é‡å¤ï¼šç”¨æ•°ç»„+æ™®é€šå“ˆå¸Œè¡¨ç»„åˆï¼ˆå¦‚ ArrayHashMapï¼‰ï¼Œé€šè¿‡èŠ‚ç‚¹äº¤æ¢å®ç°O(1)åˆ é™¤ï¼›</p>
</li>
<li>
<p>é«˜æ€§èƒ½åœºæ™¯ï¼šä¼˜å…ˆé€‰æ‹©æ‹‰é“¾æ³•ï¼ˆå®ç°ç®€å•ã€ä¸æ˜“å‡ºé”™ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-21">å…­ã€ç»ƒä¹ </h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Finsert-delete-getrandom-o1%2F" target="_blank" title="https://leetcode.cn/problems/insert-delete-getrandom-o1/" ref="nofollow noopener noreferrer">380. O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fleetcode.cn%2Fproblems%2Finsert-delete-getrandom-o1-duplicates-allowed%2F" target="_blank" title="https://leetcode.cn/problems/insert-delete-getrandom-o1-duplicates-allowed/" ref="nofollow noopener noreferrer">381. O(1) æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´  - å…è®¸é‡å¤</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œæ—¥å¿—æŠ“ä¸åˆ°â€åˆ°â€œå…¨é“¾è·¯å¯è¿½æº¯â€ï¼šä¸€æ¬¡ Android ç³»ç»Ÿçº§æ—¥å¿—ä½“ç³»çš„å·¥ç¨‹åŒ–å®è·µ]]></title>    <link>https://juejin.cn/post/7598477092196614182</link>    <guid>https://juejin.cn/post/7598477092196614182</guid>    <pubDate>2026-01-24T06:17:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598477092196614182" data-draft-id="7598641282324447259" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œæ—¥å¿—æŠ“ä¸åˆ°â€åˆ°â€œå…¨é“¾è·¯å¯è¿½æº¯â€ï¼šä¸€æ¬¡ Android ç³»ç»Ÿçº§æ—¥å¿—ä½“ç³»çš„å·¥ç¨‹åŒ–å®è·µ"/> <meta itemprop="keywords" content="Android Studio"/> <meta itemprop="datePublished" content="2026-01-24T06:17:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·967124861426"/> <meta itemprop="url" content="https://juejin.cn/user/576557850035294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œæ—¥å¿—æŠ“ä¸åˆ°â€åˆ°â€œå…¨é“¾è·¯å¯è¿½æº¯â€ï¼šä¸€æ¬¡ Android ç³»ç»Ÿçº§æ—¥å¿—ä½“ç³»çš„å·¥ç¨‹åŒ–å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/576557850035294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·967124861426
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T06:17:38.000Z" title="Sat Jan 24 2026 06:17:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    34
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä»â€œæ—¥å¿—æŠ“ä¸åˆ°â€åˆ°â€œå…¨é“¾è·¯å¯è¿½æº¯â€ï¼šä¸€æ¬¡ Android ç³»ç»Ÿçº§æ—¥å¿—ä½“ç³»çš„å·¥ç¨‹åŒ–å®è·µ</strong></h2>
<blockquote>
<p><em>â€”â€”ä¸€ä¸ªé«˜çº§å·¥ç¨‹å¸ˆå¦‚ä½•æŠŠâ€œè¿ç»´ç—›ç‚¹â€è½åœ°æˆâ€œç³»ç»Ÿèƒ½åŠ›â€</em></p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬è¦â€œé‡æ–°é€ æ—¥å¿—ä½“ç³»â€ï¼Ÿ</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<p>âŒ <strong>é—®é¢˜éš¾å¤ç°</strong>ï¼šå®¢æˆ·ç°åœºå¶å‘é—®é¢˜ï¼Œå›ä¼ æ—¥å¿—ä¸å®Œæ•´</p>
</li>
<li>
<p>âŒ <strong>Kernel / Logcat / ç½‘ç»œæ—¥å¿—å‰²è£‚</strong>ï¼šä¿¡æ¯åˆ†æ•£ï¼Œæ— æ³•å…³è”åˆ†æ</p>
</li>
<li>
<p>âŒ <strong>æ—¥å¿—ä¸å¯æ§</strong>ï¼š</p>
<ul>
<li>ä¸€ç›´å¼€ â†’ å ç©ºé—´ã€å½±å“æ€§èƒ½</li>
<li>å…³äº† â†’ å‡ºé—®é¢˜æ²¡æ•°æ®</li>
</ul>
</li>
<li>
<p>âŒ <strong>tcpdump éœ€è¦äººå·¥ä»‹å…¥</strong>ï¼Œç°åœºæ“ä½œæˆæœ¬é«˜</p>
</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼š</p>
<blockquote>
<p>ä¸æ˜¯â€œæ—¥å¿—ä¸å¤Ÿå¤šâ€ï¼Œè€Œæ˜¯<strong>æ—¥å¿—ä½“ç³»ç¼ºä¹å·¥ç¨‹åŒ–è®¾è®¡</strong>ã€‚</p>
</blockquote>
<p>äºæ˜¯éœ€æ±‚å°±å˜æˆäº†ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>åœ¨ä¸å½±å“ç³»ç»Ÿç¨³å®šæ€§çš„å‰æä¸‹ï¼Œæ„å»ºä¸€å¥—å¯å¼€å…³ã€å¯è½®è½¬ã€å¯ç»Ÿä¸€ç®¡ç†çš„ç³»ç»Ÿçº§æ—¥å¿—é‡‡é›†æ–¹æ¡ˆã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">äºŒã€éœ€æ±‚æ‹†è§£ï¼šé«˜çº§å·¥ç¨‹å¸ˆæ˜¯å¦‚ä½•â€œæ‹†é—®é¢˜â€çš„ï¼Ÿ</h3>
<p>æˆ‘ä¹ æƒ¯æŠŠéœ€æ±‚æ‹†æˆ <strong>4 ä¸ªç»´åº¦</strong>ï¼š</p>
<h4 data-id="heading-3">1ï¸âƒ£ æ—¥å¿—ç±»å‹ç»´åº¦</h4>





















<table><thead><tr><th>ç±»å‹</th><th>ç›®çš„</th></tr></thead><tbody><tr><td>logcat</td><td>Framework / App é—®é¢˜</td></tr><tr><td>kernel</td><td>é©±åŠ¨ / åº•å±‚å¼‚å¸¸</td></tr><tr><td>tcpdump</td><td>ç½‘ç»œé—®é¢˜å®šä½</td></tr></tbody></table>
<h4 data-id="heading-4">2ï¸âƒ£ ç”Ÿå‘½å‘¨æœŸç»´åº¦</h4>
<ul>
<li>å¼€æœºæ˜¯å¦è‡ªåŠ¨å‡†å¤‡ç¯å¢ƒï¼Ÿ</li>
<li>æ˜¯å¦æ”¯æŒ <strong>è¿è¡ŒæœŸåŠ¨æ€å¼€å…³</strong>ï¼Ÿ</li>
<li>æ˜¯å¦éš reboot æ¸…ç†ï¼Ÿ</li>
</ul>
<h4 data-id="heading-5">3ï¸âƒ£ èµ„æºæ§åˆ¶ç»´åº¦</h4>
<ul>
<li>å•æ–‡ä»¶å¤§å°é™åˆ¶</li>
<li>æ–‡ä»¶æ•°é‡é™åˆ¶</li>
<li>tmpfs / data åˆ†å±‚ä½¿ç”¨</li>
</ul>
<h4 data-id="heading-6">4ï¸âƒ£ å¯è¿ç»´ç»´åº¦</h4>
<ul>
<li>Property æ§åˆ¶</li>
<li>æ— éœ€ adb ä»‹å…¥</li>
<li>å‡ºå‚é»˜è®¤å…³é—­ï¼Œé—®é¢˜æ—¶å¼€å¯</li>
</ul>
<blockquote>
<p><strong>é«˜çº§å·¥ç¨‹å¸ˆä¸ä¼šä¸€ä¸Šæ¥å†™ä»£ç ï¼Œè€Œæ˜¯å…ˆæŠŠâ€œç³»ç»Ÿè¡Œä¸ºâ€æƒ³æ¸…æ¥šã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€æ•´ä½“æ¶æ„è®¾è®¡ï¼šä¸æ˜¯è„šæœ¬ï¼Œè€Œæ˜¯â€œç³»ç»Ÿèƒ½åŠ›â€</h3>
<h4 data-id="heading-8">ğŸ§± æ¶æ„æ€»è§ˆ</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Android init â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ property trigger
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ logcatd<span class="hljs-selector-class">.rc</span>                     â”‚
â”‚                                â”‚
â”‚ â”œâ”€ logcatlog<span class="hljs-selector-class">.sh</span>   (logcat)     â”‚
â”‚ â”œâ”€ kernel<span class="hljs-selector-class">.sh</span>      (dmesg -w)   â”‚
â”‚ â””â”€ tcpdump<span class="hljs-selector-class">.sh</span>     (pcap)       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /data/log/tmp   â”‚  â† tmpfs
â”‚  logcat / kernelâ”‚
â”‚  tcpdump pcap   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-9">ğŸ¯ å…³é”®è®¾è®¡å†³ç­–</h4>

























<table><thead><tr><th>å†³ç­–</th><th>åŸå› </th></tr></thead><tbody><tr><td>ä½¿ç”¨ init.rc + property</td><td>ç³»ç»Ÿçº§ã€ç¨³å®šã€æ— éœ€ daemon å¸¸é©»</td></tr><tr><td>ä½¿ç”¨ shell è„šæœ¬</td><td>æ˜“ç»´æŠ¤ã€å¿«é€Ÿå®šåˆ¶</td></tr><tr><td>tmpfs</td><td>é˜²æ­¢ flash å†™çˆ†</td></tr><tr><td>oneshot service + while</td><td>å¯æ§ã€é¿å… init é‡å¯é£æš´</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">å››ã€æŠ€æœ¯åŸç†æ‹†è§£ï¼ˆæ ¸å¿ƒå¹²è´§ï¼‰</h3>
<h4 data-id="heading-11">1ï¸âƒ£ ä¸ºä»€ä¹ˆä¸ç”¨åŸç”Ÿ logcatdï¼Ÿ</h4>
<ul>
<li>
<p>logcatdï¼š</p>
<ul>
<li>å¼ºè€¦åˆ logd</li>
<li>é…ç½®å¤æ‚</li>
<li>ä¸é€‚åˆåŠ¨æ€ TAG / ç½‘ç»œæ—¥å¿—</li>
</ul>
</li>
</ul>
<p><strong>ç»“è®º</strong>ï¼š<br/>
ğŸ‘‰ <strong>logcat æ˜¯å·¥å…·ï¼Œlogcatd æ˜¯ç³»ç»Ÿç»„ä»¶ï¼Œä¸è¦æ»¥ç”¨</strong></p>
<hr/>
<h4 data-id="heading-12">2ï¸âƒ£ kernel æ—¥å¿—ä¸ºä»€ä¹ˆç”¨ <code>dmesg -w</code>ï¼Ÿ</h4>
<pre><code class="hljs language-c" lang="c">dmesg -w &gt;&gt; kernel.<span class="hljs-built_in">log</span>
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®æ—¶</li>
<li>ä¸ä¾èµ– logd</li>
<li>å´©æºƒå‰æœ€åä¿¡æ¯ä¹Ÿèƒ½æŠ“åˆ°</li>
</ul>
<p>é…åˆï¼š</p>
<ul>
<li>æ–‡ä»¶å¤§å°ç›‘æ§</li>
<li>kill + è½®è½¬</li>
<li>property åŠ¨æ€å…³é—­</li>
</ul>
<hr/>
<h4 data-id="heading-13">3ï¸âƒ£ tcpdump ä¸ºä»€ä¹ˆç”¨ init serviceï¼Ÿ</h4>
<pre><code class="hljs language-ini" lang="ini">on property:<span class="hljs-attr">persist.sys.emdoor.tcpdump</span>=<span class="hljs-number">1</span>
    start tcpdump_all
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>é¿å…åå°å¸¸é©»</li>
<li>æƒé™å¤©ç„¶æ˜¯ root</li>
<li>è¡Œä¸ºå¯å®¡è®¡ï¼ˆpropertyï¼‰</li>
</ul>
<p><strong>è¿™æ˜¯ç³»ç»Ÿå·¥ç¨‹æ€ç»´ï¼Œè€Œä¸æ˜¯è¿ç»´è„šæœ¬æ€ç»´ã€‚</strong></p>
<hr/>
<h4 data-id="heading-14">4ï¸âƒ£ ä¸ºä»€ä¹ˆè¦â€œè‡ªå·±å†™è½®è½¬â€ï¼Ÿ</h4>
<p>åŸå› å¾ˆç°å®ï¼š</p>
<ul>
<li>busybox logrotate ä¸ä¸€å®šå­˜åœ¨</li>
<li>Android shell åŠŸèƒ½å—é™</li>
<li>è¦å¯æ§ã€å¯å®šåˆ¶</li>
</ul>
<p>æ‰€ä»¥ç”¨æœ€åŸå§‹ã€æœ€å¯é çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">stat</span> -c %s
<span class="hljs-built_in">mv</span> <span class="hljs-built_in">log</span> log.1
</code></pre>
<blockquote>
<p><strong>é«˜çº§å·¥ç¨‹å¸ˆä¸è¿½æ±‚ä¼˜é›…ï¼Œè¿½æ±‚ç¡®å®šæ€§ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-15">äº”ã€ç¼–ç å±‚é¢çš„å·¥ç¨‹ç»éªŒæ€»ç»“ï¼ˆéå¸¸é‡è¦ï¼‰</h3>
<h4 data-id="heading-16">âœ… 1. init service ä¸€å®šè¦ oneshot + while</h4>
<p>âŒ é”™è¯¯ç¤ºèŒƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">service xxx /system/bin/xxx.sh
</code></pre>
<p>ä¸€æ—¦è„šæœ¬é€€å‡º â†’ init æ— é™é‡å¯</p>
<p>âœ… æ­£ç¡®æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">service xxx /system/bin/xxx.sh
    oneshot
</code></pre>
<hr/>
<h4 data-id="heading-17">âœ… 2. æ°¸è¿œç”¨ property æ§åˆ¶è¡Œä¸ºï¼Œä¸ç”¨ kill -9</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">ENABLE</span>=$(getprop persist.logcat.enable)
</code></pre>
<ul>
<li>å¯è¿œç¨‹æ§åˆ¶</li>
<li>å¯æŒä¹…åŒ–</li>
<li>å¯è¿½æº¯</li>
</ul>
<hr/>
<h4 data-id="heading-18">âœ… 3. tmpfs æ˜¯æ—¥å¿—å·¥ç¨‹çš„â€œæŠ¤åŸæ²³â€</h4>
<pre><code class="hljs language-bash" lang="bash">mount tmpfs tmpfs /data/log/tmp
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>ä¸ä¼¤ flash</li>
<li>é‡å¯è‡ªåŠ¨æ¸…ç©º</li>
<li>é€‚åˆé—®é¢˜åˆ†ææ—¥å¿—</li>
</ul>
<hr/>
<h4 data-id="heading-19">âœ… 4. Android.bp ç”¨ prebuilt_binary å¾ˆå…³é”®</h4>
<pre><code class="hljs language-css" lang="css">cc_prebuilt_binary {
    name: <span class="hljs-string">"logcatlog.sh"</span>,
}
</code></pre>
<ul>
<li>ä¸ç¼–è¯‘</li>
<li>ä¸å¼•å…¥ toolchain é—®é¢˜</li>
<li>å‡çº§é£é™©æä½</li>
</ul>
<hr/>
<h3 data-id="heading-20">å…­ã€ä»â€œå†™åŠŸèƒ½â€åˆ°â€œåšç³»ç»Ÿâ€çš„æ€ç»´è·ƒè¿</h3>
<p>å¾ˆå¤šå·¥ç¨‹å¸ˆä¼šé—®ï¼š</p>
<blockquote>
<p>â€œè¿™ä¸å°±æ˜¯å‡ ä¸ª shell è„šæœ¬å—ï¼Ÿâ€</p>
</blockquote>
<p>ä½†çœŸæ­£çš„å·®åˆ«åœ¨äºï¼š</p>

























<table><thead><tr><th>åˆçº§æ€ç»´</th><th>é«˜çº§å·¥ç¨‹æ€ç»´</th></tr></thead><tbody><tr><td>èƒ½ä¸èƒ½è·‘</td><td>èƒ½ä¸èƒ½é•¿æœŸç¨³å®šè·‘</td></tr><tr><td>å†™è„šæœ¬</td><td>æ„å»ºç³»ç»Ÿèƒ½åŠ›</td></tr><tr><td>ä¸´æ—¶æŠ“æ—¥å¿—</td><td>å¯è¿ç»´ã€å¯äº¤ä»˜</td></tr><tr><td>è§£å†³ä¸€æ¬¡é—®é¢˜</td><td>é™ä½ N æ¬¡é—®é¢˜æˆæœ¬</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-21">ä¸ƒã€ç»“è¯­ï¼šæ—¥å¿—ä¸æ˜¯è¾…åŠ©åŠŸèƒ½ï¼Œè€Œæ˜¯ç³»ç»Ÿçš„â€œé»‘åŒ£å­â€</h3>
<p>å½“ç³»ç»Ÿå¤æ‚åˆ°ä¸€å®šç¨‹åº¦ï¼š</p>
<blockquote>
<p><strong>æ—¥å¿—èƒ½åŠ› = ç³»ç»Ÿå¯ç»´æŠ¤æ€§</strong></p>
</blockquote>
<p>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„<a href="https://juejin.cn/spost/7598477092196614182" target="_blank" title="https://juejin.cn/spost/7598477092196614182">juejin.cn/spost/75984â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[21Kä»£ç çš„å…¨æ–°å‰ç«¯æ¡†æ¶ï¼Reactçš„æ˜å¢“äººç°ä¸–ï¼]]></title>    <link>https://juejin.cn/post/7598403436699025442</link>    <guid>https://juejin.cn/post/7598403436699025442</guid>    <pubDate>2026-01-23T16:26:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598403436699025442" data-draft-id="7598402961904713780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="21Kä»£ç çš„å…¨æ–°å‰ç«¯æ¡†æ¶ï¼Reactçš„æ˜å¢“äººç°ä¸–ï¼"/> <meta itemprop="keywords" content="å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-23T16:26:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="foreverflying"/> <meta itemprop="url" content="https://juejin.cn/user/4267647975566203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            21Kä»£ç çš„å…¨æ–°å‰ç«¯æ¡†æ¶ï¼Reactçš„æ˜å¢“äººç°ä¸–ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4267647975566203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    foreverflying
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T16:26:19.000Z" title="Fri Jan 23 2026 16:26:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åºŸè¯ä¸€ä¼šå„¿å†è¯´ï¼Œå…ˆä¸ŠDemoï¼Œä¸€ä¸ªç»å…¸æ¡Œæ¸¸â€œç’€ç’¨å®çŸ³â€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsplendor.ezh.dev" target="_blank" title="https://splendor.ezh.dev" ref="nofollow noopener noreferrer">splendor.ezh.dev</a> ï¼Œå¯ä»¥2ï½4äººè”æœºç©ï¼Œè¿›äº†
æ¸¸æˆå¯ä»¥çœ‹å…·ä½“è§„åˆ™ï¼Œè¯´æ˜é‡Œè¿˜è—ç€æºç åº“åœ°å€ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4bf7b7fe7e04dc28698e43d5423bf44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZm9yZXZlcmZseWluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936849&amp;x-signature=Jx3HpVroaEucMaI4%2FdlbMO6S69Q%3D" alt="Screenshot 2026-01-24 at 4.02.37â€¯AM.png" width="30%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f7de16753ac49f2937631352bd88a9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZm9yZXZlcmZseWluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936849&amp;x-signature=utO%2Fq9FfnQmCwc1CSarNNDTy5OY%3D" alt="Screenshot 2026-01-24 at 4.07.46â€¯AM.png" width="30%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f07b72483e02458095dc2be2d8adb89b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZm9yZXZlcmZseWluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936849&amp;x-signature=PFyXD1EUwfsFF7oaJwDuAxtxHr4%3D" alt="Screenshot 2026-01-24 at 9.31.58â€¯PM.png" width="30%" loading="lazy"/>
<p>æ€§èƒ½ç¢¾å‹Reactï¼Œè€Œæ˜“ç”¨æ€§å¯è¯´æ˜¯è¾¾åˆ°å‰ç«¯æ¡†æ¶çš„æé™äº†ã€‚ä½ è¦å°å¿ƒçš„æ˜¯ï¼Œä½ ç”¨äº†è¿™ä¸ªä»¥åï¼Œå†å›å»ç”¨Reactå†™ä»£ç ä¼šçŠ¯æ¶å¿ƒã€‚</p>
<p>æ ¸å¿ƒä»£ç åªæœ‰2500è¡Œï¼Œmin.jsåˆè®¡21KBï¼Œæ¥å£å…±11ä¸ªAPIï¼Œå­¦ä¹ æ›²çº¿ä¸èƒ½è¯´å¹³ç¼“ï¼Œåªèƒ½è¯´æ ¹æœ¬æ²¡æœ‰ã€‚</p>
<p>ä¸Šé¢è¿™ä¸ªç•Œé¢äº¤äº’éå¸¸å¤æ‚çš„Demoï¼Œæ¸¸æˆé¡µé¢çš„å®ç°ä»£ç åªæœ‰å…«ç™¾è¡Œå·¦å³ã€‚å½“ç„¶ï¼Œåä¸ªç å†œæœ‰ä¹ä¸ªæ‡’å¾—å»çœ‹å…«ç™¾è¡Œä»£ç ï¼Œä¸‹é¢æ˜¯ä¸ªå¾®å‹Demoï¼Œå››åå¤šè¡Œä»£ç ï¼Œæ˜¯ä¸ªå¾ˆç›´è§‚çš„ä¾‹å­ï¼Œä¸€çœ¼æ‡‚ï¼Œå®Œå…¨ä¸å¿…è¯»æ–‡æ¡£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10b2457ec0194ffeb2f0f6ce47614493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZm9yZXZlcmZseWluZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769936849&amp;x-signature=aT0PJbbxFq4FMZv25WB54PP90rY%3D" alt="Screenshot 2026-01-24 at 4.24.24â€¯AM.png" loading="lazy"/></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { $ezh, bindData, <span class="hljs-title class_">Com</span>, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'ezh'</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Player</span> = {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
    <span class="hljs-attr">isSelected</span>: <span class="hljs-built_in">boolean</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">PlayerView</span>: <span class="hljs-title class_">Com</span>&lt;{ <span class="hljs-attr">player</span>: <span class="hljs-title class_">Player</span>, <span class="hljs-attr">onRemove</span>: <span class="hljs-function">(<span class="hljs-params">player: Player</span>) =&gt;</span> <span class="hljs-built_in">void</span> }&gt; = <span class="hljs-function">(<span class="hljs-params">
    { player, onRemove },
</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'checkbox'</span> <span class="hljs-attr">checked</span>=<span class="hljs-string">{bindData(player,</span> '<span class="hljs-attr">isSelected</span>')} /&gt;</span>
        Name: {player.name}
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'button'</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'Remove'</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">{()</span> =&gt;</span> onRemove(player)} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">MainView</span>: <span class="hljs-title class_">Com</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">useState</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">players</span>: [] <span class="hljs-keyword">as</span> <span class="hljs-title class_">Player</span>[],
    })
    <span class="hljs-keyword">const</span> { players } = state
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onAdd</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">if</span> (state.<span class="hljs-property">name</span>) {
            <span class="hljs-keyword">const</span> isSelected = (players.<span class="hljs-property">length</span> + <span class="hljs-number">1</span>) % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>
            players.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">name</span>: state.<span class="hljs-property">name</span>, isSelected })
            state.<span class="hljs-property">name</span> = <span class="hljs-string">''</span>
        }
    }
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onRemove</span> = (<span class="hljs-params">player: Player</span>) =&gt; {
        <span class="hljs-keyword">const</span> idx = players.<span class="hljs-title function_">indexOf</span>(player)
        players.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>)
    }
    <span class="hljs-keyword">const</span> selectedCount = players.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">count, player</span>) =&gt;</span> count + (player.<span class="hljs-property">isSelected</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>), <span class="hljs-number">0</span>)
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Player count: {players.length}, seleted count: {selectedCount}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            {players.map((player, i) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">PlayerView</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{i}</span> <span class="hljs-attr">player</span>=<span class="hljs-string">{player}</span> <span class="hljs-attr">onRemove</span>=<span class="hljs-string">{onRemove}</span> /&gt;</span>)}
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'text'</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{bindData(state,</span> '<span class="hljs-attr">name</span>')} /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">'button'</span> <span class="hljs-attr">value</span>=<span class="hljs-string">'Add'</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">{onAdd}</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

$ezh.<span class="hljs-title function_">render</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)!, <span class="hljs-title class_">MainView</span>)
</code></pre>
<p>è‡ªæˆ‘ä»‹ç»ä¸‹ï¼Œæˆ‘å« Ezhï¼Œè¯»éŸ³è¢«å®šä¸ºåŒ"edge"ã€‚å…ˆç§€ä¸€ä¸‹2500è¡Œçš„å°è‚Œè‚‰ï¼š</p>
<ol>
<li>TypeScript Onlyã€‚ä¹‹å‰æŸä¸ªçŸ¥åæ¡†æ¶è¯´TSå¤ªéº»çƒ¦ï¼Œä»–ä»¬äºæ˜¯å›å½’äº†çº¯JSï¼Œæ‰€ä»¥Ezhå½“ç„¶ä¹Ÿè¦æç«¯ä¸€ç‚¹ï¼šåªæ”¯æŒTSå†™ä»£ç å’Œç¼–è¯‘ä»£ç ï¼Œç»ä¸æ”¯æŒJSã€‚æ¯ä¸ªhtmlå…ƒç´ ã€æ¯ä¸ªç»„ä»¶åœ¨Ezhé‡Œéƒ½æœ‰é™æ€ç±»å‹æ£€æŸ¥ï¼Œæ‹¼é”™äº†å±æ€§åå½“åœºç”©è„¸ç»™ä½ çœ‹ã€‚</li>
<li>TSXè¯­æ³•å½“ç„¶æ˜¯æ ‡é…ï¼Œè®©ä½ æ‰”æ‰Reactæ‰”å¾—å¿ƒå®‰ç†å¾—ï¼Œå®Œå…¨æ— ç—›ã€‚ç”šè‡³è¿‡å»çš„Reactå±å±±ï¼Œä»£ç åƒåœ¾ä½†æ˜¯TSXéƒ¨åˆ†è¿˜èƒ½æ¥ç€ç”¨ï¼Œä¹Ÿè®¸ä½ åˆ ä¸€åˆ å®ƒçš„åƒåœ¾ä»£ç ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†å¯ä»¥è½»æ¾ç§»æ¤åˆ°Ezhæ¡†æ¶ä¸Šæ¥ã€‚</li>
<li>åŸºäºå…¨æ–°åŸåˆ›çš„æœºåˆ¶çš„DOMåˆ·æ–°ï¼Œä»¥O1å¤æ‚åº¦ï¼Œå®ç°æœ€å°å˜åŒ–å•ä½ï¼ˆå•ä¸ªå­—æ®µï¼‰è§¦å‘æœ€å°åˆ·æ–°é›†åˆï¼ˆé€»è¾‘ä¸Šä¸è¯¥åˆ·æ–°çš„ç»å¯¹ä¸ä¼šåˆ·æ–°ï¼‰ã€‚è™šæ‹ŸDOMæ ‘Diffï¼Œè¿™ç§å¬èµ·å•¦é«˜å¤§ä¸Šçš„åƒåœ¾è·¯çº¿å¯ä»¥æ»šäº†ã€‚</li>
<li>è¯´åˆ°åƒåœ¾ï¼ˆReactæˆ‘æ²¡è¯´ä½ å“ˆï¼‰ï¼Œè¿™ä¸ªæ¡†æ¶å¯ä»¥é…ç½®å»¶è¿Ÿé‡Šæ”¾å’Œåƒåœ¾æ”¶é›†ï¼šæƒ³è±¡ä½ åˆšè´¹äº†ä¹ç‰›äºŒè™ä¹‹åŠ›ç»„è£…å‡ºäº†ä¸€ä¸ªç»“æ„å¤æ‚çš„1000+å…ƒç´ çš„DOMåˆ†æ”¯ï¼Œæ²¡ä¸¤ç§’ç”¨æˆ·ç‚¹äº†å¦ä¸€ä¸ªæ ‡ç­¾æŠŠå®ƒé”€æ¯äº†ï¼Œä¸‰ç§’ä¹‹åä»–åˆç‚¹å›æ¥äº†ã€‚ç°åœ¨è¿™ä¸¤ä¸ªç”¨æˆ·åŠ¨ä½œå¸¦æ¥çš„å¼€é”€æ¥è¿‘äº0äº†ã€‚</li>
<li>ä¸­å›½äººå–œæ¬¢å¤§ä¸€ç»Ÿä¸æ˜¯ï¼Œä¸€ä¸ªåŒ…å…¨åŠŸèƒ½æœ€ç†æƒ³ã€‚Reactä¸»åŒ…å°ºå¯¸172Kï¼Œä½†Routeå¾—åŠ ï¼ŒReduxå¾—è¦ï¼Œç”¨TSè¿˜å¾—TypeåŒ…å•ç®—ã€‚Ezhçš„npmåŒ…è§£åŒ…å°ºå¯¸41.5Kï¼Œå…¶ä¸­18Kçš„Typeæ–‡ä»¶ã€‚æ— é™è‡ªç”±çš„çŠ¶æ€ç®¡ç†ã€å¼ºå¤§å´æ˜“ç”¨çš„è·¯ç”±è¡¨ã€ç›´è§‚çš„ç»„ä»¶ç”Ÿå‘½æœŸç®¡ç†ï¼Œéƒ½æµ“ç¼©åœ¨è¿™å‰©ä¸‹çš„21Kä»£ç é‡Œäº†ã€‚</li>
</ol>
<p>ç›®å‰ npm åŒ… <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fezh" target="_blank" title="https://www.npmjs.com/package/ezh" ref="nofollow noopener noreferrer">ezh</a> ç›´æ¥å¯ç”¨ï¼Œç”¨æ³•å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fforeverflying%2Fezh-demo" target="_blank" title="https://github.com/foreverflying/ezh-demo" ref="nofollow noopener noreferrer">Demoæºç </a> ï¼Œä¸€å°æ—¶å­¦ä¹ æˆæœ¬æå®šã€‚æ ¸å¿ƒæºç å¼€æºæ—©å°±åœ¨è®¡åˆ’ä¸­ï¼Œä½†å¯èƒ½ä¼šæ™šäº›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œæœ€æ–°å¼€æºï¼Œæºç åœ°å€+éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒå¤šè¯­ç§å£°éŸ³å…‹éš†]]></title>    <link>https://juejin.cn/post/7598464972911181864</link>    <guid>https://juejin.cn/post/7598464972911181864</guid>    <pubDate>2026-01-24T03:32:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598464972911181864" data-draft-id="7598403436699729954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œæœ€æ–°å¼€æºï¼Œæºç åœ°å€+éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒå¤šè¯­ç§å£°éŸ³å…‹éš†"/> <meta itemprop="keywords" content="åç«¯,é˜¿é‡Œå·´å·´,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-24T03:32:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿç©ºç å­—"/> <meta itemprop="url" content="https://juejin.cn/user/3139860942296830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œæœ€æ–°å¼€æºï¼Œæºç åœ°å€+éƒ¨ç½²è„šæœ¬ï¼Œæ”¯æŒå¤šè¯­ç§å£°éŸ³å…‹éš†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860942296830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿç©ºç å­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-24T03:32:18.000Z" title="Sat Jan 24 2026 03:32:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-24
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ‚Ÿã€‚</p>
<p>ä¸€ä¸²æ–‡å­—è¾“å…¥è¿›å»ï¼Œä¸€ä¸ªå®Œå…¨æ ¹æ®æè¿°å®šåˆ¶çš„å£°éŸ³å°±å‡ºæ¥äº†ï¼Œä»å£°éŸ³ç‰¹ç‚¹åˆ°æƒ…æ„ŸçŠ¶æ€å†åˆ°èŠ‚å¥å¿«æ…¢ï¼Œä¸€åˆ‡éƒ½å¬ä»ä½ çš„æŒ‡ä»¤ã€‚</p>
<p>é˜¿é‡Œé€šä¹‰åƒé—®çš„Qwen3-TTSæ¨¡å‹æ­£å¼å¼€æºäº†ã€‚çœ‹å®Œæ‰€æœ‰åŠŸèƒ½ä»‹ç»å’Œæ€§èƒ½æ•°æ®ï¼Œæˆ‘å‘ç°å£°éŸ³ç”Ÿæˆçš„æ¸¸æˆè§„åˆ™æ­£åœ¨è¢«é‡æ–°å®šä¹‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcd876cb77274694a12e2dbdd6d8854f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=VoyczKeB6D7W18fVnqkVfa2Bh%2Fs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªåä¸ºQwen3-TTSçš„è¯­éŸ³ç”Ÿæˆç³»ç»Ÿï¼ŒèƒŒåéšè—ç€è¿œæ¯”è¡¨é¢çœ‹èµ·æ¥æ›´å¼ºå¤§çš„èƒ½åŠ›ã€‚å®ƒå¸¦æ¥çš„ä¸åªæ˜¯æ›´å¤šéŸ³è‰²é€‰æ‹©ï¼Œè€Œæ˜¯æ ¹æœ¬ä¸Šæ”¹å˜äº†æˆ‘ä»¬ä¸è¯­éŸ³ç”ŸæˆæŠ€æœ¯äº¤äº’çš„æ–¹å¼ã€‚</p>
<p><strong>åŠŸèƒ½å…¨é¢ï¼šä¸åªæ˜¯åˆæˆè¯­éŸ³é‚£ä¹ˆç®€å•</strong></p>
<p>Qwen3-TTSåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿç®€å•ç‚¹è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½è®©ä½ éšæ„åˆ›é€ ã€æ“æ§å’Œå…‹éš†å£°éŸ³çš„æ™ºèƒ½ç³»ç»Ÿã€‚å®ƒä¸æ»¡è¶³äºä¼ ç»Ÿçš„æ–‡æœ¬è½¬è¯­éŸ³ï¼Œè€Œæ˜¯æŠŠå£°éŸ³å˜æˆä¸€ç§å¯ç¼–ç¨‹çš„åª’ä»‹ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€å‘Šè¯‰å®ƒæƒ³è¦ä»€ä¹ˆæ ·çš„å£°éŸ³ï¼šâ€œé«˜äº¢çš„ç”·æ€§å—“éŸ³ï¼Œè¯­è°ƒéšå…´å¥‹æƒ…ç»ªä¸æ–­ä¸Šæ‰¬ï¼Œå¿«é€Ÿè€Œå……æ»¡æ´»åŠ›â€ã€‚</p>
<p>ç„¶åå®ƒä¼šçœŸçš„æŒ‰ç…§è¿™äº›æè¿°ç”Ÿæˆè¯­éŸ³ï¼Œç³»ç»Ÿæ”¯æŒ10ç§ä¸»æµè¯­è¨€å’Œå¤šç§æ–¹è¨€ï¼Œä»ä¸­æ–‡åˆ°æ„å¤§åˆ©è¯­ï¼Œä»æ ‡å‡†å‘éŸ³åˆ°åœ°æ–¹å£éŸ³ã€‚</p>
<p>å®ƒå¼€æºçš„æ¨¡å‹åŒ…å«1.7Bå’Œ0.6Bä¸¤ç§å°ºå¯¸ï¼Œå…¼é¡¾äº†æè‡´æ€§èƒ½å’Œé«˜æ•ˆè¿è¡Œçš„ä¸åŒéœ€æ±‚ã€‚è¿™æ„å‘³ç€æ— è®ºæ˜¯ç ”ç©¶æœºæ„è¿˜æ˜¯åº”ç”¨å¼€å‘è€…ï¼Œéƒ½èƒ½æ‰¾åˆ°é€‚åˆè‡ªå·±åœºæ™¯çš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/befe5d2320d74436be02c4077b8369d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=YtGnhBu7VAPW1NG0SVlYOGCmhxg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd99df0c8b014cb2bba10fdc68a45416~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=WkiBNslzLbYvEeVTbZRYIUhSmfc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å®é™…ç—›ç‚¹ï¼šä¼ ç»Ÿè¯­éŸ³åˆæˆçš„ä¸‰ä¸ªç“¶é¢ˆ</strong></p>
<p>ä½¿ç”¨ä¼ ç»Ÿè¯­éŸ³åˆæˆæŠ€æœ¯æ—¶çš„ä½“éªŒï¼Œä¸‰ä¸ªé™åˆ¶å¾ˆæ˜æ˜¾ã€‚</p>
<p>ç¬¬ä¸€æ˜¯å£°éŸ³ç”Ÿç¡¬ï¼Œç¼ºä¹æƒ…æ„Ÿå˜åŒ–ï¼Œå¬èµ·æ¥åƒæœºå™¨åœ¨å¿µç¨¿ã€‚</p>
<p>ç¬¬äºŒæ˜¯å¯æ§æ€§å·®ï¼Œå¾ˆéš¾è°ƒèŠ‚è¯­é€Ÿã€æƒ…æ„Ÿå’Œè¯­æ°”ç»†èŠ‚ã€‚</p>
<p>ç¬¬ä¸‰æ˜¯éŸ³è‰²é€‰æ‹©æœ‰é™ï¼Œè¦ä¹ˆæ˜¯é¢„å®šä¹‰çš„å‡ ç§å£°éŸ³ï¼Œè¦ä¹ˆéœ€è¦å¤§é‡æ•°æ®è®­ç»ƒæ‰èƒ½å…‹éš†ç‰¹å®šéŸ³è‰²ã€‚å¯¹å¤šæ•°ç”¨æˆ·è€Œè¨€ï¼Œæƒ³è¦ä¸€ä¸ªç‰¹å®šç±»å‹çš„å£°éŸ³å¾€å¾€éœ€è¦å¦¥åã€‚</p>
<p>Qwen3-TTSç„å‡†çš„æ­£æ˜¯è¿™äº›ç—›ç‚¹ã€‚å®ƒä¸åªæ˜¯æé«˜å£°éŸ³çš„â€œè‡ªç„¶åº¦â€ï¼Œè€Œæ˜¯ä»æ ¹æœ¬ä¸Šæ”¹å˜å£°éŸ³ç”Ÿæˆçš„æ§åˆ¶ç»´åº¦ã€‚</p>
<p>ç°åœ¨å£°éŸ³çš„æ¯ä¸€ä¸ªç‰¹æ€§éƒ½å¯ä»¥é€šè¿‡æŒ‡ä»¤è°ƒæ•´ï¼Œè¿™ç§èƒ½åŠ›ä»¥å‰åªæœ‰ä¸“ä¸šéŸ³é¢‘å·¥ç¨‹å¸ˆé€šè¿‡å¤æ‚å¤„ç†æ‰èƒ½å®ç°ã€‚</p>
<p><strong>æ ¸å¿ƒåˆ›æ–°ï¼šåŒå‘æµå¼ç”Ÿæˆä¸å¤šç æœ¬ç¼–ç </strong></p>
<p>Qwen3-TTSçš„æ ¸å¿ƒçªç ´é›†ä¸­åœ¨ä¸¤ä¸ªæ–¹é¢ã€‚æŠ€æœ¯å±‚é¢ï¼Œå®ƒé‡‡ç”¨äº†åˆ›æ–°çš„Dual-TrackåŒè½¨å»ºæ¨¡ï¼Œå®ç°äº†æè‡´çš„åŒå‘æµå¼ç”Ÿæˆé€Ÿåº¦ï¼Œæœ€å¿«å¯ä»¥åœ¨è¾“å…¥å•å­—åå³åˆ»è¾“å‡ºéŸ³é¢‘é¦–åŒ…ï¼Œç«¯åˆ°ç«¯åˆæˆå»¶è¿Ÿä½è‡³97æ¯«ç§’ã€‚</p>
<p>è¿™ä¸ªé€Ÿåº¦æ„å‘³ç€çœŸæ­£çš„å®æ—¶äº¤äº’æˆä¸ºå¯èƒ½ã€‚æƒ³è±¡ä¸€ä¸‹åœ¨çº¿ç¿»è¯‘ã€è¯­éŸ³åŠ©æ‰‹æˆ–æ¸¸æˆè§’è‰²å¯¹è¯åœºæ™¯ä¸­ï¼Œå‡ ä¹æ²¡æœ‰å»¶è¿Ÿçš„è¯­éŸ³åé¦ˆä¼šå¸¦æ¥å®Œå…¨ä¸åŒçš„ä½“éªŒã€‚</p>
<p>å¦ä¸€ä¸ªå…³é”®æŠ€æœ¯æ˜¯Qwen3-TTS-Tokenizer-12Hzå¤šç æœ¬è¯­éŸ³ç¼–ç å™¨ã€‚å®ƒä¸ä»…é«˜æ•ˆå‹ç¼©è¯­éŸ³ä¿¡å·ï¼Œè¿˜èƒ½å®Œæ•´ä¿ç•™å‰¯è¯­è¨€ä¿¡æ¯å’Œå£°å­¦ç¯å¢ƒç‰¹å¾ã€‚</p>
<p>è¿™æ„å‘³ç€å£°éŸ³ä¸­çš„å¾®å¦™æƒ…æ„Ÿçº¿ç´¢ã€ä¸ªäººè¯´è¯ä¹ æƒ¯ç”šè‡³ç¯å¢ƒæ°›å›´éƒ½èƒ½è¢«ä¿ç•™ä¸‹æ¥ï¼Œè®©ç”Ÿæˆçš„å£°éŸ³æ›´åƒçœŸäººå‘å£°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a304905f194451781186bbec84c3043~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=e%2BJbdYr1LFxJ0cGY3yfK6c%2BoVps%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å®é™…è¡¨ç°ï¼šå£°éŸ³åˆ›é€ ä¸æ§åˆ¶å…¨é¢é¢†å…ˆ</strong></p>
<p>Qwen3-TTSåœ¨å¤šé¡¹è¯„ä¼°ä¸­éƒ½è¾¾åˆ°äº†è¡Œä¸šé¢†å…ˆæ°´å¹³ã€‚åœ¨éŸ³è‰²åˆ›é€ ä»»åŠ¡ä¸Šï¼Œå®ƒåœ¨æŒ‡ä»¤éµå¾ªèƒ½åŠ›å’Œç”Ÿæˆè¡¨ç°åŠ›ä¸Šéƒ½è¶…è¶Šäº†é—­æºæ¨¡å‹ï¼Œè¿™å¯¹å¤–éƒ¨å¼€å‘è€…æ¥è¯´æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚</p>
<p>å®ƒæ”¯æŒåŸºäºè‡ªç„¶è¯­è¨€æè¿°ç”Ÿæˆå®šåˆ¶åŒ–éŸ³è‰²ã€‚ç”¨æˆ·å¯ä»¥è¾“å…¥å£°å­¦å±æ€§ã€äººè®¾æè¿°ã€èƒŒæ™¯ä¿¡æ¯ç­‰ï¼Œç³»ç»Ÿå°±èƒ½ç”Ÿæˆç¬¦åˆæœŸæœ›çš„å£°éŸ³å½¢è±¡ã€‚</p>
<p>æ¯”å¦‚è¾“å…¥â€œ17å²ç”·æ€§ï¼Œç”·é«˜éŸ³éŸ³åŸŸï¼Œé€æ¸è·å¾—è‡ªä¿¡â€è¿™æ ·çš„æè¿°ï¼Œç³»ç»Ÿå°±èƒ½åˆ›é€ å‡ºç›¸åº”çš„å£°éŸ³ã€‚</p>
<p>éŸ³è‰²å…‹éš†èƒ½åŠ›åŒæ ·å‡ºè‰²ï¼Œåœ¨ç›¸ä¼¼åº¦å’Œç¨³å®šæ€§ä¸Šéƒ½è¶…è¶Šäº†ç°æœ‰æ–¹æ¡ˆã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®ƒæ”¯æŒéŸ³è‰²å¤ç”¨ï¼Œåˆ›é€ çš„å£°éŸ³å¯ä»¥è¢«ä¿å­˜å¹¶é‡å¤ä½¿ç”¨ï¼Œç”Ÿæˆè‡ªç„¶çš„å¤šè½®æ¬¡å¤šè§’è‰²å¯¹è¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2cec2a87b9a474f85fe48d36999bffc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=nDHjIrl5JRLLTX1XB8wDJATZJnU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/807ad757a76d445ea30a41ee1bbade05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=SD2y%2FqKXyFJbt%2B7U5xa%2BUtLfwSo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9e1f0631ef14cd8ba1e63da3fdefdcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=fi967oQKjXvx2gfuqinpYmHCYWU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>åº”ç”¨åœºæ™¯ï¼šä»æ— éšœç¢æœåŠ¡åˆ°åˆ›æ„å†…å®¹</strong></p>
<p>Qwen3-TTSçš„èƒ½åŠ›ä¼šå¸¦æ¥å“ªäº›å®é™…åº”ç”¨å˜åŒ–ï¼Ÿåœ¨æ— éšœç¢æœåŠ¡é¢†åŸŸï¼Œè§†éšœç”¨æˆ·å¯ä»¥å®šåˆ¶æœ€é€‚åˆè‡ªå·±ç†è§£ä¹ æƒ¯çš„å£°éŸ³ï¼Œä¸å†å—é™äºæœ‰é™çš„é¢„è®¾é€‰é¡¹ã€‚</p>
<p>åœ¨æ•™è‚²å’ŒåŸ¹è®­ä¸­ï¼Œæ•™å¸ˆå¯ä»¥åˆ›é€ å…·æœ‰ç‰¹å®šæƒ…æ„Ÿè¡¨è¾¾çš„å£°éŸ³ï¼Œè®©æ•°å­—å†…å®¹æ›´åŠ ç”ŸåŠ¨å¸å¼•äººã€‚</p>
<p>å½±è§†å’Œæ¸¸æˆè¡Œä¸šå¯ä»¥åˆ©ç”¨å®ƒå¿«é€Ÿç”Ÿæˆè§’è‰²å¯¹è¯ï¼Œç”šè‡³åˆ›é€ ç°å®ä¸­ä¸å­˜åœ¨çš„å£°éŸ³ç±»å‹ã€‚</p>
<p>æ™®é€šç”¨æˆ·ä¹Ÿèƒ½ç”¨æ‰‹æœºåº”ç”¨åˆ›é€ å±äºè‡ªå·±çš„è¯­éŸ³åŠ©æ‰‹å£°éŸ³ï¼Œæˆ–è€…ä¸ºæœ‰å£°è¯»ç‰©å’Œæ’­å®¢å®šåˆ¶ç‹¬ç‰¹è®²è¿°è€…å£°éŸ³ã€‚</p>
<p><strong>é¡¹ç›®ç›¸å…³</strong></p>
<p>æœ¬åœ°å®‰è£…ä¸ä½¿ç”¨ï¼Œæºä»£ç éƒ¨ç½²ï¼Œæ›´å¤šè¯¦ç»†æ­¥éª¤å’Œç”¨æ³•ï¼Œè¯¦è§ä»“åº“æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">ç¯å¢ƒé…ç½®
è¦å¿«é€Ÿä½¿ç”¨ Qwen3-TTSï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä» PyPI å®‰è£…`qwen-tts`Â Python åŒ…ã€‚è¿™å°†æ‹‰å–æ‰€éœ€çš„è¿è¡Œæ—¶ä¾èµ–é¡¹ï¼Œå¹¶å…è®¸æ‚¨åŠ è½½ä»»ä½•å·²å‘å¸ƒçš„ Qwen3-TTS æ¨¡å‹ã€‚
conda create -n qwen3-tts <span class="hljs-attr">python</span>=<span class="hljs-number">3.12</span>Â -y
conda activate qwen3-tts

ç„¶åè¿è¡Œï¼š
pip install -U qwen-tts

å¦‚æœæƒ³åœ¨æœ¬åœ°å¼€å‘æˆ–ä¿®æ”¹ä»£ç ï¼Œè¯·ä»¥å¯ç¼–è¾‘æ¨¡å¼ä»æºä»£ç å®‰è£…ã€‚
git clone https://github.com/QwenLM/Qwen3-TTS.git
cd Qwen3-TTS
pip install -e .

æ­¤å¤–ï¼Œæ¨èä½¿ç”¨ FlashAttentionÂ 2Â æ¥å‡å°‘ GPU å†…å­˜ä½¿ç”¨ã€‚
pip install -U flash-attn --no-build-isolation

å¦‚æœä½ çš„æœºå™¨ RAM å°äº 96GB ä¸”æ‹¥æœ‰å¤§é‡ CPU æ ¸å¿ƒï¼Œè¯·è¿è¡Œï¼š

<span class="hljs-attr">MAX_JOBS</span>=<span class="hljs-number">4</span>Â pip install -U flash-attn --<span class="hljs-literal">no</span>-build-isolation
</code></pre>
<p><strong>å¼€æºç¤¾åŒºï¼š</strong></p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-title class_">ModerScope</span>ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/www.modelscope.cn/collections</span><span class="hljs-regexp">/Qwen/</span><span class="hljs-title class_">Qwen3</span>-<span class="hljs-variable constant_">TTS</span>
<span class="hljs-title class_">Github</span><span class="hljs-symbol">:https</span><span class="hljs-symbol">://github</span>.com/<span class="hljs-title class_">Qwen</span>LM/<span class="hljs-title class_">Qwen3</span>-<span class="hljs-variable constant_">TTS</span>
<span class="hljs-title class_">HuggingFace</span>ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/huggingface.co/collections</span><span class="hljs-regexp">/Qwen/qwen</span>3-tts
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5642c1a69dca47a0a96c9053fb530b7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=LaeJ3Wy91Zb1xEGmChv26ubIXIA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æœ€å</strong></p>
<p>AIä¸å£°éŸ³çš„å…³ç³»æ­£åœ¨å‘ç”Ÿæ ¹æœ¬å˜åŒ–ã€‚è¿™ç§å˜åŒ–å°†ä¼šæ¸—é€åˆ°æˆ‘ä»¬ä¸æ•°å­—ä¸–ç•Œäº¤äº’çš„æ¯ä¸€ä¸ªç¯èŠ‚ï¼Œä»æ—©æ™¨çš„å¤©æ°”é¢„æŠ¥æ’­æŠ¥ï¼Œåˆ°æ·±å¤œçš„æœ‰å£°æ•…äº‹è®²è¿°ï¼Œéƒ½å¯èƒ½ç”±è¿™æ ·æ™ºèƒ½çš„ç³»ç»Ÿç”Ÿæˆã€‚</p>
<p>è™½ç„¶ç°åœ¨AIè¯­éŸ³å·¥å…·ä¸å°‘ï¼Œä½†Qwen3-TTSçš„å¼€æºè®©æˆ‘è§‰å¾—ï¼Œé«˜è´¨é‡çš„å£°éŸ³ç”Ÿæˆä¸å†æ˜¯å°‘æ•°å¤§å…¬å¸çš„ä¸“åˆ©ã€‚</p>
<p>å¼€å‘è€…å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ç”šè‡³äºŒæ¬¡å¼€å‘ï¼Œè¿™è¯´ä¸å®šä¼šå‚¬ç”Ÿå¾ˆå¤šæœ‰è¶£çš„åº”ç”¨ï¼Œæ¯”å¦‚æœ‰å£°ä¹¦å®šåˆ¶ã€è™šæ‹Ÿäººäº’åŠ¨ã€ç”šè‡³å¸®åŠ©è¯­è¨€éšœç¢è€…å‘å£°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5dec814dd6e4a8c89279ff13f90ee91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769830337&amp;x-signature=riurxnACVRL2NIlZ1XLSDQXw4tE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>è°¢è°¢ä½ çœ‹æˆ‘çš„æ–‡ç« ï¼Œæ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœè§‰å¾—ä¸é”™ï¼Œéšæ‰‹ç‚¹ä¸ªèµã€è½¬å‘ã€åœ¨çœ‹ä¸‰è¿å§ï¼Œæ„Ÿè°¢æ„Ÿè°¢ã€‚é‚£æˆ‘ä»¬ï¼Œä¸‹æ¬¡å†è§ã€‚</strong></p>
<p>æ‚¨çš„ä¸€é”®ä¸‰è¿ï¼Œæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼Œè°¢è°¢</p>
<p>å±±æ°´æœ‰ç›¸é€¢ï¼Œæ¥æ—¥çš†å¯æœŸï¼Œè°¢è°¢é˜…è¯»ï¼Œæˆ‘ä»¬å†ä¼š</p>
<p>æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’ï¼Œä¸Šèƒ½é€šå¤©ï¼Œä¸‹èƒ½æ¢æµ·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pnpm install å…¨æµç¨‹è§£è¯»ï¼ˆMonorepo + å­åŒ…çº§å¤„ç†ï¼‰]]></title>    <link>https://juejin.cn/post/7598881914202308658</link>    <guid>https://juejin.cn/post/7598881914202308658</guid>    <pubDate>2026-01-25T09:26:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598881914202308658" data-draft-id="7598801700050993190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pnpm install å…¨æµç¨‹è§£è¯»ï¼ˆMonorepo + å­åŒ…çº§å¤„ç†ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-25T09:26:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èƒ¡ä¸€é—»"/> <meta itemprop="url" content="https://juejin.cn/user/3984285870588093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pnpm install å…¨æµç¨‹è§£è¯»ï¼ˆMonorepo + å­åŒ…çº§å¤„ç†ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285870588093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èƒ¡ä¸€é—»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:26:58.000Z" title="Sun Jan 25 2026 09:26:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£å‰ç«¯ monorepo ä¸­ï¼Œ<code>pnpm install</code> çœ‹ä¼¼ä¸€å¥å‘½ä»¤ï¼ŒèƒŒåå´æœ‰ä¸€å¥—ç²¾å¯†çš„ <strong>å…¨å±€è§†å›¾ + å­åŒ…ä¾èµ–ç®¡ç† + æ‰å¹³åŒ–å®‰è£…ç­–ç•¥</strong>ã€‚ä»¥ä¸‹ä»æ ¹ç›®å½•åˆ°æ¯ä¸ªå­åŒ…çš„å®Œæ•´æµç¨‹æ‹†è§£ã€‚</p>
<p>å‡è®¾é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs">pnpm-workspace.yaml
packages/
  ui/
apps/
  web/
  api/
</code></pre>
<p>æ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs">pnpm install
</code></pre>
<p>æ•´ä¸ªæµç¨‹å¯æ‹†è§£ä¸º <strong>å…«å¤§é˜¶æ®µ</strong>ï¼š</p>
<hr/>
<h2 data-id="heading-0"><strong>é˜¶æ®µ 0ï¼šåˆå§‹åŒ– &amp; Workspace æ‰«æ</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šå»ºç«‹ monorepo å…¨å±€è§†å›¾ï¼Œè¯†åˆ«æ‰€æœ‰å­åŒ…ã€‚</p>
<p><strong>æ ¹ç›®å½•å¤„ç†ï¼š</strong></p>
<ol>
<li>
<p>è¯»å– <code>pnpm-workspace.yaml</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">packages:
<span class="hljs-bullet">  -</span> packages/*
<span class="hljs-bullet">  -</span> apps/*
</code></pre>
<ul>
<li>æ ‡è¯†å“ªäº›ç›®å½•å±äº workspaceã€‚</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨ <strong>Glob</strong> å±•å¼€åŒ¹é…ç›®å½•ï¼š</p>
<ul>
<li><code>packages/*</code> â†’ <code>packages/ui</code></li>
<li><code>apps/*</code> â†’ <code>apps/web</code>, <code>apps/api</code></li>
</ul>
</li>
<li>
<p>éå†æ¯ä¸ªç›®å½•ï¼š</p>
<ul>
<li>æ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>package.json</code></li>
</ul>
</li>
<li>
<p>æ„å»º <strong>Package Map</strong>ï¼ˆå…¨å±€å†…å­˜è§†å›¾ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"@my-org/ui"</span>: { <span class="hljs-built_in">dir</span>: <span class="hljs-string">"packages/ui"</span>, version: <span class="hljs-string">"1.0.0"</span> },
  <span class="hljs-string">"@my-org/web"</span>: { <span class="hljs-built_in">dir</span>: <span class="hljs-string">"apps/web"</span>, version: <span class="hljs-string">"1.0.0"</span> },
  <span class="hljs-string">"@my-org/api"</span>: { <span class="hljs-built_in">dir</span>: <span class="hljs-string">"apps/api"</span>, version: <span class="hljs-string">"1.0.0"</span> }
}
</code></pre>
</li>
</ol>
<p><strong>å­åŒ…å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ­¤é˜¶æ®µå­åŒ…ä»…æä¾› <code>package.json</code> ä¿¡æ¯</li>
<li>ä¸åšå®é™…å®‰è£…ï¼Œåªè¢« pnpm ä½œä¸ºä¾èµ–æºè§£æ</li>
</ul>
<p><strong>æ¯”å–»</strong>ï¼šPackage Map å°±åƒ monorepo çš„æ¥¼å±‚å¯¼è§ˆå›¾ï¼Œæ¯ä¸ªå­åŒ…åŠå…¬å®¤çš„ä½ç½®å’Œç¼–å·éƒ½åœ¨ä¸Šé¢æ ‡æ¸…æ¥šã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>é˜¶æ®µ 1ï¼šè§£æå­åŒ…ä¾èµ–</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šæ˜ç¡®æ¯ä¸ªä¾èµ–çš„æ¥æºä¸ç‰ˆæœ¬ï¼Œç”Ÿæˆè§£æè®¡åˆ’ã€‚</p>
<p><strong>æ ¹ç›®å½•å¤„ç†ï¼š</strong></p>
<ul>
<li>
<p>éå†æ‰€æœ‰å­åŒ… <code>package.json</code></p>
</li>
<li>
<p>è¯†åˆ«ä¾èµ–åè®®ï¼š</p>
<ul>
<li><code>workspace:</code> â†’ æœ¬åœ° workspace åŒ…</li>
<li><code>catalog:</code> â†’ catalog ç®¡ç†çš„ç»Ÿä¸€ç‰ˆæœ¬</li>
<li>æ™®é€š semver â†’ registry ç¬¬ä¸‰æ–¹ä¾èµ–</li>
</ul>
</li>
</ul>
<p><strong>å­åŒ…å¤„ç†</strong>ï¼ˆä»¥ <code>apps/web</code> ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less">{
  "<span class="hljs-selector-tag">dependencies</span>": {
    "<span class="hljs-variable">@my-org</span>/ui<span class="hljs-string">": "</span><span class="hljs-attribute">workspace</span>:*",
    <span class="hljs-string">"react"</span>: <span class="hljs-string">"catalog:"</span>,
    <span class="hljs-string">"axios"</span>: <span class="hljs-string">"^1.6.0"</span>
  }
}
</code></pre>
<ol>
<li>
<p>workspace ä¾èµ–ï¼š</p>
<ul>
<li>æŸ¥ Package Map æ‰¾æœ¬åœ°è·¯å¾„</li>
<li>æ ‡è®°ä¸º <strong>link æœ¬åœ°</strong></li>
</ul>
</li>
<li>
<p>catalog ä¾èµ–ï¼š</p>
<ul>
<li>æŸ¥ catalog è¡¨ç¡®å®šç‰ˆæœ¬ï¼Œå¦‚ <code>"^18.2.0"</code></li>
</ul>
</li>
<li>
<p>registry ä¾èµ–ï¼š</p>
<ul>
<li>æ ‡è®°ä¸ºéœ€è¦ç¼“å­˜æˆ–ä¸‹è½½</li>
</ul>
</li>
</ol>
<p><strong>è¾“å‡º</strong>ï¼šæ¯ä¸ªå­åŒ…ç”Ÿæˆ <strong>ä¾èµ–è§£æè®¡åˆ’</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">apps/web:
[
  { name: <span class="hljs-string">"@my-org/ui"</span>, <span class="hljs-built_in">type</span>: <span class="hljs-string">"workspace"</span>, <span class="hljs-built_in">dir</span>: <span class="hljs-string">"packages/ui"</span>, version: <span class="hljs-string">"1.0.0"</span> },
  { name: <span class="hljs-string">"react"</span>, <span class="hljs-built_in">type</span>: <span class="hljs-string">"catalog"</span>, version: <span class="hljs-string">"^18.2.0"</span> },
  { name: <span class="hljs-string">"axios"</span>, <span class="hljs-built_in">type</span>: <span class="hljs-string">"registry"</span>, version: <span class="hljs-string">"^1.6.0"</span> }
]
</code></pre>
<p><strong>æ¯”å–»</strong>ï¼šæ¯ä¸ªå­åŒ…åšè‡ªå·±çš„é‡‡è´­æ¸…å•ï¼Œæ˜ç¡®â€œæœ¬åœ°æ‹¿ / catalog æ‹¿ / registry æ‹¿â€ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>é˜¶æ®µ 2ï¼šç‰ˆæœ¬å†²çªè§£å†³ &amp; æ‰å¹³åŒ–ä¼˜åŒ–</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šä¿è¯ä¾èµ–ç‰ˆæœ¬ä¸€è‡´ï¼Œå°½é‡å…±äº«ï¼Œå‡å°‘é‡å¤å®‰è£…ã€‚</p>
<p><strong>æ ¹ç›®å½•å¤„ç†ï¼š</strong></p>
<ol>
<li>
<p>æ„å»º <strong>å…¨å±€ä¾èµ–å›¾</strong>ï¼š</p>
<ul>
<li>æ•´åˆæ‰€æœ‰å­åŒ…è§£æè®¡åˆ’</li>
<li>è®°å½•ä¾èµ–æ¥æºã€ç‰ˆæœ¬ã€å­åŒ…ä¾èµ–å…³ç³»</li>
</ul>
</li>
<li>
<p>ç‰ˆæœ¬å†²çªè§£å†³ï¼š</p>
<ul>
<li>ç›¸åŒä¾èµ–ä¸åŒç‰ˆæœ¬ â†’ å°è¯•å•ä¸€å…¼å®¹ç‰ˆæœ¬</li>
<li>ä¸å…¼å®¹ç‰ˆæœ¬ â†’ å­åŒ…éš”ç¦»å®‰è£…</li>
</ul>
</li>
<li>
<p>æ‰å¹³åŒ–ä¼˜åŒ–ï¼š</p>
<ul>
<li>ç›¸åŒç‰ˆæœ¬ä¾èµ–åªå­˜ä¸€ä»½åœ¨ <code>.pnpm</code></li>
<li>å­åŒ… node_modules é€šè¿‡ symlink æŒ‡å‘å…±äº«ä½ç½®</li>
</ul>
</li>
<li>
<p>ç”Ÿæˆæœ€ç»ˆå®‰è£…è®¡åˆ’</p>
</li>
</ol>
<p><strong>å­åŒ…å¤„ç†</strong>ï¼š</p>
<ul>
<li>
<p>æ¯ä¸ªå­åŒ…æ ¹æ®ä¾èµ–è§£æè®¡åˆ’å’Œå…¨å±€ä¼˜åŒ–ç»“æœç”Ÿæˆè‡ªå·±çš„ node_modules ç»“æ„ï¼š</p>
<ul>
<li>workspace â†’ symlink æœ¬åœ°åŒ…</li>
<li>catalog / registry â†’ symlink å…¨å±€ç¼“å­˜</li>
</ul>
</li>
<li>
<p>å­åŒ…å†…éƒ¨ä»æœªå†™ç‰©ç†æ–‡ä»¶ï¼Œåªæ˜¯ç¡®å®šäº†â€œä¾èµ–æœ€ç»ˆæ”¾å“ªã€ç‰ˆæœ¬æ˜¯å¤šå°‘â€</p>
</li>
</ul>
<p><strong>æ¯”å–»</strong>ï¼šåƒä»“åº“åè°ƒé‡‡è´­ï¼š</p>
<ul>
<li>é˜¶æ®µ 1 â†’ æ¯ä¸ªå­åŒ…åˆ—æ¸…å•</li>
<li>é˜¶æ®µ 2 â†’ å†³å®šå“ªäº›ç‰©å“å…±äº«ã€å“ªäº›å•ç‹¬å­˜æ”¾ï¼Œå¹¶ç”»å¥½æŒ‡å‘ç®­å¤´ï¼ˆsymlinkï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3"><strong>é˜¶æ®µ 3ï¼šä¸‹è½½ &amp; ç¼“å­˜ç®¡ç†</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šæŠŠ registry / catalog ä¾èµ–æ”¾åˆ°æœ¬åœ°ç¼“å­˜ã€‚</p>
<p><strong>æ ¹ç›®å½•å¤„ç†</strong>ï¼š</p>
<ul>
<li>éå†å…¨å±€ä¾èµ–å›¾</li>
<li>æ£€æŸ¥å…¨å±€ç¼“å­˜ <code>~/.pnpm-store</code></li>
<li>ç¼“å­˜æ²¡æœ‰ â†’ ä» npm registry ä¸‹è½½</li>
<li>ä¸‹è½½å®Œæˆ â†’ å†™å…¥ç¼“å­˜</li>
</ul>
<p><strong>å­åŒ…å¤„ç†</strong>ï¼š</p>
<ul>
<li>å­åŒ… node_modules ä¸ç›´æ¥å­˜æ–‡ä»¶</li>
<li>symlink æŒ‡å‘å…¨å±€ç¼“å­˜ / workspace æœ¬åœ°åŒ…</li>
</ul>
<p><strong>æ¯”å–»</strong>ï¼šä»“åº“å…ˆæŸ¥åº“å­˜ï¼Œæ²¡è´§å†ä¹°ï¼Œå­åŒ…åªæŒ‚æŒ‡å‘ç®­å¤´ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>é˜¶æ®µ 4ï¼šæ„å»ºå­åŒ… node_modules</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šæŠŠä¾èµ–è½åœ°åˆ°æ¯ä¸ªå­åŒ…ã€‚</p>
<p><strong>æ“ä½œ</strong>ï¼š</p>
<ul>
<li>
<p>éå†æ¯ä¸ªå­åŒ…å®‰è£…è®¡åˆ’ï¼š</p>
<ul>
<li>workspace â†’ link æœ¬åœ°åŒ…</li>
<li>catalog / registry â†’ link ç¼“å­˜ç›®å½•</li>
</ul>
</li>
<li>
<p>ç¡®ä¿æ‰å¹³åŒ–ç»“æ„ã€ä¾èµ–æ ‘å®Œæ•´</p>
</li>
</ul>
<p><strong>å­åŒ…å†…éƒ¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">apps/web/node_modules/
  @my-org/ui -&gt; ../../packages/ui (symlink)
  react -&gt; ../../.pnpm/react@18.2.0/node_modules/react
  axios -&gt; ../../.pnpm/axios@1.6.0/node_modules/axios
</code></pre>
<p><strong>æ¯”å–»</strong>ï¼šåƒæŠŠå…±äº«ä»“åº“çš„ç‰©å“æ”¾åˆ°åŠå…¬å®¤æ¡Œä¸Šï¼Œé€šè¿‡ symlink æŒ‡å‘çœŸå®ç‰©å“ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>é˜¶æ®µ 5ï¼šç”Ÿå‘½å‘¨æœŸè„šæœ¬æ‰§è¡Œ</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šæ‰§è¡Œå­åŒ…åˆå§‹åŒ–ä¸æ„å»ºè„šæœ¬ã€‚</p>
<ul>
<li>preinstall â†’ å®‰è£…å‰å‡†å¤‡</li>
<li>install â†’ å†…éƒ¨å®‰è£…è¡Œä¸º</li>
<li>postinstall â†’ æ„å»º/ç”Ÿæˆæ–‡ä»¶/é“¾æ¥å·¥å…·</li>
</ul>
<p><strong>å­åŒ…å¤„ç†</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªå­åŒ…å¯æ‰§è¡Œè‡ªå·±çš„ lifecycle scriptsï¼Œç¡®ä¿å®‰è£…å®Œæˆå³å¯è¿è¡Œ</li>
</ul>
<hr/>
<h2 data-id="heading-6"><strong>é˜¶æ®µ 6ï¼šlockfile æ›´æ–°</strong></h2>
<p><strong>ç›®æ ‡</strong>ï¼šè®°å½•ä¾èµ–æœ€ç»ˆç‰ˆæœ¬ï¼Œä¿è¯ä¸€è‡´æ€§ã€‚</p>
<ul>
<li>
<p>æ ¹ç›®å½•ç”Ÿæˆ/æ›´æ–° <code>pnpm-lock.yaml</code></p>
</li>
<li>
<p>è®°å½•ï¼š</p>
<ul>
<li>åŒ…å</li>
<li>ç‰ˆæœ¬</li>
<li>æ¥æº</li>
<li>æ ¡éªŒå’Œ</li>
</ul>
</li>
<li>
<p>å­åŒ…æ— éœ€å•ç‹¬æ“ä½œï¼Œä½† lockfile å†³å®šæœªæ¥å®‰è£…ä¸€è‡´æ€§</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-7"><strong>é˜¶æ®µ 7ï¼šæœ€ç»ˆæ£€æŸ¥ &amp; å®Œæˆå®‰è£…</strong></h2>
<ul>
<li>æ ¡éªŒä¾èµ–æ ‘å®Œæ•´æ€§</li>
<li>ç¡®ä¿ symlinkã€ç¼“å­˜ã€node_modules æ­£ç¡®</li>
<li>æ¯ä¸ªå­åŒ…å¯ç›´æ¥ <code>import</code> / <code>require</code> æ‰€æœ‰ä¾èµ–</li>
</ul>
<hr/>
<h2 data-id="heading-8"><strong>å…¨æµç¨‹æ€»ç»“</strong></h2>
<pre><code class="hljs language-scss" lang="scss">pnpm install (æ ¹ç›®å½•)
 â”œâ”€&gt; åˆå§‹åŒ– &amp; workspace æ‰«æ â†’ æ„å»º Package Map
 â”‚     â””â”€&gt; å­åŒ…æä¾› package<span class="hljs-selector-class">.json</span>
 â”œâ”€&gt; éå†å­åŒ… â†’ è§£æä¾èµ– (workspace / catalog / registry)
 â”‚     â””â”€&gt; æ¯ä¸ªå­åŒ…ç”Ÿæˆä¾èµ–è§£æè®¡åˆ’
 â”œâ”€&gt; ç‰ˆæœ¬å†²çªè§£å†³ &amp; æ‰å¹³åŒ–ä¼˜åŒ– â†’ æ„å»ºå…¨å±€ä¾èµ–å›¾
 â”‚     â””â”€&gt; å­åŒ…ç”Ÿæˆæœ€ç»ˆ node_modules å®‰è£…è®¡åˆ’
 â”œâ”€&gt; ä¸‹è½½ç¼ºå¤±ä¾èµ– â†’ å†™å…¥å…¨å±€ç¼“å­˜
 â”‚     â””â”€&gt; å­åŒ… symlink æŒ‡å‘ç¼“å­˜ / workspace
 â”œâ”€&gt; æ„å»ºå­åŒ… node_modules â†’ symlink workspace + catalog/registry
 â”œâ”€&gt; æ‰§è¡Œç”Ÿå‘½å‘¨æœŸè„šæœ¬ (preinstall / install / postinstall)
 â”‚     â””â”€&gt; å­åŒ…å®Œæˆåˆå§‹åŒ–å’Œæ„å»º
 â”œâ”€&gt; æ›´æ–° lockfile â†’ è®°å½•æœ€ç»ˆä¾èµ–ç‰ˆæœ¬ä¸æ¥æº
 â””â”€&gt; æœ€ç»ˆæ£€æŸ¥ â†’ å­åŒ…ä¾èµ–å®Œæ•´ï¼Œå®‰è£…å®Œæˆ
</code></pre>
<hr/>
<h2 data-id="heading-9"><strong>æ ¸å¿ƒç†è§£</strong></h2>
<ol>
<li><strong>Package Map</strong> â†’ workspace å…¨å±€è§†å›¾ï¼Œå­åŒ…ä½ç½® + ç‰ˆæœ¬</li>
<li><strong>workspace åè®®</strong> â†’ å¼ºåˆ¶æœ¬åœ°ä¾èµ–ï¼Œä¿è¯ link</li>
<li><strong>catalog åè®®</strong> â†’ ç»Ÿä¸€ç¬¬ä¸‰æ–¹ä¾èµ–ç‰ˆæœ¬</li>
<li><strong>node_modules æ„å»º</strong> â†’ æ‰å¹³åŒ– + symlinkï¼Œæ¯ä¸ªå­åŒ…çœ‹åˆ°å®Œæ•´ä¾èµ–</li>
<li><strong>ç¼“å­˜ç®¡ç†</strong> â†’ ä¸‹è½½ä¸€æ¬¡ï¼Œå…¨å±€å¤ç”¨</li>
<li><strong>lockfile &amp; lifecycle scripts</strong> â†’ ä¿è¯å®‰è£…ä¸€è‡´æ€§ + åˆå§‹åŒ–å®Œæˆ</li>
</ol>
<blockquote>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š<br/>
<code>pnpm install</code> = æ ¹ç›®å½•æ‰«æ â†’ åè®®è§£æ â†’ ç‰ˆæœ¬å†²çªä¼˜åŒ– â†’ ç¼“å­˜ä¸‹è½½ â†’ å­åŒ… node_modules æ„å»º â†’ ç”Ÿå‘½å‘¨æœŸè„šæœ¬æ‰§è¡Œ â†’ lockfile æ›´æ–° â†’ å­åŒ…å¯ç›´æ¥ä½¿ç”¨ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hookså¦‚ä½•å®ç° å»this and å»ç»„ä»¶è€¦åˆ]]></title>    <link>https://juejin.cn/post/7598588085597388840</link>    <guid>https://juejin.cn/post/7598588085597388840</guid>    <pubDate>2026-01-25T09:31:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598588085597388840" data-draft-id="7598699872540114963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hookså¦‚ä½•å®ç° å»this and å»ç»„ä»¶è€¦åˆ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-25T09:31:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sophieæ—­"/> <meta itemprop="url" content="https://juejin.cn/user/2559318799692952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hookså¦‚ä½•å®ç° å»this and å»ç»„ä»¶è€¦åˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318799692952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sophieæ—­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:31:02.000Z" title="Sun Jan 25 2026 09:31:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p><a href="https://juejin.cn/post/7598287024077242408" target="_blank" title="https://juejin.cn/post/7598287024077242408">ä¸Šç¯‡æ–‡ç« </a>æˆ‘ä»¬èŠäº†Hooksè¯ç”Ÿåˆå¿ƒæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œä»Šå¤©æˆ‘ä»¬ç»§ç»­æ¢è®¨ Hooksçš„ å…·ä½“æ‰§è¡Œæ–¹æ¡ˆ</p>
<h2 data-id="heading-1">å‰ç½®ï¼šå…ˆå»ºç«‹ã€Œå‡½æ•°ç»„ä»¶ + Hookã€çš„å…¨å±€æ‰§è¡Œæµç¨‹</h2>
<p>Hook çš„æ‰€æœ‰æ“ä½œéƒ½åµŒå¥—åœ¨ React å¤„ç†å‡½æ•°ç»„ä»¶çš„å®Œæ•´æµç¨‹ä¸­ï¼Œå…ˆæŠŠè¿™ä¸ªâ€œå¤§æ¡†æ¶â€è®²æ¸…æ¥šï¼Œåç»­æ¯ä¸ªé—®é¢˜çš„è§£å†³è¿‡ç¨‹éƒ½èƒ½å¥—è¿›è¿™ä¸ªæ¡†æ¶é‡Œï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[è§¦å‘å‡½æ•°ç»„ä»¶æ¸²æŸ“] --&gt;|æ¯”å¦‚é¦–æ¬¡æŒ‚è½½/setState/çˆ¶ç»„ä»¶æ›´æ–°| B[React è°ƒç”¨ updateFunctionComponent]
    B --&gt; C[è°ƒç”¨ renderWithHooks:æ­å»º Hook è¿è¡Œç¯å¢ƒ]
    C --&gt; C1[ç»‘å®šå½“å‰ fiber åˆ°å…¨å±€å˜é‡]
    C --&gt; C2[æ¸…ç©º fiber æ—§çš„ Hook é“¾è¡¨/å‰¯ä½œç”¨é“¾è¡¨]
    C --&gt; C3[åˆ‡æ¢ Dispatcher:mount-&gt;åˆå§‹åŒ– Hook,update-&gt;æ›´æ–° Hook]
    C --&gt; D[æ‰§è¡Œå‡½æ•°ç»„ä»¶æœ¬èº«,è§¦å‘å†…éƒ¨æ‰€æœ‰ Hook è°ƒç”¨åŒ…æ‹¬useState/useEffect/è‡ªå®šä¹‰ Hook]
    D --&gt; D1[mount é˜¶æ®µ:åˆ›å»º Hook èŠ‚ç‚¹,å­˜å…¥ fiber.memoizedState é“¾è¡¨]
    D --&gt; D2[update é˜¶æ®µ:ä» fiber è¯»å–æ—§ Hook èŠ‚ç‚¹,è®¡ç®—æ–°çŠ¶æ€/åˆ¤æ–­å‰¯ä½œç”¨æ˜¯å¦æ‰§è¡Œ]
    D --&gt; E[renderWithHooks é‡ç½® Dispatcher,è¿”å›è™šæ‹Ÿ DOM]
    E --&gt; F[React è¿›å…¥ commit é˜¶æ®µ:æ›´æ–°çœŸå® DOM]
    F --&gt; F1[æ‰§è¡Œ useLayoutEffect å›è°ƒ-åŒæ­¥]
    F --&gt; F2[æµè§ˆå™¨ç»˜åˆ¶é¡µé¢]
    F --&gt; F3[å¼‚æ­¥æ‰§è¡Œ useEffect å›è°ƒ]
    F --&gt; G[ç»„ä»¶å¸è½½æ—¶:æ‰§è¡Œ useEffect/useLayoutEffect çš„ cleanup å‡½æ•°] 
</code></pre>
<p>è¿™ä¸ªæµç¨‹æ˜¯ Hook è§£å†³æ‰€æœ‰é—®é¢˜çš„â€œè½½ä½“â€ï¼Œä¸‹é¢æ¯ä¸ªé—®é¢˜çš„è§£å†³è¿‡ç¨‹ï¼Œéƒ½æ˜¯è¿™ä¸ªæµç¨‹ä¸­æŸä¸ªç¯èŠ‚çš„å…·ä½“å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸€ã€è§£å†³ç±»ç»„ä»¶ <code>this</code> æŒ‡å‘æ··ä¹±ï¼šä»â€œä¾èµ–å®ä¾‹â€åˆ°â€œä¾èµ– fiber + é—­åŒ…â€</h2>
<h3 data-id="heading-3">1. ç±»ç»„ä»¶çš„å…·ä½“ç—›ç‚¹ï¼ˆå¸¦ä»£ç ä¾‹å­ï¼‰</h3>
<p>ç±»ç»„ä»¶çš„çŠ¶æ€ã€æ–¹æ³•éƒ½ç»‘å®šåœ¨ <code>this</code> ä¸Šï¼Œç¨ä¸æ³¨æ„å°±ä¼šå‡ºé—®é¢˜ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»ç»„ä»¶çš„ this å‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-variable language_">super</span>(props);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
    <span class="hljs-comment">// å¿…é¡»æ‰‹åŠ¨ bind thisï¼Œå¦åˆ™ç‚¹å‡»æ—¶ this ä¸º undefined</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
  }

  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¼‚æ­¥ setState ä¸­ï¼Œthis.state å¯èƒ½æ‹¿åˆ°æ—§å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>); <span class="hljs-comment">// è¾“å‡ºæ—§å€¼ï¼Œè€Œéæ›´æ–°åçš„å€¼</span>
  }
 
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.handleClick}</span>&gt;</span>{this.state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
  }
}
</code></pre>
<p>ç—›ç‚¹æœ¬è´¨ï¼š<code>this</code> æ˜¯åŠ¨æ€çš„ï¼ŒçŠ¶æ€ä¾èµ– <code>this</code> è®¿é—®ï¼Œå¼‚æ­¥æ›´æ–°+ç»‘å®šé”™è¯¯ä¼šå¯¼è‡´çŠ¶æ€è¯»å–/ä¿®æ”¹å¼‚å¸¸ã€‚</p>
<h4 data-id="heading-4">2. Hook çš„è§£å†³æ€è·¯ + å®Œæ•´å®ç°è¿‡ç¨‹</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼š<strong>å½»åº•æŠ›å¼ƒ <code>this</code>ï¼ŒæŠŠçŠ¶æ€å­˜åœ¨ fiber èŠ‚ç‚¹ï¼ˆæŒä¹…åŒ–ï¼‰ï¼Œç”¨é—­åŒ…ä¿å­˜å½“å‰æ¸²æŸ“çš„çŠ¶æ€ï¼ˆæ— éœ€ this è®¿é—®ï¼‰</strong>ã€‚</p>
<h5 data-id="heading-5">æ­¥éª¤ 1ï¼šrenderWithHooks æ­å»ºç¯å¢ƒï¼ˆç»‘å®š fiberï¼‰</h5>
<p>å½“æ‰§è¡Œ <code>renderWithHooks</code> æ—¶ï¼Œä¼šæŠŠå½“å‰ç»„ä»¶çš„ fiber ç»‘å®šåˆ°å…¨å±€å˜é‡ <code>currentlyRenderingFiber</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ renderWithHooks æ ¸å¿ƒä»£ç </span>
<span class="hljs-keyword">let</span> currentlyRenderingFiber; <span class="hljs-comment">// å…¨å±€ï¼šæ ‡è®°å½“å‰æ¸²æŸ“çš„ fiber</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">renderWithHooks</span>(<span class="hljs-params">workInProgress, Component</span>) {
  currentlyRenderingFiber = workInProgress; <span class="hljs-comment">// ç»‘å®š fiber</span>
  workInProgress.<span class="hljs-property">memoizedState</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ¸…ç©ºæ—§ Hook é“¾è¡¨</span>
  <span class="hljs-title class_">ReactCurrentDispatcher</span>.<span class="hljs-property">current</span> = <span class="hljs-title class_">HooksDispatcherOnMount</span>; <span class="hljs-comment">// åˆ‡æ¢åˆ° mount æ¨¡å¼</span>
  <span class="hljs-keyword">const</span> children = <span class="hljs-title class_">Component</span>(); <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°ç»„ä»¶</span>
  <span class="hljs-title class_">ReactCurrentDispatcher</span>.<span class="hljs-property">current</span> = <span class="hljs-title class_">ContextOnlyDispatcher</span>; <span class="hljs-comment">// é‡ç½®</span>
  <span class="hljs-keyword">return</span> children;
}
</code></pre>
<h3 data-id="heading-6">è¿™é‡Œæœ‰å‡ ä¸ªæ¦‚å¿µéœ€è¦è·Ÿå¤§å®¶ç§‘æ™®ä¸€ä¸‹</h3>
<h3 data-id="heading-7">ä»€ä¹ˆæ˜¯ workInProgressï¼Ÿå®ƒæ˜¯ä½•æ—¶è¢«åˆ›å»ºå‡ºæ¥çš„ï¼Ÿ</h3>
<h4 data-id="heading-8">å…ˆå˜æ¸…ä¸¤ä¸ªæ ¸å¿ƒ fiber å˜é‡ï¼ˆrenderWithHooks çš„å…¥å‚ï¼‰</h4>
<p>åœ¨ <code>renderWithHooks</code> çš„è°ƒç”¨é€»è¾‘é‡Œï¼Œå®ƒçš„å…¥å‚æ˜¯è¿™æ ·çš„ï¼ˆå›é¡¾ä¹‹å‰çš„ç®€åŒ–ä»£ç ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderWithHooks</span>(<span class="hljs-params">current, workInProgress, Component, props</span>) {
  currentlyRenderingFiber = workInProgress; <span class="hljs-comment">// ç»‘å®šçš„æ˜¯ workInProgress</span>
  <span class="hljs-comment">// ... å…¶ä»–é€»è¾‘</span>
}
</code></pre>
<p>è¿™ä¸¤ä¸ª fiber çš„å«ä¹‰å’Œé¦–æ¬¡æ¸²æŸ“æ—¶çš„çŠ¶æ€å®Œå…¨ä¸åŒï¼š</p>























<table><thead><tr><th>fiber å˜é‡</th><th>æ ¸å¿ƒå«ä¹‰</th><th>é¦–æ¬¡æ¸²æŸ“æ—¶çš„å€¼</th><th>éé¦–æ¬¡æ¸²æŸ“æ—¶çš„å€¼</th></tr></thead><tbody><tr><td><code>current</code></td><td>å·²æäº¤åˆ°çœŸå® DOM çš„ã€Œæ—§ fiberã€ï¼ˆç¨³å®šç‰ˆï¼‰</td><td><code>null</code></td><td>ä¸Šä¸€æ¬¡æ¸²æŸ“å®ŒæˆåæŒ‚è½½åˆ° DOM çš„ fiber</td></tr><tr><td><code>workInProgress</code></td><td>æœ¬æ¬¡æ¸²æŸ“æ­£åœ¨æ„å»ºçš„ã€Œæ–° fiberã€ï¼ˆå·¥ä½œç‰ˆï¼‰</td><td>æœ‰å€¼ï¼ˆé nullï¼‰</td><td>åŸºäº current å¤åˆ¶/æ›´æ–°çš„æ–° fiber</td></tr></tbody></table>
<h4 data-id="heading-9">ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶çš„ fiber å®Œæ•´åˆ›å»ºæµç¨‹ï¼ˆä¸ºä»€ä¹ˆ workInProgress ä¸æ˜¯ nullï¼‰</h4>
<p>å½“ä½ æ‰§è¡Œ <code>ReactDOM.render(&lt;App /&gt;, root)</code> è§¦å‘é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä¼šå…ˆå®Œæˆã€ŒworkInProgress fiber çš„åˆ›å»ºã€ï¼Œå†è°ƒç”¨ <code>renderWithHooks</code>ï¼Œæ•´ä¸ªæµç¨‹æ˜¯ï¼š</p>
<h5 data-id="heading-10">æ­¥éª¤ 1ï¼šReact åˆå§‹åŒ–æ ¹ fiber</h5>
<p>React ä¼šå…ˆä¸ºæ ¹èŠ‚ç‚¹ï¼ˆ<code>root</code>ï¼‰åˆ›å»ºä¸€ä¸ªã€Œæ ¹ fiberã€ï¼Œç„¶åä¸º <code>&lt;App /&gt;</code> ç»„ä»¶åˆ›å»ºå¯¹åº”çš„ <code>workInProgress fiber</code> èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šåŒ…å«åŸºç¡€å±æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact å…ˆåˆ›å»ºçš„ App ç»„ä»¶ workInProgress fiber</span>
<span class="hljs-keyword">const</span> workInProgress = {
  <span class="hljs-attr">memoizedState</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// åˆå§‹ä¸ºç©ºï¼Œåç»­å­˜ Hook é“¾è¡¨</span>
  <span class="hljs-attr">stateNode</span>: <span class="hljs-title class_">App</span>,      <span class="hljs-comment">// æŒ‡å‘å‡½æ•°ç»„ä»¶æœ¬èº«ï¼ˆApp å‡½æ•°ï¼‰</span>
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">App</span>,           <span class="hljs-comment">// ç»„ä»¶ç±»å‹</span>
  <span class="hljs-comment">// å…¶ä»–æ ¸å¿ƒå±æ€§ï¼ˆæ¯”å¦‚ propsã€effectTag ç­‰ï¼‰</span>
};
</code></pre>
<p>æ­¤æ—¶ <code>workInProgress</code> æ˜¯ä¸€ä¸ªå®Œæ•´çš„ fiber å¯¹è±¡ï¼Œ<strong>ç»å¯¹ä¸æ˜¯ null</strong>â€”â€”å¦‚æœå®ƒæ˜¯ nullï¼ŒHook å°±æ²¡æœ‰â€œæŒ‚è½½çŠ¶æ€çš„è½½ä½“â€ï¼Œæ•´ä¸ª Hook æœºåˆ¶ä¼šç›´æ¥å´©æºƒã€‚</p>
<h5 data-id="heading-11">æ­¥éª¤ 2ï¼šè°ƒç”¨ renderWithHooksï¼Œç»‘å®š workInProgress åˆ°å…¨å±€</h5>
<p>React è°ƒç”¨ <code>updateFunctionComponent</code>ï¼ˆå¤„ç†å‡½æ•°ç»„ä»¶çš„æ ¸å¿ƒå‡½æ•°ï¼‰ï¼Œç„¶ååœ¨å†…éƒ¨è°ƒç”¨ <code>renderWithHooks</code>ï¼Œå…¥å‚ä¸ºï¼š</p>
<ul>
<li><code>current: null</code>ï¼ˆé¦–æ¬¡æ¸²æŸ“æ²¡æœ‰å·²æäº¤çš„æ—§ fiberï¼‰ï¼›</li>
<li><code>workInProgress: æ­¥éª¤1åˆ›å»ºçš„ fiber å¯¹è±¡</code>ï¼ˆé nullï¼‰ï¼›</li>
<li><code>Component: App</code>ï¼ˆä½ çš„å‡½æ•°ç»„ä»¶ï¼‰ã€‚</li>
</ul>
<p>æ‰€ä»¥æ‰§è¡Œ <code>currentlyRenderingFiber = workInProgress</code> åï¼Œè¿™ä¸ªå…¨å±€å˜é‡çš„å€¼æ˜¯<strong>æ­¥éª¤1åˆ›å»ºçš„ fiber å¯¹è±¡</strong>ï¼Œè€Œé nullã€‚</p>
<h5 data-id="heading-12">æ­¥éª¤ 3ï¼šcurrent ä¸º null çš„å½±å“ï¼ˆåˆ‡æ¢ Dispatcherï¼‰</h5>
<p>æ­£å› ä¸º <code>current === null</code>ï¼Œ<code>renderWithHooks</code> ä¼šæŠŠ <code>ReactCurrentDispatcher.current</code> åˆ‡æ¢ä¸º <code>HooksDispatcherOnMount</code>ï¼ˆæŒ‚è½½ç‰ˆ Dispatcherï¼‰ï¼Œè¿™ä¹Ÿæ˜¯é¦–æ¬¡æ¸²æŸ“æ—¶ <code>useState</code> ä¼šæ‰§è¡Œ <code>mountState</code> åˆå§‹åŒ– Hook çš„åŸå› ã€‚</p>
<h4 data-id="heading-13">ä¸ºä»€ä¹ˆä½ ä¼šè¯¯ä»¥ä¸ºâ€œé¦–æ¬¡æ¸²æŸ“ fiber æ˜¯ nullâ€ï¼Ÿ</h4>
<p>å¤§æ¦‚ç‡æ˜¯æ··æ·†äº†ä¸¤ä¸ªç‚¹ï¼š</p>
<ol>
<li><strong>æŠŠ <code>current</code> å½“æˆäº† <code>workInProgress</code></strong>ï¼š<code>current</code> é¦–æ¬¡æ¸²æŸ“æ˜¯ nullï¼Œä½†å®ƒåªæ˜¯â€œæ—§ fiber å¼•ç”¨â€ï¼Œä¸æ˜¯ Hook ä¾èµ–çš„â€œå½“å‰å·¥ä½œ fiberâ€ï¼›</li>
<li><strong>æŠŠ <code>workInProgress.memoizedState</code> å½“æˆäº† fiber æœ¬èº«</strong>ï¼šé¦–æ¬¡æ¸²æŸ“æ—¶ <code>workInProgress.memoizedState</code> æ˜¯ nullï¼ˆå› ä¸ºè¿˜æ²¡åˆ›å»º Hook é“¾è¡¨ï¼‰ï¼Œä½† fiber èŠ‚ç‚¹æœ¬èº«æ˜¯å®Œæ•´çš„ï¼Œ<code>memoizedState</code> åªæ˜¯ fiber çš„ä¸€ä¸ªå±æ€§ã€‚</li>
</ol>
<h4 data-id="heading-14">éªŒè¯ï¼šå¦‚æœ workInProgress æ˜¯ null ä¼šæ€æ ·ï¼Ÿ</h4>
<p>æˆ‘ä»¬å¯ä»¥åæ¨â€”â€”å¦‚æœ <code>currentlyRenderingFiber</code> æ˜¯ nullï¼Œå½“ä½ é¦–æ¬¡æ¸²æŸ“è°ƒç”¨ <code>useState</code> æ—¶ï¼Œ<code>mountState</code> é‡Œçš„è¿™æ®µä»£ç ä¼šç›´æ¥å‡ºé”™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mountState</span>(<span class="hljs-params">initialState</span>) {
  <span class="hljs-keyword">const</span> hook = { <span class="hljs-comment">/* ... */</span> };
  <span class="hljs-comment">// å¦‚æœ currentlyRenderingFiber æ˜¯ nullï¼Œè¿™é‡Œä¼šæŠ¥â€œæ— æ³•è¯»å– memoizedState çš„ undefinedâ€</span>
  <span class="hljs-keyword">if</span> (!currentlyRenderingFiber.<span class="hljs-property">memoizedState</span>) {
    currentlyRenderingFiber.<span class="hljs-property">memoizedState</span> = hook;
  }
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è€Œ React æºç ä¸­åšäº†ä¸¥æ ¼çš„è¾¹ç•Œå¤„ç†ï¼š<strong>åªæœ‰å½“ workInProgress å­˜åœ¨æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ renderWithHooks</strong>ï¼Œæ‰€ä»¥é¦–æ¬¡æ¸²æŸ“æ—¶è¿™ä¸ªå…¨å±€å˜é‡å¿…ç„¶æœ‰å€¼ã€‚</p>
<h4 data-id="heading-15">æ€»ç»“</h4>
<ol>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œ<code>renderWithHooks</code> ç»‘å®šçš„ <code>currentlyRenderingFiber</code>ï¼ˆå³ <code>workInProgress</code>ï¼‰<strong>ä¸æ˜¯ null</strong>ï¼Œå®ƒæ˜¯ <strong><code>React æå‰åˆ›å»ºçš„ã€å½“å‰æ­£åœ¨æ„å»ºçš„ fiber èŠ‚ç‚¹ï¼›ä¹Ÿå°±æ˜¯è¯´åœ¨æ‰§è¡Œå‡½æ•°ç»„ä»¶æ—¶æå‰åˆ›å»ºçš„</code></strong></li>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶ <code>current</code> æ˜¯ nullï¼ˆæ— æ—§ fiberï¼‰ï¼Œè¿™æ˜¯åˆ‡æ¢â€œæŒ‚è½½ç‰ˆ Dispatcherâ€çš„åˆ¤æ–­ä¾æ®ï¼›</li>
<li><code>workInProgress.memoizedState</code> åˆå§‹ä¸º nullï¼ˆæ—  Hook é“¾è¡¨ï¼‰ï¼Œä½† fiber èŠ‚ç‚¹æœ¬èº«æ˜¯å®Œæ•´çš„ï¼Œåç»­ä¼šè¢« Hook èŠ‚ç‚¹å¡«å……ã€‚</li>
</ol>
<p>è¿™ä¸ªç»†èŠ‚ä¹Ÿå°è¯äº†ä¹‹å‰çš„æ ¸å¿ƒç»“è®ºï¼šHook çš„çŠ¶æ€æœ€ç»ˆæŒ‚è½½åœ¨ <code>workInProgress</code>ï¼ˆåç»­ä¼šå˜æˆ <code>current</code>ï¼‰fiber ä¸Šï¼Œé¦–æ¬¡æ¸²æŸ“æ—¶ React å·²ç»ä¸ºå‡½æ•°ç»„ä»¶å‡†å¤‡å¥½äº†è¿™ä¸ªâ€œçŠ¶æ€è½½ä½“â€ï¼Œæ‰€ä»¥ Hook æ‰èƒ½æ­£å¸¸åˆå§‹åŒ–ã€‚</p>
<h3 data-id="heading-16">ä¸ºä»€ä¹ˆæ¯æ¬¡æ¸²æŸ“å‰éœ€è¦ æ¸…ç©ºhooké“¾è¡¨ï¼Ÿ</h3>
<h4 data-id="heading-17">å…ˆæ˜ç¡®ï¼šâ€œæ¸…ç©ºâ€çš„ä¸æ˜¯ã€Œæ—§çŠ¶æ€ã€ï¼Œæ˜¯ã€Œæœ¬æ¬¡æ¸²æŸ“æ–° fiber çš„ä¸´æ—¶é“¾è¡¨ã€</h4>
<p>é¦–å…ˆè¦çº æ­£ä¸€ä¸ªè®¤çŸ¥ï¼š
<code>renderWithHooks</code> é‡Œæ¸…ç©ºçš„æ˜¯ <code>workInProgress.memoizedState</code>ï¼ˆæœ¬æ¬¡æ¸²æŸ“çš„æ–° fiberï¼‰ï¼Œè€Œä¸æ˜¯ <code>current.memoizedState</code>ï¼ˆå·²æäº¤çš„æ—§ fiberï¼‰â€”â€”<strong><code>æ—§çŠ¶æ€ä¾ç„¶ä¿å­˜åœ¨ </code>current<code> fiber ä¸­ï¼Œæ¸…ç©ºåªæ˜¯è®©æ–° fiber ä»â€œç©ºç™½â€å¼€å§‹é‡æ–°æ„å»ºé“¾è¡¨</code></strong>ã€‚</p>
<p>ç®€åŒ–ä»£ç å†å¼ºè°ƒè¿™ä¸€ç‚¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">renderWithHooks</span>(<span class="hljs-params">current, workInProgress, Component</span>) {
  currentlyRenderingFiber = workInProgress;
  
  <span class="hljs-comment">// æ¸…ç©ºçš„æ˜¯ã€Œæœ¬æ¬¡æ¸²æŸ“çš„æ–° fiberã€çš„é“¾è¡¨ï¼Œä¸æ˜¯æ—§ fiber çš„</span>
  workInProgress.<span class="hljs-property">memoizedState</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ¸…ç©º Hook é“¾è¡¨ï¼ˆæ–° fiberï¼‰</span>
  workInProgress.<span class="hljs-property">updateQueue</span> = <span class="hljs-literal">null</span>;   <span class="hljs-comment">// æ¸…ç©ºå‰¯ä½œç”¨é“¾è¡¨ï¼ˆæ–° fiberï¼‰</span>
  
  <span class="hljs-comment">// åˆ‡æ¢ Dispatcherï¼šmount/update</span>
  <span class="hljs-title class_">ReactCurrentDispatcher</span>.<span class="hljs-property">current</span> = current === <span class="hljs-literal">null</span> ? <span class="hljs-title class_">HooksDispatcherOnMount</span> : <span class="hljs-title class_">HooksDispatcherOnUpdate</span>;
  
  <span class="hljs-keyword">const</span> children = <span class="hljs-title class_">Component</span>(); <span class="hljs-comment">// æ‰§è¡Œç»„ä»¶ï¼Œé‡æ–°æ„å»ºæ–°é“¾è¡¨</span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 data-id="heading-18">æ ¸å¿ƒåŸå›  1ï¼šä¿è¯ Hook é“¾è¡¨ä¸ã€Œæœ¬æ¬¡æ¸²æŸ“çš„ Hook è°ƒç”¨é¡ºåºã€ä¸¥æ ¼ä¸€è‡´</h4>
<p>å‡½æ•°ç»„ä»¶çš„æ ¸å¿ƒç‰¹æ€§æ˜¯ã€Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–°æ‰§è¡Œæ•´ä¸ªå‡½æ•°ã€ï¼ŒHook çš„è°ƒç”¨é¡ºåºå¯èƒ½å› é€»è¾‘å˜åŒ–ï¼ˆæ¯”å¦‚æ¡ä»¶ Hookï¼Œè™½ç„¶ä¸æ¨èï¼Œä½† React è¦å…¼å®¹ï¼‰å‘ç”Ÿæ”¹å˜ã€‚æ¸…ç©ºæ—§é“¾è¡¨ï¼Œæ‰èƒ½è®©æ–°é“¾è¡¨å®Œå…¨åŒ¹é…æœ¬æ¬¡çš„è°ƒç”¨é¡ºåºã€‚</p>
<h5 data-id="heading-19">åœºæ™¯ï¼šæ›´æ–°æ¸²æŸ“æ—¶ Hook è°ƒç”¨æ•°é‡å˜åŒ–ï¼ˆåä¾‹ï¼šä¸æ¸…ç©ºä¼šé”™ä½ï¼‰</h5>
<p>å‡è®¾é¦–æ¬¡æ¸²æŸ“ç»„ä»¶æœ‰ 2 ä¸ª useStateï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¦–æ¬¡æ¸²æŸ“ï¼ˆmountï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [a, setA] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// Hook1</span>
  <span class="hljs-keyword">const</span> [b, setB] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// Hook2</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{a + b}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>æ­¤æ—¶ <code>current.memoizedState</code>ï¼ˆæ—§ fiberï¼‰çš„ Hook é“¾è¡¨æ˜¯ï¼š<code>Hook1 â†’ Hook2</code>ã€‚</p>
<p>å¦‚æœæ›´æ–°æ¸²æŸ“æ—¶ï¼Œç»„ä»¶é€»è¾‘å˜äº†ï¼Œåªè°ƒç”¨ 1 ä¸ª useStateï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ›´æ–°æ¸²æŸ“ï¼ˆupdateï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [a, setA] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// ä»… Hook1</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span>) { <span class="hljs-comment">// æ¡ä»¶ä¸æ»¡è¶³ï¼Œè·³è¿‡ Hook2</span>
    <span class="hljs-keyword">const</span> [b, setB] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">2</span>);
  }
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{a}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h6 data-id="heading-20">æƒ…å†µ 1ï¼šæ¸…ç©º workInProgress çš„æ—§é“¾è¡¨ï¼ˆæ­£ç¡®é€»è¾‘ï¼‰</h6>
<ul>
<li><code>workInProgress.memoizedState</code> è¢«ç½®ä¸º nullï¼›</li>
<li>æ‰§è¡Œç»„ä»¶ï¼Œåªè°ƒç”¨ Hook1ï¼Œæ–°é“¾è¡¨ä¸º <code>Hook1</code>ï¼›</li>
<li>React ä» <code>current</code> è¯»å–æ—§ Hook1 çš„çŠ¶æ€ï¼ˆ1ï¼‰ï¼Œèµ‹å€¼ç»™æ–° Hook1ï¼›</li>
<li>æœ€ç»ˆæ–°é“¾è¡¨ä¸æœ¬æ¬¡è°ƒç”¨é¡ºåºä¸€è‡´ï¼ŒçŠ¶æ€æ­£ç¡®ã€‚</li>
</ul>
<h6 data-id="heading-21">æƒ…å†µ 2ï¼šä¸æ¸…ç©º workInProgress çš„æ—§é“¾è¡¨ï¼ˆé”™è¯¯é€»è¾‘ï¼‰</h6>
<ul>
<li><code>workInProgress.memoizedState</code> è¿˜ä¿ç•™ç€ä¸Šæ¬¡çš„ <code>Hook1 â†’ Hook2</code>ï¼›</li>
<li>æ‰§è¡Œç»„ä»¶ï¼Œåªè°ƒç”¨ Hook1ï¼ŒReact ä¼šæŠŠæ–° Hook1 æ‹¼åœ¨æ—§é“¾è¡¨åï¼Œæ–°é“¾è¡¨å˜æˆ <code>Hook1ï¼ˆæ—§ï¼‰â†’ Hook2ï¼ˆæ—§ï¼‰â†’ Hook1ï¼ˆæ–°ï¼‰</code>ï¼›</li>
<li>æ­¤æ—¶ Hook é¡ºåºå®Œå…¨æ··ä¹±ï¼Œæ–° Hook1 ä¼šè¯»å–æ—§ Hook2 çš„çŠ¶æ€ï¼ˆ2ï¼‰ï¼Œå¯¼è‡´çŠ¶æ€é”™ä½ã€‚</li>
</ul>
<p>ğŸ‘‰ æœ¬è´¨ï¼š<strong><code>Hook ä¾èµ–ã€Œé“¾è¡¨é¡ºåºã€è€Œéâ€œå˜é‡åâ€å…³è”çŠ¶æ€ï¼Œæ¸…ç©ºæ—§é“¾è¡¨æ˜¯ä¸ºäº†è®©æ–°é“¾è¡¨â€œä»é›¶å¼€å§‹â€ï¼Œ100% åŒ¹é…æœ¬æ¬¡çš„è°ƒç”¨é¡ºåºï¼Œé¿å…æ—§é“¾è¡¨çš„æ®‹ç•™èŠ‚ç‚¹å¹²æ‰°ã€‚</code></strong></p>
<h4 data-id="heading-22">æ ¸å¿ƒåŸå›  2ï¼šé¿å…æ—§å‰¯ä½œç”¨æ®‹ç•™ï¼Œä¿è¯å‰¯ä½œç”¨æ‰§è¡Œé€»è¾‘ç¬¦åˆæœ¬æ¬¡æ¸²æŸ“</h4>
<p>å‰¯ä½œç”¨é“¾è¡¨ï¼ˆ<code>updateQueue</code>ï¼‰å­˜å‚¨çš„æ˜¯ useEffect/useLayoutEffect çš„æ‰§è¡Œä¿¡æ¯ï¼ˆæ¯”å¦‚ callbackã€depsã€cleanupï¼‰ã€‚å¦‚æœä¸æ¸…ç©ºï¼Œæ—§çš„å‰¯ä½œç”¨ä¼šå’Œæœ¬æ¬¡çš„å‰¯ä½œç”¨æ··åœ¨ä¸€èµ·ï¼Œå¯¼è‡´ï¼š</p>
<ol>
<li>å·²å¤±æ•ˆçš„å‰¯ä½œç”¨è¢«é‡å¤æ‰§è¡Œï¼›</li>
<li>æœ¬æ¬¡çš„å‰¯ä½œç”¨è¢«æ—§å‰¯ä½œç”¨è¦†ç›–ï¼›</li>
<li>cleanup å‡½æ•°æ‰§è¡Œå¼‚å¸¸ã€‚</li>
</ol>
<h5 data-id="heading-23">åœºæ™¯ï¼šuseEffect çš„ deps å˜åŒ–ï¼ˆåä¾‹ï¼šä¸æ¸…ç©ºä¼šé‡å¤æ‰§è¡Œæ—§å‰¯ä½œç”¨ï¼‰</h5>
<p>é¦–æ¬¡æ¸²æŸ“çš„ useEffectï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¦–æ¬¡æ¸²æŸ“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ—§å‰¯ä½œç”¨ï¼šç›‘å¬ resize'</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);
  }, []); <span class="hljs-comment">// ç©º deps</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>App<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>æ­¤æ—¶ <code>workInProgress.updateQueue</code> å­˜å‚¨çš„æ˜¯â€œç›‘å¬ resizeâ€çš„å‰¯ä½œç”¨ã€‚</p>
<p>æ›´æ–°æ¸²æŸ“æ—¶ï¼ŒuseEffect é€»è¾‘å˜äº†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ›´æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–°å‰¯ä½œç”¨ï¼šç›‘å¬ scroll'</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);
  }, []);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>App<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h6 data-id="heading-24">æƒ…å†µ 1ï¼šæ¸…ç©ºå‰¯ä½œç”¨é“¾è¡¨ï¼ˆæ­£ç¡®é€»è¾‘ï¼‰</h6>
<ul>
<li><code>workInProgress.updateQueue</code> è¢«ç½®ä¸º nullï¼›</li>
<li>æ‰§è¡Œç»„ä»¶ï¼Œæ”¶é›†æ–°çš„â€œç›‘å¬ scrollâ€å‰¯ä½œç”¨ï¼›</li>
<li>commit é˜¶æ®µåªæ‰§è¡Œæ–°å‰¯ä½œç”¨ï¼Œæ—§å‰¯ä½œç”¨çš„ cleanup è¢«æ‰§è¡Œï¼ˆç§»é™¤ resize ç›‘å¬ï¼‰ï¼Œæ–°å‰¯ä½œç”¨ç”Ÿæ•ˆã€‚</li>
</ul>
<h6 data-id="heading-25">æƒ…å†µ 2ï¼šä¸æ¸…ç©ºå‰¯ä½œç”¨é“¾è¡¨ï¼ˆé”™è¯¯é€»è¾‘ï¼‰</h6>
<ul>
<li><code>workInProgress.updateQueue</code> ä¿ç•™æ—§çš„â€œresize ç›‘å¬â€å‰¯ä½œç”¨ï¼›</li>
<li>æ‰§è¡Œç»„ä»¶ï¼Œæ”¶é›†æ–°çš„â€œscroll ç›‘å¬â€å‰¯ä½œç”¨ï¼Œé“¾è¡¨å˜æˆã€Œæ—§å‰¯ä½œç”¨ â†’ æ–°å‰¯ä½œç”¨ã€ï¼›</li>
<li>commit é˜¶æ®µä¼šåŒæ—¶æ‰§è¡Œä¸¤ä¸ªå‰¯ä½œç”¨ï¼šæ—¢ç›‘å¬ resize åˆç›‘å¬ scrollï¼Œä¸”æ—§å‰¯ä½œç”¨çš„ cleanup ä¸ä¼šè¢«è§¦å‘ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<h4 data-id="heading-26">è¡¥å……ï¼šé¦–æ¬¡æ¸²æŸ“æ—¶æ¸…ç©ºçš„æ„ä¹‰ï¼ˆå…œåº•ï¼‰</h4>
<p>é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œ<code>workInProgress.memoizedState</code> æœ¬æ¥å°±æ˜¯ nullï¼Œæ¸…ç©ºæ“ä½œçœ‹ä¼¼â€œå¤šä½™â€ï¼Œä½†å…¶å®æ˜¯ React çš„ã€Œé˜²å¾¡æ€§ç¼–ç¨‹ã€ï¼š</p>
<ol>
<li>é¿å… fiber èŠ‚ç‚¹å¤ç”¨å¯¼è‡´çš„æ®‹ç•™ï¼ˆæ¯”å¦‚çƒ­æ›´æ–°æ—¶ï¼Œfiber å¯èƒ½è¢«å¤ç”¨ï¼‰ï¼›</li>
<li>ä¿è¯æ‰€æœ‰æ¸²æŸ“æµç¨‹çš„ä¸€è‡´æ€§ï¼ˆé¦–æ¬¡/æ›´æ–°æ¸²æŸ“æ‰§è¡Œç›¸åŒçš„æ¸…ç©ºé€»è¾‘ï¼Œå‡å°‘åˆ†æ”¯åˆ¤æ–­ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-27">æ€»ç»“</h4>
<p>æ¸…ç©º fiber æ—§çš„ Hook é“¾è¡¨/å‰¯ä½œç”¨é“¾è¡¨çš„æ ¸å¿ƒç›®çš„æ˜¯ï¼š</p>
<ol>
<li><strong>ä¿è¯é¡ºåºä¸€è‡´</strong>ï¼šè®©æ–° fiber çš„ Hook é“¾è¡¨å®Œå…¨åŒ¹é…æœ¬æ¬¡æ¸²æŸ“çš„ Hook è°ƒç”¨é¡ºåºï¼Œé¿å…çŠ¶æ€é”™ä½ï¼›</li>
<li><strong>ä¿è¯å‰¯ä½œç”¨çº¯å‡€</strong>ï¼šæ¸…é™¤æ—§çš„å‰¯ä½œç”¨æ®‹ç•™ï¼Œé¿å…é‡å¤æ‰§è¡Œã€å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>æµç¨‹ç»Ÿä¸€</strong>ï¼šé¦–æ¬¡/æ›´æ–°æ¸²æŸ“æ‰§è¡Œç›¸åŒé€»è¾‘ï¼Œé™ä½ä»£ç å¤æ‚åº¦ã€‚</li>
</ol>
<p>æœ¬è´¨ä¸Šï¼Œè¿™æ˜¯ React ä¸ºäº†é€‚é…â€œå‡½æ•°ç»„ä»¶æ¯æ¬¡é‡æ–°æ‰§è¡Œâ€çš„ç‰¹æ€§ï¼Œç¡®ä¿ Hook çŠ¶æ€å§‹ç»ˆå’Œã€Œå½“å‰æ¸²æŸ“çš„é€»è¾‘ã€ç»‘å®šï¼Œè€Œéå’Œã€Œå†å²æ¸²æŸ“çš„é€»è¾‘ã€ç»‘å®šã€‚</p>
<h5 data-id="heading-28">æ­¥éª¤ 2ï¼šmount é˜¶æ®µâ€”â€”åˆ›å»º Hook èŠ‚ç‚¹ï¼Œå­˜åœ¨ fiber ä¸­ï¼ˆæ—  thisï¼‰</h5>
<p>å½“å‡½æ•°ç»„ä»¶æ‰§è¡Œ <code>useState(0)</code> æ—¶ï¼Œè°ƒç”¨çš„æ˜¯ <code>HooksDispatcherOnMount</code> ä¸­çš„ <code>mountState</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ mountStateï¼šåˆå§‹åŒ–çŠ¶æ€ï¼Œå­˜åœ¨ fiber ä¸­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mountState</span>(<span class="hljs-params">initialState</span>) {
  <span class="hljs-comment">// åˆ›å»º Hook èŠ‚ç‚¹</span>
  <span class="hljs-keyword">const</span> hook = {
    <span class="hljs-attr">memoizedState</span>: initialState, <span class="hljs-comment">// ä¿å­˜çŠ¶æ€å€¼ï¼ˆæ¯”å¦‚ 0ï¼‰</span>
    <span class="hljs-attr">queue</span>: { <span class="hljs-attr">pending</span>: <span class="hljs-literal">null</span> }, <span class="hljs-comment">// ä¿å­˜æ›´æ–°é˜Ÿåˆ—ï¼ˆsetCount è§¦å‘çš„æ›´æ–°ï¼‰</span>
    <span class="hljs-attr">next</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">// æŒ‡å‘ä¸‹ä¸€ä¸ª Hook</span>
  };
  <span class="hljs-comment">// æŠŠ Hook èŠ‚ç‚¹åŠ å…¥å½“å‰ fiber çš„ memoizedState é“¾è¡¨</span>
  <span class="hljs-keyword">if</span> (!currentlyRenderingFiber.<span class="hljs-property">memoizedState</span>) {
    currentlyRenderingFiber.<span class="hljs-property">memoizedState</span> = hook; <span class="hljs-comment">// ç¬¬ä¸€ä¸ª Hookï¼Œä½œä¸ºé“¾è¡¨å¤´</span>
  } <span class="hljs-keyword">else</span> {
    workInProgressHook.<span class="hljs-property">next</span> = hook; <span class="hljs-comment">// åç»­ Hookï¼Œæ¥åœ¨é“¾è¡¨åé¢</span>
  }
  workInProgressHook = hook; <span class="hljs-comment">// ç§»åŠ¨æŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ª Hook</span>
  <span class="hljs-comment">// è¿”å› [çŠ¶æ€, setter]ï¼Œsetter ç»‘å®šå½“å‰ Hook çš„ queueï¼Œæ— éœ€ this</span>
  <span class="hljs-keyword">return</span> [hook.<span class="hljs-property">memoizedState</span>, dispatchAction.<span class="hljs-title function_">bind</span>(<span class="hljs-literal">null</span>, hook.<span class="hljs-property">queue</span>)];
}
</code></pre>
<p>æ­¤æ—¶ï¼ŒçŠ¶æ€ <code>0</code> è¢«å­˜åœ¨ <code>fiber.memoizedState</code> ä¸­ï¼Œè€Œé <code>this</code>ï¼›<code>setCount</code> æ˜¯ç»‘å®šäº†å½“å‰ Hook é˜Ÿåˆ—çš„å‡½æ•°ï¼Œæ— éœ€é€šè¿‡ <code>this</code> è°ƒç”¨ã€‚</p>
<h5 data-id="heading-29">æ­¥éª¤ 3ï¼šupdate é˜¶æ®µâ€”â€”ä» fiber è¯»å– Hook èŠ‚ç‚¹ï¼Œé—­åŒ…ä¿å­˜å½“å‰çŠ¶æ€</h5>
<p>å½“ç‚¹å‡»æŒ‰é’®è°ƒç”¨ <code>setCount(count + 1)</code> æ—¶ï¼š</p>
<ol>
<li><code>dispatchAction</code> ä¼šåˆ›å»º update å¯¹è±¡ï¼ˆ<code>{ action: count =&gt; count + 1 }</code>ï¼‰ï¼ŒåŠ å…¥ Hook çš„ queueï¼›</li>
<li>React è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œå†æ¬¡è°ƒç”¨ <code>renderWithHooks</code>ï¼Œåˆ‡æ¢åˆ° <code>HooksDispatcherOnUpdate</code>ï¼›</li>
<li>æ‰§è¡Œ <code>updateState</code>ï¼Œä» fiber çš„ Hook é“¾è¡¨ä¸­è¯»å–æ—§ Hook èŠ‚ç‚¹ï¼Œæ‰§è¡Œ update é˜Ÿåˆ—ä¸­çš„ actionï¼Œè®¡ç®—æ–°çŠ¶æ€ï¼š
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ updateStateï¼šæ›´æ–°çŠ¶æ€ï¼Œæ—  this</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateState</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> hook = workInProgressHook; <span class="hljs-comment">// ä» fiber è¯»å–å½“å‰ Hook èŠ‚ç‚¹</span>
  workInProgressHook = hook.<span class="hljs-property">next</span>; <span class="hljs-comment">// ç§»åŠ¨æŒ‡é’ˆ</span>
  <span class="hljs-keyword">const</span> queue = hook.<span class="hljs-property">queue</span>;
  <span class="hljs-keyword">let</span> baseState = hook.<span class="hljs-property">memoizedState</span>;
  <span class="hljs-comment">// æ‰§è¡Œæ‰€æœ‰ updateï¼Œè®¡ç®—æ–°çŠ¶æ€</span>
  <span class="hljs-keyword">if</span> (queue.<span class="hljs-property">pending</span>) {
    <span class="hljs-keyword">const</span> firstUpdate = queue.<span class="hljs-property">pending</span>.<span class="hljs-property">next</span>;
    <span class="hljs-keyword">do</span> {
      baseState = firstUpdate.<span class="hljs-title function_">action</span>(baseState); <span class="hljs-comment">// æ¯”å¦‚ 0 â†’ 1</span>
      firstUpdate = firstUpdate.<span class="hljs-property">next</span>;
    } <span class="hljs-keyword">while</span> (firstUpdate !== queue.<span class="hljs-property">pending</span>);
    queue.<span class="hljs-property">pending</span> = <span class="hljs-literal">null</span>;
  }
  hook.<span class="hljs-property">memoizedState</span> = baseState; <span class="hljs-comment">// æ›´æ–° Hook èŠ‚ç‚¹çš„çŠ¶æ€</span>
  <span class="hljs-comment">// è¿”å› [æ–°çŠ¶æ€, setter]ï¼Œæ–°çŠ¶æ€å­˜åœ¨å½“å‰å‡½æ•°ä½œç”¨åŸŸï¼ˆé—­åŒ…ï¼‰</span>
  <span class="hljs-keyword">return</span> [baseState, dispatchAction.<span class="hljs-title function_">bind</span>(<span class="hljs-literal">null</span>, queue)];
}
</code></pre>
</li>
<li>æ–°çŠ¶æ€ <code>1</code> è¢«è¿”å›ï¼Œå­˜åœ¨å‡½æ•°ç»„ä»¶çš„ä½œç”¨åŸŸä¸­ï¼ˆ<code>const [count, setCount] = useState(0)</code>ï¼‰ï¼Œé€šè¿‡é—­åŒ…ç›´æ¥è®¿é—®ï¼Œæ— éœ€ <code>this.count</code>ã€‚</li>
</ol>
<h5 data-id="heading-30">æ­¥éª¤ 4ï¼šæœ€ç»ˆæ•ˆæœï¼ˆå¯¹æ¯”ç±»ç»„ä»¶ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Hook å†™æ³•ï¼šæ—  thisï¼ŒçŠ¶æ€å­˜åœ¨ fiber + é—­åŒ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HookApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// count æ˜¯å½“å‰ä½œç”¨åŸŸçš„å˜é‡</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
      {count} {/* ç›´æ¥è®¿é—®ï¼Œæ— éœ€ this */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<ul>
<li>çŠ¶æ€å­˜å‚¨ï¼šä»â€œç±»å®ä¾‹ thisâ€ â†’ â€œfiber èŠ‚ç‚¹çš„ Hook é“¾è¡¨â€ï¼›</li>
<li>çŠ¶æ€è®¿é—®ï¼šä»â€œåŠ¨æ€ this.stateâ€ â†’ â€œå‡½æ•°ä½œç”¨åŸŸçš„é—­åŒ…å˜é‡â€ï¼›</li>
<li>æ ¹æœ¬è§£å†³ï¼šå…¨ç¨‹æ—  thisï¼Œè‡ªç„¶è§„é¿ this ç»‘å®šã€å¼‚æ­¥æ›´æ–°å¯¼è‡´çš„æ‰€æœ‰é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-31">äºŒã€è§£å†³ç”Ÿå‘½å‘¨æœŸæ··ä¹±ï¼šä»â€œåˆ†æ•£ç”Ÿå‘½å‘¨æœŸâ€åˆ°â€œEffect æ”¶æ•› + deps æ§åˆ¶â€</h2>
<h4 data-id="heading-32">1. ç±»ç»„ä»¶çš„å…·ä½“ç—›ç‚¹ï¼ˆå¸¦ä»£ç ä¾‹å­ï¼‰</h4>
<p>ä¸€ä¸ªâ€œç›‘å¬çª—å£å¤§å°â€çš„é€»è¾‘ï¼Œè¦æ‹†åœ¨ 3 ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œï¼Œé€»è¾‘è¢«å‰²è£‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»ç»„ä»¶ï¼šç”Ÿå‘½å‘¨æœŸåˆ†æ•£é€»è¾‘</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æŒ‚è½½æ—¶åŠ ç›‘å¬</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
  }

  <span class="hljs-title function_">componentDidUpdate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ›´æ–°æ—¶å¯èƒ½éœ€è¦é‡æ–°ç›‘å¬ï¼ˆæ¯”å¦‚ä¾èµ– props å˜åŒ–ï¼‰</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
  }

  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¸è½½æ—¶åˆ ç›‘å¬</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
  }

  handleResize = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">width</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> });
  };

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{this.state.width}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}
</code></pre>
<p>ç—›ç‚¹æœ¬è´¨ï¼šç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯â€œæŒ‰æ—¶æœºåˆ’åˆ†â€ï¼Œè€Œä¸šåŠ¡é€»è¾‘æ˜¯â€œæŒ‰åŠŸèƒ½åˆ’åˆ†â€ï¼Œå¯¼è‡´ä¸€ä¸ªåŠŸèƒ½çš„ä»£ç è¢«æ‹†å¾—æ”¯ç¦»ç ´ç¢ã€‚</p>
<h4 data-id="heading-33">2. Hook çš„è§£å†³æ€è·¯ + å®Œæ•´å®ç°è¿‡ç¨‹</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼š<strong>ç”¨ useEffect æŠŠâ€œä¸€ä¸ªåŠŸèƒ½çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸé€»è¾‘â€æ”¶æ•›åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œé€šè¿‡ deps æ§åˆ¶æ‰§è¡Œæ—¶æœºï¼Œcleanup å¤„ç†å¸è½½/æ›´æ–°å‰çš„æ¸…ç†</strong>ã€‚</p>
<h5 data-id="heading-34">æ­¥éª¤ 1ï¼šmount é˜¶æ®µâ€”â€”æ”¶é›† Effectï¼Œæ ‡è®°æ‰§è¡Œ</h5>
<p>å‡½æ•°ç»„ä»¶æ‰§è¡Œ <code>useEffect</code> æ—¶ï¼Œè°ƒç”¨ <code>mountEffect</code> åˆ›å»º EffectHook èŠ‚ç‚¹ï¼Œå­˜åœ¨ fiber ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ mountEffectï¼šæ”¶é›†å‰¯ä½œç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mountEffect</span>(<span class="hljs-params">create, deps</span>) {
  <span class="hljs-keyword">const</span> hook = {
    <span class="hljs-attr">tag</span>: <span class="hljs-string">'PassiveEffect'</span>, <span class="hljs-comment">// æ ‡è®°æ˜¯ useEffectï¼ˆå¼‚æ­¥æ‰§è¡Œï¼‰</span>
    create, <span class="hljs-comment">// ä½ çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚åŠ ç›‘å¬ï¼‰</span>
    deps, <span class="hljs-comment">// ä¾èµ–æ•°ç»„ï¼ˆæ¯”å¦‚ []ï¼‰</span>
    <span class="hljs-attr">cleanup</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼ˆcreate è¿”å›çš„å‡½æ•°ï¼‰</span>
    <span class="hljs-attr">next</span>: <span class="hljs-literal">null</span>
  };
  <span class="hljs-comment">// æŠŠ EffectHook åŠ å…¥ fiber çš„ Hook é“¾è¡¨ï¼ˆå’Œ useState å…±ç”¨ä¸€ä¸ªé“¾è¡¨ï¼‰</span>
  <span class="hljs-keyword">if</span> (!currentlyRenderingFiber.<span class="hljs-property">memoizedState</span>) {
    currentlyRenderingFiber.<span class="hljs-property">memoizedState</span> = hook;
  } <span class="hljs-keyword">else</span> {
    workInProgressHook.<span class="hljs-property">next</span> = hook;
  }
  workInProgressHook = hook;
}
</code></pre>
<p>æ­¤æ—¶ï¼Œ<code>create</code>ï¼ˆåŠ ç›‘å¬ï¼‰ã€<code>deps</code>ï¼ˆç©ºæ•°ç»„ï¼‰è¢«å­˜åœ¨ Hook èŠ‚ç‚¹ä¸­ï¼Œæ ‡è®°ä¸ºâ€œéœ€è¦æ‰§è¡Œâ€ã€‚</p>
<h5 data-id="heading-35">æ­¥éª¤ 2ï¼šrender é˜¶æ®µâ€”â€”å¯¹æ¯” depsï¼Œæ ‡è®°æ˜¯å¦æ‰§è¡Œï¼ˆupdate é˜¶æ®µï¼‰</h5>
<p>å½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œè°ƒç”¨ <code>updateEffect</code> å¯¹æ¯”æ–°æ—§ depsï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ updateEffectï¼šå¯¹æ¯” deps</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateEffect</span>(<span class="hljs-params">create, deps</span>) {
  <span class="hljs-keyword">const</span> hook = workInProgressHook; <span class="hljs-comment">// è¯»å–æ—§ Hook èŠ‚ç‚¹</span>
  workInProgressHook = hook.<span class="hljs-property">next</span>;
  <span class="hljs-keyword">const</span> prevDeps = hook.<span class="hljs-property">deps</span>;
  <span class="hljs-comment">// æµ…æ¯”è¾ƒ depsï¼šå¦‚æœ deps ç›¸åŒï¼Œæ ‡è®°ä¸ºæ— éœ€æ‰§è¡Œ</span>
  <span class="hljs-keyword">if</span> (deps !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-title function_">areHookInputsEqual</span>(deps, prevDeps)) {
    hook.<span class="hljs-property">tag</span> = <span class="hljs-string">'NoEffect'</span>; <span class="hljs-comment">// æ— éœ€æ‰§è¡Œ</span>
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-comment">// deps ä¸åŒï¼Œæ›´æ–° Hook èŠ‚ç‚¹ï¼Œæ ‡è®°éœ€è¦æ‰§è¡Œ</span>
  hook.<span class="hljs-property">create</span> = create;
  hook.<span class="hljs-property">deps</span> = deps;
  hook.<span class="hljs-property">tag</span> = <span class="hljs-string">'PassiveEffect'</span>;
}

<span class="hljs-comment">// ç®€åŒ–ç‰ˆ deps æµ…æ¯”è¾ƒ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">areHookInputsEqual</span>(<span class="hljs-params">nextDeps, prevDeps</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; prevDeps.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(nextDeps[i], prevDeps[i])) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æœ‰ä¸€é¡¹ä¸åŒï¼Œè¿”å› false</span>
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p>æ¯”å¦‚ deps æ˜¯ <code>[]</code>ï¼Œæ›´æ–°æ—¶å¯¹æ¯”å‘ç° deps æ²¡å˜ï¼Œå°±æ ‡è®°ä¸º <code>NoEffect</code>ï¼Œè·³è¿‡æ‰§è¡Œã€‚</p>
<h5 data-id="heading-36">æ­¥éª¤ 3ï¼šcommit é˜¶æ®µâ€”â€”æ‰§è¡Œ Effect/cleanupï¼ˆæ ¸å¿ƒï¼ï¼‰</h5>
<p>React æ›´æ–°å®ŒçœŸå® DOM åï¼Œè¿›å…¥ commit é˜¶æ®µçš„ <code>commitPassiveEffects</code> æ­¥éª¤ï¼Œæ‰§è¡Œ useEffectï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ commitPassiveEffectsï¼šæ‰§è¡Œ useEffect å›è°ƒ/cleanup</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">commitPassiveEffects</span>(<span class="hljs-params">fiber</span>) {
  <span class="hljs-keyword">let</span> hook = fiber.<span class="hljs-property">memoizedState</span>;
  <span class="hljs-keyword">while</span> (hook) {
    <span class="hljs-keyword">if</span> (hook.<span class="hljs-property">tag</span> === <span class="hljs-string">'PassiveEffect'</span>) {
      <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šæ‰§è¡Œä¸Šä¸€æ¬¡çš„ cleanupï¼ˆå¦‚æœæœ‰ï¼‰</span>
      <span class="hljs-keyword">if</span> (hook.<span class="hljs-property">cleanup</span>) {
        hook.<span class="hljs-title function_">cleanup</span>(); <span class="hljs-comment">// æ¯”å¦‚å¸è½½å‰åˆ ç›‘å¬</span>
      }
      <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œå½“å‰çš„ createï¼Œä¿å­˜ cleanup</span>
      hook.<span class="hljs-property">cleanup</span> = hook.<span class="hljs-title function_">create</span>(); <span class="hljs-comment">// create è¿”å›çš„å‡½æ•°ï¼ˆæ¯”å¦‚åˆ ç›‘å¬ï¼‰</span>
    }
    hook = hook.<span class="hljs-property">next</span>;
  }
}
</code></pre>
<p>æ‰§è¡Œæ—¶æœºå¯¹åº”ï¼š</p>
<ul>
<li><strong>mount æ—¶</strong>ï¼š<strong><code>æ— æ—§ cleanupï¼Œç›´æ¥æ‰§è¡Œ createï¼ˆåŠ ç›‘å¬ï¼‰ï¼Œä¿å­˜ cleanupï¼ˆåˆ ç›‘å¬ï¼‰ï¼›</code></strong></li>
<li><strong>update ä¸” deps å˜åŒ–æ—¶</strong>ï¼š<strong><code>å…ˆæ‰§è¡Œæ—§ cleanupï¼ˆåˆ ç›‘å¬ï¼‰â†’ å†æ‰§è¡Œæ–° createï¼ˆåŠ ç›‘å¬ï¼‰â†’ ä¿å­˜æ–° cleanupï¼›</code></strong></li>
<li><strong>unmount æ—¶</strong>ï¼š<strong><code>éå†æ‰€æœ‰ EffectHookï¼Œæ‰§è¡Œ cleanupï¼ˆåˆ ç›‘å¬ï¼‰ã€‚</code></strong></li>
<li><strong><code>æ‰€ä»¥éƒ½æ˜¯å…ˆæ‰§è¡ŒuseEffect,æ‹¿åˆ°è¿”å›å€¼ä¿å­˜cleanupä¸æ‰§è¡Œï¼Œç„¶åå†ä¸‹ä¸€æ¬¡å…ˆæ‰§è¡Œcleanup(),ç„¶åå†æ‰§è¡ŒuseEffect</code></strong></li>
</ul>
<h5 data-id="heading-37">æ­¥éª¤ 4ï¼šæœ€ç»ˆæ•ˆæœï¼ˆå¯¹æ¯”ç±»ç»„ä»¶ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Hook å†™æ³•ï¼šé€»è¾‘å®Œå…¨æ”¶æ•›</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HookApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [width, setWidth] = <span class="hljs-title function_">useState</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// createï¼šæŒ‚è½½/æ›´æ–°æ—¶æ‰§è¡Œï¼ˆdeps å˜åŒ–ï¼‰</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResize</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">setWidth</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);
    <span class="hljs-comment">// cleanupï¼šå¸è½½/æ›´æ–°å‰æ‰§è¡Œ</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);
  }, []); <span class="hljs-comment">// ç©º deps â†’ ä»… mount/unmount æ‰§è¡Œ</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{width}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<ul>
<li>é€»è¾‘æ”¶æ•›ï¼šåŠ ç›‘å¬ã€åˆ ç›‘å¬çš„é€»è¾‘éƒ½åœ¨ä¸€ä¸ª useEffect é‡Œï¼ŒæŒ‰åŠŸèƒ½èšåˆï¼›</li>
<li>æ—¶æœºæ§åˆ¶ï¼šdeps å†³å®šæ‰§è¡Œæ—¶æœºï¼ˆ<code>[]</code>=ä»… mount/unmountï¼Œ<code>[width]</code>=width å˜åŒ–æ—¶æ‰§è¡Œï¼‰ï¼›</li>
<li>è‡ªåŠ¨æ¸…ç†ï¼šReact å¸®ä½ ç®¡ç† cleanup çš„æ‰§è¡Œï¼Œæ— éœ€æ‰‹åŠ¨åœ¨å¤šä¸ªç”Ÿå‘½å‘¨æœŸä¸­å¤„ç†ã€‚</li>
</ul>
<h2 data-id="heading-38">ä¸‰ã€è§£å†³é€»è¾‘è€¦åˆï¼šä»â€œåˆ†æ•£åœ¨ç±»ä¸­â€åˆ°â€œè‡ªå®šä¹‰ Hook å°è£… + fiber éš”ç¦»â€</h2>
<h4 data-id="heading-39">1. ç±»ç»„ä»¶çš„å…·ä½“ç—›ç‚¹ï¼ˆå¸¦ä»£ç ä¾‹å­ï¼‰</h4>
<p>ä¸€ä¸ªâ€œæ•°æ®è¯·æ±‚+åŠ è½½çŠ¶æ€+å–æ¶ˆè¯·æ±‚â€çš„é€»è¾‘ï¼Œå’Œå…¶ä»–é€»è¾‘æŒ¤åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œè€¦åˆä¸¥é‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»ç»„ä»¶ï¼šå¤šä¸ªé€»è¾‘è€¦åˆåœ¨ç”Ÿå‘½å‘¨æœŸä¸­</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = { <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> };

  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€»è¾‘1ï¼šæ•°æ®è¯·æ±‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>, { <span class="hljs-attr">signal</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-property">signal</span> })
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ data, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }))
      .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ error, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }));

    <span class="hljs-comment">// é€»è¾‘2ï¼šåŸ‹ç‚¹ç»Ÿè®¡ï¼ˆæ— å…³é€»è¾‘ï¼Œå´å’Œè¯·æ±‚æŒ¤åœ¨ä¸€èµ·ï¼‰</span>
    <span class="hljs-title function_">trackPageView</span>();
  }

  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€»è¾‘1çš„æ¸…ç†ï¼šå–æ¶ˆè¯·æ±‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">abort</span>();
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€»è¾‘1çš„ UIï¼šåŠ è½½/æ•°æ®/é”™è¯¯å±•ç¤º</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">loading</span>) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">error</span>) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é”™è¯¯<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{this.state.data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}
</code></pre>
<p>ç—›ç‚¹æœ¬è´¨ï¼šä¸åŒåŠŸèƒ½çš„é€»è¾‘éƒ½æŒ¤åœ¨åŒä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ/ç±»ä¸­ï¼Œæ²¡æœ‰è¾¹ç•Œï¼Œå¤ç”¨å›°éš¾ã€‚</p>
<h4 data-id="heading-40">2. Hook çš„è§£å†³æ€è·¯ + å®Œæ•´å®ç°è¿‡ç¨‹</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼š<strong>ç”¨è‡ªå®šä¹‰ Hook æŠŠâ€œä¸€ä¸ªç‹¬ç«‹åŠŸèƒ½çš„æ‰€æœ‰é€»è¾‘ï¼ˆçŠ¶æ€+å‰¯ä½œç”¨ï¼‰â€å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œéµå¾ª Hook é¡ºåºè§„åˆ™ï¼Œé€šè¿‡ fiber ä¿è¯ä¸åŒç»„ä»¶çš„ Hook çŠ¶æ€éš”ç¦»</strong>ã€‚</p>
<h5 data-id="heading-41">æ­¥éª¤ 1ï¼šå°è£…è‡ªå®šä¹‰ Hookâ€”â€”èšåˆç‹¬ç«‹é€»è¾‘</h5>
<p>æŠŠâ€œæ•°æ®è¯·æ±‚â€é€»è¾‘å°è£…æˆ <code>useRequest</code>ï¼Œå†…éƒ¨è°ƒç”¨åŸºç¡€ Hookï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šå°è£…è¯·æ±‚é€»è¾‘ï¼ˆç‹¬ç«‹ã€å†…èšï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useRequest</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è¯·æ±‚é€»è¾‘</span>
    <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
    <span class="hljs-title function_">fetch</span>(url, { <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span> })
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(setData)
      .<span class="hljs-title function_">catch</span>(setError)
      .<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>));

    <span class="hljs-comment">// æ¸…ç†é€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> controller.<span class="hljs-title function_">abort</span>();
  }, [url]); <span class="hljs-comment">// ä¾èµ– urlï¼Œurl å˜äº†é‡æ–°è¯·æ±‚</span>

  <span class="hljs-comment">// è¿”å›çŠ¶æ€/æ–¹æ³•ï¼Œä¾›ç»„ä»¶ä½¿ç”¨</span>
  <span class="hljs-keyword">return</span> { data, loading, error };
}
</code></pre>
<h5 data-id="heading-42">æ­¥éª¤ 2ï¼šç»„ä»¶æ‰§è¡Œè‡ªå®šä¹‰ Hookâ€”â€”Hook èŠ‚ç‚¹åŠ å…¥å½“å‰ fiber</h5>
<p>å½“å‡½æ•°ç»„ä»¶æ‰§è¡Œ <code>const { data, loading } = useRequest('/api/data')</code> æ—¶ï¼š</p>
<ol>
<li><code>useRequest</code> å†…éƒ¨çš„ <code>useState</code>/<code>useEffect</code> ä¼šä¾æ¬¡è°ƒç”¨ï¼›</li>
<li><strong><code>è¿™äº›åŸºç¡€ Hook ä¼šåˆ›å»ºå¯¹åº”çš„ Hook èŠ‚ç‚¹ï¼ŒæŒ‰é¡ºåºåŠ å…¥å½“å‰ç»„ä»¶çš„ fiber.memoizedState é“¾è¡¨ï¼›hookå’Œhookä¹‹é—´ç‹¬ç«‹äº’ä¸å¹²æ‰°</code></strong></li>
<li><strong><code>ç”±äºæ¯ä¸ªç»„ä»¶æœ‰è‡ªå·±çš„ fiberï¼Œ</code>useRequest<code> åœ¨ç»„ä»¶ A ä¸­è°ƒç”¨æ—¶ï¼ŒHook èŠ‚ç‚¹å­˜åœ¨ A çš„ fiber ä¸­ï¼›åœ¨ç»„ä»¶ B ä¸­è°ƒç”¨æ—¶ï¼Œå­˜åœ¨ B çš„ fiber ä¸­</code></strong>â€”â€”<strong><code>çŠ¶æ€å®Œå…¨éš”ç¦»</code></strong>ã€‚</li>
</ol>
<h5 data-id="heading-43">æ­¥éª¤ 3ï¼šå…¶ä»–é€»è¾‘å•ç‹¬å°è£…â€”â€”å½»åº•è§£è€¦</h5>
<p>æŠŠâ€œåŸ‹ç‚¹ç»Ÿè®¡â€ä¹Ÿå°è£…æˆè‡ªå®šä¹‰ Hookï¼Œå’Œè¯·æ±‚é€»è¾‘å®Œå…¨åˆ†ç¦»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šå°è£…åŸ‹ç‚¹é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">usePageTrack</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">trackPageView</span>();
  }, []);
}

<span class="hljs-comment">// ç»„ä»¶ï¼šæŒ‰éœ€å¼•å…¥ä¸åŒçš„è‡ªå®šä¹‰ Hookï¼Œé€»è¾‘æ— è€¦åˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HookApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { data, loading, error } = <span class="hljs-title function_">useRequest</span>(<span class="hljs-string">'/api/data'</span>);
  <span class="hljs-title function_">usePageTrack</span>(); <span class="hljs-comment">// åŸ‹ç‚¹é€»è¾‘</span>

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é”™è¯¯<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<ul>
<li>é€»è¾‘è¾¹ç•Œï¼š<strong><code>è¯·æ±‚é€»è¾‘åœ¨ </code>useRequest<code>ï¼ŒåŸ‹ç‚¹é€»è¾‘åœ¨ </code>usePageTrack<code>ï¼Œäº’ä¸å¹²æ‰°</code></strong>ï¼›</li>
<li>å¤ç”¨æ€§ï¼š<strong><code>useRequest</code> å¯ä»¥å¤ç”¨åˆ°ä»»æ„éœ€è¦è¯·æ±‚æ•°æ®çš„ç»„ä»¶ï¼Œåªéœ€ä¼ ä¸åŒçš„ url</strong>ï¼›</li>
<li>éš”ç¦»æ€§ï¼š<strong><code>ä¸åŒç»„ä»¶è°ƒç”¨ useRequestï¼ŒçŠ¶æ€å­˜åœ¨å„è‡ªçš„ fiber ä¸­ï¼Œä¸ä¼šäº’ç›¸å½±å“ã€‚</code></strong></li>
</ul>
<hr/>
<h2 data-id="heading-44">å››ã€è§£å†³é€»è¾‘ä¸ UI è€¦åˆï¼šä»â€œæ··åœ¨ç±»ä¸­â€åˆ°â€œHook ç®¡é€»è¾‘ï¼Œç»„ä»¶ç®¡ UIâ€</h2>
<h4 data-id="heading-45">1. ç±»ç»„ä»¶çš„å…·ä½“ç—›ç‚¹ï¼ˆå¸¦ä»£ç ä¾‹å­ï¼‰</h4>
<p>è¡¨å•éªŒè¯é€»è¾‘å’Œ UI æ¸²æŸ“æ··åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå¤ç”¨éªŒè¯é€»è¾‘éœ€è¦å¥—é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰ï¼Œå¢åŠ å±‚çº§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç±»ç»„ä»¶ï¼šéªŒè¯é€»è¾‘ + UI æ¸²æŸ“è€¦åˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassForm</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = { <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">errors</span>: {} };

  <span class="hljs-comment">// éªŒè¯é€»è¾‘ï¼ˆå’Œ UI æ··åœ¨ä¸€èµ·ï¼‰</span>
  validate = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> errors = {};
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">name</span>) errors.<span class="hljs-property">name</span> = <span class="hljs-string">'å¿…å¡«'</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">phone</span>) errors.<span class="hljs-property">phone</span> = <span class="hljs-string">'å¿…å¡«'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ errors });
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;
  };

  handleChange = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ [e.<span class="hljs-property">target</span>.<span class="hljs-property">name</span>]: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span> });
  };

  handleSubmit = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    e.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validate</span>()) <span class="hljs-title function_">alert</span>(<span class="hljs-string">'æäº¤æˆåŠŸ'</span>);
  };

  <span class="hljs-comment">// UI æ¸²æŸ“ï¼ˆå’ŒéªŒè¯é€»è¾‘åœ¨åŒä¸€ä¸ªç±»ï¼‰</span>
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.handleSubmit}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.handleChange}</span> /&gt;</span>
        {this.state.errors.name &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{this.state.errors.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.handleChange}</span> /&gt;</span>
        {this.state.errors.phone &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{this.state.errors.phone}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
    );
  }
}

<span class="hljs-comment">// å¤ç”¨éªŒè¯é€»è¾‘ï¼šéœ€è¦å†™ HOCï¼Œå¢åŠ ç»„ä»¶å±‚çº§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">withFormValidate</span>(<span class="hljs-params">WrappedComponent</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">extends</span> <span class="hljs-title class_">React</span>.<span class="hljs-property">Component</span> {
    <span class="hljs-comment">// å¤åˆ¶ä¸Šé¢çš„ validate/handleChange é€»è¾‘...</span>
    <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">WrappedComponent</span> {<span class="hljs-attr">...this.props</span>} {<span class="hljs-attr">...this.state</span>} <span class="hljs-attr">validate</span>=<span class="hljs-string">{this.validate}</span> /&gt;</span></span>;
    }
  };
}
</code></pre>
<p>ç—›ç‚¹æœ¬è´¨ï¼šç±»ç»„ä»¶æ˜¯â€œä¸€ä¸ªå®¹å™¨â€ï¼Œæ—¢è£…é€»è¾‘åˆè£… UIï¼Œå¤ç”¨é€»è¾‘å¿…é¡»å¸¦ UI ä¸€èµ·ï¼Œæˆ–ç”¨å¤æ‚çš„ HOC/Render Props ç»•å¼€ã€‚</p>
<h4 data-id="heading-46">2. Hook çš„è§£å†³æ€è·¯ + å®Œæ•´å®ç°è¿‡ç¨‹</h4>
<p>æ ¸å¿ƒé€»è¾‘ï¼š<strong>è‡ªå®šä¹‰ Hook åªè´Ÿè´£â€œé€»è¾‘+çŠ¶æ€â€ï¼ˆæ—  UIï¼‰ï¼Œç»„ä»¶åªè´Ÿè´£â€œæ¥æ”¶çŠ¶æ€+æ¸²æŸ“ UIâ€ï¼Œé€šè¿‡å‡½æ•°è¿”å›å€¼ä¼ é€’çŠ¶æ€/æ–¹æ³•ï¼ŒrenderWithHooks ä¿è¯é€»è¾‘ä¸ç»„ä»¶çš„ç»‘å®š</strong>ã€‚</p>
<h5 data-id="heading-47">æ­¥éª¤ 1ï¼šè‡ªå®šä¹‰ Hookâ€”â€”çº¯é€»è¾‘ï¼Œæ—  UI</h5>
<p>æŠŠè¡¨å•éªŒè¯é€»è¾‘å°è£…æˆ <code>useFormValidate</code>ï¼Œåªè¿”å›çŠ¶æ€/æ–¹æ³•ï¼Œä¸è¿”å› JSXï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šä»…å¤„ç†éªŒè¯é€»è¾‘ï¼ˆæ— ä»»ä½• UIï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFormValidate</span>(<span class="hljs-params">initialValues</span>) {
  <span class="hljs-keyword">const</span> [values, setValues] = <span class="hljs-title function_">useState</span>(initialValues);
  <span class="hljs-keyword">const</span> [errors, setErrors] = <span class="hljs-title function_">useState</span>({});

  <span class="hljs-comment">// éªŒè¯é€»è¾‘</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">validate</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> newErrors = {};
    <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">name</span>) newErrors.<span class="hljs-property">name</span> = <span class="hljs-string">'å¿…å¡«'</span>;
    <span class="hljs-keyword">if</span> (!values.<span class="hljs-property">phone</span>) newErrors.<span class="hljs-property">phone</span> = <span class="hljs-string">'å¿…å¡«'</span>;
    <span class="hljs-title function_">setErrors</span>(newErrors);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(newErrors).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;
  };

  <span class="hljs-comment">// è¾“å…¥å˜æ›´é€»è¾‘</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-title function_">setValues</span>({ ...values, [e.<span class="hljs-property">target</span>.<span class="hljs-property">name</span>]: e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span> });
  };

  <span class="hljs-comment">// åªè¿”å›çŠ¶æ€/æ–¹æ³•ï¼Œä¸è¿”å› UI</span>
  <span class="hljs-keyword">return</span> { values, errors, handleChange, validate };
}
</code></pre>
<h5 data-id="heading-48">æ­¥éª¤ 2ï¼šç»„ä»¶â€”â€”çº¯ UIï¼Œæ— æ ¸å¿ƒé€»è¾‘</h5>
<p>ç»„ä»¶å¼•å…¥è‡ªå®šä¹‰ Hookï¼Œæ¥æ”¶çŠ¶æ€/æ–¹æ³•ï¼Œåªè´Ÿè´£æ¸²æŸ“ UIï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»„ä»¶ï¼šä»…å¤„ç† UI æ¸²æŸ“ï¼Œé€»è¾‘å…¨é  Hook</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HookForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¼•å…¥éªŒè¯é€»è¾‘ï¼Œæ‹¿åˆ°çŠ¶æ€/æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> { values, errors, handleChange, validate } = <span class="hljs-title function_">useFormValidate</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">e</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>();
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">validate</span>()) <span class="hljs-title function_">alert</span>(<span class="hljs-string">'æäº¤æˆåŠŸ'</span>);
  };

  <span class="hljs-comment">// åªå…³å¿ƒ UI æ€ä¹ˆæ¸²æŸ“ï¼Œæ— éªŒè¯é€»è¾‘</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{values.name}</span> /&gt;</span>
      {errors.name &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{errors.name}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"phone"</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleChange}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{values.phone}</span> /&gt;</span>
      {errors.phone &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{errors.phone}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
<h5 data-id="heading-49">æ­¥éª¤ 3ï¼šåº•å±‚ç»‘å®šâ€”â€”é€»è¾‘å±äºç»„ä»¶ï¼Œå´ä¸è€¦åˆ UI</h5>
<p>å½“ <code>HookForm</code> æ‰§è¡Œæ—¶ï¼Œ<code>renderWithHooks</code> ä¼šæŠŠ <code>HookForm</code> çš„ fiber ç»‘å®šåˆ°å…¨å±€ï¼Œ<code>useFormValidate</code> å†…éƒ¨çš„ <code>useState</code>/<code>useEffect</code> ä¼šè‡ªåŠ¨å…³è”åˆ°è¿™ä¸ª fiberï¼š</p>
<ul>
<li>é€»è¾‘å½’å±ï¼š<code>useFormValidate</code> çš„çŠ¶æ€æ˜¯ <code>HookForm</code> çš„çŠ¶æ€ï¼Œä¸æ˜¯å…¨å±€çŠ¶æ€ï¼›</li>
<li>é€»è¾‘å¤ç”¨ï¼šæŠŠ <code>useFormValidate</code> å¼•å…¥ <code>RegisterForm</code> ç»„ä»¶ï¼Œåªéœ€æ”¹ UI æ¸²æŸ“éƒ¨åˆ†ï¼ŒéªŒè¯é€»è¾‘å®Œå…¨å¤ç”¨ï¼›</li>
<li>æ— é¢å¤–å±‚çº§ï¼šç›¸æ¯” HOCï¼Œè‡ªå®šä¹‰ Hook ä¸ä¼šå¢åŠ ç»„ä»¶æ ‘å±‚çº§ï¼ŒUI ç»“æ„æ›´æ¸…æ™°ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-50">è‡ªå®šä¹‰hookè°ƒç”¨é¡ºåº</h3>
<p>æˆ‘ç”¨å…·ä½“ä¾‹å­æ‹†è§£ï¼Œè®©ä½ çœ‹å¾—æ›´ç›´è§‚ï¼š</p>
<h4 data-id="heading-51">ç¬¬ä¸€æ­¥ï¼šå…ˆçœ‹ä»£ç ç»“æ„ï¼ˆè‡ªå®šä¹‰ Hook å†™åœ¨ç»„ä»¶å‰é¢ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šå°è£…è¡¨å•éªŒè¯é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFormValidate</span>(<span class="hljs-params">initialValues</span>) {
  <span class="hljs-comment">// è‡ªå®šä¹‰ Hook å†…éƒ¨çš„åŸºç¡€ Hook 1</span>
  <span class="hljs-keyword">const</span> [values, setValues] = <span class="hljs-title function_">useState</span>(initialValues);
  <span class="hljs-comment">// è‡ªå®šä¹‰ Hook å†…éƒ¨çš„åŸºç¡€ Hook 2</span>
  <span class="hljs-keyword">const</span> [errors, setErrors] = <span class="hljs-title function_">useState</span>({});
  <span class="hljs-comment">// è‡ªå®šä¹‰ Hook å†…éƒ¨çš„åŸºç¡€ Hook 3</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"éªŒè¯è§„åˆ™åˆå§‹åŒ–"</span>);
  }, []);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">validate</span> = (<span class="hljs-params"/>) =&gt; { <span class="hljs-comment">/* éªŒè¯é€»è¾‘ */</span> };
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = (<span class="hljs-params"/>) =&gt; { <span class="hljs-comment">/* è¾“å…¥å˜æ›´é€»è¾‘ */</span> };

  <span class="hljs-keyword">return</span> { values, errors, validate, handleChange };
}

<span class="hljs-comment">// ç»„ä»¶ï¼šä½¿ç”¨è‡ªå®šä¹‰ Hookï¼ˆå†™åœ¨è‡ªèº« Hook å‰é¢ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HookForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šæ‰§è¡Œè‡ªå®šä¹‰ Hookï¼ˆå†…éƒ¨çš„åŸºç¡€ Hook å…ˆæ‰§è¡Œï¼‰</span>
  <span class="hljs-keyword">const</span> { values, errors, validate, handleChange } = <span class="hljs-title function_">useFormValidate</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">phone</span>: <span class="hljs-string">""</span>
  });

  <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œç»„ä»¶è‡ªèº«çš„åŸºç¡€ Hookï¼ˆåæ‰§è¡Œï¼‰</span>
  <span class="hljs-keyword">const</span> [submitCount, setSubmitCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// ç»„ä»¶è‡ªèº« Hook 1</span>
  <span class="hljs-keyword">const</span> [isSubmitting, setIsSubmitting] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// ç»„ä»¶è‡ªèº« Hook 2</span>

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; { <span class="hljs-comment">/* æäº¤é€»è¾‘ */</span> };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>{/* æ¸²æŸ“é€»è¾‘ */}<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>;
}
</code></pre>
<h4 data-id="heading-52">ç¬¬äºŒæ­¥ï¼šæ‹†è§£æ‰§è¡Œé¡ºåº + Hook é“¾è¡¨æ’å…¥è¿‡ç¨‹</h4>
<p>å½“ <code>HookForm</code> æ‰§è¡Œã€è§¦å‘ <code>renderWithHooks</code> å¹¶ç»‘å®šå…¶ fiber åˆ°å…¨å±€åï¼Œæ•´ä¸ª Hook æ‰§è¡Œ/é“¾è¡¨æ’å…¥æµç¨‹æ˜¯ï¼š</p>



































<table><thead><tr><th>æ‰§è¡Œæ­¥éª¤</th><th>æ‰§è¡Œçš„ Hook</th><th>æ’å…¥åˆ° HookForm fiber é“¾è¡¨çš„ä½ç½®</th></tr></thead><tbody><tr><td>1</td><td>useFormValidate å†…çš„ useState(values)</td><td>é“¾è¡¨ç¬¬ 1 ä½</td></tr><tr><td>2</td><td>useFormValidate å†…çš„ useState(errors)</td><td>é“¾è¡¨ç¬¬ 2 ä½</td></tr><tr><td>3</td><td>useFormValidate å†…çš„ useEffect</td><td>é“¾è¡¨ç¬¬ 3 ä½ï¼ˆå‰¯ä½œç”¨é“¾è¡¨åŒæ­¥æ’å…¥ï¼‰</td></tr><tr><td>4</td><td>HookForm è‡ªèº«çš„ useState(submitCount)</td><td>é“¾è¡¨ç¬¬ 4 ä½</td></tr><tr><td>5</td><td>HookForm è‡ªèº«çš„ useState(isSubmitting)</td><td>é“¾è¡¨ç¬¬ 5 ä½</td></tr></tbody></table>
<p>æœ€ç»ˆï¼Œ<code>HookForm</code> çš„ fiber ä¸­ <code>memoizedState</code>ï¼ˆHook é“¾è¡¨ï¼‰ç»“æ„æ˜¯ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">HookForm fiber.memoizedState
  â””â”€ ç¬¬<span class="hljs-number">1</span>ä½ï¼š<span class="hljs-keyword">values</span> çš„ Hook èŠ‚ç‚¹
  â””â”€ ç¬¬<span class="hljs-number">2</span>ä½ï¼šerrors çš„ Hook èŠ‚ç‚¹
  â””â”€ ç¬¬<span class="hljs-number">3</span>ä½ï¼šuseEffect çš„ Hook èŠ‚ç‚¹
  â””â”€ ç¬¬<span class="hljs-number">4</span>ä½ï¼šsubmitCount çš„ Hook èŠ‚ç‚¹
  â””â”€ ç¬¬<span class="hljs-number">5</span>ä½ï¼šisSubmitting çš„ Hook èŠ‚ç‚¹
</code></pre>
<h4 data-id="heading-53">ç¬¬ä¸‰æ­¥ï¼šå…³é”®ç»“è®ºï¼ˆå¼ºåŒ–ä½ çš„ç†è§£ï¼‰</h4>
<ol>
<li><strong><code>è‡ªå®šä¹‰ Hook æ— â€œç‹¬ç«‹ fiberâ€</code></strong>ï¼šè‡ªå®šä¹‰ Hook æœ¬èº«ä¸ä¼šç”Ÿæˆæ–°çš„ fiberï¼Œå®ƒåªæ˜¯â€œæ‰¹é‡è°ƒç”¨åŸºç¡€ Hook çš„å‡½æ•°â€ï¼Œæ‰€æœ‰å†…éƒ¨åŸºç¡€ Hook éƒ½å½’å±äº<strong>ä½¿ç”¨å®ƒçš„ç»„ä»¶çš„ fiber</strong>ï¼›</li>
<li><strong><code>æ‰§è¡Œé¡ºåº = é“¾è¡¨é¡ºåº</code></strong>ï¼šå®Œå…¨ç”±ä»£ç ä¹¦å†™é¡ºåºå†³å®šâ€”â€”è‡ªå®šä¹‰ Hook å†™åœ¨ç»„ä»¶å†…å‰é¢ï¼Œå…¶å†…éƒ¨ Hook å°±å…ˆæ‰§è¡Œã€å…ˆå…¥é“¾è¡¨ï¼›å†™åœ¨åé¢åˆ™åä¹‹ï¼›</li>
<li><strong><code>è§„åˆ™ä¸å˜</code></strong>ï¼šè‡ªå®šä¹‰ Hook å†…éƒ¨çš„åŸºç¡€ Hookï¼Œä¾ç„¶è¦éµå®ˆâ€œä¸èƒ½åœ¨æ¡ä»¶/å¾ªç¯ä¸­è°ƒç”¨â€çš„è§„åˆ™ï¼ˆå› ä¸ºæœ€ç»ˆä¼šèå…¥ç»„ä»¶çš„ Hook é“¾è¡¨ï¼Œé¡ºåºä¹±äº†ä¼šå¯¼è‡´çŠ¶æ€é”™ä½ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-54">åä¾‹éªŒè¯ï¼ˆè‡ªå®šä¹‰ Hook å†™åœ¨ç»„ä»¶ Hook åé¢ï¼‰</h4>
<p>å¦‚æœæŠŠä»£ç æ”¹æˆè¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">HookForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šç»„ä»¶è‡ªèº« Hook å…ˆæ‰§è¡Œ</span>
  <span class="hljs-keyword">const</span> [submitCount, setSubmitCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  
  <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šè‡ªå®šä¹‰ Hook åæ‰§è¡Œ</span>
  <span class="hljs-keyword">const</span> { values, errors } = <span class="hljs-title function_">useFormValidate</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">""</span>, <span class="hljs-attr">phone</span>: <span class="hljs-string">""</span> });
  
  <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šç»„ä»¶è‡ªèº«å¦ä¸€ä¸ª Hook</span>
  <span class="hljs-keyword">const</span> [isSubmitting, setIsSubmitting] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
}
</code></pre>
<p>åˆ™é“¾è¡¨é¡ºåºå˜æˆï¼š
<code>submitCountï¼ˆ1ï¼‰â†’ valuesï¼ˆ2ï¼‰â†’ errorsï¼ˆ3ï¼‰â†’ useEffectï¼ˆ4ï¼‰â†’ isSubmittingï¼ˆ5ï¼‰</code></p>
<h4 data-id="heading-55">æ€»ç»“</h4>
<ol>
<li>è‡ªå®šä¹‰ Hook å†…çš„ useState/useEffect ä¼š <strong><code>æ’å…¥åˆ°ä½¿ç”¨å®ƒçš„ç»„ä»¶ fiber çš„ Hook é“¾è¡¨ä¸­</code></strong>ï¼Œè€Œéç‹¬ç«‹å­˜åœ¨ï¼›</li>
<li>æ‰§è¡Œé¡ºåºå®Œå…¨éµå¾ªâ€œä»£ç ä¹¦å†™é¡ºåºâ€ï¼šè‡ªå®šä¹‰ Hook å†™åœ¨å‰é¢ï¼Œå…¶å†…éƒ¨ Hook å…ˆæ‰§è¡Œã€å…ˆå…¥é“¾è¡¨ï¼›ç»„ä»¶è‡ªèº« Hook åæ‰§è¡Œã€åå…¥é“¾è¡¨ï¼›</li>
<li>è¿™ä¹Ÿæ˜¯è‡ªå®šä¹‰ Hook èƒ½â€œå¤ç”¨é€»è¾‘ä½†ä¸éš”ç¦»çŠ¶æ€â€çš„åŸå› â€”â€”<strong><code>æ‰€æœ‰çŠ¶æ€æœ€ç»ˆéƒ½å­˜åœ¨ç»„ä»¶çš„ fiber ä¸­ï¼Œä¸åŒç»„ä»¶è°ƒç”¨åŒä¸€ä¸ªè‡ªå®šä¹‰ Hookï¼Œä¼šåœ¨å„è‡ªçš„ fiber é“¾è¡¨ä¸­ç”Ÿæˆç‹¬ç«‹çš„ Hook èŠ‚ç‚¹ï¼ŒçŠ¶æ€äº’ä¸å¹²æ‰°ã€‚</code></strong></li>
</ol>
<p>ç®€å•è¯´ï¼šè‡ªå®šä¹‰ Hook å°±æ˜¯â€œæŠŠç»„ä»¶å†…çš„ä¸€æ®µ Hook é€»è¾‘æŠ½æˆå‡½æ•°â€ï¼Œè°ƒç”¨å®ƒç­‰ä»·äºæŠŠè¿™æ®µ Hook é€»è¾‘â€œç²˜è´´â€åˆ°ç»„ä»¶çš„å¯¹åº”ä½ç½®ï¼Œæ‰§è¡Œ/æ’å…¥é¡ºåºå®Œå…¨ä¸å˜ã€‚</p>
<h3 data-id="heading-56">è‡ªå®šä¹‰hook æ˜¯ä¸æ˜¯å’Œ vue çš„mixinæœ‰ç‚¹åƒï¼Ÿ</h3>
<h4 data-id="heading-57">ä¸€ã€å…ˆæ‰¿è®¤ç›¸ä¼¼æ€§ï¼šè¡¨å±‚éƒ½æ˜¯â€œé€»è¾‘å¤ç”¨â€</h4>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è‡ªå®šä¹‰ Hook</th><th>Vue mixin</th></tr></thead><tbody><tr><td>æ ¸å¿ƒç›®çš„</td><td>å¤ç”¨ç»„ä»¶ä¸­çš„ Hook é€»è¾‘ï¼ˆæ¯”å¦‚è¡¨å•éªŒè¯ã€é˜²æŠ–ï¼‰</td><td>å¤ç”¨ç»„ä»¶ä¸­çš„é€‰é¡¹é€»è¾‘ï¼ˆæ¯”å¦‚ dataã€methodsã€ç”Ÿå‘½å‘¨æœŸï¼‰</td></tr><tr><td>æ¥å…¥æ–¹å¼</td><td>ç»„ä»¶å†…ç›´æ¥è°ƒç”¨ï¼ˆ<code>const { validate } = useForm()</code>ï¼‰</td><td>ç»„ä»¶å†…é€šè¿‡ <code>mixins: [formMixin]</code> æ··å…¥</td></tr><tr><td>çŠ¶æ€å½’å±</td><td>æœ€ç»ˆå½’å±äºä½¿ç”¨å®ƒçš„ç»„ä»¶ï¼ˆHook æ’å…¥ç»„ä»¶ fiber é“¾è¡¨ï¼‰</td><td>æœ€ç»ˆå½’å±äºä½¿ç”¨å®ƒçš„ç»„ä»¶ï¼ˆmixin çš„ data/methods åˆå¹¶åˆ°ç»„ä»¶å®ä¾‹ï¼‰</td></tr></tbody></table>
<p>ç®€å•è¯´ï¼šäºŒè€…éƒ½æ˜¯â€œæŠŠé€šç”¨é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œè®©å¤šä¸ªç»„ä»¶èƒ½å¤ç”¨â€ï¼Œè¿™æ˜¯ä½ èƒ½ç›´è§‚æ„Ÿå—åˆ°çš„ç›¸ä¼¼æ€§ã€‚</p>
<h4 data-id="heading-58">äºŒã€æ ¸å¿ƒå·®å¼‚ï¼šHook æ˜¯â€œæ˜¾å¼å¤ç”¨â€ï¼Œmixin æ˜¯â€œéšå¼æ··å…¥â€ï¼ˆå¤©å·®åœ°åˆ«ï¼‰</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„åŒºåˆ«ï¼Œä¹Ÿæ˜¯ Hook èƒ½æ›¿ä»£ mixin è¿™ç±»æ–¹æ¡ˆçš„æ ¸å¿ƒåŸå› ï¼š</p>






























<table><thead><tr><th>ç»´åº¦</th><th>è‡ªå®šä¹‰ Hook</th><th>Vue mixin</th></tr></thead><tbody><tr><td>ä½œç”¨åŸŸ &amp; å‘½åå†²çª</td><td>å®Œå…¨æ— å†²çªï¼š<br/>1. è‡ªå®šä¹‰ Hook å†…éƒ¨çš„ useState/useEffect æŒ‰é¡ºåºæ’å…¥ç»„ä»¶ fiber é“¾è¡¨ï¼ŒçŠ¶æ€æ˜¯ã€Œæ˜¾å¼è¿”å›ã€ç»™ç»„ä»¶ï¼ˆæ¯”å¦‚ <code>const { count } = useCount()</code>ï¼‰ï¼›<br/>2. å˜é‡åç”±ç»„ä»¶è‡ªå·±å†³å®šï¼Œå“ªæ€•å¤šä¸ª Hook è¿”å›åŒåå˜é‡ï¼Œç»„ä»¶å¯ä»¥é‡å‘½åï¼ˆ<code>const { count: aCount } = useCount()</code>ï¼‰ã€‚</td><td>ææ˜“å†²çªï¼š<br/>1. mixin çš„ data/methods ä¼šã€Œéšå¼åˆå¹¶ã€åˆ°ç»„ä»¶å®ä¾‹ï¼Œæ¯”å¦‚ä¸¤ä¸ª mixin éƒ½å®šä¹‰äº† <code>count</code>ï¼Œåæ··å…¥çš„ä¼šè¦†ç›–å…ˆæ··å…¥çš„ï¼›<br/>2. ç»„ä»¶æ— æ³•æå‰é¢„çŸ¥ mixin å®šä¹‰äº†ä»€ä¹ˆï¼Œè°ƒè¯•æ—¶ä¸çŸ¥é“ <code>count</code> æ¥è‡ªå“ªä¸ª mixinã€‚</td></tr><tr><td>é€»è¾‘æº¯æº</td><td>æ¸…æ™°å¯è¿½æº¯ï¼š<br/>ç»„ä»¶é‡Œè°ƒç”¨ <code>useForm()</code> çš„ä½ç½®å°±æ˜¯é€»è¾‘å…¥å£ï¼Œç‚¹è¿› <code>useForm</code> å°±èƒ½çœ‹åˆ°æ‰€æœ‰ç›¸å…³é€»è¾‘ï¼ŒHook ä¹‹é—´çš„ä¾èµ–ä¹Ÿæ˜¯æ˜¾å¼çš„ï¼ˆæ¯”å¦‚ä¼ å‚ï¼‰ã€‚</td><td>æ··ä¹±éš¾æº¯æºï¼š<br/>å¤šä¸ª mixin æ··å…¥åï¼Œç»„ä»¶çš„ <code>created</code> ç”Ÿå‘½å‘¨æœŸå¯èƒ½ç”± 3 ä¸ª mixin + ç»„ä»¶è‡ªèº«å…±åŒæ„æˆï¼Œæ— æ³•ç›´è§‚çŸ¥é“æŸæ®µé€»è¾‘æ¥è‡ªå“ªä¸ª mixinã€‚</td></tr><tr><td>çŠ¶æ€éš”ç¦»</td><td>å¤©ç„¶éš”ç¦»ï¼š<br/>ä¸åŒç»„ä»¶è°ƒç”¨åŒä¸€ä¸ªè‡ªå®šä¹‰ Hookï¼Œä¼šåœ¨å„è‡ªçš„ fiber é“¾è¡¨ä¸­ç”Ÿæˆç‹¬ç«‹çš„ Hook èŠ‚ç‚¹ï¼ŒçŠ¶æ€äº’ä¸å¹²æ‰°ï¼ˆæ¯”å¦‚ A ç»„ä»¶çš„ <code>count</code> å’Œ B ç»„ä»¶çš„ <code>count</code> æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ Hook èŠ‚ç‚¹ï¼‰ã€‚</td><td>éœ€æ‰‹åŠ¨éš”ç¦»ï¼š<br/>mixin çš„ data æ˜¯ã€Œå…±äº«æ¨¡æ¿ã€ï¼Œå¦‚æœ mixin å®šä¹‰äº† <code>count: 0</code>ï¼Œå¤šä¸ªç»„ä»¶ä½¿ç”¨æ—¶ï¼Œè‹¥ä¸æ‰‹åŠ¨å¤„ç†ï¼ˆæ¯”å¦‚ç”¨å‡½æ•°å¼ dataï¼‰ï¼Œå¯èƒ½å‡ºç°çŠ¶æ€æ±¡æŸ“ï¼ˆæå°‘æ•°åœºæ™¯ï¼Œä½†æ˜“è¸©å‘ï¼‰ã€‚</td></tr><tr><td>é€»è¾‘ç»„åˆ</td><td>çµæ´»ç»„åˆï¼š<br/>è‡ªå®šä¹‰ Hook å¯ä»¥åµŒå¥—è°ƒç”¨å…¶ä»– Hookï¼ˆ<code>useForm</code> é‡Œè°ƒç”¨ <code>useValidate</code>ï¼‰ï¼Œé€»è¾‘åˆ†å±‚æ¸…æ™°ï¼Œåƒâ€œæ­ç§¯æœ¨â€ã€‚</td><td>ç»„åˆæ··ä¹±ï¼š<br/>å¤šä¸ª mixin æ··å…¥åï¼Œé€»è¾‘æ˜¯â€œå¹³é“ºå¼â€çš„ï¼Œmixin ä¹‹é—´æ— æ³•ç›´æ¥é€šä¿¡ï¼ˆéœ€é€šè¿‡ç»„ä»¶å®ä¾‹ï¼‰ï¼Œå¤æ‚åœºæ™¯ä¸‹ä¼šå˜æˆâ€œmixin åœ°ç‹±â€ã€‚</td></tr></tbody></table>
<h4 data-id="heading-59">ä¸‰ã€ç»“åˆä½ å­¦çš„ Hook åº•å±‚ï¼Œç†è§£å·®å¼‚çš„æœ¬è´¨</h4>
<p>è‡ªå®šä¹‰ Hook ä¹‹æ‰€ä»¥èƒ½è§£å†³ mixin çš„ç—›ç‚¹ï¼Œæ ¸å¿ƒæ˜¯ã€ŒHook çš„çŠ¶æ€å½’å±äºç»„ä»¶ fiberï¼Œä¸”é€»è¾‘æ˜¯æ˜¾å¼æš´éœ²çš„ã€ï¼š</p>
<ol>
<li>è‡ªå®šä¹‰ Hook å†…éƒ¨çš„ useState æœ€ç»ˆä¼šå˜æˆç»„ä»¶ fiber é“¾è¡¨ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒçŠ¶æ€æ˜¯ç»„ä»¶â€œè‡ªæœ‰â€çš„ï¼Œè€Œéâ€œå¤–æ¥æ··å…¥â€çš„ï¼›</li>
<li><strong><code>è‡ªå®šä¹‰ Hook æŠŠçŠ¶æ€/æ–¹æ³•é€šè¿‡è¿”å›å€¼æš´éœ²ç»™ç»„ä»¶ï¼Œç»„ä»¶å¿…é¡»ã€Œæ˜¾å¼æ¥æ”¶ã€â€”â€”ç›¸å½“äºâ€œä½ è¦ä»€ä¹ˆï¼Œæˆ‘ç»™ä»€ä¹ˆâ€ï¼Œè€Œ mixin æ˜¯â€œæˆ‘æŠŠä¸€å †ä¸œè¥¿å¡ç»™ä½ ï¼Œä½ ä¸çŸ¥é“æœ‰ä»€ä¹ˆâ€ï¼›</code></strong></li>
<li><strong><code>å“ªæ€•å¤šä¸ªè‡ªå®šä¹‰ Hook å¾€ç»„ä»¶ fiber é“¾è¡¨ä¸­æ’å…¥èŠ‚ç‚¹ï¼Œå› ä¸ºæ˜¯ã€ŒæŒ‰è°ƒç”¨é¡ºåºæ’å…¥ã€ï¼Œä¸”è¿”å›å€¼ç”±ç»„ä»¶å‘½åï¼Œå®Œå…¨ä¸ä¼šå†²çªï¼ˆæ¯”å¦‚ </code>useCount1<code> çš„ count æ˜¯é“¾è¡¨ç¬¬ 1 ä½ï¼Œ</code>useCount2<code>çš„ count æ˜¯é“¾è¡¨ç¬¬ 3 ä½ï¼Œç»„ä»¶æ¥æ”¶æ—¶å¯ä»¥å«</code>count1<code>/</code>count2<code>ï¼‰ã€‚</code></strong></li>
</ol>
<p><strong><code>è€Œ Vue mixin çš„é—®é¢˜åœ¨äºï¼šå®ƒæ˜¯ã€Œéšå¼åˆå¹¶ã€åˆ°ç»„ä»¶å®ä¾‹ï¼Œç›¸å½“äºâ€œå¾€ç»„ä»¶çš„ data/methods é‡Œå·å·åŠ ä¸œè¥¿â€ï¼Œæ—¢ä¸çŸ¥é“åŠ äº†ä»€ä¹ˆï¼Œä¹Ÿå®¹æ˜“å’Œç»„ä»¶è‡ªèº«çš„é€»è¾‘å†²çªã€‚</code></strong></p>
<h4 data-id="heading-60">æ€»ç»“</h4>
<ol>
<li>è¡¨å±‚ç›¸ä¼¼ï¼šè‡ªå®šä¹‰ Hook å’Œ mixin éƒ½æ˜¯ä¸ºäº†å¤ç”¨ç»„ä»¶é€»è¾‘ï¼›</li>
<li>æ ¸å¿ƒå·®å¼‚ï¼šHook æ˜¯ã€Œæ˜¾å¼ã€å¯æ§ã€éš”ç¦»ã€çš„é€»è¾‘å¤ç”¨ï¼ˆçŠ¶æ€å½’ç»„ä»¶ fiberï¼Œè¿”å›å€¼æ˜¾å¼æ¥æ”¶ï¼‰ï¼Œmixin æ˜¯ã€Œéšå¼ã€æ··ä¹±ã€æ˜“å†²çªã€çš„é€»è¾‘æ··å…¥ï¼ˆçŠ¶æ€åˆå¹¶åˆ°ç»„ä»¶å®ä¾‹ï¼Œæ— æ˜ç¡®è¾¹ç•Œï¼‰ï¼›</li>
<li>æœ¬è´¨åŸå› ï¼šHook ä¾æ‰˜äº React æŒ‰é¡ºåºæ’å…¥ç»„ä»¶ fiber é“¾è¡¨çš„æœºåˆ¶ï¼Œå¤©ç„¶å’Œç»„ä»¶çŠ¶æ€ç»‘å®šï¼Œè€Œ mixin æ˜¯â€œæ— è¾¹ç•Œçš„é€»è¾‘åˆå¹¶â€ï¼Œè¿™ä¹Ÿæ˜¯ React æ”¾å¼ƒ mixin è½¬è€Œæ¨ Hook çš„æ ¸å¿ƒåŸå› ã€‚</li>
</ol>
<p>ç®€å•è¯´ï¼šä½ å¯ä»¥æŠŠè‡ªå®šä¹‰ Hook ç†è§£ä¸ºã€Œå‡çº§ç‰ˆçš„ mixinã€â€”â€”ä¿ç•™äº†â€œé€»è¾‘å¤ç”¨â€çš„æ ¸å¿ƒä»·å€¼ï¼Œåˆè§£å†³äº† mixin æ‰€æœ‰çš„è‡´å‘½ç—›ç‚¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React çŠ¶æ€ç®¡ç†çš„æ¶æ„æ¼”è¿›ï¼šä¸ºä»€ä¹ˆä½ ä¸å†éœ€è¦æŠŠæ‰€æœ‰æ•°æ®å¡è¿›å…¨å±€ Store]]></title>    <link>https://juejin.cn/post/7598699872552632356</link>    <guid>https://juejin.cn/post/7598699872552632356</guid>    <pubDate>2026-01-25T09:33:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598699872552632356" data-draft-id="7598699872552615972" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React çŠ¶æ€ç®¡ç†çš„æ¶æ„æ¼”è¿›ï¼šä¸ºä»€ä¹ˆä½ ä¸å†éœ€è¦æŠŠæ‰€æœ‰æ•°æ®å¡è¿›å…¨å±€ Store"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-25T09:33:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾æ…•å¤§ä¸‰è§’"/> <meta itemprop="url" content="https://juejin.cn/user/1882827191748744"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React çŠ¶æ€ç®¡ç†çš„æ¶æ„æ¼”è¿›ï¼šä¸ºä»€ä¹ˆä½ ä¸å†éœ€è¦æŠŠæ‰€æœ‰æ•°æ®å¡è¿›å…¨å±€ Store
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1882827191748744/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾æ…•å¤§ä¸‰è§’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:33:01.000Z" title="Sun Jan 25 2026 09:33:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React çŠ¶æ€ç®¡ç†çš„æ¶æ„æ¼”è¿›ï¼šä¸ºä»€ä¹ˆä½ ä¸å†éœ€è¦æŠŠæ‰€æœ‰æ•°æ®å¡è¿›å…¨å±€ Store</h2>
<h3 data-id="heading-1">å¼•è¨€ï¼šçŠ¶æ€ç®¡ç†çš„å›°å¢ƒ</h3>
<p>å¦‚æœä½ å†™è¿‡ä¸­å¤§å‹ React åº”ç”¨ï¼Œä¸€å®šé‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½ çš„ Redux Store æˆ– Zustand Store é•¿è¿™æ ·</span>
<span class="hljs-keyword">const</span> useAppStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯</span>
  <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">setCurrentUser</span>: <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">currentUser</span>: user }),

  <span class="hljs-comment">// ç®€å†åˆ—è¡¨</span>
  <span class="hljs-attr">resumes</span>: [],
  <span class="hljs-attr">setResumes</span>: <span class="hljs-function">(<span class="hljs-params">resumes</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ resumes }),

  <span class="hljs-comment">// åŠ è½½çŠ¶æ€</span>
  <span class="hljs-attr">isLoadingUser</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">isLoadingResumes</span>: <span class="hljs-literal">false</span>,

  <span class="hljs-comment">// ä¾§è¾¹æ çŠ¶æ€</span>
  <span class="hljs-attr">isSidebarOpen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">isSidebarOpen</span>: !s.<span class="hljs-property">isSidebarOpen</span> })),

  <span class="hljs-comment">// ä¸»é¢˜</span>
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
  <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),
}));
</code></pre>
<p>ç„¶ååœ¨ç»„ä»¶é‡Œï¼Œä½ éœ€è¦è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { currentUser, isLoadingUser, setCurrentUser } = <span class="hljs-title function_">useAppStore</span>();

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ¯æ¬¡ç»„ä»¶æŒ‚è½½éƒ½è¦æ‰‹åŠ¨è·å–æ•°æ®</span>
    <span class="hljs-title function_">fetchUser</span>().<span class="hljs-title function_">then</span>(setCurrentUser);
  }, []);

  <span class="hljs-keyword">if</span> (isLoadingUser) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Spinner</span> /&gt;</span></span>;
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{currentUser?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>çœ‹èµ·æ¥ä¸€åˆ‡æ­£å¸¸ï¼Œä½†éšç€åº”ç”¨å¤æ‚åº¦å¢é•¿ï¼Œé—®é¢˜å¼€å§‹æš´éœ²ï¼š</p>
<ol>
<li><strong>æ•°æ®é‡å¤è·å–</strong>ï¼šå¤šä¸ªç»„ä»¶éƒ½éœ€è¦ <code>currentUser</code>ï¼Œæ¯ä¸ªç»„ä»¶éƒ½è¦å†™ <code>useEffect</code> å»è·å–</li>
<li><strong>ç¼“å­˜å¤±æ•ˆéš¾é¢˜</strong>ï¼šç”¨æˆ·åœ¨ A é¡µé¢æ›´æ–°äº†ä¿¡æ¯ï¼ŒB é¡µé¢çš„æ•°æ®å¦‚ä½•åŒæ­¥ï¼Ÿ</li>
<li><strong>åŠ è½½çŠ¶æ€çˆ†ç‚¸</strong>ï¼šæ¯ä¸ª API éƒ½è¦æ‰‹åŠ¨ç»´æŠ¤ <code>isLoading</code>ã€<code>error</code>ã€<code>data</code> ä¸‰ä»¶å¥—</li>
<li><strong>æ•°æ®æ–°é²œåº¦è¿·å¤±</strong>ï¼šè¿™ä»½æ•°æ®æ˜¯ 1 ç§’å‰çš„è¿˜æ˜¯ 10 åˆ†é’Ÿå‰çš„ï¼Ÿè¯¥ä¸è¯¥é‡æ–°è·å–ï¼Ÿ</li>
</ol>
<p>æ›´ä¸¥é‡çš„æ˜¯ï¼Œ<strong>ä½ æŠŠæ‰€æœ‰çŠ¶æ€éƒ½å¡è¿›äº†åŒä¸€ä¸ª Storeï¼ŒServer Stateï¼ˆæ¥è‡ª API çš„æ•°æ®ï¼‰å’Œ Client Stateï¼ˆUI çŠ¶æ€ï¼‰æ··åœ¨ä¸€èµ·</strong>ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>ä¸çŸ¥é“å“ªäº›æ•°æ®è¯¥æŒä¹…åŒ–ã€å“ªäº›è¯¥ä¸¢å¼ƒ</li>
<li>ä¸çŸ¥é“å“ªäº›æ•°æ®è¯¥è‡ªåŠ¨åˆ·æ–°ã€å“ªäº›ä¸éœ€è¦</li>
<li>çŠ¶æ€æ›´æ–°é€»è¾‘è¶Šæ¥è¶Šå¤æ‚ï¼Œreducer è¶Šå†™è¶Šé•¿</li>
</ul>
<p><strong>æœ¬æ–‡å°†å±•ç¤ºä¸€ç§å…¨æ–°çš„æ¶æ„æ€ç»´</strong>ï¼šä¸å†æŠŠæ‰€æœ‰æ•°æ®å¡è¿›å…¨å±€ Storeï¼Œè€Œæ˜¯æ ¹æ®æ•°æ®çš„æœ¬è´¨ç‰¹å¾ï¼Œé€‰æ‹©ä¸“é—¨çš„å·¥å…·æ¥ç®¡ç†ã€‚è¿™ä¸æ˜¯å·¥å…·çš„é€‰å‹é—®é¢˜ï¼Œè€Œæ˜¯æ¶æ„ç†å¿µçš„å‡çº§ã€‚</p>
<h3 data-id="heading-2">ç¬¬ä¸€éƒ¨åˆ†ï¼šé‡æ–°è®¤è¯†çŠ¶æ€çš„æœ¬è´¨</h3>
<h4 data-id="heading-3">æ ¸å¿ƒåŸåˆ™ï¼šServer State â‰  Client State</h4>
<p>åœ¨ React åº”ç”¨ä¸­ï¼ŒçŠ¶æ€åªæœ‰ä¸¤ç§æœ¬è´¨ï¼š</p>


























<table><thead><tr><th>çŠ¶æ€ç±»å‹</th><th>å®šä¹‰</th><th>ç‰¹å¾</th><th>æœ€ä½³å·¥å…·</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>Server State</strong></td><td>æ¥è‡ªæœåŠ¡å™¨çš„æ•°æ®ï¼Œä½ ä¸æ‹¥æœ‰å®ƒ</td><td>å¼‚æ­¥ã€éœ€è¦ç¼“å­˜ã€ä¼šè¿‡æœŸã€å¯èƒ½è¢«åˆ«äººä¿®æ”¹</td><td><strong>TanStack Query (React Query)</strong></td><td>ç”¨æˆ·ä¿¡æ¯ã€ç®€å†åˆ—è¡¨ã€æ–‡ç« æ•°æ®ã€å•†å“è¯¦æƒ…</td></tr><tr><td><strong>Client State</strong></td><td>ä»…å­˜åœ¨äºæµè§ˆå™¨ä¸­çš„ UI çŠ¶æ€ï¼Œä½ å®Œå…¨æ‹¥æœ‰å®ƒ</td><td>åŒæ­¥ã€ç¬æ€ã€ä¸éœ€è¦ç¼“å­˜ã€åªä½ èƒ½æ”¹</td><td><strong>Zustand / Context</strong></td><td>ä¾§è¾¹æ å¼€å…³ã€å¼¹çª—æ˜¾ç¤ºã€è§†å›¾åˆ‡æ¢ã€æš—é»‘æ¨¡å¼</td></tr></tbody></table>
<p>è¿™ä¸ªåˆ†ç±»çœ‹èµ·æ¥ç®€å•ï¼Œä½†å®ƒå†³å®šäº†ä½ çš„æ¶æ„æ–¹å‘ã€‚</p>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆè¦åˆ†ç¦»ï¼Ÿ</h4>
<p><strong>Server State çš„æœ¬è´¨æ˜¯è¿œç¨‹ç¼“å­˜</strong>ï¼Œå®ƒçš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>å¦‚ä½•é¿å…é‡å¤è¯·æ±‚ï¼Ÿ</li>
<li>å¦‚ä½•çŸ¥é“æ•°æ®æ˜¯å¦è¿‡æœŸï¼Ÿ</li>
<li>å¦‚ä½•åœ¨å¤šä¸ªç»„ä»¶é—´å…±äº«åŒä¸€ä»½æ•°æ®ï¼Ÿ</li>
<li>å¦‚ä½•åœ¨åå°è‡ªåŠ¨æ›´æ–°æ•°æ®ï¼Ÿ</li>
</ul>
<p><strong>Client State çš„æœ¬è´¨æ˜¯æœ¬åœ°å˜é‡</strong>ï¼Œå®ƒçš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š</p>
<ul>
<li>å¦‚ä½•è·¨ç»„ä»¶å…±äº«ï¼Ÿ</li>
<li>æ˜¯å¦éœ€è¦æŒä¹…åŒ–ï¼Ÿ</li>
<li>å¦‚ä½•é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Ÿ</li>
</ul>
<p><strong>è¿™ä¸¤ç±»é—®é¢˜å®Œå…¨ä¸åŒï¼Œç”¨åŒä¸€å¥—å·¥å…·ï¼ˆRedux/Zustandï¼‰è§£å†³ï¼Œåªä¼šè®©ä»£ç è¶Šæ¥è¶Šä¹±ã€‚</strong></p>
<h4 data-id="heading-5">æ€ç»´è½¬å˜ï¼šä»ã€ŒçŠ¶æ€å®¹å™¨ã€åˆ°ã€Œæ•°æ®åŒæ­¥ã€</h4>
<p>ä¼ ç»Ÿæ€ç»´ï¼ˆRedux/Zustandï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">API â†’ fetch â†’ <span class="hljs-built_in">dispatch</span>(setData) â†’ Global Store â†’ Component
</code></pre>
<p>æ–°æ€ç»´ï¼ˆReact Queryï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">API â† Component (é€šè¿‡ useQuery ç›´æ¥è®¢é˜…)
<span class="hljs-code">      â†‘
      â””â”€ è‡ªåŠ¨ç¼“å­˜ã€å»é‡ã€æ›´æ–°ã€å…±äº«
</span></code></pre>
<p><strong>æ ¸å¿ƒåŒºåˆ«</strong>ï¼šä¸å†æ˜¯"è·å–æ•°æ®åå­˜åˆ° Store"ï¼Œè€Œæ˜¯"ç»„ä»¶ç›´æ¥è®¢é˜…æ•°æ®æº"ã€‚React Query ä¼šå¸®ä½ å¤„ç†æ‰€æœ‰è„æ´»ç´¯æ´»ã€‚</p>
<h3 data-id="heading-6">ç¬¬äºŒéƒ¨åˆ†ï¼šåæ¨¡å¼è­¦ç¤º - é‚£äº›å¹´æˆ‘ä»¬è¸©è¿‡çš„å‘</h3>
<p>åœ¨æ·±å…¥æœ€ä½³å®è·µä¹‹å‰ï¼Œå…ˆçœ‹çœ‹å“ªäº›åšæ³•æ˜¯<strong>å¿…é¡»é¿å…</strong>çš„ã€‚</p>
<h4 data-id="heading-7">åæ¨¡å¼ 1ï¼šæŠŠ API æ•°æ®å­˜è¿› Zustand/Redux</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  ä¸è¦è¿™æ ·åš</span>
<span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>,

  <span class="hljs-attr">fetchUser</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-title function_">set</span>({ <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">fetchUser</span>();
      <span class="hljs-title function_">set</span>({ <span class="hljs-attr">currentUser</span>: user, <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span> });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">set</span>({ error, <span class="hljs-attr">isLoading</span>: <span class="hljs-literal">false</span> });
    }
  },
}));

<span class="hljs-comment">// ç»„ä»¶ A</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { currentUser, fetchUser } = <span class="hljs-title function_">useUserStore</span>();
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-title function_">fetchUser</span>(); }, []);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{currentUser?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}

<span class="hljs-comment">// ç»„ä»¶ B</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Sidebar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { currentUser, fetchUser } = <span class="hljs-title function_">useUserStore</span>();
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-title function_">fetchUser</span>(); }, []); <span class="hljs-comment">// åˆè¯·æ±‚ä¸€æ¬¡ï¼Ÿ</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{currentUser?.avatar}</span> /&gt;</span></span>;
}
</code></pre>
<p><strong>é—®é¢˜è¯Šæ–­</strong>ï¼š</p>
<ol>
<li>æ¯ä¸ªç»„ä»¶éƒ½è¦æ‰‹åŠ¨è§¦å‘ <code>fetchUser</code>ï¼Œå®¹æ˜“é‡å¤è¯·æ±‚</li>
<li>æ•°æ®æ–°é²œåº¦æ— æ³•ä¿è¯ï¼ˆç”¨æˆ·ä¿¡æ¯å¯èƒ½åœ¨æœåŠ¡å™¨è¢«ä¿®æ”¹äº†ï¼‰</li>
<li>ç¼“å­˜é€»è¾‘éœ€è¦æ‰‹å†™ï¼ˆå¦‚ä½•åˆ¤æ–­æ•°æ®æ˜¯å¦è¿‡æœŸï¼Ÿï¼‰</li>
<li>è·¨é¡µé¢å…±äº«å›°éš¾ï¼ˆA é¡µé¢è·å–çš„æ•°æ®ï¼ŒB é¡µé¢èƒ½ç”¨å—ï¼Ÿï¼‰</li>
</ol>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼ˆåé¢ä¼šè¯¦ç»†å±•å¼€ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨ React Query</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: api.<span class="hljs-property">fetchUser</span>,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// 5åˆ†é’Ÿå†…è®¤ä¸ºæ•°æ®æ–°é²œ</span>
  });
}

<span class="hljs-comment">// ç»„ä»¶ A å’Œ B éƒ½è¿™æ ·ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useCurrentUser</span>(); <span class="hljs-comment">// è‡ªåŠ¨å…±äº«ã€è‡ªåŠ¨å»é‡</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<hr/>
<h4 data-id="heading-8">åæ¨¡å¼ 2ï¼šuseEffect åŒæ­¥ Query æ•°æ®åˆ° Store</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  åŒé‡æ•°æ®æºï¼šæ—¢æœ‰ Query åˆæœ‰ Store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
  });

  <span class="hljs-keyword">const</span> setUser = <span class="hljs-title function_">useUserStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setUser</span>);

  <span class="hljs-comment">//  å±é™©ï¼ç›‘å¬ Query æ•°æ®å˜åŒ–ï¼Œæ‰‹åŠ¨åŒæ­¥åˆ° Store</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (user) {
      <span class="hljs-title function_">setUser</span>(user); <span class="hljs-comment">// ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿ</span>
    }
  }, [user, setUser]);

  <span class="hljs-comment">// ç°åœ¨æ•°æ®æœ‰ä¸¤ä»½ï¼šQuery ç¼“å­˜ + Store</span>
  <span class="hljs-keyword">const</span> storeUser = <span class="hljs-title function_">useUserStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">currentUser</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{storeUser?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p><strong>é—®é¢˜è¯Šæ–­</strong>ï¼š</p>
<ol>
<li><strong>åŒé‡æ•°æ®æº</strong>ï¼šåŒä¸€ä»½æ•°æ®æ—¢åœ¨ Query ç¼“å­˜åˆåœ¨ Storeï¼Œå“ªä¸ªæ˜¯çœŸç›¸ï¼Ÿ</li>
<li><strong>åŒæ­¥ Bug</strong>ï¼šå¦‚æœ Query æ•°æ®æ›´æ–°ä½† useEffect æ²¡è§¦å‘æ€ä¹ˆåŠï¼Ÿ</li>
<li><strong>æ— æ„ä¹‰çš„å¤æ‚åº¦</strong>ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ <code>user</code> è€Œè¦ç»•ä¸€åœˆå­˜åˆ° Storeï¼Ÿ</li>
</ol>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ Query æ•°æ®ï¼Œä¸è¦åŒæ­¥åˆ° Store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
  });

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>; <span class="hljs-comment">// å°±è¿™ä¹ˆç®€å•</span>
}

<span class="hljs-comment">// å¦‚æœå…¶ä»–ç»„ä»¶éœ€è¦ï¼Œç›´æ¥ç”¨åŒæ ·çš„ Hook</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Sidebar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
  });
  <span class="hljs-comment">// React Query ä¼šè‡ªåŠ¨å…±äº«ç¼“å­˜ï¼Œä¸ä¼šé‡å¤è¯·æ±‚</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{user?.avatar}</span> /&gt;</span></span>;
}
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™ï¼šPull, Don't Push</strong></p>
<ul>
<li>ç»„ä»¶ä¸»åŠ¨"æ‹‰å–"æ•°æ®ï¼ˆ<code>useQuery</code>ï¼‰</li>
<li>è·å–æ•°æ®å"æ¨é€"åˆ° Storeï¼ˆ<code>setStore</code>ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-9">åæ¨¡å¼ 3ï¼šæŠŠ UI çŠ¶æ€å­˜è¿› React Query</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  React Query ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä¸è¦æ»¥ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useSidebarState</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'sidebarOpen'</span>],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-literal">true</span>, <span class="hljs-comment">// è¿™æ ¹æœ¬ä¸æ˜¯å¼‚æ­¥æ•°æ®ï¼</span>
    <span class="hljs-attr">initialData</span>: <span class="hljs-literal">true</span>,
  });
}

<span class="hljs-comment">// æ›´æ–°ä¾§è¾¹æ çŠ¶æ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toggleSidebar</span>(<span class="hljs-params"/>) {
  queryClient.<span class="hljs-title function_">setQueryData</span>([<span class="hljs-string">'sidebarOpen'</span>], <span class="hljs-function">(<span class="hljs-params">old</span>) =&gt;</span> !old);
}
</code></pre>
<p><strong>é—®é¢˜è¯Šæ–­</strong>ï¼š</p>
<ol>
<li>React Query æ˜¯ä¸ºå¼‚æ­¥æ•°æ®è®¾è®¡çš„ï¼Œä¸æ˜¯é€šç”¨çŠ¶æ€ç®¡ç†å™¨</li>
<li>æµªè´¹äº† Query çš„ç¼“å­˜ã€è¿‡æœŸã€é‡è¯•ç­‰ç‰¹æ€§ï¼ˆUI çŠ¶æ€ä¸éœ€è¦è¿™äº›ï¼‰</li>
<li>è¯­ä¹‰æ··ä¹±ï¼šä¾§è¾¹æ çŠ¶æ€ä¸æ˜¯"æŸ¥è¯¢"å‡ºæ¥çš„</li>
</ol>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// çº¯ UI çŠ¶æ€ç”¨ Zustand æˆ– Context</span>
<span class="hljs-keyword">const</span> useUIStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">isSidebarOpen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">isSidebarOpen</span>: !s.<span class="hljs-property">isSidebarOpen</span> })),
}));
</code></pre>
<hr/>
<h4 data-id="heading-10">åæ¨¡å¼ 4ï¼šMutation åæ‰‹åŠ¨æ›´æ–° Store è€Œä¸æ˜¯ Invalidate</h4>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  æ‰‹åŠ¨ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§</span>
<span class="hljs-keyword">const</span> updateUserMutation = <span class="hljs-title function_">useMutation</span>({
  <span class="hljs-attr">mutationFn</span>: updateUser,
  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">newUser</span>) =&gt;</span> {
    <span class="hljs-comment">// æ‰‹åŠ¨æ›´æ–° Store</span>
    useUserStore.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">currentUser</span>: newUser });

    <span class="hljs-comment">// è¿˜è¦æ‰‹åŠ¨æ›´æ–°ç”¨æˆ·åˆ—è¡¨</span>
    useUserStore.<span class="hljs-title function_">setState</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({
      <span class="hljs-attr">users</span>: s.<span class="hljs-property">users</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">u</span>) =&gt;</span> (u.<span class="hljs-property">id</span> === newUser.<span class="hljs-property">id</span> ? newUser : u)),
    }));

    <span class="hljs-comment">// å“ªé‡Œè¿˜æœ‰ç”¨æˆ·æ•°æ®ï¼Ÿéƒ½è¦æ‰‹åŠ¨æ›´æ–°...</span>
  },
});
</code></pre>
<p><strong>é—®é¢˜è¯Šæ–­</strong>ï¼š</p>
<ol>
<li>æ‰‹åŠ¨åŒæ­¥å®¹æ˜“é—æ¼ï¼ˆè¿˜æœ‰å¤šå°‘åœ°æ–¹ç”¨äº†è¿™ä¸ªç”¨æˆ·æ•°æ®ï¼Ÿï¼‰</li>
<li>æ•°æ®ä¸ä¸€è‡´é£é™©ï¼ˆæœåŠ¡å™¨è¿”å›çš„æ•°æ®å¯èƒ½å’Œä½ æƒ³çš„ä¸ä¸€æ ·ï¼‰</li>
<li>ä»£ç ç»´æŠ¤å™©æ¢¦ï¼ˆæ¯ä¸ª Mutation éƒ½è¦å†™ä¸€å †åŒæ­¥é€»è¾‘ï¼‰</li>
</ol>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è®© React Query é‡æ–°è·å–ï¼ŒæœåŠ¡å™¨æ˜¯å”¯ä¸€çœŸç›¸</span>
<span class="hljs-keyword">const</span> updateUserMutation = <span class="hljs-title function_">useMutation</span>({
  <span class="hljs-attr">mutationFn</span>: updateUser,
  <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ ‡è®°æ•°æ®ä¸º"è¿‡æœŸ"ï¼ŒReact Query ä¼šè‡ªåŠ¨é‡æ–°è·å–</span>
    queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>] });
    queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>] });
  },
});
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™ï¼šServer is the source of truth</strong></p>
<ul>
<li>Mutation åå‘Šè¯‰ Query "æ•°æ®è„äº†ï¼Œé‡æ–°æ‹‰å–"</li>
<li>Mutation åæ‰‹åŠ¨åŒæ­¥æœ¬åœ°æ•°æ®ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰</li>
</ul>
<hr/>
<p>è¿™äº›åæ¨¡å¼çš„å…±åŒç‚¹æ˜¯ï¼š<strong>è¯•å›¾ç”¨é€šç”¨çŠ¶æ€ç®¡ç†å·¥å…·ï¼ˆRedux/Zustandï¼‰è§£å†³å¼‚æ­¥æ•°æ®ç®¡ç†é—®é¢˜</strong>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹æ­£ç¡®çš„æ¶æ„åº”è¯¥æ˜¯ä»€ä¹ˆæ ·ã€‚</p>
<h3 data-id="heading-11">ç¬¬ä¸‰éƒ¨åˆ†ï¼šServer State çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ (React Query)</h3>
<h4 data-id="heading-12">æ ¸å¿ƒè®¤çŸ¥ï¼šQueryKey å°±æ˜¯å…¨å±€ Store ID</h4>
<p>è¿™æ˜¯æœ€é‡è¦çš„æ€ç»´è½¬å˜ï¼š<strong>åœ¨ React Query ä¸­ï¼Œ<code>queryKey</code> å°±æ˜¯çŠ¶æ€çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç±»ä¼¼äº Redux ä¸­çš„ Store Keyã€‚</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ ç»Ÿæ€ç»´ï¼šæ‰‹åŠ¨åˆ›å»ºå…¨å±€ Store</span>
<span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// &lt;-- Store Key</span>
}));

<span class="hljs-comment">// React Query æ€ç»´ï¼šQueryKey å°±æ˜¯éšå¼çš„ Store ID</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: currentUser } = <span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>], <span class="hljs-comment">// &lt;-- è¿™å°±æ˜¯ Store Key</span>
  <span class="hljs-attr">queryFn</span>: fetchUser,
});
</code></pre>
<p><strong>è‡ªåŠ¨å…±äº«çš„é­”æ³•</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç»„ä»¶ A</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
  });
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}

<span class="hljs-comment">// ç»„ä»¶ Bï¼ˆå®Œå…¨ç‹¬ç«‹çš„ç»„ä»¶æ ‘ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Sidebar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>], <span class="hljs-comment">// ç›¸åŒçš„ queryKey</span>
    <span class="hljs-attr">queryFn</span>: fetchUser,
  });
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Avatar</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{data?.avatar}</span> /&gt;</span></span>;
}

<span class="hljs-comment">// ç»“æœï¼š</span>
<span class="hljs-comment">// 1. åªä¼šå‘é€ä¸€æ¬¡è¯·æ±‚ï¼ˆè‡ªåŠ¨å»é‡ï¼‰</span>
<span class="hljs-comment">// 2. ä¸¤ä¸ªç»„ä»¶å…±äº«åŒä¸€ä»½ç¼“å­˜æ•°æ®</span>
<span class="hljs-comment">// 3. æ•°æ®æ›´æ–°æ—¶ï¼Œä¸¤ä¸ªç»„ä»¶è‡ªåŠ¨åŒæ­¥</span>
</code></pre>
<p><strong>ä¸å†éœ€è¦æ˜¾å¼çš„å…¨å±€ Storeï¼ŒQueryKey å°±æ˜¯éšå¼çš„ Store IDã€‚</strong></p>
<hr/>
<h4 data-id="heading-13">æœ€ä½³å®è·µ 1ï¼šä½¿ç”¨ Factory Pattern ç®¡ç† QueryKey</h4>
<p>éšç€åº”ç”¨å¢é•¿ï¼ŒQueryKey ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½¿ç”¨å¸¸é‡å¯¹è±¡ç»Ÿä¸€ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/queries/queryKeys.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">USER_KEYS</span> = {
  <span class="hljs-attr">all</span>: [<span class="hljs-string">'users'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">currentUser</span>: [<span class="hljs-string">'currentUser'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">byId</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> [<span class="hljs-string">'users'</span>, id] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">posts</span>: <span class="hljs-function">(<span class="hljs-params">userId: <span class="hljs-built_in">string</span></span>) =&gt;</span> [<span class="hljs-string">'users'</span>, userId, <span class="hljs-string">'posts'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RESUME_KEYS</span> = {
  <span class="hljs-attr">all</span>: [<span class="hljs-string">'resumes'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">byId</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> [<span class="hljs-string">'resumes'</span>, id] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
  <span class="hljs-attr">templates</span>: [<span class="hljs-string">'resume-templates'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
};
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ol>
<li>é¿å… Key æ‹¼å†™é”™è¯¯</li>
<li>æ–¹ä¾¿æ‰¹é‡ invalidateï¼ˆå¦‚ <code>invalidateQueries({ queryKey: USER_KEYS.all })</code>ï¼‰</li>
<li>æ¸…æ™°çš„æ•°æ®æ¨¡å‹ç´¢å¼•</li>
</ol>
<hr/>
<h4 data-id="heading-14">æœ€ä½³å®è·µ 2ï¼šå°è£…è‡ªå®šä¹‰ Hookï¼ˆPull, Don't Pushï¼‰</h4>
<p>ä¸è¦åœ¨ç»„ä»¶é‡Œç›´æ¥å†™ <code>useQuery</code>ï¼Œå°è£…æˆè¯­ä¹‰åŒ–çš„ Hookï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/queries/useUserQueries.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span>,
    <span class="hljs-attr">queryFn</span>: api.<span class="hljs-property">fetchUserProfile</span>,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">5</span>, <span class="hljs-comment">// 5åˆ†é’Ÿå†…è®¤ä¸ºæ•°æ®æ–°é²œï¼Œä¸é‡å¤è¯·æ±‚</span>
  });
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useUserPosts</span>(<span class="hljs-params">userId: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-title function_">posts</span>(userId),
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function">() =&gt;</span> api.<span class="hljs-title function_">fetchUserPosts</span>(userId),
    <span class="hljs-attr">enabled</span>: !!userId, <span class="hljs-comment">// åªæœ‰ userId å­˜åœ¨æ—¶æ‰æ‰§è¡ŒæŸ¥è¯¢</span>
  });
}
</code></pre>
<p><strong>ç»„ä»¶ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user, isLoading, error } = <span class="hljs-title function_">useCurrentUser</span>();

  <span class="hljs-keyword">if</span> (isLoading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Spinner</span> /&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Error</span> <span class="hljs-attr">message</span>=<span class="hljs-string">{error.message}</span> /&gt;</span></span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">UserPosts</span> <span class="hljs-attr">userId</span>=<span class="hljs-string">{user.id}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserPosts</span>(<span class="hljs-params">{ userId }: { userId: <span class="hljs-built_in">string</span> }</span>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: posts } = <span class="hljs-title function_">useUserPosts</span>(userId);
  <span class="hljs-comment">// å¦‚æœ Header ç»„ä»¶ä¹Ÿéœ€è¦ç”¨æˆ·ä¿¡æ¯ï¼Œç›´æ¥è°ƒç”¨ useCurrentUser()</span>
  <span class="hljs-comment">// React Query ä¼šè‡ªåŠ¨å…±äº«ç¼“å­˜ï¼Œä¸ä¼šé‡å¤è¯·æ±‚</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PostList</span> <span class="hljs-attr">posts</span>=<span class="hljs-string">{posts}</span> /&gt;</span></span>;
}
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼šç»„ä»¶ä¸»åŠ¨"æ‹‰å–"æ‰€éœ€æ•°æ®ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ•°æ®"æ¨é€"è¿‡æ¥ã€‚</p>
<hr/>
<h4 data-id="heading-15">æœ€ä½³å®è·µ 3ï¼šç†è§£ staleTime vs cacheTime</h4>
<p>è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'data'</span>],
  <span class="hljs-attr">queryFn</span>: fetchData,
  <span class="hljs-attr">staleTime</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// æ•°æ®åœ¨ 5 åˆ†é’Ÿå†…è®¤ä¸ºæ˜¯"æ–°é²œ"çš„</span>
  <span class="hljs-attr">cacheTime</span>: <span class="hljs-number">10</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// æ•°æ®åœ¨ 10 åˆ†é’Ÿåä»ç¼“å­˜ä¸­åˆ é™¤</span>
});
</code></pre>




















<table><thead><tr><th>é…ç½®</th><th>å«ä¹‰</th><th>è§¦å‘è¡Œä¸º</th></tr></thead><tbody><tr><td><code>staleTime</code></td><td>æ•°æ®å¤šä¹…åå˜"é™ˆæ—§"</td><td>é™ˆæ—§æ•°æ®ä¼šåœ¨ç»„ä»¶é‡æ–°æŒ‚è½½/çª—å£é‡æ–°èšç„¦æ—¶è‡ªåŠ¨é‡æ–°è·å–</td></tr><tr><td><code>cacheTime</code></td><td>æ•°æ®å¤šä¹…åä»ç¼“å­˜åˆ é™¤</td><td>åˆ é™¤åä¸‹æ¬¡æŸ¥è¯¢ä¼šå‘é€æ–°è¯·æ±‚</td></tr></tbody></table>
<p><strong>å…¸å‹é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯ï¼šä¸å¸¸å˜ï¼Œå¯ä»¥ç¼“å­˜ä¹…ä¸€ç‚¹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span>,
    <span class="hljs-attr">queryFn</span>: fetchUser,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
    <span class="hljs-attr">cacheTime</span>: <span class="hljs-number">10</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// 10åˆ†é’Ÿ</span>
  });
}

<span class="hljs-comment">// å®æ—¶æ•°æ®ï¼šéœ€è¦é¢‘ç¹æ›´æ–°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useRealtimeStats</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'stats'</span>],
    <span class="hljs-attr">queryFn</span>: fetchStats,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// æ€»æ˜¯è®¤ä¸ºæ•°æ®é™ˆæ—§ï¼Œä¼šé¢‘ç¹åˆ·æ–°</span>
    <span class="hljs-attr">refetchInterval</span>: <span class="hljs-number">10000</span>, <span class="hljs-comment">// æ¯ 10 ç§’è‡ªåŠ¨åˆ·æ–°</span>
  });
}
</code></pre>
<hr/>
<h4 data-id="heading-16">æœ€ä½³å®è·µ 4ï¼šé¿å…æ‰‹åŠ¨åŒæ­¥åˆ° Zustand</h4>
<p><strong>å†æ¬¡å¼ºè°ƒ</strong>ï¼šå¦‚æœä½ å‘ç°è‡ªå·±åœ¨å†™è¿™ç§ä»£ç ï¼Œç«‹åˆ»åœä¸‹æ¥é‡æ–°å®¡è§†æ¶æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  ç»å¯¹ä¸è¦è¿™æ ·åš</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { data } = <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'user'</span>], <span class="hljs-attr">queryFn</span>: fetchUser });
  <span class="hljs-keyword">const</span> setUser = <span class="hljs-title function_">useUserStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setUser</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (data) <span class="hljs-title function_">setUser</span>(data); <span class="hljs-comment">//  åŒé‡æ•°æ®æºè­¦å‘Šï¼</span>
  }, [data, setUser]);
}
</code></pre>
<p><strong>å¦‚æœä½ éœ€è¦åœ¨å¤šä¸ªç»„ä»¶è®¿é—®åŒä¸€ä»½ Query æ•°æ®ï¼Œæ­£ç¡®åšæ³•æ˜¯</strong>ï¼š</p>
<ol>
<li><strong>å°è£…è‡ªå®šä¹‰ Hook</strong>ï¼ˆæ¨èï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»»ä½•ç»„ä»¶éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>], <span class="hljs-attr">queryFn</span>: fetchUser });
}
</code></pre>
<ol start="2">
<li><strong>å¦‚æœçœŸçš„éœ€è¦ Zustand å­˜å‚¨è¡ç”ŸçŠ¶æ€</strong>ï¼ˆæå°‘æ•°åœºæ™¯ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åªå­˜å‚¨"é€‰æ‹©"æˆ–"ä¸´æ—¶æ ‡è®°"ï¼Œä¸å­˜å‚¨ API æ•°æ®æœ¬èº«</span>
<span class="hljs-keyword">const</span> useSelectionStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">selectedUserId</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// åªå­˜ IDï¼Œä¸å­˜æ•´ä¸ª user å¯¹è±¡</span>
  <span class="hljs-attr">setSelectedUserId</span>: <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">selectedUserId</span>: id }),
}));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: users } = <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>], <span class="hljs-attr">queryFn</span>: fetchUsers });
  <span class="hljs-keyword">const</span> setSelectedUserId = <span class="hljs-title function_">useSelectionStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setSelectedUserId</span>);

  <span class="hljs-keyword">return</span> users.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserCard</span>
      <span class="hljs-attr">key</span>=<span class="hljs-string">{user.id}</span>
      <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span>
      <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setSelectedUserId(user.id)} // åªå­˜ ID
    /&gt;</span>
  ));
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserDetail</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> selectedUserId = <span class="hljs-title function_">useSelectionStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">selectedUserId</span>);
  <span class="hljs-comment">// æ ¹æ® ID é‡æ–°æŸ¥è¯¢å®Œæ•´æ•°æ®</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'users'</span>, selectedUserId],
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchUser</span>(selectedUserId),
    <span class="hljs-attr">enabled</span>: !!selectedUserId,
  });
}
</code></pre>
<p><strong>åŸåˆ™</strong>ï¼šZustand å¯ä»¥å­˜"å¼•ç”¨"ï¼ˆIDã€ç´¢å¼•ï¼‰ï¼Œä½†ä¸è¦å­˜ API æ•°æ®æœ¬èº«ã€‚</p>
<h3 data-id="heading-17">ç¬¬å››éƒ¨åˆ†ï¼šClient State çš„å…‹åˆ¶ä½¿ç”¨ (Zustand)</h3>
<p>åœ¨ React Query æ¥ç®¡äº†æ‰€æœ‰ Server State åï¼ŒZustand åº”è¯¥å˜å¾—<strong>éå¸¸è½»é‡</strong>ã€‚å¦‚æœä½ çš„ Zustand Store è¿˜æ˜¯å¾ˆåºå¤§ï¼Œè¯´æ˜æ¶æ„å¯èƒ½æœ‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-18">Zustand çš„æ­£ç¡®å®šä½ï¼šçº¯ UI çŠ¶æ€</h4>
<p>Zustand åªåº”è¯¥ç”¨äºä¸¤ç±»åœºæ™¯ï¼š</p>
<h5 data-id="heading-19">1. çº¯ UI æ§åˆ¶çŠ¶æ€</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/store/useUIStore.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UIState</span> {
  <span class="hljs-comment">// ä¾§è¾¹æ </span>
  <span class="hljs-attr">isSidebarOpen</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;

  <span class="hljs-comment">// ä¸»é¢˜</span>
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span>;
  <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme: <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;

  <span class="hljs-comment">// è§†å›¾æ¨¡å¼</span>
  <span class="hljs-attr">viewMode</span>: <span class="hljs-string">'grid'</span> | <span class="hljs-string">'list'</span>;
  <span class="hljs-attr">setViewMode</span>: <span class="hljs-function">(<span class="hljs-params">mode: <span class="hljs-string">'grid'</span> | <span class="hljs-string">'list'</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;

  <span class="hljs-comment">// å¼¹çª—</span>
  <span class="hljs-attr">activeModal</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">openModal</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">closeModal</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUIStore = create&lt;<span class="hljs-title class_">UIState</span>&gt;(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">isSidebarOpen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">isSidebarOpen</span>: !s.<span class="hljs-property">isSidebarOpen</span> })),

  <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
  <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),

  <span class="hljs-attr">viewMode</span>: <span class="hljs-string">'grid'</span>,
  <span class="hljs-attr">setViewMode</span>: <span class="hljs-function">(<span class="hljs-params">mode</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">viewMode</span>: mode }),

  <span class="hljs-attr">activeModal</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">openModal</span>: <span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">activeModal</span>: id }),
  <span class="hljs-attr">closeModal</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">activeModal</span>: <span class="hljs-literal">null</span> }),
}));
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { isSidebarOpen, toggleSidebar } = <span class="hljs-title function_">useUIStore</span>();
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">IconButton</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleSidebar}</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">{isSidebarOpen</span> ? '<span class="hljs-attr">close</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">menu</span>'} /&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Sidebar</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> isSidebarOpen = <span class="hljs-title function_">useUIStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">isSidebarOpen</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isSidebarOpen</span> ? '<span class="hljs-attr">open</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">closed</span>'}&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span></span>;
}
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>100% åŒæ­¥</li>
<li>ä¸æ¶‰åŠ API è°ƒç”¨</li>
<li>ä¸éœ€è¦åŠ è½½çŠ¶æ€</li>
<li>å®Œå…¨ç”±å®¢æˆ·ç«¯æ§åˆ¶</li>
</ul>
<hr/>
<h5 data-id="heading-20">2. å¤šæ­¥æ“ä½œçš„ä¸´æ—¶ Session æ•°æ®</h5>
<p>å…¸å‹åœºæ™¯ï¼šå¤šæ­¥è¡¨å•ï¼ˆWizardï¼‰ï¼Œç¬¬ä¸€æ­¥çš„æ•°æ®è¿˜æ²¡æäº¤åˆ°æœåŠ¡å™¨ï¼Œä½†åç»­æ­¥éª¤éœ€è¦ç”¨åˆ°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/store/useResumeWizardStore.ts</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResumeWizardState</span> {
  <span class="hljs-comment">// ä¸´æ—¶æ•°æ®ï¼ˆè¿˜æ²¡æäº¤åˆ°æœåŠ¡å™¨ï¼‰</span>
  <span class="hljs-attr">draftBasicInfo</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span> } | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">draftExperience</span>: <span class="hljs-title class_">Experience</span>[] | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">currentStep</span>: <span class="hljs-built_in">number</span>;

  <span class="hljs-comment">// Actions</span>
  <span class="hljs-attr">saveDraftBasicInfo</span>: <span class="hljs-function">(<span class="hljs-params">data: BasicInfo</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">saveDraftExperience</span>: <span class="hljs-function">(<span class="hljs-params">data: Experience[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">nextStep</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useResumeWizardStore = create&lt;<span class="hljs-title class_">ResumeWizardState</span>&gt;(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">draftBasicInfo</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">draftExperience</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">currentStep</span>: <span class="hljs-number">1</span>,

  <span class="hljs-attr">saveDraftBasicInfo</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">draftBasicInfo</span>: data }),
  <span class="hljs-attr">saveDraftExperience</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">draftExperience</span>: data }),
  <span class="hljs-attr">nextStep</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">currentStep</span>: s.<span class="hljs-property">currentStep</span> + <span class="hljs-number">1</span> })),
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">draftBasicInfo</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">draftExperience</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">currentStep</span>: <span class="hljs-number">1</span> }),
}));
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šå¡«å†™åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Step1BasicInfo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { saveDraftBasicInfo, nextStep } = <span class="hljs-title function_">useResumeWizardStore</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNext</span> = (<span class="hljs-params">formData: BasicInfo</span>) =&gt; {
    <span class="hljs-title function_">saveDraftBasicInfo</span>(formData); <span class="hljs-comment">// æš‚å­˜åˆ° Zustand</span>
    <span class="hljs-title function_">nextStep</span>();
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">BasicInfoForm</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleNext}</span> /&gt;</span></span>;
}

<span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šå¡«å†™å·¥ä½œç»éªŒï¼ˆéœ€è¦ç”¨åˆ°ç¬¬ä¸€æ­¥çš„æ•°æ®ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Step2Experience</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { draftBasicInfo, saveDraftExperience, nextStep } = <span class="hljs-title function_">useResumeWizardStore</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleNext</span> = (<span class="hljs-params">formData: Experience[]</span>) =&gt; {
    <span class="hljs-title function_">saveDraftExperience</span>(formData);
    <span class="hljs-title function_">nextStep</span>();
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸º {draftBasicInfo?.name} æ·»åŠ å·¥ä½œç»éªŒ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ExperienceForm</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleNext}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// æœ€åä¸€æ­¥ï¼šæäº¤åˆ°æœåŠ¡å™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Step3Submit</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { draftBasicInfo, draftExperience, reset } = <span class="hljs-title function_">useResumeWizardStore</span>();

  <span class="hljs-keyword">const</span> createResumeMutation = <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">data: CreateResumeDTO</span>) =&gt;</span> api.<span class="hljs-title function_">createResume</span>(data),
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">reset</span>(); <span class="hljs-comment">// æ¸…ç©ºä¸´æ—¶æ•°æ®</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-property">all</span> }); <span class="hljs-comment">// åˆ·æ–°ç®€å†åˆ—è¡¨</span>
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/resumes'</span>);
    },
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; {
    createResumeMutation.<span class="hljs-title function_">mutate</span>({
      <span class="hljs-attr">basicInfo</span>: draftBasicInfo,
      <span class="hljs-attr">experience</span>: draftExperience,
    });
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SubmitButton</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleSubmit}</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">{createResumeMutation.isPending}</span> /&gt;</span></span>;
}
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼š</p>
<ul>
<li>Zustand å­˜å‚¨<strong>ä¸´æ—¶æ•°æ®</strong>ï¼ˆè¿˜æœªæäº¤çš„è¡¨å•ï¼‰</li>
<li>Mutation æˆåŠŸåç«‹å³æ¸…ç©ºä¸´æ—¶æ•°æ®</li>
<li>Mutation æˆåŠŸå invalidate Queryï¼Œè®©åˆ—è¡¨è‡ªåŠ¨åˆ·æ–°</li>
</ul>
<hr/>
<h4 data-id="heading-21">ä½•æ—¶ä¸åº”è¯¥ç”¨ Zustandï¼Ÿ</h4>
<h5 data-id="heading-22">ä¸è¦å­˜å‚¨ API æ•°æ®</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  é”™è¯¯ï¼šæŠŠç”¨æˆ·ä¿¡æ¯å­˜åœ¨ Zustand</span>
<span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">setCurrentUser</span>: <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">currentUser</span>: user }),
}));

<span class="hljs-comment">// æ­£ç¡®ï¼šç”¨ React Query</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>], <span class="hljs-attr">queryFn</span>: fetchUser });
}
</code></pre>
<h5 data-id="heading-23">ä¸è¦å­˜å‚¨å¯ä»¥è®¡ç®—å‡ºæ¥çš„æ•°æ®</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  é”™è¯¯ï¼šå­˜å‚¨æ´¾ç”ŸçŠ¶æ€</span>
<span class="hljs-keyword">const</span> useCartStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">items</span>: [],
  <span class="hljs-attr">totalPrice</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// å¯ä»¥ä» items è®¡ç®—å‡ºæ¥ï¼</span>
  <span class="hljs-attr">setItems</span>: <span class="hljs-function">(<span class="hljs-params">items</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> totalPrice = items.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, item</span>) =&gt;</span> sum + item.<span class="hljs-property">price</span>, <span class="hljs-number">0</span>);
    <span class="hljs-title function_">set</span>({ items, totalPrice });
  },
}));

<span class="hljs-comment">// æ­£ç¡®ï¼šå­˜åŸå§‹æ•°æ®ï¼Œæ´¾ç”Ÿæ•°æ®ç”¨ selector è®¡ç®—</span>
<span class="hljs-keyword">const</span> useCartStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">items</span>: [],
  <span class="hljs-attr">setItems</span>: <span class="hljs-function">(<span class="hljs-params">items</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ items }),
}));

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCartTotal</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useCartStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">items</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, item</span>) =&gt;</span> sum + item.<span class="hljs-property">price</span>, <span class="hljs-number">0</span>));
}
</code></pre>
<h5 data-id="heading-24">ä¸è¦æ»¥ç”¨æŒä¹…åŒ–</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  é”™è¯¯ï¼šæŒä¹…åŒ–æ‰€æœ‰ä¸œè¥¿</span>
<span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">persist</span>(
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">currentUser</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// API æ•°æ®ä¸è¦æŒä¹…åŒ–ï¼</span>
      <span class="hljs-attr">resumes</span>: [], <span class="hljs-comment">// API æ•°æ®ä¸è¦æŒä¹…åŒ–ï¼</span>
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>, <span class="hljs-comment">// è¿™ä¸ªå¯ä»¥æŒä¹…åŒ–</span>
      <span class="hljs-attr">isSidebarOpen</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// â“ è¿™ä¸ªéœ€è¦æŒä¹…åŒ–å—ï¼Ÿ</span>
    }),
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'app-storage'</span> }
  )
);

<span class="hljs-comment">// æ­£ç¡®ï¼šåªæŒä¹…åŒ–ç”¨æˆ·åå¥½</span>
<span class="hljs-keyword">const</span> useUIStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">persist</span>(
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
      <span class="hljs-attr">viewMode</span>: <span class="hljs-string">'grid'</span>,
      <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),
      <span class="hljs-attr">setViewMode</span>: <span class="hljs-function">(<span class="hljs-params">mode</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">viewMode</span>: mode }),
    }),
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ui-preferences'</span>,
      <span class="hljs-comment">// åªæŒä¹…åŒ–è¿™ä¸¤ä¸ªå­—æ®µ</span>
      <span class="hljs-attr">partialize</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">theme</span>: state.<span class="hljs-property">theme</span>, <span class="hljs-attr">viewMode</span>: state.<span class="hljs-property">viewMode</span> }),
    }
  )
);
</code></pre>
<hr/>
<h4 data-id="heading-25">Zustand çš„ç†æƒ³çŠ¶æ€</h4>
<p>åœ¨æ­£ç¡®ä½¿ç”¨ React Query åï¼Œä½ çš„ Zustand Store åº”è¯¥<strong>éå¸¸å°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ•´ä¸ªåº”ç”¨å¯èƒ½åªéœ€è¦ä¸€ä¸ª UI Store</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUIStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">persist</span>(
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-comment">// ä¸»é¢˜</span>
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span> <span class="hljs-keyword">as</span> <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span>,
      <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme: <span class="hljs-string">'light'</span> | <span class="hljs-string">'dark'</span></span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),

      <span class="hljs-comment">// ä¾§è¾¹æ </span>
      <span class="hljs-attr">isSidebarCollapsed</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">isSidebarCollapsed</span>: !s.<span class="hljs-property">isSidebarCollapsed</span> })),

      <span class="hljs-comment">// è§†å›¾åå¥½</span>
      <span class="hljs-attr">resumeViewMode</span>: <span class="hljs-string">'grid'</span> <span class="hljs-keyword">as</span> <span class="hljs-string">'grid'</span> | <span class="hljs-string">'list'</span>,
      <span class="hljs-attr">setResumeViewMode</span>: <span class="hljs-function">(<span class="hljs-params">mode: <span class="hljs-string">'grid'</span> | <span class="hljs-string">'list'</span></span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">resumeViewMode</span>: mode }),
    }),
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ui-preferences'</span>,
      <span class="hljs-attr">partialize</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({
        <span class="hljs-attr">theme</span>: state.<span class="hljs-property">theme</span>,
        <span class="hljs-attr">resumeViewMode</span>: state.<span class="hljs-property">resumeViewMode</span>,
      }),
    }
  )
);
</code></pre>
<p><strong>å¦‚æœä½ çš„ Zustand Store è¶…è¿‡ 100 è¡Œä»£ç ï¼Œå¾ˆå¯èƒ½æœ‰æ¶æ„é—®é¢˜ã€‚</strong></p>
<h3 data-id="heading-26">ç¬¬äº”éƒ¨åˆ†ï¼šMutation - è¿æ¥ä¸¤ä¸ªä¸–ç•Œçš„æ¡¥æ¢</h3>
<p><code>useMutation</code> è™½ç„¶ä¸ç¼“å­˜æ•°æ®ï¼Œä½†å®ƒæ˜¯è¿æ¥ Server State å’Œ Client State çš„å…³é”®æ¡¥æ¢ã€‚</p>
<h4 data-id="heading-27">æ ‡å‡†æ¨¡å¼ï¼šMutation + Invalidation</h4>
<p>è¿™æ˜¯æœ€å¸¸è§ã€æœ€å®‰å…¨çš„æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useUpdateUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">data: UpdateUserDTO</span>) =&gt;</span> api.<span class="hljs-title function_">updateUser</span>(data),

    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// å‘Šè¯‰ React Queryï¼š"ç”¨æˆ·æ•°æ®è¿‡æœŸäº†ï¼Œé‡æ–°æ‹‰å–"</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span> });
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">all</span> });
    },

    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">`æ›´æ–°å¤±è´¥: <span class="hljs-subst">${error.message}</span>`</span>);
    },
  });
}

<span class="hljs-comment">// ç»„ä»¶ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfileForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useCurrentUser</span>();
  <span class="hljs-keyword">const</span> updateUserMutation = <span class="hljs-title function_">useUpdateUser</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params">formData: UpdateUserDTO</span>) =&gt; {
    updateUserMutation.<span class="hljs-title function_">mutate</span>(formData);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{user?.name}</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{updateUserMutation.isPending}</span>&gt;</span>
        {updateUserMutation.isPending ? 'ä¿å­˜ä¸­...' : 'ä¿å­˜'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>æ ¸å¿ƒåŸåˆ™ï¼šServer is the source of truth</strong></p>
<ul>
<li>Mutation æˆåŠŸåï¼Œè®©æœåŠ¡å™¨å‘Šè¯‰æˆ‘ä»¬æœ€æ–°æ•°æ®æ˜¯ä»€ä¹ˆï¼ˆé€šè¿‡é‡æ–°æŸ¥è¯¢ï¼‰</li>
<li>ä¸è¦è‡ªå·±çŒœæµ‹æœåŠ¡å™¨è¿”å›ä»€ä¹ˆæ•°æ®ï¼ˆæ‰‹åŠ¨æ›´æ–° Storeï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-28">é«˜çº§æ¨¡å¼ï¼šä¹è§‚æ›´æ–° (Optimistic Update)</h4>
<p>å¯¹äºç”¨æˆ·ä½“éªŒè¦æ±‚é«˜çš„åœºæ™¯ï¼ˆå¦‚ç‚¹èµã€æ”¶è—ï¼‰ï¼Œå¯ä»¥å…ˆæ›´æ–° UIï¼Œå¤±è´¥åå†å›æ»šï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useLikePost</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">postId: <span class="hljs-built_in">string</span></span>) =&gt;</span> api.<span class="hljs-title function_">likePost</span>(postId),

    <span class="hljs-comment">// åœ¨è¯·æ±‚å‘é€å‰ç«‹å³æ›´æ–° UI</span>
    <span class="hljs-attr">onMutate</span>: <span class="hljs-keyword">async</span> (postId) =&gt; {
      <span class="hljs-comment">// 1. å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„æŸ¥è¯¢ï¼ˆé¿å…è¦†ç›–ä¹è§‚æ›´æ–°ï¼‰</span>
      <span class="hljs-keyword">await</span> queryClient.<span class="hljs-title function_">cancelQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'posts'</span>, postId] });

      <span class="hljs-comment">// 2. ä¿å­˜å½“å‰æ•°æ®ï¼ˆç”¨äºå›æ»šï¼‰</span>
      <span class="hljs-keyword">const</span> previousPost = queryClient.<span class="hljs-title function_">getQueryData</span>([<span class="hljs-string">'posts'</span>, postId]);

      <span class="hljs-comment">// 3. ä¹è§‚æ›´æ–°</span>
      queryClient.<span class="hljs-title function_">setQueryData</span>([<span class="hljs-string">'posts'</span>, postId], <span class="hljs-function">(<span class="hljs-params">old: Post</span>) =&gt;</span> ({
        ...old,
        <span class="hljs-attr">isLiked</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">likeCount</span>: old.<span class="hljs-property">likeCount</span> + <span class="hljs-number">1</span>,
      }));

      <span class="hljs-comment">// è¿”å›å›æ»šä¸Šä¸‹æ–‡</span>
      <span class="hljs-keyword">return</span> { previousPost };
    },

    <span class="hljs-comment">// å¦‚æœå¤±è´¥ï¼Œå›æ»š</span>
    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error, postId, context</span>) =&gt;</span> {
      queryClient.<span class="hljs-title function_">setQueryData</span>([<span class="hljs-string">'posts'</span>, postId], context.<span class="hljs-property">previousPost</span>);
      toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç‚¹èµå¤±è´¥'</span>);
    },

    <span class="hljs-comment">// æˆåŠŸåï¼Œé‡æ–°è·å–ç¡®ä¿æ•°æ®ä¸€è‡´</span>
    <span class="hljs-attr">onSettled</span>: <span class="hljs-function">(<span class="hljs-params">data, error, postId</span>) =&gt;</span> {
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'posts'</span>, postId] });
    },
  });
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·äº¤äº’é¢‘ç¹ï¼ˆç‚¹èµã€æ”¶è—ã€åˆ‡æ¢çŠ¶æ€ï¼‰</li>
<li>æ“ä½œæˆåŠŸç‡é«˜ï¼ˆç½‘ç»œæ­£å¸¸æ—¶å‡ ä¹ä¸ä¼šå¤±è´¥ï¼‰</li>
<li>å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼ˆæœåŠ¡å™¨å¯èƒ½è¿”å›å®Œå…¨ä¸åŒçš„æ•°æ®ï¼‰</li>
<li>é‡‘é’±äº¤æ˜“ï¼ˆå¿…é¡»ç­‰æœåŠ¡å™¨ç¡®è®¤ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-29">Mutation ä¸ Zustand çš„åä½œ</h4>
<p>Mutation æ˜¯æ›´æ–° Zustand ä¸´æ—¶æ•°æ®çš„æœ€ä½³æ—¶æœºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç™»å½•åœºæ™¯ï¼šå…ˆç™»å½•ï¼Œå†å­˜ token åˆ° Store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useLogin</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> setAuthToken = <span class="hljs-title function_">useAuthStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setToken</span>);
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">credentials: LoginDTO</span>) =&gt;</span> api.<span class="hljs-title function_">login</span>(credentials),

    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
      <span class="hljs-comment">// 1. å­˜ token åˆ° Zustandï¼ˆä¸´æ—¶ Session æ•°æ®ï¼‰</span>
      <span class="hljs-title function_">setAuthToken</span>(response.<span class="hljs-property">accessToken</span>);

      <span class="hljs-comment">// 2. è§¦å‘ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span> });
    },
  });
}

<span class="hljs-comment">// ç»„ä»¶ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> loginMutation = <span class="hljs-title function_">useLogin</span>();
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">formData: LoginDTO</span>) =&gt; {
    <span class="hljs-keyword">await</span> loginMutation.<span class="hljs-title function_">mutateAsync</span>(formData);
    <span class="hljs-comment">// mutateAsync ä¿è¯ onSuccess æ‰§è¡Œå®Œæ¯•åæ‰ç»§ç»­</span>
    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/dashboard'</span>); <span class="hljs-comment">// æ­¤æ—¶ token å·²ç»å­˜å¥½ï¼Œå¯ä»¥å®‰å…¨è·³è½¬</span>
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit}</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>;
}
</code></pre>
<p><strong><code>mutateAsync</code> vs <code>mutate</code> çš„åŒºåˆ«</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// mutate: è§¦å‘å³å¿˜ï¼ˆfire-and-forgetï¼‰</span>
loginMutation.<span class="hljs-title function_">mutate</span>(formData);
<span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/dashboard'</span>); <span class="hljs-comment">//  å¯èƒ½ token è¿˜æ²¡å­˜å¥½å°±è·³è½¬äº†</span>

<span class="hljs-comment">// mutateAsync: ç­‰å¾…å®Œæˆï¼ˆåŒ…æ‹¬ onSuccessï¼‰</span>
<span class="hljs-keyword">await</span> loginMutation.<span class="hljs-title function_">mutateAsync</span>(formData);
<span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/dashboard'</span>); <span class="hljs-comment">// onSuccess å·²æ‰§è¡Œï¼Œtoken å·²å­˜å¥½</span>
</code></pre>
<p><strong>ä½¿ç”¨å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¤§éƒ¨åˆ†åœºæ™¯ç”¨ <code>mutate</code>ï¼ˆReact Query ä¼šå¤„ç†å¥½æ—¶åºï¼‰</li>
<li>éœ€è¦çº¿æ€§æ‰§è¡Œæµç¨‹æ—¶ç”¨ <code>mutateAsync</code>ï¼ˆç™»å½•åè·³è½¬ã€æäº¤åå…³é—­å¼¹çª—ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-30">æ‰¹é‡ Invalidation ç­–ç•¥</h4>
<p>å½“ä¸€ä¸ª Mutation å½±å“å¤šä¸ªæŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨æ•°ç»„å½¢å¼çš„ QueryKey æ‰¹é‡å¤±æ•ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// QueryKey è®¾è®¡ï¼šå±‚çº§ç»“æ„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RESUME_KEYS</span> = {
  <span class="hljs-attr">all</span>: [<span class="hljs-string">'resumes'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>, <span class="hljs-comment">// æ‰€æœ‰ç®€å†ç›¸å…³</span>
  <span class="hljs-attr">lists</span>: <span class="hljs-function">() =&gt;</span> [...<span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-property">all</span>, <span class="hljs-string">'list'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>, <span class="hljs-comment">// ç®€å†åˆ—è¡¨</span>
  <span class="hljs-attr">details</span>: <span class="hljs-function">() =&gt;</span> [...<span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-property">all</span>, <span class="hljs-string">'detail'</span>] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>, <span class="hljs-comment">// ç®€å†è¯¦æƒ…</span>
  <span class="hljs-attr">detail</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> [...<span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-title function_">details</span>(), id] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
};

<span class="hljs-comment">// åˆ é™¤ç®€å†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDeleteResume</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) =&gt;</span> api.<span class="hljs-title function_">deleteResume</span>(id),

    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">_, deletedId</span>) =&gt;</span> {
      <span class="hljs-comment">// 1. å¤±æ•ˆåˆ—è¡¨æŸ¥è¯¢</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-title function_">lists</span>() });

      <span class="hljs-comment">// 2. ç›´æ¥ç§»é™¤è¯¦æƒ…ç¼“å­˜ï¼ˆä¸éœ€è¦é‡æ–°è·å–ä¸å­˜åœ¨çš„æ•°æ®ï¼‰</span>
      queryClient.<span class="hljs-title function_">removeQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-title function_">detail</span>(deletedId) });
    },
  });
}
</code></pre>
<p><strong>å±‚çº§ QueryKey çš„å¥½å¤„</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤±æ•ˆæ‰€æœ‰ç®€å†ç›¸å…³æŸ¥è¯¢</span>
queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'resumes'</span>] });

<span class="hljs-comment">// åªå¤±æ•ˆç®€å†åˆ—è¡¨</span>
queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'resumes'</span>, <span class="hljs-string">'list'</span>] });

<span class="hljs-comment">// åªå¤±æ•ˆæŸä¸ªç®€å†è¯¦æƒ…</span>
queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'resumes'</span>, <span class="hljs-string">'detail'</span>, <span class="hljs-string">'resume-123'</span>] });
</code></pre>
<hr/>
<h4 data-id="heading-31">é”™è¯¯å¤„ç†æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useCreateResume</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">data: CreateResumeDTO</span>) =&gt;</span> api.<span class="hljs-title function_">createResume</span>(data),

    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">newResume</span>) =&gt;</span> {
      <span class="hljs-comment">// æˆåŠŸï¼šåˆ·æ–°åˆ—è¡¨</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-title function_">lists</span>() });

      <span class="hljs-comment">// å¯é€‰ï¼šç›´æ¥æ’å…¥æ–°æ•°æ®åˆ°ç¼“å­˜ï¼ˆé¿å…é‡æ–°è¯·æ±‚ï¼‰</span>
      queryClient.<span class="hljs-title function_">setQueryData</span>(<span class="hljs-variable constant_">RESUME_KEYS</span>.<span class="hljs-title function_">detail</span>(newResume.<span class="hljs-property">id</span>), newResume);

      toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'ç®€å†åˆ›å»ºæˆåŠŸ'</span>);
    },

    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">error: ApiError</span>) =&gt;</span> {
      <span class="hljs-comment">// é”™è¯¯å¤„ç†ï¼šæ ¹æ®é”™è¯¯ç±»å‹ç»™å‡ºä¸åŒæç¤º</span>
      <span class="hljs-keyword">if</span> (error.<span class="hljs-property">code</span> === <span class="hljs-string">'QUOTA_EXCEEDED'</span>) {
        toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ‚¨çš„ç®€å†æ•°é‡å·²è¾¾ä¸Šé™ï¼Œè¯·å‡çº§ä¼šå‘˜'</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (error.<span class="hljs-property">code</span> === <span class="hljs-string">'VALIDATION_ERROR'</span>) {
        toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">`æ•°æ®éªŒè¯å¤±è´¥: <span class="hljs-subst">${error.message}</span>`</span>);
      } <span class="hljs-keyword">else</span> {
        toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åˆ›å»ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•'</span>);
      }
    },
  });
}
</code></pre>
<p><strong>åŸåˆ™</strong>ï¼š</p>
<ul>
<li>åŒºåˆ†ä¸šåŠ¡é”™è¯¯å’Œç½‘ç»œé”™è¯¯</li>
<li>ç»™ç”¨æˆ·æ˜ç¡®çš„é”™è¯¯æç¤ºå’Œè¡ŒåŠ¨å»ºè®®</li>
<li>ä¸è¦é»˜é»˜åæ‰é”™è¯¯</li>
</ul>
<h3 data-id="heading-32">ç¬¬å…­éƒ¨åˆ†ï¼šå®æˆ˜å†³ç­–æ ‘ä¸æœ€ä½³å®è·µ</h3>
<p>å½“ä½ é¢å¯¹ä¸€ä¸ªçŠ¶æ€æ—¶ï¼ŒæŒ‰ç…§ä»¥ä¸‹å†³ç­–æ ‘å¿«é€Ÿåˆ¤æ–­åº”è¯¥ç”¨ä»€ä¹ˆå·¥å…·ï¼š</p>
<h4 data-id="heading-33">å†³ç­–æµç¨‹å›¾</h4>
<pre><code class="hljs language-bash" lang="bash">å¼€å§‹ï¼šæˆ‘éœ€è¦ç®¡ç†ä¸€ä¸ªçŠ¶æ€
    â†“
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿™ä¸ªæ•°æ®æ¥è‡ª API å—ï¼Ÿ            â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€ æ˜¯ â†’ ä½¿ç”¨ React Query
    â”‚       â”œâ”€ å°è£… useQuery Hook
    â”‚       â”œâ”€ å®šä¹‰ QueryKey å¸¸é‡
    â”‚       â””â”€ é…ç½® staleTime/cacheTime
    â”‚
    â””â”€ å¦ â†’ æ•°æ®åªæ˜¯ UI çŠ¶æ€ï¼Ÿ
            â”‚
            â”œâ”€ æ˜¯ â†’ éœ€è¦è·¨ç»„ä»¶å…±äº«å—ï¼Ÿ
            â”‚       â”‚
            â”‚       â”œâ”€ æ˜¯ â†’ Zustand
            â”‚       â”‚       â””â”€ åªå­˜å‚¨çº¯ UI æ§åˆ¶çŠ¶æ€
            â”‚       â”‚
            â”‚       â””â”€ å¦ â†’ useState/useReducer
            â”‚               â””â”€ ç»„ä»¶æœ¬åœ°çŠ¶æ€å³å¯
            â”‚
            â””â”€ å¦ â†’ æ˜¯å¤šæ­¥æ“ä½œçš„ä¸´æ—¶æ•°æ®ï¼Ÿ
                    â”‚
                    â”œâ”€ æ˜¯ â†’ Zustandï¼ˆä¸´æ—¶ Sessionï¼‰
                    â”‚       â””â”€ Mutation æˆåŠŸåæ¸…ç©º
                    â”‚
                    â””â”€ å¦ â†’ é‡æ–°å®¡è§†éœ€æ±‚
                            â””â”€ å¯èƒ½ä¸éœ€è¦çŠ¶æ€ç®¡ç†
</code></pre>
<h4 data-id="heading-34">å®æˆ˜æ¡ˆä¾‹é€ŸæŸ¥è¡¨</h4>




























































<table><thead><tr><th>åœºæ™¯</th><th>ä½¿ç”¨å·¥å…·</th><th>ç¤ºä¾‹ä»£ç </th></tr></thead><tbody><tr><td>è·å–ç”¨æˆ·ä¿¡æ¯</td><td>React Query</td><td><code>useQuery({ queryKey: ['user'], queryFn: fetchUser })</code></td></tr><tr><td>è·å–ç®€å†åˆ—è¡¨</td><td>React Query</td><td><code>useQuery({ queryKey: ['resumes'], queryFn: fetchResumes })</code></td></tr><tr><td>ä¸»é¢˜åˆ‡æ¢ï¼ˆdark/lightï¼‰</td><td>Zustand + persist</td><td><code>create(persist(...))</code></td></tr><tr><td>ä¾§è¾¹æ å±•å¼€/æ”¶èµ·</td><td>Zustand</td><td><code>{ isSidebarOpen, toggleSidebar }</code></td></tr><tr><td>è¡¨å•è¾“å…¥å€¼</td><td>useState</td><td><code>const [value, setValue] = useState('')</code></td></tr><tr><td>å¤šæ­¥è¡¨å•å‘å¯¼</td><td>Zustand (ä¸´æ—¶)</td><td><code>{ draftData, saveDraft, reset }</code></td></tr><tr><td>å½“å‰è·¯ç”±å‚æ•°</td><td>React Router</td><td><code>useParams()</code> / <code>useSearchParams()</code></td></tr><tr><td>ç”¨æˆ·ç™»å½•çŠ¶æ€</td><td>React Query</td><td><code>useQuery({ queryKey: ['session'] })</code></td></tr><tr><td>Token å­˜å‚¨</td><td>Zustand (ä¸æŒä¹…åŒ–)</td><td><code>{ token, setToken }</code></td></tr><tr><td>å¼¹çª—æ˜¾ç¤º/éšè—</td><td>Zustand æˆ– useState</td><td>å–å†³äºæ˜¯å¦è·¨ç»„ä»¶</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-35">å¸¸è§åœºæ™¯æ·±åº¦è§£æ</h4>
<h5 data-id="heading-36">åœºæ™¯ 1ï¼šç”¨æˆ·è®¤è¯çŠ¶æ€</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ­£ç¡®ï¼šSession æ•°æ®ç”¨ Queryï¼ŒToken ç”¨ Zustand</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useAuthStore = create&lt;<span class="hljs-title class_">AuthState</span>&gt;(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">accessToken</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">setToken</span>: <span class="hljs-function">(<span class="hljs-params">token</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">accessToken</span>: token }),
  <span class="hljs-attr">clearToken</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">accessToken</span>: <span class="hljs-literal">null</span> }),
}));

<span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯ç”¨ Query</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">useAuthStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">accessToken</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span>,
    <span class="hljs-attr">queryFn</span>: fetchCurrentUser,
    <span class="hljs-attr">enabled</span>: !!token, <span class="hljs-comment">// åªæœ‰ token å­˜åœ¨æ—¶æ‰æŸ¥è¯¢</span>
  });
}

<span class="hljs-comment">// ç™»å½•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useLogin</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> setToken = <span class="hljs-title function_">useAuthStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setToken</span>);
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: api.<span class="hljs-property">login</span>,
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
      <span class="hljs-title function_">setToken</span>(response.<span class="hljs-property">accessToken</span>); <span class="hljs-comment">// Token å­˜ Zustand</span>
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: <span class="hljs-variable constant_">USER_KEYS</span>.<span class="hljs-property">currentUser</span> }); <span class="hljs-comment">// è§¦å‘ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢</span>
    },
  });
}

<span class="hljs-comment">// ç™»å‡º</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useLogout</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> clearToken = <span class="hljs-title function_">useAuthStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">clearToken</span>);
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: api.<span class="hljs-property">logout</span>,
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">clearToken</span>(); <span class="hljs-comment">// æ¸…é™¤ token</span>
      queryClient.<span class="hljs-title function_">clear</span>(); <span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰ Query ç¼“å­˜</span>
    },
  });
}
</code></pre>
<p><strong>åŸåˆ™</strong>ï¼š</p>
<ul>
<li>Tokenï¼ˆå‡­è¯ï¼‰â†’ Zustandï¼ˆä¸´æ—¶ Sessionï¼‰</li>
<li>ç”¨æˆ·ä¿¡æ¯ï¼ˆæ•°æ®ï¼‰â†’ React Queryï¼ˆServer Stateï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-37">åœºæ™¯ 2ï¼šåˆ—è¡¨ç­›é€‰ä¸æ’åº</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">//  é”™è¯¯ï¼šæŠŠç­›é€‰å‚æ•°å’Œåˆ—è¡¨æ•°æ®éƒ½å­˜åœ¨ Zustand</span>
<span class="hljs-keyword">const</span> useResumeStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">resumes</span>: [],
  <span class="hljs-attr">filters</span>: { <span class="hljs-attr">search</span>: <span class="hljs-string">''</span>, <span class="hljs-attr">sortBy</span>: <span class="hljs-string">'date'</span> },
  <span class="hljs-attr">setFilters</span>: <span class="hljs-function">(<span class="hljs-params">filters</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ filters }),
  <span class="hljs-attr">fetchResumes</span>: <span class="hljs-keyword">async</span> (filters) =&gt; {
    <span class="hljs-keyword">const</span> resumes = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">fetchResumes</span>(filters);
    <span class="hljs-title function_">set</span>({ resumes });
  },
}));

<span class="hljs-comment">// æ­£ç¡®ï¼šç­›é€‰å‚æ•°ç”¨ URLï¼Œåˆ—è¡¨ç”¨ Query</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ResumeList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [searchParams, setSearchParams] = <span class="hljs-title function_">useSearchParams</span>();
  <span class="hljs-keyword">const</span> search = searchParams.<span class="hljs-title function_">get</span>(<span class="hljs-string">'search'</span>) || <span class="hljs-string">''</span>;
  <span class="hljs-keyword">const</span> sortBy = searchParams.<span class="hljs-title function_">get</span>(<span class="hljs-string">'sortBy'</span>) || <span class="hljs-string">'date'</span>;

  <span class="hljs-comment">// æ ¹æ® URL å‚æ•°æŸ¥è¯¢</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: resumes } = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'resumes'</span>, { search, sortBy }], <span class="hljs-comment">// QueryKey åŒ…å«ç­›é€‰å‚æ•°</span>
    <span class="hljs-attr">queryFn</span>: <span class="hljs-function">() =&gt;</span> api.<span class="hljs-title function_">fetchResumes</span>({ search, sortBy }),
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearchChange</span> = (<span class="hljs-params">newSearch: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-title function_">setSearchParams</span>({ <span class="hljs-attr">search</span>: newSearch, sortBy });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">SearchInput</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{search}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleSearchChange}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ResumeGrid</span> <span class="hljs-attr">resumes</span>=<span class="hljs-string">{resumes}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li>URL å¯åˆ†äº«ï¼ˆåˆ«äººæ‰“å¼€é“¾æ¥å°±èƒ½çœ‹åˆ°ç›¸åŒçš„ç­›é€‰ç»“æœï¼‰</li>
<li>æµè§ˆå™¨å‰è¿›/åé€€æŒ‰é’®è‡ªåŠ¨å·¥ä½œ</li>
<li>ä¸éœ€è¦é¢å¤–çš„çŠ¶æ€ç®¡ç†</li>
</ul>
<hr/>
<h5 data-id="heading-38">åœºæ™¯ 3ï¼šè´­ç‰©è½¦</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¦‚æœè´­ç‰©è½¦å­˜åœ¨æœåŠ¡å™¨ï¼ˆå·²ç™»å½•ç”¨æˆ·ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCart</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'cart'</span>],
    <span class="hljs-attr">queryFn</span>: api.<span class="hljs-property">fetchCart</span>,
  });
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useAddToCart</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> queryClient = <span class="hljs-title function_">useQueryClient</span>();

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useMutation</span>({
    <span class="hljs-attr">mutationFn</span>: <span class="hljs-function">(<span class="hljs-params">productId: <span class="hljs-built_in">string</span></span>) =&gt;</span> api.<span class="hljs-title function_">addToCart</span>(productId),
    <span class="hljs-attr">onSuccess</span>: <span class="hljs-function">() =&gt;</span> {
      queryClient.<span class="hljs-title function_">invalidateQueries</span>({ <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'cart'</span>] });
    },
  });
}

<span class="hljs-comment">// å¦‚æœè´­ç‰©è½¦åªåœ¨æµè§ˆå™¨æœ¬åœ°ï¼ˆæœªç™»å½•ï¼‰</span>
<span class="hljs-keyword">const</span> useCartStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">persist</span>(
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">items</span>: [],
      <span class="hljs-attr">addItem</span>: <span class="hljs-function">(<span class="hljs-params">product</span>) =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">items</span>: [...s.<span class="hljs-property">items</span>, product] })),
      <span class="hljs-attr">removeItem</span>: <span class="hljs-function">(<span class="hljs-params">productId</span>) =&gt;</span>
        <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">items</span>: s.<span class="hljs-property">items</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">id</span> !== productId) })),
    }),
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'guest-cart'</span> }
  )
);
</code></pre>
<p><strong>å†³ç­–ä¾æ®</strong>ï¼šæ•°æ®çš„"çœŸç›¸"åœ¨å“ªé‡Œï¼Ÿ</p>
<ul>
<li>æœåŠ¡å™¨ â†’ React Query</li>
<li>æµè§ˆå™¨ â†’ Zustand + persist</li>
</ul>
<hr/>
<h4 data-id="heading-39">æŒä¹…åŒ–ç­–ç•¥</h4>
<h5 data-id="heading-40">React Query æŒä¹…åŒ–</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { persistQueryClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query-persist-client'</span>;
<span class="hljs-keyword">import</span> { createSyncStoragePersister } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/query-sync-storage-persister'</span>;

<span class="hljs-keyword">const</span> persister = <span class="hljs-title function_">createSyncStoragePersister</span>({
  <span class="hljs-attr">storage</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>,
});

<span class="hljs-title function_">persistQueryClient</span>({
  queryClient,
  persister,
  <span class="hljs-attr">maxAge</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">24</span>, <span class="hljs-comment">// 24 å°æ—¶</span>
  <span class="hljs-attr">dehydrateOptions</span>: {
    <span class="hljs-comment">// åªæŒä¹…åŒ–ç‰¹å®šæŸ¥è¯¢</span>
    <span class="hljs-attr">shouldDehydrateQuery</span>: <span class="hljs-function">(<span class="hljs-params">query</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> queryKey = query.<span class="hljs-property">queryKey</span>[<span class="hljs-number">0</span>];
      <span class="hljs-comment">// åªæŒä¹…åŒ–ç”¨æˆ·ä¿¡æ¯å’Œé…ç½®ï¼Œä¸æŒä¹…åŒ–åˆ—è¡¨æ•°æ®</span>
      <span class="hljs-keyword">return</span> queryKey === <span class="hljs-string">'currentUser'</span> || queryKey === <span class="hljs-string">'appConfig'</span>;
    },
  },
});
</code></pre>
<p><strong>æŒä¹…åŒ–åŸåˆ™</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¿¡æ¯ã€åº”ç”¨é…ç½®ï¼ˆä½é¢‘å˜åŒ–ï¼‰</li>
<li>åˆ—è¡¨æ•°æ®ã€å®æ—¶æ•°æ®ï¼ˆé«˜é¢‘å˜åŒ–ï¼‰</li>
<li>æ•æ„Ÿæ•°æ®ï¼ˆToken ç”¨ httpOnly cookieï¼‰</li>
</ul>
<h5 data-id="heading-41">Zustand æŒä¹…åŒ–</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> useUIStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">persist</span>(
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
      <span class="hljs-attr">sidebarCollapsed</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">recentSearches</span>: [],

      <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),
      <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">sidebarCollapsed</span>: !s.<span class="hljs-property">sidebarCollapsed</span> })),
      <span class="hljs-attr">addRecentSearch</span>: <span class="hljs-function">(<span class="hljs-params">query</span>) =&gt;</span>
        <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({
          <span class="hljs-attr">recentSearches</span>: [query, ...s.<span class="hljs-property">recentSearches</span>].<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>),
        })),
    }),
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'ui-preferences'</span>,
      <span class="hljs-comment">// éƒ¨åˆ†å­—æ®µæŒä¹…åŒ–</span>
      <span class="hljs-attr">partialize</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({
        <span class="hljs-attr">theme</span>: state.<span class="hljs-property">theme</span>,
        <span class="hljs-attr">recentSearches</span>: state.<span class="hljs-property">recentSearches</span>,
        <span class="hljs-comment">// sidebarCollapsed ä¸æŒä¹…åŒ–ï¼Œæ¯æ¬¡æ‰“å¼€éƒ½æ˜¯å±•å¼€çŠ¶æ€</span>
      }),
    }
  )
);
</code></pre>
<p><strong>æŒä¹…åŒ–åŸåˆ™</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·åå¥½ï¼ˆä¸»é¢˜ã€è¯­è¨€ã€è§†å›¾æ¨¡å¼ï¼‰</li>
<li>å†å²è®°å½•ï¼ˆæœ€è¿‘æœç´¢ã€æœ€è¿‘è®¿é—®ï¼‰</li>
<li>ä¸´æ—¶ UI çŠ¶æ€ï¼ˆå¼¹çª—ã€ä¾§è¾¹æ ï¼‰</li>
<li>æ•æ„Ÿæ•°æ®ï¼ˆå¯†ç ã€Tokenï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-42">æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•</h4>
<h5 data-id="heading-43">React Query ä¼˜åŒ–</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆç†è®¾ç½® staleTimeï¼ˆé¿å…è¿‡åº¦è¯·æ±‚ï¼‰</span>
<span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'user'</span>],
  <span class="hljs-attr">queryFn</span>: fetchUser,
  <span class="hljs-attr">staleTime</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// ç”¨æˆ·ä¿¡æ¯ 5 åˆ†é’Ÿå†…ä¸é‡æ–°è·å–</span>
});

<span class="hljs-comment">// ä½¿ç”¨ select å‡å°‘é‡æ¸²æŸ“</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserAvatar</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åªè®¢é˜… avatar å­—æ®µï¼Œname å˜åŒ–ä¸ä¼šè§¦å‘é‡æ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> avatar = <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'user'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
    <span class="hljs-attr">select</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> data.<span class="hljs-property">avatar</span>,
  });
}

<span class="hljs-comment">// ç¦ç”¨ä¸éœ€è¦çš„è‡ªåŠ¨è¡Œä¸º</span>
<span class="hljs-title function_">useQuery</span>({
  <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'static-config'</span>],
  <span class="hljs-attr">queryFn</span>: fetchConfig,
  <span class="hljs-attr">staleTime</span>: <span class="hljs-title class_">Infinity</span>, <span class="hljs-comment">// æ°¸ä¸è¿‡æœŸ</span>
  <span class="hljs-attr">refetchOnWindowFocus</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// çª—å£èšç„¦æ—¶ä¸åˆ·æ–°</span>
  <span class="hljs-attr">refetchOnReconnect</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// é‡è¿æ—¶ä¸åˆ·æ–°</span>
});
</code></pre>
<h5 data-id="heading-44">Zustand ä¼˜åŒ–</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½¿ç”¨ç²¾ç¡®è®¢é˜…ï¼ˆé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ThemeToggle</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åªè®¢é˜… themeï¼Œå…¶ä»–å­—æ®µå˜åŒ–ä¸ä¼šè§¦å‘é‡æ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> theme = <span class="hljs-title function_">useUIStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">theme</span>);
  <span class="hljs-keyword">const</span> setTheme = <span class="hljs-title function_">useUIStore</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">setTheme</span>);
}

<span class="hljs-comment">//  é”™è¯¯ï¼šè®¢é˜…æ•´ä¸ª Store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ThemeToggle</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { theme, setTheme, sidebarOpen, viewMode } = <span class="hljs-title function_">useUIStore</span>();
  <span class="hljs-comment">// sidebarOpen æˆ– viewMode å˜åŒ–ä¹Ÿä¼šè§¦å‘é‡æ¸²æŸ“ï¼</span>
}

<span class="hljs-comment">// ä½¿ç”¨ shallow æ¯”è¾ƒï¼ˆå¯¹è±¡æˆ–æ•°ç»„ï¼‰</span>
<span class="hljs-keyword">import</span> { shallow } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/shallow'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserSettings</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { theme, viewMode } = <span class="hljs-title function_">useUIStore</span>(
    <span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">theme</span>: s.<span class="hljs-property">theme</span>, <span class="hljs-attr">viewMode</span>: s.<span class="hljs-property">viewMode</span> }),
    shallow <span class="hljs-comment">// æµ…æ¯”è¾ƒï¼Œé¿å…å¼•ç”¨å˜åŒ–å¯¼è‡´é‡æ¸²æŸ“</span>
  );
}
</code></pre>
<hr/>
<h4 data-id="heading-45">è¿ç§»è·¯å¾„ï¼šä» Redux åˆ° React Query + Zustand</h4>
<p>å¦‚æœä½ æœ‰ä¸€ä¸ªä½¿ç”¨ Redux çš„è€é¡¹ç›®ï¼Œå¯ä»¥è¿™æ ·é€æ­¥è¿ç§»ï¼š</p>
<p><strong>ç¬¬ 1 æ­¥ï¼šè¯†åˆ«çŠ¶æ€ç±»å‹</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç°æœ‰ Redux Store</span>
<span class="hljs-keyword">const</span> store = {
  <span class="hljs-attr">user</span>: { ... },           <span class="hljs-comment">// Server State â†’ React Query</span>
  <span class="hljs-attr">resumes</span>: [ ... ],        <span class="hljs-comment">// Server State â†’ React Query</span>
  <span class="hljs-attr">ui</span>: {
    <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,        <span class="hljs-comment">// Client State â†’ Zustand</span>
    <span class="hljs-attr">sidebarOpen</span>: <span class="hljs-literal">true</span>,     <span class="hljs-comment">// Client State â†’ Zustand</span>
  },
};
</code></pre>
<p><strong>ç¬¬ 2 æ­¥ï¼šè¿ç§» Server State</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ é™¤ Redux Slice</span>
- <span class="hljs-keyword">import</span> { selectUser } <span class="hljs-keyword">from</span> <span class="hljs-string">'./userSlice'</span>;
+ <span class="hljs-keyword">import</span> { useCurrentUser } <span class="hljs-keyword">from</span> <span class="hljs-string">'./queries/useUserQueries'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
-  <span class="hljs-keyword">const</span> user = <span class="hljs-title function_">useSelector</span>(selectUser);
+  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user } = <span class="hljs-title function_">useCurrentUser</span>();
}
</code></pre>
<p><strong>ç¬¬ 3 æ­¥ï¼šè¿ç§» Client State</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åˆ›å»º Zustand Store</span>
<span class="hljs-keyword">const</span> useUIStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'light'</span>,
  <span class="hljs-attr">sidebarOpen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">setTheme</span>: <span class="hljs-function">(<span class="hljs-params">theme</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ theme }),
  <span class="hljs-attr">toggleSidebar</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> ({ <span class="hljs-attr">sidebarOpen</span>: !s.<span class="hljs-property">sidebarOpen</span> })),
}));

<span class="hljs-comment">// æ›¿æ¢ä½¿ç”¨</span>
- <span class="hljs-keyword">const</span> theme = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-property">ui</span>.<span class="hljs-property">theme</span>);
- <span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>();
+ <span class="hljs-keyword">const</span> { theme, setTheme } = <span class="hljs-title function_">useUIStore</span>();
</code></pre>
<p><strong>ç¬¬ 4 æ­¥ï¼šåˆ é™¤ Redux</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å½“æ‰€æœ‰çŠ¶æ€è¿ç§»å®Œæˆåï¼Œåˆ é™¤ Redux ç›¸å…³ä»£ç </span>
- <span class="hljs-keyword">import</span> { <span class="hljs-title class_">Provider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
- <span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;

<span class="hljs-comment">// åªä¿ç•™ React Query</span>
+ <span class="hljs-keyword">import</span> { <span class="hljs-title class_">QueryClientProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tanstack/react-query'</span>;
</code></pre>
<p><strong>è¿ç§»æ”¶ç›Š</strong>ï¼š</p>
<ul>
<li>ä»£ç é‡å‡å°‘ 30-50%</li>
<li>å»é™¤å¤§é‡ boilerplateï¼ˆactions, reducers, selectors)</li>
<li>è‡ªåŠ¨è·å¾—ç¼“å­˜ã€å»é‡ã€åå°åˆ·æ–°ç­‰èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-46">æ€»ç»“ï¼šæ¶æ„çš„æœ¬è´¨æ˜¯åˆ†ç¦»å…³æ³¨ç‚¹</h3>
<p>å›åˆ°å¼€ç¯‡çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆçŠ¶æ€ç®¡ç†ä¼šå˜å¾—æ··ä¹±ï¼Ÿ</p>
<p><strong>æ ¹æœ¬åŸå› æ˜¯ï¼šæˆ‘ä»¬ç”¨åŒä¸€å¥—å·¥å…·ï¼ˆRedux/Zustandï¼‰è§£å†³äº†æœ¬è´¨ä¸åŒçš„é—®é¢˜ã€‚</strong></p>
<p>æœ¬æ–‡æå‡ºçš„æ¶æ„ç†å¿µå¯ä»¥æ€»ç»“ä¸ºï¼š</p>
<h4 data-id="heading-47">æ ¸å¿ƒåŸåˆ™</h4>
<ol>
<li>
<p><strong>Server State â‰  Client State</strong></p>
<ul>
<li>Server Stateï¼šå¼‚æ­¥ã€éœ€è¦ç¼“å­˜ã€ä¼šè¿‡æœŸã€å¯èƒ½è¢«åˆ«äººä¿®æ”¹</li>
<li>Client Stateï¼šåŒæ­¥ã€ç¬æ€ã€å®Œå…¨ç”±å®¢æˆ·ç«¯æ§åˆ¶</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·ä¸“æ³¨äºå„è‡ªçš„é—®é¢˜åŸŸ</strong></p>
<ul>
<li>React Queryï¼šä¸“æ³¨è§£å†³å¼‚æ­¥æ•°æ®ç®¡ç†ï¼ˆç¼“å­˜ã€å»é‡ã€æ›´æ–°ã€åŒæ­¥ï¼‰</li>
<li>Zustandï¼šä¸“æ³¨è§£å†³è·¨ç»„ä»¶çš„ UI çŠ¶æ€å…±äº«</li>
</ul>
</li>
<li>
<p><strong>Pull, Don't Push</strong></p>
<ul>
<li>ç»„ä»¶ä¸»åŠ¨"æ‹‰å–"æ‰€éœ€æ•°æ®ï¼ˆ<code>useQuery</code>ï¼‰</li>
<li>è€Œä¸æ˜¯è·å–æ•°æ®å"æ¨é€"åˆ°å…¨å±€ Store</li>
</ul>
</li>
<li>
<p><strong>Server is the source of truth</strong></p>
<ul>
<li>Mutation åè®©æœåŠ¡å™¨å‘Šè¯‰æˆ‘ä»¬æœ€æ–°æ•°æ®ï¼ˆinvalidate + refetchï¼‰</li>
<li>è€Œä¸æ˜¯è‡ªå·±çŒœæµ‹å¹¶æ‰‹åŠ¨åŒæ­¥æœ¬åœ°æ•°æ®</li>
</ul>
</li>
</ol>
<hr/>
<h4 data-id="heading-48">æ¶æ„æ”¶ç›Š</h4>
<p>é‡‡ç”¨è¿™å¥—æ¶æ„åï¼Œä½ ä¼šå‘ç°ï¼š</p>
<p><strong>ä»£ç æ›´ç®€æ´</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¹‹å‰ï¼šRedux + æ‰‹åŠ¨ç®¡ç†ç¼“å­˜</span>
<span class="hljs-comment">// userSlice.ts (50 è¡Œ)</span>
<span class="hljs-comment">// userActions.ts (30 è¡Œ)</span>
<span class="hljs-comment">// userSaga.ts (80 è¡Œ)</span>
<span class="hljs-comment">// æ€»è®¡ï¼š160 è¡Œ</span>

<span class="hljs-comment">// ç°åœ¨ï¼šReact Query</span>
<span class="hljs-comment">// useUserQueries.ts (20 è¡Œ)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useCurrentUser</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useQuery</span>({
    <span class="hljs-attr">queryKey</span>: [<span class="hljs-string">'currentUser'</span>],
    <span class="hljs-attr">queryFn</span>: fetchUser,
    <span class="hljs-attr">staleTime</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
  });
}
</code></pre>
<p><strong>Bug è‡ªç„¶æ¶ˆå¤±</strong></p>
<ul>
<li>ä¸å†æœ‰"æ•°æ®ä¸åŒæ­¥"ï¼ˆQuery è‡ªåŠ¨å¤„ç†ï¼‰</li>
<li>ä¸å†æœ‰"é‡å¤è¯·æ±‚"ï¼ˆè‡ªåŠ¨å»é‡ï¼‰</li>
<li>ä¸å†æœ‰"æ•°æ®è¿‡æœŸä½†ä¸çŸ¥é“"ï¼ˆstaleTime æœºåˆ¶ï¼‰</li>
</ul>
<p><strong>å¼€å‘ä½“éªŒæå‡</strong></p>
<ul>
<li>æ–°åŠŸèƒ½å¼€å‘æ—¶ï¼Œä¸éœ€è¦å…ˆå†™ action â†’ reducer â†’ selector</li>
<li>ç›´æ¥åœ¨ç»„ä»¶é‡Œ <code>useQuery</code>ï¼Œæ•°æ®ç«‹å³å¯ç”¨</li>
<li>DevTools ç›´è§‚å±•ç¤ºç¼“å­˜çŠ¶æ€ã€è¯·æ±‚æ—¶åº</li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>è‡ªåŠ¨åå°åˆ·æ–°ï¼ˆç”¨æˆ·æ— æ„ŸçŸ¥è·å–æœ€æ–°æ•°æ®ï¼‰</li>
<li>æ™ºèƒ½å»é‡ï¼ˆå¤šä¸ªç»„ä»¶åŒæ—¶è¯·æ±‚åªå‘ä¸€æ¬¡ï¼‰</li>
<li>æŒ‰éœ€åŠ è½½ï¼ˆåªæœ‰ç»„ä»¶æŒ‚è½½æ—¶æ‰æŸ¥è¯¢æ•°æ®ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-49">æœ€åçš„å»ºè®®</h4>
<ol>
<li>
<p><strong>ä¸è¦ä¸€æ¬¡æ€§é‡æ„</strong></p>
<ul>
<li>æ–°åŠŸèƒ½ç›´æ¥ç”¨ React Query</li>
<li>è€ä»£ç é€æ­¥è¿ç§»ï¼ˆä»æœ€ç®€å•çš„æŸ¥è¯¢å¼€å§‹ï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä¸è¦æ•™æ¡ä¸»ä¹‰</strong></p>
<ul>
<li>å¦‚æœå›¢é˜Ÿå·²ç»æ·±åº¦ä½¿ç”¨ Redux ä¸”è¿è½¬è‰¯å¥½ï¼Œä¸ä¸€å®šè¦è¿ç§»</li>
<li>ä½†æ–°é¡¹ç›®å¼ºçƒˆå»ºè®®é‡‡ç”¨ React Query + Zustand</li>
</ul>
</li>
<li>
<p><strong>ä¸è¦è¿‡åº¦è®¾è®¡</strong></p>
<ul>
<li>å°å‹é¡¹ç›®ç”šè‡³å¯ä»¥åªç”¨ React Query + Context</li>
<li>Zustand åªåœ¨ç¡®å®éœ€è¦æ—¶å¼•å…¥</li>
</ul>
</li>
<li>
<p><strong>å…³æ³¨æ•°æ®çš„æœ¬è´¨ï¼Œè€Œä¸æ˜¯å·¥å…·</strong></p>
<ul>
<li>å…ˆåˆ¤æ–­æ•°æ®ç±»å‹ï¼ˆServer State vs Client Stateï¼‰</li>
<li>å†é€‰æ‹©åˆé€‚çš„å·¥å…·</li>
</ul>
</li>
</ol>
<hr/>
<h4 data-id="heading-50">æ‰©å±•é˜…è¯»</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftanstack.com%2Fquery%2Flatest" target="_blank" title="https://tanstack.com/query/latest" ref="nofollow noopener noreferrer">TanStack Query å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.pmnd.rs%2Fzustand%2Fgetting-started%2Fintroduction" target="_blank" title="https://docs.pmnd.rs/zustand/getting-started/introduction" ref="nofollow noopener noreferrer">Zustand å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40dan_abramov%2Fyou-might-not-need-redux-be46360cf367" target="_blank" title="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367" ref="nofollow noopener noreferrer">You Might Not Need Redux</a></li>
</ul>
<hr/>
<p><strong>æœ€åä¸€å¥è¯</strong>ï¼šçŠ¶æ€ç®¡ç†ä¸åº”è¯¥æ˜¯ç—›è‹¦çš„ï¼Œé€‰å¯¹å·¥å…·ï¼Œæ¶æ„è‡ªç„¶æ¸…æ™°ã€‚</p>
<hr/>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ã€‚å¦‚æœä½ æœ‰ä¸åŒçœ‹æ³•æˆ–å®è·µç»éªŒï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</p>
<p><em>æœ¬æ–‡ç¤ºä¾‹ä»£ç åŸºäº React 18 + TypeScript + TanStack Query v5 + Zustand v4</em></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Server Components vs Client Componentsï¼šNext.js å¼€å‘è€…çš„é€‰æ‹©æŒ‡å—]]></title>    <link>https://juejin.cn/post/7598921649888149531</link>    <guid>https://juejin.cn/post/7598921649888149531</guid>    <pubDate>2026-01-25T09:51:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598921649888149531" data-draft-id="7598827641308151859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Server Components vs Client Componentsï¼šNext.js å¼€å‘è€…çš„é€‰æ‹©æŒ‡å—"/> <meta itemprop="keywords" content="Next.js"/> <meta itemprop="datePublished" content="2026-01-25T09:51:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Server Components vs Client Componentsï¼šNext.js å¼€å‘è€…çš„é€‰æ‹©æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T09:51:44.000Z" title="Sun Jan 25 2026 09:51:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Server Components vs Client Componentsï¼šNext.js å¼€å‘è€…çš„é€‰æ‹©æŒ‡å—</h2>
<blockquote>
<p>åœ¨ Next.js çš„ä¸–ç•Œé‡Œï¼Œç†è§£è¿™ä¸¤ç§ç»„ä»¶çš„åŒºåˆ«ï¼Œå°±åƒæŒæ¡æ­¦æœ¯ä¸­çš„â€œåˆšæŸ”å¹¶æµâ€</p>
</blockquote>
<p>å¤§å®¶å¥½ï¼ä»Šå¤©æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨ Next.js 13+ ä¸­æœ€é‡è¦çš„æ¶æ„å˜é©ï¼š<strong>Server Componentsï¼ˆæœåŠ¡ç«¯ç»„ä»¶ï¼‰</strong> ä¸ <strong>Client Componentsï¼ˆå®¢æˆ·ç«¯ç»„ä»¶ï¼‰</strong>ã€‚è¿™ä¸¤è€…çš„é€‰æ‹©ä¸ä»…å½±å“æ€§èƒ½ï¼Œæ›´å…³ä¹åº”ç”¨æ¶æ„çš„æ ¹æœ¬å†³ç­–ã€‚</p>
<h3 data-id="heading-1">ğŸ“Š å¿«é€Ÿå¯¹æ¯”ï¼šä¸€å›¾çœ‹æ‡‚æ ¸å¿ƒå·®å¼‚</h3>
<p>å…ˆæ¥ä¸ªç›´è§‚å¯¹æ¯”ï¼Œè®©å¤§å®¶æœ‰ä¸ªæ•´ä½“æ¦‚å¿µï¼š</p>


















































<table><thead><tr><th>ç‰¹æ€§ç»´åº¦</th><th>Server Components</th><th>Client Components</th></tr></thead><tbody><tr><td><strong>æ¸²æŸ“ä½ç½®</strong></td><td>æœåŠ¡ç«¯</td><td>å®¢æˆ·ç«¯</td></tr><tr><td><strong>Bundleå¤§å°</strong></td><td>é›¶æ‰“åŒ…ï¼Œä¸å‘é€åˆ°å®¢æˆ·ç«¯</td><td>éœ€è¦æ‰“åŒ…å¹¶å‘é€åˆ°å®¢æˆ·ç«¯</td></tr><tr><td><strong>æ•°æ®è·å–</strong></td><td>ç›´æ¥è®¿é—®æ•°æ®åº“/API</td><td>é€šè¿‡APIç«¯ç‚¹è·å–</td></tr><tr><td><strong>äº¤äº’æ€§</strong></td><td>æ— ï¼ˆçº¯å±•ç¤ºï¼‰</td><td>å®Œå…¨äº¤äº’å¼</td></tr><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td>æ— ï¼ˆæ¯æ¬¡è¯·æ±‚é‡æ–°æ¸²æŸ“ï¼‰</td><td>å®Œæ•´Reactç”Ÿå‘½å‘¨æœŸ</td></tr><tr><td><strong>DOM API</strong></td><td>ä¸å¯ç”¨</td><td>å®Œå…¨å¯ç”¨</td></tr><tr><td><strong>çŠ¶æ€ç®¡ç†</strong></td><td>æ— çŠ¶æ€</td><td>useStateã€useReducerç­‰</td></tr><tr><td><strong>ç¬¬ä¸‰æ–¹åº“</strong></td><td>éœ€å…¼å®¹æœåŠ¡ç«¯æ¸²æŸ“</td><td>æ— é™åˆ¶</td></tr></tbody></table>
<h3 data-id="heading-2">ğŸ” æ·±å…¥è§£æï¼šå®ƒä»¬åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ</h3>
<h4 data-id="heading-3">Server Componentsï¼šæœåŠ¡ç«¯çš„â€œé­”æ³•â€</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// app/products/page.js - é»˜è®¤å°±æ˜¯Server Component</span>
<span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/lib/db'</span>

<span class="hljs-comment">// æœåŠ¡ç«¯ç»„ä»¶å¯ä»¥ç›´æ¥è®¿é—®æ•°æ®åº“ï¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductsPage</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç›´æ¥è¯»å–æ•°æ®åº“ï¼Œä¸éœ€è¦APIè·¯ç”±</span>
  <span class="hljs-keyword">const</span> products = <span class="hljs-keyword">await</span> db.<span class="hljs-property">products</span>.<span class="hljs-title function_">findMany</span>({
    <span class="hljs-attr">where</span>: { <span class="hljs-attr">isPublished</span>: <span class="hljs-literal">true</span> }
  })
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>äº§å“åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* æ•°æ®ç›´æ¥åµŒå…¥HTMLï¼Œå¯¹SEOå‹å¥½ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {products.map(product =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{product.id}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{product.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{product.description}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            {/* æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½æœ‰äº‹ä»¶å¤„ç†å™¨ */}
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>Server Componentsçš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>é›¶å®¢æˆ·ç«¯Bundle</strong>ï¼šä»£ç æ°¸è¿œä¸ä¼šå‘é€åˆ°æµè§ˆå™¨</li>
<li><strong>ç›´æ¥æ•°æ®è®¿é—®</strong>ï¼šå‡å°‘å®¢æˆ·ç«¯-æœåŠ¡å™¨å¾€è¿”</li>
<li><strong>è‡ªåŠ¨ä»£ç åˆ†å‰²</strong>ï¼šåªå‘é€å½“å‰è·¯ç”±éœ€è¦çš„ä»£ç </li>
<li><strong>æ•æ„Ÿä¿¡æ¯å®‰å…¨</strong>ï¼šAPIå¯†é’¥ã€æ•°æ®åº“å‡­è¯å®‰å…¨ä¿ç•™åœ¨æœåŠ¡ç«¯</li>
</ul>
<h4 data-id="heading-4">Client Componentsï¼šå®¢æˆ·ç«¯çš„â€œçµé­‚â€</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-string">'use client'</span> <span class="hljs-comment">// è¿™ä¸ªæŒ‡ä»¤è‡³å…³é‡è¦ï¼</span>

<span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { addToCart } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/actions/cart'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LikeButton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./LikeButton'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductCard</span>(<span class="hljs-params">{ initialProduct }</span>) {
  <span class="hljs-keyword">const</span> [product, setProduct] = <span class="hljs-title function_">useState</span>(initialProduct)
  <span class="hljs-keyword">const</span> [isLiked, setIsLiked] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-comment">// å®¢æˆ·ç«¯ç‰¹æœ‰çš„ç”Ÿå‘½å‘¨æœŸ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å¯ä»¥è®¿é—®æµè§ˆå™¨API</span>
    <span class="hljs-keyword">const</span> viewed = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">`viewed_<span class="hljs-subst">${product.id}</span>`</span>)
    <span class="hljs-keyword">if</span> (!viewed) {
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">`viewed_<span class="hljs-subst">${product.id}</span>`</span>, <span class="hljs-string">'true'</span>)
      <span class="hljs-comment">// å‘é€æµè§ˆè®°å½•åˆ°åˆ†ææœåŠ¡</span>
      analytics.<span class="hljs-title function_">track</span>(<span class="hljs-string">'product_view'</span>, { <span class="hljs-attr">id</span>: product.<span class="hljs-property">id</span> })
    }
  }, [product.<span class="hljs-property">id</span>])
  
  <span class="hljs-comment">// äº¤äº’äº‹ä»¶å¤„ç†</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddToCart</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">addToCart</span>(product.<span class="hljs-property">id</span>)
    <span class="hljs-comment">// æ˜¾ç¤ºåŠ¨ç”»åé¦ˆ</span>
    <span class="hljs-comment">// æ›´æ–°è´­ç‰©è½¦å›¾æ ‡æ•°é‡</span>
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"product-card"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{product.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{product.price}å…ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      
      {/* äº¤äº’å¼ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleAddToCart}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">"add-to-cart-btn"</span>
      &gt;</span>
        åŠ å…¥è´­ç‰©è½¦
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      
      {/* ä½¿ç”¨ç¬¬ä¸‰æ–¹UIåº“ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">LikeButton</span> 
        <span class="hljs-attr">isLiked</span>=<span class="hljs-string">{isLiked}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{setIsLiked}</span>
      /&gt;</span>
      
      {/* ä½¿ç”¨çŠ¶æ€é©±åŠ¨çš„UI */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">stock-status</span> ${<span class="hljs-attr">product.stock</span> &lt; <span class="hljs-attr">10</span> ? '<span class="hljs-attr">low</span>' <span class="hljs-attr">:</span> ''}`}&gt;</span>
        åº“å­˜: {product.stock}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-5">ğŸ¯ é»„é‡‘é€‰æ‹©æ³•åˆ™ï¼šä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆï¼Ÿ</h3>
<h4 data-id="heading-6">é»˜è®¤é€‰æ‹© Server Component å½“ï¼š</h4>
<ul>
<li>âœ… çº¯æ•°æ®å±•ç¤ºï¼Œæ— éœ€äº¤äº’</li>
<li>âœ… è®¿é—®åç«¯èµ„æºï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿï¼‰</li>
<li>âœ… éœ€è¦å‡å°‘å®¢æˆ·ç«¯JavaScriptä½“ç§¯</li>
<li>âœ… åŒ…å«æ•æ„Ÿé€»è¾‘æˆ–æ•°æ®</li>
<li>âœ… SEOæ˜¯å…³é”®è€ƒè™‘å› ç´ </li>
<li>âœ… å†…å®¹åŸºæœ¬é™æ€ï¼Œå˜åŒ–ä¸é¢‘ç¹</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âœ… åº”è¯¥ç”¨ Server Component</span>
<span class="hljs-comment">// åšå®¢æ–‡ç« é¡µé¢</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">BlogPost</span>(<span class="hljs-params">{ slug }</span>) {
  <span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> db.<span class="hljs-property">posts</span>.<span class="hljs-title function_">findUnique</span>({ <span class="hljs-attr">where</span>: { slug } })
  <span class="hljs-keyword">const</span> relatedPosts = <span class="hljs-keyword">await</span> db.<span class="hljs-property">posts</span>.<span class="hljs-title function_">findMany</span>({
    <span class="hljs-attr">where</span>: { <span class="hljs-attr">category</span>: post.<span class="hljs-property">category</span> },
    <span class="hljs-attr">take</span>: <span class="hljs-number">3</span>
  })
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Article</span> <span class="hljs-attr">content</span>=<span class="hljs-string">{post.content}</span> <span class="hljs-attr">related</span>=<span class="hljs-string">{relatedPosts}</span> /&gt;</span></span>
}
</code></pre>
<h4 data-id="heading-7">å¿…é¡»ä½¿ç”¨ Client Component å½“ï¼š</h4>
<ul>
<li>âœ… éœ€è¦ç”¨æˆ·äº¤äº’ï¼ˆç‚¹å‡»ã€è¾“å…¥ã€æ‹–æ‹½ï¼‰</li>
<li>âœ… ä½¿ç”¨æµè§ˆå™¨APIï¼ˆlocalStorageã€geolocationï¼‰</li>
<li>âœ… éœ€è¦çŠ¶æ€ç®¡ç†ï¼ˆuseStateã€useReducerï¼‰</li>
<li>âœ… ä½¿ç”¨ç¬¬ä¸‰æ–¹äº¤äº’å¼åº“ï¼ˆåœ°å›¾ã€å›¾è¡¨ã€å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰</li>
<li>âœ… éœ€è¦ç”Ÿå‘½å‘¨æœŸæ•ˆæœï¼ˆuseEffectï¼‰</li>
<li>âœ… å®ç°åŠ¨ç”»æˆ–è¿‡æ¸¡æ•ˆæœ</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-string">'use client'</span>
<span class="hljs-comment">// âœ… å¿…é¡»ç”¨ Client Component</span>
<span class="hljs-comment">// å®æ—¶æœç´¢ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchBox</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>)
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([])
  <span class="hljs-keyword">const</span> [isSearching, setIsSearching] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-comment">// é˜²æŠ–æœç´¢</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (!query.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span>
    
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-title function_">setIsSearching</span>(<span class="hljs-literal">true</span>)
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?q=<span class="hljs-subst">${query}</span>`</span>)
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
      <span class="hljs-title function_">setResults</span>(data)
      <span class="hljs-title function_">setIsSearching</span>(<span class="hljs-literal">false</span>)
    }, <span class="hljs-number">300</span>)
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer)
  }, [query])
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setQuery(e.target.value)}
        placeholder="æœç´¢..."
      /&gt;
      {isSearching &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Spinner</span> /&gt;</span>}
      <span class="hljs-tag">&lt;<span class="hljs-name">SearchResults</span> <span class="hljs-attr">results</span>=<span class="hljs-string">{results}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-8">ğŸ› ï¸ æ··åˆä½¿ç”¨ï¼šç°å®ä¸–ç•Œçš„æ¡ˆä¾‹</h3>
<p>çœŸæ­£çš„åº”ç”¨å¾€å¾€æ˜¯æ··åˆä½¿ç”¨çš„ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªç”µå•†äº§å“é¡µé¢çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// app/product/[id]/page.js - Server Component</span>
<span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/lib/db'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProductDetails</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ProductDetails'</span> <span class="hljs-comment">// Client Component</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProductReviews</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./ProductReviews'</span> <span class="hljs-comment">// Server Component</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AddToCartButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/AddToCartButton'</span> <span class="hljs-comment">// Client Component</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductPage</span>(<span class="hljs-params">{ params }</span>) {
  <span class="hljs-comment">// æœåŠ¡ç«¯ï¼šè·å–æ ¸å¿ƒæ•°æ®</span>
  <span class="hljs-keyword">const</span> product = <span class="hljs-keyword">await</span> db.<span class="hljs-property">products</span>.<span class="hljs-title function_">findUnique</span>({
    <span class="hljs-attr">where</span>: { <span class="hljs-attr">id</span>: params.<span class="hljs-property">id</span> },
    <span class="hljs-attr">include</span>: { <span class="hljs-attr">category</span>: <span class="hljs-literal">true</span> }
  })
  
  <span class="hljs-comment">// æœåŠ¡ç«¯ï¼šè·å–è¯„è®ºï¼ˆSEOé‡è¦ï¼‰</span>
  <span class="hljs-keyword">const</span> reviews = <span class="hljs-keyword">await</span> db.<span class="hljs-property">reviews</span>.<span class="hljs-title function_">findMany</span>({
    <span class="hljs-attr">where</span>: { <span class="hljs-attr">productId</span>: params.<span class="hljs-property">id</span>, <span class="hljs-attr">isVerified</span>: <span class="hljs-literal">true</span> },
    <span class="hljs-attr">take</span>: <span class="hljs-number">10</span>
  })
  
  <span class="hljs-comment">// æœåŠ¡ç«¯ï¼šè·å–æ¨èï¼ˆä¸ªæ€§åŒ–ï¼‰</span>
  <span class="hljs-keyword">const</span> recommendations = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getRecommendations</span>(product.<span class="hljs-property">id</span>)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"product-page"</span>&gt;</span>
      {/* æœåŠ¡å™¨ç»„ä»¶ä¼ é€’æ•°æ®åˆ°å®¢æˆ·ç«¯ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">ProductDetails</span> 
        <span class="hljs-attr">product</span>=<span class="hljs-string">{product}</span> 
        // <span class="hljs-attr">å®¢æˆ·ç«¯äº¤äº’</span>ï¼š<span class="hljs-attr">æ”¶è—</span>ã€<span class="hljs-attr">åˆ†äº«</span>ã€<span class="hljs-attr">æ”¾å¤§å›¾ç‰‡</span>
      /&gt;</span>
      
      {/* æœåŠ¡å™¨ç»„ä»¶ï¼šçº¯å±•ç¤ºè¯„è®º */}
      <span class="hljs-tag">&lt;<span class="hljs-name">ProductReviews</span> 
        <span class="hljs-attr">reviews</span>=<span class="hljs-string">{reviews}</span>
        // <span class="hljs-attr">å®¢æˆ·ç«¯äº¤äº’</span>ï¼š<span class="hljs-attr">ç‚¹èµ</span>ã€<span class="hljs-attr">å›å¤è¯„è®º</span>ï¼ˆ<span class="hljs-attr">åµŒå¥—çš„å®¢æˆ·ç«¯ç»„ä»¶</span>ï¼‰
      /&gt;</span>
      
      {/* å®¢æˆ·ç«¯ç»„ä»¶ï¼šè´­ç‰©è½¦äº¤äº’ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">AddToCartButton</span> 
        <span class="hljs-attr">productId</span>=<span class="hljs-string">{product.id}</span>
        <span class="hljs-attr">stock</span>=<span class="hljs-string">{product.stock}</span>
      /&gt;</span>
      
      {/* æœåŠ¡ç«¯ç»„ä»¶ï¼šæ¨èåˆ—è¡¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">RecommendationList</span> 
        <span class="hljs-attr">products</span>=<span class="hljs-string">{recommendations}</span>
        // <span class="hljs-attr">æ¯ä¸ªæ¨èé¡¹å†…éƒ¨å¯èƒ½æœ‰å®¢æˆ·ç«¯äº¤äº’</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-9">ğŸ’¡ é«˜çº§æ¨¡å¼ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-10">1. ç»„ä»¶è¾¹ç•Œä¼˜åŒ–</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ä¸å¥½çš„åšæ³•ï¼šæ•´ä¸ªé¡µé¢éƒ½æ˜¯å®¢æˆ·ç«¯ç»„ä»¶</span>
<span class="hljs-string">'use client'</span> <span class="hljs-comment">// âŒ ä¸è¦è½»æ˜“åœ¨é¡¶å±‚åŠ è¿™ä¸ª</span>

<span class="hljs-comment">// å¥½çš„åšæ³•ï¼šç²¾ç¡®æ§åˆ¶å®¢æˆ·ç«¯è¾¹ç•Œ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">UserDashboard</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* æœåŠ¡ç«¯ç»„ä»¶ï¼šç”¨æˆ·ä¿¡æ¯ï¼ˆé™æ€ï¼‰ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">UserProfile</span> /&gt;</span>
      
      {/* æœåŠ¡ç«¯ç»„ä»¶ï¼šç»Ÿè®¡æ•°æ® */}
      <span class="hljs-tag">&lt;<span class="hljs-name">AnalyticsSummary</span> /&gt;</span>
      
      {/* ç²¾ç¡®çš„å®¢æˆ·ç«¯è¾¹ç•Œï¼šäº¤äº’å¼å›¾è¡¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"interactive-section"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">RealTimeChart</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FilterControls</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-11">2. æ•°æ®ä¼ é€’æ¨¡å¼</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âœ… æ¨¡å¼ï¼šæœåŠ¡ç«¯è·å–æ•°æ®ï¼Œä¼ é€’ç»™å®¢æˆ·ç«¯</span>
<span class="hljs-comment">// Server Component</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Dashboard</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> initialData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchDashboardData</span>()
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">InteractiveDashboard</span> <span class="hljs-attr">initialData</span>=<span class="hljs-string">{initialData}</span> /&gt;</span></span>
}

<span class="hljs-comment">// Client Component</span>
<span class="hljs-string">'use client'</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">InteractiveDashboard</span>(<span class="hljs-params">{ initialData }</span>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(initialData)
  
  <span class="hljs-comment">// å®¢æˆ·ç«¯æ›´æ–°æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">refreshData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> newData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/dashboard'</span>)
    <span class="hljs-title function_">setData</span>(newData)
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DashboardUI</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{refreshData}</span>&gt;</span>åˆ·æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-12">3. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ç­–ç•¥ï¼šä»£ç åˆ†å‰² + æ‡’åŠ è½½å®¢æˆ·ç«¯ç»„ä»¶</span>
<span class="hljs-keyword">import</span> dynamic <span class="hljs-keyword">from</span> <span class="hljs-string">'next/dynamic'</span>

<span class="hljs-comment">// é‡äº¤äº’ç»„ä»¶åŠ¨æ€å¯¼å…¥</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HeavyChart</span> = <span class="hljs-title function_">dynamic</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/HeavyChart'</span>),
  { 
    <span class="hljs-attr">ssr</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ä¸åœ¨æœåŠ¡ç«¯æ¸²æŸ“</span>
    <span class="hljs-attr">loading</span>: <span class="hljs-function">() =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChartSkeleton</span> /&gt;</span></span> 
  }
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">AnalyticsPage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ•°æ®åˆ†æ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {/* è¿™ä¸ªç»„ä»¶åªåœ¨å®¢æˆ·ç«¯åŠ è½½ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">HeavyChart</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 data-id="heading-13">ğŸš¨ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-14">é™·é˜±1ï¼šåœ¨Server Componentä¸­ä½¿ç”¨å®¢æˆ·ç«¯ç‰¹æ€§</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šåœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ä½¿ç”¨useState</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ServerComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-comment">// âœ… è§£å†³æ–¹æ¡ˆï¼šæå–ä¸ºå®¢æˆ·ç«¯ç»„ä»¶</span>
<span class="hljs-string">'use client'</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Counter</span> /&gt;</span></span>
}
</code></pre>
<h4 data-id="heading-15">é™·é˜±2ï¼šä¸å¿…è¦çš„å®¢æˆ·ç«¯è¾¹ç•Œ</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ ä¸å¿…è¦çš„å®¢æˆ·ç«¯æ ‡è®°</span>
<span class="hljs-string">'use client'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è¿™ä¸ªç»„ä»¶æ²¡æœ‰ä»»ä½•äº¤äº’ï¼Œå´æ ‡è®°ä¸ºå®¢æˆ·ç«¯ï¼</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é™æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-comment">// âœ… ä¿æŒä¸ºæœåŠ¡ç«¯ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é™æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<h4 data-id="heading-16">é™·é˜±3ï¼šè¿‡åº¦åµŒå¥—å¯¼è‡´çš„åºåˆ—åŒ–é—®é¢˜</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ ä¼ é€’æ— æ³•åºåˆ—åŒ–çš„æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>()
  <span class="hljs-comment">// å‡½æ•°ã€Dateå¯¹è±¡ç­‰æ— æ³•åºåˆ—åŒ–</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ClientComponent</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> <span class="hljs-attr">callback</span>=<span class="hljs-string">{()</span> =&gt;</span> {}} /&gt;</span>
}

<span class="hljs-comment">// âœ… ä»…ä¼ é€’å¯åºåˆ—åŒ–æ•°æ®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Page</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>()
  <span class="hljs-comment">// æ¸…ç†æ•°æ®ï¼Œç¡®ä¿å¯åºåˆ—åŒ–</span>
  <span class="hljs-keyword">const</span> serializableData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data))
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ClientComponent</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{serializableData}</span> /&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-17">ğŸ“ˆ æ€§èƒ½å½±å“ï¼šçœŸå®æ•°æ®å¯¹æ¯”</h3>
<p>æ ¹æ®Vercelçš„æµ‹è¯•æ•°æ®ï¼š</p>



































<table><thead><tr><th>åœºæ™¯</th><th>çº¯å®¢æˆ·ç«¯æ¸²æŸ“</th><th>æ··åˆæ¸²æŸ“ï¼ˆæ¨èï¼‰</th><th>çº¯æœåŠ¡ç«¯ç»„ä»¶</th></tr></thead><tbody><tr><td><strong>é¦–å±åŠ è½½æ—¶é—´</strong></td><td>2.8s</td><td>1.2s â­</td><td>1.0s</td></tr><tr><td><strong>å¯äº¤äº’æ—¶é—´</strong></td><td>2.8s</td><td>1.4s â­</td><td>N/A</td></tr><tr><td><strong>Bundleå¤§å°</strong></td><td>245KB</td><td>78KB â­</td><td>12KB</td></tr><tr><td><strong>SEOå‹å¥½åº¦</strong></td><td>ä¸­</td><td>é«˜ â­</td><td>é«˜</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šæ··åˆæ–¹æ¡ˆåœ¨ç»å¤§å¤šæ•°åœºæ™¯ä¸‹æ˜¯æœ€ä½³é€‰æ‹©ï¼</p>
<h3 data-id="heading-18">ğŸ”® æœªæ¥è¶‹åŠ¿</h3>
<ol>
<li><strong>Partial Prerenderingï¼ˆéƒ¨åˆ†é¢„æ¸²æŸ“ï¼‰</strong>ï¼šNext.js 14+ çš„æ–°ç‰¹æ€§ï¼Œè‡ªåŠ¨æ··åˆé™æ€å’ŒåŠ¨æ€å†…å®¹</li>
<li><strong>Server Actions</strong>ï¼šæ›´æ·±åº¦é›†æˆæœåŠ¡ç«¯é€»è¾‘</li>
<li><strong>Edge Runtimeä¼˜åŒ–</strong>ï¼šç»„ä»¶çº§åˆ«çš„è¾¹ç¼˜è®¡ç®—éƒ¨ç½²</li>
</ol>
<h3 data-id="heading-19">ğŸ“ æ€»ç»“ï¼šå†³ç­–æµç¨‹å›¾</h3>
<p>è¿™é‡Œç»™ä½ ä¸€ä¸ªå¿«é€Ÿå†³ç­–æµç¨‹å›¾ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€å§‹
  â†“
ç»„ä»¶éœ€è¦äº¤äº’å—ï¼Ÿ
  â†“
æ˜¯ â†’ éœ€è¦æµè§ˆå™¨APIå—ï¼Ÿ â†’ æ˜¯ â†’ <span class="hljs-built_in">Client</span> Component âœ…
  â†“                â†“
å¦               å¦ â†’ æœ‰çŠ¶æ€å—ï¼Ÿ â†’ æ˜¯ â†’ <span class="hljs-built_in">Client</span> Component âœ…
  â†“                â†“           â†“
<span class="hljs-built_in">Server</span> Component â† å¦ â† å¦ â† ä»…å±•ç¤ºæ•°æ®ï¼Ÿ
  â†“
éœ€è¦è€ƒè™‘Bundleå¤§å°å—ï¼Ÿ â†’ æ˜¯ â†’ <span class="hljs-built_in">Server</span> Component âœ…
  â†“
å¦
â†“
<span class="hljs-built_in">Client</span> Component âœ…
</code></pre>
<h3 data-id="heading-20">ğŸ’¬ äº’åŠ¨è®¨è®º</h3>
<p><strong>è¯é¢˜è®¨è®º</strong>ï¼š</p>
<ol>
<li>ä½ åœ¨é¡¹ç›®ä¸­æœ€å¤§çš„ Server/Client Component æŒ‘æˆ˜æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>æœ‰æ²¡æœ‰é‡åˆ°æ€§èƒ½å¤§å¹…æå‡çš„æˆåŠŸæ¡ˆä¾‹ï¼Ÿ</li>
<li>ä½ å¦‚ä½•å‘å›¢é˜Ÿæˆå‘˜è§£é‡Šè¿™ä¸¤ç§ç»„ä»¶çš„åŒºåˆ«ï¼Ÿ</li>
</ol>
<p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒå’Œè§è§£ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[NormalVectorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7598801700051107878</link>    <guid>https://juejin.cn/post/7598801700051107878</guid>    <pubDate>2026-01-25T10:03:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598801700051107878" data-draft-id="7598801700051091494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[NormalVectorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,Unity3D,å›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-25T10:03:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[NormalVectorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T10:03:42.000Z" title="Sun Jan 25 2026 10:03:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>åœ¨Unityçš„Shader Graphä¸­ï¼ŒNormalVectorèŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŸºç¡€ä¸”é‡è¦çš„å·¥å…·ï¼Œå®ƒå…è®¸ç€è‰²å™¨è®¿é—®ç½‘æ ¼çš„æ³•çº¿çŸ¢é‡ä¿¡æ¯ã€‚æ³•çº¿çŸ¢é‡åœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ï¼Œå®ƒå®šä¹‰äº†è¡¨é¢çš„æœå‘ï¼Œæ˜¯å…‰ç…§è®¡ç®—ã€æè´¨è¡¨ç°å’Œå„ç§è§†è§‰æ•ˆæœçš„åŸºç¡€ã€‚</p>
<h2 data-id="heading-0">èŠ‚ç‚¹æ¦‚è¿°</h2>
<p>NormalVectorèŠ‚ç‚¹ä¸ºç€è‰²å™¨ç¼–å†™è€…æä¾›äº†è·å–ç½‘æ ¼æ³•çº¿æ•°æ®çš„ä¾¿æ·é€”å¾„ã€‚æ— è®ºæ˜¯é¡¶ç‚¹æ³•çº¿è¿˜æ˜¯ç‰‡å…ƒæ³•çº¿ï¼Œè¿™ä¸ªèŠ‚ç‚¹éƒ½èƒ½è®©å¼€å‘è€…è½»æ¾åœ°åœ¨ä¸åŒçš„åæ ‡ç©ºé—´ä¸­æ“ä½œè¿™äº›æ•°æ®ã€‚é€šè¿‡ç®€å•çš„å‚æ•°è®¾ç½®ï¼Œå°±å¯ä»¥å°†æ³•çº¿çŸ¢é‡è½¬æ¢åˆ°æ‰€éœ€çš„åæ ‡ç©ºé—´ï¼Œå¤§å¤§ç®€åŒ–äº†å¤æ‚ç€è‰²å™¨çš„å¼€å‘è¿‡ç¨‹ã€‚</p>
<p>æ³•çº¿çŸ¢é‡çš„æœ¬è´¨æ˜¯å‚ç›´äºè¡¨é¢çš„å•ä½å‘é‡ï¼Œåœ¨ä¸‰ç»´ç©ºé—´ä¸­è¡¨ç¤ºä¸º(x, y, z)åæ ‡ã€‚åœ¨Shader Graphä¸­ï¼Œè¿™äº›æ•°æ®é€šå¸¸æ¥è‡ª3Dæ¨¡å‹çš„é¡¶ç‚¹æ•°æ®ï¼Œæˆ–è€…é€šè¿‡æ³•çº¿è´´å›¾ç­‰æŠ€æœ¯è¿›è¡Œä¿®æ”¹å’Œå¢å¼ºã€‚</p>
<h2 data-id="heading-1">å‚æ•°è¯¦è§£</h2>
<h3 data-id="heading-2">Spaceå‚æ•°</h3>
<p>Spaceå‚æ•°å†³å®šäº†æ³•çº¿çŸ¢é‡è¾“å‡ºçš„åæ ‡ç©ºé—´ï¼Œè¿™æ˜¯NormalVectorèŠ‚ç‚¹æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚ä¸åŒçš„åæ ‡ç©ºé—´é€‚ç”¨äºä¸åŒçš„ç€è‰²åœºæ™¯å’Œè®¡ç®—éœ€æ±‚ã€‚</p>
<ul>
<li><strong>Objectç©ºé—´</strong>ï¼šä¹Ÿç§°ä¸ºæ¨¡å‹ç©ºé—´ï¼Œè¿™æ˜¯æ³•çº¿æ•°æ®æœ€åŸå§‹çš„å­˜å‚¨ç©ºé—´ã€‚åœ¨Objectç©ºé—´ä¸­ï¼Œæ³•çº¿ç›¸å¯¹äºæ¨¡å‹æœ¬èº«çš„åæ ‡ç³»å®šä¹‰ï¼Œä¸è€ƒè™‘æ¨¡å‹çš„æ—‹è½¬ã€ç¼©æ”¾æˆ–å¹³ç§»å˜æ¢ã€‚å½“æ¨¡å‹å‘ç”Ÿå˜æ¢æ—¶ï¼ŒObjectç©ºé—´ä¸­çš„æ³•çº¿ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œç›¸åº”çš„å˜æ¢è®¡ç®—ã€‚</li>
<li><strong>Viewç©ºé—´</strong>ï¼šä¹Ÿç§°ä¸ºç›¸æœºç©ºé—´æˆ–çœ¼ç›ç©ºé—´ï¼Œåœ¨è¿™ä¸ªç©ºé—´ä¸­ï¼Œæ‰€æœ‰åæ ‡éƒ½æ˜¯ç›¸å¯¹äºç›¸æœºçš„ä½ç½®å’Œæ–¹å‘å®šä¹‰çš„ã€‚Viewç©ºé—´çš„åŸç‚¹é€šå¸¸æ˜¯ç›¸æœºçš„ä½ç½®ï¼ŒZè½´æŒ‡å‘ç›¸æœºçš„è§‚å¯Ÿæ–¹å‘ã€‚è¿™ä¸ªç©ºé—´ç‰¹åˆ«é€‚åˆä¸è§†è§’ç›¸å…³çš„æ•ˆæœï¼Œå¦‚è¾¹ç¼˜å…‰ã€åå°„å’ŒæŠ˜å°„ã€‚</li>
<li><strong>Worldç©ºé—´</strong>ï¼šWorldç©ºé—´ä¸­çš„åæ ‡æ˜¯ç›¸å¯¹äºåœºæ™¯çš„ä¸–ç•Œåæ ‡ç³»å®šä¹‰çš„ã€‚æ— è®ºæ¨¡å‹å¦‚ä½•ç§»åŠ¨æˆ–æ—‹è½¬ï¼ŒWorldç©ºé—´æä¾›äº†ç»Ÿä¸€çš„å‚è€ƒæ¡†æ¶ã€‚è¿™ä¸ªç©ºé—´å¸¸ç”¨äºå…‰ç…§è®¡ç®—ã€é˜´å½±ç”Ÿæˆå’Œå…¨å±€æ•ˆæœã€‚</li>
<li><strong>Tangentç©ºé—´</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å±€éƒ¨ç©ºé—´ï¼Œä¸»è¦ç”¨äºæ³•çº¿è´´å›¾ã€‚åœ¨Tangentç©ºé—´ä¸­ï¼Œæ³•çº¿æ˜¯ç›¸å¯¹äºè¡¨é¢æœ¬èº«å®šä¹‰çš„ï¼ŒZè½´ä¸è¡¨é¢æ³•çº¿å¯¹é½ï¼ŒXè½´ä¸åˆ‡å‘é‡å¯¹é½ï¼ŒYè½´ä¸å‰¯æ³•çº¿å¯¹é½ã€‚è¿™ç§è¡¨ç¤ºæ–¹æ³•ä½¿å¾—æ³•çº¿è´´å›¾å¯ä»¥åœ¨ä¸åŒæœå‘çš„è¡¨é¢ä¸Šé‡å¤ä½¿ç”¨ã€‚</li>
</ul>
<p>é€‰æ‹©æ­£ç¡®çš„åæ ‡ç©ºé—´å¯¹ç€è‰²å™¨çš„æ­£ç¡®æ€§å’Œæ€§èƒ½è‡³å…³é‡è¦ã€‚é”™è¯¯çš„ç©ºé—´é€‰æ‹©å¯èƒ½å¯¼è‡´å…‰ç…§è®¡ç®—é”™è¯¯ã€è§†è§‰æ•ˆæœå¼‚å¸¸æˆ–æ€§èƒ½ä¸‹é™ã€‚</p>
<h2 data-id="heading-3">ç«¯å£ä¿¡æ¯</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/NormalVectorNodeThumb.png" alt="" loading="lazy"/></p>
<p>NormalVectorèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªè¾“å‡ºç«¯å£ï¼š</p>
<ul>
<li><strong>Out</strong>ï¼šè¾“å‡ºç±»å‹ä¸ºVector 3ï¼Œè¡¨ç¤ºä¸‰ç»´çŸ¢é‡ã€‚è¿™ä¸ªç«¯å£è¾“å‡ºçš„æ˜¯æ ¹æ®Spaceå‚æ•°é€‰æ‹©åœ¨å¯¹åº”åæ ‡ç©ºé—´ä¸­çš„æ³•çº¿çŸ¢é‡ã€‚è¾“å‡ºå€¼é€šå¸¸æ˜¯å½’ä¸€åŒ–çš„å•ä½çŸ¢é‡ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆå¦‚ä½¿ç”¨éç»Ÿä¸€ç¼©æ”¾æ—¶ï¼‰å¯èƒ½éœ€è¦é‡æ–°å½’ä¸€åŒ–ã€‚</li>
</ul>
<h2 data-id="heading-4">ä½¿ç”¨åœºæ™¯ä¸ç¤ºä¾‹</h2>
<h3 data-id="heading-5">åŸºç¡€å…‰ç…§è®¡ç®—</h3>
<p>æ³•çº¿çŸ¢é‡çš„ä¸€ä¸ªä¸»è¦åº”ç”¨æ˜¯å…‰ç…§è®¡ç®—ã€‚åœ¨Lambertå…‰ç…§æ¨¡å‹ä¸­ï¼Œè¡¨é¢äº®åº¦å–å†³äºå…‰çº¿æ–¹å‘ä¸è¡¨é¢æ³•çº¿ä¹‹é—´çš„å¤¹è§’ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// ç®€åŒ–çš„Lambertå…‰ç…§è®¡ç®—
float3 <span class="hljs-attr">lightDir</span> = normalize(_WorldSpaceLightPos0.xyz)<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">worldNormal</span> = NormalVectorèŠ‚ç‚¹è¾“å‡ºï¼ˆWorldç©ºé—´ï¼‰<span class="hljs-comment">;</span>
float <span class="hljs-attr">NdotL</span> = max(<span class="hljs-number">0</span>, dot(worldNormal, lightDir))<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">diffuse</span> = _LightColor0 * NdotL<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè·å–ä¸–ç•Œç©ºé—´ä¸­çš„æ³•çº¿çŸ¢é‡å’Œå…‰çº¿æ–¹å‘ï¼Œç„¶åè®¡ç®—å®ƒä»¬çš„ç‚¹ç§¯ã€‚ç‚¹ç§¯ç»“æœå†³å®šäº†è¡¨é¢æ¥æ”¶åˆ°çš„å…‰ç…§å¼ºåº¦ï¼Œè¿™æ˜¯å¤§å¤šæ•°åŸºç¡€å…‰ç…§æ¨¡å‹çš„æ ¸å¿ƒè®¡ç®—ã€‚</p>
<h3 data-id="heading-6">æ³•çº¿è´´å›¾åº”ç”¨</h3>
<p>æ³•çº¿è´´å›¾æ˜¯ç°ä»£å®æ—¶æ¸²æŸ“ä¸­å¢å¼ºè¡¨é¢ç»†èŠ‚çš„å…³é”®æŠ€æœ¯ã€‚NormalVectorèŠ‚ç‚¹åœ¨åº”ç”¨æ³•çº¿è´´å›¾æ—¶èµ·ç€æ¡¥æ¢ä½œç”¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// æ³•çº¿è´´å›¾åº”ç”¨æµç¨‹
float3 <span class="hljs-attr">tangentNormal</span> = tex2D(_NormalMap, uv).xyz * <span class="hljs-number">2</span> - <span class="hljs-number">1</span><span class="hljs-comment">; // ä»[0,1]è½¬æ¢åˆ°[-1,1]</span>
float3 <span class="hljs-attr">worldNormal</span> = NormalVectorèŠ‚ç‚¹è¾“å‡ºï¼ˆWorldç©ºé—´ï¼‰<span class="hljs-comment">;</span>
// ä½¿ç”¨TBNçŸ©é˜µå°†åˆ‡çº¿ç©ºé—´æ³•çº¿è½¬æ¢åˆ°ä¸–ç•Œç©ºé—´
float3x3 <span class="hljs-attr">TBN</span> = float3x3(
    IN.tangent.xyz,
    cross(IN.normal, IN.tangent.xyz) * IN.tangent.w,
    IN.normal
)<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">mappedNormal</span> = mul(TBN, tangentNormal)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°†åˆ‡çº¿ç©ºé—´ä¸­çš„æ³•çº¿è´´å›¾æ•°æ®è½¬æ¢åˆ°ä¸–ç•Œç©ºé—´ã€‚é¦–å…ˆä»æ³•çº¿è´´å›¾ä¸­é‡‡æ ·å¹¶è°ƒæ•´æ•°å€¼èŒƒå›´ï¼Œç„¶åä½¿ç”¨TBNï¼ˆåˆ‡çº¿-å‰¯åˆ‡çº¿-æ³•çº¿ï¼‰çŸ©é˜µè¿›è¡Œç©ºé—´è½¬æ¢ã€‚</p>
<h3 data-id="heading-7">è¾¹ç¼˜æ£€æµ‹ä¸è½®å»“å…‰</h3>
<p>åˆ©ç”¨Viewç©ºé—´ä¸­çš„æ³•çº¿å¯ä»¥åˆ›å»ºå„ç§ä¸è§†è§’ç›¸å…³çš„æ•ˆæœï¼Œå¦‚è¾¹ç¼˜å…‰å’Œè½®å»“æ£€æµ‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// è¾¹ç¼˜å…‰æ•ˆæœ
float3 <span class="hljs-attr">viewNormal</span> = normalize(mul((float3x3)UNITY_MATRIX_V, NormalVectorèŠ‚ç‚¹è¾“å‡ºï¼ˆWorldç©ºé—´ï¼‰))<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">viewDir</span> = normalize(UnityWorldToViewPos(IN.worldPos))<span class="hljs-comment">;</span>
float <span class="hljs-attr">rim</span> = <span class="hljs-number">1</span> - abs(dot(viewNormal, viewDir))<span class="hljs-comment">;</span>
float <span class="hljs-attr">rimLight</span> = pow(rim, _RimPower) * _RimIntensity<span class="hljs-comment">;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå°†ä¸–ç•Œç©ºé—´æ³•çº¿è½¬æ¢åˆ°Viewç©ºé—´ï¼Œç„¶åè®¡ç®—æ³•çº¿ä¸è§†è§’æ–¹å‘çš„ç‚¹ç§¯ã€‚å½“è¡¨é¢å‡ ä¹å‚ç›´äºè§†è§’æ–¹å‘æ—¶ï¼ˆå³è¾¹ç¼˜å¤„ï¼‰ï¼Œç‚¹ç§¯æ¥è¿‘0ï¼Œä»è€Œäº§ç”Ÿè¾¹ç¼˜å…‰æ•ˆæœã€‚</p>
<h3 data-id="heading-8">ç¯å¢ƒé®æŒ¡ä¸å…¨å±€å…‰ç…§</h3>
<p>æ³•çº¿ä¿¡æ¯å¯¹äºç¯å¢ƒé®æŒ¡å’Œå…¨å±€å…‰ç…§è®¡ç®—ä¹Ÿè‡³å…³é‡è¦ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// ç®€åŒ–çš„ç¯å¢ƒé®æŒ¡
float3 <span class="hljs-attr">worldNormal</span> = NormalVectorèŠ‚ç‚¹è¾“å‡ºï¼ˆWorldç©ºé—´ï¼‰<span class="hljs-comment">;</span>
float <span class="hljs-attr">ambientOcclusion</span> = <span class="hljs-number">1.0</span><span class="hljs-comment">;</span>

// åŸºäºæ³•çº¿æ–¹å‘çš„ç®€å•ç¯å¢ƒå…‰é®è”½
// è¿™é‡Œå¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„ç®—æ³•ï¼Œå¦‚SSAOæˆ–çƒ˜ç„™çš„AOè´´å›¾
ambientOcclusion *= (worldNormal.y * 0.5 + 0.5)<span class="hljs-comment">; // æ¨¡æ‹Ÿé¡¶éƒ¨å…‰ç…§æ›´å¤š</span>

// åº”ç”¨ç¯å¢ƒå…‰
float3 <span class="hljs-attr">ambient</span> = UNITY_LIGHTMODEL_AMBIENT * ambientOcclusion<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ä¸ªç®€å•çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ç”¨æ³•çº¿æ–¹å‘æ¥æ¨¡æ‹Ÿç¯å¢ƒå…‰é®è”½æ•ˆæœã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šç»“åˆæ›´å¤æ‚çš„ç®—æ³•æˆ–é¢„è®¡ç®—çš„æ•°æ®ã€‚</p>
<h2 data-id="heading-9">é«˜çº§åº”ç”¨æŠ€å·§</h2>
<h3 data-id="heading-10">æ³•çº¿é‡å®šå‘ä¸æ··åˆ</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œéœ€è¦å°†æ³•çº¿ä»ä¸€ä¸ªè¡¨é¢é‡å®šå‘åˆ°å¦ä¸€ä¸ªè¡¨é¢ï¼Œæˆ–è€…åœ¨ä¸åŒæ³•çº¿æºä¹‹é—´è¿›è¡Œæ··åˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// æ³•çº¿æ··åˆç¤ºä¾‹
float3 <span class="hljs-attr">normalA</span> = tex2D(_NormalMapA, uv).xyz<span class="hljs-comment">;</span>
float3 <span class="hljs-attr">normalB</span> = tex2D(_NormalMapB, uv).xyz<span class="hljs-comment">;</span>
float <span class="hljs-attr">blendFactor</span> = _BlendFactor<span class="hljs-comment">;</span>

// ä½¿ç”¨çº¿æ€§æ’å€¼æ··åˆæ³•çº¿
float3 <span class="hljs-attr">blendedNormal</span> = lerp(normalA, normalB, blendFactor)<span class="hljs-comment">;</span>

// æˆ–è€…ä½¿ç”¨æ›´ç²¾ç¡®çš„çƒé¢çº¿æ€§æ’å€¼
// float3 <span class="hljs-attr">blendedNormal</span> = normalize(lerp(normalA, normalB, blendFactor))<span class="hljs-comment">;</span>
</code></pre>
<p>æ³•çº¿æ··åˆæ˜¯ä¸€ä¸ªå¤æ‚çš„è¯é¢˜ï¼Œå› ä¸ºç®€å•çš„çº¿æ€§æ’å€¼å¯èƒ½ä¸ä¼šä¿æŒæ³•çº¿çš„å•ä½é•¿åº¦ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯èƒ½éœ€è¦é‡æ–°å½’ä¸€åŒ–æˆ–ä½¿ç”¨æ›´é«˜çº§çš„æ’å€¼æ–¹æ³•ã€‚</p>
<h3 data-id="heading-11">æ³•çº¿ç©ºé—´è½¬æ¢ä¼˜åŒ–</h3>
<p>åœ¨æ€§èƒ½å…³é”®çš„åœºæ™¯ä¸­ï¼Œæ³•çº¿ç©ºé—´è½¬æ¢å¯èƒ½éœ€è¦ä¼˜åŒ–ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">HLSL

<span class="hljs-comment">// ä¼˜åŒ–çš„ä¸–ç•Œç©ºé—´æ³•çº¿è®¡ç®—</span>
<span class="hljs-comment">// ä¼ ç»Ÿæ–¹æ³•</span>
float3 worldNormal = <span class="hljs-built_in">normalize</span>(mul(IN.normal, (float3x3)unity_WorldToObject));

<span class="hljs-comment">// ä¼˜åŒ–æ–¹æ³• - ä½¿ç”¨é€†è½¬ç½®çŸ©é˜µï¼ˆå¤„ç†éç»Ÿä¸€ç¼©æ”¾ï¼‰</span>
float3 worldNormal = <span class="hljs-built_in">normalize</span>(mul(transpose((float3x3)unity_WorldToObject), IN<span class="hljs-selector-class">.normal</span>));
</code></pre>
<p>å½“æ¨¡å‹åº”ç”¨äº†éç»Ÿä¸€ç¼©æ”¾æ—¶ï¼Œç›´æ¥ä½¿ç”¨æ¨¡å‹çŸ©é˜µå˜æ¢æ³•çº¿ä¼šå¯¼è‡´é”™è¯¯çš„ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦ä½¿ç”¨æ¨¡å‹çŸ©é˜µçš„é€†è½¬ç½®çŸ©é˜µæ¥æ­£ç¡®å˜æ¢æ³•çº¿ã€‚</p>
<h3 data-id="heading-12">æ³•çº¿å¯è§†åŒ–ä¸è°ƒè¯•</h3>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯è§†åŒ–æ³•çº¿çŸ¢é‡å¯¹äºè°ƒè¯•ç€è‰²å™¨éå¸¸æœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">HLSL

// æ³•çº¿å¯è§†åŒ–
float3 <span class="hljs-attr">worldNormal</span> = NormalVectorèŠ‚ç‚¹è¾“å‡ºï¼ˆWorldç©ºé—´ï¼‰<span class="hljs-comment">;</span>
// å°†æ³•çº¿ä»<span class="hljs-section">[-1,1]</span>èŒƒå›´æ˜ å°„åˆ°<span class="hljs-section">[0,1]</span>èŒƒå›´ä»¥ä¾¿å¯è§†åŒ–
float3 <span class="hljs-attr">normalColor</span> = worldNormal * <span class="hljs-number">0.5</span> + <span class="hljs-number">0.5</span><span class="hljs-comment">;</span>
return float4(normalColor, 1.0)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ä¸ªç®€å•çš„ç€è‰²å™¨å°†æ³•çº¿çŸ¢é‡çš„å„ä¸ªåˆ†é‡æ˜ å°„åˆ°é¢œè‰²é€šé“ï¼Œä»è€Œå¯ä»¥ç›´è§‚åœ°æŸ¥çœ‹æ³•çº¿çš„æ–¹å‘å’Œåˆ†å¸ƒã€‚</p>
<h2 data-id="heading-13">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-14">æ³•çº¿ä¸è¿ç»­é—®é¢˜</h3>
<p>å½“ä½¿ç”¨ä½å¤šè¾¹å½¢æ¨¡å‹æˆ–ä¸å½“çš„UVå±•å¼€æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°æ³•çº¿ä¸è¿ç»­çš„é—®é¢˜ã€‚</p>
<ul>
<li><strong>é—®é¢˜è¡¨ç°</strong>ï¼šè¡¨é¢å‡ºç°ä¸è‡ªç„¶çš„ç¡¬è¾¹æˆ–æ¥ç¼</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>ç¡®ä¿æ¨¡å‹æœ‰é€‚å½“çš„å¹³æ»‘ç»„è®¾ç½®</li>
<li>æ£€æŸ¥UVå±•å¼€æ˜¯å¦å¯¼è‡´æ³•çº¿è´´å›¾é‡‡æ ·é”™è¯¯</li>
<li>è€ƒè™‘ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„æ¨¡å‹æˆ–ç»†åˆ†è¡¨é¢</li>
</ul>
</li>
</ul>
<h3 data-id="heading-15">æ€§èƒ½è€ƒé‡</h3>
<p>æ³•çº¿è®¡ç®—å¯èƒ½ä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡æˆ–å¤æ‚åœºæ™¯ä¸­ã€‚</p>
<ul>
<li><strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼š
<ul>
<li>åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è®¡ç®—æ³•çº¿ï¼Œè€Œä¸æ˜¯ç‰‡å…ƒç€è‰²å™¨</li>
<li>ä½¿ç”¨æ›´ç®€å•çš„æ³•çº¿è®¡ç®—ï¼Œå¦‚çœç•¥å½’ä¸€åŒ–æ­¥éª¤ï¼ˆå¦‚æœå¯¹è§†è§‰æ•ˆæœå½±å“ä¸å¤§ï¼‰</li>
<li>è€ƒè™‘ä½¿ç”¨æ³•çº¿è´´å›¾çš„å‹ç¼©æ ¼å¼ä»¥å‡å°‘å†…å­˜å¸¦å®½</li>
</ul>
</li>
</ul>
<h3 data-id="heading-16">æ³•çº¿ç²¾åº¦é—®é¢˜</h3>
<p>åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œæ³•çº¿è®¡ç®—å¯èƒ½ä¼šé‡åˆ°ç²¾åº¦é—®é¢˜ï¼Œå¯¼è‡´è§†è§‰ç‘•ç–µã€‚</p>
<ul>
<li><strong>é—®é¢˜è¡¨ç°</strong>ï¼šé—ªçƒçš„è¡¨é¢ã€å¸¦çŠ¶ä¼ªå½±æˆ–ä¸å‡†ç¡®çš„å…‰ç…§</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„æ•°æ®ç±»å‹ï¼ˆå¦‚halfæ”¹ä¸ºfloatï¼‰</li>
<li>ç¡®ä¿æ³•çº¿è´´å›¾ä½¿ç”¨é€‚å½“çš„æ ¼å¼å’Œå‹ç¼©</li>
<li>æ£€æŸ¥æ³•çº¿å˜æ¢çŸ©é˜µçš„ç²¾åº¦å’Œæ­£ç¡®æ€§</li>
</ul>
</li>
</ul>
<h2 data-id="heading-17">ä¸å…¶ä»–èŠ‚ç‚¹çš„é…åˆä½¿ç”¨</h2>
<p>NormalVectorèŠ‚ç‚¹å¾ˆå°‘å•ç‹¬ä½¿ç”¨ï¼Œé€šå¸¸ä¸å…¶ä»–Shader GraphèŠ‚ç‚¹ç»“åˆä»¥å®ç°å¤æ‚çš„æ•ˆæœã€‚</p>
<ul>
<li><strong>ä¸Dot ProductèŠ‚ç‚¹ç»“åˆ</strong>ï¼šç”¨äºè®¡ç®—å…‰ç…§å¼ºåº¦ã€è²æ¶…å°”æ•ˆåº”ç­‰</li>
<li><strong>ä¸TransformèŠ‚ç‚¹ç»“åˆ</strong>ï¼šåœ¨ä¸åŒåæ ‡ç©ºé—´ä¹‹é—´è½¬æ¢æ³•çº¿</li>
<li><strong>ä¸NormalizeèŠ‚ç‚¹ç»“åˆ</strong>ï¼šç¡®ä¿æ³•çº¿ä¿æŒå•ä½é•¿åº¦</li>
<li><strong>ä¸Sample Texture 2DèŠ‚ç‚¹ç»“åˆ</strong>ï¼šåº”ç”¨æ³•çº¿è´´å›¾</li>
<li><strong>ä¸Fresnel EffectèŠ‚ç‚¹ç»“åˆ</strong>ï¼šåˆ›å»ºåŸºäºè§†è§’çš„æ•ˆæœ</li>
</ul>
<h2 data-id="heading-18">æœ€ä½³å®è·µ</h2>
<p>ä¸ºäº†ç¡®ä¿NormalVectorèŠ‚ç‚¹çš„æ­£ç¡®ä½¿ç”¨å’Œæœ€ä½³æ€§èƒ½ï¼Œå»ºè®®éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼š</p>
<ul>
<li>å§‹ç»ˆè€ƒè™‘æ³•çº¿æ˜¯å¦éœ€è¦å½’ä¸€åŒ–ï¼Œç‰¹åˆ«æ˜¯åœ¨è¿›è¡Œæ•°å­¦è¿ç®—æˆ–ç©ºé—´å˜æ¢å</li>
<li>é€‰æ‹©æœ€é€‚åˆå½“å‰è®¡ç®—ä»»åŠ¡çš„åæ ‡ç©ºé—´ï¼Œé¿å…ä¸å¿…è¦çš„ç©ºé—´è½¬æ¢</li>
<li>åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯ä¸­ï¼Œå°½å¯èƒ½åœ¨é¡¶ç‚¹ç€è‰²å™¨ä¸­è®¡ç®—æ³•çº¿ç›¸å…³æ•°æ®</li>
<li>ä½¿ç”¨é€‚å½“çš„æ•°æ®ç±»å‹å¹³è¡¡ç²¾åº¦å’Œæ€§èƒ½</li>
<li>å®šæœŸéªŒè¯æ³•çº¿è®¡ç®—çš„æ­£ç¡®æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨å¤æ‚å˜æ¢æˆ–æ··åˆæ—¶</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Head First ä»£ç†æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7598490039489822755</link>    <guid>https://juejin.cn/post/7598490039489822755</guid>    <pubDate>2026-01-25T07:50:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598490039489822755" data-draft-id="7597695487302615055" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Head First ä»£ç†æ¨¡å¼"/> <meta itemprop="keywords" content="è®¾è®¡æ¨¡å¼"/> <meta itemprop="datePublished" content="2026-01-25T07:50:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·9381691255360"/> <meta itemprop="url" content="https://juejin.cn/user/3485906645565271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Head First ä»£ç†æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485906645565271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·9381691255360
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T07:50:23.000Z" title="Sun Jan 25 2026 07:50:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®šä¹‰</h2>
<p><strong>ä»£ç†æ¨¡å¼</strong>ï¼šä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›æ›¿èº«æˆ–å ä½ç¬¦ä»¥<strong>æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®</strong>ã€‚æˆ‘ä»¬ä¹Ÿå°†ä»£ç†æè¿°æˆå¦ä¸€ä¸ªå¯¹è±¡çš„â€œä»£è¡¨â€ã€‚<br/>
å®ä¾‹ä»£ç†æ¨¡å¼åˆ›å»ºâ€œä»£è¡¨å¯¹è±¡â€ï¼Œè®©â€œä»£è¡¨å¯¹è±¡â€æ§åˆ¶æŸå¯¹è±¡çš„è®¿é—®ï¼Œè¢«ä»£ç†çš„å¯¹è±¡å¯ä»¥æ˜¯è¿œç¨‹å¯¹è±¡ã€åˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡æˆ–éœ€è¦å®‰å…¨æ§åˆ¶çš„å¯¹è±¡ã€‚<br/>
ä»£ç†æ¨¡å¼çš„å˜ä½“æœ‰å¾ˆå¤šï¼Œä¸‹é¢ä¼šæåˆ°ä¸»è¦çš„ä¸‰ç§å˜ä½“ï¼šè¿œç¨‹ä»£ç†ã€è™šæ‹Ÿä»£ç†ã€åŠ¨æ€ä»£ç†ã€‚</p>
<ul>
<li>è¿œç¨‹ä»£ç†æ§åˆ¶è®¿é—®è¿œç¨‹å¯¹è±¡ã€‚</li>
<li>è™šæ‹Ÿä»£ç†æ§åˆ¶è®¿é—®åˆ›å»ºå¼€é”€å¤§çš„èµ„æºã€‚</li>
<li>åŠ¨æ€ä»£ç†åŸºäºæƒé™æ§åˆ¶å¯¹èµ„æºçš„è®¿é—®ã€‚</li>
</ul>
<h3 data-id="heading-1"/>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ç±»å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7e8b547f22f402d8af34fbee9e2a6a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=B2xZBscGyz5ZsLfWwAG%2F6U3JWbs%3D" alt="proxy.png" loading="lazy"/></p>
<ul>
<li>ISubjectï¼šå®ƒä¸ºRealSubjectå’ŒProxyæä¾›äº†æ¥å£ï¼Œé€šè¿‡å®ç°åŒä¸€æ¥å£ï¼ŒProxyåœ¨RealSubjectå‡ºç°çš„åœ°æ–¹å–ä»£å®ƒã€‚</li>
<li>RealSubjectæ˜¯çœŸæ­£åšäº‹çš„å¯¹è±¡ï¼Œå®ƒæ˜¯è¢«Proxyä»£ç†å’Œæ§åˆ¶è®¿é—®çš„å¯¹è±¡ã€‚</li>
<li>ProxyæŒæœ‰RealSubjectçš„å¼•ç”¨ã€‚åœ¨æŸäº›ä¾‹å­ä¸­ï¼ŒProxyè¿˜ä¼šè´Ÿè´£RealSubjectå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚å®¢æˆ·å’ŒRealSubjectçš„äº¤äº’éƒ½å¿…é¡»é€šè¿‡Proxyã€‚å› ä¸ºProxyå’ŒRealSubjectå®ç°äº†ç›¸åŒçš„æ¥å£ï¼ˆISubjectï¼‰ï¼Œæ‰€ä»¥ä»»ä½•ç”¨åˆ°RealSubjectçš„åœ°æ–¹ï¼Œéƒ½å¯ä»¥ç”¨Proxyå–ä»£ã€‚Proxyä¹Ÿæ§åˆ¶äº†å¯¹RealSubjectçš„è®¿é—®ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è¿™æ ·çš„æ§åˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-2">1ã€è¿œç¨‹ä»£ç†</h3>
<h4 data-id="heading-3">1.1 å®šä¹‰</h4>
<p>è¿œç¨‹ä»£ç†å¯ä»¥ä½œä¸ºè¿œç¨‹å¯¹è±¡çš„æœ¬åœ°ä»£è¡¨ã€‚è°ƒç”¨ä»£ç†çš„æ–¹æ³•ï¼Œä¼šè¢«ä»£ç†åˆ©ç”¨ç½‘ç»œè½¬å‘åˆ°è¿œç¨‹æ‰§è¡Œï¼Œå¹¶ä¸”ç»“æœä¼šé€šè¿‡ç½‘ç»œè¿”å›ç»™ä»£ç†ï¼Œå†ç”±ä»£ç†å°†ç»“æœè½¬ç»™å®¢æˆ·ã€‚<br/>
<strong>ä½•ä¸ºè¿œç¨‹å¯¹è±¡</strong>ï¼Ÿè¿™æ˜¯ä¸€ç§å¯¹è±¡ï¼Œæ´»åœ¨ä¸åŒçš„JVMå †ä¸­ï¼ˆæ›´ä¸€èˆ¬çš„è¯´æ³•ä¸ºï¼šåœ¨ä¸åŒçš„åœ°å€ç©ºé—´è¿è¡Œçš„è¿œç¨‹å¯¹è±¡ï¼‰ã€‚<br/>
<strong>ä½•ä¸ºæœ¬åœ°ä»£è¡¨</strong>ï¼Ÿè¿™æ˜¯ä¸€ç§å¯ä»¥ç”±æœ¬åœ°æ–¹æ³•è°ƒç”¨çš„å¯¹è±¡ï¼Œå…¶è¡Œä¸ºä¼šè½¬å‘åˆ°è¿œç¨‹å¯¹è±¡ä¸­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49a9003a483f46a7bfa27d67ffa6d2f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=ah6QYRB0J3IPTDwFEN0W7tkr7Zs%3D" alt="remote.png" loading="lazy"/></p>
<p>ä½†æ˜¯è¦å¦‚ä½•åˆ›å»ºä¸€ä¸ªä»£ç†ï¼ŒçŸ¥é“å¦‚ä½•è°ƒç”¨åœ¨å¦ä¸€ä¸ªJVMä¸­çš„å¯¹è±¡çš„æ–¹æ³•ï¼Ÿ<code>Java RMI(RemoteMethodInvocation)</code>è¿œç¨‹æ–¹æ³•è°ƒç”¨å¯ä»¥åšåˆ°ã€‚</p>
<h4 data-id="heading-4">1.2 ä¸‹é¢æ¥çœ‹çœ‹RMIçš„å·¥ä½œè¿‡ç¨‹è¦ç‚¹</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04fb8be0666544b0814808be9798f37a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=tUc%2B0tFUBsglcKJYM%2FWDS8Rpo%2B4%3D" alt="Rmi.png" loading="lazy"/></p>
<ol>
<li>å®¢æˆ·å¯¹è±¡Clientè°ƒç”¨å®¢æˆ·è¾…åŠ©å¯¹è±¡ClientHelperçš„doBigThing()æ–¹æ³•ã€‚</li>
<li>å®¢æˆ·è¾…åŠ©å¯¹è±¡æ‰“åŒ…è°ƒç”¨ä¿¡æ¯ï¼ˆå˜é‡ã€æ–¹æ³•åç§°ç­‰ï¼‰ï¼Œç„¶åé€šè¿‡ç½‘ç»œå°†å®ƒè¿ç»™æœåŠ¡è¾…åŠ©å¯¹è±¡ServiceHelperã€‚</li>
<li>æœåŠ¡è¾…åŠ©å¯¹è±¡æŠŠæ¥è‡ªå®¢æˆ·è¾…åŠ©å¯¹è±¡çš„ä¿¡æ¯è§£åŒ…ï¼Œæ‰¾å‡ºè¢«è°ƒç”¨çš„æ–¹æ³•ï¼ˆä»¥åŠåœ¨å“ªä¸ªå¯¹è±¡å†…ï¼‰ï¼Œç„¶åè°ƒç”¨çœŸæ­£çš„æœåŠ¡å¯¹è±¡RealSubjectä¸Šçš„çœŸæ­£æ–¹æ³•ã€‚</li>
<li>æœåŠ¡å¯¹è±¡ä¸Šçš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œå°†ç»“æœè¿”å›ç»™æœåŠ¡è¾…åŠ©å¯¹è±¡ã€‚</li>
<li>æœåŠ¡è¾…åŠ©å¯¹è±¡æŠŠè°ƒç”¨çš„è¿”å›ä¿¡æ¯æ‰“åŒ…ï¼Œç„¶åé€šè¿‡ç½‘ç»œè¿å›ç»™å®¢æˆ·è¾…åŠ©å¯¹è±¡ã€‚</li>
<li>å®¢æˆ·è¾…åŠ©å¯¹è±¡æŠŠè¿”å›å€¼è§£åŒ…ï¼Œè¿”å›ç»™å®¢æˆ·å¯¹è±¡ã€‚å¯¹äºå®¢æˆ·æ¥è¯´ï¼Œè¿™æ˜¯å®Œå…¨é€æ˜çš„ã€‚</li>
</ol>
<blockquote>
<p>éšç€ RMI æŠ€æœ¯çš„æ¼”è¿›å’Œç°ä»£åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶çš„æ™®åŠï¼ŒJava å¹³å°å¯¹ RMI çš„æ”¯æŒè¿›è¡Œäº†ç²¾ç®€ã€‚Java 21 æ­£å¼ç§»é™¤äº†Â <code>rmic</code>Â å·¥å…·ï¼Œè¿™æ„å‘³ç€å¼€å‘è€…ä¸èƒ½å†ä½¿ç”¨å®ƒæ¥ç”Ÿæˆ RMI æ‰€éœ€çš„å®¢æˆ·ç«¯å­˜æ ¹ä»£ç ã€‚<br/>
è¿™ä¸€å˜åŒ–æ˜¯ Java 21 ä¸­ä¸€ç³»åˆ— RMI ç›¸å…³ç§»é™¤å’Œå¼ƒç”¨æ“ä½œçš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨å‡å°‘å¯¹è¿‡æ—¶ã€ä½¿ç”¨ç‡ä½ä¸”å­˜åœ¨æ½œåœ¨å®‰å…¨é£é™©çš„ç»„ä»¶çš„ä¾èµ–ã€‚å®˜æ–¹å»ºè®®å¼€å‘è€…è¿ç§»åˆ°æ›´ç°ä»£ã€æ›´å®‰å…¨çš„åˆ†å¸ƒå¼é€šä¿¡æ¡†æ¶ï¼Œå¦‚ gRPC æˆ– RESTful APIã€‚</p>
</blockquote>
<h3 data-id="heading-5">2ã€è™šæ‹Ÿä»£ç†</h3>
<h4 data-id="heading-6">2.1 å®šä¹‰</h4>
<p>è™šæ‹Ÿä»£ç†ä½œä¸ºåˆ›å»ºå¼€é”€å¤§çš„å¯¹è±¡çš„ä»£è¡¨ã€‚è™šæ‹Ÿä»£ç†ç»å¸¸çŸ¥é“æˆ‘ä»¬çœŸæ­£éœ€è¦ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™æ‰åˆ›å»ºå®ƒã€‚å½“å¯¹è±¡åœ¨åˆ›å»ºå‰å’Œåˆ›å»ºä¸­æ—¶ï¼Œç”±è™šæ‹Ÿä»£ç†æ¥æ‰®æ¼”å¯¹è±¡çš„æ›¿èº«ã€‚å¯¹è±¡åˆ›å»ºåï¼Œä»£ç†å°±ä¼šå°†è¯·æ±‚ç›´æ¥å§”æ‰˜ç»™å¯¹è±¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b24f50177a54634b8434631efd57efd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=iYPO7nhsiFA7745e3c8hocs9nVQ%3D" alt="virtual.png" loading="lazy"/></p>
<h5 data-id="heading-7">ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼šæ˜¾ç¤ºCDå°é¢</h5>
<p>ä»åœ¨çº¿æœåŠ¡ä¸­è·å–å°é¢çš„å›¾ç‰‡ï¼Œä½†æ˜¯é™äºè¿æ¥å¸¦å®½å’Œç½‘ç»œè´Ÿè½½ï¼Œä¸‹è½½å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ‰€ä»¥åœ¨ç­‰å¾…å›¾åƒåŠ è½½çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¾ç¤ºä¸€äº›ä¸œè¥¿ã€‚æˆ‘ä»¬ä¹Ÿä¸å¸Œæœ›åœ¨ç­‰å¾…å›¾åƒæ—¶æ•´ä¸ªåº”ç”¨ç¨‹åºè¢«æŒ‚èµ·ã€‚ä¸€æ—¦å›¾åƒåŠ è½½å®Œæˆï¼Œåˆšæ‰æ˜¾ç¤ºçš„ä¸œè¥¿åº”è¯¥æ¶ˆå¤±ï¼Œå›¾åƒæ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>æƒ³åšåˆ°è¿™æ ·ï¼Œç®€å•çš„æ–¹å¼å°±æ˜¯è™šæ‹Ÿä»£ç†ã€‚è™šæ‹Ÿä»£ç†å¯ä»¥ä»£ç†Iconï¼Œç®¡ç†èƒŒæ™¯çš„åŠ è½½ï¼Œå¹¶åœ¨åŠ è½½æœªå®Œæˆæ—¶æ˜¾ç¤ºâ€œCDå°é¢åŠ è½½ä¸­ï¼Œè¯·ç¨å€™ã€‚ã€‚ã€‚â€ï¼Œä¸€æ—¦åŠ è½½å®Œæˆï¼Œä»£ç†å°±æŠŠæ˜¾ç¤ºçš„èŒè´£å§”æ‰˜ç»™Iconã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfce0943238d4eaa96a523250a598ea2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=8x2Ml45akjWGyYq4sJTBisZNvg0%3D" alt="image.png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d691e2566994c38985672dc225ca5e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=pqt7GPt9NtnC%2BJRPs1rsao2w4qw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¸‹é¢è®©æˆ‘ä»¬çœ‹çœ‹ä»£ç </strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.swing.*;
<span class="hljs-keyword">import</span> java.awt.*;
<span class="hljs-keyword">import</span> java.net.URL;

<span class="hljs-comment">/**
 * ImageProxyåŒImageIconä¸€æ ·ï¼Œéƒ½å®ç°äº†Iconæ¥å£
 * ImageProxyå°±æ˜¯ä¸€ä¸ªè™šæ‹Ÿä»£ç†
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Icon</span> {

    <span class="hljs-comment">// æ­¤ImageIconæ˜¯æˆ‘ä»¬å¸Œæœ›åœ¨åŠ è½½åæ˜¾ç¤ºå‡ºæ¥çš„çœŸæ­£å›¾åƒ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> ImageIcon imageIcon;
    <span class="hljs-comment">// å›¾åƒUrl</span>
    <span class="hljs-keyword">final</span> URL imageUrl;
    Thread retrievalThread;
    <span class="hljs-type">boolean</span> <span class="hljs-variable">retrieving</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// å°†å›¾åƒçš„URLä¼ å…¥æ„é€ å™¨ä¸­ã€‚è¿™æ˜¯æˆ‘ä»¬å¸Œæœ›æ˜¾ç¤ºçš„å›¾åƒæ‰€åœ¨çš„ä½ç½®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ImageProxy</span><span class="hljs-params">(URL url)</span> {
        <span class="hljs-built_in">this</span>.imageUrl = url;
    }

    <span class="hljs-comment">// ImageIconè¢«ä¸¤ä¸ªä¸åŒçš„çº¿ç¨‹ä½¿ç”¨ï¼Œå› æ­¤ï¼Œé™¤äº†ä½¿å˜é‡volatileï¼ˆä¿æŠ¤è¯»å–ï¼‰å¤–ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨synchronizedï¼ˆä¿æŠ¤å†™å…¥ï¼‰ã€‚</span>
    <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setImageIcon</span><span class="hljs-params">(ImageIcon imageIcon)</span> {
        <span class="hljs-built_in">this</span>.imageIcon = imageIcon;
    }

    <span class="hljs-comment">/**
     * åœ¨å±å¹•ä¸Šç”»å‡ºä¸€ä¸ªIconå›¾åƒï¼ˆé€šè¿‡å§”æ‰˜ç»™ImageIconï¼‰
     * å¦‚æœImageIconæ²¡æœ‰è¢«å®Œæ•´åˆ›å»ºå‡ºæ¥ï¼Œé‚£å°±ç”±ImageProxyæ¥åˆ›å»ºä¸€ä¸ª
     * <span class="hljs-doctag">@param</span> c  a {<span class="hljs-doctag">@code</span> Component} to get properties useful for painting
     * <span class="hljs-doctag">@param</span> g  the graphics context
     * <span class="hljs-doctag">@param</span> x  the X coordinate of the icon's top-left corner
     * <span class="hljs-doctag">@param</span> y  the Y coordinate of the icon's top-left corner
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">paintIcon</span><span class="hljs-params">(Component c, Graphics g, <span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> {
        <span class="hljs-keyword">if</span> (imageIcon != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// å¦‚æœå·²ç»æœ‰ImageIconï¼Œå°±å‘Šè¯‰å®ƒç”»å‡ºè‡ªå·±</span>
            imageIcon.paintIcon(c, g, x, y);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ²¡æœ‰ImageIconï¼Œæ˜¾ç¤ºâ€œåŠ è½½ä¸­...â€çš„æ¶ˆæ¯</span>
            g.drawString(<span class="hljs-string">"Loading CD Cover, please wait..."</span>, x + <span class="hljs-number">300</span>, y + <span class="hljs-number">190</span>);
            <span class="hljs-comment">// å¦‚æœè¿˜æ²¡æœ‰è¯•ç€å–å‡ºå›¾åƒ</span>
            <span class="hljs-keyword">if</span> (!retrieving) {
                <span class="hljs-comment">// é‚£ä¹ˆå°±å¼€å§‹å–å‡ºå›¾åƒ</span>
                retrieving = <span class="hljs-literal">true</span>;
                <span class="hljs-comment">/*
                åœ¨è¿™é‡ŒåŠ è½½çœŸæ­£çš„iconå›¾åƒã€‚
                è¯·æ³¨æ„ï¼Œä½¿ç”¨ImageIconåŠ è½½å›¾åƒæ˜¯åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åœ¨å›¾åƒåŠ è½½å®Œä¹‹åï¼ŒImageIconæ„é€ å™¨æ‰ä¼šè¿”å›ã€‚
                è¿™æ ·ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¼šè€—åœ¨è¿™é‡Œï¼ŒåŠ¨å¼¹ä¸å¾—ï¼Œä¹Ÿæ²¡åŠæ³•æ˜¾ç¤ºæ¶ˆæ¯ã€‚æ‰€ä»¥æˆ‘ä»¬è¦ä½¿ç”¨å¼‚æ­¥çš„æ–¹å¼æ“ä½œï¼šä½¿ç”¨çº¿ç¨‹ã€‚
                 */</span>
                <span class="hljs-comment">// æˆ‘ä»¬ä¸å¸Œæœ›æŒ‚èµ·æ•´ä¸ªç”¨æˆ·ç•Œé¢ï¼Œæ‰€ä»¥ç”¨å¦ä¸€ä¸ªçº¿ç¨‹å–å‡ºå›¾åƒ</span>
                retrievalThread = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                        <span class="hljs-keyword">try</span> {
                            <span class="hljs-comment">// åœ¨çº¿ç¨‹ä¸­ï¼Œå®ä¾‹åŒ–æ­¤ImageIconå¯¹è±¡ï¼Œå…¶æ„é€ å™¨ä¼šåœ¨å›¾åƒåŠ è½½å®Œæˆååœ¨è¿”å›ã€‚</span>
                            setImageIcon(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageIcon</span>(imageUrl, <span class="hljs-string">"CD Cover"</span>));
                            <span class="hljs-comment">// å½“å›¾åƒå‡†å¤‡å¥½æ—¶ï¼Œæˆ‘ä»¬å‘Šè¯‰Swingï¼Œéœ€è¦é‡ç»˜ã€‚</span>
                            c.repaint();
                        } <span class="hljs-keyword">catch</span> (Exception e) {
                            e.printStackTrace();
                        }
                    }
                });
                retrievalThread.start();
            }
        }
    }

    <span class="hljs-comment">/**
     * åœ¨å›¾åƒåŠ è½½å®Œæ¯•å‰ï¼Œè¿”å›é»˜è®¤çš„å®½ã€‚
     * å›¾åƒåŠ è½½å®Œæ¯•åï¼Œäº¤ç»™ImageIconå¤„ç†
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getIconWidth</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (imageIcon != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> imageIcon.getIconWidth();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">800</span>;
    }

    <span class="hljs-comment">/**
     * åœ¨å›¾åƒåŠ è½½å®Œæ¯•å‰ï¼Œè¿”å›é»˜è®¤çš„é«˜ã€‚
     * å›¾åƒåŠ è½½å®Œæ¯•åï¼Œäº¤ç»™ImageIconå¤„ç†
     * <span class="hljs-doctag">@return</span>
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getIconHeight</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (imageIcon != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> imageIcon.getIconHeight();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">800</span>;
    }
}

<span class="hljs-comment">/**
 * è¿™æ˜¯æµ‹è¯•ç±»
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageProxyTest</span> {

    ImageComponent imageComponent;
    <span class="hljs-type">JFrame</span> <span class="hljs-variable">jFrame</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JFrame</span>(<span class="hljs-string">"CD Cover viewer"</span>);
    JMenuBar jMenuBar;
    JMenu jMenu;
    Hashtable&lt;String, String&gt; albums = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hashtable</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">ImageProxyTest</span> <span class="hljs-variable">imageProxyTest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageProxyTest</span>();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ImageProxyTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        albums.put(<span class="hljs-string">"Buddha"</span>,<span class="hljs-string">"https://cdn.stocksnap.io/img-thumbs/960w/brick-building_CNR0WYMVJX.jpg"</span>);
        albums.put(<span class="hljs-string">"Ama"</span>,<span class="hljs-string">"https://cdn.stocksnap.io/img-thumbs/960w/holding-glass_V0ZNGACCAS.jpg"</span>);
        albums.put(<span class="hljs-string">"Alex"</span>,<span class="hljs-string">"https://cdn.stocksnap.io/img-thumbs/960w/building-architecture_FFCNJ3BDFC.jpg"</span>);

        <span class="hljs-type">URL</span> <span class="hljs-variable">initialURL</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(albums.get(<span class="hljs-string">"Buddha"</span>));
        jMenuBar = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JMenuBar</span>();
        jMenu = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JMenu</span>(<span class="hljs-string">"Favorite Albums"</span>);
        jMenuBar.add(jMenu);
        jFrame.setJMenuBar(jMenuBar);
        <span class="hljs-keyword">for</span> (<span class="hljs-type">Enumeration</span> <span class="hljs-variable">e</span> <span class="hljs-operator">=</span> albums.keys(); e.hasMoreElements();) {
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) e.nextElement();
            <span class="hljs-type">JMenuItem</span> <span class="hljs-variable">jMenuItem</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JMenuItem</span>(name);
            jMenu.add(jMenuItem);
            jMenuItem.addActionListener(event -&gt; {
                imageComponent.setIcon(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageProxy</span>(getAlbumUrl(event.getActionCommand())));
                jFrame.repaint();
            });
        }
        <span class="hljs-comment">// set up frame and menus</span>
        <span class="hljs-type">Icon</span> <span class="hljs-variable">icon</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageProxy</span>(initialURL);
        imageComponent = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageComponent</span>(icon);
        jFrame.getContentPane().add(imageComponent);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        jFrame.setSize(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>);
        jFrame.setVisible(<span class="hljs-literal">true</span>);
    }

    URL <span class="hljs-title function_">getAlbumUrl</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">URL</span>(albums.get(name));
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
}

<span class="hljs-keyword">import</span> javax.swing.*;
<span class="hljs-keyword">import</span> java.awt.*;

<span class="hljs-comment">/**
 * å›¾ç‰‡ç»„ä»¶
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JComponent</span> {

    <span class="hljs-keyword">private</span> Icon icon;
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ImageComponent</span><span class="hljs-params">(Icon icon)</span> {
        <span class="hljs-built_in">this</span>.icon = icon;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setIcon</span><span class="hljs-params">(Icon icon)</span> {
        <span class="hljs-built_in">this</span>.icon = icon;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">paintComponent</span><span class="hljs-params">(Graphics g)</span> {
        <span class="hljs-built_in">super</span>.paintComponent(g);
        <span class="hljs-type">int</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> icon.getIconHeight();
        <span class="hljs-type">int</span> <span class="hljs-variable">w</span> <span class="hljs-operator">=</span> icon.getIconWidth();
        <span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> (<span class="hljs-number">800</span> - w) / <span class="hljs-number">2</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> (<span class="hljs-number">600</span> - h) / <span class="hljs-number">2</span>;
        icon.paintIcon(<span class="hljs-built_in">this</span>, g, x, y);
    }
}
</code></pre>
<ol>
<li>ImageProxyç±»ä»£ç†ImageIconç±»ï¼Œæ‰€ä»¥å®ƒåŒImageIconä¸€æ ·ï¼Œä¹Ÿå®ç°äº†Iconæ¥å£ã€‚</li>
<li>ImageProxyç±»æœ‰ä¸€ä¸ªImageIconç±»çš„å¼•ç”¨ã€‚</li>
<li><strong>å¦‚æœImageIconæ²¡æœ‰è¢«å®Œæ•´åˆ›å»ºå‡ºæ¥ï¼Œé‚£å°±ç”±ImageProxyæ¥åˆ›å»ºä¸€ä¸ªï¼Œå±å¹•ä¸Šæ˜¾ç¤ºâ€œè¯·ç¨å€™â€ã€‚å¦‚æœImageIconåˆ›å»ºå‡ºæ¥äº†ï¼Œå°±å°†ç»˜åˆ¶ä»»åŠ¡å§”æ‰˜ç»™ImageIconçš„å®ä¾‹ã€‚</strong></li>
<li>å› ä¸ºä¸å¸Œæœ›æŒ‚èµ·æ•´ä¸ªç”¨æˆ·ç•Œé¢ï¼Œæ‰€ä»¥ä½¿ç”¨å¼‚æ­¥ï¼ˆæ–°å¼€ä¸€ä¸ªçº¿ç¨‹ï¼‰çš„æ–¹å¼åŠ è½½å›¾ç‰‡å¹¶å®ä¾‹åŒ–ImageIconç±»ã€‚</li>
</ol>
<h3 data-id="heading-8">3ã€åŠ¨æ€ä»£ç†</h3>
<h4 data-id="heading-9">3.1 å®šä¹‰</h4>
<p>Javaåœ¨java.lang.reflectåŒ…ä¸­æœ‰è‡ªå·±çš„ä»£ç†æ”¯æŒï¼Œåˆ©ç”¨è¿™ä¸ªåŒ…ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„åˆ›å»ºä»£ç†ç±»ï¼Œå®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œå¹¶å°†æ–¹æ³•çš„è°ƒç”¨è½¬å‘åˆ°ä½ æ‰€æŒ‡å®šçš„ç±»ã€‚å› ä¸ºå®é™…çš„ä»£ç†ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ›å»ºçš„ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªJavaæŠ€æœ¯ä¸ºï¼šåŠ¨æ€ä»£ç†ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹åŠ¨æ€ä»£ç†çš„ç±»å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe6c76a6a9f546fc8981b76ab43b6f24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=GdwMrJtlXLrFdFtGWpc%2BahVzo3g%3D" alt="dynamic.png" loading="lazy"/></p>
<blockquote>
<p><strong>åè¯è§£é‡Š</strong><br/>
InvocationHandlerï¼šè°ƒç”¨å¤„ç†å™¨</p>
</blockquote>
<p>å› ä¸ºJavaå·²ç»ä¸ºä½ åˆ›å»ºäº†Proxyç±»ï¼Œæ‰€ä»¥ä½ éœ€è¦æœ‰åŠæ³•æ¥å‘Šè¯‰Proxyç±»ä½ è¦åšä»€ä¹ˆã€‚ä½ ä¸èƒ½åƒä»¥å‰ä¸€æ ·æŠŠä»£ç æ”¾åœ¨Proxyç±»ä¸­ï¼Œå› ä¸ºProxyä¸æ˜¯ä½ ç›´æ¥å®ç°çš„ã€‚æˆ‘ä»¬è¦æŠŠä»£ç æ”¾åœ¨InvocationHandlerä¸­ã€‚InvocationHandlerçš„å·¥ä½œæ˜¯å“åº”ä»£ç†çš„ä»»ä½•è°ƒç”¨ã€‚ä½ å¯ä»¥æŠŠInvocationHandleræƒ³è±¡æˆä»£ç†æ”¶åˆ°æ–¹æ³•è°ƒç”¨åï¼Œè¯·æ±‚åšå®é™…å·¥ä½œçš„å¯¹è±¡ã€‚</p>
<h4 data-id="heading-10">3.2 åˆ›å»ºåŠ¨æ€ä»£ç†</h4>
<p><strong>1. åˆ›å»ºInvocationHandler</strong><br/>
å½“ä»£ç†çš„æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¸ç®¡æ˜¯å“ªä¸ªæ–¹æ³•ï¼Œä»£ç†éƒ½ä¼šæŠŠè¿™ä¸ªè°ƒç”¨è½¬å‘ç»™InvocationHandlerï¼Œè°ƒç”¨å®ƒçš„invoke()æ–¹æ³•ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f5e5ca1972a4ef1ae9dabe25ade5111~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3OTM4MTY5MTI1NTM2MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769932223&amp;x-signature=iKxtsZ04%2BS4%2B0lA5BXd0gSx7nlM%3D" alt="dynamic2.png" loading="lazy"/>
<strong>2. åˆ›å»ºåŠ¨æ€ä»£ç†</strong><br/>
<strong>3. åˆ©ç”¨é€‚å½“çš„ä»£ç†åŒ…è£…çœŸå®å¯¹è±¡</strong></p>
<p>ä¸‹é¢æ¥çœ‹çœ‹ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PersonBean</span> {
    String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span>;
    String <span class="hljs-title function_">getGender</span><span class="hljs-params">()</span>;
    String <span class="hljs-title function_">getInterests</span><span class="hljs-params">()</span>;
    <span class="hljs-type">int</span> <span class="hljs-title function_">getHotOrNotRating</span><span class="hljs-params">()</span>;

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setGender</span><span class="hljs-params">(String gender)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setInterests</span><span class="hljs-params">(String interests)</span>;
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setHotOrNotRating</span><span class="hljs-params">(<span class="hljs-type">int</span> hotOrNotRating)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PersonBeanImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PersonBean</span> {
    String name;
    String gender;
    String interests;
    <span class="hljs-type">int</span> rating;
    <span class="hljs-type">int</span> <span class="hljs-variable">ratingCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;


    <span class="hljs-comment">// å…¶ä»–çš„gettersã€ setters</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getHotOrNotRating</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (rating == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> (rating / ratingCount);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setHotOrNotRating</span><span class="hljs-params">(<span class="hljs-type">int</span> hotOrNotRating)</span> {
        <span class="hljs-built_in">this</span>.rating += hotOrNotRating;
        <span class="hljs-built_in">this</span>.ratingCount++;
    }
}

<span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;
<span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;

<span class="hljs-comment">/**
 * PersonBeançš„åŠ¨æ€ä»£ç†
 * å…è®¸æ‹¥æœ‰è€…æŸ¥çœ‹è‡ªå·±çš„ä¿¡æ¯ã€è®¾ç½®è‡ªå·±çš„ä¿¡æ¯ã€ä½†æ˜¯ä¸èƒ½ç»™è‡ªå·±è¯„åˆ†
 *
 * æ‰€æœ‰è°ƒç”¨å¤„ç†å™¨éƒ½å®ç°äº†InvocationHandleræ¥å£
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OwnerInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {

    PersonBean personBean;
    <span class="hljs-comment">// å°†personBeanä¼ å…¥æ„é€ å™¨ï¼Œå¹¶ä¿æŒå®ƒçš„å¼•ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OwnerInvocationHandler</span><span class="hljs-params">(PersonBean personBean)</span> {
        <span class="hljs-built_in">this</span>.personBean = personBean;
    }

    <span class="hljs-comment">/**
     * æ¯æ¬¡proxyçš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œå°±ä¼šå¯¼è‡´proxyè°ƒç”¨æ­¤æ–¹æ³•
     * <span class="hljs-doctag">@param</span> proxy æ–¹æ³•è¢«è°ƒç”¨çš„ä»£ç†å®ä¾‹
     *
     * <span class="hljs-doctag">@param</span> method çœŸæ­£è°ƒç”¨çš„æ–¹æ³•
     *
     * <span class="hljs-doctag">@param</span> args æ–¹æ³•å‚æ•°
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (method.getName().startsWith(<span class="hljs-string">"get"</span>)) {
                <span class="hljs-keyword">return</span> method.invoke(personBean, args);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.getName().equals(<span class="hljs-string">"setHotOrNotRating"</span>)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalAccessException</span>();
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.getName().startsWith(<span class="hljs-string">"set"</span>)) {
                <span class="hljs-keyword">return</span> method.invoke(personBean, args);
            }
        } <span class="hljs-keyword">catch</span> (InvocationTargetException e) {
            <span class="hljs-comment">// å¦‚æœçœŸæ­£ä¸»é¢˜æŠ›å‡ºå¼‚å¸¸çš„è¯ï¼Œå°±ä¼šæ‰§è¡Œè¿™é‡Œ</span>
            e.printStackTrace();
        }
        <span class="hljs-comment">// å¦‚æœè°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œä¸€å¾‹ä¸å¤„ç†ï¼Œè¿”å›null</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;
<span class="hljs-keyword">import</span> java.lang.reflect.Proxy;

<span class="hljs-comment">/**
 * è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ç±»
 */</span>	
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MatchMarkingTest</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">MatchMarkingTest</span> <span class="hljs-variable">matchMarkingTest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MatchMarkingTest</span>();
        matchMarkingTest.drive();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">drive</span><span class="hljs-params">()</span> {
        <span class="hljs-type">PersonBean</span> <span class="hljs-variable">joe</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonBeanImpl</span>();
        joe.setName(<span class="hljs-string">"Joe JavaBean"</span>);
        joe.setGender(<span class="hljs-string">"man"</span>);
        joe.setInterests(<span class="hljs-string">"bowling, Go"</span>);
        joe.setHotOrNotRating(<span class="hljs-number">20</span>);

        <span class="hljs-type">PersonBean</span> <span class="hljs-variable">ownerProxy</span> <span class="hljs-operator">=</span> getOwnerProxy(joe);
        <span class="hljs-comment">// Proxy.isProxyClass åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªä»£ç†ç±»</span>
        System.out.println(<span class="hljs-string">"is proxy?"</span> + Proxy.isProxyClass(ownerProxy.getClass()));
        System.out.println(<span class="hljs-string">"is proxy?"</span> + Proxy.isProxyClass(joe.getClass()));

        System.out.println(<span class="hljs-string">"name is "</span> + ownerProxy.getName());
        System.out.println(<span class="hljs-string">"interests is "</span> + ownerProxy.getInterests());
        ownerProxy.setInterests(<span class="hljs-string">"balls"</span>);
        System.out.println(<span class="hljs-string">"interests is "</span> + ownerProxy.getInterests());
        <span class="hljs-keyword">try</span> {
            ownerProxy.setHotOrNotRating(<span class="hljs-number">30</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.out.println(<span class="hljs-string">"cannot set rating from owner proxy"</span>);
        }
        System.out.println(<span class="hljs-string">"hotOrNotRating is "</span> + ownerProxy.getHotOrNotRating());
    }

    <span class="hljs-comment">/**
     * æ­¤æ–¹æ³•éœ€è¦ä¸€ä¸ªPersonå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›å®ƒçš„ä»£ç†ã€‚
     * å› ä¸ºä»£ç†å’Œä¸»é¢˜æœ‰ç›¸åŒçš„æ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›ä¸€ä¸ªPersonBeanã€‚
     * <span class="hljs-doctag">@param</span> person
     * <span class="hljs-doctag">@return</span>
     */</span>
    PersonBean <span class="hljs-title function_">getOwnerProxy</span><span class="hljs-params">(PersonBean person)</span> {
        <span class="hljs-comment">// å°†personä¼ å…¥è°ƒç”¨å¤„ç†å™¨çš„æ„é€ å™¨ä¸­ã€‚è¿™æ­£æ˜¯å¤„ç†å™¨èƒ½å¤Ÿè®¿é—®RealSubjectçš„åŸå› </span>
        <span class="hljs-keyword">return</span> getProxy(person, <span class="hljs-keyword">new</span> <span class="hljs-title class_">OwnerInvocationHandler</span>(person));
    }

    <span class="hljs-comment">/**
     * æ­¤æ–¹æ³•åˆ›å»ºäº†ä»£ç†
     * <span class="hljs-doctag">@param</span> person
     * <span class="hljs-doctag">@param</span> handler
     * <span class="hljs-doctag">@return</span>
     */</span>
    PersonBean <span class="hljs-title function_">getProxy</span><span class="hljs-params">(PersonBean person, InvocationHandler handler)</span> {
        <span class="hljs-comment">// åˆ©ç”¨proxyç±»çš„é™æ€newProxyInstanceæ–¹æ³•åˆ›å»ºä»£ç†</span>
        <span class="hljs-comment">// å°†PersonBeançš„ç±»è½½å…¥å™¨å½“åšå‚æ•°</span>
        <span class="hljs-comment">// person.getClass().getInterfaces() æ˜¯ä»£ç†éœ€è¦å®ç°çš„æ¥å£</span>
        <span class="hljs-keyword">return</span> (PersonBean) Proxy.newProxyInstance(person.getClass().getClassLoader(), person.getClass().getInterfaces(), handler);
    }
}
</code></pre>
<h3 data-id="heading-11">4ã€å…¶ä»–çš„ä»£ç†æ¨¡å¼å˜ä½“</h3>
<ul>
<li>é˜²ç«å¢™ä»£ç†ï¼šæ§åˆ¶ç½‘ç»œèµ„æºçš„è®¿é—®ï¼Œä¿æŠ¤ä¸»é¢˜å…äºâ€œåå®¢æˆ·â€çš„ä¾µå®³ã€‚</li>
<li>æ™ºèƒ½å¼•ç”¨ä»£ç†ï¼šå½“ä¸»é¢˜è¢«å¼•ç”¨æ—¶ï¼Œè¿›è¡Œé¢å¤–çš„åŠ¨ä½œï¼Œä¾‹å¦‚è®¡ç®—ä¸€ä¸ªå¯¹è±¡è¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚</li>
<li>ç¼“å­˜ä»£ç†ï¼šä¸ºå¼€é”€å¤§çš„è¿ç®—ç»“æœæä¾›æš‚æ—¶å­˜å‚¨ï¼šå®ƒä¹Ÿå…è®¸å¤šä¸ªå®¢æˆ·å…±äº«ç»“æœï¼Œä»¥å‡å°‘è®¡ç®—æˆ–ç½‘ç»œå»¶è¿Ÿã€‚</li>
<li>åŒæ­¥ä»£ç†ï¼šåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ä¸ºä¸»é¢˜æä¾›å®‰å…¨çš„è®¿é—®ã€‚</li>
<li>å¤æ‚éšè—ä»£ç†ï¼šç”¨æ¥éšè—ä¸€ä¸ªç±»çš„å¤æ‚é›†åˆçš„å¤æ‚åº¦ï¼Œå¹¶è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚æœ‰æ—¶å€™ä¹Ÿç§°ä¸ºâ€œå¤–è§‚ä»£ç†â€ã€‚</li>
<li>å†™å…¥æ—¶å¤åˆ¶ä»£ç†ï¼šç”¨æ¥æ§åˆ¶å¯¹è±¡çš„å¤åˆ¶ï¼Œæ–¹æ³•æ˜¯å»¶è¿Ÿå¯¹è±¡çš„å¤åˆ¶ï¼Œç›´åˆ°å®¢æˆ·çœŸçš„éœ€è¦ä¸ºæ­¢ã€‚è¿™æ˜¯è™šæ‹Ÿä»£ç†çš„å˜ä½“ã€‚</li>
</ul>
<p><a href="https://juejin.cn/post/7595459486401871924" title="https://juejin.cn/post/7595459486401871924" target="_blank"><strong>å¤šç§æ¨¡å¼ä¹‹é—´çš„å¯¹æ¯”</strong></a></p>
<h2 data-id="heading-12">äºŒã€æ€»ç»“è¦ç‚¹</h2>
<ul>
<li>ä»£ç†æ¨¡å¼ä¸ºå¦ä¸€ä¸ªå¯¹è±¡æä¾›ä»£è¡¨ï¼Œä»¥ä¾¿æ§åˆ¶å®¢æˆ·å¯¹å¯¹è±¡çš„è®¿é—®ï¼Œç®¡ç†è®¿é—®çš„æ–¹å¼æœ‰è®¸å¤šç§ã€‚</li>
<li>è¿œç¨‹ä»£ç†ç®¡ç†å®¢æˆ·å’Œè¿œç¨‹å¯¹è±¡ä¹‹é—´çš„äº¤äº’ã€‚</li>
<li>è™šæ‹Ÿä»£ç†æ§åˆ¶è®¿é—®å®ä¾‹åŒ–å¼€é”€å¤§çš„å¯¹è±¡ã€‚</li>
<li>ä¿æŠ¤ä»£ç†åŸºäºè°ƒç”¨è€…æ§åˆ¶å¯¹å¯¹è±¡æ–¹æ³•çš„è®¿é—®ã€‚</li>
<li>ä»£ç†æ¨¡å¼æœ‰è®¸å¤šå˜ä½“ï¼Œä¾‹å¦‚ï¼šç¼“å­˜ä»£ç†ï¼ŒåŒæ­¥ä»£ç†ã€é˜²ç«å¢™ä»£ç†ã€å†™å…¥æ—¶å¤åˆ¶ä»£ç†ã€‚</li>
<li>ä»£ç†åœ¨ç»“æ„ä¸Šç±»ä¼¼è£…é¥°è€…ï¼Œä½†æ˜¯ç›®çš„ä¸åŒã€‚</li>
<li>è£…é¥°è€…æ¨¡å¼ä¸ºå¯¹è±¡åŠ ä¸Šè¡Œä¸ºï¼Œè€Œä»£ç†åˆ™æ˜¯æ§åˆ¶è®¿é—®ã€‚</li>
<li>Javaå†…ç½®çš„ä»£ç†æ”¯æŒï¼Œå¯ä»¥æ ¹æ®éœ€è¦å»ºç«‹åŠ¨æ€ä»£ç†ï¼Œå¹¶å°†æ‰€æœ‰è°ƒç”¨åˆ†é…åˆ°æ‰€é€‰çš„å¤„ç†å™¨ã€‚</li>
<li>å°±å’Œå…¶ä»–åŒ…è£…è€…ä¸€æ ·ï¼Œä»£ç†ä¼šé€ æˆä½ çš„è®¾è®¡ä¸­ç±»çš„æ•°ç›®å¢åŠ ã€‚</li>
</ul>
<h2 data-id="heading-13">ä¸‰ã€åº”ç”¨åœºæ™¯</h2>
<p>ä»£ç†æ¨¡å¼åœ¨SpringBootä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›ã€‚æ˜¯å®ç° <strong>é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰</strong> çš„æ ¸å¿ƒæœºåˆ¶ã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¿®æ”¹ä¸šåŠ¡åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼ŒåŠ¨æ€çš„ä¸ºå¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œä»è€Œå®ç°å…³æ³¨ç‚¹çš„åˆ†ç¦»ï¼Œæå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚</p>
<h3 data-id="heading-14">æ ¸å¿ƒåº”ç”¨åœºæ™¯</h3>
<p>ä»£ç†æ¨¡å¼åœ¨Spring Bootä¸­ä¸»è¦ç”¨äºå¤„ç†é‚£äº›ä¸æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ— å…³ï¼Œä½†åˆæ¨ªè·¨å¤šä¸ªæ¨¡å—çš„â€œæ¨ªåˆ‡å…³æ³¨ç‚¹â€ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>äº‹åŠ¡ç®¡ç†ï¼šé€šè¿‡@Transactionalæ³¨è§£ï¼ŒSpringä¼šè‡ªåŠ¨ä¸ºæ–¹æ³•åˆ›å»ºä»£ç†ï¼Œåœ¨æ–¹æ³•æ‰§è¡Œå‰åè‡ªåŠ¨ç®¡ç†æ•°æ®åº“äº‹åŠ¡çš„å¼€å¯ã€æäº¤æˆ–å›æ»šã€‚</li>
<li>æ—¥å¿—è®°å½•ï¼šå¯ä»¥åœ¨æ–¹æ³•è°ƒç”¨å‰åè‡ªåŠ¨è®°å½•æ‰§è¡Œæ—¶é—´ã€å‚æ•°ã€è¿”å›å€¼ç­‰ä¿¡æ¯ï¼Œä¾¿äºç³»ç»Ÿç›‘æ§å’Œé—®é¢˜æ’æŸ¥ã€‚</li>
<li>å®‰å…¨æ§åˆ¶ï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰æ£€æŸ¥ç”¨æˆ·æƒé™ï¼Œå®ç°æ–¹æ³•çº§åˆ«çš„è®¿é—®æ§åˆ¶ã€‚</li>
<li>æ€§èƒ½ç›‘æ§ï¼šç»Ÿè®¡ç‰¹å®šæ–¹æ³•çš„æ‰§è¡Œè€—æ—¶ï¼Œç”¨äºæ€§èƒ½åˆ†æã€‚</li>
<li>ç¼“å­˜ç®¡ç†ï¼šé€šè¿‡@Cacheableç­‰æ³¨è§£ï¼Œä»£ç†å±‚å¯ä»¥åˆ¤æ–­ç»“æœæ˜¯å¦å·²ç¼“å­˜ï¼Œé¿å…é‡å¤è®¡ç®—ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3ä¸­watchå¦‚ä½•é«˜æ•ˆç›‘å¬å¤šæ•°æ®æºã€è®¡ç®—ç»“æœä¸æ•°ç»„å˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598881914201931826</link>    <guid>https://juejin.cn/post/7598881914201931826</guid>    <pubDate>2026-01-25T07:48:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598881914201931826" data-draft-id="7598827641307627571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue 3ä¸­watchå¦‚ä½•é«˜æ•ˆç›‘å¬å¤šæ•°æ®æºã€è®¡ç®—ç»“æœä¸æ•°ç»„å˜åŒ–ï¼Ÿ  "/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Trae"/> <meta itemprop="datePublished" content="2026-01-25T07:48:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="kknone"/> <meta itemprop="url" content="https://juejin.cn/user/1366025597879930"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue 3ä¸­watchå¦‚ä½•é«˜æ•ˆç›‘å¬å¤šæ•°æ®æºã€è®¡ç®—ç»“æœä¸æ•°ç»„å˜åŒ–ï¼Ÿ  
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1366025597879930/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    kknone
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T07:48:07.000Z" title="Sun Jan 25 2026 07:48:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤šæ•°æ®æºç›‘å¬</h2>
<p>åœ¨Vue 3ä¸­ï¼Œ<code>watch</code> å…è®¸æˆ‘ä»¬åŒæ—¶ç›‘å¬å¤šä¸ªå“åº”å¼æ•°æ®æºï¼Œå½“å…¶ä¸­ä»»æ„ä¸€ä¸ªæ•°æ®æºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½ä¼šè§¦å‘å›è°ƒå‡½æ•°ã€‚è¿™åœ¨éœ€è¦åŒæ­¥å¤„ç†å¤šä¸ªæ•°æ®å˜åŒ–çš„åœºæ™¯ä¸­éå¸¸å®ç”¨ï¼Œæ¯”å¦‚è¡¨å•å¤šå­—æ®µè”åŠ¨éªŒè¯ã€å¤šæ¡ä»¶ç»„åˆç­›é€‰ç­‰ã€‚</p>
<h3 data-id="heading-1">åŸºæœ¬ç”¨æ³•</h3>
<p>æˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªæ•°æ®æºï¼ˆrefã€reactiveå¯¹è±¡æˆ–getterå‡½æ•°ï¼‰æ”¾å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œä½œä¸º<code>watch</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰€æœ‰æ•°æ®æºçš„æ–°å€¼ç»„æˆçš„æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ—§å€¼ç»„æˆçš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// å®šä¹‰å¤šä¸ªå“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">const</span> username = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> password = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> rememberMe = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// åŒæ—¶ç›‘å¬ä¸‰ä¸ªæ•°æ®æº</span>
<span class="hljs-title function_">watch</span>(
  [username, password, rememberMe],
  <span class="hljs-function">(<span class="hljs-params">[newUsername, newPassword, newRememberMe], [oldUsername, oldPassword, oldRememberMe]</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç”¨æˆ·åä» <span class="hljs-subst">${oldUsername}</span> å˜ä¸º <span class="hljs-subst">${newUsername}</span>`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¯†ç ä» <span class="hljs-subst">${oldPassword}</span> å˜ä¸º <span class="hljs-subst">${newPassword}</span>`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®°ä½æˆ‘çŠ¶æ€ä» <span class="hljs-subst">${oldRememberMe}</span> å˜ä¸º <span class="hljs-subst">${newRememberMe}</span>`</span>)
    
    <span class="hljs-comment">// å®é™…åœºæ™¯ä¸­å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œè¡¨å•éªŒè¯</span>
    <span class="hljs-keyword">if</span> (newUsername &amp;&amp; newPassword) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¡¨å•å­—æ®µå·²å¡«å†™å®Œæ•´'</span>)
    }
  }
)
</code></pre>
<h3 data-id="heading-2">æ‰§è¡Œæµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
A[å®šä¹‰å¤šä¸ªå“åº”å¼æ•°æ®] --&gt; B[å°†æ•°æ®æºæ”¾å…¥æ•°ç»„ä½œä¸ºwatchçš„ç›‘å¬æº]
B --&gt; C[ä»»æ„æ•°æ®æºå‘ç”Ÿå˜åŒ–]
C --&gt; D[è§¦å‘å›è°ƒå‡½æ•°]
D --&gt; E[è§£æ„æ–°å€¼å’Œæ—§å€¼æ•°ç»„ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘]
</code></pre>
<hr/>
<h2 data-id="heading-3">Getterå‡½æ•°ç›‘å¬</h2>
<p>å½“æˆ‘ä»¬éœ€è¦ç›‘å¬çš„ç›®æ ‡ä¸æ˜¯ç›´æ¥çš„å“åº”å¼æ•°æ®ï¼Œè€Œæ˜¯åŸºäºå“åº”å¼æ•°æ®è®¡ç®—å‡ºçš„å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>getterå‡½æ•°</strong>ä½œä¸º<code>watch</code>çš„ç›‘å¬æºã€‚è¿™ç§æ–¹å¼è®©æˆ‘ä»¬èƒ½å¤Ÿçµæ´»å®šä¹‰ç›‘å¬çš„è®¡ç®—é€»è¾‘ã€‚</p>
<h3 data-id="heading-4">åŸºæœ¬ç”¨æ³•</h3>
<p>Getterå‡½æ•°éœ€è¦è¿”å›æˆ‘ä»¬æƒ³è¦ç›‘å¬çš„è®¡ç®—ç»“æœï¼Œå½“è¿™ä¸ªç»“æœå‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>watch</code>å°±ä¼šè§¦å‘å›è°ƒå‡½æ•°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// å®šä¹‰å“åº”å¼çŠ¶æ€å¯¹è±¡</span>
<span class="hljs-keyword">const</span> cart = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">items</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue 3 å®æˆ˜æ•™ç¨‹'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">59</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">1</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Vuex ä»å…¥é—¨åˆ°ç²¾é€š'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">39</span>, <span class="hljs-attr">quantity</span>: <span class="hljs-number">2</span> }
  ]
})

<span class="hljs-comment">// ç›‘å¬è´­ç‰©è½¦çš„æ€»é‡‘é¢</span>
<span class="hljs-title function_">watch</span>(
  <span class="hljs-comment">// Getterå‡½æ•°ï¼šè®¡ç®—æ€»é‡‘é¢</span>
  <span class="hljs-function">() =&gt;</span> cart.<span class="hljs-property">items</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, item</span>) =&gt;</span> total + item.<span class="hljs-property">price</span> * item.<span class="hljs-property">quantity</span>, <span class="hljs-number">0</span>),
  <span class="hljs-function">(<span class="hljs-params">newTotal, oldTotal</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è´­ç‰©è½¦æ€»é‡‘é¢ä» <span class="hljs-subst">${oldTotal}</span> å…ƒå˜ä¸º <span class="hljs-subst">${newTotal}</span> å…ƒ`</span>)
    
    <span class="hljs-comment">// å®é™…åœºæ™¯ä¸­å¯ä»¥åœ¨è¿™é‡Œæ›´æ–°ç»“ç®—æŒ‰é’®çŠ¶æ€æˆ–æ˜¾ç¤ºä¼˜æƒ ä¿¡æ¯</span>
    <span class="hljs-keyword">if</span> (newTotal &gt;= <span class="hljs-number">100</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ»¡è¶³æ»¡å‡æ¡ä»¶ï¼Œå¯äº«å—10å…ƒä¼˜æƒ '</span>)
    }
  }
)

<span class="hljs-comment">// ä¿®æ”¹è´­ç‰©è½¦å•†å“æ•°é‡ï¼Œè§¦å‘watch</span>
cart.<span class="hljs-property">items</span>[<span class="hljs-number">0</span>].<span class="hljs-property">quantity</span> = <span class="hljs-number">2</span>
</code></pre>
<h3 data-id="heading-5">æ‰§è¡Œæµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
A[å®šä¹‰å“åº”å¼å¯¹è±¡] --&gt; B[åˆ›å»ºgetterå‡½æ•°ï¼Œè¿”å›è®¡ç®—åçš„å€¼]
B --&gt; C[å°†getterå‡½æ•°ä½œä¸ºwatchçš„ç›‘å¬æº]
C --&gt; D[è®¡ç®—å€¼å‘ç”Ÿå˜åŒ–]
D --&gt; E[è§¦å‘å›è°ƒå‡½æ•°]
E --&gt; F[å¤„ç†æ–°çš„è®¡ç®—ç»“æœ]
</code></pre>
<hr/>
<h2 data-id="heading-6">æ•°ç»„ç›‘å¬</h2>
<p>åœ¨Vue 3ä¸­ç›‘å¬æ•°ç»„éœ€è¦æ³¨æ„ä¸€äº›ç»†èŠ‚ï¼Œå› ä¸ºVueçš„å“åº”å¼ç³»ç»Ÿå¯¹æ•°ç»„çš„å¤„ç†å’Œæ™®é€šå¯¹è±¡æœ‰æ‰€ä¸åŒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>watch</code>ä¼šç›‘å¬æ•°ç»„çš„å¼•ç”¨å˜åŒ–å’Œæ•°ç»„æ–¹æ³•ï¼ˆå¦‚<code>push</code>ã€<code>pop</code>ã€<code>splice</code>ç­‰ï¼‰çš„è°ƒç”¨ï¼Œä½†ä¸ä¼šç›‘å¬æ•°ç»„å…ƒç´ çš„ç›´æ¥ç´¢å¼•ä¿®æ”¹ã€‚</p>
<details>
<summary>å¾€æœŸæ–‡ç« å½’æ¡£</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F8e70552f0f61e0dc8c7f567a2d272345%2F" target="_blank" title="https://blog.cmdragon.cn/posts/8e70552f0f61e0dc8c7f567a2d272345/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchç›‘å¬refå’Œreactiveçš„æ ¸å¿ƒå·®å¼‚ä¸æ³¨æ„äº‹é¡¹æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fdde70ab90dc5062c435e0501f5a6e7cb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/dde70ab90dc5062c435e0501f5a6e7cb/" ref="nofollow noopener noreferrer">Vue3ä¸­Watchä¸watchEffectçš„æ ¸å¿ƒå·®å¼‚åŠé€‚ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1f5ed5047850ed52c0fd0386f76bd4ae%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1f5ed5047850ed52c0fd0386f76bd4ae/" ref="nofollow noopener noreferrer">Vue 3è‡ªå®šä¹‰æŒ‡ä»¤å¦‚ä½•èµ‹èƒ½è¡¨å•è‡ªåŠ¨èšç„¦ä¸é˜²æŠ–è¾“å…¥çš„é«˜æ•ˆå®ç°ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe3d4e128815ad731611b8ef29e37616b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e3d4e128815ad731611b8ef29e37616b/" ref="nofollow noopener noreferrer">Vue3ä¸­å¦‚ä½•ä¼˜é›…å®ç°æ”¯æŒå¤šç»‘å®šå˜é‡å’Œä¿®é¥°ç¬¦çš„åŒå‘ç»‘å®šç»„ä»¶ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7d1caedd822f70542aa0eed67e30963b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7d1caedd822f70542aa0eed67e30963b/" ref="nofollow noopener noreferrer">Vue 3è¡¨å•éªŒè¯å¦‚ä½•ä»åŸºç¡€è§„åˆ™åˆ°å¼‚æ­¥äº¤äº’æ„å»ºå®Œæ•´éªŒè¯ä½“ç³»ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F3687a5437ab56cb082b5b813d5577a40%2F" target="_blank" title="https://blog.cmdragon.cn/posts/3687a5437ab56cb082b5b813d5577a40/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿå¦‚ä½•æ”¯æ’‘è¡¨å•æ•°æ®çš„é›†ä¸­ç®¡ç†ã€åŠ¨æ€æ‰©å±•ä¸å®æ—¶è®¡ç®—ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fad67c4eb6d76cf7707bdfe6a8146c34f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ad67c4eb6d76cf7707bdfe6a8146c34f/" ref="nofollow noopener noreferrer">Vue3è·¨ç»„ä»¶é€šä¿¡ä¸­ï¼Œå…¨å±€äº‹ä»¶æ€»çº¿ä¸provide/injectè¯¥å¦‚ä½•æ­£ç¡®é€‰æ‹©ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1c1e80d697cca0923f29ec70ebb8ccd1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1c1e80d697cca0923f29ec70ebb8ccd1/" ref="nofollow noopener noreferrer">Vue3è¡¨å•äº‹ä»¶å¤„ç†ï¼šv-modelå¦‚ä½•å®ç°æ•°æ®ç»‘å®šã€éªŒè¯ä¸æäº¤ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb990828143d70aa87f9aa52e16692e48%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b990828143d70aa87f9aa52e16692e48/" ref="nofollow noopener noreferrer">Vueåº”ç”¨å¦‚ä½•åŸºäºDOMäº‹ä»¶ä¼ æ’­æœºåˆ¶ä¸äº‹ä»¶ä¿®é¥°ç¬¦å®ç°é«˜æ•ˆäº‹ä»¶å¤„ç†ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb44316e0866e9f2e6aef927dbcf5152b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b44316e0866e9f2e6aef927dbcf5152b/" ref="nofollow noopener noreferrer">Vue3ä¸­å¦‚ä½•åœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°æ—¶åŒæ—¶ä¼ é€’è‡ªå®šä¹‰å‚æ•°å’ŒåŸç”ŸDOMäº‹ä»¶ï¼Ÿå‚æ•°é¡ºåºæœ‰å“ªäº›æ³¨æ„äº‹é¡¹ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F021636c2a06f5e2d3d01977a12ddf559%2F" target="_blank" title="https://blog.cmdragon.cn/posts/021636c2a06f5e2d3d01977a12ddf559/" ref="nofollow noopener noreferrer">ä»æ•è·åˆ°å†’æ³¡ï¼šVueäº‹ä»¶ä¿®é¥°ç¬¦å¦‚ä½•é‡å¡‘äº‹ä»¶æ‰§è¡Œé¡ºåºï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb3cddf7023ab537e623a61bc01dab6bb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b3cddf7023ab537e623a61bc01dab6bb/" ref="nofollow noopener noreferrer">Vueäº‹ä»¶å¤„ç†ï¼šå†…è”è¿˜æ˜¯æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ï¼Œè¯¥å¦‚ä½•æŠ‰æ‹©ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd4d9607ce1bc34cc3bda0a1a46c40f6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd4d9607ce1bc34cc3bda0a1a46c40f6/" ref="nofollow noopener noreferrer">Vueäº‹ä»¶ç»‘å®šä¸­v-onä¸@è¯­æ³•å¦‚ä½•å–èˆï¼Ÿå‚æ•°ä¼ é€’ä¸åŸç”Ÿäº‹ä»¶å¤„ç†æœ‰å“ªäº›å®æˆ˜æŠ€å·§ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa5f2bacb74476fd7f5e02bb3f1ba6b2b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a5f2bacb74476fd7f5e02bb3f1ba6b2b/" ref="nofollow noopener noreferrer">Vue 3ä¸­åˆ—è¡¨æ’åºæ—¶ä¸ºä½•å¿…é¡»å¤åˆ¶æ•°ç»„è€Œéç›´æ¥ä¿®æ”¹åŸå§‹æ•°æ®ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd3b06b57fb7f126787e6ed22dce1e341%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d3b06b57fb7f126787e6ed22dce1e341/" ref="nofollow noopener noreferrer">Vueè™šæ‹Ÿæ»šåŠ¨å¦‚ä½•å°†åˆ—è¡¨DOMæ•°é‡ä»ä¸‡çº§é™è‡³åä½æ•°ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F3100cc5a2e16f8dac36f722594e6af32%2F" target="_blank" title="https://blog.cmdragon.cn/posts/3100cc5a2e16f8dac36f722594e6af32/" ref="nofollow noopener noreferrer">Vue3ä¸­v-ifä¸v-forç›´æ¥æ··ç”¨ä¸ºä½•ä¼šæŠ¥é”™ï¼Ÿè®¡ç®—å±æ€§å¦‚ä½•è§£å†³ä¼˜å…ˆçº§å†²çªï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F455dc2d47c38d12c1cf350e490041e8b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/455dc2d47c38d12c1cf350e490041e8b/" ref="nofollow noopener noreferrer">ä¸ºä½•åœ¨Vue3é€’å½’ç»„ä»¶ä¸­å¿…é¡»ç”¨v-ifåˆ¤æ–­å­é¡¹å­˜åœ¨ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F3f842bbd7ba0f9c91151b983bf784c8b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/3f842bbd7ba0f9c91151b983bf784c8b/" ref="nofollow noopener noreferrer">Vue3åˆ—è¡¨æ¸²æŸ“ä¸­ï¼Œå¦‚ä½•ç”¨æ•°ç»„æ–¹æ³•ä¸è®¡ç®—å±æ€§ä¼˜åŒ–v-forçš„æ•°æ®å¤„ç†ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1eb3ffac668a743843b5ea1738301d40%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1eb3ffac668a743843b5ea1738301d40/" ref="nofollow noopener noreferrer">Vue v-forçš„keyï¼šä¸ºä»€ä¹ˆå®ƒèƒ½è§£å†³åˆ—è¡¨æ¸²æŸ“ä¸­çš„â€œç„å­¦é”™è¯¯â€ï¼Ÿé€‰é”™ä¼šæœ‰å“ªäº›åæœï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F138b13c5341f6a1fa9015400433a3611%2F" target="_blank" title="https://blog.cmdragon.cn/posts/138b13c5341f6a1fa9015400433a3611/" ref="nofollow noopener noreferrer">Vue3ä¸­v-forä¸v-ifä¸ºä½•ä¸èƒ½ç›´æ¥å…±å­˜äºåŒä¸€å…ƒç´ ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0242a94dc552b93a1bc335ac4fc33db5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0242a94dc552b93a1bc335ac4fc33db5/" ref="nofollow noopener noreferrer">Vue3ä¸­v-ifä¸v-showçš„æœ¬è´¨åŒºåˆ«åŠåŠ¨æ€ç»„ä»¶çŠ¶æ€ä¿æŒçš„å…³é”®ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F97c66a18ae0e9b57c6a69b8b3a41ddf6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/97c66a18ae0e9b57c6a69b8b3a41ddf6/" ref="nofollow noopener noreferrer">Vue3ä¸­v-showå¦‚ä½•é€šè¿‡CSSä¿®æ”¹displayå±æ€§æ§åˆ¶æ¡ä»¶æ˜¾ç¤ºï¼Ÿä¸v-ifçš„åº”ç”¨åœºæ™¯è¯¥å¦‚ä½•åŒºåˆ†ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F8a1ddfac64b25062ac56403e4c1201d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/8a1ddfac64b25062ac56403e4c1201d2/" ref="nofollow noopener noreferrer">Vue3æ¡ä»¶æ¸²æŸ“ä¸­v-ifç³»åˆ—æŒ‡ä»¤å¦‚ä½•åˆç†ä½¿ç”¨ä¸è§„é¿é”™è¯¯ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F218c3a59282c3b757447ee08a01937bb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/218c3a59282c3b757447ee08a01937bb/" ref="nofollow noopener noreferrer">Vue3åŠ¨æ€æ ·å¼æ§åˆ¶ï¼šrefã€reactiveã€watchä¸computedçš„åº”ç”¨åœºæ™¯ä¸åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1bab953e41f66ac53de099fa9fe76483%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1bab953e41f66ac53de099fa9fe76483/" ref="nofollow noopener noreferrer">Vue3ä¸­åŠ¨æ€æ ·å¼æ•°ç»„çš„åé¡¹è¦†ç›–è§„åˆ™å¦‚ä½•ä¸è®¡ç®—å±æ€§ç»“åˆå®ç°å¤æ‚çŠ¶æ€æ ·å¼ç®¡ç†ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc85e1fe16a7ae45e965b4e2df4d9d2f4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c85e1fe16a7ae45e965b4e2df4d9d2f4/" ref="nofollow noopener noreferrer">Vueæµ…å“åº”å¼å¦‚ä½•è§£å†³æ·±å±‚å“åº”å¼çš„æ€§èƒ½é—®é¢˜ï¼Ÿé€‚ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbe04b02d2723994632de0d4ca22a3391%2F" target="_blank" title="https://blog.cmdragon.cn/posts/be04b02d2723994632de0d4ca22a3391/" ref="nofollow noopener noreferrer">Vue 3ç»„åˆå¼APIä¸­refä¸reactiveçš„æ ¸å¿ƒå“åº”å¼å·®å¼‚åŠä½¿ç”¨æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa0af08dd60a37b9a890a9957f2cbfc9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a0af08dd60a37b9a890a9957f2cbfc9f/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå¯¹è±¡æ–°å¢å±æ€§ã€æ•°ç»„æ”¹ç´¢å¼•ã€åŸå§‹å€¼ä»£ç†çš„é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbc287e1e36287afd90750fd907eca85e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bc287e1e36287afd90750fd907eca85e/" ref="nofollow noopener noreferrer">Vue 3ä¸­watchä¾¦å¬å™¨çš„æ­£ç¡®ä½¿ç”¨å§¿åŠ¿ä½ æŒæ¡äº†å—ï¼Ÿæ·±åº¦ç›‘å¬ã€ä¸watchEffectçš„å·®å¼‚åŠå¸¸è§æŠ¥é”™è§£æ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F654b9447ef1ba7ec1126a1bc26a4726d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/654b9447ef1ba7ec1126a1bc26a4726d/" ref="nofollow noopener noreferrer">Vueå“åº”å¼å£°æ˜çš„APIå·®å¼‚ã€åº•å±‚åŸç†ä¸å¸¸è§é™·é˜±ä½ éƒ½ææ‡‚äº†å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc405a8d9950af5b7c63b56c348ac36b6%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c405a8d9950af5b7c63b56c348ac36b6/" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆVue 3éœ€è¦refå‡½æ•°ï¼Ÿå®ƒçš„å“åº”å¼åŸç†ä¸æ­£ç¡®ç”¨æ³•æ˜¯ä»€ä¹ˆï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa7e9abb9691a81e4404d9facabe0f7c3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a7e9abb9691a81e4404d9facabe0f7c3/" ref="nofollow noopener noreferrer">Vue 3ä¸­reactiveå‡½æ•°å¦‚ä½•é€šè¿‡Proxyå®ç°å“åº”å¼ï¼Ÿä½¿ç”¨æ—¶è¦é¿å¼€å“ªäº›è¯¯åŒºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbd995ea45161727597fb85b62566c43d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bd995ea45161727597fb85b62566c43d/" ref="nofollow noopener noreferrer">Vue3å“åº”å¼ç³»ç»Ÿçš„åº•å±‚åŸç†ä¸å®è·µè¦ç‚¹ä½ çœŸçš„æ‡‚å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F53e3f270a80675df662c6857a3332c0f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/53e3f270a80675df662c6857a3332c0f/" ref="nofollow noopener noreferrer">Vue 3æ¨¡æ¿å¦‚ä½•é€šè¿‡ç¼–è¯‘ä¸‰é˜¶æ®µå®ç°ä»å£°æ˜å¼è¯­æ³•åˆ°é«˜æ•ˆæ¸²æŸ“çš„è·¨è¶Š - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fddbce4f2a23aa72c96b1c0473900321e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ddbce4f2a23aa72c96b1c0473900321e/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿å¼•ç”¨ï¼šä»æ”¶DOMâ€œå¿«é€’â€åˆ°è°ƒå­ç»„ä»¶æ–¹æ³•ï¼Œä½ ç©æ˜ç™½äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F23a2d5a334e15575277814c16e45df50%2F" target="_blank" title="https://blog.cmdragon.cn/posts/23a2d5a334e15575277814c16e45df50/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueæ¨¡æ¿é‡Œçš„JSè¡¨è¾¾å¼æœ‰å•¥ä¸èƒ½ç¢°ï¼Ÿè®¡ç®—å±æ€§ä¸ºå•¥æ¯”æ–¹æ³•æ›´èƒ½æ‰“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6be38de6382e31d282659b689c5b17f0%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6be38de6382e31d282659b689c5b17f0/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vueçš„v-modelè¡¨å•ç»‘å®šï¼šè¯­æ³•ç³–ã€åŠ¨æ€å€¼ã€ä¿®é¥°ç¬¦çš„å°æŠ€å·§ä½ éƒ½æŒæ¡äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F60ce517684f4a418f453d66aa805606c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/60ce517684f4a418f453d66aa805606c/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3äº‹ä»¶å¤„ç†çš„æŒ‘æˆ˜é¢˜ï¼šv-onã€ä¿®é¥°ç¬¦ã€è‡ªå®šä¹‰äº‹ä»¶ä½ èƒ½é€šå…³å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe4ae7d5e4a9205bb11b2baccb230c637%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e4ae7d5e4a9205bb11b2baccb230c637/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3çš„v-æŒ‡ä»¤ï¼šæ•°æ®å’ŒDOMçš„â€œç¿»è¯‘å®˜â€åˆ°åº•æœ‰å¤šå°‘æœ¬äº‹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F999ce4fb32259ff4fbf4bf7bcb851654%2F" target="_blank" title="https://blog.cmdragon.cn/posts/999ce4fb32259ff4fbf4bf7bcb851654/" ref="nofollow noopener noreferrer">å¿«é€Ÿå…¥é—¨Vue3ï¼Œæ’å€¼ã€åŠ¨æ€ç»‘å®šå’Œé¿å‘æŠ€å·§ä½ éƒ½ææ‡‚äº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fa6997d81b49cd232b87e1cf603888ad1%2F" target="_blank" title="https://blog.cmdragon.cn/posts/a6997d81b49cd232b87e1cf603888ad1/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLå¿«åˆ°é£èµ·ï¼Ÿå…ˆæ‰¾å¥åº·å¯†ç è¿˜æ˜¯å…ˆæ¢å¼•æ“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F1fee7afbb9abd4540b8aa9c141d6845d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/1fee7afbb9abd4540b8aa9c141d6845d/" ref="nofollow noopener noreferrer">æƒ³è®©PostgreSQLæŸ¥è¯¢å¿«åˆ°é£èµ·ï¼Ÿåˆ†åŒºè¡¨ã€ç‰©åŒ–è§†å›¾ã€å¹¶è¡ŒæŸ¥è¯¢è¿™ä¸‰æ‹›çµä¸çµï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F79c590fbd87ece535b11a71c9667884f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/79c590fbd87ece535b11a71c9667884f/" ref="nofollow noopener noreferrer">å­æŸ¥è¯¢æ€»æ‹–æ…¢æŸ¥è¯¢ï¼ŸæŠŠå®ƒå˜æˆè¿æ¥å°±èƒ½è§£å†³ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F748cdac2536008199abf8a8a2cd0ec85%2F" target="_blank" title="https://blog.cmdragon.cn/posts/748cdac2536008199abf8a8a2cd0ec85/" ref="nofollow noopener noreferrer">PostgreSQLå…¨è¡¨æ‰«ææ…¢åˆ°å´©æºƒï¼Ÿå»ºç´¢å¼•+æ”¹æŸ¥è¯¢+æ›´ç»Ÿè®¡ä¿¡æ¯ä¸‰æ‹›èƒ½ç ´ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F32ca943703226d317d4276a8fb53b0dd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/32ca943703226d317d4276a8fb53b0dd/" ref="nofollow noopener noreferrer">å¤æ‚æŸ¥è¯¢æ€»æ‹–åè…¿ï¼ŸPostgreSQLå¤šåˆ—ç´¢å¼•+è¦†ç›–ç´¢å¼•çš„ç¥ä»™æŠ€å·§ä½ getæ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fca93f1d53aa910e7ba5ffd8df611c12b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ca93f1d53aa910e7ba5ffd8df611c12b/" ref="nofollow noopener noreferrer">åªç»™è¡¨å­é›†å»ºç´¢å¼•ï¼Ÿç”¨å‡½æ•°ç»“æœå»ºç´¢å¼•ï¼ŸPostgreSQLè¿™ä¿©æ“ä½œå‡­å•¥èƒ½çœç©ºé—´åˆåŠ é€Ÿï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Ff507856ebfddd592448813c510a53669%2F" target="_blank" title="https://blog.cmdragon.cn/posts/f507856ebfddd592448813c510a53669/" ref="nofollow noopener noreferrer">B-treeç´¢å¼•åƒå­—å…¸æŸ¥è¯ä¸€æ ·å·¥ä½œï¼Ÿé‚£å“ªäº›æ•°æ®åº“æŸ¥è¯¢å®ƒèƒ½åŠ é€Ÿï¼Œå“ªäº›ä¸èƒ½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb2213bfcb5b88a862f2138404c03d596%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b2213bfcb5b88a862f2138404c03d596/" ref="nofollow noopener noreferrer">æƒ³æŠ“PostgreSQLé‡Œçš„æ…¢SQLï¼Ÿpg_stat_statementsåŸºç¡€é»‘åŒ£å­å’Œpg_stat_monitoræ—¶é—´çª—ï¼Œè°èƒ½å¸®ä½ æ›´å‡†æªå‡ºæ€§èƒ½å°å·ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F26614eb7da6c476dde41d367ad888d2f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/26614eb7da6c476dde41d367ad888d2f/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œæ—¶å…‰æœºâ€MVCCå’Œé”æœºåˆ¶æ˜¯æ€ä¹ˆæå®šé«˜å¹¶å‘çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F69f99bc6972a860d559c74aad7280da4%2F" target="_blank" title="https://blog.cmdragon.cn/posts/69f99bc6972a860d559c74aad7280da4/" ref="nofollow noopener noreferrer">PostgreSQLæ€§èƒ½æš´æ¶¨çš„å…³é”®ï¼Ÿå†…å­˜IOå¹¶å‘å‚æ•°å±…ç„¶è¦è¿™ä¹ˆè®¾ç½®ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F7b7053f392147a8b3b1a16bebeb08d0a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/7b7053f392147a8b3b1a16bebeb08d0a/" ref="nofollow noopener noreferrer">å¤§è¡¨æŸ¥è¯¢æ…¢åˆ°ç¿»éæ•´ä¸ªä¹¦æ¶ï¼ŸPostgreSQLåˆ†åŒºè¡¨æ•™ä½ æ€ä¹ˆâ€œåˆ†ç±»â€æ‰é«˜æ•ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc856e3cb073822349f3bf2d29995dcfc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c856e3cb073822349f3bf2d29995dcfc/" ref="nofollow noopener noreferrer">PostgreSQL æŸ¥è¯¢æ…¢ï¼Ÿæ˜¯ä¸æ˜¯å¿˜äº†ä¼˜åŒ– GROUP BYã€ORDER BY å’Œçª—å£å‡½æ•°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fc096347d18e67b7431faacd2c4757093%2F" target="_blank" title="https://blog.cmdragon.cn/posts/c096347d18e67b7431faacd2c4757093/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„å­æŸ¥è¯¢å’ŒCTEå±…ç„¶åœ¨æ€§èƒ½ä¸Šâ€œææ¶â€ï¼Ÿåˆ°åº•è¯¥ç«™å“ªè¾¹ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F2eca89463454fd4250d7b66243b9fe5a%2F" target="_blank" title="https://blog.cmdragon.cn/posts/2eca89463454fd4250d7b66243b9fe5a/" ref="nofollow noopener noreferrer">PostgreSQLé€‰Joinç­–ç•¥æœ‰å•¥å°ä¹ä¹ï¼ŸNested Loop/Merge/Hashè°æ˜¯å®ƒçš„èœï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F068ecb772a87d7df20a8c9fb4b233f8e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/068ecb772a87d7df20a8c9fb4b233f8e/" ref="nofollow noopener noreferrer">PostgreSQLæ–°æ‰‹SQLæ€»ç¿»è½¦ï¼Ÿè¿™7ä¸ªæ€§èƒ½é™·é˜±ä½ è¸©è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd498f63cd0a2d5a77e445c688a8b88db%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d498f63cd0a2d5a77e445c688a8b88db/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•é€‰B-Treeè¿˜æ˜¯GiSTï¼Ÿâ€œç‘å£«å†›åˆ€â€å’Œâ€œå¤šé¢æ‰‹â€çš„å·®åˆ«ä½ å±…ç„¶è¿˜ä¸çŸ¥é“ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F9101b75bdec6faea9b35d54f14e37f36%2F" target="_blank" title="https://blog.cmdragon.cn/posts/9101b75bdec6faea9b35d54f14e37f36/" ref="nofollow noopener noreferrer">æƒ³çŸ¥é“æ•°æ®åº“æ€ä¹ˆç»™æŸ¥è¯¢â€œç®—æˆæœ¬é€‰è·¯çº¿â€ï¼ŸEXPLAINèƒ½å¸®ä½ çœ‹æ˜ç™½ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd527f8ebb6e3dae2c7dfe4c8d8979444%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d527f8ebb6e3dae2c7dfe4c8d8979444/" ref="nofollow noopener noreferrer">PostgreSQLå¤„ç†SQLå±…ç„¶åƒåšè›‹ç³•ï¼Ÿè§£æåˆ°æ‰§è¡Œçš„4æ­¥é‡Œè—ç€å¤šå°‘æŸ¥è¯¢ä¼˜åŒ–çš„å°å¿ƒæœºï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6bfdae84f313cf7ad0bb7045c4392347%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6bfdae84f313cf7ad0bb7045c4392347/" ref="nofollow noopener noreferrer">PostgreSQLå¤‡ä»½ä¸æ˜¯å¤åˆ¶æ–‡ä»¶ï¼Ÿç‰©ç†vsé€»è¾‘å’‹é€‰ï¼Ÿè¯¯åˆ è¿˜èƒ½ç²¾å‡†æ¢å¤åˆ°1åˆ†é’Ÿå‰ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fde3672803de34dbad244d0a8d48b0eb5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/de3672803de34dbad244d0a8d48b0eb5/" ref="nofollow noopener noreferrer">è½¬è´¦ä¸ç¿»è½¦ã€å¹¶å‘ä¸å¹²æ‰°ï¼ŒPostgreSQLçš„ACIDç‰¹æ€§åˆ°åº•æœ‰å•¥é­”æ³•ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fe463e8a2668abdf00a228c9b79324ded%2F" target="_blank" title="https://blog.cmdragon.cn/posts/e463e8a2668abdf00a228c9b79324ded/" ref="nofollow noopener noreferrer">é“¶è¡Œè½¬è´¦ä¸ç™½æ‰£é’±ã€ç”µå•†ä¸‹å•ä¸è¶…å–ï¼ŒPostgreSQLäº‹åŠ¡çš„è¯€çªæ˜¯å•¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F5c967e595058c4a1fc4474a68e64031d%2F" target="_blank" title="https://blog.cmdragon.cn/posts/5c967e595058c4a1fc4474a68e64031d/" ref="nofollow noopener noreferrer">PostgreSQLé‡Œçš„PL/pgSQLåˆ°åº•æ˜¯å•¥ï¼Ÿèƒ½è®©SQLä»â€œè¯´ç›®æ ‡â€å˜â€œè®²æ­¥éª¤â€ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F325047855e3e23b5ef82f7d2db134fbd%2F" target="_blank" title="https://blog.cmdragon.cn/posts/325047855e3e23b5ef82f7d2db134fbd/" ref="nofollow noopener noreferrer">PostgreSQLè§†å›¾ä¸å­˜æ•°æ®ï¼Ÿé‚£å®ƒæ€ä¹ˆç®€åŒ–æŸ¥è¯¢è¿˜èƒ½é€’å½’ç”Ÿæˆåºåˆ—å’Œæ§åˆ¶æƒé™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fd2dba50bb6e4df7b27e735245a06a2a2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/d2dba50bb6e4df7b27e735245a06a2a2/" ref="nofollow noopener noreferrer">PostgreSQLç´¢å¼•è¿™ä¹ˆç©ï¼Œæ‰èƒ½è®©ä½ çš„æŸ¥è¯¢çœŸçš„â€œé£â€èµ·æ¥ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F849ae5bab0f8c66e94c2f6ad1bb798e3%2F" target="_blank" title="https://blog.cmdragon.cn/posts/849ae5bab0f8c66e94c2f6ad1bb798e3/" ref="nofollow noopener noreferrer">PostgreSQLçš„è¡¨å…³ç³»å’Œçº¦æŸï¼Œå’‹å¸®ä½ æå®šç”¨æˆ·è®¢å•ä¸æ··ä¹±ã€å­¦ç”Ÿé€‰è¯¾ä¸é‡å¤ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fef4800975ffa84f1ca51976a70a1585b%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ef4800975ffa84f1ca51976a70a1585b/" ref="nofollow noopener noreferrer">PostgreSQLæŸ¥è¯¢çš„ç­›å­ã€æ’åºã€èšåˆã€åˆ†ç»„ï¼Ÿä½ ä¼šç”¨å®ƒä»¬æå®šæ•°æ®å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fbf54711525c507c5eacfa7b0151c39d2%2F" target="_blank" title="https://blog.cmdragon.cn/posts/bf54711525c507c5eacfa7b0151c39d2/" ref="nofollow noopener noreferrer">PostgreSQLæ•°æ®ç±»å‹æ€ä¹ˆé€‰æ‰é«˜æ•ˆä¸è¸©å‘ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F887809b3e0375f5956873cd442f516d8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/887809b3e0375f5956873cd442f516d8/" ref="nofollow noopener noreferrer">æƒ³è§£é”PostgreSQLæŸ¥è¯¢ä»åŸºç¡€åˆ°è¿›é˜¶çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Ÿä½ éƒ½getäº†å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F934be1203725e8be9d6f6e9104e5abcc%2F" target="_blank" title="https://blog.cmdragon.cn/posts/934be1203725e8be9d6f6e9104e5abcc/" ref="nofollow noopener noreferrer">PostgreSQL DELETEå±…ç„¶æœ‰è¿™äº›æ“ä½œï¼Ÿè¿”å›æ•°æ®ã€è¿è¡¨åˆ ä½ è¯•è¿‡æ²¡ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0f0622e9b7402b599e618150d0596ffe%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0f0622e9b7402b599e618150d0596ffe/" ref="nofollow noopener noreferrer">PostgreSQL UPDATEè¯­å¥æ€ä¹ˆç©ï¼Ÿä»æ”¹é‚®ç®±åˆ°æ‰¹é‡æ›´æ–°çš„é¿å‘æŠ€å·§ä½ éƒ½ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F0e3bf7efc030b024ea67ee855a00f2de%2F" target="_blank" title="https://blog.cmdragon.cn/posts/0e3bf7efc030b024ea67ee855a00f2de/" ref="nofollow noopener noreferrer">PostgreSQLæ’å…¥æ•°æ®è¿˜åœ¨é€æ¡æ•²ï¼Ÿæ‰¹é‡ã€å†²çªå¤„ç†ã€è¿”å›è‡ªå¢IDçš„æŠ€å·§ä½ ä¼šå—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb6cd3c86da6aac26ed829e472d34078e%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b6cd3c86da6aac26ed829e472d34078e/" ref="nofollow noopener noreferrer">PostgreSQLçš„â€œä»“åº“-æˆ¿é—´-è´§æ¶â€æ¸¸æˆï¼Œä½ èƒ½å»ºå‡ºç”µå•†æ•°æ®åº“å’Œè¡¨å—ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fba1f545a3410144552fbdbfcf31b5265%2F" target="_blank" title="https://blog.cmdragon.cn/posts/ba1f545a3410144552fbdbfcf31b5265/" ref="nofollow noopener noreferrer">PostgreSQL 17å®‰è£…æ€»ç¿»è½¦ï¼ŸWindows/macOS/Linuxé¿å‘æŒ‡å—å¸®ä½ æå®šï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fb5474d1480509c5072085abc80b3dd9f%2F" target="_blank" title="https://blog.cmdragon.cn/posts/b5474d1480509c5072085abc80b3dd9f/" ref="nofollow noopener noreferrer">èƒ½å½“å…³ç³»å‹æ•°æ®åº“è¿˜èƒ½ç©å¯¹è±¡ç‰¹æ€§ï¼Œèƒ½æ‹†å¤æ‚æŸ¥è¯¢è¿˜èƒ½è‡ªåŠ¨ç®¡åº“å­˜ï¼ŒPostgreSQLå‡­ä»€ä¹ˆè¿™ä¹ˆé¦™ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Fcc098d8836e787baa8a4d92e4d56d5c5%2F" target="_blank" title="https://blog.cmdragon.cn/posts/cc098d8836e787baa8a4d92e4d56d5c5/" ref="nofollow noopener noreferrer">ç»™æ¥å£åŠ æ–°å­—æ®µåˆä¸æå´©è€å®¢æˆ·ç«¯ï¼ŸFastAPIçš„å¤šç‰ˆæœ¬APIé å“ªä¸‰æ‹›å®ç°ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F46d05151c5bd31cf37a7bcf0b8f5b0b8%2F" target="_blank" title="https://blog.cmdragon.cn/posts/46d05151c5bd31cf37a7bcf0b8f5b0b8/" ref="nofollow noopener noreferrer">æµé‡çªå¢è¦æå´©FastAPIï¼Ÿç†”æ–­æµ‹è¯•æ˜¯æ€ä¹ˆé˜²ç³»ç»Ÿé›ªå´©çš„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F65ce343cc5df9faf3a8e2eeaab42ae45%2F" target="_blank" title="https://blog.cmdragon.cn/posts/65ce343cc5df9faf3a8e2eeaab42ae45/" ref="nofollow noopener noreferrer">FastAPIç§’æ€åº“å­˜æ€»å˜è´Ÿæ•°ï¼ŸRedisåˆ†å¸ƒå¼é”èƒ½å¸®ä½ å®ˆä½åº•çº¿å— - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2Feed6cd8985d9be0a4b092a7da38b3e0c%2F" target="_blank" title="https://blog.cmdragon.cn/posts/eed6cd8985d9be0a4b092a7da38b3e0c/" ref="nofollow noopener noreferrer">FastAPIçš„CIæµæ°´çº¿æ€ä¹ˆè‡ªåŠ¨æµ‹ç«¯ç‚¹ï¼Œè¿˜èƒ½è®©AllureæŠ¥å‘Šç¾åˆ°çŠ¯è§„ï¼Ÿ - cmdragon's Blog</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmdragon.cn%2Fposts%2F6157d87338ce894d18c013c3c4777abb%2F" target="_blank" title="https://blog.cmdragon.cn/posts/6157d87338ce894d18c013c3c4777abb/" ref="nofollow noopener noreferrer">å¦‚ä½•ç”¨GitHub Actionsä¸ºFastAPIé¡¹ç›®æ‰“é€ è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿ï¼Ÿ - cmdragon's Blog</a></li>
</ul>
</details>
<details>
<summary>å…è´¹å¥½ç”¨çš„çƒ­é—¨åœ¨çº¿å·¥å…·</summary>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffile-converter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/file-converter" ref="nofollow noopener noreferrer">æ–‡ä»¶æ ¼å¼è½¬æ¢å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fm3u8-player" target="_blank" title="https://tools.cmdragon.cn/zh/apps/m3u8-player" ref="nofollow noopener noreferrer">M3U8åœ¨çº¿æ’­æ”¾å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fquick-image-design" target="_blank" title="https://tools.cmdragon.cn/zh/apps/quick-image-design" ref="nofollow noopener noreferrer">å¿«å›¾è®¾è®¡ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-advanced" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-advanced" ref="nofollow noopener noreferrer">é«˜çº§æ–‡å­—è½¬å›¾ç‰‡è½¬æ¢å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fraid-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/raid-calculator" ref="nofollow noopener noreferrer">RAID è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fphotoshop-online" target="_blank" title="https://tools.cmdragon.cn/zh/apps/photoshop-online" ref="nofollow noopener noreferrer">åœ¨çº¿PS - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmermaid-live-editor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/mermaid-live-editor" ref="nofollow noopener noreferrer">Mermaid åœ¨çº¿ç¼–è¾‘å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmath-solver-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/math-solver-calculator" ref="nofollow noopener noreferrer">æ•°å­¦æ±‚è§£è®¡ç®—å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsmart-teleprompter" target="_blank" title="https://tools.cmdragon.cn/zh/apps/smart-teleprompter" ref="nofollow noopener noreferrer">æ™ºèƒ½æè¯å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fmagic-resume" target="_blank" title="https://tools.cmdragon.cn/zh/apps/magic-resume" ref="nofollow noopener noreferrer">é­”æ³•ç®€å† - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-puzzle-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-puzzle-tool" ref="nofollow noopener noreferrer">Image Puzzle Tool - å›¾ç‰‡æ‹¼å›¾å·¥å…· | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsubtitle-downloader" target="_blank" title="https://tools.cmdragon.cn/zh/apps/subtitle-downloader" ref="nofollow noopener noreferrer">å­—å¹•ä¸‹è½½å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flyrics-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lyrics-generator" ref="nofollow noopener noreferrer">æ­Œè¯ç”Ÿæˆå·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcloud-drive-search" target="_blank" title="https://tools.cmdragon.cn/zh/apps/cloud-drive-search" ref="nofollow noopener noreferrer">ç½‘ç›˜èµ„æºèšåˆæœç´¢ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fascii-art-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ascii-art-generator" ref="nofollow noopener noreferrer">ASCIIå­—ç¬¦ç”»ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fjwt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/jwt-tool" ref="nofollow noopener noreferrer">JSON Web Tokens å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbcrypt-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/bcrypt-tool" ref="nofollow noopener noreferrer">Bcrypt å¯†ç å·¥å…· - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-composer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-composer" ref="nofollow noopener noreferrer">GIF åˆæˆå™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fgif-decomposer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/gif-decomposer" ref="nofollow noopener noreferrer">GIF åˆ†è§£å™¨ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-steganography" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-steganography" ref="nofollow noopener noreferrer">æ–‡æœ¬éšå†™æœ¯ - åº”ç”¨å•†åº— | By cmdragon</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh" target="_blank" title="https://tools.cmdragon.cn/zh" ref="nofollow noopener noreferrer">CMDragon åœ¨çº¿å·¥å…· - é«˜çº§AIå·¥å…·ç®±ä¸å¼€å‘è€…å¥—ä»¶ | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%3Fcategory%3Dtrending" target="_blank" title="https://tools.cmdragon.cn/zh/apps?category=trending" ref="nofollow noopener noreferrer">åº”ç”¨å•†åº— - å‘ç°1000+æå‡æ•ˆç‡ä¸å¼€å‘çš„AIå·¥å…·å’Œå®ç”¨ç¨‹åº | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fchangelog" target="_blank" title="https://tools.cmdragon.cn/zh/changelog" ref="nofollow noopener noreferrer">CMDragon æ›´æ–°æ—¥å¿— - æœ€æ–°æ›´æ–°ã€åŠŸèƒ½ä¸æ”¹è¿› | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fsponsor" target="_blank" title="https://tools.cmdragon.cn/zh/sponsor" ref="nofollow noopener noreferrer">æ”¯æŒæˆ‘ä»¬ - æˆä¸ºèµåŠ©è€… | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-image-ai" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-image-ai" ref="nofollow noopener noreferrer">AIæ–‡æœ¬ç”Ÿæˆå›¾åƒ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftemp-email" target="_blank" title="https://tools.cmdragon.cn/zh/apps/temp-email" ref="nofollow noopener noreferrer">ä¸´æ—¶é‚®ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fqrcode-parser" target="_blank" title="https://tools.cmdragon.cn/zh/apps/qrcode-parser" ref="nofollow noopener noreferrer">äºŒç»´ç è§£æå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-to-mindmap" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-to-mindmap" ref="nofollow noopener noreferrer">æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fregex-visualizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/regex-visualizer" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼å¯è§†åŒ–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsteganography-tool" target="_blank" title="https://tools.cmdragon.cn/zh/apps/steganography-tool" ref="nofollow noopener noreferrer">æ–‡ä»¶éšå†™å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fiptv-explorer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/iptv-explorer" ref="nofollow noopener noreferrer">IPTV é¢‘é“æ¢ç´¢å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsnapdrop" target="_blank" title="https://tools.cmdragon.cn/zh/apps/snapdrop" ref="nofollow noopener noreferrer">å¿«ä¼  - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Flucky-draw" target="_blank" title="https://tools.cmdragon.cn/zh/apps/lucky-draw" ref="nofollow noopener noreferrer">éšæœºæŠ½å¥–å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fanime-scene-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/anime-scene-finder" ref="nofollow noopener noreferrer">åŠ¨æ¼«åœºæ™¯æŸ¥æ‰¾å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftime-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/time-toolkit" ref="nofollow noopener noreferrer">æ—¶é—´å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fspeed-test" target="_blank" title="https://tools.cmdragon.cn/zh/apps/speed-test" ref="nofollow noopener noreferrer">ç½‘é€Ÿæµ‹è¯• - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-remover" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-remover" ref="nofollow noopener noreferrer">AI æ™ºèƒ½æŠ å›¾å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fbackground-replacer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/background-replacer" ref="nofollow noopener noreferrer">èƒŒæ™¯æ›¿æ¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fartistic-qrcode" target="_blank" title="https://tools.cmdragon.cn/zh/apps/artistic-qrcode" ref="nofollow noopener noreferrer">è‰ºæœ¯äºŒç»´ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fopen-graph-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/open-graph-generator" ref="nofollow noopener noreferrer">Open Graph å…ƒæ ‡ç­¾ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-comparison" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-comparison" ref="nofollow noopener noreferrer">å›¾åƒå¯¹æ¯”å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-compressor" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-compressor" ref="nofollow noopener noreferrer">å›¾ç‰‡å‹ç¼©ä¸“ä¸šç‰ˆ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fpassword-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/password-generator" ref="nofollow noopener noreferrer">å¯†ç ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fsvg-optimizer" target="_blank" title="https://tools.cmdragon.cn/zh/apps/svg-optimizer" ref="nofollow noopener noreferrer">SVGä¼˜åŒ–å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcolor-palette" target="_blank" title="https://tools.cmdragon.cn/zh/apps/color-palette" ref="nofollow noopener noreferrer">è°ƒè‰²æ¿ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fonline-metronome" target="_blank" title="https://tools.cmdragon.cn/zh/apps/online-metronome" ref="nofollow noopener noreferrer">åœ¨çº¿èŠ‚æ‹å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcss-grid-layout" target="_blank" title="https://tools.cmdragon.cn/zh/apps/css-grid-layout" ref="nofollow noopener noreferrer">CSSç½‘æ ¼å¸ƒå±€ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Femail-validator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/email-validator" ref="nofollow noopener noreferrer">é‚®ç®±éªŒè¯å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fcalligraphy-practice" target="_blank" title="https://tools.cmdragon.cn/zh/apps/calligraphy-practice" ref="nofollow noopener noreferrer">ä¹¦æ³•ç»ƒä¹ å­—å¸– - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffinance-calculator-suite" target="_blank" title="https://tools.cmdragon.cn/zh/apps/finance-calculator-suite" ref="nofollow noopener noreferrer">é‡‘èè®¡ç®—å™¨å¥—ä»¶ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fchinese-kinship-calculator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/chinese-kinship-calculator" ref="nofollow noopener noreferrer">ä¸­å›½äº²æˆšå…³ç³»è®¡ç®—å™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fprotobuf-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/protobuf-toolkit" ref="nofollow noopener noreferrer">Protocol Buffer å·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-geolocation" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-geolocation" ref="nofollow noopener noreferrer">IPå½’å±åœ°æŸ¥è¯¢ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fimage-upscaler" target="_blank" title="https://tools.cmdragon.cn/zh/apps/image-upscaler" ref="nofollow noopener noreferrer">å›¾ç‰‡æ— æŸæ”¾å¤§ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ftext-compare" target="_blank" title="https://tools.cmdragon.cn/zh/apps/text-compare" ref="nofollow noopener noreferrer">æ–‡æœ¬æ¯”è¾ƒå·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fip-batch-lookup" target="_blank" title="https://tools.cmdragon.cn/zh/apps/ip-batch-lookup" ref="nofollow noopener noreferrer">IPæ‰¹é‡æŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdomain-finder" target="_blank" title="https://tools.cmdragon.cn/zh/apps/domain-finder" ref="nofollow noopener noreferrer">åŸŸåæŸ¥è¯¢å·¥å…· - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Fdns-toolkit" target="_blank" title="https://tools.cmdragon.cn/zh/apps/dns-toolkit" ref="nofollow noopener noreferrer">DNSå·¥å…·ç®± - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fzh%2Fapps%2Ffavicon-generator" target="_blank" title="https://tools.cmdragon.cn/zh/apps/favicon-generator" ref="nofollow noopener noreferrer">ç½‘ç«™å›¾æ ‡ç”Ÿæˆå™¨ - åº”ç”¨å•†åº— | å…è´¹å¥½ç”¨çš„åœ¨çº¿å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.cmdragon.cn%2Fsitemap_index.xml" target="_blank" title="https://tools.cmdragon.cn/sitemap_index.xml" ref="nofollow noopener noreferrer">XML Sitemap</a></li>
</ul>
</details>
<h3 data-id="heading-7">ç›‘å¬æ•°ç»„æ•´ä½“å˜åŒ–</h3>
<p>å½“ä½¿ç”¨æ•°ç»„æ–¹æ³•ä¿®æ”¹æ•°ç»„æ—¶ï¼Œ<code>watch</code>ä¼šè‡ªåŠ¨è§¦å‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> todoList = <span class="hljs-title function_">ref</span>([<span class="hljs-string">'å­¦ä¹ Vue 3'</span>, <span class="hljs-string">'ç¼–å†™é¡¹ç›®å®æˆ˜'</span>])

<span class="hljs-comment">// ç›‘å¬æ•°ç»„æ•´ä½“å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(todoList, <span class="hljs-function">(<span class="hljs-params">newList, oldList</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¾…åŠäº‹é¡¹åˆ—è¡¨å‘ç”Ÿå˜åŒ–ï¼š'</span>, newList)
})

<span class="hljs-comment">// ä½¿ç”¨æ•°ç»„æ–¹æ³•ä¿®æ”¹æ•°ç»„ï¼Œè§¦å‘watch</span>
todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'ä¼˜åŒ–ä»£ç æ€§èƒ½'</span>)
todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">pop</span>()
</code></pre>
<h3 data-id="heading-8">ç›‘å¬æ•°ç»„å†…éƒ¨å…ƒç´ å˜åŒ–</h3>
<p>å¦‚æœéœ€è¦ç›‘å¬æ•°ç»„å…ƒç´ çš„ç›´æ¥ä¿®æ”¹ï¼ˆå¦‚<code>arr[0] = 'æ–°å€¼'</code>ï¼‰ï¼Œéœ€è¦å¼€å¯<code>deep</code>é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> numbers = <span class="hljs-title function_">ref</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])

<span class="hljs-comment">// å¼€å¯deepé€‰é¡¹ï¼Œç›‘å¬æ•°ç»„å†…éƒ¨å…ƒç´ å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(numbers, <span class="hljs-function">(<span class="hljs-params">newNumbers, oldNumbers</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ•°ç»„å…ƒç´ å‘ç”Ÿå˜åŒ–ï¼š'</span>, newNumbers)
}, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// ç›´æ¥ä¿®æ”¹æ•°ç»„å…ƒç´ ï¼Œè§¦å‘watch</span>
numbers.<span class="hljs-property">value</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>
</code></pre>
<h3 data-id="heading-9">æ‰§è¡Œæµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
A[å®šä¹‰å“åº”å¼æ•°ç»„] --&gt; B[ä½¿ç”¨watchç›‘å¬æ•°ç»„ï¼Œå¯é€‰å¼€å¯deep]
B --&gt; C[ä¿®æ”¹æ•°ç»„]
C --&gt; D{ä¿®æ”¹æ–¹å¼?}
D --&gt;|æ•°ç»„æ–¹æ³•| E[è§¦å‘watchå›è°ƒ]
D --&gt;|ç´¢å¼•ä¿®æ”¹| F{æ˜¯å¦å¼€å¯deep?}
F --&gt;|æ˜¯| E
F --&gt;|å¦| G[ä¸è§¦å‘watchå›è°ƒ]
</code></pre>
<hr/>
<h2 data-id="heading-10">è¯¾åQuiz</h2>
<h3 data-id="heading-11">é—®é¢˜1</h3>
<p>å¦‚ä½•åœ¨Vue 3ä¸­åŒæ—¶ç›‘å¬å¤šä¸ªå“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Ÿè¯·å†™å‡ºä»£ç ç¤ºä¾‹ã€‚</p>
<p><strong>ç­”æ¡ˆè§£æ</strong>ï¼š
å¯ä»¥å°†å¤šä¸ªæ•°æ®æºæ”¾å…¥æ•°ç»„ä¸­ä½œä¸º<code>watch</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå›è°ƒå‡½æ•°ä¼šæ¥æ”¶æ–°å€¼æ•°ç»„å’Œæ—§å€¼æ•°ç»„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { ref, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> name = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-keyword">const</span> age = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-title function_">watch</span>(
  [name, age],
  <span class="hljs-function">(<span class="hljs-params">[newName, newAge], [oldName, oldAge]</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å§“åä» <span class="hljs-subst">${oldName}</span> å˜ä¸º <span class="hljs-subst">${newName}</span>`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¹´é¾„ä» <span class="hljs-subst">${oldAge}</span> å˜ä¸º <span class="hljs-subst">${newAge}</span>`</span>)
  }
)
</code></pre>
<h3 data-id="heading-12">é—®é¢˜2</h3>
<p>å½“éœ€è¦ç›‘å¬å“åº”å¼å¯¹è±¡ä¸­å¤šä¸ªå±æ€§çš„è®¡ç®—ç»“æœæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿè¯·å†™å‡ºä»£ç ç¤ºä¾‹ã€‚</p>
<p><strong>ç­”æ¡ˆè§£æ</strong>ï¼š
ä½¿ç”¨getterå‡½æ•°ä½œä¸º<code>watch</code>çš„ç›‘å¬æºï¼Œåœ¨getterå‡½æ•°ä¸­è®¡ç®—éœ€è¦ç›‘å¬çš„ç»“æœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> product = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">stock</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">sales</span>: <span class="hljs-number">30</span>
})

<span class="hljs-comment">// ç›‘å¬å‰©ä½™åº“å­˜</span>
<span class="hljs-title function_">watch</span>(
  <span class="hljs-function">() =&gt;</span> product.<span class="hljs-property">stock</span> - product.<span class="hljs-property">sales</span>,
  <span class="hljs-function">(<span class="hljs-params">newStock, oldStock</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å‰©ä½™åº“å­˜ä» <span class="hljs-subst">${oldStock}</span> å˜ä¸º <span class="hljs-subst">${newStock}</span>`</span>)
  }
)
</code></pre>
<h3 data-id="heading-13">é—®é¢˜3</h3>
<p>ä¸ºä»€ä¹ˆç›´æ¥ä¿®æ”¹æ•°ç»„çš„ç´¢å¼•å…ƒç´ æ—¶ï¼Œ<code>watch</code>é»˜è®¤ä¸ä¼šè§¦å‘ï¼Ÿå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆè§£æ</strong>ï¼š
Vueçš„å“åº”å¼ç³»ç»Ÿé»˜è®¤ä¸ä¼šç›‘å¬æ•°ç»„çš„ç´¢å¼•ä¿®æ”¹ï¼Œå› ä¸ºè¿™åœ¨æ€§èƒ½ä¸Šæ˜¯ä½æ•ˆçš„ã€‚è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>å¼€å¯<code>deep</code>é€‰é¡¹ï¼Œæ·±åº¦ç›‘å¬æ•°ç»„å†…éƒ¨å…ƒç´ å˜åŒ–</li>
<li>ä½¿ç”¨Vueæä¾›çš„æ•°ç»„æ–¹æ³•ï¼ˆå¦‚<code>push</code>ã€<code>splice</code>ç­‰ï¼‰æ¥ä¿®æ”¹æ•°ç»„</li>
</ol>
<hr/>
<h2 data-id="heading-14">å¸¸è§æŠ¥é”™è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-15">æŠ¥é”™1ï¼š<code>watch source must be a ref, reactive object, getter function, or array of these</code></h3>
<ul>
<li><strong>åŸå› </strong>ï¼š<code>watch</code>çš„ç›‘å¬æºç±»å‹ä¸æ­£ç¡®ï¼Œä¸æ˜¯Vueæ”¯æŒçš„å“åº”å¼æ•°æ®æºç±»å‹ã€‚</li>
<li><strong>è§£å†³æ–¹æ³•</strong>ï¼šç¡®ä¿ç›‘å¬æºæ˜¯refã€reactiveå¯¹è±¡ã€getterå‡½æ•°æˆ–è¿™äº›ç±»å‹çš„æ•°ç»„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ç›‘å¬æ™®é€šå˜é‡ï¼Œéœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸ºrefï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç”¨æ³•ï¼šç›‘å¬æ™®é€šå˜é‡</span>
<span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>
<span class="hljs-title function_">watch</span>(count, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ... */</span> })

<span class="hljs-comment">// æ­£ç¡®ç”¨æ³•ï¼šè½¬æ¢ä¸ºref</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-title function_">watch</span>(count, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ... */</span> })
</code></pre>
<h3 data-id="heading-16">æŠ¥é”™2ï¼šæ•°ç»„å…ƒç´ ä¿®æ”¹å<code>watch</code>ä¸è§¦å‘</h3>
<ul>
<li><strong>åŸå› </strong>ï¼šç›´æ¥ä¿®æ”¹æ•°ç»„ç´¢å¼•å…ƒç´ ï¼ŒVueé»˜è®¤ä¸ç›‘å¬è¿™ç§å˜åŒ–ã€‚</li>
<li><strong>è§£å†³æ–¹æ³•</strong>ï¼šå¼€å¯<code>deep</code>é€‰é¡¹ï¼Œæˆ–è€…ä½¿ç”¨æ•°ç»„æ–¹æ³•ä¿®æ”¹æ•°ç»„ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–¹æ³•1ï¼šå¼€å¯deepé€‰é¡¹</span>
<span class="hljs-title function_">watch</span>(numbers, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ... */</span> }, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span> })

<span class="hljs-comment">// æ–¹æ³•2ï¼šä½¿ç”¨æ•°ç»„æ–¹æ³•</span>
numbers.<span class="hljs-property">value</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
</code></pre>
<h3 data-id="heading-17">æŠ¥é”™3ï¼š<code>Cannot read property 'value' of undefined</code></h3>
<ul>
<li><strong>åŸå› </strong>ï¼šåœ¨getterå‡½æ•°æˆ–å›è°ƒå‡½æ•°ä¸­è®¿é—®äº†æœªå®šä¹‰çš„å“åº”å¼å±æ€§ã€‚</li>
<li><strong>è§£å†³æ–¹æ³•</strong>ï¼šç¡®ä¿æ‰€æœ‰è®¿é—®çš„å±æ€§éƒ½å·²æ­£ç¡®å®šä¹‰ï¼Œæˆ–è€…æ·»åŠ å¯é€‰é“¾æ“ä½œç¬¦ï¼š</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç”¨æ³•ï¼šè®¿é—®æœªå®šä¹‰çš„å±æ€§</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> user.<span class="hljs-property">address</span>.<span class="hljs-property">city</span>, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ... */</span> })

<span class="hljs-comment">// æ­£ç¡®ç”¨æ³•ï¼šæ·»åŠ å¯é€‰é“¾</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> user?.<span class="hljs-property">address</span>?.<span class="hljs-property">city</span>, <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* ... */</span> })
</code></pre>
<hr/>
<h2 data-id="heading-18">å‚è€ƒé“¾æ¥</h2>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2Fguide%2Fessentials%2Fwatchers.html" target="_blank" title="https://vuejs.org/guide/essentials/watchers.html" ref="nofollow noopener noreferrer">vuejs.org/guide/essenâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>