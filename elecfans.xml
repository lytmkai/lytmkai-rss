<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>电子发烧友 - 最近文章</title>      <link>https://www.elecfans.com/article/special/</link>      <description>电子发烧友</description>      <generator>python elecfans.py @Pi20</generator>      <item>    <title><![CDATA[光学棱镜结构光学3D轮廓测量-3D白光干涉仪]]></title>    <link>https://www.elecfans.com/d/7655780.html</link>    <guid>https://www.elecfans.com/d/7655780.html</guid>    <pubDate>2026-02-12 11:08:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1 、引言</p>
<p style="text-indent:2em;">
	<a href="https://m.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>棱镜作为光<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>、成像系统、激光技术等领域的核心光学元件，其棱边精度、棱角角度、表面平整度等结构参数直接决定光折射/反射效率、成像清晰度及光路稳定性。在棱镜切割、研磨、抛光等制备过程中，易出现棱边倒角偏差、棱角磨损、表面划痕、局部凹陷等形貌缺陷，严重影响光学性能。传统二维测量方法难以完整表征棱镜复杂三维结构的轮廓特征，无法满足<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>光学应用的质量管控需求。3D白光干涉仪凭借非接触测量特性、纳米级分辨率及全域三维形貌重建能力，可快速精准获取光学棱镜结构的完整光学3D轮廓，为棱镜制备工艺优化提供可靠数据支撑。本文重点探讨3D白光干涉仪在光学棱镜结构光学3D轮廓测量中的应用。</p>
<p style="text-indent:2em;">
	2、 3D白光干涉仪测量原理</p>
<p style="text-indent:2em;">
	3D白光干涉仪以宽光谱白光为光源，经分束器分为参考光与物光两路。参考光射向固定参考镜反射，物光经高数值孔径物镜聚焦后照射至光学棱镜表面及棱边结构，反射光沿原路径返回并与参考光汇交产生干涉条纹。因白光相干长度极短（仅数微米），仅在光程差接近零时形成清晰干涉条纹。通过压电陶瓷驱动装置带动参考镜进行精密扫描，高灵敏度<a href="https://www.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>同步采集干涉条纹强度变化，形成干涉<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>包络曲线，曲线峰值位置精准对应棱镜表面及结构各点的三维坐标。结合多视角扫描拼接与结构轮廓拟合技术，可完整重建光学棱镜全域光学3D轮廓，精准提取棱边宽度、棱角角度、表面平整度、缺陷尺寸等核心参数，其垂直分辨率可达亚纳米级，适配光学棱镜高精度结构测量需求。</p>
<p style="text-indent:2em;">
	3 、3D白光干涉仪在光学棱镜结构测量中的应用</p>
<p style="text-indent:2em;">
	3.1 棱镜结构光学3D轮廓精准重建与参数提取</p>
<p style="text-indent:2em;">
	针对光学棱镜核心结构（棱边宽度10 μm-500 μm、棱角角度精度要求≤0.01°）的光学3D轮廓测量需求，3D白光干涉仪可通过优化测量策略实现精准表征。测量时，根据棱镜尺寸与结构类型，选取适配物镜倍率与多视角扫描路径，对棱镜棱边、棱面等核心区域进行高精度扫描，通过三维点云拼接与坐标校准技术重建完整的光学3D轮廓。采用结构特征提取<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，自动识别棱边轮廓与棱面区域，精准计算棱边宽度、棱角夹角及相邻棱面的垂直度，同时量化表面平整度（PV值）。实验数据表明，其棱角角度测量误差≤0.005°，棱边宽度测量误差≤2 μm，表面平整度测量精度≤0.5 nm，可有效捕捉研磨压力、抛光时间变化导致的结构偏差，为工艺优化提供精准量化依据，同时支持批量棱镜的一致性评估。</p>
<p style="text-indent:2em;">
	3.2 棱镜形貌缺陷的高效识别</p>
<p style="text-indent:2em;">
	光学棱镜制备过程中产生的棱边倒角过大、棱角磨损、表面划痕、局部凹陷等缺陷，会导致光散射损耗增加、光路偏移。3D白光干涉仪在重建3D轮廓的同时，可实现此类缺陷的高效识别与量化。通过设定缺陷阈值（如棱边倒角偏差≥5 μm、表面划痕深度≥10 nm），系统可自动筛选不合格产品，并标记缺陷位置。结合缺陷形态分析可追溯问题根源：如棱边磨损多与研磨砂轮精度不足相关，表面划痕则与抛光环境洁净度有关。例如，当检测到批量棱镜出现棱边倒角超差时，可反馈调整研磨砂轮的进给参数，提升棱镜成型质量。</p>
<p style="text-indent:2em;">
	相较于传统<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>接触式测量仪对棱镜表面的划伤风险，3D白光干涉仪的非接触测量模式可保障棱镜精密光学表面的完整性；相较于单一视角光学测量的结构表征局限，其多视角拼接技术可完整呈现棱镜复杂三维结构。同时，其具备高效扫描能力（单个棱镜全结构测量时间≤8 s），可满足光学元件产业化批量检测需求。通过为光学棱镜结构提供全面、精准的光学3D轮廓测量数据及缺陷检测结果，3D白光干涉仪可助力构建严格的质量管控体系，提升棱镜制备良率与光学性能稳定性，为高精度光学系统的发展提供关键技术支撑。</p>
<p style="text-indent:2em;">
	大视野 3D 白光干涉仪：纳米级测量全域解决方案</p>
<p style="text-indent:2em;">
	突破传统局限，定义测量新范式！大视野 3D 白光干涉仪凭借创新技术，一机解锁纳米级全场景测量，重新诠释精密测量的高效精密。</p>
<p style="text-indent:2em;">
	三大核心技术革新</p>
<p style="text-indent:2em;">
	1）智能操作革命：告别传统白光干涉仪复杂操作流程，一键智能聚焦扫描功能，轻松实现亚纳米精度测量，且重复性表现卓越，让精密测量触手可及。</p>
<p style="text-indent:2em;">
	2）超大视野 + 超高精度：搭载 0.6 倍镜头，拥有 15mm 单幅超大视野，结合 0.1nm 级测量精度，既能满足纳米级微观结构的精细检测，又能无缝完成 8 寸晶圆 FULL MAP<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>NG 扫描，实现大视野与高精度的完美融合。</p>
<p style="text-indent:2em;">
	3）动态测量新维度：可集成多普勒激光测振系统，打破静态测量边界，实现 “动态” 3D 轮廓测量，为复杂工况下的测量需求提供全新解决方案。</p>
<p style="text-indent:2em;">
	实测验证硬核实力</p>
<p style="text-indent:2em;">
	1）硅片表面粗糙度检测：凭借优于 1nm 的超高分辨率，精准捕捉硅片表面微观起伏，实测粗糙度 Ra 值低至 0.7nm，为<a href="https://www.elecfans.com/v/tag/8112/" target="_blank"><u>半导体制造</u></a>品质把控提供可靠数据支撑。</p>
<p style="text-indent:2em;">
	有机油膜厚度扫描：毫米级超大视野，轻松覆盖 5nm 级有机油膜，实现全区域高精度厚度检测，助力润滑材料研发与质量检测。</p>
<p style="text-indent:2em;">
	高深宽比结构测量：面对深蚀刻工艺形成的深槽结构，展现强大测量能力，精准获取槽深、槽宽数据，解决行业测量难题。</p>
<p style="text-indent:2em;">
	分层膜厚无损检测：采用非接触、非破坏测量方式，对多层薄膜进行 3D 形貌重构，精准分析各层膜厚分布，为薄膜材料研究提供无损检测新方案。</p>
<p style="text-indent:2em;">
	新启航<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>，专业提供综合光学3D测量解决方案！</p>]]></description></item><item>    <title><![CDATA[LTC1697：高效低功耗1W CCFL开关稳压器的设计与应用]]></title>    <link>https://www.elecfans.com/d/7655957.html</link>    <guid>https://www.elecfans.com/d/7655957.html</guid>    <pubDate>2026-02-12 11:10:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655957" value="https://file1.elecfans.com/web2/M00/04/8F/poYBAGDa84eAdERHAAGt7oShzr8218.pdf"/><h1>LTC1697：高效低功耗1W CCFL<a href="https://www.elecfans.com/tags/开关稳压器/" target="_blank"><u>开关稳压器</u></a>的设计与应用</h1>
<p>在当今的电子设备中，尤其是手持设备，如PDA、手持<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>、便携式仪器、带地图显示的手持GPS以及手持电视/视频监视器等，冷阴极荧光灯（CCFL）作为背光源被广泛应用。而LTC1697就是一款专门为控制单只1W CCFL而设计的开关稳压器，下面我们就来详细了解一下它。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655957" target="_blank">LTC1697.pdf</a></p>
<h2>一、LTC1697的特性亮点</h2>
<h3><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>适应性强</h3>
<p>LTC1697可由单节<a href="https://m.elecfans.com/v/tag/6503/" target="_blank"><u>锂离子电池</u></a>供电，输入电压范围为2.8V至5.5V，这使得它在不同的电源环境下都能稳定工作，非常适合便携式设备的应用。</p>
<h3>低功耗设计</h3>
<p>其关机电流极低，小于2µA，能有效延长电池的使用时间。同时，采用同步降压架构，提高了转换效率，减少了能量损耗。</p>
<h3>调光功能灵活</h3>
<p>PWM调光频率可通过单个<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>进行调节，并且支持内部或外部PWM调光。准确的灯<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>设置能最大化灯的使用寿命，固定频率为300kHz的操作，保证了稳定的输出。</p>
<h3>封装小巧</h3>
<p>采用小型10引脚MSOP封装，节省了电路板空间，有利于设备的小型化设计。</p>
<h2>二、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性解析</h2>
<h3>电压与电流参数</h3>
<ul>
<li><strong>工作电源电压范围</strong>：2.8V至5.5V，确保了在多种电源条件下的兼容性。</li>
<li><strong>欠压锁定</strong>：2.77V，当输入电压低于此值时，稳压器会自动锁定，保护设备安全。</li>
<li><strong>静态电流</strong>：关机状态下（SHDN = 0V；VDIM = 0V）为1 - 2µA，工作状态下（VC = 0V，SHDN = VIN = VDIM = 4.2V）为0.9 - 1.5mA。</li>
<li><strong>开关泄漏电流</strong>：0.1 - 1µA，保证了开关的稳定性。</li>
<li><strong>开关导通电阻</strong>：VIN = 4V时为0.18Ω，降低了开关损耗。</li>
<li><strong>开关电流限制</strong>：0.9 - 1.6A，<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>免受过载损坏。</li>
</ul>
<h3>频率与调光参数</h3>
<ul>
<li><strong>开关频率</strong>：240 - 370kHz，固定频率为300kHz，提供稳定的输出。</li>
<li><strong>调光PWM频率</strong>：当CDIM = 0.022µF时，频率范围为190 - 310Hz，可通过公式5Hz/CDIM(µF)进行设置。</li>
<li><strong>VDIM输入电压</strong>：调光PWM占空比为0%时为1.0V，100%时为2.0V，方便进行调光控制。</li>
</ul>
<h3>其他参数</h3>
<ul>
<li><strong>内部RLAMP<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a></strong>：LAMP引脚到地的电阻为50 - 60Ω，用于反馈控制。</li>
<li><strong>灯电流精度</strong>：在ILAMP = 5mA时，误差为2 - 6%，保证了灯电流的准确性。</li>
<li><strong><a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>电阻范围</strong>：6.4 - 16kΩ，可根据需要设置灯电流。</li>
</ul>
<h2>三、引脚功能介绍</h2>
<h3>CDIM（引脚1）</h3>
<p>调<a href="https://www.elecfans.com/v/tag/2800/" target="_blank"><u>光电</u></a>容引脚，通过连接一个标称值为0.022µF的电容到地，电容值决定了调光PWM频率，其转换公式为5Hz/CDIM(µF)。</p>
<h3>VDIM（引脚2）</h3>
<p>调光控制引脚，控制调光PWM的占空比，范围从VDIM = 1V时的0%到VDIM = 2V时的100%。当VDIM电压小于0.4V时，LTC1697将在约50ms后进入关机模式。</p>
<h3>OVSEN（引脚3）</h3>
<p>过压检测引脚，可保护<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>变压器免受灯开路或不存在时的过压情况影响。该引脚通过电阻连接到Royer<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>驱动<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>的发射极。</p>
<h3>SW（引脚4）</h3>
<p>开关引脚，连接电感和可选的<a href="https://www.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a><a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>。为减少EMI和高频振铃，应尽量缩短走线长度。</p>
<h3>GND（引脚5）</h3>
<p>LTC1697的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>和电源接地引脚。</p>
<h3>LAMP（引脚6）</h3>
<p>灯电流反馈引脚，连接到CCFL灯。该引脚内部通过一个约50Ω的电阻接地，可将LAMP引脚的电压限制在±0.35V（对于5mA<a href="https://www.hqchip.com/app/1718" target="_blank"><u>RMS</u></a>灯电流）。</p>
<h3>VIN（引脚7）</h3>
<p>输入电源引脚，提供工作所需的电源。</p>
<h3>VC（引脚8）</h3>
<p>补偿节点，通过一个0.1µF的电容连接到地。该引脚连接一个频率补偿网络，用于补偿环路。电容值的选择需要根据最大负载电流和调光范围进行考虑，典型值为0.1µF。</p>
<h3>RPROG（引脚9）</h3>
<p>灯电流编程引脚，通过一个标称值为6.4k 1%的电阻连接到地。灯电流ILAMP = 32V/RPROG。</p>
<h3>SHDN（引脚10）</h3>
<p>关机引脚，将该引脚接地可使LTC1697关机，将其拉高至大于1V可使能。</p>
<h2>四、<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>与操作模式</h2>
<h3>固定频率电流模式调节</h3>
<p>LTC1697是一款固定频率、电流模式的稳压器，通过开关电流直接控制开关占空比，而不是通过输出电压。在每个振荡器周期开始时，NMOS开关导通，当开关电流达到预定水平时，NMOS开关关闭。</p>
<h3><a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a>与限制</h3>
<p>采用无损电流检测技术，将峰值电流信号转换为电压，并与内部斜率补偿相加。该相加信号与VC进行比较，为PWM提供峰值电流控制命令。当电流超过电流限制阈值时，电流限制<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>将关闭NMOS开关，典型延迟时间为50ns。</p>
<h3><a href="https://m.hqchip.com/app/1852" target="_blank"><u>同步整流</u></a></h3>
<p>LTC1697作为同步<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>工作。当NMOS开关关闭时，PMOS开关导通，为电感电流提供低电阻电流路径，使其返回VIN。</p>
<h3>调光PWM</h3>
<p>片上PWM调光电路在每个调光周期内启用和禁用电流模式稳压器。同时，它将反馈网络与补偿节点（VC）断开，以减少下一次启用时的压摆时间。调光PWM的振荡器产生一个三角波，其频率由CDIM引脚上的外部电容决定，调光PWM频率等于5Hz/CDIM(µF)，占空比由VDIM引脚的电压设置。如果需要，可通过将CDIM引脚接地并将输入PWM信号应用到VDIM引脚来覆盖内部调光PWM，外部PWM信号应在150Hz至500Hz范围内。</p>
<h3>灯反馈</h3>
<p>在典型应用中，LAMP引脚连接到灯的低压侧。该引脚内部通过一个约50Ω的电阻接地，灯反馈电路从VC中移除一个电流，近似为通过50Ω电阻电流绝对值的1/40。</p>
<h3>电流编程输入（RPROG）</h3>
<p>灯电流ILAMP通过连接在该引脚和地之间的外部电阻进行设置，ILAMP = 32V/RPROG。</p>
<h3>VC补偿</h3>
<p>VC节点是灯反馈电流、编程电流和<a href="https://www.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>器控制的交汇点。必须从VC引脚连接一个电容到地，以补偿反馈环路。电容值的选择需要谨慎考虑，典型值为0.1µF。</p>
<h3>OVSEN操作</h3>
<p>OVSEN引脚可用于保护高压变压器免受灯开路或不存在时的过压情况影响。当从OVSEN引脚流出的电流达到IOVSEN（保护）时，LTC1697 SW引脚的占空比将为0%。</p>
<h3>热关断</h3>
<p>该IC包含过温保护功能，用于在瞬间过载情况下保护设备。当过温保护激活时，结温将超过125°C。持续在指定的最大工作结温以上运行可能会导致设备性能下降或损坏。</p>
<h3>关机操作</h3>
<p>有两种方式可将LTC1697置于关机状态：将SHDN引脚拉低至VSHDN - L以下，或将VDIM引脚拉低至VDIM(<a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a> - I)以下超过约50ms。正常操作时，两个引脚都必须拉高，SHDN引脚必须高于VSHDN - H，VDIM引脚必须高于VDIM(SD - H)。</p>
<h2>五、应用信息与典型应用电路</h2>
<h3>应用背景</h3>
<p>当前的手持电脑和仪器通常使用背光液晶显示器（LCD），CCFL为显示器背光提供了最高的效率。这些灯需要高压交流电才能工作，因此需要一个高效的高压<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>/<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>转换器。理想情况下，灯驱动应包含零直流分量，以减少对灯的损害并延长其使用寿命。同时，转换器应以正弦波的形式提供灯驱动，以最小化EMI和<a href="https://www.elecfans.com/tongxin/rf/" target="_blank"><u>RF</u></a>辐射，提高电流到光的转换效率。</p>
<h3>典型应用电路</h3>
<p>文档中给出了典型应用电路和外部PWM调光的应用电路，展示了LTC1697在实际应用中的连接方式。通过合理选择电路中的元件，如电容、电阻、电感等，可以实现对CCFL灯的有效控制和调光。</p>
<h2>六、相关部件推荐</h2>
<p>文档还列出了一些相关的部件，如LT1170/LT1170HV、LT1182/LT1183等，这些部件在不同的应用场景中具有各自的特点和优势，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>可以根据具体需求进行选择。</p>
<p>总之，LTC1697以其高效、低功耗、灵活的调光功能和小巧的封装，为CCFL背光源的设计提供了一个优秀的解决方案。在实际应用中，工程师可以根据具体需求，合理选择元件和设置参数，以实现最佳的性能和效果。你在使用LTC1697的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[发动机缸体孔深光学3D轮廓测量-激光频率梳3D轮廓技术]]></title>    <link>https://www.elecfans.com/d/7655782.html</link>    <guid>https://www.elecfans.com/d/7655782.html</guid>    <pubDate>2026-02-12 11:12:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1 、引言</p>
<p style="text-indent:2em;">
	气动阀块孔是气动<a href="https://m.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>的核心流道结构，承担着压缩空气传输、阀组安装定位的关键功能，其孔深精度直接决定阀块装配密封性、气流控制精度，进而影响气动系统的响应速度与运行稳定性。传统测量技术如接触式探针测量易划伤孔壁、残留金属碎屑，可能导致气路堵塞或泄漏，且针对阀块内部密集交错的孔道存在可达性差的问题；超声测量受阀块铝合金/铸铁材料的声衰减及孔道界面反射干扰，测量误差难以满足精密气动系统的检测需求。激光频率梳技术凭借等间隔频率梳齿的<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>时频基准优势，实现频域与时域的精准转换，且具备非接触、无损伤、高效率测量特性，为气动阀块孔深3D轮廓测量提供了可靠解决方案。本文提出基于激光频率梳的气动阀块孔深光学3D轮廓测量方法，旨在突破传统技术瓶颈，满足阀块量产检测的高精度与高效率需求。</p>
<p style="text-indent:2em;">
	2 、激光频率梳3D轮廓测量原理</p>
<p style="text-indent:2em;">
	激光频率梳通过飞秒激光器产生超短脉冲序列，经非线性<a href="https://m.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>效应生成等频率间隔的梳齿状光谱，其重复频率与载波包络偏移频率的双锁定机制，可提供精度达10⁻¹⁵量级的时频基准。在3D轮廓测量中，激光频率梳输出的脉冲光经高精度微透镜组缩束与准直调制后，投射至气动阀块孔表面，反射光与参考光在<a href="https://www.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>上形成干涉<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，相位差与光程差呈严格线性对应关系。通过傅里叶变换解析干涉信号，结合莫尔条纹相位调制原理，可将条纹偏移量转化为孔壁与孔底的高度信息，即满足h = (Δx·λ)/(2·sinθ)（其中Δx为条纹偏移量，λ为激光波长，θ为投影角度）。相较于传统光学测量，该技术借助长相干长度特性（可调至120mm）突破阀块孔密集交错遮挡与长光程衰减限制，实现孔底轮廓的完整、无损伤、高精度重建。</p>
<p style="text-indent:2em;">
	3 、测量系统设计与实验验证</p>
<p style="text-indent:2em;">
	3.1 系统结构设计</p>
<p style="text-indent:2em;">
	测量系统由激光频率梳模块、微光束精准调制模块、图像采集模块及数据处理模块组成。激光频率梳模块选用650kHz高频飞秒激光器，输出635nm红光脉冲，既保证阀块铝合金/铸铁孔壁的反射效率，又避免激光能量对孔壁造成损伤；微光束精准调制模块通过高倍率微透镜组实现光束聚焦（聚焦光斑直径≤35μm），配合多自由度微型电动云台驱动实现±155°俯仰扫描，确保覆盖阀块内部密集交错孔道的全深度区域；图像采集模块采用高灵敏度、抗干扰CCD相机，配合频率梳时间戳标记实现干涉条纹的同步清晰采集；数据处理模块基于加权最小二乘法完成相位解包裹，结合气动阀块孔的圆柱面与斜面复合校准模型修正坐标偏差，最终精确计算孔深值。</p>
<p style="text-indent:2em;">
	3.2 实验验证</p>
<p style="text-indent:2em;">
	实验选取标准气动阀块样品，含直径2-6mm、深度20-80mm的孔道共40个，以高精度X-CT测量值为基准。系统扫描速度设为22mm/s，点云密度90点</p>
<p style="text-indent:2em;">
	激光频率梳3D光学轮廓测量系统简介：</p>
<p style="text-indent:2em;">
	20世纪80年代，飞秒锁模激光器取得重要进展。2000年左右，美国J.Hall教授团队凭借自参考f-2f技术，成功实现载波包络相位稳定的钛宝石锁模激光器，标志着飞秒光学频率梳正式诞生。2005年，Theodor.W.Hänsch（德国马克斯普朗克量子光学研究所）与John.L.Hall（美国国家标准和技术研究所）因在该领域的卓越贡献，共同荣获诺贝尔物理学奖。</p>
<p style="text-indent:2em;">
	系统基于激光频率梳原理，采用500kHz高频激光脉冲飞行测距技术，打破传统光学遮挡限制，专为深孔、凹槽等复杂大型结构件测量而生。在1m超长工作距离下，仍能保持微米级精度，革新自动化检测技术。</p>
<p style="text-indent:2em;">
	核心技术优势</p>
<p style="text-indent:2em;">
	①同轴落射测距：独特扫描方式攻克光学“遮挡”难题，适用于纵横沟壑的阀体油路板等复杂结构；</p>
<p style="text-indent:2em;">
	②高精度大纵深：以±2μm精度实现最大130mm高度/深度扫描成像；</p>
<p style="text-indent:2em;">
	③多镜头大视野：支持组合配置，轻松覆盖数十米范围的检测需求。</p>]]></description></item><item>    <title><![CDATA[MAX828/MAX829开关电容电压逆变器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7655972.html</link>    <guid>https://www.elecfans.com/d/7655972.html</guid>    <pubDate>2026-02-12 11:20:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655972" value="https://file1.elecfans.com/web2/M00/27/C3/pYYBAGHCyxaABDM9AAK6VIRIK-c841.pdf"/><h1>MAX828/MAX829 开关电容电压<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>：特性、应用与设计要点</h1>
<h2>一、引言</h2>
<p>在电子设计中，电压转换是一个常见且关键的环节。特别是在电池供电和板级电压转换应用中，高效、小型化的电压逆变器显得尤为重要。<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a>公司的MAX828/MAX829开关电容电压逆变器就是这样一款优秀的产品，下面我们来详细了解一下它的特点、应用以及设计过程中的注意事项。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655972" target="_blank">MAX828.pdf</a></p>
<h2>二、产品概述</h2>
<h3>2.1 基本特性</h3>
<p>MAX828/MAX829是超小型的CMOS<a href="https://m.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>逆变器，输入电压范围为+1.5V至+5.5V。其中，MAX828工作频率为12kHz，MAX829工作频率为35kHz。它们具有高效率（在大部分负载<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>范围内大于90%）和低工作电流（MAX828为60µA）的特点，非常适合电池供电和板级电压转换应用。</p>
<h3>2.2 内部结构</h3>
<p>芯片内部集成了<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a><a href="https://www.elecfans.com/soft/data/4-10/" target="_blank"><u>控制电路</u></a>和四个功率<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>开关，采用5引脚SOT23 - 5封装，能够在500mV的压降情况下提供25mA的输出电流。</p>
<h2>三、应用领域</h2>
<ul>
<li><strong>小型LCD面板</strong>：为LCD面板提供所需的负电压，保证其正常显示。</li>
<li><strong><a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a></strong>：满足手机内部不同电路模块对负电压的需求。</li>
<li><strong>医疗仪器</strong>：在一些对<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>稳定性要求较高的医疗设备中发挥作用。</li>
<li><strong>手持终端和PDA</strong>：为这些便携设备的电子电路提供合适的电压。</li>
<li><strong>电池供电设备</strong>：高效的电压转换可以延长电池的使用时间。</li>
</ul>
<h2>四、产品特性</h2>
<h3>4.1 封装与效率</h3>
<ul>
<li>采用5引脚SOT23 - 5封装，体积小巧，便于在电路板上布局。</li>
<li>具有高达95%的电压转换效率，能够有效减少能量损耗。</li>
</ul>
<h3>4.2 <a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<ul>
<li><strong>输入电压范围</strong>：+1.5V至+5.5V，适应多种电源环境。</li>
<li><strong>静态电流</strong>：MAX828的静态电流为60µA，功耗较低。</li>
<li><strong>输出电流</strong>：能够提供25mA的输出电流，满足一般应用需求。</li>
<li><strong>振荡器频率</strong>：MAX828为12kHz，MAX829为35kHz。</li>
</ul>
<h3>4.3 绝对最大额定值</h3>
<ul>
<li><strong>输入到地电压</strong>：+6.0V至 - 0.3V</li>
<li><strong>输出到地电压</strong>： - 6.0V至+0.3V</li>
<li><strong>输出电流</strong>：最大50mA</li>
<li><strong>短路保护</strong>：输出短路到地可无限期工作</li>
</ul>
<h2>五、典型工作电路与引脚说明</h2>
<h3>5.1 典型工作电路</h3>
<p>典型工作电路只需要两个外部<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>C1和C2，以及一个旁路电容（如有必要）。通过电容的充放电过程实现电压的反转。</p>
<h3>5.2 引脚说明</h3>
<table>
<thead>
<tr>
<th><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N</th>
<th>NAME</th>
<th>FUNC<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>ON</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>OUT</td>
<td>反相电荷泵输出</td>
</tr>
<tr>
<td>2</td>
<td>IN</td>
<td>正电源输入</td>
</tr>
<tr>
<td>3</td>
<td>C1 -</td>
<td>飞跨电容的负端</td>
</tr>
<tr>
<td>4</td>
<td>GND</td>
<td>接地</td>
</tr>
<tr>
<td>5</td>
<td>C1 +</td>
<td>飞跨电容的正端</td>
</tr>
</tbody>
</table>
<h2>六、设计要点</h2>
<h3>6.1 电容选择</h3>
<ul>
<li><strong>飞跨电容（C1）</strong>：增大飞跨电容的尺寸可以降低输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，但超过一定值后，效果不明显，因为输出电阻会受到内部开关电阻和电容ESR的限制。</li>
<li><strong>输出电容（C2）</strong>：增大输出电容的尺寸可以降低输出纹波电压，减小其ESR可以同时降低输出电阻和纹波。对于轻负载，如果能够容忍较高的输出纹波，可以使用较小的电容值。</li>
<li><strong>输入旁路电容</strong>：旁路输入电源可以降低其交流阻抗和开关噪声的影响。根据电路配置和负载连接位置选择合适的旁路电容。</li>
</ul>
<h3>6.2 效率考虑</h3>
<p>效率与输出电流和输出阻抗有关。在低输出电流时，静态电流对效率影响较大；在高输出电流时，输出阻抗对效率影响较大。计算公式如下：
(eta cong fr<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{I<em>{OUT }}{I</em>{OUT }+I<em>{O}}left(1-frac{I</em>{OUT } × R<em>{OUT }}{V</em>{IN }}right))
其中，输出阻抗 (R<em>{OUT } cong frac{1}{left(t</em>{OSC }right) × C 1}+2 R<em>{SW}+4 ESR</em>{C 1}+ESR_{C 2})</p>
<h3>6.3 级联与并联</h3>
<ul>
<li><strong>级联</strong>：两个设备可以级联以产生更大的负电压，但级联多个设备会使输出电阻大幅增加。</li>
<li><strong>并联</strong>：并联多个MAX828或MAX829可以降低输出电阻，每个设备需要自己的泵电容（C1），而储能电容（C2）可以共用。</li>
</ul>
<h3>6.4 重负载处理</h3>
<p>在重负载情况下，需要在GND和OUT之间连接一个<a href="https://www.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a><a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>（如1N5817），以防止OUT电源被拉到地以上。</p>
<h3>6.5 布局与接地</h3>
<p>良好的布局对于降低噪声至关重要。应尽量将所有组件安装在一起，缩短走线长度，以减少寄生电感和电容，并使用接地平面。</p>
<h3>6.6 关机控制</h3>
<p>如果需要逻辑控制关机功能，可以参考MAX1719/MAX1720/MAX1721。对于MAX828/MAX829，可以使用特定电路实现手动关机控制。</p>
<h2>七、总结</h2>
<p>MAX828/MAX829开关电容电压逆变器以其高效、小型化的特点，在多种电子应用中具有重要的价值。在设计过程中，合理选择电容、考虑效率和负载情况、优化布局和接地等方面都需要<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>仔细考虑。希望本文能够为<a href="https://m.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在使用MAX828/MAX829进行设计时提供一些有用的参考。你在实际设计中是否遇到过类似产品的应用难题呢？欢迎在评论区分享你的经验。 </p>]]></description></item><item>    <title><![CDATA[MAX865：紧凑型双输出电荷泵的深度解析]]></title>    <link>https://www.elecfans.com/d/7655973.html</link>    <guid>https://www.elecfans.com/d/7655973.html</guid>    <pubDate>2026-02-12 11:20:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655973" value="https://file1.elecfans.com/web2/M00/82/B5/pYYBAGOUMUuAXzYAAAFmAP-nuLE306.pdf"/><h1>MAX865：紧凑型双输出<a href="https://m.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>的深度解析</h1>
<p>在电子设计领域，<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>是一个至关重要的环节。今天，我们将深入探讨一款非常实用的电荷泵——MAX865，它由<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a>集成产品公司推出，以其紧凑的设计和出色的性能在众多应用中崭露头角。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655973" target="_blank">MAX865.pdf</a></p>
<h2>产品概述</h2>
<p>MAX865是一款采用超小µMAX封装的CMOS电荷泵<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>。它能够从单个正输入产生正输出和负输出，并且只需要四个<a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>，这大大简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>。其输入电压范围为+1.5V至+6.0V，内部<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>频率保证在20kHz至38kHz之间，既能将噪声保持在<a href="https://m.hqchip.com/app/1537" target="_blank"><u>音频</u></a>范围之上，又能消耗最小的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a><a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>。75Ω的输出阻抗允许高达20mA的有用输出电流。</p>
<h2>关键特性</h2>
<h3>封装优势</h3>
<p>MAX865采用1.11mm高的8引脚µMAX封装，占用的电路板面积仅为标准8引脚SOIC的一半，这对于对空间要求较高的设计来说是一个巨大的优势。</p>
<h3>电路简洁</h3>
<p>只需要四个<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>器，就能实现正、负双输出，大大减少了外部元件的数量，降低了成本和电路板空间。</p>
<h3>宽输入电压范围</h3>
<p>+1.5V至+6.0V的输入电压范围，使得它可以适应多种电源供电情况，增加了其应用的灵活性。</p>
<h3>低噪声设计</h3>
<p>内部振荡器频率高于音频范围，有效降低了音频干扰，适用于对噪声敏感的应用。</p>
<h2>应用场景</h2>
<ul>
<li><strong>无线手持设备</strong>：可用于低电压GaAsFET偏置、VCO和GaAsFET电源。</li>
<li><strong>电源系统</strong>：能为数据采集系统、<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电路等提供低成本的正负电源。</li>
<li><strong>显示设备</strong>：适用于LCD面板的电源供应。</li>
</ul>
<h2><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>电压参数</h3>
<p>最小供应电压在负载<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>为10kΩ时为2.0V（典型值1.5V），最大供应电压为6.0V。</p>
<h3>电流参数</h3>
<p>在室温（+25°C）下，电源电流典型值为0.6mA，最大为1.05mA；在-40°C至+85°C温度范围内，最大为1.15mA。</p>
<h3>振荡器频率</h3>
<p>室温下典型值为24kHz，在-40°C至+85°C温度范围内，频率范围为18kHz至34kHz。</p>
<h3>输出电阻</h3>
<p>在不同条件下，输出电阻有所不同。例如，在IV+ = 1mA，IV- = 0mA，室温下为150Ω，最大为200Ω；在不同温度和负载条件下，输出电阻会有所变化。</p>
<h3>效率参数</h3>
<p>功率效率在负载电流为5mA时可达85%，电压转换效率在不同输出和负载条件下也有较好的表现。</p>
<h2><a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>正电压倍增器</h3>
<p>MAX865内部的振荡器产生50%占空比的<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。在时钟信号的前半个周期，开关S2和S4打开，S1和S3闭合，电容C1充电至输入电压VIN；在后半个周期，S1和S3打开，S2和S4闭合，电容C1的电压向上平移VIN，电荷从C1转移到C3，使C3上的电压达到2VIN，从而产生正电源输出V+。</p>
<h3>负转换器</h3>
<p>负转换器的开关与正转换器相位相反。在时钟信号的后半个周期，开关S6和S8打开，S5和S7闭合，电容C2从V+（由正电荷泵提升至2VIN）充电至GND；在时钟信号的前半个周期，S5和S7打开，S6和S8闭合，电容C2上的电荷转移到C4，产生负电源输出V-。</p>
<h2>设计要点</h2>
<h3>电容选择</h3>
<p>为了保持最低的输出电阻，应使用具有低等效串联电阻（ESR）的电容器。电荷泵的输出电阻是C1、C2、C3和C4的ESR的函数，因此最小化电荷泵电容器的ESR可以最小化总输出电阻。在大多数应用中，四个电容器通常选用低成本的3.3µF极化<a href="https://www.hqchip.com/app/1139" target="_blank"><u>电解电容</u></a>器；对于对电路板空间要求较高且电流较小的应用，可以使用1µF的电容器。</p>
<h3>并联使用</h3>
<p>多个MAX865并联可以降低正、负转换器的输出电阻，有效输出电阻为单个器件输出电阻除以并联器件的数量。每个MAX865需要单独的C1和C2电荷泵电容器，但可以共享C3和C4储能电容器。</p>
<h3>重负载处理</h3>
<p>当处于重负载状态，V+向V-提供电流时，要防止V-电源高于地电位。在大电流从V+流向V-的应用中，可以在GND和V-之间使用<a href="https://www.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a><a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>（如1N5817）进行保护。</p>
<h3>布局和接地</h3>
<p>良好的布局对于降低噪声非常重要。应尽量将所有组件安装在一起，缩短走线长度以减少寄生电感和电容，并使用接地平面。</p>
<h2>总结</h2>
<p>MAX865以其紧凑的设计、简洁的电路和出色的性能，为<a href="https://m.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>提供了一个优秀的电源管理解决方案。无论是在无线手持设备、数据采集系统还是显示设备等领域，它都能发挥重要作用。在设计过程中，合理选择电容器、考虑并联使用、处理重负载情况以及优化布局和接地等要点，将有助于充分发挥MAX865的性能优势。你在使用MAX865的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[MAX864 双输出电荷泵：设计与应用全解析]]></title>    <link>https://www.elecfans.com/d/7655982.html</link>    <guid>https://www.elecfans.com/d/7655982.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655982" value="https://file1.elecfans.com/web2/M00/82/2D/poYBAGOUNAaAabBTAAHpe0X1uug984.pdf"/><h1>MAX864 双输出<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>：设计与应用全解析</h1>
<p>在电子设计领域，<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>模块的性能直接影响着整个系统的稳定性和效率。今天要给大家介绍的 MAX864 双输出电荷泵，是一款在低电压应用中表现出色的 <a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC 电压<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>，下面将从多个方面详细解析它的特点、原理及应用。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655982" target="_blank">MAX864.pdf</a></p>
<h2>产品概述</h2>
<p>MAX864 是一款 CMOS 电荷泵 DC - DC 电压转换器，仅需四个<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>就能从单个正输入产生正负两个输出。它的输入电压范围为 +1.75V 至 +6.0V，内部<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>可通过引脚<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>实现 7kHz 至 185kHz 的频率调节，便于优化静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>、电容大小和开关频率。其 55Ω 的输出阻抗可提供高达 20mA 的有用输出电流，还具备 1µA 的逻辑控制关断功能。</p>
<p>MAX864 采用 16 引脚 QSOP 封装，占用面积与标准 8 引脚 SOIC 相同，而对于空间要求更严格的应用，还有采用 8 引脚 µMAX 封装的 MAX865 可供选择，其占用面积仅为 MAX864 的一半。</p>
<h2>产品特性</h2>
<h3>低元件需求</h3>
<p>仅需四个电容，便可轻松实现电压转换功能，大大简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>，降低了成本和 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 面积。这种简洁的设计对于追求小型化和低成本的产品来说，无疑是一个巨大的优势。大家在设计一些对空间和成本要求较高的产品时，不妨考虑一下这个特性带来的便利。</p>
<h3>双输出功能</h3>
<p>能够同时提供正、负两种输出，满足了许多需要正负<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>供电的电路需求，如<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电路、LCD 面板等。在实际应用中，你是否遇到过因为需要正负电源而使电路变得复杂的情况呢？MAX864 或许能为你解决这个难题。</p>
<h3>宽输入电压范围</h3>
<p>输入电压范围为 +1.75V 至 +6.0V，可适应多种电源场景，如由 2 至 4 节镍氢电池或 1 节<a href="https://www.elecfans.com/v/tag/2692/" target="_blank"><u>锂电池</u></a>供电的系统。这使得它在不同的电源环境下都能稳定工作，提高了产品的通用性。</p>
<h3>低功耗关断模式</h3>
<p>具备 1µA 的逻辑控制关断功能，在不需要工作时可以将功耗降至极低，延长电池续航时间。对于一些对功耗敏感的设备，如无线手持设备，这个功能就显得尤为重要。</p>
<h3>可调节频率</h3>
<p>内部振荡器频率可通过引脚编程在 7kHz 至 185kHz 之间调节，方便<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>根据实际需求优化电容大小和电源电流。不同的应用场景对电容大小和电源电流的要求不同，你会如何根据具体情况选择合适的频率呢？</p>
<h2><a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>电压倍增与反相</h3>
<p>MAX864 的电荷泵先将输入电压加倍，然后再将加倍后的电压反相。具体来说，片上振荡器产生 50% 占空比的<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，在正电压倍增阶段，通过开关的切换使电容 C1 在半个周期内充电至输入电压，另半个周期将电容 C1 的电压上移，从而在电容 C3 上得到 2 倍输入电压的正输出（V +）。而负电压转换阶段，其开关与正电压转换部分反相，将电荷从 V + 转移到电容 C4 上，产生负输出（V -）。这八个开关均为 CMOS 功率 <a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>，不同类型的 MOSFET 组合确保了电路的高效运行。</p>
<h3>频率与电容选择</h3>
<p>MAX864 提供四种不同的电荷泵频率，可通过引脚 FC0 和 FC1 进行选择。较低的电荷泵频率可降低平均电源电流，但需要较大的电容；而较高的电荷泵频率则需要较小的电容，但电源电流会相应增加。同时，为了保持最低的输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，应使用低等效串联电阻（ESR）的电容，陶瓷电容是最佳选择。在实际设计中，你是如何权衡频率和电容的选择呢？</p>
<h2><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>电源参数</h3>
<p>最小启动电压在不同温度下有所不同，在 25°C 时为 1.75V，在整个工作温度范围内为 2.00V；最大电源电压为 6.0V。随着电荷泵频率的增加，电源电流也会相应增加，如在 FC1 = FC0 = GND，f = 7kHz 时，电源电流为 0.6 - 1.0mA；而在 FC1 = FC0 = IN，f = 185kHz 时，电源电流为 12 - 18mA。关断电流极低，仅为 0.1 - 1µA，充分体现了其低功耗的特性。</p>
<h3>输入输出参数</h3>
<p>逻辑输入低电压为 0 - 1.0V，高电压为 2.8 - 3.5V，逻辑输入偏置电流为 - 1 - 1µA。V + 到 IN 的关断电阻为 22 - 100Ω，V - 到 GND 的关断电阻为 6 - 50Ω。输出电阻在室温下约为 55Ω，且会随着工作条件的变化有所波动。电压转换效率在负载开路时可达到 95 - 99%，表现出色。</p>
<h2>典型应用</h2>
<h3>正负电源转换</h3>
<p>最常见的应用是作为双电荷泵电压转换器，为偏置模拟电路提供正负输出，输出电压分别为输入电压的两倍。在实际应用中，应选择合适的电荷泵频率，既要避免干扰<a href="https://www.elecfans.com/soft/data/4-19/" target="_blank"><u>其他电路</u></a>，又要保持较低的电源电流。参考表 1 进行正确的设备配置，可以确保电路的稳定运行。</p>
<h3>多器件并联</h3>
<p>通过并联多个 MAX864 可以降低正负转换器的输出电阻，有效输出电阻为单个器件输出电阻除以器件总数。每个 MAX864 需要单独的 C1 和 C2 电荷泵电容，但可以共享 C3 和 C4 储能电容。在需要大电流输出的场合，这种方法可以显著提高电路的性能。</p>
<h3>重负载处理</h3>
<p>当 V + 向 V - 提供大电流负载时，为防止 V - 电源高于地电位，需要在 GND 和 V - 之间使用<a href="https://m.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a><a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>（如 1N5817），并将阳极连接到 GND。这一措施可以保证电路在重负载情况下的安全性和稳定性。</p>
<h3>布局与接地</h3>
<p>良好的布局对于电路的噪声性能至关重要。应尽量将所有组件紧密安装在一起，缩短走线长度以减小寄生电感和电容，并使用接地层。将所有未连接（N.C.）引脚连接到接地层可以改善散热性能。合理的布局和接地设计可以有效提高电路的稳定性和可靠性。</p>
<h2>总结</h2>
<p>MAX864 双输出电荷泵以其简洁的设计、丰富的功能和出色的性能，在低电压电源管理领域具有广泛的应用前景。<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在进行相关设计时，可根据具体的应用需求，合理选择电荷泵频率和电容，优化电路布局和接地，以充分发挥 MAX864 的优势。在面对不同的电源设计挑战时，你是否会考虑使用 MAX864 呢？希望本文能为大家在电子设计中提供一些有价值的参考。</p>
<p>如果你对 MAX864 或其他电源管理芯片有更多的疑问或经验，欢迎在评论区留言分享！  </p>]]></description></item><item>    <title><![CDATA[MAX868：可调节-2倍反相电荷泵的设计与应用]]></title>    <link>https://www.elecfans.com/d/7655983.html</link>    <guid>https://www.elecfans.com/d/7655983.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655983" value="https://file1.elecfans.com/web2/M00/82/B5/pYYBAGOUMauADd11AAJirEI0Hg0337.pdf"/><h1>MAX868：可调节-2倍反相<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>的设计与应用</h1>
<p>在电子设备的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计中，常常需要将正电压转换为稳定的负电压，以满足特定电路的需求。MAX868反相电荷泵便是一款能出色完成这一任务的器件。下面，我们就来深入了解一下MAX868的特性、设计要点和应用场景。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655983" target="_blank">MAX868.pdf</a></p>
<h2>一、MAX868概述</h2>
<p>MAX868是一款能从1.8V至5.5V的正输入电压产生高达 -2 x VIN 稳定负电压的电荷泵。它采用脉冲频率调制（PFM）控制方案来生成稳定的负输出电压。这种独特的按需开关方案使MAX868在轻载时具有出色的效率，同时不影响其满载（高达30mA）运行。而且，该器件无需电感，仅需四个<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>和两个<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>就能构建一个完整的<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>。其采用10引脚的µMAX封装，高度仅1.11mm，占用的电路板面积仅为标准8引脚SO封装的一半。</p>
<h2>二、应用场景</h2>
<p>由于其小巧、高效的特性，MAX868被广泛应用于多个领域，如小型LCD面板、<a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、无绳电话、摄像机、手持终端、PDA、医疗仪器和电池供电设备等。大家在实际项目中，是否也遇到过需要类似电源转换的场景呢？</p>
<h2>三、器件特性</h2>
<h3>3.1 输出电压与封装</h3>
<ul>
<li>可调节稳定负输出电压，最高可达 -2 x VIN。</li>
<li>采用超小型10引脚µMAX封装，节省电路板空间。</li>
</ul>
<h3>3.2 开关特性与功耗</h3>
<ul>
<li>按需开关，最高可达450kHz。</li>
<li>静态电源<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅30µA，逻辑控制关断电流低至0.1µA，有效降低功耗。</li>
</ul>
<h3>3.3 输入输出范围</h3>
<ul>
<li>输入电压范围为1.8V至5.5V，输出电流最高可达30mA。</li>
</ul>
<h3>3.4 外部元件需求</h3>
<p>仅需四个小型外部电容，简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>。</p>
<h2>四、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数</h2>
<p>在不同的工作条件下，MAX868有一系列明确的电气参数。例如，在 (V<em>{IN}= +3.3V)，(overline{SHDN}=IN)，(C1 = C2 = 0.22mu F)，(C</em>{IN}= 1mu F)，(C<em>{OUT}= 10mu F)，(T</em>{A}= 0^{circ}C) 至 +85°C 的条件下，其电源电压范围为1.8V至5.5V，无负载时电源电流典型值为30µA，关断电流最大值为1µA等。这些参数为设计人员提供了精确的参考，大家在设计时一定要根据实际情况合理选择工作条件哦。</p>
<h2>五、设计要点</h2>
<h3>5.1 输出电压设置</h3>
<p>通过两个外部电阻R1和R2可以设置输出电压。先在100kΩ至500kΩ范围内选择R2，然后使用公式 (R1 = R2 × fr<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{left|V<em>{OUT}right|}{V</em>{REF}}) 计算R1。当MAX868由<a href="https://www.elecfans.com/tags/稳压电源/" target="_blank"><u>稳压电源</u></a>供电时，可使用VIN作为参考电压；若由非稳压电源供电，则需使用系统中可用的正参考电压。另外，如果需要多个振荡周期来调节输出，可以减小R1和R2的值，或者在R1两端并联一个小电容CC来补偿反馈回路，确保稳定性。</p>
<h3>5.2 电容选择</h3>
<h4>5.2.1 飞跨电容</h4>
<p>飞跨电容的选择主要取决于所需的输出电流。对于0.1µF至0.33µF范围内的飞跨电容，最大输出电流可通过公式 (I<em>{OUT(MAX)} =frac{2 × V</em>{IN }-left|V<em>{OUT }right|}{frac{4}{f</em>{MAX } <a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>mes(C 1+C 2)}+R<em>{OUT } × frac{10 V}{V</em>{IN }+left|V_{OUT }right|}}) 近似计算。一般应选择能提供所需输出电流的最小飞跨电容值，以减小输出电压纹波。建议选用表面贴装陶瓷电容，其具有体积小、成本低和等效串联电阻（ESR）低的优点，并且要选择具有X7R（或等效）低温系数电介质的陶瓷电容，以确保在整个温度范围内正常工作。</p>
<h4>5.2.2 输出电容</h4>
<p>输出电容用于存储从飞跨电容转移的电荷，并在振荡周期之间为负载供电。一般来说，输出电容应至少是飞跨电容的十倍。输出电压纹波取决于飞跨电容的电容值、输出电容的电容值和ESR。在闭环模式下，可使用公式 (V<em>{RIPPLE }=left(2 × V</em>{IN }-left|V<em>{OUT }right|right) timesleft(frac{1}{1+frac{4 × C</em>{OUT }}{C 1+C 2}}+frac{R<em>{ESR }}{R</em>{OUT }}right)) 近似计算输出电压纹波。为了使输出纹波最小，应选择低ESR的输出电容，表面贴装陶瓷电容和低ESR钽电解电容都是不错的选择。</p>
<h2>六、应用信息</h2>
<h3>6.1 低输出电压操作</h3>
<p>在低输出电压操作时，MAX868的效率与<a href="https://m.hqchip.com/app/1700" target="_blank"><u>线性稳压器</u></a>非常相似。可以使用公式 (eta=frac{left|V<em>{OUT}right|}{k × V</em>{IN}}) 估算效率，其中k对于图5的标准配置等于2，对于图6的电路等于1。当输出电压不低于 -|VIN| 时，使用图6的电路可以使效率提高一倍。</p>
<h3>6.2 布局和接地</h3>
<p>正确的布局对于获得最佳性能至关重要。应使用尽可能短的走线将GND和PGND连接在一起，并将这些引脚连接到接地平面。所有电容应尽可能靠近MAX868安装，保持走线短以减少寄生效应。同时，要确保所有连接到FB引脚的走线尽可能短。</p>
<h2>七、总结</h2>
<p>MAX868以其小巧的封装、高效的性能和简单的电路设计，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在正电压转负电压的设计中提供了一个优秀的解决方案。在实际应用中，只要我们根据其特性和设计要点进行合理设计，就能充分发挥其优势，满足各种电子设备的电源需求。大家在使用MAX868的过程中，有没有遇到过什么特别的问题或者有什么独特的设计技巧呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[HDC2010：低功耗温湿度数字传感器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7655984.html</link>    <guid>https://www.elecfans.com/d/7655984.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655984" value="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNRzOAR9HtABLPufAgJvo844.pdf"/><h1>HDC2010：低功耗温湿度数字传感器的卓越之选</h1>
<p>在电子设备的设计中，温<a href="https://www.elecfans.com/tags/湿度传感器/" target="_blank"><u>湿度传感器</u></a>是不可或缺的一部分，它广泛应用于各种<a href="https://www.elecfans.com/v/tag/1453/" target="_blank"><u>环境监测</u></a>和控制场景。今天，我们就来深入了解一下<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>）的 HDC2010 低功耗温湿度数字传感器，看看它有哪些独特的特性和优势。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655984" target="_blank">hdc2010.pdf</a></p>
<h2>一、HDC2010 概述</h2>
<p>HDC2010 是一款高度集成的数字温湿度传感器，它将湿度传感和温度传感元件、<a href="https://www.elecfans.com/tags/模数转换器/" target="_blank"><u>模数转换器</u></a>、校准存储器以及 <a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a> <a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>集成在一个 1.5mm x 1.5mm 的 DSBGA 封装中。这种紧凑的设计使得它非常适合用于对空间要求较高的应用场景。</p>
<h3>1. 性能参数亮点</h3>
<ul>
<li><strong>温湿度测量范围与精度</strong>：相对湿度测量范围为 0% 至 100%，湿度精度可达 ±2%；温度测量范围在工作时为 –40°C 至 85°C，功能上为 –40°C 至 125°C，温度精度典型值为 ±0.2°C。这样的<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量能力能够满足大多数应用场景的需求。</li>
<li><strong>低功耗特性</strong>：睡眠<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅为 50 nA，平均供电电流在不同测量模式下也非常低。例如，每秒进行一次测量时，仅测量湿度（11 位）为 300 nA，同时测量湿度（11 位）和温度（11 位）为 550 nA。这种低功耗特性使得 HDC2010 非常适合用于电池供电或能量收集的应用中。</li>
<li><strong>供电电压范围</strong>：供电电压范围为 1.62 V 至 3.6 V，具有较宽的电压适应性，方便与各种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>系统集成。</li>
<li><strong>可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>采样率</strong>：支持多种可编程采样率，包括 5 Hz、2 Hz、1 Hz、0.2 Hz、0.1 Hz、1/60 Hz 和 1/120 Hz，还可以按需触发测量，为不同的应用场景提供了灵活的选择。</li>
</ul>
<h2>二、应用领域广泛</h2>
<p>HDC2010 的高精度和低功耗特性使其在众多领域都有广泛的应用：</p>
<ul>
<li><strong><a href="https://m.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a></strong>：在智能恒温器和智能家居助手等设备中，HDC2010 可以实时监测室内的温湿度，为用户提供舒适的居住环境。</li>
<li><strong>冷链运输与存储</strong>：对于易腐货物的冷链运输和存储，HDC2010 能够提供关键的温度和湿度数据，确保货物的新鲜度和质量。</li>
<li><strong>工业与商业设备</strong>：如冰箱、洗衣机/烘干机、HV<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a> 系统等，HDC2010 可以帮助这些设备实现精确的温湿度控制。</li>
<li><strong>其他领域</strong>：还可应用于气体传感、<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>设备、环境<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>、烟雾和热<a href="https://m.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>、喷墨打印机、监控摄像头、CPAP 机器以及可穿戴设备等。</li>
</ul>
<h2>三、功能特性详解</h2>
<h3>1. 睡眠模式与低功耗</h3>
<p>HDC2010 的低功耗特性主要体现在其睡眠模式上。在大多数时间里，<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>处于睡眠模式，典型电流消耗仅为 50 nA，这大大降低了平均功耗和自热效应，延长了电池的使用寿命。</p>
<h3>2. 测量模式</h3>
<ul>
<li><strong>触发式测量</strong>：通过 I2C 命令按需启动测量，测量完成后设备返回睡眠模式，直到下一个 I2C 命令到来。这种模式适用于需要在特定时刻进行测量的场景。</li>
<li><strong>自动测量模式</strong>：可以编程设置为按周期进行测量，用户可以选择 7 种不同的采样率，从每 2 分钟一次采样到每秒 5 次采样。在自动测量模式下，传感器根据选定的采样率从睡眠模式唤醒进行测量，提高了测量效率和功耗管理。</li>
</ul>
<h3>3. 加热元件</h3>
<p>HDC2010 集成了加热元件，可在高湿度环境中短暂开启，防止或去除可能形成的冷凝水。同时，加热元件还可用于验证集成<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>的功能。需要注意的是，加热元件启动后，设备的工作温度应限制在 100°C 以下，并且加热元件在 3.3-V 工作时典型电流消耗为 90 mA，在 1.8-V 工作时为 55 mA。</p>
<h3>4. 中断功能</h3>
<p>HDC2010 的 DRDY/INT 引脚可用于中断功能。当多个中断位被启用时，该引脚每次只能反映一个中断位的状态，且优先级顺序为 TH_ENABLE &gt; TL_ENABLE &gt; HH_ENABLE &gt; HL_ENABLE。通过配置相关<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>，可以实现数据就绪中断、温度阈值中断和湿度阈值中断等功能。</p>
<h2>四、编程与寄存器配置</h2>
<h3>1. I2C 通信</h3>
<p>HDC2010 通过 I2C 接口进行通信，作为 I2C 总线上的从设备，它支持最多两个设备在同一总线上寻址。通过 <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>DR 引脚的不同连接方式（连接到 GND 或 VDD），可以设置不同的从设备地址（分别为 1000000 和 1000001）。</p>
<h3>2. 寄存器功能</h3>
<p>HDC2010 包含多个数据寄存器，用于存储配置信息、温湿度测量结果和状态信息。例如，温度和湿度测量结果分别存储在相应的寄存器中，通过读取这些寄存器可以获取测量值。同时，还可以通过配置寄存器来设置测量模式、采样率、中断阈值等参数。</p>
<h2>五、设计与应用注意事项</h2>
<h3>1. 电源供应</h3>
<p>HDC2010 需要 1.62 V 至 3.60 V 的电压供应，建议在 VDD 和 GND 引脚之间使用 0.1 µF 的多层陶瓷旁路 X7R <a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>，以稳定电源。</p>
<h3>2. 布局设计</h3>
<ul>
<li><strong>热隔离</strong>：为了提高测量精度，应将 HDC2010 与所有热源（如有源电路、电池、显示器和<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>元件）隔离。可以通过在设备周围创建切口或小沟槽来减少 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 热源向传感器的热传递。</li>
<li><strong>气流设计</strong>：在设计设备外壳时，应使用一个或多个开口，以确保即使在静态条件下也能有良好的气流，使传感器周围的局部条件与监测环境相匹配。</li>
<li><strong>PCB 布局</strong>：遵循 TI 提供的 Land Pat<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>rn、Solder Mask 和 Solder Paste 示例进行 PCB 布局，消除设备下方的铜层（GND、VDD），并在 PCB 周围创建插槽，以增强 HDC2010 的热隔离性能。</li>
</ul>
<h3>3. 存储与处理</h3>
<ul>
<li><strong>避免污染</strong>：在存储和处理过程中，应避免 HDC2010 长时间暴露在紫外线和可见光下，以及避免接触化学蒸汽，同时要保护设备免受制造、运输、操作和包装材料产生的溶剂蒸汽的影响。</li>
<li><strong>焊接注意事项</strong>：在 PCB 组装时，使用标准回流焊炉，采用无铅焊膏，且焊膏在组装过程中不得接触水或溶剂冲洗，以避免影响传感器精度。回流焊后，传感器可能会出现相对湿度输出偏移，需要经过一段时间的再水化过程，使其恢复到校准的 RH 精度。</li>
</ul>
<h2>六、总结</h2>
<p>HDC2010 作为一款高性能的低功耗温湿度数字传感器，以其高精度、低功耗、可编程性和丰富的功能特性，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在各种应用场景中提供了一个优秀的选择。在设计过程中，只要注意电源供应、布局设计和存储处理等方面的问题，就能够充分发挥 HDC2010 的优势，实现可靠的温湿度监测和控制。你在使用温湿度传感器时遇到过哪些问题呢？欢迎在评论区分享你的经验和想法。 </p>]]></description></item><item>    <title><![CDATA[TMP461-SP：辐射加固高精度温度传感器的深度解析]]></title>    <link>https://www.elecfans.com/d/7655985.html</link>    <guid>https://www.elecfans.com/d/7655985.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655985" value="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNRzOAdYPwAAvgCuWy3x8899.pdf"/><h1>TMP461-SP：辐射加固<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a><a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>的深度解析</h1>
<p>在电子设备的设计中，精确的温度监测至关重要，尤其是在对可靠性和精度要求极高的航天等领域。TMP461-SP作为一款辐射加固、高精度的远程和本地温度传感器，为这些应用提供了可靠的解决方案。本文将深入剖析TMP461-SP的特性、功能及应用，希望能为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们在设计中提供有价值的参考。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655985" target="_blank">tmp461-sp.pdf</a></p>
<h2>一、产品概述</h2>
<p>TMP461-SP是一款集成了本地温度测量通道和远程结温度测量通道的数字温度传感器，采用CFP HKU - 10封装。它具备QMLV资格<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>（5962R - 1721801VXC），具有热增强型HKU封装，能保证在辐射环境下的稳定工作，总电离剂量（<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>D）高达100 krad(Si)（低剂量率10 mrad/s），在125°C时对单事件闩锁（SEL）免疫，SEL阈值为76 MeV·cm²/mg。</p>
<h2>二、关键特性</h2>
<h3>高精度测量</h3>
<ul>
<li><strong>远程<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>温度传感器精度</strong>：在扩展温度范围[-55°C至125°C]内，精度可达±1.5°C。</li>
<li><strong>本地温度传感器精度</strong>：同样在该温度范围内，精度为±2°C。</li>
<li><strong>测量范围与分辨率</strong>：能够测量-64°C至191°C的远程二极管温度，本地和远程通道的分辨率均为0.0625°C。</li>
</ul>
<h3>低功耗设计</h3>
<ul>
<li><strong>工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></strong>：在1 SPS模式下，工作电流仅为35µA。</li>
<li><strong>关断电流</strong>：低至3µA，有效降低了功耗。</li>
</ul>
<h3>先进功能</h3>
<ul>
<li><strong>串联<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>消除</strong>：可自动消除因布线电阻或外部低通<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>电阻引起的温度误差，最多可消除1 kΩ的串联电阻。</li>
<li><strong>η因子和偏移校正</strong>：允许根据实际情况调整η因子，提高测量精度。</li>
<li><strong>可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>数字滤波器</strong>：提供两级可编程数字滤波，有效减少噪声对测量结果的影响。</li>
<li><strong>二极管故障检测</strong>：能够检测D +输入的故障，如错误的二极管连接或开路情况。</li>
</ul>
<h3><a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a></h3>
<p>支持两线和SMBus™串行<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，具有多达九个引脚可编程地址，方便与其他设备进行<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。</p>
<h2>三、详细功能解析</h2>
<h3>温度测量数据</h3>
<p>本地和远程温度传感器的分辨率均为12位（0.0625°C）。温度数据以二进制形式表示，可通过标准二进制或扩展二进制格式存储。通过配置<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>的RANGE位，可以切换测量范围，扩展范围可测量低至-64°C、高至191°C的温度。</p>
<h3>过滤功能</h3>
<ul>
<li><strong><a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>滤波</strong>：在D +和D -输入上内置65 - kHz滤波器，减少噪声影响。建议在远程温度传感器输入之间差分放置100 pF至1 nF的旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，以增强抗干扰能力。</li>
<li><strong>数字滤波</strong>：可编程数字滤波器有两级，Level 1对四个连续样本进行移动平均，Level 2对八个连续样本进行移动平均，有效减少噪声和尖峰对ALERT和THERM输出的影响。</li>
</ul>
<h3><a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>故障检测</h3>
<p>TMP461 - SP可以检测D +输入的故障，如开路或短路情况。当检测到故障时，状态寄存器的OPEN位将被置为1。</p>
<h3>ALERT和THERM功能</h3>
<p>ALERT（引脚7）和THERM（引脚4）中断可用于温度报警。通过配置寄存器的相关位，可以设置中断模式和滞后值。CONAL[2:0]位可控制ALERT引脚触发前的连续越限次数，提供额外的滤波功能。</p>
<h2>四、编程与寄存器操作</h2>
<h3>串行接口</h3>
<p>TMP461 - SP作为从设备，通过<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A和SCL引脚与两线总线或SMBus连接。支持快速（1 kHz至400 kHz）和高速（1 kHz至2.17 MHz）模式，数据字节按MSB优先传输。</p>
<h3>总线操作</h3>
<ul>
<li><strong>总线空闲</strong>：SDA和SCL线均保持高电平。</li>
<li><strong>数据传输开始</strong>：SCL为高时，SDA从高到低变化表示开始条件。</li>
<li><strong>数据传输停止</strong>：SCL为高时，SDA从低到高变化表示停止条件。</li>
<li><strong>数据传输</strong>：主设备控制数据字节的传输数量，接收设备需产生确认位。</li>
</ul>
<h3>寄存器操作</h3>
<p>TMP461 - SP包含多个寄存器，用于存储配置信息、温度测量结果和状态信息。通过指针寄存器可以选择要访问的寄存器。例如，本地和远程温度寄存器存储温度测量结果，状态寄存器报告温度<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>、温度限制<a href="https://m.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>和远程传感器连接状态。</p>
<h2>五、应用与实现</h2>
<h3>典型应用场景</h3>
<ul>
<li><strong>航天器<a href="https://www.elecfans.com/soft/data/30-91/" target="_blank"><u>FPGA</u></a>、<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>C、<a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>DAC</u></a>和<a href="https://www.elecfans.com/tags/asic/" target="_blank"><u>ASIC</u></a>温度监测</strong>：为航天器关键部件提供精确的温度监测，确保其在极端环境下的稳定运行。</li>
<li><strong>航天器内务管理和遥测</strong>：简化航天器的温度监测和数据采集工作。</li>
</ul>
<h3>设计要点</h3>
<ul>
<li><strong><a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>选择</strong>：若使用离散晶体管作为远程温度传感器，应选择基极 - 发射极电压、基极电阻和hFE特性符合要求的晶体管，如2N3904（NPN）或2N3906（PNP）。</li>
<li><strong>布局设计</strong>：为减少噪声影响，应将TMP461 - SP尽可能靠近远程结传感器，合理布线D +和D -迹线，并使用接地保护迹线进行屏蔽。同时，使用0.1 - μF的本地旁路电容，控制D +和D -之间的滤波电容不超过1000 pF。</li>
</ul>
<h3>辐射环境考虑</h3>
<p>在辐射环境中使用TMP461 - SP时，需考虑单事件闩锁（SEL）、单事件功能中断（SEFI）和单事件翻转（SEU）等问题。建议每次读取操作时写入适当的值到指针寄存器，以降低单事件翻转导致读取失败的概率。</p>
<h2>六、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>与布局建议</h2>
<h3>电源供应</h3>
<p>TMP461 - SP的电源电压范围为1.7 V至3.6 V，建议使用0.1 μF的电源旁路电容，并将其尽可能靠近设备的电源和接地引脚。对于噪声较大或高阻抗的电源，可能需要额外的去耦电容。</p>
<h3>布局准则</h3>
<ul>
<li>尽量缩短TMP461 - SP与远程结传感器的距离。</li>
<li>采用5 - mil（0.127 mm）的<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>迹线，将D +和D -迹线相邻布线，并使用接地层进行屏蔽。</li>
<li>减少铜 - 焊料连接产生的热电偶结，确保D +和D -连接中的热电偶效应相互抵消。</li>
<li>对于短距离连接（小于8英寸），使用双绞线；对于长距离连接，使用屏蔽双绞线，并将屏蔽层在靠近TMP461 - SP的一端接地。</li>
</ul>
<h2>七、总结</h2>
<p>TMP461 - SP以其高精度、低功耗、抗辐射等特性，成为航天等领域温度监测的理想选择。通过合理的设计和布局，可以充分发挥其性能优势，为电子设备的稳定运行提供可靠保障。在实际应用中，电子工程师们需要根据具体需求，灵活配置寄存器和选择合适的外部元件，以实现最佳的温度监测效果。你在使用TMP461 - SP的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[探索DRV5012：超低功耗数字锁存霍尔效应传感器的卓越性能与应用]]></title>    <link>https://www.elecfans.com/d/7655986.html</link>    <guid>https://www.elecfans.com/d/7655986.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655986" value="https://file1.elecfans.com/web3/M00/4B/B7/wKgZO2mNRzOAfiAZAA77ACjJpzo671.pdf"/><h1>探索DRV5012：超低功耗数字锁存霍尔效应<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>的卓越性能与应用</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常工作中，传感器的选择对于项目的成功至关重要。今天，我们将深入探讨一款备受关注的传感器——DRV5012，它是一款超低功耗数字锁存霍尔效应传感器，以其出色的性能在多个领域展现出巨大的应用潜力。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655986" target="_blank">drv5012.pdf</a></p>
<h2>器件特性</h2>
<h3>低功耗优势</h3>
<p>DRV5012在功耗方面表现卓越，处于行业领先地位。它提供了引脚可选的采样率，当 SEL 引脚为低电平时，采样率为 20 Hz，此时在 1.8 V <a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>下仅消耗 1.3 µA <a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>；而当 SEL 引脚为高电平时，采样率提升至 2.5 kHz，但电流消耗也仅为 142 µA（同样在 1.8 V 电源下）。这种灵活的采样率选择，使得<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>能够根据具体应用场景，在功耗和采样速度之间进行最佳平衡，有效延长设备的电池续航时间。</p>
<h3>宽工作电压范围</h3>
<p>该器件的工作电压范围为 1.65 - 5.5 V，这使得它能够适应多种不同的电源系统。无论是使用单节电池供电的便携式设备，还是采用标准<a href="https://m.hqchip.com/app/1705" target="_blank"><u>电源模块</u></a>的工业应用，DRV5012 都能稳定工作，为工程师提供了更广泛的设计选择。</p>
<h3>高磁灵敏度与稳健滞回</h3>
<p>DRV5012 具有高达 ±2 mT（典型值）的磁灵敏度，能够精确检测微弱的磁场变化。同时，其典型的 4 mT 滞回特性，确保了输出<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的稳定性和可靠性，有效避免了因磁场波动而导致的误触发，提高了系统的抗干扰能力。</p>
<h3>输出与封装优势</h3>
<p>它采用推挽式 CMOS 输出，能够直接驱动负载，简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>。此外，小巧轻薄的 X2SON 封装，不仅节省了电路板空间，还便于在高密度的 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 上进行布局，非常适合对尺寸要求严格的应用场景。</p>
<h3>广泛的温度适应范围</h3>
<p>该器件的工作温度范围为 -40°C 至 +85°C，能够在恶劣的环境条件下稳定工作，适用于各种工业、汽车和户外应用。</p>
<h2><a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<p>DRV5012 内部集成了霍尔效应元件、<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>信号调理电路和低频<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>。当有磁场作用时，霍尔效应元件会产生相应的电压信号，经过模拟信号调理电路处理后，通过内部振荡器以设定的采样率对磁场进行周期性采样。当靠近封装顶部的为南极磁场且超过 (B<em>{OP}) 阈值时，输出低电压；当施加北极磁场且超过 (B</em>{RP}) 阈值时，输出高电压。并且，由于集成了滞回特性，输出信号的切换更加稳定可靠。</p>
<h2>应用领域</h2>
<h3>无刷直流<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>传感器</h3>
<p>在无刷直流电机（<a href="https://www.elecfans.com/tags/bldc/" target="_blank"><u>BLDC</u></a>）系统中，DRV5012 能够精确测量转子的位置和角度，为<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>器提供准确的反馈信号，从而实现电机的高效、稳定运行。例如，在一个三相 BLDC 电机系统中，通常需要使用 3 个 DRV5012 传感器，将它们均匀分布在 PCB 上，彼此间隔 120° 电角度，以准确测量电机的<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>周期。</p>
<h3>增量式旋转编码</h3>
<p>增量式<a href="https://www.elecfans.com/tags/编码器/" target="_blank"><u>编码器</u></a>广泛应用于电机速度测量、<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>行程检测、流体测量、旋钮旋转控制和车轮速度监测等领域。通过将<a href="https://www.hqchip.com/app/1093" target="_blank"><u>环形</u></a>磁铁安装在旋转部件上，并在附近放置 DRV5012 传感器，当磁铁旋转时，传感器会产生相应的脉冲信号，通过对脉冲信号的计数和分析，就可以实现对旋转运动的精确测量。如果需要获取旋转方向信息，可以额外添加一个具有相位偏移的 DRV5012 传感器，通过比较两个传感器的输出信号来确定旋转方向。</p>
<h3>便携式医疗设备</h3>
<p>由于其低功耗和小尺寸的特点，DRV5012 非常适合应用于便携式医疗设备中。例如，在一些可穿戴式医疗监测设备中，它可以用于检测设备的开关状态、位置变化等，同时不会对设备的电池续航造成太大影响。</p>
<h3>其他应用</h3>
<p>DRV5012 还可用于电子锁、电动自行车、电动百叶窗、流量计等领域的接触式激活和位置检测。</p>
<h2>设计要点</h2>
<h3>电源设计</h3>
<p>为了确保 DRV5012 能够稳定工作，建议在其电源引脚（VCC）和地之间连接一个至少 0.1 µF 的陶瓷<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，以提供局部能量并减少电源噪声的影响。</p>
<h3>布局设计</h3>
<p>由于霍尔效应传感器对磁场敏感，在 PCB 布局时，需要注意磁体的正确取向，确保磁场能够垂直穿过封装顶部，以便传感器能够准确检测磁场。此外，磁场可以轻松穿过大多数非铁磁材料和 PCB，因此可以将传感器嵌入塑料或铝制外壳中，并在外部放置磁铁，或者将磁铁放置在 PCB 的另一侧。</p>
<h3>参数选择</h3>
<p>在实际应用中，需要根据具体的应用需求选择合适的采样率。如果对功耗要求较高，可以选择 20 Hz 的采样率；如果需要快速响应磁场变化，则可以选择 2.5 kHz 的采样率。同时，为了确保传感器能够可靠工作，磁体在传感器处产生的磁通密度应大于最大 (B<em>{OP}) 阈值且小于最小 (B</em>{RP}) 阈值，并适当增加一定的余量，以考虑机械公差、温度影响和磁体变化等因素。</p>
<h2>总结</h2>
<p>DRV5012 作为一款超低功耗数字锁存霍尔效应传感器，凭借其出色的性能、灵活的工作模式和广泛的应用领域，为电子工程师提供了一个强大而可靠的设计选择。无论是在<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>还是医疗设备等领域，DRV5012 都能够发挥其独特的优势，帮助工程师实现更加高效、稳定和智能化的设计。在实际应用中，只要我们充分了解其特性和工作原理，并遵循相应的设计要点，就能够充分发挥 DRV5012 的潜力，为项目的成功奠定坚实的基础。各位工程师在实际使用过程中，是否也遇到过一些有趣的问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[LDC2112/LDC2114：低功耗HMI按钮应用的电感式触摸解决方案]]></title>    <link>https://www.elecfans.com/d/7655987.html</link>    <guid>https://www.elecfans.com/d/7655987.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655987" value="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNRzOABQegABcOVWaYMss194.pdf"/><h1>LDC2112/LDC2114：低功耗HMI按钮应用的电感式触摸解决方案</h1>
<p>在电子设备的人机交互界面（HMI）设计中，触摸按钮以其简洁、灵敏的操作体验受到广泛青睐。而<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>）推出的LDC2112和LDC2114电感式触摸解决方案，为低功耗HMI按钮应用提供了出色的选择。今天，我们就来深入了解一下这两款器件。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655987" target="_blank">ldc2112.pdf</a></p>
<h2>一、产品概述</h2>
<p>LDC2112和LDC2114是多通道、低噪声、高分辨率的电感数字<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>（LDC），专为电感式触摸应用而优化。它们能够通过测量导电目标的微小偏转引起的谐振<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>频率变化，来检测按钮的按压动作。这两款器件具有低功耗、可配置的按钮扫描速率、力级测量等特性，适用于多种材料上的触摸按钮设计。</p>
<h2>二、产品特性</h2>
<h3>1. 低功耗设计</h3>
<ul>
<li><strong>单按钮与双按钮功耗</strong>：以极低的功耗运行，在0.625 SPS时，单按钮仅消耗6 µA<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>；在20 SPS时，双按钮消耗72 µA电流。</li>
<li><strong>多模式节能</strong>：支持超低功耗模式，适用于电池供电应用中的<a href="https://www.hqchip.com/app/1708" target="_blank"><u>电源开关</u></a>按钮，有效延长电池寿命。</li>
</ul>
<h3>2. 可配置按钮扫描速率</h3>
<p>扫描速率范围为0.625 SPS至80 SPS，可根据不同的应用场景和功耗需求进行灵活配置。</p>
<h3>3. 触摸按钮力级测量</h3>
<p>能够精确测量触摸按钮的力级，实现更丰富的交互体验。</p>
<h3>4. 独立通道操作</h3>
<ul>
<li><strong>LDC2112</strong>：提供两个独立的感应通道。</li>
<li><strong>LDC2114</strong>：提供四个独立的感应通道，可同时处理多个按钮的检测。</li>
</ul>
<h3>5. 集成算法</h3>
<ul>
<li><strong>可调力阈值</strong>：每个按钮可设置可调的力阈值，满足不同的操作需求。</li>
<li><strong>环境偏移补偿</strong>：自动补偿环境变化引起的传感器输出缓慢变化，确保稳定的性能。</li>
<li><strong>同时按钮按压检测</strong>：有效检测多个按钮的同时按压情况。</li>
</ul>
<h3>6. 强大的EMI性能</h3>
<p>符合CISPR 22和CISPR 24标准，具有良好的<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性。</p>
<h3>7. 宽工作范围</h3>
<ul>
<li><strong>电压范围</strong>：工作电压范围为1.8 V ± 5%。</li>
<li><strong>温度范围</strong>：工作温度范围为–40 °C至 +85 °C，适应各种恶劣环境。</li>
</ul>
<h3>8. 丰富的<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></h3>
<ul>
<li><strong><a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>接口</strong>：用于<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>内部寄存器和读取通道数据。</li>
<li><strong>专用逻辑输出</strong>：每个通道都有专用的逻辑输出，可用于向<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>报告按钮事件。</li>
</ul>
<h2>三、应用领域</h2>
<h3>1. <a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a></h3>
<ul>
<li><strong><a href="https://m.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a></strong>：可用于<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>按钮、音量按钮等，提供无<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>按键的触摸操作体验。</li>
<li><strong>智能手表和可穿戴设备</strong>：实现低功耗的触摸交互，延长设备续航时间。</li>
<li><strong><a href="https://www.elecfans.com/tags/智能音箱/" target="_blank"><u>智能音箱</u></a></strong>：提供灵敏的触摸控制，提升用户体验。</li>
<li><strong>平板<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>/PC</strong>：用于触摸板、功能按钮等，增加操作的便捷性。</li>
<li><strong>虚拟现实头盔</strong>：实现沉浸式的触摸交互。</li>
<li><strong>条形音箱</strong>：提供简洁的触摸控制界面。</li>
</ul>
<h3>2. 工业应用</h3>
<ul>
<li><strong>电视</strong>：用于遥控器、电视面板等，提升操作的便捷性。</li>
<li><strong>手持设备</strong>：如工业手持终端，提供可靠的触摸操作。</li>
<li><strong>家用电器</strong>：如冰箱、洗衣机等，实现触摸控制功能。</li>
<li><strong>HMI面板和键盘</strong>：提供灵敏、稳定的触摸输入。</li>
</ul>
<h2>四、<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<p>电感式触摸系统的传感器是一个线圈，可安装在面板后面的小<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>上，通过测量导电目标的微小偏转来检测按钮按压。当导电目标靠近传感器时，会产生涡流，导致传感器的电感发生变化，从而引起谐振频率的改变。LDC2112/LDC2114能够精确测量这种频率变化，并将其转换为<a href="https://www.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>，从而判断按钮是否被按压。</p>
<h2>五、设计要点</h2>
<h3>1. 传感器参数设计</h3>
<ul>
<li><strong>频率范围</strong>：传感器频率应在1 MHz至30 MHz之间。</li>
<li><strong>有效并联<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a> (R_{P})</strong>： (R_{P}) 应在350 Ω至10 kΩ之间。</li>
<li><strong>品质因数Q</strong>：Q值应在5至30之间。</li>
</ul>
<h3>2. COM引脚<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>设置</h3>
<p>COM引脚需要连接一个旁路电容到地，电容应选择低ESL、低ESR类型，其值应满足 (0 × C<em>{SENSOR n} / Q</em>{SENSOR n}<c>{COM}&lt;1250 × C{SENSOR n} / Q_{SENSOR n}) ，且最大不超过20 nF。</c></p>
<h3>3. 按钮扫描速率配置</h3>
<p>可通过寄存器NP_S<a href="https://www.hqchip.com/app/2004" target="_blank"><u>CAN</u></a>_RA<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>（地址0x0D）和LP_SCAN_RATE（地址0x0F）分别配置正常功率模式和低功率模式下的扫描速率。</p>
<h3>4. 按钮采样窗口编程</h3>
<p>按钮采样窗口可通过<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>LC_DIVIDER（地址0x17）中的LCDIV和寄存器SENSORn_CONFIG（地址0x20、0x22、0x24、0x26）中的SENCYCn进行编程，一般建议设置在1 ms至8 ms之间。</p>
<h3>5. 增益校准</h3>
<p>通过寄存器G<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>Nn（地址0x0E、0x10、0x12、0x14）校准增益，可调整触摸按钮的灵敏度。</p>
<h3>6. 特殊功能启用</h3>
<p>可通过寄存器BTPAUSE_MAXWIN、TWIST、COMMON_DEFORM（地址0x16、0x19、0x1A）启用特殊功能，如消除共模变化、解决同时按钮按压问题、克服外壳扭曲和减轻金属变形等。</p>
<h2>六、布局注意事项</h2>
<h3>1. COM引脚旁路电容</h3>
<p>COM引脚应通过一个合适的电容旁路到地，电容应尽可能靠近COM引脚放置，COM<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>应连接到INn信号下方的小铜填充区域。</p>
<h3>2. LC谐振器连接</h3>
<p>每个活动通道需要连接一个LC谐振器到相应的INn引脚，传感器电容应放置在距INn引脚10 mm以内，电感应放置在金属目标旁边的适当位置。</p>
<h3>3. DSBGA封装布线</h3>
<p>对于DSBGA封装，内部四个器件焊盘（INTB、OUT3、LPWRB和<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A）应通过过孔在内部层布线，以减少与其他信号的<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>。</p>
<h3>4. 避免光照影响</h3>
<p>DSBGA器件应避免直接暴露在光线下，尤其是红色和<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>光谱的光线，以免影响器件的正常运行。</p>
<h2>七、总结</h2>
<p>LDC2112/LDC2114以其低功耗、高性能、丰富的功能和灵活的配置，为低功耗HMI按钮应用提供了优秀的解决方案。在实际设计中，我们需要根据具体的应用需求，合理选择传感器参数、配置扫描速率和采样窗口、校准增益，并注意布局布线等问题，以确保系统的稳定运行和良好性能。你在使用类似的电感式触摸解决方案时，遇到过哪些挑战呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[OPT3007：超薄环境光传感器的设计指南]]></title>    <link>https://www.elecfans.com/d/7655988.html</link>    <guid>https://www.elecfans.com/d/7655988.html</guid>    <pubDate>2026-02-12 11:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7655988" value="https://file1.elecfans.com/web3/M00/4B/B7/wKgZO2mNRzSANQjbAAnT8Bpjpuc756.pdf"/><h1>OPT3007：超薄环境光<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>的设计指南</h1>
<p>在如今追求极致轻薄与智能体验的电子设备时代，环境光传感器成为了众多产品中不可或缺的关键组件。今天，我们将深入探讨<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>）推出的 OPT3007 超薄环境光传感器，它为各类电子设备带来了更精准、更智能的环境光感知解决方案。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7655988" target="_blank">opt3007.pdf</a></p>
<h2>产品亮点</h2>
<h3>精准匹配人眼视觉</h3>
<p>OPT3007 的光谱响应与人类眼睛高度匹配，并且具备卓越的<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>线（IR）过滤能力，能够有效拒绝 99%以上（典型值）的红外线干扰。在实际应用中，许多照明源都含有大量人眼不可见的红外线，而 OPT3007 凭借其出色的 IR 抑制能力，能够准确测量人眼所感知的可见光强度，为用户创造更贴合人类视觉体验的光照环境。例如，在智能手表、可穿戴设备等产品中，它可以根据环境光的实际情况自动调整屏幕亮度，提供舒适的视觉体验。</p>
<h3>自动满量程设置</h3>
<p>该传感器拥有自动满量程设置功能，可在 0.01 Lux 至 83k Lux 的宽广范围内进行精确测量，具备 23 位有效的动态范围和 12 种二进制加权的满量程范围设置，各量程之间的匹配误差小于 0.2%（典型值）。这意味着在不同的光照条件下，OPT3007 能够自动选择最合适的量程，无需用户手动调整，大大简化了设计过程，提高了测量的准确性和效率。</p>
<h3>低功耗与宽工作范围</h3>
<p>OPT3007 的典型工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅为 1.8 µA，具有出色的低功耗特性，能够有效延长电池供电设备的续航时间。其工作温度范围为 -40°C 至 +85°C，<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压范围为 1.6 V 至 3.6 V，适应各种复杂的工作环境。此外，它还具备固定的 <a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a> 地址和 5.5 - V 容差的 I/O <a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，方便与其他设备进行<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>和集成。</p>
<h3>小巧外形设计</h3>
<p>采用 0.856 - mm × 0.946 - mm × 0.226 - mm 的 <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>coStar™ 封装，OPT3007 体积小巧，非常适合对空间要求苛刻的应用场景，如可穿戴设备、平板<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>和笔记本电脑等。它比 OPT3001 更加小巧，为产品的小型化设计提供了更多的可能性。</p>
<h2>应用领域</h2>
<h3>可穿戴设备</h3>
<p>在智能手表、健康健身手环等可穿戴设备中，OPT3007 可以根据环境光的强度自动调整屏幕亮度，既能保证在不同光照条件下屏幕的清晰显示，又能降低功耗，延长设备的续航时间。同时，它还可以用于检测用户所处的环境光照情况，为健康监测和运动分析提供更准确的环境数据。</p>
<h3>显示背光控制</h3>
<p>在平板电脑、笔记本电脑和显示器等设备中，OPT3007 能够实时感知环境光的变化，并通过 I2C 接口将数据传输给背光驱动 IC 或照明<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>，实现对屏幕背光亮度的精确调节。这不仅可以提高用户的视觉体验，还能降低能源消耗，符合节能环保的发展趋势。</p>
<h3>照明控制系统</h3>
<p>在<a href="https://m.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>和工业照明系统中，OPT3007 可以作为环境光传感器，根据环境光照强度自动调节灯光的亮度和颜色，实现智能化的照明控制。例如，在白天阳光充足时，自动降低灯光亮度；在夜晚或低光照环境下，自动提高灯光亮度，为用户创造舒适、节能的照明环境。</p>
<h2>技术规格与特性</h2>
<h3><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性与性能指标</h3>
<ul>
<li>绝对最大额定值：电压方面，VDD 至 GND 为 -0.5 至 6 V，<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A 和 SCL 至 GND 同样为 -0.5 至 6 V；任何引脚的最大电流为 10 mA；结温最高可达 150°C，存储温度范围为 -65 至 150°C（长时间暴露在高于 105°C 的温度下可能会导致封装变色、光谱失真和测量不准确）。</li>
<li><a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a> 评级：人体模型（HBM）为 ±2000 V，带电设备模型（CDM）为 ±500 V。</li>
<li>推荐工作条件：工作温度范围为 -40°C 至 85°C，工作电源电压范围为 1.6 V 至 3.6 V。</li>
<li><a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>性能：峰值辐照度光谱响应度的峰值波长为 550 nm，最低满量程范围的分辨率为 0.01 lux，最大满量程照度可达 83865.6 lux。在不同的光照条件下，它具有良好的线性度和相对精度，能够准确测量环境光的强度。</li>
</ul>
<h3>I2C 接口与通信协议</h3>
<p>OPT3007 支持 I2C 和 SMBus 接口，具有标准模式（最高 100 kHz）、快速模式（最高 400 kHz）和高速模式（最高 2.6 MHz）三种通信速度。通过 I2C 接口，主设备可以方便地对 OPT3007 进行配置和数据读取。在通信过程中，需要注意 I2C 总线的时序要求，如 SCL <a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率、总线空闲时间、数据保持时间等，以确保数据的准确传输。</p>
<h3><a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>映射与<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a></h3>
<p>该传感器内部有多个 16 位寄存器，包括结果寄存器、配置寄存器、低限寄存器、高限寄存器、制造商 ID 寄存器和设备 ID 寄存器。通过对这些寄存器的读写操作，可以实现对 OPT3007 的各种功能配置和数据获取。例如，通过配置寄存器可以设置满量程范围、转换时间、工作模式等参数；通过结果寄存器可以读取最新的光强测量结果。在编程时，需要遵循 I2C 通信协议的规范，确保正确地访问和操作这些寄存器。</p>
<h2>应用设计要点</h2>
<h3>电气接口设计</h3>
<p>在电气接口设计方面，将 OPT3007 的 I2C SDA 和 SCL 引脚连接到应用<a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>、<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>或其他数字处理器的相应引脚，并在 SDA 和 SCL 引脚与合适的数字通信电源之间连接上拉<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>。上拉电阻的选择需要根据总线<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>进行优化，以平衡系统速度、功耗、抗干扰能力等要求。同时，要注意 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 布局，避免<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>干扰和噪声引入。例如，采用适当的屏蔽措施，减少长通信线路上的噪声<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>。</p>
<h3>光学接口设计</h3>
<p>光学接口设计是确保 OPT3007 性能的关键。通常需要在 PCB 上开设一个切口，让光线能够照射到传感器。切口的尺寸和公差会影响整个系统的光学视场性能，因此需要精心设计。此外，为了保护传感器和周边电路，可以使用塑料外壳和窗口。窗口材料一般选择透明塑料或玻璃，其可见光透射率通常在 5%至 30%之间，需要根据实际需求进行合理选择。同时，要注意窗口的设计，确保有足够的视场角度（至少 ±35°，理想情况下 ±45°或更大），以保证传感器能够准确测量环境光。</p>
<h3>布局与焊接建议</h3>
<p>在 PCB 布局方面，要特别注意为传感器设计一个合适的切口，以允许光线照射到传感器。同时，选择合适的焊盘类型，如焊盘掩膜定义焊盘（SMD），它能提供更精确的焊接尺寸和走线连接。在传感器的 VDD 和 GND 引脚附近放置电容，以稳定电源。此外，要考虑周围组件的三维几何形状，避免二次光学反射对传感器性能产生影响。</p>
<p>在焊接和处理方面，由于 OPT3007 体积小巧，需要特别小心操作。使用合适的真空操作工具进行处理，确保光学表面清洁无损伤。在焊接过程中，选择合适的焊膏（如 4 型或更高等级的无铅免清洗焊膏），采用激光切割模板，并对模板开口壁进行 5°的锥度处理，以方便焊膏释放。同时，要注意焊接温度曲线的设置，避免焊料溅到传感器的感应区域。</p>
<h2>总结</h2>
<p>OPT3007 作为一款高性能的超薄环境光传感器，凭借其出色的光学性能、低功耗特性、小巧的外形设计和丰富的功能，为各类电子设备的环境光感知提供了优秀的解决方案。在实际应用设计中，我们需要充分考虑其电气接口、光学接口、布局和焊接等方面的要求，以确保传感器能够发挥出最佳的性能。你在使用环境光传感器的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[罗莱迪思作为中国户外分布式裸眼3D首家企业入选国家四部委联合公示元宇宙典型案例]]></title>    <link>https://www.elecfans.com/d/7656027.html</link>    <guid>https://www.elecfans.com/d/7656027.html</guid>    <pubDate>2026-02-12 11:26:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(255,255,255);color:rgb(120,119,119);"><strong>近日，工业和信息化部、教育部、文化和旅游部、国家广播电视总局联合公示2025年元宇宙典型案例入选名单，杭州数智光科技“小龙”罗莱迪思凭借其拥有核心发明专利的</strong></span><span style="color:rgb(214,0,28);"><strong>达芬奇室外分布式裸眼3D投影机</strong></span><span style="background-color:rgb(255,255,255);color:rgb(120,119,119);"><strong>，成为中国户外分布式裸眼3D首家入选该类案例的企业。此次入选，既彰显了罗莱迪思在元宇宙领域的底层技术实力以及在培育新质生产力方面的显著成效，也展现出企业在该领域实现国产替代进口的卓越实践和全球领先的核心竞争力。</strong></span><br/></p><p style="margin-left:0px;text-align:justify;"/><p style="margin-left:0px;text-align:justify;"><br/></p><img src="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNSCeAdOUfAACV5d_pwDw204.png" alt="wKgZPGmNSCeAdOUfAACV5d_pwDw204.png"/><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(255,255,255);color:rgb(120,119,119);"><strong>此前，该成果已成功入选国家广电总局 2025 年度视听系统典型案例，以“智慧照明打造夜间城市品牌形象”入选工信部2024年“数字三品”应用场景典型案例名单，获得2025年浙江省先进技术创新成果，2024年度浙江省首台（套）装备认定，也斩获了德国红点奖这一国际大奖。</strong></span></p><p style="margin-left:0px;text-align:justify;"><br/></p><img src="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNSC2ANRdaAAzLUFDpQv4427.png" alt="wKgZPGmNSC2ANRdaAAzLUFDpQv4427.png"/><p style="margin-left:0px;text-align:center;"><span style="background-color:rgb(255,255,255);color:rgba(0,0,0,0.9);">达芬奇室外分布式裸眼3D投影机所获荣誉</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(255,255,255);color:rgb(120,119,119);"><strong>达芬奇室外分布式裸眼3D投影机是罗莱迪思在数智<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>驱动，软硬件高效协同的2.0时代推出的重磅新品，核心运用全球首创的分布式专利图像<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>融合技术，能实现全天候全场景需求下的快速无缝自由拼接、边缘融合、色彩校正,与传统投影拼接方式相比，极大地简化了系统架构，同时拥有强大的适应能力，可以应对超大、超长画面和复杂曲面，方便内容更迭，赋能美术馆、主题街区、广场、景区公园等多场景精细化运营。此外，达芬奇室外分布式裸眼3D投影机覆盖从便携轻量化到高亮工程级别的全亮度段，具备优异的系统兼容性、稳定性与远程控制能力。</strong></span></p><p style="margin-left:0px;text-align:justify;"><br/></p><img src="https://file1.elecfans.com/web3/M00/4B/B6/wKgZPGmNSDOAXYOAAApCBtEdZNU614.png" alt="wKgZPGmNSDOAXYOAAApCBtEdZNU614.png"/><p style="margin-left:0px;text-align:center;"><span style="background-color:rgb(255,255,255);color:rgba(0,0,0,0.9);">达芬奇室外分布式裸眼3D投影机</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;"><span style="background-color:rgb(255,255,255);color:rgba(0,0,0,0.9);">达芬奇室外分布式裸眼3D投影机应用于上海新场古镇</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(255,255,255);color:rgb(120,119,119);"><strong>未来，罗莱迪思将继续秉承“科技、艺术、可持续”的品牌主张，不断强化提升自主创新能力，推动更多优质技术成果完成产业化落地，为数智文娱新场景打造更多高质量的AI照明解决方案，为培育新质生产力、推动高质量发展持续注入强劲动能，用光让世界变得更美。</strong></span></p>]]></description></item><item>    <title><![CDATA[为什么叫“全双工”和“半双工”？]]></title>    <link>https://www.elecfans.com/d/7655949.html</link>    <guid>https://www.elecfans.com/d/7655949.html</guid>    <pubDate>2026-02-12 11:28:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	今天聊个<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>里的基础概念——全双工和半双工！简单吧，简单到"<a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a>、<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>-232 和 <a href="https://www.elecfans.com/tags/rs-485/" target="_blank"><u>RS-485</u></a> 是全双工还是半双工？"我差点都答不上来，吓得我赶紧查资料补习！</p>
<p style="text-indent:2em;">
	先从词源说起，“Duplex”源自拉丁语，本意是“双重的、两倍的”。延伸到通信领域，它特指一条通道双向传递信息的能力。</p>
<p style="text-indent:2em;">
	我们可以用生活里的 “道路” 来类比，</p>
<p style="text-indent:2em;">
	单工：就像单行道，只能单向通行，比如广播<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，只发不收。</p>
<p style="text-indent:2em;">
	双工：相当于双向车道，支持双向通行。<br/>
	</p>
<p style="text-indent:2em;">
	“双工”再通过 “全（Full）” 和 “半（Half）” 修饰“双向通信的同时性”，就有了通信领域的关键术语——“全双工”（Full Duplex）和“半双工”（Half Duplex）。</p>
<p style="text-indent:2em;">
	半双工（Half Duplex）：分时双向的 “对讲机模式”。“Half” 在这里的含义是 “一半的、不完全的、有条件的”，对应通信特性就是双向通信无法同时进行，只能分时收发。</p>
<p style="text-indent:2em;">
	最典型的例子就是对讲机：按住按键才能说话，松开按键才能收听，同一时间只能有一方发声。</p>
<p style="text-indent:2em;">
	全双工（Full Duplex）：同时双向的 “电话模式”。“Full” 代表 “完全的、无限制的、充分的”，对应通信特性就是双向通信可以同时进行，收发互不干扰。</p>
<p style="text-indent:2em;">
	最常见的例子就是电话通话：通话双方可以同时说话、同时聆听，两边的信号传输互不影响。</p>
<p style="text-indent:2em;">
	最后回到开头的问题 ——UART、RS-232 和 RS-485，到底是全双工还是半双工？显然，只有RS-485 为半双工，UART 和 RS-232 都是全双工。</p>]]></description></item><item>    <title><![CDATA[从网络接口到 DMA，一套面向工程师的 FPGA 网络开发框架]]></title>    <link>https://www.elecfans.com/d/7655991.html</link>    <guid>https://www.elecfans.com/d/7655991.html</guid>    <pubDate>2026-02-12 11:28:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	在高性能网络、数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>和智能网卡加速领域，硬件与软件协同设计已成为提升网络处理效率的关键。Liberou<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>r 提供的 Network Development Kit（NDK） 就是这样一套专门用来快速开发 <a href="https://www.elecfans.com/soft/data/30-91/" target="_blank"><u>FPGA</u></a> 加速网络应用的开源框架，是连接高速网络<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>、FPGA 逻辑与主机<a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>的工程级利器。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNSReAKeFSAAG4HWghIHo825.png" alt="f3416a0a-07a7-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	什么是 Liberouter NDK？</p>
<p style="text-indent:2em;">
	NDK 全称 Network Development Kit，是由 Liberouter 研究团队开发的一套框架，用于在 FPGA 加速卡上快速实现高性能网络应用。它并不是一个简单的示例或库，而是一个 可直接用来推进复杂网络硬件开发的平台。</p>
<p style="text-indent:2em;">
	这个套件支持包括 10 GbE、100 GbE 和 400 GbE 在内的高速<a href="https://www.hqchip.com/app/1720" target="_blank"><u>以太网</u></a>标准，同时提供了配套的 <a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a> 驱动、用户态库、示例程序等工具，大幅降低了网络加速 FPGA 设计的门槛。</p>
<p style="text-indent:2em;">
	核心功能和特点</p>
<p style="text-indent:2em;">
	基于标准以太网硬IP的网络模块，支持10 GbE、100 GbE、400 GbE等速度。</p>
<p style="text-indent:2em;">
	基于 PCIe Gen5 x16 或 2x PCIe Gen4 x16 接口的超高速 <a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a> 模块，吞吐量达 400 Gbps。</p>
<p style="text-indent:2em;">
	易于使用的内存接口，可对卡进行单独的读取/写入操作。</p>
<p style="text-indent:2em;">
	用于完整设计综合的自动化脚本。只需运行一条 make 命令即可创建整个 FPGA 比特流。</p>
<p style="text-indent:2em;">
	Linux 内核驱动程序、DPDK 支持、用户空间库和配置工具。</p>
<p style="text-indent:2em;">
	通过用户友好的 A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a> 轻松创建自定义应用程序，实现组件访问和 DMA 传输。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNSReAKeFSAAG4HWghIHo825.png" alt="f3416a0a-07a7-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	用户应用程序</p>
<p style="text-indent:2em;">
	NDK 专为创建具有深度流水线式高速数据包处理的新型网络应用而设计。应用核心是 FPGA 芯片上专用于用户应用的区域，它可以利用 NDK 从网络接口捕获数据包，并通过超高速 DMA 传输将数据发送到主机 <a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a>。网络模块（NDK 的一部分）负责网络数据包的接收和发送。网络模块通过数据流总线（兼容 AXI4-Stream/Avalon-ST）将接收到的数据包发送到应用核心。然后，同一数据总线用于将数据传输到主机 CPU。整个 NDK 的可扩展性从数十 Gbps 到数百 Gbps 不等。它的设计目标是在每个<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>周期内发送和处理多个数据包。NDK 的标准数据总线经过优化，可以同时传输大量数据包，从而进一步提高吞吐量。上述数据总线包括 MFB （多帧总线）和MVB（多值总线）。就吞吐量而言，几乎唯一的限制是可用的 FPGA 资源。</p>
<p style="text-indent:2em;">
	许多网络应用需要大型数据结构或缓冲区。因此，NDK 提供了一个易于使用的接口，用于与外部存储器（通常是 <a href="https://www.elecfans.com/tags/dram/" target="_blank"><u>DRAM</u></a>）<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。用户可以使用该接口快速开发连接跟踪表、流缓存或数据缓冲区。</p>
<p style="text-indent:2em;">
	在FPGA中实现的用户应用程序可以通过对指定地址范围的读/写请求进行控制。这些请求通过与<a href="https://www.elecfans.com/tags/intel/" target="_blank"><u>Intel</u></a> Avalon-MM兼容的<a href="https://www.elecfans.com/tags/csr/" target="_blank"><u>CSR</u></a>总线从软件传输到应用程序核心。软件用户应用程序可以通过简单的软件API生成这些读/写请求。</p>
<p style="text-indent:2em;">
	超高速DMA传输（DMA Medusa IP）</p>
<p style="text-indent:2em;">
	提供与厂商无关的FPGA架构和开源Linux驱动程序，用于采用逐包方式的高速DMA传输。该DMA设计吞吐量为400 Gbps，并采用多通道架构以支持CPU内核间的数据分发。该架构具有高度灵活性，支持各种高端FPGA系列和PCIe总线配置（最高可达PCIe Gen5 x16）。DMA IP可以利用更多PCI端点模块，将吞吐量扩展到100、200和400 Gbps。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZO2mNSRiASe4sAAAg6rUCpJ8365.png" alt="f4180e02-07a7-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	已在 Intel Stra<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>x 10 DX 开发套件上演示了 DMA 架构的 400 Gb 吞吐量。然而，同样的 DMA 引擎也能为 Xilinx UltraScale+ 和 Intel Agilex 器件提供极高的吞吐量。NDK Linux 驱动程序允许单独控制所有 DMA 通道。它还提供了一个用户友好的 API，可将应用程序内核直接连接到 DMA IP。此外，还可以通过 DPDK 驱动程序处理 DMA 传输。</p>
<p style="text-indent:2em;">
	示例设计</p>
<p style="text-indent:2em;">
	作为 NDK 的一部分，该项目提供了一个最小化（参考）应用程序的示例设计，该设计可以轻松扩展，为用户应用程序提供硬件加速。该示例设计基于 NDK 框架构建。由于架构设计精良，最小化应用程序核心仅包含连接网络接口和 DMA 模块所需的连接线。此外，最小化示例设计还包含一个用于向 DMA 通道分发数据的单元。</p>
<p style="text-indent:2em;">
	实施、验证和运行</p>
<p style="text-indent:2em;">
	示例设计可作为创建目标应用程序的灵感来源。可以轻松地使用加速引擎或其他独特功能扩展应用程序核心。提供NDK Minimal（参考）应用程序的文档，其中包含应用程序接口的详细描述。可以专注于应用程序核心，并利用 NDK 控制网络接口和 PCIe，实现快速 DMA 传输。</p>
<p style="text-indent:2em;">
	所有网络应用都需要进行精确的验证和测试。因此，NDK 提供了一个 UVM 验证环境，用于检查应用的功能是否正常。该验证环境包含一组适用于所有应用接口的总线功能模型 (BFM)。所有 BFM 和整个验证环境的详细描述请参见 NDK Minimal App 文档。成功验证应用核心后，可以通过一条 make 命令生成新的 FPGA 比特流，并在 FPGA 卡上运行该应用。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNSRiAcWTkAAnoV9AKqpY281.png" alt="f47ec5c0-07a7-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	支持的FPGA卡</p>
<p style="text-indent:2em;">
	NDK 目前支持多种 FPGA 卡，并且可以轻松扩展以支持任何其他带有网络接口和 PCIe <a href="https://www.hqchip.com/app/1515" target="_blank"><u>连接器</u></a>的 FPGA 卡。NDK 中使用的绝大多数组件都已准备好支持各种高端 FPGA，包括 Intel Agilex、Intel Stratix 10、Xilinx UltraScale+ 等。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNSRiAIXsgAAHbH4AC0h4490.png" alt="f5024f44-07a7-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	</p>
<p style="text-indent:2em;">
	小结</p>
<p style="text-indent:2em;">
	Liberouter 的 NDK 是一套工程级 FPGA 网络加速开发框架，它把底层复杂的高速网络收发、DMA 传输、 FPGA bitstream 生成等通用功能都封装好，<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>可以更专注于业务逻辑和加速<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>本身。</p>
<p style="text-indent:2em;">
	对从事 FPGA 网络加速、智能 NIC 设计或高性能系统工程的开发者来说，NDK 提供了一条更快、更可靠、更可复用的硬件加速设计路线。</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[探索MAX870/MAX871开关电容电压逆变器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7656005.html</link>    <guid>https://www.elecfans.com/d/7656005.html</guid>    <pubDate>2026-02-12 11:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656005" value="https://file1.elecfans.com/web2/M00/70/F5/poYBAGNOkxGAVqZ4AAZbMV3KlKY466.pdf"/><h1>探索MAX870/MAX871开关电容电压<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>：特性、应用与设计要点</h1>
<h2>引言</h2>
<p>在电子设计领域，电压转换是一个关键环节，特别是在电池供电和板级电压转换应用中。<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a>的MAX870/MAX871开关电容电压逆变器以其卓越的性能和小巧的封装，成为了众多<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>的首选。今天，我们就来深入了解一下这两款器件。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656005" target="_blank">MAX870.pdf</a></p>
<h2>一、器件概述</h2>
<p>MAX870/MAX871是超小型的CMOS<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>逆变器，输入电压范围为+1.4V至+5.5V。其中，MAX870工作频率为125kHz，MAX871工作频率为500kHz。它们具有高达90%的效率和低至0.7mA（MAX870）的工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>，非常适合电池供电和板级电压转换应用。芯片内部集成了<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a><a href="https://www.elecfans.com/soft/data/4-10/" target="_blank"><u>控制电路</u></a>和四个功率<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>开关，采用5引脚SOT23 - 5封装，能够在500mV压降的情况下提供25mA的输出电流。</p>
<h3>主要特性</h3>
<ol>
<li><strong>高效转换</strong>：电压转换效率高达99%，能有效减少能量损耗。</li>
<li><strong>低静态电流</strong>：MAX870的静态电流仅为0.7mA，有助于延长电池续航时间。</li>
<li><strong>宽输入电压范围</strong>：+1.4V至+5.5V的输入电压范围，适用于多种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>场景。</li>
<li><strong>简单电路</strong>：仅需两个<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>即可完成电压转换，简化了设计。</li>
<li><strong>高输出电流</strong>：能够提供25mA的输出电流，满足大多数应用需求。</li>
</ol>
<h2>二、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性分析</h2>
<h3>1. 电源电流</h3>
<p>在不同的工作条件下，MAX870和MAX871的电源电流有所不同。在TA = +25°C时，MAX870的典型电源电流为0.7mA，而MAX871的典型值也在合理范围内。不过，在启动期间，它们可能会吸取较高的电源电流，为保证正常启动，输入电源必须能够提供比最大负载电流多90mA的电流。</p>
<h3>2. 振荡器频率</h3>
<p>MAX870的振荡器频率典型值为125kHz，MAX871为500kHz。在不同的温度和负载条件下，频率会有一定的波动，但仍能保持在合理的范围内。</p>
<h3>3. 功率效率和电压转换效率</h3>
<p>这两款器件的功率效率和电压转换效率都非常高。在典型条件下，MAX870的功率效率可达90%，电压转换效率高达99.3%；MAX871的表现也相当出色。效率会受到输出电流、输入电压等因素的影响，在实际应用中需要根据具体情况进行优化。</p>
<h3>4. 输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a></h3>
<p>输出电阻是衡量器件性能的重要指标之一。它与电容的选择密切相关，电容的等效串联电阻（ESR）和电容值会影响输出电阻的大小。一般来说，增大电容值可以降低输出电阻，但当电容值增大到一定程度后，输出电阻主要由内部开关电阻和电容ESR决定。</p>
<h2>三、典型应用场景</h2>
<h3>1. 本地-5V电源</h3>
<p>从5V逻辑电源生成-5V电源，为<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电路供电，这是MAX870/MAX871最常见的应用之一。</p>
<h3>2. 小型LCD面板</h3>
<p>为小型LCD面板提供合适的电压，确保其正常显示。</p>
<h3>3. <a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>和医疗仪器</h3>
<p>在这些对功耗和尺寸要求较高的设备中，MAX870/MAX871的低功耗和小封装优势得到了充分发挥。</p>
<h3>4. 手持终端和PDA</h3>
<p>为这些电池供电设备提供稳定的电压转换，延长电池续航时间。</p>
<h2>四、电容选择与设计要点</h2>
<h3>1. 电容选择</h3>
<ul>
<li><strong>飞跨电容（C1）</strong>：增大飞跨电容的尺寸可以降低输出电阻，但当电容值超过一定范围后，对输出电阻的影响变得不明显。因此，需要根据具体应用选择合适的电容值。</li>
<li><strong>输出电容（C2）</strong>：增大输出电容的尺寸可以降低输出纹波电压，减小电容的ESR可以同时降低输出电阻和纹波。对于轻负载应用，如果能够容忍较高的输出纹波，可以使用较小的电容值。</li>
<li><strong>输入旁路电容</strong>：旁路输入电源可以降低其交流阻抗，减少MAX870/MAX871开关噪声的影响。根据电路配置和负载连接方式的不同，选择合适的旁路电容。</li>
</ul>
<h3>2. <a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a></h3>
<ul>
<li><strong>级联应用</strong>：两个器件可以级联以产生更大的负电压，但需要注意输出电阻会随着级联数量的增加而显著上升。在级联应用中，要确保第n级电路的最大负载电流和启动电流不超过第(n - 1)级电路的最大输出电流能力。</li>
<li><strong>并联应用</strong>：并联多个MAX870或MAX871可以降低输出电阻。每个器件需要有自己的泵电容（C1），而储能电容（C2）可以为所有器件共用。</li>
<li><strong>组合倍压/反相器</strong>：在特定电路中，可以同时实现电压反相和倍压功能，但要注意两个输出的电流总和不能超过40mA。</li>
<li><strong>重负载应用</strong>：在重负载情况下，为防止OUT端电压被拉高，需要在GND和OUT之间连接一个<a href="https://m.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a><a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>。</li>
</ul>
<h3>3. 布局和接地</h3>
<p>良好的布局对于降低噪声至关重要。要将所有组件尽可能靠近安装，缩短走线长度，以减少寄生电感和电容，并使用接地平面。</p>
<h2>五、总结</h2>
<p>MAX870/MAX871开关电容电压逆变器以其高效、低功耗、小封装等优点，在电子设计领域具有广泛的应用前景。通过合理选择电容、优化电路设计和布局，可以充分发挥其性能优势。在实际应用中，工程师们需要根据具体需求，综合考虑各种因素，以实现最佳的设计效果。你在使用MAX870/MAX871过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[MAX1673：高效电荷泵DC - DC逆变器的设计与应用]]></title>    <link>https://www.elecfans.com/d/7656006.html</link>    <guid>https://www.elecfans.com/d/7656006.html</guid>    <pubDate>2026-02-12 11:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656006" value="https://file1.elecfans.com/web2/M00/82/B5/pYYBAGOUMpWADXH1AAFE5EOS9Ac393.pdf"/><h1>MAX1673：高效<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a><a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>的设计与应用</h1>
<p>在电子设备的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计中，常常需要将正电压转换为负电压，以满足特定电路的需求。MAX1673作为一款调节型、125mA输出的电荷泵DC - DC逆变器，为我们提供了一种低成本、紧凑的解决方案。下面，我们就来深入了解一下这款产品。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656006" target="_blank">MAX1673.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX1673能够从2V至5.5V的正输入电压产生调节后的负输出电压，最大输出<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>可达125mA。它仅需三个小电容和两个<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>即可实现完整的调节电路，非常适合对空间要求较高的紧凑型应用。该器件有Skip和<a href="https://www.elecfans.com/tags/linear/" target="_blank"><u>Linear</u></a>（LIN）两种调节模式，能根据不同的应用场景优化输出性能。</p>
<h2>二、产品特点</h2>
<h3>（一）输出性能</h3>
<ul>
<li><strong>调节负输出电压</strong>：可提供高达 -1 x VIN的调节负输出电压，满足多种电路对负电压的需求。</li>
<li><strong>大输出电流</strong>：最大输出电流可达125mA，能为负载提供充足的功率。</li>
</ul>
<h3>（二）低功耗设计</h3>
<ul>
<li><strong>低静态电流</strong>：在Skip模式调节下，静态电流仅为35µA，有效降低了功耗。</li>
<li><strong>逻辑控制关机模式</strong>：具备1µA的逻辑控制关机模式，进一步节省电能。</li>
</ul>
<h3>（三）工作模式优势</h3>
<ul>
<li><strong>Skip模式</strong>：通过按需切换频率来调节输出，在轻载时开关速度变慢，使用小电容和低静态电流，能有效降低功耗。</li>
<li><strong>LIN模式</strong>：以恒定的350kHz开关频率工作，输出纹波频率恒定，便于过滤，适用于对噪声要求较低的应用。</li>
</ul>
<h2>三、应用领域</h2>
<p>MAX1673的应用范围广泛，包括但不限于以下领域：</p>
<ul>
<li><strong>硬盘<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a></strong>：为硬盘中的某些电路提供稳定的负电压。</li>
<li><strong>测量仪器</strong>：确保测量电路的稳定性和准确性。</li>
<li><strong>摄像机和<a href="https://m.elecfans.com/v/tag/1221/" target="_blank"><u>数码</u></a>相机</strong>：满足相机内部电路对负电压的需求。</li>
<li><strong>调制解调器</strong>：为调制解调电路提供合适的电源。</li>
<li><strong><a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>处理应用</strong>：保证信号处理过程中的电源稳定性。</li>
</ul>
<h2>四、引脚配置与功能</h2>
<table>
<thead>
<tr>
<th>MAX1673采用标准的8引脚SO封装，各引脚功能如下：</th>
<th>引脚</th>
<th>名称</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>LIN/SKIP</td>
<td>调节模式选择输入，高电平或连接到IN选择LIN模式，低电平或连接到GND选择Skip模式。</td>
</tr>
<tr>
<td>2</td>
<td>CAP+</td>
<td>飞跨<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>的正端。</td>
</tr>
<tr>
<td>3</td>
<td>CAP-</td>
<td>飞跨电容的负端。</td>
</tr>
<tr>
<td>4</td>
<td>SHDN</td>
<td>关机控制输入，低电平使器件进入关机模式。</td>
</tr>
<tr>
<td>5</td>
<td>OUT</td>
<td>反相电荷泵输出。</td>
</tr>
<tr>
<td>6</td>
<td>FB</td>
<td>反馈输入，连接到电阻分压器以实现调节输出电压。</td>
</tr>
<tr>
<td>7</td>
<td>GND</td>
<td>接地。</td>
</tr>
<tr>
<td>8</td>
<td>IN</td>
<td>电源正电压输入。</td>
</tr>
</tbody>
</table>
<h2>五、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>（一）输入输出参数</h3>
<ul>
<li><strong>输入电压范围</strong>：Skip模式下为2.0V至5.5V，LIN模式下为2.7V至5.5V。</li>
<li><strong>最小输出电压</strong>：Skip模式下为0V，LIN模式下为 -1.5V。</li>
<li><strong>最大输出电流</strong>：可达125mA。</li>
</ul>
<h3>（二）其他特性</h3>
<ul>
<li><strong>静态电流</strong>：LIN模式下典型值为8mA，Skip模式下为35µA。</li>
<li><strong>关机电流</strong>：最大为1µA。</li>
<li><strong>线路调节和负载调节</strong>：在不同模式下有不同的调节精度。</li>
</ul>
<h2>六、工作模式详解</h2>
<h3>（一）线性模式（LIN模式）</h3>
<p>在LIN模式下，电荷泵以恒定的350kHz频率连续运行。通过改变开关S1的<a href="https://m.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>来控制飞跨电容CFLY的充电，从而调节输出电压。这种模式下输出纹波小，噪声频率成分明确，但由于工作电流较高（典型值8mA），效率相对Skip模式较低。</p>
<h3>（二）Skip模式</h3>
<p>Skip模式下，器件仅在需要时切换，以维持反馈引脚FB的调节。当FB电压高于GND时，跳过开关周期。该模式输出噪声较高，但能最小化工作电流。</p>
<h3>（三）关机模式</h3>
<p>当SHDN引脚为低电平时，MAX1673进入低功耗关机模式，电荷泵停止切换，内部1Ω开关将VOUT拉至地。</p>
<h2>七、元件选择</h2>
<h3>（一）电阻选择</h3>
<p>通过外部电阻R1和R2可以调节输出电压，计算公式为 (V<em>{OUT}=-V</em>{REF} fr<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{R2}{R1}) 。通常选择50µA的分压器电流，以减小FB输入电流的影响，即 (R1 = V<em>{REF} / 50 mu A) ， (R2 = -V</em>{OUT} / 50 mu A) 。</p>
<h3>（二）电容选择</h3>
<ul>
<li><strong>飞跨电容CFLY</strong>：建议使用1µF或更大的值，<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a>推荐2.2µF，以满足负载电流要求。表面贴装陶瓷电容是首选，因其尺寸小、成本低且等效串联电阻（ESR）低。</li>
<li><strong>输出电容COUT</strong>：一般应至少为飞跨电容的十倍。在Skip模式下，输出纹波主要取决于CFLY和COUT的电容值以及COUT的ESR。在LIN模式下，可使用特定公式近似计算输出电压纹波。</li>
</ul>
<h2>八、布局考虑</h2>
<p>由于MAX1673的<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>频率较高，良好的布局技术至关重要。应采取以下措施：</p>
<ul>
<li>尽量将所有元件紧密安装在一起，将反馈电阻R1和R2靠近FB引脚放置，缩短FB电路节点的<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>走线长度。</li>
<li>保持走线短，以减小寄生电感和电容。</li>
<li>使用接地平面，确保稳定性和重负载下的输出电压。</li>
</ul>
<p>在实际设计中，你是否遇到过类似电荷泵电源设计的挑战呢？又是如何解决的呢？欢迎在评论区分享你的经验。</p>
<p>总之，MAX1673以其丰富的功能和良好的性能，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在负电压转换设计中提供了一个可靠的选择。通过合理选择元件和优化布局，我们可以充分发挥其优势，满足各种应用的需求。 </p>]]></description></item><item>    <title><![CDATA[MAX1680/MAX1681：频率可选的125mA开关电容电压转换器]]></title>    <link>https://www.elecfans.com/d/7656007.html</link>    <guid>https://www.elecfans.com/d/7656007.html</guid>    <pubDate>2026-02-12 11:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656007" value="https://file1.elecfans.com/web2/M00/82/2C/poYBAGOUMfmAKAGhAAGfRq2heuQ910.pdf"/><h1>MAX1680/MAX1681：频率可选的125mA开关电容电压<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a></h1>
<p>在电子设计领域，电压转换器是一个关键的组成部分。今天我们要探讨的是<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a>公司的MAX1680/MAX1681开关电容电压转换器，它以其独特的性能和特点，在众多应用场景中展现出了强大的优势。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656007" target="_blank">MAX1680.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX1680/MAX1681是无电感的开关<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>电压转换器，能够对+2.0V至+5.5V的输入电压进行反相或加倍处理，同时可提供高达125mA的输出<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>。其具有可选频率功能，允许使用小电容，如MAX1680使用4.7µF电容，MAX1681使用1µF电容。这种特性使得它们在替代基于电感的稳压器方面表现出色，因为电感稳压器通常需要更昂贵的外部组件和更多的电路板空间。</p>
<p>该系列器件的等效输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>通常为3.5Ω，这使得它们在输出125mA电流时，电压降仅为440mV。此外，其关机功能可将静态电流降低至小于1µA。MAX1680/MAX1681采用8引脚SO封装，对于需要在更小的µMAX封装中提供高达50mA电流的应用，可参考MAX860/MAX861的数据手册。</p>
<h2>二、产品特性</h2>
<h3>2.1 可选开关频率</h3>
<ul>
<li>MAX1680具有125kHz/250kHz两种可选频率。</li>
<li>MAX1681具有500kHz/1MHz两种可选频率。</li>
</ul>
<p>这种可选频率的设计允许使用小电容，例如MAX1681可使用1µF电容，在节省电路板空间的同时，也为设计带来了更大的灵活性。</p>
<h3>2.2 高输出电流能力</h3>
<p>能够提供高达125mA的输出电流，满足了许多应用场景对大电流输出的需求。</p>
<h3>2.3 低输出阻抗</h3>
<p>输出阻抗为3.5Ω，可有效减少电压降，提高电源的稳定性。</p>
<h3>2.4 低关机电流</h3>
<p>逻辑控制的关机电流仅为1µA，有助于降低功耗，延长电池续航时间。</p>
<h3>2.5 可配置为电压反相器或倍增器</h3>
<p>可以根据实际需求灵活配置，满足不同的电压转换要求。</p>
<h3>2.6 宽输入电压范围</h3>
<p>输入电压范围为+2.0V至+5.5V，适应多种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>供电情况。</p>
<h3>2.7 高转换效率</h3>
<p>效率可达90%，能够有效减少能量损耗。</p>
<h2>三、应用场景</h2>
<h3>3.1 本地负电源</h3>
<p>在一些需要负电源的电路中，MAX1680/MAX1681可以方便地提供所需的负电压。</p>
<h3>3.2 <a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>电源</h3>
<p>为各种接口电路提供稳定的电源，确保接口的正常工作。</p>
<h3>3.3 <a href="https://www.hqchip.com/app/1737" target="_blank"><u>运算放大器</u></a>电源</h3>
<p>为运算放大器提供合适的电源，保证其性能的稳定。</p>
<h3>3.4 <a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>偏置</h3>
<p>为MOSFET提供偏置电压，使其正常工作。</p>
<h2>四、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>4.1 输入电压范围</h3>
<ul>
<li>在反相器配置中，MAX1680的输入电压范围为2.0V至5.5V，MAX1681为3.0V至5.5V。</li>
<li>在倍增器配置中，MAX1680的输入电压范围为2.5V至5.5V，MAX1681为4.0V至5.5V。</li>
</ul>
<h3>4.2 电源电流</h3>
<p>电源电流会根据开关频率的不同而有所变化。例如，在不同的频率设置下，MAX1680和MAX1681的电源电流在几毫安到几十毫安之间。</p>
<h3>4.3 输出电压和电阻</h3>
<p>在负载电流为125mA时，输出电压会有一定的下降，输出电阻通常在3.5Ω至10Ω之间。</p>
<h3>4.4 关机特性</h3>
<p>关机电流小于1µA，关机时输出电阻在1Ω至5Ω之间。</p>
<h2>五、典型工作电路</h2>
<h3>5.1 反相器配置</h3>
<p>需要三个外部电容（包括输入旁路电容），虽然输出未进行稳压，但低输出电阻使得在125mA负载下典型电压降仅为0.44V。</p>
<h3>5.2 倍增器配置</h3>
<p>使用两个外部电容进行配置，加载时输出电压降与反相器类似，但最小输入电源范围略高于反相器配置。</p>
<h2>六、设计要点</h2>
<h3>6.1 频率控制</h3>
<p>通过FSEL引脚可以选择不同的开关频率，以优化电容大小和电源电流。不同频率下，输出纹波、电容值和电源电流会有所不同。例如，较高的频率可以减小电容大小，但会增加电源电流；较低的频率则相反。</p>
<h3>6.2 电容选择</h3>
<p>电容的大小和开关速度会影响输出电阻。建议使用低ESR（等效串联电阻）的电容，以最小化输出电阻和纹波电压。文中给出了输出电阻和纹波电压的计算公式，以及不同频率和输入电压下的最小推荐电容值。</p>
<h3>6.3 旁路电容</h3>
<p>为了减少交流阻抗和防止内部开关噪声，需要对输入电压进行旁路处理。旁路电容的大小取决于电源的交流阻抗。</p>
<h3>6.4 级联和并联</h3>
<ul>
<li>级联两个器件可以产生更大的负电压，但会增加输出电阻并降低效率。</li>
<li>并联两个或多个器件可以降低输出电阻，提高负载电流能力。</li>
</ul>
<h2>七、兼容性</h2>
<p>MAX1680/MAX1681可以替代MAX860/MAX861，但在SHDN和FSEL引脚的使用上有所不同。与MAX660的替换则需要进行布线更改。</p>
<h2>八、总结</h2>
<p>MAX1680/MAX1681开关电容电压转换器以其可选频率、高输出电流、低输出阻抗等特性，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在电压转换设计中提供了一个优秀的选择。在实际应用中，我们需要根据具体的需求，合理选择频率、电容等参数，以实现最佳的性能和效率。同时，了解其级联、并联等应用方式，也能帮助我们更好地满足不同的设计要求。你在使用类似的电压转换器时，遇到过哪些问题呢？欢迎在评论区分享你的经验。 </p>]]></description></item><item>    <title><![CDATA[MAX881R：用于GaAsFET PA的低噪声偏置电源]]></title>    <link>https://www.elecfans.com/d/7656008.html</link>    <guid>https://www.elecfans.com/d/7656008.html</guid>    <pubDate>2026-02-12 11:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656008" value="https://file1.elecfans.com/web2/M00/82/B7/pYYBAGOUNdGALSyFAAUvOgDk-1U851.pdf"/><h1>MAX881R：用于GaAsFET PA的低噪声偏置<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a></h1>
<h2>一、引言</h2>
<p>在便携式无线应用中，GaAsFET<a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>的偏置电源设计至关重要。今天要给大家介绍的MAX881R，就是一款专门为GaAsFET功率放大器偏置设计的低噪声反相电源，它具有诸多出色特性，能满足多种应用需求。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656008" target="_blank">MAX881R.pdf</a></p>
<h2>二、产品概述</h2>
<h3>2.1 基本功能</h3>
<p>MAX881R是一款低噪声、反相的稳压<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>电源，由电荷泵<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>和负<a href="https://m.hqchip.com/app/1700" target="_blank"><u>线性稳压器</u></a>组成。其输入电压范围为2.5V至5.5V，输出预设为 -2.0V，也可通过两个<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>将输出电压设置在 -0.5V至 (-VIN + 0.6V) 之间，最大能提供4mA的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>。内部线性稳压器可将输出纹波和噪声过滤至1mVp-p。</p>
<h3>2.2 特色功能</h3>
<p>它还有一个Power-OK（POK）输出，当负电压处于设定值的7.5%范围内时发出<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。这一功能可保护GaAsFET，在其正确偏置前，不会给GaAsFET的漏极供电。该信号可连接到<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>或直接连接到GaAsFET漏极的开关。MAX881R采用10引脚的µMAX封装。</p>
<h2>三、产品特性</h2>
<h3>3.1 小封装与低纹波</h3>
<p>采用小尺寸的µMAX封装，节省空间。输出电压纹波和噪声仅为1mVp-p，能为GaAsFET提供稳定的电源。</p>
<h3>3.2 控制与低功耗</h3>
<p>具备Power-OK信号来控制GaAsFET漏极开关，确保安全。逻辑控制关机电流低至0.05µA，实现低功耗。</p>
<h3>3.3 快速启动与宽范围</h3>
<p>保证1ms的启动时间，响应迅速。输入电压范围为2.5V至5.5V，输出电压范围为 -0.5V至 (-VIN + 0.6V) ，输出电流可达4mA，适用范围广。</p>
<h3>3.4 简单电路</h3>
<p>只需一个4.7µF和三个0.22µF的<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>即可工作，无需电感，简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>。</p>
<h2>四、应用领域</h2>
<p>MAX881R适用于多种无线设备，如<a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、无线调制解调器、PCS电话、双向寻呼机、PHS电话、移动无线电、无线手持设备和无线计算机等。</p>
<h2>五、技术参数</h2>
<h3>5.1 绝对最大额定值</h3>
<p>包括各引脚到地的电压范围、连续功率耗散、工作温度范围、结温、储存温度范围和引脚焊接温度等参数。例如，IN到GND为 -0.3V至 +6V，10引脚µMAX在 +70°C以上的功率耗散需以5.6mW/°C的速率降额，最大为444mW。</p>
<h3>5.2 <a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>在特定条件下，给出了供应电压范围、预设输出电压、可调输出电压范围、FB电压、FB输入电流、电源电流、关断电源电流、输出负载调节、输出纹波、<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>频率、POK阈值、POK输出电平、POK关断漏电流、SHDN输入高/低电压、SHDN输入电流、SHDN输入电容和启动时间等参数。例如，预设输出电压在VIN ≥ 2.7V，IOUT = 0至4mA时为 -2.1V至 -1.9V。</p>
<h2>六、典型应用电路与引脚说明</h2>
<h3>6.1 典型电路</h3>
<p>文档给出了标准应用电路，包括最小电容值和最小输出噪声两种电路。不同电路可根据实际需求选择合适的电容值来平衡成本、空间和性能。</p>
<h3>6.2 引脚说明</h3>
<p>详细介绍了每个引脚的功能，如C1+和C1 - 是电容C1的正负极，NEGOUT是未调节的负输出电压，POK是低电平有效、开漏的Power-OK输出等。</p>
<h2>七、详细<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>7.1 电压转换</h3>
<p>输入电压VIN通过电容式电荷泵反相为NEGOUT处的负电压，该电压再由内部线性稳压器在OUT处进行调节。当FB连接到GND时，VOUT调节为 -2V；连接到外部电阻分压器时，可调节输出电压。</p>
<h3>7.2 Power-OK信号</h3>
<p>当OUT达到调节输出电压的92.5%时，POK输出低电平。此信号可驱动P - <a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>的栅极，控制GaAsFET功率放大器的电源，确保在所需负偏置电压存在之前，功率放大器不供电。</p>
<h3>7.3 关断模式</h3>
<p>MAX881R具有关断模式，SHDN是低电平有效、逻辑电平输入。进入关断模式后，电源电流降至小于1µA，启动时间通常为0.5ms，此时OUT和NEGOUT切换到GND。</p>
<h2>八、设计要点</h2>
<h3>8.1 输出电压设置</h3>
<p>可选择固定或可调输出。将FB连接到GND可获得固定 -2V输出；连接到从OUT到GND的电阻分压器中点可选择其他输出电压。满载时，IN电压应比OUT所需绝对电压高至少0.6V，且最小输入电压为2.5V。</p>
<h3>8.2 电容选择</h3>
<p>使用低等效串联电阻（ESR）的电容来保持低压差。C1、C2和C3应选择0.22µF、ESR小于0.4Ω的电容，C4应选择4.7µF、ESR小于0.1Ω的电容。增大电容值可降低输出噪声和纹波，但会增加成本和占用电路板空间。</p>
<h3>8.3 布局与接地</h3>
<p>良好的布局对噪声性能很重要。应将所有组件尽可能靠近安装，保持走线短以减少寄生电感和电容，特别是与FB的连接。同时，使用接地平面。</p>
<h3>8.4 噪声和纹波测量</h3>
<p>准确测量输出噪声和纹波有一定挑战。为获得最佳结果，应直接跨接输出电容（C4）进行测量，不使用探头的接地引线，而是将探头的接地环直接接触C4的接地端。</p>
<h2>九、总结</h2>
<p>MAX881R以其低噪声、小封装、快速启动和丰富的控制功能，为GaAsFET功率放大器的偏置电源设计提供了一个优秀的解决方案。在实际设计中，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>需要根据具体应用需求，合理设置输出电压、选择电容、优化布局和进行准确的测量，以充分发挥MAX881R的性能优势。大家在使用MAX881R的过程中，有没有遇到过什么特别的问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[超14万转！进芯ADP32F036解锁高速吹风筒控制方案新高度]]></title>    <link>https://www.elecfans.com/d/7656010.html</link>    <guid>https://www.elecfans.com/d/7656010.html</guid>    <pubDate>2026-02-12 11:36:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	消费升级下，高速吹风筒成为<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>热门品类，高转速、稳运行、低噪音成为用户核心诉求，也让无刷永磁同步<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>的<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>控制成为行业研发关键。面对市场对高端控制方案的迫切需求，深耕<a href="https://www.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>芯片研发的进芯电子，凭借国内领先的<a href="https://www.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>处理技术，推出基于进芯<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>P32F036 DSP芯片的高速吹风筒<a href="https://www.elecfans.com/tags/bldc/" target="_blank"><u>BLDC</u></a>无传感器FOC控制方案，一举突破转速壁垒，实测<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>转速达141000rpm，为高速吹风筒产品升级提供高性价比、高适配性的核心解决方案。</p>
<p style="text-indent:2em;">
	硬核方案来袭，刷新行业转速上限</p>
<p style="text-indent:2em;">
	作为国内领先的DSP芯片及应用方案设计团队，进芯电子针对高速吹风筒应用场景的技术需求，以ADP32F036高性能32位DSP为主控核心，融合无传感器磁场定向控制技术，打造出兼具极致性能与实用价值的控制方案，完美契合高端吹风筒的研发与量产需求。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNS4iAYKzrAAvOTBWta60847.png" alt="0289716e-07b8-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	1</p>
<p style="text-indent:2em;">
	超高速性能，领跑行业水准</p>
<p style="text-indent:2em;">
	方案依托ADP32F036的高性能运算架构，可高效处理高速复杂的控制算法，支持最高2.35KHz电频率输出，实测机械转速达141000rpm，相较当前市场主流高端产品提升7.5%，强劲的转速带来更迅猛的气流，实现快速干发，让产品轻松形成市场性能差异化优势。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZO2mNS4iAGXKzAAisKPhah6A328.png" alt="0354c792-07b8-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZO2mNS4mAQCVAAAkSIO-AqUU915.png" alt="03ef8fde-07b8-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	▲ADP32F036整机测试波形</p>
<p style="text-indent:2em;">
	2</p>
<p style="text-indent:2em;">
	无感精准控速，升级用户体验</p>
<p style="text-indent:2em;">
	采用无<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>FOC磁场定向控制技术，搭配SVPWM空间矢量调制，通过精准的<a href="https://m.hqchip.com/app/1179" target="_blank"><u>电流采样</u></a>与电机位置估算实现转矩和转速的平滑调控，不仅省去霍尔传感器的硬件成本与故障风险，更能实现0.5秒快速启动、0.3秒极速停机，运行过程中噪音更低、转矩更稳定，重载启动也平顺无抖动，大幅提升用户使用体验。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B7/wKgZPGmNS4mAE6qCAABdsmMYcFk073.png" alt="04738136-07b8-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	▲FOC转矩控制基本方案</p>
<p style="text-indent:2em;">
	3</p>
<p style="text-indent:2em;">
	全维安全保护，保障稳定运行</p>
<p style="text-indent:2em;">
	方案内置完善的故障保护体系，覆盖过流、过压/欠压、电机堵转、输出缺相、NTC温度故障、通讯故障等十余种故障类型，设置精准的保护阈值，故障发生时立即封锁PWM输出，全方位保障电机与整机设备的运行安全；同时配备故障灯闪烁提示功能，便于后期的检修与维护，降低售后成本。</p>
<p style="text-indent:2em;">
	4</p>
<p style="text-indent:2em;">
	高集成度设计，实现降本增效</p>
<p style="text-indent:2em;">
	主控芯片ADP32F036片内高度集成运放、PGA、<a href="https://m.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>、高速<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>、HRPWM等丰富外设，无需额外外挂芯片即可实现<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>采样、温度检测、PWM驱动等全部控制功能，大幅精简硬件电路、缩小PC 面积；同时方案采用分离<a href="https://m.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>设计，进一步降低物料成本，真正实现高性能与高性价比的兼得。</p>
<p style="text-indent:2em;">
	5</p>
<p style="text-indent:2em;">
	标准化开发体系，缩短上市周期</p>
<p style="text-indent:2em;">
	方案配套标准化的电机参数测量与匹配方法，支持控制板、电机的快速更换与调试，仅通过简单的参数校准、<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>值调节即可完成性能优化；同时搭配成熟的开发工具、完整技术文档与全流程技术支持，无需复杂的二次开发，大幅降低研发门槛，有效缩短产品的研发、测试与量产上市周期。</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	主控芯片ADP32F036，为高端控制而生</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZO2mNS4mAYpBQAAEJ62Z1Ink755.png" alt="063b78ac-07b8-11f1-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	本方案的极致性能，源于进芯ADP32F036 高性能32位定点DSP的硬核配置，该芯片完美适配高速吹风筒高频率、高精度的控速需求。</p>
<p style="text-indent:2em;">
	</p>
<table><tbody><tr><td>
				主频</td>
			<td>
				100MHz</td>
		</tr><tr><td>
				加速单元</td>
			<td>
				CLA可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>控制律加速单元</td>
		</tr><tr><td>
				存储资源</td>
			<td>
				36KB SA<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>RAM</u></a>、128KB Flash</td>
		</tr><tr><td>
				通讯<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></td>
			<td>
				SPI/SCI/IIC/<a href="https://www.hqchip.com/app/2004" target="_blank"><u>CAN</u></a>/CAN-FD</td>
		</tr><tr><td>
				外设配置</td>
			<td>
				10路PWM输出(5路支持HRPWM)、3个32位定时/计数器</td>
		</tr><tr><td>
				<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>外设</td>
			<td>
				1路运放、3路PGA、12bit SAR ADC(15通道)</td>
		</tr><tr><td>
				工作温度</td>
			<td>
				-40°C~+125°C</td>
		</tr><tr><td>
				封装形式</td>
			<td>
				LQFP32/48、QFN28/32/48/56、<a href="https://m.hqchip.com/app/1593" target="_blank"><u>TSS</u></a>OP20/28</td>
		</tr></tbody></table><p>
	</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[全球自动化行业盛会automatica品牌首秀中国，2027重磅来袭！]]></title>    <link>https://www.elecfans.com/d/7656025.html</link>    <guid>https://www.elecfans.com/d/7656025.html</guid>    <pubDate>2026-02-12 11:40:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	由慕尼黑博览集团举办的享誉全球的<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>及自动化技术旗舰盛会 – 慕尼黑国际机器人及自动化技术博览会（automatica）正式启动品牌全球化布局的脚步，于2027年首秀中国，续写自动化与机器人产业新篇章。由慕尼黑展览（上海）有限公司携手德国<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>设备制造业联合会上海代表处及中国机械工业联合会机器人分会共同打造的2027慕尼黑上海机器人及自动化技术展览会（automatica China）将于2027年3月在上海新国际博览<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>盛大拉开帷幕。这不仅是automatica全球品牌的延续，更是其洞察行业脉搏，将全球尖端技术与高速增长及极具发展潜力的市场深度连接的里程碑。一场以“智行所向，机聚未来”的行业交响，已然奏响序曲。  AUTOMATICA CHINA 缘起德国，传承与开拓</p>
<p style="text-indent:2em;">
	automatica展会，自创立以来，品牌影响力享誉全球，是全球自动化与机器人领域的技术指引者。从核心零部件的紧密研发，到成套系统的集成应用；从专业配套服务的精准赋能，到各场景落地应用的创新实践，品牌始终走在行业前沿，以前瞻的洞察，与行业同仁们，共同见证及续写着行业的每一轮发展与革新。</p>
<p style="text-indent:2em;">
	全球机器人产业正经历从“功能替代”到“智能共生”的转变，中国则凭借着极具潜力的产业链生态、持续的技术突破及不断增长的高需求，正在这场转变中占据核心赛道。值此之际，2027慕尼黑上海机器人及自动化技术展览会（automatica China）的召开也将助推行业技术融合，场景深化及可持续发展。automatica品牌也将其深厚的积淀与全球网络延伸至上海，这将是一场技术与市场、全球智慧与中国实践的双向奔赴与深度融合。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZO2mNTOmAbFiLAAKCeXuD9ng662.jpg" alt="f23c1f6e-07b7-11f1-90a1-92fbcf53809c.jpg"/></p>
<p style="text-indent:2em;">
	Messe München GmbH聚势中国，深耕与绽放</p>
<p style="text-indent:2em;">
	全球自动化及机器人产业快速升级，中国，正以其庞大的应用需求、完整的产业链和极具活力的创新生态，成为产业升级变革中引人瞩目的核心舞台。从精益高效的<a href="https://m.elecfans.com/v/tag/144/" target="_blank"><u>工业机器人</u></a>到灵巧协同的协作机器人，从洞见微毫的<a href="https://www.elecfans.com/tags/机器视觉/" target="_blank"><u>机器视觉</u></a>到智慧互联的工厂大脑，技术突破正以前所未有的速度在这里落地、深耕、绽放。</p>
<p style="text-indent:2em;">
	2027慕尼黑上海机器人及自动化技术展览会（automatica China）顺势而来，为中国乃至亚洲区域的产业伙伴们提供尖端技术及前瞻行业动态。展会将集中展示工业机器人、协作机器人、服务机器人、移动机器人、检测技术、驱动与<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>及<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>、装配与搬运技术、工业软件与<a href="https://www.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>解决方案、智慧工厂解决方案等一系列前沿技术及创新成果。同时也将高效连接来自电子、医疗、<a href="https://m.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>、汽车、<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>等需求行业的决策者、<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>与采购负责人，为产业上下游企业提供更精准的对接、更深入的交流与更具实效的合作。为企业新一年度新品发布、趋势定义、抢占商机提供展现舞台。</p>
<p style="text-indent:2em;">
	图源：站酷海洛 强强联手，协作与共赢</p>
<p style="text-indent:2em;">
	此次，automatica 品牌首秀中国，获得了海内外行业协会的大力支持。作为automatica的共同发起者之一，德国机械设备制造业联合会，凭借其深刻的市场洞察力、专业的行业储备、瞩目的国际影响力及广阔的全球脉络，其上海代表处将与慕尼黑展览（上海）有限公司紧密合作，再续自动化与机器人领域的行业新征程，为2027慕尼黑上海机器人及自动化技术展览会（automatica China）引进更丰富的国际前沿技术，创新解决方案及行业全球趋势前瞻。而展会的另一合作伙伴中国机械工业联合会机器人分会以其在中国机器人行业的权威性、产业上下游市场渗透力、技术深度及专业度为展会注入了中国力量，助力企业拓展高增长市场需求，寻求合作商机。</p>
<p style="text-indent:2em;">
	强强联手，资源整合，协同互助，携手打造又一行业盛世：2027慕尼黑上海机器人及自动化技术展览会（automatica China）。一个聚焦自动化与机器人行业技术展示及产业链互动交流的专业平台。</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>
<p style="text-indent:2em;">
	<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>、具身智能、大数据、<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>等智能化浪潮势不可挡，全球机器人及自动化力量将汇聚于2027慕尼黑上海机器人及自动化技术展览会（automatica China），这不仅是产品和技术的展现，更将成为推动产业创新融合、深化应用场景、促进可持续发展的关键催化剂。</p>
<p style="text-indent:2em;">
	我们满怀热忱，期待与全球业界同仁相约2027年的上海。让我们携手，在这场智慧与机械共鸣的盛会上，共同见证并参与塑造一个更加高效、智能、美好的行业蓝图！</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[MAX1682/MAX1683 开关电容电压倍增器：设计与应用解析]]></title>    <link>https://www.elecfans.com/d/7656034.html</link>    <guid>https://www.elecfans.com/d/7656034.html</guid>    <pubDate>2026-02-12 11:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656034" value="https://file1.elecfans.com/web2/M00/71/85/pYYBAGNOj9OAIao7AALBK19Si6w779.pdf"/><h1>MAX1682/MAX1683 开关电容电压倍增器：设计与应用解析</h1>
<h2>一、引言</h2>
<p>在电子设备中，电压转换是一个关键环节。对于电池供电或板级电压倍增应用来说，高效、小尺寸的电压倍增器尤为重要。<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a> 公司的 MAX1682/MAX1683 开关电容电压倍增器就是这样一款出色的产品，下面我们来详细了解它的特性、应用及设计要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656034" target="_blank">MAX1682.pdf</a></p>
<h2>二、产品概述</h2>
<h3>2.1 基本特性</h3>
<p>MAX1682/MAX1683 是超小型的单片 CMOS <a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>电压倍增器，输入电压范围为 +2.0V 至 +5.5V。其具有高达 98% 以上的电压转换效率，MAX1682 的静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅为 110µA，非常适合电池供电和板级电压倍增应用。芯片内部集成了<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a><a href="https://www.elecfans.com/soft/data/4-10/" target="_blank"><u>控制电路</u></a>和四个功率 <a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a> 开关，MAX1682 工作频率为 12kHz，MAX1683 工作频率为 35kHz。</p>
<h3>2.2 封装与输出能力</h3>
<p>这两款器件均采用 5 引脚 SOT23 封装，可提供 30mA 的输出电流，典型压降为 600mV。</p>
<h2>三、产品特性详解</h2>
<h3>3.1 封装与输入电压范围</h3>
<p>采用 5 引脚 SOT23 封装，体积小巧，便于在 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 上布局。输入电压范围为 +2.0V 至 +5.5V，能适应多种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境。</p>
<h3>3.2 转换效率与静态电流</h3>
<p>高达 98% 的电压转换效率，可有效减少能量损耗。MAX1682 的静态电流为 110µA，低功耗特性使得其在电池供电设备中表现出色。</p>
<h3>3.3 <a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>需求</h3>
<p>仅需两个电容即可工作，简化了<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>。</p>
<h3>3.4 输出电流能力</h3>
<p>最大可提供 45mA 的输出电流，能满足一些小型负载的供电需求。</p>
<h2>四、应用领域</h2>
<h3>4.1 小型 LCD 面板</h3>
<p>可为小型 LCD 面板提供合适的电源，保证其正常显示。</p>
<h3>4.2 <a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a></h3>
<p>在手机等移动设备中，可用于电压倍增，满足特定电路的供电需求。</p>
<h3>4.3 手持终端和 PDA</h3>
<p>为手持终端和 PDA 设备的相关电路提供稳定的电压。</p>
<h2>五、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>5.1 绝对最大额定值</h3>
<ul>
<li>IN 到 GND 的电压范围为 +6V 至 -0.3V。</li>
<li>OUT 到 GND 的电压范围为 +12V 或 VIN - 0.3V。</li>
<li>输出电流最大为 50mA。</li>
<li>输出短路持续时间为 1 秒。
<h3>5.2 工作温度范围</h3>
<p>MAX1682EUK/MAX1683EUK 的工作温度范围为 -40°C 至 +85°C，结温最高为 +150°C，存储温度范围为 -65°C 至 +160°C。</p>
<h3>5.3 电气参数</h3>
<p>在不同条件下，其无负载电源电流、电源电压范围、振荡器频率、输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和电压转换效率等参数会有所不同。例如，在 (V<em>{IN}=+5.0V)，(T</em>{A}=+25^{circ}C) 时，MAX1682 的无负载电源电流典型值为 110µA，振荡器频率为 12kHz。</p></li>
</ul>
<h2>六、典型工作特性</h2>
<h3>6.1 输出电阻与温度、电压的关系</h3>
<p>从典型工作特性图中可以看出，输出电阻会随着温度和输入电压的变化而变化。例如，MAX1682 在不同输入电压下，输出电阻会有所不同，且随着温度升高，输出电阻也会发生变化。</p>
<h3>6.2 输出电压纹波与输出电流的关系</h3>
<p>输出电压纹波会随着输出电流的增加而变化，合理选择电容值可以降低输出电压纹波。</p>
<h3>6.3 振荡器频率与温度的关系</h3>
<p>振荡器频率也会受到温度的影响，在不同温度下，MAX1682 和 MAX1683 的振荡器频率会有所波动。</p>
<h2>七、引脚描述</h2>
<table>
<thead>
<tr>
<th><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N</th>
<th>NAME</th>
<th>FUNC<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>ON</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>GND</td>
<td>接地</td>
</tr>
<tr>
<td>2</td>
<td>OUT</td>
<td>倍增后的输出电压，需在 OUT 和 GND 之间连接 C2</td>
</tr>
<tr>
<td>3</td>
<td>C1 -</td>
<td>飞跨电容的负端</td>
</tr>
<tr>
<td>4</td>
<td>IN</td>
<td>输入电源</td>
</tr>
<tr>
<td>5</td>
<td>C1 +</td>
<td>飞跨电容的正端</td>
</tr>
</tbody>
</table>
<h2>八、详细<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>8.1 电压倍增原理</h3>
<p>在第一个半周期，开关 S1 和 S2 闭合，电容 C1 充电至 VIN；在第二个半周期，S1 和 S2 断开，S3 和 S4 闭合，C1 的电压升高 VIN 伏，将能量传递给输出端。但由于开关电阻和负载的影响，实际输出电压略低于 2 x VIN。</p>
<h3>8.2 输出电阻与电压降</h3>
<p>MAX1682/MAX1683 具有约 20Ω 的输出电阻，随着负载电流的增加，输出电压会下降，下降值 (VDROOP = IOUT x <a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>)，实际输出电压 (VOUT = 2 × VIN - VDROOP)。</p>
<h3>8.3 效率考虑</h3>
<p>功率效率受三个因素影响：<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a> IC 的内部损耗、电容的电阻损耗和电容间电荷转移的转换损耗。总功率损耗为内部损耗、泵电容损耗和转换损耗之和。</p>
<h2>九、电容选择</h2>
<h3>9.1 飞跨电容（C1）</h3>
<p>为保持最低输出电阻，应选择低 ESR 的电容。推荐的电容制造商有 AVX、Matsuo、Sprague 等。不同型号的器件建议的电容值不同，如 MAX1682 推荐 10µF，MAX1683 推荐 3.3µF。增大飞跨电容可降低输出阻抗，提高效率，但超过一定值后，增加电容值对输出电阻的影响不大。</p>
<h3>9.2 输出电容（C2）</h3>
<p>增加输出电容可降低输出纹波电压，降低其 ESR 可同时降低输出电阻和纹波。对于轻负载，可使用较小的电容值。可使用公式 (<a href="https://www.elecfans.com/v/tag/3668/" target="_blank"><u>VR</u></a>IPPLE = IOUT /(fosc × C 2)+2 × IOUT × ESRC2) 计算峰 - 峰纹波。</p>
<h3>9.3 输入旁路电容</h3>
<p>使用 0.1µF 的旁路电容可降低输入电源的交流阻抗，减少开关噪声的影响。</p>
<h2>十、级联与并联应用</h2>
<h3>10.1 级联</h3>
<p>多个器件级联可产生更高的电压，空载输出电压约为 (n + 1) x VIN，但输出电阻会增加。例如，两级电压倍增器的输出电阻可近似为 (ROUT = 2 × ROUT1 + ROUT2)。</p>
<h3>10.2 并联</h3>
<p>并联多个 MAX1682 或 MAX1683 可降低输出电阻，每个器件需要自己的泵电容（C1），但共用一个储能电容（C2），C2 的值应根据并联器件的数量相应增加。</p>
<h2>十一、布局与接地</h2>
<p>良好的布局对于降低噪声至关重要。应将所有组件尽可能靠近安装，缩短走线长度以减少寄生电感和电容，并使用接地平面。</p>
<h2>十二、总结</h2>
<p>MAX1682/MAX1683 开关电容电压倍增器以其高效、小尺寸和低功耗的特性，在电池供电和板级电压倍增应用中具有很大的优势。在设计电路时，合理选择电容、注意布局和接地等要点，可以充分发挥其性能。各位<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在实际应用中，不妨根据具体需求进行尝试，看看它能为你的设计带来怎样的效果。你在使用类似电压倍增器时遇到过哪些问题呢？欢迎在评论区分享。 </p>]]></description></item><item>    <title><![CDATA[电子工程师必备：MAX1686/MAX1686H SIM卡电荷泵解析]]></title>    <link>https://www.elecfans.com/d/7656035.html</link>    <guid>https://www.elecfans.com/d/7656035.html</guid>    <pubDate>2026-02-12 11:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656035" value="https://file1.elecfans.com/web2/M00/82/2F/poYBAGOUNgyAT6f5AAJhOlRZhy8979.pdf"/><h1><a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>必备：MAX1686/MAX1686H <a href="https://www.hqchip.com/app/1522" target="_blank"><u>SIM</u></a>卡<a href="https://www.hqchip.com/app/1734" target="_blank"><u>电荷泵</u></a>解析</h1>
<p>在电子设备不断发展的今天，为了满足各类应用场景的需求，电子工程师们对于<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>芯片的要求也越来越高。特别是在便携式设备中，如GSM<a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、PCS电话等，需要稳定、高效的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>来驱动双电压用户识别模块（SIM卡）。<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a>公司的MAX1686/MAX1686H就是这样一款专为SIM卡设计的3V到5V调节电荷泵芯片，能够为我们的设计带来诸多便利。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656035" target="_blank">MAX1686.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX1686/MAX1686H主要用于便携式设备中的双电压SIM卡供电，像常见的GSM手机就会用到它。它可以将2.7V - 4.2V的输入电压，通过1MHz的电荷泵转换为稳定的5V输出。其中，MAX1686H标称输出电压为5.0V，而MAX1686则设定为4.75V，这样做是为了减少SIM卡的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>消耗。这款芯片的静态电源电流仅为45µA，如果是为3V的SIM卡供电且电荷泵禁用时，电流还能降至3µA，非常适合对功耗要求较高的设备。此外，芯片内部还有输入/输出短路开关，可直接为3V的SIM卡供电。</p>
<h2>二、产品特性</h2>
<h3>（1）宽输入电压范围</h3>
<p>其输入电压范围为2.7V - 4.2V，能够适应多种电源环境，为不同的应用场景提供了灵活的选择。</p>
<h3>（2）低功耗设计</h3>
<p>静态电源电流低至45µA，关机模式下仅为0.1µA，大大降低了设备的整体功耗，延长了电池的使用时间。</p>
<h3>（3）稳定的输出电压</h3>
<p>MAX1686H输出5.0V，MAX1686输出4.75V，能够为SIM卡提供稳定的电源，保证其正常工作。</p>
<h3>（4）小尺寸与外部元件少</h3>
<p>采用超小的8引脚µMAX封装，且只需三个外部<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，节省了电路板空间，降低了成本。</p>
<h3>（5）多种保护功能</h3>
<p>具备软启动和短路保护功能，能够有效保护芯片和电路，提高设备的可靠性。</p>
<h2>三、引脚说明</h2>
<table>
<thead>
<tr>
<th>引脚</th>
<th>名称</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3/ 5</td>
<td>3V/5V选择输入。低电平时，MAX1686输出调节为4.75V，MAX1686H为5.00V；高电平时，输出与输入短路。</td>
</tr>
<tr>
<td>2</td>
<td>SHDN</td>
<td>低电平有效关机输入。SHDN = GND时，芯片关闭，输出被主动拉低。</td>
</tr>
<tr>
<td>3</td>
<td>IN</td>
<td>电源输入引脚，电压范围2.7V - 4.2V，需用陶瓷电容接地旁路。</td>
</tr>
<tr>
<td>4</td>
<td>GND</td>
<td>接地引脚</td>
</tr>
<tr>
<td>5</td>
<td>PGND</td>
<td>电源接地，需通过短走线连接到GND</td>
</tr>
<tr>
<td>6</td>
<td>CXN</td>
<td>电荷泵传输电容的负端</td>
</tr>
<tr>
<td>7</td>
<td>CXP</td>
<td>电荷泵传输电容的正端</td>
</tr>
<tr>
<td>8</td>
<td>OUT</td>
<td>电源输出，需用输出滤波电容旁路到GND</td>
</tr>
</tbody>
</table>
<h2>四、工作模式</h2>
<h3>（1）3V模式</h3>
<p>当3 / 5引脚接输入电压（3 / 5 = IN）时，芯片处于3V模式。此时，输入通过一个2.5Ω的开关直接连接到输出，为3V的SIM卡供电。</p>
<h3>（2）5V模式</h3>
<p>当3 / 5引脚接地（3 / 5 = GND）时，进入5V模式。MAX1686输出电压稳定在4.75V，MAX1686H为5.00V，能够提供超过12mA的负载电流。</p>
<h2>五、关键特性解析</h2>
<h3>（1）电荷泵控制</h3>
<p>MAX1686采用Skip Mode控制来调节输出电压，提高了在大输出电流范围内的效率。通过一个50%占空比的<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>，在半个周期内让传输电容（CX）充电到输入电压，另一半周期则将CX上的电压与输入电压叠加后传输到输出滤波电容（COUT）。</p>
<h3>（2）软启动</h3>
<p>在5V模式下，通过软启动控制将启动电流限制在200mA左右。当输出电压低于VIN / 2时，输入通过一个50Ω的P沟道<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>连接到输出，同时电荷泵禁用；当输出电压在VIN / 2和4.75V（MAX1686H为5.00V）之间时，电荷泵启动，但开关S2的导通电阻限制在50Ω，减少了启动时的电流浪涌。在3V模式下，启动电流也会被同样的MOSFET限制，直到输出电压超过VIN / 2，导通电阻再降至2.5Ω。</p>
<h3>（3）关机模式</h3>
<p>将SHDN引脚拉低，芯片进入关机模式，振荡器、控制逻辑和参考电压被禁用，无负载电源电流降至1µA以下，输出通过内部N沟道FET主动放电并与输入断开。</p>
<h2>六、应用设计要点</h2>
<h3>（1）电容选择</h3>
<p>芯片只需要三个外部电容，电容值与输出电流能力、噪声和开关频率密切相关。一般来说，传输电容（CX）最小，输入电容（CIN）是CX的两倍，输出电容（COUT）是CX的10 - 50倍。对于输入电压低至2.7V的情况，建议使用 (C_{IN}=0.47 mu F) ， (C x=0.22 mu F) 和 (COUT =10 mu F) 的电容。同时，较小的输入电压要求使用低ESR的电容，如陶瓷电容，以减少噪声并提高效率。
在设计使用MAX1686/MAX1686H芯片的电路时，电容的选择至关重要，尤其是电容的等效串联<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>（ESR）对<a href="https://www.elecfans.com/soft/data/4-5/" target="_blank"><u>电源电路</u></a>的性能有着显著影响。我刚刚尝试搜索“电容ESR对电源电路的影响”，但暂时未获取到相关结果，后续我会继续为大家分析这一要点。</p>
<h3>（2）布局考虑</h3>
<p>由于芯片的开关频率高且峰值电流大，<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局设计非常重要。所有电容应尽量靠近芯片焊接，并且接地和电源接地需要通过短的低阻抗走线连接。可以利用电路板上多余的铜箔作为伪接地平面，多层电路板则应采用组件侧铜填充的星形接地方式，再通过过孔连接到内部接地平面。同时，要确保负载直接连接在输出滤波电容两端。</p>
<h2>七、总结</h2>
<p>MAX1686/MAX1686H作为一款专为SIM卡设计的3V到5V调节电荷泵芯片，凭借其宽输入电压范围、低功耗、稳定输出、小尺寸和多种保护功能等优势，非常适合应用于各类便携式设备。在实际设计中，只要合理选择外部电容和优化PCB布局，就能充分发挥芯片的性能，为电子设备提供稳定、高效的电源解决方案。各位电子工程师朋友们，在你们的设计中有没有遇到过类似的电源管理问题呢？不妨在评论区分享一下你们的经验。 </p>]]></description></item><item>    <title><![CDATA[MAX6921/MAX6931：20 输出、76V 串行接口 VFD 管驱动器的全面解析]]></title>    <link>https://www.elecfans.com/d/7656036.html</link>    <guid>https://www.elecfans.com/d/7656036.html</guid>    <pubDate>2026-02-12 11:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656036" value="https://file1.elecfans.com/web2/M00/82/88/pYYBAGOTtSOAUYCqAAIl6bLjDbc704.pdf"/><h1>MAX6921/MAX6931：20 输出、76V 串行<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a> VFD 管<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>的全面解析</h1>
<p>在硬件设计开发的领域中，VFD（真空荧光显示）管驱动器占据着重要的地位。今天，我们就来详细探讨一下 <a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a> 公司推出的 MAX6921/MAX6931 这两款 20 输出、76V 串行接口的 VFD 管驱动器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656036" target="_blank">MAX6921.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX6921/MAX6931 能够将多路复用 VFD 管连接到 VFD <a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>（如 MAX6850 - MAX6853）或<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>，同时也适用于驱动静态 VFD 管或电信继电器。它采用行业标准的 4 线串行接口（CLOCK、DATA、LO<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>、BLANK），与 Maxim 或行业标准的 VFD 驱动器和控制器兼容。</p>
<h3>器件特点区分</h3>
<p>MAX6921 具备串行接口数据输出（DOUT），可使任意数量的器件在同一串行接口上进行级联；而 MAX6931 拥有负<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压输入（VSS），能让驱动器的输出摆幅变为双极性，从而在许多应用中简化灯丝偏置。</p>
<h3>封装形式</h3>
<p>MAX6921 有 28 引脚 <a href="https://m.hqchip.com/app/1593" target="_blank"><u>TSS</u></a>OP、SO 和 <a href="https://www.elecfans.com/v/tag/323/" target="_blank"><u>PLC</u></a>C 封装可供选择，MAX6931 则采用 28 引脚 TSSOP 封装。此外，Maxim 还提供 12 输出 VFD 驱动器（MAX6920）和 32 输出 VFD 驱动器（MAX6922/MAX6932），满足不同的设计需求。</p>
<h2>二、产品特性亮点</h2>
<h3>高性能接口与电源范围</h3>
<ul>
<li>具备 5MHz 行业标准 4 线串行接口，能实现高速数据传输。</li>
<li>逻辑电源范围为 3V 至 5.5V，管电源范围为 8V 至 76V，MAX6931 的灯丝偏置电源范围为 -11V 至 0V，这使得它在不同电源环境下都能稳定工作。
<h3>强大的输出能力</h3></li>
<li>采用推挽式 CMOS <a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>输出，输出可连续提供 40mA <a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>，吸收 4mA 电流，还能提供 75mA 的重复脉冲电流。</li>
<li>输出可以并行连接，以实现更高的电流驱动能力，并且任何输出都可作为栅极或阳极驱动器。
<h3>便捷的控制功能</h3></li>
<li>BLANK 输入可简化 PWM 强度控制，高电平有效时可强制所有驱动器输出为低电平，关闭显示并使器件进入关断模式，还能通过直接对 BLANK 输入进行脉冲宽度调制来控制显示强度。
<h3>宽温度范围与小封装</h3></li>
<li>工作温度范围为 -40°C 至 +125°C，保证了在不同环境下的可靠性。</li>
<li>采用小尺寸的 28 引脚 TSSOP 封装，节省电路板空间。</li>
</ul>
<p>在硬件设计中，推挽式CMOS高压输出在VFD管驱动器中具有显著优势。推挽式结构能够提供较强的驱动能力，可有效驱动VFD管的阳极和栅极。它可以在高电平输出时提供较大的电流，确保VFD管的正常发光；在低电平输出时，又能快速吸收电流，实现快速的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>切换。这对于提高VFD管的显示效果和响应速度非常关键。</p>
<h2>三、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性分析</h2>
<h3>电压与电流参数</h3>
<p>在典型工作电路中，逻辑电源电压 (V<em>{CC}) 范围为 3V 至 5.5V，管电源电压 (V</em>{BB}) 范围为 8V 至 76V，MAX6931 的偏置电源电压 (V<em>{SS}) 范围为 -11V 至 0V，总电源电压 (V</em>{BB}-V<em>{SS}) 最大为 76V。不同输出状态下，逻辑电源工作电流 (I</em>{CC}) 和管电源工作电流 (I_{BB}) 会有所变化，并且受温度影响。</p>
<h3>输出电压与时间参数</h3>
<ul>
<li>高压输出 (V<em>{H}) 和低压输出 (V</em>{L}) 会根据不同的 (V<em>{BB}) 和 (I</em>{OUT}) 以及温度条件而变化。</li>
<li>输出的上升时间 (t<em>{R}) 和下降时间 (t</em>{F}) 在特定条件下有相应的典型值，串行接口的各种时序特性也有明确的参数要求，如 LOAD 上升到 OUT<em> 下降延迟、BLANK 上升到 OUT</em> 下降延迟等。</li>
</ul>
<h2>四、详细<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>4 线串行接口</h3>
<p>MAX6921/MAX6931 通过 4 线串行接口（DIN、CLK、LOAD、DOUT，MAX6921 才有 DOUT）进行数据传输和控制。CLK 作为接口时钟，在其上升沿将数据移入 20 位移位<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>；LOAD 高电平时，数据从移位寄存器透明传输到输出锁存器，在其下降沿锁存数据；DIN 为接口数据输入，需在 CLK 上升沿采样时保持稳定；DOUT 则在 CLK 上升沿将数据从移位寄存器移出。BLANK 输入可独立控制输出状态，高电平时强制输出为低电平，不改变输出锁存器内容，常用于 PWM 强度控制。</p>
<h3>输出结构与特性</h3>
<p>每个驱动器输出是经过压摆率控制的 CMOS 推挽开关，在 MAX6921 中输出在 (V<em>{BB}) 和 GND 之间摆动，在 MAX6931 中在 (V</em>{BB}) 和 (V_{SS}) 之间摆动。输出上升时间慢于下降时间，可避免输出转换时的直通电流，同时压摆率能在降低 EMI 的同时，不影响典型的 100µs 数字多路复用周期和显示强度。</p>
<h2>五、实际应用要点</h2>
<h3>输出电流与并联</h3>
<p>每个输出的连续<a href="https://m.hqchip.com/app/1725" target="_blank"><u>电流源</u></a>能力为 40mA，可驱动高达 75mA 的重复峰值电流，但需满足一定的导通时间和占空比要求。同一封装内的输出可以并联以提高电流驱动能力或降低输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，但要确保接口控制能使输出处于相同电平。安全的并联方式是使用<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>防止输出吸收电流，并根据不同情况选择合适的外部放电电阻。</p>
<h3>功率耗散计算</h3>
<p>对于静态管驱动器和多路复用管驱动器，需要分别使用不同的公式计算功率耗散 (P_{D})。在设计时，要确保所选封装的最大耗散额定值不被超过，并且在使用多个驱动器时，尽量均匀分配平均耗散。</p>
<h3>电源考虑</h3>
<p>MAX6921/MAX6931 采用多电源电压工作，需使用 0.1µF <a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>将 (V<em>{CC})、(V</em>{BB}) 和 (V<em>{SS})（仅 MAX6931）电源引脚旁路到 GND。在多路复用应用中，可能需要在 (V</em>{BB}) 电源上添加 1µF 或更大的大容量<a href="https://m.hqchip.com/app/1139" target="_blank"><u>电解电容</u></a>。电源供电顺序不重要，但在逻辑电源 (V_{CC}) 未工作时，不要驱动逻辑输入。</p>
<h3>驱动器级联（仅 MAX6921）</h3>
<p>多个 MAX6921 可以通过将每个驱动器的 DOUT 连接到下一个驱动器的 DIN 进行级联。当 (V<em>{CC} ≥ 4.5V) 时，可在 5MHz CLK 全速级联；当 (V</em>{CC}&lt;4.5V) 时，较长的传播延迟会将最大级联 CLK 限制为 4MHz。</p>
<p>综上所述，MAX6921/MAX6931 是两款功能强大、性能优越的 VFD 管驱动器，在众多领域都有广泛的应用前景。在实际设计中，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>需要根据具体需求，合理运用其特性，确保设计的可靠性和稳定性。大家在使用这两款驱动器时，有没有遇到过什么特别的问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[理想i8平台提升高速和冬季续航的6个秘密: SiC元胞结构、低电感母排、热管理、PWM变调制、润滑油配方、热处]]></title>    <link>https://www.elecfans.com/d/7656191.html</link>    <guid>https://www.elecfans.com/d/7656191.html</guid>    <pubDate>2026-02-12 11:32:00</pubDate>    <description><![CDATA[<p><span style="color:rgb(120,172,254);font-family:Arial, Helvetica, sans-serif;"><strong>- 关于理想i8 SPD平台从整车到芯片的全维解析</strong></span></p><p><span style="color:rgb(120,172,254);"><strong>- 文字原创，素材来源：理想汽车、Infineon、<a href="https://www.elecfans.com/tags/nxp/" target="_blank"><u>NXP</u></a>等</strong></span><br/></p><p><span style="color:rgb(120,172,254);"><strong>- 本篇为知识星球节选，完整版报告与解读在知识星球发布</strong></span></p><p><span style="color:rgb(120,172,254);"><strong>- 2000+全球前瞻技术方案解析已上传知识星球</strong></span></p><hr/><p><span style="font-family:Arial, Helvetica, sans-serif;"><strong>导语：今天我们来聊聊理想汽车最新的SPD电驱平台的最新技术方案和背后的思考。</strong></span><br/></p><p><span style="font-family:Arial, Helvetica, sans-serif;">近两年，整车续航指标持续抬升，但行业在真实场景里遇到一个越来越"尖锐"的矛盾：</span><span style="color:rgb(255,76,0);font-family:Arial, Helvetica, sans-serif;"><strong>台架和标定工况看起来很强， 一到高速和冬季，续航就明显打折</strong></span><span style="font-family:Arial, Helvetica, sans-serif;">——高速 120 km/h 工况续航常见保留约 70%，冬季（-7℃）CLTC 续航常见保留约 60%（典型条件：CVW≥1700 kg）。</span></p><p><span style="font-family:Arial, Helvetica, sans-serif;">这是因为：<strong>电驱系统的工作点分布发生了迁移，离开了效率地图的高效区"甜点"</strong>。 当工作点整体偏离高效区时，靠某个部件把峰值效率做得更高，往往无法转化为等比例的整车收益。</span></p><p><img src="http://images.elecfans.net/uploads/20260212/6a3f93f0-07c3-11f1-96ea-92fbcf53809c.png" alt="6a3f93f0-07c3-11f1-96ea-92fbcf53809c.png"/></p><p style="text-align:center;"><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：SysPro</strong></span></p><p><span style="font-family:Arial, Helvetica, sans-serif;"><strong>理想汽车最新发布的</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>SPD平台</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>给出了全面且系统的解决思路：</strong>先把</span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>整车目标、工作点分布与三工况损耗</strong></span><span style="font-family:Arial, Helvetica, sans-serif;">拆账做成可计算的闭环， 再把<strong>6个关键抓手</strong>——</span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>SiC器件与回路、减速器润滑体系、<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>分区冷却、铁芯退火工艺、全局PWM调制方法</strong></span><span style="font-family:Arial, Helvetica, sans-serif;">——逐一对应到损耗大头上。<strong>最后，我们看到其：平台指标覆盖电压、功率、扭矩、功率密度与效率，并在三类典型工况下形成稳定的效率水平。</strong></span><br/></p><p><img src="http://images.elecfans.net/uploads/20260212/6a9dc8c6-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6a9dc8c6-07c3-11f1-96ea-92fbcf53809c.jpg"/></p><p style="text-align:center;"><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：Li Auto</strong></span></p><p><span style="font-family:Arial, Helvetica, sans-serif;"><strong>2026年初，理想i8凭借</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>93.08%</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>的行业领先电动驱动效率，荣获</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>"年度十大<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>车动力系统"称号。</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>作为其核心技术平台，该驱动系统实现了全栈式自主研发，涵盖</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>功率芯片、<a href="https://www.hqchip.com/app/2047" target="_blank"><u>功率模块</u></a>、<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>器、电动机、减速齿轮箱和控制软件</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>，这使得车辆达到 CLTC 续航里程</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>720公里</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>。</strong></span><br/></p><p><span style="font-family:Arial, Helvetica, sans-serif;">今天我们就来一起聊聊：</span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>理想汽车如何把高速（120 km/h）与冬季（-7℃）这两类最容易掉续航的场景，转化为可量化的损耗账本与工程抓手？</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>我会</strong></span><span style="color:rgb(0,82,255);font-family:Arial, Helvetica, sans-serif;"><strong>按"趋势—平台—方法—审核清单—抓手—总结—指南"</strong></span><span style="font-family:Arial, Helvetica, sans-serif;"><strong>的结构展开，并回答以下关键问题：</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;">续航目标拉高后，工作点为何会整体偏离高效区？</span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;">如何用系统级集成模型，把整车指标变成电驱设计输入，避免局部最优？</span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;">三工况下损耗分布到底长什么样？哪些是"大头"，哪些是"杠杆"？</span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;">SiC <a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>单元、低电感母排、低温润滑、阀控分区油路、退火工艺、软件调制分别对准哪些损耗项？背后的物理逻辑是什么？</span></p><p><img src="http://images.elecfans.net/uploads/20260212/6b305286-07c3-11f1-96ea-92fbcf53809c.png" alt="6b305286-07c3-11f1-96ea-92fbcf53809c.png"/></p><p style="text-align:center;"><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：SysPro</strong></span></p><hr/><p><span style="color:rgb(123,12,0);"><strong>目录</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>01 背景矛盾与工作点迁移</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>1.1 续航趋势：指标攀升背后的工作点迁移</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>1.2 高速与冬季：续航打折的核心痛点</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>1.3 效率的价值：用公里数量化工程优先级</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>1.4 核心症结：工作点偏离甜区，部件最优≠系统最优</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>02 SPD 平台指标与可扩展架构</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>2.1 平台关键指标：一张表明确核心能力边界</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>2.2 可扩展逻辑：落到工程量上的三维拓展能力</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>03 系统级优化路线与评价矩阵</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>3.1 传统路径的瓶颈：分离优化导致的全局失衡</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>3.2 理想的解法：集成模型 + 定量分析</strong></span></p><p><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>3.3 评价矩阵：让“全局最优”可评审、可落地</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>04 三工况能量账本与损耗优先级★</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>4.1 三工况损耗占比：冬季损耗最高，高速次之</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>4.2 六项损耗细分：明确"谁在吃掉效率"</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>4.3 优化优先级：先抓大头，再抓杠杆</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>05 关键技术突破的六大抓手★</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.1 六边形元胞 SiC 芯片：导通损耗优化</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.2 超低寄生电感母排：开关损耗与可控性</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.3 专用润滑油：低温黏度与冬季减速器损耗</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.4 分区冷却：阀控油路与<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>损耗</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.5 精准热处理：退火工艺与铁损下降</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>5.6 全局 PWM 变调制：软硬协同压减综合损耗</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>06 达成效果、工程启示与展望★</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>6.1 效率达成：93% / 92% / 91% 的含义</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>6.2 效率与续航：看得见的收益，算得清的成本</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>6.3 可迁移启示：三条系统工程逻辑</strong></span></p><p><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>6.4 总结与展望：从部件竞赛到系统能力竞赛</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>注：以上内容节选，完整内容知识星球中发布（</strong>★<strong>）</strong></span></p><hr/><p><img src="http://images.elecfans.net/uploads/20260212/6bfcc2c6-07c3-11f1-96ea-92fbcf53809c.png" alt="6bfcc2c6-07c3-11f1-96ea-92fbcf53809c.png"/></p><hr/><p><img src="http://images.elecfans.net/uploads/20260212/6cb0acbe-07c3-11f1-96ea-92fbcf53809c.png" alt="6cb0acbe-07c3-11f1-96ea-92fbcf53809c.png"/><br/></p><hr/><p><img src="http://images.elecfans.net/uploads/20260212/6d02d3ae-07c3-11f1-96ea-92fbcf53809c.png" alt="6d02d3ae-07c3-11f1-96ea-92fbcf53809c.png"/><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：SysPro</strong></span><img src="http://images.elecfans.net/uploads/20260212/6dd17650-07c3-11f1-96ea-92fbcf53809c.png" alt="6dd17650-07c3-11f1-96ea-92fbcf53809c.png"/><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：SysPro</strong></span></p><hr/><p style="text-align:center;"><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>04 三工况能量分布与损耗优先级</strong></span></p><p style="text-align:center;"><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>（知识星球发布）</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>4.1 三工况损耗占比：冬季损耗最高，高速次之</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>4.2 六项损耗细分：明确"谁在吃掉效率"</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>4.3 优化优先级：先抓大头，再抓杠杆</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><img src="http://images.elecfans.net/uploads/20260212/6e26c1a0-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6e26c1a0-07c3-11f1-96ea-92fbcf53809c.jpg"/><img src="http://images.elecfans.net/uploads/20260212/6e498226-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6e498226-07c3-11f1-96ea-92fbcf53809c.jpg"/><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：SysPro</strong></span></p><hr/><p style="text-align:center;"><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>05 关键技术突破的六大抓手</strong></span></p><p style="text-align:center;"><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>（知识星球发布）</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.1 六边形元胞 SiC 芯片：导通损耗优化</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.2 超低寄生电感母排：开关损耗与可控性</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.3 专用润滑油：低温黏度与冬季减速器损耗</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.4 分区冷却：阀控油路与机械损耗</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.5 精准热处理：退火工艺与铁损下降</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>5.6 全局 PWM 变调制：软硬协同压减综合损耗</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><img src="http://images.elecfans.net/uploads/20260212/6e7722c6-07c3-11f1-96ea-92fbcf53809c.png" alt="6e7722c6-07c3-11f1-96ea-92fbcf53809c.png"/><img src="http://images.elecfans.net/uploads/20260212/6ea1b63a-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6ea1b63a-07c3-11f1-96ea-92fbcf53809c.jpg"/><img src="http://images.elecfans.net/uploads/20260212/6ecbc1be-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6ecbc1be-07c3-11f1-96ea-92fbcf53809c.jpg"/><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：Li Auto</strong></span></p><hr/><p style="text-align:center;"><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>06 达成效果、工程启示与展望</strong></span></p><p style="text-align:center;"><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>（知识星球发布）</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>6.1 效率达成：93% / 92% / 91% 的含义</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>6.2 效率与续航：看得见的收益，算得清的成本</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>6.3 可迁移启示：三条系统工程逻辑</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><span style="color:rgb(123,12,0);font-family:Arial, Helvetica, sans-serif;"><strong>6.4 总结与展望：从部件竞赛到系统能力竞赛</strong></span><span style="color:rgb(0,0,0);font-family:Arial, Helvetica, sans-serif;"><strong>...</strong></span></p><p><img src="http://images.elecfans.net/uploads/20260212/6ef675da-07c3-11f1-96ea-92fbcf53809c.jpg" alt="6ef675da-07c3-11f1-96ea-92fbcf53809c.jpg"/><span style="color:rgb(136,136,136);font-family:Arial, Helvetica, sans-serif;"><strong>图片来源：Li Auto</strong></span></p><hr/><p><span style="color:rgb(255,76,0);font-family:Arial, Helvetica, sans-serif;"><strong>以上4-6章节内容知识星球中发布</strong></span></p>]]></description></item><item>    <title><![CDATA[ZWS智慧储能云平台：让多形式设备“一次上云，各显其长”]]></title>    <link>https://www.elecfans.com/d/7656214.html</link>    <guid>https://www.elecfans.com/d/7656214.html</guid>    <pubDate>2026-02-12 11:39:00</pubDate>    <description><![CDATA[<p style="margin-left:8px;">多形式储能设备怎样快速上云，又能各显其长？ZWS智慧储能云平台一次讲透。</p><p style="margin-left:8px;"><br/></p><p><img src="http://images.elecfans.net/uploads/20260212/6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg" alt="6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg"/>  <span style="color:rgb(127,197,0);"><strong>前言</strong></span></p><p/><p>上期我们介绍了ZWS智慧储能云平台的基础接入能力——通过EM系列储能网关和物模型建模，储能系统可实现"建模即接入"的快速上云。本期深入探讨更复杂的场景：当集装箱式大储、柜式工商业储能、光储充一体化电站等多种形式设备需统一接入时，平台如何兼顾标准化与差异化？</p><p style="margin-left:8px;"><br/></p><p><img src="http://images.elecfans.net/uploads/20260212/6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg" alt="6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg"/>  <span style="color:rgb(127,197,0);"><strong>多形式储能的差异场景</strong></span></p><p/><p>工商储能市场呈现明显的场景碎片化特征：</p><ul style="list-style-type:disc;"><li><strong>产品形式差异：</strong>集装箱式大储、柜式工商业储能、光储充一体化电站并存；</li><li><strong>设备配置差异：</strong>PCS数量、BCU数量、是否配置光伏/<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>；</li><li><strong>运营需求差异：</strong>削峰填谷、需量控制、需求侧响应等不同策略。</li></ul><p>传统方案面临两难：强制标准化导致无法满足特定场景需求，完全定制化又陷入开发泥潭。</p><p style="margin-left:8px;"><br/></p><p><img src="http://images.elecfans.net/uploads/20260212/6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg" alt="6b00ef2c-07c4-11f1-96ea-92fbcf53809c.jpg"/>  <span style="color:rgb(127,197,0);"><strong>ZWS智慧储能云解决方案</strong></span></p><p/><p><strong>1. 可拓展物模型，灵活兼容</strong></p><p/><p>ZWS智慧储能云平台具备可拓展的物模型。各类储能系统的核心数据基本一致，例如SOC、运行状态、充放电量等。用户可在标准物模型基础上，根据不同形式的储能系统进行自定义拓展并做标识，通过自定义上云数据，实现储能系统数据全量上云、完整记录，满足项目需求。</p><p/><p><strong>2. 系统级+单站级配置：差异再大，也能“一键”兼容</strong></p><p/><p>针对储能电站之间在PCS、BMS、BCU、动环监控、光伏策略等方面的差异，云平台既支持系统级统一配置，也支持对特殊电站进行单独配置。通过单站级配置，不同形式的储能系统可同步接入云平台，实现集中管理。在单站大屏概览中，可展示对应的特定元素及适配的拓扑图等。</p><img src="http://images.elecfans.net/uploads/20260212/6bf794e4-07c4-11f1-96ea-92fbcf53809c.jpg" alt="6bf794e4-07c4-11f1-96ea-92fbcf53809c.jpg"/><p style="margin-left:8px;">ZWS智慧储能云平台通过"物模型拓展+灵活配置+自适应展示"三个方面，为工商储能规模化运营提供数字化底座。关于平台的技术细节或行业应用，欢迎在评论区留言探讨。</p>]]></description></item><item>    <title><![CDATA[探索MAX6920：12输出、76V串行接口VFD管驱动器的卓越性能]]></title>    <link>https://www.elecfans.com/d/7656038.html</link>    <guid>https://www.elecfans.com/d/7656038.html</guid>    <pubDate>2026-02-12 11:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656038" value="https://file1.elecfans.com/web2/M00/7B/6C/poYBAGN10OKAIhy6ABGtomHAOMU809.pdf"/><h1>探索MAX6920：12输出、76V串行<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>VFD管<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>的卓越性能</h1>
<p>在电子设备的显示领域，真空荧光显示器（VFD）凭借其高亮度、宽视角和长寿命等优点，在众多应用场景中得到了广泛应用。而MAX6920作为一款专门为VFD管设计的驱动器，以其独特的性能和灵活的接口，为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们提供了一个强大而可靠的解决方案。今天，我们就来深入了解一下这款MAX6920驱动器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656038" target="_blank">MAX6920.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX6920是一款12输出、76V的真空荧光显示器（VFD）管驱动器，它可以将多路复用的VFD管与VFD<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>（如MAX6850 - MAX6853）或<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>连接起来。同时，它也非常适合驱动静态VFD管或电信继电器。</p>
<p>该驱动器采用了行业标准的4线串行接口（CLOCK、DATA、LO<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>、BLANK）输入数据，这使得它能够与行业标准驱动器和<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a>的VFD控制器兼容。通过高电平有效的BLANK输入，可以轻松实现显示控制，该输入能将所有驱动器输出拉低，关闭显示，并自动使MAX6920进入关机模式。此外，还可以通过对BLANK输入进行脉冲宽度调制（PWM）来控制显示强度。</p>
<p>MAX6920具有串行接口数据输出引脚DOUT，这使得任意数量的设备都可以在同一串行接口上进行级联。它采用20引脚SO封装，Maxim还提供具有20（MAX6921/MAX6931）或32个输出（MAX6922和MAX6932）的VFD驱动器。</p>
<h2>二、关键特性</h2>
<h3>1. 高速串行接口</h3>
<p>具备5MHz的行业标准4线串行接口，能够实现快速的数据传输，满足高速应用的需求。</p>
<h3>2. 宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压范围</h3>
<p>逻辑电源范围为3V至5.5V，栅极/阳极电源范围为8V至76V，这使得它能够适应不同的电源环境，提高了应用的灵活性。</p>
<h3>3. 高电压输出能力</h3>
<p>采用推挽式CMOS<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>输出，每个输出可以连续提供40mA的源<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>和4mA的灌电流，还能提供75mA的重复脉冲源电流。并且，输出可以并联以实现更高的电流驱动能力，任何输出都可以用作栅极或阳极驱动器。</p>
<h3>4. 简化的PWM强度控制</h3>
<p>BLANK输入简化了PWM强度控制，方便工程师对显示亮度进行调节。</p>
<h3>5. 小封装与宽温度范围</h3>
<p>采用小型20引脚SO封装，节省了电路板空间。工作温度范围为 - 40°C至 + 125°C，能够适应恶劣的工作环境。</p>
<h2>三、应用领域</h2>
<p>MAX6920的应用非常广泛，涵盖了多个领域：</p>
<h3>1. 白色家电</h3>
<p>在冰箱、洗衣机、<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>微波</u></a>炉等白色家电中，用于显示温度、时间、运行状态等信息。</p>
<h3>2. 游戏机</h3>
<p>为游戏机提供清晰、明亮的显示效果，增强用户体验。</p>
<h3>3. 航空电子设备</h3>
<p>在航空领域，用于显示飞行参数、导航信息等，确保飞行安全。</p>
<h3>4. 工业称重设备</h3>
<p>显示称重数据，提高工业生产的效率和精度。</p>
<h3>5. 安全与电信设备</h3>
<p>在安全监控系统和电信设备中，用于显示重要信息。</p>
<h2>四、引脚配置与功能</h2>
<table>
<thead>
<tr>
<th>MAX6920的引脚配置清晰明了，每个引脚都有其特定的功能：</th>
<th><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N</th>
<th>NAME</th>
<th>FUNC<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>ON</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>VBB</td>
<td>VFD管电源电压</td>
</tr>
<tr>
<td>2</td>
<td>DOUT</td>
<td>串行<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>输出，数据在CLK的上升沿从内部移位<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>输出到DOUT</td>
</tr>
<tr>
<td>3 - 8, 13 - 18</td>
<td>OUT0 to OUT11</td>
<td>VFD阳极和<a href="https://m.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>器，输出为推挽式，电压范围从VBB到GND</td>
</tr>
<tr>
<td>9</td>
<td>BLANK</td>
<td>消隐输入，高电平将输出OUT0至OUT11拉低，不改变输出锁存器的内容；低电平使输出跟随输出锁存器的状态</td>
</tr>
<tr>
<td>10</td>
<td>GND</td>
<td>接地</td>
</tr>
<tr>
<td>11</td>
<td>CLK</td>
<td>串行时钟输入，数据在CLK的上升沿加载到内部移位寄存器</td>
</tr>
<tr>
<td>12</td>
<td>LOAD</td>
<td>加载输入，当LOAD为高电平时，数据从内部移位寄存器透明地加载到输出锁存器；在LOAD的上升沿，数据被锁存到输出锁存器，并在LOAD为低电平时保持</td>
</tr>
<tr>
<td>19</td>
<td>DIN</td>
<td>串行数据输入，数据在CLK的上升沿加载到内部移位寄存器</td>
</tr>
<tr>
<td>20</td>
<td>VCC</td>
<td>逻辑电源电压</td>
</tr>
</tbody>
</table>
<h2>五、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>1. 电源相关特性</h3>
<p>逻辑电源电压范围为3V至5.5V，管电源电压范围为8V至76V。在不同的输出状态和温度条件下，逻辑电源工作电流和管电源工作电流有所不同。例如，在所有输出为低电平且CLK空闲时，TA = +25°C时，逻辑电源工作电流典型值为72µA，最大值为170µA。</p>
<h3>2. 输出电压特性</h3>
<p>高电压输出（VH）和低电压输出（VL）在不同的电源电压、输出电流和温度条件下有不同的表现。例如，当VBB ≥ 15V，IOUT = - 25mA，TA = +25°C时，VH = VBB - 1.1V。</p>
<h3>3. 时序特性</h3>
<p>包括输出的上升时间、下降时间，以及LOAD、BLANK<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>与输出变化之间的延迟等。例如，LOAD上升到OUT_下降延迟典型值为0.9µs，最大值为1.8µs。</p>
<h3>4. 输入特性</h3>
<p>输入漏电流、逻辑高和逻辑低输入电压、磁滞电压等都有明确的规格。例如，CLK、DIN、LOAD、BLANK的输入漏电流典型值为0.05µA，最大值为10µA。</p>
<h2>六、详细<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>1. 4线串行接口</h3>
<p>MAX6920使用4线串行接口，通过三个输入（DIN、CLK、LOAD）和一个数据输出（DOUT）来写入输出数据。CLK作为接口时钟，在其上升沿将数据移入12位移位寄存器；LOAD在高电平时将数据从移位寄存器传递到输出锁存器，在其下降沿锁存数据；DIN是接口数据输入，必须在CLK上升沿采样时保持稳定；DOUT在CLK下降沿将数据从移位寄存器输出。
第五个输入引脚BLANK可以将其置高，使输出OUT0至OUT11拉低，而不改变输出锁存器的内容。当BLANK为低电平时，输出跟随输出锁存器的状态，常用于PWM强度控制，其功能独立于串行接口的操作。</p>
<h3>2. 写入设备寄存器</h3>
<p>要使用4线串行接口写入MAX6920的设备寄存器，需要按照以下顺序进行操作：</p>
<ul>
<li>将CLK置低。</li>
<li>按照D11到D0的顺序将12位数据时钟输入到DIN，并注意数据的建立和保持时间。</li>
<li>在LOAD的下降沿加载12个输出锁存器。LOAD在传输过程中可以为高或低。如果LOAD为高，则在DIN处移入移位寄存器的数据将出现在OUT0至OUT11输出。
<h3>3. 输出特性</h3>
<p>每个驱动器输出是一个压摆率控制的CMOS推挽开关，在VBB和GND之间驱动。输出上升时间总是比下降时间慢，以避免输出转换期间的直通电流。输出压摆率足够慢以最小化电磁干扰（EMI），同时又足够快，不会影响典型的100µs数字多路复用周期和显示强度。</p></li>
</ul>
<h2>七、使用注意事项</h2>
<h3>1. 输出电流与功耗</h3>
<p>每个输出的连续<a href="https://m.hqchip.com/app/1725" target="_blank"><u>电流源</u></a>能力为40mA，可驱动高达75mA的重复峰值电流，但需要满足一定的条件。在计算功耗时，对于静态管驱动器和多路复用管驱动器有不同的计算公式，需要根据实际情况进行计算，并确保不超过所选封装的最大功耗额定值。尤其是在使用多个驱动器设备时，应尽量均匀分担平均功耗。</p>
<h3>2. 输出并联</h3>
<p>同一封装内的任意数量的输出可以并联以提高电流驱动能力或降低输出<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>。但只有在接口控制能够确保将输出设置为相同电平的情况下，才能直接并联输出。为了安全起见，可以使用<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>来防止输出灌电流，并根据实际情况选择合适的外部放电电阻。</p>
<h3>3. 电源考虑</h3>
<p>MAX6920需要多个电源电压，应在靠近器件的位置使用0.1µF的<a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>将VCC和VBB电源引脚旁路到GND。对于多路复用应用，可能需要在VBB电源上添加一个额外的1µF或更大的大容量<a href="https://m.hqchip.com/app/1139" target="_blank"><u>电解电容</u></a>器。电源供电顺序不重要，但在逻辑电源VCC未工作时，不要驱动MAX6920的逻辑输入，以免损坏输入保护二极管。</p>
<h2>八、总结</h2>
<p>MAX6920作为一款功能强大的VFD管驱动器，具有高速串行接口、宽电源电压范围、高电压输出能力、简化的PWM强度控制等诸多优点，广泛应用于多个领域。通过深入了解其产品特性、引脚功能、电气特性和工作原理，我们可以更好地利用这款驱动器来设计出优秀的VFD显示系统。在实际应用中，还需要注意输出电流、功耗、输出并联和电源等方面的问题，以确保系统的稳定性和可靠性。不知道大家在使用VFD驱动器时，有没有遇到过类似的问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[开发者分享 | 构建完整控制系统：HPM5E00 外设综合应用]]></title>    <link>https://www.elecfans.com/d/7656215.html</link>    <guid>https://www.elecfans.com/d/7656215.html</guid>    <pubDate>2026-02-12 12:02:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;text-align:justify;"><strong>概要</strong></p><p style="margin-left:0px;text-align:justify;">1、<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a><a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>驱动</p><p style="margin-left:0px;text-align:justify;">2、<a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a>自定义波形</p><p style="margin-left:0px;text-align:justify;">3、<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>采集模拟量</p><p style="margin-left:0px;text-align:justify;">4、modbus数据采集和设备控制</p><p style="margin-left:0px;text-align:justify;">5、motor<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>步进控制</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1、I2C传感器驱动</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.1 介绍</strong></p><p style="margin-left:0px;text-align:justify;">众所周知，在自动化系统中，传感器是一个扮演着十分重要角色的反馈环节，通过实际监测的数据设计特殊的<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>来修正<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>的偏差，可以达到高效准确控制的目的；HT30是一款i2c<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>的温<a href="https://www.elecfans.com/tags/湿度传感器/" target="_blank"><u>湿度传感器</u></a>，<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>采用3.3V供电，可以用来监测工业产线、农业生产、<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>环境下的温度和湿度值；先楫HPM5E00EVK开发板提供了4路I2C总线接口，支持标准模式100kbps，快速模式400kbps和快速+模式1 Mbps，为工业、农业、物联网应用提供了高效、便捷的数字量采集方式（下图是我手工焊接的模块）</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9cf968c6-07c7-11f1-96ea-92fbcf53809c.jpg" alt="9cf968c6-07c7-11f1-96ea-92fbcf53809c.jpg"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.2 原理图</strong></p><p style="margin-left:0px;text-align:justify;">HPM_I2C0对应的G<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>O：PC8 -&gt; SCL、PC9 -&gt; <a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A，这一组接口位于开发板PPI连接槽</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9d206728-07c7-11f1-96ea-92fbcf53809c.png" alt="9d206728-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.3 硬件接口</strong></p><p style="margin-left:0px;text-align:justify;">HT30连接HPM_I2C0接口引脚示意图，注意VCC为3.3V，电源正负极不能接反</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9d595f6a-07c7-11f1-96ea-92fbcf53809c.jpg" alt="9d595f6a-07c7-11f1-96ea-92fbcf53809c.jpg"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.4 模块驱动</strong></p><p style="margin-left:0px;text-align:justify;"><strong>I2C0</strong></p><p style="margin-left:0px;text-align:justify;">初始化<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>、引脚，复位总线</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_i2c_pins</span><span style="color:#d6b007;">(</span>I2C_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>ptr<span style="background-color:transparent;color:#ec8e01;">==</span>HPM_I2C0<span style="color:#d6b007;">){</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC08<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PC08_FUNC_CTL_I2C0_SCL<span style="background-color:transparent;color:#ec8e01;">|</span>IOC_PAD_FUNC_CTL_LOOP_B<a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a>K_MASK<span style="color:#d6b007;">;</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC09<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PC09_FUNC_CTL_I2C0_SDA<span style="background-color:transparent;color:#ec8e01;">|</span>IOC_PAD_FUNC_CTL_LOOP_BACK_MASK<span style="color:#d6b007;">;</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC08<span style="color:#d6b007;">].</span>PAD_CTL<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_OD_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PE_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC09<span style="color:#d6b007;">].</span>PAD_CTL<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_OD_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PE_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><br/><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">board_init_i2c</span><span style="color:#d6b007;">(</span>I2C_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">i2c_config_t</span>config<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">hpm_stat_t</span>stat<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint32_t</span>freq<span style="color:#d6b007;">;</span><br/><br/>  freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">board_init_i2c_clock</span><span style="color:#d6b007;">(</span>ptr<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">init_i2c_pins</span><span style="color:#d6b007;">(</span>ptr<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">board_i2c_bus_clear</span><span style="color:#d6b007;">(</span>ptr<span style="color:#d6b007;">);</span><br/><br/>  config<span style="color:#d6b007;">.</span>i2c_mode<span style="background-color:transparent;color:#ec8e01;">=</span>i2c_mode_normal<span style="color:#d6b007;">;</span><br/>  config<span style="color:#d6b007;">.</span>is_10bit_<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>dressing<span style="background-color:transparent;color:#ec8e01;">=</span>false<span style="color:#d6b007;">;</span><br/>  stat<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">i2c_init_master</span><span style="color:#d6b007;">(</span>ptr<span style="color:#d6b007;">,</span>freq<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>config<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>stat<span style="background-color:transparent;color:#ec8e01;">!=</span>status_success<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a> to ini<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>alize i2c 0x%lx\n"</span><span style="color:#d6b007;">,(</span><span style="color:#78f3e9;">uint32_t</span><span style="color:#d6b007;">)</span>ptr<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;">读取接口（跟<a href="https://bbs.elecfans.com/zhuti_stm32_1.html" target="_blank"><u>stm32</u></a>、<a href="https://www.elecfans.com/tags/nxp/" target="_blank"><u>nxp</u></a>、infineon芯片无异）</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">hpm_stat_ti2c_master_read</span><span style="color:#d6b007;">(</span>I2C_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">,</span><span style="color:#0fe468;">const</span><span style="color:#78f3e9;">uint16_t</span>device_address<span style="color:#d6b007;">,</span><br/><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">const</span><span style="color:#78f3e9;">uint32_t</span>size<span style="color:#d6b007;">)</span></p><p style="margin-left:0px;text-align:justify;">写入接口</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">hpm_stat_ti2c_mas<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>r_write</span><span style="color:#d6b007;">(</span>I2C_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">,</span><span style="color:#0fe468;">const</span><span style="color:#78f3e9;">uint16_t</span>device_address<span style="color:#d6b007;">,</span><br/><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">const</span><span style="color:#78f3e9;">uint32_t</span>size<span style="color:#d6b007;">)</span></p><p style="margin-left:0px;text-align:justify;"><strong>HT30</strong></p><p style="margin-left:0px;text-align:justify;">读取HT30数据</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">static</span><span style="color:#78f3e9;">ht30_error_tht30_read_data</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>data<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">uint8_t</span>len<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>status_success<span style="background-color:transparent;color:#ec8e01;">!=</span><span style="color:#78f3e9;">i2c_master_read</span><span style="color:#d6b007;">(</span>TEST_I2C<span style="color:#d6b007;">,</span>HT30_I2C_ADDR<span style="color:#d6b007;">,</span>data<span style="color:#d6b007;">,</span>len<span style="color:#d6b007;">)){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 read data failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_READ<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">return</span>HT30_OK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">发送命令到HT30</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">static</span><span style="color:#78f3e9;">ht30_error_tht30_send_command</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span>command<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>cmd_buf<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">];</span><br/>  cmd_buf<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>command<span style="background-color:transparent;color:#ec8e01;">&gt;&gt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0xFF</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">// 高字节</span><br/>  cmd_buf<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span>command<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0xFF</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">// 低字节</span><br/><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>status_success<span style="background-color:transparent;color:#ec8e01;">!=</span><span style="color:#78f3e9;">i2c_master_write</span><span style="color:#d6b007;">(</span>TEST_I2C<span style="color:#d6b007;">,</span>HT30_I2C_ADDR<span style="color:#d6b007;">,</span>cmd_buf<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">)){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 send command failed: 0x%04X\n"</span><span style="color:#d6b007;">,</span>command<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_MEASURE<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">return</span>HT30_OK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">初始化HT30传感器</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">ht30_error_tht30_init</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Initializing HT30 sensor...\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 发送软复位命令</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_send_command</span><span style="color:#d6b007;">(</span>HT30_CMD_SOFT_RESET<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 soft reset failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_INIT<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 等待复位完成</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">10</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 sensor initialized successfully\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_OK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">读取HT30温湿度数据</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">ht30_error_tht30_read_temperature_humidity</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_data_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>data<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">6</span><span style="color:#d6b007;">];</span><br/><span style="color:#78f3e9;">uint16_t</span>temp_raw<span style="color:#d6b007;">,</span>hum_raw<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint8_t</span>temp_crc<span style="color:#d6b007;">,</span>hum_crc<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 发送测量命令（<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>）</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_send_command</span><span style="color:#d6b007;">(</span>HT30_CMD_MEASURE_HIGH<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 measurement command failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_MEASURE<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 等待测量完成（高精度测量需要约15ms）</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">20</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 读取6字节数据：温度(2字节) + CRC(1字节) + 湿度(2字节) + CRC(1字节)</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_read_data</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">6</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 read measurement data failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_READ<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 验证温度数据CRC</span><br/>  temp_crc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">ht30_calculate_crc</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>temp_crc<span style="background-color:transparent;color:#ec8e01;">!=</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">]){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 temperature CRC error: expected 0x%02X, got 0x%02X\n"</span><span style="color:#d6b007;">,</span><br/>        temp_crc<span style="color:#d6b007;">,</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">]);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_CHECKSUM<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 验证湿度数据CRC</span><br/>  hum_crc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">ht30_calculate_crc</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">3</span><span style="color:#d6b007;">],</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>hum_crc<span style="background-color:transparent;color:#ec8e01;">!=</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">5</span><span style="color:#d6b007;">]){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 humidity CRC error: expected 0x%02X, got 0x%02X\n"</span><span style="color:#d6b007;">,</span><br/>        hum_crc<span style="color:#d6b007;">,</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">5</span><span style="color:#d6b007;">]);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_CHECKSUM<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 转换温度数据</span><br/>  temp_raw<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">];</span><br/>  data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>temperature<span style="background-color:transparent;color:#ec8e01;">=-</span><span style="color:#d6e7ff;">45.0f</span><span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">175.0f</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">((</span><span style="color:#0fe468;">float</span><span style="color:#d6b007;">)</span>temp_raw<span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6e7ff;">65535.0f</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 转换湿度数据</span><br/>  hum_raw<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">3</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">4</span><span style="color:#d6b007;">];</span><br/>  data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>humidity<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">100.0f</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">((</span><span style="color:#0fe468;">float</span><span style="color:#d6b007;">)</span>hum_raw<span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6e7ff;">65535.0f</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#0fe468;">return</span>HT30_OK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">读取HT30状态<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a></p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">ht30_error_tht30_read_status</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">3</span><span style="color:#d6b007;">];</span><br/><br/><span style="color:#446e69;">// 发送状态读取命令</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_send_command</span><span style="color:#d6b007;">(</span>HT30_CMD_STATUS<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 status command failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_MEASURE<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 等待命令处理</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">10</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 读取状态数据（2字节状态 + 1字节CRC）</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_read_data</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">3</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 read status data failed\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_READ<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 验证CRC</span><br/><span style="color:#78f3e9;">uint8_t</span>status_crc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">ht30_calculate_crc</span><span style="color:#d6b007;">(</span>rx_data<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>status_crc<span style="background-color:transparent;color:#ec8e01;">!=</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">]){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 status CRC error: expected 0x%02X, got 0x%02X\n"</span><span style="color:#d6b007;">,</span><br/>        status_crc<span style="color:#d6b007;">,</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">]);</span><br/><span style="color:#0fe468;">return</span>HT30_ERROR_CHECKSUM<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="background-color:transparent;color:#ec8e01;">=</span>rx_data<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">];</span><span style="color:#446e69;">// 状态字节</span><br/><span style="color:#0fe468;">return</span>HT30_OK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">计算CRC校验 (CRC-8多项式0x31)</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">static</span><span style="color:#78f3e9;">uint8_tht30_calculate_crc</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>data<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">uint8_t</span>len<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>crc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0xFF</span><span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint8_t</span>i<span style="color:#d6b007;">,</span>j<span style="color:#d6b007;">;</span><br/><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span>len<span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/>    crc<span style="background-color:transparent;color:#ec8e01;">=</span>data<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">];</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span>j<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>j<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">;</span>j<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>crc<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x80</span><span style="color:#d6b007;">){</span><br/>        crc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>crc<span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="color:#d6e7ff;">0x31</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/>        crc<span style="background-color:transparent;color:#ec8e01;">=</span>crc<span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span>crc<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">检查HT30传感器是否响应</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">ht30_error_tht30_check_connection</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>status<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">return</span><span style="color:#78f3e9;">ht30_read_status</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>status<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">打印HT30数据</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">ht30_print_data</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_data_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>data<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 Sensor Data:\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Temperature: %.2f °C\n"</span><span style="color:#d6b007;">,</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>temperature<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Humidity: %.2f %%RH\n"</span><span style="color:#d6b007;">,</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>humidity<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Status: 0x%02X"</span><span style="color:#d6b007;">,</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 解析状态寄存器</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">==</span><span style="color:#d6e7ff;">0x08</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Normal operation)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x01</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Alert pending)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x02</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Heater on)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x04</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (RH tracking alert)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x08</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (T tracking alert)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x10</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Reset detected)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x20</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Command not processed)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x40</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Write data checksum error)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>data<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>status<span style="background-color:transparent;color:#ec8e01;">&amp;</span><span style="color:#d6e7ff;">0x80</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">" (Write data error)"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.5 测试用例</strong></p><p style="margin-left:0px;text-align:justify;">轮询温度值、湿度值、工作状态，把数值反馈给<a href="https://bbs.elecfans.com/zhuti_1184_1.html" target="_blank"><u>上位机</u></a>PC端</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">int</span><span style="color:#78f3e9;">main</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">board_init</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">board_init_i2c</span><span style="color:#d6b007;">(</span>TEST_I2C<span style="color:#d6b007;">);</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 Temperature and Humidity Sensor Example\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"============================================\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"I2C Address: 0x%02X\n"</span><span style="color:#d6b007;">,</span>HT30_I2C_ADDR<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 检查传感器连接</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Checking HT30 sensor connection...\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_check_connection</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 sensor not found or not responding!\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Please check:\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"1. Sensor is properly connected to I2C bus\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"2. I2C address is correct (0x%02X)\n"</span><span style="color:#d6b007;">,</span>HT30_I2C_ADDR<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"3. Power supply is stable\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 sensor found and responding!\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 初始化HT30传感器</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_init</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">!=</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Failed to initialize HT30 sensor\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 读取传感器状态</span><br/><span style="color:#78f3e9;">uint8_t</span>status<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_read_status</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>status<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">==</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"HT30 Status: 0x%02X\n"</span><span style="color:#d6b007;">,</span>status<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#78f3e9;">ht30_data_t</span>sensor_data<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint32_t</span>measurement_count<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"\nStarting continuous measurement...\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Press Ctrl+C to stop\n\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">// 读取温湿度数据</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">ht30_read_temperature_humidity</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>sensor_data<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">==</span>HT30_OK<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"\n--- Measurement #%d ---\n"</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">++</span>measurement_count<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">ht30_print_data</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>sensor_data<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Failed to read HT30 sensor data\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 等待5秒后进行下一次测量</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1000</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">return</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.6 实验现象</strong></p><p style="margin-left:0px;text-align:justify;">串口终端查看采集到的温湿度传感器数据和传感器的工作状态</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9d8db10c-07c7-11f1-96ea-92fbcf53809c.gif" alt="9d8db10c-07c7-11f1-96ea-92fbcf53809c.gif"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>1.7 开源</strong></p><p style="margin-left:0px;text-align:justify;">完整代码已上传Gitee：https://gitee.com/hywing/hpm5e00evk</p><p style="text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2、UART自定义波形</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.1 介绍</strong></p><p style="margin-left:0px;text-align:justify;">HPM5E00芯片集成了9个通用异步<a href="https://www.hqchip.com/app/1809" target="_blank"><u>收发器</u></a>UART，其中1个 (PUART) 位于<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>域，支持低功耗唤醒；串口<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>在开发中常用作调试、诊断、升级、通信功能，通常搭配PC上位机一起使用；这次实验以HPM_UART0为例，展示基于串口的通信测试过程</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.2 原理图</strong></p><p style="margin-left:0px;text-align:justify;">HPM_UART0对应的引脚为PA0、PA1，分别对应功能：UART0_TXD、UART0_RXD，在HPM5E00EVK开发板上作为默认的调试串口，通过FT2232芯片连接到上位机</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9dbad218-07c7-11f1-96ea-92fbcf53809c.png" alt="9dbad218-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">PC上安装好FTDI的驱动（先楫提供的SDK包里边有）会有串口设备映射</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9de755fe-07c7-11f1-96ea-92fbcf53809c.png" alt="9de755fe-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.3 驱动代码</strong></p><p style="margin-left:0px;text-align:justify;">串口引脚绑定PA0、PA1</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_uart_pins</span><span style="color:#d6b007;">(</span>UART_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>ptr<span style="background-color:transparent;color:#ec8e01;">==</span>HPM_UART0<span style="color:#d6b007;">){</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PA00<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PA00_FUNC_CTL_UART0_TXD<span style="color:#d6b007;">;</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PA01<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PA01_FUNC_CTL_UART0_RXD<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>ptr<span style="background-color:transparent;color:#ec8e01;">==</span>HPM_UART4<span style="color:#d6b007;">){</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC16<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PC16_FUNC_CTL_UART4_TXD<span style="color:#d6b007;">;</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC17<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PC17_FUNC_CTL_UART4_RXD<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">串口通信配置，设置波特率为115200，停止位1，数据位8，奇偶校验位0</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">uart_config_t</span>config<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">};</span><br/><span style="color:#78f3e9;">uart_default_config</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>config<span style="color:#d6b007;">);</span><br/><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">if</span><span style="color:#78f3e9;">defined</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">CONFIG_UART_FIFO_MODE</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">CONFIG_UART_FIFO_MODE</span><span style="background-color:transparent;color:#ec8e01;">==</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><br/>  config<span style="color:#d6b007;">.</span>fifo_enable<span style="background-color:transparent;color:#ec8e01;">=</span>true<span style="color:#d6b007;">;</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">else</span><br/>  config<span style="color:#d6b007;">.</span>fifo_enable<span style="background-color:transparent;color:#ec8e01;">=</span>false<span style="color:#d6b007;">;</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">endif</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">ifdef</span><span style="color:#d6e7ff;">TEST_UART_SRC_FREQ</span><br/>  config<span style="color:#d6b007;">.</span>src_freq_in_hz<span style="background-color:transparent;color:#ec8e01;">=</span>TEST_UART_SRC_FREQ<span style="color:#d6b007;">;</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">else</span><br/>  config<span style="color:#d6b007;">.</span>src_freq_in_hz<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">clock_get_frequency</span><span style="color:#d6b007;">(</span>TEST_UART_CLK_NAME<span style="color:#d6b007;">);</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">endif</span><br/><br/>config<span style="color:#d6b007;">.</span>tx_fifo_level<span style="background-color:transparent;color:#ec8e01;">=</span>uart_tx_fifo_trg_lt_half<span style="color:#d6b007;">;</span><br/>config<span style="color:#d6b007;">.</span>baudrate<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">115200</span><span style="color:#d6b007;">;</span><br/>stat<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">uart_init</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>config<span style="color:#d6b007;">);</span></p><p style="margin-left:0px;text-align:justify;">启用发送中断和接收中断</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">uart_enable_irq</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_intr_tx_slot_av<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>l<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">uart_enable_irq</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_intr_rx_data_avail_or_timeout<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">intc_m_enable_irq_with_priority</span><span style="color:#d6b007;">(</span>TEST_UART_IRQ<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span></p><p style="margin-left:0px;text-align:justify;">实现中断服务函数</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">SDK_DECLARE_EXT_ISR_M</span><span style="color:#d6b007;">(</span>TEST_UART_IRQ<span style="color:#d6b007;">,</span>uart_isr<span style="color:#d6b007;">)</span><br/><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">uart_isr</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint8_t</span>irq_id<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">uart_get_irq_id</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 处理接收中断</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>irq_id<span style="background-color:transparent;color:#ec8e01;">==</span>uart_intr_id_rx_data_avail<span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uart_check_status</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_stat_data_ready<span style="color:#d6b007;">)){</span><br/>      data_buff<span style="color:#d6b007;">[</span>buff_index<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">uart_read_byte</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>buff_index<span style="background-color:transparent;color:#ec8e01;">&gt;=</span>TEST_UART_MAX_BUFFER_SIZE<span style="color:#d6b007;">){</span><br/>        buff_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">// 防止缓冲区溢出</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#446e69;">// 接收到数据后，启用发送中断来发送回显数据</span><br/><span style="color:#78f3e9;">uart_enable_irq</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_intr_tx_slot_avail<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 处理发送中断</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>irq_id<span style="background-color:transparent;color:#ec8e01;">==</span>uart_intr_id_tx_slot_avail<span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">// 优先处理printf缓冲区</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>printf_busy<span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span>printf_read_index<span style="background-color:transparent;color:#ec8e01;">!=</span>printf_write_index<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">uart_write_byte</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>printf_buffer<span style="color:#d6b007;">[</span>printf_read_index<span style="color:#d6b007;">]);</span><br/>      printf_read_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>printf_read_index<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">%</span>PRINTF_BUFFER_SIZE<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 如果printf缓冲区发送完毕</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>printf_read_index<span style="background-color:transparent;color:#ec8e01;">==</span>printf_write_index<span style="color:#d6b007;">){</span><br/>        printf_busy<span style="background-color:transparent;color:#ec8e01;">=</span>false<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#446e69;">// 然后处理回显缓冲区</span><br/><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>buff_index<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint8_t</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span>buff_index<span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">uart_write_byte</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>data_buff<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">]);</span><br/><span style="color:#d6b007;">}</span><br/>      buff_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">// 清空缓冲区<a href="https://www.hqchip.com/ic/0" target="_blank"><u>索引</u></a></span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 如果两个缓冲区都发送完毕，禁用发送中断</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">!</span>printf_busy<span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span>buff_index<span style="background-color:transparent;color:#ec8e01;">==</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">uart_disable_irq</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_intr_tx_slot_avail<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.4 测试用例</strong></p><p style="margin-left:0px;text-align:justify;">阻塞版的printf，官方demo已经有实现，为了更直观的展示数据通信过程和让串口通信更高效，我们自定义printf函数，并且使用中断发送</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">my_printf</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">constchar</span><span style="background-color:transparent;color:#ec8e01;">*</span>format<span style="color:#d6b007;">,...)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">char</span>buffer<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">128</span><span style="color:#d6b007;">];</span><br/>  va_list args<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">va_start</span><span style="color:#d6b007;">(</span>args<span style="color:#d6b007;">,</span>format<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">int</span>len<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">vsnprintf</span><span style="color:#d6b007;">(</span>buffer<span style="color:#d6b007;">,</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>buffer<span style="color:#d6b007;">),</span>format<span style="color:#d6b007;">,</span>args<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">va_end</span><span style="color:#d6b007;">(</span>args<span style="color:#d6b007;">);</span><br/><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>len<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">0</span><span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span>len<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>buffer<span style="color:#d6b007;">)){</span><br/><span style="color:#78f3e9;">printf_interrupt_send</span><span style="color:#d6b007;">(</span>buffer<span style="color:#d6b007;">,</span>len<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">printf中断发送函数</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">uint8_t</span>buff_index<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint8_t</span>data_count<span style="color:#d6b007;">;</span><br/>ATTR_PLACE_AT_NONCACHEABLE<span style="color:#78f3e9;">uint8_t</span>data_buff<span style="color:#d6b007;">[</span>TEST_UART_MAX_BUFFER_SIZE<span style="color:#d6b007;">];</span><br/><br/><span style="color:#446e69;">// printf中断发送相关变量</span><br/><span style="color:#0fe468;">volatile</span>bool printf_busy<span style="background-color:transparent;color:#ec8e01;">=</span>false<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">volatile</span><span style="color:#78f3e9;">uint16_t</span>printf_write_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">volatile</span><span style="color:#78f3e9;">uint16_t</span>printf_read_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/>ATTR_PLACE_AT_NONCACHEABLE<span style="color:#78f3e9;">uint8_t</span>printf_buffer<span style="color:#d6b007;">[</span>PRINTF_BUFFER_SIZE<span style="color:#d6b007;">];</span><br/><br/><span style="color:#446e69;">// printf中断发送函数</span><br/><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">printf_interrupt_send</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">constchar</span><span style="background-color:transparent;color:#ec8e01;">*</span>str<span style="color:#d6b007;">,</span><span style="color:#0fe468;">int</span>len<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span>len<span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">// 等待缓冲区有空间</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(((</span>printf_write_index<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">%</span>PRINTF_BUFFER_SIZE<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">==</span>printf_read_index<span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">// 缓冲区满，等待发送</span><br/><span style="color:#78f3e9;">__asm</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"wfi;\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/>    printf_buffer<span style="color:#d6b007;">[</span>printf_write_index<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span>str<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">];</span><br/>    printf_write_index<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>printf_write_index<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">%</span>PRINTF_BUFFER_SIZE<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 如果printf发送空闲，启动发送</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">!</span>printf_busy<span style="color:#d6b007;">){</span><br/>      printf_busy<span style="background-color:transparent;color:#ec8e01;">=</span>true<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uart_enable_irq</span><span style="color:#d6b007;">(</span>TEST_UART<span style="color:#d6b007;">,</span>uart_intr_tx_slot_avail<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">生成<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>的数据集：生成FireWater数据流，通过UART0中断+FIFO形式发给上位机</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">staticfloat</span>angle<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0.0f</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>sinVal<span style="color:#d6b007;">,</span>cosVal<span style="color:#d6b007;">,</span>sinCosVal<span style="color:#d6b007;">,</span>cosSquareVal<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 计算三角函数值</span><br/>  sinVal<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">sinf</span><span style="color:#d6b007;">(</span>angle<span style="color:#d6b007;">);</span><br/>  cosVal<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">cosf</span><span style="color:#d6b007;">(</span>angle<span style="color:#d6b007;">);</span><br/>  sinCosVal<span style="background-color:transparent;color:#ec8e01;">=</span>sinVal<span style="background-color:transparent;color:#ec8e01;">*</span>cosVal<span style="color:#d6b007;">;</span><br/>  cosSquareVal<span style="background-color:transparent;color:#ec8e01;">=</span>cosVal<span style="background-color:transparent;color:#ec8e01;">*</span>cosVal<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 使用指定格式输出数据："%f,%f,%f,%f\n"</span><br/><span style="color:#78f3e9;">my_printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"%f,%f,%f,%f\r\n"</span><span style="color:#d6b007;">,</span>sinVal<span style="color:#d6b007;">,</span>cosVal<span style="color:#d6b007;">,</span>sinCosVal<span style="color:#d6b007;">,</span>cosSquareVal<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 增加角度，每次增加0.1弧度</span><br/>  angle<span style="background-color:transparent;color:#ec8e01;">+=</span><span style="color:#d6e7ff;">0.1f</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>angle<span style="background-color:transparent;color:#ec8e01;">&gt;=</span><span style="color:#d6e7ff;">2</span><span style="background-color:transparent;color:#ec8e01;">*</span>M_PI<span style="color:#d6b007;">){</span><br/>    angle<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0.0f</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">// 重置角度</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 添加延时，避免输出过快</span><br/><span style="color:#78f3e9;">board_delay_us</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">100</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.5 实验效果</strong></p><p style="margin-left:0px;text-align:justify;">这样我们就实现了一个用中断+FIFO实现的自定义printf函数，这个在日常开发中可以很方便的查看数据的变化过程，方便诊断和记录，下面是VOFA+的实时展示来自HPM5E00EVK开发板串口数据波形效果</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9e13fc08-07c7-11f1-96ea-92fbcf53809c.gif" alt="9e13fc08-07c7-11f1-96ea-92fbcf53809c.gif"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>2.6 开源</strong></p><p style="margin-left:0px;text-align:justify;">完整代码已上传Gitee：https://gitee.com/hywing/hpm5e00evk</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3、ADC采集模拟量</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.1 介绍</strong></p><p style="margin-left:0px;text-align:justify;">在<a href="https://m.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>环境中，生产设备或者零部件经常需要监控各种各样的物理状态参数：温度、压强、真空度、流量、湿度、电压、<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>、功率、光照等，而这些都是连续变化的<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，属于模拟量，我们可以通过<a href="https://www.elecfans.com/tags/数模转换器/" target="_blank"><u>数模转换器</u></a>（ADC）采集这些物理信号，通过处理、收集和分发反馈到设备组态监控HMI控制台，从而达到实时监测、控制、安全生产的目的；先楫HPM5E00芯片集成多路高精度模拟量采集通道，模拟外设包括：2个16位模拟数字<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>ADC和1个模拟比较<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a> ACMP（共管理 2 个模拟比较器），我们可以用它来进行各种模拟信号的采集和处理</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.2 原理图</strong></p><p style="margin-left:0px;text-align:justify;">测量采用ADC_C，位于MOTOR_IF连接槽，关联引脚PF26</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9e53cfc2-07c7-11f1-96ea-92fbcf53809c.png" alt="9e53cfc2-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.3 热敏<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a></strong></p><p style="margin-left:0px;text-align:justify;">手动焊接了一个热敏电阻的测试电路：NTC热敏电阻串联10kΩ电阻，NTC的标称阻值为10kΩ，B值为3950</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9e89c2d0-07c7-11f1-96ea-92fbcf53809c.png" alt="9e89c2d0-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">实际连接：串联两端连接3.3V和GND，中间引脚连接ADC<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a></p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9ec98b72-07c7-11f1-96ea-92fbcf53809c.jpg" alt="9ec98b72-07c7-11f1-96ea-92fbcf53809c.jpg"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.4 驱动代码</strong></p><p style="margin-left:0px;text-align:justify;">HPM_ADC0引脚初始化：绑定PF26引脚</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_adc16_pins</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/>  HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PF26<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PAD_FUNC_CTL_<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>ANALOG</u></a>_MASK<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">ADC时钟初始化</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">uint32_tboard_init_adc_clock</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">,</span>bool clk_src_bus<span style="color:#d6b007;">)</span><span style="color:#446e69;">/* motor system should be use clk_adc_src_ahb0 */</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint32_t</span>freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>ptr<span style="background-color:transparent;color:#ec8e01;">==</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">)</span>HPM_ADC0<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">clock_add_to_group</span><span style="color:#d6b007;">(</span>clock_adc0<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>clk_src_bus<span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">/* Configure the ADC clock from AHB (@200MHz by default)*/</span><br/><span style="color:#78f3e9;">clock_set_adc_source</span><span style="color:#d6b007;">(</span>clock_adc0<span style="color:#d6b007;">,</span>clk_adc_src_ahb0<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/><span style="color:#446e69;">/* Configure the ADC clock from ANA (@200MHz by default)*/</span><br/><span style="color:#78f3e9;">clock_set_adc_source</span><span style="color:#d6b007;">(</span>clock_adc0<span style="color:#d6b007;">,</span>clk_adc_src_ana0<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/>    freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">clock_get_frequency</span><span style="color:#d6b007;">(</span>clock_adc0<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">return</span>freq<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">读取ADC值</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">uint16_t</span>result<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>voltage<span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">adc16_get_prd_result</span><span style="color:#d6b007;">(</span>BOARD_APP_ADC16_BASE<span style="color:#d6b007;">,</span>BOARD_APP_ADC16_CH_1<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>result<span style="color:#d6b007;">);</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.5 测试用例</strong></p><p style="margin-left:0px;text-align:justify;">ADC值和热敏电阻阻值变化关系</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">staticconst</span><span style="color:#78f3e9;">temp_lookup_entry_t</span>temp_lookup_table<span style="color:#d6b007;">[]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">{</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0637</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">40.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -40°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x06ab</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">39.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -39°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0726</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">38.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -38°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x07a9</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">37.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -37°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0834</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">36.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -36°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x08c7</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">35.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -35°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0963</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">34.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -34°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0a07</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">33.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -33°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0ab5</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">32.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -32°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0b6c</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">31.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -31°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0c2d</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">30.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -30°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0cf9</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">29.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -29°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0<a href="https://www.hqchip.com/app/1703" target="_blank"><u>dc</u></a>f</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">28.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -28°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0eb1</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">27.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -27°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x0f9e</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">26.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -26°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1096</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">25.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -25°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x119b</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">24.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -24°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x12ad</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">23.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -23°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x13cb</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">22.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -22°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x14f6</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">21.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -21°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x162f</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">20.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -20°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1776</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">19.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -19°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x18cb</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">18.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -18°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1a2e</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">17.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -17°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1b9f</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">16.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -16°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1d1f</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">15.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -15°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x1eae</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">14.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -14°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x204d</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">13.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -13°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x21fa</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">12.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -12°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x23b6</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">11.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -11°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x2582</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">10.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -10°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x275d</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">9.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -9°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x2948</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">8.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -8°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x2b41</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">7.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -7°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x2d4a</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">6.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -6°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x2f62</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">5.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -5°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3188</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">4.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -4°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x33bd</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">3.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -3°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3600</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">2.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -2°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3851</span><span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* -1°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3aaf</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">0.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  0°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3d1b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">1.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  1°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x3f93</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">2.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  2°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x4217</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">3.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  3°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x44a7</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">4.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  4°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x4742</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">5.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  5°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x49e7</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">6.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  6°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x4c96</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">7.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  7°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x4f4e</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">8.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  8°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x520e</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">9.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/*  9°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x54d6</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">10.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 10°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x57a5</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">11.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 11°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x5a7a</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">12.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 12°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x5d54</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">13.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 13°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x6032</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">14.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 14°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x6314</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">15.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 15°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x65f9</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">16.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 16°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x68e0</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">17.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 17°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x6bc8</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">18.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 18°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x6eb0</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">19.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 19°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x7199</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">20.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 20°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x747f</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">21.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 21°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x7764</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">22.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 22°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x7a46</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">23.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 23°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x7d25</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">24.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 24°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x7fff</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">25.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 25°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x82d4</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">26.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 26°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x85a4</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">27.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 27°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x886e</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">28.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 28°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x8b31</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">29.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 29°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x8ded</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">30.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 30°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x90a1</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">31.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 31°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x934c</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">32.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 32°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x95ef</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">33.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 33°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x9888</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">34.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 34°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x9b18</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">35.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 35°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x9d9e</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">36.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 36°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xa01a</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">37.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 37°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xa28b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">38.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 38°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xa4f1</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">39.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 39°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xa74d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">40.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 40°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xa99d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">41.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 41°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xabe2</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">42.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 42°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xae1b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">43.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 43°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xb048</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">44.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 44°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xb26a</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">45.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 45°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xb481</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">46.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 46°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xb68b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">47.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 47°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xb88a</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">48.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 48°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xba7d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">49.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 49°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xbc65</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">50.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 50°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xbe41</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">51.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 51°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc011</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">52.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 52°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc1d6</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">53.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 53°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc390</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">54.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 54°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc53f</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">55.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 55°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc6e2</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">56.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 56°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xc87b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">57.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 57°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xca09</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">58.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 58°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xcb8d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">59.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 59°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xcd06</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">60.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 60°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xce74</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">61.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 61°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xcfd9</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">62.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 62°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd134</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">63.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 63°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd286</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">64.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 64°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd3ce</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">65.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 65°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd50c</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">66.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 66°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd642</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">67.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 67°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd76f</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">68.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 68°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd893</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">69.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 69°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xd9af</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">70.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 70°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x<a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>dac</u></a>3</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">71.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 71°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xdbcf</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">72.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 72°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xdcd3</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">73.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 73°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xddcf</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">74.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 74°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xdec4</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">75.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 75°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xdfb1</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">76.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 76°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe098</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">77.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 77°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe178</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">78.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 78°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe251</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">79.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 79°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe324</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">80.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 80°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe3f0</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">81.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 81°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe4b7</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">82.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 82°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe577</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">83.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 83°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe632</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">84.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 84°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe6e7</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">85.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 85°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe797</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">86.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 86°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe841</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">87.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 87°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe8e7</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">88.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 88°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe987</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">89.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 89°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xea23</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">90.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 90°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xeaba</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">91.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 91°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xeb4c</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">92.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 92°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xebda</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">93.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 93°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xec64</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">94.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 94°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xecea</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">95.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 95°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xed6c</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">96.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 96°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xedea</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">97.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 97°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xee64</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">98.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 98°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xe<a href="https://m.elecfans.com/v/tag/1053/" target="_blank"><u>eda</u></a></span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">99.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 99°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xef4d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">100.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 100°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xefbd</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">101.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 101°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf029</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">102.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 102°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf092</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">103.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 103°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf0f9</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">104.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 104°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf15c</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">105.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 105°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf1bc</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">106.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 106°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf219</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">107.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 107°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf274</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">108.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 108°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf2cc</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">109.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 109°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf321</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">110.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 110°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf374</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">111.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 111°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf3c5</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">112.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 112°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf413</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">113.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 113°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf45f</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">114.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 114°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf4a8</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">115.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 115°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf4f0</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">116.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 116°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf536</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">117.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 117°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf579</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">118.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 118°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf5bb</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">119.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 119°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf5fb</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">120.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 120°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf639</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">121.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 121°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf675</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">122.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 122°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf6b0</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">123.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 123°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf6e9</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">124.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 124°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf720</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">125.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 125°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf756</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">126.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 126°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf78b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">127.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 127°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf7bd</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">128.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 128°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf7ef</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">129.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 129°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf81f</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">130.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 130°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf84e</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">131.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 131°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf87b</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">132.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 132°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf8a8</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">133.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 133°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf8d3</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">134.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 134°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf8fd</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">135.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 135°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf926</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">136.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 136°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf94d</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">137.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 137°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf974</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">138.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 138°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf99a</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">139.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 139°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf9be</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">140.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 140°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xf9e2</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">141.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 141°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfa05</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">142.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 142°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfa26</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">143.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 143°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfa47</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">144.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 144°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfa67</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">145.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 145°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfa87</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">146.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 146°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfaa5</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">147.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 147°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfac3</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">148.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 148°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfadf</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">149.0f</span><span style="color:#d6b007;">},</span><span style="color:#446e69;">/* 149°C */</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0xfafc</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">150.0f</span><span style="color:#d6b007;">}</span><span style="color:#446e69;">/* 150°C */</span><br/><span style="color:#d6b007;">};</span></p><p style="margin-left:0px;text-align:justify;">根据ADC值匹配对应的温度</p><p style="margin-left:0;text-align:justify;"><span style="color:#446e69;">/* Temperature calculation function using lookup table */</span><br/><span style="color:#0fe468;">float</span><span style="color:#78f3e9;">calculate_temperature_from_adc</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span>adc_value<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#446e69;">/* Handle edge cases */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>adc_value<span style="background-color:transparent;color:#ec8e01;">&lt;=</span>temp_lookup_table<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">].</span>adc_value<span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">return</span>temp_lookup_table<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">].</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>adc_value<span style="background-color:transparent;color:#ec8e01;">&gt;=</span>temp_lookup_table<span style="color:#d6b007;">[</span>TEMP_LOOKUP_TABLE_SIZE<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">].</span>adc_value<span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">return</span>temp_lookup_table<span style="color:#d6b007;">[</span>TEMP_LOOKUP_TABLE_SIZE<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">].</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">/* Find the correct temperature range */</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span>TEMP_LOOKUP_TABLE_SIZE<span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>adc_value<span style="background-color:transparent;color:#ec8e01;">&lt;=</span>temp_lookup_table<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">].</span>adc_value<span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">/* <a href="https://www.elecfans.com/tags/linear/" target="_blank"><u>Linear</u></a> interpolation between two points */</span><br/><span style="color:#78f3e9;">uint16_t</span>adc_low<span style="background-color:transparent;color:#ec8e01;">=</span>temp_lookup_table<span style="color:#d6b007;">[</span>i<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">].</span>adc_value<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint16_t</span>adc_high<span style="background-color:transparent;color:#ec8e01;">=</span>temp_lookup_table<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">].</span>adc_value<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>temp_low<span style="background-color:transparent;color:#ec8e01;">=</span>temp_lookup_table<span style="color:#d6b007;">[</span>i<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">].</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>temp_high<span style="background-color:transparent;color:#ec8e01;">=</span>temp_lookup_table<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">].</span>temperature<span style="color:#d6b007;">;</span><br/><br/><span style="color:#0fe468;">float</span>ratio<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">float</span><span style="color:#d6b007;">)(</span>adc_value<span style="background-color:transparent;color:#ec8e01;">-</span>adc_low<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">float</span><span style="color:#d6b007;">)(</span>adc_high<span style="background-color:transparent;color:#ec8e01;">-</span>adc_low<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">return</span>temp_low<span style="background-color:transparent;color:#ec8e01;">+</span>ratio<span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">(</span>temp_high<span style="background-color:transparent;color:#ec8e01;">-</span>temp_low<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">/* Should not reach here */</span><br/><span style="color:#0fe468;">return</span>temp_lookup_table<span style="color:#d6b007;">[</span>TEMP_LOOKUP_TABLE_SIZE<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">].</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">周期性处理ADC温度值</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">period_handler</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint16_t</span>result<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>temperature<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">float</span>voltage<span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">adc16_get_prd_result</span><span style="color:#d6b007;">(</span>BOARD_APP_ADC16_BASE<span style="color:#d6b007;">,</span>BOARD_APP_ADC16_CH_1<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>result<span style="color:#d6b007;">);</span><br/>  temperature<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">calculate_temperature_from_adc</span><span style="color:#d6b007;">(</span>result<span style="color:#d6b007;">);</span><br/>  voltage<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">float</span><span style="color:#d6b007;">)</span>result<span style="background-color:transparent;color:#ec8e01;">/</span>ADC_MAX_VALUE<span style="background-color:transparent;color:#ec8e01;">*</span>V_REF<span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"ADC: 0x%04x, Voltage: %.3fV, Temperature: %.1f°C\n"</span><span style="color:#d6b007;">,</span><br/>      result<span style="color:#d6b007;">,</span>voltage<span style="color:#d6b007;">,</span>temperature<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">/* Add 1 second delay for temperature monitoring */</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1000</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.6 实验现象</strong></p><p style="margin-left:0px;text-align:justify;">测到室温环境温度变化，室温大概在30℃</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9ef2c622-07c7-11f1-96ea-92fbcf53809c.gif" alt="9ef2c622-07c7-11f1-96ea-92fbcf53809c.gif"/></p><p style="margin-left:0px;text-align:justify;"><a href="https://www.elecfans.com/v/tag/796/" target="_blank"><u>万用表</u></a>测量的温度</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9f2db0ca-07c7-11f1-96ea-92fbcf53809c.png" alt="9f2db0ca-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.7 总结</strong></p><p style="margin-left:0px;text-align:justify;">原始的温度值和NTC阻值是由一个物理方程式（Steinhart-Hart方程）来确定的，通过查表的方法可以大大提高程序执行效率，避免Steinhart-Hart方程带来的巨大计算量，特别适合<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a>板卡的数据处理，工业自动化一般用热电偶比较多，驱动原理都类似</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9f6dd81c-07c7-11f1-96ea-92fbcf53809c.png" alt="9f6dd81c-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>3.8 开源</strong></p><p style="margin-left:0px;text-align:justify;">完整代码已上传Gitee：https://gitee.com/hywing/hpm5e00evk</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4、modbus数据采集和设备控制</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.1 介绍</strong></p><p style="margin-left:0px;text-align:justify;">modbus协议在物联网、<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>领域应用广泛，常用于数据采集和设备控制；先楫HPM5E00EVK开发板集成了一路通用以太网接口，我们可以利用它来进行modbus tcp rtu通信</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.2 原理图</strong></p><p style="margin-left:0px;text-align:justify;">实验中我们使用RGMII网口进行modbus通信</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9f945104-07c7-11f1-96ea-92fbcf53809c.png" alt="9f945104-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">RGMII网口是千兆<a href="https://m.hqchip.com/app/1720" target="_blank"><u>以太网</u></a>口，不同于EtherCAT通信网口，它靠近<a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a>调试口</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9fcc71ba-07c7-11f1-96ea-92fbcf53809c.jpg" alt="9fcc71ba-07c7-11f1-96ea-92fbcf53809c.jpg"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.3 以太网</strong></p><p style="margin-left:0px;text-align:justify;">以太网配置：设置MAC地址、IP地址、服务器端口</p><p style="margin-left:0;text-align:justify;"><span style="color:#446e69;">/* MAC ADDRESS */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR00x98</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR10x2C</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR20xBC</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR30xB1</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR40x9F</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">MAC_ADDR50x17</span><br/><br/><span style="color:#446e69;">/* Static IP ADDRESS */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">IP_ADDR0192</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">IP_ADDR1168</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">IP_ADDR255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">ifdef</span><span style="color:#d6e7ff;">MODBUS_TCP_SLAVE</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">IP_ADDR310</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">else</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">IP_ADDR311</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">endif</span><br/><span style="color:#446e69;">/* NETMASK */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">NETMASK_ADDR0255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">NETMASK_ADDR1255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">NETMASK_ADDR2255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">NETMASK_ADDR30</span><br/><br/><span style="color:#446e69;">/* Gateway Address */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">GW_ADDR0192</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">GW_ADDR1168</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">GW_ADDR255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">GW_ADDR31</span><br/><br/><span style="color:#446e69;">/* Remote IP Address */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REMOTE_IP_ADDR0192</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REMOTE_IP_ADDR1168</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REMOTE_IP_ADDR255</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REMOTE_IP_ADDR388</span><br/><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">TCP_SERVER_PORT</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">5001U</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">NETWORK_BUFFER_SIZE</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">4096U</span><span style="color:#d6b007;">)</span></p><p style="margin-left:0px;text-align:justify;">以太网初始化：引脚、PHY、MAC及lwip</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">hpm_stat_tnetwork_init</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">hpm_stat_t</span>sta<span style="background-color:transparent;color:#ec8e01;">=</span>status_success<span style="color:#d6b007;">;</span><br/><span style="color:#446e69;">/* Initialize GPIOs */</span><br/><span style="color:#78f3e9;">board_init_enet_pins</span><span style="color:#d6b007;">(</span>ENET<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">/* Reset an enet PHY */</span><br/><span style="color:#78f3e9;">board_reset_enet_phy</span><span style="color:#d6b007;">(</span>ENET<span style="color:#d6b007;">);</span><br/><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">if</span><span style="color:#d6e7ff;">__ENABLE_ENET_RECEIVE_INTERRUPT</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"This is an <a href="https://www.elecfans.com/tags/ethernet/" target="_blank"><u>ethernet</u></a> demo: modbus tcp(Interrupt Usage)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">else</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"This is an ethernet demo: modbus tcp (Polling Usage)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">endif</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LwIP Version: %s\n"</span><span style="color:#d6b007;">,</span>LWIP_VERSION_STRING<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">/* Set RGMII clock delay */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">if</span><span style="color:#78f3e9;">defined</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">RGMII</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span><span style="color:#d6e7ff;">RGMII</span><br/><span style="color:#78f3e9;">board_init_enet_rgmii_clock_delay</span><span style="color:#d6b007;">(</span>ENET<span style="color:#d6b007;">);</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">elif</span><span style="color:#78f3e9;">defined</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">RMII</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&amp;&amp;</span><span style="color:#d6e7ff;">RMII</span><br/><span style="color:#446e69;">/* Set RMII reference clock */</span><br/><span style="color:#78f3e9;">board_init_enet_rmii_reference_clock</span><span style="color:#d6b007;">(</span>ENET<span style="color:#d6b007;">,</span>BOARD_ENET_RMII_INT_REF_CLK<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Reference Clock: %s\n"</span><span style="color:#d6b007;">,</span>BOARD_ENET_RMII_INT_REF_CLK<span style="background-color:transparent;color:#ec8e01;">?</span><span style="color:#49c6ec;">"Internal Clock"</span><span style="background-color:transparent;color:#ec8e01;">:</span><span style="color:#49c6ec;">"External Clock"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">endif</span><br/><br/><span style="color:#446e69;">/* Start a board timer */</span><br/><span style="color:#78f3e9;">board_timer_create</span><span style="color:#d6b007;">(</span>LWIP_APP_TIMER_INTERVAL<span style="color:#d6b007;">,</span>sys_timer_callback<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">/* Initialize MAC and <a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a> */</span><br/>  sta<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">enet_init</span><span style="color:#d6b007;">(</span>ENET<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>sta<span style="background-color:transparent;color:#ec8e01;">==</span>status_success<span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">/* Initialize the Lwip stack */</span><br/><span style="color:#78f3e9;">lwip_init</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">netif_config</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">user_notification</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>gnetif<span style="color:#d6b007;">);</span><br/><span style="color:#446e69;">/* Start services */</span><br/><span style="color:#78f3e9;">enet_services</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>gnetif<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span>sta<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">tcp服务器初始化</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">network_tcp_server_init</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">!=</span>status_success<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"network tcp client init fail\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#d6b007;">};</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.4 modbus</strong></p><p style="margin-left:0px;text-align:justify;">配置agile_modbus库</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">agile_modbus_tcp_init</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>ctx_tcp<span style="color:#d6b007;">,</span>ctx_send_buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>ctx_send_buf<span style="color:#d6b007;">),</span>ctx_read_buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>ctx_read_buf<span style="color:#d6b007;">));</span><br/><span style="color:#78f3e9;">agile_modbus_set_slave</span><span style="color:#d6b007;">(</span>ctx<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span></p><p style="margin-left:0px;text-align:justify;">寄存器定义：LED、温度、湿度、真空度、气压、转速 ......</p><p style="margin-left:0;text-align:justify;"><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_LED_CONTROL0</span><span style="color:#446e69;">/* LED控制寄存器 */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_TEMPERATURE1</span><span style="color:#446e69;">/* 温度寄存器 (0.1°C) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_HUMIDITY2</span><span style="color:#446e69;">/* 湿度寄存器 (0.1%) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_VACUUM_PRESSURE3</span><span style="color:#446e69;">/* 真空度寄存器 (0.01 Pa) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_ATMOSPHERIC_PRESSURE4</span><span style="color:#446e69;">/* 气压寄存器 (0.1 hPa) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_MOTOR_SPEED5</span><span style="color:#446e69;">/* 真实转速寄存器 (RPM) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_MOTOR_POSITION6</span><span style="color:#446e69;">/* 电机位置寄存器 (0.1°) */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_SENSOR_STATUS7</span><span style="color:#446e69;">/* 传感器状态寄存器 */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_AL<a href="https://m.hqchip.com/app/1378" target="_blank"><u>ARM</u></a>_STATUS8</span><span style="color:#446e69;">/* 报警状态寄存器 */</span><br/><span style="color:#d6e7ff;">#</span><span style="color:#0fe468;">define</span><span style="color:#d6e7ff;">REG_SYSTEM_STATUS9</span><span style="color:#446e69;">/* 系统状态寄存器 */</span></p><p style="margin-left:0px;text-align:justify;">寄存器初始化数值</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">static</span><span style="color:#78f3e9;">uint16_t</span>_tab_registe<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a><span style="color:#d6b007;">[</span>REGISTER_COUNT<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">{</span><br/><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* LED控制: 0=关闭, 1=开启 */</span><br/><span style="color:#d6e7ff;">250</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 温度: 25.0°C */</span><br/><span style="color:#d6e7ff;">650</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 湿度: 65.0% */</span><br/><span style="color:#d6e7ff;">10132</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 真空度: 1013.2 Pa (标准大气压) */</span><br/><span style="color:#d6e7ff;">1013</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 气压: 1013.0 hPa */</span><br/><span style="color:#d6e7ff;">1500</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 电机转速: 1500 RPM */</span><br/><span style="color:#d6e7ff;">1800</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 电机位置: 180.0° */</span><br/><span style="color:#d6e7ff;">0x00FF</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 传感器状态: 所有传感器正常 */</span><br/><span style="color:#d6e7ff;">0x0000</span><span style="color:#d6b007;">,</span><span style="color:#446e69;">/* 报警状态: 无报警 */</span><br/><span style="color:#d6e7ff;">0x0001</span><span style="color:#446e69;">/* 系统状态: 系统运行正常 */</span><br/><span style="color:#d6b007;">};</span></p><p style="margin-left:0px;text-align:justify;">LED控制</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">staticvoid</span><span style="color:#78f3e9;">led_control</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span>value<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>value<span style="background-color:transparent;color:#ec8e01;">==</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_OFF_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">/* 关闭LED */</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED turned OFF\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_ON_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">/* 开启LED */</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED turned ON\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">模拟传感器数据更新函数，实际条件下可以通过模拟或者数字方式获取传感器数值</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">staticvoid</span><span style="color:#78f3e9;">update_sensor_data</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/>  update_counter<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 模拟温度变化 (20-30°C) */</span><br/><span style="color:#78f3e9;">int16_t</span>temp_variation<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">rand</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">200</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">100</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* -10.0°C 到 +10.0°C */</span><br/><span style="color:#78f3e9;">int32_t</span>new_temp<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">250</span><span style="background-color:transparent;color:#ec8e01;">+</span>temp_variation<span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 基准25.0°C */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_temp<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">200</span><span style="color:#d6b007;">)</span>new_temp<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">200</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 最低20.0°C */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_temp<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">300</span><span style="color:#d6b007;">)</span>new_temp<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">300</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 最高30.0°C */</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_TEMPERATURE<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="color:#d6b007;">)</span>new_temp<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 模拟湿度变化 (50-80%) */</span><br/><span style="color:#78f3e9;">int16_t</span>hum_variation<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">rand</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">300</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">150</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* -15.0% 到 +15.0% */</span><br/><span style="color:#78f3e9;">int32_t</span>new_hum<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">650</span><span style="background-color:transparent;color:#ec8e01;">+</span>hum_variation<span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 基准65.0% */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_hum<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">)</span>new_hum<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 最低50.0% */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_hum<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">800</span><span style="color:#d6b007;">)</span>new_hum<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">800</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 最高80.0% */</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_HUMIDITY<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="color:#d6b007;">)</span>new_hum<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 模拟真空度变化 (10100-10200 Pa) */</span><br/><span style="color:#78f3e9;">int16_t</span>vac_variation<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">rand</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">200</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">100</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* ±100 Pa */</span><br/><span style="color:#78f3e9;">int32_t</span>new_vac<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">10132</span><span style="background-color:transparent;color:#ec8e01;">+</span>vac_variation<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_vac<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">10100</span><span style="color:#d6b007;">)</span>new_vac<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">10100</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_vac<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">10200</span><span style="color:#d6b007;">)</span>new_vac<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">10200</span><span style="color:#d6b007;">;</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_VACUUM_PRESSURE<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="color:#d6b007;">)</span>new_vac<span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 存储为0.1 Pa单位 */</span><br/><br/><span style="color:#446e69;">/* 模拟气压变化 (1000-1030 hPa) */</span><br/><span style="color:#78f3e9;">int16_t</span>atm_variation<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">rand</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">300</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">150</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* ±15 hPa */</span><br/><span style="color:#78f3e9;">int32_t</span>new_atm<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1013</span><span style="background-color:transparent;color:#ec8e01;">+</span>atm_variation<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_atm<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">1000</span><span style="color:#d6b007;">)</span>new_atm<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1000</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_atm<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">1030</span><span style="color:#d6b007;">)</span>new_atm<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1030</span><span style="color:#d6b007;">;</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_ATMOSPHERIC_PRESSURE<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="color:#d6b007;">)</span>new_atm<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 模拟电机转速变化 (1400-1600 RPM) */</span><br/><span style="color:#78f3e9;">int16_t</span>speed_variation<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">rand</span><span style="color:#d6b007;">()</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">200</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">100</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* ±100 RPM */</span><br/><span style="color:#78f3e9;">int32_t</span>new_speed<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1500</span><span style="background-color:transparent;color:#ec8e01;">+</span>speed_variation<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_speed<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">1400</span><span style="color:#d6b007;">)</span>new_speed<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1400</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>new_speed<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">1600</span><span style="color:#d6b007;">)</span>new_speed<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">1600</span><span style="color:#d6b007;">;</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_MOTOR_SPEED<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="color:#d6b007;">)</span>new_speed<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 模拟电机位置变化 (0-360°) */</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_MOTOR_POSITION<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span>update_counter<span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6e7ff;">10</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">%</span><span style="color:#d6e7ff;">3600</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 0.1°为单位 */</span><br/><br/><span style="color:#446e69;">/* 更新传感器状态 */</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_SENSOR_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0x00FF</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 所有传感器正常 */</span><br/><br/><span style="color:#446e69;">/* 模拟报警状态 */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>_tab_registers<span style="color:#d6b007;">[</span>REG_TEMPERATURE<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">280</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">/* 温度超过28°C */</span><br/>    _tab_registers<span style="color:#d6b007;">[</span>REG_ALARM_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">|=</span><span style="color:#d6e7ff;">0x0001</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 温度报警 */</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/>    _tab_registers<span style="color:#d6b007;">[</span>REG_ALARM_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&amp;=~</span><span style="color:#d6e7ff;">0x0001</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>_tab_registers<span style="color:#d6b007;">[</span>REG_MOTOR_SPEED<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">1550</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">/* 转速超过1550 RPM */</span><br/>    _tab_registers<span style="color:#d6b007;">[</span>REG_ALARM_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">|=</span><span style="color:#d6e7ff;">0x0002</span><span style="color:#d6b007;">;</span><span style="color:#446e69;">/* 转速报警 */</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/>    _tab_registers<span style="color:#d6b007;">[</span>REG_ALARM_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">&amp;=~</span><span style="color:#d6e7ff;">0x0002</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">/* 系统状态保持正常 */</span><br/>  _tab_registers<span style="color:#d6b007;">[</span>REG_SYSTEM_STATUS<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0x0001</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">寄存器映射</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">staticint</span><span style="color:#78f3e9;">get_map_buf</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="background-color:transparent;color:#ec8e01;">*</span>buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">int</span>bufsz<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span>bufsz<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint16_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">)</span>buf<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">/* 更新传感器数据 */</span><br/><span style="color:#78f3e9;">update_sensor_data</span><span style="color:#d6b007;">();</span><br/><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint32_t</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>_tab_registers<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>_tab_registers<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">]);</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/>    ptr<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span>_tab_registers<span style="color:#d6b007;">[</span>i<span style="color:#d6b007;">];</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">staticint</span><span style="color:#78f3e9;">set_map_buf</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>index<span style="color:#d6b007;">,</span><span style="color:#0fe468;">int</span>len<span style="color:#d6b007;">,</span><span style="color:#0fe468;">void</span><span style="background-color:transparent;color:#ec8e01;">*</span>buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">int</span>bufsz<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span>bufsz<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint16_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint16_t</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">)</span>buf<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span>len<span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><br/>    _tab_registers<span style="color:#d6b007;">[</span>index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span>ptr<span style="color:#d6b007;">[</span>index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">];</span><br/><br/><span style="color:#446e69;">/* 如果修改的是LED控制寄存器(地址0)，则控制LED */</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">((</span>index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">==</span>REG_LED_CONTROL<span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">led_control</span><span style="color:#d6b007;">(</span>_tab_registers<span style="color:#d6b007;">[</span>REG_LED_CONTROL<span style="color:#d6b007;">]);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">/* 打印寄存器写入信息 */</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Register 0x%04X written: 0x%04X (%d)\n"</span><span style="color:#d6b007;">,</span><br/>        index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">,</span>_tab_registers<span style="color:#d6b007;">[</span>index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">],</span>_tab_registers<span style="color:#d6b007;">[</span>index<span style="background-color:transparent;color:#ec8e01;">+</span>i<span style="color:#d6b007;">]);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#0fe468;">const</span><span style="color:#78f3e9;">agile_modbus_slave_util_map_t</span>hold_register_maps<span style="color:#d6b007;">[</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">]</span><span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">{</span><br/><span style="color:#d6b007;">{</span><span style="color:#d6e7ff;">0x00</span><span style="color:#d6b007;">,</span>REGISTER_COUNT<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">,</span>get_map_buf<span style="color:#d6b007;">,</span>set_map_buf<span style="color:#d6b007;">}};</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.5 测试用例</strong></p><p style="margin-left:0px;text-align:justify;">添加寄存器访问接口</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">staticint</span><span style="color:#78f3e9;">modbus_slave_process</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">staticint</span>recv_len<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">volatileint</span>sta<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">,</span>rc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">static</span><span style="color:#78f3e9;">uint8_t</span>count<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">switch</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">case</span>recv_wait<span style="background-color:transparent;color:#ec8e01;">:</span><br/>    recv_len<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">network_tcp_s_receive</span><span style="color:#d6b007;">(</span>ctx_tcp<span style="color:#d6b007;">.</span>_ctx<span style="color:#d6b007;">.</span>read_buf<span style="color:#d6b007;">,</span>APP_MIN_RECV_LEN<span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>recv_len<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/>      sta<span style="background-color:transparent;color:#ec8e01;">=-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">elseif</span><span style="color:#d6b007;">(</span>recv_len<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">=</span>recv_finsh<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">break</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">case</span>recv_finsh<span style="background-color:transparent;color:#ec8e01;">:</span><br/>    rc<span style="background-color:transparent;color:#ec8e01;">=-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/>    rc<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">agile_modbus_slave_handle</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>ctx_tcp<span style="color:#d6b007;">.</span>_ctx<span style="color:#d6b007;">,</span>recv_len<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">,</span>agile_modbus_slave_util_callback<span style="color:#d6b007;">,</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>slave_util<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">NULL</span><span style="color:#d6b007;">);</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>rc<span style="background-color:transparent;color:#ec8e01;">&gt;</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"parse ok, recv master msg len:%d\n"</span><span style="color:#d6b007;">,</span>recv_len<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">network_tcp_s_send</span><span style="color:#d6b007;">(</span>ctx_tcp<span style="color:#d6b007;">.</span>_ctx<span style="color:#d6b007;">.</span>send_buf<span style="color:#d6b007;">,</span>rc<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">=</span>send_finsh<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><span style="color:#0fe468;">else</span><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"parse failed code:%d\n"</span><span style="color:#d6b007;">,</span>rc<span style="color:#d6b007;">);</span><br/>      sta<span style="background-color:transparent;color:#ec8e01;">=-</span><span style="color:#d6e7ff;">3</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">break</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">case</span>send_finsh<span style="background-color:transparent;color:#ec8e01;">:</span><br/>    count<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>count<span style="background-color:transparent;color:#ec8e01;">&gt;</span>TIEMOUT_COUNT<span style="color:#d6b007;">){</span><br/>      count<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">*</span>status<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">=</span>recv_wait<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">break</span><span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">default</span><span style="background-color:transparent;color:#ec8e01;">:</span><br/><span style="color:#0fe468;">break</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span>sta<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">main函数添加modbus tcp rtu数据帧处理流程</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"modbus tcp slave example\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= 寄存器映射表 =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0000: LED控制寄存器 (0=关闭, 1=开启)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0001: 温度寄存器 (0.1°C, 250=25.0°C)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0002: 湿度寄存器 (0.1%%, 650=65.0%%)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0003: 真空度寄存器 (0.01 Pa, 101325=1013.25 Pa)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0004: 气压寄存器 (0.1 hPa, 1013=1013.0 hPa)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0005: 电机转速寄存器 (RPM, 1500=1500 RPM)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0006: 电机位置寄存器 (0.1°, 1800=180.0°)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0007: 传感器状态寄存器 (0x00FF=正常)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0008: 报警状态寄存器 (0x0000=无报警)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"0x0009: 系统状态寄存器 (0x0001=正常)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"================\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">agile_modbus_tcp_init</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>ctx_tcp<span style="color:#d6b007;">,</span>ctx_send_buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>ctx_send_buf<span style="color:#d6b007;">),</span>ctx_read_buf<span style="color:#d6b007;">,</span><span style="color:#0fe468;">sizeof</span><span style="color:#d6b007;">(</span>ctx_read_buf<span style="color:#d6b007;">));</span><br/><span style="color:#78f3e9;">agile_modbus_set_slave</span><span style="color:#d6b007;">(</span>ctx<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>time_flag true<span style="color:#d6b007;">){</span><br/>    time_flag<span style="background-color:transparent;color:#ec8e01;">=</span>false<span style="color:#d6b007;">;</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span><span style="color:#78f3e9;">modbus_slave_process</span><span style="color:#d6b007;">((</span><span style="color:#78f3e9;">uint8_t</span><span style="background-color:transparent;color:#ec8e01;">*</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>seria_status<span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">){</span><br/>      seria_status<span style="background-color:transparent;color:#ec8e01;">=</span>recv_wait<span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#78f3e9;">enet_common_handler</span><span style="color:#d6b007;">(</span><span style="background-color:transparent;color:#ec8e01;">&amp;</span>gnetif<span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.6 modpoll</strong></p><p style="margin-left:0px;text-align:justify;">以LED控制为例，循环发送控制命令，让LED循环点亮</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/9ffd1928-07c7-11f1-96ea-92fbcf53809c.png" alt="9ffd1928-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">读取所有寄存器</p><p style="margin-left:0;text-align:justify;"><span style="color:#d6b007;">.</span><span style="background-color:transparent;color:#ec8e01;">/</span>modpoll<span style="background-color:transparent;color:#ec8e01;">-</span>m tcp<span style="background-color:transparent;color:#ec8e01;">-</span>a<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>r<span style="color:#d6e7ff;">10</span><span style="background-color:transparent;color:#ec8e01;">-</span>c<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>t<span style="color:#d6e7ff;">4</span><span style="background-color:transparent;color:#ec8e01;">-</span>p<span style="color:#d6e7ff;">5001192.168.55.10</span></p><p style="margin-left:0px;text-align:justify;">监控温度变化</p><p style="margin-left:0;text-align:justify;"><span style="color:#d6b007;">.</span><span style="background-color:transparent;color:#ec8e01;">/</span>modpoll<span style="background-color:transparent;color:#ec8e01;">-</span>m tcp<span style="background-color:transparent;color:#ec8e01;">-</span>a<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>r<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>c<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>t<span style="color:#d6e7ff;">4</span><span style="background-color:transparent;color:#ec8e01;">-</span>p<span style="color:#d6e7ff;">5001</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">0</span><span style="background-color:transparent;color:#ec8e01;">-</span>l<span style="color:#d6e7ff;">2000192.168.55.10</span></p><p style="margin-left:0px;text-align:justify;">监控传感器数据</p><p style="margin-left:0;text-align:justify;"><span style="color:#d6b007;">.</span><span style="background-color:transparent;color:#ec8e01;">/</span>modpoll<span style="background-color:transparent;color:#ec8e01;">-</span>m tcp<span style="background-color:transparent;color:#ec8e01;">-</span>a<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>r<span style="color:#d6e7ff;">6</span><span style="background-color:transparent;color:#ec8e01;">-</span>c<span style="color:#d6e7ff;">1</span><span style="background-color:transparent;color:#ec8e01;">-</span>t<span style="color:#d6e7ff;">4</span><span style="background-color:transparent;color:#ec8e01;">-</span>p<span style="color:#d6e7ff;">5001</span><span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">0</span><span style="background-color:transparent;color:#ec8e01;">-</span>l<span style="color:#d6e7ff;">2000192.168.55.10</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.7 实验现象</strong></p><p style="margin-left:0px;text-align:justify;">基于保持寄存器控制LED循环点亮</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.8 总结</strong></p><p style="margin-left:0px;text-align:justify;">modbus设备控制和传感器数据寄存器映射表</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/a02a05a0-07c7-11f1-96ea-92fbcf53809c.png" alt="a02a05a0-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>4.9 开源</strong></p><p style="margin-left:0px;text-align:justify;">完整代码已上传Gitee：https://gitee.com/hywing/hpm5e00evk</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5、motor电机步进控制</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.1 介绍</strong></p><p style="margin-left:0px;text-align:justify;"><a href="https://www.elecfans.com/tags/步进电机/" target="_blank"><u>步进电机</u></a>因其精确的位置控制、开环操作简单、响应快和低成本等特性，被广泛应用于需要精准运动控制的领域；先楫HPM5E00EVK开发板上有专用的<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>引脚，它的电机控制系统包括：</p><p style="margin-left:0px;text-align:justify;">2 个 8 通道 PWM 模块 PWMV2， 16 路 PWM 输出调制精度可达 100ps，支持产生互补 PWM 输出，死区插入和故障保护</p><p style="margin-left:0px;text-align:justify;">2 个正交<a href="https://www.elecfans.com/tags/编码器/" target="_blank"><u>编码器</u></a>输入 QEIV2</p><p style="margin-left:0px;text-align:justify;">2 个正交编码器输出 QEOV2</p><p style="margin-left:0px;text-align:justify;">1 个 Σ∆ 信号接收单元 SDM，内置 4 通道 SINC 数字<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a></p><p style="margin-left:0px;text-align:justify;">1 个可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>逻辑模块 PLB</p><p style="margin-left:0px;text-align:justify;">1 个互联管理器 TRGM</p><p style="margin-left:0px;text-align:justify;">各模块支持通过互联管理器 TRGM 与电机控制系统内部或外部的模块交互</p><p style="margin-left:0px;text-align:justify;">1 个同步<a href="https://www.elecfans.com/tags/定时器/" target="_blank"><u>定时器</u></a> SYNT，用于电动控制系统同步</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.2 原理图</strong></p><p style="margin-left:0px;text-align:justify;">我们用MOTOR_IF<a href="https://m.hqchip.com/app/1513" target="_blank"><u>排针</u></a>的PD0和PD1，分别用于生成PWM和步进电机状态使能</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/a0613b88-07c7-11f1-96ea-92fbcf53809c.png" alt="a0613b88-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">另外一个方向使能引脚PC8位于PPI插槽</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/a09346be-07c7-11f1-96ea-92fbcf53809c.png" alt="a09346be-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.3 步进电机</strong></p><p style="margin-left:0px;text-align:justify;">PUL+连接PD0，DIR连接PC8，ENA+连接PD1</p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260212/a0d2dc2a-07c7-11f1-96ea-92fbcf53809c.png" alt="a0d2dc2a-07c7-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.4 驱动程序</strong></p><p style="margin-left:0px;text-align:justify;"><strong>PWM</strong></p><p style="margin-left:0px;text-align:justify;">初始化PWM引脚：仅配置PD0</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_pwm_pins_custom</span><span style="color:#d6b007;">(</span>PWMV2_Type<span style="background-color:transparent;color:#ec8e01;">*</span>ptr<span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#0fe468;">if</span><span style="color:#d6b007;">(</span>ptr<span style="background-color:transparent;color:#ec8e01;">==</span>HPM_PWM0<span style="color:#d6b007;">){</span><br/>    HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PD00<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PD00_FUNC_CTL_PWM0_P_0<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PD0 configured as PWM0_P_0\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">配置PWM生成方波</p><p style="margin-left:0;text-align:justify;">freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">clock_get_frequency</span><span style="color:#d6b007;">(</span>PWM_CLOCK_NAME<span style="color:#d6b007;">);</span><br/>reload<span style="background-color:transparent;color:#ec8e01;">=</span>freq<span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6e7ff;">1000</span><span style="background-color:transparent;color:#ec8e01;">*</span>PWM_PERIOD_IN_MS<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 生成1kHz方波，占空比50%</span><br/><span style="color:#78f3e9;">generate_1khz_50_percent_duty_waveform</span><span style="color:#d6b007;">();</span></p><p style="margin-left:0px;text-align:justify;">PWM参数配置：生成1kHz方波，占空比50%</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">generate_1khz_50_percent_duty_waveform</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint32_t</span>freq<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">uint32_t</span>reload_1khz<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 获取PWM时钟频率</span><br/>  freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">clock_get_frequency</span><span style="color:#d6b007;">(</span>PWM_CLOCK_NAME<span style="color:#d6b007;">);</span><br/><span style="color:#446e69;">// 计算1kHz频率的重载值</span><br/>  reload_1khz<span style="background-color:transparent;color:#ec8e01;">=</span>freq<span style="background-color:transparent;color:#ec8e01;">/</span>PWM_FREQ_1KHZ<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PWM Clock Frequency: %d Hz\n"</span><span style="color:#d6b007;">,</span>freq<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"1kHz PWM Reload Value: %d\n"</span><span style="color:#d6b007;">,</span>reload_1khz<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 初始化PWM</span><br/><span style="color:#78f3e9;">pwmv2_deinit</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">pwmv2_shadow_register_unlock</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 设置周期值（重载值）</span><br/><span style="color:#78f3e9;">pwmv2_set_shadow_val</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">PWMV2_SHADOW_INDEX</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">),</span>reload_1khz<span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">,</span>false<span style="color:#d6b007;">);</span><br/><span style="color:#446e69;">// 设置比较值（50%占空比）</span><br/><span style="color:#78f3e9;">pwmv2_set_shadow_val</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">PWMV2_SHADOW_INDEX</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">),</span>reload_1khz<span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6e7ff;">2</span><span style="color:#d6b007;">,</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">,</span>false<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 配置计数器</span><br/><span style="color:#78f3e9;">pwmv2_counter_select_data_offset_from_shadow_value</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>pwm_counter_0<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">PWMV2_SHADOW_INDEX</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">));</span><br/><span style="color:#78f3e9;">pwmv2_counter_burst_disable</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>pwm_counter_0<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">pwmv2_set_reload_update_time</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>pwm_counter_0<span style="color:#d6b007;">,</span>pwm_reload_update_on_reload<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 配置<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a></span><br/><span style="color:#78f3e9;">pwmv2_select_cmp_source</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">PWMV2_CMP_INDEX</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">),</span>cmp_value_from_shadow_val<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">PWMV2_SHADOW_INDEX</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">));</span><br/><br/><span style="color:#446e69;">// 锁定阴影寄存器</span><br/><span style="color:#78f3e9;">pwmv2_shadow_register_lock</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 禁用四比较器模式</span><br/><span style="color:#78f3e9;">pwmv2_disable_four_cmp</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>BOARD_APP_PWM_OUT1<span style="color:#d6b007;">);</span><br/><span style="color:#446e69;">// 启用PWM通道0输出</span><br/><span style="color:#78f3e9;">pwmv2_channel_enable_output</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>BOARD_APP_PWM_OUT1<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 启用计数器并开始PWM输出</span><br/><span style="color:#78f3e9;">pwmv2_enable_counter</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>pwm_counter_0<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">pwmv2_start_pwm_output</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">,</span>pwm_counter_0<span style="color:#d6b007;">);</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"1kHz PWM with 50%% duty cycle started on channel 0 (PD00)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Waveform will continue running...\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;"><strong>控制引脚</strong></p><p style="margin-left:0px;text-align:justify;">方向和使能引脚配置</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">init_dir_pin</span><span style="color:#d6b007;">();</span><span style="color:#446e69;">// 初始化PC8为GPIO输出，设置为高电平</span><br/><span style="color:#78f3e9;">init_ena_pin</span><span style="color:#d6b007;">();</span><span style="color:#446e69;">// 初始化PD1为GPIO输出，设置为高电平</span></p><p style="margin-left:0px;text-align:justify;">初始化PC8为GPIO输出，设置为高电平</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_dir_pin</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#446e69;">// 配置PC8为GPIO输出</span><br/>  HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC08<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PC08_FUNC_CTL_GPIO_C_08<span style="color:#d6b007;">;</span><br/><span style="color:#446e69;">// 设置PAD控制：上拉使能，上拉，施密特触发器使能</span><br/><span style="color:#78f3e9;">uint32_t</span>pad_ctl<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PE_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_HYS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/>  HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PC08<span style="color:#d6b007;">].</span>PAD_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>pad_ctl<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 设置为输出模式，初始电平为低</span><br/>  HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>OE<span style="color:#d6b007;">[</span>GPIO_DI_GPIOC<span style="color:#d6b007;">].</span>SET<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">);</span><br/>  HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOC<span style="color:#d6b007;">].</span>CLEAR<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PC8 configured as DIR pin, set to LOW level\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">初始化PD1为GPIO输出，设置为高电平（ENA功能）</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">init_ena_pin</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#446e69;">// 配置PD1为GPIO输出</span><br/>  HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PD01<span style="color:#d6b007;">].</span>FUNC_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>IOC_PD01_FUNC_CTL_GPIO_D_01<span style="color:#d6b007;">;</span><br/><span style="color:#446e69;">// 设置PAD控制：上拉使能，上拉，施密特触发器使能</span><br/><span style="color:#78f3e9;">uint32_t</span>pad_ctl<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PE_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_PS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">)</span><span style="background-color:transparent;color:#ec8e01;">|</span><span style="color:#78f3e9;">IOC_PAD_PAD_CTL_HYS_SET</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/>  HPM_IOC<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>PAD<span style="color:#d6b007;">[</span>IOC_PAD_PD01<span style="color:#d6b007;">].</span>PAD_CTL<span style="background-color:transparent;color:#ec8e01;">=</span>pad_ctl<span style="color:#d6b007;">;</span><br/><br/><span style="color:#446e69;">// 设置为输出模式，初始电平为低</span><br/>  HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>OE<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>SET<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/>  HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>CLEAR<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PD1 configured as ENA pin, set to LOW level\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.5 状态显示</strong></p><p style="margin-left:0px;text-align:justify;">初始化LED引脚</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">void</span><span style="color:#78f3e9;">board_init_led_pins</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">init_led_pins</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">gpio_set_pin_output_with_initial</span><span style="color:#d6b007;">(</span>BOARD_LED_GPIO_CTRL<span style="color:#d6b007;">,</span>BOARD_LED_GPIO_INDEX<span style="color:#d6b007;">,</span>BOARD_LED_GPIO_PIN<span style="color:#d6b007;">,</span><span style="color:#78f3e9;">board_get_led_gpio_off_level</span><span style="color:#d6b007;">());</span><br/><span style="color:#d6b007;">}</span></p><p style="margin-left:0px;text-align:justify;">LED亮灭：LED亮表示正转、反转LED灭</p><p style="margin-left:0;text-align:justify;"><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_ON_LEVEL<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_OFF_LEVEL<span style="color:#d6b007;">);</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.6 测试用例</strong></p><p style="margin-left:0px;text-align:justify;">配置PWM，步进电机转10s，停下来，反转10s又停下来，循环往复</p><p style="margin-left:0;text-align:justify;"><span style="color:#0fe468;">int</span><span style="color:#78f3e9;">main</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">void</span><span style="color:#d6b007;">)</span><br/><span style="color:#d6b007;">{</span><br/><span style="color:#78f3e9;">uint32_t</span>freq<span style="color:#d6b007;">;</span><br/><span style="color:#78f3e9;">board_init</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">init_pwm_pins_custom</span><span style="color:#d6b007;">(</span>PWM<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">init_pwm_fault_pins</span><span style="color:#d6b007;">();</span><br/><span style="color:#78f3e9;">init_dir_pin</span><span style="color:#d6b007;">();</span><span style="color:#446e69;">// 初始化PC8为GPIO输出，设置为高电平</span><br/><span style="color:#78f3e9;">init_ena_pin</span><span style="color:#d6b007;">();</span><span style="color:#446e69;">// 初始化PD1为GPIO输出，设置为高电平</span><br/><span style="color:#78f3e9;">board_init_led_pins</span><span style="color:#d6b007;">();</span><span style="color:#446e69;">// 初始化LED引脚</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PWM 1kHz 50%% Duty Cycle Example\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Using PWM Channel 0 (PD00)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Using PC8 as DIR pin (LOW level)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Using PD1 as ENA pin (LOW level)\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED will blink every 0.5 seconds\n"</span><span style="color:#d6b007;">);</span><br/><br/>  freq<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#78f3e9;">clock_get_frequency</span><span style="color:#d6b007;">(</span>PWM_CLOCK_NAME<span style="color:#d6b007;">);</span><br/>  reload<span style="background-color:transparent;color:#ec8e01;">=</span>freq<span style="background-color:transparent;color:#ec8e01;">/</span><span style="color:#d6e7ff;">1000</span><span style="background-color:transparent;color:#ec8e01;">*</span>PWM_PERIOD_IN_MS<span style="background-color:transparent;color:#ec8e01;">-</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">;</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PWM Clock Frequency: %d Hz\n"</span><span style="color:#d6b007;">,</span>freq<span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PWM Period: %d ms\n"</span><span style="color:#d6b007;">,</span>PWM_PERIOD_IN_MS<span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 生成1kHz方波，占空比50%</span><br/><span style="color:#78f3e9;">generate_1khz_50_percent_duty_waveform</span><span style="color:#d6b007;">();</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PWM output started. Check PD00 pin with oscilloscope.\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Expected: 1kHz square wave with 50%% duty cycle\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PC8 DIR pin is set to LOW level\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"PD1 ENA pin is set to LOW level\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED blinking started...\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// 保持程序运行</span><br/><span style="color:#0fe468;">while</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">){</span><br/><span style="color:#446e69;">// 第一阶段：电机正转10秒</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= Phase 1: Motor forward rotation for 10 seconds =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"ENA: LOW (Enable), DIR: LOW (Forward), PWM: Running\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED: ON (Forward direction)\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// ENA置低使能，DIR置低正转</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>CLEAR<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// ENA = LOW</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOC<span style="color:#d6b007;">].</span>CLEAR<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// DIR = LOW</span><br/><br/><span style="color:#446e69;">// LED亮表示正转</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_ON_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">// LED亮</span><br/><br/><span style="color:#446e69;">// 运行10秒</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">20</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">// 20 * 500ms = 10秒</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Forward rotation: %d/20 cycles, PWM running, LED ON\n"</span><span style="color:#d6b007;">,</span>i<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 第二阶段：停止3秒</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= Phase 2: Motor stop for 3 seconds =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"ENA: HIGH (Disable), DIR: LOW, PWM: Running\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED: OFF (Motor stopped)\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// ENA置高停止，LED灭</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>SET<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// ENA = HIGH</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_OFF_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">// LED灭</span><br/><br/><span style="color:#446e69;">// 停止3秒</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">6</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">// 6 * 500ms = 3秒</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Motor stopped: %d/6 cycles, LED OFF\n"</span><span style="color:#d6b007;">,</span>i<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 第三阶段：电机反转10秒</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= Phase 3: Motor reverse rotation for 10 seconds =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"ENA: LOW (Enable), DIR: HIGH (Reverse), PWM: Running\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED: OFF (Reverse direction)\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// ENA置低使能，DIR置高反转</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>CLEAR<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// ENA = LOW</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOC<span style="color:#d6b007;">].</span>SET<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">8</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// DIR = HIGH</span><br/><br/><span style="color:#446e69;">// LED灭表示反转</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_OFF_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">// LED灭</span><br/><br/><span style="color:#446e69;">// 运行10秒</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">20</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">// 20 * 500ms = 10秒</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Reverse rotation: %d/20 cycles, PWM running, LED OFF\n"</span><span style="color:#d6b007;">,</span>i<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#446e69;">// 第四阶段：停止3秒</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= Phase 4: Motor stop for 3 seconds =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"ENA: HIGH (Disable), DIR: HIGH, PWM: Running\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"LED: OFF (Motor stopped)\n"</span><span style="color:#d6b007;">);</span><br/><br/><span style="color:#446e69;">// ENA置高停止，LED保持灭</span><br/>    HPM_GPIO0<span style="background-color:transparent;color:#ec8e01;">-&gt;</span>DO<span style="color:#d6b007;">[</span>GPIO_DI_GPIOD<span style="color:#d6b007;">].</span>SET<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">1UL</span><span style="background-color:transparent;color:#ec8e01;">&lt;&lt;</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><span style="color:#446e69;">// ENA = HIGH</span><br/><span style="color:#78f3e9;">board_led_write</span><span style="color:#d6b007;">(</span>BOARD_LED_OFF_LEVEL<span style="color:#d6b007;">);</span><span style="color:#446e69;">// LED灭</span><br/><br/><span style="color:#446e69;">// 停止3秒</span><br/><span style="color:#0fe468;">for</span><span style="color:#d6b007;">(</span><span style="color:#0fe468;">int</span>i<span style="background-color:transparent;color:#ec8e01;">=</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">&lt;</span><span style="color:#d6e7ff;">6</span><span style="color:#d6b007;">;</span>i<span style="background-color:transparent;color:#ec8e01;">++</span><span style="color:#d6b007;">){</span><span style="color:#446e69;">// 6 * 500ms = 3秒</span><br/><span style="color:#78f3e9;">board_delay_ms</span><span style="color:#d6b007;">(</span><span style="color:#d6e7ff;">500</span><span style="color:#d6b007;">);</span><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"Motor stopped: %d/6 cycles, LED OFF\n"</span><span style="color:#d6b007;">,</span>i<span style="background-color:transparent;color:#ec8e01;">+</span><span style="color:#d6e7ff;">1</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><br/><span style="color:#78f3e9;">printf</span><span style="color:#d6b007;">(</span><span style="color:#49c6ec;">"= Complete cycle finished, starting next cycle =\n"</span><span style="color:#d6b007;">);</span><br/><span style="color:#d6b007;">}</span><br/><span style="color:#0fe468;">return</span><span style="color:#d6e7ff;">0</span><span style="color:#d6b007;">;</span><br/><span style="color:#d6b007;">}</span><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.7 实验现象</strong></p><p style="margin-left:0px;text-align:justify;">电机正转10s，停止，反转10s，停止；<a href="https://www.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>显示1kHz PWM波形，直流<a href="https://www.elecfans.com/tags/稳压电源/" target="_blank"><u>稳压电源</u></a>显示电机的负载情况</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.8 总结</strong></p><p style="margin-left:0px;text-align:justify;">工业自动化领域一般通过脉冲<a href="https://m.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>制<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>装置电动步进位置，同时利用编码器反馈调整实现闭环控制，来达到精确的位移控制；常见的自动化控制设备有：真空晶圆传送、上下取片放料装置、机械手、电动托盘、激光校准器等</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>5.9 开源</strong></p><p style="margin-left:0px;text-align:justify;">完整代码已上传Gitee：https://gitee.com/hywing/hpm5e00evk</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">视频链接：</p><p style="margin-left:0px;text-align:justify;">https://www.bilibili.com/video/BV19Zb3z5E5A/?t=0.0&amp;vd_source=a5f350afc9fad8cf1c9fb8dc14248456</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">文章来源：<strong>EEFocus</strong></p><p style="margin-left:0px;text-align:justify;"><a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>ID:<strong>eefocus_4139406</strong></p><p style="margin-left:0px;text-align:justify;">原文链接：</p><p style="margin-left:0px;text-align:justify;">https://www.eefocus.com/forum/home.php?mod=space&amp;uid=380063&amp;do=thread&amp;view=me&amp;from=space</p><p style="text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:right;">/</p><p style="margin-left:0px;text-align:center;">完</p><p style="margin-left:0px;text-align:right;">/</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">以上内容来自先楫开发者的原创分享。</p><p style="margin-left:0px;text-align:justify;">我们始终相信开发者共创的力量。先楫社区坚持开源共享、互惠互利，贴近每一个开发者，一步一个脚印，一点一滴积累，为成为更好的我们而不断努力。</p>]]></description></item><item>    <title><![CDATA[国内｜还是搞不懂SRRC模块认证=产品过认证？看这篇就够了]]></title>    <link>https://www.elecfans.com/d/7656223.html</link>    <guid>https://www.elecfans.com/d/7656223.html</guid>    <pubDate>2026-02-12 12:12:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;text-align:justify;"><strong>SRRC模块<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>=产品认证？</strong></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">近几年 <a href="https://m.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>-Cat.1 在<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>用得特别多，性价比很高。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">不管是智能表计、共享设备、金融终端还是车载产品，在国内合法卖，都必须过三个强制认证：SRRC、CCC、进网许可（CTA/NAL）。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">很多人有个误区：用了已经认证的<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>模组，整机就不用认证了。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">其实不是 ——模组过认证 ≠ 产品过认证，终端还是要单独做认证。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">这篇文章就教大家怎么高效搞定认证，少走弯路、不耽误时间，从资料、样机到送检，全是实用要点。</p><p style="margin-left:-58px;text-align:center;"><img src="http://images.elecfans.net/uploads/20260212/fd0ea0e0-07c8-11f1-96ea-92fbcf53809c.png" alt="fd0ea0e0-07c8-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;"><strong>1</strong></p><p style="margin-left:0px;text-align:justify;"><strong>CTA/NAL 入网认证</strong></p><p style="margin-left:0px;text-align:justify;">样机总数：8 台</p><p style="margin-left:0px;text-align:justify;">1）拍照样机：1 台</p><p style="margin-left:0px;text-align:justify;">原样机、不引线，仅用于拍照备案。</p><p style="margin-left:0px;text-align:justify;">2）完整整机：4 台</p><p style="margin-left:0px;text-align:justify;">带外置 <a href="https://www.hqchip.com/app/1522" target="_blank"><u>SIM</u></a> 卡槽，可直接满足测试。</p><p style="margin-left:0px;text-align:justify;">3）<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>引线机：3 台</p><p style="margin-left:0px;text-align:justify;">需引出主集、分集射频线，带外置 SIM 卡槽，测试可正常出数据与 AT <a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>；</p><p style="margin-left:0px;text-align:justify;">若无法正常输出，需额外引出串口，并配备2 个串口转 <a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a> 工具（以实际样品测试情况为准）。</p><p style="margin-left:0px;text-align:center;"><strong>2</strong></p><p style="margin-left:0px;text-align:justify;"><strong>SRRC 型号核准</strong></p><p style="margin-left:0px;text-align:center;">1）4G 公网</p><p style="margin-left:0px;text-align:center;">共需 5 台机器（其中 1 台为完整整机，仅用于拍照留底）。</p><p style="margin-left:0px;text-align:center;">射频<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>要求：可通过整机辐射方式与综测仪建立通信。</p><p style="margin-left:0px;text-align:center;">其余 4 台：需将射频<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>引出，输出为 SMA 接头，用于传导测试。</p><p style="margin-left:0px;text-align:center;">若板上已有射频接口：提供转 SMA 接头的转接线。</p><p style="margin-left:0px;text-align:center;">若板上无射频接口：送样前提前焊接好带SMA 接头的射频线。</p><p style="margin-left:0px;text-align:center;"><br/></p><p style="margin-left:0px;text-align:center;">2）WiFi/BT 局域网</p><p style="margin-left:0px;text-align:center;">共需 5 台机器（其中 1 台为完整整机，用于拍照留底，另外 4 台需支持定频）。</p><p style="margin-left:0px;text-align:center;">样机要求：</p><p style="margin-left:0px;text-align:center;">定频机：需配备定频连接线、转接板、串口线等，用于连接<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>控制（设备自带测试模式除外）。</p><p style="margin-left:0px;text-align:center;">需提供：定频软件 + 软件测试操作手册+WiFi /BT测试工具说明。。</p><p style="margin-left:0px;text-align:center;">供电要求：<br/></p><p style="margin-left:0px;text-align:center;">每台机器需提供稳定供电方式（电池、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>线等均可）。</p><p style="margin-left:-58px;text-align:center;"><img src="http://images.elecfans.net/uploads/20260212/fd2efa20-07c8-11f1-96ea-92fbcf53809c.png" alt="fd2efa20-07c8-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:center;"><strong>3</strong></p><p style="margin-left:0px;text-align:justify;"><strong>SRRC模块带（M）？</strong></p><p style="margin-left:0px;text-align:center;">为什么 4G 模组的型号核准代码后会标注 “（M）”？</p><p style="margin-left:0px;text-align:center;">这与国家对无线电发射模块的定义有关。根据工信部无〔2014〕1 号文（俗称 “1 号文”），4G 模组属于限制性非独立操作使用的无线电发射模块，因不满足完整非独立操作模块的第 3 项要求（模块应使用一体化<a href="https://bbs.elecfans.com/group_1219" target="_blank"><u>天线</u></a>），其型号核准代码后必须加注 “（M）” 标识。</p><p style="margin-left:0px;text-align:center;"><br/></p><p style="margin-left:0px;text-align:center;"><img src="http://images.elecfans.net/uploads/20260212/fd5d221a-07c8-11f1-96ea-92fbcf53809c.png" alt="fd5d221a-07c8-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"/>]]></description></item><item>    <title><![CDATA[郎特科技 LED 灯管定制：管径规格如何影响照明效果？]]></title>    <link>https://www.elecfans.com/d/7656224.html</link>    <guid>https://www.elecfans.com/d/7656224.html</guid>    <pubDate>2026-02-12 13:08:00</pubDate>    <description><![CDATA[<h2 style="margin-left:0px;">郎特科技 <a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a> 灯管定制：管径规格如何影响照明效果？</h2><p style="margin-left:0px;">在照明领域，LED 灯管的管径规格是影响照明效果的关键因素之一。郎特科技提供多种管径规格的 LED 灯管定制服务，每种管径都因其独特的物理特性，在光通量、发光角度、适用场景等方面对照明效果产生不同影响。</p><h2 style="margin-left:0px;">一、T5 灯管（直径 16mm）</h2><p style="margin-left:0px;">T5 灯管以其较高的光效在照明市场中占据一席之地，尤其适用于教室、办公室等场所。其较小的管径使得灯管内部的发光芯片能够更紧密排列，在有限空间内实现较高的光输出。</p><h3 style="margin-left:0px;">1. 光通量与节能性</h3><p style="margin-left:0px;">T5 灯管的光效较高，能在相对较低的功率下提供足够亮度，实现节能目的。例如，在教室照明中，选择合适长度和功率的 T5 灯管，如 0.6m、0.9m、1.2m 或 1.5m 长度的灯管，既能保证教室整体光线均匀，又能有效降低能耗，为学校节省电费开支。</p><h3 style="margin-left:0px;">2. 发光角度与均匀度</h3><p style="margin-left:0px;">虽然 T5 灯管管径小，但通过合理的<a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>设计，其发光角度可满足常规照明需求，使得光线均匀地散布在空间中。在办公室环境下，均匀的光线可以减少视觉疲劳，提高员工的工作效率。</p><h2 style="margin-left:0px;">二、T6 灯管（介于 T5 与 T8 之间）</h2><p style="margin-left:0px;">T6 灯管的体型适中，直径约 20mm，这一独特管径使其成为装修设计有特殊尺寸需求场所的理想选择。</p><h3 style="margin-left:0px;">1. 适配特殊空间</h3><p style="margin-left:0px;">在一些对灯具尺寸有严格要求的场所，如定制化的商业店铺、艺术展厅等，T6 灯管能够完美适配。其管径既不会过大显得突兀，也不会过小而影响照明效果，为这些特殊空间提供了恰到好处的照明解决方案。</p><h3 style="margin-left:0px;">2. 光线分布特点</h3><p style="margin-left:0px;">T6 灯管的光线分布介于 T5 和 T8 之间，可根据实际需求进行光学优化。在商业店铺中，通过调整 T6 灯管的配光设计，能够突出<a href="https://www.hqchip.com/ask/" target="_blank"><u>商品</u></a>展示区域，吸引顾客注意力。</p><img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNX3WAEuEYAAFFy851Z20390.png" alt="wKgZPGmNX3WAEuEYAAFFy851Z20390.png"/>郎特T6led灯管<h2 style="margin-left:0px;">三、T8 灯管（直径 26mm，主流款）</h2><p style="margin-left:0px;">T8 灯管是市场上最为常见的 LED 灯管之一，郎特科技的 T8 灯管提供多种长度和功率选择，长度涵盖 0.45m、0.6m、0.9m、1.2m、1.5m、1.8m、2.4m，功率有 18W、24W、30W、36W 等。</p><h3 style="margin-left:0px;">1. 大空间照明优势</h3><p style="margin-left:0px;">较大的管径使得 T8 灯管能够容纳更多的发光芯片和散热结构，从而产生更高的光通量。在大型工厂、仓库等高顶大空间场所，选择大功率、长尺寸的 T8 灯管，如 1.5m 或 1.8m 长度、30W 或 36W 功率的灯管，能够提供充足的亮度，照亮整个空间。</p><h3 style="margin-left:0px;">2. V 型双排发光设计</h3><p style="margin-left:0px;">T8 灯管还可做 V 型双排发光（270° 发光角），这种设计进一步扩大了发光范围，减少照明死角。在超市货架间的照明应用中，V 型双排发光的 T8 灯管能够照亮货架的各个层面，方便顾客挑选商品。</p><h2 style="margin-left:0px;">四、T10 灯管（直径 30mm +）</h2><p style="margin-left:0px;">T10 灯管凭借较大的管径，具备更大的光通量输出能力，是厂房、高顶仓库等大空间照明的优质选择。</p><h3 style="margin-left:0px;">1. 高亮度输出</h3><p style="margin-left:0px;">T10 灯管的大管径允许安装更多高性能的发光芯片，从而实现更高的光通量。在大型厂房中，使用 1.2m 或 1.5m 长的 T10 分体式 LED 灯管，能够为生产区域提供极高的亮度，满足复杂生产操作对照明的严格要求。</p><h3 style="margin-left:0px;">2. 光线覆盖范围</h3><p style="margin-left:0px;">由于光通量高，T10 灯管的光线覆盖范围更广，在高顶仓库中，能够减少灯具数量，同时保证仓库内各个角落都能得到充分照明，提高照明效率，降低成本。</p><p style="margin-left:0px;">郎特科技不同管径规格的 LED 灯管，通过各自独特的物理特性和光学设计，在光通量、发光角度、光线分布等方面对照明效果产生显著影响，满足了从教室、办公室到厂房、仓库等各种不同场景的多样化照明需求。在选择 LED 灯管时，应根据具体使用场景的空间大小、功能需求等因素，综合考虑管径规格，以达到最佳照明效果。</p><img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZO2mNX9yASSuIAAF8UGk-9cs424.png" alt="wKgZO2mNX9yASSuIAAF8UGk-9cs424.png"/>LT郎特T10led灯管]]></description></item><item>    <title><![CDATA[分体 T5 LED 灯管的开关设计，怎样提升使用便利性？]]></title>    <link>https://www.elecfans.com/d/7656235.html</link>    <guid>https://www.elecfans.com/d/7656235.html</guid>    <pubDate>2026-02-12 13:11:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;">分体 T5 <a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a> 灯管的开关设计，怎样提升使用便利性？</p><h2 style="margin-left:0px;"><strong>分体 T5 LED 灯管开关设计：提升使用便利性的多维度解析</strong></h2><p style="margin-left:0px;">分体 T5 LED 灯管作为现代照明领域的重要产品，其开关设计对于提升使用便利性起着关键作用。以下从不同类型的开关设计及其带来的便利进行阐述。</p><h2 style="margin-left:0px;"><strong>一、传统手动开关设计优化</strong></h2><ol><li><strong>位置与标识优化</strong>：传统手动开关应设计在易于触及的位置。对于安装在天花板的分体 T5 LED 灯管，开关可设置在靠近入口处的墙壁上，高度以成年人抬手即可轻松操作的 1.3 - 1.5 米为宜。同时，开关表面要有清晰、明显的标识，如 “开 / 关” 字样，并且用不同颜色区分，开的标识采用绿色，关的标识采用红色，方便用户在光线较暗时也能准确操作。</li><li><strong>操作手感改良</strong>：开关的操作手感至关重要。采用轻触式按键开关，其行程短、触感清脆，能让用户以较小的力度就能完成开关动作。同时，为防止误操作，可在按键上增加一定的阻力，但阻力不能过大，以免影响操作的流畅性。例如，像一些高端家电的开关按键，用户按下时能感受到适度的反馈，这种设计应用到分体 T5 LED 灯管开关上，能显著提升操作体验。</li></ol><h2 style="margin-left:0px;"><strong>二、智能感应开关设计</strong></h2><ol><li><strong>人体感应开关</strong>：人体感应开关采用<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>感应或雷达感应技术，当有人进入感应范围时，分体 T5 LED 灯管自动亮起；人离开后，经过一定的延迟时间自动关闭。在办公室、会议室等场所，人员流动具有不确定性，人体感应开关能根据人员的活动情况自动控制灯管照明，无需人工频繁操作开关。比如，在会议室中，当参会人员进入时，灯管自动亮起，会议结束人员离开后，灯管自动关闭，既提供了便捷的照明控制，又能有效节能。</li><li><strong>声光控开关</strong>：声光控开关结合了声音和光线感应功能。在光线较暗的环境下，当检测到一定强度的声音，如脚步声、说话声等，分体 T5 LED 灯管自动开启；在光线充足时，即使有声音也不会触发开关。这种开关适用于楼道、走廊等公共区域。例如，在老旧小区的楼道，夜晚居民经过时，脚步声触发灯管亮起，白天则不会因噪音误亮，既方便居民夜间通行，又能实现节能目的。</li></ol><img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNYLOAS_bAAAULGdtrBqI665.png" alt="wKgZPGmNYLOAS_bAAAULGdtrBqI665.png"/>郎特科技T5LED灯管带开关<h2 style="margin-left:0px;"><strong>三、远程控制开关设计</strong></h2><ol><li><strong>无线遥控开关</strong>：无线遥控开关让用户可以在一定距离内对分体 T5 LED 灯管进行<a href="https://www.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>。配备与灯管相匹配的遥控器，遥控器上可设置多个功能按键，除了基本的开关功能，还可设置亮度调节、色温调节等功能。在一些大型仓库或工业厂房中，工作人员无需走到灯管下方，通过遥控器就能轻松控制灯管的开关，提高了操作的便利性。同时，遥控器的设计应符合人体工程学，按键布局合理，方便握持和操作。</li><li><strong><a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a> APP 远程控制</strong>：借助<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>技术，用户可以通过手机 APP 实现对分体 T5 LED 灯管的远程控制。无论用户身处何地，只要手机连接到网络，就可以通过 APP 控制灯管的开关、亮度、色温等参数。在<a href="https://www.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>环境中，用户可以将分体 T5 LED 灯管与其他智能设备进行联动。比如，用户在下班回家的路上，就可以通过手机 APP 提前打开家中客厅的灯管，营造温馨的回家氛围。此外，APP 还可以设置定时开关功能，按照用户预设的时间自动控制灯管的开关，满足不同的生活和工作需求。</li></ol><h2 style="margin-left:0px;"><strong>四、组合式开关设计</strong></h2><ol><li><strong>手动与智能感应组合</strong>：将手动开关与人体感应开关或声光控开关相结合。在日常情况下，智能感应开关发挥作用，实现自动照明控制；当需要对灯管进行特殊操作，如长时间开启或关闭时，用户可以通过手动开关进行控制。例如，在医院的病房走廊，平时声光控开关自动控制照明，方便病人和医护人员通行；但在进行清洁或<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>等特殊工作时，工作人员可以通过手动开关保持灯管长亮。</li><li><strong>智能感应与远程控制组合</strong>：这种组合方式让用户既能享受到智能感应开关带来的自动照明便利，又能通过远程控制实现对分体 T5 LED 灯管的灵活管理。在办公室中，人体感应开关根据人员活动自动控制灯管照明，而管理人员可以通过手机 APP 远程查看灯管的使用状态，并且在特殊情况下，如紧急会议准备，远程开启或调整灯管的亮度，提升了整体的使用便利性和管理效率。</li></ol><p style="margin-left:0px;">通过以上多种开关设计方式，分体 T5 LED 灯管能够在不同场景下满足用户的多样化需求，显著提升使用便利性，为用户带来更加便捷、智能的照明体验。</p>]]></description></item><item>    <title><![CDATA[分体 T5 LED 灯管有何优势？郎特科技为你解答]]></title>    <link>https://www.elecfans.com/d/7656243.html</link>    <guid>https://www.elecfans.com/d/7656243.html</guid>    <pubDate>2026-02-12 13:18:00</pubDate>    <description><![CDATA[<h2 style="margin-left:0px;">分体 T5 <a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a> 灯管有何优势？郎特科技为你解答</h2><p style="margin-left:0px;">在照明产品的选择上，分体 T5 LED 灯管凭借独特优势逐渐成为众多用户的青睐之选。郎特科技作为照明领域的专业品牌，对分体 T5 LED 灯管的优势有着深入见解。</p><h2 style="margin-left:0px;">安装便捷，灵活应对不同场景</h2><ol><li><strong>易于安装与替换</strong>分体 T5 LED 灯管在安装过程中展现出极高的便利性。相较于传统一体式灯管，分体设计将灯管与<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a><a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>分离。这意味着在安装时，只需将灯管卡入灯架相应卡槽，再连接电源驱动器即可，操作简单，无需复杂的布线或专业工具。对于老旧灯具的替换，分体 T5 LED 灯管可直接适配原有的灯架，大大节省了安装时间与成本。例如在办公室、学校教室等场所，工作人员无需专业技能，即可快速完成灯具更换，减少对正常工作和教学秩序的影响。</li><li><strong>灵活布局，适应多样空间</strong>分体设计赋予了 T5 LED 灯管在空间布局上的高度灵活性。由于电源驱动器可独立放置，灯管的安装位置不受电源位置的严格限制。在一些大型商业空间或工业厂房中，可根据实际照明需求，灵活调整灯管的排列方式和间距，实现更精准的照明布局。比如在展示厅，可将灯管错落安装，营造出独特的光影效果，突出展品特色；在工业流水线上，可根据工作区域的分布，合理布置灯管，确保每个操作环节都能获得充足且均匀的光照。</li></ol><img src="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNYh6AMhRPAALzKbrvmXo393.png" alt="wKgZO2mNYh6AMhRPAALzKbrvmXo393.png"/>郎特科技T5一体式led灯管<h2 style="margin-left:0px;">散热高效，延长灯具使用寿命</h2><ol><li><strong>优化散热结构</strong>散热是影响 LED 灯具寿命和性能的关键因素。分体 T5 LED 灯管通过独特的分体设计，优化了散热结构。灯管与电源驱动器分离，使得两者产生的热量能够分别散发，避免了热量集中导致的温度过高问题。郎特科技的分体 T5 LED 灯管采用优质的散热材料，如铝合金材质的灯管外壳，具有良好的导热性能，能够迅速将灯管内部热量传导至外部，加速散热过程。</li><li><strong>延长灯具寿命</strong>高效的散热性能显著延长了分体 T5 LED 灯管的使用寿命。LED 芯片在较低的温度环境下工作，光衰速度减缓，从而保持稳定的光输出。这意味着用户无需频繁更换灯管，降低了维护成本。以商业店铺为例，频繁更换灯具不仅影响营业，还增加了开支。分体 T5 LED 灯管凭借长寿命优势，为店铺提供持久稳定的照明，减少了因灯具更换带来的不便和成本。</li></ol><img src="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNYjSAVyTsAAJrUChPsHA726.png" alt="wKgZPGmNYjSAVyTsAAJrUChPsHA726.png"/>郎特科技T5分体式led灯管<h2 style="margin-left:0px;">维护成本低，经济实用之选</h2><ol><li><strong>降低<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>难度与成本</strong>当灯具出现故障时，分体 T5 LED 灯管的维护优势便凸显出来。由于灯管与电源驱动器独立，若其中一个部件损坏，只需单独更换损坏部分，无需更换整个灯具。例如，若灯管损坏，直接更换新的灯管即可；若电源驱动器出现问题，也可单独进行维修或替换。这种模块化的设计大大降低了维修难度和成本。对于大型场所，如超市、工厂等，大量灯具的维护工作变得更加轻松，减少了维修所需的人力和物力资源。</li><li><strong>长期经济效益显著</strong>从长期来看，分体 T5 LED 灯管的低维护成本带来了显著的经济效益。虽然分体 T5 LED 灯管在初次购买时价格可能略高于普通灯管，但考虑到其长寿命和低维修成本，总体拥有成本更低。在一些长期运营的场所，如酒店、医院等，使用分体 T5 LED 灯管能够在多年的使用过程中，为企业节省大量的灯具采购和维护费用，提升经济效益。</li></ol><h2 style="margin-left:0px;">安全性能高，使用更放心</h2><ol><li><strong><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>隔离，降低风险</strong>分体 T5 LED 灯管的分体设计实现了电气隔离。灯管与电源驱动器之间通过安全的连接方式进行电气连接，使得灯管在工作时，人体接触到的部分与高电压部分有效隔离，降低了触电风险。这在一些人员密集或对安全要求较高的场所，如学校、商场等，尤为重要。即使在灯具出现故障或意外损坏的情况下，也能最大程度保障人员安全。</li><li><strong>稳定性能好，减少安全隐患</strong>由于分体 T5 LED 灯管散热良好，灯具在工作过程中温度稳定，减少了因过热引发的火灾等安全隐患。同时，电源驱动器独立工作，避免了因电源部分故障导致的灯具异常闪烁或短路等问题，确保照明系统的稳定运行。在一些存放易燃物品的仓库或对消防安全要求严格的场所，分体 T5 LED 灯管的高安全性能为场所的安全提供了有力保障。</li></ol><p style="margin-left:0px;">分体 T5 LED 灯管在安装、散热、维护和安全等方面具有诸多优势。郎特科技凭借对分体 T5 LED 灯管的深入研究和专业制造，为用户提供高品质的产品，满足不同场景的照明需求，以先进的照明技术为用户创造更舒适、安全、经济的照明环境。</p>]]></description></item><item>    <title><![CDATA[探索ADBMS1804：多节电池监测的理想解决方案]]></title>    <link>https://www.elecfans.com/d/7656175.html</link>    <guid>https://www.elecfans.com/d/7656175.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656175" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZsOAPO22AAKNKrCoMWI015.pdf"/><h1>探索<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS1804：多节电池监测的理想解决方案</h1>
<p>作为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>，在<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统的设计中，一款优秀的多节电池监测器至关重要。今天，我们就来深入了解一下<a href="https://www.elecfans.com/tags/adi/" target="_blank"><u>ADI</u></a>公司的ADBMS1804多节电池监测器，看看它有哪些出色的特性和应用场景。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656175" target="_blank">ADBMS1804.pdf</a></p>
<h2>强大的功能特性</h2>
<h3>精准的电压与<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>测量</h3>
<p>ADBMS1804具备4个电池电压通道，采用16位sigma-delta <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>和可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a><a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，在整个使用寿命内最大总测量误差仅为2 mV，能为电池电压测量提供<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>的数据。同时，它还支持同步电流和电压测量，24位sigma-delta ADC搭配可编程滤波器和PGA，最大偏移误差仅0.5 µV，并且集成了电流累加器（库仑计数器），无论是睡眠模式还是正常运行模式都能正常工作，这对于准确掌握电池的电量状态非常关键。大家在实际应用中，是否遇到过因测量误差导致的电池管理不准确的问题呢？</p>
<h3>丰富的辅助测量功能</h3>
<p>该监测器拥有9个<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入，可用于连接外部NTC热敏<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，方便进行电池温度监测。此外，它还有5个带集成分压器的堆叠电压测量通道，以及一个通过外部分流电阻进行的电池系统电流测量通道（与模拟输入共享）。同时，集成的<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>可实现快速（&lt;20 µs）过流和唤醒电流监测，并设有专用的故障/警报监测输出，能实现快速响应，大大提高了系统的安全性和可靠性。</p>
<h3>高效的电池平衡与充电检测</h3>
<p>ADBMS1804支持高达300 mA（最大）的被动电池平衡，在睡眠和正常运行模式下都可通过可编程脉冲宽度调制实现。这有助于延长电池组的使用寿命，提高电池的一致性。而且它还具备充电器检测功能，能更好地管理电池的充电过程。</p>
<h3>低功耗设计与灵活配置</h3>
<p>在低功耗监测方面，ADBMS1804表现出色。它可以进行周期性的电压、电流和温度监测，同时拥有6个可配置的、由警报触发的栅极控制输出。此外，它采用标准的4线4 MHz SPI从属<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，方便与其他设备进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。其<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压范围为4 V至28 V，不同模式下的功耗也非常低，正常运行模式（ASIL C）为7 mA，睡眠模式（ASIL B）为34 µA，深度睡眠模式（QM）仅为22 µA。这种低功耗设计在一些对功耗要求较高的应用中具有很大的优势，大家觉得在哪些场景下低功耗特性会发挥重要作用呢？</p>
<h3>良好的封装与环境适应性</h3>
<p>ADBMS1804采用48引脚LFCSP_SS封装，带有外露焊盘，工作温度范围为 -40°C至 +125°C，具有热插拔耐受性，并且通过了AEC - Q100汽车应用认证，能适应各种恶劣的工作环境，适用于汽车等对可靠性要求较高的应用领域。</p>
<h2>典型应用场景</h2>
<p>ADBMS1804适用于多种电池管理场景，尤其在12 V车辆启动和备用电池管理方面表现出色。其精准的测量和高效的电池平衡功能，能有效提高电池的性能和使用寿命，确保车辆<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>系统的稳定运行。</p>
<h2>器件总体描述</h2>
<p>ADBMS1804能够测量多达四个串联连接的电池单元，总测量误差小于2 mV，0 V至5 V的电池测量范围使其适用于大多数电池化学体系。它可以直接由电池组供电，每个电池单元都有被动平衡功能，并且可以对每个单元进行单独的脉冲宽度调制（PWM）占空比控制。此外，它还设有专用的警报输出引脚，能及时指示故障状态，使系统更加稳定和快速响应。同时，它还集成了片上3.3 V和5 V稳压器、九个通用模拟输入、五个堆叠电压测量通道等功能，还可通过额外的分流电阻测量电池系统的电流消耗。</p>
<p>如果大家想了解更多关于ADBMS1804的信息，可以联系CBMS_Doc_Req@<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>analog</u></a>.com。在实际的电子设计中，我们要充分考虑器件的特性和应用场景，才能设计出更加优秀的电池管理系统。希望今天对ADBMS1804的介绍能对大家有所帮助。 </p>]]></description></item><item>    <title><![CDATA[ADBMS1804A多电池组监测器：功能、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7656176.html</link>    <guid>https://www.elecfans.com/d/7656176.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656176" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZsOAfaR9AAKTWtkqzLA750.pdf"/><h1><a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS1804A多电池组监测器：功能、应用与设计要点</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常工作中，<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统的设计是一个关键领域。今天要介绍的ADBMS1804A多电池组监测器，是一款在电池监测方面表现出色的产品，下面我们来详细了解它的特性、应用和设计要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656176" target="_blank">ADBMS1804A.pdf</a></p>
<h2>强大功能一览</h2>
<h3>电池电压与<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>测量</h3>
<p>ADBMS1804A具备4个电池电压通道，采用16位sigma - delta <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>和可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a><a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，能实现<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>的电池电压测量，且在整个生命周期内最大总测量误差仅2 mV。在电流测量方面，可进行同步的电流和电压测量，使用24位sigma - delta ADC、可编程滤波器和PGA，最大偏移误差为0.5 µV，还集成了电流累加器（库仑计数器），无论是睡眠模式还是正常工作模式都能正常运行。</p>
<h3>辅助测量功能</h3>
<p>它有8个<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，可连接外部NTC热敏<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，用于温度测量；具备5个带集成分压器的堆叠电压测量通道，以及1个通过外部分流电阻进行的电池系统电流测量通道（与模拟输入共享）。同时，集成了<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>，能快速（&lt;20 µs）进行过流和唤醒电流监测，并设有专用的故障/警报监测输出，实现快速响应。</p>
<h3>电池平衡与充电检测</h3>
<p>支持高达300 mA（最大）的被动电池平衡，在睡眠和正常工作模式下都可通过可编程脉冲宽度调制实现。还具备充电器检测功能，能有效管理电池充电过程。</p>
<h3>低功耗监测</h3>
<p>可进行周期性的电压、电流和温度监测，拥有6个可配置的、由警报触发的门控控制输出。采用标准的4线4 MHz SPI从属接口，方便与其他设备进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。</p>
<h3><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>与封装</h3>
<p>电源供电范围为4 V至28 V，不同工作模式下功耗不同：正常工作模式（ASIL D）为8.2 mA，睡眠模式（ASIL B）为34 µA，深度睡眠模式（QM）为22 µA。采用48引脚LFCSP_SS封装，带有外露焊盘，工作温度范围为 - 40°C至 + 125°C，具备热插拔耐受性，且通过了AEC - Q100汽车应用认证。</p>
<h2>典型应用场景</h2>
<p>ADBMS1804A适用于12 V车辆启动和备用电池等场景。在这些应用中，其高精度的测量能力和低功耗特性，能有效监测电池状态，保障电池的安全和稳定运行。</p>
<h2>设计要点与思考</h2>
<h3>测量精度与误差控制</h3>
<p>在使用ADBMS1804A进行电池监测设计时，要充分利用其高精度的测量能力，但也要注意控制测量误差。例如，虽然其最大总测量误差在生命周期内为2 mV，但在实际应用中，要考虑环境因素、电路布局等对测量精度的影响。<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们可以思考如何优化<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，减少干扰，进一步提高测量精度。</p>
<h3>低功耗设计</h3>
<p>该产品在不同工作模式下的功耗差异较大，在设计时要根据实际应用需求合理选择工作模式，以实现低功耗运行。比如，在对功耗要求较高的场景中，可以优先考虑使用睡眠模式或深度睡眠模式。那么，如何在低功耗模式下确保系统仍能及时响应异常情况，是我们需要思考的问题。</p>
<h3>通信与接口设计</h3>
<p>标准的4线4 MHz SPI从属接口为与其他设备的通信提供了便利，但在设计通信电路时，要注意<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的稳定性和抗干扰能力。如何优化SPI接口的通信协议，提<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a>信效率和可靠性，也是工程师们需要关注的重点。</p>
<p>总之，ADBMS1804A是一款功能强大的多电池组监测器，在电池管理系统设计中具有广泛的应用前景。电子工程师们在使用过程中，要充分发挥其优势，同时注意解决实际设计中遇到的问题，以实现更高效、更可靠的电池监测系统。如果大家在使用ADBMS1804A过程中有任何疑问或经验，欢迎在评论区交流分享。 </p>]]></description></item><item>    <title><![CDATA[ADBMS1816多节电池监测器：高性能电池监测解决方案]]></title>    <link>https://www.elecfans.com/d/7656177.html</link>    <guid>https://www.elecfans.com/d/7656177.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656177" value="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNZsOAb32DAAGgRyUM5nA909.pdf"/><h1><a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS1816多节电池监测器：高性能电池监测解决方案</h1>
<p>在<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统的设计中，准确监测电池状态至关重要。ADBMS1816多节电池监测器作为一款性能卓越的产品，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们提供了强大的工具。下面，我们就来详细了解一下这款产品。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656177" target="_blank">ADBMS1816.pdf</a></p>
<h2>产品特性</h2>
<h3><a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量</h3>
<p>ADBMS1816能够测量多达16节串联电池，软件校准后在3.3V时最大总测量误差仅为±3mV。如此高的测量精度，能让<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>准确掌握电池的状态，为电池管理提供可靠的数据支持。大家可以思考一下，在实际应用中，这样的高精度测量能为电池的使用和维护带来哪些好处呢？</p>
<h3>可堆叠架构</h3>
<p>对于高电压系统，ADBMS1816采用了可堆叠架构。这意味着多个设备可以串联连接，实现对长的、高电压电池组的同时监测。这种架构大大提高了系统的扩展性，满足不同应用场景的需求。</p>
<h3><a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>测量与<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>功能</h3>
<p>它具备库仑计数器进行电流测量，内置isoSPI实现2Mbps的隔离串行通信。这种高速、抗干扰的通信方式，确保了数据传输的准确性和稳定性。同时，其低EMI（电磁干扰）敏感性和低辐射特性，减少了对周围电子设备的干扰。</p>
<h3>其他实用特性</h3>
<ul>
<li><strong>断线保护</strong>：支持双向通信，具备断线保护功能，保障通信的完整性。</li>
<li><strong>多种<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a></strong>：拥有标准4线SPI、<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>接口，还有4个通用数字输出和7个温度或<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>输入，方便与其他设备进行连接和数据交互。</li>
<li><strong>电池平衡</strong>：支持高达300mA的被动电池平衡，且具有可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>PWM功能，可对每个电池进行单独的脉冲宽度调制控制。</li>
<li><strong>低功耗</strong>：在特定条件下（(V<em>{P}) 供电电流，TRANS = VMx，核心处于睡眠状态，isoSPI 空闲，(V</em>{REG }=0 ~V)），供电电流仅为26μA，有效降低了系统功耗。</li>
</ul>
<h2>应用领域</h2>
<p>ADBMS1816的应用范围十分广泛，涵盖了多个领域：</p>
<ul>
<li><strong>备份电池系统和不间断<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>（UPS）</strong>：确保在停电等情况下，电池能够稳定供电，保障设备的正常运行。</li>
<li><strong>电网储能</strong>：在电网储能系统中，准确监测电池状态，提高储能效率。</li>
<li><strong>住宅储能</strong>：帮助家庭实现能源的有效存储和利用。</li>
<li><strong>电动自行车和电动滑板车</strong>：为电动交通工具的电池管理提供支持，延长电池使用寿命。</li>
<li><strong>高功率便携式设备</strong>：满足高功率便携式设备对电池监测的需求。</li>
</ul>
<h2>典型应用电路</h2>
<p>其典型应用电路展示了电池监测器与电池组的连接方式，通过菊花链接口实现多个设备的连接。其中，ISENSE为<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>x引脚的<a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a>端。这种连接方式方便工程师进行系统设计，实现对多个电池组的集中监测。</p>
<h2>产品概述</h2>
<p>ADBMS1816是一款多节电池组监测器，电池测量范围为0V至4.5V，适用于大多数电池化学体系。它集成了可编程增益<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>（PGA），可根据应用中的目标电流范围监测各种电流。所有16节电池、电池组电压和电流可在116.8μs内完成测量。</p>
<p>该产品可以直接由电池组或隔离电源供电，具备每个电池的被动平衡功能，还有专用的ALERT输出引脚来指示故障状态。此外，它还拥有板载5V稳压器和睡眠模式，进一步降低了功耗。</p>
<p>总之，ADBMS1816以其高精度、高扩展性和丰富的功能，为电子工程师在电池管理系统设计中提供了一个优秀的解决方案。在实际应用中，工程师们可以根据具体需求充分发挥其优势，打造出更加高效、可靠的电池监测系统。 </p>]]></description></item><item>    <title><![CDATA[ADBMS1804B多节电池监测器：功能特性与应用解析]]></title>    <link>https://www.elecfans.com/d/7656178.html</link>    <guid>https://www.elecfans.com/d/7656178.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656178" value="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNZsOAFB0YAAIUMMGMELI927.pdf"/><h1><a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS1804B多节电池监测器：功能特性与应用解析</h1>
<p>在如今对电池性能和安全性要求日益提高的时代，多节电池的精确监测变得尤为关键。ADBMS1804B作为一款专业的多节电池监测器，凭借其丰富的功能和出色的性能，在<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>领域展现出巨大的优势。下面我们就来详细了解一下这款产品。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656178" target="_blank">ADBMS1804B.pdf</a></p>
<h2>一、ADBMS1804B的功能特性</h2>
<h3>1. 电池电压测量</h3>
<p>ADBMS1804B具备4个电池电压通道，采用16位sigma - delta <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>和可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a><a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，在整个使用寿命内最大总测量误差仅为5 mV。这一特性确保了对电池电压的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量，适用于大多数电池化学体系，其0 V至5 V的电池测量范围能够满足多种电池的监测需求。</p>
<h3>2. <a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>测量</h3>
<p>它支持同步电流和电压测量，配备24位sigma - delta ADC、可编程滤波器和PGA。最大偏移误差仅为0.5 µV，还集成了电流累加器（库仑计数器），无论是在睡眠模式还是正常运行模式下都能发挥作用。这使得<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>可以精确监测电池的电流变化，为电池的充放电管理提供准确的数据支持。</p>
<h3>3. 辅助测量</h3>
<ul>
<li><strong>温度测量</strong>：拥有9个<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入，可用于连接外部NTC热敏<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，方便对电池温度进行监测。在电池管理中，温度是一个重要的参数，准确的温度监测有助于防止电池过热，提高电池的安全性和使用寿命。</li>
<li><strong>电压测量</strong>：具备5个集成分压器的堆栈电压测量通道，可测量高达40 V的电压。此外，还可以通过外部分流电阻测量电池系统电流（与模拟输入共享）。</li>
<li><strong>快速监测与响应</strong>：集成<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>可实现快速（&lt;20 μs）的过流和唤醒电流监测，并设有专用的故障/警报监测输出，能够快速响应异常情况，确保系统的稳定性。</li>
</ul>
<h3>4. 电池平衡与充电检测</h3>
<p>支持高达300 mA（最大）的被动电池平衡，在睡眠和正常运行模式下都可通过可编程脉冲宽度调制实现。同时具备充电器检测功能，有助于优化电池的充电过程。</p>
<h3>5. 低功耗监测</h3>
<p>提供周期性的电压、电流和温度监测功能，还有6个可配置的、由警报触发的门控控制输出。在不同工作模式下，功耗表现出色：正常运行模式（ASIL B）下典型平均功耗为7 mA；睡眠模式（ASIL B）为34 μA；深度睡眠模式（QM）仅为22 μA。</p>
<h3>6. <a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>与设计标准</h3>
<p>采用标准的4线4 MHz SPI从属接口，方便与其他设备进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。并且专为ISO 26262应用设计，在正常运行模式和睡眠模式下均符合ASIL B标准，适用于对安全性要求较高的应用场景。</p>
<h3>7. 封装与环境适应性</h3>
<p>采用48引脚LFCSP_SS封装，带有暴露焊盘，具有热插拔耐受性，工作温度范围为 - 40°C至 + 125°C，同时通过了AEC - Q100汽车应用认证，可适应恶劣的汽车工作环境。</p>
<h2>二、典型应用</h2>
<p>ADBMS1804B适用于12 V车辆启动和备用电池等应用场景。在车辆电池管理中，它能够实时监测电池的电压、电流和温度等参数，确保电池的正常运行和安全使用。例如，当电池出现过充、过放或过热等异常情况时，能够及时发出警报并采取相应的保护措施。</p>
<h2>三、总结</h2>
<p>ADBMS1804B以其高精度的测量能力、丰富的功能特性、低功耗设计以及良好的环境适应性，为多节电池监测提供了一个全面的解决方案。对于<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>来说，在设计电池管理系统时，ADBMS1804B是一个值得考虑的选择。你在实际应用中是否也遇到过电池监测的难题呢？你觉得ADBMS1804B能否解决这些问题？欢迎在评论区分享你的看法。 </p>]]></description></item><item>    <title><![CDATA[深入剖析ADBMS2950B：电池组监控的得力助手]]></title>    <link>https://www.elecfans.com/d/7656179.html</link>    <guid>https://www.elecfans.com/d/7656179.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656179" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZseAOmtQAJF9s7c3Phs347.pdf"/><h1>深入剖析<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS2950B：电池组监控的得力助手</h1>
<p>在<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统（BMS）的设计中，精确的电池组监测至关重要。ADBMS2950B作为一款高性能的电池组监控器，为电池电流、电压测量及过流检测等应用提供了全面且可靠的解决方案。下面，我们将深入探究其特性、<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>及应用要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656179" target="_blank">ADBMS2950B.pdf</a></p>
<h2>1. 关键特性概览</h2>
<h3>1.1 测量功能</h3>
<ul>
<li><strong>电池电流测量</strong>：具备两路低偏移测量路径，通过18位的I1<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>和I2ADC对分流<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>上的电压降进行冗余测量，可将电压分辨率提升至1μV。测量结果每1ms更新一次，且可通过<a href="https://www.elecfans.com/tags/adi/" target="_blank"><u>ADI</u></a>1和ADI2命令触发，支持连续和单触发模式。</li>
<li><strong>电池电压测量</strong>：设有两个专用的电池组电压测量路径，连接到外部电阻分压器。VB1ADC和VB2ADC为16位，与I1ADC和I2ADC同步工作，能实现对电池电压的精确测量。</li>
<li><strong>额外电压测量</strong>：拥有10个额外的电压测量通道，可测量多种外部<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>或电阻分压器的电压，满足多样化的监测需求。</li>
</ul>
<h3>1.2 过流检测</h3>
<p>配备三个过流ADC（OC1ADC - OC3ADC），实现三重冗余。可对过流<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>阈值和去毛刺<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>进行<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>，通过OCA和OCB引脚以PWM或静态方式发出过流<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，确保系统在过流情况下的安全。</p>
<h3>1.3 <a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a></h3>
<p>支持2线隔离<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>（isoSPI）和标准4线SPI，<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>速率可达2Mbps。isoSPI接口采用差分脉冲编码，抗干扰能力强，适用于复杂电磁环境。</p>
<h2>2. 工作原理详解</h2>
<h3>2.1 串行接口</h3>
<p>ADBMS2950B的串行接口有两种模式，由ISOMD引脚控制。4线SPI模式下，<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>O为开漏输出，需外接上拉电阻；2线isoSPI模式则通过差分脉冲实现通信，可采用变压器或<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>进行隔离。</p>
<h3>2.2 ADC测量</h3>
<p>不同类型的ADC在测量功能和特性上有所差异。I1ADC和I2ADC用于电池电流测量，VB1ADC和VB2ADC用于电池电压测量，V1ADC和V2ADC用于额外电压测量，AUX ADC用于辅助信号测量。各ADC的转换时间、分辨率和精度等参数不同，可根据具体需求进行配置。</p>
<h3>2.3 过流管理</h3>
<p>过流检测由OCxADC完成，其输出经去毛刺滤波器和锁存器后，通过多数表决器控制OCA和OCB引脚。可选择PWM1或PWM2模式输出过流信号，以适应不同的应用场景。</p>
<h2>3. 应用设计要点</h2>
<h3>3.1 <a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>供应</h3>
<p>ADBMS2950B的<a href="https://www.elecfans.com/v/tag/3668/" target="_blank"><u>VR</u></a>EG引脚主要为参考电压、ADC、数字核心和OC、GPIO电路供电，VDD引脚为DRIVE调节器和GPO输出级供电。可根据实际需求选择不同的电源供应方案，如单5V供电、11V - 20V供电搭配NPN线性调节器或降压调节器等。</p>
<h3>3.2 <a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a>输入</h3>
<p><a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>检测输入需连接到I1A、I1B、I2A、I2B等引脚，并通过外部RC滤波器进行滤波，以减少噪声干扰和防止过流误判。布局时应确保对称性，减少热电偶电压的影响。</p>
<h3>3.3 电压检测输入</h3>
<p>V1 - V10、VBAT1和VBAT2输入通常连接到高阻抗源，如电阻分压器和NTC<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>。外部<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>滤波器应根据采样频率和系统噪声进行选择，以保证测量精度。</p>
<h3>3.4 数字滤波</h3>
<p>ADBMS2950B提供多种数字滤波选项，包括OCxADC、VxADC、AUX ADC、IxADC和VBxADC的滤波功能。可根据实际需求选择合适的滤波参数，以提高测量的稳定性和准确性。</p>
<h2>4. 实际应用案例</h2>
<p>在电池接线盒应用中，ADBMS2950B可与ADBMS6830B电池监测器组成isoSPI通信菊花链，实现对电池组电压、电流、隔离电阻等参数的监测。通过GPO控制外部<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a><a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>，可减少电池组漏电或切换隔离电阻测量的偏置状态。</p>
<h2>5. 总结</h2>
<p>ADBMS2950B凭借其丰富的功能、<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>的测量和可靠的通信接口，为电池组监控提供了全面的解决方案。在实际应用中，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>需根据具体需求合理配置参数，优化<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，以充分发挥其性能优势。同时，注意电源供应、输入滤波和布局等方面的细节，确保系统的稳定性和可靠性。你在使用ADBMS2950B的过程中遇到过哪些问题？又是如何解决的呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[TMP464：高精度5通道温度传感器的全方位解析]]></title>    <link>https://www.elecfans.com/d/7656180.html</link>    <guid>https://www.elecfans.com/d/7656180.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656180" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZyuAL_gzABB_yVJ7lx4420.pdf"/><h1>TMP464：<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>5通道<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>的全方位解析</h1>
<p>在电子设备的设计中，温度监测是至关重要的一环。今天，我们就来深入探讨一款高性能的温度传感器——TMP464，看看它在温度监测领域能为我们带来哪些惊喜。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656180" target="_blank">tmp464.pdf</a></p>
<h2>一、TMP464简介</h2>
<p>TMP464是一款高精度、低功耗的温度传感器，采用两线制、兼容SMBus或<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>的<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>。它集成了一个本地温度测量通道和四个远程结温度测量通道，能够同时监测多达四个远程<a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>连接的温度区域，再加上本地温度，为复杂系统的温度监测提供了全面的解决方案。</p>
<h3>1.1 产品特性</h3>
<ul>
<li><strong>多通道监测</strong>：具备4通道远程二极管温度传感器，可同时对多个区域进行温度监测。</li>
<li><strong>高精度测量</strong>：本地和远程精度最高可达±0.75°C，温度分辨率为0.0625°C，能满足大多数高精度温度监测需求。</li>
<li><strong>低功耗设计</strong>：工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>低至43µA（1 SPS，所有通道激活），关机电流仅0.3µA，有效降低了系统功耗。</li>
<li><strong>宽电压范围</strong>：<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>和逻辑电压范围为1.7 V至3.6 V，适用于多种电源环境。</li>
<li><strong>多种功能特性</strong>：支持串联<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>消除、η因子校正、偏移校正和二极管故障检测，还具备<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>锁定功能，确保关键寄存器的安全。</li>
<li><strong>接口兼容性</strong>：I2C或SMBus™兼容的两线接口，引脚可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>地址，方便与其他设备进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。</li>
<li><strong>小封装设计</strong>：采用16引脚VQFN封装，尺寸仅为3.00 mm × 3.00 mm，节省了电路板空间。</li>
</ul>
<h3>1.2 应用领域</h3>
<p>TMP464的应用非常广泛，涵盖了多个领域：</p>
<ul>
<li><strong><a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>温度监测</strong>：可用于<a href="https://www.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>、<a href="https://www.elecfans.com/tags/gpu/" target="_blank"><u>GPU</u></a>、<a href="https://www.elecfans.com/tags/asic/" target="_blank"><u>ASIC</u></a>、<a href="https://www.elecfans.com/soft/data/30-91/" target="_blank"><u>FPGA</u></a>、<a href="https://www.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>和<a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a>等处理器的温度监测，确保处理器在安全的温度范围内工作。</li>
<li><strong>通信设备</strong>：适用于电信设备、服务器和个人计算机等，保障设备的稳定运行。</li>
<li><strong>数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a></strong>：在云<a href="https://m.hqchip.com/app/1720" target="_blank"><u>以太网</u></a><a href="https://www.elecfans.com/v/tag/1392/" target="_blank"><u>交换机</u></a>和安全数据中心中，用于监测设备温度，提高数据中心的可靠性。</li>
<li><strong>医疗系统</strong>：高度集成的医疗系统对温度精度要求较高，TMP464能够满足其需求。</li>
<li><strong>精密仪器和测试设备</strong>：为精密仪器和测试设备提供准确的温度测量。</li>
<li><strong><a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>照明热控制</strong>：实现LED照明的热控制，延长LED的使用寿命。</li>
</ul>
<h2>二、TMP464的详细规格</h2>
<h3>2.1 绝对最大额定值</h3>
<p>在使用TMP464时，需要注意其绝对最大额定值，避免超出这些值导致设备损坏。例如，电源电压范围为–0.3 V至6 V，输入电压在不同引脚有不同的限制，如THERM、THERM2、<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A、SCL和<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>D引脚的输入电压范围为–0.3 V至6 V，D1+至D4+引脚的输入电压范围为–0.3 V至((V+) + 0.3)且≤ 6 V等。</p>
<h3>2.2 <a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>评级</h3>
<p>TMP464具备一定的静电放电（ESD）保护能力，人体模型（HBM）的ESD评级为±2000 V，带电设备模型（CDM）的ESD评级为±750 V。在使用和处理设备时，仍需注意静电防护，避免ESD对设备造成损害。</p>
<h3>2.3 推荐工作条件</h3>
<p>为了确保TMP464的正常工作，建议在以下条件下使用：电源电压范围为1.7 V至3.6 V，工作环境温度范围为–40°C至125°C，远程结温度范围为–55°C至150°C。</p>
<h3>2.4 热信息</h3>
<p>了解TMP464的热信息对于合理设计散热方案非常重要。例如，其结到环境的热阻（RaJA）为46°C/W，结到顶部的热阻（RaJC(top)）为43°C/W，结到电路板的热阻（RaJB）为17°C/W等。</p>
<h3>2.5 <a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>TMP464的电气特性包括温度测量精度、误差灵敏度、分辨率等。本地温度传感器在–40°C至100°C、V+ = 1.7 V至3.6 V的条件下，精度可达±0.75°C；远程温度传感器在–40°C至125°C、TD = –55°C至150°C、V+ = 1.7 V至3.6 V的条件下，精度可达±1°C。此外，它还具备低功耗、高分辨率等特点，如温度分辨率为0.0625°C，<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>转换时间为16 - 17 ms等。</p>
<h3>2.6 两线时序要求</h3>
<p>TMP464的两线接口（I2C或SMBus）有特定的时序要求，包括SCL的工作频率、总线空闲时间、数据传输时间等。在设计电路时，需要确保满足这些时序要求，以保证通信的稳定性。</p>
<h3>2.7 典型特性</h3>
<p>通过典型特性曲线可以直观地了解TMP464在不同条件下的性能表现。例如，本地温度误差与环境温度的关系、远程温度误差与电源灵敏度的关系等。这些特性曲线有助于<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在实际应用中评估设备的性能，并进行相应的优化。</p>
<h2>三、TMP464的功能描述</h2>
<h3>3.1 温度测量数据</h3>
<p>TMP464的本地和远程温度传感器分辨率为13位（0.0625°C），温度数据以二进制形式表示，负数采用补码格式。测量结果存储在相应的寄存器中，方便读取和处理。</p>
<h3>3.2 串联电阻消除</h3>
<p>该功能可以自动消除由于布线电阻或外部低通<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>电阻引起的温度误差，最多可消除1 kΩ的串联电阻，无需额外的表征和温度偏移校正。</p>
<h3>3.3 差分输入<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a></h3>
<p>TMP464能够承受高达1000 pF的差分输入电容，且温度误差变化极小，提高了设备的抗干扰能力。</p>
<h3>3.4 <a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>故障检测</h3>
<p>TMP464可以检测D+引脚的故障，如二极管连接错误、开路等情况。当检测到故障时，会在远程通道状态寄存器中设置相应的标志位。</p>
<h3>3.5 THERM功能</h3>
<p>TMP464的THERM和THERM2引脚用于发出过温事件<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。通过设置温度限制寄存器，可以根据需要触发相应的中断，同时还可以设置滞后值，避免在阈值附近频繁切换。</p>
<h2>四、TMP464的编程与操作</h2>
<h3>4.1 串行接口</h3>
<p>TMP464作为两线总线上的从设备，通过SDA和SCL引脚与主设备进行通信。它支持快速（1 kHz至400 kHz）和高速（1 kHz至2.56 MHz）模式，所有数据字节按MSB优先传输。在设备未上电时，总线通信不受影响；上电过程中，也不会对总线造成负载。</p>
<h3>4.2 总线操作</h3>
<p>在I2C或SMBus协议中，主设备发起传输，通过发送起始条件、设备地址和读写命令来与TMP464进行通信。TMP464会根据命令进行相应的操作，并在适当的时候返回应答信号。</p>
<h3>4.3 寄存器操作</h3>
<p>TMP464包含多个寄存器，用于存储配置信息、温度测量结果和状态信息。通过对这些寄存器的读写操作，可以实现对设备的配置和控制。例如，通过设置配置寄存器可以控制转换速率、启动单次转换、启用或禁用温度通道等；通过读取状态寄存器可以获取温度状态和故障信息。</p>
<h3>4.4 锁定寄存器</h3>
<p>为了防止软件错误导致寄存器值被意外修改，TMP464提供了锁定寄存器功能。通过设置锁定寄存器的值，可以将配置和限制寄存器锁定，只有在解锁后才能进行写入操作。</p>
<h2>五、TMP464的应用与实现</h2>
<h3>5.1 应用信息</h3>
<p>在使用TMP464进行远程温度测量时，需要在D+和D–引脚之间连接一个<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>。如果不使用远程通道，只需将D+引脚连接到D–引脚，仅测量本地温度。同时，SDA、ALERT和THERM引脚（以及SCL引脚，若由开漏输出驱动）需要连接上拉电阻，以确保通信的正常进行。此外，建议使用0.1-µF的电源去耦电容进行本地旁路。</p>
<h3>5.2 典型应用</h3>
<p>TMP464可以与离散晶体管或集成在处理器芯片、FPGA和ASIC中的衬底晶体管配合使用。在选择晶体管时，需要考虑其基极 - 发射极电压、基极电阻和hFE等参数，以确保测量精度。例如，<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>推荐使用MMBT3904（NPN）或MMBT3906（PNP）晶体管。</p>
<h3>5.3 设计要求</h3>
<p>在设计电路时，需要注意以下几点：</p>
<ul>
<li><strong>布局优化</strong>：将TMP464尽可能靠近远程结传感器，减少信号干扰。</li>
<li><strong>布线屏蔽</strong>：将D+和D–走线相邻布置，并使用接地保护走线进行屏蔽，避免外部噪声的影响。</li>
<li><strong>减少热偶效应</strong>：尽量减少铜 - 焊料连接产生的热偶结，确保D+和D–连接中的热偶结数量和位置相同，以消除热偶效应。</li>
<li><strong>电容控制</strong>：使用0.1-µF的本地旁路电容，并将D+和D–之间的滤波电容控制在1000 pF以下。</li>
<li><strong>连接方式</strong>：根据连接长度选择合适的连接方式，如小于8英寸时使用双绞线，大于8英寸时使用屏蔽双绞线，并将屏蔽层接地。</li>
<li><strong>清洁处理</strong>：彻底清洁TMP464引脚周围的助焊剂残留，避免因泄漏路径导致温度偏移读数。</li>
</ul>
<h2>六、总结</h2>
<p>TMP464作为一款高性能的温度传感器，具有高精度、低功耗、多通道监测等优点，适用于多种应用场景。在使用TMP464时，需要充分了解其规格参数、功能特性和应用要求，合理进行<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>和编程配置，以确保设备的正常运行和准确测量。同时，注意布局和布线的优化，减少噪声干扰，提高系统的稳定性和可靠性。希望通过本文的介绍，能帮助<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>更好地理解和应用TMP464，为电子设备的温度监测提供更有效的解决方案。你在使用TMP464的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[DRV5032：超低压数字开关霍尔效应传感器的全面解析]]></title>    <link>https://www.elecfans.com/d/7656181.html</link>    <guid>https://www.elecfans.com/d/7656181.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656181" value="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNZyyAMGhBAB13Yy3GpFM248.pdf"/><h1>DRV5032：超低压数字开关霍尔效应<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>的全面解析</h1>
<p>在电子设备小型化和低功耗需求日益增长的今天，超低压数字开关霍尔效应传感器成为了众多<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>关注的焦点。<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的DRV5032就是这样一款具有卓越性能的传感器，它为紧凑型和对电池敏感的系统提供了理想的解决方案。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656181" target="_blank">drv5032.pdf</a></p>
<h2>一、DRV5032的核心特性</h2>
<h3>超低功耗</h3>
<p>DRV5032在功耗方面表现出色，不同采样率版本的平均<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>消耗极低。5Hz版本仅为0.54µA，20Hz版本为1.3µA，80Hz版本为5.2µA。这种超低功耗特性使得它在电池供电的设备中具有显著优势，能够大大延长设备的续航时间。例如，在一些需要长期运行的<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>设备中，低功耗可以减少电池更换的频率，提高设备的可靠性和稳定性。</p>
<h3>宽工作电压范围</h3>
<p>该传感器的工作电压范围为1.65V至5.5V，这使得它可以适应多种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境。无论是使用单节电池供电的小型设备，还是需要更高电压的系统，DRV5032都能稳定工作。这种宽电压范围的设计增加了传感器的通用性和适用性。</p>
<h3>多种磁阈值选项</h3>
<p>DRV5032提供了多种磁阈值选项，不同版本的最大 (B_{OP}) 有所不同。例如，DG版本为3.4mT，DU版本为3.9mT，FA、FB、FC、FD版本为4.8mT，AJ版本为9.5mT，ZE版本为63mT。工程师可以根据具体应用场景选择合适的磁阈值，以满足不同的检测需求。较低的磁阈值可以检测到更远距离的磁铁，而较高的磁阈值则需要更近的距离或更大的磁铁才能触发。</p>
<h3>多种输出和封装选项</h3>
<p>它具有全极和单极两种磁响应类型，以及开漏和推挽两种输出选项。同时，还提供了SOT - 23、X2SON和TO - 92等多种封装形式。这些多样化的选择使得DRV5032能够适应不同的应用需求和电路板布局。例如，推挽输出可以实现最低的系统功耗，而开漏输出则可以将多个设备的输出连接在一起，实现逻辑与的功能。</p>
<h2>二、应用领域广泛</h2>
<h3>电池关键位置传感</h3>
<p>在一些对电池寿命要求极高的设备中，如无线传感器节点、智能手表等，DRV5032的超低功耗特性使其成为理想的位置传感解决方案。它可以准确检测物体的位置变化，同时消耗极少的电量，从而延长设备的使用时间。</p>
<h3>电表防篡改检测</h3>
<p>在电表中，DRV5032可以用于检测是否有人试图篡改电表。通过检测磁场的变化，它可以及时发现异常情况，并发出警报。这种应用对于保障<a href="https://www.elecfans.com/v/tag/4675/" target="_blank"><u>电力系统</u></a>的安全和稳定运行具有重要意义。</p>
<h3><a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>设备</h3>
<p>在<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、笔记本<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>和平板电脑等设备的保护套中，DRV5032可以用于检测保护套的开合状态。当保护套关闭时，传感器检测到磁场变化，设备可以自动进入睡眠模式，从而节省电量。</p>
<h3>其他应用</h3>
<p>此外，DRV5032还广泛应用于电子锁、烟雾<a href="https://m.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>、家电、医疗设备和物联网系统等领域。在这些应用中，它可以实现非接触式的检测和控制，提高设备的可靠性和智能化程度。</p>
<h2>三、<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>与特性分析</h2>
<h3>工作原理</h3>
<p>DRV5032集成了霍尔效应元件、<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>调理和低频<a href="https://m.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>，通过内部振荡器周期性地测量磁通量密度，并更新输出。当施加的磁通量密度超过 (B<em>{OP}) 阈值时，设备输出低电压；当磁通量密度降低到小于 (B</em>{RP}) 时，输出根据设备版本驱动高电压或变为高阻抗。</p>
<h3><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>和磁特性</h3>
<p>在电气特性方面，不同版本的DRV5032在不同的电源电压下具有不同的采样频率、采样周期和平均电流消耗。例如，DG版本的采样频率为40 - 120Hz，而FB版本的采样频率为3.5 - 8.5Hz。在磁特性方面，不同版本的磁阈值操作点 (B<em>{OP}) 和释放点 (B</em>{RP}) 也有所不同。了解这些特性对于工程师正确选择和使用DRV5032至关重要。</p>
<h3>典型特性曲线</h3>
<p>文档中给出了多个典型特性曲线，如不同版本的平均供电电流与温度的关系曲线、磁阈值操作点和释放点与温度和电源电压的关系曲线等。这些曲线可以帮助工程师更好地了解DRV5032在不同工作条件下的性能，从而进行合理的设计和优化。</p>
<h2>四、应用设计要点</h2>
<h3>输出类型权衡</h3>
<p>推挽输出在系统功耗方面具有优势，因为在输出高或低电平时没有电流泄漏路径。而开漏输出在多个设备输出连接在一起时可以实现逻辑与的功能，但在输出低电平时会有通过外部上拉<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>的泄漏路径。工程师需要根据具体应用需求权衡选择合适的输出类型。</p>
<h3>磁体和传感器设计</h3>
<p>在设计数字开关磁传感系统时，需要考虑磁体、传感距离和传感器阈值三个变量。为了可靠地激活传感器，磁体施加的磁通量密度必须大于最大指定的 (B<em>{OP}) ；当磁体远离传感器时，磁体施加的磁通量密度必须小于最小指定的 (B</em>{RP}) 才能可靠释放传感器。同时，还需要考虑磁体的材料特性，如剩磁 (B<em>{r}) 和矫顽力 (H</em>{c}) 等，以及温度对磁体性能的影响。</p>
<h3>布局和电源建议</h3>
<p>在布局方面，由于磁场可以轻松穿过大多数非铁磁材料，因此可以将霍尔效应传感器嵌入塑料或铝制外壳中，将传感磁体放置在外部。同时，为了减少电感，需要在设备附近使用去耦<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，建议使用至少0.1µF的陶瓷电容。</p>
<h2>五、总结</h2>
<p>DRV5032作为一款超低压数字开关霍尔效应传感器，具有超低功耗、宽工作电压范围、多种磁阈值和输出选项等优点，适用于多种应用领域。工程师在使用DRV5032时，需要充分了解其特性和工作原理，根据具体应用需求进行合理的设计和优化。同时，还需要注意输出类型的权衡、磁体和传感器的设计以及布局和电源等方面的问题，以确保系统的性能和可靠性。你在使用DRV5032的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[TMP116：高精度、低功耗数字温度传感器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7656182.html</link>    <guid>https://www.elecfans.com/d/7656182.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656182" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZyyAWE_zAAvKWWtO44s286.pdf"/><h1>TMP116：<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、低功耗数字<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>的卓越之选</h1>
<p>在电子设备设计中，温度传感器是一个不可或缺的组件，它能够实时监测设备的温度变化，确保设备在安全的温度范围内运行。今天，我们就来深入了解一下<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的TMP116高精度、低功耗数字温度传感器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656182" target="_blank">tmp116.pdf</a></p>
<h2>1. 产品概述</h2>
<p>TMP116家族（包括TMP116和TMP116N）是一系列集成了EEP<a href="https://www.elecfans.com/tags/rom/" target="_blank"><u>ROM</u></a>内存的低功耗、高精度温度<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>。该传感器提供16位温度结果，分辨率高达0.0078°C，无需校准即可实现高达±0.2°C的精度。它兼容I²C和SMBus<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，具有可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>的警报功能，并且在单总线上最多支持四个设备。</p>
<h2>2. 产品特性</h2>
<h3>2.1 高精度测量</h3>
<ul>
<li><strong>TMP116</strong>：在 -10°C至 +85°C 范围内，最大误差为 ±0.2°C；在 -40°C至 +105°C 范围内，最大误差为 ±0.25°C；在 +105°C至 +125°C 范围内，最大误差为 ±0.3°C。</li>
<li><strong>TMP116N</strong>：在 -25°C至 +85°C 范围内，最大误差为 ±0.3°C；在 -40°C至 +125°C 范围内，最大误差为 ±0.4°C。</li>
</ul>
<h3>2.2 低功耗设计</h3>
<ul>
<li><strong>静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>低</strong>：在1Hz转换周期下，仅消耗3.5μA电流；关机电流低至250nA。</li>
<li><strong>宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围</strong>：支持1.9V至5.5V的电源电压，适用于各种应用场景。</li>
</ul>
<h3>2.3 可编程功能</h3>
<ul>
<li><strong>温度警报限制</strong>：用户可以根据需要设置温度警报的上下限，当温度超过或低于设定值时，传感器会发出警报<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。</li>
<li><strong>可选平均功能</strong>：通过配置AVG[1:0]位，可以选择对多个温度转换结果进行平均，从而减少噪声干扰，提高测量的稳定性。</li>
<li><strong>通用EEPROM</strong>：提供64位的通用EEPROM，可用于存储配置<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>和警报寄存器的复位值，以及用户自定义的数据。</li>
</ul>
<h3>2.4 接口兼容性</h3>
<p>支持SMBus和I²C接口，方便与其他设备进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。接口的SCL操作频率范围为1kHz至400kHz，满足不同应用的通信需求。</p>
<h2>3. 应用领域</h2>
<h3>3.1 医疗领域</h3>
<p>满足ASTM和ISO标准，可用于医疗设备的温度监测，确保医疗设备的安全性和可靠性。</p>
<h3>3.2 <a href="https://www.elecfans.com/v/tag/1453/" target="_blank"><u>环境监测</u></a></h3>
<p>可用于环境温度监测和恒温器控制，为室内环境提供精确的温度数据。</p>
<h3>3.3 可穿戴设备</h3>
<p>低功耗的特点使其非常适合用于可穿戴设备，如智能手表、健身追踪器等，为用户提供舒适的使用体验。</p>
<h3>3.4 资产追踪和冷链物流</h3>
<p>在资产追踪和冷链物流中，TMP116可以实时监测货物的温度，确保货物在运输过程中的质量安全。</p>
<h3>3.5 测试和测量</h3>
<p>高精度的测量能力使其成为测试和测量设备的理想选择，可用于实验室、工业生产等领域。</p>
<h2>4. 工作模式</h2>
<h3>4.1 温度转换模式</h3>
<ul>
<li><strong>连续转换模式（CC）</strong>：设备连续进行温度转换，并在每个转换或平均周期结束时更新温度结果寄存器。通过配置CONV和AVG位，可以调整转换周期和平均次数，以满足不同的应用需求。</li>
<li><strong>关机模式（<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>）</strong>：当向配置寄存器的MOD位写入01时，设备立即中止当前正在运行的转换，进入低功耗关机模式，此时设备仅消耗250nA的电流。</li>
<li><strong>单次转换模式（OS）</strong>：在关机模式下，向MOD位写入11可以触发单次转换。转换完成后，设备返回低功耗关机模式。</li>
</ul>
<h3>4.2 温度警报模式</h3>
<ul>
<li><strong>警报模式</strong>：当配置寄存器的T/nA位设置为0时，设备处于警报模式。在该模式下，设备会将每次转换的温度结果与高、低限寄存器中的值进行比较，当温度超过高限或低于低限时，相应的警报状态标志会被设置，并通过ALERT引脚发出警报信号。</li>
<li><strong>热模式</strong>：当T/nA位设置为1时，设备处于热模式。在该模式下，只有当温度超过高限时，HIGH_Alert状态标志才会被设置；当温度低于低限时，该标志会被清除。</li>
</ul>
<h2>5. 编程与配置</h2>
<h3>5.1 EEPROM编程</h3>
<p>TMP116的EEPROM默认是锁定的，以防止意外编程。要对EEPROM进行编程，首先需要设置EEPROM解锁寄存器中的EUN位来解锁EEPROM。解锁后，后续的I²C写入操作将对EEPROM中的相应非易失性存储位置进行编程。编程完成后，需要发出通用调用复位命令来触发软件复位，将编程数据从EEPROM加载到相应的寄存器映射位置。</p>
<h3>5.2 寄存器映射</h3>
<p>TMP116的寄存器映射包括温度寄存器、配置寄存器、高限寄存器、低限寄存器、EEPROM解锁寄存器、EEPROM寄存器和设备ID寄存器等。通过对这些寄存器的读写操作，可以实现对传感器的配置和控制。</p>
<h2>6. 应用设计要点</h2>
<h3>6.1 典型应用电路</h3>
<p>在典型应用中，TMP116作为从设备通过I²C兼容的串行接口与主机进行通信。SCL为输入引脚，SDA为双向引脚，ALERT为输出引脚。SCL、SDA和ALERT引脚需要连接上拉<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，推荐值为5kΩ。同时，建议在V+和GND之间连接一个0.1μF的旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，以减少电源噪声的影响。</p>
<h3>6.2 噪声和平均处理</h3>
<p>在实际应用中，传感器的温度采样分布（无内部平均）大约覆盖六个相邻代码的区域。通过使用8、32或64次采样的平均功能，可以有效减少内部噪声分布。如果系统温度变化缓慢且电源电压稳定，8次采样的平均就可以满足需求；如果系统温度存在噪声或通信频繁，则建议使用更高的平均次数。</p>
<h3>6.3 自热效应（SHE）</h3>
<p>在<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>转换过程中，TMP116会消耗一定的功率，从而产生自热效应。为了减少自热效应的影响，可以采取以下措施：</p>
<ul>
<li>进行系统校准，以消除自热误差和电源抑制比（PSRR）效应。</li>
<li>尽量使用单次转换模式，或者在连续转换模式下增加待机时间。</li>
<li>使用最低可接受的电源电压。</li>
<li>优化<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局，降低设备的热阻。</li>
<li>避免使用小阻值的上拉电阻，选择大于2kΩ的上拉电阻。</li>
<li>确保SCL和SDA信号电平保持在设备电源电压的10%至90%之间，减少数据线上的旁路流量。</li>
<li>使用最高可用的通信速度。</li>
</ul>
<h3>6.4 同步温度测量</h3>
<p>当需要同时在四个不同位置进行温度测量时，可以采用复位触发的方法。将四个设备的控制寄存器设置为CC模式，转换周期时间为16s，并将它们连接到同一双线总线上，使用不同的总线地址。主机发出总线通用调用复位命令，触发所有设备同时进行温度采样，主机有16秒的时间从设备中读取数据。</p>
<h2>7. 电源与布局建议</h2>
<h3>7.1 电源供应</h3>
<p>TMP116的电源供应范围为1.9V至5.5V，推荐使用3.3V的电源。为了减少电源噪声，需要在设备附近放置一个100nF的电源旁路电容。对于噪声较大或高阻抗的电源，可能需要额外的去耦电容。此外，可以在V+引脚应用一个RC<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，进一步降低传感器可能传播到其他组件的噪声，但要注意确保V+引脚的电压不低于1.9V。</p>
<h3>7.2 布局设计</h3>
<ul>
<li><strong>刚性PCB</strong>：为了获得高精度的温度读数，建议不要焊接热焊盘。</li>
<li><strong>柔性PCB</strong>：可以焊接热焊盘以提高板级可靠性，但焊接后热焊盘应连接到地或保持浮动。</li>
<li><strong>电源旁路电容</strong>：应尽可能靠近电源和接地引脚放置，推荐值为0.1μF。</li>
<li><strong>上拉电阻</strong>：由于上拉电阻可能成为热源，应与设备保持一定距离。</li>
<li><strong>PCB布局</strong>：应尽量减少设备的自热效应，降低温度变化的时间延迟，并减小设备与被测对象之间的温度偏移。</li>
</ul>
<h2>8. 总结</h2>
<p>TMP116作为一款高精度、低功耗的数字温度传感器，具有出色的性能和丰富的功能。它在医疗、环境监测、可穿戴设备等多个领域都有广泛的应用前景。在设计过程中，我们需要充分考虑传感器的特性和应用需求，合理进行编程配置和布局设计，以确保传感器能够发挥最佳性能。你在使用温度传感器的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[PGA460超声波信号处理器与换能器驱动器的深度解析]]></title>    <link>https://www.elecfans.com/d/7656183.html</link>    <guid>https://www.elecfans.com/d/7656183.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656183" value="https://file1.elecfans.com/web3/M00/4B/B8/wKgZPGmNZyyAMonBACNG9SIN9o8573.pdf"/><h1>PGA460超声波<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a><a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>与换能器<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>的深度解析</h1>
<p>在电子工程领域，超声波<a href="https://bbs.elecfans.com/zhuti_control_1.html" target="_blank"><u>传感技术</u></a>凭借其<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、非接触式检测等优势，在众多应用场景中得到了广泛应用。而<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>公司的PGA460超声波信号处理器与换能器驱动器，无疑是该领域的一款明星产品。今天，我们就来深入探讨一下这款产品的特性、应用及设计要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656183" target="_blank">pga460.pdf</a></p>
<h2>一、产品特性剖析</h2>
<h3>（一）高度集成解决方案</h3>
<p>PGA460是一款高度集成的片上系统，集超声波换能器驱动与信号调理功能于一体，还配备了先进的<a href="https://www.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>核心。它拥有互补的低侧驱动器对，支持基于变压器和直接驱动两种拓扑结构，可灵活驱动换能器。这种集成设计不仅减少了外部元件的使用，还提高了系统的可靠性和稳定性。</p>
<h3>（二）灵活的驱动模式</h3>
<h4>1. 变压器驱动</h4>
<p>通过<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>抽头变压器，可在超声波换能器两端产生大的激励电压，从而实现所需的声压级。在这种模式下，可通过配置不同参数来控制突发频率、变压器初级<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>限制和突发脉冲数，以适应不同的换能器需求。</p>
<h4>2. 直接驱动</h4>
<p>互补的低侧驱动器可与外部PMOS FET配合使用，为换能器提供单端直接激励。通过禁用电流限制功能并配置死区时间，可消除外部PMOS FET和内部低侧FET之间的直通电流。</p>
<h3>（三）高性能接收处理</h3>
<p><a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>前端（<a href="https://www.elecfans.com/tags/afe/" target="_blank"><u>AFE</u></a>）采用低噪声<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>和可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>时变增益放大器，能够有效放大不同距离物体反射的回波信号，充分利用<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>的最大动态范围，实现近场和远场物体的准确检测。同时，内置的<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>可对信号调理进行温度补偿，确保在不同环境温度下的性能稳定。</p>
<h3>（四）丰富的功能特性</h3>
<h4>1. 多回波测量</h4>
<p>具备多个<a href="https://www.elecfans.com/tags/定时器/" target="_blank"><u>定时器</u></a>，可精确测量多个回波的距离和持续时间，为复杂环境下的物体检测提供更详细的信息。</p>
<h4>2. 时间变化阈值</h4>
<p>提供两组12点的时变阈值预设，可根据实际应用场景灵活配置，提高物体检测的准确性。</p>
<h4>3. 系统诊断</h4>
<p>内置系统诊断功能，可监测换能器电压、频率和衰减时间等参数，及时发现系统故障，确保系统的正常运行。</p>
<h4>4. 多种<a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a></h4>
<p>支持一线<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>时间命令<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>、USART异步接口和CMOS电平USART接口，方便与外部<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>，满足不同的应用需求。</p>
<h2>二、应用领域探讨</h2>
<p>PGA460的应用场景十分广泛，以下是几个典型的应用案例。</p>
<h3>（一）超声波雷达</h3>
<p>在汽车、<a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>和<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>等领域，超声波雷达可用于物体距离和位置的传感、存在和接近检测以及着陆辅助和障碍物检测等功能。PGA460的高性能处理能力和精确的物体检测功能，能够为这些应用提供可靠的支持。</p>
<h3>（二） occupancy和运动<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a></h3>
<p>在<a href="https://www.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>、安防等领域，occupancy和运动传感器可用于检测人员的存在和运动情况。PGA460的低功耗特性和高灵敏度检测能力，使其成为这类应用的理想选择。</p>
<h2>三、设计要点与注意事项</h2>
<h3>（一）换能器选择</h3>
<p>在设计过程中，选择合适的换能器至关重要。需要考虑换能器的谐振频率、输入电压要求、灵敏度、波束模式和衰减时间等因素，并根据实际应用需求进行选择。同时，要确保外部变压器或p通道<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>能够满足换能器的输入电压要求，且饱和电流额定值不低于PGA460配置的驱动电流限制。</p>
<h3>（二）<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计</h3>
<p>PGA460的输入电压范围为6V至28V，若输入电源与器件距离较远，可能需要额外的大容量<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>。在变压器驱动模式下，VPWR引脚的<a href="https://m.hqchip.com/app/1139" target="_blank"><u>电解电容</u></a>可作为快速放电电容；而在直接驱动模式下，虽不需要电解电容，但建议使用以保证参考电压的稳定性。</p>
<h3>（三）布局设计</h3>
<p>合理的布局设计对于减少噪声干扰、提高系统性能至关重要。在布局时，应将模拟和<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>分层处理，分离不同类型的接地，确保模拟返回路径引脚（INP和INN）的布线短而直接，并将去耦电容尽量靠近相关引脚。同时，数字通信线路应远离模拟接收引脚。</p>
<h2>四、总结</h2>
<p>PGA460作为一款高性能的超声波信号处理器与换能器驱动器，凭借其高度集成的设计、灵活的驱动模式、高性能的接收处理能力和丰富的功能特性，在超声波传感领域具有广泛的应用前景。在实际设计过程中，我们需要根据具体应用需求，合理选择换能器、优化电源设计和布局设计，以充分发挥PGA460的性能优势。</p>
<p>大家在使用PGA460进行设计时，是否遇到过一些独特的问题呢？或者对于超声波传感技术，你还有哪些方面想要深入了解？欢迎在评论区留言交流。 </p>]]></description></item><item>    <title><![CDATA[TMP100-Q1和TMP101-Q1温度传感器：功能与应用指南]]></title>    <link>https://www.elecfans.com/d/7656184.html</link>    <guid>https://www.elecfans.com/d/7656184.html</guid>    <pubDate>2026-02-12 13:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656184" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZO2mNZy2Ae2BLABEqxW398sA320.pdf"/><h1>TMP100-Q1和TMP101-Q1<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>：功能与应用指南</h1>
<p>在电子设备的设计中，精确的温度测量是确保设备性能和稳定性的关键因素之一。今天我们要介绍的TMP100-Q1和TMP101-Q1温度传感器，凭借其出色的性能和丰富的功能，在众多应用场景中发挥着重要作用。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656184" target="_blank">tmp100-q1.pdf</a></p>
<h2>技术亮点</h2>
<h3>1. 严格<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>与可靠性能</h3>
<p>TMP100-Q1和TMP101-Q1通过了AEC-Q100认证，这意味着它们能够在-55°C到+125°C的宽温度范围内稳定工作。同时，它们还拥有出色的<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>防护能力，HBM ESD组件分类等级为2，CDM ESD组件分类等级为C5，为设备的稳定性提供了可靠保障。</p>
<h3>2. 数字输出与<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>兼容性</h3>
<p>这两款<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>采用数字输出，支持SMBus、两线和<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>接口，方便与各种<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>和系统集成。用户可以根据实际需求选择9到12位的分辨率，灵活满足不同的测量精度要求。</p>
<h3>3. <a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>与低功耗</h3>
<p>在-55°C到125°C的范围内，传感器的典型精度可达±1°C，最大精度为±2°C，无需校准或外部组件<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>调理即可实现高精度测量。此外，它们的静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>低至45μA，待机电流仅0.1μA，非常适合对功耗要求较高的应用场景。</p>
<h3>4. 宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围与地址配置</h3>
<p>传感器的供电范围为2.7V到5.5V，适应多种电源环境。TMP100-Q1具有两个地址引脚，允许在一个总线上连接多达八个设备；TMP101-Q1具有一个地址引脚和一个ALERT引脚，每个总线最多可连接三个设备，方便实现多传感器组网。</p>
<h2>功能详解</h2>
<h3>1. 数字温度输出</h3>
<p>每次温度测量转换的数字输出都存储在只读温度<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>中。该寄存器为12位，用户可以通过设置配置寄存器来获得9、10、11或12位的分辨率。</p>
<h3>2. 串行接口与总线操作</h3>
<p>传感器仅作为目标设备在SMBus、两线和I2C总线上工作，数据传输支持快速（高达400 kHz）和高速（高达2 MHz）模式。通过START和STOP条件来控制数据传输的开始和结束，数据字节按MSB优先顺序传输。</p>
<h3>3. 总线地址与读写操作</h3>
<p><a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>通过目标地址字节来寻址传感器，TMP100-Q1和TMP101-Q1的地址引脚状态决定了其目标地址。访问特定寄存器时，需要先向指针寄存器写入相应的值，然后根据读写操作的不同进行数据传输。</p>
<h3>4. 功能模式</h3>
<ul>
<li><strong>关机模式（<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>）</strong>：当SD位为1时，设备进入关机模式，除串行接口外的所有电路关闭，电流消耗降至1μA以下。</li>
<li><strong>单次温度测量模式（OS/ALERT）</strong>：在关机模式下，向OS/ALERT位写入1可启动单次温度转换，转换完成后设备返回关机状态。</li>
<li><strong>恒温器模式（TM）</strong>：TMP101-Q1的TM位决定设备是工作在<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>模式（TM = 0）还是中断模式（TM = 1）。在比较器模式下，ALERT引脚在温度达到或超过(T<em>{HIGH})时激活，直到温度低于(T</em>{LOW})才失活；在中断模式下，ALERT引脚在温度超过(T<em>{HIGH})或低于(T</em>{LOW})时激活，主机控制器读取温度寄存器后清除。</li>
</ul>
<h2>应用领域</h2>
<h3>1. <a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a></h3>
<p>在电源供应系统中，精确的温度监测可以帮助及时发现过热问题，确保电源的稳定性和安全性。TMP100-Q1和TMP101-Q1可以实时监测电源的温度，当温度超过设定阈值时，发出警报信号，以便采取相应的措施。</p>
<h3>2. <a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a></h3>
<p>电池在充放电过程中会产生热量，过高的温度会影响电池的寿命和性能。通过在电池管理系统中使用这两款传感器，可以实时监测电池的温度，优化充电策略，避免过充和过热现象的发生，延长电池的使用寿命。</p>
<h3>3. <a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a></h3>
<p>在汽车电子系统中，如头单元、仪表盘、车身电子和照明系统等，对温度的稳定性要求较高。TMP100-Q1和TMP101-Q1可以在汽车的恶劣环境下稳定工作，为汽车电子系统提供准确的温度测量，确保系统的正常运行。</p>
<h2>设计建议</h2>
<h3>1. 电源供电</h3>
<p>传感器的电源范围为2.7V到5.5V，为了保证稳定性，建议在电源和地之间连接一个0.01μF的旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>。对于噪声较大或阻抗较高的电源，可能需要额外的去耦电容来抑制电源噪声。</p>
<h3>2. 布局设计</h3>
<ul>
<li><strong>旁路电容</strong>：将电源旁路电容尽可能靠近传感器的电源和地引脚，以减少电源噪声的影响。</li>
<li><strong>上拉<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a></strong>：SCL、SDA和ALERT（TMP101-Q1）引脚需要连接上拉电阻，推荐阻值为5kΩ。上拉电阻的选择应确保SCL和SDA引脚的电流不超过3mA，ALERT引脚的电流不超过4mA。</li>
<li><strong>热<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a></strong>：将传感器放置在靠近热源的位置，并采用良好的布局来实现热耦合。对于需要测量空气或表面温度的应用，应注意隔离封装和引脚与环境温度的影响，可以使用导热胶来提高表面温度测量的准确性。</li>
</ul>
<h2>总结</h2>
<p>TMP100-Q1和TMP101-Q1温度传感器以其高精度、低功耗、宽电源范围和丰富的功能，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在温度测量和控制方面提供了优秀的解决方案。无论是在电源管理、电池管理还是汽车电子等领域，这两款传感器都能发挥重要作用。在实际设计中，遵循设计建议和布局指南，可以确保传感器的性能得到充分发挥。你在使用类似温度传感器时，遇到过哪些问题呢？欢迎在评论区分享。</p>]]></description></item><item>    <title><![CDATA[TMP708-Q1：汽车级电阻可编程温度开关的深度解析]]></title>    <link>https://www.elecfans.com/d/7656199.html</link>    <guid>https://www.elecfans.com/d/7656199.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656199" value="https://file1.elecfans.com/web3/M00/4B/BA/wKgZO2mNaNeATdEmAA7_zs8Th3g263.pdf"/><h1>TMP708-Q1：汽车级<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>温度开关的深度解析</h1>
<p>在电子设计领域，温度监测与控制是一个至关重要的环节。今天，我们就来深入了解一款优秀的温度开关——TMP708-Q1，它在汽车、工业等多个领域都有着广泛的应用。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656199" target="_blank">tmp708-q1.pdf</a></p>
<h2>一、TMP708-Q1简介</h2>
<p>TMP708-Q1是一款完全集成的电阻可编程温度开关，采用SOT封装。它的温度阈值可通过一个外部电阻在整个工作范围内进行设置，具有诸多出色的特性，适用于多种应用场景。</p>
<h2>二、主要特性</h2>
<h3>2.1 汽车应用资质</h3>
<p>TMP708-Q1通过了AEC-Q100<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>，器件温度等级为1级，可在 -40°C 至 125°C 的环境温度范围内工作。同时，它具有较高的<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>防护能力，HBM ESD分类等级为3A，CDM ESD分类等级为C6，能有效应对汽车环境中的静电干扰。</p>
<h3>2.2 <a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>阈值</h3>
<p>温度阈值精度典型值为 ±0.5°C，在60°C 至 100°C 范围内最大误差为 ±3.5°C。通过1%的外部电阻即可设置温度阈值，操作简单且精度较高。</p>
<h3>2.3 低静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></h3>
<p>典型静态电流仅为40 μA，这使得它在功耗方面表现出色，适合对功耗要求较高的应用场景。</p>
<h3>2.4 输出特性</h3>
<p>采用开漏、低电平有效输出级，便于与<a href="https://www.hqchip.com/app/1382" target="_blank"><u>微处理器</u></a>等设备进行<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>连接。</p>
<h3>2.5 可选滞后</h3>
<p>通过引脚可选择10°C 或 30°C 的滞后，能有效避免温度在阈值附近波动时输出的频繁切换。</p>
<h3>2.6 宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围</h3>
<p>电源范围为2.7 V 至 5.5 V，可适应多种电源环境。</p>
<h3>2.7 封装形式</h3>
<p>采用5引脚SOT-23封装，体积小巧，便于在电路板上布局。</p>
<h2>三、应用领域</h2>
<p>TMP708-Q1的应用范围十分广泛，包括但不限于以下领域：</p>
<ul>
<li><strong>计算机</strong>：如笔记本<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>和台式机，可用于监测<a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a>等关键部件的温度，确保系统稳定运行。</li>
<li><strong>服务器</strong>：对服务器内部的温度进行实时监测和控制，防止过热导致硬件损坏。</li>
<li><strong>工业和医疗设备</strong>：在<a href="https://m.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>和医疗设备中，精确的温度控制至关重要，TMP708-Q1能满足这些设备对温度监测的需求。</li>
<li><strong>存储区域网络</strong>：保障存储设备的稳定运行，避免因温度过高影响数据存储和传输。</li>
<li><strong>汽车</strong>：在<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>系统中，可用于发动机、电池等部件的温度监测。</li>
</ul>
<h2>四、详细规格</h2>
<h3>4.1 绝对最大额定值</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>最小值</th>
<th>最大值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>电源电压 (V_{CC})</td>
<td>-0.3</td>
<td>6</td>
<td>V</td>
</tr>
<tr>
<td>输入电压（SET和HYST）</td>
<td>-0.3</td>
<td>(V_{CC}) + 0.3</td>
<td>V</td>
</tr>
<tr>
<td>输出电压（OT）</td>
<td>-0.3</td>
<td>6</td>
<td>V</td>
</tr>
<tr>
<td>输入电流</td>
<td>-</td>
<td>20</td>
<td>mA</td>
</tr>
<tr>
<td>输出电流</td>
<td>-</td>
<td>20</td>
<td>mA</td>
</tr>
<tr>
<td>工作温度 (T_{A})</td>
<td>-40</td>
<td>125</td>
<td>°C</td>
</tr>
<tr>
<td>结温 (T_{J})</td>
<td>-</td>
<td>150</td>
<td>°C</td>
</tr>
<tr>
<td>存储温度 (T_{stg})</td>
<td>-65</td>
<td>150</td>
<td>°C</td>
</tr>
</tbody>
</table>
<h3>4.2 ESD 评级</h3>
<ul>
<li>人体模型（HBM）：±4000 V</li>
<li>带电器件模型（CDM）：±1000 V</li>
</ul>
<h3>4.3 推荐工作条件</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>最小值</th>
<th>标称值</th>
<th>最大值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>电源电压 (V_{CC})</td>
<td>2.7</td>
<td>-</td>
<td>5.5</td>
<td>V</td>
</tr>
<tr>
<td>工作温度 (T_{A})</td>
<td>0</td>
<td>-</td>
<td>125</td>
<td>°C</td>
</tr>
</tbody>
</table>
<h3>4.4 热信息</h3>
<table>
<thead>
<tr>
<th>热指标</th>
<th>TMP708-Q1（DBV SOT-23 5引脚）</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>结到环境热阻 (R_{θJA})</td>
<td>217.9</td>
<td>°C/W</td>
</tr>
<tr>
<td>结到外壳（顶部）热阻 (R_{θJC(top)})</td>
<td>86.3</td>
<td>°C/W</td>
</tr>
<tr>
<td>结到电路板热阻 (R_{θJB})</td>
<td>44.6</td>
<td>°C/W</td>
</tr>
<tr>
<td>结到顶部表征参数 (ψ_{JT})</td>
<td>4.4</td>
<td>°C/W</td>
</tr>
<tr>
<td>结到电路板表征参数 (ψ_{JB})</td>
<td>43.8</td>
<td>°C/W</td>
</tr>
<tr>
<td>结到外壳（底部）热阻 (R_{θJC(bot)})</td>
<td>N/A</td>
<td>°C/W</td>
</tr>
</tbody>
</table>
<h3>4.5 <a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<table>
<thead>
<tr>
<th>在 (T<em>{A}=0^{circ}C) 至 125°C 和 (V</em>{CC}=2.7 V) 至 5.5 V 的条件下：</th>
<th>参数</th>
<th>测试条件</th>
<th>最小值</th>
<th>典型值</th>
<th>最大值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>电源电流 (I_{CC})</td>
<td>(V_{CC}=5 V)</td>
<td>-</td>
<td>40</td>
<td>55</td>
<td>μA</td>
</tr>
<tr>
<td>(V_{CC}=2.7 V)</td>
<td>-</td>
<td>40</td>
<td>55</td>
<td>μA</td>
</tr>
<tr>
<td>温度误差 (T_{E})</td>
<td>(T_{A}=60°C) 至 100°C</td>
<td>-</td>
<td>±0.5</td>
<td>±3.5</td>
<td>°C</td>
</tr>
<tr>
<td>数字输入（HYST）高电平输入电压 (V_{IH})</td>
<td>-</td>
<td>0.7 × (V_{CC})</td>
<td>-</td>
<td>-</td>
<td>V</td>
</tr>
<tr>
<td>低电平输入电压 (V_{IL})</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>0.3 × (V_{CC})</td>
<td>V</td>
</tr>
<tr>
<td>输入泄漏电流 (I_{lkg_in})</td>
<td>-</td>
<td>-</td>
<td>1</td>
<td>-</td>
<td>μA</td>
</tr>
<tr>
<td>输入<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a> (C_{IN})</td>
<td>-</td>
<td>-</td>
<td>10</td>
<td>-</td>
<td>pF</td>
</tr>
<tr>
<td><a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入（SET）输入电压范围 (V_{IN})</td>
<td>-</td>
<td>0</td>
<td>-</td>
<td>(V_{CC})</td>
<td>V</td>
</tr>
<tr>
<td>数字开漏输出（OT）输出灌电流 (I_{(OT_SINK)})</td>
<td>(V_{OT}=0.3 V)</td>
<td>5</td>
<td>12</td>
<td>-</td>
<td>mA</td>
</tr>
<tr>
<td>输出泄漏电流 (I_{lkg(OT)})</td>
<td>(V<em>{OT}=V</em>{CC})</td>
<td>-</td>
<td>1</td>
<td>-</td>
<td>μA</td>
</tr>
</tbody>
</table>
<h3>4.6 典型特性</h3>
<p>通过典型特性曲线，我们可以直观地了解TMP708-Q1在不同温度和电源电压下的性能表现，如电源电流与温度的关系、(R_{SET}) 与触发温度的关系、滞后与触发温度的关系以及温度误差与触发温度的关系等。</p>
<h2>五、<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<p>TMP708-Q1内部集成了两个与温度相关的电压参考源和一个<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>。一个电压参考源具有正温度系数，另一个具有负温度系数。当两个电压参考源相等时，对应的温度即为温度触发点。</p>
<h3>5.1 温度开关功能</h3>
<p>温度阈值可在0°C 至 125°C 之间通过外部1%电阻进行编程设置。当正温度系数参考源的电压超过负温度系数参考源的电压时，比较器输出从逻辑0变为逻辑1，进而驱动NFET开漏器件，使 (overline{OT}) 引脚电压从逻辑1变为逻辑0，即输出触发。触发后，滞后控制会根据HYST引脚的逻辑设置增加正温度系数参考源的电压，以防止在温度稍有下降时就解除触发，直到温度降低到设定的滞后值以下，输出才会从逻辑0变为逻辑1，即解除触发。</p>
<h3>5.2 滞后输入</h3>
<p>HYST引脚为数字输入，可设置10°C（当HYST = (V<em>{CC})）或30°C（当HYST = GND）的滞后。该功能可防止温度在阈值附近波动时 (overline{OT}) 引脚输出的振荡，因此HYST引脚应始终连接到 (V</em>{CC}) 或GND，否则可能导致异常的电源电流或器件故障。</p>
<h3>5.3 设置点电阻 (R_{SET})</h3>
<p>通过将 (R<em>{SET}) 从SET引脚连接到GND来设置温度阈值。(R</em>{SET}) 的值可通过图2或公式 (R_{SET }(k Omega)=0.0012 T^{2}-0.9308 T+96.147) 计算，其中 (T) 为温度阈值（单位：°C）。</p>
<h2>六、应用与实现</h2>
<h3>6.1 应用信息</h3>
<p>TMP708-Q1的配置非常简单，仅需一个旁路电容和上拉电阻作为外部组件。强烈建议进行电源旁路，使用一个0.1 μF的电容尽可能靠近 (V<em>{CC}) 电源引脚放置。为了最小化TMP708-Q1系列器件的内部功耗，应使用大于10 kΩ的上拉电阻从 (overline{OT}) 引脚连接到 (V</em>{CC}) 引脚。关于滞后配置可参考滞后输入部分，温度阈值配置可参考设置点电阻 (R_{SET}) 部分。</p>
<h3>6.2 典型应用示例</h3>
<p>以一个2.7 V 至 5.5 V 电源、60°C 触发点和10°C 滞后的设计为例：</p>
<ul>
<li><strong>详细设计步骤</strong>：将HYST引脚连接到 (V<em>{CC}) 以实现10°C 滞后。对于60°C 的温度阈值，通过计算得出理想的 (R</em>{SET}) 电阻值为44.619 kΩ，选择最接近的标准值电阻44.2 kΩ。使用一个10 kΩ的上拉电阻从 (overline{OT}) 引脚连接到 (V_{CC}) 引脚，为了最小化功耗，也可使用更大值的上拉电阻，但不得超过470 kΩ。在TMP708-Q1器件附近放置一个0.1 μF的旁路电容，以减少电源噪声的<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>。</li>
<li><strong>应用曲线</strong>：当HYST引脚连接到 (V<em>{CC}) 时，TMP708-Q1配置为10°C 的滞后。通过 (R</em>{SET}) 电阻值将器件配置为60°C 的触发温度，当温度超过60°C 时，(overline{OT}) 输出低电平，直到<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>温度降至50°C 时，(overline{OT}) 输出恢复高电平。</li>
</ul>
<h2>七、电源与布局建议</h2>
<h3>7.1 电源建议</h3>
<p>TMP708-Q1的低电源电流和宽电源范围使其可以从多种电源获取能量。但 (V_{CC}) 引脚上的任何显著噪声都可能导致触发点误差，因此建议使用一个150 Ω的电阻和一个0.1 μF的电容对电源进行低通滤波，以减少噪声影响。</p>
<h3>7.2 布局指南</h3>
<p>TMP708-Q1的布局非常简单。推荐的电路板布局应确保良好的电气连接和散热性能。同时，为了保持准确的温度监测，应确保TMP708-Q1封装与被监测设备之间有良好的热接触。由于器件的静态电流通常为40 μA，当输出驱动高阻抗负载时，器件的功耗可以忽略不计，因此芯片温度与封装温度基本相同。为了限制自热效应的影响，应尽量将输出电流保持在最低水平。</p>
<h2>八、总结</h2>
<p>TMP708-Q1作为一款高性能的汽车级电阻可编程温度开关，具有高精度、低功耗、宽电源范围等诸多优点，适用于多种应用场景。在实际设计中，我们需要根据具体需求合理配置外部组件，注意电源和布局的优化，以充分发挥其性能优势。你在使用类似温度开关的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[TMP709-Q1：汽车级电阻可编程温度开关的应用与设计]]></title>    <link>https://www.elecfans.com/d/7656200.html</link>    <guid>https://www.elecfans.com/d/7656200.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656200" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZPGmNaNeAVvMmAA-Q5i7_q4A352.pdf"/><h1>TMP709-Q1：汽车级<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>温度开关的应用与设计</h1>
<p>在电子设计领域，温度监测与控制是许多应用场景中不可或缺的一部分，尤其是在汽车、工业和医疗设备等对稳定性和可靠性要求较高的领域。今天，我们将深入探讨<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）的 TMP709-Q1 汽车级电阻可编程温度开关，了解它的特性、应用以及设计要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656200" target="_blank">tmp709-q1.pdf</a></p>
<h2>一、TMP709-Q1 特性概览</h2>
<h3>1.1 汽车级<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a></h3>
<p>TMP709-Q1 经过了 AEC-Q100 认证，器件温度等级为 1 级，工作温度范围覆盖 -40°C 至 125°C，能够适应苛刻的汽车应用环境。其人体模型（HBM）静电放电（<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>）分类等级为 3A，充电器件模型（CDM）ESD 分类等级为 C6，具备良好的静电防护能力。</p>
<h3>1.2 <a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>阈值</h3>
<p>温度阈值精度表现出色，典型值为 ±0.5°C，在 60°C 至 100°C 范围内最大误差为 ±3.5°C。通过一个 1% 的外部电阻即可轻松设置温度阈值，为设计带来了极大的便利。</p>
<h3>1.3 低功耗设计</h3>
<p>典型静态<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅为 40 μA，有效降低了系统功耗，适用于对功耗敏感的应用场景。</p>
<h3>1.4 灵活的输出与迟滞设置</h3>
<p>采用开漏、低电平有效输出级，可方便地与<a href="https://www.hqchip.com/app/1382" target="_blank"><u>微处理器</u></a><a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>。同时，通过引脚可选 2°C 或 10°C 的迟滞，能有效防止温度接近阈值时输出的振荡。</p>
<h3>1.5 宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围与小封装</h3>
<p>电源电压范围为 2.7 V 至 5.5 V，具有良好的电源适应性。采用 5 引脚 SOT - 23 封装，节省了 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 空间，便于小型化设计。</p>
<h2>二、应用领域</h2>
<p>TMP709-Q1 的应用范围十分广泛，涵盖了计算机（笔记本和台式机）、服务器、工业和医疗设备、存储区域网络以及汽车等多个领域。在这些应用中，它能够实时监测温度，并在温度超过设定阈值时及时发出<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，保障设备的安全稳定运行。</p>
<h2>三、详细<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>3.1 功能框图与核心部件</h3>
<p>TMP709-Q1 是一款完全集成的电阻可编程温度开关，内部集成了两个与温度相关的电压参考源和一个<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>。其中一个电压参考源具有正温度系数（<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>mpco），另一个具有负温度系数。当两个电压参考源相等时，对应的温度即为温度触发点。</p>
<h3>3.2 温度开关工作过程</h3>
<p>温度阈值可在 0°C 至 125°C 范围内通过连接在 SET 引脚和 GND 引脚之间的外部 1% 电阻进行编程设置。当正温度系数参考源的电压超过负温度系数参考源的电压时，比较器输出从逻辑 0 切换到逻辑 1，进而驱动 NFET 开漏器件，将 OT 引脚的电压从逻辑 1 拉到逻辑 0，即输出触发。触发后，通过 HYST 引脚的逻辑设置增加正温度系数参考源的电压，直到局部温度降低设定值（HYST 引脚为逻辑 1 时为 10°C，逻辑 0 时为 2°C），输出状态才会恢复，避免了设备的误触发。</p>
<h3>3.3 迟滞输入设置</h3>
<p>HYST 引脚作为数字输入，用于设置输入迟滞。当 HYST 连接到 VCC 时，迟滞为 10°C；连接到 GND 时，迟滞为 2°C。该功能可有效防止温度在阈值附近波动时输出的振荡。使用时，必须将 HYST 引脚连接到 VCC 或 GND，否则可能会导致异常的电源电流或设备故障。</p>
<h3>3.4 设定点电阻计算</h3>
<p>通过连接 SET 引脚到 GND 的 (R<em>{SET}) 电阻可以设置温度阈值。其值可以通过图 2 或公式 (R</em>{SET }(k Omega)=0.0012 T^{2}-0.9308 T+96.147) 计算得出，其中 (T) 为温度阈值（单位：°C）。</p>
<h2>四、设计与应用实例</h2>
<h3>4.1 应用信息与配置要点</h3>
<p>TMP709-Q1 的配置非常简单，仅需要一个旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>和上拉电阻。强烈建议进行电源旁路处理，使用一个 0.1 μF 的电容尽可能靠近 VCC 电源引脚放置。为了最小化 TMP709-Q1 系列设备的内部功耗，OT 引脚到 VCC 引脚的上拉电阻值应大于 10 kΩ。</p>
<h3>4.2 典型应用设计</h3>
<p>以一个设计实例来说明，要求使用 2.7 V 至 5.5 V 的电源，60°C 的触发点和 10°C 的迟滞。具体设计步骤如下：</p>
<ul>
<li>将 HYST 引脚连接到 VCC，以设置 10°C 的迟滞。</li>
<li>对于 60°C 的温度阈值，通过公式计算得出理想的 (R_{SET}) 电阻值为 44.619 kΩ，选择最接近的标准值电阻 44.2 kΩ。</li>
<li>使用一个 10 kΩ 的上拉电阻从 OT 引脚连接到 VCC 引脚。为了进一步降低功耗，可以使用更大值的上拉电阻，但不得超过 470 kΩ。</li>
<li>在靠近 TMP709-Q1 设备的位置放置一个 0.1 μF 的旁路电容，以减少电源噪声的影响。</li>
</ul>
<h3>4.3 应用曲线分析</h3>
<p>图 6 展示了迟滞功能的工作示例。当 HYST 引脚连接到 VCC 时，TMP709-Q1 设备配置为 10°C 的迟滞。通过 (R_{SET}) 电阻值将设备设置为 60°C 的触发温度，当温度超过 60°C 时，OT 输出变为低电平。直到<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>温度降至 50°C 时，OT 输出才会恢复为高电平。</p>
<h2>五、电源与布局建议</h2>
<h3>5.1 电源供电建议</h3>
<p>TMP709-Q1 的低供电电流和宽电源范围使其可以由多种电源供电。但 VCC 引脚上的任何显著噪声都可能导致触发点误差，因此建议使用一个 150 Ω 的电阻和 0.1 μF 的电容对设备电源进行低通滤波，以减少噪声影响。</p>
<h3>5.2 布局注意事项</h3>
<p>TMP709-Q1 的布局非常简单。在布局时，要确保良好的热接触，以保证准确的温度监测。由于其典型静态电流仅为 40 μA，当输出驱动高阻抗负载时，设备的功耗可以忽略不计，芯片温度与封装温度基本相同。为了限制自热效应的影响，应尽量将输出电流保持在最低水平。同时，通过公式 (Delta T<em>{J}=P</em>{DISS } × theta<em>{JA }) 可以计算出自热导致的芯片温度上升，其中 (P</em>{DISS}) 为设备的功耗，(theta_{JA}) 为封装热阻，SOT - 23 封装的典型热阻为 217.9°C/W。</p>
<h2>六、总结</h2>
<p>TMP709-Q1 作为一款高性能的汽车级电阻可编程温度开关，凭借其高精度、低功耗、灵活的配置和良好的稳定性，在多个领域都有着广泛的应用前景。在设计过程中，合理配置外部元件、注意电源和布局等方面的问题，能够充分发挥其性能优势，为电子系统的温度监测与控制提供可靠的解决方案。你在实际应用中是否遇到过类似温度开关的设计挑战呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[OPT3001-Q1环境光传感器：功能特性与设计应用解析]]></title>    <link>https://www.elecfans.com/d/7656201.html</link>    <guid>https://www.elecfans.com/d/7656201.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656201" value="https://file1.elecfans.com/web3/M00/4B/BA/wKgZO2mNaNiABXtUABXHbj_hOX4928.pdf"/><h1>OPT3001-Q1环境光<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>：功能特性与设计应用解析</h1>
<p>在电子设备的设计中，环境光传感器起着至关重要的作用，它能够感知周围环境的光照强度，为设备的自动化控制和优化提供数据支持。今天我们要介绍的是德州仪器（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的OPT3001-Q1环境光传感器，它具有诸多优秀特性，适用于多种汽车及其他相关应用场景。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656201" target="_blank">opt3001-q1.pdf</a></p>
<h2>一、产品特性亮点</h2>
<h3>1. 汽车级<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>与宽温度范围</h3>
<p>OPT3001-Q1通过了AEC - Q100汽车设备认证，具备不同的温度等级。其中，USON封装的温度等级2适用于 - 40°C至105°C的环境，温度等级3适用于 - 40°C至85°C的环境，这使得它能够在较为恶劣的汽车环境中稳定工作。</p>
<h3>2. 精准<a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>滤波与人眼匹配</h3>
<p>该传感器采用了精密的光学滤波技术，能够紧密匹配人眼的光谱响应，并且能够有效拒绝超过99%（典型值）的<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>光（USON封装）。这一特性使得它在测量环境光时，能够更准确地反映人眼所感知的光照强度，为创造理想的人类照明体验提供了有力支持。</p>
<h3>3. 自动满量程设置功能</h3>
<p>自动满量程设置功能是OPT3001-Q1的一大特色。它能够自动选择适合当前光照条件的满量程范围，无需用户手动预测和设置。这不仅简化了软件设计，还能确保在不同光照强度下都能进行准确的测量。其测量范围可达0.01lux至83klux，具有23位的有效动态范围，并且在不同量程之间的匹配度小于0.2%（典型值）。</p>
<h3>4. 低功耗与宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围</h3>
<p>OPT3001-Q1的工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>低至1.8µA（典型值），同时支持1.6V至3.6V的宽电源范围，5.5V耐受I/O<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>。这使得它在电池供电的系统中能够有效延长电池寿命，并且具有较好的电源适应性。</p>
<h3>5. 灵活的中断系统与小尺寸封装</h3>
<p>传感器配备了灵活的中断系统，能够根据用户设定的条件触发中断，通知<a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>进行相应的处理。此外，它采用了2mm × 2mm × 0.65mm的小尺寸USON封装，适合对空间要求较高的应用场景。</p>
<h2>二、应用领域广泛</h2>
<h3>1. 汽车相关应用</h3>
<p>在汽车领域，OPT3001-Q1有着广泛的应用。它可以用于汽车内外照明的自动控制，根据环境光强度调节车灯的亮度，提高行车安全性和舒适性；在信息娱乐和仪表盘显示系统中，能够根据环境光调整屏幕亮度，提供更好的视觉体验；还可应用于电致变色和智能后视镜、雨刮模块、平视显示系统以及汽车摄像头系统等，为汽车的智能化和自动化提供支持。</p>
<h2>三、技术细节剖析</h2>
<h3>1. 引脚配置与功能</h3>
<p>OPT3001-Q1采用6引脚USON封装，各引脚功能明确。VDD为设备供电，需连接1.6V至3.6V的电源；<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>DR引脚用于设置I²C地址的最低有效位；GND为接地引脚；SCL是I²C<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>线，需通过10kΩ<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>连接到1.6V至5.5V的电源；INT是中断输出引脚，为开漏输出，同样需通过10kΩ电阻连接到1.6V至5.5V的电源；<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A是I²C数据线，也需通过10kΩ电阻连接到1.6V至5.5V的电源。</p>
<h3>2. 规格参数</h3>
<ul>
<li><strong>绝对最大额定值</strong>：涵盖了电压、电流、结温、存储温度等方面的限制。例如，VDD到GND的电压范围为 - 0.5V至6V，任何引脚的电流不得超过10mA，结温最高为150°C，存储温度范围为 - 65°C至150°C。</li>
<li><strong><a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>评级</strong>：人体模型（HBM）为±2000V，带电设备模型（CDM）为±500V，这表明该传感器具有一定的静电防护能力。</li>
<li><strong>推荐工作条件</strong>：电源电压范围为1.6V至3.6V，不同温度等级对应的工作温度有所不同，温度等级2为 - 40°C至105°C，温度等级3为 - 40°C至85°C。</li>
<li><strong>热信息</strong>：包括结到环境、结到外壳、结到电路板等不同的热阻参数，为散热设计提供了参考。</li>
<li><strong><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</strong>：在TA = 25°C、VDD = 3.3V、800ms转换时间、自动满量程范围等条件下，规定了光学、电源、数字等方面的参数。例如，峰值辐照度光谱响应度为550nm，不同量程下的分辨率和满量程照度等都有明确的数值。</li>
<li><strong>时序要求</strong>：针对I²C的快速模式和高速模式，规定了SCL时钟频率、总线空闲时间、数据保持时间等一系列时序参数，确保通信的稳定和准确。</li>
</ul>
<h3>3. 详细功能描述</h3>
<ul>
<li><strong>人眼匹配特性</strong>：OPT3001-Q1的光谱响应与人类眼睛高度匹配，同时具备出色的红外光（IR）抑制能力。这使得它在各种实际照明环境中，能够准确测量人眼所感知的光照强度，避免了红外光对测量结果的干扰。特别是当传感器隐藏在深色窗户后面时，由于许多深色窗户会衰减可见光但透射红外光，该传感器的高红外抑制能力就显得尤为重要，能够确保测量结果与人类视觉体验相匹配。</li>
<li><strong>自动满量程范围设置</strong>：该功能使传感器能够自动为给定的光照条件选择最佳的满量程范围。在自动量程模式下，首次测量为10ms的范围评估测量，之后根据前一次测量结果设置满量程范围。如果测量值超出满量程范围，会终止当前测量，重新评估并设置合适的满量程范围后再进行测量。</li>
<li><strong>中断操作与报告机制</strong>：传感器具有中断报告系统，可让连接到I²C总线的处理器在用户定义的事件发生之前进入睡眠状态，忽略设备结果。中断事件条件由高限和低限<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>以及配置寄存器的锁存和故障计数字段控制。INT引脚为开漏输出，需要使用上拉电阻，其极性可通过配置寄存器中的极性字段控制。</li>
<li><strong>I²C总线<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a></strong>：OPT3001-Q1兼容I²C和SMBus接口。通过SCL时钟输入引脚和SDA开漏双向数据引脚连接到总线，支持标准模式（最高100kHz）、快速模式（最高400kHz）和高速模式（最高2.6MHz）。通信过程中，<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>通过发送目标地址字节和寄存器地址字节来访问特定寄存器，实现数据的读写操作。</li>
</ul>
<h3>4. 寄存器映射与操作</h3>
<p>OPT3001-Q1的寄存器包含配置、状态和结果信息，均为16位长。主要寄存器包括结果寄存器、配置寄存器、低限寄存器和高限寄存器，此外还有制造商ID和设备ID寄存器。</p>
<ul>
<li><strong>结果寄存器</strong>：包含最近一次光到数字转换的结果，由4位指数和12位尾数组成。通过特定公式可以将寄存器的值转换为光照强度（lux）。</li>
<li><strong>配置寄存器</strong>：控制设备的主要操作模式，包含多个字段，如范围数字字段（RN[3:0]）用于选择满量程光照范围，转换时间字段（CT）决定光到数字转换的时间，模式转换操作字段（M[1:0]）控制设备的工作模式（连续转换、单次测量或低功耗关机模式）等。</li>
<li><strong>低限和高限寄存器</strong>：分别设置中断报告机制的下限和上限比较值，格式与结果寄存器类似。</li>
<li><strong>制造商ID和设备ID寄存器</strong>：用于唯一标识设备。</li>
</ul>
<h2>四、应用与设计要点</h2>
<h3>1. 应用信息</h3>
<p>环境光传感器的应用主要涉及电气和光学两个接口。在电气接口方面，将OPT3001-Q1的I²C SDA和SCL引脚连接到应用处理器、<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>或其他数字处理器的相应引脚，若需要中断功能，则将INT引脚连接到处理器的中断或通用I/O引脚。同时，需要在SDA、SCL和INT引脚连接上拉电阻，典型值为10kΩ。在光学接口方面，传感器的光学表面位于封装内部，朝向<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>外部。为了保护传感器和周边电路，可以使用塑料外壳和窗口让外部光线照射到传感器。选择合适的窗口宽度和高度，确保足够的视野角度，一般建议至少为±35°，理想情况下为±45°或更大。</p>
<h3>2. 典型应用示例</h3>
<p>以在产品外壳内且在深色窗户下测量环境光为例，设计要求包括将传感器隐藏在深色玻璃下，保证荧光灯测量精度为15%，并尽量减小不同光源（荧光、卤素、白炽灯）测量结果的差异。具体设计步骤如下：</p>
<ul>
<li><strong>光机设计</strong>：设计产品外壳时，包含一个窗口，窗口宽度和高度应能提供±45°的视野角度，同时要考虑传感器区域的位置。</li>
<li><strong>深色窗口选择与补偿</strong>：选择合适的深色窗口，平衡设备美观性和传感器性能。测量窗口对荧光灯的衰减效果，通过与照度计测量结果对比，计算出窗口的有效透射率。后续测量时，使用补偿公式对测量结果进行修正。</li>
<li><strong>应用曲线验证</strong>：通过使用中性密度滤光片或改变光源距离创建不同的光照强度，分别使用照度计和OPT3001-Q1设备进行测量，并对OPT3001-Q1的测量结果进行补偿。验证结果表明，该设计能够准确报告与照度计相似的结果，并且在不同光源下的测量性能良好。</li>
</ul>
<h3>3. 最佳设计实践</h3>
<p>在使用OPT3001-Q1时，需要注意以下几点：</p>
<ul>
<li><strong>光学表面清洁</strong>：保持传感器的光学表面清洁，避免灰尘、指纹等污染物影响测量精度。在操作过程中，建议使用塑料或橡胶接触面的镊子，避免使用金属工具刮伤光学表面。若需要清洁，可使用去离子水或异丙醇，配合柔软的刷子和棉签进行轻轻擦拭。</li>
<li><strong>电源供应</strong>：为了获得最佳性能，VDD引脚应连接稳定、低噪声的电源，并在设备附近使用100nF的旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>。同时，要确保良好的接地。</li>
<li><strong>PCB布局</strong>：在PCB布局设计中，要将旁路电容靠近OPT3001-Q1设备放置，避免光学反射表面对测量结果产生影响。建议将靠近传感器的组件放置在PCB的另一侧，若无法实现，应将组件与传感器保持至少两倍组件高度的距离。此外，建议将散热垫连接到地面，可以通过PCB走线或过孔实现。</li>
</ul>
<h2>五、总结</h2>
<p>OPT3001-Q1环境光传感器凭借其优秀的特性和广泛的应用场景，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在设计汽车及其他相关设备时提供了一个可靠的选择。在实际应用中，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>需要充分了解其技术细节和设计要点，合理选择和使用该传感器，以确保系统的性能和稳定性。同时，随着技术的不断发展，相信类似的传感器将会在更多领域发挥重要作用，为我们的生活带来更多的便利和创新。</p>
<p>你在使用OPT3001-Q1的过程中遇到过哪些有趣的问题或者挑战呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[德州仪器PGA460-Q1：汽车超声波信号处理器与换能器驱动器的深度解析]]></title>    <link>https://www.elecfans.com/d/7656202.html</link>    <guid>https://www.elecfans.com/d/7656202.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656202" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZPGmNaNiAUtGXACMOvorjY3A486.pdf"/><h1><a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>PGA460-Q1：汽车超声波<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a><a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>与换能器<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>的深度解析</h1>
<p>在当今的电子工程领域，汽车超声波<a href="https://bbs.elecfans.com/zhuti_control_1.html" target="_blank"><u>传感技术</u></a>正发挥着越来越重要的作用。德州仪器（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）的PGA460-Q1作为一款高度集成的汽车超声波信号处理器和换能器驱动器，为汽车及其他相关领域的超声波传感应用提供了强大的解决方案。今天，我们就来深入了解一下这款器件。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656202" target="_blank">pga460-q1.pdf</a></p>
<h2>一、器件概述</h2>
<p>PGA460-Q1是一款高度集成的片上系统超声波换能器驱动器和信号调节器，具备先进的<a href="https://www.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>核心。它专为超声波传感而设计，能够驱动换能器并处理反射回波信号，实现可靠的物体检测。该器件通过AEC-Q100<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>，工作温度范围为 -40°C至 +105°C，具有良好的环境适应性。</p>
<h2>二、主要特性</h2>
<h3>2.1 集成度高</h3>
<p>PGA460-Q1提供了超声波传感的完整解决方案，集成了低侧驱动器、低噪声<a href="https://www.hqchip.com/app/1847" target="_blank"><u>接收器</u></a>、<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>处理（DSP）模块、<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>等功能模块，减少了外部元件的使用，降低了系统成本和复杂度。</p>
<h3>2.2 驱动方式灵活</h3>
<p>它具有互补的低侧驱动器，支持基于变压器和直接驱动两种拓扑结构，可根据不同的换能器类型和应用需求进行选择。在变压器驱动模式下，可通过<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>抽头变压器产生大的激励电压；在直接驱动模式下，可与外部PMOS FET配合使用，为换能器提供单端直接激励。</p>
<h3>2.3 增益可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a></h3>
<p>低噪声接收器具有可编程的6点时变增益（32至90 dB），并结合DSP进行回波包络检测。时变增益功能允许用户根据物体距离的不同调整增益，确保在近场和远场都能实现准确的物体检测。</p>
<h3>2.4 多预设阈值</h3>
<p>提供两组12点时变阈值预设，用于物体检测。这些预设可以节省配置时间，提高检测效率。</p>
<h3>2.5 测量功能丰富</h3>
<p>内置<a href="https://www.elecfans.com/tags/定时器/" target="_blank"><u>定时器</u></a>可测量多个回波的距离和持续时间，还集成了温度传感器，可用于校准信号调节器，补偿温度变化对换能器性能的影响。</p>
<h3>2.6 <a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>多样</h3>
<p>支持一线<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>时间命令<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>或USART异步接口，以及CMOS电平USART接口，方便与外部<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>进行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。</p>
<h3>2.7 系统诊断功能</h3>
<p>具备<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>诊断（衰减频率和时间、激励电压）、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>和<a href="https://www.hqchip.com/app/1809" target="_blank"><u>收发器</u></a>诊断功能，可实时监测系统状态，确保系统的可靠性和稳定性。</p>
<h2>三、应用领域</h2>
<h3>3.1 汽车领域</h3>
<ul>
<li><strong>超声波雷达</strong>：用于汽车的倒车雷达、自动泊车辅助等系统，检测车辆周围的障碍物，提高行车安全性。</li>
<li><strong>车道偏离和碰撞预警</strong>：通过检测车辆周围物体的距离和位置，及时发出预警信号，避免碰撞事故的发生。</li>
<li><strong>物体距离和位置传感</strong>：在汽车的自适应巡航控制、自动紧急制动等系统中，准确测量物体的距离和位置，为系统决策提供依据。</li>
<li><strong>车内占用和运动传感</strong>：用于检测车内人员的占用情况和运动状态，实现个性化的车内功能控制。</li>
</ul>
<h3>3.2 其他领域</h3>
<ul>
<li><strong><a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>和<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>着陆辅助及障碍物检测</strong>：帮助无人机和机器人在着陆过程中检测障碍物，确保安全着陆。</li>
<li><strong>汽车和工业门开启传感</strong>：检测门周围的物体，实现自动门的安全开启和关闭。</li>
<li><strong>工业物体检测</strong>：在<a href="https://m.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>生产线上，用于检测物体的位置、距离和存在情况，实现自动化控制。</li>
</ul>
<h2>四、详细功能解析</h2>
<h3>4.1 电源供应模块</h3>
<p>PGA460-Q1使用多个内部稳压器为内部电路供电，包括<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电压稳压器（AVDD）和IOREG稳压器。AVDD需要一个100 nF的外部<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，用于产生精密的电压参考、<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>偏置和内部<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>。IOREG稳压器为USART引脚、DECPL引脚和<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>ST引脚提供数字功能所需的电源。在低功耗模式下，IOREG稳压器保持供电，其他稳压器关闭以节省功耗。</p>
<h3>4.2 脉冲生成</h3>
<p>通过配置FREQ和P1_PULSE/P2_PULSE<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>，可实现可编程的脉冲频率和脉冲数量。脉冲频率范围为30 kHz至80 kHz（FREQ_SHIFT位设置为0），可通过公式计算得出。在变压器驱动模式下，可通过控制FREQUENCY、CURR_LIM_P1、CURR_LIM_P12、PULSE_P1和PULSE_P2等参数，实现对脉冲频率、电流限制和脉冲数量的控制。</p>
<h3>4.3 模拟前端（<a href="https://www.elecfans.com/tags/afe/" target="_blank"><u>AFE</u></a>）</h3>
<p>AFE接收换能器反射的回波信号，经过低噪声<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>和时变增益放大器放大后，送入12位<a href="https://www.elecfans.com/tags/模数转换器/" target="_blank"><u>模数转换器</u></a>（<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>）进行数字化处理。时变增益功能允许用户根据物体距离的不同设置不同的增益，确保在近场和远场都能实现准确的物体检测。AFE还实现了系统诊断功能，可监测换能器在脉冲和衰减阶段的状态。</p>
<h3>4.4 数字信号处理（DSP）</h3>
<p>DSP模块对<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>C输出的数字信号进行处理，包括带通滤波、整流、峰值保持、低通滤波和非线性缩放等操作，以提取回波信号的峰值轮廓。然后，将处理后的信号与预设的阈值进行比较，测量物体的飞行时间，从而计算物体的距离。</p>
<h3>4.5 系统诊断</h3>
<p>PGA460-Q1具备多种系统诊断功能，包括电压诊断、频率诊断、衰减时间诊断和噪声水平测量等。这些诊断功能可帮助用户实时监测系统状态，及时发现潜在的问题，确保系统的可靠性和稳定性。</p>
<h3>4.6 通信接口</h3>
<p>器件提供了时间命令接口（TCI）、USART异步接口和USART同步接口三种通信方式，方便与外部控制器进行通信。不同的接口适用于不同的应用场景，用户可根据实际需求进行选择。</p>
<h2>五、应用与实现</h2>
<h3>5.1 换能器选择</h3>
<p>在使用PGA460-Q1时，需要根据具体应用需求选择合适的换能器。换能器的选择应考虑谐振频率、输入电压要求、灵敏度、波束模式和衰减时间等因素。对于不同类型的换能器，可选择变压器驱动或直接驱动方式。</p>
<h3>5.2 典型应用电路</h3>
<p>文档中给出了变压器驱动和直接驱动两种典型应用电路的设计示例，包括<a href="https://www.elecfans.com/v/tag/221/" target="_blank"><u>电路原理</u></a>图、设计要求和详细的设计步骤。在设计过程中，需要注意输入电压范围、变压器匝数比、变压器饱和电流和主电压额定值等参数的选择，以确保系统的性能和可靠性。</p>
<h3>5.3 电源供应建议</h3>
<p>PGA460-Q1的输入电压范围为6 V至28 V，在汽车应用中，应通过适当的外部元件保护器件免受电池瞬变和反向电池电流的影响。在输入电源距离器件较远时，可能需要增加额外的大容量电容。</p>
<h3>5.4 布局指南</h3>
<p>为了减少噪声干扰，提高系统性能，在<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局时应遵循一些最佳实践。例如，分离不同类型的接地，将模拟信号和数字信号分开布线，缩短模拟输入和输出引脚的走线长度，将去耦电容靠近引脚放置等。</p>
<h2>六、总结</h2>
<p>德州仪器的PGA460-Q1是一款功能强大、性能可靠的汽车超声波信号处理器和换能器驱动器。它的高集成度、灵活的驱动方式、可编程的增益和阈值、丰富的测量功能以及多样的通信接口，使其适用于各种汽车和工业超声波传感应用。通过合理选择换能器、优化<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>和布局，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>可以充分发挥PGA460-Q1的性能，实现高效、准确的物体检测和距离测量。</p>
<p>在实际应用中，工程师还需要根据具体的需求和场景，对器件进行适当的配置和调试，以确保系统的稳定性和可靠性。同时，随着汽车和工业领域对超声波传感技术的需求不断增加，PGA460-Q1有望在更多的应用场景中发挥重要作用。</p>
<p>你在使用PGA460-Q1的过程中遇到过哪些问题？你认为它在哪些方面还有改进的空间？欢迎在评论区分享你的经验和想法。 </p>]]></description></item><item>    <title><![CDATA[探索ADBMS2960/ADBMS2961/ADBMS2962：电池监测的理想之选]]></title>    <link>https://www.elecfans.com/d/7656203.html</link>    <guid>https://www.elecfans.com/d/7656203.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656203" value="https://file1.elecfans.com/web3/M00/4B/BA/wKgZO2mNabqACAXsAALpRwpSZxI199.pdf"/><h1>探索<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS2960/ADBMS2961/ADBMS2962：电池监测的理想之选</h1>
<p>在电子工程领域，电池监测对于各类应用的稳定运行至关重要，尤其是在电动汽车、备用电池系统和电网储能等场景中。今天，我们就来深入了解<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>Analog</u></a> Devices推出的ADBMS2960/ADBMS2961/ADBMS2962系列电池监测产品。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656203" target="_blank">ADBMS2961.pdf</a></p>
<h2>产品特性亮点</h2>
<h3>电池电流与电压测量</h3>
<ul>
<li><strong><a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>测量</strong>：该系列产品具备电池组电流测量功能，采用无损测量方式进行库仑计数，更新速率达1ms，最大增益误差仅±0.1%，最大偏移为±1µV，还具备冗余设计。其采用缓冲<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入，拥有连续运行选项，为电池电流监测提供了<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>和高可靠性的解决方案。</li>
<li><strong>电压测量</strong>：电池组电压测量同样采用缓冲模拟输入，与电流测量同步，支持差分和单端模式，具备冗余设计。最多可支持20个电压测量通道，支持按需操作，内置外部参考，可进行真正的比例测量。</li>
</ul>
<h3>过流检测与<a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a></h3>
<ul>
<li><strong>过流检测</strong>：具备过流检测功能，采用三重冗余和多数表决机制，还提供PWM输出选项，能及时准确地检测过流情况。</li>
<li><strong><a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a><a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a></strong>：内置isoSPI™接口，支持2Mbps隔离串行通信，可通过<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>或变压器<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>，具备菊花链连接选项和4线SPI选项，方便与其他设备进行通信。</li>
</ul>
<h3>通用数字IO</h3>
<p>拥有六个通用输出（GPO），支持GPO的双阈值回读，四个GPIO可配置为<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>或SPI<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>，为系统设计提供了更多的灵活性。</p>
<h3>封装与<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a></h3>
<p>采用48引脚侧面可焊接QFN封装，并且通过了AEC - Q100认证，专为ISO 26262应用开发，具备汽车安全完整性等级D（ASIL D）能力，适用于对安全性要求极高的汽车应用。</p>
<h2>产品应用领域</h2>
<p>该系列产品适用于多种领域，包括电动汽车和混合动力电动汽车、备用电池系统以及电网储能等。在这些应用中，准确的电池监测对于系统的性能和安全性至关重要，而ADBMS2960/ADBMS2961/ADBMS2962正好满足了这些需求。</p>
<h2>产品具体介绍</h2>
<h3>产品分类</h3>
<p>ADBMS2960和ADBMS2962为电池组监测器，ADBMS2961为<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>和混合动力车辆以及其他电流或电压感应应用的链路监测器。</p>
<h3>电池组监测器功能</h3>
<p>ADBMS电池组监测器通过检测分流<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>上的极低偏移电压降来测量电池组的进出电流，同时通过快速过流<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>和数字阈值<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>检测过流情况，并通过专用过流警报线以最小延迟进行通信。六个支持开漏或推挽模式的数字输出（GPO）可用于控制<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a><a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>以断开外部电阻分压器，四个数字通用输入/输出（GPIO）可作为I2C/SPI控制器接口来连接外部串行外设（如EEP<a href="https://www.elecfans.com/tags/rom/" target="_blank"><u>ROM</u></a>）。</p>
<h3>输入通道</h3>
<p>提供总共12个专用缓冲高阻抗输入（V1至V10、VBAT1和VBAT2），用于测量外部<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>或电阻分压器的电压，可实现电池组电压、温度、HV - Link电压、底盘隔离以及接触器和<a href="https://m.hqchip.com/app/1598" target="_blank"><u>保险丝</u></a>状态的监测。在某些配置中，还有额外的八个缓冲高阻抗输入（V11至V18），使总输入数达到20个。</p>
<h3>通信配置</h3>
<p>ADBMS电池组监测器的内置串行接口可配置为SPI或隔离isoSPI与BMS控制器通信，还有一个额外的isoSPI<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>，允许连接ADBMS电池组监测器设备的菊花链，还可选择扩展ADBMS6834/6836/6837电池单元监测器。</p>
<h2>产品衍生型号对比</h2>
<table>
<thead>
<tr>
<th>FEATURE</th>
<th>ADBMS2960</th>
<th>ADBMS2961</th>
<th>ADBMS2962</th>
</tr>
</thead>
<tbody>
<tr>
<td>isoSPI Ports</td>
<td>2</td>
<td>2</td>
<td>−</td>
</tr>
<tr>
<td>SPI</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Current Channels</td>
<td>2</td>
<td>−</td>
<td>2</td>
</tr>
<tr>
<td>Overcurrent Channels</td>
<td>3</td>
<td>−</td>
<td>3</td>
</tr>
<tr>
<td>Pack Voltage Channels</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>HV Voltage Channels</td>
<td>10 to 18</td>
<td>10 to 18</td>
<td>10 to 18</td>
</tr>
<tr>
<td>GPOs</td>
<td>6</td>
<td>6</td>
<td>6</td>
</tr>
<tr>
<td>GPIOs</td>
<td>4</td>
<td>4</td>
<td>4</td>
</tr>
</tbody>
</table>
<p>从这个表格中，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们可以根据具体的设计需求来选择合适的型号。比如，如果需要isoSPI端口，ADBMS2960和ADBMS2961是合适的选择；如果需要电流通道，ADBMS2960和ADBMS2962更符合要求。</p>
<p>总之，ADBMS2960/ADBMS2961/ADBMS2962系列产品凭借其丰富的功能和高可靠性，为电池监测应用提供了全面的解决方案。电子工程师们在进行相关设计时，不妨考虑这些产品，以提升系统的性能和安全性。大家在实际应用中有没有遇到过类似产品的使用问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[探索ADBMS2970电池组监控器：汽车与能源应用的理想之选]]></title>    <link>https://www.elecfans.com/d/7656204.html</link>    <guid>https://www.elecfans.com/d/7656204.html</guid>    <pubDate>2026-02-12 13:50:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656204" value="https://file1.elecfans.com/web3/M00/4B/BA/wKgZO2mNabqAU1DtAALfeVsgmA4471.pdf"/><h1>探索<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS2970电池组监控器：汽车与能源应用的理想之选</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常工作中，电池组监控器是一个关键的组件，特别是在电动汽车、混合动力汽车以及能源存储系统等领域。今天，我们就来深入了解一下<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>Analog</u></a> Devices推出的ADBMS2970电池组监控器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656204" target="_blank">ADBMS2970.pdf</a></p>
<h2>强大的功能特性</h2>
<h3>精准的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>与电压测量</h3>
<p>ADBMS2970具备电池组电流测量功能，采用无损测量方式进行库仑计数，更新速率达到1ms，最大增益误差仅为±0.1%，最大偏移为±1µV，还具备冗余实现，确保测量的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>和可靠性。在电池组电压测量方面，它与电流测量同步，支持差分和单端模式，拥有多达20个电压测量通道，同样采用冗余实现，内置外部参考，可进行真正的比例测量。</p>
<h3>安全保护与检测机制</h3>
<p>该监控器具备过流检测功能，采用三重冗余和多数表决机制，保障系统安全。同时，它还提供PWM输出选项，支持<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>抗谱（EIS）测量，为电池状态监测提供更多维度的数据。</p>
<h3>丰富的<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>与<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a></h3>
<p>ADBMS2970内置isoSPI™接口，支持2Mbps的隔离串行通信，可通过<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>或变压器<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>，还具备菊花链连接选项和4线SPI选项。此外，它拥有6个通用输出（GPO）和4个通用输入输出（GPIO），其中4个GPIO可配置为<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>或SPI<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>，方便与外部设备进行通信。</p>
<h2>广泛的应用领域</h2>
<h3>电动汽车与混合动力汽车</h3>
<p>在电动汽车和混合动力汽车中，ADBMS2970可精确测量电池组的电流和电压，实时监测电池状态，为<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统提供准确的数据，确保电池的安全和高效运行。</p>
<h3>备用电池系统</h3>
<p>对于备用电池系统，ADBMS2970能够实时监测电池的状态，及时发现电池的异常情况，保障备用<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>的可靠性。</p>
<h3>电网储能</h3>
<p>在电网储能系统中，ADBMS2970可对电池组进行精确监控，优化电池的充放电过程，提高储能系统的效率和稳定性。</p>
<h2>详细的技术参数</h2>
<table>
<thead>
<tr>
<th>FEATURE</th>
<th>ADBMS2970</th>
</tr>
</thead>
<tbody>
<tr>
<td>isoSPI Ports</td>
<td>2</td>
</tr>
<tr>
<td>SPI</td>
<td>1</td>
</tr>
<tr>
<td>Current Channels</td>
<td>2</td>
</tr>
<tr>
<td>Overcurrent Channels</td>
<td>3</td>
</tr>
<tr>
<td>Pack Voltage Channels</td>
<td>2</td>
</tr>
<tr>
<td>HV Voltage Channels</td>
<td>10 to 18</td>
</tr>
<tr>
<td>GPOs</td>
<td>6</td>
</tr>
<tr>
<td>GPIOs</td>
<td>4</td>
</tr>
<tr>
<td>EIS Channels</td>
<td>2</td>
</tr>
</tbody>
</table>
<h2>实际应用中的优势</h2>
<p>在实际设计中，ADBMS2970的48引脚侧面可焊接QFN封装，便于<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局和焊接。同时，它通过了AEC - Q100<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>，适用于ISO 26262应用，具备汽车安全完整性等级D（ASIL D）能力，为汽车和能源领域的应用提供了可靠的保障。</p>
<p>作为电子工程师，在选择电池组监控器时，ADBMS2970无疑是一个值得考虑的选择。它的高性能、丰富功能和广泛适用性，能够满足各种复杂的应用需求。你在实际项目中是否使用过类似的电池组监控器呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[高性能多节电池监测芯片 ADBMS6815 解析]]></title>    <link>https://www.elecfans.com/d/7656213.html</link>    <guid>https://www.elecfans.com/d/7656213.html</guid>    <pubDate>2026-02-12 13:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7656213" value="https://file1.elecfans.com/web3/M00/4B/B9/wKgZPGmNabqAFjf_AAKp_h-EkNM283.pdf"/><h1>高性能多节电池监测芯片 <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>BMS6815 解析</h1>
<p>在<a href="https://m.hqchip.com/app/1712" target="_blank"><u>电池管理</u></a>系统中，精准监测电池状态是至关重要的。ADBMS6815 作为一款 12 通道多节电池监测芯片，为众多应用场景带来了出色的解决方案。今天，我们就来深入了解一下这款芯片。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7656213" target="_blank">ADBMS6815.pdf</a></p>
<h2>一、核心特性</h2>
<h3>1. 多电池单元测量</h3>
<p>ADBMS6815 能够对多达 12 个串联电池单元进行测量，最大终身总测量误差仅为 1.5mV。如此高的测量精度，保证了对电池状态的精准把控，对于大多数电池化学体系都能适用，其测量范围为 0V 至 5V。你觉得这样的精度对于电池管理系统来说有多重要呢？</p>
<h3>2. 堆叠架构与<a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a></h3>
<p>它采用堆叠式架构，适用于<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>电池组。内置的 isoSPI <a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>具备 2Mb 的隔离串行<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>能力，仅需使用一根双绞线，通信距离可达 20 米。这种接口不仅具有低电磁干扰（EMI）的特性，还支持双向通信以实现断线保护，并且可以通过<a href="https://www.hqchip.com/app/855" target="_blank"><u>电容器</u></a>或变压器进行<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>。你在实际项目中是否遇到过因通信问题导致的电池管理故障呢？</p>
<h3>3. 鲁棒性设计</h3>
<p>芯片支持热插拔，无需外部保护，大大提高了使用的便利性和系统的稳定性。其中，ADBMS6815WFS 型号专为 ISO 26262 应用而设计，具备汽车安全完整性等级 D（ASIL D）能力，适用于对安全性要求极高的汽车应用。</p>
<h3>4. 快速测量与滤波</h3>
<p>能够在 304µs 内完成系统中所有电池单元的测量，同时配备 16 位 <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a> 和可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>噪声<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>。对于高噪声环境，还可以选择较低的数据采集速率来减少噪声干扰。</p>
<h3>5. 电池均衡与输入配置</h3>
<p>支持每通道高达 300mA 的被动电池均衡，并且可以通过可编程脉冲宽度调制（PWM）进行控制。此外，它还拥有 7 个通用输入输出（GPIO）或<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>输入<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>，可用于连接<a href="https://www.elecfans.com/tags/温度传感器/" target="_blank"><u>温度传感器</u></a>或其他<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>，还能配置为 <a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a> 或 SPI <a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>。</p>
<h3>6. 低功耗特性</h3>
<p>在睡眠状态下，芯片的供电电流仅为 5.5μA，有效降低了系统的整体功耗。</p>
<h3>7. 封装与<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a></h3>
<p>采用 48 引脚带裸露焊盘的 LQFP 封装，并通过了 AEC - Q100 汽车应用认证，确保了在汽车环境中的可靠性和稳定性。</p>
<p>很遗憾，在搜索“ADBMS6815 典型应用电路特点”时遇到了问题，未能获取到相关信息。不过我们可以继续基于之前文档内容，来探讨 ADBMS6815 的应用。</p>
<h2>二、应用场景</h2>
<h3>1. 电动汽车与混合动力汽车</h3>
<p>在电动汽车和混合动力汽车中，对电池的监测和管理直接影响到车辆的性能和安全性。ADBMS6815 的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量、快速数据采集以及高安全性，使其成为这类应用的理想选择。你认为在电动汽车的电池管理系统中，还需要考虑哪些因素呢？</p>
<h3>2. 备用电池系统</h3>
<p>备用电池系统需要在关键时刻提供可靠的电力支持，因此对电池状态的准确监测尤为重要。ADBMS6815 能够实时监测电池的电压、温度等参数，确保备用电池随时处于可用状态。</p>
<h3>3. 电网储能</h3>
<p>随着电网储能系统的发展，对电池管理的要求也越来越高。ADBMS6815 的堆叠架构和长距离通信能力，使其能够满足大规<a href="https://m.elecfans.com/v/tag/1180/" target="_blank"><u>模电</u></a>网储能系统的需求。</p>
<h3>4. 大型移动<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a></h3>
<p>大型移动电源通常包含多个电池单元，需要精确的电池监测和管理。ADBMS6815 可以帮助实现对这些电池单元的高效管理，延长移动电源的使用寿命。</p>
<h2>三、典型应用电路</h2>
<p>ADBMS6815 既可以直接从电池组获取电源，也可以使用隔离电源。芯片内置了被动均衡功能，能够对每个电池单元进行独立的脉冲宽度调制（PWM）占空比控制。此外，它还配备了片上 5V 稳压器、7 根通用输入输出（GPIO）线，并且在睡眠状态下能够将<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>消耗降低到 5.5µA。</p>
<p>综上所述，ADBMS6815 凭借其出色的性能和丰富的功能，在多节电池监测领域具有广阔的应用前景。如果你在实际项目中使用过类似的芯片，欢迎分享你的经验和见解。 </p>]]></description></item>  </channel></rss>