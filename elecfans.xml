<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>电子发烧友 - 最近文章</title>      <link>https://www.elecfans.com/article/special/</link>      <description>电子发烧友</description>      <generator>python elecfans.py @Pi20</generator>      <item>    <title><![CDATA[NOR Flash GT25D20E-U串行NOR闪存]]></title>    <link>https://www.elecfans.com/d/7635382.html</link>    <guid>https://www.elecfans.com/d/7635382.html</guid>    <pubDate>2026-02-02 16:52:00</pubDate>    <description><![CDATA[<p>
	随着<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>网络、<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>及数据<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>建设的加速推进，<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>设备对数据存储的可靠性、响应速度及功耗提出了更高要求。NOR Flash凭借其快速读取、高可靠性及支持就地执行（XIP）等特性，已成为通信模块、基站设备、WIFI模块等关键组成部分中不可或缺的存储解决方案。英尚微电子推出的GT25D20E-U串行NOR闪存，正是针对通信设备的高性能需求而设计的代表产品之一。</p>
<p>
	<br/>
	在实时数据处理要求严格的通信设备中，NOR Flash存储器的读取速度直接影响系统响应效率。GT25D20E-U支持标准SPI及双通道SPI<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，在快速读取双I/O模式下，<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率最高可达104MHz，等效数据传输速率达208MHz。这一高速特性尤其适合5G基站、网络交换设备等需要频繁进行固件加载、配置存储及日志记录的应用场景，能够有效提升系统启动与执行效率。</p>
<p>
	<br/>
	通信设备常处于持续运行状态，且可能面临温度波动、电压不稳定等复杂环境。NOR Flash芯片GT25D20E-U具备工业级工作温度范围（-40℃至+105℃），支持1.65V–3.6V宽电压操作，并具备典型的20年数据保存周期。NOR Flash芯片还提供软件与硬件双重写保护机制，通过可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>保护区块及写保护引脚（WP#），防止关键数据被误擦写，进一步确保设备长期稳定运行。</p>
<p>
	<br/>
	面对通信设备绿色节能的发展趋势，NOR Flash芯片GT25D20E-U在功耗控制上表现突出。其典型待机电流低至7μA，掉电模式下仅需0.1μA，非常适合对功耗敏感的无线路由、物联网模块等电池供电或需长期待机的设备，有助于整体系统能效提升。</p>
<p>
	<br/>
	GT25D20E-U串行NOR闪存凭借高速读写、高可靠性、低功耗及灵活的硬件保护功能，为通信设备提供了稳定高效的数据存储与执行方案。在5基建、企业网络、智能网关等不断演进的应用领域中，NOR Flash器件将持续助力客户提升设备性能与稳定性，应对未来更复杂的数据处理与连接需求。如想了解更多方案详情，请搜索英尚微电子。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[AGV坐电梯：开启物流自动化新纪元]]></title>    <link>https://www.elecfans.com/d/7635386.html</link>    <guid>https://www.elecfans.com/d/7635386.html</guid>    <pubDate>2026-02-02 16:54:00</pubDate>    <description><![CDATA[<p>
	<br/>
	AGV</p>
<p>
	在智慧工厂、智能仓储和医疗配送等场景中，AGV（自动导引车）与电梯的协同作业正成为提升效率的关键。想象一下，AGV能自主呼叫电梯、精准停靠楼层，实现跨楼层无缝运输——这不仅是科幻场景，而是通过AGV与电梯<a href="https://m.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>（梯控）的深度对接实现的现实。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5A/wKgZPGmAZj2AT6uqAARjOs_bdYA06.jpeg" alt="wKgZPGmAZj2AT6uqAARjOs_bdYA06.jpeg"/>AGV智能仓储</p>
<p>
	一、AGV与电梯对接：技术架构与核心挑战</p>
<p>
	AGV与电梯的协同涉及多层级技术架构，确保机器人能自主完成乘梯全流程。核心挑战包括：</p>
<p>
	<strong>安全机制</strong>：AGV需实时监测电梯状态，如门开闭、轿厢位置，避免碰撞。例如，通过<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>检测电梯门完全开启且无遮挡后，AGV才驶入轿厢，防止夹撞风险。</p>
<p>
	<strong><a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>稳定性</strong>：采用<a href="https://www.elecfans.com/tags/rs-485/" target="_blank"><u>RS-485</u></a>、Modbus-TCP或MQTT协议，实现AGV与电梯<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>的低延迟交互。双网冗余设计可应对网络中断，确保指令实时传输。</p>
<p>
	<strong>兼容性难题</strong>：不同品牌电梯（如三菱、奥的斯）的协议差异大。解决方案包括云对云A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>对接或外装传感器（如<a href="https://www.elecfans.com/tags/rfid/" target="_blank"><u>RFID</u></a><a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>），无需硬件改造即可适配。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5A/wKgZPGmAZj6AN_b6AAO6ITPiyJQ48.jpeg" alt="wKgZPGmAZj6AN_b6AAO6ITPiyJQ48.jpeg"/>AGV坐电梯</p>
<p>
	二、自动乘梯流程：从呼叫到离开的智能闭环</p>
<p>
	AGV的乘梯流程分为四个关键步骤：</p>
<p>
	<strong>呼叫电梯</strong>：AGV定位至电梯厅，通过调度系统发送外呼指令。梯控根据优先级（如任务紧急度）分配电梯，避免人机混用冲突。</p>
<p>
	<strong>进入电梯</strong>：AGV确认电梯门完全开启且环境安全后，以预设速度驶入。安全<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>联动机制确保门完全打开前AGV不启动，防止夹撞。</p>
<p>
	<strong>目标楼层选择</strong>：AGV发送目标楼层指令。在人机混用场景中，<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>优先使用独立指令通道，避免干扰人工操作。</p>
<p>
	<strong>离开电梯</strong>：电梯抵达目标楼层并停稳后，AGV检测门开状态，自主驶离并继续任务。实时监控电梯运行状态，异常时触发紧急制动。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5B/wKgZO2mAZj6AUPaBAAKscimTwBM14.jpeg" alt="wKgZO2mAZj6AUPaBAAKscimTwBM14.jpeg"/>AGV小车</p>
<p>
	三、应用场景：从工厂到医院的全域赋能</p>
<p>
	AGV与电梯对接技术已广泛应用于多个领域：</p>
<p>
	<strong>智能工厂</strong>：AGV在汽车制造车间跨楼层搬运零件，通过外呼+内呼组合方案提升效率40%，减少电梯空驶率。</p>
<p>
	<strong>医疗配送</strong>：医院AGV运送药品和设备，避开人流高峰，通过时间错峰策略确保安全。例如，手术专用电梯仅响应AGV指令，避免人工干扰。</p>
<p>
	<strong>仓储物流</strong>：AGV在电商仓库中自主乘梯运输货物，通过路径规划<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>优化任务优先级，减少等待时间。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5A/wKgZPGmAZj-ARBzEAAKj6KUr6-Y69.jpeg" alt="wKgZPGmAZj-ARBzEAAKj6KUr6-Y69.jpeg"/>AGV出电梯</p>
<p>
	AGV与电梯的智能对接，正从技术概念走向规模化应用。它不仅解决了跨楼层物流的痛点，更以安全、高效、兼容的特性，成为智慧城市建设的基石。未来，随着<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>与<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>的深度融合，AGV与电梯的共舞将更加精准，为各行各业开启自动化新纪元。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[探索LM48511：高效音频功率放大器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7635389.html</link>    <guid>https://www.elecfans.com/d/7635389.html</guid>    <pubDate>2026-02-02 16:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635389" value="https://file1.elecfans.com/web3/M00/4A/5A/wKgZPGmAZGaAUY8AAAqJiYNFavk956.pdf"/><h1>探索LM48511：高效<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>的卓越之选</h1>
<p>在电子设备的音频处理领域，高效、低电磁干扰（EMI）的音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>一直是<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们追求的目标。今天，我们就来深入探讨一款由<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的明星产品——LM48511 3 - W，超低频 EMI、无<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>、单声道 D 类音频功率放大器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635389" target="_blank">lm48511.pdf</a></p>
<h2>一、LM48511的核心特性</h2>
<h3>1. 强大的功率输出</h3>
<p>LM48511 在 5V <a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>下，能向 8Ω 负载提供 3W 的连续功率输出，且总谐波失真加噪声（THD + N）仅为 1%。在 3V 电源下，也能输出 1W 的功率，充分满足不同电源场景下的音频需求。</p>
<h3>2. 低 EMI 设计</h3>
<p>可选择的扩频模式是其一大亮点，能有效降低电磁干扰，减少对其他电子设备的影响。这对于对 EMI 要求严格的应用场景，如便携式电子设备，尤为重要。</p>
<h3>3. 高转换效率</h3>
<p>高达 80% 的效率，意味着在输出相同功率的情况下，能显著降低功耗，延长电池续航时间。这对于依靠电池供电的便携式设备来说，无疑是一个巨大的优势。</p>
<h3>4. 灵活的控制功能</h3>
<p>独立的稳压器和放大器关断控制，让工程师可以根据实际需求灵活调整设备的工作状态，进一步优化功耗。同时，动态可选的稳压器输出电压，能根据电池电压和输出功率要求，优化放大器的电源电压，提高效率。</p>
<h3>5. 无滤波器设计</h3>
<p>采用无滤波器的 D 类放大器架构，不仅减少了外部元件数量，降低了电路板面积和系统成本，还简化了设计过程。</p>
<h3>6. 出色的噪声抑制</h3>
<p>具备低关断<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>和点击与爆裂声抑制功能，能有效消除电源开启和关闭时的可听瞬态噪声，提供纯净的音频输出。</p>
<h2>二、广泛的应用领域</h2>
<p>LM48511 的高性能使其在众多领域得到了广泛应用，包括但不限于：</p>
<h3>1. 全球定位系统（GPS）</h3>
<p>在 GPS 设备中，LM48511 能为语音导航提供清晰、响亮的音频输出，同时其低功耗特性有助于延长设备的电池续航时间。</p>
<h3>2. 便携式媒体设备</h3>
<p>如 MP3 播放器、平板<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>等，LM48511 能满足这些设备对高品质音频的需求，同时不影响设备的便携性和电池寿命。</p>
<h3>3. 相机</h3>
<p>为相机的音频录制和回放功能提供支持，确保拍摄的视频具有清晰的音频效果。</p>
<h3>4. 移动电话</h3>
<p>在<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>中，LM48511 能提供出色的免提通话和媒体播放音频质量，提升用户的使用体验。</p>
<h3>5. 手持游戏设备</h3>
<p>为游戏中的音效提供逼真的音频效果，增强游戏的沉浸感。</p>
<h2>三、深入剖析LM48511的<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>1. 集成架构</h3>
<p>LM48511 集成了升压<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>和高效 D 类音频功率放大器。升压转换器能将输入电压提升到合适的水平，为放大器提供稳定的电源；D 类放大器则采用低噪声 PWM 架构，消除了输出滤波器，减少了外部元件数量。</p>
<h3>2. 扩频调制</h3>
<p>可选择的扩频调制方案，通过随机改变开关频率，将能量分散到更宽的频带上，从而降低了特定频率上的电磁辐射，减少了对其他设备的干扰。</p>
<h3>3. 双反馈网络</h3>
<p>稳压器的双反馈网络允许其在两种不同的输出电压之间动态切换。根据电池电压和输出功率要求，选择合适的输出电压，优化放大器的电源电压，提高效率。</p>
<h3>4. 增益设置</h3>
<p>放大器的增益由外部<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>设置，这使得工程师可以根据不同的应用需求，灵活调整增益，实现独立的增益控制。</p>
<h2>四、关键参数解读</h2>
<h3>1. 静态电源电流</h3>
<p>在不同电源电压下，LM48511 的静态电源电流表现不同。例如，在 3V 电源下，典型静态电流为 9mA；在 5V 电源下，典型静态电流为 13.5mA。较低的静态电流有助于降低功耗。</p>
<h3>2. 输出功率</h3>
<p>在不同负载电阻和电源电压下，LM48511 的输出功率也有所不同。如在 5V 电源、7.8V PV1 和 8Ω 负载下，THD + N = 1% 时，典型输出功率为 3W；在 4Ω 负载下，典型输出功率可达 5.4W。</p>
<h3>3. 关断电流</h3>
<p>在 3V 电源下，典型关断电流仅为 0.01μA，这表明在设备不工作时，LM48511 能将功耗降至极低水平。</p>
<h2>五、应用设计要点</h2>
<h3>1. 外部元件选择</h3>
<ul>
<li><strong><a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a></strong>：对于开关转换器部分，多层陶瓷<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>器是最佳选择，推荐使用 X5R 和 X7R 介电类型。例如，在电源旁路电容的选择上，应尽量选择低 ESR 的陶瓷电容，并将其放置在靠近设备引脚的位置。</li>
<li><strong><a href="https://m.hqchip.com/app/856" target="_blank"><u>电感器</u></a></strong>：选择具有足够连续电流额定值的电感器，以避免在峰值电流下饱和。推荐使用 <a href="https://www.elecfans.com/tags/vishay/" target="_blank"><u>Vishay</u></a> Dale 的 IHLP - 2525CZ - 01 电感器。</li>
<li><strong><a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a></strong>：使用<a href="https://m.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a>二极管，如 <a href="https://www.elecfans.com/tags/diode/" target="_blank"><u>Diode</u></a>s Incorpora<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>d 的 DFLS230LH 二极管，以满足高频率开关的要求。
<h3>2. 电源旁路</h3>
<p>为了实现低噪声性能和高电源抑制比，PV1、V1 和 VDD 引脚的旁路电容应尽可能靠近设备放置。</p>
<h3>3. 音频放大器增益设置</h3>
<p>放大器的增益由四个外部电阻（R5、R6、R7、R8）设置，应确保电阻对（R6 和 R8、R5 和 R7）的匹配精度，推荐使用公差为 1% 或更好的电阻。</p>
<h3>4. 音频放大器输入电容选择</h3>
<p>对于单端输入应用，输入电容可用于阻挡音频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的直流分量，同时形成<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a>滤波器。推荐使用 0.18μF 的电容和 20kΩ 的输入电阻，以优化点击与爆裂声性能。</p>
<h3>5. 稳压器输出电容选择</h3>
<p>对于大多数应用，单个 100μF 的低 ESR <a href="https://m.hqchip.com/app/395" target="_blank"><u>钽电容</u></a>可提供足够的输出电容。更高的电容值有助于改善线路调节和瞬态响应。</p>
<h3>6. 软启动电容选择</h3>
<p>软启动电容（CSS）的选择需要在唤醒时间和启动瞬态电流之间进行权衡。一般建议使用比升压转换器输出电容小 1000 倍的电容值，典型应用中推荐使用 0.1μF 的电容。</p></li>
</ul>
<h2>六、布局设计建议</h2>
<h3>1. 电源和接地电路</h3>
<p>采用星形走线技术，将电源和接地信号从一个信号点辐射到各个电路或设备，有助于提高低电平信号的性能。</p>
<h3>2. 避免干扰</h3>
<p>避免在电感器下方布线，以减少电磁干扰。同时，使用三个独立的接地（信号或安静接地、设备接地、开关接地），最终连接到一个点，确保信号的稳定性。</p>
<h2>七、总结</h2>
<p>LM48511 以其卓越的性能、灵活的控制功能和广泛的应用领域，成为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在音频功率放大器设计中的理想选择。通过深入了解其特性、工作原理和应用设计要点，工程师们可以充分发挥其优势，设计出高效、低 EMI 的音频系统。在实际应用中，我们还需要根据具体的需求和场景，灵活调整设计参数，确保系统的性能和稳定性。你在使用 LM48511 或类似音频功率放大器时，遇到过哪些挑战？又是如何解决的呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[MAX16834：高性能高亮度LED驱动方案解析]]></title>    <link>https://www.elecfans.com/d/7635391.html</link>    <guid>https://www.elecfans.com/d/7635391.html</guid>    <pubDate>2026-02-02 16:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635391" value="https://file1.elecfans.com/web2/M00/82/81/pYYBAGOTpxaALzRLAAONNpzYuqc479.pdf"/><h1>MAX16834：高性能高亮度<a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>方案解析</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常工作中，高亮度<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>（HB LED）驱动设计是一个常见且重要的任务。今天，我们就来详细探讨一下<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a> In<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>grated推出的MAX16834，这是一款功能强大的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>模式HB LED驱动器，适用于多种拓扑结构，能为我们的设计带来诸多便利。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635391" target="_blank">MAX16834.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX16834是一款专为高亮度LED设计的电流模式<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>，支持升压、升降压、SE<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>C和高端降压等多种拓扑结构。它不仅能驱动由<a href="https://m.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>器控制的N沟道功率<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>开关，还能驱动N沟道PWM调光开关，实现LED的PWM调光。该芯片集成了实现固定频率HB LED驱动器所需的所有模块，具备宽范围调光控制功能。</p>
<h3>关键特性</h3>
<ol>
<li><strong>集成度高</strong>：将高侧LED电流检测<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>和PWM调光MOSFET驱动器集成在一起，减少了物料清单（BOM），节省了空间和成本。</li>
<li><strong>控制模式</strong>：采用恒定频率、峰值电流模式控制，并具备可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>斜率补偿功能，可有效控制PWM<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>的占空比。</li>
<li><strong>调光功能</strong>：支持3000:1的PWM调光和<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>调光，调光范围广，能满足不同应用场景的需求。</li>
<li><strong>频率可编程</strong>：开关频率可在100kHz至1MHz之间进行编程，方便进行效率和电路板空间的优化设计。</li>
<li><strong>同步功能</strong>：支持外部<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>同步输入，可与外部时钟同步工作。</li>
<li><strong>宽输入电压范围</strong>：工作电压范围为4.75V至28V，在升压配置下，通过外部电压钳位，还能在输入电压大于28V的情况下工作。</li>
<li><strong>保护功能</strong>：具备可编程欠压锁定（UVLO）、真正的差分过压保护、故障输出（FLT）等保护功能，提高了系统的可靠性。</li>
</ol>
<h2>二、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h2>
<h3>输入与输出参数</h3>
<ul>
<li><strong>输入电压范围</strong>：4.75V至28V，能适应多种<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境。</li>
<li><strong>静态电源电流</strong>：典型值为10mA（不包括LED电流），关机状态下的电源电流低至30 - 60μA，有助于降低功耗。</li>
<li><strong>输出电压</strong>：内部<a href="https://m.hqchip.com/app/1700" target="_blank"><u>线性稳压器</u></a>（VCC）输出电压在6.3 - 7.7V之间，能为其他模块提供稳定的电源。</li>
</ul>
<h3>关键性能指标</h3>
<ul>
<li><strong><a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>频率</strong>：可通过RT/SYNC引脚连接的<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>进行编程，范围为100kHz至1MHz，也可与外部时钟同步。</li>
<li><strong>斜率补偿</strong>：SC引脚的上拉电流为100μA，放电电阻为8Ω，能有效避免电流环路不稳定和次谐波振荡。</li>
<li><strong>高侧LED电流检测放大器</strong>：输入失调电压典型值为0V，电压增益为9.9V/V，3dB带宽可达1.8MHz，能准确检测LED电流。</li>
</ul>
<h2>三、应用场景</h2>
<h3>照明领域</h3>
<ul>
<li><strong>单串LED LCD背光</strong>：为LCD显示屏提供均匀、稳定的背光照明。</li>
<li><strong>汽车前后照明</strong>：满足汽车照明对高亮度、高可靠性的要求。</li>
<li><strong>建筑和装饰照明</strong>：如MR16、M111等灯具，可实现多样化的照明效果。</li>
<li><strong>聚光灯和环境灯</strong>：为不同场景提供合适的照明亮度和氛围。</li>
</ul>
<h3>电源转换</h3>
<ul>
<li><strong><a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC升压/升<a href="https://www.elecfans.com/tags/降压转换器/" target="_blank"><u>降压转换器</u></a></strong>：可用于实现不同电压之间的转换，为其他设备提供稳定的电源。</li>
</ul>
<h2>四、设计要点</h2>
<h3>引脚连接与功能</h3>
<p>MAX16834的引脚功能丰富，在设计时需要根据具体应用进行正确连接。例如：</p>
<ul>
<li><strong>OVP+</strong>：用于设置LED串的过压保护阈值，通过连接电阻分压器来实现。</li>
<li><strong>RT/SYNC</strong>：可通过连接电阻设置开关频率，也可连接外部时钟进行同步。</li>
<li><strong>PWMDIM</strong>：用于PWM调光输入，控制LED的亮度。</li>
</ul>
<h3>参数计算与选择</h3>
<h4>1. UVLO阈值设置</h4>
<p>通过电阻R1和R2设置UVLO阈值，公式为 (V_{UVEN}=1.435V(R1 + R2)/R2) 。在典型应用中，可使用10kΩ的电阻作为R2，然后根据需要计算R1的值。</p>
<h4>2. 编程LED电流</h4>
<p>LED电流可通过REFI引脚的电压和LED电流检测电阻R10进行编程，公式为 (LED=fr<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{V_{REF} × R 5}{R 10 <a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>mes(R 6+R 5) × 9.9}(A)) 。需要注意的是，LED电流检测电阻上的调节电压不得超过0.3V，以防止触发LED短路<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>。</p>
<h4>3. 电感和<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>选择</h4>
<ul>
<li><strong>电感</strong>：根据不同的拓扑结构（升压或升降压），计算最大平均电感电流、峰 - 峰电感电流纹波和峰值电感电流，然后选择合适的电感值和电流额定值。</li>
<li><strong>输出电容</strong>：其作用是将输出纹波降低到可接受的水平，可通过计算选择合适的电容值和类型。为了减少ESL和ESR的影响，可使用多个陶瓷电容并联。
<h4>4. 斜率补偿</h4>
<p>对于占空比超过50%的连续导通模式的峰值电流模式控制转换器，需要添加斜率补偿以避免电流环路不稳定和次谐波振荡。在MAX16834中，可通过在SC引脚连接电容来实现斜率补偿。</p></li>
</ul>
<h3>反馈补偿</h3>
<p>为了实现LED电流的稳定控制，需要对由开关<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>、LED电流放大器和误差放大器组成的LED电流控制环路进行补偿。通过计算右半平面（RHP）零频率和输出极点频率，选择合适的补偿组件R7和C7，以确保环路增益在合适的频率下穿越0dB，并保持稳定的相位裕度。</p>
<h2>五、布局建议</h2>
<p>在<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局时，需要注意以下几点，以减少噪声干扰，提高系统性能：</p>
<ol>
<li><strong>散热设计</strong>：在MAX16834封装下方使用大面积的连续铜平面，确保所有散热组件有足够的散热空间。</li>
<li><strong><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>隔离</strong>：将功率组件和高电流路径与敏感的模拟电路隔离开来，避免相互干扰。</li>
<li><strong>缩短电流路径</strong>：保持高电流路径短，特别是在接地<a href="https://m.hqchip.com/app/1529" target="_blank"><u>端子</u></a>处，以减少电流环路和开关损耗。</li>
<li><strong>星型接地</strong>：将PGND和SGND连接成星型结构，有助于减少接地噪声。</li>
<li><strong>高速节点布线</strong>：将高速开关节点远离敏感的模拟区域，可使用内部PCB层作为PGND和SGND平面，作为EMI屏蔽层。</li>
<li><strong>减少电容放电</strong>：确保靠近补偿电容的PCB区域具有极低的泄漏电流，以防止在调光周期的关断时间内电容放电，影响调光性能。</li>
</ol>
<h2>六、总结</h2>
<p>MAX16834是一款功能强大、性能优越的高亮度LED驱动器，它集成了多种功能模块，具备宽范围调光控制和丰富的保护功能，适用于多种照明和电源转换应用。在设计过程中，我们需要根据具体需求正确连接引脚，合理计算和选择参数，并注意PCB布局，以充分发挥其性能优势。希望通过本文的介绍，能帮助电子工程师们更好地理解和应用MAX16834，为设计出更优秀的产品提供参考。</p>
<p>你在使用MAX16834的过程中遇到过哪些问题？或者你对高亮度LED驱动设计有什么独特的见解？欢迎在评论区留言分享！ </p>]]></description></item><item>    <title><![CDATA[探索MAX16835：高电压、350mA可调线性高亮度LED驱动器]]></title>    <link>https://www.elecfans.com/d/7635392.html</link>    <guid>https://www.elecfans.com/d/7635392.html</guid>    <pubDate>2026-02-02 16:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635392" value="https://file1.elecfans.com/web2/M00/81/F7/poYBAGOTpxCAHTqqAANL5sGDUks198.pdf"/><h1>探索MAX16835：高电压、350mA可调线性高亮度<a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>器</h1>
<h2>引言</h2>
<p>在电子设计领域，<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>照明应用广泛，而合适的LED<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>对于实现高效、稳定的照明至关重要。<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>Maxim</u></a> In<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>grated的MAX16835就是一款颇具特色的高电压、350mA可调线性高亮度LED驱动器。今天，我们就来深入了解一下这款驱动器的特点、性能及应用。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635392" target="_blank">MAX16835.pdf</a></p>
<h2>产品概述</h2>
<p>MAX16835<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>调节器的输入电压范围为6.5V至40V，能够为一个或多个高亮度LED（HB LED）串提供高达350mA的总电流。其输出电流可通过与LED串联的外部<a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a><a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>进行调节，使设计更加灵活。该驱动器还具备使能输入，可实现大范围的“脉冲”调光，同时波形成形电路能有效降低EMI，差分电流检测输入则增强了抗噪能力。此外，它适用于需要高电压输入的应用，能承受高达40V的汽车负载突降事件，片上传输元件在提供±3.5%输出电流精度的同时，还能最大限度减少外部元件数量。</p>
<h2>产品特性亮点</h2>
<h3>宽工作电压范围</h3>
<p>+6.5V至+40V的工作范围，使其能适应多种复杂的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境，尤其适合汽车等对电压稳定性要求较高的应用场景。</p>
<h3>可调LED电流</h3>
<p>LED电流可在35mA至350mA之间进行调节，且输出电流精度达到±3.5%，能满足不同亮度需求的LED照明设计。</p>
<h3>低 dropout 电压</h3>
<p>集成的传输元件具有低 dropout 电压（典型值为0.55V），有助于降低功耗，提高能源效率。</p>
<h3>多重保护功能</h3>
<p>具备输出短路保护、热关断保护等功能，能有效保护驱动器和LED免受损坏，提高系统的可靠性。</p>
<h3>5V 稳压输出</h3>
<p>提供+5V稳压输出，具有4mA的源能力，可用于为外部电路供电，简化了系统设计。</p>
<h3>低功耗设计</h3>
<p>低关断电源电流（典型值为35µA）和200mV的低电流检测参考电压，可降低功耗，延长电池续航时间。</p>
<h3>减少 EMI</h3>
<p>波形成形边缘可减少PWM调光期间的辐射EMI，符合<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性要求。</p>
<h3>小尺寸封装</h3>
<p>采用热增强型5mm x 5mm、16引脚TQFN封装，节省了电路板空间，适合小型化设计。</p>
<h3>宽工作温度范围</h3>
<p>-40°C至+125°C的工作温度范围，能适应各种恶劣的工作环境。</p>
<h2><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性分析</h2>
<h3>电源电压与电流</h3>
<ul>
<li><strong>电源电压范围</strong>：6.5V至40.0V，确保了在不同电源条件下的稳定工作。</li>
<li><strong>接地电流</strong>：在负载电流为350mA时，典型值为1.28mA，最大值为3mA。</li>
<li><strong>关断电源电流</strong>：当使能输入电压V_EN ≤ 0.6V时，典型值为35µA，最大值为70µA。</li>
</ul>
<h3>输出电流相关特性</h3>
<ul>
<li><strong>保证输出电流</strong>：当检测电阻R_SENSE = 0.55Ω时，输出电流为350mA。</li>
<li><strong>输出电流精度</strong>：在35mA &lt; I_OUT &lt; 350mA范围内，精度为±3.5%。</li>
<li><strong>dropout 电压</strong>：在不同输入电压和负载条件下，dropout 电压有所不同，但典型值为0.55V。</li>
<li><strong>输出电流压摆率</strong>：电流上升和下降时均为7.8mA/µs。</li>
<li><strong>短路电流</strong>：当输入电压V_IN = 12V，V_CS+ = 0V时，短路电流在400mA至650mA之间。</li>
</ul>
<h3>逻辑输入特性</h3>
<ul>
<li><strong>EN输入电流</strong>：范围为 -2.5µA至 -0.2µA。</li>
<li><strong>EN输入电压高</strong>：为2.8V。</li>
<li><strong>EN输入电压低</strong>：为0.6V。</li>
<li><strong>开启时间</strong>：从使能输入上升沿到输出达到90%的时间，典型值为110µs，最大值为350µs。</li>
</ul>
<h3>电流检测特性</h3>
<ul>
<li><strong>调节后的R_SENSE电压</strong>：V_SENSE = V_CS+ - V_CS-，范围为193mV至207mV，典型值为200mV。</li>
<li><strong>输入电流（CS+）</strong>：当V_CS+ = 220mV时，典型值为2.7µA，最大值为7.0µA。</li>
<li><strong>输入电流（CS-）</strong>：当V_CS+ = 220mV时，范围为 -50µA至 -17.2µA。</li>
</ul>
<h3>热过载与5V 稳压器特性</h3>
<ul>
<li><strong>热关断温度</strong>：典型值为+159°C。</li>
<li><strong>热关断迟滞</strong>：为24°C。</li>
<li><strong>5V稳压器输出电压</strong>：范围为4.85V至5.20V，典型值为5.00V。</li>
<li><strong>输出电压负载调整率</strong>：在0 &lt; I_LOAD &lt; 4mA时，为12mV/mA至20mV/mA。</li>
<li><strong>V5短路电流</strong>：当V5 = 0V时，为15mA。</li>
</ul>
<h2>典型应用场景</h2>
<h3>汽车领域</h3>
<ul>
<li><strong>汽车内饰照明</strong>：如地图灯、礼貌灯和仪表盘照明，可提供稳定、均匀的照明效果。</li>
<li><strong>汽车外部照明</strong>：适用于尾灯和高位刹车灯等，确保在各种环境下的可见性。
<h3>其他领域</h3></li>
<li><strong>应急车辆警示灯</strong>：为应急车辆提供高亮度、可靠的警示照明。</li>
<li><strong>导航和海洋指示器</strong>：满足在不同光照条件下的指示需求。</li>
<li><strong>通用照明</strong>：可用于商业照明、家居照明等场景。</li>
<li><strong>标识、加油站雨棚和信标</strong>：提供清晰、醒目的照明。</li>
</ul>
<h2>应用设计要点</h2>
<h3><a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>LED电流</h3>
<p>通过在CS+和CS-之间连接检测电阻R_SENSE来设置LED电流，LED电流可通过公式ILED = V_SENSE / R_SENSE计算得出。这种方式利用了差分检测<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>，可提供接地环路抗扰性和低频噪声抑制。</p>
<h3>输入电压考虑</h3>
<p>为确保驱动器正常工作，最小输入电压必须满足V_IN(MIN) ≥ V_SENSE(MAX) + V_FT(MAX)，其中V_FT(MAX)是所有串联LED的总正向电压。虽然该驱动器可在低于+6.5V的电压下工作，但输出电流可能无法满足完整的调节规格。</p>
<h3>低频PWM调光</h3>
<p>MAX16835支持脉冲或斩波电流调光。为实现LED亮度的均匀性，建议采用PWM脉冲方式，使LED电流达到其额定值。有两种产生PWM输出的方法：一是在IN端保持恒定电压的同时对使能输入（EN）进行脉冲操作；二是将EN连接到IN并同时对两者进行脉冲操作。这两种方法都能产生调节幅度的PWM电流（可变占空比），从而控制LED亮度。</p>
<h2>总结</h2>
<p>MAX16835作为一款高性能的高亮度LED驱动器，凭借其宽工作电压范围、可调电流、多重保护功能和低功耗设计等特点，在汽车照明和其他通用照明领域具有广泛的应用前景。<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>照明系统时，可充分考虑其特性和优势，以实现高效、稳定的LED驱动方案。你在使用类似LED驱动器时遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[探索MAX16836：高性能高亮度LED驱动的理想之选]]></title>    <link>https://www.elecfans.com/d/7635393.html</link>    <guid>https://www.elecfans.com/d/7635393.html</guid>    <pubDate>2026-02-02 16:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635393" value="https://file1.elecfans.com/web2/M00/81/F7/poYBAGOTpt2ASGG1AALDEstKtZg741.pdf"/><h1>探索MAX16836：高性能高亮度<a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>的理想之选</h1>
<p>在电子设计领域，高亮度<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>驱动的性能直接影响着各类照明应用的效果。今天，我们就来深入探讨一款出色的高亮度LED驱动芯片——MAX16836。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635393" target="_blank">MAX16836.pdf</a></p>
<h2>一、MAX16836概述</h2>
<p>MAX16836是一款功能强大的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>调节器，其输入电压范围为6.5V至40V，能够为一串或多串高亮度LED（HB LEDs）提供高达350mA的总电流。它通过与LED串联的外部<a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a><a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>来调节输出电流，具有PWM调光功能，其波形整形电路可降低EMI，差分电流检测输入则增强了抗噪能力。此外，该芯片还能承受高达40V的汽车负载突降事件，片上传输元件在保证±3.5%输出电流精度的同时，还能最大限度减少外部元件数量。它还具备5V稳压输出、短路和热保护等附加功能。</p>
<h2>二、产品特性亮点</h2>
<h3>2.1 宽工作电压范围</h3>
<p>+6.5V至+40V的工作范围，使其能适应多种不同的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境，尤其适合需要高电压输入的应用，如<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>领域。</p>
<h3>2.2 可调LED电流</h3>
<p>LED电流可在35mA至350mA之间进行调节，并且具有±3.5%的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>，能满足不同亮度需求的应用场景。</p>
<h3>2.3 高效调光与低功耗</h3>
<p>高电压DIM引脚用于调光接口，结合波形整形边缘技术，可在PWM调光期间降低辐射EMI。同时，其低关断电源电流（典型值35µA）有助于降低功耗。</p>
<h3>2.4 保护功能完善</h3>
<p>具备热关断和输出短路保护功能，能有效保护芯片和LED，提高系统的可靠性。</p>
<h3>2.5 多种封装可选</h3>
<p>提供5mm x 5mm、16引脚TQFN封装和8引脚SO封装（带裸露焊盘），方便不同的<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局和散热需求。</p>
<h3>2.6 工作温度范围广</h3>
<p>-40°C至+125°C的工作温度范围，使其能在各种恶劣环境下稳定工作。</p>
<h2>三、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性解析</h2>
<h3>3.1 电源电压与电流</h3>
<p>电源电压范围为6.5V至40.0V，在负载电流为350mA时，接地电流典型值为1.28mA，关断电源电流典型值为35µA。</p>
<h3>3.2 输出电流相关特性</h3>
<p>保证输出电流在检测电阻为0.55Ω时为350mA，输出电流精度在35mA至350mA范围内为±3.5%。dropout电压在不同输入电压和负载条件下有相应的典型值和最大值。</p>
<h3>3.3 逻辑输入与电流检测</h3>
<p>EN输入电流、输入电压高低电平有明确的参数范围，开启时间在110µs至350µs之间。调节后的检测电阻电压典型值为200mV。</p>
<h2>四、典型应用场景</h2>
<h3>4.1 汽车照明</h3>
<ul>
<li><strong>车内照明</strong>：如地图灯、礼貌灯和仪表盘照明等。</li>
<li><strong>车外照明</strong>：尾灯和高位刹车灯等。
<h3>4.2 应急车辆警示灯</h3>
<p>为应急车辆提供可靠的警示照明。</p>
<h3>4.3 导航与船舶指示器</h3>
<p>确保在不同环境下能准确指示方向。</p>
<h3>4.4 通用照明与标识</h3>
<p>适用于各种商业和工业照明场景。</p></li>
</ul>
<h2>五、设计要点与注意事项</h2>
<h3>5.1 LED电流<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a></h3>
<p>通过在CS+和CS-之间连接检测电阻来设置LED电流，计算公式为(ILED = V <em>{SENSE / R</em>{SENSE }})。</p>
<h3>5.2 输入电压考虑</h3>
<p>为保证正常工作，最小输入电压必须满足(V<em>{I N(MIN)} geq V</em>{SENSE(MAX)}+V<em>{F T(M A X)}+Delta V</em>{DO}(MAX))，其中(V_{FT(MAX)})是所有串联LED的总正向电压。</p>
<h3>5.3 低频率PWM调光</h3>
<p>可通过脉冲或斩波电流调光输入（DIM），也可将DIM连接到V5，EN连接到IN并对EN进行脉冲操作，以实现对LED亮度的控制。</p>
<h3>5.4 热保护与电流折返</h3>
<p>当芯片过热时，会进入热关断模式，当结温下降24°C（典型值）后恢复。还可通过负温度系数（NTC）热敏电阻实现LED电流热折返。</p>
<h2>六、总结</h2>
<p>MAX16836凭借其宽工作电压范围、高精度输出电流调节、完善的保护功能和丰富的应用场景适应性，成为高亮度LED驱动设计中的优秀选择。在实际设计中，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们需要根据具体的应用需求，合理选择封装形式、设置LED电流和输入电压等参数，以充分发挥该芯片的性能优势。你在使用类似LED驱动芯片时遇到过哪些挑战呢？欢迎在评论区分享你的经验和想法。 </p>]]></description></item><item>    <title><![CDATA[深入解析MAX16833：高性能高压HB LED驱动芯片]]></title>    <link>https://www.elecfans.com/d/7635395.html</link>    <guid>https://www.elecfans.com/d/7635395.html</guid>    <pubDate>2026-02-02 16:55:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635395" value="https://file1.elecfans.com/web2/M00/27/89/pYYBAGHCi4aARi_RABE4xNAt6ks387.pdf"/><h1>
	深入解析MAX16833/MAX16833B/C/D/G：高性能<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>HB <a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>芯片</h1>
<p>
	在如今照明技术飞速发展的时代，<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>的性能直接影响着照明系统的表现。MAX16833/MAX16833B/C/D/G系列作为高性能的高压HB LED驱动芯片，为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们提供了诸多优势和丰富的功能。今天，我们就来深入剖析这款芯片，探索它的奥秘。</p>
<p>
	文件下载：<a href="javascript:;" data-annex="annex0_7635395" target="_blank">MAX16833.pdf</a></p>
<h2>
	芯片概述</h2>
<p>
	MAX16833、MAX16833B、MAX16833C、MAX16833D和MAX16833G是一系列采用峰值<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>模式控制的LED驱动芯片，适用于升压、降压 - 升压、SE<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>C、反激和高端降压等多种拓扑结构。它具有以下显著特点：</p>
<ul><li>
		<strong>宽输入电压范围</strong>：能够在5V至65V的宽<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>范围内稳定工作，最大升压输出可达65V，适应多种电源环境。</li>
	<li>
		<strong>集成高端<a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a></strong>：集成了高端pMOS调光<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a><a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>，支持单线连接到LED，同时具备集成高端电流检测<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>，满量程高端电流检测电压为200mV，提高了电流检测的准确性。</li>
	<li>
		<strong>宽范围调光控制</strong>：不仅支持PWM调光，还能通过ICTRL引脚实现<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>调光，提供了灵活的调光方式。</li>
	<li>
		<strong>可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>开关频率</strong>：通过单个<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>从RT/SYNC连接到地，可将开关频率设置在100kHz至1MHz之间，还能通过外部<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>实现同步，部分型号还支持频率抖动以用于扩频应用。</li>
	<li>
		<strong>丰富的保护功能</strong>：具备短路、过压和热保护功能，以及故障指示输出（FLT）和过压保护检测输入（OVP），提高了系统的可靠性。</li>
</ul><h2>
	<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性详解</h2>
<h3>
	电源相关特性</h3>
<ul><li>
		<strong>工作电源电压</strong>：范围为5V至65V，能适应不同的电源输入。</li>
	<li>
		<strong>电源电流</strong>：在PWMDIM = 0且无开关操作时，典型值为1.5mA，最大值为2.5mA。</li>
	<li>
		<strong>欠压锁定（UVLO）</strong>：上升阈值典型值为4.55V，下降阈值典型值为4.3V，具有250mV的迟滞，确保芯片在合适的电压下启动和关闭。</li>
</ul><h3>
	<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>特性</h3>
<ul><li>
		<strong>开关频率范围</strong>：可在100kHz至1MHz之间编程，不同型号的频率计算公式略有不同。</li>
	<li>
		<strong>偏置电压</strong>：RT/SYNC引脚的偏置电压典型值为1V。</li>
	<li>
		<strong>最大占空比</strong>：不同型号有所差异，如MAX16833/MAX16833B在VCS = 0V时最大占空比为87.5% - 89.5%，MAX16833C/MAX16833D/MAX16833G为93% - 95%。</li>
</ul><h3>
	调光特性</h3>
<ul><li>
		<strong>PWM调光</strong>：ON阈值典型值为1.225V，具有70mV的迟滞，能实现快速的PWM电流切换。</li>
	<li>
		<strong>模拟调光</strong>：通过ICTRL引脚实现，输入偏置电流在VICTRL = 0.62V时典型值为35nA。</li>
</ul><h3>
	其他特性</h3>
<ul><li>
		<strong><a href="https://www.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>器</strong>：NDRV引脚的峰值上拉和下拉电流可达3A，上升和下降时间在CNDRV = 10nF时典型值为30ns。</li>
	<li>
		<strong>过压保护</strong>：阈值典型值为1.225V，具有70mV的迟滞。</li>
	<li>
		<strong>热关断</strong>：温度上升时热关断温度典型值为+160°C，具有10°C的迟滞。</li>
</ul><h2>
	典型应用电路及设计要点</h2>
<h3>
	过压阈值设置</h3>
<p>
	过压阈值由电阻R5和R11设置，当OVP引脚相对于地的电压超过1.23V时，过压电路启动，可使用公式Vov = 1.23V(R5 + R11) / R11来设置所需的过压阈值。</p>
<h3>
	LED电流编程</h3>
<ul><li>
		当VICTRL &gt; 1.23V时，内部参考将R7两端的电压调节为200mV，LED电流计算公式为LED = 200mV / R7。</li>
	<li>
		当VICTRL &lt; 1.2V时，可通过ICTRL引脚的电压进行模拟调光，LED电流计算公式为LED = VICTRL / (R7 × 6.15)，其中VICTRL可通过REF输出的电阻分压器设置。</li>
</ul><h3>
	电感选择</h3>
<p>
	不同拓扑结构下电感的选择有所不同：</p>
<ul><li>
		<strong>升压配置</strong>：平均电感电流等于输入电流，需根据相关公式计算最大占空比、平均电感电流、峰 - 峰电感电流纹波和峰值电感电流，选择最小电感值大于计算值且电流额定值高于峰值电感电流的电感。</li>
	<li>
		<strong>降压 - 升压配置</strong>：平均电感电流等于输入电流加上LED电流，计算方法与升压配置类似。</li>
	<li>
		<strong>高端降压配置</strong>：平均电感电流等于LED电流，根据最大输入线电压计算最小占空比和峰值电感电流，选择合适的电感。</li>
</ul><h3>
	斜率补偿</h3>
<p>
	对于峰值电流模式控制且占空比超过50%的<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>，需要添加斜率补偿以避免电流环不稳定和次谐波振荡。通过连接电阻R1从CS到电感电流检测电阻<a href="https://m.hqchip.com/app/1529" target="_blank"><u>端子</u></a>来编程斜率补偿量，可根据不同拓扑结构的公式计算所需的最小斜率补偿电压。</p>
<h3>
	输出和输入<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>选择</h3>
<ul><li>
		<strong>输出电容</strong>：主要作用是降低输出纹波，在升压和降压 - 升压配置中，可根据公式计算输出电容值和ESR，选择合适的电容。</li>
	<li>
		<strong>输入电容</strong>：用于旁路转换器吸取的纹波电流，降低高频电流传导到输入电源的幅度，可根据公式计算输入电容值、ESR和<a href="https://www.hqchip.com/app/1718" target="_blank"><u>RMS</u></a>电流额定值。</li>
</ul><h3>
	功率半导体选择</h3>
<ul><li>
		<strong>开关MOSFET</strong>：需选择具有足够电压额定值的MOSFET，以承受最大输出电压、<a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>压降和可能的过冲，同时计算其RMS电流额定值、传导损耗和开关损耗。</li>
	<li>
		<strong><a href="https://www.hqchip.com/app/1557" target="_blank"><u>整流二极管</u></a></strong>：选择<a href="https://m.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a>二极管，其电压额定值应比最大转换器输出电压高20%，电流额定值应大于计算值。</li>
	<li>
		<strong>调光MOSFET</strong>：选择连续电流额定值在工作温度下比LED电流高30%，漏 - 源电压额定值比VLED高20%的MOSFET。</li>
</ul><h3>
	反馈补偿</h3>
<p>
	对于升压和降压 - 升压配置，由于开关转换器小信号传递函数存在右半平面（RHP）零和输出极点，需要进行反馈补偿以稳定控制LED电流。可根据相关公式计算RHP零频率、输出极点频率，并选择合适的补偿电阻和电容。对于高端降压配置，可使用单个电容从COMP连接到地进行补偿。</p>
<h2>
	布局建议</h2>
<p>
	在<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局时，要注意以下几点以减少噪声发射和提高系统性能：</p>
<ul><li>
		<strong>减少高di/dt环路和高dV/dt表面</strong>：尽量缩短携带开关电流的PCB走线，使用接地平面。</li>
	<li>
		<strong>隔离敏感电路</strong>：将功率组件和大电流路径与敏感的模拟电路隔离，特别是在接地端子处保持大电流路径短。</li>
	<li>
		<strong>优化开关环路</strong>：确保D1的阳极靠近MOSFET Q1的漏极，阴极靠近COUT，COUT和电流检测电阻R4直接连接到接地平面。</li>
	<li>
		<strong>合理布局引脚</strong>：连接PGND和SGND在单点，保持功率走线和负载连接短，使用厚铜PCB以提高满载效率。</li>
	<li>
		<strong>多层板设计</strong>：尽可能使用多层板以提高抗噪性和功率耗散，将PGND和SGND平面作为EMI屏蔽层。</li>
</ul><h2>
	应用领域</h2>
<p>
	该系列芯片广泛应用于汽车外部照明（如远光灯、近光灯、信号灯、位置灯、日间行车灯、雾灯和自适应前照灯组件）以及商业、工业和建筑照明等领域。</p>
<h2>
	总结</h2>
<p>
	MAX16833/MAX16833B/C/D/G系列LED驱动芯片以其丰富的功能、宽范围的工作特性和完善的保护机制，为LED照明系统的设计提供了强大的支持。在实际应用中，工程师们需要根据具体的应用需求和电路要求，合理选择和设计芯片的各个参数和外围电路，以实现最佳的性能和可靠性。希望通过本文的介绍，能帮助大家更好地理解和应用这款芯片。你在使用这款芯片时遇到过哪些问题呢？欢迎在评论区分享交流。</p>]]></description></item><item>    <title><![CDATA[开关柜局放在线监测技术应用过程中的注意点]]></title>    <link>https://www.elecfans.com/d/7635399.html</link>    <guid>https://www.elecfans.com/d/7635399.html</guid>    <pubDate>2026-02-02 16:58:00</pubDate>    <description><![CDATA[<p>
	开关柜局放在线监测技术通过实时捕捉局部放电信号，为电力设备健康管理提供科学依据，其核心价值体现在故障预警与风险防控、提升供电可靠性与运维效率、推动<a href="https://bbs.elecfans.com/group_346" target="_blank"><u>智能电网</u></a>与数字化运维等多个方面。在城市配电网、工业园区等场景中，开关柜局放在线监测系统可实时监测开闭所、环网柜等设备状态，避免因绝缘老化引发的短路故障，保障供电的稳定性与连续、可靠性。</p>
<p>
	由于局部放电是绝缘劣化的早期<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，而在线监测技术的应用可提前发现导体电晕、绝缘表面爬电、SF6气体异常等缺陷，通过故障预警与风险防控，有效避免突发故障导致的大面积停电。同时传统人工巡检依赖经验判断，存在漏检风险且周期长。在线监测系统可7×24小时连续采集超声波、特高频、暂态地电压等多维度信号，结合智能算法分析放电类型、强度及趋势，减少盲目检修，有效提升供电可靠性与运维效率。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/2B/C0/wKgZO2iuXhmAFpQ8AAcNIh_4bfs763.png" alt="wKgZO2iuXhmAFpQ8AAcNIh_4bfs763.png"/></p>
<p>
	为确保监测效果与设备安全，开关柜局放在线监测技术在实际中需重点关注多个环节。首先是在<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>选型与安装优化方面，技术适配性是重点，需根据设备类型选择传感器，同时也要考虑非侵入式设计，避免对开关柜结构进行改造，确保设备运行安全。其次是在数据采集与处理规范方面，参数设置需根据设备电压等级、绝缘特性等设置试验电压、测量范围、灵敏度等参数；实时分析在于利用边缘计算模块对采集信号进行初步处理，提取放电幅值、频次、相位等特征参量，减少数据传输压力；并通过长期存储建立设备健康档案，保存历史数据与图谱，为趋势分析与故障预测提供依据。</p>
<p>
	最后在多技术融合与系统升级方面，需考虑技术互补性，可结合UHF、超声波、<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>V、HFCT等多种技术，取长补短，提高诊断准确性。针对智能化升级，引入<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a><a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>自动识别放电类型、评估绝缘状态，减少对专家经验的依赖。通过<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>集成，将监测数据接入配电物联网平台，实现数据驱动的智能决策与运维管理，提升电网智能化水平。</p>
<p>
	本文由陕西公众智能科技有限公司小编撰写。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[芯火微电子8微米超微型热像机芯iTL608 | ApexCore上“芯”，更清晰，更轻盈]]></title>    <link>https://www.elecfans.com/d/7635424.html</link>    <guid>https://www.elecfans.com/d/7635424.html</guid>    <pubDate>2026-02-02 16:58:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;">历经轻量化迭代及专利图像<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>升级，搭载<strong><u>芯火微电子</u></strong>全新<strong><u>ApexCore</u></strong><a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>焦平面<a href="https://m.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>的超微型热像机芯iTL608火热出圈！</p><img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAZo-AaKcMAADQeiNnn9Q081.png" alt="wKgZPGmAZo-AaKcMAADQeiNnn9Q081.png"/><h3 style="margin-left:0px;"><strong>ApexCore加速融入</strong></h3><h3 style="margin-left:0px;"><strong>共见清晰热像焕“芯”升级</strong></h3><p style="margin-left:0px;">ApexCore作为芯火微电子非制冷热像组件的成像核心，将其强大的底层噪声抑制能力完整延续到<strong><u>红外热成像</u></strong>组件之中，大幅提升iTL系列机芯产品的探测灵敏度，更快响应速率，更高信噪比，热量梯度递次区分，目标图像清晰毕现！</p><img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAZp2AAnOXAADagxTSVLs926.png" alt="wKgZPGmAZp2AAnOXAADagxTSVLs926.png"/><p style="margin-left:0px;"/><h3 style="margin-left:0px;"><strong>8微米超轻芯</strong></h3><h3 style="margin-left:0px;"><strong>极致紧凑 + 轻量轻盈</strong></h3><p style="margin-left:0px;">此次iTL608的惊艳问世，即成业内8微米产品在紧凑级别上的典范之作：</p><p style="margin-left:0px;">轻量化升级后的机芯横截面尺寸低至13×13mm，包含定焦无热化镜头的热像机芯总重量最低才不到7克！如此轻量，超乎想象！</p><img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAZqmAIPrIAADBuJYm03o111.png" alt="wKgZPGmAZqmAIPrIAADBuJYm03o111.png"/><p style="margin-left:0px;"/><h3 style="margin-left:0px;"><strong>精准测温</strong></h3><h3 style="margin-left:0px;"><strong>从底层技术确保高精温度感知</strong></h3><p style="margin-left:0px;">在复杂环境下对周围环境进行热量感知和温度采集是红外传感组件的基础功能。iTL608基于ApexCore “更低噪声、更强结构、更简封装与更高一致性” 的强大技术基因，辅以±2℃（±2%）的测温精度，无论热量分布解析，还是温度数据读取，细微温差，精确感知！</p><img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAZrqAfKZ8AIwqPfUhwfA211.png" alt="wKgZPGmAZrqAfKZ8AIwqPfUhwfA211.png"/><p style="margin-left:0px;"/><h3 style="margin-left:0px;"><strong>再降集成门槛</strong></h3><h3 style="margin-left:0px;"><strong>更低功耗 + 更易兼容</strong></h3><p style="margin-left:0px;">iTL608微型热像机芯基于轻量化架构设计理念，稳态功耗低至0.4W，由此开发的整机系统也一并化繁为简，集成后的系统续航能力有效提升，更小巧更轻便的红外整机即时呈现。</p><p style="margin-left:0px;"/><p style="margin-left:0px;">依托集团在红外热成像核心器件领域的先发优势以及ApexCore红外核芯的强劲赋能，芯火微电子在顶尖热像组件方案的创新研发上独树一帜。我们将持续以微型高性能非制冷<strong><u>红外机芯</u></strong>作为发力点，竭力促进智能安防、高端制造、智慧出行、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>等民生领域的智能化转型升级。</p>]]></description></item><item>    <title><![CDATA[TPA3123D2：高效25W立体声D类音频功率放大器的设计指南]]></title>    <link>https://www.elecfans.com/d/7635402.html</link>    <guid>https://www.elecfans.com/d/7635402.html</guid>    <pubDate>2026-02-02 17:00:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635402" value="https://file1.elecfans.com/web3/M00/4A/5A/wKgZPGmAZGeAQoTfABY10nZug_I767.pdf"/><h1>TPA3123D2：高效25W立体声D类<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>的设计指南</h1>
<p>在音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的领域中，D类放大器凭借其高效节能的特性，逐渐成为众多设计<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>的首选。今天，我们就来详细探讨<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的TPA3123D2——一款25W立体声D类音频功率放大器，深入了解它的特性、应用以及设计要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635402" target="_blank">tpa3123d2.pdf</a></p>
<h2>一、产品概述</h2>
<p>TPA3123D2是一款每通道输出功率可达25W的高效D类音频功率放大器。它既可以驱动立体声扬声器（单端配置），也能驱动单声道扬声器（桥接负载配置），并且能够适配低至4Ω的立体声扬声器。这款放大器具有诸多优点，比如在播放音乐时无需外部散热片，通过两个增益选择引脚可以灵活控制放大器增益，还有专利的启动和关闭序列能有效减少扬声器的爆裂声，无需额外的电路支持。</p>
<h2>二、产品特性</h2>
<h3>2.1 功率与效率</h3>
<ul>
<li><strong>功率输出</strong>：在27V<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>下，每通道可向4Ω负载输出25W功率；在24V电源下，每通道可向4Ω负载输出20W功率。</li>
<li><strong>高效节能</strong>：采用D类工作模式，效率高，无需散热片，降低了设计成本和空间需求。</li>
</ul>
<h3>2.2 增益选择</h3>
<p>提供四种可选的固定增益设置，分别为20dB、26dB、32dB和36dB，可通过G<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>N0和GAIN1两个输入引脚进行控制。</p>
<h3>2.3 保护功能</h3>
<p>具备热保护和短路保护功能，并且能够自动恢复，确保了在异常情况下设备的安全性和稳定性。</p>
<h3>2.4 低噪声设计</h3>
<p>专利的启动和关闭序列有效减少了扬声器的爆裂声，同时静音衰减可达 -82dB，提供了清晰纯净的音频输出。</p>
<h3>2.5 封装与兼容性</h3>
<p>采用节省空间的24引脚<a href="https://m.hqchip.com/app/1593" target="_blank"><u>TSS</u></a>OP表面贴装封装，并且与TPA3120D2引脚兼容，方便进行升级和替换。</p>
<h2>三、应用电路与设计要点</h2>
<h3>3.1 简化应用电路</h3>
<p>TPA3123D2的简化应用电路展示了其基本的连接方式，包括电源、输入、输出以及控制引脚的连接。在实际设计中，需要根据具体的应用场景和需求进行适当的调整。</p>
<h3>3.2 输入<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a> (C_{i})</h3>
<p>输入电容 (C<em>{i}) 用于将输入<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>偏置到合适的直流电平，与放大器的输入阻抗 (Z</em>{i}) 构成<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a><a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>。其值直接影响电路的低频性能，计算公式为 (C<em>{i}=fr<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{1}{2 <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a> Z</em>{i} f_{c}}) 。为了减少直流偏移电压，建议选择低漏电的<a href="https://m.hqchip.com/app/395" target="_blank"><u>钽电容</u></a>或陶瓷电容，并且在使用极化电容时要注意电容的极性。</p>
<h3>3.3 单端输出电容 (C_{o})</h3>
<p>在单端应用中，直流阻隔电容 (C<em>{o}) 与扬声器阻抗构成高通滤波器，其截止频率由 (f</em>{c}=1 / 2 pi C<em>{o} Z</em>{L}) 决定。不同的扬声器阻抗和电容值会产生不同的截止频率，具体可参考文档中的表格。</p>
<h3>3.4 输出滤波器</h3>
<p>为了获得最佳的频率响应，建议使用二阶巴特沃斯平坦通带输出滤波器。滤波器的组件包括串联电感和接地电容，具体的推荐值根据输出配置（单端或桥接负载）和扬声器阻抗而定。</p>
<h3>3.5 电源去耦</h3>
<p>TPA3123D2是一款高性能的CMOS音频放大器，需要良好的电源去耦来确保低的总谐波失真（THD）和防止振荡。建议使用不同类型的两个电容，一个用于过滤高频瞬变和数字噪声，另一个用于过滤低频噪声信号。</p>
<h3>3.6 其他电容</h3>
<p>BSN和BSP电容用于半H桥输出级的高端<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a><a href="https://www.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>电路，VCLAMP电容用于限制NMOS输出<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>的栅极电压，VBYP电容则用于确定放大器的启动时间和减少电源噪声。</p>
<h2>四、工作模式与保护机制</h2>
<h3>4.1 关机操作</h3>
<p>通过将SHUTDOWN输入引脚拉低，放大器进入低<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>状态，输出静音，可有效节省电源。在正常工作时，该引脚应保持高电平。</p>
<h3>4.2 静音操作</h3>
<p>MU<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>引脚用于控制放大器的输出状态，高电平使输出以50%的占空比运行，低电平则使输出启用。可用于快速切换频道或音频源时的输出控制。</p>
<h3>4.3 短路保护</h3>
<p>输出端具有短路<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>，当检测到短路时，立即禁用输出驱动，故障排除后自动恢复正常操作。</p>
<h3>4.4 热保护</h3>
<p>当内部管芯温度超过150°C时，设备进入关机状态，输出禁用。当温度降低30°C后，自动恢复正常工作。</p>
<h2>五、<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局要点</h2>
<p>由于TPA3123D2是高频开关的D类放大器，PCB布局对其性能至关重要。以下是一些布局建议：</p>
<ul>
<li><strong>去耦电容</strong>：高频去耦电容应尽可能靠近PVCC和AVCC引脚，VBYP和VCLAMP电容也应靠近设备。</li>
<li><strong>接地</strong>：AVCC和VBYP电容接地到<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>地，PVCC和VCLAMP电容接地到电源地，模拟地和电源地在散热垫处连接。</li>
<li><strong>输出滤波器</strong>：重建滤波器应尽可能靠近输出引脚，以获得最佳的电磁干扰（EMI）性能。</li>
<li><strong>散热垫</strong>：散热垫必须焊接到PCB上，以确保良好的散热性能和可靠性。</li>
</ul>
<h2>六、测量系统与注意事项</h2>
<h3>6.1 基本测量系统</h3>
<p>包括音频分析仪、数字万用表、<a href="https://m.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>、信号发生器等设备。在测量时，输入信号通常使用正弦波，并且要注意信号的<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>方式和阻抗匹配。</p>
<h3>6.2 单端输入和输出测量</h3>
<p>使用不平衡源提供输入信号，分析仪采用平衡输入，所有连接使用双绞线，在嘈杂环境中使用屏蔽线。</p>
<h3>6.3 差分输入和BTL输出测量</h3>
<p>使用平衡源提供输入信号，分析仪同样采用平衡输入，其他注意事项与单端测量类似。</p>
<h2>七、总结</h2>
<p>TPA3123D2是一款功能强大、性能优越的D类音频功率放大器，适用于各种音频应用场景。在设计过程中，工程师需要充分考虑其特性和设计要点，合理选择元件和布局，以确保获得最佳的音频性能。希望本文能为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们在使用TPA3123D2进行设计时提供有价值的参考。你在使用TPA3123D2的过程中遇到过哪些问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[温度补偿芯片衰减器P*V系列：助力高频放大器温度漂移补偿]]></title>    <link>https://www.elecfans.com/d/7635404.html</link>    <guid>https://www.elecfans.com/d/7635404.html</guid>    <pubDate>2026-02-02 17:00:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635404" value="https://file1.elecfans.com/web3/M00/4A/58/wKgZO2mAXm6AY4kQAAX1jBs1tIg181.pdf"/><h1>温度补偿芯片衰减器P*V系列：助力高频<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>温度漂移补偿</h1>
<p>在电子设备的设计与开发中，高频放大器的性能优化一直是<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们关注的重点，而温度漂移补偿则是其中一项关键挑战。今天要给大家介绍的温度补偿芯片衰减器P*V系列，就是解决这一问题的有力工具。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635404" target="_blank">PXV1220S-10DBN1-T.pdf</a></p>
<h2>产品概述</h2>
<p>P*V系列温度补偿芯片衰减器主要用于简化GaAs高频放大器的温度漂移补偿。它具备出色的高频特性，并且符合Le<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>、Halogen、RoHS标准（除中国RoHS外），适用于基站等多种应用场景。</p>
<h2>产品特点</h2>
<h3>功能优势</h3>
<p>该系列产品专为简化GaAs高频放大器的温度漂移补偿而设计，能够有效提升放大器在不同温度环境下的稳定性。其出色的高频特性，也能满足高频电路设计的需求。</p>
<h3>环保合规</h3>
<p>符合Lead、Halogen、RoHS标准，体现了产品在环保方面的优势，有助于工程师设计出更符合环保要求的电子设备。</p>
<h2>规格参数</h2>
<h3>尺寸规格</h3>
<p>P*V系列有不同的型号，如PXV1220S和PBV1632S，它们的尺寸有所差异。</p>
<ul>
<li>PXV1220S：长1.25±0.2mm，宽0.35±0.2mm，高2.0±0.2mm等。</li>
<li>PBV1632S：长1.60±0.2mm，宽0.4±0.2mm，高3.2±0.2mm等。</li>
</ul>
<h3><a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<table>
<thead>
<tr>
<th>特性参数</th>
<th>PXV1220S (0805)</th>
<th>PBV1632S (1206)</th>
</tr>
</thead>
<tbody>
<tr>
<td>衰减值</td>
<td>1, 2, 3, 4, 5, 6, 7, 8, 9, 10dB</td>
<td>1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 16dB</td>
</tr>
<tr>
<td>衰减公差</td>
<td>±0.5dB(@25℃, no load)</td>
<td>±0.5dB(@25℃, no load)</td>
</tr>
<tr>
<td>阻抗</td>
<td>50Ω</td>
<td>50Ω</td>
</tr>
<tr>
<td>VSWR</td>
<td>1.3max</td>
<td>1.3max</td>
</tr>
<tr>
<td>温度系数（衰减）</td>
<td>N1〜N8 (1〜3dB : N1〜N9)</td>
<td>N1〜N8 (1〜3dB : N1〜N9)</td>
</tr>
<tr>
<td>工作频率</td>
<td><a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>〜3GHz</td>
<td>DC〜3GHz</td>
</tr>
<tr>
<td>额定功率</td>
<td>63mW</td>
<td>100mW</td>
</tr>
<tr>
<td>工作温度</td>
<td>−40℃〜+100℃</td>
<td>−40℃〜+100℃</td>
</tr>
</tbody>
</table>
<p>从这些参数中我们可以看出，不同型号在衰减值、额定功率等方面存在差异，工程师在选择时需要根据具体的设计需求进行考量。比如，如果对功率要求较高，可能PBV1632S会更合适；而如果对尺寸有严格限制，PXV1220S可能是更好的选择。</p>
<h2>包装形式</h2>
<p>该系列产品提供多种包装形式，包括100pcs/bag、200pcs/reel、1000pcs/reel等，满足不同的采购和使用需求。工程师可以根据项目的规模和使用频率来选择合适的包装。</p>
<h2>产品编号系统</h2>
<p>以PXV 1220S - - 6dB N1 T为例，它包含了产品代码、尺寸、衰减值、衰减温度系数和包装等信息。通过这种编号系统，工程师可以清晰地了解产品的具体规格，方便进行选型和采购。</p>
<h2>总结与思考</h2>
<p>温度补偿芯片衰减器P*V系列为高频放大器的温度漂移补偿提供了有效的解决方案。其丰富的型号选择、出色的高频特性和环保合规性，使其在电子设计领域具有广泛的应用前景。</p>
<p>在实际设计中，工程师需要根据具体的项目需求，综合考虑尺寸、电气特性、包装等因素，选择最合适的产品。同时，大家可以思考一下，在不同的应用场景下，如何更好地发挥P*V系列衰减器的优势，进一步优化高频放大器的性能。如果你在使用过程中有任何经验或疑问，欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[探索NJG1815K75 SPDT开关：高性能与小尺寸的完美结合]]></title>    <link>https://www.elecfans.com/d/7635405.html</link>    <guid>https://www.elecfans.com/d/7635405.html</guid>    <pubDate>2026-02-02 17:00:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635405" value="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAZj2AX1ufAA1GsGqOXlU076.pdf"/><h1>探索NJG1815K75 SPDT开关：高性能与小尺寸的完美结合</h1>
<p>在当今的<a href="https://www.elecfans.com/soft/data/43-45/" target="_blank"><u>无线通信</u></a>领域，对于高性能、小尺寸<a href="https://www.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>开关的需求日益增长。Nisshinbo Micro Devices Inc.推出的NJG1815K75 SPDT（单刀双掷）开关，凭借其卓越的性能和紧凑的封装，成为WLAN系统等应用的理想选择。今天我们就来深入了解一下这款开关。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635405" target="_blank">NJG1815K75-TE1.pdf</a></p>
<h2>一、产品概述</h2>
<p>NJG1815K75是一款1bit控制的SPDT开关，专为WLAN系统量身打造。它具备低插入损耗、高隔离度以及高处理功率等特性，在1.8V控制电压下表现出色。每个<a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a>都集成了<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>保护装置，大大提高了ESD鲁棒性。同时，所有<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>端口集成了直流阻断<a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>，再加上DFN6 - 75的超小封装，使得其安装面积非常小。</p>
<h2>二、产品特性亮点</h2>
<h3>低控制电压与低功耗</h3>
<p>控制电压典型值仅需1.8V，工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>也较小，在无RF输入且VDD = 3.3V时，典型工作电流为15μA，最大30μA。这不仅降低了功耗，还能适应更多低电压供电的应用场景，比如<a href="https://www.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a>、WLAN模块等移动设备。</p>
<h3>出色的RF性能</h3>
<ul>
<li><strong>低插入损耗</strong>：在2.4 - 2.<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>Hz频段典型值为0.45dB，在4.9 - 6.0GHz频段典型值为0.40dB。低插入损耗意味着<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>在传输过程中的能量损失小，能够保证信号的强度和质量。</li>
<li><strong>高隔离度</strong>：在2.4 - 2.5GHz和4.9 - 6.0GHz频段典型值均为25dB。高隔离度可以有效减少不同路径之间的信号干扰，提高系统的稳定性。</li>
<li><strong>高功率处理能力</strong>：P - 1dB典型值为+31dBm（@f = 2.4 - 6.0GHz），能够处理较高功率的信号，适用于对功率要求较高的应用。</li>
</ul>
<h3>超小超薄封装</h3>
<p>采用DFN6 - 75封装，尺寸仅为1.0x1.0x0.375mm（典型值）。这种超小超薄的封装形式，为电路板节省了大量空间，非常适合对空间要求苛刻的设计。</p>
<h3>环保设计</h3>
<p>符合RoHS标准且无卤，湿度敏感度等级为MSL1，这意味着在使用和存储过程中更加环保和可靠。</p>
<h2>三、应用领域广泛</h2>
<p>NJG1815K75的应用场景十分丰富，涵盖了802.11 a/b/g/n/<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>/ax网络的各种应用，如发射/接收切换、<a href="https://bbs.elecfans.com/group_1219" target="_blank"><u>天线</u></a>切换等。同时，在智能手机、WLAN模块、数据卡等移动设备中也能大展身手。</p>
<h2>四、引脚配置与真值表</h2>
<h3>引脚配置</h3>
<table>
<thead>
<tr>
<th>引脚编号</th>
<th>符号</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>P1</td>
<td>RF终端，内部有<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，无需外接直流阻断电容</td>
</tr>
<tr>
<td>2</td>
<td>GND</td>
<td>接地<a href="https://m.hqchip.com/app/1529" target="_blank"><u>端子</u></a>，应尽可能靠近接地平面连接，以获得出色的RF性能</td>
</tr>
<tr>
<td>3</td>
<td>P2</td>
<td>RF终端，内部有电容，无需外接直流阻断电容</td>
</tr>
<tr>
<td>4</td>
<td>VCTL</td>
<td>控制电压输入端子，可设置为高电平（+1.35 - +5.0V）或低电平（0 - +0.45V）</td>
</tr>
<tr>
<td>5</td>
<td>PC</td>
<td>公共RF终端，内部有电容，无需外接直流阻断电容</td>
</tr>
<tr>
<td>6</td>
<td>VDD</td>
<td>正电压供电端子，需提供+2.5 - +5.0V的正电压，并连接旁路电容到GND，以获得出色的RF性能</td>
</tr>
</tbody>
</table>
<h3>真值表</h3>
<table>
<thead>
<tr>
<th>导通路径</th>
<th>VCTL</th>
</tr>
</thead>
<tbody>
<tr>
<td>PC - P1</td>
<td>H</td>
</tr>
<tr>
<td>PC - P2</td>
<td>L</td>
</tr>
</tbody>
</table>
<p>通过VCTL的高低电平控制，可以方便地实现不同路径的导通切换。</p>
<h2>五、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性详解</h2>
<h3>绝对最大额定值</h3>
<p>了解产品的绝对最大额定值对于正确使用和保护产品至关重要。NJG1815K75的绝对最大额定值包括：RF输入功率（+31dBm，VDD = 3.3V，导通状态端口）、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压（6.0V）、控制电压（6.0V）、功率耗散（在特定<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>条件下为380mW）、工作温度范围（- 40 - +105°C）和存储温度范围（- 55 - +150°C）。在设计电路时，必须确保各项参数不超过这些额定值，以避免损坏产品。</p>
<h3>直流特性</h3>
<p>主要包括电源电压、工作电流、控制电压和控制电流等参数。例如，电源电压范围为2.5 - 5.0V，典型值为3.3V；控制电压（高）典型值为1.8V，控制电压（低）最大为0.45V。这些参数为<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>提供了明确的参考，确保产品在合适的电压和电流条件下正常工作。</p>
<h3>RF特性</h3>
<ul>
<li><strong>插入损耗</strong>：在不同频段有不同的典型值和最大值，如在2.4 - 2.5GHz频段典型值为0.45dB，最大值为0.65dB。插入损耗越低，信号传输越高效。</li>
<li><strong>隔离度</strong>：不同频段的隔离度典型值较高，如在2.4 - 2.5GHz频段典型值为25dB。高隔离度可以有效避免信号干扰。</li>
<li><strong>回波损耗</strong>：在不同频段也有较好的表现，如在2.4 - 2.5GHz频段最小值为13dB，典型值为16dB。回波损耗越大，说明反射信号越小，信号传输越稳定。</li>
<li><strong>开关时间</strong>：典型值为150ns，最大值为400ns。较短的开关时间可以满足快速切换的需求，提高系统的响应速度。</li>
</ul>
<h2>六、应用电路与PCB布局</h2>
<h3>应用电路</h3>
<p>提供了典型的应用电路，其中旁路电容C2是可选的，仅在控制线路受到噪声环境影响时建议使用。这样的设计既保证了电路的灵活性，又能在不同环境下提供可靠的性能。</p>
<h3>PCB布局</h3>
<p>PCB采用FR - 4材质，厚度为0.2mm。对电容尺寸、带状线宽度、PCB尺寸、通孔直径等都有明确的要求，同时给出了不同频率下PCB和<a href="https://www.hqchip.com/app/1515" target="_blank"><u>连接器</u></a>的损耗。合理的PCB布局对于实现产品的最佳性能至关重要，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计时需要严格按照要求进行布局。</p>
<h3>布局指南</h3>
<p>为了获得良好的RF性能，暴露焊盘应尽可能靠近PCB接地平面连接。这有助于减少电磁干扰，提高信号的稳定性。</p>
<h2>七、使用注意事项</h2>
<h3>环保与安全</h3>
<p>产品含有有害材料砷化镓（GaAs），在使用和处理过程中需要严格遵守相关规定，如不要食用、不要在火中处理、不要进行化学处理等。</p>
<h3>静电和电压保护</h3>
<p>产品可能会受到静电放电（ESD）或尖峰电压的损坏，因此在操作过程中要小心处理，避免这些损坏。</p>
<h3>质量保证</h3>
<p>产品的质量保证期为从交付之日起1年，对于在质保期内因制造因素导致的缺陷，公司将提供更换产品或退还购买价格的服务。</p>
<p>总之，NJG1815K75 SPDT开关以其优异的性能和紧凑的设计，为无线通信领域的工程师们提供了一个优秀的解决方案。在实际应用中，只要我们严格按照产品的特性和要求进行设计和使用，就能充分发挥其优势，打造出高性能、高可靠性的电子产品。大家在使用过程中有没有遇到过什么问题呢？或者对这款开关还有哪些想了解的地方，欢迎在评论区留言讨论。 </p>]]></description></item><item>    <title><![CDATA[探索SSMSUSUMU PAT系列高精度芯片衰减器：电子工程师的新选择]]></title>    <link>https://www.elecfans.com/d/7635406.html</link>    <guid>https://www.elecfans.com/d/7635406.html</guid>    <pubDate>2026-02-02 17:00:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635406" value="https://file1.elecfans.com/web3/M00/4A/5A/wKgZPGmAZj2ANoLOAAl6clqmMjk790.pdf"/><h1>探索SSMSUSUMU PAT系列<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>芯片衰减器：<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的新选择</h1>
<p>在电子工程领域，高精度芯片衰减器是不可或缺的关键组件，它对于<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的精确控制和调节起着至关重要的作用。今天，我们就来深入了解一下SSMSUSUMU的PAT系列高精度芯片衰减器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635406" target="_blank">PAT1220-C-8DB-T5.pdf</a></p>
<h2>一、PAT系列芯片衰减器的特点</h2>
<h3>宽频率覆盖</h3>
<p>一个芯片衰减器就能覆盖较宽的频率范围，这意味着在不同的频率应用场景下，我们无需频繁更换衰减器，大大提高了设计的灵活性和效率。比如在一些需要处理多频段信号的设备中，PAT系列衰减器就能轻松应对。</p>
<h3>易于安装</h3>
<p>其环绕式终端设计与常规芯片<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>类似，这使得它的安装变得十分容易。对于<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>来说，在进行电路板布局和焊接时，这种熟悉的设计可以减少安装难度和出错的概率。</p>
<h3>小型化优势</h3>
<p>该系列提供从1005到3042等多种尺寸的产品，有助于设备的小型化。在如今追求小型化、集成化的电子设备设计趋势下，PAT系列衰减器能够满足工程师对空间利用的需求，使设备更加紧凑。</p>
<h2>二、应用领域</h2>
<p>PAT系列衰减器具有无铅、无卤素且符合RoHS标准的特点，其应用领域广泛：</p>
<ul>
<li><strong><a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>基站</strong>：在手机基站中，需要对信号进行精确的衰减和调节，以保证信号的稳定传输和覆盖范围。PAT系列衰减器的高精度和宽频率范围特性使其能够很好地适应基站的工作要求。</li>
<li><strong><a href="https://www.elecfans.com/soft/data/43-45/" target="_blank"><u>无线通信</u></a>模块</strong>：无线通信模块对信号的质量和稳定性要求极高，PAT系列衰减器可以帮助调节信号强度，减少干扰，提<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a>信的可靠性。</li>
<li><strong>宽带测量仪器</strong>：在宽带测量仪器中，精确的信号衰减是保证测量准确性的关键。PAT系列衰减器的高精度特性能够满足测量仪器对信号衰减的严格要求。</li>
</ul>
<h2>三、产品编号系统</h2>
<p>PAT系列衰减器的编号系统清晰明了，以“PAT 1632 - C - 3dB - T1”为例：</p>
<ul>
<li>“PAT”为系列代码。</li>
<li>“1632”表示尺寸。</li>
<li>“C”代表阻抗为50Ω（若为“D”则表示75Ω）。</li>
<li>“3dB”表示衰减值。</li>
<li>“T1”表示包装形式为卷带，不同的字母和数字组合代表不同的包装数量。</li>
</ul>
<h2>四、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>规格</h2>
<h3>衰减公差</h3>
<p>不同的衰减类型和范围对应着不同的衰减公差。例如，在0 - 3dB（1dB步进）的衰减范围内，PAT0510S、PAT0816、PAT1220、PAT1632和PAT3042S的衰减公差均为±0.3dB。了解这些公差对于精确设计电路、保证信号处理的准确性至关重要。</p>
<h3>阻抗</h3>
<p>大部分型号的阻抗为50Ω，部分型号如PAT3042S还提供75Ω的选择，工程师可以根据具体的电路需求进行选择。</p>
<h3>VSWR（电压驻波比）</h3>
<p>不同型号和频率范围下的VSWR有所不同。例如，PAT0510S的VSWR &lt; 1.3，而PAT0816在6 - 10GHz时VSWR &lt; 1.5，在~6GHz时VSWR &lt; 1.3。较低的VSWR意味着信号反射较小，能够提高信号传输的效率。</p>
<h3>工作频率</h3>
<p>工作频率范围从<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>到10GHz不等，不同型号适用于不同的频率范围。如PAT0510S和PAT0816的工作频率为DC - 10GHz，而PAT1632为DC - 3GHz。在选择衰减器时，必须确保其工作频率能够满足电路的实际需求。</p>
<h3>额定功率</h3>
<p>不同型号的额定功率也有所差异，从32mW到250mW不等。在设计电路时，要根据实际的功率需求选择合适的衰减器，以避免因功率过大而损坏器件。</p>
<h3>工作温度范围</h3>
<p>PAT系列衰减器的工作温度范围为 -55℃到 +125℃，这使得它能够在较为恶劣的环境条件下正常工作，提高了设备的可靠性和稳定性。</p>
<h2>五、尺寸与封装</h2>
<p>文档中详细给出了PAT系列各型号的尺寸信息，包括长度（L）、宽度（W）、厚度（t）等参数。同时，还提供了推荐的焊盘图案（焊接足迹）尺寸。准确掌握这些尺寸信息对于电路板的设计和布局至关重要，工程师需要根据衰减器的尺寸来合理安排电路板上的空间，确保焊接的可靠性和电气性能。</p>
<h2>六、PAT系列的优势</h2>
<h3>集成化设计</h3>
<p>该系列芯片衰减器内部集成了三个电阻元件。如果使用分立电阻来构建一个衰减器，则需要三个电阻。这种集成化设计带来了诸多好处：</p>
<ul>
<li><strong>高精度衰减</strong>：三个精密电阻集成在一起作为一个衰减器，能够轻松实现精确的衰减，提高了信号处理的准确性。</li>
<li><strong>减少寄生效应</strong>：由于三个元件集成在一个小区域内，寄生<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>和电感被最小化，更容易实现所需的衰减效果。</li>
<li><strong>电路小型化和可靠性提升</strong>：一个衰减器可以替代三个分立电阻，有助于缩小电路尺寸，同时减少了焊点和元件数量，提高了电路的可靠性。</li>
</ul>
<h2>七、高频特性</h2>
<p>文档中给出了PAT0816和PAT1220在不同衰减值下的VSWR和衰减曲线。通过这些曲线，我们可以直观地了解衰减器在不同频率下的性能表现。例如，随着频率的增加，VSWR和衰减值可能会发生变化。工程师可以根据这些曲线来评估衰减器在特定频率下的性能，从而更好地进行<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>和优化。</p>
<p>在实际的电子工程设计中，我们需要综合考虑PAT系列衰减器的各种特性和参数，根据具体的应用需求来选择合适的型号。同时，要注意安装和使用过程中的一些细节，如焊接工艺、散热等，以充分发挥衰减器的性能优势。大家在使用PAT系列衰减器的过程中，有没有遇到过什么特别的问题或者有什么独特的应用经验呢？欢迎在评论区分享。 </p>]]></description></item><item>    <title><![CDATA[SKY13453 - 385LF：0.01至6.0 GHz单控SPDT开关的全方位解析]]></title>    <link>https://www.elecfans.com/d/7635407.html</link>    <guid>https://www.elecfans.com/d/7635407.html</guid>    <pubDate>2026-02-02 17:00:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635407" value="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAZj2ABV6jAA0WP4XZxMI391.pdf"/><h1>SKY13453 - 385LF：0.01至6.0 GHz单控SPDT开关的全方位解析</h1>
<p>在当今的<a href="https://www.elecfans.com/soft/data/43-45/" target="_blank"><u>无线通信</u></a>领域，开关器件的性能对整个系统的表现起着至关重要的作用。Skyworks推出的SKY13453 - 385LF单刀双掷（SPDT）开关，凭借其出色的特性，在蜂窝和WLAN应用中占据了一席之地。下面，我们就来详细了解一下这款开关。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635407" target="_blank">SKY13453-385LF.pdf</a></p>
<h2>一、应用场景</h2>
<p>SKY13453 - 385LF主要应用于蜂窝预<a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>（PA）模式切换以及双频WLAN（802.11a/b/g/n）中。在这些场景下，它能够高效地完成<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>路径的切换，确保系统的稳定运行。大家在实际设计中，是否遇到过因为开关性能不佳而导致的信号质量下降问题呢？</p>
<h2>二、产品特性</h2>
<h3>低插入损耗</h3>
<table>
<thead>
<tr>
<th>在2.0 GHz时，插入损耗仅为0.40 dB。这意味着在信号传输过程中，能量的损失非常小，能够保证信号的强度和质量。在不同的频率范围内，插入损耗也能保持在较低水平，具体如下：</th>
<th>频率范围</th>
<th>典型插入损耗</th>
<th>最大插入损耗</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.01 - 1.0 GHz</td>
<td>0.40 dB</td>
<td>0.55 dB</td>
</tr>
<tr>
<td>1.0 - 2.0 GHz</td>
<td>0.40 dB</td>
<td>0.55 dB</td>
</tr>
<tr>
<td>2.0 - 3.0 GHz</td>
<td>0.45 dB</td>
<td>0.60 dB</td>
</tr>
<tr>
<td>4.8 - 6.0 GHz</td>
<td>0.70 dB</td>
<td>0.85 dB</td>
</tr>
</tbody>
</table>
<h3>高隔离度</h3>
<table>
<thead>
<tr>
<th>在2.0 GHz时，隔离度大于25 dB。高隔离度可以有效减少不同信号路径之间的干扰，提高系统的抗干扰能力。不同频率范围的隔离度数据如下：</th>
<th>频率范围</th>
<th>最小隔离度</th>
<th>典型隔离度</th>
</tr>
</thead>
<tbody>
<tr>
<td>0.01 - 1.0 GHz</td>
<td>25 dB</td>
<td>27 dB</td>
</tr>
<tr>
<td>1.0 - 2.0 GHz</td>
<td>25 dB</td>
<td>27 dB</td>
</tr>
<tr>
<td>2.0 - 3.0 GHz</td>
<td>22 dB</td>
<td>24 dB</td>
</tr>
<tr>
<td>4.8 - 6.0 GHz</td>
<td>-</td>
<td>15 dB</td>
</tr>
</tbody>
</table>
<h3>单比特控制</h3>
<p>单比特控制方式使得开关的控制更加简单方便，降低了系统的复杂度和成本。</p>
<h3>小型封装</h3>
<p>采用1 x 1 mm的6引脚四方扁平无引脚（QFN）封装，具有良好的散热性能和空间利用率。同时，该封装符合MSL1标准，可承受260°C的焊接温度，适用于多种焊接工艺。</p>
<h2>三、<a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<p>SKY13453 - 385LF通过先进的开关技术，根据施加在控制引脚（VCTL）上的逻辑电压，将<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>C引脚连接到两个切换RF输出（RF1或RF2）中的一个，并且采用低插入损耗路径，而RFC引脚与另一个RF路径之间则处于高隔离状态。这种工作方式确保了信号的高效传输和低干扰。</p>
<h2>四、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>和<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>规格</h2>
<h3>绝对最大额定值</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>符号</th>
<th>最小值</th>
<th>最大值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压</td>
<td>VDD</td>
<td>2.5</td>
<td>3.7</td>
<td>V</td>
</tr>
<tr>
<td>控制电压</td>
<td>VCTL</td>
<td>- 0.2</td>
<td>+ 3.0</td>
<td>V</td>
</tr>
<tr>
<td>输入功率</td>
<td><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N</td>
<td>-</td>
<td>+ 33</td>
<td>dBm</td>
</tr>
<tr>
<td>存储温度</td>
<td>TSTG</td>
<td>- 40</td>
<td>+ 125</td>
<td>°C</td>
</tr>
<tr>
<td>工作温度</td>
<td>TOP</td>
<td>- 40</td>
<td>+ 90</td>
<td>°C</td>
</tr>
</tbody>
</table>
<p>需要注意的是，长时间暴露在最大额定值条件下可能会降低器件的可靠性。只有一个参数设置在极限值，而其他参数设置在或低于其标称值时，器件不会损坏。但如果超过任何一个极限值，可能会导致器件永久性损坏。</p>
<h3>电气规格</h3>
<p>在特定的测试条件下（VDD = 2.8 V，VCTL = 1.8 V，Top = + 25°C，Pm = 0 dBm，特征阻抗[Z0] = 50 Ω），SKY13453 - 385LF的各项性能指标都有明确的保证。例如，在不同频率下的插入损耗、隔离度、回波损耗等都有详细的数据，这些数据为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>的设计提供了重要的参考依据。</p>
<h2>五、真值表与时序图</h2>
<h3>真值表</h3>
<table>
<thead>
<tr>
<th>VDD (Pin 1)</th>
<th>VCTL (Pin 5)</th>
<th>插入损耗路径</th>
</tr>
</thead>
<tbody>
<tr>
<td>H</td>
<td>H</td>
<td>RFC to RF1</td>
</tr>
<tr>
<td>H</td>
<td>L</td>
<td>RFC to RF2</td>
</tr>
</tbody>
</table>
<p>其中，“H”表示+1.8 V至+3.0 V，“L”表示0 V至+0.45 V。除了表中描述的状态外，开关将进入未定义状态，但未定义状态不会损坏器件。</p>
<h3>时序图</h3>
<p>时序图展示了开关在不同场景下的工作时间，包括上电序列、掉电序列和切换<a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a>等场景。例如，在2.45 GHz时，从50% VCTL到10/90% RF开启时间和从50% VCTL到90/10% RF关闭时间典型值均为650 ns，10/90% RF上升时间和90/10% RF下降时间典型值均为500 ns。这些时间参数对于系统的整体性能和稳定性有着重要的影响，工程师在设计时需要根据实际情况进行合理的规划。</p>
<h2>六、评估板与封装信息</h2>
<h3>评估板</h3>
<p>SKY13453 - 385LF评估板用于测试该开关的性能。评估板的原理图和装配图为工程师提供了详细的设计参考，方便他们进行实际的测试和验证工作。</p>
<h3>封装信息</h3>
<p>包括<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局 footprint、典型零件标记、封装尺寸和带盘尺寸等信息。在进行<a href="https://bbs.elecfans.com/zhuti_830_1.html" target="_blank"><u>PCB设计</u></a>时，需要严格按照这些尺寸信息进行布局，以确保器件的正常安装和使用。同时，要注意该器件对湿度的敏感性，遵循运输容器<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>上的说明，避免在焊接组装过程中因吸湿而出现问题。</p>
<h2>七、订购信息</h2>
<p>SKY13453 - 385L为SPDT开关，对应的评估板型号为SKY13453 - 385LF - EVB。大家在采购时，一定要注意核对这些信息，确保能够获得正确的产品。</p>
<p>总的来说，SKY13453 - 385LF是一款性能出色、应用广泛的单控SPDT开关。在实际的设计过程中，工程师需要根据具体的应用场景和需求，合理利用其各项特性和参数，以实现最佳的系统性能。大家在使用这款开关时，有没有什么独特的经验或者遇到过什么问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[FX全球CEO马骁受邀出席2026福布斯中国论坛]]></title>    <link>https://www.elecfans.com/d/7635409.html</link>    <guid>https://www.elecfans.com/d/7635409.html</guid>    <pubDate>2026-02-02 17:01:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	日前，FX全球CEO马骁在福布斯中国<a href="https://www.elecfans.com/article/bbs/" target="_blank"><u>论坛</u></a>进行了E<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>桥梁战略赋能中国汽车产业全球化的主题演讲，系统阐述了FF、FX在美国市场长达十年的深耕与全产业链布局，并希望通过EAI桥梁战略携手中国汽车产业伙伴高效、低成本开拓美国高价值市场。</p>
<p style="text-indent:2em;">
	马骁介绍，FF基于对中美市场的深度对比分析，与中国市场高度“内卷”和快速迭代不同，美国智能新能源汽车市场相对传统，存在显著的结构性机遇，具有“四大高价值蓝海”：一是混动、增程车蓝海，存在巨大市场潜力；二是智能座舱蓝海，市场需求强烈；三是EAI MPV蓝海，市场完全空白；四是3万美元以下纯电车型稀缺，存在广阔市场空间。</p>
<p style="text-indent:2em;">
	为此，FF将中美桥梁战略升级为全球EAI桥梁战略，其核心在于，将中国汽车产业领先的产品定义能力、成熟供应链与极致成本控制优势，与FF在美国的十年本土化资产与经验深度融合，形成商业闭环。现在，FF EAI桥梁战略进展非常顺利，预计未来五年销量将达到40-50万台。</p>
<p style="text-indent:2em;">
	马骁表示，在合规与政策端，FF作为目前唯一实现美国合规并完成销售的华人创立汽车公司，FF提供完整的<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>经验。其美国公司身份更利于获取联邦及州层面的政策理解与潜在支持；在技术与生产端，FF可提供适配美国市场的产品定义、十年沉淀的本地化软件与<a href="https://www.elecfans.com/soft/data/42-102/" target="_blank"><u>AI技术</u></a>，以及现成的汉福德工厂与超过50%占比的本地供应链体系；在商业与成本端，国内车企独自开拓美国市场往往需投入10-20亿人民币且前路坎坷，而通过FF的集成化平台合作，单一车型成功落地成本可显著降低至约10亿人民币量级，大幅降低试错风险与前期投入。</p>
<p style="text-indent:2em;">
	“FF愿成为那块关键的‘拼图’，与中国产业的产品力、供应链优势结合，帮助中国车企及产业链避开国内激烈内卷，以更低成本、更高效率进入美国高价值市场，最终实现中国供应链、美国用户、合作伙伴与资本的多方共赢。”马骁说，“FF希望携手中国车企与供应链伙伴，共同把握美国市场机遇。”</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[P6KE36CA双向TVS瞬态抑制二极管：600W功率36V双向电压通信设备核心适配]]></title>    <link>https://www.elecfans.com/d/7635408.html</link>    <guid>https://www.elecfans.com/d/7635408.html</guid>    <pubDate>2026-02-02 17:01:00</pubDate>    <description><![CDATA[<p>
	直插P6KE36CA<a href="https://www.hqchip.com/app/1587" target="_blank"><u>tvs</u></a>瞬态电压抑制<a href="https://www.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>参数</p>
<p>
	P6KE36CA双向 TVS瞬态抑制二极管<br/>
	二极管产品已经跟我们的生活有着密不可分的联系了， TVS瞬态抑制二极管，是一种高效能保护二极管，产品体积小、功率大、响应快等诸多优点，产品应用广泛<br/>
	TVS瞬态抑制二极管P6KE36CA，是一种二极管形式的高效能被动保护器件<br/>
	P6KE36CA直插TVS瞬态抑制二极管详情简介 <br/>
	品牌：SUNMATE/森美特<br/>
	TVS瞬态抑制二极管P6KE36CA<br/>
	极性(单双向)：双向 <br/>
	<a href="https://www.elecfans.com/v/tag/3668/" target="_blank"><u>VR</u></a>WM(V)电压：30.8V<br/>
	最大箝位电压@IPP：49.9<br/>
	峰值脉冲<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>IPP(A): 12<br/>
	最大反向电流IR(uA): 5<br/>
	Power 消散功率：600W<br/>
	封装形式: DO-15<br/>
	包装数量：2K装 <br/>
	</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/3E/CE/wKgZPGkmlRCAVpOnAAHr5omRhTE307.png" alt="wKgZPGkmlRCAVpOnAAHr5omRhTE307.png"/><img src="https://file1.elecfans.com/web3/M00/3E/CE/wKgZO2kmlRqAFQVcAAHp0WAwbnc877.png" alt="wKgZO2kmlRqAFQVcAAHp0WAwbnc877.png"/><img src="https://file1.elecfans.com/web3/M00/3E/CE/wKgZPGkmlSmAaEZrAAFBXOu_-vI417.png" alt="wKgZPGkmlSmAaEZrAAFBXOu_-vI417.png"/></p>
<p>
	<br/>
	存储温度 ：-55 to +150<br/>
	安置类型：SMT<br/>
	适用于表面安装应用低外形封装低增量浪涌<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，出色的夹紧能力<br/>
	600W峰值脉冲功率能力，a10/10004波，重复率（dutycycle）：0.01%高温焊接保证：260*C/10秒<br/><br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[PS、AutoCAD、Maya 的远程工作方案，在家也能拉满办公性能]]></title>    <link>https://www.elecfans.com/d/7635430.html</link>    <guid>https://www.elecfans.com/d/7635430.html</guid>    <pubDate>2026-02-02 17:03:00</pubDate>    <description><![CDATA[<p style="text-align:justify;"><span style="color:#3e3e3e;">远程与混合办公模式让我们几乎能在任何地方工作，这让许多企业</span><span style="color:rgb(0,112,192);">效率提升、成本优化，员工满意度也更高。</span><span style="color:#3e3e3e;">但凡事有例外，对于需要使用高性能工具的工作，比如 CAD 制图、3D 建模、视频剪辑等，传统远程办公的体验往往不尽如人意。</span></p><p><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">当你全身心投入创作时，远程连接却突然出现卡顿、掉帧、色彩失真，甚至直接断开……这种情况</span><span style="color:rgb(0,112,192);">不仅让人烦恼不已，更会直接延误项目进度、影响成果质量。</span></p><p style="margin-left:auto;text-align:center;"><br/><strong>为何传统远程方案难以胜任专业工作</strong></p><p/><p><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">常见的远程访问工具（包括多数 VPN）并非为图形密集型任务设计。它们难以承载专业软件对 <a href="https://www.elecfans.com/tags/gpu/" target="_blank"><u>GPU</u></a>/<a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a> 的高负载，从而导致：</span></p><p><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">高延迟与低帧率：</span><span style="color:#3e3e3e;">操作拖影，预览卡顿，精细调整变得困难；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">画质压缩与色差：</span><span style="color:#3e3e3e;">远程画面模糊、颜色不准，看到的和实际不一致；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">网络要求苛刻：</span><span style="color:#3e3e3e;">网络稍有波动，卡顿和中断的风险就大幅增加。</span></p><p><br/></p><p style="margin-left:auto;text-align:center;"><strong>远程办公需要什么样的解决方案</strong></p><p><br/></p><p style="margin-left:0px;text-align:justify;"><span style="color:#3e3e3e;">你需要的不仅是“连得上”，更是</span><span style="color:rgb(0,112,192);">媲美本地操作的高性能远程体验。</span><span style="color:#3e3e3e;">它应具备：</span></p><p><br/></p><p style="margin-left:auto;">01<span style="color:#0070c0;">高帧率、高流畅度</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">动态画面平滑无拖影，交互操作实时响应，无需等待加载。</span></p><p><br/></p><p style="margin-left:auto;">02<span style="color:#0070c0;">超低延迟</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">每一笔绘制、每一次剪辑调整都精准同步，不会出现操作滞后，让灵感不受打断。</span></p><p><br/></p><p style="margin-left:auto;">03<span style="color:#0070c0;">无损画质、真彩显示</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">支持高分辨率、高色准传输，画面细节分毫毕现，色彩与本地工作站完全一致。</span></p><p><br/></p><p style="margin-left:auto;">04<span style="color:#0070c0;">GPU 加速能力</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">可充分调用远程设备的显卡性能，即便处理大型设计文件、高清视频，也能毫无压力。</span></p><p><br/></p><p style="margin-left:auto;">05<span style="color:#0070c0;">网络自适应</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">即便在网络环境不佳的场景下，也能自动优化画面质量与流畅度，保持连接稳定。</span></p><p><br/></p><p style="margin-left:auto;">06<span style="color:#0070c0;">企业级安全保障</span><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">在享受便捷办公的同时，能全方位守护核心数据与<a href="https://m.elecfans.com/v/" target="_blank"><u>创意</u></a>资产的安全。</span></p><p><br/><br/></p><p style="margin-left:auto;text-align:center;"><strong>Splashtop，为专业创作者而打造</strong></p><p><br/></p><p style="text-align:justify;"><span style="color:#3e3e3e;">如果你的工作离不开</span><span style="color:rgb(0,112,192);"><a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>Ad</u></a>obe Creative Cloud、<a href="https://www.elecfans.com/tags/autocad/" target="_blank"><u>AutoCAD</u></a>、Maya、DaVinci Resolve</span><span style="color:#3e3e3e;">等专业软件，那么 Splashtop 正是你一直在寻找的远程办公解决方案。我们不止于基础的远程连接，更专注于为专业创作者提供高性能、无损画质的远程工作体验：</span></p><p><br/></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">高清流畅，告别卡顿：</span><span style="color:#3e3e3e;">支持 4K 60fps 高清流媒体传输，搭配高保真<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>，无论是剪辑、调色还是审片，体验都和在本地操作别无二致；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">行业领先超低延迟：</span><span style="color:#3e3e3e;">专为实时交互场景优化，鼠标移动、笔刷绘制几乎零延迟，让创作灵感连贯不中断；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">色彩精准，还原真实：</span><span style="color:#3e3e3e;">支持44色彩模式，确保远程显示的色彩与本地工作站完全一致，彻底解决色彩管理难题；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">网络波动也依然稳定：</span><span style="color:#3e3e3e;">可根据网络实时状况，自动优化画面质量与流畅度，即便在航班、咖啡馆等网络不稳定的环境中，也能保持连接可靠，不耽误工作进度；</span></p><p style="margin-left:auto;"><br/></p><p style="margin-left:12px;text-align:justify;"><span style="color:#0070c0;">多重防护，安全无忧：</span><span style="color:#3e3e3e;">采用银行级加密技术，搭配多重身份<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>、设备验证等防护措施，会话全程可管控、可审计，让你的创意资产始终安全有保障。</span></p><p><br/></p><p style="margin-left:0px;text-align:justify;"><span style="color:#3e3e3e;">有了 Splashtop，</span><span style="color:rgb(0,112,192);">无需再将大型设计文件拷贝到本地设备，也无需因性能不足忍受卡顿困扰。</span><span style="color:#3e3e3e;">无论你身处何地，都能轻松调用远程工作站的全部性能，流畅操控各类专业软件，高效完成创作任务。</span></p>]]></description></item><item>    <title><![CDATA[后摩智能斩获多项人工智能行业大奖]]></title>    <link>https://www.elecfans.com/d/7635414.html</link>    <guid>https://www.elecfans.com/d/7635414.html</guid>    <pubDate>2026-02-02 17:03:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<span style="text-indent:2em;">量子位2025年度<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>领航企业&amp;人工智能杰出产品</span></p>
<p style="text-indent:2em;">
	近日，权威科技媒体量子位揭晓「2025人工智能年度榜单」，榜单旨在挖掘中国<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>生态最具代表性的一批力量缩影。后摩智能一并斩获「2025人工智能年度领航企业」、「2025人工智能年度杰出产品」两大奖项。</p>
<p style="text-indent:2em;">
	其中，M50芯片入选「2025人工智能年度杰出产品」。凭借10W、160TOPS算力的强劲性能，M50芯片为大算力端侧AI场景提供更加丰富的想象空间。</p>
<p style="text-indent:2em;">
	同时，入选「2025人工智能年度领航企业」，印证后摩智能通过2025年的创新积累，在行业中已具备“造浪者”与“稳舵者”双重角色。</p>
<p style="text-indent:2em;">
	2025投资界硬科技VENTURE50</p>
<p style="text-indent:2em;">
	近日，2025VENTURE50结果揭晓，该榜单由清科控股、投资界共同发起。后摩智能第四次登上该榜单。</p>
<p style="text-indent:2em;">
	VENTURE50已连续发起十九年，是国内覆盖面最广、专业度最高、投资机构参与最深的成长企业评选体系之一，被誉为观察中国高成长科技企业的“投资风向标”。</p>
<p style="text-indent:2em;">
	后摩智能自主研发高能效比、低功耗的AI芯片及系列硬件产品，推动AI芯片向高算力、高带宽、低功耗方向演进。本次上榜，意味着后摩智能在AI硬科技领域具备的核心技术、产品创新力及商业价值上持续赢得投资界青睐。</p>
<p style="text-indent:2em;">
	《2025胡润未来独角兽：全球瞪羚企业榜》</p>
<p style="text-indent:2em;">
	1月20日，胡润研究院发布《2025胡润未来独角兽：全球瞪羚企业榜》，榜单旨在评选成立于2000年之后，未来三年内最有可能达到独角兽级十亿美金估值的高成长性企业。后摩智能连续第二年入选该榜单。</p>
<p style="text-indent:2em;">
	AI浪潮下，大模型已成为重要创新引擎。后摩智能以存算一体技术打造端边大模型 AI 芯片，赋能AI PC、智能语音设备、陪伴<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>等多种终端设备，推动 AI 技术普惠落地。</p>
<p style="text-indent:2em;">
	“全球瞪羚企业榜”彰显全球创业生态的演进轨迹、独角兽企业的孵化路径与前沿行业风向。后摩智能连续登榜，代表其高成长性及商业价值获业界认可。</p>
<p style="text-indent:2em;">
	“预见·2026”人工智能企业卓越企业TOP20</p>
<p style="text-indent:2em;">
	1月22日，由国际创业投资集聚区与小饭桌联合打造的“预见·2026”年度榜单正式揭晓，后摩智能跻身“人工智能企业卓越企业TOP20”。</p>
<p style="text-indent:2em;">
	作为端边大模型 AI 芯片领跑者，后摩智能打造高能效比、低功耗的AI芯片及系列硬件产品，不断通过技术突破为产业创造增量价值。</p>
<p style="text-indent:2em;">
	国际创业投资聚集区由北京市科委、中关村管委会、市金融局与朝阳区政府联合打造。该榜单旨在筛选真正具备技术突破性与产业赋能能力的标杆企业。本次入选，验证了后摩智能在AI领域的技术前瞻性和商业价值。</p>]]></description></item><item>    <title><![CDATA[探索MAX16838：高性能2通道高亮度LED驱动解决方案]]></title>    <link>https://www.elecfans.com/d/7635412.html</link>    <guid>https://www.elecfans.com/d/7635412.html</guid>    <pubDate>2026-02-02 17:05:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635412" value="https://file1.elecfans.com/web3/M00/4A/5A/wKgZPGmAZQaAM0UFAA7RwLS67Mo155.pdf"/><h1>探索MAX16838：高性能2通道高亮度<a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>解决方案</h1>
<p>在当今的电子设备中，高亮度<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>在汽车显示背光、LCD显示背光等领域得到了广泛应用。而一款优秀的LED驱动芯片则是确保LED稳定、高效工作的关键。今天，我们就来深入了解一下<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>Analog</u></a> Devices推出的MAX16838，一款集成2通道的高亮度LED驱动器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635412" target="_blank">MAX16838.pdf</a></p>
<h2>一、产品概述</h2>
<p>MAX16838是一款集成了<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC开关升压调节器和两个150mA<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>沉的双通道LED驱动器。它能够直接承受汽车负载突降事件，输入电压范围宽至4.75V到40V，对于5V ±10%的输入电压，可将(V_{IN})连接到VCC。其内部电流模式开关DC - DC<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>支持升压或SE<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>C拓扑，工作频率可在200kHz至2MHz之间调节。此外，MAX16838还具有自适应输出电压调整方案，能有效降低LED电流沉路径中的功耗。它可与MAX15054配合，实现具有两个集成电流沉的升降压LED驱动器。</p>
<h3>二、产品特性</h3>
<ol>
<li><strong>集成双通道线性LED电流沉</strong>：通道电流可通过外部<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>在20mA至150mA之间调节，且能将两通道并联以实现单通道最大300mA的电流。</li>
<li><strong>灵活的拓扑结构</strong>：支持升压或SEPIC拓扑，为设计提供了更大的灵活性。</li>
<li><strong>自适应电压优化</strong>：能最小化线性电流沉中的功耗，提高能源效率。</li>
<li><strong>宽输入电压范围</strong>：可适应4.75V至40V或5V ±10%的输入电压，满足不同应用场景的需求。</li>
<li><strong>高PWM调光比</strong>：在200Hz的PWM频率下可实现5000:1的调光比，能精确控制LED亮度。</li>
<li><strong>多重保护功能</strong>：具备输出过压保护、开路LED检测、短路LED检测和过温保护等功能，保障了设备的可靠性和稳定性。</li>
<li><strong>可外部同步的开关频率</strong>：开关频率可通过外部电阻在200kHz至2MHz之间<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>，并能与外部<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>同步。</li>
</ol>
<h3>三、技术细节剖析</h3>
<h4>（一）电流模式DC - DC控制器</h4>
<p>MAX16838采用电流模式控制，在每个开关周期开始时，内部<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>导通，电感电流线性上升，直到达到由反馈回路设定的峰值电流水平时关闭。通过比较<a href="https://m.hqchip.com/app/1782" target="_blank"><u>电流检测</u></a>电阻(R_{CS})两端的电压与跨导误差<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的输出，实现峰值电流模式控制。这种控制方式响应速度快，且简化了环路补偿。</p>
<h4>（二）误差放大器</h4>
<p>内部误差放大器将内部反馈<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>与内部参考电压进行比较，并调节其输出以调整电感电流。在正常工作时，通过反馈将最小的VOUT_电压调节到1V，使DC - DC<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>的输出电压比最大所需的总LED电压高1V。在PWM调光期间，当LED串关闭时，误差放大器与COMP输出断开，以保持补偿<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>的电荷，从而实现快速调光响应。</p>
<h4>（三）自适应LED电压控制</h4>
<p>该功能根据LED串的工作电压调节DC - DC转换器的输出电压，使电流沉输出端（OUT_）的电压差最小化，从而降低了设备的功耗。为实现高效的自适应控制，建议在每个LED串中使用相同正向电压额定值的HB LED。</p>
<h4>（四）电流限制</h4>
<p>MAX16838包含一个快速电流限制<a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>，当出现过载或故障情况时，可终止导通周期。通过连接在内部MOSFET源极与地之间的电流检测电阻(R_{CS})来设置电流限制。</p>
<h4>（五）欠压锁定</h4>
<p>具备两个欠压锁定功能，分别为UVLOIN和UVLOVCC，(V<em>{IN})的欠压锁定阈值典型值为4.3V，(V</em>{CC})的欠压锁定阈值典型值为4V。</p>
<h4>（六）软启动</h4>
<p>在<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>启动时，软启动功能会在100ms（典型值）内以64步的方式逐渐提升转换器的输出，直到两个LED串都达到调节点，然后恢复正常工作。</p>
<h4>（七）<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>频率与外部同步</h4>
<p>振荡器频率可通过连接在RT和SGND之间的外部电阻(R<em>{RT})在200kHz至2MHz之间编程。同时，可通过交流<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>外部时钟到(R</em>{RT})输入来实现与外部时钟的同步。</p>
<h4>（八）LED电流控制与调光</h4>
<p>通过连接在ISET和SGND之间的外部电阻(R_{ISET})，可将每个通道的电流在20mA至150mA之间调节。使用施加在DIM引脚的外部PWM信号可实现LED亮度控制，最小脉冲宽度为1µs，在200Hz的PWM频率下可实现5000:1的调光比。</p>
<h3>四、应用<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>要点</h3>
<h4>（一）升压电路设计</h4>
<ol>
<li><strong>确定参数</strong>：首先要确定所需的输入电源电压范围、驱动LED串所需的最大电压以及总输出电流。</li>
<li><strong>电感选择</strong>：选择合适的电感电流纹波峰峰值，计算最大平均电感电流、峰值电感电流和最小电感值。所选电感的最小电感值应大于计算值，电流额定值应大于峰值电感电流，并确保斜率补偿足够以防止次谐波振荡。</li>
<li><strong>输出电容选择</strong>：根据公式计算输出电容，建议使用低ESR和高电容的陶瓷电容组合，以降低输出纹波和噪声。</li>
<li><strong>输入电容选择</strong>：根据输入纹波电流计算最小输入电容。</li>
<li><strong><a href="https://www.hqchip.com/app/1557" target="_blank"><u>整流二极管</u></a>选择</strong>：选择<a href="https://m.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a>整流二极管，其电压额定值应比最大升压转换器输出电压高20%，电流额定值应大于计算值。</li>
<li><strong>反馈补偿</strong>：通过连接在COMP和SGND之间的电阻(R<em>{COMP})和电容(C</em>{COMP})进行反馈补偿，以确保电压反馈环路的稳定运行。</li>
</ol>
<h4>（二）<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局注意事项</h4>
<p>由于基于MAX16838的LED驱动电路使用高频开关转换器，因此在PCB布局时需要特别注意。要将(V_{CC})和DRV的旁路电容尽可能靠近器件放置，并将电容接地连接到<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>接地平面；为开关转换器的功率电路设置功率接地平面；减小功率电路中高频开关电流环路的面积；将恒流LED驱动部分的功率接地平面连接到LEDGND，并将SGND、LEDGND和PGND在一点连接。</p>
<h3>五、总结</h3>
<p>MAX16838以其集成度高、功能丰富、性能稳定等特点，为汽车和显示背光等应用中的中小尺寸LCD显示屏的HB LED供电提供了优秀的解决方案。在实际设计过程中，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>需要深入理解其技术细节和应用电路设计要点，合理选择外部元件和进行PCB布局，以充分发挥其性能优势，确保LED驱动系统的高效、稳定运行。大家在使用MAX16838的过程中遇到过哪些问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[CM2001U+FCB-EV9520L植保无人机技术解析与应用]]></title>    <link>https://www.elecfans.com/d/7635413.html</link>    <guid>https://www.elecfans.com/d/7635413.html</guid>    <pubDate>2026-02-02 17:05:00</pubDate>    <description><![CDATA[<p>
	在现代农业向精准化、智能化迈进的过程中，植保无人机已成为不可或缺的技术装备。CM2001U飞行平台与FCB-EV9520L喷洒系统的组合，代表了一种专注于高效植保作业的解决方案。本文将从技术构成与田间应用两个层面，对这一组合进行探讨。</p>
<p>
	飞行平台：稳定与高效的作业基础</p>
<p>
	CM2001U作为飞行载体，其设计核心在于为农田作业提供稳定可靠的飞行性能。它采用适应农业场景的机身结构和气动布局，能够在田间复杂的气流环境和不同作物冠层上方保持平稳飞行。这种稳定性是确保药液均匀喷洒的前提。平台具备符合农业作业需求的负载能力，能够适配并稳定搭载包括FCB-EV9520L在内的多种作业设备。其飞控系统针对植保作业的特点进行了优化，支持航线规划、自动巡航、定点悬停等模式，旨在减少人工操作强度，提升作业的规整度和覆盖一致性。</p>
<p>
	喷洒系统：精准与均匀的技术核心</p>
<p>
	FCB-EV9520L喷洒系统是直接实现植保功能的关键部分。该系统通常包含药箱、泵、管路和喷头等组件，其设计着眼于药液的精准计量与均匀雾化。通过<a href="https://m.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>的调节，能够根据作业速度、作物种类和病虫害程度，对单位面积内的施药量进行较为精确的管理，有助于在达到防治效果的同时，遵循合理使用农药的原则。喷头的雾化效果影响着药滴在作物叶面的附着与覆盖均匀性。该系统致力于产生大小适中、分布均匀的雾滴，以期提升药液利用率，减少因飘移或滴漏造成的浪费与潜在环境影响。</p>
<p>
	田间协同：提升植保作业的综合效能</p>
<p>
	CM2001U与FCB-EV9520L的组合应用，其价值在田间协同作业中得以体现。这种集成化方案将飞行平台的移动能力与喷洒系统的施药功能相结合，改变了传统的人工或地面<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>植保方式。它使作业人员能够远离药液接触区域，提升了安全性。同时，<a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>作业受地形限制较小，对于水田、梯田、高杆作物等不便下地作业的场景表现出适应性。作业效率的提升是其主要特点之一，它能在较短的时间内完成较大面积的植保任务，有助于抓住病虫害防治的关键窗口期。</p>
<p>
	应用考量：技术适配与规范操作</p>
<p>
	在实际部署CM2001U+FCB-EV9520L进行植保作业时，需进行多方面的考量。作业前的规划是重要环节，需要根据地块形状、面积、作物类型和周围环境（如居民区、水源地）设计合理的飞行航线与作业参数。对设备的日常检查与维护是保证其可靠性的基础，包括检查飞行器动力系统、喷洒系统密封性与喷头通畅性等。操作人员需要掌握必要的技能，了解基本农学知识、植保原理以及当地关于无人机飞行的管理规定。此外，农药的配制与加注需严格遵守安全规范，作业时应注意气象条件，避免在风力过大或即将降雨的天气下作业。</p>
<p>
	总结</p>
<p>
	CM2001U+FCB-EV9520L植保无人机组合，通过将稳定的飞行平台与精准的喷洒系统相结合，为农田植保提供了一种高效的工具。它的应用不仅关乎技术设备的性能，更与科学的作业规划、规范的操作流程以及合理的农艺管理密切相关。随着农业技术实践的深入，此类装备将继续在提升植保作业质量、促进农业可持续发展方面发挥作用。</p>
<p>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[北京人形机器人创新中心中试验证平台正式启动]]></title>    <link>https://www.elecfans.com/d/7635416.html</link>    <guid>https://www.elecfans.com/d/7635416.html</guid>    <pubDate>2026-02-02 17:06:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月29日，北京人形<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>创新<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>迎来一个重要里程碑——中试验证平台正式启动，并在现场下线了第1000台客户定制化样机。中试平台于2025年建成并投产，占地9700平米，聚焦具身智能机器人的技术验证和应用落地需求，部署底层基础设施，配置专业化智能设备，搭建整机生产示范线、关节生产线、小批量试制线，配备具身智能机器人测试区及数字化运维平台，并面向产业链上下游企业、高校、科研院所等机构开放，提供试制打样、性能工艺验证、工艺优化、功能模块装调、整机装调、测试验证六大功能一站式服务。当前，平台已具备试制生产和测试设备500台套，以及具身智能机器人年产能5000台套的能力。</p>
<p style="text-indent:2em;">
	作为工信部明确重点布局的未来产业关键载体，该平台的正式启用，标志着我国在人形机器人这一前沿领域，已构建起从技术研发到产品转化、从小批量试制到规模化生产准备的关键桥梁。为我国人形机器人产业高质量发展注入强劲动力，也标志着北京在人形机器人中试服务领域率先构建起标准化、数字化产业支撑体系。</p>
<p style="text-indent:2em;">
	<strong>破解行业共性难题，中试平台实现规模化量产</strong></p>
<p style="text-indent:2em;">
	当前，全球人形机器人产业正从研发快步走向场景落地与商业化探索的新阶段。在这一进程中，创新链与产业链之间仍存在显著的衔接断点，导致许多优秀的技术原型与设计，因缺乏专业化、标准化、高效率的中试环节，难以快速转化为稳定可靠、可批量制造的产品，制约了创新成果的产业化步伐。</p>
<p style="text-indent:2em;">
	行业痛点集中体现在四个方面：一是专业化的中试服务空白，研发机构与创业企业往往自建小型试制线，成本高、效率低、专业性不足；二是规范化、标准化生产能力欠缺，导致产品一致性、可靠性难以保障，制约批量交付；三是全链条测试体系不完善，性能、工艺、可靠性验证不充分，埋下市场应用风险；四是贯穿产品生命周期的数据沉淀缺乏，无法形成“研发-中试-量产”的迭代闭环。</p>
<p style="text-indent:2em;">
	此外，工信部近期印发的系列政策明确提出，要聚焦人形机器人等未来产业，加快中试验证平台布局建设，完善检验检测与成果转化体系。在此背景下，北京人形机器人创新中心基于中试平台，通过搭建具身智能机器人小批量试制线降低创新者的硬件门槛与制造成本，打造生产示范线和关节产线为行业提供具备工程规范与量产可行性的制造能力支撑，开放测试实验室构建整机和核心零部件的质量检测能力，最后依靠数字化运维平台积累数据，为未来量产自动化、质量预测与缺陷防控提供数据基础，精准解决四大行业痛点。</p>
<p style="text-indent:2em;">
	<strong>构建全栈式中试能力，打造数字化示范标杆</strong></p>
<p style="text-indent:2em;">
	本次启动的中试验证平台，是一座集“试制、验证、优化、测试”功能于一体的现代化产业服务平台。平台构建了四大核心功能载体，包括小批量试制线、具身智能机器人生产示范线、具身智能机器人关节生产示范线及专业测试实验室，可实现从核心部件到整机的全链路中试服务覆盖。同时，平台搭建起一体化数字化运维系统，通过统一主数据平台与开放<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，打<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>息流、物流与数据流的协同壁垒，构建起从原型验证到小批量打样的高效数字化中试体系，大幅缩短技术迭代周期。</p>
<p style="text-indent:2em;">
	平台核心布局的多条关键示范线包括：</p>
<p style="text-indent:2em;">
	<strong>具身智能机器人生产示范线：</strong>服务于具身智能机器人产品，建立标准化、模块化的装配流程，实现高效率、高可靠性的整机交付。</p>
<p style="text-indent:2em;">
	<strong>具身智能机器人关节生产示范线：</strong>用于生产具身智能机器人的关键部件—关节。建立<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>，高稳定性的柔性生产线，满足不同类型关节的生产需求。</p>
<p style="text-indent:2em;">
	<strong>小批量试制线：</strong>定位为面向高校、科研院所、初创企业的共享型平台，主要承担机器人整机和关键模块的打样、装配与验证任务。</p>
<p style="text-indent:2em;">
	同时，面向具身智能机器人在研发试制与落地应用过程中的关键性能验证与系统评估需求，构建整机和核心零部件的质量检测能力，配置相应的软硬件测试环境并输出满足技术指标要求的测试方案，实现测试流程和方法的标准化，推动形成一批通用性强、复用性高的测试方法与指标体系，为机器人产品质量把关提供权威支撑，助力行业规范发展与产业高质量落地。</p>
<p style="text-indent:2em;">
	尤为重要的是，平台并非简单物理空间的叠加，而是以数字化智能化理念贯穿始终。通过构建数字化运维系统整体架构，通过数据协同实现各系统间数据互联互通，构建数据存储管理平台。通过统一的主数据平台和开放接口，实现信息流、物流与数据流的贯通，这确保了从设计数据导入、工艺规划、生产执行到测试反馈的全流程数据无缝流动与追溯，真正构建起一个支撑具身智能机器人从“原型验证”到“批量制造”的高效数字化中试体系。</p>
<p style="text-indent:2em;">
	<strong>铸就产业核心基石，助力人形机器人新时代</strong></p>
<p style="text-indent:2em;">
	北京人形机器人中试验证平台的启动，其价值和意义远不止是一个实体设施的落成。它是产业公共服务能力的一次重大升级，填补了人形机器人领域专业化中试平台的空白，为北京乃至全国构建了产业核心基础设施。它更是协同创新生态的关键枢纽。平台通过开放共享，将吸引汇聚产业链上下游企业、高校院所的技术、人才与需求，促进知识交流、技术合作与共性难题攻关，加速形成紧密协作、共生共赢的产业创新集群。</p>
<p style="text-indent:2em;">
	作为北京建设人形机器人产业创新高地的重要支撑，该平台将秉持开放共享理念，联动产学研用各方资源，持续完善中试服务能力，推动核心技术攻关与产业链协同升级。未来，北京人形机器人创新中心将以中试验证平台为支撑，积极承接国家重点研发任务，持续完善平台功能，与各界伙伴携手共进，共同推动关键核心技术突破、成熟产品涌现与规模化应用落地，为我国智能制造升级和未来产业发展注入强大动能，为建设科技强国贡献坚实力量。</p>
<p style="text-indent:2em;">
	来源：北京人形机器人创新中心</p>]]></description></item><item>    <title><![CDATA[奇瑞集团2026年1月销售汽车超20万辆]]></title>    <link>https://www.elecfans.com/d/7635417.html</link>    <guid>https://www.elecfans.com/d/7635417.html</guid>    <pubDate>2026-02-02 17:07:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	奇瑞集团发布1月份销量数据：集团销售汽车200,269辆。其中，<a href="https://m.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车52,131辆；出口汽车119,605辆，同比增长48.1%，连续9个月出口突破10万辆，继续稳居中国汽车出口第一。奇瑞汽车股份有限公司（9973.HK）1月份销售汽车191,496辆。</p>
<p style="text-indent:2em;">
	主要乘用车品牌表现如下：1月份，奇瑞品牌销量135,551辆；星途品牌销量5,276辆；捷途品牌销量42,744辆；iCAR品牌销量3,419辆；智界品牌销量4,506辆。</p>
<p style="text-indent:2em;">
	2026年开年，中国汽车市场受到政策变化等多重因素影响，进入阶段性调整。奇瑞集团在行业波动中，凭借<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>智能化战略升维、产品线持续焕新、出口持续领跑等优势，奠定了高质量发展的底气。</p>
<p style="text-indent:2em;">
	01AI战略2.0</p>
<p style="text-indent:2em;">
	奇瑞迈向“全球AI科技公司”</p>
<p style="text-indent:2em;">
	1月17日举办的“2026奇瑞汽车AI之夜”，标志着奇瑞从“汽车制造商”向“全球AI科技公司”转型，正式迈入AI智能化2.0时代。</p>
<p style="text-indent:2em;">
	1月17日，2026奇瑞汽车AI之夜发布会现场</p>
<p style="text-indent:2em;">
	奇瑞实施全域AI战略，以“以人为本”为根本，聚焦 “AI for Product（产品平权）、AI for Soul（情感平权）、AI for Industry（产业平权）” 三大方向布局，旨在让前沿<a href="https://www.elecfans.com/soft/data/42-102/" target="_blank"><u>AI技术</u></a>普惠全球用户。</p>
<p style="text-indent:2em;">
	战略之下，是奇瑞AI智能化成果的集中落地：超级AI智能体“小奇同学”正式亮相，成为连接用户与智慧出行的情感纽带；灵犀智舱将于一季度实现全品牌主力车型覆盖；猎鹰智驾年内将搭载超过35款车型。</p>
<p style="text-indent:2em;">
	奇瑞的AI技术正以“具身智能”形态向物理世界拓展，其自主研发的墨甲<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>已在全球30多个国家和地区商用，覆盖工厂巡检、展厅服务、家庭陪护等100+应用场景。今年1月，奇瑞墨甲首款交警机器人已投入一线执勤。</p>
<p style="text-indent:2em;">
	02密集上新</p>
<p style="text-indent:2em;">
	多款重磅新品亮相，市场热度攀升</p>
<p style="text-indent:2em;">
	2026开年，奇瑞集团各品牌新品频出，展现出强大的市场活力与产品迭代速度。</p>
<p style="text-indent:2em;">
	在乘用车领域：面向年轻先锋家庭的“智能硬派大五座SUV”iCAR V27全球首台量产车正式下线并开启限时盲订，计划一季度在国内上市；风云品牌双箭齐发：风云T9L以越级配置定义智能豪华SUV标准，盲订后24小时订单突破6000台；“新世代智美轿跑”风云A9开启全民众筹，以东方美学设计引发市场广泛关注。</p>
<p style="text-indent:2em;">
	在商用车领域：首款纯电动皮卡威麟R08 EV上市，开启了奇瑞商用车的电动化新篇章。</p>
<p style="text-indent:2em;">
	1月27日，奇瑞商用车纯电动皮卡威麟R08 EV上市现场</p>
<p style="text-indent:2em;">
	03全球化进阶</p>
<p style="text-indent:2em;">
	从“走出去”到“融进去”</p>
<p style="text-indent:2em;">
	奇瑞的“新出海”模式正实现从“产品出海”到“品牌与生态出海”的升级。</p>
<p style="text-indent:2em;">
	奇瑞加快布局高法规市场。2025年，奇瑞已成功进入欧洲15国市场，全年在英国和欧盟市场销售汽车237,453辆，同比增长240%。</p>
<p style="text-indent:2em;">
	秉持“In somewhere, For somewhere, Be somewhere”的理念，奇瑞正致力于融入海外市场，成为扎根当地发展的企业公民。今年1月份，一则奇瑞与西班牙EBRO合资工厂的暖心视频刷爆当地社交圈。视频讲述了一位重返工作岗位的母亲，帮助女儿重启芭蕾梦想的故事。这一切的背后，源于2024年奇瑞与EV MOTORS达成战略合作——双方携手焕新西班牙传奇品牌EBRO，让1000多位当地工人重返就业岗位。视频不仅获得当地媒体和民众的积极评价，还得到了中国驻西班牙大使馆的转发与点赞。</p>
<p style="text-indent:2em;">
	截至目前，奇瑞集团全球累计用户已突破1873万，其中海外用户超596万。2026年，奇瑞集团将继续坚持高质量发展，加速成为全球用户喜爱和信赖的全球化高科技生态集团。</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[使用PLCSIM Advanced V8仿真测试S7-1200 G2的Modbus TCP通信]]></title>    <link>https://www.elecfans.com/d/7635425.html</link>    <guid>https://www.elecfans.com/d/7635425.html</guid>    <pubDate>2026-02-02 17:09:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	来源：工控老炮儿</p>
<p style="text-indent:2em;">
	介绍</p>
<p style="text-indent:2em;">
	去年刚装好，今年又要升。</p>
<p style="text-indent:2em;">
	刚习惯使用 <a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>A Portal V20，就又要熟悉 TIA Portal V21。</p>
<p style="text-indent:2em;">
	今天试一下用 <a href="https://www.elecfans.com/v/tag/323/" target="_blank"><u>PLC</u></a><a href="https://m.hqchip.com/app/1522" target="_blank"><u>SIM</u></a> <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>Ad</u></a>vanced V8 <a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>测试 S7-1200 G2 的 Modbus TCP <a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。</p>
<p style="text-indent:2em;">
	添加 S7-1200 G2 <a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></p>
<p style="text-indent:2em;">
	在 TIA Portal V21 中选择 1214C V4.1。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanqAX-chAAE2DiepUj0788.png" alt="1e53f1ce-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	配置 Modbus TCP Server</p>
<p style="text-indent:2em;">
	在 TIA Portal V21 中添加一个 DB 块 GdbMbTcpConData，作为连接参数。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanqAH5SiAACO7SO7W4w239.png" alt="1eae6870-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	添加一个 DB 块 GdbHoldRegData，作为保持型数据缓冲区。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanqAKWFiAACY3cZ6OdY545.png" alt="1f0890e8-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	添加一个 FB MbTcpServer，连接以上定义的数据块参数。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanqAROIHAABLCT27678404.png" alt="1f61df68-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	在主程序 OB1 中调用 FB MbTcpServer。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanqAZeYZAAAfVkfLO5A088.png" alt="1fb79b7e-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	配置 PLC 仿真实例</p>
<p style="text-indent:2em;">
	启动 PLCSIM Advanced V8，创建并配置 S7-1200 G2 实例，下载 PLC 程序。</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanuAYdFTAAC1FKNWK1E778.png" alt="201017a4-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	配置 Modbus TCP Client</p>
<p style="text-indent:2em;">
	用 MThings 作为 Modbus TCP 客户端即主站进行测试。</p>
<p style="text-indent:2em;">
	添加通信通道。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanuAV2tuAADJcmB2-6o509.png" alt="2069cd62-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	添加客户端即主站设备。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanuARlVMAADQUZoOMg8162.png" alt="20c38d16-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	添加通信数据条目。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanuAGBgqAADFqctMpYM389.png" alt="2119e184-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	和 PLC 中定义的通信缓冲区数据地址对应。如下图：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanyANrGuAAH95SXd5Lw644.png" alt="2171978a-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	测试</p>
<p style="text-indent:2em;">
	在线并监视通信数据。</p>
<p style="text-indent:2em;">
	PLC 端数据：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZPGmAanyAB_XkAACps6ZvdEw351.png" alt="21cd50d4-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	MThings 端数据：</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanyAROEXAAINj8_CbPg800.png" alt="222a0cac-ff77-11f0-90a1-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	下载链接</p>
<p style="text-indent:2em;">
	Modbus TCP Server/TIA 项目下载链接：</p>
<p style="text-indent:2em;">
	https://pan.quark.cn/s/8ce570ed8aaf</p>
<p style="text-indent:2em;">
	Modbus TCP Client/MThings 项目下载链接：</p>
<p style="text-indent:2em;">
	https://pan.quark.cn/s/bee5f7c97e50</p>
<p style="text-indent:2em;">
	TIA Portal V21 下载链接：</p>
<p style="text-indent:2em;">
	https://pan.quark.cn/s/5922b391ffbc</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAanyAApTUAAC4FUfoFI8103.png" alt="2285d640-ff77-11f0-90a1-92fbcf53809c.png"/></p>]]></description></item><item>    <title><![CDATA[研华模块化电脑SOM-7583：通过模块化架构应对人形机器人应用挑战]]></title>    <link>https://www.elecfans.com/d/7635423.html</link>    <guid>https://www.elecfans.com/d/7635423.html</guid>    <pubDate>2026-02-02 17:09:00</pubDate>    <description><![CDATA[<p>
	<strong>关键词：模块化<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>、</strong><strong>COM</strong><strong>、C</strong><strong>OM Mini</strong><strong>、<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>、人形机器人、研华、研华<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a></strong><br/><br/><strong><img src="https://file1.elecfans.com/web3/M00/4A/5B/wKgZO2mAaZqAexDIACsCozFkuOA788.png" alt="wKgZO2mAaZqAexDIACsCozFkuOA788.png"/><br/><br/>
	市场</strong><strong>趋势</strong><br/><strong>在处理复杂任务和支持智能自动化的需求不断攀升的推动下，人形机器人技术正在以前所未有的速度发展。<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>在计算、感知以及运动控制方面取得的重大突破，正在促使这些机器人走出实验室，迈向物流、检查以及医疗保健等真实应用场景。它们擅长承担危险或重复性的工作，通过<a href="https://www.elecfans.com/tags/机器视觉/" target="_blank"><u>机器视觉</u></a>、人工智能推理以及<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>融合技术灵活适应动态变化的环境。</strong><br/>
	<br/><strong>应用</strong><strong>挑战</strong><br/><strong>1、</strong><strong>异构计算集成</strong><br/><strong>现代人形机器人通常依赖于双计算系统</strong><strong>：一个系统专注于处理复杂的人工智能任务，另一个则负责实时控制与决策。在设计和开发过程中，将这些系统高效整合，同时兼顾性能、成本以和空间限制</strong><strong>至关重要。</strong><br/><br/><strong>2、实时协调和响应</strong><br/><strong>人工智能和控制模块之间的低延迟<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>对于有效处理传感器数据至关重要。</strong><strong>运动</strong><strong>控制和避障等任务需要毫秒级响应能力，因此需要高性能、多核控制模块。</strong><br/>
	<br/><strong>3</strong><strong>、</strong><strong>紧凑</strong><strong>设计</strong><strong>的</strong><strong>散热</strong><br/><strong>控制模块必须节能、</strong><strong>散</strong><strong>热优化且紧凑，以确保在人形机器人躯干或头部的有限空间内</strong><strong>具备抗震性</strong><strong>和24/7全天候</strong><strong>稳定</strong><strong>运行</strong><strong>。</strong><br/>
	<br/><strong>解决方案</strong><br/><strong>为了满足人形机器人对紧凑</strong><strong>且</strong><strong>强大的控制模块的需求，客户选择了</strong><strong>研华模块化电脑</strong><strong>（COM）解决方案</strong><strong>SOM-7583</strong><strong>。</strong><strong>其</strong><strong>模块化设计</strong><strong>和</strong><strong>可扩展的</strong><strong>特性</strong><strong>简化了开发</strong><strong>和</strong><strong>集成。采用</strong><strong><a href="https://www.elecfans.com/tags/intel/" target="_blank"><u>Intel</u></a> Core</strong><strong>i </strong><strong>平台，</strong><strong>在高性能、低功耗和超紧凑外形尺寸之间取得了</strong><strong>出色的</strong><strong>平衡。</strong><br/><br/><strong>1、模块化设计带来可扩展的性能</strong><br/><strong>边缘 <a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a> 模块处理传感器输入、物体检测、SLAM 和 AI 推理，而 SOM-7583 处理系统逻辑、<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>以及 IMU 和执行器等<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>。两个计算模块都集成在具有</strong><strong>丰富</strong><strong>I/O 支持的载板上，提供</strong><strong>紧凑而可扩展的模块化设计</strong><strong>，加速机器人开发。</strong><br/>
	<br/><strong>2</strong><strong>、</strong><strong>通过行业标准协议实现精确同步</strong><br/><strong>SOM-7583 通过其 LAN 接口使用 EtherCAT 协议与<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>模块连接，实现</strong><strong>高频、低延迟的运动控制</strong><strong>。这确保了机器人决策和物理执行之间的精确同步。</strong><br/><br/><strong>3、适用于恶劣环境的稳健且轻松的迁移</strong><br/><strong>该平台专为</strong><strong>严苛</strong><strong>环境而</strong><strong>设计，</strong><strong>集成了</strong><strong>板载内存和 S<a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a> 存储</strong><strong>，可提供强大的抗震性和可靠的启动。其无风扇设计确保安静、低维护运行，实现长期稳定性。</strong><strong>模块化设计允许快速升级到更高性能的<a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a> 或 AI模块，而无需重新设计载板，以灵活、可扩展的特性加快产品上市时间。</strong><br/>
	<br/><strong>为什么选择研华</strong><br/><strong>研华是智能机器人和边缘人工智能领域值得信赖的合作伙伴，提供</strong><strong>全面的硬件集成、强大的软件开发工具、</strong><strong>专业</strong><strong>设计服务和行业领先的散热解决方案</strong><strong>。</strong><br/><br/><strong>1、</strong><strong>简化的集成模块化平台</strong><br/><strong>研华将控制模块和多个 AI 模块集成到一个统一的、</strong><strong>聚焦的</strong><strong>载板上，从而简化系统架构，降低开发复杂性，并加快上市时间。</strong><br/><br/><strong>2、</strong><strong>全面的人工智能软件和 SDK 支持</strong><br/><strong>为了加快 AI 集成和模型部署，研华提供了全套软件工具，包括</strong><strong>EdgeAI SDK</strong><strong>和 </strong><strong>Robo<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>c Sui<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a></strong><strong>。这些工具有助于评估和开发模型，支持 <a href="https://www.elecfans.com/tags/tensorflow/" target="_blank"><u>TensorFlow</u></a> 和 PyTorch 等主要人工智能框架。这意味着开发人员无需从头开始即可为各种应用构建解决方案，从而</strong><strong>显著</strong><strong>加快</strong><strong>产品</strong><strong>开发和发布时间。</strong><br/><strong>3、</strong><strong>可靠的机器人服务和制造</strong><br/><strong>研华的设计服务提供全面的支持——从 B<a href="https://www.elecfans.com/tags/ios/" target="_blank"><u>IOS</u></a> 和系统定制到散热优化和硬软件快速集成。所有组件均符合工业级标准，确保在苛刻的环境中具有可靠的性能。以全球供应链、稳定长期供货、本地支持和高效的跨境物流为后盾，研华是人形机器人和自主系统值得信赖的合作伙伴。</strong><br/><strong>从模块化硬件设计和 AI 开发工具到工业级质量和专业的设计服务，研华提供全栈解决方案，使客户能够快速进入智能机器人和边缘 AI 市场。有效地降低了开发风险，缩短了上市时间，并将创新应用程序变为现实。</strong><br/><strong>如需了解更多信息，欢迎联系研华嵌入式服务热线</strong><strong>400-001-9088。</strong><br/>
	<br/>
	<br/><strong>###</strong><br/>
	<br/><strong>关于研华：</strong><br/><strong>研华成立于</strong><strong>1983年，以"智能地球的推手"作为企业品牌愿景，一直专注深耕于工业<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>、<a href="https://www.elecfans.com/v/tag/3252/" target="_blank"><u>嵌入式物联网</u></a>、智慧城市三大市场。为迎接物联网、大数据与人工智能的大趋势，研华提出以边缘智能和研华工业云平台为核心的物联网软、硬件解决方案，并以Sector Driven策略全面展开在边缘智能系统、智能制造、能源与公共事业、智能医疗、智能零售与服务五大关键市场，加强全球布局提升核心竞争力。研华业务分布全球27个国家，拥有近9000名员工，以强大的技术服务及营销网络，为客户提供本土化响应的便捷服务。此外，研华也积极协同伙伴共创</strong><strong>产业生态圈，加速实践产业智能化的目标。（公司网站：</strong><strong>www.<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>vantech.com.cn</strong><strong>）</strong><br/>
	<br/><strong>关于研华</strong><strong><a href="https://www.elecfans.com/tags/iot/" target="_blank"><u>IoT</u></a></strong><strong>嵌入式平台事业群（E</strong><strong>I</strong><strong>o</strong><strong>T , Advantech Embedded IoT Group</strong><strong>）</strong><br/><strong>研华嵌入式物联网平台事业群提供全系列嵌入式计算机板卡、智能系统、外围模块、软件服务经销以及客制化设计导入服务，涵盖全产品研发设计、制造与全球销售与服务，并专注垂直产业发展。为迎接物联网、大数据与人工智能的发展，我们还提供从边缘运算(Edge</strong><strong>Computing)到云服务(Cloud Services) 的物联网整合解决方案，包含但不限于AIW无线解决方案、IoT Gateway 网关、EIS边缘智能服务器及DeviceOn智能化设备维运管理软件、WISE-PaaS物联网软件平台及主流第三方云服务平台，更针对人工智能应用推出一系列Edge AI模块，推理系统及产业解决方案，专注产业物联网解决方案开发及区域深耕。（服务专线/</strong><strong>QQ</strong><strong>：</strong><strong>400-001-9088</strong><strong>，微信公众号：研华嵌入式物联网）</strong></p>]]></description></item><item>    <title><![CDATA[RK3576音频调试全纪录]]></title>    <link>https://www.elecfans.com/d/7401445.html</link>    <guid>https://www.elecfans.com/d/7401445.html</guid>    <pubDate>2026-02-02 17:13:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>在<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a>设备开发中，<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>调试往往是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>牵一发而动全身</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的环节</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>既需要对齐硬件原理图的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>定义，又要适配软件层的</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>配置、引脚映射和驱动逻辑。本文基于</span></font><font face="Arial"><span>RK3576</span></font><font face="等线"><span>平台的实际调试场景，结合原理图关键信息与代码修改记录，<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a></span></font><font face="Arial"><span>ES8388/ES8323 codec</span></font><font face="等线"><span>音频调试的完整流程，带你解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>无声音、</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>不工作、耳机检测失效</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>三大核心问题。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span>一、调试背景：明确硬件与核心问题</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span><span>1.</span><font face="等线"><span>硬件基础</span></font></span></b></h3>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJmAcdzoAALDPtIKWCo807.png" alt="wKgZPGkanJmAcdzoAALDPtIKWCo807.png"/><h3>
		</h3>
	<p>
		<span><font face="等线"><span>本次调试的音频硬件架构如下，原理图核心标注需重点关注：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>Codec</span><font face="等线"><span>芯片</span></font></span></b><span><font face="等线"><span>：采用</span></font><span>ES8388</span><font face="等线"><span>（主</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>）与</span></font><font face="Arial"><span>ES8323</span></font><font face="等线"><span>（辅助</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>），支持耳机输出、</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>输入、线路输入（</span></font><font face="Arial"><span>Line In</span></font><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>供电要求</span></font></span></b><span><font face="等线"><span>：原理图标注</span></font><font face="Arial"><span>“the chip <a href="https://www.hqchip.com/app/2004" target="_blank"><u>can</u></a> <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>opt 1.8V <a href="https://www.hqchip.com/app/1720" target="_blank"><u>poe</u></a> supply”——Codec</span></font><font face="等线"><span>芯片支持</span></font><font face="Arial"><span>1.8V</span></font><font face="等线"><span>供电，需确保<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>轨稳定（避免因供电不足导致芯片异常）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>定义</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>耳机接口：</span></font><span>3-pole</span><font face="等线"><span>（</span></font><font face="Arial"><span>3</span></font><font face="等线"><span>极）设计，支持音频输出（无内置</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>引脚，需单独配置外置</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>或线路输入）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><span>MIC</span><font face="等线"><span>接口：标注</span></font><font face="Arial"><span>“MIC ORT JNO”</span></font><font face="等线"><span>，对应硬件上的主</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>输入通道；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>控制引脚：包含耳机检测（</span></font><span>HP_DET</span><font face="等线"><span>）、耳机控制（</span></font><font face="Arial"><span>HP_CON</span></font><font face="等线"><span>）、线路输入检测（</span></font><font face="Arial"><span>LINEIN_DET</span></font><font face="等线"><span>）等</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>引脚。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span>2.</span><font face="等线"><span>初始问题清单</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>调试前设备存在三大音频问题，也是本次优化的核心目标：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>无声音输出</span></font></span></b><span><font face="等线"><span>：耳机插入后无任何声音，</span></font><span>Codec</span><font face="等线"><span>芯片未正确输出音频信号；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span><span>MIC</span><font face="等线"><span>录音失效</span></font></span></b><span><font face="等线"><span>：内置</span></font><span>MIC</span><font face="等线"><span>无法捕获声音，录音文件为静音或底噪严重；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span><font face="等线"><span>耳机</span></font><span>/</span><font face="等线"><span>线路输入检测失效</span></font></span></b><span><font face="等线"><span>：插入耳机或线路输入设备，系统无任何硬件接入提示。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span>二、调试核心：硬件原理图与代码修改的对齐</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>音频调试的关键逻辑是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件信号定义</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>软件配置映射</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，以下按</span></font><font face="Arial"><span>“HAL</span></font><font face="等线"><span>层</span></font><font face="Arial"><span>→ Codec</span></font><font face="等线"><span>配置</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>设备树</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>内核驱动</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的顺序，拆解每处修改与原理图的对应关系。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span>模块</span></font><span>1</span><font face="等线"><span>：</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>Ti</u></a>nyALSA HAL</span></font><font face="等线"><span>层配置（解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>采样率不匹配导致的杂音</span></font><font face="Arial"><span>/</span></font><font face="等线"><span>无声</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span>HAL</span><font face="等线"><span>层是</span></font><font face="Arial"><span><a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a></span></font><font face="等线"><span>音频框架与底层硬件的桥梁，核心修改集中在采样率与音频参数适配。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span>代码修改（</span></font></span></b><b><span><span>audio_hw.c</span></span></b><b><span><span>/</span></span></b><b><span><span>audio_hw.h</span></span></b><b><span><font face="等线"><span>）</span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 播放与录音的采样率从 48000Hz 改为 44100Hz</span></span></code><code><span>-<span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">struct</span>pcm_config pcm_config = {.ra<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a> =<span class="code-snippet__number">48000</span>, .period_size =<span class="code-snippet__number">960</span>};</span></code><code><span>+<span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">struct</span>pcm_config pcm_config = {.rate =<span class="code-snippet__number">44100</span>, .period_size =<span class="code-snippet__number">256</span>};</span></code><code><span>-<span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">struct</span>pcm_config pcm_config_in = {.rate =<span class="code-snippet__number">48000</span>, .period_size =<span class="code-snippet__number">768</span>};</span></code><code><span>+<span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">struct</span>pcm_config pcm_config_in = {.rate =<span class="code-snippet__number">44100</span>, .period_size =<span class="code-snippet__number">256</span>};</span></code><code><span><span class="code-snippet__comment">// 默认播放采样率定义同步修改</span></span></code><code><span>-<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">define</span></span><span class="code-snippet__meta">DEFAULT_PLAYB<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>K_SAMPLERATE 48000</span></span></code><code><span>+<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">define</span></span><span class="code-snippet__meta">DEFAULT_PLAYBACK_SAMPLERATE 44100</span></span></code></pre>
	<h4>
		<b><span><font face="等线"><span>为什么改？</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>与硬件</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>能力对齐</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>原理图未明确标注采样率，但</span></font><span>ES8388/ES8323</span><font face="等线"><span>芯片对</span></font><font face="Arial"><span>44100Hz</span></font><font face="等线"><span>采样率的兼容性更好（尤其通话、普通音乐播放场景）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>原</span></font><span>48000Hz</span><font face="等线"><span>采样率与部分音频通路（如</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>输入）的硬件<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>（</span></font><font face="Arial"><span>MCLK</span></font><font face="等线"><span>）不匹配，导致音频数据传输时出现</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>丢帧</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，表现为无声或杂音；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>缩小</span></font></span><span><span>period_size</span></span><span><font face="等线"><span>（从</span></font><span>960/768</span><font face="等线"><span>改为</span></font><font face="Arial"><span>256</span></font><font face="等线"><span>）：减少音频缓冲区大小，降低播放延迟，避免因缓冲区溢出导致的声音卡顿。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span>模块</span></font><span>2</span><font face="等线"><span>：</span></font><font face="Arial"><span>ES8388 Codec</span></font><font face="等线"><span>配置（解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>耳机无输出、</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>无录音</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span>ES8388</span><font face="等线"><span>是主</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>芯片，负责音频信号的编解码，修改集中在</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>输出使能、音量控制、</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>输入通道选择</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span>代码修改（</span></font></span></b><b><span><span>es8388_config.h</span></span></b><b><span><font face="等线"><span>）</span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 1. 耳机输出使能：新增 OUT1 Switch 控制，打开耳机输出通道</span></span></code><code><span><span class="code-snippet__keyword">const</span><span class="code-snippet__keyword">struct</span>config_control es8388_headphone_incall_controls[] = {</span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"Output 1 Playback Volume"</span>, .int_val = {<span class="code-snippet__number">27</span>,<span class="code-snippet__number">27</span>}},<span class="code-snippet__comment">// 耳机音量设置（27 为安全值，避免爆音）</span></span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"OUT1 Switch"</span>, .int_val = {<span class="code-snippet__keyword">on</span>}},<span class="code-snippet__comment">// 使能 OUT1 输出（对应原理图耳机输出引脚）</span></span></code><code><span>};</span></code><code><span><span class="code-snippet__comment">// 2. MIC 输入配置：调整捕获音量、修正输入通道</span></span></code><code><span><span class="code-snippet__keyword">const</span><span class="code-snippet__keyword">struct</span>config_control es8388_main_mic_capture_controls[] = {</span></code><code><span>-  {.ctl_name =<span class="code-snippet__string">"Capture Digital Volume"</span>, .int_val = {<span class="code-snippet__number">192</span>,<span class="code-snippet__number">192</span>}},<span class="code-snippet__comment">// 原音量过高，底噪严重</span></span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"Capture Digital Volume"</span>, .int_val = {<span class="code-snippet__number">175</span>,<span class="code-snippet__number">175</span>}},<span class="code-snippet__comment">// 降低音量，减少底噪</span></span></code><code><span>-  {.ctl_name =<span class="code-snippet__string">"Left/Right Channel Capture Volume"</span>, .int_val = {<span class="code-snippet__number">8</span>,<span class="code-snippet__number">8</span>}},</span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"Left/Right Channel Capture Volume"</span>, .int_val = {<span class="code-snippet__number">3</span>,<span class="code-snippet__number">3</span>}},<span class="code-snippet__comment">// 进一步降低通道音量</span></span></code><code><span>-  {.ctl_name =<span class="code-snippet__string">"Left PGA Mux"</span>, .str_val =<span class="code-snippet__string">"DifferentialL"</span>},<span class="code-snippet__comment">// 原通道选错，未对应硬件 MIC 引脚</span></span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"Left PGA Mux"</span>, .str_val =<span class="code-snippet__string">"Line 2L"</span>},<span class="code-snippet__comment">// 切换到 Line 2L 通道（对应原理图 MIC 输入引脚）</span></span></code><code><span>+  {.ctl_name =<span class="code-snippet__string">"Right PGA Mux"</span>, .str_val =<span class="code-snippet__string">"Line 2R"</span>},<span class="code-snippet__comment">// 右通道同步切换，适配立体声 MIC</span></span></code><code><span>};</span></code></pre>
	<h4>
		<b><span><font face="等线"><span>关键对齐：与原理图</span></font><span>MIC /</span><font face="等线"><span>耳机接口匹配</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>OUT1 Switch</span><font face="等线"><span>使能</span></font></span></b><span><font face="等线"><span>：原理图中耳机输出信号连接到</span></font><span>ES8388</span><font face="等线"><span>的</span></font><font face="Arial"><span>OUT1</span></font><font face="等线"><span>引脚，默认未打开该通道，导致耳机无声音；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>MIC</span><font face="等线"><span>通道选择</span></font></span></b><span><font face="等线"><span>：原配置用</span></font><font face="Arial"><span>“DifferentialL”</span></font><font face="等线"><span>通道，对应原理图的线路输入</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>（</span></font><font face="Arial"><span>Line 1</span></font><font face="等线"><span>），而实际</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>硬件连接到</span></font><font face="Arial"><span>Line 2</span></font><font face="等线"><span>通道，导致</span></font><font face="Arial"><span>“MIC</span></font><font face="等线"><span>插了但没走对应通路</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>音量调整</span></font></span></b><span><font face="等线"><span>：原</span></font><span>192</span><font face="等线"><span>音量过高，超出</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>拾音范围，导致底噪严重，降至</span></font><font face="Arial"><span>175</span></font><font face="等线"><span>后底噪消失且录音清晰。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span>模块</span></font><span>3</span><font face="等线"><span>：设备树（</span></font><font face="Arial"><span>DTS</span></font><font face="等线"><span>）修改（解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>耳机</span></font><font face="Arial"><span>/</span></font><font face="等线"><span>线路输入检测失效</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>设备树是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件引脚与软件驱动的映射表</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，核心修改耳机检测、控制引脚，新增线路输入检测配置，完全对齐原理图引脚定义。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span>代码修改（</span></font></span></b><b><span><span>rk3576-evb1.dtsi</span></span></b><b><span><font face="等线"><span>）</span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>es8388_sound: es8388-sound {</span></code><code><span><span class="code-snippet__deletion">-  hp-det-gpio = &lt;&amp;gpio0 RK_PD3 GPIO_ACTIVE_LOW&gt;; // 原引脚与原理图不匹配</span></span></code><code><span><span class="code-snippet__addition">+  hp-det-gpio = &lt;&amp;gpio2 RK_PA7 GPIO_ACTIVE_LOW&gt;; // 改为原理图标注的耳机检测引脚（GPIO2_PA7）</span></span></code><code><span><span class="code-snippet__deletion">-  spk-con-gpio = &lt;&amp;gpio2 RK_PB1 GPIO_ACTIVE_HIGH&gt;; // 关闭扬声器控制（未使用）</span></span></code><code><span><span class="code-snippet__deletion">-  hp-con-gpio = &lt;&amp;gpio3 RK_PD6 GPIO_ACTIVE_HIGH&gt;; // 原耳机控制引脚错误</span></span></code><code><span><span class="code-snippet__addition">+  hp-con-gpio = &lt;&amp;gpio2 RK_PA6 GPIO_ACTIVE_HIGH&gt;; // 改为原理图耳机控制引脚（GPIO2_PA6）</span></span></code><code><span><span class="code-snippet__addition">+  linedet-gpio = &lt;&amp;gpio2 RK_PB0 IRQ_TYPE_EDGE_BOTH&gt;; // 新增线路输入检测引脚（对应原理图 Line In 检测）</span></span></code><code><span>  headphone {</span></code><code><span><span class="code-snippet__deletion">-    <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-0 = &lt;&amp;hp_det&gt;; // 原仅配置耳机检测引脚</span></span></code><code><span><span class="code-snippet__addition">+    pinctrl-0 = &lt;&amp;hp_det&gt;,&lt;&amp;linein_det&gt;; // 新增线路输入检测引脚配置</span></span></code><code><span>  };</span></code><code><span><span class="code-snippet__addition">+  linein_key: linein-key { // 新增线路输入检测节点</span></span></code><code><span><span class="code-snippet__addition">+    compatible = "linein-key";</span></span></code><code><span><span class="code-snippet__addition">+    status = "okay";</span></span></code><code><span><span class="code-snippet__addition">+  };</span></span></code><code><span>};</span></code><code><span>&amp;pinctrl {</span></code><code><span>  headphone {</span></code><code><span>    hp_det: hp-det {</span></code><code><span><span class="code-snippet__deletion">-      <a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>,pins = &lt;0 RK_PD3 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;;</span></span></code><code><span><span class="code-snippet__addition">+      rockchip,pins = &lt;2 RK_PA7 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;; // 对齐耳机检测引脚</span></span></code><code><span>    };</span></code><code><span><span class="code-snippet__addition">+    linein_det: linein-det { // 新增线路输入检测引脚配置</span></span></code><code><span><span class="code-snippet__addition">+      rockchip,pins = &lt;2 RK_PB0 RK_FUNC_GPIO &amp;pcfg_pull_up&gt;;</span></span></code><code><span><span class="code-snippet__addition">+    };</span></span></code><code><span>  };</span></code><code><span>};</span></code><code><span>// SAI <a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频接口</u></a>：修正数据输出引脚（对应 codec 数据输入）</span></code><code><span>&amp;sai1 {</span></code><code><span><span class="code-snippet__addition">+  rockchip,sai-tx-route = &lt;1 2 0 3&gt;; // 调整 SAI 数据路由</span></span></code><code><span><span class="code-snippet__deletion">-  pinctrl-0 = &lt;&amp;sai1m0_sdo0&gt;; // 原输出引脚错误</span></span></code><code><span><span class="code-snippet__addition">+  pinctrl-0 = &lt;&amp;sai1m0_sdo2&gt;; // 改为原理图 SAI 数据输出引脚（<a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a>O2）</span></span></code><code><span>};</span></code></pre>
	<h4>
		<b><span><font face="等线"><span>为什么改？</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>引脚映射是检测功能的前提</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>耳机检测引脚错误</span></font></span></b><span><font face="等线"><span>：原用</span></font><span>GPIO0_PD3</span><font face="等线"><span>，但原理图中耳机检测实际连接到</span></font><font face="Arial"><span>GPIO2_PA7</span></font><font face="等线"><span>，导致系统无法感知耳机插入；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>新增线路输入检测</span></font></span></b><span><font face="等线"><span>：原理图包含</span></font><span>Line In</span><font face="等线"><span>接口，需配置</span></font><font face="Arial"><span>GPIO2_PB0</span></font><font face="等线"><span>作为检测引脚，并添加对应的</span></font><font face="Arial"><span>pinctrl</span></font><font face="等线"><span>配置；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>SAI</span><font face="等线"><span>引脚修正</span></font></span></b><span><font face="等线"><span>：</span></font><span>SAI</span><font face="等线"><span>（串行音频接口）是</span></font><font face="Arial"><span><a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></font><font face="等线"><span>与</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>传输音频数据的通道，原</span></font><font face="Arial"><span>SDO0</span></font><font face="等线"><span>引脚未对应</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>的</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/sdi/" target="_blank"><u>SDI</u></a></span></font><font face="等线"><span>输入，导致数据传输中断，修正为</span></font><font face="Arial"><span>SDO2</span></font><font face="等线"><span>后音频流正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span>模块</span></font><span>4</span><font face="等线"><span>：内核驱动修改（解决</span></font><font face="Arial"><span>“codec</span></font><font face="等线"><span>初始化失败、检测中断无效</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>内核驱动负责</span></font><span>codec</span><font face="等线"><span>芯片的硬件初始化、中断处理（如耳机插入检测），核心修改集中在</span></font><font face="Arial"><span>ES8323</span></font><font face="等线"><span>驱动（辅助</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>）和多</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>管理逻辑。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><span>4.1 ES8323</span><font face="等线"><span>驱动修正（</span></font></span></b><b><span><span>es8323.c</span></span></b><b><span><font face="等线"><span>）</span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 1. 初始化<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>配置：修正 <a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>DAC</u></a>/<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a> 供电与工作模式</span></span></code><code><span><span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">struct</span>reg_default es8323_reg_defaults[] = {</span></code><code><span>-  {<span class="code-snippet__number">0x04</span>,<span class="code-snippet__number">0xc0</span>},<span class="code-snippet__comment">// 原 DAC 供电关闭</span></span></code><code><span>+  {<span class="code-snippet__number">0x04</span>,<span class="code-snippet__number">0x30</span>},<span class="code-snippet__comment">// 打开 DAC 供电（使能音频输出）</span></span></code><code><span>-  {<span class="code-snippet__number">0x0a</span>,<span class="code-snippet__number">0x00</span>},<span class="code-snippet__comment">// 原 ADC 配置错误</span></span></code><code><span>+  {<span class="code-snippet__number">0x0a</span>,<span class="code-snippet__number">0xf8</span>},<span class="code-snippet__comment">// 正确配置 ADC 采样模式</span></span></code><code><span>-  {<span class="code-snippet__number">0x0b</span>,<span class="code-snippet__number">0x06</span>},<span class="code-snippet__comment">// 原 DAC 模式错误</span></span></code><code><span>+  {<span class="code-snippet__number">0x0b</span>,<span class="code-snippet__number">0x82</span>},<span class="code-snippet__comment">// 正确配置 DAC 输出模式</span></span></code><code><span>};</span></code><code><span><span class="code-snippet__comment">// 2. 新增调试日志：定位 bias level 切换问题</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__built_in">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">es8323_set_bias_level</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params">...</span></span><span class="code-snippet__function">)</span>{</span></code><code><span>+  printk(<span class="code-snippet__string">"xsc es8323_set_bias_level %drn"</span>, level);<span class="code-snippet__comment">// 打印 bias 状态（ON/PREPARE/STANDBY/OFF）</span></span></code><code><span> <span class="code-snippet__keyword">switch</span>(level) {</span></code><code><span> <span class="code-snippet__keyword">case</span>SND_SOC_BIAS_OFF:</span></code><code><span>-    snd_soc_component_write(..., ES8323_DACPOWER,<span class="code-snippet__number">0xC0</span>);<span class="code-snippet__comment">// 原关闭 DAC 供电</span></span></code><code><span>+    snd_soc_component_write(..., ES8323_DACPOWER,<span class="code-snippet__number">0x30</span>);<span class="code-snippet__comment">// 保持 DAC 供电（避免待机后无声音）</span></span></code><code><span>   <span class="code-snippet__keyword">break</span>;</span></code><code><span>  }</span></code><code><span>}</span></code><code><span><span class="code-snippet__comment">// 3. 修正 probe 函数：初始化关键寄存器</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__built_in">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">es8323_probe</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params">...</span></span><span class="code-snippet__function">)</span>{</span></code><code><span>+  snd_soc_component_write(component,<span class="code-snippet__number">0x09</span>,<span class="code-snippet__number">0x88</span>);<span class="code-snippet__comment">// 使能 ADC 输入</span></span></code><code><span>+  snd_soc_component_write(component,<span class="code-snippet__number">0x35</span>,<span class="code-snippet__number">0xA0</span>);<span class="code-snippet__comment">// 配置 MIC 偏置电压（对应原理图 1.8V 供电）</span></span></code><code><span>+  es8323_set_bias_level(component, SND_SOC_BIAS_STANDBY);<span class="code-snippet__comment">// 初始化为待机模式（而非 OFF）</span></span></code><code><span>}</span></code></pre>
	<h4>
		<b><span><span>4.2</span><font face="等线"><span>多</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>管理逻辑（</span></font></span></b><b><span><span>rockchip_multicodecs.c</span></span></b><b><span><font face="等线"><span>）</span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 1. 新增线路输入检测数据结构</span></span></code><code><span><span class="code-snippet__keyword">struct</span>multicodecs_data {</span></code><code><span>+  <span class="code-snippet__built_in">int</span>lineinmic_gpio_pin;<span class="code-snippet__comment">// 线路输入检测 GPIO</span></span></code><code><span>+  <span class="code-snippet__built_in">int</span>lineinmic_irq;<span class="code-snippet__comment">// 线路输入中断号</span></span></code><code><span>+  <span class="code-snippet__keyword">struct</span>delayed_work lineinmic_handler;<span class="code-snippet__comment">// 线路输入检测工作队列</span></span></code><code><span>};</span></code><code><span><span class="code-snippet__comment">// 2. 线路输入中断处理函数</span></span></code><code><span>+<span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__keyword">void</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">lineinmic_det_func</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__keyword">struct</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">work_struct *work</span></span><span class="code-snippet__function">)</span>{</span></code><code><span>+  lineinmicgpio_value = gpio_get_value(mc_data-&gt;lineinmic_gpio_pin);<span class="code-snippet__comment">// 读取检测引脚电平</span></span></code><code><span>+  <span class="code-snippet__comment">// 高电平=未插入，低电平=插入，可根据实际需求调整</span></span></code><code><span>+}</span></code><code><span><span class="code-snippet__comment">// 3. 初始化线路输入检测</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__built_in">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">rk_multicodecs_probe</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params">...</span></span><span class="code-snippet__function">)</span>{</span></code><code><span>+  <span class="code-snippet__comment">// 从设备树读取线路输入检测引脚</span></span></code><code><span>+  mc_data-&gt;lineinmic_gpio_pin = of_get_named_gpio_flags(np,<span class="code-snippet__string">"linedet-gpio"</span>,<span class="code-snippet__number">0</span>, &amp;irq_flags);</span></code><code><span>+  <span class="code-snippet__comment">// 申请中断（上升沿+下降沿触发，支持插入/拔出检测）</span></span></code><code><span>+  ret = devm_request_threaded_irq(..., mc_data-&gt;lineinmic_irq, ..., IRQF_TRIGGER_RISING | IRQF_TRIGGER_FALLING);</span></code><code><span>+  INIT_DEFERRABLE_WORK(&amp;mc_data-&gt;lineinmic_handler, lineinmic_det_func);<span class="code-snippet__comment">// 初始化工作队列</span></span></code><code><span>}</span></code></pre>
	<h4>
		<b><span><font face="等线"><span>关键作用：驱动是硬件功能的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>使能开关</span></font><font face="Arial"><span>”</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>ES8323</span><font face="等线"><span>供电修正</span></font></span></b><span><font face="等线"><span>：原驱动在待机（</span></font><span>OFF</span><font face="等线"><span>）时关闭</span></font><font face="Arial"><span>DAC</span></font><font face="等线"><span>供电，导致再次唤醒后</span></font><font face="Arial"><span>codec</span></font><font face="等线"><span>无供电而无法工作，改为保持供电后解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>唤醒无声音</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>问题；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><span>MIC</span><font face="等线"><span>偏置电压</span></font></span></b><span><font face="等线"><span>：新增</span></font><span>0x35</span><font face="等线"><span>寄存器配置（</span></font><font face="Arial"><span>0xA0</span></font><font face="等线"><span>），为</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>提供</span></font><font face="Arial"><span>1.8V</span></font><font face="等线"><span>偏置电压（匹配原理图供电），否则</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>无法正常拾音；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>线路输入中断</span></font></span></b><span><font face="等线"><span>：通过中断</span></font><span>+</span><font face="等线"><span>工作队列实现线路输入的实时检测，插入</span></font><font face="Arial"><span>/</span></font><font face="等线"><span>拔出时能及时通知系统，解决</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>检测无响应</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>问题。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span>三、调试踩坑与解决：</span></font><span>5</span><font face="等线"><span>个关键问题的定位逻辑</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>问题</span></font><span>1</span><font face="等线"><span>：耳机有声音但</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>无录音</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>排查：用</span></font></span><span><span>tinymix</span></span><span><span/><font face="等线"><span>工具查看</span></font><span>MIC</span><font face="等线"><span>通道是否使能（</span></font></span><span><span>tinymix | grep Capture</span></span><span><font face="等线"><span>），发现</span></font><font face="Arial"><span>“Left PGA Mux”</span></font><font face="等线"><span>通道为</span></font><font face="Arial"><span>“DifferentialL”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>解决：对照原理图确认</span></font><span>MIC</span><font face="等线"><span>连接到</span></font><font face="Arial"><span>Line 2</span></font><font face="等线"><span>通道，修改</span></font></span><span><span>es8388_config.h</span></span><span><span/><font face="等线"><span>中的</span></font><span>PGA Mux</span><font face="等线"><span>配置。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>问题</span></font><span>2</span><font face="等线"><span>：耳机插入无检测</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>排查：用</span></font></span><span><span>cat /sys/class/gpio/gpioXXX/value</span></span><span><span/><font face="等线"><span>读取原检测引脚（</span></font><span>GPIO0_PD3</span><font face="等线"><span>）电平，插入耳机后无变化；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>解决：查看原理图确认实际引脚为</span></font><span>GPIO2_PA7</span><font face="等线"><span>，修改设备树后检测正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>问题</span></font><span>3</span><font face="等线"><span>：播放音频有杂音</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>排查：</span></font></span><span><span>dmesg | grep pcm</span></span><span><span/><font face="等线"><span>发现</span></font><font face="Arial"><span>“underrun”</span></font><font face="等线"><span>日志（缓冲区欠载），采样率</span></font><font face="Arial"><span>48000Hz</span></font><font face="等线"><span>时频繁出现；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>解决：将采样率改为</span></font><span>44100Hz</span><font face="等线"><span>，缩小</span></font></span><span><span>period_size</span></span><span><font face="等线"><span>，减少缓冲区压力。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>问题</span></font><span>4</span><font face="等线"><span>：待机后唤醒无声音</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>排查：</span></font></span><span><span>dmesg | grep es8323</span></span><span><span/><font face="等线"><span>发现</span></font><span>bias level</span><font face="等线"><span>切换到</span></font><font face="Arial"><span>OFF</span></font><font face="等线"><span>模式，</span></font><font face="Arial"><span>DAC</span></font><font face="等线"><span>供电被关闭；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>解决：修改</span></font></span><span><span>es8323.c</span></span><span><span/><font face="等线"><span>中</span></font><span>OFF</span><font face="等线"><span>模式的</span></font><font face="Arial"><span>DAC</span></font><font face="等线"><span>供电配置，保持供电不关闭。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>问题</span></font><span>5</span><font face="等线"><span>：线路输入无响应</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>排查：设备树未配置</span></font></span><span><span>linedet-gpio</span></span><span><font face="等线"><span>，驱动无对应中断处理；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>解决：添加线路输入检测引脚和中断逻辑，初始化工作队列。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span>四、调试验证：</span></font><span>4</span><font face="等线"><span>步确认音频功能正常</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>播放验证</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span>tinyplay /sdcard/test.wav -D 0 -d 0</span></span><span><font face="等线"><span>（用</span></font><span>tinyplay</span><font face="等线"><span>工具播放测试音频，确认耳机有声音且无杂音）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span><font face="等线"><span>录音验证</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span>tinycap /sdcard/record.wav -D 0 -d 1 -c 2 -r 44100 -b 16</span></span><span><font face="等线"><span>（录音后播放，确认</span></font><span>MIC</span><font face="等线"><span>拾音清晰）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span><font face="等线"><span>检测验证</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>插入耳机：</span></font></span><span><span>cat /sys/class/extcon/extcon0/state</span></span><span><span/><font face="等线"><span>查看是否有</span></font><font face="Arial"><span>“headphone”</span></font><font face="等线"><span>状态；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span><font face="等线"><span>插入线路输入：</span></font></span><span><span>cat /sys/class/lineinmic_class/lineinmic_gpio</span></span><span><span/><font face="等线"><span>查看是否显示</span></font><font face="Arial"><span>“in”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>日志验证</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span>dmesg | grep -i audio</span></span><span><span/><font face="等线"><span>无</span></font><font face="Arial"><span>“error”“underrun”</span></font><font face="等线"><span>日志，</span></font></span><span><span>dmesg | grep es8323</span></span><span><span/><font face="等线"><span>显示</span></font><span>bias level</span><font face="等线"><span>切换正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span>五、总结：</span></font><span>RK3576</span><font face="等线"><span>音频调试的</span></font><font face="Arial"><span>3</span></font><font face="等线"><span>个核心原则</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span><font face="等线"><span>硬件优先</span></font></span></b><span><font face="等线"><span>：所有软件修改必须对齐原理图（引脚、供电、通道），比如耳机检测引脚、</span></font><span>MIC</span><font face="等线"><span>输入通道，错误的映射会导致功能完全失效；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span><font face="等线"><span>分层排查</span></font></span></b><span><font face="等线"><span>：从</span></font><span>HAL</span><font face="等线"><span>层（参数适配）</span></font><font face="Arial"><span>→ Codec</span></font><font face="等线"><span>配置（通道</span></font><font face="Arial"><span>/</span></font><font face="等线"><span>音量）</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>设备树（引脚映射）</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>内核驱动（初始化</span></font><font face="Arial"><span>/</span></font><font face="等线"><span>中断），逐层定位，避免跨层调试；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span><font face="等线"><span>日志辅助</span></font></span></b><span><font face="等线"><span>：在关键函数（如</span></font><span>codec probe</span><font face="等线"><span>、</span></font><font face="Arial"><span>bias level</span></font><font face="等线"><span>切换、中断处理）添加打印，快速定位</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>哪一步没走通</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，比如</span></font><font face="Arial"><span>bias</span></font><font face="等线"><span>切到</span></font><font face="Arial"><span>OFF</span></font><font face="等线"><span>导致无供电。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span>音频调试看似复杂，但只要将</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件信号</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>与</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>软件配置</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>一一对应，再结合日志排查，就能逐步解决问题。希望本文的调试思路，能为你在</span></font><font face="Arial"><span>RK</span></font><font face="等线"><span>平台或其他嵌入式设备的音频开发中提供参考。</span></font></span></p>
	<p>
		<span><span># RK3576</span><font face="等线"><span>平台音频调试全纪录：从原理图到代码，解决无声音、</span></font><font face="Arial"><span>MIC</span></font><font face="等线"><span>失效、耳机检测难题</span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[详解RK平台看门狗程序：用mywatchdog.c实现灵活的超时控制与喂狗管理]]></title>    <link>https://www.elecfans.com/d/7401444.html</link>    <guid>https://www.elecfans.com/d/7401444.html</guid>    <pubDate>2026-02-02 17:15:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://m.elecfans.com/v/tag/2447/" target="_blank"><u>嵌入式系统</u></a>稳定性保障中，<a href="https://www.elecfans.com/tags/看门狗/" target="_blank"><u>看门狗</u></a>程序的灵活性和易用性直接影响开发效率。今天我们聚焦一份实用的看门狗程序</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，看看它如何通过简单指令实现超时时间设置与喂狗<a href="https://m.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>，以及在实际场景中如何发挥作用。</span></span></font></span></p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、程序核心功能：从代码看</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:16pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog.c</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">的设计</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先来看</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">的核心逻辑，它的设计目标很明确：通过命令行参数快速配置看门狗超时时间，并控制喂狗行为，代码如下：</span></span></font></span></p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置：</span></span></font></span></p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>&amp;wdt{</span></code><code><span>status =<span class="code-snippet__string">"okay"</span>;</span></code><code><span>};</span></code></pre>
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>测试指令：这种方式不灵活</span></code><code><span><span class="code-snippet__comment"># 写入任意内容（大写字母‘V’除外），开启看门狗，每</span></span></code><code><span>44 秒内需要写入一次（喂狗）</span></code><code><span><span class="code-snippet__built_in">echo</span>A &gt; /dev/watchdog<span class="code-snippet__comment"># 开启看门狗，并且内核会每隔 22 秒自动喂一次狗</span></span></code><code><span><span class="code-snippet__built_in">echo</span>V &gt; /dev/watchdog</span></code></pre>
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdio.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdlib.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><string.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><unistd.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><fcntl.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><signal.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><sys/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><linux/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><linux/></span></span></span></code><code><span><span class="code-snippet__comment">// 定义看门狗超时控制相关IOCTL命令</span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">define</span></span><span class="code-snippet__meta">WDIOC_SET<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>MEOUT    _IOWR(WATCHDOG_IOCTL_BASE, 6, int)</span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">define</span></span><span class="code-snippet__meta">WDIOC_GETTIMEOUT    _IOR(WATCHDOG_IOCTL_BASE, 7, int)</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">main</span></span><span class="code-snippet__function"><span class="code-snippet__params">(</span></span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__type">int</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">argc,</span></span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__type">char</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">*argv[])</span></span></span></code><code><span>{</span></code><code><span> <span class="code-snippet__type">int</span>timeout;</span></code><code><span> <span class="code-snippet__type">int</span>fd;</span></code><code><span> <span class="code-snippet__type">int</span>ret =<span class="code-snippet__number">0</span>;</span></code><code><span> <span class="code-snippet__comment">// 打开看门狗设备节点，打开即启动看门狗（硬件特性）</span></span></code><code><span>  fd =<span class="code-snippet__built_in">open</span>(<span class="code-snippet__string">"/dev/watchdog"</span>, O_WRONLY);</span></code><code><span> <span class="code-snippet__keyword">if</span>(fd ==<span class="code-snippet__number">-1</span>) {</span></code><code><span>   <span class="code-snippet__built_in">perror</span>(<span class="code-snippet__string">"watchdog"</span>);</span></code><code><span>   <span class="code-snippet__built_in">exit</span>(EXIT_FAILURE);</span></code><code><span>  }</span></code><code><span> </span></code><code><span> <span class="code-snippet__comment">// 从命令行参数获取超时时间（第一个参数）</span></span></code><code><span>  timeout =<span class="code-snippet__built_in">atoi</span>(argv[<span class="code-snippet__number">1</span>]);</span></code><code><span> <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"输入的超时参数：%d，实际设置值：%drn"</span>,<span class="code-snippet__built_in">atoi</span>(argv[<span class="code-snippet__number">1</span>]), timeout);</span></code><code><span> <span class="code-snippet__comment">// 设置看门狗超时时间</span></span></code><code><span>  ret =<span class="code-snippet__built_in">ioctl</span>(fd, WDIOC_SETTIMEOUT, &amp;timeout);</span></code><code><span> <span class="code-snippet__keyword">if</span>(ret &lt; <span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"设置超时时间失败n"</span>);</span></code><code><span>   <span class="code-snippet__keyword">goto</span>fail;</span></code><code><span>  }</span></code><code><span> <span class="code-snippet__comment">// 验证并获取实际生效的超时时间（部分硬件可能限制最小/最大超时值）</span></span></code><code><span>  ret =<span class="code-snippet__built_in">ioctl</span>(fd, WDIOC_GETTIMEOUT, &amp;timeout);</span></code><code><span> <span class="code-snippet__keyword">if</span>(ret &lt; <span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"获取超时时间失败n"</span>);</span></code><code><span>   <span class="code-snippet__keyword">goto</span>fail;</span></code><code><span>  }<span class="code-snippet__keyword">else</span>{</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"当前看门狗超时时间：%d秒n"</span>, timeout);</span></code><code><span>  }</span></code><code><span> <span class="code-snippet__comment">// 循环喂狗（根据第二个参<a href="https://m.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>制是否实际执行喂狗操作）</span></span></code><code><span> <span class="code-snippet__keyword">while</span>(<span class="code-snippet__number">1</span>) {</span></code><code><span>   <span class="code-snippet__comment">// 注意：当前代码中喂狗操作被注释，实际使用时需根据需求开启</span></span></code><code><span>   <span class="code-snippet__comment">// 若第二个参数为1则执行喂狗，0则不喂狗（触发复位）</span></span></code><code><span>   <span class="code-snippet__keyword">if</span>(argc &gt;=<span class="code-snippet__number">3</span>&amp;&amp;<span class="code-snippet__built_in">atoi</span>(argv[<span class="code-snippet__number">2</span>]) ==<span class="code-snippet__number">1</span>) {</span></code><code><span>      ret =<span class="code-snippet__built_in">wri<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a></span>(fd,<span class="code-snippet__string">"�"</span>,<span class="code-snippet__number">1</span>);<span class="code-snippet__comment">// 喂狗核心操作：向设备写入1字节数据</span></span></code><code><span>     <span class="code-snippet__keyword">if</span>(ret !=<span class="code-snippet__number">1</span>) {</span></code><code><span>        ret =<span class="code-snippet__number">-1</span>;</span></code><code><span>       <span class="code-snippet__keyword">break</span>;</span></code><code><span>      }</span></code><code><span>    }</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"喂狗状态：%sn"</span>, (argc&gt;=<span class="code-snippet__number">3</span>&amp;&amp;<span class="code-snippet__built_in">atoi</span>(argv[<span class="code-snippet__number">2</span>])==<span class="code-snippet__number">1</span>)?<span class="code-snippet__string">"已喂狗"</span>:<span class="code-snippet__string">"未喂狗"</span>);</span></code><code><span>   <span class="code-snippet__built_in">sleep</span>(timeout -<span class="code-snippet__number">10</span>);<span class="code-snippet__comment">// 间隔小于超时时间，预留缓冲</span></span></code><code><span>  }</span></code><code><span>fail:</span></code><code><span> <span class="code-snippet__built_in">close</span>(fd);</span></code><code><span> <span class="code-snippet__keyword">return</span>ret;</span></code><code><span>}</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码核心亮点</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">支持通过命令行参数动态设置超时时间（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">argv[1]</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过第二个参数（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">argv[2]</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）控制喂狗开关（</span></span></font><span><span style="background-color:rgb(255,255,255);">1 =</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启喂狗，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0 =</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">关闭喂狗）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">包含超时时间验证步骤，避免硬件不支持的超时值导致配置失效；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">循环喂狗逻辑中预留</span></span></font><span><span style="background-color:rgb(255,255,255);">10</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒缓冲，降低因系统延迟导致的误复位风险。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、关键指令解析：</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:16pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/mywatchdog 300 1 &amp;</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">怎么用？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">将编译后的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">程序放在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录下，即可通过一条指令完成看门狗配置，这条指令的含义是：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置超时时间为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">300</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分钟），开启喂狗功能，并后台运行</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/mywatchdog 300 1 &amp;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令参数拆解：</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">300</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：第一个参数，代表设置看门狗超时时间为</span></span></font><span><span style="background-color:rgb(255,255,255);">300</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒（若硬件支持，实际生效时间会通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">WDIOC_GETTIMEOUT</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">返回）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：第二个参数，控制喂狗开关（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">1</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">=</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启喂狗，程序会每隔</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">290</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒执行一次喂狗；</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">=</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关闭喂狗，系统会在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">300</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒后触发复位）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：将程序放入后台运行，不阻塞当前终端，适合作为系统服务启动。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、实际场景用法：从调试到部署</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试阶段：验证看门狗复位功能</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若要测试看门狗是否正常工作，可关闭喂狗功能：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置超时</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒，关闭喂狗，观察系统是否在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒后复位</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/mywatchdog 10 0 &amp;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">部署阶段：作为系统服务常驻</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">将程序加入系统启动脚本（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rc.local</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），确保系统启动时自动开启看门狗：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">rc.local</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中添加，系统启动后自动以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">300</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒超时、开启喂狗的方式运行</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/mywatchdog 300 1 &amp;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">注意事项：</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码中</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">write(fd, "�", 1)</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">是喂狗核心操作，实际使用时需取消注释（当前代码为注释状态，仅作演示）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">超时时间设置需结合系统最大响应时间（如系统完成一次复杂任务最长需</span></span></font><span><span style="background-color:rgb(255,255,255);">200</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒，则超时时间建议设为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">250-300</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">后台运行时可通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ps</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令查看进程状态，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">kill</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令终止：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">mywatchdog</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">进程</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ps -ef | grep mywatchdog</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">终止进程（需先关闭看门狗，否则进程退出后可能触发复位）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">kill [</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">进程</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ID]</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、为什么这样设计？看门狗程序的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">灵活性</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">很重要</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">相较于固定配置的看门狗程序，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">的优势在于：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数化控制</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：无需修改代码即可调整超时时间和喂狗状态，适合不同场景（如调试、生产环境）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">兼容性强</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：基于</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">标准</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/watchdog</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，不仅适用于</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台，也可移植到其他支持标准看门狗驱动的<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a>系统；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">易于集成</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：放入</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录后，可通过系统服务管理工具（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">systemctl</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）统一管理，符合嵌入式系统服务规范。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">总结：让看门狗管理更简单</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mywatchdog.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过简洁的代码实现了看门狗的核心功能，而</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/etc/init.d/mywatchdog 300 1 &amp;</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">这条指令则将配置门槛降到了最低。在实际开发中，只需根据系统需求调整超时时间和喂狗开关，就能让看门狗成为系统稳定运行的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">可靠后卫</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。记住：好的看门狗程序，不仅要能</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">守得住</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，更要</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">用得活</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	
		<p>
		</p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[嵌入式Android调试避坑：AP6256蓝牙正常WiFi失效？原来是通道选错了！]]></title>    <link>https://www.elecfans.com/d/7401443.html</link>    <guid>https://www.elecfans.com/d/7401443.html</guid>    <pubDate>2026-02-02 17:16:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">做<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a></span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发的朋友，大概率遇到过这样的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">迷惑场景</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>二合一模块（比如常见的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6XXX</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系列），蓝牙能正常连接，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">却死活打不开</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">点击</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">毫无反应，日志里还一堆报错。最近调试</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3576+Android14+AP6256</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块时，就踩了这个坑，最后发现竟是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>通道选错</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">导致的。今天就结合这个案例，带大家搞懂</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙的工作逻辑、调试手段和开发注意事项，下次遇到类似问题能快速破局。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、调试案例：</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">冰火两重天</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先交代下调试环境：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控：</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3576</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中端<a href="https://www.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>，常用于<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>、工业设备）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统：</span></span></font><span><span style="background-color:rgb(255,255,255);">Android 14</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块：</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Bro<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>adc</u></a>om</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">旗下</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙二合一模块，支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2.<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a> WiFi +</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5.0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p style="margin-left:14.4pt;">
		</p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象：蓝牙正常，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi “</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">躺平</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙：能搜索到设备、正常配对连接，</span></span></font><span><span style="background-color:rgb(255,255,255);">log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中无报错；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：点击</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">按钮，进度条走完后又自动关闭，上层</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">log</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">报错：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">E android.hardware.bluetooth@1.0-service: maybe there is no <a href="https://m.hqchip.com/app/1515" target="_blank"><u>usb</u></a> wifi or <a href="https://www.elecfans.com/tags/sdi/" target="_blank"><u>sdi</u></a>o or pcie wifi, set default wifi module Bro<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>com APXXX: Permission denied</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiAeqpMAAIJzncK2Ic697.png" alt="wKgZPGkanJiAeqpMAAIJzncK2Ic697.png"/></span></span></span></p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核</span></span></font><span><span style="background-color:rgb(255,255,255);">log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">更关键，直接暴露了通道问题：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] ======== Card detec<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>on to detect PCIE card! ========</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] No Broadcom or Synaptics PCI device enumera<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>d!</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] dhd_wifi_platform_load_pcie: dhd_bus_register fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a> err=-1</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] _dhd_module_init: Failed to load the driver, try cnt 1</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiAAy-4AABBbI2KBjg565.png" alt="wKgZPGkanJiAAy-4AABBbI2KBjg565.png"/><h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查：为什么</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会走</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道？</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先看</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（设备树）配置，理论上</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6256</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">应走</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a>IO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道（模块手册明确支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO 3.0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，不支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiAS1unAABVXuBonGw310.png" alt="wKgZPGkanJiAS1unAABVXuBonGw310.png"/></span><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置没问题，那问题在哪？</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">翻到</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">BoardConfig.mk</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（编译配置文件），发现一行</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">隐藏配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">原来默认启用了</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，驱动优先检测</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PRODUCT_KERNEL_CONFIG += pcie_wifi.config</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决：禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道，让</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">走</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">直接注释掉这行配置，重新编译烧录：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，避免驱动优先检测不支持的通道</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># PRODUCT_KERNEL_CONFIG += pcie_wifi.config</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">再次查看内核</span></span></font><span><span style="background-color:rgb(255,255,255);">log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">成功走</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道加载：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] dhd_wifi_platform_load: Enter</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] wifi_platform_set_power =1, delay: 200 msec</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>使能</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[WLAN_<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>KILL]: wifi turn on power [GPIO54-1]</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源引脚置高</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] wifi_platform_bus_enumerate device present 1</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">// SDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备识别成功</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">[dhd] [wlan0] wl_android_wifi_on:g_wifi_on=1</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">// WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启成功</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">终于能正常开启并连接网络，问题解决！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、基础知识：</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙模块怎么</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对话</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">很多人调试时只看配置，却不懂模块的工作逻辑，遇到问题容易慌。这里用</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例，讲清楚嵌入式</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙的核心通信原理。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">二合一模块的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分工</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：共享硬件，独立通道</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">AP6XXX</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系列（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6256</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6356</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）是典型的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“WiFi +</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙二合一模块</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，内部集成了</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片、蓝牙芯片和<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>单元，但与主控（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3576</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）的通信通道是独立的：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">功能</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通信通道</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用途</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">速率</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">SDIO/PCIE</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">传输高速数据（如上网、投屏）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">SDIO 3.0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">100Mbps</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1Gbps+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">传输低速数据（如配对、传文件）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">UART 115200bps~1Mbps</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键结论</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：蓝牙正常说明</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道配置正确，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">失效大概率是通道（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO/PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）或电源控制出问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这也是本次案例的核心逻辑。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a></span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开关</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">除了通信通道，模块还需要</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个关键</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚与主控交互，这</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个引脚配置错了，模块也无法工作：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">poweren</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（电源使能）</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：主控通过该引脚给模块供电（高电平</span></span></font><span><span style="background-color:rgb(255,255,255);">=</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">供电，低电平</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">断电），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">WIFI,poweren_gpio</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需与硬件一致；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">reset</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（复位）</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：模块异常时，主控通过该引脚复位模块（通常低电平复位，复位后置高），</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的复位引脚在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">sdio_pw<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>eq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中配置；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">wake</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（唤醒）</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：模块主动通知主控（如</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">收到数据、蓝牙被搜索到），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">WIFI,host_wake_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">就是这个功能，需配置正确的中断触发方式（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">GPIO_<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>TIVE_HIGH</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">角色</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：翻译官</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控与模块的通信需要</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">翻译官</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动程序：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Broadcom</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">dhd</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动（如本次案例中的</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bcmdhd</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动），</span></span></font><span><span style="background-color:rgb(255,255,255);">Realtek</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">rtl8189ftv</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">等；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙驱动：通常是</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bt_uart</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道）或</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bt_hci</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">HCI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道），负责处理蓝牙协议栈与硬件的交互；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动加载失败的常见原因：通道不匹配（如</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动加载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块）、驱动版本不兼容（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android14</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">需适配新驱动<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、实用调试手段：按这</span></span></font><span><span style="background-color:rgb(255,255,255);">5</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">步，定位问题不迷路</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">遇到</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙问题，不要盲目改配置，按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">日志</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→GPIO→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">权限</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的流程排查，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">90%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的问题能解决。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">日志分析法：抓准</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键信息</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">日志是调试的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">眼睛</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，但要区分上层日志（应用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">服务）和内核日志（驱动</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">上层日志</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查应用层错误（如权限、服务启动失败）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">过滤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和蓝牙相关日志</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">logcat -s "android.hardware.bluetooth" "wifi" "wificond"</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键报错：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">Permission denied</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（权限问题）、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">No such file or directory</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（设备文件缺失，通道未识别）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核日志</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查驱动</span></span></font><span><span style="background-color:rgb(255,255,255);">/</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件问题（如通道检测、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">过滤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动关键词</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">dmesg | grep -E "wifi|dhd|wlan|BT|sdio|pcie"</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键报错：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">No PCI device enumerated</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道不支持）、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">wifi_platform_set_power failed</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（电源引脚配置错）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道检测：确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">路通不通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通信通道是模块与主控的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">桥梁</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，先确认通道是否识别：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">SDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查看</span></span></font><span><span style="background-color:rgb(255,255,255);">SDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备是否存在（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6256</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">走</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ls /sys/bus/sdio/devices/</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常应显示类似</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“mmc11”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的设备（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">mmc1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">PCIE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查看</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备（高端模块如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6398</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">lspci</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">dmesg | grep PCI</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">无输出说明无</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备，模块不支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查看蓝牙对应的</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ls /dev/ttyS*</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙通常用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ttyS4</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ttyS5</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">结合</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">uart_rts_gpios</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备正确</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3. GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态验证：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开关</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否按对</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是模块的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1708" target="_blank"><u>电源开关</u></a></span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">复位按钮</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，配置对了但电平错了，模块也无法工作。以本次案例的</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">poweren_gpio</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">gpio1 RK_PC6</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）为例：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计算</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编号</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">编号公式为「</span></span></font></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚组编号</span></span></font><span><span style="background-color:rgb(255,255,255);">*32 +</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">组内引脚号</span></span></font></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">」。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">比如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">gpio1 RK_PC6</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">gpio1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是第</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">组（从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开始），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK_PC6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是组内第</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">14</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个引脚（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC0=8</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC1=9...PC6=14</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），所以编号</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">= 1*32 +14=46</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">？</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（不同芯片引脚编号规则可能不同，需查芯片手册，比如</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3576</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO1 PC6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO54</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，以实际手册为准）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电平</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">进入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cd /sys/class/gpio/</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">导出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（若未导出）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 54 &gt; export</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看电平（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">高电平，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">低电平，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">poweren</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">需为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat gpio54/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动加载检查：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">翻译官</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">在不在</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动没加载，通道再通也没用。检查驱动加载情况：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">Broadcom</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">dhd</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><span><span style="background-color:rgb(255,255,255);">Realtek</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">rtl</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">lsmod | grep dhd</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常应显示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">dhd</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若未加载，检查内核配置：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CONFIG_BCMDHD=y</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙驱动</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关模块</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">lsmod | grep bt</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常应显示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bt_uart</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bt_hci</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">5.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">权限排查：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">高版本必查</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">Android 10 +</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">默认启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SE<a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（强制模式），权限不足会导致模块无法访问设备文件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">临时关闭</span></span></font><span><span style="background-color:rgb(255,255,255);">SELinux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（验证是否是权限问题）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">setenforce 0</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">切换为宽容模式（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">permissive</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若关闭后</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常，说明是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SELinux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">权限问题，需添加规则（如允许</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">wifi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">服务访问</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">device/rockchip/rk3576/sepolicy/vendor/</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录下添加规则文件，允许</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">wifi_hal</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">访问</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">/sys/bus/sdio/devices</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、开发注意事项：避免踩坑的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“5</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">事后补救</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，开发时做好这</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">点，能减少</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">80%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1. DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬软对齐</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件描述文件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，每一个参数都要与硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">schematic</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（原理图）完全匹配：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块类型</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">wifi_chip_type = "ap6256"</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（不能错写为</span></span></font><span><span style="background-color:rgb(255,255,255);">ap6255/ap6356</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，否则驱动加载错）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">poweren_gpio</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">host_wake_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">必须与原理图一致（比如原理图中</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">gpio1 PC6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">不能写</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">gpio2 PC6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源序列</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">sdio_pwrseq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">post-power-on-delay-ms</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（延迟时间）需参考模块手册（</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">建议</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">200ms</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，太短模块未就绪，太长启动慢）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道配置必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">匹配模块特性</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先查模块手册，确认</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">支持的通道（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO/PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），再禁用不支持的通道：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">低端模块（如</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6212</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：通常只支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置（如注释</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pcie_wifi.config</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">高端模块（如</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6398</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AP6498</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，同时在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中添加</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关节点。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本兼容</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本与驱动版本必须匹配，否则会出现接口不兼容：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">Android 12+</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：需使用支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“WiFi HAL 1.5”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的驱动（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bcmdhd</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">≥1.367.33</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核版本：驱动需适配内核版本（如本次案例用</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux 6.1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核，驱动需编译为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">6.1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">前期验证</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">很多问题不是软件配置错，而是硬件没接对：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源电压</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">供电，若接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会烧毁模块，接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2.5V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会供电不足；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚焊接</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">SDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DATA0~DATA3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CLK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）虚焊会导致设备识别失败；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复位时序</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：模块上电后需等待复位完成（通常</span></span></font><span><span style="background-color:rgb(255,255,255);">100~200ms</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），再初始化通道，否则会识别失败。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">5. SELinux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">必须</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">提前配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">高版本（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SELinux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">默认</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">enforcing</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模式，需提前添加模块所需权限：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">WiFi</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：允许</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">wifi_hal</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">访问</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">/sys/bus/sdio/</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">/dev/wlan0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙：允许</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">bluetooth</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">服务访问</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">/dev/ttyS*</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">推荐做法：开发初期用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">setenforce 0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证权限问题，再将规则固化到</span></span></font><span><span style="background-color:rgb(255,255,255);">SELinux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">策略中。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、总结：调试的核心是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">定位方向</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">这次</span></span></font><span><span style="background-color:rgb(255,255,255);">AP6256</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的调试，没有复杂的代码修改，只是注释了一行配置，但关键在于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">从日志中定位到通道问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。很多人调试时容易陷入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">盲目改配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的误区，却忽略了</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">先看日志定方向，再查硬软匹配度</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的基本逻辑。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最后给大家一个调试口诀：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙正常看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，通道优先查日志；</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDIO/PCIE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分清楚，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电平要记住；驱动版本别忽略，权限问题别糊涂。</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">下次遇到</span></span></font><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">蓝牙问题，不妨按这个思路走一遍，大概率能快速找到问题所在。你在调试中还遇到过哪些</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">奇葩</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题？欢迎在评论区分享，一起避坑～</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[从RK3576 Linux SDK手动适配RK3568，省下时间又省钱]]></title>    <link>https://www.elecfans.com/d/7401442.html</link>    <guid>https://www.elecfans.com/d/7401442.html</guid>    <pubDate>2026-02-02 17:17:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	
		<p>
			</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">做</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>的朋友，大概率都遇到过官方</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K “</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">卡脖子</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">申请流程动辄几周、授权费用随项目规模增加，偏偏项目上线时间不等人。最近我们团队就遇到了这样的情况：需要基于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>设备，但官方</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">申请还在排队，于是决定从已有的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a> SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动适配，最终成功编译出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的镜像。今天就来<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>这个适配过程，告诉你</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为什么要这么操作</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，以及背后的技术逻辑。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiAXTEHAABhkm8nw1A650.png" alt="wKgZPGkanJiAXTEHAABhkm8nw1A650.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、先搞懂：为什么选</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span></b><b><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">适配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">不是随便找个</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">就能适配，选择</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">作为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">基底</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，核心原因是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">两者同属</span></span></font><span><span style="background-color:rgb(255,255,255);">Rockchip</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>）家族，硬件架构与软件生态高度兼容</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">架构共性：</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">均基于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1378" target="_blank"><u>ARM</u></a>v8-A</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">架构，内核编译链（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">aarch64-linux-gnu-</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）可复用，无需重新搭建交叉编译环境；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动复用：两者共享大量</span></span></font><span><span style="background-color:rgb(255,255,255);">Rockchip</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自研驱动（如<a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等），只需调整硬件参数（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电压、<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率），无需从零开发驱动；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译系统一致：均采用</span></span></font><span><span style="background-color:rgb(255,255,255);">Rockchip</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">标准的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译框架（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Makefile+Kconfig +</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备树），修改方向清晰，无需重构编译流程。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">简单说：用</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">适配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，本质是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">复用已有生态，修改差异部分</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，比从头搭建</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">效率高</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">倍以上。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、核心适配操作解析：每一步都有</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">目的性</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">我们先看这次适配的核心修改（基于提供的</span></span></font><span><span style="background-color:rgb(255,255,255);">diff</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码），每个操作都对应着</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">让编译系统识别</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的关键需求，不是无意义的文件搬运。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片标识：告诉编译系统</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">目标是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一个修改是</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">device/rockchip/.chip</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">- .chips/rk3576</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+ .chips/rk3566_rk3568</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">这行代码是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译系统的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">指路标</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——Rockchip SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">.chip</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件定位当前目标芯片的配置目录。之前指向</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3576</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的配置，现在改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3566/RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（两者硬件差异小，可共用基础配置），后续编译时会自动加载</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">device/rockchip/.chips/rk3566_rk3568/</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">下的芯片专属配置。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置文件迁移：复用基础参数，修改芯片标识</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">接下来是将</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3576</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的核心配置文件（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">boot.its</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pa<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>eter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）迁移到</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3566_RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录，并修改芯片相关标识：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># parameter.txt</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（分区配置文件）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">- MACHINE_MODEL: RK3576</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">- MANUFACTURER: RK3576</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+ MACHINE_MODEL: rk3566_rk3568</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+ MANUFACTURER: rk3566_rk3568</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片的</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">分区表与硬件信息配置文件</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，编译时会生成镜像的分区结构（如</span></span></font><span><span style="background-color:rgb(255,255,255);">boot</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">rootfs</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">vendor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分区大小）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">MACHINE_MODEL</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">MANUFACTURER</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，是为了让</span></span></font><span><span style="background-color:rgb(255,255,255);">U-Boot</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和内核启动时识别</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">当前硬件是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，避免加载错误的硬件驱动。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">而</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">boot.its</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（镜像打包配置）、</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">rockchip_defconfig</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（基础内核配置）等文件直接复用，是因为这些文件定义的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">镜像打包规则</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核基础功能开关</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如是否启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、网络）在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">/RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">上一致，无需修改。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">新增</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">专属内核配置：适配硬件差异</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键一步是新增</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">rockchip_rk3568_evb1_v10_defconfig</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK_UBOOT_SPL=y</span></span><span><span><span style="background-color:rgb(255,255,255);">        </span></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">U-Boot SPL</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（二级引导）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK_KERNEL_DTS_NAME="rk3568-evb1-<a href="https://m.hqchip.com/app/1729" target="_blank"><u>ddr</u></a>4-v10-linux"</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">指定</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的设备树</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK_USE_FIT_IMG=y</span></span><span><span><span style="background-color:rgb(255,255,255);">       </span></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">FIT</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">镜像格式（支持多设备树打包）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">这是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">针对</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">定制化开关</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">RK_KERNEL_DTS_NAME</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">指定内核加载的设备树（</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），设备树是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件描述文件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，会告诉内核</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">频率、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">口位置、外设地址</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等关键信息；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">没有这个配置，内核会默认加载</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的设备树，导致硬件不识别（比如</span></span></font><span><span style="background-color:rgb(255,255,255);">USB</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">口没反应、屏幕不亮）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备树修改：调整硬件资源参数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最后是修改</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的设备树（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">rk3568-evb.dtsi</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;pmu_io_domains {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">status = "okay";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">pmuio1-supply = &lt;&amp;vcc3v3_pmu&gt;;</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);"># PMU IO1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">供电改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pmuio2-supply = &lt;&amp;vcc3v3_pmu&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">vccio1-supply = &lt;&amp;vccio_acodec&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">-</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">vccio3-supply = &lt;&amp;vccio_sd&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">-</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">vccio4-supply = &lt;&amp;vcc_3v3&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">vccio2-supply = &lt;&amp;vcc_1v8&gt;;</span></span><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);"># IO2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">供电改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.8V</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">vccio3-supply = &lt;&amp;vcc3v3_pmu&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">+</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">vccio4-supply = &lt;&amp;vcc_1v8&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">其他电压域调整</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">...</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">这部分是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电压不匹配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的核心</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PMU</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>管理单元）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电压域与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">不同（比如部分</span></span></font><span><span style="background-color:rgb(255,255,255);">IO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需要</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.8V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，而非</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">如果不修改，会导致外设（如</span></span></font><span><span style="background-color:rgb(255,255,255);">SD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">卡、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备）供电异常，轻则设备不工作，重则烧毁硬件。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、为什么要这么操作？核心是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">降本提效</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">回到最初的问题：明明可以等官方</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，为什么要手动适配？答案藏在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时间成本</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">经济成本</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">里：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">省时间</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：官方</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">申请流程通常需要</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1-4</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">周（需提交项目证明、签订协议），而手动适配只需</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1-2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">天（基于已有</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改），项目能提前上线；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">省费用</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：部分官方</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">针对商业项目收取授权费（尤其带专有驱动的版本），手动适配基于开源代码（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">U-Boot</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），无额外成本；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">灵活可控</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：官方</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">可能捆绑不必要的功能（如冗余驱动、定制化工具），手动适配可按需裁剪（比如关闭不需要的卫星<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>模块），减少镜像体积。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">当然，这种操作的前提是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">拥有</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的依赖文件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">比如必要的驱动源码（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MI<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">屏幕驱动）、固件文件（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">WiFi /</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>固件），否则适配后会出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译通过但外设不工作</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、实操注意事项：避坑指南</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">如果你也想尝试类似适配，这</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">点一定要注意：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">备份原</span></span></font><span><span style="background-color:rgb(255,255,255);">SDK</span></span></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：修改前先备份</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">SDK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，避免误操作导致原项目无法编译；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">核对硬件参数</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：必须拿到</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的硬件手册，确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电压、时钟频率、外设<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>等参数，否则设备树修改会出错；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">分步测试</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：先编译</span></span></font><span><span style="background-color:rgb(255,255,255);">U-Boot</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（确保能引导），再编译内核（确保硬件识别），最后编译</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">rootfs</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（确保系统正常启动），分步定位问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、总结：<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a>开发的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主动适配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">思维</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">其实，这次</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3576</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">适配</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的核心逻辑，本质是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">利用芯片家族的共性，解决硬件差异的个性</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。在嵌入式开发中，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等官方</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">往往不是最优解</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">尤其是中小团队或创业公司，面对时间紧、预算有限的情况，基于已有资源手动适配，不仅能节省成本，还能更深入理解芯片的底层逻辑。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最后想问：你在适配</span></span></font><span><span style="background-color:rgb(255,255,255);">Rockchip</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">或其他芯片时，遇到过哪些</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">卡脖子</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的问题？欢迎在评论区分享你的解决方案～</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[linux系统下M.2硬盘调试和测试全指南：从初始化失败到读写满速，避坑就看这篇]]></title>    <link>https://www.elecfans.com/d/7401441.html</link>    <guid>https://www.elecfans.com/d/7401441.html</guid>    <pubDate>2026-02-02 17:18:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://www.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">NVMe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘凭借高速读写和小巧体积，成了</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>）等平台的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">性能担当</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。但调试时总绕不开几个坑：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">主机初始化失败、硬盘挂载不上、测试后重启翻车</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">……</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">今天结合实际项目文档，从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试（硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试（挂载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">读写）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，手把手教你搞定</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">M.2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘，附带避坑要点，新手也能少走弯路。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、调试篇：先解决</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">认得到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，再谈</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">用得好</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">NVMe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">协议）依赖</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>，调试的核心是</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">让</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路通、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>稳、配置对</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。最常见的问题是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主机初始化失败</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，先从这入手。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件先查：电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">生命线</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiANiUcAAHujs1uwQc296.png" alt="wKgZPGkanJiANiUcAAHujs1uwQc296.png"/><h3>
		</h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘要工作，首先得有稳定的电源和时钟，这一步别光看原理图，要结合实际测量：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源：</span></span></font><span><span style="background-color:rgb(255,255,255);">VCC3V3_PCIE30</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">必须到位</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原理图中</span></span></font><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的供电依赖</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">VCC3V3_PCIE30</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">原理图标注），实际调试时要确认两点：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">①</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1703" target="_blank"><u>电源芯片</u></a>输出是否稳定（用<a href="https://www.elecfans.com/v/tag/796/" target="_blank"><u>万用表</u></a>测电压，需在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.25~3.35V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">之间）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">②</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源使能</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否正常（文档</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">gpio4 RK_PB2</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/sys/kernel/debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看状态）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电平，确认电源使能（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">gpio-138</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">vcc3v3-s<a href="https://www.hqchip.com/app/1522" target="_blank"><u>sd</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">out hi</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">表示已使能）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /sys/kernel/debug/gpio | grep vcc3v3-ssd</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若显示</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">out lo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明电源没打开，需检查</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">regulator</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置（下文会讲）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟：</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIE_CLKREQn</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚别浮空</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟需要</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">PCIE_CLKREQn</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚（文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pcie20x1_0_clkreqn_m1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，对应</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">gpio4 RK_PB4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）控制，该引脚负责请求时钟输出：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">①</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">原理图中时钟路径需无虚焊（比如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">HCSL</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">差分线阻抗匹配）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">② DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中引脚配置要符合硬件（文档</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcfg_pull_none</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若之前遇到过不稳定，可参考历史经验改为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcfg_pull_down</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2. DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个关键节点不能错</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">M.2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">NVMe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）依赖</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中这</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个节点必须写对，少一个都可能初始化失败：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置：指定工作模式</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcie30phy</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点控制</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的工作模式，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">M.2 NVMe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通常用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">聚合模式</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AGGREGATION</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;pcie30phy {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>,pcie30-phymode = <phy_mode_pcie_aggregation>; //</phy_mode_pcie_aggregation></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">聚合模式，适配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">NVMe</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">status = "okay"; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器配置：电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">复位</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器节点，需关联电源供应、复位</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和时钟引脚：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">reset-gpios = &lt;&amp;gpio4 RK_PB6 GPIO_ACTIVE_HIGH&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复位</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，高电平有效</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">vpcie3v3-supply = &lt;&amp;vcc3v3_pcie30&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关联</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe 3.3V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-names = "default";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-0 = &lt;&amp;pcie20x1_0_clkreqn_m1&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关联时钟请求引脚</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">status = "okay"; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启用控制器</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">重点：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">vpcie3v3-supply</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">必须指向正确的电源</span></span></font><span><span style="background-color:rgb(255,255,255);">regulator</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（下文节点），否则控制器没电，直接初始化失败。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Regulator</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确保稳定供电</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">单独配置</span></span></font><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘的电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">regulator</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，加入延迟避免上电冲击：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">pcie20_vcc3v3_ssd_<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>: vcc3v3-ssd{</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">compa<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ble = "regulator-fixed"; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">固定电压调节器</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">gpio = &lt;&amp;gpio4 RK_PB2 GPIO_ACTIVE_HIGH&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源使能</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-names = "default";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-0 = &lt;&amp;pcie20_3v3_drv_4G&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源使能引脚配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-name = "pcie20_3v3_ssd"; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源名称，与控制器对应</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">enable-<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>tive-high; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">高电平使能电源</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">start-delays-us = &lt;5000&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启动延迟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5ms</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，避免冲击</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">off-on-delay-us = &lt;5000&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">切换延迟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5ms</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-always-on; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">始终供电，避免休眠断电</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-boot-on; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启动阶段即供电，保证初始化</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查：主机初始化失败？两步定位</span></span></font></span></b></h3>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJiAfRu9AADaSDWNfrg397.png" alt="wKgZPGkanJiAfRu9AADaSDWNfrg397.png"/><h3>
		</h3>
	<br/><p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若开机后</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dmesg</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">看不到</span></span></font><span><span style="background-color:rgb(255,255,255);">NVMe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备，提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主机初始化失败</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，按这两步查：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一步：看</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路是否</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“Link up”</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dmesg</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器日志，核心看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“L<a href="https://m.hqchip.com/app/1593" target="_blank"><u>TSS</u></a>M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路训练状态机）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">过滤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器日志（以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">fe150000.pcie</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例，根据实际地址修改）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">dmesg | grep fe150000</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">成功标志：日志中出现</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">PCIe Link up, LTSSM is 0x230011</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的成功日志），说明</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路已建立；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">失败标志：若</span></span></font><span><span style="background-color:rgb(255,255,255);">LTSSM</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">停在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0x3</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0x210022</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明链路没训练成功，回头查硬件（电源、时钟引脚虚焊）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">第二步：查电源</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否正常</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">如前文所述，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/sys/kernel/debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看电源使能</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（比如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">gpio-138</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若显示</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">out lo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：检查</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">regulator</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">enable-active-high</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否配置正确，或</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚复用冲突；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若电压正常但</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">无输出：排查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚是否被其他驱动占用（用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">cat /sys/kernel/debug/pinctrl/pinctrl-soc/registered-pins</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、测试篇：三步走，测性能还不翻车</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">搞定初始化后，下一步是测试硬盘的挂载和读写性能，但要注意：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试会损坏硬盘格式，必须按流程来</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一步：挂载硬盘，先确保</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">挂得上</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2 NVMe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">下识别为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/nvme0n1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（若多个则为</span></span></font><span><span style="background-color:rgb(255,255,255);">nvme0n2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">等），挂载分</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">临时挂载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开机自动挂载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">临时挂载：快速测试</span></span></font></span></b></h4>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">创建挂载点（比如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/mnt/ssd</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">mkdir /mnt/ssd</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">挂载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ext4</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">格式的硬盘（若未格式化，先执行</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">mkfs.ext4 /dev/nvme0n1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">mount -t ext4 /dev/nvme0n1 /mnt/ssd</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查是否挂载成功（看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/dev/nvme0n1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否在列表中）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">df -h</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">成功示例：文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">df -h</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">显示</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/nvme0n1 469G 28K 44<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a> 1% /mnt/ssd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明挂载正常。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">开机自动挂载：避免每次手动操作</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">临时挂载重启后失效，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/etc/fstab</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置自动挂载：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/dev/nvme0n1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UUID</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（避免设备名变动导致挂载失败）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">blkid /dev/nvme0n1</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">将挂载信息写入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/etc/fstab</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（示例，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UUID</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">需替换为实际值）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 'UUID=xxxx-xxxx</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">/mnt/ssd</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">ext4</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">defaults</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">0</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">0' | sudo <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>e -a /etc/fstab</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试自动挂载（无需重启）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">sudo mount -a</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证：再次用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">df -h</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看，确认已挂载</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">避坑：不要直接写</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/nvme0n1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，用</span></span></font><span><span style="background-color:rgb(255,255,255);">UUID</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">更稳定（设备名可能因插其他硬盘变动）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第二步：用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">dd</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">测读写速率，看性能达标没</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘的核心优势是速度，用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令测试读写速率（文档</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的核心指令），注意指令含义和参数：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试读取速率</span></span></font></span></b></h4>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># if=</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输入文件（从硬盘读），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">of=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出文件（丢弃到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/dev/null</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bs=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">块大小</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1MB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">count=1024</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">次（共</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1GB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">dd if=/dev/nvme0n1 of=/dev/null bs=1M count=1024</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中实际结果：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">1073741824</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">字节已复制</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">, 0.535s, 2.0 GB/s</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明读取速率达标（</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe 3.0×4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的理论上限是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">4GB/s</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，实际因损耗在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2GB/s</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">左右正常）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试写入速率</span></span></font></span></b></h4>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># if=</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输入文件（从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/dev/zero</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">读零数据），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">of=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出文件（写入硬盘），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">conv=fdatasync</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（强制同步到硬件，避免缓存干扰）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">dd if=/dev/zero of=/dev/nvme0n1 bs=1M count=1024 conv=fdatasync</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文档</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中实际结果：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">1073741824</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">字节已复制</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">, 0.944s, 1.1 GB/s</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，写入速率略低是正常现象（</span></span></font><span><span style="background-color:rgb(255,255,255);">NVMe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘通常读快于写）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键一步：测试后必须格式化，否则重启</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">翻车</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">重点提醒</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：上述</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令会直接读写硬盘原始扇区，导致</span></span></font><span><span style="background-color:rgb(255,255,255);">ext4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">格式损坏</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">若不重新格式化，下次重启会</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">找不到硬盘</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">正确流程：测试后立即卸载并重新格式化：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先卸载挂载点（必须先卸载，否则无法格式化）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">umount /mnt/ssd</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">重新格式化为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ext4</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">格式（注意：会清除所有数据，测试后执行）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">mkfs.ext4 /dev/nvme0n1</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">格式化后重新挂载，确保正常使用</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">mount /mnt/ssd</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">避坑：若忘记格式化，重启后</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">df -h</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">看不到硬盘，需重新执行上述指令修复。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、避坑总结：</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个关键要点记牢</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置：电源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟别漏配</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器节点（</span></span></font><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）必须关联</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">vpcie3v3-supply</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，否则没电；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟请求引脚（</span></span></font><span><span style="background-color:rgb(255,255,255);">pcie20x1_0_clkreqn_m1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）拉取状态要匹配硬件，不稳定就改下拉。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试后：格式化是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">保命步骤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令直接操作原始扇区，不格式化会破坏文件系统，重启必翻车；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">格式化前务必</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">umount</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，否则会提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备忙</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查时：先看链路和</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO</span></span></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始化失败先查</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dmesg</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">看</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe Link</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">up</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源问题直接看</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/sys/kernel/debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，比测电压更高效。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">结尾</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">M.2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬盘调试看似复杂，实则围绕</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源稳、链路通、配置对、测试规范</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这几个核心。你在调试时遇到过</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">挂载后掉盘</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">速率不达标</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这类问题吗？欢迎在评论区分享你的踩坑经历，一起交流解决！</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[什么是相对照度？它在机器视觉中发挥了怎样的作用？]]></title>    <link>https://www.elecfans.com/d/7635440.html</link>    <guid>https://www.elecfans.com/d/7635440.html</guid>    <pubDate>2026-02-02 17:08:00</pubDate>    <description><![CDATA[<p>相对照度通常指的是物体和背景之间的亮度或者颜色对比差异。在工业镜头领域，这种差异可能会直接影响到图像质量和应用效果。人类的视觉对相对差异敏感，<a href="https://www.elecfans.com/tags/机器视觉/" target="_blank"><u>机器视觉</u></a>同样也依赖它来识别细节内容</p><p>相对照度一般通过韦伯公式来计算，先用最大亮度减去最小亮度，然后得出的值除以平均亮度得出结果。这个比例强调了差异相对于整体水平的相对性。例如在工厂生产线中，高相对照度可以更好的突出产品缺陷，而较低的相对照度可能导致检测失败</p><p>工业镜头的设计会注重优化相对照度，它们通常采用高分辨率的<a href="https://m.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>元件来减少光的散射并提升图像清晰度。在整个系统中镜头与照明结合使用，高相对照度可以放大对比让细微裂痕或者是污点显露无遗；而均匀的照明可能较低对比，通常用于整体的形状检测。</p><p>在实际应用中比如在汽车零件的制造中，镜头捕捉零件的表面，此时高相对照度图像的边缘清晰，便于<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>识别并分析缺陷；而低相对照度的图像的细节更容易模糊，从而增加误判风险。一般我们会通过调整镜头的焦距和光源的参数来控制相对照度。</p><p/><p>相对照度还会影响检测的精度。在电子元件的检测中高对比可以帮助识别焊点。在下图中展示了典型工业镜头结构，标注了工作距离和焦平面，这些因素直接关系到对比表现。</p><p/><p>镜头的相对照度测试通常使用调制传递函数评估，它描绘了镜头对于不同空间频率的对比响应。高质量的镜头在高频区依旧保持高对比以确保微小的细节可见。</p><p>总之，相对照度是工业镜头性能的核心。它提升了自动化效率，并在多种领域中发挥至关重要的作用。</p>]]></description></item><item>    <title><![CDATA[新品 | 采用6500V IGBT 4沟槽栅场截止技术的IHV-A模块]]></title>    <link>https://www.elecfans.com/d/7635451.html</link>    <guid>https://www.elecfans.com/d/7635451.html</guid>    <pubDate>2026-02-02 17:09:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;text-align:justify;">新品</p><p style="margin-left:0px;text-align:justify;">采用6500V <a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a> 4沟槽栅场</p><p style="margin-left:0px;text-align:justify;">截止技术的IHV-A模块</p><p style="margin-left:0%;text-align:justify;"><img src="http://images.elecfans.net/uploads/20260202/d6983282-0016-11f1-96ea-92fbcf53809c.png" alt="d6983282-0016-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">IHV系列6500V/675A/130mm IGBT模块，应用了IGBT4沟槽栅场截止技术，是<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>直流输电用电压源换流器、牵引传动及工业应用的理想解决方案。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><strong>产品型号：</strong></p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(108,180,173);">■</span>FZ675R65KE4</p><p style="text-align:justify;"/><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(94,162,144);">产品特性</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;">低饱和压降VCEsat</p><p style="margin-left:0px;text-align:center;">铝碳化硅AlSiC基板</p><p style="margin-left:0px;text-align:center;">存储温度下限可达-55°C</p><p style="margin-left:0px;text-align:center;">封装材料C<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>&gt;600</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(94,162,144);">应用价值</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;">助力实现紧凑型<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>设计</p><p style="margin-left:0px;text-align:center;">低功率损耗</p><p style="margin-left:0px;text-align:center;">标准化封装</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(94,162,144);">竞争优势</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;">在同等封装尺寸下，实现最高额定<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></p><p style="margin-left:0px;text-align:center;">允许在相同的逆变器尺寸内，承载更高的功率等级</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="background-color:rgb(94,162,144);">应用领域</span></p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:center;">高压直流输电</p><p style="margin-left:0px;text-align:center;">中压传动</p><p style="margin-left:0px;text-align:center;">牵引系统</p><p style="margin-left:0px;text-align:center;"><br/></p>]]></description></item><item>    <title><![CDATA[拓界！智慧蓝图｜狄耐克登陆CCTV-2《民企在行动》系列专题]]></title>    <link>https://www.elecfans.com/d/7635418.html</link>    <guid>https://www.elecfans.com/d/7635418.html</guid>    <pubDate>2026-02-02 17:09:00</pubDate>    <description><![CDATA[<p>
	近日，狄耐克《拓界！智慧蓝图》宣传片继《破局！技术创新》之后，再度登陆中央电视台CCTV-2财经频道《民企在行动》系列专题，向全国观众展现了狄耐克面向未来的多元化产业布局与智慧生态战略。</p>
<p>
	</p>
<p>
	从楼宇对讲系统起步，到如今构建覆盖智慧社区、智慧医院、<a href="https://m.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>、脑机交互、健康科技、智慧酒店、室内空气系统等多维产业的协同生态，狄耐克正以技术为笔、场景为纸，绘制智慧健康生活的美好蓝图。</p>
<p>
	<strong>场景深耕</strong></p>
<p>
	<strong>夯实数字生活底座</strong></p>
<p>
	在采访中，狄耐克董事长缪国栋坚定表示：“我们深耕场景融合，拥抱生态协同，从单点突破到生态构建，狄耐克的智慧版图正在改变生活。”这不仅是企业前行的宣言，更浓缩了狄耐克二十年来在智能科技领域的深耕与蜕变。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5B/wKgZO2mAadWANCQjAAtkfMCNtnY957.jpg" alt="wKgZO2mAadWANCQjAAtkfMCNtnY957.jpg"/></p>
<p>
	这一蓝图的背后，是狄耐克对“人本科技”的长期坚持——始终以用户真实生活场景为原点，将技术深度融入空间与日常，让智慧不止于连接，更在于理解与回应。</p>
<p>
	<strong>· 在智慧社区领域，</strong>打造“安全、舒适、健康、便捷”的数字生活底座，夯实未来人居的智能基座。</p>
<p>
	<strong>· 在智能家居板块，</strong>产品深度融入家庭日常动线，让科技隐形于生活细节，以<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>Ai</u></a>打造健康科技“好房子”。</p>
<p>
	<strong>· 在脑机交互领域，</strong>聚焦睡眠健康、专注培优、认知康复等核心场景，系统推进前沿技术的成果转化。</p>
<p>
	<strong>· 在健康科技领域，</strong>以科技创新为核心驱动力，积极探索居家健康管理与智慧康养的新路径。</p>
<p>
	<strong>· 在智慧酒店领域，</strong>其解决方案已在多个全国高端项目成功落地，实现服务效率与用户体验的双重跃升。</p>
<p>
	<strong>开放协同</strong></p>
<p>
	<strong>共建智慧生态共同体</strong></p>
<p>
	面对万物互联的时代浪潮，狄耐克始终秉持开放理念，积极融入主流生态平台，推动跨品牌、跨系统的无缝协同。</p>
<p>
	作为<a href="https://m.elecfans.com/v/tag/40/" target="_blank"><u>鸿蒙</u></a>生态钻石级合作伙伴，狄耐克深度参与国产<a href="https://www.elecfans.com/v/tag/527/" target="_blank"><u>操作系统</u></a>在智慧医院、智慧社区、智慧家庭及智慧监管等多元场景的技术落地。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5B/wKgZPGmAadaACXi8AAob23geL7w824.jpg" alt="wKgZPGmAadaACXi8AAob23geL7w824.jpg"/></p>
<p>
	2025年底，狄鸿智创产业科技（深圳）有限公司正式注册成立，标志着狄耐克在鸿蒙生态领域的战略布局再次迈入新阶段。</p>
<p>
	此外，狄耐克还与鸿蒙生态联合启动“百城万户鸿蒙社区家庭战略”，加速推进“医社家”一体化智慧康养方案。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/5B/wKgZO2mAadeAH2BVAA6lnPLBCSU204.jpg" alt="wKgZO2mAadeAH2BVAA6lnPLBCSU204.jpg"/></p>
<p>
	未来，依托<a href="https://bbs.elecfans.com/harmonyos" target="_blank"><u>鸿蒙系统</u></a>的分布式能力，狄耐克鸿蒙智慧康养社区将实现健康数据集中管理、远程问诊秒级响应、异常状况智能预警，让科技真正守护“银发族”的安心生活。</p>
<p>
	</p>
<p>
	与此同时，狄耐克多款智能终端已全面接入米家生态。用户只需一句“小爱同学”，即可轻松语音控制灯光、窗帘、空调等设备。这种“以用户习惯为<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>”的开放策略，让千万家庭无需改变使用方式，便能享受跨设备协同带来的智慧生活红利。</p>
<p>
	</p>
<p>
	从单点突破到生态聚合，狄耐克以“场景融合+生态协同”双轮驱动，不断拓展智慧生活边界。</p>
<p>
	此次登陆CCTV-2《民企在行动》，既是对狄耐克二十年发展的见证，也呈现了中国品牌在智慧生活领域的实践答卷——以扎实技术为基，以开放协作为径，稳步探索未来生活的可能模样。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[光伏巡检服务的技术演进与创新应用分析]]></title>    <link>https://www.elecfans.com/d/7635426.html</link>    <guid>https://www.elecfans.com/d/7635426.html</guid>    <pubDate>2026-02-02 17:14:00</pubDate>    <description><![CDATA[<p>
	光伏巡检服务是保障光伏发电系统高效稳定运行的关键环节，近年来，随着多种新技术的融合应用，巡检方式正从传统人工模式逐步迈向自动化与智能化。本文将从技术原理、应用对比与行业趋势等角度，对光伏巡检服务的现状与发展进行分析。</p>
<p>
	一、光伏巡检的基本模式：人工与自动化的对比</p>
<p>
	传统光伏巡检主要依赖人工进行，适用于规模较小、结构简单的光伏项目。然而，人工巡检存在效率较低、受主观因素影响大、难以覆盖大面积场站等局限。相比之下，自动化光伏巡检服务通过集成<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>、<a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>、数据分析等技术，实现了高频次、<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>的监测，尤其适合大型光伏电站与复杂地形项目。</p>
<table style="background-color:rgb(255,255,255);"><thead><tr><th style="border-bottom:1px solid;border-top:none;padding:10px 16px 10px 0px;">
				特性</th>
			<th style="border-bottom:1px solid;border-top:none;padding:10px 16px;">
				人工巡检</th>
			<th style="border-bottom:1px solid;border-top:none;padding:10px 16px;">
				自动化巡检</th>
		</tr></thead><tbody><tr><td style="border-bottom:1px solid;padding:10px 16px 10px 0px;">
				适用范围</td>
			<td style="border-bottom:1px solid;padding:10px 16px;">
				小型项目</td>
			<td style="border-bottom:1px solid;padding:10px 0px 10px 16px;">
				大型及复杂项目</td>
		</tr><tr><td style="border-bottom:1px solid;padding:10px 16px 10px 0px;">
				人力成本</td>
			<td style="border-bottom:1px solid;padding:10px 16px;">
				较高</td>
			<td style="border-bottom:1px solid;padding:10px 0px 10px 16px;">
				较低</td>
		</tr><tr><td style="border-bottom:1px solid;padding:10px 16px 10px 0px;">
				巡检频率</td>
			<td style="border-bottom:1px solid;padding:10px 16px;">
				受限</td>
			<td style="border-bottom:1px solid;padding:10px 0px 10px 16px;">
				高</td>
		</tr><tr><td style="border-bottom:1px solid;padding:10px 16px 10px 0px;">
				精确度</td>
			<td style="border-bottom:1px solid;padding:10px 16px;">
				受人为因素影响</td>
			<td style="border-bottom:1px solid;padding:10px 0px 10px 16px;">
				高，依赖先进传感与处理技术</td>
		</tr><tr><td style="border-bottom:1px solid;padding:10px 16px 10px 0px;">
				技术集成程度</td>
			<td style="border-bottom:1px solid;padding:10px 16px;">
				较低</td>
			<td style="border-bottom:1px solid;padding:10px 0px 10px 16px;">
				高，可结合无人机、<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>分析等</td>
		</tr></tbody></table><p>
	二、核心技术应用解析</p>
<p>
	1. 无人机巡检系统</p>
<p>
	无人机搭载高分辨率可见光与<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>相机，可快速完成大面积光伏组件的拍摄与热成像检测，识别热斑、隐裂、污渍等异常。其优势在于覆盖广、响应快、数据直观，尤其适用于地形复杂、人工难以到达的区域。</p>
<p>
	2. 智能管理系统</p>
<p>
	基于<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>与大数据平台，智能管理系统可实现光伏电站的实时数据采集、运行状态监测与故障预警。系统通过对发电量、设备温度、环境参数等多维度数据的分析，帮助运维人员快速定位效率下降原因，制定维护策略。</p>
<p>
	3. 智慧能源管理平台</p>
<p>
	该平台进一步整合光伏发电、储能与用电数据，通过<a href="https://m.elecfans.com/v/tag/557/" target="_blank"><u>机器学习</u></a>模型进行负荷预测与发电优化，实现能源的高效调度与消纳，提升整体系统运行经济性，助力可再生能源的规模化应用。</p>
<p>
	三、技术发展历程与趋势</p>
<p>
	光伏巡检技术经历了从纯人工到局部自动化，再向系统化、平台化发展的过程。早期以手持设备与定点传感器为主，随着无人机、AI图像识别、云平台等技术的成熟，巡检方式逐步实现“空－地－数据”一体化。未来，随着边缘计算、数字孪生、自主巡检<a href="https://www.elecfans.com/soft/data/42-101/" target="_blank"><u>机器人</u></a>等技术的融入，光伏巡检将向更高程度的 autonomy（自主化）与 <a href="https://www.elecfans.com/tags/intel/" target="_blank"><u>intel</u></a>ligence（智能化）演进。</p>
<p>
	四、面临的挑战</p>
<p>
	尽管技术进步显著，光伏巡检仍面临一些现实挑战：</p>
<p>
	无人机巡检受天气与空域管制限制；</p>
<p>
	海量监测数据的处理与分析对<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>与算力提出更高要求；</p>
<p>
	不同系统之间的数据互通与平台整合仍需行业标准推进。</p>
<p>
	五、总结</p>
<p>
	光伏巡检服务正处在一个技术融合与模式创新的关键阶段。无人机、智能管理系统、智慧能源平台等技术的综合应用，不仅提升了巡检效率与电站运行可靠性，也为光伏电站的全生命周期管理提供了数据支撑。随着相关技术的持续迭代与行业协作的深化，光伏巡检将进一步向智能化、系统化方向发展，为光伏产业的高质量运行与能源结构转型提供坚实保障。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[RK3588平台SSD PCIE调试踩坑记：不插SSD就死机？两步搞定引脚与驱动配置]]></title>    <link>https://www.elecfans.com/d/7401440.html</link>    <guid>https://www.elecfans.com/d/7401440.html</guid>    <pubDate>2026-02-02 17:19:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><span style="font-size:15px;">最近看好多人因为pcie这个问题困扰，遂再更一版关于pcie调试的文章。</span></span></p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://www.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><span><span style="font-size:15px;">PCIE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">S<a href="https://www.hqchip.com/app/1522" target="_blank"><u>SD</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">因高速读写特性，常作为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>）平台的核心存储方案。但调试时难免遇到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">诡异</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">比如</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">插入</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时一切正常，不插</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统就直接起不来</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，甚至改了配置后还偶发启动失败。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">今天结合实际调试文档，<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>这两个典型坑的排查过程与解决方案，帮你避开</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">隐形陷阱</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、初始坑：不插</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，系统直接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">罢工</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJeAdJX4AAEd8aB7PPo931.png" alt="wKgZPGkanJeAdJX4AAEd8aB7PPo931.png"/><h2>
		</h2>
	<br/><p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象：插与不插，两种命运</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常场景：插入</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">后，系统启动流畅，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">能被正确识别并正常读写；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">异常场景：拔掉</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，系统卡在启动阶段，无报错日志，直接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">死机</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查：从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a></span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">定位到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一开始怀疑<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>或</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路问题，逐一排查后发现关键线索：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测量</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关电压（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">vpcie3v3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：无论是否插</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，电压均稳定在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，排除电源故障；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用<a href="https://m.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>测</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">不插</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时，时钟引脚无输出</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，插入后时钟恢复正常</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题出在时钟使能的控制逻辑。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">进一步核对</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（设备树）配置，发现核心控制引脚</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">PCIE30X4_CLKREQn_M1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（对应</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO4 RK_PB4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）的配置存在问题：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始错误配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">pcie20x1_0_clkreqn_m1: pcie20x1-0-clkreqn-m1 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>,<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>ns = &lt;4 RK_PB4 RK_FUNC_GPIO &amp;pcfg_pull_none&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">浮空状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcfg_pull_none</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">表示引脚处于</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">浮空状态</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：插入</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会主动拉低该引脚触发时钟输出；不插</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时，引脚电平悬空，无法触发时钟，导致系统启动卡住。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决方案：浮空</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">下拉，让引脚</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">有个准信</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">只需修改引脚的拉取状态，将</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">浮空</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">下拉</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，确保即使不插</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，引脚也能维持稳定电平以触发时钟：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改后正确配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">pcie20x1_0_clkreqn_m1: pcie20x1-0-clkreqn-m1 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">rockchip,pins = &lt;4 RK_PB4 RK_FUNC_GPIO &amp;pcfg_pull_down&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">下拉状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">重新编译烧录后测试：不插</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时，时钟信号正常输出，系统顺利启动</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一个坑解决！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、二次坑：改了下拉，仍偶发</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">死机</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">新现象：偶尔启动失败，无规律可循</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决初始问题后，测试中发现新情况：系统约有</span></span></font><span><span style="background-color:rgb(255,255,255);">10%</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">概率启动失败，重启几次又能恢复，无固定触发条件，排查难度更高。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">根因：驱动加载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">干扰</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚电平</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">再次核对</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，发现</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>节点）中，将之前修改的引脚配置关联到了驱动：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">存在问题的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">reset-gpios = &lt;&amp;gpio4 RK_PB6 GPIO_ACTIVE_HIGH&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">vpcie3v3-supply = &lt;&amp;vcc3v3_pcie30&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-names = "default";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-0 = &lt;&amp;pcie20x1_0_clkreqn_m1&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚关联驱动</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">status = "okay";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题在于：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动加载时，会动态调整关联引脚的电平</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，导致</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">PCIE30X4_CLKREQn_M1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚有时高、有时低，电平不确定性触发</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路初始化失败</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这也是启动失败</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">无规律</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的原因。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查阅</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">官方原理图与配置说明后确认：该引脚无需关联</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动，需独立控制以保证电平稳定。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">终局解决方案：删关联</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">独立配置，彻底稳电平</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">分两步修改，彻底隔绝驱动对引脚的干扰：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">步骤</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：删除</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动与引脚的关联</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点，注释或删除</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pinctrl-0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，断开驱动与引脚的绑定：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改后的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制器配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">reset-gpios = &lt;&amp;gpio4 RK_PB6 GPIO_ACTIVE_HIGH&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">vpcie3v3-supply = &lt;&amp;vcc3v3_pcie30&gt;;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-names = "default";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">注释关联配置：避免驱动干扰引脚电平</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">// pinctrl-0 = &lt;&amp;pcie20x1_0_clkreqn_m1&gt;;</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">status = "okay";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">步骤</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：单独配置引脚为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">固定电平调节器</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">新增</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pcie3x4_clkreqn_m1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点，将引脚配置为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">regulator-fixed</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（固定调节器）类型，强制拉低并确保启动阶段稳定：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">//</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">独立引脚配置（关键）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">pcie3x4_clkreqn_m1: pcie3x4-clkreqn-m1{</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">compa<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ble = "regulator-fixed"; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">固定电平类型</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">gpio = &lt;&amp;gpio4 RK_PB4 GPIO_ACTIVE_LOW&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">低电平有效</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-names = "default";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">pinctrl-0 = &lt;&amp;pcie20x1_0_clkreqn_m1&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引用下拉配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-name = "pcie3x4_clkreqn_m1";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">enable-<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>tive-low; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">使能信号低电平有效</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">start-delays-us = &lt;5000&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启动延迟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5000</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">微秒（避免冲击）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">off-on-delay-us = &lt;5000&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">切换延迟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5000</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">微秒</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-always-on; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚始终保持使能</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">regulator-boot-on; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统启动阶段即开启</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">start-delays-us</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">与</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">off-on-delay-us</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：避免引脚电平突变导致的链路误判；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">regulator-always-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">与</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">regulator-boot-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确保从系统上电到启动完成，引脚始终维持稳定低电平。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改后经过百次启动测试：无论是否插</span></span></font><span><span style="background-color:rgb(255,255,255);">SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，系统均</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">100%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常启动，偶发故障彻底解决！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、调试核心要点：</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">避坑准则</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚拉取状态：拒绝浮空，优先下拉</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">CLKREQn</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">类控制引脚（如本文的</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO4 RK_PB4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需避免</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcfg_pull_none</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（浮空），不插设备时会因电平不确定断时钟，下拉（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcfg_pull_down</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）是更安全的选择。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动关联：控制引脚别绑驱动</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">非</span></span></font><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心数据引脚（如时钟控制、复位），无需在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">&amp;pcie3x4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">等控制器节点中通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pinctrl-0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关联驱动，否则驱动加载会干扰电平稳定性。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">独立配置：用</span></span></font><span><span style="background-color:rgb(255,255,255);">regulator-fixed</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">稳电平</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键控制引脚建议按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">固定调节器</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置，加上延迟参数（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5000us</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">始终开启</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">属性，从硬件层面杜绝电平波动。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">结尾</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试常因</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚电平</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动关联</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这类细节卡壳，看似诡异的故障，往往藏在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的几行配置里。你在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台调试</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCIe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备时，还遇到过哪些</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">坑</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">？欢迎在评论区分享，一起避坑提效！</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[RK平台网络问题排查指南：从初始化到吞吐量，一文搞定常见故障]]></title>    <link>https://www.elecfans.com/d/7401439.html</link>    <guid>https://www.elecfans.com/d/7401439.html</guid>    <pubDate>2026-02-02 17:22:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://www.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>）平台凭借高性能、高兼容性广泛应用于<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>、<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>等场景，而<a href="https://m.hqchip.com/app/1720" target="_blank"><u>以太网</u></a>作为核心<a href="https://m.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>，其稳定性直接决定了设备的可用性。但实际开发中，我们常会遇到初始化失败、网络不通、丢包等问题，排查起来耗时费力。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">本文基于</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">官方以太网问题排查手册，梳理了</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">7</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">类核心故障的</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象表现、排查逻辑与实操方案</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，涵盖从开机初始化到吞吐量优化的全流程，帮你快速定位问题、高效解决。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJeABoZkAAEF1n7uYIE051.png" alt="wKgZPGkanJeABoZkAAEF1n7uYIE051.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、以太网初始化失败：开机就报错？从</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和配置入手</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象表现</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">开机</span></span></font><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中出现明确报错，如：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">No PHY found</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（未找到</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/2004" target="_blank"><u>Can</u></a>not att<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>h to PHY</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（无法挂载</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">MDIO device at <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>dress 1 is missing</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址不匹配）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><span><span style="background-color:rgb(255,255,255);">M<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>/MDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚配置</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">MDC/MDIO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是主控与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>的关键引脚，优先确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IOMUX</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>值是否正确（需对照硬件原理图），同时用<a href="https://m.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>测试波形：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MDC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率需</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">小于</span></span></font><span><span style="background-color:rgb(255,255,255);">2.5MHz</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，波形无异常抖动。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">供电与复位</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">确保</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片供电正常（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V/1.8V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需匹配芯片规格书）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><span><span style="background-color:rgb(255,255,255);">Reset IO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置：必须连接主控的</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">3.3V IO</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（配置成</span></span></font><span><span style="background-color:rgb(255,255,255);">1.8V</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">会直接报错），且复位时序需满足</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY datasheet</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">要求（可用示波器观察上电后</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Reset</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">脚是否有有效复位<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">匹配</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址（软件与硬件一致）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若</span></span></font><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“address X missing”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明软件配置的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址与硬件实际地址不匹配：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">推荐将</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址修改为通用广播地址</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，配置示例：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">&amp;mdio0 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">rgmii_phy0: phy@0 {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">compa<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ble = "<a href="https://www.elecfans.com/tags/ethernet/" target="_blank"><u>ethernet</u></a>-phy-ieee802.3-c22";</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"> </span></span></span><span><span style="background-color:rgb(255,255,255);">reg = &lt;0x0&gt;; // PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址设为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">};</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a> Initialization Fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：时钟错误是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">元凶</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象表现</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始化失败报错，如：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rk_gmac-dwmac fe1c0000.ethernet: Failed to reset the dma</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">stmmac_open: Hw setup failed</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查核心：时钟信号与配置</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DMA</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">依赖稳定的时钟，需从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件信号</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">软件配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">双向验证：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查时钟引脚与</span></span></font><span><span style="background-color:rgb(255,255,255);">IOMUX</span></span></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行命令查看引脚复用配置，确认时钟脚未被占用：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">find / -name <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nmux-pins</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat pinmux-pins</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用示波器测量时钟引脚：确保有正常时钟输出，频率、幅度符合硬件设计（如百兆</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">常用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">25MHz</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，千兆常用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">125MHz</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认时钟树与使能状态</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看时钟树信息，验证目标时钟是否使能、频率是否正确：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">busybox find / -name clk_summary</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat clk_summary</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><span><span style="background-color:rgb(255,255,255);">CRU</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器（时钟控制单元），确保时钟路径无阻断。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">百兆</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟方向配置（关键！）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若使用百兆</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需保证</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件方向</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">软件配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">相反：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">input</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GMAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">output</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（推荐）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">output</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GMAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">input</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">参考文档：《</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a>_Developer_Guide_<a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a>_GMAC_Mode_Configuration_CN</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">》</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、网络不通：有</span></span></font><span><span style="background-color:rgb(255,255,255);">eth</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点但</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ping</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">不通？分千兆</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">百兆排查</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">前提条件</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">无报错，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ifconfig</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">能看到</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ethx</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点（如</span></span></font><span><span style="background-color:rgb(255,255,255);">eth0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），但无法</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ping</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通同网段</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">或外网。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若为千兆</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：先测百兆，再查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">步骤</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：先验证百兆是否正常（缩小问题范围）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">千兆不通常与信号延迟（</span></span></font><span><span style="background-color:rgb(255,255,255);">tx/rx delay</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）相关，先固定百兆测试：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">临时固定百兆（重启失效）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ethtool -s eth0 autoneg off speed 100 duplex full</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">永久固定百兆（修改</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GMAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点中加入：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">max-speed = &lt;100&gt;; //</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">强制百兆模式</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若固定百兆后能正常</span></span></font><span><span style="background-color:rgb(255,255,255);">link</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（串口打印</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">link is up 100M/full</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），说明问题在千兆信号延迟。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">步骤</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：千兆不通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">校准</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">tx/rx delay</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先使用官方工具扫回环，获取正确</span></span></font><span><span style="background-color:rgb(255,255,255);">delay</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">值：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 1000 &gt; phy_lb_scan #</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">扫描回环，生成</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">将扫描结果填入</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，重新编译烧录（参考文档：《</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Rockchip_Developer_Guide_Linux_GMAC_RGMII_Delayline_CN.pdf</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">》）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">特殊情况：若</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY /</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.elecfans.com/v/tag/1392/" target="_blank"><u>交换机</u></a>无法自动扫描，需手动微调</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">值（以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">5</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为步进，范围</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0x0~0x60</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若为百兆</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：优先查硬件与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查时钟输出：确保</span></span></font><span><span style="background-color:rgb(255,255,255);">25M/50M</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟正常（幅值、频率达标）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">重新核对</span></span></font><span><span style="background-color:rgb(255,255,255);">IOMUX</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复用：避免引脚冲突（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GMAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚被复用为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>域：</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">所在电源域（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AVDD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DVDD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）电压稳定；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟方向：同</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟错误</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的百兆</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置规则。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、自协商失败：无法</span></span></font><span><span style="background-color:rgb(255,255,255);">link</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">？查引脚、测波形、验</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象表现</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">插网线后无</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">link up</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">打印，或自协商后速率异常（如千兆降为百兆但仍不通）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">逐引脚核对</span></span></font><span><span style="background-color:rgb(255,255,255);">IO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复用</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pinmux-pins</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件逐一对照</span></span></font><span><span style="background-color:rgb(255,255,255);">GMAC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">所有引脚（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">TXD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RXD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">TXC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RXC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），确保无复用错误：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /sys/devices/platform/xxx.ethernet/pinmux-pins # xxx</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GMAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">基地址</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">循环读取</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器，验证通信</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">找到</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器路径：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">find / -name phy_registe<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a></span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">循环读取寄存器，观察值是否正常（全</span></span></font><span><span style="background-color:rgb(255,255,255);">0xffff</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">或全</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件信号问题）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">while true; do</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">cat /sys/devices/platform/fe300000.ethernet/mdio_bus/stmmac-0/stmmac-0:01/phy_registers</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">done</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">拔插网线，检查寄存器</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">bit5</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（自协商标志位）和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">bit2</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">link</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态位）是否变化：无变化</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">未正常工作。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自身状态</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">电源、复位、晶体（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">25MHz</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）是否正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用示波器测</span></span></font><span><span style="background-color:rgb(255,255,255);">MDI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">信号：正常</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">应输出链路脉冲信号，若无</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→MDI±</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">接线反或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">故障；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查</span></span></font><span><span style="background-color:rgb(255,255,255);">MDI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关信号问题：如链路过长、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">结<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>过大（会导致信号衰减）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、丢包</span></span></font><span><span style="background-color:rgb(255,255,255);">/</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">吞吐量不达标：从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、优化配置入手</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">标准速率参考</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">百兆以太网：吞吐量需</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">≥90M/bps</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">千兆以太网：吞吐量需</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">≥900M/bps</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先测吞吐量：用</span></span></font><span><span style="background-color:rgb(255,255,255);">ipe<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>rf</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">定位问题</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1378" target="_blank"><u>ARM</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">发送（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">接收）</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">端（需关闭防火墙）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">iperf.exe -s -w 1M #</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">启动服务端，窗口大小</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1M</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ARM</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">端：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">iperf -c 192.168.50.169 -i 1 -w 1M -t 10 -l 16000 #</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">连接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，测试</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试</span></span></font><span><span style="background-color:rgb(255,255,255);">ARM</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">接收（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">发送）</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ARM</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">端：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">iperf -s -w 1M</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">端：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">iperf -c 192.168.50.108 -i 1 -w 1M -t 10 -l 16000</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">优化方案（按优先级排序）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">千兆不达标</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">校准</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">tx/rx delay</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">同</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">网络不通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的千兆</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">校准步骤（优先自动扫回环）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">定频</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（提升硬件性能）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">将</span></span></font><span><span style="background-color:rgb(255,255,255);">CPU</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和内存<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）设为性能模式，避免降频导致的处理瓶颈：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># DMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">定频</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">performance</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo performance &gt; /sys/devices/platform/dmc/devfreq/dmc/governor</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># CPU0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">定频</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">performance</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（多核心可依次配置）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo performance &gt; /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断与队列优化（负载均衡）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断迁移：将</span></span></font><span><span style="background-color:rgb(255,255,255);">eth</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CPU0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">移到大核（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3588</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CPU3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">eth0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断号（假设为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">234</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /proc/interrupts</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">将中断</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">234</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">移到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CPU3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">16</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">进制</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0x8</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CPU3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 8 &gt; /proc/irq/234/smp_affinity</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">队列分布：将</span></span></font><span><span style="background-color:rgb(255,255,255);">RX/TX</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">队列分配到多核心处理：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo f &gt; /sys/class/net/eth0/queues/rx-0/rps_cpus</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo f &gt; /sys/class/net/eth0/queues/tx-0/xps_cpus</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">增大协议缓冲区（</span></span></font><span><span style="background-color:rgb(255,255,255);">UDP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">吞吐低适用）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调整</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">TCP/UDP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">缓冲区大小</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 1048576 &gt; /proc/sys/net/core/wmem_max</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 1048576 &gt; /proc/sys/net/core/rmem_max</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo "4096 1048576 1048576" &gt; /proc/sys/net/ipv4/tcp_rmem</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo "4096 1048576 1048576" &gt; /proc/sys/net/ipv4/tcp_wmem</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">sysctl</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">生效配置</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">sysctl -w net.core.rmem_max=2048000</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">sysctl -w net.core.wmem_max=2048000</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关闭硬件校验（</span></span></font><span><span style="background-color:rgb(255,255,255);">TCP TX</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">异常适用）</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若</span></span></font><span><span style="background-color:rgb(255,255,255);">TCP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">丢包但</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UDP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常，尝试关闭硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">checksum</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关闭</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">eth0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RX/TX</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件校验</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ethtool --offload eth0 rx off tx off</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看校验状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ethtool --show-offload eth0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">六、串口一直打印</span></span></font><span><span style="background-color:rgb(255,255,255);">link up/down</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：循环报错？查时钟、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">EEE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、网线</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心原因</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">持续接收错误数据，导致链路反复断开</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">重连。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">EEE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模式问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">合入对应补丁</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若开启了</span></span></font><span><span style="background-color:rgb(255,255,255);">EEE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（节能模式），部分</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会因兼容性问题触发</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">link</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">波动，需合入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">官方的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">EEE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">补丁（联系</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">FAE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">获取）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟配置错误</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">output</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模式</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先将主控配置为时钟输出模式（稳定性更高），避免</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟输入异常导致的链路波动。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">物理层问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">换网线、查接触</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">网线<a href="https://www.hqchip.com/app/1689" target="_blank"><u>水晶头</u></a>接触不良是常见诱因，更换一根<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>网线测试；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用示波器测</span></span></font><span><span style="background-color:rgb(255,255,255);">MDI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">信号，排除信号衰减或干扰。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">PHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器验证</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">同</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">自协商失败</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的循环读寄存器方法，观察拔插网线时寄存器值是否正常变化，若异常</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件信号故障。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">七、交换机（</span></span></font><span><span style="background-color:rgb(255,255,255);">Switch</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）相关问题：以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTL836x</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">适用场景</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">使用</span></span></font><span><span style="background-color:rgb(255,255,255);">RTL8367RB/RTL8367S</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">等交换机芯片，需通过</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RGMII</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控连接。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键前提（硬件</span></span></font><span><span style="background-color:rgb(255,255,255);">+</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">软件）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件接线：</span></span></font><span><span style="background-color:rgb(255,255,255);">RGMII</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">交叉连接</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><span><span style="background-color:rgb(255,255,255);">MAC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">与交换机</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RGMII</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚需交叉对接：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机</span></span></font><span><span style="background-color:rgb(255,255,255);">TXD [3:0] →</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RXD [3:0]</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机</span></span></font><span><span style="background-color:rgb(255,255,255);">RXD [3:0] →</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">TXD [3:0]</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机</span></span></font><span><span style="background-color:rgb(255,255,255);">TXC →</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RXC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，交换机</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">TX_CTL →</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RX_CTL</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">软件配置：</span></span></font><span><span style="background-color:rgb(255,255,255);">PHY ID</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">29</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机驱动默认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY ID</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">29</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需将硬件交换机的地址</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ID</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">29</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，且</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MDIO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚需上拉：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#define MDC_MDIO_PHY_ID 29 /*</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">固定</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY ID</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">29 */</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">获取官方补丁</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">从</span></span></font><span><span style="background-color:rgb(255,255,255);">RK FTP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">下载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTL836x</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">补丁：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">FTP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">地址：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ftp://www.rockchip.com.cn</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">账号：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rkwifi</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，密码：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Cng9280H8t</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">路径：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">05-</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">补丁</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Patch/rtl8367_switch/rk3568_rk3588/</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先验证交换机自身功能</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机引出的</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个网口接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">台</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（同网段静态</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），若</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">间无法</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ping</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机本身故障：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查交换机电源、晶体（如</span></span></font><span><span style="background-color:rgb(255,255,255);">25MHz</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、复位引脚；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">核对硬件上下拉配置（参考芯片</span></span></font><span><span style="background-color:rgb(255,255,255);">datasheet</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">再验证主控与交换机通信</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若主控</span></span></font><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">找不到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，参考本文第一、二章节排查；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">区分交换机型号：</span></span></font><span><span style="background-color:rgb(255,255,255);">RTL8367RB</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">EXT_PORT1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">作为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RGMII</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTL8367S</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">EXT_PORT0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需在代码中修正：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">// RTL8367S</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">EXT_PORT0</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ret = rtk_port_macForceLinkExt_set(EXT_PORT0, MODE_EXT_RGMII, &amp;abi);</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">千兆不通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动调</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">交换机暂不支持自动扫回环，可尝试以下</span></span></font><span><span style="background-color:rgb(255,255,255);">delay</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">组合（单位：十六进制）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">tx_delay</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">rx_delay</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x10</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x10</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x10</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x10</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x20</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">0x20</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若上述值无效，以</span></span></font><span><span style="background-color:rgb(255,255,255);">5</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为步进在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0x0~0x60</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">范围内微调，修改寄存器（以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK356x</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0xfdc60380</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bit15-8=rx delay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bit7-0=tx delay</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">io -4 0xfdc60380</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">写入值（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">rx=0x10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">tx=0x0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，高</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">16</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位为使能）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">io -4 0xfdc60380 0xffff0010</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">总结：</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">网络排查的核心逻辑</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台以太网问题排查遵循</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">从上层到下层，从软件到硬件</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的原则：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先看开机</span></span></font><span><span style="background-color:rgb(255,255,255);">Log</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：是否有初始化、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关报错（定位到具体章节）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">再查功能节点：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ifconfig</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否有</span></span></font><span><span style="background-color:rgb(255,255,255);">ethx</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，拔插网线是否有</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">link</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">打印；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">分层测试：先测百兆再测千兆，先测本地再测外网，逐步缩小范围；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具辅助：用示波器测时钟</span></span></font><span><span style="background-color:rgb(255,255,255);">/ MDI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">信号，用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">iperf</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">测吞吐量，用寄存器验证通信。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">你在</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台网络开发中还遇到过哪些疑难问题？欢迎在评论区留言讨论，一起踩坑避坑！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	
		</div>
<br/>]]></description></item><item>    <title><![CDATA[了解滤清器气密性检测仪的工作原理与作用-岳信仪器]]></title>    <link>https://www.elecfans.com/d/7635454.html</link>    <guid>https://www.elecfans.com/d/7635454.html</guid>    <pubDate>2026-02-02 17:23:00</pubDate>    <description><![CDATA[<p>滤清器是汽车、工程<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>及工业净化系统的核心防护部件，其气密性直接关系到过滤效果与设备运行安全。一旦出现泄漏，未经过滤的杂质会侵入系统内部，不仅会造成发动机磨损、燃油消耗增加，严重时还可能引发安全事故。</p><p>因此，滤清器气密性检测仪成为产品质量管控的关键设备，它通过“密封-加压-精准检测”的完整流程，可高效识别滤清器的泄漏缺陷，其<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>主要分为三个核心步骤。</p><p>（1）构建密封腔体。滤清器气密性检测仪借助定制化夹具和耐磨损密封件，将滤清器的进出口彻底封堵，与检测系统共同组成独立的封闭空间。针对空气滤、燃油滤等不同规格的产品，夹具会精准适配其<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>尺寸与结构，确保密封无盲区，防止外部环境干扰检测数据的准确性——这是精准检测的前提，若密封环节出现问题，后续的压力监测将失去实际意义。</p><img src="https://file1.elecfans.com/web3/M00/4A/5C/wKgZO2mAbOWAcHKbAAFSpkMSBUk567.png" alt="wKgZO2mAbOWAcHKbAAFSpkMSBUk567.png"/><p>（2）压力调控与稳定。系统通过<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>充气泵，向封闭腔体内注入压缩空气，将腔内压力升至产品标准规定的预设值（一般为0.1-1MPa）。</p><p>之后进入压力稳定阶段，滤清器气密性检测仪内置的<a href="https://www.elecfans.com/tags/压力传感器/" target="_blank"><u>压力传感器</u></a>实时监测腔内压力波动，待数值稳定在允许误差范围内后，再启动正式的泄漏检测流程。这一阶段需严格控制充气速度与稳定时间，避免压力冲击导致滤清器变形或检测数据失真。</p><ol><li>核心检测与结果输出。滤清器气密性检测仪主要采用压降法和流量法两种主流检测技术：压降法适用于常规工业生产，通过持续记录压力变化速率，若设定时间内压力降幅超出阈值，即判定为泄漏；</li><li>流量法多用于高精度检测场景，通过监测维持恒定压力所需补充的空气流量，超出标准则判定为不合格，滤清器气密性检测仪还可通过差压对比捕捉毫帕级微漏。检测结束后，系统自动分析数据、输出判定结果，并存储检测参数，为质量追溯和工艺优化提供支持。</li></ol><p>这套严谨的检测流程，实现了滤清器气密性的高效精准管控，从源头保障产品品质，为下游设备的稳定可靠运行筑牢防护防线。</p>]]></description></item><item>    <title><![CDATA[深入解析Broadcom HCPL - 7840隔离放大器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7635439.html</link>    <guid>https://www.elecfans.com/d/7635439.html</guid>    <pubDate>2026-02-02 17:25:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635439" value="https://file1.elecfans.com/web3/M00/4A/5A/wKgZPGmAZj2ALNiJAA5WvQv3D5w336.pdf"/><h1>深入解析Bro<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>adc</u></a>om HCPL - 7840<a href="https://www.elecfans.com/tags/隔离放大器/" target="_blank"><u>隔离放大器</u></a>：特性、应用与设计要点</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常设计工作中，对于<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>驱动系统中的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>传感以及在高噪声环境下的<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>隔离等应用场景，一款性能出色的隔离放大器至关重要。今天，我们就来深入探讨一下Bro<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>com的HCPL - 7840隔离放大器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635439" target="_blank">HCPL-7840-300E.pdf</a></p>
<h2>核心特性解读</h2>
<h3>高共模抑制能力</h3>
<p>在现代开关<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a><a href="https://m.hqchip.com/app/1824" target="_blank"><u>电机驱动器</u></a>中，常见在几十纳秒内出现数百伏的共模电压摆动。而HCPL - 7840能够无视至少10 kV/μs的超高共模瞬态压摆率，在 (V_{CM}=1000V) 时，其共模抑制能力高达15 kV/μs。这种强大的能力使得它在高噪声的<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>环境中，能够精确稳定地监测电机电流，为各类电机控制应用提供更平稳的控制（减少转矩脉动）。</p>
<h3>先进制造工艺与<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a></h3>
<p>HCPL - 7840采用了Broadcom 0.8 - μm CMOS IC工艺，结合了西格玛 - 德尔塔（Σ - Δ）<a href="https://www.elecfans.com/tags/模数转换器/" target="_blank"><u>模数转换器</u></a>技术、斩波稳定<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>以及全差分电路拓扑。这些特性共同带来了无与伦比的隔离模式噪声抑制能力，以及出色的失调和增益精度，并且在温度和时间变化时能够保持稳定性。</p>
<h3>优越的<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>它具有0.00025V/V/°C的极低增益温度漂移、0.3 - mV的输入失调电压、100 - kHz的带宽以及仅0.004%的非线性度。这些特性使得它在各种模拟信号处理中都能提供<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>的输出。</p>
<h3>安全<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a></h3>
<p>该产品获得了全球安全认证，包括UL1577（3750 <a href="https://www.elecfans.com/v/tag/3668/" target="_blank"><u>Vr</u></a>ms/1 min.）、CSA、IEC/EN/DIN EN 60747 - 5 - 5等，确保了在使用过程中的安全性和可靠性。</p>
<h3>紧凑封装</h3>
<p>采用紧凑、可自动插入的行业标准8引脚DIP封装，同时还有鸥翼表面贴装选项（#300），方便不同的应用场景和安装需求。</p>
<h2>多样化的应用场景</h2>
<h3>电机相关应用</h3>
<p>在电机控制领域，HCPL - 7840可用于电机相电流和母线电流传感，以及逆变器电流传感。通过精确地测量电机电流，能够实现更精准的电机控制，提高电机的运行效率和性能。</p>
<h3><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>信号隔离</h3>
<p>在开关模式电源中，它可以实现信号隔离，确保电源系统的稳定性和安全性，避免不同电路之间的干扰。</p>
<h3>通用应用</h3>
<p>还可用于通用电流传感和监测，以及通用模拟信号隔离，为各种需要高精度、稳定性和线性度的模拟信号处理应用提供解决方案。</p>
<h2>设计要点与注意事项</h2>
<h3>电源供应与旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a></h3>
<p>HCPL - 7840的电源通常可从为功率晶体管<a href="https://www.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>电路供电的同一电源获取。若需专用电源，可在现有变压器上增加额外绕组，或使用简单的隔离电源，如线路供电变压器或高频<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>。同时，为了帮助衰减高频电源噪声或纹波，可在稳压器输入串联一个<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>或电感，与稳压器的输入旁路电容形成低通<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>。
0.1 - μF的旁路电容（C1、C2）应尽可能靠近HCPL - 7840的引脚放置，因为芯片内部信号具有高速数字特性，旁路电容是必需的。此外，在输入处推荐使用0.01 - μF的旁路电容（C2），它不仅是抗混叠滤波器的一部分，还能防止高频噪声混叠到低频，干扰输入信号，同时减少<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>事件产生的瞬态尖峰。</p>
<h3><a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局</h3>
<p><a href="https://bbs.elecfans.com/zhuti_830_1.html" target="_blank"><u>PCB设计</u></a>应遵循良好的布局原则，如将旁路电容靠近电源引脚、使输出信号远离输入信号、使用接地和电源层等。特别要注意的是，PCB布局会影响HCPL - 7840的隔离瞬态抗扰度（CM<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>），主要是由于输入和输出电路之间的杂散电容<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>。为获得最佳的CMTI性能，应尽量增大输入和输出侧之间的距离，避免接地或电源层直接穿过或超出芯片主体。</p>
<h3>电流传感电阻选择</h3>
<p>电流传感电阻应具有低电阻（以最小化功率耗散）、低电感（以最小化di/dt感应电压尖峰，避免影响运行）和合理的公差（以保持整体电路精度）。选择电阻值时，通常需要在最小化功率耗散和最大化精度之间进行权衡。确定电阻值的第一步是明确其要测量的电流大小，最大感测电阻值可通过最大推荐输入电压除以正常工作时感测电阻应承受的峰值电流来计算。当感测电流足够大导致电阻发热时，电阻的温度系数会因电阻的温度升高而引入非线性，可通过降低电阻的热阻或使用温度系数较低的电阻来减小这种影响。此外，四<a href="https://www.hqchip.com/app/1529" target="_blank"><u>端子</u></a>电流传感电阻能消除引线电阻带来的误差，在PCB布局时，应将其Kelvin连接在电阻主体下方汇聚，并靠近引向HCPL - 7840的输入，以减少连接回路面积，降低杂散磁场干扰。</p>
<h3>输出端设计</h3>
<p>外部后置放大器电路中使用的<a href="https://www.hqchip.com/app/1737" target="_blank"><u>运算放大器</u></a>应具有足够的精度，避免引入相对于隔离放大器较大的失调或失调漂移。一般来说，具有双极输入级的运算放大器比具有JFET或<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>输入级的放大器表现更好。同时，运算放大器还应具备足够的带宽和压摆率，以免影响整个电路的响应速度。后置放大器电路中的一对<a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>（C5和C6）构成单极低通滤波器，可独立调节后置放大器的带宽，有助于降低隔离放大器的输出噪声。增益设置电阻的公差应在1%或更好，以确保整体电路有足够的共模抑制比和增益公差，电阻网络是一个不错的选择，它不仅具有更好的比率公差，还能减少电路组件数量和所需的电路板空间。</p>
<h2>常见问题解答</h2>
<h3>与霍尔效应<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>对比</h3>
<p>与霍尔效应传感器相比，HCPL - 7840采用可自动插入的8引脚DIP封装，体积更小，且具有更好的线性度、失调与温度特性以及共模抑制（CMR）性能。此外，所需的输入侧电源通常可从为栅极驱动<a href="https://www.elecfans.com/yuanqijian/guangou/" target="_blank"><u>光耦</u></a>合器供电的同一电源获取。</p>
<h3>低阻值电阻获取</h3>
<p>虽然10 mΩ的电阻不像10Ω以上的电阻那么常见，但有不少制造商生产适用于与HCPL - 7840结合测量高达50A电流的此类电阻，如Dale（<a href="https://www.elecfans.com/outside?redirect=https://www.vishay.com/resistors" target="_blank">https://www.vishay.com/resistors</a> - fixed/current - sensing）和Isotek（<a href="https://www.elecfans.com/outside?redirect=https://www.testco" target="_blank">https://www.testco</a> - inc.com/isotek）的相关产品。</p>
<h3>输入连接方式</h3>
<p>将 (V<em>{IN - }) 直接接地到引脚4是推荐的连接方式，但如果将两个输入跨接在感测电阻上也是可行的。若采用这种方式，需在引脚2（ (V</em>{IN +}) ）和引脚3（ (V_{IN -}) ）上都使用RC滤波器来限制两个焊盘的输入电压。</p>
<h3>输入RC滤波器作用</h3>
<p>典型应用电路中所示的输入抗混叠滤波器（ (R = 39Ω) ， (C = 0.01μF) ）用于过滤输入信号中的快速开关电压瞬变，有助于衰减较高的信号频率，防止其与输入采样率混叠而导致更高的输入失调电压。在使用不同的滤波电阻或电容时，需要考虑输入偏置电流、等效输入电阻、输入带宽以及滤波电容与输入电容的关系等因素。</p>
<h3>短路保护</h3>
<p>为确保HCPL - 7840在短路情况下不被损坏，应选择感测电阻，使其在短路发生时压降小于5V。同时，在感测电阻损坏或其焊点熔化之前关闭<a href="https://www.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>，这样可保证HCPL - 7840的输入不会因感测电阻开路而受损。</p>
<h3>隔离耐压</h3>
<p>根据UL 1577和CSA组件验收通知#5，HCPL - 7840的瞬间（1分钟）耐压为3750 (V_{<a href="https://m.hqchip.com/app/1718" target="_blank"><u>rms</u></a>})。</p>
<h3>信噪比提升</h3>
<p>可以通过在后置放大器应用电路中使用不同的滤波器R、C值进行额外滤波来提高信噪比。例如，在应用电路中使用 (R3 = R4 = 10kΩ) 、 (C5 = C6 = 470pF) 时，输出噪声的均方根值大约可降低一半。对于只需要几千赫兹带宽的应用，还能获得更好的噪声性能。</p>
<h3>增益精度</h3>
<p>HCPL - 7800A的增益经过调整和匹配，在室温下公差可达±1%。</p>
<h3>增益稳定性</h3>
<p>由于<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>仅用于传输数字模式，即使内部LED的光输出随时间下降，增益也不会改变。Broadcom在产品设计中已考虑到LED的退化问题，以确保产品的长寿命。</p>
<h3>电源启动特性</h3>
<p>在输入侧电源开启前， (v<em>{O}) 接近1.29V， (v</em>{O -}) 接近3.80V，这相当于LED完全关闭时的输出响应。在 (V<em>{DD 1}) 和 (V</em>{DD 2}) 通电后1 ms内，设备开始工作，但输出完全稳定需要更长时间。在两个输入都接地进行失调测量时，最初有 (v_{os}) 调整（约60 ms），设备通电后100 ms输出完全稳定。</p>
<h3>负信号测量</h3>
<p>输入具有串联电阻，可保护免受大的负输入信号影响。正常信号幅度不超过200 mV，不会使任何结正向偏置到足以干扰开关电容输入电路的精确操作。</p>
<p>HCPL - 7840隔离放大器凭借其出色的特性和广泛的应用范围，在电子工程师的设计工作中具有重要价值。在实际应用中，严格遵循设计要点和注意事项，合理解决常见问题，能够充分发挥其性能优势，为电子系统的稳定运行提供有力保障。你在使用HCPL - 7840或类似隔离放大器时，遇到过哪些独特的问题和挑战呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[rk3588 Ubuntu网络配置全攻略：从调试到静态/动态IP，桌面+终端都讲透！]]></title>    <link>https://www.elecfans.com/d/7401437.html</link>    <guid>https://www.elecfans.com/d/7401437.html</guid>    <pubDate>2026-02-02 17:25:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">时总遇到网络糟心事？比如突然连不上网、远程连接时</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">老变、服务器需要固定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">却不知从何下手</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">……</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">其实</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Ubuntu</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">网络配置没那么复杂，今天就从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">问题定位</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">动态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，把桌面图形化和终端命令行两种方式都讲明白，新手也能跟着操作！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">一、网络调试：先找到问题在哪</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">配置</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">前，得先确认</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">网络问题出在哪</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是网卡没识别？还是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">解析失败？这</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个工具能帮你快速定位：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">「</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>ng</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">」：测试网络通不通</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">最基础的命令，用来检查是否能连接到目标地址（比如路由器、外网）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">测试能否连外网（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ping</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">百度</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，通的话会返回响应）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ping 8.8.8.8 -c 4</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># -c 4</span></span><font face="等线"><span><span style="background-color:#ffffff;">表示只发</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个包，避免一直</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ping</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">测试能否连路由器（假设路由器网关是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">192.168.1.1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ping 192.168.1.1 -c 4</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若显示</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Request <a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>meout”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：说明目标地址连不上，可能是网线没插好、网关错了；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若显示</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Unknown host”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：说明</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">有问题，解析不了地址。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">「</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ip <a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>dr</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">」：查看网卡与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">信息</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">想知道<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>有哪些网卡（比如</span></span></font><span><span style="background-color:#ffffff;">eth0</span></span><font face="等线"><span><span style="background-color:#ffffff;">是有线、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">wlan0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是无线）、当前</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是多少，用这个命令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ip addr show</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">显示所有网卡信息</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">或指定查看某张网卡（比如有线网卡</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">eth0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ip addr show eth0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">输出里能看到关键信息：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">网卡状态：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">UP</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">表示网卡已启用，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">DOWN</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">表示禁用；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">地址：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">inet 192.168.1.100/24</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">就是当前</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">和子网掩码（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/24</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">255.255.255.0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">网卡名：比如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">eth0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（旧版命名）、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">enp0s3</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（新版</span></span></font><span><span style="background-color:#ffffff;">Predictable</span></span><font face="等线"><span><span style="background-color:#ffffff;">命名）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">「</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ss</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">」：查看<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>与连接状态</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果是远程连接（比如</span></span></font><span><span style="background-color:#ffffff;">SSH</span></span><font face="等线"><span><span style="background-color:#ffffff;">）出问题，用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">ss</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">看端口是否在监听：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">22</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">端口（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SSH</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">默认端口）是否监听</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ss -tuln | grep 22</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若有输出</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">LISTEN 0 128 *:22 *:*</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：说明端口正常监听；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若无输出：可能</span></span></font><span><span style="background-color:#ffffff;">SSH</span></span><font face="等线"><span><span style="background-color:#ffffff;">服务没启动，需执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo systemctl start ssh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">4.</span></span><font face="等线"><span><span style="background-color:#ffffff;">「</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">tr<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>erou<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">」：追踪网络跳转路径</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">连得上外网但访问某网站慢？用它看数据从你电脑到目标服务器经过了哪些节点：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">先安装（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Ubuntu</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">默认没装）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo apt install traceroute</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">追踪到百度的路径</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">traceroute www.b<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>du.com</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">输出里的每一行就是一个节点，若某节点一直</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“*”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，说明这个节点有延迟或丢包。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">二、动态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置：自动获取更省心</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">动态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Ubuntu</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">默认的网络模式，由路由器的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DHCP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">服务器自动分配</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，适合笔记本、家用电脑等</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">移动使用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的场景</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">不用手动输</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，插上网线</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">连</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">WiFi</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">就能用。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：桌面图形化（新手首选）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击屏幕右上角的「网络图标」，选择「网络设置」；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">在左侧找到你要配置的网卡（比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://www.hqchip.com/app/1720" target="_blank"><u>以太网</u></a></span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应有线，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应无线），点击进入；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">找到「</span></span></font><span><span style="background-color:#ffffff;">IPv4</span></span><font face="等线"><span><span style="background-color:#ffffff;">」选项，将「方法」设为「自动（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DHCP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）」；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击「应用」，然后断开再重新连接网络（比如关闭网卡再打开），</span></span></font><span><span style="background-color:#ffffff;">DHCP</span></span><font face="等线"><span><span style="background-color:#ffffff;">会自动分配</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：终端命令行（无桌面</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">服务器适用）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果是</span></span></font><span><span style="background-color:#ffffff;">Ubuntu Server</span></span><font face="等线"><span><span style="background-color:#ffffff;">（没有桌面），或想通过命令快速获取动态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">dhclient</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">命令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">释放当前网卡的旧</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（可选，比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">冲突时）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo dhclient -r eth0</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># eth0</span></span><font face="等线"><span><span style="background-color:#ffffff;">替换成你的网卡名</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">重新从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DHCP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">服务器获取</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo dhclient eth0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">验证是否获取成功（查看新</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ip addr show eth0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若执行后仍没</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">：检查路由器</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DHCP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是否开启，或网卡是否启用（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo ip link set eth0 up</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">启用网卡）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">三、静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置：固定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">更稳定</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">适合</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">需要固定地址</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的场景，比如服务器、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/nas/" target="_blank"><u>NAS</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、远程调试设备</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">避免因</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">变化导致远程连接失败、服务中断。下面分桌面和终端两种方式，重点讲实操步骤！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：桌面图形化（跟着截图走就行）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果你用的是</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">桌面版，按以下步骤操作（参考你提供的配置文档，补充细节）：</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJaAF5IgAAV_q5bPm7Q394.png" alt="wKgZPGkanJaAF5IgAAV_q5bPm7Q394.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">打开网络连接配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击右上角网络图标</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">选择「编辑连接」（或进入「设置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">网络</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">有线</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">齿轮图标」）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">删除旧的网络连接</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">在弹出的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">网络连接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">窗口中，找到你要配置的网卡（比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“eth0”“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">以太网</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），选中后点击「删除」</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">避免旧配置干扰新设置；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">新建静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">连接</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击「添加」</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">选择</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">以太网</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Wi-Fi”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，根据你的网卡类型）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">点击「创建」；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">4.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">填写静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">信息</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">「连接名称」：自定义（比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“eth0 -</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，方便识别）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">切换到「</span></span></font><span><span style="background-color:#ffffff;">IPv4</span></span><font face="等线"><span><span style="background-color:#ffffff;">设置」<a href="https://www.hqchip.com/tags" target="_blank"><u>标签</u></a>，将「方法」从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">自动</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">改为「手动」；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击「添加」，填写关键参数（以</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">186.16.16.220</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，子网掩码：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">255.255.255.0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，网关：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">186.16.16.1”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">为例）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">地址：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">186.16.16.220/24</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/24</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">对应子网掩码</span></span></font><span><span style="background-color:#ffffff;">255.255.255.0</span></span><font face="等线"><span><span style="background-color:#ffffff;">，不用手动输子网掩码）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">网关：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">186.16.16.1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（填你的路由器</span></span></font><span><span style="background-color:#ffffff;">/</span></span><font face="等线"><span><span style="background-color:#ffffff;">网关</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，不能错！）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">DNS</span></span><font face="等线"><span><span style="background-color:#ffffff;">服务器：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">8.8.8.8,114.114.114.114</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（谷歌</span></span></font><span><span style="background-color:#ffffff;">DNS +</span></span><font face="等线"><span><span style="background-color:#ffffff;">国内</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，避免解析失败）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">保存并生效</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">点击「保存」</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">回到网络设置，关闭当前网卡（比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">断开</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">以太网）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">再重新</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">连接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">最后重启电脑（可选，确保配置永久生效），用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">ip addr show eth0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">验证</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否变成你设置的静态地址。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZPGkanJaAb51ZAAPgRVm38ds209.png" alt="wKgZPGkanJaAb51ZAAPgRVm38ds209.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：终端命令行（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Ubuntu 18.04+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">netplan</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Ubuntu 18.04</span></span><font face="等线"><span><span style="background-color:#ffffff;">及以后版本放弃了旧的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/etc/network/interfaces</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，改用「</span></span></font><span><span style="background-color:#ffffff;">netplan</span></span><font face="等线"><span><span style="background-color:#ffffff;">」管理网络，配置更简洁（若你是旧版本，文末附旧方法）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">找到</span></span></font><span><span style="background-color:#ffffff;">netplan</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置文件</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">netplan</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置文件在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/etc/netplan/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">目录下，文件名通常是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">01-network-manager-all.yaml</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">50-cloud-init.yaml</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">ls /etc/netplan/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">查看）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">编辑配置文件</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">nano</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">vim</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">打开文件（需</span></span></font><span><span style="background-color:#ffffff;">sudo</span></span><font face="等线"><span><span style="background-color:#ffffff;">权限）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo nano /etc/netplan/01-network-manager-all.yaml</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">清空原有内容，按以下格式填写（替换成你的静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">信息）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">network:</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">version: 2</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">renderer: NetworkManager</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">桌面版用这个，服务器版用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">networkd</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/ethernet/" target="_blank"><u>ethernet</u></a>s:</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">eth0:</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">替换成你的网卡名（用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ip addr</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">看）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">dhcp4: no</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">关闭</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DHCP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（动态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">addresses: [186.16.16.220/24]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">子网掩码</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">gateway4: 186.16.16.1</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">网关</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">nameserve<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>:</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">addresses: [8.8.8.8, 114.114.114.114]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># DNS</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">关键注意：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">yaml</span></span><font face="等线"><span><span style="background-color:#ffffff;">文件</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">必须用空格缩进</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（不能用</span></span></font><span><span style="background-color:#ffffff;">Tab</span></span><font face="等线"><span><span style="background-color:#ffffff;">！），每级缩进</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个空格；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">冒号</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">:</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">后面要加空格（比如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">dhcp4: no</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，不是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">dhcp4:no</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">应用配置并验证</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">保存文件（</span></span></font><span><span style="background-color:#ffffff;">nano</span></span><font face="等线"><span><span style="background-color:#ffffff;">按</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">Ctrl+O</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">回车</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">Ctrl+X</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">），执行以下命令让配置生效：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo netplan apply</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">验证静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是否生效</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ip addr show eth0</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若输出的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">inet</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">地址是你设置的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">186.16.16.220</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，说明配置成功！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">旧版</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">16.04</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">及以前）终端配置</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果你的</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">16.04</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或更早版本，用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/etc/network/interfaces</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">文件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo nano /etc/network/interfaces</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">添加以下内容</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">auto eth0</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">开机自动启用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">eth0</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">iface eth0 inet static</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">模式</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">address 186.16.16.220</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">netmask 255.255.255.0</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">子网掩码</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">gateway 186.16.16.1</span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">网关</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">dns-nameservers 8.8.8.8 114.114.114.114</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># DNS</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">重启网络生效</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sudo /etc/init.d/networking restart</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">四、常见问题排查：配置后连不上网怎么办？</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">连不上网</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">检查</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否冲突：用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">ping</span></span><font face="等线"><span><span style="background-color:#ffffff;">你的静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（在其他电脑上</span></span></font><span><span style="background-color:#ffffff;">ping</span></span><font face="等线"><span><span style="background-color:#ffffff;">），若有响应说明</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">被占用，换个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">网关</span></span></font><span><span style="background-color:#ffffff;">/ DNS</span></span><font face="等线"><span><span style="background-color:#ffffff;">填错：网关必须是路由器的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">192.168.1.1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">填公共</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">8.8.8.8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">223.5.5.5</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">netplan</span></span><font face="等线"><span><span style="background-color:#ffffff;">缩进错误：执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo netplan try</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，会检测配置文件错误并提示。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">动态</span></span></font><span><span style="background-color:#ffffff;">IP</span></span><font face="等线"><span><span style="background-color:#ffffff;">获取不到</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">启用网卡：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo ip link set eth0 up</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">重启</span></span></font><span><span style="background-color:#ffffff;">DHCP</span></span><font face="等线"><span><span style="background-color:#ffffff;">服务：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo systemctl restart NetworkManager</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（桌面版）或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">sudo systemctl restart systemd-networkd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（服务器版）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">检查路由器：确认路由器</span></span></font><span><span style="background-color:#ffffff;">DHCP</span></span><font face="等线"><span><span style="background-color:#ffffff;">功能已开启，且地址池有剩余</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">DNS</span></span><font face="等线"><span><span style="background-color:#ffffff;">解析失败（能</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ping</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，打不开网页）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">手动修改</span></span></font><span><span style="background-color:#ffffff;">DNS</span></span><font face="等线"><span><span style="background-color:#ffffff;">：在静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">动态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置中，把</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DNS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">8.8.8.8</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">114.114.114.114</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">检查</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/etc/resolv.conf</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：确保文件中有</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">nameserver 8.8.8.8</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">netplan</span></span><font face="等线"><span><span style="background-color:#ffffff;">会自动生成，不要手动改）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">总结：两种方式怎么选？</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">桌面图形化</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：适合</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">桌面版新手，不用记命令，点鼠标就能完成，适合家用电脑、笔记本；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">终端命令行</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：适合</span></span></font><span><span style="background-color:#ffffff;">Ubuntu Server</span></span><font face="等线"><span><span style="background-color:#ffffff;">（无桌面）、批量配置多台设备，或需要自动化脚本的场景，更灵活高效。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">其实</span></span></font><span><span style="background-color:#ffffff;">Ubuntu</span></span><font face="等线"><span><span style="background-color:#ffffff;">网络配置核心就是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">先调试定位问题，再按需选动态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">静态</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IP”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，跟着本文步骤走，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">90%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的网络问题都能解决！如果操作中遇到特殊情况，欢迎在评论区留言，一起排查～</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[RK3576平台USB与DP调试实战：从报错到通屏，相机+投屏双问题一次性解决]]></title>    <link>https://www.elecfans.com/d/7401436.html</link>    <guid>https://www.elecfans.com/d/7401436.html</guid>    <pubDate>2026-02-02 17:26:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">在</span></span></font><span><span style="background-color:#ffffff;">RK3576</span></span><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/type-c/" target="_blank"><u>Type-C</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">功能是高频使用场景，但</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机识别失败</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”“DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">投屏连而不通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">这类问题却常让<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>卡壳。本文基于真实调试案例，结合内核日志分析与设备树配置修改，<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a></span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Type-C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的核心调试思路，帮你避开配置陷阱，快速打通硬件功能。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">一、先看现象：两类典型问题的异常表现</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">调试的第一步，是通过</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">现象</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">日志</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">锁定问题方向。本次遇到的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Type-C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">问题，均有明确的异常特征，可通过系统日志快速定位症结。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1. Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：连接后秒断，状态反复跳变</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">插入</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">线后，屏幕无任何反应，查看</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Type-C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">核心调试日志（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/kernel/debug/usb/tcpm-2-004e/log</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">），发现设备在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">连接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">-</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">断开</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">间循环：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">首次插拔：看似进入连接流程</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">331.195579] VBUS on</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># 5V</span></span><font face="等线"><span><span style="background-color:#ffffff;">供电开启，硬件通电正常</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">331.283567] CC1:0 -&gt; 2,CC2:0 -&gt;1 [sta<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a> TOGGLING,polarity 0, connected]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># CC</span></span><font face="等线"><span><span style="background-color:#ffffff;">通道协商启动</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">331.283586] state change TOGGLING -&gt; SRC_ATT<a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a>H_W<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>T [rev1 NONE_<a href="https://www.elecfans.com/tags/ams/" target="_blank"><u>AMS</u></a> ]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">进入等待附着状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">短时间后：自动断开，回到未连接</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">348.130801] CC1: 2 -&gt; 0, CC2:1 -&gt;0 [state SRC_ATTACH_WAIT, polarity 0, disconnected]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;"># CC</span></span><font face="等线"><span><span style="background-color:#ffffff;">值归</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，断开连接</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">348.130826] state change SRC_ATTACH_WAIT -&gt; SRC_UNATTACHED [rev1 NONE_AMS]</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">回到未附着状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">348.130847] Start toggling</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">重新启动协商，陷入循环</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">日志关键信息</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">VBUS on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">说明供电硬件正常，但</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">CC1/CC2</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">值跳变后无法稳定，核心问题出在</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">角色协商时序</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">供电配置冲突</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2. USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机：启动黑屏，识别逻辑报错</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">外接</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机后，相机应用黑屏，查看代码日志发现</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">越界</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">问题</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">原代码通过固定<a href="https://m.hqchip.com/ic/0" target="_blank"><u>索引</u></a>读取相机</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，若仅接入</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机，会触发数组越界，导致无法加载相机设备：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 原错误代码（CaptureModule.<a href="https://www.elecfans.com/v/tag/852/" target="_blank"><u>java</u></a>）</span></span></code><code><span><span class="code-snippet__type">String</span><span class="code-snippet__variable">cameraIds</span><span class="code-snippet__operator">=</span>manager.getCameraIdList()[cameraId]; <span class="code-snippet__comment">// 若cameraId=1但仅1个相机，直接越界</span></span></code><code><span><span class="code-snippet__type">CameraCharacteris<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>cs</span><span class="code-snippet__variable">characteristics</span><span class="code-snippet__operator">=</span>manager.getCameraCharacteristics(cameraIds);</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">问题本质</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：相机</span></span></font><span><span style="background-color:#ffffff;">ID</span></span><font face="等线"><span><span style="background-color:#ffffff;">识别逻辑未兼容</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">单相机</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">场景，且未遍历匹配</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">LENS_FACING</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（镜头朝向）参数，导致外接</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机无法被正确识别。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">二、追根溯源：问题都藏在配置细节里</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">通过日志定位方向后，进一步排查硬件配置与代码逻辑，发现两类问题的根源均为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置冗余</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">逻辑疏漏</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，而非硬件故障。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1. Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：供电配置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">画蛇添足</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">依赖</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">动态供电时序</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">需在设备插入后协商供电模式，而</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK3576</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设备树中</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">vcc5v0_host</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">主机</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">5V</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">供电节点）默认配置了两行</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">强制供电</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">参数，打破了正常时序：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 原错误配置（设备树vcc5v0_host节点）</span></span></code><code><span>vcc5v0_host: vcc5v0-host {<span class="code-snippet__comment">//USB_OTG0_PWREN_H</span></span></code><code><span>  compatible =<span class="code-snippet__string">"regulator-fixed"</span>;</span></code><code><span>  regulator-name =<span class="code-snippet__string">"vcc5v0_host"</span>;</span></code><code><span>  regulator-boot-<span class="code-snippet__keyword">on</span>; <span class="code-snippet__comment">// 系统启动即开启供电，提前占用<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>通道</span></span></code><code><span>  regulator-always-<span class="code-snippet__keyword">on</span>;<span class="code-snippet__comment">// 强制供电永不关闭，设备拔出后仍耗电</span></span></code><code><span>  regulator-min-microvolt = &lt;<span class="code-snippet__number">5000000</span>&gt;;</span></code><code><span>  regulator-max-microvolt = &lt;<span class="code-snippet__number">5000000</span>&gt;;</span></code><code><span>  enable-active-high;</span></code><code><span>  gpio = &lt;&amp;gpio2 RK_PB5 GPIO_ACTIVE_HIGH&gt;;</span></code><code><span>  vin-supply = &lt;&amp;vcc5v0_device&gt;;</span></code><code><span>  <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-names =<span class="code-snippet__string">"default"</span>;</span></code><code><span>  pinctrl<span class="code-snippet__number">-0</span>= &lt;&amp;usb_host_pwren&gt;;</span></code><code><span>};</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">冲突原理</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-boot-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">让供电提前开启，干扰</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">插入后的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议协商；</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-always-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">导致设备拔出后电源未重置，下次插入时</span></span></font><span><span style="background-color:#ffffff;">CC</span></span><font face="等线"><span><span style="background-color:#ffffff;">通道检测异常，最终协商失败。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2. USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机：识别逻辑</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">考虑不周</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">原相机代码存在两处关键疏漏：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">未兼容单相机场景</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：直接通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">manager.getCameraIdList()[cameraId]</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">按索引取</span></span></font><span><span style="background-color:#ffffff;">ID</span></span><font face="等线"><span><span style="background-color:#ffffff;">，若</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">cameraId</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">大于实际相机数量，触发越界；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">未匹配</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机参数</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：外接</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">LENS_FACING</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">参数（通常上报为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">前置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">后置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）未被遍历识别，导致代码无法将</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机与内置相机区分开。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">三、解决方案：几行配置修改，问题秒解决</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">针对两类问题的根源，无需更换硬件，仅通过设备树配置注释与代码逻辑优化，即可彻底解决。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1. Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：注释冗余供电参数，恢复动态时序</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">核心操作：删除</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">vcc5v0_host</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">节点的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-boot-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-always-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，让供电根据设备插拔动态开关：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 修改后配置（设备树vcc5v0_host节点）</span></span></code><code><span><span class="code-snippet__attr">vcc5v0_host</span>: vcc5v0-host {<span class="code-snippet__comment">//USB_OTG0_PWREN_H</span></span></code><code><span>  compatible =<span class="code-snippet__string">"regulator-fixed"</span>;</span></code><code><span>  regulator-name =<span class="code-snippet__string">"vcc5v0_host"</span>;</span></code><code><span> <span class="code-snippet__comment">// regulator-boot-on; // 注释：取消开机强制供电</span></span></code><code><span> <span class="code-snippet__comment">// regulator-always-on; // 注释：取消永久供电，允许动态开关</span></span></code><code><span>  regulator-min-microvolt = &lt;<span class="code-snippet__number">5000000</span>&gt;;</span></code><code><span>  regulator-max-microvolt = &lt;<span class="code-snippet__number">5000000</span>&gt;;</span></code><code><span>  enable-active-high;</span></code><code><span>  gpio = &lt;&amp;gpio2 <span class="code-snippet__variable">RK_PB5</span><span class="code-snippet__variable">GPIO_ACTIVE_HIGH</span>&gt;;</span></code><code><span>  vin-supply = &lt;&amp;vcc5v0_device&gt;;</span></code><code><span>  pinctrl-names =<span class="code-snippet__string">"default"</span>;</span></code><code><span>  pinctrl-<span class="code-snippet__number">0</span>= &lt;&amp;usb_host_pwren&gt;;</span></code><code><span>};</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">修改后效果</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">插入</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">线时，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">vcc5v0_host</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">按需开启供电，</span></span></font><span><span style="background-color:#ffffff;">PD</span></span><font face="等线"><span><span style="background-color:#ffffff;">协议正常协商；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">日志显示状态稳定进入</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">SRC_RE<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>Y</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（主机就绪），屏幕瞬间点亮，</span></span></font><span><span style="background-color:#ffffff;">DP</span></span><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>正常输出。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2. USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机：优化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">识别逻辑，兼容外接设备</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">针对代码逻辑疏漏，分两步优化（以</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">CaptureModule.java</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">为例）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">）注释原越界逻辑，新增遍历匹配</span></span></font></span></b></h4>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 修改后代码（CaptureModule.java）</span></span></code><code><span><span class="code-snippet__keyword">private</span>Facing<span class="code-snippet__title">getFacingFromCameraId</span><span class="code-snippet__params">(</span><span class="code-snippet__params"><span class="code-snippet__type">int</span></span><span class="code-snippet__params">cameraId)</span>{</span></code><code><span> <span class="code-snippet__keyword">try</span>{</span></code><code><span>   <span class="code-snippet__type">Came<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>raM</u></a>anager</span><span class="code-snippet__variable">manager</span><span class="code-snippet__operator">=</span>(CameraManager) mCameraActivity.getSystemService(Context.CAMERA_SERVICE);</span></code><code><span>    String[] cameraIds = manager.getCameraIdList(); <span class="code-snippet__comment">// 获取所有相机ID数组</span></span></code><code><span>   <span class="code-snippet__keyword">if</span>(cameraIds.length &gt;<span class="code-snippet__number">0</span>) {</span></code><code><span>     <span class="code-snippet__comment">// 兼容单相机场景</span></span></code><code><span>     <span class="code-snippet__keyword">if</span>(cameraIds.length ==<span class="code-snippet__number">1</span>) {</span></code><code><span>        Log.e(TAG,<span class="code-snippet__string">"Only one camera found."</span>);</span></code><code><span>       <span class="code-snippet__type">String</span><span class="code-snippet__variable">oneCameraId</span><span class="code-snippet__operator">=</span>manager.getCameraIdList()[<span class="code-snippet__number">0</span>];</span></code><code><span>       <span class="code-snippet__type">CameraCharacteristics</span><span class="code-snippet__variable">oneCharacteristics</span><span class="code-snippet__operator">=</span>manager.getCameraCharacteristics(oneCameraId);</span></code><code><span>       <span class="code-snippet__type">int</span><span class="code-snippet__variable">oneLensFacing</span><span class="code-snippet__operator">=</span>oneCharacteristics.get(CameraCharacteristics.LENS_FACING);</span></code><code><span>       <span class="code-snippet__keyword">return</span>(oneLensFacing == CameraCharacteristics.LENS_FACING_BACK) ? Facing.BACK : Facing.FRONT;</span></code><code><span>      }</span></code><code><span>     <span class="code-snippet__comment">// 遍历匹配所有相机，包括USB外接相机</span></span></code><code><span>     <span class="code-snippet__keyword">for</span>(String idStr : cameraIds) {</span></code><code><span>       <span class="code-snippet__type">CameraCharacteristics</span><span class="code-snippet__variable">characteristics</span><span class="code-snippet__operator">=</span>manager.getCameraCharacteristics(idStr);</span></code><code><span>       <span class="code-snippet__type">int</span><span class="code-snippet__variable">lensFacing</span><span class="code-snippet__operator">=</span>characteristics.get(CameraCharacteristics.LENS_FACING);</span></code><code><span>       <span class="code-snippet__keyword">if</span>(lensFacing == cameraId) { <span class="code-snippet__comment">// 匹配镜头朝向，识别USB相机</span></span></code><code><span>         <span class="code-snippet__keyword">return</span>(lensFacing == CameraCharacteristics.LENS_FACING_BACK) ? Facing.BACK : Facing.FRONT;</span></code><code><span>        }</span></code><code><span>      }</span></code><code><span>    }</span></code><code><span>  }<span class="code-snippet__keyword">catch</span>(CameraAccessException e) {</span></code><code><span>    e.printStackTrace();</span></code><code><span>    Log.e(TAG,<span class="code-snippet__string">"find camera facing fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a> !!!"</span>);</span></code><code><span>   <span class="code-snippet__keyword">return</span>Facing.BACK;</span></code><code><span>  }</span></code><code><span> <span class="code-snippet__keyword">return</span>Facing.BACK;</span></code><code><span>}</span></code></pre>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">）同步更新媒体配置，匹配相机分辨率</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机可能支持更高分辨率（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1080p</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），需修改</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">media_profiles_default.xml</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，新增对应编码配置：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment"/></span></code><code><span><span class="code-snippet__comment"/></span></code><code><span><span class="code-snippet__tag">&lt;</span><span class="code-snippet__tag"><span class="code-snippet__name">EncoderProfile</span></span><span class="code-snippet__tag"/><span class="code-snippet__tag"><span class="code-snippet__attr">quality</span></span><span class="code-snippet__tag">=</span><span class="code-snippet__tag"><span class="code-snippet__string">"1080p"</span></span><span class="code-snippet__tag"/><span class="code-snippet__tag"><span class="code-snippet__attr">fileFormat</span></span><span class="code-snippet__tag">=</span><span class="code-snippet__tag"><span class="code-snippet__string">"mp4"</span></span><span class="code-snippet__tag"/><span class="code-snippet__tag"><span class="code-snippet__attr">duration</span></span><span class="code-snippet__tag">=</span><span class="code-snippet__tag"><span class="code-snippet__string">"30"</span></span><span class="code-snippet__tag">&gt;</span></span></code><code><span> <span class="code-snippet__tag">&lt;</span><span class="code-snippet__tag"><span class="code-snippet__name">Video</span></span><span class="code-snippet__tag"/><span class="code-snippet__tag"><span class="code-snippet__attr">codec</span></span><span class="code-snippet__tag">=</span><span class="code-snippet__tag"><span class="code-snippet__string">"h264"</span></span></span></code><code><span>     <span class="code-snippet__attr">bitRate</span>=<span class="code-snippet__string">"6000000"</span> //<span class="code-snippet__attr">码率适配1080p清晰度</span></span></code><code><span>     <span class="code-snippet__attr">width</span>=<span class="code-snippet__string">"1920"</span></span></code><code><span>     <span class="code-snippet__attr">height</span>=<span class="code-snippet__string">"1080"</span></span></code><code><span>     <span class="code-snippet__attr">frameRate</span>=<span class="code-snippet__string">"30"</span>/&gt; <span class="code-snippet__comment"/></span></code><code><span> <span class="code-snippet__tag">&lt;</span><span class="code-snippet__tag"><span class="code-snippet__name">Audio</span></span><span class="code-snippet__tag"/><span class="code-snippet__tag"><span class="code-snippet__attr">codec</span></span><span class="code-snippet__tag">=</span><span class="code-snippet__tag"><span class="code-snippet__string">"aac"</span></span></span></code><code><span>     <span class="code-snippet__attr">bitRate</span>=<span class="code-snippet__string">"128000"</span></span></code><code><span>     <span class="code-snippet__attr">sampleRate</span>=<span class="code-snippet__string">"44100"</span></span></code><code><span>     <span class="code-snippet__attr">channels</span>=<span class="code-snippet__string">"1"</span>/&gt;</span></code><code><span><span class="code-snippet__tag"><span class="code-snippet__tag"><span class="code-snippet__name">EncoderProfile</span></span><span class="code-snippet__tag">&gt;</span></span></span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">修改后效果</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：外接</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机可被正确识别，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1080p</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">分辨率下预览、拍照、录像均正常，无黑屏或闪退。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">四、调试通用思路：</span></span></font><span><span style="background-color:#ffffff;">3</span></span><font face="等线"><span><span style="background-color:#ffffff;">步定位法，适用于所有</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">平台</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">从本次调试经验中，可总结出</span></span></font><span><span style="background-color:#ffffff;">RK3576</span></span><font face="等线"><span><span style="background-color:#ffffff;">（及同类</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">平台）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB/DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">调试的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">步定位法</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，遇到类似问题可直接复用：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">查日志：锁定异常核心</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Type-C/USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">问题</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：查看</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/kernel/debug/usb/tcpm-xxx/log</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">状态）、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">dmesg | grep usb</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备枚举）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">相机问题</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：查看</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">logcat | grep Camera</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（相机应用日志）、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">v4l2-ctl --list-devices</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">相机节点是否存在）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">排硬件：先排除物理故障</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">更换</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>配件</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">线需支持</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP Alt Mode</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机需符合</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">UVC</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">标准；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">测硬件供电：用<a href="https://www.elecfans.com/v/tag/796/" target="_blank"><u>万用表</u></a>测量</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">VBUS</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">引脚（正常应为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">5V</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），排除供电硬件损坏。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">改配置：聚焦时序与逻辑</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Type-C/USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">供电</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：避免设备树中</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-boot-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">regulator-always-on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">干扰动态时序；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">代码逻辑</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：兼容</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">单设备</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">多设备</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">场景，通过遍历匹配硬件参数（如相机</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">LENS_FACING</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><span><span style="background-color:#ffffff;">USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PID/VID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">写在最后</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">本次调试中，</span></span></font><span><span style="background-color:#ffffff;">Type-C</span></span><font face="等线"><span><span style="background-color:#ffffff;">转</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DP</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">仅通过注释两行冗余配置解决，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">相机仅通过优化识别逻辑修复</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">这说明<a href="https://bbs.elecfans.com/group_1121" target="_blank"><u>嵌入式</u></a>开发中，很多硬件问题并非源于硬件故障，而是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置冗余</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">逻辑疏漏</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果你的</span></span></font><span><span style="background-color:#ffffff;">RK3576</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备也遇到类似问题，不妨先按</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">日志定位</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">硬件排查</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置优化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的步骤尝试，大部分问题都能通过精准修改解决。你在调试中还遇到过哪些</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">USB/DP/Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的奇葩问题？欢迎在评论区分享，一起交流避坑技巧！</span></span></font></span></p>
	
		<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[瑞芯微Camera调试避坑指南：从Sensor到MIPI的常见问题全解析]]></title>    <link>https://www.elecfans.com/d/7401435.html</link>    <guid>https://www.elecfans.com/d/7401435.html</guid>    <pubDate>2026-02-02 17:28:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		<b><font face="等线"><span style="font-family:Arial;font-size:11pt;"><span style="background-color:rgb(255,255,255);font-weight:normal;">在<a href="https://bbs.elecfans.com/group_640" target="_blank"><u>智能硬件</u></a>领域，</span></span></font><span><span style="background-color:rgb(255,255,255);font-weight:normal;">Camera</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">模块是安防监控、车载影像、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>的核心组件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">但调试过程中，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">“<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">不通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">画面偏绿</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">”“MI<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">数据采不到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);font-weight:normal;">等问题往往让<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>头大。</span></span></font></b></h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">今天这篇文章，基于</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>（</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）官方</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Camera Ex<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>rnal FAQ</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">V2.1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，梳理从</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始化到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">传输、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">处理的全链路常见问题，附带现象分析与分平台解决方案，帮你少走弯路，快速定位问题！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试：先解决</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">源头</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Camera</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的核心是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始化或输出异常，后续链路再完美也无用。以下是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">4</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">类高频</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题的速解方案（适配瑞芯微</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RV1108/RV1126/RK356X</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等平台）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最基础：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor I2C</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">不通，提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“NO <a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a>K”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：软件日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“I2C NO ACK”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">无法被识别。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：硬件供电</span></span></font><span><span style="background-color:rgb(255,255,255);">/</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时序异常，或软件配置不匹配。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤（按优先级）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件输入：确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AVDD/DVDD/DOVDD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>是否符合规格，复位脚</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">待机脚电平是否正确；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查</span></span></font><span><span style="background-color:rgb(255,255,255);">I2C</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件：上拉电平是否与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DOVDD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">匹配（避免</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3.3V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">上拉接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.8V DOVDD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MCLK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">幅度是否正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查主控配置：确认</span></span></font><span><span style="background-color:rgb(255,255,255);">I2C</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通道是否正确，设备地址是否匹配，尝试降低</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SCL</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">频率（过高会导致<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>质量差）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">特殊情况：部分</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">不支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“I2C Repeat start”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需在驱动中关闭该功能。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最影响体验：曝光调整时画面闪烁（以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">OV2710</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：环境亮度骤变时，画面低概率闪烁，但最终曝光能收敛（亮度和速度正常）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关键原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：曝光时间与增益的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">生效帧不同步</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”——OV2710</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的曝光时间在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">N</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">帧设置、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">N+2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">帧生效，而增益在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">N</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">帧设置、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">N+1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">帧生效，两者变化趋势相反时就会闪。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">分平台解决方案</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RV1108</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a> <a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：在</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动中通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">exposure_valid_frame</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">定义生效帧数，参考《</span></span></font><span><span style="background-color:rgb(255,255,255);">CIF_ISP11_Driver_User_Manual</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">》，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">已优化间隔设置；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">其他平台（</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/group_360" target="_blank"><u>Android</u></a> 9.0/Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：升级</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">camera_engine_rkisp</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">至</span></span></font><span><span style="background-color:rgb(255,255,255);">v2.0.0+</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，按手册配置生效时序；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">旧系统（</span></span></font><span><span style="background-color:rgb(255,255,255);">Android 8.1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">及以前）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">IsiExposureControlIss</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">函数中，给曝光时间与增益的设置加</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">帧率对应的延时</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最直观：预览画面偏色（偏红</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">偏绿）</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">情况</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：整体均匀偏红</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：画面蒙一层淡红，色卡色调正常，遮黑后</span></span></font><span><span style="background-color:rgb(255,255,255);">Raw</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">图黑电平异常。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出黑电平与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">校正值不匹配，或数据位宽压缩（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">A-Law</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>）导致线性失真。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测</span></span></font><span><span style="background-color:rgb(255,255,255);">Raw</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">图黑电平：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ON2 Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8bit=10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10bit=42</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">OV Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8bit=[3,4]</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IMX327</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10bit=60</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">12bit=240</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），按规格配置<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">关闭压缩功能：如</span></span></font><span><span style="background-color:rgb(255,255,255);">AR0144</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需将</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">R0x31D0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font><span><span style="background-color:rgb(255,255,255);">0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">A-law</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">压缩，确保数据线性化。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">情况</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：镜像</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">翻转后偏色（以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">GC2375</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：配置</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mirror/flip</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">后偏色，</span></span></font><span><span style="background-color:rgb(255,255,255);">Raw</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">图</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Bayer</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">顺序异常。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：镜像后</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Bayer</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">顺序变化（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">BGGR→GBRG</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），但</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">未同步更新。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">用宏定义配置镜像：避免直接改寄存器，如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">#define GC2375_MIRROR_NORMAL</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">更新驱动</span></span></font><span><span style="background-color:rgb(255,255,255);">Bayer</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">顺序：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RV1108</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">改</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">struct ov_camera_module_config.frm_fmt.code</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，其他平台改</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">IsiSensorCaps_t.BayerPatttern</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最隐蔽：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MCLK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟幅度异常（仅</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">200mV</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">或无输出）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：<a href="https://m.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>测</span></span></font><span><span style="background-color:rgb(255,255,255);">MCLK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">幅度不足（正常需符合</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor Spec</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），或无时钟信号。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：主控</span></span></font><span><span style="background-color:rgb(255,255,255);">IO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复用配置错、电源域未供电，或软件与硬件电源域不匹配。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查</span></span></font><span><span style="background-color:rgb(255,255,255);">IO</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">复用：按平台手册确认</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">CIF_CLKOUT</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚配置（如</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3326</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">CIF_CLKO_MO</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font><span><span style="background-color:rgb(255,255,255);">GPIO2_B3_d</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">查电源域：</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3326</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">CIF_CLKO_MO</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">依赖</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">VCCIO3</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若硬件接</span></span></font><span><span style="background-color:rgb(255,255,255);">1.8V</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">则在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中配置</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">vccio3-supply = &lt;&amp;vcc1v8_dvp&gt;</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3399</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">APIO2_VDD</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">接</span></span></font><span><span style="background-color:rgb(255,255,255);">3.0V</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">则设</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">bt656-supply = &lt;&amp;vcc_3v0&gt;</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、</span></span></font><span><span style="background-color:rgb(255,255,255);">MIPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>：数据传输的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">命脉</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">与主控之间的核心链路，一旦出错会导致</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">花屏</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">采不到数据</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“FIFO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">溢出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。先明确</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误分类，再按优先级排查！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先搞懂：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误分</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">级，排查有顺序</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">瑞芯微将</span></span></font><span><span style="background-color:rgb(255,255,255);">MIPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">链路层级</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分类，</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">必须先解决底层错误，再处理上层</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DPHY Level</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：物理层错误（如</span></span></font><span><span style="background-color:rgb(255,255,255);">SOT</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">False Control Error</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/csi/" target="_blank"><u>CSI</u></a>-2 Controller Level</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>错误（如</span></span></font><span><span style="background-color:rgb(255,255,255);">CsiFifoOverflow</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">CSI-2 Packet/Protocol Level</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：数据包</span></span></font><span><span style="background-color:rgb(255,255,255);">/</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">协议错误（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CRC/ECC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Er<a href="https://www.elecfans.com/tongxin/rf/" target="_blank"><u>rF</u></a><a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>eSync</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若日志无明确错误，但采不到数据，先查</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DPHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态寄存器</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font><span><span style="background-color:rgb(255,255,255);">RV1126</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0xffb51c14</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），重点看：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">RxClkActiveHS</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">1=CLK Lane</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">有有效高速时钟；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Stopstat<a href="https://www.elecfans.com/v/tag/1053/" target="_blank"><u>eDa</u></a>ta</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">0/1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">交替</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">= Data Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常传输（高速与停止状态切换）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">RxUlpsExc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">0=Data Lane</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">未进入超低功耗（高速传输时需为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">高频场景：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">采不到数据，且无报错</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">I2C</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通讯正常，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">已输出数据，但主控端无</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误提示，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">VICAP/ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">未采集到数据</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先查</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">RxClkActiveHS</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若为</span></span></font><span><span style="background-color:rgb(255,255,255);">0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：用示波器测</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CLK Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否有高速时钟，检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Stream on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，硬件连接是否断连；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若为</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">StopstateData</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若某</span></span></font><span><span style="background-color:rgb(255,255,255);">Lane</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">无</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0/1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">变化，测该</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">信号幅度是否符合</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DPHY Spec</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">LP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">态</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.2V</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">HS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">态</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">200mV</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">特殊情况（</span></span></font><span><span style="background-color:rgb(255,255,255);">CLK Lane Con<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>nue</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模式）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">UlpsActiveNotClk</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">为</span></span></font><span><span style="background-color:rgb(255,255,255);">0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CLK Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">进入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ULPS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需排查上电波形是否有异常的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">LP10→LP00</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（导致误触发</span></span></font><span><span style="background-color:rgb(255,255,255);">ULPS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若</span></span></font><span><span style="background-color:rgb(255,255,255);">SOT</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">序列（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">LP11→LP01→LP00→HS-0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）发送早于</span></span></font><span><span style="background-color:rgb(255,255,255);">DPHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">初始化，需让</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">在主控</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DPHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">就绪后再输出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SOT</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">易错点：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">D-PHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Er<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rS</u></a>otHS/ErrSotSyncHS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“D-PHY Level Error: ErrsotHS/ErrSotSyncHS”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，画面花屏或采不到数据。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">SOT</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（传输起始）时序不符合</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI Spec</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">HS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">接收稳定时间）配置错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">满足时序要求：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle &gt; Ths-prepare</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">40ns+4UI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle &lt; Ths-prepare + Ths-zero</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">145ns+10UI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">CLK Lane</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需提前</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8UI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">HS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">TCLK-PRE</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DPHY-I</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3326/RV1108</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">bitrate</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">选寄存器，如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.2<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>bps</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">4b'1100</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle=128UI</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DPHY-S</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3399/RK3288</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.3-1.5Gbps</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">4b'1100</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Ths-settle=63×received_<a href="https://m.hqchip.com/app/1729" target="_blank"><u>DDR</u></a>_clock</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">致命错：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CsiFifoOverflow</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">FIFO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">溢出）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“CSI-2 Controller Error: CSIFIFOOVERFLOW”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，数据丢失。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">吞吐率跟不上</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">传输速率，或多</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">数据时延不同步。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先查</span></span></font><span><span style="background-color:rgb(255,255,255);">DPHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误：若有底层错误（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SOT</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误），优先解决；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证速率匹配：按公式计算（保守值）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">(Hz) × 80% &gt; (MIPI bitrate × Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">数</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">) / 12</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">例：</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时钟</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">500MHz</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI 1Gbps×2Lane → 500e6×0.8=400e6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">(1e9×2)/12≈166e6</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，满足要求；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">多</span></span></font><span><span style="background-color:rgb(255,255,255);">Lane</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">同步：用示波器测各</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Data Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SOT</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时序，时延差需</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">≤1UI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，否则调整硬件走线。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">与数据传输：避免</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">最后一公里</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常后，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">处理异常会导致</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">丢帧</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">画质差</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，以下是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">类核心问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1. PIC_SIZE_ERROR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：分辨率不匹配</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“CIF_ISP_PIC_SIZE_ERROR”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">采集数据量与设置分辨率不符。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查步骤</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先查</span></span></font><span><span style="background-color:rgb(255,255,255);">MIPI/DPHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误：若有则优先解决（如数据传输不完整）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证分辨率设置：确保</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">采集分辨率</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">≤ Sensor</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出分辨率</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1920×1080</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">不能设</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2560×1440</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">后级限制：若前两步正常，排查</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">输出链路（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DDR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">带宽不足），参考</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“Data loss”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决方案。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2. Data loss</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：数据丢失（最常见）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题现象</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“CIF_ISP_DATA_LOSS”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，预览闪粉屏</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">绿屏，或录制丢帧。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">原因</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内部</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Latency FIFO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">溢出，多因</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DDR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">速率不足或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">AXI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先级低。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">优化</span></span></font><span><span style="background-color:rgb(255,255,255);">DDR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：提高</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DDR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">频率，禁用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DDR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">变频（传输中变频会导致卡顿）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">提高</span></span></font><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先级：在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中设</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ISP AXI Master</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先级最高（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rockchip,priority=&lt;33&gt;</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">增加</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor H-blanking</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时间：减少数据传输压力；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">旧系统修复：</span></span></font><span><span style="background-color:rgb(255,255,255);">Android 8.1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">及以前版本，升级</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">kernel-3.10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动至</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">v0.0x26.0+</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，解决绿屏无法恢复问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、调试必备：工具与参考文档</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件工具</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：示波器（测</span></span></font><span><span style="background-color:rgb(255,255,255);">MCLK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI Lane</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">波形）、逻辑分析仪（抓</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">I2C</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时序）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">软件工具</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：查看</span></span></font><span><span style="background-color:rgb(255,255,255);">MIPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误寄存器（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3399 ISP0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">0xff911c0c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、</span></span></font><span><span style="background-color:rgb(255,255,255);">DPHY</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态寄存器（参考文档附录</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">G</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">官方手册</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">《</span></span></font><span><span style="background-color:rgb(255,255,255);">CIF_ISP11_Driver_User_Manual</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">》（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RV1108</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">《</span></span></font><span><span style="background-color:rgb(255,255,255);">RKISP_Driver_User_Manual</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">》（其他平台）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">《</span></span></font><span><span style="background-color:rgb(255,255,255);">mipi_D-PHY_specification_v2.1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">》《</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">mipi_CSI-2_specification_v2.0</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">》（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">标准）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">最后：调试的核心逻辑</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Camera</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题看似杂乱，实则有章可循</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">先定位层级（</span></span></font><span><span style="background-color:rgb(255,255,255);">Sensor→MIPI→ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），再抓关键信号（电源、时钟、数据）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">层：先确保供电、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">I2C</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MCLK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">MIPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">层：先查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DPHY</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">状态，再按错误级别排查；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ISP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">层：先解决前级数据传输问题，再优化速率与优先级。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">你在</span></span></font><span><span style="background-color:rgb(255,255,255);">Camera</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试中遇到过哪些</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">奇葩</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">问题？比如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正对太阳出现纵向黑条</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SC410<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“HDR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">低光下带状条纹</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IMX415</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）？欢迎在评论区分享，一起避坑！</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[云里物里全新推出MSD01 ToF系列测距传感器]]></title>    <link>https://www.elecfans.com/d/7635444.html</link>    <guid>https://www.elecfans.com/d/7635444.html</guid>    <pubDate>2026-02-02 17:29:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	现代仓储管理中，如何实时、精准地掌握货位余量，避免空间浪费或补货延迟？在开放式办公区，如何智能感知工位占用状态，从而优化空间配置与能源消耗？这些看似细微的管理痛点，实则是影响运营效率与成本的关键环节。</p>
<p style="text-indent:2em;">
	直面用户核心需求，云里物里全新推出MSD01 ToF系列测距<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>，用于仓储管理、余量检测和占用监测，兼具<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、低功耗、多场景适配等优秀特性，旨在将精准的空间数据转化为可执行的效率与成本优势，驱动精细化管理决策。</p>
<p style="text-indent:2em;">
	01双技术集成 ToF+<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>R&gt;2</p>
<p style="text-indent:2em;">
	云里物里MSD01 ToF系列是低功耗<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>测距传感器，该系列拥有MSD01-D11 ToF测距&amp;余量传感器和MSD01-D22 ToF占用传感器两款产品，广泛适用于仓储管理、余量检测、办公工位占用监测、智慧建筑等多种应用场景。</p>
<p style="text-indent:2em;">
	该产品能够精准感知的秘诀在于搭载了先进ToF（飞行时间）测距技术。该技术通过计算光脉冲的飞行时间，能稳定输出毫米级精度的距离信息，构成了MSD01-D11型号实现非接触式余量检测的可靠基石。</p>
<p style="text-indent:2em;">
	而对于更为复杂的占用判断场景，MSD01-D22创新性地融合了ToF与PIR（被动<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>）双重技术，既能通过ToF精确感知物体存在与距离变化，又能借助PIR敏锐捕捉生物红外特征，从而在办公、卫生间等实际场景中，实现对“人员状态”的精准判别，有效减少误报。</p>
<p style="text-indent:2em;">
	02性能优势 铸就精准高效感知</p>
<p style="text-indent:2em;">
	基于先进的ToF与融合感知技术，MSD01系列在检测精度、适应性、续航及隐私保护等方面均表现出色，其核心优势具体体现在以下五个维度：</p>
<p style="text-indent:2em;">
	毫米级测距精度</p>
<p style="text-indent:2em;">
	凭借先进的ToF技术，MSD01实现了毫米级(±10mm)测距精度、超高识别准确率和快速响应能力，确保在智能库存盘点、工位或洗手间占用监测、粮仓料位检测等场景中，提供实时可靠的距离与存在检测。</p>
<p style="text-indent:2em;">
	超宽检测范围</p>
<p style="text-indent:2em;">
	MSD01具备从20mm至5m的超宽检测范围，超越市面多数同类传感器。设备支持短距模式(≤2.5m)与长距模式(≤5m)自由切换，帮助用户灵活平衡功耗与检测性能。适用于顶装部署，或是对覆盖范围有较高要求的大型空间。</p>
<p style="text-indent:2em;">
	150°旋转探头，自由调节</p>
<p style="text-indent:2em;">
	搭载150°可调节探头，随需而动。例如在狭窄通道、倾斜表面、不规则布局等复杂环境，可以根据安装环境任意调整角度，确保最佳的检测效果。</p>
<p style="text-indent:2em;">
	持久续航，支持长效部署</p>
<p style="text-indent:2em;">
	传感器内置2700mAh的可更换<a href="https://m.elecfans.com/v/tag/2692/" target="_blank"><u>锂电池</u></a>，采用先进的低功耗<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，在准确检测的同时，最大限度地延长设备的续航寿命(默认配置下可达5年以上)，完美适配智慧楼宇、仓库等场景的长期低维护部署需求。</p>
<p style="text-indent:2em;">
	无摄像头，守护隐私安全</p>
<p style="text-indent:2em;">
	MSD01无需摄像头即可进行检测，适用于卫生间、会议室、办公室等隐私敏感场景，在实现精确监控的同时，充分保障个人隐私。</p>
<p style="text-indent:2em;">
	03降本增效 空间智慧管理升级</p>
<p style="text-indent:2em;">
	基于强大的精准感知能力，MSD01系列在实际部署中展现出全面而可靠的产品特性，为各行业场景提供高性能、高适配性的解决方案。</p>
<p style="text-indent:2em;">
	仓储余量检测</p>
<p style="text-indent:2em;">
	利用 ToF 传感器对货架剩余空间进行精准测量，辅助库存管理，防止库存过多或空间利用不足；同时可及时检测货物是否被取走或剩余数量的变化。</p>
<p style="text-indent:2em;">
	工位占用检测</p>
<p style="text-indent:2em;">
	实时监测办公工位的使用情况，自动判断工位上是否有人，提高办公空间的管理效率。</p>
<p style="text-indent:2em;">
	图书馆座位占用检测</p>
<p style="text-indent:2em;">
	可在不侵犯隐私的前提下检测座位的占用状态，实现座位可用情况的实时展示，减少占座现象，提高图书馆及其他共享学习空间的空间利用率。</p>
<p style="text-indent:2em;">
	卫生间隔间占用检测</p>
<p style="text-indent:2em;">
	可在不侵犯隐私的前提下检测隔间的占用状态，帮助用户避免不必要的等待，支持实时隔间可用状态显示，并提升公共场所或高人流环境中的卫生间使用效率。</p>
<p style="text-indent:2em;">
	新零售智能陈列</p>
<p style="text-indent:2em;">
	自动识别货架缺货情况，定期进行产品布局检查与识别，监控产品位置变动情况，并分析产品热力图用于库存管理与营销优化。</p>
<p style="text-indent:2em;">
	距离检测</p>
<p style="text-indent:2em;">
	在各种工业和商业场景中，用于精确测量物体与传感器之间的距离。例如：通过检测距离来判断停车位内是否有车辆停放。</p>
<p style="text-indent:2em;">
	随着智能化进程的加速，对于人、物、空间的无感化精准感知与数字化管理需求正日益凸显，并将在更多场景中持续深化。云里物里始终聚焦这一趋势，持续投入研发与创新，致力于用更先进、更可靠的感知产品与解决方案，赋能千行百业的智能化转型。</p>]]></description></item><item>    <title><![CDATA[晶能半导体首获EcoVadis可持续发展铜牌认证]]></title>    <link>https://www.elecfans.com/d/7635445.html</link>    <guid>https://www.elecfans.com/d/7635445.html</guid>    <pubDate>2026-02-02 17:31:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	来源：晶能<a href="https://www.elecfans.com/v/tag/2800/" target="_blank"><u>光电</u></a></p>
<p style="text-indent:2em;">
	近日，晶能光电子公司——晶能<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>在全球权威企业可持续发展评级机构EcoV<a href="https://www.elecfans.com/tags/adi/" target="_blank"><u>adi</u></a>s的评估中，首次参评即荣获铜牌<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>，在过去12个月参与过 EcoV<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>is 评估的公司中，晶能半导体跻身于全球前35%。这一成绩标志着晶能光电在可持续发展管理体系的建设与实践获得了国际权威标准的初步认可，为公司可持续绩效的提升奠定了坚实基础。</p>
<p style="text-indent:2em;">
	作为全球规模最大、最具公信力的企业可持续发展评价体系，EcoVadis覆盖100+个行业、180+个国家及15万+家企业，其评估涵盖环境、劳工与人权、商业道德及可持续采购四大核心维度，对企业进行严格、透明且国际通行的ESG表现评估。该评级结果在国际供应链合作中具有重要参考价值，是企业可持续发展水平的重要标尺。</p>
<p style="text-indent:2em;">
	此次是晶能半导体首次参与EcoVadis评估，面对覆盖多维度的严格考核，公司凭借长期可持续发展战略的深耕细作，顺利通过各项评估，并最终获得铜牌认证。这份认证不只意味着一项荣誉，它更标志着公司“多发光、少发热，为利益相关者创造价值”的核心价值观已融入扎实的管理体系与日常实践。它生动诠释了晶能光电在追求商业成功的同时，始终致力于成为推动行业可持续发展的长期伙伴的庄重承诺。</p>
<p style="text-indent:2em;">
	通过此次EcoVadis的铜牌认证，晶能光电向各界展现了其在可持续发展领域对标国际标准的持续努力，从而为加强全球伙伴关系、开拓更丰富的市场空间提供了有力支撑。未来，晶能光电将以此次评估为新的起点，持续完善ESG管理，推动公司在绿色运营、员工关怀、商业道德与供应链责任等领域实现更卓越的表现。</p>]]></description></item><item>    <title><![CDATA[康谋携aiSim亮相奇瑞-盖世供应链技术共创交流日，共探智驾新未来！]]></title>    <link>https://www.elecfans.com/d/7635481.html</link>    <guid>https://www.elecfans.com/d/7635481.html</guid>    <pubDate>2026-02-02 17:33:00</pubDate>    <description><![CDATA[<p/><p style="text-align:justify;"><img src="https://file1.elecfans.com//web3/M00/4A/5D/wKgZO2mAc0qAEoYXAAitiMa9vKY956.png" alt="2db76292-001a-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:justify;">2026年1月29日，由奇瑞汽车与盖世汽车联合主办的供应链技术共创交流日活动在芜湖凤鸣研创<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>圆满落幕。</p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(18,38,88);"><strong>康谋</strong></span>与<span style="color:rgb(18,38,88);"><strong>姐妹公司虹科</strong></span>、<span style="color:rgb(18,38,88);"><strong>德思特</strong></span>共同受邀参会，深度参与这场聚焦辅助驾驶、智能座舱、<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>领域的行业盛会。</p><p style="margin-left:0px;text-align:center;"><strong>活动回顾</strong></p><p style="margin-left:0px;text-align:justify;">活动现场，奇瑞股份有限公司副总裁、研发总院联席院长邬学斌，盖世汽车CEO周晓莺莅临致辞。众多行业领导、研发及采购<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>齐聚展台，围绕产品创新与技术应用展开热烈交流。</p><p style="text-align:justify;"><img src="https://file1.elecfans.com//web3/M00/4A/5D/wKgZO2mAc0qAOqWCAA2Geavcw-g620.png" alt="2dcb6274-001a-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:center;">现场交流图<br/></p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(18,38,88);"><strong>康谋</strong></span>本次重点展出<span style="color:rgb(18,38,88);"><strong><a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a><a href="https://m.hqchip.com/app/1522" target="_blank"><u>Sim</u></a>端到端智驾<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>软件</strong></span>。这款<span style="color:rgb(18,38,88);"><strong>全球首个通过功能安全ISO 26262 ASIL D最高<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a></strong></span>的<a href="https://www.elecfans.com/tags/自动驾驶/" target="_blank"><u>自动驾驶</u></a>仿真平台，凭借多项核心优势吸引了现场嘉宾的广泛关注。</p><p style="text-align:justify;"><img src="https://file1.elecfans.com//web3/M00/4A/5D/wKgZO2mAc0uAQQ7OAAxQ7swgz-M434.png" alt="2dddd35a-001a-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:center;">aiSim端到端智驾仿真软件（左）</p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(18,38,88);"><strong>aiSim</strong></span>拥有<span style="color:rgb(18,38,88);"><strong>高保真环境<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>能力</strong></span>，可精准复现暴雨、雪、大雾等复杂极端天气。它支持20+摄像头、10+雷达和10+激光雷达的<span style="color:rgb(18,38,88);"><strong>多<a href="https://www.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>仿真</strong></span>，提供<span style="color:rgb(18,38,88);"><strong>开放的<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K</strong></span>和<span style="color:rgb(18,38,88);"><strong>A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></strong></span>，能轻松融入各类测试工具链。</p><p style="margin-left:0px;text-align:justify;">同时，软件内置<span style="color:rgb(18,38,88);"><strong>丰富3D资产库</strong></span>，支持合成数据生成、<span style="color:rgb(18,38,88);"><strong>3DGS和Ne<a href="https://www.elecfans.com/tongxin/rf/" target="_blank"><u>RF</u></a></strong></span>生成场景，可充分满足自动驾驶系统开发、验证与测试的全流程需求。</p><p style="text-align:justify;"><img src="https://file1.elecfans.com//web3/M00/4A/5D/wKgZO2mAc0uAIdm2ABS6rDEfMas405.png" alt="2e1ab1da-001a-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:center;">现场交流图<br/></p><p style="margin-left:0px;text-align:justify;">现场康谋团队与现场客户就<span style="color:rgb(18,38,88);"><strong>aiSim</strong></span>的技术细节、应用场景及合作方向展开深入探讨，收获了众多行业伙伴的认可与关注。</p><p style="margin-left:0px;text-align:justify;">此次活动中，康谋不仅展示了在<span style="color:rgb(18,38,88);"><strong>智驾仿真领域</strong></span>的硬核实力，更借助奇瑞-盖世供应链技术共创交流日的平台，搭建起与行业上下游沟通的桥梁。</p><p style="margin-left:0px;text-align:justify;">未来，康谋将持续深耕自动驾驶<a href="https://www.elecfans.com/soft/data/27-29/" target="_blank"><u>仿真技术</u></a>，助力产业伙伴加速智能化转型升级！</p>]]></description></item><item>    <title><![CDATA[深铁物业公司领导一行莅临智行者科技参观调研]]></title>    <link>https://www.elecfans.com/d/7635455.html</link>    <guid>https://www.elecfans.com/d/7635455.html</guid>    <pubDate>2026-02-02 17:37:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，深圳地铁物业管理发展有限公司党委书记、董事长李湘枫率队莅临智行者参观调研。双方围绕深圳地铁“蜗小白”清洁<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>运营半年多来的成果展开深入交流，并就产品持续优化、智慧物业系统联动等议题进行了多方位探讨，共同表达了将该项目打造为全国轨道交通智慧清洁标杆的愿景。</p>
<p style="text-indent:2em;">
	深铁物业一行首先参观了智行者企业品牌展厅，全面了解了智行者的发展历程、技术体系与业务布局。作为中国领先的特种<a href="https://m.elecfans.com/v/tag/472/" target="_blank"><u>无人驾驶</u></a>解决方案提供商，智行者核心团队源自清华大学，已申请专利1200余件，并入选国家级专精特新“小巨人”企业。公司围绕“软件、硬件、数据”构建了完整的无人驾驶技术架构，并在公共安全、生活服务、智能出行等领域实现多项商业化落地，持续以“无人驾驶大脑”赋能千行百业。</p>
<p style="text-indent:2em;">
	随后，双方围绕深圳地铁运营项目展开专题汇报与交流。该项目自2025年启动，引入智行者“蜗小白”清洁机器人，覆盖深圳地铁2号线、8号线、20号线共30个站点。在实际运行中，智行者“蜗小白”展现出良好的环境适应性与运营稳定性，显著提升了地铁站的清洁效率与智能化管理水平，为乘客营造了更加整洁、舒适的出行环境。深圳地铁项目的稳步推进，是智行者“蜗小白”在交通枢纽场景商业化落地的重要里程碑。</p>
<p style="text-indent:2em;">
	在座谈中，智行者进一步介绍了面向地铁场景的产品持续优化方向，涵盖硬件适配升级、云控平台与智慧物业系统协同等方面，推动清洁运营管理体系向更智能、更集成、更高效的方向发展，全面支持深圳地铁构建现代化智慧清洁管理体系。</p>
<p style="text-indent:2em;">
	深铁物业领导对智行者“蜗小白”现阶段的运营成效予以充分认可与积极评价，并表达了双方合力共同打造全国轨道交通智慧清洁标杆的期待。双方达成共识，将在现有合作基础上，进⼀步探索产品升级、数据融通与场景拓展，持续推动智慧清洁方案在公共交通领域的规模化与深度应用。</p>
<p style="text-indent:2em;">
	展望未来，智行者将继续秉持“专业、安全、省心”的产品理念，与深铁物业紧密协作，共同推进智慧清洁标杆项目建设，进⼀步拓展双方在智慧物业及相关领域的合作深度，助力城市公共服务提质升级与可持续发展。</p>
<p style="text-indent:2em;">
	关于智行者</p>
<p style="text-indent:2em;">
	智行者成立于2015年，聚焦无人驾驶技术的研发及应用，是中国领先的特种无人驾驶解决方案提供商。公司核心团队主要来自清华大学汽车系，技术优势显著。已申请专利1200余件，并成功入选国家级专精特新小巨人企业、中国独角兽企业名单，已获得英诺、北汽、京东、顺为、百度、厚安（厚朴/<a href="https://www.hqchip.com/app/1378" target="_blank"><u>Arm</u></a>）、中信证券等多家知名机构的投资。</p>
<p style="text-indent:2em;">
	智行者的技术能力及产品能力均处于行业领先地位，完整打造了以软件、硬件、数据为核心的铁人三项，自主研发的无人驾驶技术已成功应用于公共安全、生活服务和智能出行等多个领域，逐步实现用无人驾驶解决方案构建智慧生活的企业愿景，已实现无人驾驶整机设备的批量化落地，商业化能力位于国内无人驾驶企业前列。</p>
<p style="text-indent:2em;">
	关于蜗小白</p>
<p style="text-indent:2em;">
	蜗小白是智行者在生活服务领域的重要子品牌，不仅是国内<a href="https://www.elecfans.com/tags/自动驾驶/" target="_blank"><u>自动驾驶</u></a>清洁车大规模量产的先行者，更在国内外清洁市场成绩斐然。自问世起，蜗小白已深入国内100余座城市及地区，与超3000个客户现场合作运营，累计清洁面积达数亿平方米，覆盖工业仓储、商综超市等众多场景，构建起全面跨行业、跨场景解决方案体系；在国际上，蜗小白已进军海外40余个国家及地区，稳步拓展版图，树立行业标杆，逐步彰显全球范围内的产品实力与应用价值。</p>]]></description></item><item>    <title><![CDATA[佑驾创新亮相2026湖南无人配送车场景应用与生态构建大会]]></title>    <link>https://www.elecfans.com/d/7635465.html</link>    <guid>https://www.elecfans.com/d/7635465.html</guid>    <pubDate>2026-02-02 17:39:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月31日，“2026湖南无人配送车场景应用与生态构建大会”在长沙盛大启幕。近百位来自政府部门、行业协会、物流企业及产业上下游的嘉宾齐聚一堂。本次大会由湖南省快递行业协会绿色环保专委会主办，佑驾创新（2431.HK）全程承办，聚焦无人配送车在智慧物流领域的创新应用、运营模式优化与生态协同构建，凝聚行业共识，共绘发展蓝图。</p>
<p style="text-indent:2em;">
	值得关注的是，生态大会上举行了多轮战略合作签约仪式，佑驾创新小竹无人车现场达成900台订单签约。此次签约不仅标志着小竹无人车成功实现在湖南全省各州市的全面覆盖与深度落地，更突破区域边界，完成了在山东、山西的战略布局与市场拓展，也充分印证了产品实力与市场认可度。</p>
<p style="text-indent:2em;">
	01跨区域布局再提速</p>
<p style="text-indent:2em;">
	小竹无人车入局山东、山西</p>
<p style="text-indent:2em;">
	会议伊始，湖南省邮政管理局党组成员、副局长杨恢俊致辞。杨恢俊指出，在<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>+行动深入实施背景下，无人车已成为湖南快递服务的新兴力量与新质生产力代表，湖南正通过政策赋能、场景开放推动无人配送与低空经济深度融合，形成业态升级的发展热潮；他同时围绕行业未来发展提出四大关键方向，即推进技术迭代、加强场景构建、深化制度创新、抓紧生态培育。</p>
<p style="text-indent:2em;">
	作为行业中的重要实践者、推动者，佑驾创新副总裁郭龙在活动现场分享了公司在无人物流领域的前沿解决方案与阶段性成果。郭龙强调，佑驾创新的技术护城河源于独特的数据闭环体系：“<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>迭代不在于人工的堆砌，而在于数据的驱动，我们打造的iGear数据工厂，能让交付后的车辆每一天比前一天更聪明。”</p>
<p style="text-indent:2em;">
	通过数据采集、大模型辅助标注、算力智能调度与百万公里级<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>测试，小竹无人车实现了厘米级感知定位精度，可从容应对小区窄路通行、绿荫遮挡识别等复杂场景。在商业化上，小竹目前已在深圳、长沙等地完成项目落地，累计斩获超千台订单。</p>
<p style="text-indent:2em;">
	在本次大会的签约仪式环节，佑驾创新与近十家合作伙伴达成战略合作，现场签约订单量达900台。其中，与湖南鸿途智行的深度携手，进一步巩固了小竹在湖南全省各州市的场景覆盖。而与山西智行智能、北京立诺通物流的战略签约，则标志着小竹无人车再次突破区域边界，将运营网络延伸至山东、山西等地，为全国化扩张按下“加速键”。</p>
<p style="text-indent:2em;">
	02生态协同筑壁垒</p>
<p style="text-indent:2em;">
	共绘无人配送产业新图景</p>
<p style="text-indent:2em;">
	无人物流的规模化，离不开产业链的协同发力。在大会高峰对话环节，来自政、企、协、研领域的嘉宾围绕无人车运营模式、政策导向、降本增效等核心议题，展开深度研讨，为行业生态构建贡献多元视角。</p>
<p style="text-indent:2em;">
	湖南省快递行业协会秘书长伍声扬直言行业现状：“技术先行但标准空白，我们需要构建国家强制标准、行业指导标准、企业特色标准的三级体系，让无人车发展有规可依。”他同时预判，技术革命将重塑行业格局，“无人车广泛应用后，同城配送、搬家等领域的传统服务形态大概率会被更高效的无人应用场景所替代，这是必须抓住的时代机遇”。</p>
<p style="text-indent:2em;">
	来自一线运营的湖南巷邮物流董事长尹华宣分享了实战心得，他表示无人车是做人不愿意做、做不了或重复做的事。目前湘潭的无人车单台车日配送量最高可达2500票，单件配送成本低至4分钱，较传统模式（1毛多）大幅下降。</p>
<p style="text-indent:2em;">
	北京立诺通物流总经理魏汝珍则用数据印证市场潜力：山东目前已落地5000台无人车，2026年有望提前达成1.5万台目标，城配、化工取样等场景市场需求十分旺盛。极兔速递湖南公司总经理唐义成从快递企业视角提出期待，认为无人车要进村入户的大规模应用，既要攻克村级复杂道路，也需理清全生命周期成本。</p>
<p style="text-indent:2em;">
	此次大会的成功举办，不仅见证了无人配送产业的加速崛起，更凝聚了政产学研用协同发力的强大合力，为行业高质量发展注入澎湃动能。</p>
<p style="text-indent:2em;">
	作为行业创新先锋，佑驾创新将积极发挥技术引领作用，携手产业链各方加速统一技术标准的制定与落地，推动政策协同与资源整合，与合作伙伴共建智慧物流生态圈，让高效、智能的配送服务惠及更多区域与用户。正如郭龙在高峰对话总结中所言：“无人配送的前景非常美好，但任重道远，需要行业各方在法规、政策、技术、运营、商业模式上共同探索。”</p>]]></description></item><item>    <title><![CDATA[德州仪器DIR9001-Q1：高性能数字音频接口接收器解析]]></title>    <link>https://www.elecfans.com/d/7635460.html</link>    <guid>https://www.elecfans.com/d/7635460.html</guid>    <pubDate>2026-02-02 17:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635460" value="https://file1.elecfans.com/web3/M00/4A/5D/wKgZO2mAb4qAE7nQAAfMhFTpQgM749.pdf"/><h1><a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>DIR9001-Q1：高性能数字音频<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a><a href="https://www.hqchip.com/app/1847" target="_blank"><u>接收器</u></a>解析</h1>
<p>在当今数字化<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>技术飞速发展的时代，数字音频接口接收器作为音频系统中的关键组件，其性能和功能直接影响着音频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的传输和处理质量。德州仪器（<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>xas Instruments）推出的DIR9001-Q1数字音频接口接收器，以其卓越的性能和丰富的功能，在汽车音频等领域展现出了强大的竞争力。本文将深入探讨DIR9001-Q1的特点、参数、应用及与前代产品的差异，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在音频设计中提供有价值的参考。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635460" target="_blank">dir9001-q1.pdf</a></p>
<h2>一、产品概述</h2>
<p>DIR9001-Q1是一款高度集成的数字音频接口接收器，集成了低抖动<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>恢复系统，能够接收28kHz至108kHz采样频率、24位数据字的双相编码信号。它符合IEC60958-3、JEITA CPR-1205、AES3、EBU tech3250等多种数字音频接口标准，可广泛应用于汽车音频主机、汽车音频外部<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>等领域。</p>
<h2>二、产品特性</h2>
<h3>2.1 时钟恢复与数据解码</h3>
<ul>
<li><strong>双相输入信号处理</strong>：能够从双相输入信号（如S/PDIF、EIAJ CP-1201、IEC60958、AES/EBU）中恢复时钟并解码数据，采样频率范围为28kHz至108kHz。</li>
<li><strong>低抖动恢复时钟</strong>：恢复的系统时钟抖动低至50ps，满足IEC60958-3的抖动容限要求，确保音频信号的稳定传输。</li>
<li><strong>可选恢复时钟</strong>：提供128fS、256fS、384fS、512fS多种可选的恢复系统时钟，以适应不同的应用需求。</li>
</ul>
<h3>2.2 音频数据输出格式</h3>
<p>支持24位I2S、MSB-Fi<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>t 24位左对齐、MSB-First 16位和24位右对齐等多种串行音频数据输出格式，方便与不同的音频处理设备进行接口。</p>
<h3>2.3 用户数据与通道状态输出</h3>
<p>能够输出与解码后的串行音频数据同步的用户数据和通道状态数据，便于对音频信号进行进一步的处理和分析。</p>
<h3>2.4 功能控制与<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>特性</h3>
<ul>
<li><strong>无需外部时钟解码</strong>：在不使用内部实际采样频率计算器时，解码操作无需外部时钟源或<a href="https://m.hqchip.com/app/850" target="_blank"><u>谐振器</u></a>，降低了系统成本。</li>
<li><strong>功能控制灵活</strong>：通过并行（硬件）方式进行功能控制，操作简单方便。</li>
<li><strong>宽工作温度范围</strong>：工作温度范围为-40°C至85°C，适用于汽车等恶劣环境。</li>
<li><strong>单电源供电</strong>：采用3.3V（2.7V至3.6V）单电源供电，降低了电源设计的复杂度。</li>
<li><strong>5V容忍数字输入</strong>：数字输入引脚具有5V容忍能力，增强了与其他设备的兼容性。</li>
</ul>
<h2>三、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数</h2>
<h3>3.1 绝对最大额定值</h3>
<ul>
<li><strong>电源电压</strong>：VCC和VDD的电源电压范围为-0.3V至4V，电源电压差±0.1V。</li>
<li><strong>输入<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></strong>：除电源引脚外，任何引脚的输入电流限制为±10mA。</li>
<li><strong>环境温度</strong>：偏置下的环境温度范围为-40°C至125°C，存储温度范围为-55°C至150°C，结温为150°C。</li>
</ul>
<h3>3.2 推荐工作条件</h3>
<ul>
<li><strong>电源电压</strong>：<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电源电压VCC和<a href="https://www.elecfans.com/tags/数字电源/" target="_blank"><u>数字电源</u></a>电压VDD的推荐范围为2.7V至3.6V，典型值为3.3V。</li>
<li><strong>数字输入时钟频率</strong>：当X<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>连接到时钟源时，推荐频率为24.576MHz；当XTI连接到DGND时，无需时钟输入。</li>
<li><strong>数字输出负载<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a></strong>：除SCKO外，数字输出负载电容为20pF；SCKO的数字输出负载电容为10pF。</li>
<li><strong>工作温度</strong>：推荐工作温度范围为-40°C至85°C。</li>
</ul>
<h3>3.3 电气特性</h3>
<ul>
<li><strong>数字输入/输出特性</strong>：输入逻辑电平VIH和VIL符合CMOS和5V容忍TTL标准，输出逻辑电平VOH和VOL满足相应的驱动能力要求。</li>
<li><strong>双相信号输入和PLL</strong>：输入采样频率范围为28kHz至108kHz，PLL锁定时间从双相信号检测到错误释放小于100ms。</li>
<li><strong>恢复时钟和数据</strong>：串行音频数据宽度为16位或24位，恢复时钟频率根据不同的设置可达到3.584MHz至55.296MHz。</li>
<li><strong>XTI源时钟</strong>：XTI源时钟频率可选24.576MHz，频率精度为±100ppm，占空比为45%至55%。</li>
<li><strong>电源和电源电流</strong>：电源电流在不同工作条件下为6mA至12.4mA，功耗为40mW至68mW。</li>
</ul>
<h2>四、引脚分配与功能</h2>
<h3>4.1 引脚分配</h3>
<p>DIR9001-Q1采用28引脚<a href="https://www.hqchip.com/app/1593" target="_blank"><u>TSS</u></a>OP封装，引脚间距为0.65mm。各引脚具有不同的功能，包括音频数据输出、时钟输出、电源、接地、控制信号输入等。</p>
<h3>4.2 引脚功能</h3>
<ul>
<li><strong>音频相关引脚</strong>：AUDIO、COUT、UOUT等引脚用于输出音频数据、通道状态数据和用户数据。</li>
<li><strong>时钟相关引脚</strong>：SCKO、BCKO、LRCKO等引脚用于输出系统时钟、音频数据位时钟和音频数据锁存使能信号。</li>
<li><strong>控制相关引脚</strong>：CKSEL、FMT0、FMT1、PSCK0、PSCK1等引脚用于选择时钟源、音频数据输出格式和PLL源时钟频率。</li>
<li><strong>复位与错误检测引脚</strong>：RST用于复位控制，ERROR用于指示内部PLL或数据奇偶校验错误。</li>
</ul>
<h2>五、工作模式与时钟源选择</h2>
<h3>5.1 工作模式</h3>
<p>DIR9001-Q1具有PLL模式、XTI模式和AUTO模式三种工作模式，通过CKSEL引脚进行选择。</p>
<ul>
<li><strong>PLL模式</strong>：用于解调双相输入信号，始终输出PLL源时钟。</li>
<li><strong>XTI模式</strong>：作为<a href="https://www.elecfans.com/tags/时钟发生器/" target="_blank"><u>时钟发生器</u></a>，始终输出XTI源时钟，适用于为外围设备提供时钟。</li>
<li><strong>AUTO模式</strong>：自动选择时钟源，输出源取决于ERROR引脚的状态。</li>
</ul>
<h3>5.2 时钟源选择</h3>
<ul>
<li><strong>PLL时钟源</strong>：由内置PLL（包括VCO）产生，频率可选128fS、256fS、384fS、512fS，在锁定状态下与双相输入信号同步，解锁状态下为自由运行时钟。</li>
<li><strong>XTI时钟源</strong>：可选24.576MHz的谐振器或外部时钟源，用于为外围设备提供时钟和作为内部实际采样频率计算器的参考时钟。</li>
<li><strong>时钟源选择方法</strong>：通过CKSEL引脚的电平选择输出时钟源，CKSEL = L用于从双相输入信号中恢复时钟和解码数据，CKSEL = H用于输出XTI源时钟。</li>
</ul>
<h2>六、数据输出格式与处理</h2>
<h3>6.1 解码音频数据输出格式</h3>
<p>支持16位MSB-First右对齐、24位MSB-First右对齐、24位MSB-First左对齐和24位MSB-First I2S等多种解码音频数据输出格式，通过FMT[1:0]引脚进行选择。</p>
<h3>6.2 通道状态数据与用户数据输出</h3>
<p>能够输出与音频数据同步的通道状态数据和用户数据，分别通过COUT和UOUT引脚输出，并通过BFRAME引脚指示数据块的起始位置。</p>
<h3>6.3 错误处理</h3>
<ul>
<li><strong>PLL错误检测</strong>：PLL对双相编码规则丢失的数据和无法检测到前导码的数据作出解锁响应。</li>
<li><strong>奇偶校验错误处理</strong>：对于PCM数据，采用前一数据进行插值处理；对于非PCM数据，直接输出数据。</li>
<li><strong>错误输出引脚</strong>：ERROR引脚为数据错误和奇偶校验错误检测的逻辑或，其上升沿与CLKST同步，下降沿与LRCK同步。</li>
</ul>
<h2>七、实际采样频率计算</h2>
<p>DIR9001-Q1能够计算双相输入信号的实际采样频率，并通过FSOUT[1:0]引脚输出2位解码数据。使用该功能需要向XTI引脚提供24.576MHz的时钟源作为参考时钟，若XTI引脚连接到DGND，则不进行实际采样频率计算。</p>
<h2>八、与DIR1703的差异</h2>
<p>与DIR1703相比，DIR9001-Q1在多个方面进行了改进：</p>
<ul>
<li><strong>电源和温度范围</strong>：工作电源电压范围扩展至2.7V至3.6V，工作温度范围扩展至-40°C至85°C。</li>
<li><strong>封装与接口</strong>：采用TSSOP-28P封装，双相输入信号电平为5V容忍TTL电平。</li>
<li><strong>时钟恢复与抖动容限</strong>：采用传统PLL时钟恢复架构，符合IEC60958-3的抖动容限要求。</li>
<li><strong>采样频率与精度</strong>：可接受的采样频率范围扩展至28kHz至108kHz连续，IEC60958采样频率精度达到Level III（±12.5%）。</li>
<li><strong>其他差异</strong>：如环路<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>连接方式、XTI源时钟频率要求、BFRAME H周期等方面也有所不同。</li>
</ul>
<h2>九、总结</h2>
<p>DIR9001-Q1作为一款高性能的数字音频接口接收器，凭借其丰富的功能、宽工作温度范围、低抖动时钟恢复和灵活的输出格式等特点，为汽车音频等应用提供了可靠的解决方案。电子<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计音频系统时，可以充分利用DIR9001-Q1的优势，结合其电气参数和引脚功能，合理选择工作模式和时钟源，实现高质量的音频信号传输和处理。同时，与前代产品DIR1703的差异也为工程师在升级和优化设计时提供了更多的选择和考虑因素。你在使用DIR9001-Q1的过程中遇到过哪些问题？或者对其应用有什么独特的见解？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[TLV320AIC3101：低功耗立体声音频编解码器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7635464.html</link>    <guid>https://www.elecfans.com/d/7635464.html</guid>    <pubDate>2026-02-02 17:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7635464" value="https://file1.elecfans.com/web3/M00/4A/5D/wKgZO2mAb4yAUpWXACQsGjQ6uUE782.pdf"/><h1>TLV320<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>C3101：低功耗立体声<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频编解码器</u></a>的卓越之选</h1>
<p>在当今的便携式<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>和电话应用领域，低功耗、高性能的音频编解码器需求日益增长。<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>公司的TLV320AIC3101就是这样一款极具竞争力的产品，它集成了丰富的功能，为<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>提供了强大的音频处理解决方案。今天，我们就来深入了解一下这款编解码器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7635464" target="_blank">tlv320aic3101.pdf</a></p>
<h2>一、核心特性解析</h2>
<h3>1. 立体声音频<a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>DAC</u></a></h3>
<p>TLV320AIC3101的立体声音频DAC表现出色。它拥有102-dBA的高信噪比，支持16/20/24/32位数据，采样率范围从8 kHz到96 kHz，能满足多种音频需求。同时，它还具备3D、低音、高音、均衡器和去加重等效果，并且提供灵活的节能模式和性能选项。在低功耗方面，使用3.3 - V<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>时，48 - kHz立体声播放仅需14 - mW的功耗，这对于便携式设备来说至关重要。</p>
<h3>2. 立体声音频<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a></h3>
<p>立体声音频<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>C同样不容小觑。其信噪比达到92 - dBA，采样率范围与DAC一致。在录制过程中，它还支持<a href="https://www.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>处理和噪声过滤功能，能够有效提升音频录制的质量。而且，当只需要单声道录制功能时，立体声ADC可以逐通道供电，实现了系统功耗的优化。</p>
<h3>3. 丰富的音频输入输出</h3>
<p>该编解码器拥有六个音频输入引脚，包括一对单端输入和一对全差分输入，为音频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的接入提供了多种选择。六个音频输出驱动则提供了立体声全差分或单端耳机驱动、全差分立体声线路输出以及立体声8 - Ω、500 - mW/通道的扬声器驱动能力，满足了不同音频输出设备的需求。</p>
<h3>4. 可<a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>功能</h3>
<p>可编程输入/输出模拟增益、自动增益控制（AGC）、可编程麦克风偏置电平以及可编程PLL等功能，使得TLV320AIC3101具有极高的灵活性。开发者可以根据具体应用场景对这些参数进行调整，以实现最佳的音频效果。</p>
<h2>二、应用领域广泛</h2>
<p>TLV320AIC3101适用于多种应用场景，如数字相机和<a href="https://m.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a>等。在数字相机中，它可以有效处理音频录制，同时在<a href="https://m.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>变焦时通过可编程<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>去除可能出现的可听噪声。在智能手机中，其低功耗特性可以延长电池续航时间，而丰富的音频处理功能则能为用户带来更好的音频体验。</p>
<h2>三、详细功能剖析</h2>
<h3>1. 硬件复位</h3>
<p>在设备上电后，需要进行硬件复位以确保其正常运行。将RESET引脚拉低至少10 ns是必要的操作步骤，如果未执行此复位序列，设备可能无法正确响应<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>的读写操作。</p>
<h3>2. 数字音频数据串行<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></h3>
<p>音频数据通过数字音频数据串行接口在主机<a href="https://www.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>和TLV320AIC3101之间传输。该接口支持左对齐、右对齐、I2S、<a href="https://www.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>或TDM等多种操作模式，并且数据宽度可编程为16、20、24或32位。字<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>（WCLK）和位时钟（BCLK）可以独立配置为主模式或从模式，方便与各种处理器进行灵活连接。</p>
<h3>3. 音频数据<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a></h3>
<p>支持多种标准音频采样率，数据转换器基于内部的(f_{S(ref)})速率，通过一系列比率与实际采样率相关联。通过设置NCODEC的值，可以调整ADC和DAC的采样率，并且设备要求ADC和DAC通道使用相同的采样率。</p>
<h3>4. 立体声音频ADC</h3>
<p>采用delta - sigma调制器和数字抽取滤波器，支持8 kHz到48 kHz的单速率模式和高达96 kHz的双速率模式。集成的数字抽取滤波器可以去除高频内容并对音频数据进行下采样，同时还包括独立的数字高通滤波器，可独立设置截止频率。</p>
<h3>5. 立体声音频DAC</h3>
<p>支持8 kHz到96 kHz的采样率，每个通道包括数字音频处理块、数字插值滤波器、多位数字delta - sigma调制器和模拟重建滤波器。通过增加过采样和图像滤波，在低采样率下也能提供出色的性能，有效抑制量化噪声和信号图像。</p>
<h3>6. 音频模拟输入</h3>
<p>六个单端音频输入通过串联<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和开关连接到两个全差分<a href="https://www.hqchip.com/app/1737" target="_blank"><u>运算放大器</u></a>的虚拟地端，可以实现输入信号的复用和混合。同时，每个输入都有输入电平控制，增益可编程范围为0 dB到 - 12 dB，步长为1.5 dB。</p>
<h3>7. 模拟输出驱动</h3>
<p>包括两个全差分线路输出驱动和四个高功率输出驱动。全差分线路输出驱动能够独立调整信号电平，高功率输出驱动则具有多种配置方式，可驱动不同负载，并且在功率控制和输出保护方面具有丰富的功能。</p>
<h3>8. 其他功能</h3>
<p>还具备输入阻抗和VCM控制、MICBIAS生成、短路输出保护以及耳机/麦克风/耳机插孔检测等功能，进一步提升了设备的实用性和可靠性。</p>
<h2>四、编程与配置</h2>
<h3>1. <a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>控制接口</h3>
<p>支持I2C控制协议，使用7位寻址，支持标准和快速模式。<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>时，主设备和从设备通过<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>A和SCL线进行数据传输，数据以8位为一组进行发送。主设备通过发送起始条件和地址字节来启动通信，每个字节传输后都需要进行确认。</p>
<h3>2. 寄存器映射</h3>
<p>设备的寄存器分为两页，每页包含128个寄存器。通过操作这些寄存器，可以对设备的各种功能进行配置和控制，如采样率选择、PLL编程、<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频接口</u></a>模式设置等。</p>
<h2>五、应用与实现</h2>
<h3>1. 典型应用配置</h3>
<p>可以配置为具有两个麦克风和一个FM调谐器连接到模拟输入，高功率驱动输出可以驱动外部<a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>和耳机，同时还具备全差分立体声线路输出。在实际设计中，需要根据具体需求确定电源电压、负载等参数，并正确设置设备寄存器以实现所需的信号路由和功能。</p>
<h3>2. 电源供应建议</h3>
<p>为了确保设备的稳定运行，建议先对IOVDD供电，然后是模拟电源（AVDD和DRVDD），最后是<a href="https://www.elecfans.com/tags/数字电源/" target="_blank"><u>数字电源</u></a>DVDD。在所有电源稳定后，再释放RESET引脚。同时，模拟电源应始终大于或等于DVDD。</p>
<h3>3. 布局注意事项</h3>
<p>在<a href="https://bbs.elecfans.com/zhuti_830_1.html" target="_blank"><u>PCB设计</u></a>中，应将TLV320AIC3101的散热焊盘通过多个过孔连接到模拟输出驱动地，以降低设备与地之间的阻抗。模拟地和数字地应分开，以防止数字噪声影响模拟性能。去耦电容应尽可能靠近设备的电源引脚放置，并且差分音频信号应采用差分布线以提高抗噪能力。</p>
<h2>六、总结</h2>
<p>TLV320AIC3101以其丰富的功能、低功耗特性和高灵活性，成为便携式音频和电话应用领域的理想选择。<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>产品时，可以充分利用其各种特性，实现高性能、低功耗的音频处理解决方案。同时，在实际应用中，需要注意硬件复位、编程配置、电源供应和布局等方面的问题，以确保设备的正常运行和最佳性能。大家在使用过程中遇到过哪些问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[北汽集团向兴民智通交付200台车辆]]></title>    <link>https://www.elecfans.com/d/7635469.html</link>    <guid>https://www.elecfans.com/d/7635469.html</guid>    <pubDate>2026-02-02 17:42:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	岁末将至，春运启幕，一份满载关怀的“新年礼物”温暖启程。近日，以“链接·赋能”为主题的“北汽集团·兴民智通共赴新程交付仪式”在北汽集团举行。兴民智通向北汽集团订购包含享界、极狐、北京越野等品牌在内的200台车辆，作为关爱员工的重要载体，护航员工平安返乡过年。此次交付仪式是北汽集团和兴民智通达成全面战略合作的首批成果落地。</p>
<p style="text-indent:2em;">
	北汽集团与兴民智通的合作源远流长。作为零部件战略供应商，兴民智通长期为北汽旗下多款主力车型提供钢制车轮、轻量化车轮等核心配套产品，旗下英泰斯特、九五智驾在智能网联赛道与北汽合作十余年，为北汽整车品质提升与智能化转型提供了坚实支撑。</p>
<p style="text-indent:2em;">
	北汽集团党委常委、副总经理张国富表示，兴民智通是北汽可靠的战友，是有实力、有行动力的合作伙伴，在战略协议签署后迅速推动首批车辆采购落地，用实实在在的订单为北汽投下了最具份量的“信任票”。</p>
<p style="text-indent:2em;">
	兴民智通董事长兼总经理高赫男表示，北汽集团作为中国汽车行业的骨干企业，产品凭借出色设计与过硬品质，得到兴民智通员工的广泛认可。未来，兴民智通将继续与北汽集团深化产业链协同合作，同时积极向员工及合作伙伴传递北汽品牌价值、推广北汽优质产品，让信赖北汽、选择北汽成为更多人的共识与首选。</p>
<p style="text-indent:2em;">
	交付仪式上，北汽集团向兴民智通颁授“全面战略合作伙伴”荣誉奖牌。</p>
<p style="text-indent:2em;">
	根据此前签订的协议内容，双方将在车轮产品、智能网联、域控融合、北斗<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>定位等关键领域开展合作，推动单点合作升级为系统能力，通过参与行业标准建设、科研项目攻关等，加速技术成果转化，推动科技创新落地。</p>
<p style="text-indent:2em;">
	作为中国汽车行业骨干力量，北汽集团正全力推进科技北汽建设，在<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>整车平台、智能驾驶系统、下一代电子电气架构等核心领域持续加码。旗下享界汽车、北汽极狐、北京越野三大自主乘用车品牌取得了多个重要突破。2025年，北汽集团实现整车销量175.2万辆，自主品牌销量达107万辆。其中，享界品牌聚焦高端智能出行，凭借颜值与实力破圈，月销破万，品牌“悦己”理念深入人心，掀起一场“新豪华革命”，稳居30万-50万元新能源轿车市场第一，“最美旅行车”享界S9T单月销量超越国内同类产品全年销量。极狐汽车以先进的纯电技术与极致安全性能彰显新能源实力，2025年销售16.3万辆，同比增长101%，连续两年销量翻倍，极狐T1和全新阿尔法T5助力极狐月销站稳2万辆台阶。北京越野则凭借硬核越野基因，在越野细分市场保持领先优势，2025年销量超20万辆，同比增长38%，BJ40大单品连续11个月位居硬派越野销量冠军，BJ40增程连续9个月位居增程式方盒子销量冠军。</p>
<p style="text-indent:2em;">
	此次交付仪式，正是北汽集团发挥产业链“链主”作用、深化上下游协同发展的生动实践。未来，北汽集团将秉持“共谋一盘棋，同筑一条路”的理念，与合作伙伴携手打造更富韧性与活力的智慧出行产业共同体，在智能汽车时代谱写中国汽车工业协同共赢的新篇章。</p>]]></description></item><item>    <title><![CDATA[东软载波2026年首个工商业储能项目并网成功]]></title>    <link>https://www.elecfans.com/d/7635478.html</link>    <guid>https://www.elecfans.com/d/7635478.html</guid>    <pubDate>2026-02-02 17:45:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	等闲识得东风面，万紫千红总是春。东软载波在2026年开篇之际，投资建设的“山东博拓0.875MW/1.827MWh分布式储能电站”成功并网投运，这标志着东软载波在2026年于工商业储能领域喜获“开门红”!</p>
<p style="text-indent:2em;">
	该项目位于山东博拓新材料科技股份有限公司厂区内，采用“储能+智慧能源管理”一体化解决方案，为工业企业提供灵活、高效的用电支持，助力企业实现削峰填谷、降低电费、参与虚拟电厂、提升用电安全等多重目标。</p>
<p style="text-indent:2em;">
	项目亮点速览</p>
<p style="text-indent:2em;">
	装机规模：0.875MW/1.827MWh</p>
<p style="text-indent:2em;">
	合作模式：<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>EMC</u></a>能源管理 + 虚拟电厂聚合</p>
<p style="text-indent:2em;">
	系统支持：东软载波自研储能智能管控系统</p>
<p style="text-indent:2em;">
	建设周期：2026年1月4日开工，1月28日并网投运</p>
<p style="text-indent:2em;">
	从沟通到并网-全流程高效协同</p>
<p style="text-indent:2em;">
	2025年11月3日</p>
<p style="text-indent:2em;">
	东软载波团队赴山东博拓现场调研，了解企业用电结构与需求。</p>
<p style="text-indent:2em;">
	2025年11月6日</p>
<p style="text-indent:2em;">
	通过负荷监测与数据分析，出具定制化配储方案。</p>
<p style="text-indent:2em;">
	2025年11月28日</p>
<p style="text-indent:2em;">
	项目通过投资委员会评审，正式立项。</p>
<p style="text-indent:2em;">
	2025年12月17日</p>
<p style="text-indent:2em;">
	签订EMC能源管理合同及虚拟电厂聚合协议。</p>
<p style="text-indent:2em;">
	2026年1月28日</p>
<p style="text-indent:2em;">
	储能系统发货、安装、上电、数据接入一气呵成，顺利并网运行。</p>
<p style="text-indent:2em;">
	智慧储能-看得见的效益</p>
<p style="text-indent:2em;">
	左右滑动查看</p>
<p style="text-indent:2em;">
	东软载波自主研发的储能智能管控系统，可实时监测企业用电负荷，智能调度储能充放电，实现：</p>
<p style="text-indent:2em;">
	峰谷套利：利用山东显著电价差，在谷时充电、峰时放电，直接降低用电成本，储能一体机配置大容量电芯，放电量达到额定电量。</p>
<p style="text-indent:2em;">
	虚拟电厂聚合收益：接入东软载波虚拟电厂平台，参与电力交易，获取调节收益。</p>
<p style="text-indent:2em;">
	负荷均衡与安全提升：缓解变压器压力，增强供电可靠性。</p>
<p style="text-indent:2em;">
	不止于降本：项目的双重价值</p>
<p style="text-indent:2em;">
	从更广阔的视角来看，该项目的成功并网具有多重深远意义：</p>
<p style="text-indent:2em;">
	对企业：打破传统被动用电模式的局限，通过智慧的能源自主管理，为持续降本增效开辟了新路径，直接增强了企业在市场竞争中的成本控制与运营韧性。</p>
<p style="text-indent:2em;">
	对社会与产业：项目通过虚拟电厂增强区域电力调节能力，提升能源利用效率，为区域绿色低碳发展注入了新活力，是工业企业积极响应并落实“双碳”战略的生动实践。</p>
<p style="text-indent:2em;">
	增值服务：不止于储能，更赋能企业综合能源管理</p>
<p style="text-indent:2em;">
	东软载波围绕储能系统，为企业提供贯穿全生命周期的增值服务，构建“储能+服务”双轮驱动模式：</p>
<p style="text-indent:2em;">
	用能诊断与优化：专业团队全方位诊断企业用能结构，定制用能优化方案。</p>
<p style="text-indent:2em;">
	电力交易支持：提供虚拟电厂交易策略，享受电力现货市场红利。</p>
<p style="text-indent:2em;">
	专业运营团队：配备交易、分析、风控、运管团队，确保项目运营策略精准可靠。</p>
<p style="text-indent:2em;">
	为什么选择东软载波？</p>
<p style="text-indent:2em;">
	企业实力：上市公司+国资平台，雄厚的资金保障。</p>
<p style="text-indent:2em;">
	全栈自研：从硬件到系统，自主可控，安全可靠。</p>
<p style="text-indent:2em;">
	一站式服务：从诊断、设计、投资、建设到运营，全程陪伴。</p>
<p style="text-indent:2em;">
	实战经验丰富：多个项目落地，具备快速交付与稳定运行能力。</p>
<p style="text-indent:2em;">
	收益模式多元：通过“用户侧储能 + 虚拟电厂”组合，优化企业盈利结构。</p>
<p style="text-indent:2em;">
	山东博拓储能电站的并网，不仅是东软载波在工商业储能领域的又一里程碑，更是为更多制造企业提供了可复制、可扩展的“储能+增值服务”综合能源解决方案。</p>
<p style="text-indent:2em;">
	未来，东软载波将持续深化储能技术与能源服务体系，助力企业实现节能降费、绿色转型、智慧运营的三重跨越。</p>
<p style="text-indent:2em;">
	伙伴介绍：</p>
<p style="text-indent:2em;">
	山东博拓新材料科技股份有限公司</p>
<p style="text-indent:2em;">
	山东博拓新材料科技股份有限公司始建于2006年，是全国PVC发泡制品高新技术企业，国家“专精特新”小巨人企业，山东省瞪羚标杆企业，中国塑料加工工业协会副理事长单位，中塑协硬质PVC发泡板专委会主任单位，形成了PVC板材、型材、地板三大产业板块，是以塑代木、以塑代钢的新型绿色环保材料，广泛应用于广告业、绿色新型建材、<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车、工业工程等多个领域,产品远销至美国、加拿大、英国、澳大利亚、日本、南美等100多个国家和地区。</p>]]></description></item>  </channel></rss>