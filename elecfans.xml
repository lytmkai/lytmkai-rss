<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>电子发烧友 - 最近文章</title>      <link>https://www.elecfans.com/article/special/</link>      <description>电子发烧友</description>      <generator>python elecfans.py @Pi20</generator>      <item>    <title><![CDATA[调用野莓平台商品详情API接口实践]]></title>    <link>https://www.elecfans.com/d/7638137.html</link>    <guid>https://www.elecfans.com/d/7638137.html</guid>    <pubDate>2026-02-04 16:42:00</pubDate>    <description><![CDATA[<p>
	​</p>
<p>
	在电商平台的技术栈中，<a href="https://www.hqchip.com/ask/" target="_blank"><u>商品</u></a>详情信息的获取是高频且核心的操作。野莓平台提供了稳定、高效的A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>供<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>查询商品详情数据。本文将详细介绍如何调用野莓平台的商品详情API接口，包括接口概述、<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>方式、请求参数、响应数据结构、错误处理以及最佳实践建议。</p>
<p>
	1. 接口概述</p>
<p>
	野莓平台商品详情API接口主要用于查询单个商品的详细信息。它是一个<strong>RESTful风格</strong>的接口，通常使用<strong>HTTP GET</strong>方法进行调用。接口的基本URL结构如下：</p>
<p>
	</p>
<pre>
https://api.berryplatform.com/i<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>m/det<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>l
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	该接口要求调用方提供合法的认证信息，并指定需要查询的商品唯一标识符。</p>
<p>
	2. 认证与鉴权</p>
<p>
	为了保护数据安全和接口稳定性，调用该API需要进行身份验证。野莓平台通常采用以下两种方式之一或组合：</p>
<p>
	<strong>API Key认证：</strong> 在HTTP请求头中携带X-API-Key字段，其值为在野莓开发者平台申请到的密钥。例如：</p>
<p>
	</p>
<pre>
GET /item/detail?item_id=12345 HTTP/1.1
Host: api.berryplatform.com
X-API-Key: your_secret_api_key_here
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	<strong>OAuth 2.0认证：</strong> 对于需要更高安全级别的场景（如涉及用户信息），可能使用OAuth 2.0协议。开发者需先获取<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>cess_token，然后在请求头Authorization字段中以Bearer方式携带：</p>
<p>
	</p>
<pre>
GET /item/detail?item_id=12345 HTTP/1.1
Host: api.berryplatform.com
Authorization: Bearer your_access_token_here
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	具体采用哪种方式，请参考野莓平台官方API文档。</p>
<p>
	3. 请求参数</p>
<p>
	调用接口时，需要通过**查询字符串(Query String)**传递必要的参数：</p>
<p>
	item_id (必填)： 商品的唯一标识符（ID）。例如：item_id=BP10001。</p>
<p>
	fields (可选)： 指定需要返回的字段列表，用于控制响应数据的粒度，减少网络传输量。多个字段用逗号分隔。例如：fields=<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>tle,price,main_images。如果不提供此参数，默认返回所有可用字段。</p>
<p>
	4. 响应数据结构</p>
<p>
	接口成功调用后，会返回一个<strong>HTTP 200 OK</strong>状态码，响应体是一个<strong>JSON对象</strong>，包含所查询商品的详细信息。一个典型的成功响应结构可能如下：</p>
<p>
	</p>
<pre>
{
  "code": 0,
  "message": "success",
  "data": {
    "item_id": "BP10001",
    "title": "【新鲜直达】云南高山蓝莓 500g/盒",
    "description": "产自云南高山地区...口感酸甜适中...",
    "category_id": "F001",
    "category_name": "新鲜水果",
    "price": 39.90, // 商品当前售价
    "origin_price": 49.90, // 商品原价
    "main_images": [
      "https://image.berry.com/item/BP10001/main1.jpg",
      "https://image.berry.com/item/BP10001/main2.jpg"
    ],
    "detail_images": [
      "https://image.berry.com/item/BP10001/detail1.jpg",
      // ... 更多详情图
    ],
    "stock": [
      {
        "warehouse": "上海仓",
        "available": 120 // 可用库存数量
      },
      {
        "warehouse": "北京仓",
        "available": 85
      }
    ],
    "specs": [
      {
        "name": "重量",
        "value": "500g"
      },
      {
        "name": "产地",
        "value": "云南"
      }
    ],
    "created_at": "2023-10-15T08:00:00Z",
    "updated_at": "2023-10-25T14:30:15Z"
  }
}
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	code: 响应状态码，0通常表示成功。</p>
<p>
	message: 状态信息，成功时为"success"。</p>
<p>
	data: 包含商品详细数据的对象。关键字段解释：</p>
<p>
	item_id: 商品ID。</p>
<p>
	title: 商品标题。</p>
<p>
	description: 商品描述（可能包含富文本）。</p>
<p>
	category_id/name: 所属分类。</p>
<p>
	price/origin_price: 当前售价和原价。</p>
<p>
	main_images/detail_images: 商品主图、详情图URL列表。</p>
<p>
	stock: 库存信息数组，包含仓库位置和可用数量。</p>
<p>
	specs: 商品规格参数数组。</p>
<p>
	created_at/updated_at: 商品创建和最后更新时间（ISO 8601格式）。</p>
<p>
	5. 错误处理</p>
<p>
	调用过程中可能遇到各种错误，接口会返回非200的状态码和包含错误信息的JSON响应。常见的错误码和原因包括：</p>
<p>
	<strong>401 Unauthorized：</strong> 认证失败。API Key无效、缺失或access_token过期、无效。</p>
<p>
	</p>
<pre>
{
  "code": 401,
  "message": "Invalid API Key"
}
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	<strong>404 Not Found：</strong> 请求的商品不存在。通常是因为item_id参数错误或商品已下架。</p>
<p>
	</p>
<pre>
{
  "code": 404,
  "message": "Item not found"
}
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	<strong>429 Too Many Requests：</strong> 请求过于频繁，触发了平台的速率限制(Rate Limiting)。需要降低调用频率或申请更高的配额。</p>
<p>
	</p>
<pre>
{
  "code": 429,
  "message": "Rate limit exceeded"
}
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	开发者应在代码中妥善处理这些错误情况，记录日志，并根据错误类型采取重试、告警或向用户展示友好提示等策略。</p>
<p>
	6. 技术建议与最佳实践</p>
<p>
	<strong>缓存策略：</strong> 商品详情信息相对静态，但价格、库存会变动。建议对静态信息（如标题、描述、图片URL）进行适当缓存（如Redis），缓存时间不宜过长（如5-10分钟），并主动监听商品更新事件刷新缓存。对价格、库存等动态信息谨慎缓存或设置更短的过期时间。</p>
<p>
	<strong>字段筛选：</strong> 善用fields参数，只请求应用真正需要的数据字段，减少网络传输量和服务器负载。</p>
<p>
	<strong>错误重试：</strong> 对于网络波动或服务器临时错误（如5xx错误），可实施带退避策略的有限次重试。对于认证失败、商品不存在等4xx错误，则无需重试。</p>
<p>
	<strong>频率限制：</strong> 严格遵守野莓平台规定的API调用频率限制，避免因频繁请求被封禁。考虑使用令牌桶等<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>在客户端控制请求速率。</p>
<p>
	<strong>日志与监控：</strong> 记录API调用的关键信息（请求参数、响应状态、耗时、错误详情），并设置监控告警（如错误率升高、响应时间变长）。</p>
<p>
	<strong>异步处理：</strong> 对于非实时性要求极高的场景（如后台数据同步），可将API调用任务放入消息队列异步处理，提高系统吞吐量和稳定性。</p>
<p>
	<strong>阅读官方文档：</strong> API的具体细节（如字段含义、可选参数、错误码全集）可能会更新，务必定期查阅野莓平台提供的最新官方API文档。</p>
<p>
	通过遵循以上指南，开发者可以高效、稳定地集成野莓平台的商品详情数据，为用户提供流畅的购物体验。希望这篇技术分享能对大家有所帮助！</p>
<p>
	​审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[野莓平台关键词商品搜索API接口使用指南]]></title>    <link>https://www.elecfans.com/d/7638143.html</link>    <guid>https://www.elecfans.com/d/7638143.html</guid>    <pubDate>2026-02-04 16:48:00</pubDate>    <description><![CDATA[<p>
	​</p>
<p>
	在电商平台开发中，A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>是实现高效<a href="https://www.hqchip.com/ask/" target="_blank"><u>商品</u></a>搜索的关键。野莓平台（假设为一个虚构的电商平台）提供了关键词商品搜索API，允许<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>通过HTTP请求快速检索商品信息。本技术帖将逐步介绍该API的设计、使用方法及最佳实践，帮助您高效集成到应用中。</p>
<p>
	1. API接口概述</p>
<p>
	野莓关键词商品搜索API是一个RESTful接口，基于HTTP GET方法实现。它允许用户输入关键词（如“野莓”），返回匹配的商品列表。核心功能包括：</p>
<p>
	<strong>关键词匹配</strong>：根据用户输入的关键词，搜索商品名称、描述等字段。</p>
<p>
	<strong>结果分页</strong>：支持分页参数，避免一次性加载大量数据。</p>
<p>
	<strong>响应格式</strong>：返回JSON结构，便于解析和处理。</p>
<p>
	API的基本端点为：https://api.yeberry.com/search（注：这是一个示例URL，实际使用时需替换为真实端点）。</p>
<p>
	2. API请求参数</p>
<p>
	调用API时，需通过查询参数（query pa<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>ete<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>）传递信息。主要参数包括：</p>
<p>
	keyword：字符串类型，必需参数。指定搜索关键词，例如keyword=野莓。</p>
<p>
	limit：整数类型，可选参数。控制返回结果的最大数量，默认值为10。</p>
<p>
	offset：整数类型，可选参数。用于分页，表示结果的起始偏移量，默认值为0。</p>
<p>
	sort：字符串类型，可选参数。指定排序方式，如sort=price_asc（价格升序）。</p>
<p>
	示例请求URL：</p>
<p>
	</p>
<pre>
GET https://api.yeberry.com/search?keyword=野莓&amp;limit=5&amp;offset=0
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	3. API响应格式</p>
<p>
	API响应为JSON对象，结构清晰。主要字段包括：</p>
<p>
	status：整数，表示请求状态（如200表示成功）。</p>
<p>
	message：字符串，提供错误或成功信息。</p>
<p>
	data：对象数组，包含商品列表。每个商品对象可能有id、name、price、description等字段。</p>
<p>
	示例响应：</p>
<p>
	</p>
<pre>
{
  "status": 200,
  "message": "Success",
  "data": [
    {
      "id": 1001,
      "name": "新鲜野莓",
      "price": 29.99,
      "description": "有机种植，新鲜采摘"
    },
    {
      "id": 1002,
      "name": "野莓果酱",
      "price": 15.50,
      "description": "纯天然原料"
    }
  ]
}
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	4. 使用示例代码</p>
<p>
	下面以<a href="https://www.elecfans.com/tags/python/" target="_blank"><u>Python</u></a>为例，展示如何调用野莓关键词商品搜索API。使用requests库简化HTTP请求。</p>
<p>
	</p>
<pre>
import requests

def search_yeberry_products(keyword, limit=10, offset=0):
    # 构建API请求URL
    url = "https://api.yeberry.com/search"
    params = {
        "keyword": keyword,
        "limit": limit,
        "offset": offset
    }
    
    try:
        # 发送GET请求
        response = requests.get(url, params=params)
        response.raise_for_status()  # 检查HTTP错误
        
        # 解析JSON响应
        data = response.json()
        if data["status"] == 200:
            print("搜索成功！商品列表：")
            for product in data["data"]:
                print(f"ID: {product['id']}, 名称: {product['name']}, 价格: {product['price']}")
        else:
            print(f"错误: {data['message']}")
    except requests.exceptions.Reques<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>tE</u></a>xception as e:
        print(f"请求失败: {e}")

# 示例调用：搜索关键词"野莓"，返回前5个结果
search_yeberry_products("野莓", limit=5)
</pre>
<img src="https://file1.elecfans.com/web2/M00/03/FB/poYBAGDYdXCAWkKMAAAAK8RNs4s030.png" alt="poYBAGDYdXCAWkKMAAAAK8RNs4s030.png"/><p>
	</p>
<p>
	这段代码首先设置请求参数，然后发送GET请求。成功响应后，遍历并打印商品信息。您可以根据需求扩展，比如添加错误处理或结果缓存。</p>
<p>
	5. 最佳实践和优化建议</p>
<p>
	为了高效使用API，遵循以下建议：</p>
<p>
	<strong>参数验证</strong>：在客户端验证参数，确保keyword不为空，避免无效请求。</p>
<p>
	<strong>分页处理</strong>：对于大数据集，使用limit和offset实现分页，减少服务器负载。</p>
<p>
	<strong>错误处理</strong>：捕获HTTP错误（如404或500），并重试或降级处理。</p>
<p>
	<strong>性能优化</strong>：考虑添加缓存机制（如Redis），减少重复请求。例如，使用LRU缓存存储常见关键词的结果。</p>
<p>
	<strong>相关性提升</strong>：如果需要优化搜索相关性，可以引入<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>如BM25（一种信息检索评分函数）。BM25公式为： $$ text{score}(D,Q) = sum_{i=1}^{n} text{IDF}(q_i) cdot fr<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{f(q_i, D) cdot (k_1 + 1)}{f(q_i, D) + k_1 cdot (1 - b + b cdot frac{|D|}{text{avgdl}})} $$ 其中$D$是文档，$Q$是查询，$f(q_i, D)$是词频。在实际API中，这可能已内置，无需客户端实现。</p>
<p>
	6. 常见问题解答</p>
<p>
	<strong>Q: API请求频率有限制吗？</strong><br/>
	A: 是的，野莓平台可能设置速率限制（如每分钟100次请求）。建议查看官方文档或添加重试逻辑。</p>
<p>
	<strong>Q: 如何提高搜索准确率？</strong><br/>
	A: 使用更精确的关键词，或结合过滤器（如价格范围）。API可能支持高级参数。</p>
<p>
	<strong>Q: 响应数据不完整怎么办？</strong><br/>
	A: 检查status字段，如果非200，根据message调试。确保网络连接正常。</p>
<p>
	结论</p>
<p>
	野莓关键词商品搜索API是一个强大的工具，能显著提升电商应用的搜索功能。通过本文的指南和示例，您可以快速集成并优化使用。建议参考野莓平台的官方文档获取最新细节。如果您有更多技术问题，欢迎讨论！</p>
<p>
	​<br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[1MW光伏项目“四可”装置改造：逆变器兼容性评估方法详解]]></title>    <link>https://www.elecfans.com/d/7638152.html</link>    <guid>https://www.elecfans.com/d/7638152.html</guid>    <pubDate>2026-02-04 16:50:00</pubDate>    <description><![CDATA[<div class="vditor-preview__action"/><div class="vditor-reset"><p>1MW光伏项目“四可”（可观、可测、可调、可控）装置改造中，<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>作为电能转换与指令执行核心，其兼容性直接决定改造成败——若适配性不足，易出现数据采集失真、调控指令失效、并网不稳定等问题，甚至导致“四可”能力无法落地。兼容性评估需围绕逆变器与“四可”设备的<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>协同、指令响应、参数匹配、工况适配四大核心维度展开，结合实验室测试与现场试点验证，形成全流程评估体系，详细了解光伏四可装置可咨询:1.3.7-5.0.0.4-6.2.0.0。以下为具体评估方法与实操要点。</p><p><img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDBweAUBuhAAZXYJ4nf-A11.jpeg" alt=""/></p><p><strong>一、核心评估维度：聚焦“四可”能力落地需求</strong></p><p>逆变器兼容性评估需紧扣“四可”装置改造核心诉求，从通信、指令、参数、工况四个维度逐一验证，确保逆变器能精准对接“四可”系统，实现数据互通、指令落地、稳定运行。</p><p><strong>1. 通信协议兼容性：打通“可观、可测”数据链路</strong></p><p>通信协议是“四可”装置与逆变器数据交互的基础，评估重点为协议类型、<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>规格及数据传输稳定性，确保“可观”所需的全量数据能精准采集，“可测”所需的精度指标能达标。</p><p>首先核查逆变器支持的通信协议类型，需与“四可”数据采集终端（DTU/边缘网关）兼容，优先支持Modbus-RTU、IEC61850等主流协议，老旧逆变器若仅支持私有协议，需评估是否可通过固件升级或加装规约<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>适配，同时确认协议版本兼容性（如Modbus-RTU需支持RTU模式、ASCII模式切换）。接口规格方面，需匹配“四可”设备接口类型（<a href="https://www.hqchip.com/app/1809" target="_blank"><u>RS485</u></a>/<a href="https://m.hqchip.com/app/1720" target="_blank"><u>以太网</u></a>），核查接口数量（1MW项目组串式逆变器需至少1路<a href="https://www.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>供数据采集，多逆变器场景需支持并联通信），接口参数（波特率2400-115200bps可调、数据位8位、停止位1位、校验位可配置）需与采集终端一致。</p><p>稳定性测试需验证连续72小时通信状态，无丢包、断连、数据延迟等问题，数据传输延迟≤100ms，丢包率≤0.1%，确保组串<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>、电压、功率、运行状态等30+项“四可”核心采集参数能完整上传，无数据缺失或失真。</p><p><strong>2、指令响应兼容性：保障“可调、可控”指令落地</strong></p><p>“四可”装置的可调（柔性功率调节）、可控（远程启停、故障隔离）能力，依赖逆变器对调控指令的精准响应，评估核心为指令类型适配、响应速度及调节精度。</p><p>指令类型需覆盖“四可”改造核心需求，包括有功功率梯度调节、无功功率补偿、远程启停、故障紧急停机、功率限值设定等指令，逆变器需支持0-100%额定功率连续可调，响应“四可”终端下发的梯度调节指令（5%-10%调节步长），且支持远程指令优先级高于本地操作，避免调控冲突。响应速度评估需满足：有功/无功调节指令响应时间≤200ms，紧急停机指令响应时间≤50ms，符合GB/T 38946-2020对“四可”装置调控时效的要求。</p><p>调节精度验证需结合1MW项目负荷特性，在不同功率区间（20%、50%、80%额定功率）下发调节指令，核查实际输出功率与指令值偏差≤±1%，功率波动幅度≤额定功率的10%/分钟，避免因调节精度不足导致逆流风险或发电收益损耗。同时评估逆变器对指令容错能力，若指令传输异常，需具备指令重传请求功能，确保调控指令不丢失、不误执行。</p><p><strong>3. 参数匹配兼容性：衔接“四可”系统运行阈值</strong></p><p>逆变器自身参数需与“四可”装置采集、调控阈值匹配，避免因参数不兼容导致监测失效、调控过载，核心评估参数包括额定功率、电压范围、保护阈值、数据采集频率等。</p><p>功率与电压参数需适配1MW项目配置，逆变器额定功率需与组串配置匹配（如50kW组串式逆变器适配20台组成1MW阵列），直流侧输入电压范围需覆盖组件工作电压区间，交流侧输出电压需与配电网电压等级一致（0.4kV/10kV），且支持电压偏差自适应（±5%），与“四可”装置的电压监测阈值联动。保护阈值需与“四可”故障防护逻辑匹配，包括过流、过压、过温保护阈值，逆变器保护动作需与“四可”装置故障告警同步，避免单方面动作导致系统紊乱。</p><p>数据采集频率需满足“四可”监测需求，逆变器需支持1秒级功率、电压、电流数据采集，分钟级运行状态数据上传，与“四可”终端采集频率（组串级1分钟/次、并网点10秒/次）匹配，确保数据时序一致性，为“四可”系统智能预判提供精准数据支撑。</p><p><strong>4. 工况适配兼容性：适配复杂场景稳定运行</strong></p><p>1MW光伏项目多为工商业场景，需评估逆变器在负荷波动、环境变化、多设备协同等工况下，与“四可”装置的适配稳定性，避免极端工况下兼容性失效。</p><p>负荷波动适配性测试需<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>工商业生产线启停、设备切换导致的负荷骤增骤减（变化率≥20%），核查逆变器与“四可”装置的协同响应能力——“四可”终端下发调节指令后，逆变器需快速调整输出功率，无脱网、过载现象，同时数据采集持续稳定，无因负荷波动导致的通信中断。环境适配性需结合项目场景，高海拔、高温、高风沙地区需评估逆变器工作温度范围（-40℃~85℃）、防护等级（IP65及以上），确保与“四可”户外设备的环境适配性一致，长期运行无兼容性衰减。</p><p>多逆变器协同兼容性针对组串式逆变器阵列，评估1MW项目中20-30台逆变器并联运行时，是否能同步接收“四可”终端指令，调节动作一致，无单台设备响应滞后导致的功率失衡，通信链路无拥堵，数据上传与指令下发互不干扰。</p><p><strong>二、全流程评估实操流程：从前期调研到现场验证</strong></p><p>逆变器兼容性评估需分三步推进，兼顾前期准备、实验室测试与现场试点，层层递进排查兼容性问题，确保满足1MW项目“四可”改造全场景需求。</p><p><img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDBweAQnrRAAWYmFmVRJM56.jpeg" alt=""/></p><p><strong>1. 前期调研：梳理基础信息，初步筛查适配性</strong></p><p>先收集逆变器核心信息，包括型号、生产厂家、运行年限、固件版本、通信协议手册、<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数表（额定功率、电压范围、调节精度等），与“四可”装置技术参数逐一比对，初步筛查协议类型、接口规格、功率范围等核心指标是否匹配。针对老旧逆变器（运行超5年），需核查固件是否支持升级，硬件接口是否存在老化、损坏，评估改造可行性；新购逆变器需要求厂家提供兼容性测试报告，明确支持的“四可”相关功能。</p><p>同时梳理1MW项目工况需求，包括负荷波动规律、环境条件、并网电压等级、多逆变器协同要求，明确兼容性评估的重点场景与指标阈值，为后续测试提供依据。</p><p><strong>2. 实验室模拟测试：精准验证核心兼容性指标</strong></p><p>搭建模拟测试平台，还原1MW项目“四可”装置核心架构（<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>+数据采集终端+智能控制器+逆变器），通过模拟不同工况，逐一验证通信、指令、参数兼容性。测试内容包括：通信协议互通测试（全量数据采集完整性、72小时通信稳定性）、指令响应测试（梯度调节精度、响应时间、容错能力）、参数匹配测试（阈值联动性、数据时序一致性）、工况模拟测试（负荷波动适配、环境参数自适应）。</p><p>测试过程中记录核心数据，如通信丢包率、指令响应时间、功率调节偏差、数据延迟等，对照“四可”改造技术要求（如GB/T 38946-2020标准），判定是否达标。针对不达标项，分析原因（如协议不兼容可升级固件，调节精度不足可优化控制策略），制定整改方案并复测，直至满足需求。</p><p><strong>3. 现场小范围试点：验证实际工况适配性</strong></p><p>实验室测试通过后，选取1MW项目中1-2台逆变器进行现场小范围试点，接入完整“四可”系统，试运行15-30天，验证实际工况下的兼容性。试点期间重点监测：工业现场电磁干扰环境下的通信稳定性、实际负荷波动中的指令响应效果、多设备协同运行的同步性、环境变化对兼容性的影响，同时记录逆变器与“四可”装置的故障告警联动效果，核查数据追溯的完整性。</p><p>试点结束后，汇总运行数据，评估兼容性是否满足全项目改造需求，针对现场特有的问题（如电磁干扰导致的通信异常），优化适配方案（如加装屏蔽层、调整通信频率），形成最终兼容性评估报告，为全项目逆变器改造或替换提供依据。</p><p><strong>三、常见兼容性问题及处置方案</strong></p><p>评估过程中需重点关注三类高频兼容性问题，针对性制定处置方案，确保“四可”装置改造顺利推进。</p><p><strong>1. 协议不兼容</strong></p><p>老旧逆变器仅支持私有协议，无法与“四可”终端直接通信。处置方案：优先升级逆变器固件至支持标准协议（Modbus/IEC61850）；无法升级则加装专用规约转换器，实现私有协议与标准协议的转换，同时测试转换后的通信延迟与数据完整性，确保满足“四可”监测需求。</p><p><strong>2. 指令响应滞后</strong></p><p>逆变器调节响应时间超200ms，无法适配“四可”预防性调控需求。处置方案：优化逆变器控制策略，调整<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>D参数提升响应速度；若硬件性能不足，更换核心控制模块，确保指令响应时间≤200ms，梯度调节精度达标。</p><p><strong>3. 多逆变器协同紊乱</strong></p><p>并联运行时单台逆变器调节不同步，导致功率失衡。处置方案：统一逆变器固件版本，调整“四可”终端指令下发策略（采用广播指令+单台校准），优化通信链路拓扑结构，避免<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>拥堵，确保多设备协同响应一致。</p><p><strong>四、合规性校验：对接国标与电网要求</strong></p><p>兼容性评估最终需满足《分布式光伏发电接入配电网技术规定》（GB/T 38946-2020）及地方电网细化要求，校验核心指标包括：数据采集精度（电流/电压测量误差≤±0.5%）、调控响应时间（低压项目≤2秒、<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>项目≤1秒）、功率调节范围（有功0-100%连续可调）、通信安全性（支持国密<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>加密）。</p><p>同时需提供兼容性测试报告、逆变器出厂检验报告、固件升级记录等资料，确保通过电网并网验收，避免因兼容性问题导致并网受阻。</p><p>1MW光伏项目“四可”装置改造的逆变器兼容性评估，核心是实现“数据互通、指令落地、工况适配、合规达标”。通过前期调研筛查、实验室精准测试、现场试点验证的全流程评估，结合高频问题针对性处置，可有效规避兼容性风险。评估过程中需紧扣“四可”能力核心需求，兼顾技术适配性与实际工况稳定性，确保逆变器与“四可”装置深度协同，为项目合规并网、稳定运行、精准调控提供坚实支撑。</p><p>以上是由光伏四可装置/一次调频装置服务厂家西格电力分享，欢迎您阅读、点赞。</p><p>审核编辑 黄宇</p></div>]]></description></item><item>    <title><![CDATA[无线赋能，配电智控：系统设计与应用实践]]></title>    <link>https://www.elecfans.com/d/7638153.html</link>    <guid>https://www.elecfans.com/d/7638153.html</guid>    <pubDate>2026-02-04 16:51:00</pubDate>    <description><![CDATA[<p>
	在工业生产、商业建筑、园区运营等场景中（1520176），配电系统是保障电力稳定（0719）供应、实现能源高效管理的核心环节。传统配电监控模式受限于有线布线的繁琐性、空间布局的约束性以及后期运维的复杂性，难以适配当下智能化、轻量化、高效化的电力管理需求。随着<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>技术的快速迭代，无线物联技术与配电监控的深度融合，成为打破传统桎梏、推动配电系统智能化升级的关键抓手。<br/>
	以无线物联网为核心的智能配电监控系统，凭借免布线、易部署、高灵活、可拓展的技术优势，实现了配电节点的全域感知、数据的实时传输、状态的智能监控，为各类场景下的配电安全、运维提效、能耗优化提供了全新解决方案。本文将从系统设计逻辑、核心技术架构、实际应用场景及价值落地等方面，深度解析无线赋能下的智能配电监控系统，探索配电智控的实践路径。<br/>
	1.无线物联重构配电监控，系统设计紧扣实用与高效<br/>
	智能配电监控系统的无线化设计，始终围绕 “感知全面、传输稳定、监控智能、部署便捷” 的核心目标，摒弃传统有线系统的布线痛点，通过模块化、分层化的架构设计，让配电监控更贴合实际应用需求。整体系统主要分为三层架构，各层协同联动，实现配电数据从采集到分析、从预警到管控的全流程智能化。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDByWANb8sAAWIe3xmP64516.png" alt="wKgZPGmDByWANb8sAAWIe3xmP64516.png"/></p>
<p>
	感知层作为系统的 “神经末梢”，是数据采集的核心环节。基于<a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>协议，搭配智能电表、<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>互感器、电压<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>、温<a href="https://www.elecfans.com/tags/湿度传感器/" target="_blank"><u>湿度传感器</u></a>、故障<a href="https://www.hqchip.com/app/1831" target="_blank"><u>探测器</u></a>等多款无线感知终端，无需复杂布线，可灵活安装在配电柜、配电箱、电力回路等各类配电节点，精准采集电压、电流、功率、电能、开关状态、设备温湿度、故障报警等关键数据，实现配电状态的全域、实时、精准感知，解决了传统有线系统在狭小空间、复杂布局场景中无法灵活部署的问题。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDBzWAWa10AAI5YCSVZ0Y803.png" alt="wKgZO2mDBzWAWa10AAI5YCSVZ0Y803.png"/><img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDBzWAKU5tAAMlN6v4rbo869.png" alt="wKgZO2mDBzWAKU5tAAMlN6v4rbo869.png"/></p>
<p>
	传输层是系统的 “<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>桥梁”，承担着数据中转的重要作用。采用 <a href="https://www.elecfans.com/tags/lora/" target="_blank"><u>LoRa</u></a>、<a href="https://www.elecfans.com/tags/nb-iot/" target="_blank"><u>NB-IoT</u></a>、<a href="https://m.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>、WiFi 等多种无线通信技术，根据应用场景的传输距离、<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>环境、数据量需求灵活适配，构建稳定、低延时、高可靠的无线通信网络。感知层采集的配电数据，通过输模块上传至云平台或本地监控终端，实现数据的无缝对接，同时支持断点续传功能，有效避免因信号波动导致的数据丢失，保障数据传输的完整性和稳定性。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB0SAeOjLAAGGmQAgvck401.png" alt="wKgZO2mDB0SAeOjLAAGGmQAgvck401.png"/></p>
<p>
	应用层是系统的 “大脑中枢”，负责数据的分析、处理、展示与管控。依托云平台和本地监控系统，搭建可视化的智能监控界面，将采集到的配电数据进行实时解析、统计分析、图表展示，让运维人员直观掌握配电系统的运行状态。同时，系统内置智能预警和故障诊断功能，当检测到电压异常、电流过载、设备过热、漏电故障等情况时，可通过短信、APP 推送、声光报警等多种方式及时发出预警，同时自动定位故障位置、分析故障原因，为运维人员快速排查故障提供精准依据。此外，应用层还支持远程控制功能，运维人员可通过<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>或<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>远程操作配电开关，实现对配电系统的远程管控，大幅提升运维效率。</p>
<p>
	<img src="https://file1.elecfans.com/web2/M00/90/B6/poYBAGPrTmKAabhSAAiMB2B1OoU675.png" alt="poYBAGPrTmKAabhSAAiMB2B1OoU675.png"/></p>
<p>
	在系统设计的细节上，充分考虑不同场景的个性化需求，采用模块化设计和开放式架构，支持感知终端、传输模块的灵活拓展和协议兼容，可根据用户需求增减监控节点、升级功能模块，适配工业厂区、商业综合体、智慧园区、住宅小区等不同场景的配电监控需求。同时，系统具备低功耗特性，感知终端采用电池供电或取电模块供电，功耗低、续航久，进一步降低后期运维成本。<br/>
	2.多场景落地应用，解锁配电管理全新模式<br/>
	无线物联网智能配电监控系统凭借其设计优势，已在工业生产、商业建筑、智慧园区、市政工程等多个领域实现落地应用，针对不同场景的配电痛点，提供定制化的解决方案，有效解决了传统配电监控的诸多难题，实现了配电管理的智能化、高效化、精细化。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB3KASf5HAAd23iAr6ps477.png" alt="wKgZO2mDB3KASf5HAAd23iAr6ps477.png"/></p>
<p>
	3.无线赋能显价值，配电智控迈入全新阶段<br/>
	从传统有线监控到无线物联网智能监控，配电系统的管理模式实现了质的飞跃，无线赋能下的智能配电监控系统，不仅解决了传统配电监控的布线繁琐、部署受限、运维低效等痛点，更在安全保障、运维提效、能耗优化、成本降低等方面展现出显著的应用价值，为各行业的电力管理带来全新变革。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB32AXX1DAANUceWRDOk456.png" alt="wKgZO2mDB32AXX1DAANUceWRDOk456.png"/></p>
<p>
	筑牢配电安全防线，系统通过对配电节点的全域、实时监控，实现了对电力故障的早发现、早预警、早处理，有效避免了因电压异常、过载、短路等问题引发的<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>火灾、设备损坏等安全事故，大幅提升了配电系统的运行安全性和可靠性，为各场景的生产生活、运营管理提供了坚实的电力安全保障。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB52AXcgkAATYpwcfEmo022.png" alt="wKgZO2mDB52AXcgkAATYpwcfEmo022.png"/></p>
<p>
	实现运维效率跃升，免布线的部署方式让系统安装周期大幅缩短，相比传统有线系统，部署效率提升 50% 以上；远程监控、远程控制功能让运维人员无需现场巡检，即可实现对配电系统的全方位管控，故障排查时间从数小时缩短至数分钟，大幅减少了运维人力投入和时间成本，实现配电运维的高效化、无人化。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDB6iARpI3AARrOJtfiNg306.png" alt="wKgZPGmDB6iARpI3AARrOJtfiNg306.png"/></p>
<p>
	推动能耗精细化管理，系统可对各区域、各设备的能耗数据进行精准采集、统计分析，为用户提供详细的能耗报表和分析报告，让用户清晰掌握能耗分布和能耗变化趋势，针对性地制定节能改造方案，实现能耗的精细化管控，助力用户降低能耗成本，推动绿色低碳发展。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDB7KAKIH-AAM6DBf_Z7I408.png" alt="wKgZPGmDB7KAKIH-AAM6DBf_Z7I408.png"/></p>
<p>
	降低全生命周期成本，无线化设计减少了布线、管材、人工等前期建设成本，模块化、可拓展的架构设计让系统后期升级、改造更便捷，避免了重复建设；低功耗的感知终端和设备，降低了后期的供电和维护成本，从建设、运营到升级改造，全方位降低了配电监控系统的全生命周期成本。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDB7yAbL6YAAf3nHdqLms215.png" alt="wKgZPGmDB7yAbL6YAAf3nHdqLms215.png"/></p>
<p>
	随着物联网、<a href="https://www.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>、大数据等技术的不断发展，无线物联网智能配电监控系统将朝着更智能、更融合、更开放的方向持续升级。未来，系统将进一步融合人工智能技术，实现对配电系统运行状态的精准预测和智能决策，提前预判潜在故障，实现配电管理的主动防御；同时，系统将与智慧能源管理、智能楼宇、工业互联网等平台深度融合，实现数据共享、功能联动，构建一体化的智能电力管理生态；此外，系统将进一步完善协议兼容和<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>开放，实现与更多品牌、更多类型的电力设备互联互通，为用户提供更具个性化、更贴合实际需求的配电监控解决方案。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/02/AF/wKgZO2dhPoyAXX5kAAT4YADYfVE984.png" alt="wKgZO2dhPoyAXX5kAAT4YADYfVE984.png"/></p>
<p>
	4.硬件选型</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDB9KAHVKbAAQD8qUR3rc529.png" alt="wKgZPGmDB9KAHVKbAAQD8qUR3rc529.png"/></p>
<p>
	5.结语<br/>
	无线赋能，让配电监控摆脱线缆束缚；智能升级，让电力管理更高效、更安全。作为电力管理智能化升级的重要抓手，无线物联网智能配电监控系统已在各行业的实践应用中展现出强大的生命力和应用价值。未来，随着技术的不断迭代和应用场景的持续拓展，无线智能配电监控系统将成为各行业配电管理的主流选择，<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[工商储换电站配套电表]]></title>    <link>https://www.elecfans.com/d/7638158.html</link>    <guid>https://www.elecfans.com/d/7638158.html</guid>    <pubDate>2026-02-04 16:57:00</pubDate>    <description><![CDATA[<p>
	19821800313</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeCAYxnzAADGh_OIL3036.jpeg" alt="wKgZO2mDCeCAYxnzAADGh_OIL3036.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeCAQ-U_AAGXOeHgdo042.jpeg" alt="wKgZPGmDCeCAQ-U_AAGXOeHgdo042.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeGAZKwiAAFHFjtuWxY26.jpeg" alt="wKgZPGmDCeGAZKwiAAFHFjtuWxY26.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeGABjfMAAGP1I2WPJA20.jpeg" alt="wKgZO2mDCeGABjfMAAGP1I2WPJA20.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeKAR6gfAAFnhn5rLcU55.jpeg" alt="wKgZPGmDCeKAR6gfAAFnhn5rLcU55.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeOAJBdJAAFNHujgi8A85.jpeg" alt="wKgZO2mDCeOAJBdJAAFNHujgi8A85.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeOAG0tiAAGJnBYy2W819.jpeg" alt="wKgZPGmDCeOAG0tiAAGJnBYy2W819.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeOADmHHAAHs_eUHnrc88.jpeg" alt="wKgZO2mDCeOADmHHAAHs_eUHnrc88.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeSASpmoAAE8HhK3zwA69.jpeg" alt="wKgZO2mDCeSASpmoAAE8HhK3zwA69.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeSAGe4rAAIsKfeHoLs09.jpeg" alt="wKgZPGmDCeSAGe4rAAIsKfeHoLs09.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeWAVKC3AAGvwr8yxTg61.jpeg" alt="wKgZO2mDCeWAVKC3AAGvwr8yxTg61.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B5/wKgZPGmDCeWAVcrEAAFIrvruBjY25.jpeg" alt="wKgZPGmDCeWAVcrEAAFIrvruBjY25.jpeg"/></p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B4/wKgZO2mDCeaAQmh5AAFYe5AXggM25.jpeg" alt="wKgZO2mDCeaAQmh5AAFYe5AXggM25.jpeg"/></p>
<p>
	<br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[CNC五金加工：从代工到智造，如何助力中国制造升级]]></title>    <link>https://www.elecfans.com/d/7638163.html</link>    <guid>https://www.elecfans.com/d/7638163.html</guid>    <pubDate>2026-02-04 16:59:00</pubDate>    <description><![CDATA[<p>
	在现代精密制造领域，CNC（计算机<a href="https://www.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>）五金加工凭借自动化、<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、高一致性的核心优势，已成为支撑电子元件、汽车零部件、航空航天配件等多领域量产的核心技术，更是珠三角地区精密制造产业升级的重要引擎。与传统手工加工相比，CNC五金加工通过数字化程序实现对机床的精准控制，可完成复杂异形结构加工，有效解决传统加工误差大、效率低、批量稳定性差的痛点，适配高端制造对五金零部件的严苛要求。</p>
<p>
	一、CNC五金加工的核心原理与技术架构</p>
<p>
	CNC五金加工的核心是通过计算机数字<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>，将加工需求转化为机床可识别的指令，驱动刀具与工件完成精准相对运动，实现金属零部件的自动化切削加工。其完整技术架构包含三大核心模块，形成闭环控制体系：</p>
<p>
	1、控制系统：作为“大脑”负责指令解析与运动规划，主流系统如华中10型已集成<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>芯片与大语言模型，可实现自主感知、决策与优化；</p>
<p>
	2、执行机构：包括机床主轴、进给轴、刀具库等，通过<a href="https://www.elecfans.com/v/tag/194/" target="_blank"><u>伺服电机</u></a>驱动，完成铣削、车削等加工动作；</p>
<p>
	3、检测反馈模块：通过光栅尺、纳米时栅<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>等设备实时采集加工数据，对比理论参数并修正误差，保障加工精度。</p>
<p>
	二、CNC五金加工的主流工艺与设备选型</p>
<p>
	1、铣削工艺：主要用于平面、沟槽、复杂曲面加工，适配三轴、四轴、五轴数控铣床，其中五轴联动铣床已成为高端制造标配，国产设备精度可达0.003mm，可完成航空发动机叶盘等复杂零件加工；</p>
<p>
	2、车削工艺：针对回转体零件，如轴类、套类五金件，通过数控车床实现外圆、内孔、螺纹的高效加工，适配汽车<a href="https://www.elecfans.com/baike/qichedianzi/qichedianzijichuzh" target="_blank"><u>变速箱</u></a>端盖等批量零件生产；</p>
<p>
	3、复合加工：工艺则整合铣削、钻孔、攻丝等多工序，通过加工中心实现一次装夹完成全流程加工，效率较传统工艺提升50%以上。</p>
<p>
	三、CNC五金加工的关键技术要点：材料适配与精度控制</p>
<p>
	1、材料适配方面</p>
<p>
	不同五金材质的切削特性差异显著，需针对性调整工艺参数与刀具配置：铝合金质地轻盈、易切削，需采用锋利刀具与适量切削液，防止积屑瘤产生；不锈钢硬度高、韧性大，易粘刀，需选用<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>Ti</u></a>AlN涂层硬质合金刀具，降低切削速度并加强润滑；钛合金、模具钢等高端材质切削难度大，需采用<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>N刀具或金刚石刀具，搭配低速进给与充分冷却，避免切削热积聚导致刀具磨损与零件变形。</p>
<p>
	2、精度控制</p>
<p>
	（1）工艺优化：通过AI自适应加工调整切削参数，减少振动与热变形，可使刀具寿命延长40%；</p>
<p>
	（2）检测闭环：采用三坐标测量仪、激光干涉仪等设备，实现关键尺寸的实时检测，将定位精度控制在0.1μm以内；</p>
<p>
	（3）设备维护：通过预测性维护提前7天预警设备故障，减少非计划停机对精度的影响。</p>
<p>
	四、CNC五金加工的行业技术趋势</p>
<p>
	1、智能化方面：自动<a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>将工艺设计时间从小时级缩至分钟级，语音编程可实现数秒内生成完整G代码，数字孪生技术通过虚拟<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>提前规避加工误差，使良品率提升30%以上；</p>
<p>
	2、复合化方面：3D打印+切削、激光+切削一体化设备兴起，大幅缩短工序切换时间；</p>
<p>
	3、绿色化方面：微量润滑技术替代传统冷却液，可减少90%的污染物排放，节能型机床能耗降低30%以上。</p>
<p>
	CNC五金加工是数字化与<a href="https://www.elecfans.com/v/tag/1268/" target="_blank"><u>机械制造</u></a>深度融合的产物，其技术体系涵盖原理架构、工艺适配、精度控制等多个维度，随着AI、数字孪生等技术的深度应用，将持续赋能精密制造产业升级。对于珠三角地区制造企业而言，掌握CNC五金加工的核心技术要点、适配行业发展趋势，是提升核心竞争力的关键，也是推动国产精密制造从跟跑到领跑的重要支撑。</p>
<p>
	<br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[【RA-Eco-RA2E1-V1.0开发板试用】 帮你避坑篇！]]></title>    <link>https://www.elecfans.com/d/7638174.html</link>    <guid>https://www.elecfans.com/d/7638174.html</guid>    <pubDate>2026-02-04 17:02:00</pubDate>    <description><![CDATA[<p>
	<strong>我花了三天时间，才把灯点上！！</strong></p>
<p>
	一、资料获取</p>
<p>
	<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>cu.cn</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B3/wKgZO2mDBGOAEyDLAACWBi3k5Zc062.png" alt="wKgZO2mDBGOAEyDLAACWBi3k5Zc062.png"/><img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDCbmAUUpMAAAj6Mz2E5M837.png" alt="wKgZO2mDCbmAUUpMAAAj6Mz2E5M837.png"/></p>
<p>
	下载用于串口下载的软件：Flash Programmer。（没有官方烧录器的用这个）</p>
<p>
	找到开发板资料下载，选择自己的开发板点击下载。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B3/wKgZPGmDBJaASO3KAABZPG1Onfg541.png" alt="wKgZPGmDBJaASO3KAABZPG1Onfg541.png"/></p>
<p>
	会得到这样的资料，里面有例程，ppt教程，原理图<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>，还有一些手册，但是这些手册是英文的，对中文阅读不是很友好。</p>
<p>
	然后下载开发工具IDE。</p>
<p>
	这里的IDE一定不要去官网下载最新的，注意！！！！</p>
<p>
	这里我们在例程里的代码是基于FSP 3.2.0的，如果你去下载官网最新版本的是用不了例程的！！我在这里被坑了好久，而PPT里面也没要告诉你应该下载的版本信息！</p>
<p>
	打开github链接：Releases · rene<a href="https://m.hqchip.com/app/1686" target="_blank"><u>sas</u></a>/fsp</p>
<p>
	找到FSP 3.2.0版本的e2studio下载，用这个直接可以打开例程。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B3/wKgZO2mDBgeAOYQTAADZNdMlS-Y311.png" alt="wKgZO2mDBgeAOYQTAADZNdMlS-Y311.png"/></p>
<p>
	二、环境搭建</p>
<p>
	这一部分可以照着PPT熟悉一下流程，比如如何搭建工程，选择工具等等，这里不做赘述。</p>
<p>
	以下部分主要着重如何导入例程，并点亮<a href="https://m.hqchip.com/app/1721" target="_blank"><u>LED</u></a>灯。</p>
<p>
	三、例程导入</p>
<p>
	打开e2studio，然后点击文件-导入。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDBqyAPX55AADY6eq8DPU036.png" alt="wKgZPGmDBqyAPX55AADY6eq8DPU036.png"/></p>
<p>
	然后点击项目-C/<a href="https://www.elecfans.com/tags/C++/" target="_blank"><u>C++</u></a> project set<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ng 按照图片设置输出hex文件。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB6KAE5ynAAD3qzjZpwg352.png" alt="wKgZO2mDB6KAE5ynAAD3qzjZpwg352.png"/></p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDBzeAf-4aAABkBtWYpQY557.png" alt="wKgZPGmDBzeAf-4aAABkBtWYpQY557.png"/></p>
<p>
	选择例程对应的文件夹。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDB-eANUCTAAACjVAUoOE392.png" alt="wKgZPGmDB-eANUCTAAACjVAUoOE392.png"/></p>
<p>
	点击小锤子进行编译，编译后的hex文件会存在于你的例程文件夹下的debug文件。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZPGmDCCuAP4PAAAB4zpLe2_k322.png" alt="wKgZPGmDCCuAP4PAAAB4zpLe2_k322.png"/></p>
<p>
	四、串口烧录</p>
<p>
	使用<a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a>-TTL工具</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDCJCAJOTbACY6zwD0KX4652.png" alt="wKgZO2mDCJCAJOTbACY6zwD0KX4652.png"/></p>
<p>
	TX接P110 RX接P109 3.3V接VCC GND接GND。</p>
<p>
	注意：<strong>下载时BOOT要置0，运行代码时BOOT要置1</strong>. 通过板子上那个<a href="https://m.hqchip.com/app/1516" target="_blank"><u>跳线帽</u></a>设置工作模式！</p>
<p>
	具体使用教程PPT里有详解，<strong>只需要记住连不上就按一下复位键！！连不上就按一下复位键！！</strong></p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B5/wKgZPGmDCXSAC2LVAABL6ucMj1A367.png" alt="wKgZPGmDCXSAC2LVAABL6ucMj1A367.png"/></p>
<p>
	我这里是下载烧录成功后的图片。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDCeGAekhmACc_pHtroV0529.png" alt="wKgZO2mDCeGAekhmACc_pHtroV0529.png"/></p>
<p>
	和<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>接在一起插到主机上。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B5/wKgZPGmDCfKAfr5yACxu-k7Hmz4311.png" alt="wKgZPGmDCfKAfr5yACxu-k7Hmz4311.png"/></p>
<p>
	闪烁灯实验完成。</p>
<p>
	<strong>主要是帮大家避一下可能会遇到的坑，尤其是他的教程和最新版本不对应的问题。<br/><br/>
	审核编辑 黄宇</strong></p>]]></description></item><item>    <title><![CDATA[英飞凌氮化镓技术赋能Enphase Energy新一代IQ9光伏微型逆变器]]></title>    <link>https://www.elecfans.com/d/7638215.html</link>    <guid>https://www.elecfans.com/d/7638215.html</guid>    <pubDate>2026-02-04 17:03:00</pubDate>    <description><![CDATA[<p/><p style="margin-left:0px;text-align:justify;"><a href="https://bbs.elecfans.com/group_1203" target="_blank"><u>英飞凌</u></a>科技股份公司（FSE代码：IFX / OTCQX代码： IFNNY）近日宣布<span style="color:rgb(8,102,92);"><strong>将为Enphase Energy, Inc.（ENPH）新一代光伏微型<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>提供其突破性的<a href="https://www.elecfans.com/tags/氮化镓/" target="_blank"><u>氮化镓</u></a>（GaN）技术。</strong></span>Enphase Energy是一家全球领先的能源技术公司，同时也是光伏及电池系统微型逆变器领域全球领先的供应商。英飞凌的CoolGaN双向开关（BDS）技术可大幅提升Enphase IQ9系列微型逆变器的输出功率、能源效率及系统可靠性，有助于简化新一代IQ9N-3P商用微型逆变器的设计复杂性，并降低其安装和系统平衡成本。</p><p style="margin-left:0px;text-align:justify;"><img src="http://images.elecfans.net/uploads/20260204/5f7d03ec-01a8-11f1-96ea-92fbcf53809c.jpg" alt="5f7d03ec-01a8-11f1-96ea-92fbcf53809c.jpg"/></p><p style="margin-left:0px;text-align:center;">采用英飞凌氮化镓技术的Enphase Energy IQ9微型逆变器</p><p style="text-align:justify;"/><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(8,102,92);"><strong>英飞凌科技<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>与传感系统事业部总裁<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>Ad</u></a>am Whi<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>表示：</strong></span>“作为功率<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>领域的市场领导者，英飞凌掌握了所有关键的半导体材料，包括硅（Si）、碳化硅（SiC）和氮化镓（GaN）。而氮化镓技术的研发是我们公司的核心愿景之一，旨在为像Enphase Energy这样的企业提供高效的功率半导体解决方案，助力其开发高性能、高能效的应用产品，从而推动光伏（PV）系统的大规模普及。我们将与Enphase Energy携手推动低碳化进程，降低全球对化石燃料的依赖。”</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="text-align:justify;"><img src="http://images.elecfans.net/uploads/20260204/5f99f510-01a8-11f1-96ea-92fbcf53809c.png" alt="5f99f510-01a8-11f1-96ea-92fbcf53809c.png"/></p><p style="margin-left:0px;text-align:center;">英飞凌CoolGaN 双向开关 BDS 650V G5</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;"><span style="color:rgb(8,102,92);"><strong>Enphase Energy运营高级副总裁Ron Swenson表示：</strong></span>“通过采用英飞凌的CoolGaN双向开关技术，我们的IQ9系列微型逆变器可以服务更为广阔的商业市场。此次合作体现了我们在光伏行业持续推动创新的承诺。氮化镓技术带来的性能提升让我们倍感振奋，同时我们也期待能与英飞凌进一步深化长期合作关系。”</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">英飞凌的CoolGaN双向开关技术正在革新电能转换方式，通过实现单级功率转换，带来全新的可能性。这项技术用单个双向开关替代两个或四个单向开关，从而实现双向电力传输，不仅大幅降低了成本，还助力设计出更紧凑、更高效的电力设备。BDS技术在功率损耗方面表现卓越，与传统硅开关相比减少了68%的损耗，与氮化镓单向开关相比则减少了42%。基于氮化镓的双向开关技术在众多关键应用领域都发挥了重要作用，包括可再生能源（如光伏与风能）、储能系统（ESS）、电动汽车（EV）<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>驱动、车载充电器及<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>服务器等，全面提升这些系统的效率、密度与可靠性。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">此次合作进一步体现了双方在应对快速增长的光伏市场方面的做出的坚定承诺。2024年，全球光伏发电量约占全球总发电量的7%。2024至2030年间，全球新增可再生能源预计将突破5,500吉瓦（GW），几乎是2017至2023年增长量的三倍。根据国际能源署（IEA）预测，到2030年，光伏将为全球贡献80%的新增可再生能源。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">通过实现更高的输出功率与效率，Enphase全新一代微型逆变器不仅满足了住宅太阳能市场的需求，还覆盖了更广阔的商业市场。此次市场拓展充分凸显了英飞凌氮化镓技术的多功能性与卓越性能，同时展现了其在推动可再生能源行业增长与技术创新方面的潜力。</p><p style="margin-left:0px;text-align:justify;"><br/></p><p style="margin-left:0px;text-align:justify;">英飞凌拥有强大的产品组合，仅在过去一年内就发布了40余款氮化镓相关产品，已然成为客户寻求优质氮化镓解决方案的的首选合作伙伴。公司正按计划推进300 mm晶圆上的可扩展氮化镓制造工艺的落地，从而提升优质氮化镓产品的产能，并大幅缩短其交付周期。</p><p style="margin-left:0px;text-align:justify;"/>]]></description></item><item>    <title><![CDATA[国星光电创新产品和前沿方案亮相ISE 2026]]></title>    <link>https://www.elecfans.com/d/7638198.html</link>    <guid>https://www.elecfans.com/d/7638198.html</guid>    <pubDate>2026-02-04 17:12:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<span style="text-indent:2em;">2月3日至6日，全球视听行业规模最大、影响力最广的开年盛会——欧洲视听设备与信息系统集成技术展览会（ISE 2026）在西班牙·巴塞罗那国际展览<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>举行。</span></p>
<p style="text-indent:2em;">
	作为开年出海首展，国星<a href="https://www.elecfans.com/v/tag/2800/" target="_blank"><u>光电</u></a>以“共赴新视界”为主题，展出了多款应用于超高清显示屏、<a href="https://www.elecfans.com/v/" target="_blank"><u>创意</u></a>透明屏等场景的创新产品和前沿方案，吸引了众多参展客商与专业观众驻足交流。</p>
<p style="text-indent:2em;">
	展会首日，国星光电展位（展位号：5A100）接待了来自亚洲、欧洲、北美等地区的海内外客商，并进行深入交流，现场气氛热烈</p>
<p style="text-indent:2em;">
	01AS系列面板产品 “新帅出征”</p>
<p style="text-indent:2em;">
	“这款屏幕画质很细腻，显示效果很出色！”——客商近观搭载了AS系列面板的超高清<a href="https://m.hqchip.com/app/1721" target="_blank"><u>LED</u></a>显示屏，对国星光电产品应用方案给予了高度评价。</p>
<p style="text-indent:2em;">
	<span style="text-indent:2em;">此次展会，国星光电重点亮相应用于超高清LED显示屏的AS系列面板两款新品：AS-0.78面板和AS-0.9（AM Drive）面板。</span></p>
<p style="text-indent:2em;">
	AS-0.78面板：采用自主研发的Micro级MIP0202器件，像素间距为0.78毫米，支持4K/8K分辨率，整屏可呈现超过33万个像素点，画面精细度行业领先。通过覆胶工艺，该屏抗磕碰抗冲击能力达到IP65防护级别，适配多种复杂环境，成为追求极致显示画质与可靠性能双平衡的理想选择。</p>
<p style="text-indent:2em;">
	<span style="text-indent:2em;">AS-0.9（AM Drive）面板：采用自主研发的AM驱动MIP器件与PM驱动模组，实现无频闪显示及16Bit色彩渐变。功耗较常规产品降低20%，可帮助屏显实现高效运行、超清画质呈现与低能耗控制，降低显示设备系统综合成本。</span></p>
<p style="text-indent:2em;">
	现场，国星光电还展出了AS-0.9面板升级版产品。该产品自去年全球首发以来，凭借卓越显示性能与可靠品质，获得市场积极反响，已实现批量出货，广泛应用于高清监控、商业显示等户内外超高清显示场景。</p>
<p style="text-indent:2em;">
	值得一提的是，此次升级版产品搭载了更高性能的国星MIP0606器件，显示效果和稳定性更具优势。</p>
<p style="text-indent:2em;">
	02REESTAR矩阵展现“王牌底气”</p>
<p style="text-indent:2em;">
	在REESTAR展区，新品<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>-3031五色LED因多色块精密分区的外形，在众多全黑封装产品中尤为显眼。</p>
<p style="text-indent:2em;">
	该新品采用五色混光技术（红、绿、蓝、琥珀色、青色），实现了RGB光源超宽色域优势，色温可灵活调节。最高亮度达6000nit，依托五面一体刷墨工艺，产品对比度更高，能更好满足影视虚拟拍摄、沉浸式天幕等对画质显示表现要求极高的专业场景，助力打造更具感染力的视觉体验。</p>
<p style="text-indent:2em;">
	此外，国星光电还带来了RS-1111、RS-1415、RS-1921等REESTAR品牌系列人气产品。该系列产品已广泛应用于大型演唱会、国际体育盛事等场景，在专业视听领域拥有深厚“实战经验”，成为高端市场优选方案。</p>
<p style="text-indent:2em;">
	03灯驱合一方案打破“时空壁垒”</p>
<p style="text-indent:2em;">
	国星光电展位一侧，悬挂展示的透明双面LED屏以轻盈通透的视觉形态与双面成像的创意效果，吸引了来往观众的目光。</p>
<p style="text-indent:2em;">
	该屏幕采用了国星光电自主研发的灯驱合一器件，支持3000至6000nit宽幅亮度调节与170°超广视角观看，动态画面无频闪、不伤眼，视觉体验舒适稳定。相比同类产品，其平均功耗只有60W/台，能效比领先行业，更加节能省电。</p>
<p style="text-indent:2em;">
	凭借双面显示、一体轻薄的结构优势，搭载了国星光电灯驱合<a href="https://www.elecfans.com/v/tag/222/" target="_blank"><u>产品方案</u></a>的透明屏有效优化空间占用与综合成本，能为商业展示、数字艺术、建筑媒体等场景提供绿色环保的LED技术支撑。</p>
<p style="text-indent:2em;">
	前沿布局</p>
<p style="text-indent:2em;">
	展会现场，国星光电还有“隐藏彩蛋”——蜂窝金属网格LED透明薄膜。</p>
<p style="text-indent:2em;">
	该产品采用了前沿的金属网格（Metal Mesh）技术，基于在100μm厚PET柔性基材，通过精密蚀刻2μm超薄铜层，制成了线宽仅9μm（低于市面常见规格50%以上）的蜂窝状导电线路的透明薄膜模块。该产品在实现85%以上高透光率的同时，保持了基材的柔韧性，呈现了真正的柔性全透明显示。</p>
<p style="text-indent:2em;">
	出海扬帆新征程，共赴美好新视界！</p>
<p style="text-indent:2em;">
	此次ISE 2026，不仅是国星光电创新产品与方案的集中呈现，更是公司对LED显示产业未来发展的主动赋能。面向全球，国星光电将持续以开放之姿、创新之力，与全球产业链伙伴及客户携手同行，共创新价值、共享新机遇、共赢新未来！</p>
<p style="text-indent:2em;">
	2月3日至6日</p>
<p style="text-indent:2em;">
	ISE 2026精彩继续</p>
<p style="text-indent:2em;">
	国星光电展位号：5A100</p>
<p style="text-indent:2em;">
	Na<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>onStar booth number: 5A100</p>
<p style="text-indent:2em;">
	欢迎莅临，共话新篇！</p>]]></description></item><item>    <title><![CDATA[智驾圈该醒醒了！文远知行韩旭：别再迷信技术名词，能解决问题才是最重要的！]]></title>    <link>https://www.elecfans.com/d/7638200.html</link>    <guid>https://www.elecfans.com/d/7638200.html</guid>    <pubDate>2026-02-04 17:20:00</pubDate>    <description><![CDATA[<p>
	在2025智驾天梯榜年度<a href="https://www.elecfans.com/article/bbs/" target="_blank"><u>论坛</u></a>上，行业核心观点迎来集中释放，文远知行创始人兼CEO韩旭也抛出重要观点：“数据已经没有那么值钱了。”</p>
<p>
	当前智驾行业正处于数据价值重构、技术路线理性回归、工程化落地深化，成为推动行业从“概念喧嚣”走向“务实发展”的三大核心主线。而包括韩旭在内的行业人士普遍预判，<a href="https://www.elecfans.com/tags/自动驾驶/" target="_blank"><u>自动驾驶</u></a>系统能力全面超越人类驾驶的时间窗口，将集中在2032—2033年。</p>
<img alt="" src="https://file1.elecfans.com//web3/M00/4A/B6/wKgZO2mDDz-ASAanAALWIerOebo51.jpeg"/><p>
	技术发展的核心是解决实际问题，而非陷入名词与路线的无意义博弈。当前智驾领域，一段式端到端与两段式、VLA与世界模型的路线之争持续升温，韩旭曾直言这类争论缺乏统一评判标准，如同脱离实际的“纸上谈兵”。行业共识认为，各类技术名词本身并无优劣之分，关键在于技术落地的细节与工程化能力——无论是模型压缩、算子优化，还是系统适配，这些底层细节才是决定技术成效的核心，而非单纯依赖某一概念<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>，这一观点也与韩旭强调的“技术第一性原理”高度契合。</p>
<p>
	智驾行业的成熟，必然要从“相关性依赖”迈入“因果性核心”。当下不少技术讨论仍停留在表面：某一方法在特定场景见效、某一系统演示效果流畅，就被认定为最优方向，这种认知本质上是对技术的片面理解。真正的技术突破，需要厘清因果逻辑：系统为何能应对复杂场景？换一场景能否持续稳定运行？唯有掌握核心因果关系，才能跳出“名词迷信”，实现技术的可持续迭代。</p>
<img alt="" src="https://file1.elecfans.com//web3/M00/4A/B6/wKgZPGmDD0CAFY6pAAK_NarTNyU17.jpeg"/><p>
	数据价值的重构，成为智驾技术突破的重要支撑。韩旭在论坛上提出一个“炸场观点”： “过去大家觉得数据是钻石，但是现在可以人工合成钻石了，有一些长尾效应的数据可能比较值钱，但是不需要那么多了，数据已经没有那么值钱了。”</p>
<p>
	文远知行GENESIS的出现，实现了数据“以一当万”的效果，不仅能精准覆盖极端场景、长尾场景，还能大幅降低实车路测的成本，摆脱对海量实车数据的依赖。行业实践已印证，高质量的虚拟合成数据，远比低质量的海量数据更具价值，仅少量长尾数据仍需重点关注，这也与韩旭的判断高度一致。</p>
<img alt="" src="https://file1.elecfans.com//web3/M00/4A/B6/wKgZO2mDD0CAXKWKAAG1KvKyZZQ64.jpeg"/><p>
	同时，L4级技术的下沉赋能，也是当前智驾量产落地的关键路径。韩旭结合文远知行与<a href="https://www.elecfans.com/tags/博世/" target="_blank"><u>博世</u></a>的合作实践提出，将L4级自动驾驶的安全体系、工程经验，下沉到L2++量产车型，既能提升量产车型的智驾能力，也能加速技术的产业化落地。这一过程中，底层基础设施的适配至关重要，无论是实时操作系统的优化，还是安全标准的落地，都需要强大的工程化能力作为支撑，而跨界合作则成为推动这一进程的有效模式。文远知行WePilot 3.0也凭借这一优势，在中国智驾大赛中取得出色表现，连续获得台州和温州两站两站冠军。</p>
<img alt="" src="https://file1.elecfans.com//web3/M00/4A/B6/wKgZPGmDD0GAVZWoAAWAAlPBWjM93.jpeg"/><p>
	智驾行业正逐步回归发展本质。无论是技术研发、数据应用，还是商业落地，聚焦核心问题、夯实工程化能力、坚守务实导向，才是推动行业持续向前的关键。随着技术的不断迭代与落地，2032—2033年自动驾驶系统超越人类驾驶的目标，有望逐步成为现实。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[君耀电子1.5KE与1.5KE-AT系列TVS二极管：高效防护，稳定可靠]]></title>    <link>https://www.elecfans.com/d/7638243.html</link>    <guid>https://www.elecfans.com/d/7638243.html</guid>    <pubDate>2026-02-04 17:20:00</pubDate>    <description><![CDATA[<p><span style="background-color:#FFFFFF;">在电子设备日益普及的今天，电路保护显得尤为重要。瞬态电压抑制器（<a href="https://www.hqchip.com/app/1587" target="_blank"><u>TVS</u></a>）作为一种高效的防护器件，广泛应用于各类<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>、<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>及<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>线路中。国巨旗下品牌君耀电子推出的1.5KE系列及其汽车级衍生1.5KE-AT系列TVS<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>，以其出色的钳位能力、高功率耐受性和良好的可靠性，成为众多<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在电路保护设计中的优选。</span></p><p/><p><span style="background-color:#FFFFFF;"><strong>产品概述与核心特性</strong></span></p><p><span style="background-color:#FFFFFF;">1.5KE系列是君耀电子推出的轴向引线封装TVS二极管，采用标准的DO-201外壳，具备1500W的峰值脉冲功率（10/1000μs波形），能有效吸收瞬间<a href="https://m.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>浪涌，保护后端电路免受损坏。该系列涵盖从6.8V至600V的反向截止电压范围，并提供单向（A后缀）与双向（CA后缀）两种极性选项，满足不同电路的设计需求。</span></p><p><span style="background-color:#FFFFFF;">1.5KE-AT系列则在1.5KE的基础上，进一步通过了AEC-Q101汽车级可靠性<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>，适用于<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>等对环境耐受性和长期稳定性要求更严苛的场合。两者在<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数上基本一致，但-AT系列在质量控制与测试标准上更为严格。</span></p><img src="https://file1.elecfans.com/web3/M00/4A/B6/wKgZPGmDD1qAVakdAAEjpTZZT8g097.png" alt="wKgZPGmDD1qAVakdAAEjpTZZT8g097.png"/><p><span style="background-color:#FFFFFF;"><strong>1.5KE系列：通用性强，适用面广</strong></span></p><p><span style="background-color:#FFFFFF;">该系列器件采用玻璃钝化结工艺，具有低<a href="https://m.hqchip.com/app/1560" target="_blank"><u>齐纳</u></a>阻抗和优异的钳位特性，响应时间快，能在纳秒级时间内动作。其典型反向漏电流在12V以上型号中低于1μA，有助于降低待机功耗。封装符合UL 94V-0阻燃等级，支持高温焊接（265℃/10秒），便于自动化生产。</span></p><p><span style="background-color:#FFFFFF;">在电气参数方面，1.5KE系列提供从数安培到上百安培的峰值脉冲<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>能力，例如1.5KE6.8CA可在5.8V工作电压下承受144.8A的浪涌电流，钳位电压仅10.5V，表现十分出色。随着电压等级提高，其脉冲电流能力逐步下降，但仍能满足各类中高压线路的防护需求。</span></p><p/><p><span style="background-color:#FFFFFF;"><strong>1.5KE-AT系列：车规认证，高可靠之选</strong></span></p><p><span style="background-color:#FFFFFF;">1.5KE-AT系列除了具备与1.5KE系列相同的电气性能外，最突出的特点是其通过了AEC-Q101认证，适用于汽车电子系统中如<a href="https://www.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>、车载网络、<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>接口等需要高可靠性的场合。该系列同样满足IEC61000-4-2标准的<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>防护要求（30kV空气放电与接触放电），具备良好的抗静电能力。</span></p><p><span style="background-color:#FFFFFF;">在封装与工艺上，-AT系列同样采用DO-201轴向封装，便于与通用系列兼容替换。其工作温度范围覆盖-55℃至+150℃，能适应汽车内部高温恶劣环境。</span></p><p/><p><span style="background-color:#FFFFFF;"><strong>应用领域</strong></span></p><ul><li><span style="background-color:#FFFFFF;"><a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a>/<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>电源输入输出保护</span></li><li><span style="background-color:#FFFFFF;"><a href="https://www.hqchip.com/app/1809" target="_blank"><u>RS232</u></a>、<a href="https://www.hqchip.com/app/1809" target="_blank"><u>RS485</u></a>等低频<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>线路防浪涌</span></li><li><span style="background-color:#FFFFFF;">各类I/O接口防护</span></li><li><span style="background-color:#FFFFFF;">汽车电子电源与信号保护（1.5KE-AT系列）</span></li></ul><p/><p><span style="background-color:#FFFFFF;">君耀电子1.5KE与1.5KE-AT系列TVS二极管以其全面的电压覆盖、强大的浪涌吸收能力和良好的可靠性，为各类电子设备提供了有效的过电压防护。无论是普通的工业、通讯设备，还是对可靠性要求极高的汽车电子系统，都能在这两个系列中找到合适的型号。在设计之初合理选用TVS，不仅能提升产品的抗干扰能力，更能显著增强系统的稳定性和使用寿命。</span></p>]]></description></item><item>    <title><![CDATA[SGS为敦泰电子颁发AEC‑Q100车规级可靠性验证证书]]></title>    <link>https://www.elecfans.com/d/7638212.html</link>    <guid>https://www.elecfans.com/d/7638212.html</guid>    <pubDate>2026-02-04 17:21:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，国际公认的测试、检验和<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>机构SGS为敦泰电子股份有限公司（以下简称“敦泰电子”）FT7D62U型号产品颁发AEC‑Q100车规级可靠性验证证书。此次通过AEC-Q100验证，标志着敦泰电子FT7D62U型号产品的质量与可靠性获得了国际权威认可，为其拓展车载电子市场提供了坚实的品质背书。</p>
<p style="text-indent:2em;">
	当前汽车正迎来智能化、触控化升级浪潮，混合AM<a href="https://www.elecfans.com/tags/oled/" target="_blank"><u>OLED</u></a>与柔性AMOLED屏幕应用日益广泛，整车厂与一级供应链对触控<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>的可靠性、环境适应性等提出严苛要求。AEC-Q100作为车规级<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>核心准入门槛，是产品进入汽车应用场景的关键依据，而敦泰电子FT7D62U产品凭借46TX/85RX<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a>道配置、-40℃~105℃宽工作温度等优势聚焦高端车载场景。本次获证不仅是对产品硬实力的权威背书，更是响应行业规范化发展、助力客户突破市场壁垒的关键举措。</p>
<p style="text-indent:2em;">
	在本次合作中，SGS为敦泰电子打造了“专属测试+全流程验证”的综合服务方案，重点覆盖宽温运行、环境可靠性、<a href="https://www.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性、寿命<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>、<a href="https://www.elecfans.com/tags/emc/" target="_blank"><u>EMC</u></a>及<a href="https://m.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>防护等关键项目，实现从合规性到性能的全维度验证。SGS凭借专业实验设备、资深技术团队及严谨可追溯的质量体系，确保测试过程高效推进、数据准确可靠，并提供从方案制定、样品测试、数据审核到证书颁发的一站式闭环服务，不仅提升了产品进入车规级市场的效率，也以高质量验证成果为敦泰电子抢占高端应用场景提供强有力支撑。</p>
<p style="text-indent:2em;">
	此次SGS与敦泰电子的合作，不仅为敦泰电子加速布局<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>市场提供了重要支撑，也为车载触控控制器树立了“高端产品 + 权威验证”的行业标杆，推动相关技术在可靠性和规范化方向持续提升。通过验证的高可靠性触控方案，将有助于降低车辆使用过程中的潜在风险，进一步优化人机交互体验并提升整车安全表现，为汽车电子行业的高质量、可持续发展注入新的动力。</p>
<p style="text-indent:2em;">
	关于敦泰电子</p>
<p style="text-indent:2em;">
	敦泰电子股份有限公司（股票代码3545.TW）是全球领先的人机界面芯片设计公司，致力于<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>屏触控芯片、LCD/AMOLED显示<a href="https://m.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>(DDIC)、LCD/AMOLED显示触控整合单芯片（<a href="https://m.hqchip.com/app/1521" target="_blank"><u>IDC</u></a>/TDDI）、电容式指纹识别芯片的研发、设计及制造，产品已广泛应用于<a href="https://m.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a>、平板/笔记本<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>、智能穿戴、<a href="https://m.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>、车载工控等多个领域。</p>
<p style="text-indent:2em;">
	关于SGS</p>
<p style="text-indent:2em;">
	SGS是国际公认的测试、检验和认证机构，拥有着强大的国际认证网络，能够为半导体客户提供全面的测试（化学测试、可靠性测试）、失效分析、车规验证服务、功能安全评估等。SGS的多国认证服务区域涵盖：北美洲、欧洲、日本、韩国、新加坡、马来西亚、越南、澳大利亚、沙特阿拉伯、科威特、伊拉克库尔德地区以及坦桑尼亚、伊朗、尼日利亚、乌干达、阿尔及利亚以及部分南美国家等，是您值得信赖的合作伙伴。</p>]]></description></item><item>    <title><![CDATA[制造业WMS仓库管理系统推荐：软硬协同+敏捷部署+高效运营]]></title>    <link>https://www.elecfans.com/d/7638213.html</link>    <guid>https://www.elecfans.com/d/7638213.html</guid>    <pubDate>2026-02-04 17:22:00</pubDate>    <description><![CDATA[<div class="vditor-preview__action"/><div class="vditor-reset"><p>在智能制造的浪潮中，一个常常被忽视却至关重要的环节正制约着无数企业的转型步伐——仓库管理。堆积如山的物料、频繁的错发漏发、低效的人工盘点、无法实时追踪的生产进度...这些看似局部的仓储问题，实则是整个制造体系的“血栓点”。</p><p>传统仓储管理模式已难以适应小批量、多品种、快周转的现代制造需求。数据孤岛、人工依赖、响应迟滞，这些问题不仅增加了运营成本，更直接影响了生产节拍、订单交付和客户满意度。</p><p><strong>盘古信息WMS：不止于仓储，更赋能制造</strong></p><p>盘古信息WMS仓库管理系统，专为制造业深度定制，不止于管理物料进出，更致力于打通从原材料入库到成品出库的全流程数据链，构建制造企业的“智能物流中枢”。</p><p><strong>一、</strong><strong>核心优势：为制造而生的设计理念</strong></p><p><strong>1. 全流程可视化管控</strong></p><p>盘古WMS实现了从供应商来料、质检入库、库内作业、生产领料、成品入库到发货出库的全流程数字化管理。通过可视化看板，管理者可实时掌握库存状态、物料流动、作业进度，告别“盲人摸象”式的传统管理。</p><p><strong>2. 智能调度与优化<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a></strong></p><p>系统内置智能调度引擎，可根据生产计划、物料特性、货位状态、作业人员等多维数据，自动生成最优的上下架策略、拣货路径和作业任务，提升仓储效率30%以上。</p><p><strong>3. 深度集成制造执行系统</strong></p><p>作为盘古信息IMS-MOM制造运营管理系统的核心组件，WMS与MES、ERP等系统无缝对接，实现生产需求与物料供应的精准协同，确保“在正确的时间，将正确的物料，送到正确的位置”。</p><p><img src="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDD7uAIjOpABZC6oYZ2EQ616.png" alt="image.png"/></p><p><strong>二、</strong><strong>功能亮点：解决制造仓储痛点</strong></p><p>√精益库存管理</p><p>√多维度库存分类与策略配置</p><p>√批次追溯与先进先出精准管控</p><p>√高效作业执行</p><p>√无纸化作业指导与数据采集</p><p>√多模式拣选策略（按单、波次、合并等）</p><p>√PDA/<a href="https://www.elecfans.com/tags/rfid/" target="_blank"><u>RFID</u></a>/条码多技术融合应用</p><p>√质量管控闭环</p><p>√来料质检与上架关联控制</p><p>√在库物料质量状态跟踪</p><p>√不合格品隔离与处置流程</p><p>√智能数据分析</p><p>√库容利用率分析与优化建议</p><p>√作业效率多维度统计分析</p><p><strong>三、</strong><strong>为什么选择盘古信息WMS？</strong></p><p><strong>深厚的行业积淀：</strong> 盘古信息深耕智能制造近二十年，深刻理解制造业的流程痛点与转型需求。</p><p><strong>灵活的部署方案：</strong> 支持云端、本地及混合部署模式，适应不同规模、不同类型制造企业的需求。</p><p><strong>可扩展的架构设计：</strong> 模块化设计支持功能按需扩展，伴随企业成长持续提供价值。</p><p><strong>全面的服务支持：</strong> 从咨询规划、实施部署到持续优化，提供全生命周期的专业服务。</p><p><strong>开启您的仓储智能变革</strong></p><p>在制造业竞争日益激烈的今天，仓储管理已不再是辅助职能，而是决定企业响应速度、成本控制和客户满意的核心竞争力。盘古信息WMS，正是帮助制造企业将仓储从成本<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>转变为价值中心的关键利器。</p><p>无论您是寻求解决当前仓储瓶颈，还是规划未来的智能物流体系，盘古信息都愿意成为您的合作伙伴，共同打造适应智能制造时代的仓储管理新模式。</p><p>审核编辑 黄宇</p></div>]]></description></item><item>    <title><![CDATA[2025年中国集成电路产量4843亿块，同比增长10.9%]]></title>    <link>https://www.elecfans.com/d/7638214.html</link>    <guid>https://www.elecfans.com/d/7638214.html</guid>    <pubDate>2026-02-04 17:23:00</pubDate>    <description><![CDATA[<p>
	近日，2025年电子信息制造业运行情况发布。2025年，我国电子信息制造业生产快速增长，出口同比持平，效益稳步向好，投资持续下滑，行业整体发展态势良好。</p>
<p>
	<strong>一、生产快速增长</strong></p>
<p>
	2025年，规模以上电子信息制造业增加值同比增长10.6%，增速分别比同期工业、高技术制造业高4.7个和1.2个百分点。12月份，规模以上电子信息制造业增加值同比增长11.8%。主要产品中，<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>产量15.4亿台，同比下降5.8%，其中<a href="https://m.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a>产量12.7亿台，同比下降0.9%<strong>；微型计算机设备产量3.32亿台，同比下降2.9%；<a href="https://www.elecfans.com/v/tag/123/" target="_blank"><u>集成电路</u></a>产量4843亿块，同比增长10.9%</strong>。</p>
<p>
	<strong>二、出口同比持平</strong></p>
<p>
	2025年，规模以上电子信息制造业累计实现出口交货值同比持平。12月份，规模以上电子信息制造业实现出口交货值同比增长1.2%。据海关统计，我国出口笔记本<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>1.33亿台，同比下降7.1%；出口手机7.51亿台，同比下降7.7%；<strong>出口集成电路3495亿个，同比增长17.4%</strong>。</p>
<p>
	<strong>三、效益稳步向好</strong></p>
<p>
	2025年，规模以上电子信息制造业实现营业收入17.4万亿元，同比增长7.4%；营业成本15.1万亿元，同比增长6.9%；实现利润总额7509亿元，同比增长19.5%；营业收入利润率为4.3%，较1—11月提高0.2个百分点。</p>
<p>
	<strong>四、投资持续下滑</strong></p>
<p>
	2025年，电子信息制造业固定资产投资同比下降3.8%，较1—11月下降0.6个百分点，比同期工业投资增速低6.4个百分点。</p>
<p>
	<strong>五、中部地区收入增长较快</strong></p>
<p>
	2025年，规模以上电子信息制造业东部地区实现营业收入122907亿元，同比增长7.8%，较1—11月回落1个百分点；中部地区实现营业收入30149亿元，同比增长11.6%，较1—11月提高1.5个百分点；西部地区实现营业收入20120亿元，同比下降0.3%，较1—11月提高1.3个百分点；东北地区实现营业收入876.5亿元，同比下降3.3%，较1—11月回落0.5个百分点。12月份，东部地区实现营业收入12567亿元，同比下降0.4%；中部地区实现营业收入3445亿元，同比增长24.3%；西部地区实现营业收入2110亿元，同比增长11.9%；东北地区实现营业收入93.7亿元，同比下降7.1%。</p>
<p>
	<b>审核编辑 黄宇</b></p>]]></description></item><item>    <title><![CDATA[世强硬创车规级视觉方案赋能机器人突破技术难题]]></title>    <link>https://www.elecfans.com/d/7638220.html</link>    <guid>https://www.elecfans.com/d/7638220.html</guid>    <pubDate>2026-02-04 17:24:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>的眼睛，正在面临越来越严苛的的要求：</p>
<p style="text-indent:2em;">
	既要足够小，小到能藏在手腕、指尖；</p>
<p style="text-indent:2em;">
	又要足够强，无论远距近距、室内户外，都要有对应的解法；</p>
<p style="text-indent:2em;">
	还要足够稳，无论动态静态，面对抖动、逆光、暗光，都必须始终可靠。</p>
<p style="text-indent:2em;">
	有没有一套视觉系统，其可靠性，历经了比多数机器人场景更严苛的考验？</p>
<p style="text-indent:2em;">
	以世强硬创平台所引入的方案为例——它遵循 “车规级”标准。</p>
<p style="text-indent:2em;">
	这意味着，它从设计之初，就必须在振动、高低温、复杂光照与长时间持续运行中保持稳定。</p>
<p style="text-indent:2em;">
	当这样的基因被注入机器人视觉，带来的不只是参数的提升，更是从可用到可信的跨越。它不只是一颗摄像头，而是一套完整的视觉引擎。</p>
<p style="text-indent:2em;">
	第一，它构建了一套软硬件协同的视觉系统。</p>
<p style="text-indent:2em;">
	软件上，搭载ISP与<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>-ISP技术，在暗光、逆光等复杂光线下实时优化图像，输出始终干净、稳定的画面。</p>
<p style="text-indent:2em;">
	硬件上，具备从<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>到模组的全栈硬件能力，确保系统级的可靠与高效。</p>
<p style="text-indent:2em;">
	这样的技术实力，让它的眼睛能捕捉到高质量的图像信息：</p>
<p style="text-indent:2em;">
	这意味着，无论是动态抓取、自主导航，还是暗光巡检、<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量，它提供的都不只是画面，更是清晰、稳定、可靠的视觉信息。</p>
<p style="text-indent:2em;">
	第二，它适配<a href="https://www.elecfans.com/tags/英伟达/" target="_blank"><u>英伟达</u></a>、地平线、RK等主流算力平台，驱动、<a href="https://www.elecfans.com/v/tag/1004/" target="_blank"><u>ROS</u></a>、ISP 全部就绪，让你从硬件调试中抽身，直接进入<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>与创造。</p>
<p style="text-indent:2em;">
	从机器人到汽车，从工业检测到科研观测，它都能快速融入。</p>
<p style="text-indent:2em;">
	此外，还可提供全套ISP图像调优与算法支持，针对深度感知、目标检测、坡度检测、坑洞与台阶识别等需求，提供含算法的完整模组，大幅减轻用户的实际部署压力。</p>
<p style="text-indent:2em;">
	世强代理联合<a href="https://bbs.elecfans.com/group_350" target="_blank"><u>光电</u></a>，元橡科技，森云智能，联合影像等多家国内外领先<a href="https://www.elecfans.com/tags/机器视觉/" target="_blank"><u>机器视觉</u></a>品牌，可以根据客户“实时深度”、“成本控制”、“<a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>特需”等需求，搭配算力芯片，传感器，<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>，<a href="https://www.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>等产品的一站式方案服务，提供技术选型，快速样品，定制，算法适配调试，量产保障等从研发到量产的全栈支持，让开发更聚焦、更高效。</p>
<p style="text-indent:2em;">
	让机器人看清，只是第一步。</p>
<p style="text-indent:2em;">
	让机器人看懂，并精准行动，才是视觉的终极目标。</p>]]></description></item><item>    <title><![CDATA[破解电力设备防盗难题：智能装置的技术赋能]]></title>    <link>https://www.elecfans.com/d/7638219.html</link>    <guid>https://www.elecfans.com/d/7638219.html</guid>    <pubDate>2026-02-04 17:25:00</pubDate>    <description><![CDATA[<p>
	电力设备盗窃不仅导致巨额财产损失，更可能引发停电事故，影响社会正常运转。传统防盗方式存在响应慢、定位准度低、管理分散等诸多弊端，难以满足现代电网的安全防护需求。电力设备防盗装置通过技术创新，构建起 “监测 - 告警 - 定位 - 追踪” 的全链条防护体系，为破解防盗难题提供了有效解决方案。</p>
<p>
	核心技术的融合应用是装置发挥效能的关键。北斗第三代定位模块的采用，让位置精确度达到 10 米，无论是平原还是山区，都能精准锁定设备位置；<a href="https://www.elecfans.com/tags/nb-iot/" target="_blank"><u>NB-IOT</u></a> <a href="https://www.elecfans.com/soft/data/43-44/" target="_blank"><u>通信技术</u></a>的运用，确保了数据传输的稳定性与低功耗，即便在<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>较弱的区域，也能实现信息的实时上传。振动监测模块以加速度为检测参量，设定 ±1g 的告警阈值，能精准识别设备被撬动、搬运等异常情况，第一时间发出告警信号。</p>
<p>
	在管理效率提升方面，装置搭建了统一后台管理平台，实现了电力设备信息的集中管理。管理人员可通过平台实时查看所有设备的位置信息、运行状态，一旦收到报警推送，便能快速调度人员开展追踪工作。正常运行时，装置每日两次上报位置信息，既保证了监控的连续性，又有效控制了功耗；被盗后自动缩短上报间隔至 3 分钟，确保追踪过程不脱节。</p>
<p>
	实用性与安全性的平衡设计让装置更具推广价值。3-5 年的超长续航能力，避免了频繁更换电池的麻烦；体积小巧、免布线的特点，使其能适配变压器、配电箱等各类电力设备。安装过程中，支持磁吸与螺栓两种固定方式，操作简单快捷，且推荐断电安装，配合手套、护目镜等安全装备，最大限度保障施工人员安全。</p>
<p>
	电力设备防盗装置的应用，不仅降低了盗窃案件发生率，更减轻了电网运维负担，为电网安全稳定运行提供了有力保障。随着<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>、卫星定位等技术的不断发展，这类智能防盗装备将持续迭代升级，为电力行业的安全发展注入更强动力。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[温度补偿芯片衰减器P*V系列：特性、规格与应用解析]]></title>    <link>https://www.elecfans.com/d/7638225.html</link>    <guid>https://www.elecfans.com/d/7638225.html</guid>    <pubDate>2026-02-04 17:30:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638225" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDEOqAE00CAAX1jPodufk633.pdf"/><h1>温度补偿芯片衰减器P*V系列：特性、规格与应用解析</h1>
<p>在电子工程领域，对于GaAs高频<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的温度漂移补偿一直是一个关键问题。今天要介绍的温度补偿芯片衰减器P*V系列，为解决这一问题提供了有效的方案。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638225" target="_blank">PXV1220S-4DBN7-T.pdf</a></p>
<h2>一、产品特性</h2>
<h3>简化温度漂移补偿</h3>
<p>P*V系列的主要特点之一是能够简化GaAs高频放大器的温度漂移补偿。在高频放大器的工作过程中，温度变化会导致性能的不稳定，而该系列衰减器通过自身的特性，有效降低了温度对放大器性能的影响，使得整个系统更加稳定可靠。</p>
<h3>卓越高频特性</h3>
<p>该系列衰减器具备出色的高频特性，能够在高频环境下保持良好的性能。这对于需要处理高频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的电子设备来说至关重要，确保了信号的准确传输和处理。</p>
<h3>环保合规</h3>
<p>产品符合Le<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>（无铅）、Halogen（无卤）以及RoHS标准（除中国RoHS），体现了其在环保方面的优势，满足了现代电子设备对环保的要求。</p>
<h2>二、应用领域</h2>
<p>P*V系列衰减器的应用范围广泛，主要应用于基站等领域。在基站中，需要处理大量的高频信号，并且对信号的稳定性和准确性要求极高。该系列衰减器的特性使其能够很好地满足基站的需求，确保信号的稳定传输。当然，除了基站，它还适用于其他一些对高频信号处理有要求的设备。</p>
<h2>三、规格参数</h2>
<h3>尺寸规格</h3>
<p>P*V系列有不同的型号，如PXV1220S和PBV1632S，它们的尺寸规格有所不同。以毫米为单位，PXV1220S的尺寸为长1.25±0.2、宽0.35±0.2、高2.0±0.2等；PBV1632S的尺寸为长1.60±0.2、宽0.4±0.2、高3.2±0.2等。这些尺寸规格在设计电路板时需要精确考虑，以确保衰减器能够正确安装和使用。</p>
<h3><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>以下是该系列衰减器的电气特性：</p>
<h3>衰减值</h3>
<p>不同型号的衰减值有所不同。PXV1220S（0805）的衰减值有1、2、3、4、5、6、7、8、9、10dB；PBV1632S（1206）的衰减值有1、2、3、4、5、6、7、8、9、10、16dB。在实际设计中，需要根据具体的信号处理要求选择合适的衰减值。</p>
<h3>衰减公差</h3>
<p>在25℃且无负载的条件下，衰减公差为±0.5dB。这一公差范围保证了衰减器在特定条件下的衰减精度，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计时需要考虑这一公差对整个系统性能的影响。</p>
<h3>阻抗</h3>
<p>该系列衰减器的阻抗为50Ω，这是高频电路中常见的阻抗值，与大多数高频设备的阻抗相匹配，确保了信号的有效传输。</p>
<h3>VSWR（电压驻波比）</h3>
<p>VSWR最大值为1.3，较低的VSWR值表示衰减器与系统的匹配良好，能够减少信号的反射，提高信号传输的效率。</p>
<h3>衰减温度系数</h3>
<p>衰减温度系数有多种规格，如N1〜N8（1〜3dB : N1〜N9）。不同的温度系数对应着不同的温度变化对衰减量的影响程度。例如，N1为0.0119dB/dB<em>℃，N5为0.0041dB/dB</em>℃等。在不同的温度环境下，需要根据实际情况选择合适的温度系数，以保证衰减器在温度变化时的性能稳定。</p>
<h3>工作频率</h3>
<p>工作频率范围为<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>〜3GHz，这使得该系列衰减器能够适用于多种高频信号处理场景，满足了大多数高频设备的工作频率要求。</p>
<h3>额定功率</h3>
<p>PXV1220S的额定功率为63mW，PBV1632S的额定功率为100mW。在使用衰减器时，需要确保输入信号的功率不超过其额定功率，以免损坏衰减器。</p>
<h3>工作温度</h3>
<p>工作温度范围为−40℃〜+100℃，这一较宽的温度范围使得该系列衰减器能够在不同的环境温度下正常工作，提高了其适用性和可靠性。</p>
<h3>包装规格</h3>
<p>PXV1220S的包装规格有100pcs/bag、200pcs/reel、1,000pcs/reel；PBV1632S的包装规格有min.20pcs/bag、1,000pcs/reel。工程师在采购时可以根据实际需求选择合适的包装规格。</p>
<h2>四、型号命名规则</h2>
<p>P*V系列衰减器有特定的型号命名规则，以PXV 1220S - - 6dB N1 T为例：</p>
<ul>
<li>“PXV”为产品代码。</li>
<li>“1220S”表示尺寸。</li>
<li>“6dB”表示衰减量。</li>
<li>“N1”表示衰减温度系数。</li>
<li>“T”表示包装形式（T02 = 200，T1 = 1,000，B = Bulk）。</li>
</ul>
<p>通过这种命名规则，工程师可以快速了解衰减器的关键参数，方便选型和设计。</p>
<p>在实际的电子工程设计中，工程师需要根据具体的应用场景和需求，综合考虑P*V系列衰减器的各项特性和规格参数，合理选择型号，以确保整个电子系统的性能和稳定性。大家在使用过程中，是否遇到过类似衰减器选型的难题呢？欢迎在评论区分享。 </p>]]></description></item><item>    <title><![CDATA[温度补偿芯片衰减器P*V系列：特性、应用与规格解析]]></title>    <link>https://www.elecfans.com/d/7638226.html</link>    <guid>https://www.elecfans.com/d/7638226.html</guid>    <pubDate>2026-02-04 17:30:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638226" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEOqAIGIxAAX1jPodufk687.pdf"/><h1>温度补偿芯片衰减器P*V系列：特性、应用与规格解析</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常设计工作中，选择合适的电子元件对于实现高性能电路至关重要。今天，我们就来详细探讨一下温度补偿芯片衰减器P*V系列，看看它有哪些独特之处，能为我们的设计带来怎样的便利。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638226" target="_blank">PXV1220S-6DBN6-T.pdf</a></p>
<h2>一、产品概述</h2>
<p>P*V系列是温度补偿芯片衰减器，主要用于简化GaAs高频<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的温度漂移补偿工作。它具有优异的高频特性，并且符合Le<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>、Halogen、RoHS标准（除中国RoHS），适用于基站等多种应用场景。</p>
<h2>二、产品特性</h2>
<ol>
<li><strong>温度补偿功能</strong>：该系列产品的核心功能就是简化GaAs高频放大器的温度漂移补偿。在实际应用中，温度的变化会对高频放大器的性能产生显著影响，而P*V系列衰减器能够有效应对这一问题，确保放大器在不同温度环境下都能稳定工作。这对于对稳定性要求较高的基站等设备来说，无疑是一个重要的优势。</li>
<li><strong>高频特性优异</strong>：在高频电路设计中，元件的高频特性直接影响着整个电路的性能。P*V系列衰减器具备出色的高频特性，能够满足高频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>处理的需求，为高频电路设计提供了可靠的保障。</li>
<li><strong>环保合规</strong>：该系列产品符合Lead、Halogen、RoHS标准，这意味着它在生产和使用过程中对环境的影响较小，符合现代电子设备的环保要求，也有助于企业满足相关法规和标准。</li>
</ol>
<h2>三、产品规格</h2>
<h3>1. 产品型号与尺寸</h3>
<table>
<thead>
<tr>
<th>P*V系列主要有PXV1220S（0805）和PBV1632S（1206）两种型号，它们的具体尺寸规格如下：</th>
<th>型号</th>
<th>尺寸（单位：mm）</th>
</tr>
</thead>
<tbody>
<tr>
<td>PXV1220S</td>
<td>长1.25±0.2，宽0.35±0.2，高2.0±0.2，其他相关尺寸如0.9±0.2、0.35±0.2、0.55±0.2等</td>
</tr>
<tr>
<td>PBV1632S</td>
<td>长1.60±0.2，宽0.4±0.2，高3.2±0.2，还有一些相关尺寸如0.4±0.1、0.4±0.2等</td>
</tr>
</tbody>
</table>
<h3>2. <a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<table>
<thead>
<tr>
<th>特性参数</th>
<th>PXV1220S (0805)</th>
<th>PBV1632S (1206)</th>
</tr>
</thead>
<tbody>
<tr>
<td>衰减值</td>
<td>1, 2, 3, 4, 5, 6, 7, 8, 9, 10dB</td>
<td>1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 16dB</td>
</tr>
<tr>
<td>衰减公差</td>
<td>±0.5dB(@25℃, 无负载)</td>
<td/>
</tr>
<tr>
<td>阻抗</td>
<td>50Ω</td>
<td/>
</tr>
<tr>
<td>电压驻波比（VSWR）</td>
<td>1.3max.</td>
<td/>
</tr>
<tr>
<td>衰减温度系数</td>
<td>N1〜N8 (1〜3dB : N1〜N9)</td>
<td/>
</tr>
<tr>
<td>N1 0.0119dB/dB<em>℃，N2 0.0088dB/dB</em>℃ 等多种系数</td>
<td/>
<td/>
</tr>
<tr>
<td>工作频率</td>
<td><a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>〜3GHz</td>
<td/>
</tr>
<tr>
<td>额定功率</td>
<td>63mW</td>
<td>100mW</td>
</tr>
<tr>
<td>工作温度范围</td>
<td>−40℃〜+100℃</td>
<td/>
</tr>
</tbody>
</table>
<p>不同的衰减值和衰减温度系数为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计时提供了更多的选择，以满足不同电路的需求。而工作频率范围和额定功率则决定了它的适用场景。例如，DC〜3GHz的工作频率范围使其在很多<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>电路中都能发挥作用，不同的额定功率可以根据实际功率需求进行选择。</p>
<h3>3. 包装规格</h3>
<p>PXV1220S有100pcs/袋、200pcs/卷、1,000pcs/卷三种包装规格；PBV1632S最小包装为20pcs/袋，也有1,000pcs/卷的包装。工程师可以根据实际使用量和采购需求选择合适的包装。</p>
<h2>四、产品命名系统</h2>
<p>以“PXV 1220S - - 6dB N1 T”为例，这个命名系统包含了丰富的信息：</p>
<ul>
<li>“PXV”是产品代码。</li>
<li>“1220S”表示尺寸。</li>
<li>“6dB”是衰减值。</li>
<li>“N1”代表衰减温度系数。</li>
<li>“T”涉及包装信息（T02=200，T1=1,000，B=Bulk）。</li>
</ul>
<p>通过这种命名方式，工程师可以快速识别产品的关键参数，方便在设计和采购过程中进行准确选择。</p>
<h2>五、总结与思考</h2>
<p>P*V系列温度补偿芯片衰减器凭借其独特的温度补偿功能、优异的高频特性以及丰富的规格选择，在高频电路设计中具有很大的应用潜力。尤其是在基站等对稳定性和性能要求较高的应用场景中，它能够发挥重要的作用。</p>
<p>对于电子工程师来说，在使用P*V系列衰减器时，需要根据具体的设计需求，仔细选择合适的型号和参数。例如，在设计一个对温度稳定性要求极高的高频放大器时，应该如何根据衰减温度系数来优化<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>？在考虑成本和性能的平衡时，又该如何选择合适的包装规格？这些问题都值得我们在实际工作中深入思考和探索。</p>
<p>希望通过这篇文章，能让大家对P*V系列温度补偿芯片衰减器有更深入的了解，为大家的电子设计工作提供一些有益的参考。  </p>]]></description></item><item>    <title><![CDATA[高精度贴片衰减器PAT系列：性能卓越，应用广泛]]></title>    <link>https://www.elecfans.com/d/7638227.html</link>    <guid>https://www.elecfans.com/d/7638227.html</guid>    <pubDate>2026-02-04 17:30:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638227" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEOqAH6uQAAl6cruOP0g193.pdf"/><h1><a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>贴片衰减器PAT系列：性能卓越，应用广泛</h1>
<p>在电子设备中，<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的精确控制至关重要，而衰减器则是实现这一目标的重要元件。今天我们要介绍的是SSMSUSUMU的高精度贴片衰减器PAT系列，它以其出色的性能和特点，在诸多领域有着广泛的应用。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638227" target="_blank">PAT0510S-C-5DB-T10.pdf</a></p>
<h2>特点与优势</h2>
<h3>宽频覆盖小体积</h3>
<p>PAT系列的一大特色是单芯片衰减器能够覆盖较宽的频率范围，这为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计时提供了极大的便利。同时，它提供从1005到3042不同尺寸的产品，有助于设备的小型化设计。例如，在一些对空间要求极高的便携式设备中，小尺寸的衰减器可以有效节省电路板空间。</p>
<h3>易安装设计</h3>
<p>其类似常规<a href="https://m.hqchip.com/app/1009" target="_blank"><u>贴片电阻</u></a>的环绕式引脚设计，使得安装过程更加简单方便。这对于大规模生产来说，可以提高生产效率，降低安装成本。</p>
<h3>集成化优势明显</h3>
<p>该系列衰减器内部集成了三个<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>元件。如果使用分立电阻构建衰减器，则需要三个电阻。这种集成化设计带来了多方面的好处：</p>
<ul>
<li><strong>高精度衰减</strong>：三个精密电阻集成作为一个衰减器，能够轻松实现精确的衰减效果。</li>
<li><strong>减少寄生效应</strong>：由于三个元件集成在一个小区域内，寄生<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>和电感被最小化，更容易获得所需的衰减效果。</li>
<li>
<p><strong>电路小型化与可靠性提升</strong>：一个衰减器可以替代三个分立电阻，有助于缩小电路尺寸，同时提高电路的可靠性。</p>
<h2>应用领域</h2>
<p>PAT系列衰减器具有无铅、无卤素和符合RoHS标准的特点，适用于多种应用场景，包括：</p>
</li>
<li><strong><a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>基站</strong>：在基站中，需要精确控制信号强度，PAT系列的高精度衰减特性可以满足这一需求。</li>
<li><strong><a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>模块</strong>：对于无线通信模块，要求在不同频段下都能稳定工作，该系列的宽频覆盖能力正好契合。</li>
<li><strong>宽带测量仪器</strong>：在测量仪器中，需要高精度的信号衰减来确保测量的准确性，PAT系列能够提供可靠的衰减性能。</li>
</ul>
<h2>产品规格</h2>
<h3>型号命名</h3>
<p>PAT系列采用特定的编号系统，例如PAT 1632 - C - 3dB - T1 。其中，“PAT”为系列代码；“1632”表示尺寸；“C”表示阻抗为50Ω（“D”表示75Ω）；“3dB”表示衰减值；“T1”表示包装方式（“T”表示卷带包装，“B”表示散装）。</p>
<h3><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>规格</h3>
<table>
<thead>
<tr>
<th>不同型号的衰减器在电气性能上有所差异，以下是一些关键参数：</th>
<th>型号</th>
<th>适用频率范围</th>
<th>额定功率</th>
<th>衰减公差</th>
<th>阻抗</th>
<th>VSWR</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAT0510S</td>
<td><a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> ~ 10GHz</td>
<td>32mW</td>
<td>±0.3dB（0 - 3dB）、±0.5dB（4 - 7dB）、±0.7dB（8 - 10dB）</td>
<td>50Ω</td>
<td>&lt; 1.3</td>
</tr>
<tr>
<td>PAT0816</td>
<td>DC ~ 10GHz</td>
<td>64mW</td>
<td>±0.3dB（0 - 3dB）、±0.5dB（4 - 7dB）、±0.7dB（8 - 10dB）</td>
<td>50Ω</td>
<td>&lt; 1.5（6 - 10GHz）、&lt; 1.3（~ 6GHz）</td>
</tr>
<tr>
<td>PAT1220</td>
<td>DC ~ 3GHz</td>
<td>100mW</td>
<td>±0.3dB</td>
<td>50Ω</td>
<td>&lt; 1.3</td>
</tr>
<tr>
<td>PAT1632</td>
<td>DC ~ 3GHz</td>
<td>125mW</td>
<td>±0.3dB（0 - 10dB）、±0.5dB（16dB）</td>
<td>50Ω</td>
<td>&lt; 1.3</td>
</tr>
<tr>
<td>PAT3042S（50Ω）</td>
<td>DC ~ 3GHz</td>
<td>250mW</td>
<td>±0.3dB（0 - 10dB）、±0.5dB（16dB、20dB）</td>
<td>50Ω</td>
<td>&lt; 1.2</td>
</tr>
<tr>
<td>PAT3042S（75Ω）</td>
<td>DC ~ 2GHz</td>
<td>250mW</td>
<td>±0.3dB（0 - 10dB）、±0.5dB（16dB、20dB）</td>
<td>75Ω</td>
<td>&lt; 1.3</td>
</tr>
</tbody>
</table>
<p>从这些参数中可以看出，不同型号在频率范围、额定功率、衰减公差等方面有所不同，工程师可以根据具体的设计需求进行选择。</p>
<h3>尺寸规格</h3>
<table>
<thead>
<tr>
<th>PAT系列各型号有着明确的尺寸规格，以下为部分型号示例（单位：mm）：</th>
<th>型号</th>
<th>尺寸（英寸）</th>
<th>L</th>
<th>W</th>
<th>t</th>
<th>a</th>
<th>c</th>
<th>b</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAT0510S</td>
<td>0402</td>
<td>1.00 ± 0.05</td>
<td>0.50 ± 0.05</td>
<td>0.34 ± 0.05</td>
<td>0.12 ± 0.04</td>
<td>0.27 ± 0.05</td>
<td>0.25 ± 0.05</td>
</tr>
</tbody>
</table>
<p>在设计电路板时，精确的尺寸信息是确保元件安装和布局的关键。</p>
<h3>推荐焊盘尺寸</h3>
<table>
<thead>
<tr>
<th>为了保证衰减器的良好焊接和性能，SSMSUSUMU提供了推荐的焊盘尺寸，以下是部分型号的推荐焊盘尺寸（单位：mm）：</th>
<th>型号</th>
<th>W1</th>
<th>Wb</th>
<th>L1</th>
<th>Lb</th>
</tr>
</thead>
<tbody>
<tr>
<td>PAT0510S</td>
<td>0.30</td>
<td>0.20</td>
<td>0.35</td>
<td>0.37</td>
</tr>
<tr>
<td>PAT0816</td>
<td>0.40</td>
<td>0.30</td>
<td>0.60</td>
<td>0.50</td>
</tr>
</tbody>
</table>
<p>合适的焊盘尺寸可以提高焊接质量，减少焊接缺陷，确保信号传输的稳定性。</p>
<h2>高频特性</h2>
<p>在高频性能方面，PAT系列表现出色。从给出的图表可以看出，不同型号在不同的频率和衰减值下，电压驻波比（VSWR）和衰减性能都有较好的表现。例如，PAT0816在3dB衰减时，在低频段VSWR接近1.0，随着频率升高，VSWR也能保持在较低水平。这说明该系列衰减器在高频信号处理中能够提供稳定的性能。</p>
<h2>总结</h2>
<p>SSMSUSUMU的PAT系列高精度贴片衰减器凭借其宽频覆盖、易安装、集成化等特点，在多个领域有着重要的应用价值。其丰富的型号和详细的规格参数，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>提供了更多的选择空间。在实际设计中，工程师可以根据具体的应用场景和性能要求，合理选择合适的衰减器型号，以实现最佳的信号控制效果。大家在使用PAT系列衰减器时，有没有遇到什么特别的问题或者经验呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[Peregrine PE42742 SPDT UltraCMOS™开关：宽带应用的理想之选]]></title>    <link>https://www.elecfans.com/d/7638228.html</link>    <guid>https://www.elecfans.com/d/7638228.html</guid>    <pubDate>2026-02-04 17:30:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638228" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDEOqAbSmbAA6B8Zy-7_8173.pdf"/><h1>Peregrine PE42742 SPDT Ultr<a href="https://www.hqchip.com/app/1703" target="_blank"><u>aC</u></a>MOS™开关：宽带应用的理想之选</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常工作中，为特定应用选择合适的开关是一项关键任务。今天，我们来深入探讨Peregrine Semiconductor的PE42742 SPDT UltraCMOS™开关，看看它在宽带应用领域有哪些独特的优势。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638228" target="_blank">PE42742MLIBB-Z.pdf</a></p>
<h2>产品概述</h2>
<p>PE42742是一款专为宽带应用设计的单刀双掷（SPDT）开关，适用于有线电视（CATV）、数字电视（DTV）、多调谐器数字视频录像机（MultiTuner DVR）、机顶盒、个人<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>电视（PCTV）和游戏盒等多种设备。它采用了Peregrine的UltraCMOS™工艺，这是一种基于蓝宝石衬底的绝缘体上硅（SOI）技术的专利变体，兼具了砷化镓（GaAs）的高性能和传统互补金属氧化物<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>（CMOS）的经济性与集成性。</p>
<h2>产品特性</h2>
<h3>高隔离度</h3>
<p>该开关满足FCC 15.115规范，在216 MHz时隔离度可达80 dB，在1000 MHz时仍能保持63 dB的高隔离度，有效减少了<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>干扰，提高了系统的性能。
在电子系统中，开关的隔离度对系统性能有着至关重要的影响。高隔离度意味着不同信号通道之间的相互干扰更小，能够有效减少串扰现象。这对于像PE42742应用的有线电视、数字电视等系统来说，尤为关键。因为在这些系统中，不同频段的信号需要同时传输和处理，如果开关隔离度不足，就可能导致信号之间的串扰，使图像出现雪花、条纹等干扰，或者声音出现杂音，严重影响用户体验。电子工程师在设计系统时，是否考虑过如何根据具体的应用场景来确定合适的隔离度要求呢？</p>
<h3>低插入损耗</h3>
<p>该产品在插入损耗方面表现出色，在5 MHz时典型插入损耗仅为0.5 dB，在1000 MHz时为0.8 dB，有助于减少信号传输过程中的能量损失，保证信号的强度和质量。</p>
<h3>无供<a href="https://www.elecfans.com/v/tag/162/" target="_blank"><u>电工</u></a>作状态</h3>
<p>这是PE42742的一大特色，它在无供电状态下也能保持一定的隔离和导通性能。在某些特殊情况下，如设备断电或节能模式下，仍能维持基本的信号通路，这为系统的可靠性和节能设计提供了便利。想象一下，在遇到突发断电时，设备依然能通过开关的无供电工作状态保持基本功能，这对于一些对数据连续性要求较高的应用来说是多么重要。</p>
<h3>静电放电（<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>）保护</h3>
<p>所有引脚具备3500 V人体模型（HBM）的ESD耐受能力，能有效防止因静电放电对开关造成损坏，提高了产品的可靠性和稳定性，减少了因ESD问题导致的故障和<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>成本。</p>
<h3>低<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>消耗</h3>
<p>仅需8 μA的低电流消耗，降低了系统的功耗，符合现代电子设备对节能的要求。对于一些需要长时间运行且对功耗敏感的设备，如便携式设备或待机时间较长的设备，低电流消耗特性可以显著延长电池的使用寿命。</p>
<h3>宽频率范围</h3>
<p>覆盖从5 MHz到超过2200 MHz的宽频率范围，适用于多种不同频段的宽带应用，为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>提供了更广泛的设计选择。</p>
<h3>单一正<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>和CMOS控制</h3>
<p>采用单一+3伏电源供电，并支持CMOS单引脚控制和逻辑选择，简化了<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，降低了设计难度和成本。</p>
<h2>产品规格</h2>
<h3>引脚配置</h3>
<p>PE42742采用20引脚4x4mm四方扁平无引脚（QFN）封装，不同引脚具有明确的功能定义。例如，<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>1、RF2和RFC为<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>输入输出引脚；C1和C2为控制引脚，可用于单引脚或互补引脚控制；VDD为电源引脚；GND为接地引脚。在实际应用中，正确连接引脚是保证开关正常工作的基础，工程师们在焊接和布线时，一定要仔细核对引脚定义，避免出现连接错误。</p>
<h3><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数</h3>
<p>在+25°C、(V<em>{DD}= +3V)、 (Z</em>{S}=Z_{L}=75Omega)的条件下，该产品在不同频率下的插入损耗、隔离度、二阶交调截点（IP2）、三阶交调截点（IIP3）、1 dB压缩点等参数都有明确的规定。例如，在1000 MHz时，RF1 - RFC的插入损耗典型值为0.8 dB，RF1到RF2的隔离度（RFC - RF1 ON）典型值为77 dB。这些参数是工程师评估和选择开关的重要依据，在设计过程中，要根据实际应用需求，对比不同频率下的各项参数，确保开关能够满足系统的性能要求。</p>
<h2>典型应用</h2>
<h3>电视<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>天线</u></a>与有线电视网络隔离</h3>
<p>PE42742能够满足FCC 15.115法规对电视天线和有线电视网络之间高隔离度的要求，并且在断电时仍能保持设备的隔离和导通性能。这一特性使得它非常适合用于机顶盒和录像机等设备中，确保在不同电源状态下都能实现稳定的信号切换和隔离。</p>
<h3>多调谐器设备</h3>
<p>在双调谐器数字电视、数字视频录像机（DVR）和机顶盒等设备中，PE42742可以用于信号的切换和分配。通过合理配置控制引脚，可以实现信号从RFC到RF1或RF2的灵活切换，满足不同调谐器对信号的需求。</p>
<h3>其他应用</h3>
<p>还可应用于个人电脑电视（PCTV）、游戏盒等设备中，为这些设备的信号处理提供可靠的开关解决方案。</p>
<h2>评估套件</h2>
<p>为了方便客户对PE42742进行评估，Peregrine提供了专门的SPDT开关评估套件。该套件的射频公共<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>通过75 Ω传输线连接到J2，端口1和端口2通过75 Ω传输线分别连接到J1和J3。此外，还有一条直通线连接F<a href="https://m.hqchip.com/app/1515" target="_blank"><u>连接器</u></a>J4和J5，可用于估计印刷电路板（<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>）在不同环境条件下的损耗。J6为设备提供直流和数字输入。评估套件的电路板采用两层FR4材料，总厚度为0.032英寸，传输线为混合微带/共面波导结构，带有接地平面。套件中的跳线可将控制引脚短接到地，实现逻辑低电平；移除跳线后，控制输入通过1 MΩ上拉<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>升至(V_{DD})，实现逻辑高电平。这些上拉电阻在正常工作时并非必需，但在评估过程中可以提供方便的控制方式。工程师们在使用评估套件时，可以更直观地了解PE42742的性能特点，根据实际测量结果优化设计方案。</p>
<h2>注意事项</h2>
<h3>静电放电防护</h3>
<p>尽管PE42742内部包含<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>，但在处理该UltraCMOS™器件时，仍需采取与其他ESD敏感设备相同的防护措施，避免超过规定的ESD额定值，以免损坏器件。</p>
<h3>闩锁避免</h3>
<p>与传统CMOS器件不同，UltraCMOS™器件对闩锁现象具有免疫性，这为工程师在设计时提供了一定的便利，减少了对闩锁问题的担忧。</p>
<h3>开关频率</h3>
<p>该开关的最大开关速率为25 kHz，在使用时需要注意信号的切换频率，避免超过其最大开关速率，影响开关的性能和寿命。</p>
<p>综上所述，Peregrine的PE42742 SPDT UltraCMOS™开关凭借其高隔离度、低插入损耗、无供电工作状态等诸多优点，在宽带应用领域具有广阔的应用前景。电子工程师在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>设备时，可以充分考虑这款开关，为产品的性能和可靠性提供有力保障。大家在实际应用中是否遇到过类似开关的其他问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[深入剖析SKY13347 - 360LF：0.5至4.0 GHz SPST开关的卓越性能与应用潜力]]></title>    <link>https://www.elecfans.com/d/7638229.html</link>    <guid>https://www.elecfans.com/d/7638229.html</guid>    <pubDate>2026-02-04 17:30:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638229" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDEOuAWcvJAA0i6-RwjVA857.pdf"/><h1>深入剖析SKY13347 - 360LF：0.5至4.0 GHz SPST开关的卓越性能与应用潜力</h1>
<p>在无线基础设施系统的设计中，<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>开关的性能直接影响着整个系统的稳定性和效率。今天，我们就来深入探讨一下Skyworks公司的SKY13347 - 360LF这款0.5至4.0 GHz的单刀单掷（SPST）开关。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638229" target="_blank">SKY13347-360LF.pdf</a></p>
<h2>产品概述</h2>
<p>SKY13347 - 360LF是一款基于pHEMT GaAs技术的SPST开关，具有50 Ω终端输出。其高线性度、低插入损耗和高隔离度的特性，使其成为众多蜂窝和无线基础设施应用的理想选择。该开关采用紧凑的2 x 2 mm、8引脚双扁平无引脚（DFN）封装，符合MSL1标准，可承受260°C的高温，并且是Skyworks Green™产品，符合所有适用法规，无卤素。</p>
<h2>产品特性亮点</h2>
<h3><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>性能优越</h3>
<ol>
<li><strong>低插入损耗</strong>：在2.0 GHz时，插入损耗仅为0.7 dB。这意味着在<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>传输过程中，能量损失较小，能够保证信号的强度和质量。从电气规格表中可以看到，在不同频率下，插入损耗都控制在较低水平，如在0.5 GHz时典型值为0.50 dB，最大为0.60 dB。</li>
<li><strong>高隔离度</strong>：在2.0 GHz时，隔离度高达35 dB。高隔离度可以有效减少信号之间的干扰，提高系统的抗干扰能力。在不同频率下，隔离度也能保持在较高水平，例如在0.5 GHz时，最小隔离度为40 dB，典型值为45 dB。</li>
<li><strong>良好的回波损耗</strong>：在插入损耗状态下，<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>1和RF2在0.5 GHz至3.0 GHz频率范围内回波损耗典型值为20 dB，3.0 GHz至4.0 GHz为15 dB；在隔离损耗状态下，RF2在0.5 GHz至3.0 GHz频率范围内回波损耗典型值为15 dB，3.0 GHz至4.0 GHz为12 dB。良好的回波损耗表明开关与系统的匹配性较好，能够减少反射信号，提高信号传输效率。</li>
<li><strong>高线性度</strong>：1 dB输入压缩点（IP1dB）在0.5至3.0 GHz频率范围内典型值为+31 dBm，3.0至4.0 GHz @ V1 = 5 V时典型值为+33 dBm；三阶输入截点（IIP3）在<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N = +5 dBm/tone、1 MHz间距的情况下，0.5至3.0 GHz典型值为+40 dBm，3.0 GHz至4.0 GHz @ V1 = 5 V时典型值为+43 dBm。高线性度能够保证信号在传输过程中不失真，提高系统的性能。</li>
</ol>
<h3>封装小巧</h3>
<p>采用2 x 2 mm的8引脚DFN封装，这种紧凑的封装形式不仅节省了电路板空间，还便于集成到各种设备中。同时，封装符合MSL1标准，在焊接过程中能够承受较高的温度，保证了产品的可靠性。</p>
<h2><a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>与控制</h2>
<p>开关的切换由V1引脚的单个控制电压控制。根据施加在控制引脚的逻辑电平，RF1和RF2信号（分别为引脚5和8）通过低插入损耗路径或高隔离路径相互连接。两个RF<a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>都需要直流阻塞<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，电容的值决定了开关的低频工作频率。</p>
<h2>绝对最大额定值与电气规格</h2>
<h3>绝对最大额定值</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>符号</th>
<th>最小值</th>
<th>最大值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>直流<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压</td>
<td>VS</td>
<td/>
<td>6</td>
<td>V</td>
</tr>
<tr>
<td>TOP &lt; 85°C时的输入功率</td>
<td>PIN</td>
<td/>
<td>+32</td>
<td>dBm</td>
</tr>
<tr>
<td>85°C &lt; TOP &lt; 105°C时的输入功率</td>
<td>PIN</td>
<td/>
<td>+20</td>
<td>dBm</td>
</tr>
<tr>
<td>控制电压</td>
<td>V1</td>
<td/>
<td>VS</td>
<td>V</td>
</tr>
<tr>
<td>工作温度（PINMAX = +20 dBm for TOP = +105°C）</td>
<td>TOP</td>
<td>-40</td>
<td>+105</td>
<td>°C</td>
</tr>
<tr>
<td>储存温度</td>
<td>TSTG</td>
<td>-40</td>
<td>+125</td>
<td>°C</td>
</tr>
</tbody>
</table>
<p>需要注意的是，长时间暴露在最大额定值条件下可能会降低设备的可靠性。只有一个参数设置在极限值，而其他参数设置在或低于其标称值时，设备不会损坏。但超过任何一个列出的极限值都可能导致设备永久性损坏。</p>
<h3>电气规格</h3>
<p>电气规格表详细列出了开关在不同测试条件下的性能参数，如插入损耗、隔离度、回波损耗、1 dB输入压缩点、三阶输入截点和开关速度等。这些参数是在特定条件下测量得到的，性能仅在表中列出的条件下得到保证。</p>
<h2>典型性能特性</h2>
<p>文档中给出了多个典型性能特性图表，包括插入损耗与频率的关系、回波损耗与频率的关系、隔离度与频率的关系等。通过这些图表，我们可以直观地了解开关在不同频率和输入功率下的性能表现。例如，从插入损耗与频率的关系图中可以看到，随着频率的增加，插入损耗逐渐增大，但整体仍保持在较低水平。</p>
<h2>真值表与状态控制</h2>
<p>SKY13347 - 360LF的状态由真值表决定。当VS（引脚6）为“1”（+1.8V至+5.0V），V1（引脚7）为“0”（0V至+0.2V）时，开关处于隔离状态；当VS为“1”，V1为VS时，开关处于插入损耗状态。任何未在表中描述的状态都会使开关进入未定义状态，但未定义状态不会损坏设备。</p>
<h2>评估板与封装信息</h2>
<h3>评估板</h3>
<p>SKY13347 - 360LF评估板用于测试开关的性能。文档中提供了评估板的原理图和装配图，方便<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>进行测试和验证。</p>
<h3>封装信息</h3>
<p>包括<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局脚印、典型部件标记、封装尺寸和卷带尺寸等信息。这些信息对于电路板设计和生产非常重要，能够确保开关正确安装和使用。</p>
<h2>订购信息</h2>
<p>该开关的型号为SKY13347 - 360LF，对应的制造部件编号也是SKY13347 - 360LF，评估套件部件编号为SKY13347 - 360LF - EVB。</p>
<h2>总结与思考</h2>
<p>SKY13347 - 360LF作为一款高性能的射频开关，在无线基础设施系统中具有很大的应用潜力。其优越的电气性能、小巧的封装和易于控制的特点，使其成为工程师在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>系统时的不错选择。在实际应用中，工程师需要根据具体的系统需求，合理选择开关的工作条件和参数，以充分发挥其性能优势。同时，要注意遵守绝对最大额定值和相关的使用说明，确保设备的可靠性和稳定性。大家在使用这款开关的过程中，有没有遇到过什么问题或者有什么独特的应用经验呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[昊衡科技 OLI 赋能光纤微裂纹精准检测，筑牢光通信安全防线]]></title>    <link>https://www.elecfans.com/d/7638263.html</link>    <guid>https://www.elecfans.com/d/7638263.html</guid>    <pubDate>2026-02-04 17:32:00</pubDate>    <description><![CDATA[<p style="margin-left:0px;text-align:justify;">光纤作为光<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>系统的核心，其可靠性至关重要。</p><p style="margin-left:0px;text-align:justify;">而光纤微裂纹作为隐形隐患，易由制造缺陷、<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>损伤、环境因素引发，初期隐蔽难查，后期会逐步扩展，导致传输损耗增加、光纤断裂，造成重大通信中断及经济损失。</p><p style="margin-left:0px;text-align:justify;">传统检测方式通常依赖抽检与功率测试，不仅效率有限，更难以实现微米级精度的定位与量化分析——而这，正是生产良率控制与产品寿命预测的关键瓶颈。针对高速测量光纤微裂纹的行业痛点，昊衡科技推出OLI光纤微裂纹检测仪，其优势在于：</p><p style="margin-left:0px;text-align:justify;">典型探测灵敏度可达 -100dB</p><p style="margin-left:0px;text-align:justify;">采样分辨率达 1μm，事件点定位精度在百微米以内</p><p style="margin-left:0px;text-align:justify;">可获取最长 90cm 样品的分布式直观曲线</p><p style="margin-left:0px;text-align:justify;">支持多通道并行测试， 2cm 局部精准扫描（仅需 1.5 秒）</p><p style="margin-left:0px;text-align:justify;">支持 FC/LC/SC/MPO/MT 等多种接头及 PC/APC 端面类型</p><img src="https://file1.elecfans.com//web3/M00/4A/B7/wKgZPGmDFkqAIfEvAADT6hBg_1Q795.jpg" alt="75642ca4-01ac-11f1-96ea-92fbcf53809c.jpg"/><p style="margin-left:0px;text-align:center;">光纤微裂纹检测仪OLI</p><p style="margin-left:0px;text-align:justify;">OLI可从多维度为企业赋能：提升产品良率、保障系统长期可靠、加速产品迭代、降低总体运营成本，为研发到量产提供全生命周期质量保障。</p><p style="margin-left:0px;text-align:justify;">昊衡科技将持续迭代OLI设备，以更<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、更优性能攻克行业痛点，与行业同仁携手，筑牢光通信安全防线，赋能产业高质量发展。</p><p style="text-align:justify;"/>]]></description></item><item>    <title><![CDATA[PCIe设备与电感：影响设备识别的关键因素——走访电感源头公司有感]]></title>    <link>https://www.elecfans.com/d/7401387.html</link>    <guid>https://www.elecfans.com/d/7401387.html</guid>    <pubDate>2026-02-04 17:34:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>之前项目上遇到</span><span style="font-family:Arial;font-size:11pt;"><span>PCIe</span></span><span>识别失败的问题，其中一种原因就是电感影响。PCIe</span><font face="等线"><span>设备能否被正常识别，依赖硬件<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>完整性、稳定供电以及枚举流程的协同，任何环节的偏差都可能引发识别失败，而</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>电感作为供电电路中的关键元件</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，若出现以下问题，会直接导致</span></font><span>PCIe</span><font face="等线"><span>设备</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>失联</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-qANkJSAAQPVRKRwUU067.png" alt="wKgZO2kal-qANkJSAAQPVRKRwUU067.png"/><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>一、选型错误，引入供电噪声</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>供电电路（如</span></font><font face="Arial"><span>12V</span></font><font face="等线"><span>转</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>Buck</span></font><font face="等线"><span>电路）中，电感承担</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>滤波</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>与</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>储能</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>作用。若电感的</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>寄生<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>、寄生<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>过大</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，会在供电线上引入</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>100kHz~1MHz</span><font face="等线"><span>的低频噪声</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，干扰</span></font><span>PCIe</span><font face="等线"><span>设备的核心供电：比如</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>辅助供电电压波动超过</span></font><font face="Arial"><span>±5%</span></font><font face="等线"><span>，甚至跌落至</span></font><font face="Arial"><span>3.1V</span></font><font face="等线"><span>以下，使设备因</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>供电不达标</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>被系统误判为</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>未正常上电</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>二、布局不当，破坏信号完整性</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>通过</span></font><font face="Arial"><span>TX+/TX -</span></font><font face="等线"><span>差分信号线传输数据，对电磁干扰（</span></font><font face="Arial"><span>EMI</span></font><font face="等线"><span>）极度敏感。若电感</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>与</span></font><span>PCIe</span><font face="等线"><span>差分信号线距离＜</span></font><font face="Arial"><span>3mm</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，或</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>与差分对平行布局</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，电感工作时产生的磁场会<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>到差分信号中，导致</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>信号误码率飙升</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，枚举过程中</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>握手</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>失败，设备无法被系统识别。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>三、电感自身故障，导致供电缺失</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若电感本身损坏（如内部断路、阻值异常等），会直接切断或削弱</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>北桥</span></font><span>PCIe</span><font face="等线"><span>电路、锁相环（</span></font><font face="Arial"><span>PLL</span></font><font face="等线"><span>）电路</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>等核心模块的供电，使这些模块无法正常工作，进而引发</span></font><span>PCIe</span><font face="等线"><span>设备识别失败（类似</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>心脏供电不足，器官无法运转</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）。</span></font></span></p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span style="font-family:Arial;font-weight:bold;font-size:15pt;">四、走访电感源头厂家-</span><font face="等线"><span style="font-family:Arial;font-weight:bold;font-size:15pt;">柯爱亚・兆东电子</span></font></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-qAfWPcAAZlUi7EkFg653.png" alt="wKgZO2kal-qAfWPcAAZlUi7EkFg653.png"/><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-uASbXuAAiYGZ7Ca1M393.png" alt="wKgZO2kal-uASbXuAAiYGZ7Ca1M393.png"/><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-uAQZViAAjwgNHSJT4853.png" alt="wKgZO2kal-uAQZViAAjwgNHSJT4853.png"/><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>上周六走访参观了柯爱亚・兆东电子，也更直观感受到：优质电感在</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>寄生参<a href="https://www.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>制</span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>工艺稳定性</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>上的严苛标准，对解决</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>设备识别这类问题，有着不容忽视的作用。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[LM4861音频功率放大器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7638234.html</link>    <guid>https://www.elecfans.com/d/7638234.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638234" value="https://file1.elecfans.com/web3/M00/4A/B5/wKgZPGmDDFKAJnFfAApRfY74vSE585.pdf"/><h1>LM4861<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>：特性、应用与设计要点</h1>
<p>在音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的领域中，<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）的LM4861是一款备受关注的产品。它以其独特的特性和广泛的应用场景，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们提供了一个可靠的音频放大解决方案。今天，我们就来深入了解一下LM4861这款音频功率放大器。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638234" target="_blank">lm4861.pdf</a></p>
<h2>一、LM4861的特性亮点</h2>
<h3>1. 无需外部<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>和电路</h3>
<p>LM4861不需要输出<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>电容、自举电容或缓冲电路，这大大减少了外部元件的使用，简化了<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>。对于低功耗便携式系统来说，这是一个非常重要的优势，因为它可以节省电路板空间，降低成本。</p>
<h3>2. 封装与兼容性</h3>
<p>采用小外形（SOIC）封装，适合表面贴装技术。同时，它与PC<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>兼容，这使得它在个人<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>等设备中应用非常方便。</p>
<h3>3. 保护与稳定性</h3>
<p>具备热关断<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>，当芯片温度过高时，会自动关闭，保护芯片不受损坏。而且它是单位增益稳定的，能够在不同的增益设置下保持稳定的性能。此外，还支持外部增益配置，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>可以根据具体需求灵活调整增益。</p>
<h2>二、应用场景广泛</h2>
<h3>1. 个人电脑</h3>
<p>在个人电脑中，LM4861可以用于音频输出，为用户提供高质量的音频体验。</p>
<h3>2. 便携式消费产品</h3>
<p>如<a href="https://www.elecfans.com/v/tag/11230/" target="_blank"><u>智能手机</u></a>、平板电脑等便携式设备，对空间和功耗要求较高。LM4861的低功耗和小尺寸特性使其成为这些设备的理想选择。</p>
<h3>3. 自供电扬声器</h3>
<p>为自供电扬声器提供足够的功率，使扬声器能够发出清晰、响亮的声音。</p>
<h3>4. 玩具和游戏</h3>
<p>在玩具和游戏设备中，LM4861可以实现音频功能，增加产品的趣味性。</p>
<h2>三、关键规格参数</h2>
<h3>1. 失真与噪声</h3>
<p>在1kHz、1W连续平均输出功率、8Ω负载的条件下，总谐波失真加噪声（THD+N）最大为1.0%。这表明它在音频输出方面具有较高的质量，能够减少失真和噪声，提供清晰的声音。</p>
<h3>2. 输出功率</h3>
<p>在1kHz、10% THD+N、8Ω负载的条件下，典型输出功率为1.5W。在实际应用中，我们可以根据这个参数来评估它是否能够满足我们的功率需求。</p>
<h3>3. 关断<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></h3>
<p>典型关断电流为0.6µA，这意味着在不使用时，它的功耗非常低，有助于延长电池寿命。</p>
<p>这些参数受到多种因素的影响，例如电源电压的稳定性、负载阻抗的匹配程度等。在实际设计中，我们需要根据具体的应用场景来综合考虑这些参数，以确保LM4861能够发挥出最佳性能。</p>
<h2>四、内部结构与<a href="https://www.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></h2>
<h3>1. 桥接配置</h3>
<p>LM4861内部有两个<a href="https://www.hqchip.com/app/1737" target="_blank"><u>运算放大器</u></a>，形成桥接模式。第一个放大器的增益可通过外部<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a> (R<em>{f}) 和 (R</em>{i}) 进行配置，第二个放大器固定为单位增益反相配置。这种桥接模式使得两个放大器输出的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>幅度相同但相位相差180°，从而实现差分驱动负载。与单端放大器相比，桥接模式可以在相同的电源电压下提供两倍的输出摆幅，输出功率可达到单端放大器的四倍。</p>
<h3>2. 功率耗散</h3>
<p>桥接放大器在向负载提供更大功率的同时，内部功率耗散也会增加。对于LM4861，其最大内部功率耗散是单端放大器的4倍。不过，它不需要散热片。我们可以通过公式 (P<em>{<a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a>X}=4times(V</em>{DD})^{2} /(2 <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>^{2} R<em>{L})) 计算在给定电源电压和负载下的最大功率耗散点。同时，要确保这个值不超过根据 (P</em>{DMAX }=(T<em>{JMAX }-T</em>{A}) / theta_{JA}) 计算出的功率耗散，否则需要降低电源电压或增加负载阻抗。</p>
<h2>五、设计要点与应用电路</h2>
<h3>1. 电源旁路</h3>
<p>对于任何功率放大器来说，正确的电源旁路对于低噪声性能和高电源抑制比至关重要。旁路电容和电源引脚的电容应尽可能靠近器件。较大的半电源旁路电容可以提高半电源的稳定性，从而改善低频THD+N。在选择旁路电容时，需要综合考虑所需的低频THD+N、系统成本和尺寸限制。</p>
<h3>2. 关断功能</h3>
<p>为了在不使用时降低功耗，LM4861设有关断引脚。当在关断引脚上施加逻辑高电平时，放大器的偏置电路将被关闭，输出立即与扬声器断开。典型的关断电流为0.6μA。在实际应用中，可以使用<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>或<a href="https://m.hqchip.com/app/1382" target="_blank"><u>微处理器</u></a>的输出控制关断电路，也可以使用单刀单掷开关。需要注意的是，必须为关断引脚提供确定的电压，否则内部逻辑门可能会浮空，导致放大器意外关闭。</p>
<h3>3. 高增益音频放大器</h3>
<p>LM4861在典型应用中是单位增益稳定的，只需要增益设置电阻、输入耦合电容和适当的电源旁路。但如果需要大于10的闭环差分增益，可能需要一个反馈电容来限制放大器的带宽，防止高频振荡。例如，当 (R<em>{f}=100 k Omega) 和 (C</em>{f}=5 pF) 时，可以避免音频频段的高频滚降。</p>
<h3>4. 语音带音频放大器</h3>
<p>对于只需要语音带频率响应的应用，如电话，可通过调整 (R<em>{i})、(C</em>{i})、(R<em>{f}) 和 (C</em>{f}) 的值来实现。例如，选择 (R<em>{i}=10 k Omega)、(R</em>{f}=510 k)、(C<em>{i}=0.22 mu F) 和 (C</em>{f}=15 pF) ，可以得到在300Hz - 3.5kHz范围内平坦的频率响应。</p>
<h3>5. 单端音频放大器</h3>
<p>虽然LM4861的典型应用是桥接单声道放大器，但它也可以用于单端驱动负载。在单端应用中，使用 (V<em>{O 1}) 驱动扬声器，通过一个470μF的电容来阻挡半电源直流偏置。同时，为了防止不稳定，将未使用的输出 (V</em>{O 2}) 通过一个0.1 μF的电容连接到一个2kΩ的负载。</p>
<h2>六、设计实例：1W / 8Ω音频放大器</h2>
<h3>1. 确定电源电压</h3>
<p>要获得1W的输出功率，可通过典型性能特性图或公式 (V<em>{opeak }=sqrt{(2 R</em>{L} P<em>{0})}) 计算所需的 (V</em>{opeak}) ，再加上典型的dropout电压 (V<em>{OD})（0.6V）得到最小电源电压。对于8Ω负载，计算得到 (V</em>{opeak}) 为4.0V，最小电源电压为4.6V。由于4.6V不是常见的标准电压，通常选择5V电源，这样可以提供动态余量，避免信号削波。</p>
<h3>2. 计算差分增益</h3>
<p>根据公式 (A<em>{vd} geq sqrt{(P</em>{0} R<em>{L})} /(V</em>{IN})) 计算所需的差分增益。假设输入阻抗为20kΩ，计算得到最小 (A<em>{vd}) 为2.83，通常取 (A</em>{vd}=3) 。然后根据 (R<em>{i}=A</em>{VD} / 2) 分配 (R<em>{i}) 和 (R</em>{f}) 的值，这里取 (R<em>{i}=20 k Omega) ，(R</em>{f}=30 k Omega) 。</p>
<h3>3. 确定带宽</h3>
<p>带宽要求通常以 -3dB频率点表示。根据设计要求，确定低和高频率极点分别为20Hz和100kHz。通过公式 (C<em>{i} geq 1 /(2 pitimes 20 k Omegatimes 20 Hz)) 计算输入耦合电容 (C</em>{i}) ，这里取0.39μF。由于LM4861的增益带宽积（GBWP）为4MHz，即使需要更高的差分增益，也不会出现带宽问题。</p>
<h2>七、总结</h2>
<p>LM4861音频功率放大器以其独特的特性和灵活的应用方式，为电子工程师在音频放大设计中提供了一个优秀的选择。在实际设计过程中，我们需要充分了解其特性和参数，根据具体的应用场景合理选择电路配置和外部元件，以确保设计出的音频系统能够满足性能要求。同时，要注意功率耗散、电源旁路和关断功能等方面的设计要点，以提高系统的稳定性和可靠性。你在使用LM4861或者其他音频功率放大器的过程中，遇到过哪些有趣的问题呢？欢迎在评论区分享。 </p>]]></description></item><item>    <title><![CDATA[配电自动化站所终端智能分布式功能闭环仿真测试案例]]></title>    <link>https://www.elecfans.com/d/7638235.html</link>    <guid>https://www.elecfans.com/d/7638235.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<p>
	应用方案</p>
<p>
	案例一</p>
<p>
	<br/><strong>某客户配电自动化站所终端智能分布式功能闭环<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>测试案例</strong></p>
<p>
	<strong>项目概况：</strong>由于智能分布式终端具有快速定位，隔离故障并转供复电的特点，基于智能分布式的馈线自动化技术在城市配电网的重要供电区域逐渐得到推广应用，由于不同厂商终端之间的互相操作对<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>模型和功能逻辑的一致性要求非常高，导致实际工程中互操作成功率非常低，因此提出了适用于智能分布式自动化终端DTU互操作的硬件在环仿真测试系统和测试方法。</p>
<p>
	本次项目用到的是智能分布式DTU典型测试配网模型，实时仿真的结果符合实际情况，各种动态响应很好的<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>了现场实际工况，为分布式DTU的测试提供了很好的解决方案。</p>
<p>
	<strong>项目成果：</strong>构建了整个配网自动化测试环境对配电自动化终端DTU的智能分布式功能进行了测试，为客户节约了测试成本，提高了测试效率，验证了配电自动化终端接入电网的相关功能已符合国家相关标准及技术要求。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDB72AFBDAAAMBRz2PnAk859.png" alt="wKgZO2mDB72AFBDAAAMBRz2PnAk859.png"/>适用于分布式DTU的闭环仿真测试系统方案</p>
<p>
	<br/>
	案例二</p>
<p>
	<strong>某客户配电自动化馈线终端就地馈线自动化功能闭环仿真测试案例</strong></p>
<p>
	<strong>项目概况：</strong>配电自动化馈线终端主要对柱上中压开关进行监控，完成遥测、遥信、遥控等功能，实现故障定位、故障隔离和非故障区域快速恢复供电，其对配电网系统稳定运行起到重要作用。为解决海量配网自动化终端以及配电网自愈馈线的整组联动测试问题，提升配电自愈线路整组测试水平，提出了“典型配电网潮流仿真+硬件在环接入多台配电自动化终端”的闭环仿真测试系统解决方案。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/B4/wKgZO2mDCOOAGojqAAeyQy6Q_cY631.png" alt="wKgZO2mDCOOAGojqAAeyQy6Q_cY631.png"/>适用于多台FTU的配电自愈线路整组联动闭环仿真测试系统方案</p>
<p>
	本次项目测试的结果符合现场实际情况，各种动态响应很好的模拟了现场实际工况，为多台配网自动化终端FTU 的测试提供了很好的解决方案。</p>
<p>
	<strong>项目成果：</strong>多台配电自动化终端FTU的就地馈线自动化等功能得到了充分的测试验证，提高了测试效率，为客户节约了测试成本。</p>
<p>
	<br/>
	深圳市科瑞杰科技有限公司推出的KRJ可靠性测试系统将不同协议的测试设备进行建模共享，根据测试要求进行快捷按需设计，一键生成自动化测试脚本，实现自动化测试，高动态同步数据采集、记录、存储；远程实时监测，跟踪；智能报警控制，按需智能生成数据、分析、<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>、测试方案等报告。<br/><br/>
	审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[深入解析LM3886音频功率放大器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7638236.html</link>    <guid>https://www.elecfans.com/d/7638236.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638236" value="https://file1.elecfans.com/web3/M00/4A/B5/wKgZO2mDDFKAAUiiABQjLBrMg-Y180.pdf"/><h1>深入解析LM3886<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>：特性、应用与设计要点</h1>
<p>在音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>领域，LM3886以其高性能和出色的保护机制脱颖而出，成为众多音频设备设计的首选。本文将深入剖析LM3886的各项特性、应用场景以及设计过程中的关键要点，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>们提供全面的参考。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638236" target="_blank">lm3886.pdf</a></p>
<h2>一、LM3886概述</h2>
<p>LM3886是德州仪器（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的一款高性能音频功率放大器，采用11引脚TO - 220封装。它能够在不同负载和<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压条件下提供稳定的功率输出，具备出色的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a> - 噪声比和极低的总谐波失真加噪声（THD + N），适用于多种音频应用场景。</p>
<h3>（一）主要特性</h3>
<ol>
<li><strong>功率输出</strong>：可提供68W连续平均功率至4Ω负载，38W至8Ω负载（(V<em>{CC}= ±28V)）；50W连续平均功率至8Ω负载（(V</em>{CC}= ±35V)），瞬时峰值输出功率能力达135W。</li>
<li><strong>信号 - 噪声比</strong>：大于92dB，典型低噪声底为2.0µV，能有效减少噪声干扰，提供纯净的音频信号。</li>
<li><strong>保护功能</strong>：具备输入静音功能，可通过控制引脚8的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>实现音频静音；输出端具有过流、过压、欠压保护功能，能有效防止因短路、电感负载瞬变等情况对器件造成损坏；还拥有SPiKe<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>，可动态保护安全工作区（SOA），防止过压、欠压、过载、热失控和瞬时温度峰值等问题。</li>
<li><strong>低失真</strong>：在音频频谱内，额定输出和额定负载下的THD + N值极低，典型值为0.03%，IMD（SMP<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>）典型额定值为0.004%，确保音频信号的高保真度。</li>
<li><strong>宽电源范围</strong>：电源电压范围为20V - 94V，可适应不同的电源设计需求。</li>
</ol>
<h3>（二）应用场景</h3>
<ol>
<li><strong>组件立体声</strong>：为立体声系统提供高质量的功率放大，提升音频表现。</li>
<li><strong>紧凑型立体声</strong>：适用于空间有限的立体声设备，在小体积内实现高性能音频输出。</li>
<li><strong>有源扬声器</strong>：为扬声器提供内置功率放大，使扬声器具备独立发声能力。</li>
<li><strong>环绕声放大器</strong>：满足环绕声系统对多声道功率放大的需求，营造沉浸式音频体验。</li>
<li><strong>高端立体声电视</strong>：提升电视音频的音质和音量，增强观看体验。</li>
</ol>
<h2>二、<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性与参数</h2>
<h3>（一）绝对最大额定值</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>条件</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr>
<td>电源电压（无信号）</td>
<td>(vert V^{+}+V^{-}vert)</td>
<td>94V</td>
</tr>
<tr>
<td>电源电压（输入信号）</td>
<td>(vert V^{+}+V^{-}vert)</td>
<td>84V</td>
</tr>
<tr>
<td>共模输入电压</td>
<td/>
<td>80V</td>
</tr>
<tr>
<td>差分输入电压</td>
<td/>
<td>60V</td>
</tr>
<tr>
<td>输出电流</td>
<td/>
<td>内部限制</td>
</tr>
<tr>
<td>功耗</td>
<td/>
<td>125W</td>
</tr>
<tr>
<td><a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>敏感度</td>
<td/>
<td>3000V</td>
</tr>
<tr>
<td>结温</td>
<td/>
<td>150°C</td>
</tr>
<tr>
<td>焊接温度（T封装，10秒）</td>
<td/>
<td>260°C</td>
</tr>
<tr>
<td>存储温度</td>
<td/>
<td>- 40°C至 + 150°C</td>
</tr>
<tr>
<td>热阻（(theta_{JC})）</td>
<td/>
<td>1°C/W</td>
</tr>
<tr>
<td>热阻（(theta_{JA})）</td>
<td/>
<td>43°C/W</td>
</tr>
</tbody>
</table>
<h3>（二）典型电气特性</h3>
<p>在(V^{+}= + 28V)，(V^{-}= - 28V)，(I<em>{MUTE}=-0.5mA)，(R</em>{L}=4Ω)，(T_{A}=25°C)的条件下，部分典型电气特性如下：</p>
<ol>
<li><strong>输出功率</strong>：连续平均输出功率在不同负载和电源电压下有明确数值，如(THD + N = 0.1%)（最大），(f = 1kHz)或(20kHz)时，(V^{+}=V^{-}=28V)，(R<em>{L}=4Ω)，输出功率为68W；(V^{+}=V^{-}=28V)，(R</em>{L}=8Ω)，输出功率为38W；(V^{+}=V^{-}=35V)，(R_{L}=8Ω)，输出功率为50W。</li>
<li><strong>总谐波失真加噪声（THD + N）</strong>：在60W，(R<em>{L}=4Ω)和30W，(R</em>{L}=8Ω)，20Hz - 20kHz频率范围内，典型值为0.03%。</li>
<li><strong>压摆率（SR）</strong>：典型值为19V/µs，在(V<em>{IN}=2.0V</em>{p - p})，(t_{RISE}=2ns)时，最小值为8V/µs。</li>
<li><strong>静音衰减</strong>：引脚8开路或为0V，静音开启时，电流流出引脚8 &gt; 0.5mA，静音关闭时，典型值为115dB，最小值为80dB。</li>
</ol>
<h2>三、应用电路与设计要点</h2>
<h3>（一）典型应用电路</h3>
<p>文档中给出了典型音频放大器应用电路和单电源应用电路。典型应用电路中包含多个外部组件，各组件具有不同的功能：</p>
<ol>
<li><strong>音量控制</strong>：(R_{IN})用于设置输入电压水平，起到音量控制的作用。</li>
<li><strong>偏置与滤波</strong>：(R<em>{A})为单电源操作提供直流电压偏置和正输入<a href="https://www.hqchip.com/app/1529" target="_blank"><u>端子</u></a>的偏置电流；(C</em>{A})提供偏置滤波。</li>
<li><strong>交流<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a></strong>：(C)在单电源操作时为放大器的输入和输出提供交流耦合。</li>
<li><strong>高频补偿</strong>：(C_{C})降低放大器在高频时的增益，避免输出<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>的准饱和振荡，同时抑制外部电磁开关噪声。</li>
<li><strong>反馈与增益控制</strong>：(R<em>{i})、(C</em>{i})、(R<em>{f1})、(R</em>{f2})等组件共同作用，提供交流增益和反馈控制，确保放大器的稳定性和线性度。</li>
</ol>
<h3>（二）设计要点</h3>
<ol>
<li><strong>热管理</strong>
<ul>
<li><strong>散热片选择</strong>：散热片的选择至关重要，应根据给定的电源电压和额定负载，选择能够消散最大IC功率的散热片，以确保在正常工作条件下热保护电路不启动。例如，可参考文档中的相关图表和公式，计算最大散热片热阻。</li>
<li><strong>安装与导热</strong>：正确安装IC，使用导热油脂（如Wakefield type 120或Thermalloy Therm<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>ote）可降低热阻至0.2°C/W或更低。若需隔离(V^{-})与散热片，可使用绝缘垫圈，但需注意不同垫圈的热阻和使用特性。</li>
</ul></li>
<li><strong>信号 - 噪声比测量</strong>：在测量信号 - 噪声比时，应使用“加权”<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，以补偿人耳对不同频率的敏感度差异，并限制带宽，避免因带宽差异导致测量结果不准确。同时，不同类型的测量仪表会给出不同的噪声读数，实际测量中多使用<a href="https://www.hqchip.com/app/1378" target="_blank"><u>ARM</u></a>（平均响应仪表）测试设备。</li>
<li><strong>电源旁路</strong>：尽管LM3886具有良好的电源抑制能力，但为消除可能的振荡，应在电源引脚处使用低电感、短引脚的<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>进行旁路。可采用大电容（10μF或更大）吸收低频变化，小陶瓷电容（0.1μF）防止高频反馈。</li>
<li><strong>引线电感</strong>：功率运放对输出引线电感敏感，特别是在重容性负载情况下。反馈应直接从输出端子获取，以减少与负载的公共电感。长引线会导致电源上的电压浪涌，可通过增加IC附近的旁路电容大小来减小影响。</li>
<li><strong>接地设计</strong>：为避免接地环路和高频振荡，应将负载接地、输出补偿接地和低电平（反馈和输入）接地分别通过独立路径返回电路板公共接地点。同时，应尽量缩短接地返回路径，减少<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>走线<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和电感的影响。</li>
</ol>
<h2>四、总结</h2>
<p>LM3886音频功率放大器凭借其出色的功率输出、低失真、高信号 - 噪声比和完善的保护功能，成为音频应用领域的理想选择。在设计过程中，电子工程师需要充分考虑热管理、信号 - 噪声比测量、电源旁路、引线电感和接地设计等关键要点，以确保放大器的性能和稳定性。通过合理选择外部组件和优化<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，能够充分发挥LM3886的优势，实现高质量的音频放大系统。你在使用LM3886进行设计时，是否遇到过一些特殊的问题或挑战呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[深入解析LM4860：1W音频功率放大器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7638237.html</link>    <guid>https://www.elecfans.com/d/7638237.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638237" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZPGmDDFOABGLbAAllg6Hddjw736.pdf"/><h1>深入解析LM4860：1W<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>的卓越之选</h1>
<p>在音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>领域，<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>的LM4860系列凭借其独特的性能和丰富的功能，成为了众多<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的理想之选。本文将深入剖析LM4860的特点、应用、关键参数以及设计要点，希望能为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们在实际设计中提供有价值的参考。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638237" target="_blank">lm4860.pdf</a></p>
<h2>一、LM4860概述</h2>
<p>LM4860是一款桥接式音频功率放大器，能够在5V<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>供电下，为8Ω负载提供连续平均功率达1W的音频输出，且总谐波失真加噪声（THD+N）小于1%。它采用表面贴装封装，专门设计用于以最少的外部元件提供高质量的输出功率，非常适合低功耗便携式系统。</p>
<h2>二、产品特性亮点</h2>
<h3>2.1 免外部元件</h3>
<p>无需输出<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a><a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>、自举电容或缓冲电路，大大简化了<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，减少了电路板空间和成本。</p>
<h3>2.2 多种封装与兼容性</h3>
<p>采用小外形（SO）封装，且与PC电源兼容，方便在各种设备中集成。</p>
<h3>2.3 保护机制完善</h3>
<p>具备热关断<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>，能有效防止芯片因过热而损坏，提高了系统的可靠性。</p>
<h3>2.4 增益稳定与可配置</h3>
<p>单位增益稳定，可通过外部增益设置<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>配置差分增益，最高可达10，无需外部补偿元件。</p>
<h3>2.5 耳机控制功能</h3>
<p>拥有两个耳机控制输入和一个耳机感应输出，方便实现耳机检测和控制功能。</p>
<h2>三、广泛的应用场景</h2>
<p>LM4860的应用范围十分广泛，涵盖了个人<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>、便携式消费产品、<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、有源音箱、玩具和游戏等领域。其低功耗和高性能的特点，使其能够满足不同设备对音频放大的需求。</p>
<h2>四、关键规格参数</h2>
<h3>4.1 失真与功率</h3>
<p>在1W连续平均功率下，THD+N最大为1%；瞬时峰值输出功率大于2W。</p>
<h3>4.2 关断<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a></h3>
<p>典型关断电流仅为0.6μA，有效降低了系统在不使用时的功耗。</p>
<h2>五、电路设计与应用</h2>
<h3>5.1 典型应用电路</h3>
<p>典型音频放大器应用电路如图1所示，通过合理选择外部电阻和电容，可以实现不同的增益和滤波功能。</p>
<h3>5.2 高增益应用电路</h3>
<p>当需要更高的增益时，可采用图3所示的立体声放大器电路。此时，需要添加反馈电容来限制放大器的带宽，防止高频振荡。</p>
<h3>5.3 单端应用电路</h3>
<p>对于某些需要单端驱动负载的应用，如PC卡，可使用图4所示的单端放大器电路。通过输出耦合电容来隔离直流偏置，确保音频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的正常传输。</p>
<h2>六、外部元件解析</h2>
<h3>6.1 输入电阻与电容</h3>
<p>R和Ci共同构成输入<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a><a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，用于阻挡直流电压，同时确定放大器的低频响应。</p>
<h3>6.2 反馈电阻</h3>
<p><a href="https://bbs.elecfans.com/group_65" target="_blank"><u>Rf</u></a>与R共同设置闭环增益，决定了放大器的放大倍数。</p>
<h3>6.3 旁路电容</h3>
<p>Cs和CB分别用于电源滤波和半电源滤波，选择合适的电容值对于降低噪声和提高电源抑制比至关重要。</p>
<h3>6.4 可选反馈电容</h3>
<p>当需要差分增益超过10时，可添加Cf来形成低通滤波器，限制高频带宽。</p>
<h2>七、性能特性分析</h2>
<h3>7.1 THD+N与频率、功率的关系</h3>
<p>从典型性能特性曲线可以看出，THD+N与频率和输出功率密切相关。在不同的增益和电容配置下，THD+N的表现也有所不同。工程师们可以根据实际需求选择合适的参数，以获得最佳的音频质量。</p>
<h3>7.2 电源电流与温度、时间的关系</h3>
<p>电源电流受温度和关断时间的影响。了解这些关系有助于优化系统的功耗管理，延长电池续航时间。</p>
<h2>八、设计要点与注意事项</h2>
<h3>8.1 桥接配置优势</h3>
<p>桥接模式相比单端放大器具有明显优势，能够提供差分驱动，使输出摆幅加倍，输出功率提高四倍。同时，由于差分输出偏置在半电源，无需输出耦合电容，避免了直流偏置对负载的影响。</p>
<h3>8.2 功率耗散计算</h3>
<p>在设计过程中，必须考虑功率耗散问题。通过公式计算最大功率耗散点，并确保不超过芯片的承受能力。如果功率耗散过大，可能需要降低电源电压或增加负载阻抗。</p>
<h3>8.3 电源旁路设计</h3>
<p>正确的电源旁路设计对于降低噪声和提高电源抑制比至关重要。旁路电容应尽可能靠近芯片引脚，以减少寄生电感和电阻的影响。</p>
<h3>8.4 关断功能与耳机控制</h3>
<p>合理使用关断功能和耳机控制输入，可以有效降低系统功耗。但需要注意的是，耳机控制功能的电流消耗比关断功能大得多，可能会产生输出杂音。通过将耳机感应输出连接到关断引脚，可以消除杂音并实现更低的电流消耗。</p>
<h2>九、总结</h2>
<p>LM4860作为一款高性能的音频功率放大器，具有诸多优点，如免外部元件、保护机制完善、增益可配置等。在实际设计中，工程师们需要根据具体应用需求，合理选择电路配置和外部元件，充分发挥LM4860的性能优势。同时，要注意功率耗散、电源旁路等设计要点，确保系统的稳定性和可靠性。希望本文能为工程师们在LM4860的设计应用中提供有益的参考，大家在实际设计过程中遇到任何问题，欢迎在评论区交流讨论。 </p>]]></description></item><item>    <title><![CDATA[温度补偿芯片衰减器 P*V 系列：特性、规格与应用全解析]]></title>    <link>https://www.elecfans.com/d/7638238.html</link>    <guid>https://www.elecfans.com/d/7638238.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638238" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEnWAdQdoAAX1jNmi62Y742.pdf"/><h1>温度补偿芯片衰减器 P*V 系列：特性、规格与应用全解析</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常设计工作中，对于各类电子元件的性能和特性的深入了解至关重要。今天，我们就来详细探讨一下温度补偿芯片衰减器 P*V 系列，看看它在实际应用中能为我们带来哪些优势。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638238" target="_blank">PXV1220S-8DBN1-T.pdf</a></p>
<h2>一、P*V 系列的特性亮点</h2>
<p>P*V 系列温度补偿芯片衰减器主要用于简化 GaAs 高频<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>的温度漂移补偿。在高频电路设计中，温度变化往往会对放大器的性能产生显著影响，而该系列衰减器凭借其出色的设计，能够有效应对这一问题。</p>
<p>同时，它具备优秀的高频特性，这使得它在高频电路中能够稳定工作，为<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>处理提供可靠的保障。而且，该系列产品符合 Le<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>、Halogen 和 RoHS 标准（除中国 RoHS 外），这意味着它在环保方面也达到了一定的要求，符合现代电子设备的发展趋势。</p>
<h2>二、应用场景广泛</h2>
<p>P<em>V 系列衰减器的应用场景十分丰富，尤其适用于基站等设备。在基站的信号处理过程中，需要对信号进行精确的衰减控制，以确保信号的质量和稳定性。而 P</em>V 系列衰减器凭借其良好的性能，能够满足基站在不同环境下的工作需求。当然，它也可应用于其他需要对信号进行衰减处理的场景。</p>
<h2>三、规格参数详解</h2>
<h3>（一）尺寸规格</h3>
<p>P*V 系列有不同的型号，如 PXV1220S 和 PBV1632S，它们的尺寸规格有所不同。以毫米为单位，PXV1220S 的尺寸为长 1.25±0.2、宽 0.35±0.2、高 2.0±0.2 等；PBV1632S 的尺寸为长 1.60±0.2、宽 0.4±0.2、高 3.2±0.2 等。这些尺寸规格在设计电路板时需要精确考虑，以确保元件能够正确安装和使用。</p>
<h3>（二）<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>以下是该部分电气特性的详细介绍：</p>
<ol>
<li><strong>衰减值</strong>：PXV1220S 型号的衰减值可选 1、2、3、4、5、6、7、8、9、10dB；PBV1632S 型号的衰减值除了上述 1 - 10dB 外，还多了 16dB 可选。在实际设计中，我们需要根据具体的信号处理需求来选择合适的衰减值，以确保信号达到最佳的处理效果。</li>
<li><strong>衰减公差</strong>：在 25℃无负载的条件下，衰减公差为±0.5dB。这意味着在该温度和负载条件下，实际的衰减值会在标称值的±0.5dB 范围内波动。<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计时需要考虑这个公差范围，以保证电路的稳定性和可靠性。</li>
<li><strong>阻抗</strong>：两款型号的阻抗均为 50Ω，这是高频电路中常见的阻抗值，能够与大多数高频设备和电路实现良好的匹配，减少信号反射，提高信号传输效率。</li>
<li><strong>电压驻波比（VSWR）</strong>：最大为 1.3。VSWR 反映了传输线上的反射情况，数值越小表示反射越小，信号传输越高效。P*V 系列衰减器的 VSWR 最大值为 1.3，说明它在信号传输方面具有较好的性能。</li>
<li><strong>衰减温度系数</strong>：有 N1 - N8 多种可选（1 - 3dB 时为 N1 - N9）。不同的温度系数对应着不同的衰减随温度变化的特性。例如，N1 为 0.0119dB/dB<em>℃，N5 为 0.0041dB/dB</em>℃等。在不同的工作温度环境下，我们可以根据实际需求选择合适的温度系数，以确保衰减器在温度变化时仍能保持稳定的性能。</li>
<li><strong>工作频率</strong>：工作频率范围为 <a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - 3GHz，这使得它能够适用于多种高频电路和系统，满足不同频率信号的处理需求。</li>
<li><strong>额定功率</strong>：PXV1220S 的额定功率为 63mW，PBV1632S 的额定功率为 100mW。在使用时，我们需要根据实际的功率需求来选择合适的型号，避免因功率过大而损坏元件。</li>
<li><strong>工作温度范围</strong>：工作温度范围为 - 40℃ - +100℃，这表明该系列衰减器具有较宽的温度适应能力，能够在不同的环境温度下正常工作。</li>
<li><strong>包装形式</strong>：PXV1220S 有 100 pcs/bag、200 pcs/reel、1,000 pcs/reel 三种包装形式；PBV1632S 最小包装为 20 pcs/bag，也有 1,000 pcs/reel 的包装。不同的包装形式可以满足不同的生产和使用需求。</li>
</ol>
<h2>四、产品编号系统解读</h2>
<p>P*V 系列的产品编号系统包含了丰富的信息，以 PXV 1220S - - 6dB N1 T 为例，其中“PXV”是产品代码，“1220S”表示尺寸，“6dB”是衰减值，“N1”是衰减温度系数，“T”代表包装形式（T02 = 200，T1 = 1,000，B = Bulk）。通过产品编号，我们可以快速了解产品的具体规格和特性，方便在设计和采购过程中进行准确的选择。</p>
<p>在实际的电子设计中，我们需要根据具体的应用场景和需求，综合考虑 P*V 系列衰减器的各项特性和规格参数，以确保其能够为我们的<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>提供可靠的支持。大家在使用过程中，是否遇到过类似衰减器的选型难题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[高精度芯片衰减器 ATS - FD 系列：高频领域的理想之选]]></title>    <link>https://www.elecfans.com/d/7638239.html</link>    <guid>https://www.elecfans.com/d/7638239.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638239" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEnaAMOWDABZvUavw6mQ816.pdf"/><h1><a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>芯片衰减器 ATS - FD 系列：高频领域的理想之选</h1>
<p>在电子设备高频化发展的今天，高精度芯片衰减器的性能对整个系统的稳定性和可靠性起着至关重要的作用。今天，我们就来深入了解一下 SUSUMU 的 ATS - FD 系列高精度芯片衰减器，它的工作频率最高可达 5<a href="https://m.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>Hz，能满足众多高频应用场景的需求。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638239" target="_blank">ATS2012-0DB-T05.pdf</a></p>
<h2>一、产品特点</h2>
<h3>高频性能卓越</h3>
<p>该系列衰减器的衰减范围可覆盖高达 55GHz 的频率，能够适应现代高频<a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>的要求。其内部电路针对 0 - 10dB 的衰减进行了专门设计，能在高频段实现精确的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>衰减控制。</p>
<h3>小型化设计</h3>
<p>采用 1005 和 2012 尺寸的微型表面贴装<a href="https://bbs.elecfans.com/group_67" target="_blank"><u>芯片封装</u></a>，这种小型化设计使得它在 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 板上占用的空间更小，有助于实现电子产品的小型化和集成化。</p>
<h3>散热与低噪优势</h3>
<p>信号线路被接地层夹在中间，这种结构设计不仅有着优异的散热性能，能有效降低工作时产生的热量，还能减少信号传输过程中的噪声干扰，提高信号传输的质量。</p>
<h2>二、应用场景</h2>
<h3>无线通信设备与基站</h3>
<p>在无线<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>设备和基站中，信号的强度和稳定性至关重要。ATS - FD 系列衰减器可用于精确调节信号的强度，确保设备之间的通信质量。</p>
<h3>无线通信模块</h3>
<p>无线通信模块通常对尺寸和性能有较高要求。该系列衰减器的小型化设计和高频性能使其成为无线通信模块的理想选择，能够帮助模块实现稳定可靠的信号传输。</p>
<h2>三、产品编号系统</h2>
<p>产品编号如 ATS 2012 - 10DB - FD - T1，包含了产品的系列代码、尺寸、衰减值、包装数量等关键信息。尺寸有 1005 和 2012 两种可选，包装数量有 T1（1000 片/卷）和 T05（500 片/卷）。</p>
<h2>四、<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>规格</h2>
<h3>衰减类型与电路类型</h3>
<p>不同的衰减值对应不同的电路类型，如 0dB 为直通电路（Thru），1 - 10dB 有 <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>(π)型和双 Pi (双 π)型等。不同的电路类型适用于不同的衰减需求，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>可以根据具体的设计要求进行选择。</p>
<h3>衰减公差</h3>
<p>在不同的频率段，衰减公差有所不同。例如，在 <a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - 25GHz 频率范围内，衰减公差为 ±0.75dB；在 25 - 40GHz 为 ±1.25dB；在 40 - 55GHz 为 ±2.50dB。这种明确的公差范围为工程师在设计时提供了准确的参考。</p>
<h3>电压驻波比（VSWR）</h3>
<p>VSWR 在不同频率段也有相应的限制，如在 DC - 25GHz 时 ≤1.40，25 - 40GHz 时 ≤1.60，40 - 55GHz 时 ≤1.80。较低的 VSWR 意味着信号反射较小，能够提高信号传输的效率。</p>
<h3>其他参数</h3>
<p>阻抗为 50Ω，这是高频电路中常见的阻抗匹配值；工作频率范围为 DC - 55GHz，额定功率根据不同情况有 32mW 和 100mW 两种；额定工作温度为 70℃，工作温度范围为 - 40℃ - +125℃，能适应较为恶劣的工作环境。</p>
<h2>五、等效电路与引脚排列</h2>
<p>该系列衰减器有不同的等效电路，如直通电路、Pi(π)型电路和双 Pi (双 π)型电路等。引脚排列清晰，包括输入引脚、输出引脚和接地引脚，方便工程师进行 PCB 设计和焊接。</p>
<h2>六、尺寸与推荐焊盘图案</h2>
<h3>尺寸规格</h3>
<p>ATS1005 - FD 和 ATS2012 - FD 有不同的尺寸规格，以毫米为单位给出了详细的长、宽、高等尺寸参数，工程师在进行 PCB 布局时可准确规划空间。</p>
<h3>推荐焊盘图案</h3>
<p>文档还提供了推荐的焊盘图案尺寸，如 ATS1005 - FD 和 ATS2012 - FD 的焊盘宽度、长度等参数，有助于确保焊接的质量和稳定性。</p>
<h2>七、降额曲线与高频特性</h2>
<h3>降额曲线</h3>
<p>降额曲线显示了在不同环境温度下，额定功率的变化比例。从曲线中可以看出，随着环境温度的升高，额定功率会逐渐降低。工程师在设计时需要根据实际的工作环境温度来合理选择衰减器的功率，以确保其正常工作。</p>
<h3>高频特性</h3>
<p>文档给出了不同衰减值下的高频特性曲线，包括衰减值和 VSWR 随频率的变化情况。通过这些曲线，工程师可以直观地了解衰减器在不同频率下的性能表现，从而更好地进行<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>和优化。</p>
<p>总的来说，SUSUMU 的 ATS - FD 系列高精度芯片衰减器凭借其卓越的高频性能、小型化设计和良好的散热与低噪特性，在无线通信等高频领域具有广阔的应用前景。各位工程师在进行高频电路设计时，不妨考虑一下这款产品，相信它能为你的设计带来意想不到的效果。大家在使用过程中有没有遇到过类似高性能衰减器的应用案例呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[3.6 GHz 带通滤波器详细解析：从规格到应用]]></title>    <link>https://www.elecfans.com/d/7638240.html</link>    <guid>https://www.elecfans.com/d/7638240.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638240" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDEnaAZpK8AAnit8MCv8A810.pdf"/><h1>
	3.6 GHz 带通<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>详细解析：从规格到应用</h1>
<p>
	在高频电子设计领域，滤波器是不可或缺的关键组件。今天我们来详细探讨 Johanson <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>chnology 公司的 3.6 GHz 带通滤波器（P/N 3600BP15M600），看看它在实际应用中的表现和设计要点。</p>
<p>
	文件下载：<a href="javascript:;" data-annex="annex0_7638240" target="_blank">3600BP15M600E.pdf</a></p>
<h2>
	一、通用规格</h2>
<h3>
	1. 基本参数</h3>
<p>
	该滤波器的阻抗为 50 Ω，这是射频电路中常见的标准阻抗，有助于实现系统的匹配。工作频率范围在 3300 - 3900 MHz，能够精准地筛选出 3.6 GHz 附近的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。输入功率可达 3W，满足大多数实际应用场景的需求。</p>
<h3>
	2. 性能指标</h3>
<ul><li>
		<strong>插入损耗</strong>：最大为 1.8 dB，插入损耗越低，信号在通过滤波器时的衰减就越小，保证了信号的强度。</li>
	<li>
		<strong>回波损耗</strong>：最小为 9.5 dB，较高的回波损耗意味着滤波器与系统的匹配良好，反射信号较少。</li>
	<li>
		<strong>衰减特性</strong>：在不同频段有不同的衰减要求。在 0.1 - 2.6 GHz 频段，最小衰减为 15 dB；在 4.4 - 6.0 GHz 频段，最小衰减为 9 dB；在 6.0 - 9.9 GHz 频段，最小衰减为 20 dB。这些衰减特性可以有效抑制带外干扰信号。
		<h3>
			3. 环境适应性</h3>
	</li>
	<li>
		<strong>工作温度</strong>：范围为 -40 到 +105°C，能适应较为恶劣的工作环境。不过，推荐的工作温度为 +5 ~ +35°C，同时要注意湿度条件，存储条件为 45 - 75%RH，最长存储时间为 12 个月。这里要注意的是，在袋子里有 1 年的保质期，拿出袋子后只有 1 周的保质期，并且建议采用真空保存。</li>
</ul><h2>
	二、型号解释</h2>
<p>
	滤波器的型号后缀有不同的含义，代表了不同的包装风格和端接方式。</p>
<ul><li>
		<strong>包装风格</strong>：后缀为 S 表示散装（Bulk），如 3600BP15M600S；后缀为 E 表示卷带包装（T &amp; R），如 3600BP15M600E。</li>
	<li>
		<strong>端接方式</strong>：后缀无表示 Ag/Pt 端接；后缀为 /Pb 表示锡/铅端接，如 3600BP15M600(E or S)/Pb。在选择型号时，需要根据实际的生产和使用需求来决定。</li>
</ul><h2>
	三、<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>尺寸与引脚配置</h2>
<h3>
	1. 尺寸参数</h3>
<p>
	滤波器的尺寸采用英制和公制两种表示方式。长度（L）为 2.00 ± 0.15 mm，宽度（W）为 1.25 ± 0.10 mm，高度（T）为 0.95 ± 0.10 mm 等。这些精确的尺寸对于 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 设计时的布局至关重要，确保滤波器能够正确安装在电路板上。</p>
<h3>
	2. 引脚功能</h3>
<p>
	引脚 1 和 3 为接地（GND），引脚 2 为输出（OUT），引脚 4 为输入（IN）。在进行电路连接时，一定要严格按照这个引脚配置来，否则可能会导致滤波器无法正常工作。</p>
<h2>
	四、安装注意事项</h2>
<p>
	安装时要将棕色标记面朝上，这是确保滤波器正确安装的重要标识。同时，线路宽度的设计要保证 50 Ω 的阻抗匹配特性，这对于信号的传输和滤波器的性能发挥至关重要。大家在设计 PCB 线路时，有没有遇到过因为阻抗匹配问题导致的信号异常呢？</p>
<h2>
	五、典型<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>性能</h2>
<p>
	从典型电气性能图中可以看到插入损耗、回波损耗和谐波衰减随频率的变化情况。在 25°C 的环境温度下，通过测量图中的设置，使用网络分析仪对滤波器的性能进行测试。这些性能曲线可以帮助我们直观地了解滤波器在不同频率下的表现，为实际应用提供参考。</p>
<p>
	总之，这款 3.6 GHz 带通滤波器在性能和设计上都有其独特之处，<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>电路时，需要充分考虑其各项规格和注意事项，以确保系统的稳定性和可靠性。大家在使用类似滤波器时，有没有什么特别的经验或者遇到过的问题呢？欢迎在评论区分享。</p>]]></description></item><item>    <title><![CDATA[华新科技RFCPL0605系列多层陶瓷耦合器技术解析]]></title>    <link>https://www.elecfans.com/d/7638241.html</link>    <guid>https://www.elecfans.com/d/7638241.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638241" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEnaADwgMAAoexQG8g6M935.pdf"/><h1>华新科技<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>CPL0605系列多层陶瓷<a href="https://www.hqchip.com/app/2020" target="_blank"><u>耦合器</u></a>技术解析</h1>
<p>在当今的<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>应用领域，高性能、小型化的电子元件需求日益增长。华新科技的RFCPL0605系列多层陶瓷<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>器，以其出色的特性和广泛的适用性，成为了众多<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>的首选。今天，我们就来详细解析这款产品。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638241" target="_blank">RFCPL0605030L9T.pdf</a></p>
<h2>产品特性与应用</h2>
<h3>特性优势</h3>
<p>RFCPL0605系列具有显著的特性优势。其采用了极小的封装尺寸，仅为 (0.65 ×0.50 ×0.35 ~mm^{3})，这使得它在空间受限的设计中表现出色，能够轻松集成到各种小型化设备中。同时，低剖面厚度的设计进一步优化了产品的空间利用效率。此外，该系列产品还具备低插入损耗的特点，这对于保证<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的传输质量至关重要，能够有效减少信号在传输过程中的损失，提高系统的整体性能。</p>
<h3>应用场景</h3>
<p>这款耦合器主要应用于2.<a href="https://m.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>Hz / <a href="https://m.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>Hz频段的射频领域。在当今的<a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>技术中，2.4GHz和5GHz频段被广泛应用于<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>、<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>等无线通信标准中。RFCPL0605系列的出现，为这些无线通信设备的设计提供了可靠的解决方案，能够满足高速、稳定的数据传输需求。</p>
<h2>产品结构与引脚定义</h2>
<h3>引脚连接</h3>
<p>从产品的结构来看，其引脚连接有着明确的定义。P1为耦合端，用于实现信号的耦合功能；P2为终端端，起到信号终端匹配的作用；P3为输出端，输出经过处理后的信号；P4为输入端，接收外部输入的信号。这种清晰的引脚定义，方便了工程师在<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>中的连接和布局。</p>
<h3>尺寸规格</h3>
<p>在尺寸方面，产品有着精确的规格要求。长度L为 (0.65 ± 0.10)mm，宽度W为 (0.50 ± 0.10)mm，高度T为 (0.35 ± 0.05)mm等。这些精确的尺寸规格，确保了产品在批量生产和使用过程中的一致性和兼容性。</p>
<h2><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性与性能指标</h2>
<h3>频率范围与插入损耗</h3>
<p>RFCPL0605系列在不同的频率范围内都有着出色的电气性能。其频率范围覆盖了2400 ~ 2500 MHz和4900 ~ 5850 MHz两个频段。在插入损耗方面，在 +25 C时，最大插入损耗为0.40 dB；在 -40 C ~ +85 C的工作温度范围内，最大插入损耗为0.45 dB。这种低插入损耗的特性，保证了信号在不同温度环境下的稳定传输。</p>
<h3>其他性能指标</h3>
<p>耦合因子在2400 ~ 2500 MHz频段为 (21.5 ± 1.5)dB，在4900 ~ 5850 MHz频段为 (15.0 ± 1.5)dB；方向性最小为15 dB；电压驻波比（VSWR）最大为1.3；阻抗为50 Ω。这些性能指标的设计，使得产品能够在复杂的射频环境中保持良好的工作状态。</p>
<h2>可靠性测试与结果</h2>
<h3>各项测试</h3>
<p>为了确保产品的可靠性，华新科技对RFCPL0605系列进行了全面的可靠性测试。包括可焊性测试，要求至少95%的终端电极表面被新鲜焊料覆盖；浸析测试，电极边缘的金属化损失不超过25%；热测试，在特定的焊接温度和时间条件下，产品的电气性能要满足在 -40 ~ 85°C工作温度范围内的要求；跌落测试、振动测试、端接附着力测试和弯曲测试等，都要求产品在测试后无<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>损伤，并且电气性能符合要求。</p>
<h3>温度与湿度测试</h3>
<p>在温度循环测试中，经过100个连续的温度循环后，产品要无机械损伤，电气性能满足要求；高温测试、湿度测试和低温测试，在长时间的特定温度和湿度条件下，产品同样要保持良好的性能。这些严格的测试，保证了产品在各种恶劣环境下的可靠性和稳定性。</p>
<h2>焊接条件与订购包装</h2>
<h3>焊接条件</h3>
<p>对于焊接条件，产品给出了典型的<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>焊接曲线示例，适用于SnAgCu系列焊膏。这种焊接条件的提供，有助于工程师在焊接过程中保证焊接质量，避免因焊接问题导致的产品性能下降。</p>
<h3>订购与包装</h3>
<p>在订购方面，最小订购量为每卷4000件。产品采用纸胶带包装，纸胶带有着精确的尺寸规格，同时每7英寸卷轴可容纳4000件产品。这种包装方式，方便了产品的运输和存储。</p>
<h2>产品使用注意事项</h2>
<h3>应用限制</h3>
<p>在使用这款产品时，需要注意其应用限制。对于一些对可靠性要求极高的应用，如飞机设备、航空航天设备、医疗设备等，在使用前需要与厂家联系，以确保产品能够满足这些特殊应用的要求。</p>
<h3>存储条件</h3>
<p>产品的存储条件也非常重要。产品应在华新科技出厂检验后的6个月内使用，存储环境温度应在 +5 to +40℃，相对湿度在30%至70%之间。同时，要避免产品存储在腐蚀性气体环境中，并且要采用密封包装，存储在无热冲击、振动和直射阳光的仓库中。</p>
<p>华新科技的RFCPL0605系列多层陶瓷耦合器以其出色的特性、可靠的性能和严格的质量控制，为射频应用领域提供了一个优秀的解决方案。作为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>，在<a href="https://www.elecfans.com/soft/data/61-62/" target="_blank"><u>设计相关</u></a>电路时，我们可以充分考虑这款产品的优势，结合实际需求进行合理的应用。大家在使用这款产品的过程中，有没有遇到过什么特别的问题或者有什么独特的应用经验呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[解析MC34063A系列DC - DC转换器：特性、参数与应用]]></title>    <link>https://www.elecfans.com/d/7638242.html</link>    <guid>https://www.elecfans.com/d/7638242.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638242" value="https://file1.elecfans.com/web3/M00/4A/B6/wKgZO2mDEneARA9dABgsDPqq3KQ748.pdf"/><h1>解析MC34063A系列<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> - DC<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>：特性、参数与应用</h1>
<p>在<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的日常设计工作中，DC - DC转换器是不可或缺的关键组件，它能实现不同电压之间的转换，满足各种电子设备的供电需求。今天，我们就来深入探讨onsemi公司的MC34063A系列DC - DC转换器，从其特性、参数到实际应用进行全面剖析。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638242" target="_blank">MC34063AD.pdf</a></p>
<h2>一、MC34063A系列概述</h2>
<p>MC34063A系列是一款单片控制电路，专为DC - DC转换器设计，内部集成了温度补偿基准、<a href="https://m.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>、受控占空比<a href="https://www.hqchip.com/app/850" target="_blank"><u>振荡器</u></a>、有源<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>限制电路、<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>和高电流输出开关等主要功能模块。该系列的一大亮点在于，仅需极少的外部组件，就能轻松实现降压、升压和电压反转等多种应用场景。如果在设计过程中需要更多的参考信息，可以查阅应用笔记AN920A/D和AN954/D。</p>
<h2>二、功能特性</h2>
<h3>（一）宽输入电压范围与低待机电流</h3>
<p>MC34063A系列能够在3.0V至40V的输入电压范围内稳定工作，并且具有低待机电流的特性，这使得它在不同的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境下都能高效运行，同时降低了能耗。</p>
<h3>（二）强大的电流处理能力</h3>
<p>该系列的输出开关电流限制可达1.5A，能够满足大多数中小功率设备的供电需求。此外，其输出电压可调，频率可运行至100kHz，为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>提供了更灵活的设计空间。</p>
<h3>（三）<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>与可靠性</h3>
<p>内置的2%精密基准，保证了输出电压的稳定性和准确性。而带有NCV前缀的产品则专为汽车和其他有特殊场地和控制变更要求的应用而设计，经过AEC - Q100<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>且具备PPAP能力，可靠性极高。</p>
<h3>（四）环保与合规性</h3>
<p>这些设备采用无铅、无卤素/无溴化阻燃剂（BFR）设计，符合RoHS标准，顺应了环保潮流。</p>
<h2>三、关键参数</h2>
<h3>（一）最大额定值</h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>符号</th>
<th>值</th>
<th>单位</th>
</tr>
</thead>
<tbody>
<tr>
<td>电源电压</td>
<td>VCC</td>
<td>40</td>
<td>Vdc</td>
</tr>
<tr>
<td>比较器输入电压范围</td>
<td>VIR</td>
<td>-0.3 至 +40</td>
<td>Vdc</td>
</tr>
<tr>
<td>开关集电极电压</td>
<td>VC(switch)</td>
<td>40</td>
<td>Vdc</td>
</tr>
<tr>
<td>开关发射极电压</td>
<td>VE(switch)</td>
<td>40</td>
<td>Vdc</td>
</tr>
<tr>
<td>开关集电极 - 发射极电压</td>
<td>VCE(switch)</td>
<td>40</td>
<td>Vdc</td>
</tr>
<tr>
<td>驱动器集电极电压</td>
<td>VC(driver)</td>
<td>40</td>
<td>Vdc</td>
</tr>
<tr>
<td>驱动器集电极电流（注1）</td>
<td>C(driver)</td>
<td>100</td>
<td>mA</td>
</tr>
<tr>
<td>开关电流</td>
<td>Isw</td>
<td>1.5</td>
<td>A</td>
</tr>
<tr>
<td>功率耗散和热特性（不同封装）</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td>塑料封装（P、P1后缀），TA = 25°C</td>
<td>PD</td>
<td>1.25</td>
<td>W</td>
</tr>
<tr>
<td>热阻</td>
<td>RUA</td>
<td>115</td>
<td>°C/W</td>
</tr>
<tr>
<td>SOIC封装（D后缀），TA = 25°C</td>
<td>PD</td>
<td>625</td>
<td>mW</td>
</tr>
<tr>
<td>热阻</td>
<td>RUA</td>
<td>160</td>
<td>°C/W</td>
</tr>
<tr>
<td>热阻</td>
<td>Rejo</td>
<td>45</td>
<td>°C/W</td>
</tr>
<tr>
<td>DFN封装，TA = 25°C</td>
<td>PD</td>
<td>1.25</td>
<td>mW</td>
</tr>
<tr>
<td>热阻</td>
<td>RUA</td>
<td>80</td>
<td>°C/W</td>
</tr>
<tr>
<td>工作结温</td>
<td>TJ</td>
<td>+150</td>
<td>°C</td>
</tr>
<tr>
<td>工作环境温度范围</td>
<td>TA</td>
<td/>
<td>°C</td>
</tr>
<tr>
<td>MC34063A、SC34063A</td>
<td/>
<td>0 至 +70</td>
<td/>
</tr>
<tr>
<td>MC33063AV、NCV33063A</td>
<td/>
<td>-40 至 +125</td>
<td/>
</tr>
<tr>
<td>MC33063A、SC33063A</td>
<td/>
<td>-40 至 +85</td>
<td/>
</tr>
<tr>
<td>储存温度范围</td>
<td>Tstg</td>
<td>-65 至 +150</td>
<td>°C</td>
</tr>
</tbody>
</table>
<p>注：在实际设计中，必须严格遵守最大额定值，超过这些限制可能会损坏设备，影响其功能和可靠性。</p>
<h3>（二）<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>电气特性方面涵盖了振荡器、输出开关、比较器和整个设备的相关参数。例如，振荡器在特定条件下的频率范围为24kHz至42kHz，输出开关的饱和电压和直流电流增益等参数也有明确的规定。这些参数是设计电路时的重要依据，工程师需要根据具体的应用需求进行合理选择和调整。</p>
<h2>四、实际应用案例</h2>
<h3>（一）升压转换器</h3>
<p>在升压转换器的设计中，MC34063A系列能够将较低的输入电压转换为较高的输出电压。如示例中的电路，输入电压范围为8.0V至16V，输出电压为28V，输出电流为175mA。通过测试，该电路的线路调整率为±0.05%，负载调整率为±0.017%，输出纹波为400mVpp，效率可达87.7%。如果添加可选<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，输出纹波可降低至40mVpp。</p>
<h3>（二）<a href="https://www.elecfans.com/tags/降压转换器/" target="_blank"><u>降压转换器</u></a></h3>
<p>降压转换器则是将较高的输入电压转换为较低的输出电压。以示例电路为例，输入电压范围为15V至25V，输出电压为5.0V，输出电流为500mA。测试结果显示，线路调整率为+0.12%，负载调整率为+0.03%，输出纹波为120mVpp，短路电流为1.1A，效率为83.7%。添加可选滤波器后，输出纹波可降至40mVpp。</p>
<h3>（三）电压反转转换器</h3>
<p>电压反转转换器可以将正输入电压转换为负输出电压。示例电路中，输入电压范围为4.5V至6.0V，输出电压为 - 12V，输出电流为100mA。线路调整率为±0.012%，负载调整率为+0.09%，输出纹波为500mVpp，短路电流为910mA，效率为62.2%。添加可选滤波器后，输出纹波可降低至70mVpp。</p>
<h2>五、设计注意事项</h2>
<h3>（一）散热问题</h3>
<p>不同封装的热阻不同，在设计时需要根据实际的功率耗散和工作环境温度，合理选择封装形式，并采取适当的散热措施，以确保设备在安全的温度范围内工作。</p>
<h3>（二）非<a href="https://www.hqchip.com/app/1576" target="_blank"><u>达林顿</u></a>配置的饱和问题</h3>
<p>如果使用非达林顿配置，在低开关电流（≤300mA）和高驱动电流（≥30mA）的情况下，输出开关可能会进入硬饱和状态，需要长达2.0μs才能退出饱和。这种情况在频率≥30kHz时会缩短关断时间，并且在高温环境下更为明显。因此，建议采用达林顿配置或满足特定的输出驱动条件，如 $fr<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>{I<em>{C输出}}{I</em>{C驱动}-7.0mA} ≥10$ 。</p>
<h3>（三）参数验证</h3>
<p>产品参数会因应用场景的不同而有所变化，工程师在实际设计中，必须对所有的工作参数，包括“典型值”，进行验证，以确保设计的可靠性和稳定性。</p>
<p>MC34063A系列DC - DC转换器凭借其丰富的功能特性、明确的参数指标和广泛的应用场景，为电子工程师提供了一个优秀的设计选择。在实际应用中，我们需要充分了解其特性和参数，结合具体的设计需求，合理选择和使用该系列产品，同时注意设计过程中的各项细节，以确保电路的性能和可靠性。希望通过本文的介绍，能为广大电子工程师在DC - DC转换器的设计工作中提供一些有益的参考。你在使用MC34063A系列产品的过程中遇到过哪些有趣的问题或挑战呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[深入剖析ARM64内核关键文件：kernel-6.1/arch/arm64/kernel/head.S]]></title>    <link>https://www.elecfans.com/d/7401386.html</link>    <guid>https://www.elecfans.com/d/7401386.html</guid>    <pubDate>2026-02-04 17:35:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在</span></span></font><span><span style="background-color:#ffffff;"><a href="https://www.hqchip.com/app/1378" target="_blank"><u>ARM</u></a>64</span></span><font face="等线"><span><span style="background-color:#ffffff;">架构的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核开发中，</span></span></font></span><span><span><span style="background-color:#ffffff;">arch/arm64/kernel/he<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>.S</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">是一个绕不开的关键文件</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">它是内核启动早期的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">桥梁</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，承接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bootloader</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">与内核初始化核心逻辑。本文将从文件定位、核心知识点、调试要点、开发意义四个维度展开，带大家吃透这个底层<a href="https://www.elecfans.com/v/tag/3195/" target="_blank"><u>汇编</u></a>文件，文末还会通过流程图梳理关键流程，助力<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>打通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核启动的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">任督二脉</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-qATMVPAAEVgwd9208676.png" alt="wKgZO2kal-qATMVPAAEVgwd9208676.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">一、本文核心内容预告</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在正式分析前，先明确本文将覆盖的核心内容，方便大家带着目标阅读：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">文件定位与核心作用</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：搞懂</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核启动流程中的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">角色</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，以及它为何是启动环节的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">必经之路</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">关键知识点<a href="https://www.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a></span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：结合代码片段与流程图，详解</span></span></font><span><span style="background-color:#ffffff;">EL</span></span><font face="等线"><span><span style="background-color:#ffffff;">等级切换、页表初始化、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">使能等核心逻辑；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">调试关键关注点</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：明确调试</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">阶段时需重点监控的<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>、断点与日志，快速定位启动故障；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">4.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">开发实践意义</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：分析理解</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">对内核移植、性能优化、故障排查的实际价值。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">二、</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核启动的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">第一块砖</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">要理解</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">，首先要明确它在整个启动流程中的位置。</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核启动的简化链路如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">Bootloader</span></span><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">U-Boot</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ head.S → start_kernel</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">语言初始化入口）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">当</span></span></font><span><span style="background-color:#ffffff;">Bootloader</span></span><font face="等线"><span><span style="background-color:#ffffff;">完成硬件初始化（如内存、<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>）后，会将内核镜像加载到指定内存地址，随后跳转到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的入口（</span></span></font></span><span><span><span style="background-color:#ffffff;">_start</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://www.hqchip.com/tags" target="_blank"><u>标签</u></a>）。此时内核尚未进入</span></span></font><span><span style="background-color:#ffffff;">C</span></span><font face="等线"><span><span style="background-color:#ffffff;">语言环境，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的核心作用就是：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">完成</span></span></font><span><span style="background-color:#ffffff;"><a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></span><font face="等线"><span><span style="background-color:#ffffff;">异常等级（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）切换（如从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL2Hypervisor</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">模式切到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核模式）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">初始化早期页表，为启用</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">（内存管理单元）做准备；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">配置异常向量表，处理启动阶段的异常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">初始化内核栈，为跳转到</span></span></font><span><span style="background-color:#ffffff;">C</span></span><font face="等线"><span><span style="background-color:#ffffff;">语言函数（</span></span></font></span><span><span><span style="background-color:#ffffff;">start_kernel</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">）铺路。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">简单说，</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">汇编初始化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">语言初始化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的过渡层，没有它，内核无法进入正常的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">语言执行环境。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">三、</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">关键知识点拆解（附流程图）</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">的代码以汇编指令为主，逻辑紧凑且高度依赖</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">架构特性。下面拆解</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个核心知识点，并通过流程图梳理整体流程。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">异常等级（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）切换：从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">ARM64</span></span><font face="等线"><span><span style="background-color:#ffffff;">架构定义了</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个异常等级（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL0~EL3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，权限从低到高），</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bootloader</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">通常运行在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（支持虚拟化），而</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Linux</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核运行在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（内核特权级）。</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font></span><span><span><span style="background-color:#ffffff;">el2_setup</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">函数负责完成</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的切换，核心步骤如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">配置</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">的系统寄存器（如</span></span></font></span><span><span><span style="background-color:#ffffff;">HCR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">），禁用</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的监控；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">设置</span></span></font><span><span style="background-color:#ffffff;">EL1</span></span><font face="等线"><span><span style="background-color:#ffffff;">的状态寄存器（如</span></span></font></span><span><span><span style="background-color:#ffffff;">SPSR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">），指定</span></span></font><span><span style="background-color:#ffffff;">EL1</span></span><font face="等线"><span><span style="background-color:#ffffff;">的执行模式（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">AArch64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、中断使能）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">通过</span></span></font></span><span><span><span style="background-color:#ffffff;">eret</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">指令从</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">跳转到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的入口地址（</span></span></font></span><span><span><span style="background-color:#ffffff;">el1_entry</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">早期页表初始化：为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">启用打基础</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">ARM64</span></span><font face="等线"><span><span style="background-color:#ffffff;">要求启用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">前必须配置页表（不支持实模式），</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font></span><span><span><span style="background-color:#ffffff;">__create_page_tables</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">函数负责初始化早期页表，核心逻辑如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">分配页表内存（通常从内核镜像末尾的临时内存区域获取）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">建立</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核镜像区域</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的页表映射（物理地址</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">虚拟地址，采用大页（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2MB/1GB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）提升效率）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">建立</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">异常向量表区域</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的页表映射（确保异常处理地址可访问）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">配置页表项的权限（如可读可写、执行禁止（</span></span></font><span><span style="background-color:#ffffff;">XN</span></span><font face="等线"><span><span style="background-color:#ffffff;">）、缓存策略）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">早期页表的映射范围较小（仅覆盖内核镜像和关键区域），后续</span></span></font></span><span><span><span style="background-color:#ffffff;">start_kernel</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">会初始化完整页表。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">3. MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">启用：进入虚拟地址模式</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内存管理的核心，启用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">后</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">CPU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">将通过虚拟地址访问内存。</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font></span><span><span><span style="background-color:#ffffff;">__primary_switch</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">函数负责启用</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">，核心步骤：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">将页表基地址写入</span></span></font></span><span><span><span style="background-color:#ffffff;">TTBR0_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">EL1</span></span><font face="等线"><span><span style="background-color:#ffffff;">的页表基地址寄存器）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">配置内存属性寄存器（如</span></span></font></span><span><span><span style="background-color:#ffffff;">SCTLR_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">），设置缓存、对齐检查等开关；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">通过</span></span></font></span><span><span><span style="background-color:#ffffff;">isb</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">指令刷新指令流水线，确保</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置生效；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">验证</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否启用成功（访问虚拟地址，确认地址转换正常）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">启用后，内核正式进入虚拟地址模式，后续所有内存访问均基于虚拟地址。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">4.</span></span><font face="等线"><span><span style="background-color:#ffffff;">异常向量表设置：处理启动阶段异常</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">异常向量表是</span></span></font><span><span style="background-color:#ffffff;">CPU</span></span><font face="等线"><span><span style="background-color:#ffffff;">发生异常（如中断、缺页）时的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">入口地址表</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font></span><span><span><span style="background-color:#ffffff;">__vectors</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">标签定义了</span></span></font><span><span style="background-color:#ffffff;">ARM64</span></span><font face="等线"><span><span style="background-color:#ffffff;">的异常向量表，核心特性：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">向量表大小固定（</span></span></font><span><span style="background-color:#ffffff;">256</span></span><font face="等线"><span><span style="background-color:#ffffff;">字节，每个异常类型对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">16</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">字节的入口）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">支持</span></span></font><span><span style="background-color:#ffffff;">8</span></span><font face="等线"><span><span style="background-color:#ffffff;">种异常类型（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的同步异常、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">IRQ</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">中断、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">FIQ</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">中断）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">每个异常入口会保存现场（如寄存器值），并跳转到对应的异常处理函数。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">5. head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">启动流程总览（流程图）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">通过</span></span></font><span><span style="background-color:#ffffff;">merm<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>d</span></span><font face="等线"><span><span style="background-color:#ffffff;">流程图梳理</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的核心执行链路，帮助大家建立全局认知：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-qACyM8AAGSQiBnLUQ877.png" alt="wKgZO2kal-qACyM8AAGSQiBnLUQ877.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">四、调试</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">：重点关注这些</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">关键节点</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">运行在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">kernel</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">启动最早期，此时</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">语言日志（如</span></span></font></span><span><span><span style="background-color:#ffffff;">printk</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">）尚未生效，调试难度较高。以下是调试该阶段需重点关注的内容，帮助快速定位故障。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">寄存器监控：关键寄存器反映执行状态</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">调试时需通过</span></span></font><span><span style="background-color:#ffffff;">JTAG/SWD</span></span><font face="等线"><span><span style="background-color:#ffffff;">工具监控以下核心寄存器，判断流程是否正常：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">异常等级相关</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span><span><span style="background-color:#ffffff;">Curren<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>tE</u></a>L</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（查看当前</span></span></font><span><span style="background-color:#ffffff;">EL</span></span><font face="等线"><span><span style="background-color:#ffffff;">等级，确认是否成功切到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）、</span></span></font></span><span><span><span style="background-color:#ffffff;">SPSR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><span><span style="background-color:#ffffff;">EL1</span></span><font face="等线"><span><span style="background-color:#ffffff;">的状态配置是否正确）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">页表相关</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span><span><span style="background-color:#ffffff;">TTBR0_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（页表基地址是否正确）、</span></span></font></span><span><span><span style="background-color:#ffffff;">ESR_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（若发生异常，该寄存器存储异常原因）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">内存相关</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span><span><span style="background-color:#ffffff;">sp</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（内核栈指针是否指向合法内存区域）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">断点设置：瞄准核心函数标签</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在调试工具（如</span></span></font><span><span style="background-color:#ffffff;">GDB</span></span><font face="等线"><span><span style="background-color:#ffffff;">）中，针对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的核心标签设置断点，逐步跟踪执行流程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">_start</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">：确认</span></span></font><span><span style="background-color:#ffffff;">Bootloader</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否正确跳转到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">入口；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">el2_setup</span></span></span><span><span><span style="background-color:#ffffff;">/</span></span></span><span><span><span style="background-color:#ffffff;">el1_entry</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">：验证异常等级切换是否正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">__create_page_tables</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">：检查页表初始化后的数据（如页表基地址对应的内存值）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">__primary_switch</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">：监控</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">启用前后的地址转换是否正常（可通过</span></span></font></span><span><span><span style="background-color:#ffffff;">x</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">命令查看虚拟地址对应的物理地址）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">故障定位：常见问题与排查思路</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">若内核卡在</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">阶段（如无响应、重启），可按以下思路排查：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">启用失败</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：检查</span></span></font></span><span><span><span style="background-color:#ffffff;">TTBR0_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">是否指向正确的页表基地址，页表项的权限和映射是否正确；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><span><span style="background-color:#ffffff;">EL</span></span><font face="等线"><span><span style="background-color:#ffffff;">等级切换失败</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：查看</span></span></font></span><span><span><span style="background-color:#ffffff;">CurrentEL</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">寄存器，若仍停留在</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">，需检查</span></span></font></span><span><span><span style="background-color:#ffffff;">HCR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><span><span><span style="background-color:#ffffff;">SPSR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">的配置；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">异常向量表错误</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：若发生同步异常，查看</span></span></font></span><span><span><span style="background-color:#ffffff;">ESR_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">的异常原因，确认向量表地址是否正确映射。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-qAcAFiAABZg1RGkt0377.png" alt="wKgZO2kal-qAcAFiAABZg1RGkt0377.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">五、理解</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">：对开发的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">大核心意义</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">看似是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">底层汇编代码</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，但对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核开发至关重要，其实际意义体现在三个维度：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">内核移植的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">敲门砖</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">当将</span></span></font><span><span style="background-color:#ffffff;">Linux</span></span><font face="等线"><span><span style="background-color:#ffffff;">内核移植到新的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">开发板时，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是首当其冲需要适配的文件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若硬件内存布局变化（如内核镜像加载地址、页表内存区域），需修改</span></span></font></span><span><span><span style="background-color:#ffffff;">__create_page_tables</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">的映射逻辑；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若</span></span></font><span><span style="background-color:#ffffff;">CPU</span></span><font face="等线"><span><span style="background-color:#ffffff;">异常等级配置不同（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bootloader</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">运行在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），需新增</span></span></font></span><span><span><span style="background-color:#ffffff;">el3_setup</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">函数处理</span></span></font><span><span style="background-color:#ffffff;">EL3</span></span><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EL1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的切换；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若硬件缓存策略特殊，需调整页表项的缓存属性（如</span></span></font></span><span><span><span style="background-color:#ffffff;">MAIR_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">寄存器配置）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">启动性能优化的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">关键点</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">的执行效率直接影响内核启动速度，优化方向包括：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">简化页表初始化逻辑：采用更大的页（如</span></span></font><span><span style="background-color:#ffffff;">1GB</span></span><font face="等线"><span><span style="background-color:#ffffff;">大页）减少页表项数量，降低初始化耗时；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">合并冗余指令：如</span></span></font><span><span style="background-color:#ffffff;">EL</span></span><font face="等线"><span><span style="background-color:#ffffff;">等级切换和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">配置中的重复寄存器操作，可通过宏定义简化；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">减少异常处理开销：优化异常向量表的入口逻辑，缩短异常响应时间。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">底层故障排查的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">金钥匙</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">当内核启动出现</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">早期崩溃</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font></span><span><span><span style="background-color:#ffffff;">start_kernel</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">前</span></span></font><span><span style="background-color:#ffffff;">panic</span></span><font face="等线"><span><span style="background-color:#ffffff;">），</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">head.S</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是排查的核心突破口：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若内核卡在</span></span></font><span><span style="background-color:#ffffff;">MMU</span></span><font face="等线"><span><span style="background-color:#ffffff;">启用后，可通过断点确认</span></span></font></span><span><span><span style="background-color:#ffffff;">TTBR0_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><span><span><span style="background-color:#ffffff;">SCTLR_EL1</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">的配置，排查页表映射错误；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若发生</span></span></font><span><span style="background-color:#ffffff;">EL2</span></span><font face="等线"><span><span style="background-color:#ffffff;">切换失败，可监控</span></span></font></span><span><span><span style="background-color:#ffffff;">eret</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">指令前后的寄存器值，定位</span></span></font></span><span><span><span style="background-color:#ffffff;">HCR_EL2</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">的配置问题；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若异常向量表触发错误，可检查向量表的地址映射和权限，确认是否被意外修改。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">六、总结：</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">启动基石</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">head.S</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">作为</span></span></font><span><span style="background-color:#ffffff;">ARM64</span></span><font face="等线"><span><span style="background-color:#ffffff;">内核启动的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">第一块汇编代码</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，看似代码量不大（约</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">500</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">行），却承载了异常等级切换、页表初始化、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MMU</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">启用等核心功能</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">它是内核从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">硬件初始化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">软件初始化</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的桥梁，也是理解</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">架构与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Linux</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内核底层逻辑的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">钥匙</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">对于开发者而言，吃透</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">不仅能应对内核移植、性能优化、故障排查等实际需求，更能深入理解</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ARM64</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的特权级管理、内存虚拟化等底层机制，为后续定制内核、开发驱动打下坚实基础。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">如果大家在阅读</span></span></font><span><span style="background-color:#ffffff;">head.S</span></span><font face="等线"><span><span style="background-color:#ffffff;">源码时遇到具体问题（如某段汇编指令不懂、调试时卡壳），欢迎在评论区交流，后续可针对细节展开更深入的分析！</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[RK3399 Android12自动调节屏幕亮度问题排查与解决]]></title>    <link>https://www.elecfans.com/d/7401385.html</link>    <guid>https://www.elecfans.com/d/7401385.html</guid>    <pubDate>2026-02-04 17:36:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>设备开发中，屏幕自动亮度调节功能直接影响用户体验与功耗控制。近期在</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3399</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+ <a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a>12</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统的设备上，遇到了自动亮度调节的异常问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统自动调节时亮度最低只能降至</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">82%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，无法达到预期的低亮度效果。经过一系列排查与调试，最终解决了该问题，现将完整过程与技术要点分享如下。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-mAL9fMAALYCZtU9uE203.png" alt="wKgZO2kal-mAL9fMAALYCZtU9uE203.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、问题背景与核心现象</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">本次调试的设备为</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3399</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片方案的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android12</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，目标版本为</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">RK3399_ANDROID12.0_<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K_202110</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，核心功能模块涉及</span></span></font><span><span style="background-color:rgb(255,255,255);">LCD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">显示。在功能测试阶段发现自动亮度调节存在以下异常：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动调节局限</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：系统开启自动亮度后，亮度最低只能降到</span></span></font><span><span style="background-color:rgb(255,255,255);">82%</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，无法进一步调低；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动调节正常</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：通过亮度条手动调节或执行指令</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">echo xx &gt; /sys/class/b<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>klight/backlight/brightness</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改背光节点值时，亮度可自由调整，排除硬件背光驱动问题；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">数据同步异常</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">echo</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令修改背光值后，桌面显示的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“brightness level”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">未同步更新，存在软件层面的数据交互问题；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">背光值分布不均</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">cat</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令读取背光值为</span></span></font><span><span style="background-color:rgb(255,255,255);">30</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，但系统桌面显示亮度为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">50%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，数值映射存在偏差；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">5.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">日志报错提示</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：系统日志中频繁出现</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">617E DisplayDeviceConfig: reques<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ng nits when no map<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>ng exists</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，表明自动亮度调节时缺少</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">亮度值（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">nits</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">-</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">环境光（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">lux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的映射配置。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、问题排查关键步骤</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">针对上述现象，我们按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">区分软硬问题</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证输入数据</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">修正配置逻辑</span></span></font></span></b><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的思路逐步排查，核心步骤如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一步：确认问题边界</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动与自动调节的差异</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">首先通过对比测试明确问题范围：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动调节（亮度条</span></span></font><span><span style="background-color:rgb(255,255,255);">/</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点指令）：亮度可从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0%~100%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">自由切换，说明</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">LCD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">背光硬件、内核驱动节点均正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动调节：仅能降至</span></span></font><span><span style="background-color:rgb(255,255,255);">82%</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，且日志报</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">缺少映射</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，初步判断问题出在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统层的</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动亮度调节逻辑或配置文件</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第二步：验证光感数据</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">排除硬件输入异常</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动亮度调节的核心依据是环境光<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>（</span></span></font><span><span style="background-color:rgb(255,255,255);">light sensor</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）上报的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">lux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">值，若光感数据异常，会直接导致调节逻辑偏差。我们通过专用工具验证光感功能：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">安装光感数据读取</span></span></font><span><span style="background-color:rgb(255,255,255);">APK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">SensorSense_jb51.apk</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），读取到环境光范围为</span></span></font></span><b><span><span><span style="background-color:rgb(255,255,255);">160~10240 lx</span></span></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，覆盖了日常使用的亮度场景，说明光感硬件工作正常，数据输入无问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第三步：定位配置文件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">路径混淆导致补丁不生效</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">结合日志中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">缺少映射</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的报错，推测自动亮度的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“lux -</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">背光值</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">映射配置存在问题。</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统中，自动亮度的核心配置定义在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config.xml</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的两个数组中：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">config_autoBrightnessLevels</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：环境光</span></span></font><span><span style="background-color:rgb(255,255,255);">lux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">值的控制节点（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">160</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">225 lx</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">等）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">config_autoBrightnessLcdBacklightValues</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：与</span></span></font><span><span style="background-color:rgb(255,255,255);">lux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点对应的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">LCD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">背光值（需在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0~255</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">之间，且非递减）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最初尝试打光感补丁（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">guanggan_12</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）时，补丁默认路径为</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">frameworks/base/core/res/res/values/config.xml</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，但烧录后配置未生效，且自动亮度功能未开启。排查发现：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">RK3399 Android12</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">方案中，</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备专属的配置会覆盖框架层配置</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，正确的配置路径应为</span></span></font></span></p>
	<p style="margin-left:14.4pt;">
		<span><span><span style="background-color:rgb(255,255,255);">device/<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>/common/overlay/frameworks/base/core/res/res/values/config.xml</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">此前未清理编译缓存（未执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">make clean</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），导致修改后的配置未被正确编译进系统。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第四步：修正配置与编译</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">确保参数与流程正确</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">找到正确路径后，对</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config.xml</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的自动亮度参数进行验证与修正：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config_autoBrightnessLevels</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">数组（</span></span></font><span><span style="background-color:rgb(255,255,255);">lux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点）：包含</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">160</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">225</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">320</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">640</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1280</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2600</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10240 lx</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，覆盖低光到强光场景；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config_autoBrightnessLcdBacklightValues</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">数组（背光值）：最低背光值设为</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（对应</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10 lx</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">低光场景），后续值依次为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">10</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">45</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">80</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">115</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">150</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">185</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">220</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">255</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，满足</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“0~255</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">且非递减</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">要求；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">make clean</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">清理编译缓存，重新编译系统镜像并烧录设备。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-mAHr1dAALVe7RWXS8021.png" alt="wKgZO2kal-mAHr1dAALVe7RWXS8021.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、问题解决与验证</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">完成上述配置修正与编译后，重新测试自动亮度调节功能：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">低光环境下（如</span></span></font><span><span style="background-color:rgb(255,255,255);">10~160 lx</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），系统自动亮度可降至最低背光值（对应屏幕亮度远低于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">82%</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">echo</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令修改背光值时，桌面</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“brightness level”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">同步更新，数值映射一致；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统日志中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">requesting nits when no mapping exists</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">报错消失，自动亮度调节逻辑正常运行。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">最终，</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3399 Android12</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的自动亮度调节功能恢复正常，可根据环境光变化实现全范围（从最低到最高）的平滑调节。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、总结：嵌入式设备自动亮度问题排查思路</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">本次问题的核心原因是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置文件路径错误</span></span></font><span><span style="background-color:rgb(255,255,255);">+</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译缓存未清理</span></span></font></span></b><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，但整个排查过程也提炼出嵌入式</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备自动亮度问题的通用解决思路：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">先分软硬</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：通过手动调节验证硬件（背光驱动、光感）是否正常，若手动正常则聚焦软件配置；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证输入</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：光感数据是自动调节的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">源头</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，需先确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">lux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">值范围与精度是否符合需求；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">找对配置</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：不同芯片方案（如</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系列）的配置路径可能存在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">overlay</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">覆盖框架层</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的情况，需参考芯片厂商的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">文档确认正确路径；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">清理编译</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译时易产生缓存，修改配置后必须执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">make clean</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，避免旧配置残留；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">5.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">核对参数</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config.xml</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中的背光值需严格遵循</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“0~255</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、非递减</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">规则，否则会导致调节逻辑异常。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">希望本次排查经验能为同类</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备的自动亮度调试提供参考，减少因配置或编译细节导致的功能问题。</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[RK3568 Android11编译环境搭建及报错解决指南]]></title>    <link>https://www.elecfans.com/d/7401384.html</link>    <guid>https://www.elecfans.com/d/7401384.html</guid>    <pubDate>2026-02-04 17:37:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>领域，</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片凭借其出色的性能被广泛应用。基于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">进行</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a>11</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统的开发，首先要搭建好编译环境。本文将详细介绍在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Ubuntu20.04</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统上搭建</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568 Android11</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译环境的过程，并针对常见的报错给出解决办法。</span></span></font></span></p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-mAe3kOAAE_KkNPTr4555.png" alt="wKgZO2kal-mAe3kOAAE_KkNPTr4555.png"/></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、编译环境搭建步骤</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（一）安装必要的依赖包</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在开始搭建编译环境之前，需要确保系统安装了</span></span></font><span><span style="background-color:rgb(255,255,255);">AOSP</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译工具和相关依赖。打开终端，依次输入以下命令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>sudo apt<span class="code-snippet__operator">-</span><span class="code-snippet__keyword">get</span><span class="code-snippet__keyword">update</span></span></code><code><span>sudo apt<span class="code-snippet__operator">-</span><span class="code-snippet__keyword">get</span>install<span class="code-snippet__operator">-</span>y bison g<span class="code-snippet__operator">++-</span>multilib git gnupg flex libc6<span class="code-snippet__operator">-</span>dev<span class="code-snippet__operator">-</span>i386 lib32ncu<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>es5<span class="code-snippet__operator">-</span>dev lib32z1 liblz4<span class="code-snippet__operator">-</span>tool openjdk<span class="code-snippet__number">-8</span><span class="code-snippet__operator">-</span>jdk <a href="https://www.elecfans.com/tags/python/" target="_blank"><u>python</u></a> unzip x11<span class="code-snippet__operator">-</span>u<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ls</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">这些命令会更新软件包列表，并安装编译所需的各种工具和库。其中，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">openjdk-8-jdk</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">是编译</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统所必需的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/852/" target="_blank"><u>Java</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发工具包，因为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统的部分代码是基于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Java</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">语言编写的。而</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">lib32ncurses5-dev</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">等</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位库文件的安装，是由于一些编译工具在运行时可能会依赖</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">32</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位的库环境。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（二）安装</span></span></font><span><span style="background-color:rgb(255,255,255);">repo</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具是</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开源项目用来管理多个</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Git</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">仓库的工具，在获取</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">源码时必不可少。通过以下命令安装</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">mkdir</span>-p ~/bin</span></code><code><span>curl &gt; ~/bin/repo</span></code><code><span><span class="code-snippet__built_in">chmod</span>a+x ~/bin/repo</span></code><code><span><span class="code-snippet__built_in">export</span>PATH=~/bin:<span class="code-snippet__variable">$PATH</span></span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">上述命令首先创建了一个</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">~/bin</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录用于存放</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具，接着通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">curl</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令下载</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具脚本，并赋予其可执行权限，最后将</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">~/bin</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录添加到系统路径中，这样在任何目录下都可以直接使用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（三）初始化和同步源代码</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">完成</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具的安装后，就可以使用它来初始化和同步</span></span></font><span><span style="background-color:rgb(255,255,255);">Android11</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的源代码。在终端中输入以下命令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__attribute">repo</span>init -u -b android-<span class="code-snippet__number">11</span>.<span class="code-snippet__number">0</span>.<span class="code-snippet__number">0</span>_r8（举例）</span></code><code><span><span class="code-snippet__attribute">repo</span>sync</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo init</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令用于初始化一个新的</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码仓库，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-u</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数指定了代码仓库的</span></span></font><span><span style="background-color:rgb(255,255,255);">URL</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-b</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数指定了要同步的分支版本，这里选择的是</span></span></font><span><span style="background-color:rgb(255,255,255);">Android11.0.0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的第</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">个版本。</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">repo sync</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令则会根据初始化的配置，从远程仓库同步所有相关的代码到本地，这个过程可能会比较耗时，取决于网络状况和代码量的大小。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（四）构建系统</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">当源代码同步完成后，就可以开始构建系统了。在构建之前，需要先设置一些环境变量并选择编译目标。在终端中依次输入以下命令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">source</span>build/envsetup.sh</span></code><code><span>lunch rk3568-userdebug</span></code><code><span>make -j$(<span class="code-snippet__built_in">nproc</span>)</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">source build/envsetup.sh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令用于设置</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">编译环境的相关变量，这些变量包含了编译所需的各种路径和配置信息。</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">lunch</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令用于选择编译目标，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rk3568-userdebug</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">表示针对</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片的用户调试版本。最后的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make -j$(nproc)</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令是正式开始编译系统，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-j$(nproc)</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数表示使用系统的所有可用核心数进行并行编译，以加快编译速度。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、常见报错及解决办法</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（一）找不到</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libncurses.so.5</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在编译过程中，有时可能会遇到类似</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/2004" target="_blank"><u>can</u></a>not open shared object file: No such file or directory</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">关于找不到</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libncurses.so.5</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库的错误。这是因为编译过程依赖的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libncurses</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库缺失或版本不匹配。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">对于</span></span></font><span><span style="background-color:rgb(255,255,255);">Ubuntu/Debian</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>sudo apt<span class="code-snippet__operator">-</span><span class="code-snippet__keyword">get</span><span class="code-snippet__keyword">update</span></span></code><code><span>sudo apt<span class="code-snippet__operator">-</span><span class="code-snippet__keyword">get</span>install libncurses5</span></code><code><span>ls<span class="code-snippet__operator">/</span>usr<span class="code-snippet__operator">/</span>lib<span class="code-snippet__operator">/</span>libncurses.so<span class="code-snippet__number">.5</span></span></code></pre>
	<p style="margin-left:36pt;">
		</p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（二）</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">module source path "xxx/.git" does not exist</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">错误</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在编译时，可能会出现类似于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">error: hardware/<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>/librga/Android.bp1: module "gen_rga_version": module source path "hardware/rockchip/librga/.git" does not exist</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这样的错误。这通常是因为相关模块在配置中引用了</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.git</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录，但实际该目录不存在。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">解决办法是打开对应的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">Android.bp</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">hardware/rockchip/librga/Android.bp</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），将文件中引用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.git</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录的部分删除。例如，在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">hardware/rockchip/librga/Android.bp</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件中，找到类似如下的代码段：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>genrule {</span></code><code><span>  name:<span class="code-snippet__string">"gen_rga_version"</span>,</span></code><code><span>  srcs: (</span></code><code><span>   <span class="code-snippet__string">"version.h.<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>mplate"</span>,</span></code><code><span>-   <span class="code-snippet__string">".git/"</span></span></code><code><span>  ),</span></code><code><span>  out: (<span class="code-snippet__string">"version.h"</span>),</span></code><code><span>  cmd:<span class="code-snippet__string">"rm -f</span><span class="code-snippet__string"><span class="code-snippet__subst">$(location version.h)</span></span><span class="code-snippet__string">&amp;&amp; "</span>+<span class="code-snippet__string">"bash</span><span class="code-snippet__string"><span class="code-snippet__subst">$(location version.sh)</span></span><span class="code-snippet__string">&lt; </span><span class="code-snippet__string"><span class="code-snippet__subst">$(in)</span></span><span class="code-snippet__string">&gt;</span><span class="code-snippet__string"><span class="code-snippet__subst">$(out)</span></span><span class="code-snippet__string">"</span>,</span></code><code><span>}</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">将</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.git/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">这一行删除，保存文件后重新编译即可。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（三）编译内核时找不到</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">openssl/bio.h</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">首次编译内核时，可能会遇到找不到</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">openssl/bio.h</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件的错误，错误信息类似如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>xxxxxx:~/source/rk3568/rk3568_android_11/kernel$ make ARCH=<a href="https://www.hqchip.com/app/1378" target="_blank"><u>arm</u></a>64 BOOT_IMG=boot_sample.img rk3568-evb1-<a href="https://m.hqchip.com/app/1729" target="_blank"><u>ddr</u></a>4-v10.img HOSTCC scripts/extr<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>t-cert</span></code><code><span>scripts/extract-cert.c25: fatal error: openssl/bio.h: 没有那个文件或目录</span></code><code><span>com<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>lation terminated.</span></code><code><span>make(1): *** (scripts/extract-cert) 错误1</span></code><code><span>make: *** (scripts) 错误2</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">这是因为系统缺少</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl-dev</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库。解决方法如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">安装</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl-dev</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在终端中输入命令</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">sudo apt-get install libssl-dev</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">尝试安装。但在</span></span></font><span><span style="background-color:rgb(255,255,255);">Ubuntu20.04</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统中，可能会出现软件冲突问题，如提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl-dev :</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">依赖</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">: libssl1.0.0 (= 1.0.2g-1ubuntu4)</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">但是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.0.2g-1ubuntu4.20</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">正要被安装</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">处理软件冲突</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">可以先尝试安装指定版本的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl1.0.0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，输入命令</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">sudo apt-get install libssl1.0.0=1.0.2g-1ubuntu4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。此时系统可能会提示将对</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl1.0.0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">进行降级操作，确认继续即可。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">重新安装</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl-dev</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">安装完指定版本的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libssl1.0.0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">后，再次输入命令</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">sudo apt-get install libssl-dev</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">进行安装。安装完成后，重新编译内核即可正常进行。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（四）编译过程中的链接错误</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的编译过程中，还可能会遇到链接错误，这类错误通常与工具链配置、依赖库缺失、符号未定义或路径问题有关。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认错误信息</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">常见的链接错误信息有：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">undefined reference to...</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：表示未定义的符号（函数或变量），可能是源码缺失或依赖库未链接。例如，如果在编译过程中提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">undefined reference to 'function_name'</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，则需要检查是否有包含</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">function_name</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">函数定义的源文件未被正确编译或链接。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">cannot find -lxxx</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：表示找不到指定的库文件（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-lrockchip</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。比如提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">cannot find -lrockchip</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，那就需要确认</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">librockchip.so</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库文件是否存在，以及链接路径是否正确。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">relocation truncated to fit</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：这通常是内存地址分配问题，常见于</span></span></font><span><span style="background-color:rgb(255,255,255);">32/64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位混合编译的情况。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查交叉编译工具链</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">which</span>aarch64-<a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>linux</u></a>-gnu-gcc</span></code></pre>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__keyword">export</span><span class="code-snippet__variable">C<a href="https://www.elecfans.com/v/tag/1004/" target="_blank"><u>ROS</u></a>S_COMPILE</span>=aarch64-linux-gnu-</span></code><code><span><span class="code-snippet__keyword">export</span><span class="code-snippet__variable">ARCH</span>=arm64</span></code></pre>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ARM64</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">架构，需要使用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">aarch64-linux-gnu-</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">系列工具链。可以通过以下命令确认工具链是否已安装且路径正确：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">如果输出类似</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/usr/bin/aarch64-linux-gnu-gcc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，则说明工具链已安装且路径正确。如果未安装，需要从官方或可靠渠道下载并安装对应的交叉编译工具链。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在编译时，还需要指定工具链，通过以下命令设置环境变量：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查依赖库</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">缺失库文件</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确保所有依赖库（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">librockchip.so</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libmali.so</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）已正确安装，且路径通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-L</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">指定。例如，如果</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">librockchip.so</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库文件安装在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/usr/local/lib</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">目录下，在编译命令中需要添加</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-L/usr/local/lib</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">来指定库文件的搜索路径。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">链接顺序问题</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：调整链接顺序，确保被依赖的库放在后面。例如，假设</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">main</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库依赖</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1525" target="_blank"><u>sub</u></a></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库，那么链接库的顺序应该是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-lsub -lmain</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，而不是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-lmain -lsub</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">符号未定义（</span></span></font><span><span style="background-color:rgb(255,255,255);">undefined reference</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">源码缺失</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：检查是否漏编译某些源码文件（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.c/.cpp</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），或</span></span></font><span><span style="background-color:rgb(255,255,255);">Makefile</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中未包含相关目标。比如在一个项目中，如果有一个</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">function.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件实现了某个功能，但在</span></span></font><span><span style="background-color:rgb(255,255,255);">Makefile</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中没有将其添加到编译目标中，就会导致链接时找不到该函数的定义。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">头文件与实现不匹配</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确保头文件中的函数声明与实现一致，例如在</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/C++/" target="_blank"><u>C++</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中，如果头文件中函数声明使用了</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">extern "C"</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，那么对应的实现文件也需要使用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">extern "C"</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，否则会导致链接错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">静态库顺序</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：对于静态库，需要按依赖顺序排列，或用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">--start-group</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">--end-group</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">包裹。例如，如果有</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libfoo.a</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libbar.a</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">两个静态库，且</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libfoo.a</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">依赖</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">libbar.a</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，那么链接命令可以写成</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-Wl,--start-group -lfoo -lbar -Wl,--end-group</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">或内核编译问题</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">make</span>rockchip_linux_defconfig</span></code><code><span><span class="code-snippet__built_in">make</span>prepare modules_prepare</span></code></pre>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：若编译内核模块，需先编译内核头文件，并确保模块与内核版本一致。可以通过以下命令进行内核配置和准备：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备树未编译</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确认设备树文件（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.dts</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）已编译为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">.dtb</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，并放置在正确路径。设备树文件描述了硬件设备的信息，如果设备树未正确编译或放置位置错误，可能会导致编译错误或设备驱动加载失败。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查文件系统路径</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__keyword">export</span><span class="code-snippet__built_in">CFLAGS</span>=<span class="code-snippet__string">"--sysroot=/path/to/sdk/sysroot"</span></span></code></pre>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">sysroot</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：交叉编译时需指定</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">--sysroot</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">或通过环境变量设置根文件系统路径。例如，可以通过以下命令设置环境变量：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库文件架构不匹配</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确认库文件是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">aarch64</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">架构，而非</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">x86_64</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">armhf</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">。可以使用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">file</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令检查库文件的架构，例如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">file libexample.so</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，如果输出结果显示不是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">aarch64</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">架构，则需要更换为正确架构的库文件。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">其他常见问题</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">make</span>clean &amp;&amp;<span class="code-snippet__built_in">make</span>distclean</span></code><code><span><span class="code-snippet__built_in">make</span>-j$(nproc)</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make clean</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令会删除编译生成的中间文件，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make distclean</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">则会更彻底地删除配置文件等，重新执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令可以确保整个编译过程从最开始的状态进行，有时可以解决一些因残留文件导致的编译错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">内存不足</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：链接大型项目时可能因内存不足失败，尝试增加交换分区或简化编译选项。在编译过程中，如果系统提示内存不足，可以通过增加交换分区来临时解决内存问题。或者在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令中减少并行编译的核心数，如将</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make -j$(nproc)</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">改为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">make -j4</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（假设系统有</span></span></font><span><span style="background-color:rgb(255,255,255);">4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个核心），以降低内存的使用量。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ABI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">兼容性</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：确保所有库和工具链使用相同的</span></span></font><span><span style="background-color:rgb(255,255,255);">ABI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">glibc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本一致）。不同版本的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">glibc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">库可能具有不同的</span></span></font><span><span style="background-color:rgb(255,255,255);">ABI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，如果库和工具链使用的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">glibc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">版本不一致，可能会导致编译或运行时错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">清理重建</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：尝试彻底清理后重新编译。可以使用以下命令进行清理和重新编译：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过以上详细的编译环境搭建步骤和常见报错解决办法，希望能帮助<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>顺利在</span></span></font><span><span style="background-color:rgb(255,255,255);">Ubuntu20.04</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统上完成</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568 Android11</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的编译工作，为后续的<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>开发项目打下坚实的基础。在实际开发过程中，如果遇到其他问题，还可以参考<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a></span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SDK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">文档以及相关的开源社区<a href="https://www.elecfans.com/article/bbs/" target="_blank"><u>论坛</u></a>，获取更多的技术支持和解决方案。</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[从eMMC到SPI+SSD：双存储方案下Vendor Storage适配指南]]></title>    <link>https://www.elecfans.com/d/7401383.html</link>    <guid>https://www.elecfans.com/d/7401383.html</guid>    <pubDate>2026-02-04 17:38:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">在<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a></span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">开发中，存储方案的切换是常见需求，比如从传统</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">改为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR Flash+S<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);"><a href="https://www.hqchip.com/app/1686" target="_blank"><u>SATA</u></a>/NVMe</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）双存储架构。这种调整能兼顾启动速度与存储容量，但也可能引发</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">访问异常。本文将结合实际调试案例，<a href="https://www.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>适配过程中的核心问题与解决方案，帮助<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>快速踩坑。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-iARdfVAABACSCDcwE036.png" alt="wKgZO2kal-iARdfVAABACSCDcwE036.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">一、问题根源：存储切换为何影响</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">是嵌入式系统中用于存放</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SN</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（序列号）、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MAC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">地址、硬件配置等关键信息的专用存储区域，其正常工作依赖</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">存储设备驱动、分区配置、内核参数</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">三者的协同。从</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">切换到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI+SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案后，原有适配逻辑失效，主要源于以下</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">点差异：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">存储介质特性不同</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">属于块设备，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">通常依托</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的专用分区实现；而</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR Flash</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">是字符设备（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">设备），需通过</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">子系统驱动管理，原有块设备驱动无法直接复用。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区表定义规则变化</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的分区表由厂商预设或通过工具分区，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR Flash</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">需在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">pa<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>eter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（启动参数文件）和内核设备树（</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）中手动定义分区，且分区起始地址、大小必须满足</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">64KB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">整数倍（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">擦除块对齐要求）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核配置依赖不同</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案下启用的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">配置（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>ROCKCHIP</u></a>_FLASH_VENDOR_STORAGE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），在</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案中需切换为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">子系统对应的配置（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_ROCKCHIP_MTD_VENDOR_STORAGE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），同时需启用</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动支持。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-iAY0aEAACQLqPfOYU985.png" alt="wKgZO2kal-iAY0aEAACQLqPfOYU985.png"/><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-iAPjKtAAZibsVN6Gs410.png" alt="wKgZO2kal-iAPjKtAAZibsVN6Gs410.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">二、核心适配步骤：四步打通</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI+SSD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">下的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">结合实际调试经验，从</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">迁移到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI+SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案时，需按以下步骤完成</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">适配，每一步都需严格验证，避免后续问题：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核配置：启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">支持</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">首先需在</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核配置（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">.config</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">文件）中开启关键选项，确保</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">设备能被识别，且</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">能依托</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">子系统工作：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">启用</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动：勾选</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_MTD_SPI_NOR</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（路径：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Device Drivers &gt; Memory <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>chnology Device (MTD) &gt; SPI-NOR device support</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），同时确保对应厂商驱动（如</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Macronix</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Winbond</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）被编译（可通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">spi-nor-dev_ids</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">数组确认芯片型号匹配，如本文中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">mx25u12832f</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">需在列表中）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">启用</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD Vendor Storage</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：勾选</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_ROCKCHIP_MTD_VENDOR_STORAGE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（路径：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Device Drivers &gt; Memory Technology Device (MTD) &gt; Rockchip MTD Vendor Storage Support</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），</span></span></font></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">禁用原</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案的</span></span></font></span></b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_ROCKCHIP_FLASH_VENDOR_STORAGE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，避免驱动冲突。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">验证配置：编译内核后，通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">dmesg | grep spi</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">查看</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">是否被识别（如出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“spi-nor: detected mx25u12832f”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">日志，说明驱动加载成功）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区配置：双文件同步定义</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">专用分区</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">需单独划分</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区存放</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">数据，且</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">**</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">中的分区定义必须完全一致</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">**</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（仅单位不同），这是适配过程中的高频踩坑点：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">配置文件</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">配置规则</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">示例（以</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">256KB vnvm</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区为例）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（启动参数）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">单位：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">sector</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">512</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">字节），格式为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区大小</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">@</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">起始地址</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">(</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区名</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">)</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，需为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">64KB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">整数倍（即</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">128</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">个</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">sector</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">mtdparts=rk29xxnand:0x00000200@0x00000c00(vnvm),0x00004000@0x00004000(uboot)</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（设备树）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">单位：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">byte</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，格式与</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">一致，需转换为</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">byte</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">sector</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">值</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">×512</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="230">
					<p>
						<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">bootargs = "... mtdparts=sfc_nor:0x00040000@0x00018000(vnvm),0x00600000@0x00020000(uboot) ..."</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-mAZ02SAAB8xU4tl0w594.png" alt="wKgZO2kal-mAZ02SAAB8xU4tl0w594.png"/><p>
		<span><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);"/></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">关键注意事项：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区单位不可混淆：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">用</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">sector</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">byte</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，若单位错误会导致分区无法识别，进而出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vendor_storage open fail”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">避免冲突：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区起始地址需避开</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">uboot</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">boot</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">等已有分区，建议放在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">uboot</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区之前（如起始地址</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">0x00000c00</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），大小根据需求设置（最小</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">64KB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，需为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">64KB</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">整数倍）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动验证：确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">设备生成</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">完成内核与分区配置后，需验证系统是否生成</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">/dev/vendor_storage</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">设备节点（这是</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">工具调用的关键）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">启动系统后，执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">ls /dev | grep vendor_storage</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，若能看到设备节点，说明配置基本正常；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">若未生成节点，通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">dmesg | grep vendor</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">排查问题：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">◦</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">若出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vendor_storage_probe ret=-1”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，可能是分区定义错误（如地址冲突、单位错误），需重新核对</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">◦</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">若出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“spi nor not ini<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>alized”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，需检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动是否启用（参考步骤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的内核配置）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">功能测试：用工具验证读写可用性</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">最后通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">vendor_storage</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">工具测试读写功能，确认关键信息能正常存储：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">写入测试：执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">vendor_storage -w VENDOR_SN_ID -t string -i "TEST_SN_123456"</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，无报错说明写入成功；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">读取测试：执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">vendor_storage -r VENDOR_SN_ID -t string</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，若能输出</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“TEST_SN_123456”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，说明</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">完全可用；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">异常排查：若出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">输入</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">输出错误</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，需检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区是否可读写（通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">cat /proc/mtd</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">查看分区状态，确保</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“rw”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">模式）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">三、常见问题排查：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">个高频场景的解决方案</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">在实际适配中，即使步骤正确，也可能因细节遗漏导致问题。以下是</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">个典型场景的排查思路：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">场景</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">vendor_storage</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">工具提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“open fail”</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">可能原因：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">a.</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动未加载（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">dmesg | grep spi</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">无识别日志）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">b.</span></span></span></span><span><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区未定义或定义错误（单位混淆、地址冲突）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">c.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核未启用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">CONFIG_ROCKCHIP_MTD_VENDOR_STORAGE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">排查步骤：先确认</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动加载（步骤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），再核对分区配置（步骤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），最后检查内核配置（步骤</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">场景</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">dmesg</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">中出现</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vendor_storage_probe ret=-1”</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">可能原因：</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">子系统未找到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区，通常是分区表中未定义该分区，或</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的分区信息不一致。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">排查步骤：对比</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">中的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区起始地址、大小，确保单位转换正确（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">sector×512=byte</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">），且无地址冲突。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">场景</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">芯片未被识别（无</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“detected xxx”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">日志）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">可能原因：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">a.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核未勾选对应芯片的驱动（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">mx25u12832f</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">需在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">spi-nor-dev_ids</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">数组中）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">b.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">硬件接线问题（</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">引脚接触不良）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">排查步骤：先检查内核</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">drivers/mtd/spi-nor/core.c</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">中的</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">spi_nor_dev_ids</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">数组，确认芯片型号已添加；若软件配置正确，再排查硬件接线。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">四、总结：适配的核心原则</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">从</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI+SSD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">适配，本质是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">**“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">从块设备逻辑切换到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">字符设备逻辑</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">”**</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">，关键在于抓住</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">个核心原则：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动匹配</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：明确</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">SPI NOR</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">芯片型号，确保驱动被编译且加载成功；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区同步</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">parameter.txt</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">与</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“vnvm”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区定义必须一致，单位不可混淆；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">配置唯一</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">：禁用</span></span></font><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">eMMC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">配置，仅保留</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">MTD</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">方案的配置，避免冲突。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">只要按</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">内核配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">分区定义</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">驱动验证</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">功能测试</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">的步骤推进，同时做好每一步的日志排查，就能高效解决适配过程中的问题，确保</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">Vendor Storage</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);color:rgb(0,0,0);">在双存储方案下稳定工作。</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[低噪声、低失真的INA103仪表放大器：特性、应用与设计要点]]></title>    <link>https://www.elecfans.com/d/7638247.html</link>    <guid>https://www.elecfans.com/d/7638247.html</guid>    <pubDate>2026-02-04 17:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638247" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEwiAZoBzABNKqEZ0-h4880.pdf"/><h1>低噪声、低失真的INA103<a href="https://m.hqchip.com/app/1781" target="_blank"><u>仪表放大器</u></a>：特性、应用与设计要点</h1>
<p>在电子设计领域，对于低噪声、低失真的需求始终是一个关键考量。今天，我们就来深入了解一款出色的仪表放大器——INA103，探讨它的特性、应用场景以及设计中的一些要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638247" target="_blank">ina103.pdf</a></p>
<h2>一、INA103的特性亮点</h2>
<h3>1. 噪声与失真性能</h3>
<p>INA103以其极低的噪声和失真特性脱颖而出。它的电压噪声低至1nV/√Hz，在1kHz、增益G = 100的条件下，总谐波失真加噪声（THD + N）仅为0.0009%。这种出色的性能使得它在处理低电平<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>时表现卓越，比如平衡低阻抗麦克风的信号处理。大家可以思考一下，如此低的噪声和失真，对于音频质量的提升会有多大的帮助呢？</p>
<h3>2. 带宽与增益</h3>
<p>它具有高达100MHz的增益带宽积（GBW），在增益G = 1000时依然能够保持良好的性能。同时，内置了增益设置<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，可轻松实现G = 1和G = 100的增益设置。这为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在设计不同增益需求的电路时提供了极大的便利。那么，在实际应用中，我们该如何根据具体需求选择合适的增益呢？</p>
<h3>3. <a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>与共模抑制比</h3>
<p>INA103的电源电压范围很宽，从±9V到±25V，这使得它在不同的电源环境下都能稳定工作。此外，它的共模抑制比（CMRR）大于100dB，能够有效抑制共模信号的干扰，提高信号处理的准确性。在复杂的电磁环境中，这样的特性是不是显得尤为重要呢？</p>
<h2>二、应用场景广泛</h2>
<h3>1. 麦克风前置<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a></h3>
<p>在高质量麦克风前置放大器的设计中，INA103可以替代传统的变压器<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>放大器。它的低噪声、低失真和平衡输入特性，能够为麦克风信号提供出色的放大效果，提升音频的质量和清晰度。</p>
<h3>2. 其他应用领域</h3>
<p>除了麦克风前置放大器，INA103还适用于动圈前置放大器、差分接收器等。同时，它也可用于放大来自应变计、热电偶、桥式<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>等的信号，在工业测量和控制领域有着广泛的应用。大家在实际工作中，有没有遇到过类似的应用场景呢？</p>
<h2>三、规格参数详解</h2>
<h3>1. 增益相关参数</h3>
<p>增益范围为1到1000V/V，增益误差在不同增益设置下表现良好。例如，在G = 1时，增益误差典型值为0.005%，最大值为0.05%；在G = 100时，增益误差典型值为0.07%，最大值为0.25%。增益温度系数也相对较低，G = 1时为10ppm/°C，G = 100时为25ppm/°C。这些参数保证了在不同温度环境下，放大器的增益稳定性。</p>
<h3>2. 输出参数</h3>
<p>输出电压在不同负载和电源条件下表现稳定，输出<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>最大可达±70mA，能够满足大多数负载的驱动需求。此外，它还具有一定的容性负载稳定性，最大可驱动10nF的<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>负载。</p>
<h3>3. 输入参数</h3>
<p>输入失调电压和输入偏置电流等参数也在合理范围内。输入噪声电压在不同频率下表现出色，1kHz时为1nV/√Hz，输入电流噪声在1kHz时为2pA/√Hz。这些低噪声特性使得它在处理微弱信号时具有很大的优势。</p>
<h2>四、设计要点与注意事项</h2>
<h3>1. 增益选择</h3>
<p>对于增益为1或100V/V的设置，可以直接使用内置的增益设置电阻，无需外部电阻。若需要设置其他增益，则可通过在引脚2和15之间添加外部电阻RG来实现。需要注意的是，外部RG的精度和温度系数会影响增益的准确性和温度漂移。大家在选择外部电阻时，要如何考虑这些因素呢？</p>
<h3>2. 输入稳定性</h3>
<p>某些源阻抗可能会导致INA103振荡，可通过在输入网络中添加小电感和电阻来降低振荡的可能性。特别是在连接不同的输入源时，这种方法非常有效。</p>
<h3>3. 噪声性能</h3>
<p>INA103在低源阻抗时具有很低的噪声，但当源阻抗大于10kΩ时，其噪声性能可能不是最佳。此时，可以考虑使用INA114（适用于精确直流应用）或INA111 FET - 输入仪表放大器（适用于高速应用）。</p>
<h3>4. 偏移调整</h3>
<p>偏移电压可通过可选的电路进行调整，但要注意调整方法，避免增加温度漂移。例如，在调整输出电压时，要确保不影响放大器的整体性能。</p>
<h2>五、封装与订购信息</h2>
<p>INA103提供16引脚塑料DIP和SOL - 16表面贴装两种封装形式，有商业和工业温度范围的型号可供选择。在订购时，要根据实际需求选择合适的封装和温度范围。</p>
<p>INA103是一款性能出色、应用广泛的仪表放大器。在设计过程中，我们要充分了解它的特性和参数，结合实际应用需求，合理选择增益、输入网络和偏移调整方法等，以实现最佳的性能。希望本文能对大家在使用INA103进行电子设计时有所帮助。大家在使用过程中遇到过哪些问题呢？欢迎在评论区分享交流。 </p>]]></description></item><item>    <title><![CDATA[深入剖析LM1875：高性能音频功率放大器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7638248.html</link>    <guid>https://www.elecfans.com/d/7638248.html</guid>    <pubDate>2026-02-04 17:40:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638248" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDEwmAWG2pADQ3byJwHk8017.pdf"/><h1>深入剖析LM1875：高性能<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a><a href="https://www.elecfans.com/tags/功率放大器/" target="_blank"><u>功率放大器</u></a>的卓越之选</h1>
<p>在音频功率<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>领域，LM1875以其出色的性能和广泛的适用性，成为众多<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>的首选。今天，我们就来深入剖析这款由<a href="https://www.elecfans.com/tags/德州仪器/" target="_blank"><u>德州仪器</u></a>（<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>）推出的单声道功率放大器，从其特点、应用、性能参数到设计要点，逐一展开探讨。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638248" target="_blank">lm1875.pdf</a></p>
<h2>特点与优势</h2>
<ol>
<li><strong>功率输出强劲</strong>：LM1875能够提供高达30瓦的输出功率，在±25V<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>下，可向4Ω或8Ω负载输送20瓦功率；使用±30V电源和8Ω负载时，功率输出超过30瓦，能满足大多数音频系统的需求。</li>
<li><strong>失真极低</strong>：在1kHz、20W输出时，总谐波失真（THD）仅为0.015%，即使在高频20kHz、20W输出时，THD也能控制在较低水平，确保了音频的高保真度。</li>
<li><strong>带宽宽广</strong>：拥有70kHz的宽功率带宽，能够准确再现音频<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的高频部分，使声音更加清晰、丰富。</li>
<li><strong>保护功能完善</strong>：具备<a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a>和<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>短路到地保护、热保护以及内部输出保护<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>，有效防止放大器因过载、短路等故障而损坏。</li>
<li><strong><a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>能力强</strong>：最大电流能力可达4A，可驱动各种负载。</li>
<li><strong>电源范围宽</strong>：供电范围为16V - 60V，能适应不同的电源配置。</li>
<li><strong>纹波抑制高</strong>：纹波抑制比达到94dB，可有效减少电源纹波对音频信号的干扰。</li>
</ol>
<h2>典型应用场景</h2>
<p>LM1875的应用十分广泛，常见于以下领域：</p>
<ol>
<li><strong>高性能音频系统</strong>：为家庭音响、专业录音设备等提供高品质的音频放大。</li>
<li><strong>桥接放大器</strong>：通过桥接方式，进一步提高功率输出，满足对功率要求较高的场合。</li>
<li><strong>立体声唱机</strong>：确保唱机输出的音频信号得到准确放大，还原原始音质。</li>
<li><strong>伺服放大器</strong>：在伺服系统中，提供稳定的功率驱动。</li>
<li><strong>仪器系统</strong>：用于各种测试、测量仪器，保证信号的准确放大和处理。</li>
</ol>
<h2>性能参数解读</h2>
<h3>绝对最大额定值</h3>
<p>了解器件的绝对最大额定值对于确保其安全运行至关重要。LM1875的主要绝对最大额定值如下：</p>
<ul>
<li>电源电压：60V</li>
<li>输入电压范围：−VEE 到 VCC</li>
<li>存储温度范围：−65°C 到 +150°C</li>
<li>结温：150°C</li>
<li>焊接温度（10秒）：260°C</li>
</ul>
<h3><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</h3>
<p>在标准测试条件下（(V<em>{CC}=+25V)，(-V</em>{EE}=-25V)，(T<em>{AMBIENT}=25^{circ}C)，(R</em>{L}=8Ω)，(A<em>{V}=20)（26dB），(f</em>{o}=1kHz)），LM1875的部分电气特性参数表现出色：</p>
<ul>
<li>静态电源电流：70 - 100mA</li>
<li>输出功率（THD = 1%）：25W</li>
<li>总谐波失真：在不同输出功率和频率下有详细指标，如1kHz、20W时THD为0.015%。</li>
<li>增益带宽积：5.5MHz</li>
<li>开环增益：DC时为90dB</li>
<li>电源抑制比（PSRR）：在1kHz、1<a href="https://m.elecfans.com/v/tag/3668/" target="_blank"><u>Vr</u></a>ms时，VCC为95 - 52dB，VEE为83 - 52dB</li>
<li>最大压摆率：8V/μs</li>
<li>电流限制：4 - 3A</li>
</ul>
<h2>设计要点与注意事项</h2>
<h3>稳定性设计</h3>
<p>虽然LM1875在闭环增益为10或更大时设计为稳定的，但在某些情况下仍可能发生振荡，主要与印刷电路板布局和输出/输入<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>有关。</p>
<ul>
<li><strong>电路板布局</strong>：合理的布局至关重要。负载地、输出补偿地和低电平（反馈和输入）地应通过独立路径返回电路板接地端，以避免大电流在接地导体上产生电压，导致高频振荡或过度失真。同时，输出补偿组件和0.1μF电源去耦<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>应尽量靠近LM1875，减少<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>走线<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和电感的影响。</li>
<li><strong>输入耦合</strong>：当输出引线中的电流（作为<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>天线</u></a>）通过空气耦合到放大器输入时，可能导致高频振荡。可通过在电路输入端跨接一个50pF - 500pF的小电容来消除此问题。</li>
<li><strong>容性负载</strong>：大多数功率放大器驱动高容性负载的能力较差，LM1875也不例外。当输出直接连接电容且无串联电阻时，若电容大于约0.1μF，方波响应会出现振铃。若需驱动高容性负载，应在输出端串联一个至少1Ω的电阻。</li>
</ul>
<h3>失真控制</h3>
<p>为避免音频应用中出现过度失真，除了遵循上述电路板接地技术建议外，还应将电源走线与连接到LM1875输入的走线分开，防止电源电流通过电感耦合到输入。电源线应绞合在一起并与电路板隔开，焊接到电路板时，应至少在几英寸的距离内垂直于电路板平面。在合理的物理布局下，20kHz、10W输出到8Ω负载时的THD应小于0.05%，1kHz时应小于0.02%。</p>
<h3>电流限制与安全工作区保护</h3>
<p>功率放大器的输出<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>可能因过压、过流或功耗过大而损坏。LM1875不仅将电流限制在约4A，还会在输出晶体管两端电压较高时降低限制电流值。此外，内部集成的输出与电源轨之间的保护二极管，可有效防止在驱动非线性电抗负载时，输出端电压超出电源电压导致的晶体管损坏。</p>
<h3>热保护与散热设计</h3>
<p>LM1875具备精密的热保护机制。当芯片温度达到170°C时，放大器会自动关闭；温度降至约145°C时重新启动，但再次升温时，在150°C就会再次关闭。这种设计可减少热循环对IC的应力，提高其在持续故障条件下的可靠性。</p>
<p>无论是否驱动负载，LM1875都必须配备散热片。空载时，在60V电源下，最大静态电流为100mA，功耗可达6W。根据公式(P<em>{D(MAX)} approx frac{V</em>{S}^{2}}{2 <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>^{2} R<em>{L}}+P</em>{O})（其中(V<em>{S})为总电源电压，(R</em>{L})为负载电阻，(P_{O})为放大器的静态功耗）可估算最大平均功耗。为确保芯片温度在安全范围内，需根据具体应用选择合适的散热片，使总热阻满足要求。</p>
<h2>总结</h2>
<p>LM1875凭借其卓越的性能、完善的保护功能和广泛的适用性，成为音频功率放大领域的经典之选。在设计应用时，电子工程师需充分考虑其稳定性、失真控制、电流保护和热管理等方面的要求，以确保放大器能够发挥最佳性能，为音频系统提供高质量的功率放大。你在使用LM1875的过程中遇到过哪些问题？又是如何解决的呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[避坑指南！RK3588 D/C-PHY硬件设计致命误区，别让Camera和LCD“打架”（android12）]]></title>    <link>https://www.elecfans.com/d/7401382.html</link>    <guid>https://www.elecfans.com/d/7401382.html</guid>    <pubDate>2026-02-04 17:40:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>硬件设计中，</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">凭借强大的算力和丰富的外设<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，成为直播机、工业平板、智能终端等设备的热门主控。但其中</span></span></font></span><b><span><span><span style="background-color:#ffffff;">MI<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a> D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">（数据</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">控制物理层）</span></span></font></span></b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">的设计往往被忽略</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">它直接关联</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/csi/" target="_blank"><u>CSI</u></a> RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">接收）和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/dsi/" target="_blank"><u>DSI</u></a> TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">发送）两大核心外设，一旦硬件设计踩坑，轻则调试卡壳，重则整机功能失效。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">近期某直播机项目就因</span></span></font><span><span style="background-color:#ffffff;">D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">设计失误，出现</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">开机屏幕正常，打开摄像头后屏幕立即卡死</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的问题。今天我们就从这个真实案例出发，<a href="https://www.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a></span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK3588 D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的硬件设计规则，帮你提前规避同类风险。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-iAf5UTAAYwfLDjf5k728.png" alt="wKgZO2kal-iAf5UTAAYwfLDjf5k728.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">一、先搞懂：</span></span></font><span><span style="background-color:#ffffff;">RK3588 D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">的基础规格</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在设计前，必须明确</span></span></font><span><span style="background-color:#ffffff;">RK3588 D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">的核心参数和硬件限制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">这些是规避问题的前提，所有设计都需围绕官方规格展开：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">核心参数</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">规格细节</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">物理层数量</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">支持</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">个独立</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">节点，节点名：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">csi2_<a href="https://www.hqchip.com/app/1703" target="_blank"><u>dc</u></a>phy0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">csi2_dcphy1</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">协议支持</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">每个</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">支持</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">D-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">V2.0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">V1.1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><font face="等线"><span><span style="background-color:#ffffff;">复用，但有严格限制（后文重点）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">速率能力</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">D-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4.<a href="https://m.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>bps/Lane</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">5.7Gbps/Trio</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（注：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">以</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">三通道</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">为单位）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">功能支持</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">每个</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">可同时使用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（接收，如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">CSI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（发送，如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DSI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">供电要求</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">需单独配置三路电压：</span></span></font><span><span style="background-color:#ffffff;">VDD_0V75</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY 2.5Gbps/C-PHY 1.5Gsps</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">VDD_1V2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">VDD_1V8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，配套<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>需按规格选型（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1uF/100nF 0201</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">封装，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">6.3V</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">耐压）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">阻抗要求</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">D-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">差分对：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">100Ω±10%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">单端：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">50Ω±10%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>Layout</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">必须满足，否则<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>完整性失效）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">二、致命坑！同一</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">混接不同协议，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera “</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">互杀</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">开头提到的直播机项目，问题根源就是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">硬件设计违反了</span></span></font><span><span style="background-color:#ffffff;">RK3588 D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">的核心限制</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，我们先还原场景，再拆解原因：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">项目故障场景</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">硬件设计：</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DSI TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">CSI RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">共用</span></span></font><span><span style="background-color:#ffffff;">csi2_dcphy0</span></span><font face="等线"><span><span style="background-color:#ffffff;">节点</span></span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">协议配置：</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">故障现象：开机时</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">显示正常；打开</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">后，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">立即卡死，重启后仍需关闭</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">才能恢复显示</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">根源：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK3588</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的硬性限制（官方</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">FAE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">确认）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">的每个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">节点（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">csi2_dcphy0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）内部，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的协议<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">绑定复用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">同一</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，必须同时使用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或同时使用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，绝对不能混用</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">！</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-iAISNRAAGYaaYpSl4141.png" alt="wKgZO2kal-iAISNRAAGYaaYpSl4141.png"/><p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">为什么会卡死？</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">当</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX-D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX-C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）共用同一</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">时，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内部需要同时切换两种协议模式，导致<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>域冲突、信号链路紊乱：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">启动后，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">强行切换到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">接收模式，直接打断</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">发送链路，最终造成屏幕卡死。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">关键提醒：这是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">硬件层面的物理限制</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，不是软件配置能绕过的！即使单独调试</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">都正常，混接后必然出问题。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">三、硬件避坑</span></span></font><span><span style="background-color:#ffffff;">4</span></span><font face="等线"><span><span style="background-color:#ffffff;">步法：从设计源头规避冲突</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">要避免上述问题，核心是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">按协议分配</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，按规则设计硬件</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，具体可按以下</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">步执行：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：明确外设的协议需求</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">设计前先确认</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议支持</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">比如：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否支持</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">？默认多为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如多数</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MIPI LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">面板）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><span><span style="background-color:#ffffff;">Camera</span></span><font face="等线"><span><span style="background-color:#ffffff;">是否支持</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">？高分辨率</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">可能优先</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4K</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">以上模组）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">整理成表格，避免后期混淆：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">外设类型</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">协议需求</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">速率需求</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">DSI TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">D-PHY</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">≤4.5Gbps/Lane</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Camera</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">CSI RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">C-PHY</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">≤5.7Gbps/Trio</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：按协议分配独立</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">节点</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">根据外设协议需求，给</span></span></font><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">分配</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">不同的</span></span></font><span><span style="background-color:#ffffff;">D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">节点</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，遵循</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">不同协议，不同</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">原则：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">合理设计方案</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">具体分配</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">方案</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">（推荐）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">LCD</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX-D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ csi2_dcphy0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX-C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ csi2_dcphy1</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">方案</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">（备用，需外设支持）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">节点紧张，可让</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">同用一个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，但必须统一协议（如都用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，需</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">支持</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">绝对禁止：同一</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">下，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（或反之）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">3</span></span><font face="等线"><span><span style="background-color:#ffffff;">：原理图设计必查</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个关键点</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">即使</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">分配正确，原理图细节错误也会导致功能失效，需重点检查：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">供电电路</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">VDD_0V75/VDD_1V2/VDD_1V8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">引脚（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">AF20/AG20/AH20/AJ20</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）必须正确连接，配套电容按规格选型（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1uF</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C16001</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">100nF</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C1602</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，均为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0201</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">封装），避免虚焊或耐压不足；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">阻抗匹配</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><span><span style="background-color:#ffffff;">D-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">差分对（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MIPI_DPHY0_TX_CLKP/CLKN</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）需按</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">100Ω±10%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设计，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">单端信号（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MIPI_CPHY0_TX_TRIO0_A</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）按</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">50Ω±10%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设计，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCB Layout</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">时避免差分对断裂、跨层；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">引脚复用</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">：确认</span></span></font><span><span style="background-color:#ffffff;">PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">引脚无其他功能复用（如文档中</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“NO_USE”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">引脚不可随意占用），避免信号干扰。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">4</span></span><font face="等线"><span><span style="background-color:#ffffff;">：前期对接官方资源</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">设计初期务必：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">查阅《</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">数据手册》中</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“MIPI D/C-PHY”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">章节，确认最新硬件限制；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">参考</span></span></font><span><span style="background-color:#ffffff;">RK</span></span><font face="等线"><span><span style="background-color:#ffffff;">官方</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EVB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">板原理图（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">rk3588-evb.dtsi</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），核对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的外设分配方式；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">若有不确定的点，提前咨询</span></span></font><span><span style="background-color:#ffffff;">RK FAE</span></span><font face="等线"><span><span style="background-color:#ffffff;">，避免等</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">打样后才发现问题（改版成本极高）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">四、案例复盘：这些教训要记牢</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">回顾整个调试过程</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，项目团队因前期忽略</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议限制，导致：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">调试周期延长：从发现问题到定位根源，耗时近</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">周（需排查软件配置、日志、硬件原理图）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">硬件成本浪费：若已批量生产，需重新改版</span></span></font><span><span style="background-color:#ffffff;">PCB</span></span><font face="等线"><span><span style="background-color:#ffffff;">，单块板成本增加</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">工时损耗；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">功能妥协：最终只能选择</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">改</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">下一代产品重新设计</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">分配</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，影响产品迭代。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">这些教训的核心：</span></span></font></span><b><span><span><span style="background-color:#ffffff;">RK3588 D/C-PHY</span></span><font face="等线"><span><span style="background-color:#ffffff;">设计，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">规则先行</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">比</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">后期调试</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">更重要</span></span></font></span></b><span><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">硬件一旦画错，软件再怎么优化都无法绕开物理限制。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">五、设计</span></span></font><span><span style="background-color:#ffffff;">Checklist</span></span><font face="等线"><span><span style="background-color:#ffffff;">：自查避坑，告别踩雷</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">最后，给大家整理一份</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“RK3588 D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">硬件设计自查表</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，设计完成后对照检查，确保无遗漏：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">外设协议确认：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">需求已明确，无模糊项；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">节点分配：不同协议的外设已分配到不同</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY→PHY0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY→PHY1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议统一性：同一</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">下的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">TX/RX</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议一致（无</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">混接）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">供电合规：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">VDD_0V75/1V2/1V8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">电路正确，电容选型符合规格；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">阻抗匹配：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">差分对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">100Ω</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">单端</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">50Ω</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Layout</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">满足要求；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;"/></span></font><font face="等线"><span><span style="background-color:#ffffff;">官方参考：已核对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">官方文档和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">EVB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">原理图，无偏离；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="Arial"><span><span style="background-color:#ffffff;">FAE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">确认：关键设计点已同步</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RK FAE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，无风险项。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">结尾</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D/C-PHY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设计看似简单，实则隐藏着</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">协议绑定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的关键限制。对于硬件设计者而言，</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">提前掌握规则、规避冲突</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，远比后期排查问题更高效。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">如果你的项目正基于</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">设计，且涉及</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Camera</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LCD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，建议现在就对照本文检查设计方案</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">毕竟，一次正确的硬件设计，能为后续调试和量产省去无数麻烦。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">若有更多</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">硬件设计疑问，欢迎在评论区交流！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[十轮减重、自研AIOS，玄景M6用单光机+模块化破解AR行业僵局]]></title>    <link>https://www.elecfans.com/d/7638251.html</link>    <guid>https://www.elecfans.com/d/7638251.html</guid>    <pubDate>2026-02-04 17:40:00</pubDate>    <description><![CDATA[<br/>
<br/>
电子发烧友网报道（文/莫婷婷）2025年，<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>眼镜行业进入了快速发展的一年，产品形态逐步定型，主要划分为AI<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>、AI拍摄和AI显示三大类。进入2026年，一种全新的产品形态——模块化设计——开始进入市场。在CES 2026上，模块化AR眼镜品牌玄景发布M6系列产品。<br/>
<br/>
玄景M6系列由基础形态AI拍摄眼镜M6 Air搭载磁吸式光波导显示屏Mini AR显示屏（单绿色或全彩光引擎）组合而成，由此可升级为具备影院级沉浸观影的AR眼镜。<br/><br/><img alt="wKgZPGmDFFWAYp1yAA1iO3NchdQ405.png" src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDFFWAYp1yAA1iO3NchdQ405.png" style="width:395px;height:263px;"/> <br/>
<br/>
玄景高级产品专家陈恺表示，这是业界首款实现硬件可持续升级的AR眼镜，该架构可以让用户无需更换整机，只需更换AR显示设备就能持续升级。<br/>
<br/>
玄景M6系列凭借创新的模块化设计，为同质化的AI智能眼镜市场带来了突破性的新思路与增长动能。<br/>
<br/><strong>十轮迭代打磨，玄景推出硬件可持续升级的M6系列</strong><br/>
玄景作为AI智能眼镜行业的新锐企业，公司入局便瞄准模块化设计，通过可拆卸、可升级、可组合的硬件架构，打破传统智能眼镜功能固化与体验割裂的困局。2025年4月，公司推出第一款模块化产品玄景M5。<br/>
<br/>
玄景M5达到行业<span dir="ltr">最轻的</span>25.8g的AR眼镜，支持近视眼镜即用即插，采用Micro-<a href="https://m.hqchip.com/app/1721" target="_blank"><u>LED</u></a>光引擎+双目玻璃衍射光波导方案。<br/>
<br/>
玄景M6系列在此基础上升级，分为玄景M6 Air（36.8g）、M6 Display（48g）和M6 Display Pro（52g）。在<a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>方案上，M6系列采用Micro LED+衍射光波导成像技术，支持全彩或单绿色显示模式，入眼亮度峰值可达1800nits，FOV达30°，配备的是SONY IMX681<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>。<br/><img alt="wKgZPGmDFGWAfrNYAA6whH8LgIw880.png" src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDFGWAfrNYAA6whH8LgIw880.png" style="width:380px;height:285px;"/> <br/>
<br/><span dir="ltr">玄景副总裁、软工首席谢鑫回忆，在研发玄景</span>M6的过程中，我们面临了诸多工程挑战。例如显示部分空间和重量的限制极为严苛。最初的设计重量高达17–18g，我们认为这已超出用户可接受的佩戴舒适阈值，于是历经十款结构迭代与优化，最终将重量压缩至仅11.5<a href="https://m.elecfans.com/v/tag/1225/" target="_blank"><u>5g</u></a>。<br/>

<div style="text-align:center;">
	<img alt="wKgZO2mDFHeAb0MpAAPAyhZpBak527.png" src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFHeAb0MpAAPAyhZpBak527.png" style="width:380px;height:275px;"/> <br/><span dir="ltr">图：玄景磁吸式</span>Mini AR显示屏</div>
<br/><span dir="ltr">在光学方案上，玄景</span>M6也经历了调整：初代原型采用的是DLP光机，难以满足轻量化需求；后续果断转向 Micro LED光机方案，采用JDB的0.2CC光机，不仅大幅缩小了体积，还提升了能效与显示性能。<br/>
<br/>
根据介绍，M6 Display和M6 Display Pro两款除了支持物体识别，还将支持图文、翻译字幕显示、投屏观影，HUD导航等功能。<br/>
<br/><span dir="ltr">磁吸式</span>光波导显示屏与眼镜匹配时有一个要考量的点：那就是<span dir="ltr">当用户将头显模块叠加到眼镜上时，图像要快速呈现，确保用户体验的流畅性，在这方面玄景</span>M6做到了0.2秒即可呈现图像。<br/>
<br/><span dir="ltr">这一效果背后，是光峰科技在电路适配、<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>传输和<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>设计上的深度打磨：摒弃早期复杂的高低差</span>/角度错位方案，采用全平面对齐结构，提升插拔可靠性与识别一致性，仅接口方案就经过上万次插拔与稳定性测试。<br/>
<br/><strong><span dir="ltr">鸿雁</span>AIOS：玄景M6低功耗高智能交互架构</strong><br/><br/><span dir="ltr">传统</span>AR/MR设备多沿用<a href="https://www.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>式UI与固定应用排列，不仅信息冗余、分散用户注意力，更在低分辨率、小视场的眼镜屏幕上加剧体验负担。而玄景认为“好的交互”应具备精准反馈、按需交互、个性化三大核心要素。<br/>
<br/><span dir="ltr">为了突破当前</span>AI眼镜“被动唤醒+图标堆砌”的交互瓶颈，玄景自研“鸿雁AIOS”的AI智能体，这也是玄景M6的系统核心。<br/>
<br/><span dir="ltr">鸿雁</span>AIOS主要功能包括：一是基于多模态感知实时识别用户所处场景，动态调整界面布局与可用服务；二是通过个性化虚拟角色提供陪伴式交互，该角色随用户习惯成长，在不同硬件形态中以声音或视觉形象呈现；三是实现主动与半主动服务——如骑行时自动启动导航、点餐时直接推荐菜品而非仅翻译菜单，并以极简语言反馈。<br/><br/><img alt="wKgZO2mDFIyALlFkAAqcxUzPp10148.png" src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFIyALlFkAAqcxUzPp10148.png" style="width:380px;height:229px;"/> <br/><br/><span dir="ltr">玄景软件研发<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>总经理郝冬宁表示，鸿雁</span>Agent在眼镜端的具象化表现为：人性化多轮引导对话；意图理解；决策制定；结合云端丰富的工具及服务资源，提供人性化的结果反馈等。<br/>
<br/><span dir="ltr">鸿雁</span>AIOS除了带来交互方式的革新，还带来了续航方面的显著优化。<br/>
<br/><span dir="ltr">通过</span>“分级触发”机制与“端边云”协同架构，系统将高功耗的感知与计算任务优先交由手机等边缘设备处理，仅在确认用户真实意图和具体场景后才激活眼镜端功能；同时，依托行为建模与情境预判实现服务闭环，减少屏幕显示、语音反馈和多轮交互带来的额外能耗。<br/>
<br/><img alt="wKgZO2mDFJ6AJTIkAAs6wuinVeE594.png" src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFJ6AJTIkAAs6wuinVeE594.png" style="width:380px;height:213px;"/> <br/>
<br/><span dir="ltr">同时玄景</span>M6系列采用充电仓和<a href="https://www.elecfans.com/tags/type-c/" target="_blank"><u>Type-C</u></a>直连双续航方案，眼镜盒作为充电仓，内置1800mAh电池，可为AI眼镜提供多达5次完整充电。<br/>
<br/><strong>为什么是模块化？又如何破解拍照体验困局？</strong><br/><br/>
当前，业内选择插拔模块化的设计AI眼镜并不多。那么，玄景为何选择插拔式设计？<br/>
<br/>
陈恺表示，在AR眼镜光机方案选择上，行业存在单光机与双光机两大流派，中置光机在结构上更便于实现插拔式设计。双光机虽能提供3D景深效果，但面临成本翻倍、良品率低、左右眼画面校准精度要求高等难题；而当前主流应用场景尚未体现出对立体景深的刚性需求。玄景认为单光机是现阶段更合理的选择。<br/>
<br/>
现阶段，AI智能眼镜产品还未完全成熟，玄景入局也有自己的“打法”。针对AI眼镜在拍照功能上受限于无法自动变焦、HDR处理耗时、防抖能力弱等硬件瓶颈，玄景采取“规避硬拍、聚焦识别”的产品策略：目前先将拍照作为AI交互的入口，快速捕获现实场景用于识别与服务触发。<br/>
<br/>
在技术应对上，玄景通过微创新优化体验：一是HDR处理：<span dir="ltr">暗的场景核心是曝光，对</span>HDR的<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>有更高的要求，但是HDR的算法一般是给手机和专业设备做的，在眼镜端运算有明显的延迟。因此玄景采用“先快后优”策略——用户先得到一张未经HDR合成的可用原图，HDR运算在后台异步进行，完成优化后替换原图。二是防抖方案：不依赖单一硬件，而是联合供应商，并将初步处理后的图像上传云端，由AI进一步进行优化，以软件弥补硬件不足。<br/>
<br/><span dir="ltr">玄景正在不断进行产品的迭代，谢鑫表示，公司正在规划</span>下一代M7、M8系列，除了模块化产品，还在规划一体化产品，预计今年晚些时候会发布。<br/>]]></description></item><item>    <title><![CDATA[服务器惊现“活死人”？僵尸进程排查、危害与解决全指南]]></title>    <link>https://www.elecfans.com/d/7401381.html</link>    <guid>https://www.elecfans.com/d/7401381.html</guid>    <pubDate>2026-02-04 17:41:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在服务器运维中，你是否遇到过这样的怪事：明明任务已经结束，进程却像</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">活死人</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">一样赖着不走，还霸占着进程</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">ID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>D</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）？这就是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程（</span></span></font><span><span style="background-color:#ffffff;">Zombie Process</span></span><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">在搞鬼。今天，我们不仅<a href="https://www.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>它的排查与解决方法，更要讲清它对系统的隐藏危害，让你彻底拿捏这个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">顽固分子</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">一、先搞懂：僵尸进程到底是什么？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">简单来说，僵尸进程是一种</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">半成品</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">状态的进程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">子进程已经运行结束（代码执行完、资源释放），但</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">父进程没调用</span></span></font></span></b><span><span><span style="background-color:#ffffff;">w<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>t()</span></span></span><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span></b><span><span><span style="background-color:#ffffff;">waitpid()</span></span></span><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">回收它的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">身份信息</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">（比如进程控制块</span></span></font><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a></span></span><font face="等线"><span><span style="background-color:#ffffff;">，存储进程</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、状态等核心数据）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">它不占</span></span></font><span><span style="background-color:#ffffff;"><a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></span><font face="等线"><span><span style="background-color:#ffffff;">、内存，但会占用系统的</span></span></font></span><b><span><span><span style="background-color:#ffffff;">PID</span></span><font face="等线"><span><span style="background-color:#ffffff;">资源</span></span></font></span></b><span><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">这是它最危险的地方。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">二、警惕！僵尸进程对系统的</span></span></font><span><span style="background-color:#ffffff;">3</span></span><font face="等线"><span><span style="background-color:#ffffff;">大危害</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">很多人觉得</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程不占资源，不用管</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，但忽略了它的隐性风险，积累到一定程度会直接瘫痪系统：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">耗尽</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">资源，导致新进程无法创建</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span><font face="等线"><span><span style="background-color:#ffffff;">系统的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PID</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是有限的（默认一般是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">32768</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，可通过</span></span></font></span><span><span><span style="background-color:#ffffff;">/proc/sys/kernel/pid_max</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">查看）。若大量僵尸进程堆积，</span></span></font><span><span style="background-color:#ffffff;">PID</span></span><font face="等线"><span><span style="background-color:#ffffff;">会被占满，此时无论执行</span></span></font></span><span><span><span style="background-color:#ffffff;">ls</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><span><span><span style="background-color:#ffffff;">ssh</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">还是启动服务，都会报错</span></span></font></span><b><span><font face="Arial"><span><span style="background-color:#ffffff;">“Resource <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>mporarily unavailable”</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">（资源暂时不可用），新进程完全无法创建。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">增加内核管理负担</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">每个僵尸进程的</span></span></font><span><span style="background-color:#ffffff;">PCB</span></span><font face="等线"><span><span style="background-color:#ffffff;">（约几十字节）会一直存放在内核空间。虽然单个占用小，但</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">thousands</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">级别的僵尸进程会让内核在遍历进程列表（如</span></span></font></span><span><span><span style="background-color:#ffffff;">ps</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><span><span><span style="background-color:#ffffff;">top</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">命令）时变慢，间接影响系统响应速度。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">掩盖父进程的异常问题</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程的本质是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">父进程没尽责回收</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。若长期存在僵尸进程，可能意味着父进程本身有</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">bug</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如死锁、<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>处理逻辑缺失）或已经卡死</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">此时不处理，父进程可能会进一步引发更严重的问题（如内存泄漏、业务中断）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">三、如何快速揪出僵尸进程？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">用两个命令，轻松锁定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">嫌疑犯</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">1.</span></span></span></b><b><span><span><span style="background-color:#ffffff;">ps</span></span></span></b><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">命令：精准筛选僵尸进程</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">在终端执行以下命令，直接过滤出状态为</span></span></font></span><span><span><span style="background-color:#ffffff;">Z</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（僵尸）或包含</span></span></font></span><span><span><span style="background-color:#ffffff;">defunct</span></span></span><span><font face="等线"><span><span style="background-color:#ffffff;">（已失效）的进程：</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-eAD-6LAABErXWJcq0930.png" alt="wKgZO2kal-eAD-6LAABErXWJcq0930.png"/><ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment"># 方式1：显示完整信息（推荐）</span></span></code><code><span>ps aux |<span class="code-snippet__params">grep -E 'Z</span>|defunct<span class="code-snippet__string">'</span></span></code><code><span># 方式2：只输出关键信息（PID、父进程PPID、进程名）</span></code><code><span>ps -ef | awk '<span class="code-snippet__variable">$8</span>~<span class="code-snippet__regexp">/Z|defunct/</span>&amp;&amp;<span class="code-snippet__variable">$0</span>!~<span class="code-snippet__regexp">/grep/</span>{print<span class="code-snippet__string">"PID:"</span><span class="code-snippet__variable">$2</span>,<span class="code-snippet__string">"PPID:"</span><span class="code-snippet__variable">$3</span>,<span class="code-snippet__string">"COMMAND:"</span><span class="code-snippet__variable">$8</span>}<span class="code-snippet__string">'</span></span></code></pre>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">示例输出（带</span></span></font></span><span><span><span style="background-color:#ffffff;"><defunct/></span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">且</span></span></font><span><span style="background-color:#ffffff;">STAT</span></span><font face="等线"><span><span style="background-color:#ffffff;">为</span></span></font></span><span><span><span style="background-color:#ffffff;">Z</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">的就是僵尸进程）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__attribute">USER</span>    PID %CPU %MEM  VSZ  <a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>S TTY   STAT START  <a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>TI</u></a>ME COMMAND</span></code><code><span><span class="code-snippet__attribute">root</span>   <span class="code-snippet__number">1234</span><span class="code-snippet__number">0</span>.<span class="code-snippet__number">0</span><span class="code-snippet__number">0</span>.<span class="code-snippet__number">0</span>  <span class="code-snippet__number">0</span>  <span class="code-snippet__number">0</span>pts/<span class="code-snippet__number">0</span>  Z+ <span class="code-snippet__number">10</span>:<span class="code-snippet__number">00</span> <span class="code-snippet__number">0</span>:<span class="code-snippet__number">00</span><span class="code-snippet__meta">[test] <defunct/></span></span></code></pre>
	<h3>
		<b><span><span><span style="background-color:#ffffff;">2.</span></span></span></b><b><span><span><span style="background-color:#ffffff;">top</span></span></span></b><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">命令：看僵尸进程总数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">执行</span></span></font></span><span><span><span style="background-color:#ffffff;">top</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">后，注意顶部状态栏的</span></span></font></span><span><span><span style="background-color:#ffffff;">zombie</span></span></span><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">计数</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font></span><span><span><span style="background-color:#ffffff;">zombie: 5</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">表示有</span></span></font><span><span style="background-color:#ffffff;">5</span></span><font face="等线"><span><span style="background-color:#ffffff;">个僵尸进程）。若计数不为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，按</span></span></font></span><span><span><span style="background-color:#ffffff;">f</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">键勾选</span></span></font></span><span><span><span style="background-color:#ffffff;">PPID</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">字段，再按</span></span></font></span><span><span><span style="background-color:#ffffff;">O</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">键按</span></span></font></span><span><span><span style="background-color:#ffffff;">STAT</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">排序，就能快速定位所有</span></span></font></span><span><span><span style="background-color:#ffffff;">Z</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">状态的进程。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">四、僵尸进程是怎么</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">诞生</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的？看反面代码</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程的根源是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">父进程偷懒</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，看这段会产生僵尸进程的错误代码：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdio.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdlib.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><unistd.h/></span></span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">main</span></span><span class="code-snippet__function"><span class="code-snippet__params">()</span></span><span class="code-snippet__function"/>{</span></code><code><span> <span class="code-snippet__type">pid_t</span>pid = fork(); <span class="code-snippet__comment">// 创建子进程</span></span></code><code><span> <span class="code-snippet__keyword">if</span>(pid ==<span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__comment">// 子进程：执行完立即退出</span></span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程 (PID: %d) 完成任务，退出n"</span>,<span class="code-snippet__built_in">getpid</span>());</span></code><code><span>   <span class="code-snippet__built_in">exit</span>(<span class="code-snippet__number">0</span>);</span></code><code><span>  }<span class="code-snippet__keyword">else</span>{</span></code><code><span>   <span class="code-snippet__comment">// 父进程：不回收子进程，休眠10秒</span></span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"父进程 (PID: %d) 休眠中，子进程会变僵尸n"</span>,<span class="code-snippet__built_in">getpid</span>());</span></code><code><span>   <span class="code-snippet__built_in">sleep</span>(<span class="code-snippet__number">10</span>); <span class="code-snippet__comment">// 这10秒内，子进程是僵尸状态</span></span></code><code><span>  }</span></code><code><span> <span class="code-snippet__keyword">return</span><span class="code-snippet__number">0</span>;</span></code><code><span>}</span></code></pre>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">问题核心：</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">父进程没有调用</span></span></font></span></b><span><span><span style="background-color:#ffffff;">wait()</span></span></span><b><span><span><span style="background-color:#ffffff;">/</span></span></span></b><span><span><span style="background-color:#ffffff;">waitpid()</span></span></span><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">回收子进程</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，导致子进程退出后，</span></span></font><span><span style="background-color:#ffffff;">PCB</span></span><font face="等线"><span><span style="background-color:#ffffff;">一直留在内核中。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">五、如何</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">送走</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程？</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">种正确代码</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">极端方案</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">解决僵尸进程的核心是</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">让父进程主动回收子进程资源</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，以下是两种常用正确写法，覆盖不同场景：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：阻塞等待回收（适用于父进程可暂停的场景）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">父进程用</span></span></font></span><span><span><span style="background-color:#ffffff;">waitpid()</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">阻塞等待子进程退出，直接回收资源，简单直接：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdio.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdlib.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><unistd.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><sys/></span></span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">main</span></span><span class="code-snippet__function"><span class="code-snippet__params">()</span></span><span class="code-snippet__function"/>{</span></code><code><span> <span class="code-snippet__type">pid_t</span>pid = fork();</span></code><code><span> <span class="code-snippet__keyword">if</span>(pid ==<span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程 (PID: %d) 执行任务...n"</span>,<span class="code-snippet__built_in">getpid</span>());</span></code><code><span>   <span class="code-snippet__built_in">sleep</span>(<span class="code-snippet__number">2</span>); <span class="code-snippet__comment">// <a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>任务耗时</span></span></code><code><span>   <span class="code-snippet__built_in">exit</span>(<span class="code-snippet__number">0</span>);</span></code><code><span>  }<span class="code-snippet__keyword">else</span>{</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"父进程等待子进程退出...n"</span>);</span></code><code><span>   <span class="code-snippet__type">int</span>status;</span></code><code><span>   <span class="code-snippet__comment">// 阻塞等待指定子进程，回收资源</span></span></code><code><span>   <span class="code-snippet__built_in">waitpid</span>(pid, &amp;status,<span class="code-snippet__number">0</span>);</span></code><code><span>   <span class="code-snippet__comment">// 可选：解析子进程退出状态（正常/被信号终止）</span></span></code><code><span>   <span class="code-snippet__keyword">if</span>(<span class="code-snippet__built_in">WIFEXITED</span>(status)) {</span></code><code><span>     <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程正常退出，退出码：%dn"</span>,<span class="code-snippet__built_in">WEXITSTATUS</span>(status));</span></code><code><span>    }</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程已回收，无僵尸n"</span>);</span></code><code><span>  }</span></code><code><span> <span class="code-snippet__keyword">return</span><span class="code-snippet__number">0</span>;</span></code><code><span>}</span></code></pre>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">方式</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：异步处理（适用于父进程需继续干活的场景）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">若父进程要同时处理其他任务（如服务端程序），可通过</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">捕获</span></span></font></span></b><span><span><span style="background-color:#ffffff;">SIGCHLD</span></span></span><b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">信号</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">，在子进程退出时自动回收，不阻塞父进程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdio.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><stdlib.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><unistd.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><sys/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><signal.h/></span></span></span></code><code><span><span class="code-snippet__comment">// 信号处理函数：子进程退出时触发</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">void</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">handle_sigchld</span></span><span class="code-snippet__function"><span class="code-snippet__params">(</span></span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__type">int</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">sig)</span></span><span class="code-snippet__function"/>{</span></code><code><span> <span class="code-snippet__type">pid_t</span>pid;</span></code><code><span> <span class="code-snippet__type">int</span>status;</span></code><code><span> <span class="code-snippet__comment">// 非阻塞循环，回收所有已退出的子进程</span></span></code><code><span> <span class="code-snippet__keyword">while</span>((pid =<span class="code-snippet__built_in">waitpid</span>(<span class="code-snippet__number">-1</span>, &amp;status, WNOHANG)) &gt;<span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程 (PID: %d) 已回收n"</span>, pid);</span></code><code><span>  }</span></code><code><span>}</span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">main</span></span><span class="code-snippet__function"><span class="code-snippet__params">()</span></span><span class="code-snippet__function"/>{</span></code><code><span> <span class="code-snippet__comment">// 注册SIGCHLD信号处理函数</span></span></code><code><span> <span class="code-snippet__keyword">struct</span><span class="code-snippet__title">sig<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>tion</span>sa;</span></code><code><span>  sa.sa_handler = handle_sigchld;</span></code><code><span>  sa.sa_flags = SA_RESTART; <span class="code-snippet__comment">// 重启被信号中断的系统调用</span></span></code><code><span> <span class="code-snippet__built_in">sigemptyset</span>(&amp;sa.sa_mask);</span></code><code><span> <span class="code-snippet__built_in">sigaction</span>(SIGCHLD, &amp;sa,<span class="code-snippet__literal">NULL</span>);</span></code><code><span> <span class="code-snippet__type">pid_t</span>pid = fork();</span></code><code><span> <span class="code-snippet__keyword">if</span>(pid ==<span class="code-snippet__number">0</span>) {</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"子进程 (PID: %d) 执行任务...n"</span>,<span class="code-snippet__built_in">getpid</span>());</span></code><code><span>   <span class="code-snippet__built_in">sleep</span>(<span class="code-snippet__number">2</span>);</span></code><code><span>   <span class="code-snippet__built_in">exit</span>(<span class="code-snippet__number">0</span>);</span></code><code><span>  }<span class="code-snippet__keyword">else</span>{</span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"父进程继续处理其他任务...n"</span>);</span></code><code><span>   <span class="code-snippet__built_in">sleep</span>(<span class="code-snippet__number">5</span>); <span class="code-snippet__comment">// 父进程的其他工作，不被阻塞</span></span></code><code><span>   <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"父进程工作结束n"</span>);</span></code><code><span>  }</span></code><code><span> <span class="code-snippet__keyword">return</span><span class="code-snippet__number">0</span>;</span></code><code><span>}</span></code></pre>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">极端方案：杀死父进程（谨慎！）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">若父进程本身卡死、无响应（如死锁），无法回收子进程，可尝试杀死父进程（替换</span></span></font></span><span><span><span style="background-color:#ffffff;">&lt;</span></span><font face="等线"><span><span style="background-color:#ffffff;">父进程</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PPID&gt;</span></span></font></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">为实际</span></span></font><span><span style="background-color:#ffffff;">ID</span></span><font face="等线"><span><span style="background-color:#ffffff;">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment"># 先优雅终止</span></span></code><code><span><span class="code-snippet__built_in">kill</span>&lt;父进程PPID&gt;</span></code><code><span><span class="code-snippet__comment"># 若10秒后未退出，强制终止（会中断父进程业务，需评估影响）</span></span></code><code><span><span class="code-snippet__built_in">kill</span>-9 &lt;父进程PPID&gt;</span></code></pre>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">父进程死后，其所有子进程（包括僵尸）会被系统的</span></span></font></span><span><span><span style="background-color:#ffffff;">init</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">进程（</span></span></font><span><span style="background-color:#ffffff;">PID=1</span></span><font face="等线"><span><span style="background-color:#ffffff;">）接管，</span></span></font></span><span><span><span style="background-color:#ffffff;">init</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">会自动回收僵尸进程。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">六、一张思维导图，梳理完整排查流程</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">为了让你在实际运维中快速上手，整理了「僵尸进程排查验证全流程」思维导图，按步骤操作即可：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-eAMPrHAAKc5YmqqBA700.png" alt="wKgZO2kal-eAMPrHAAKc5YmqqBA700.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">七、常见误区避雷</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">直接</span></span></font><span><span style="background-color:#ffffff;">kill</span></span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程？没用！</span></span></font></span></b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程已经</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">死透</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font></span><span><span><span style="background-color:#ffffff;">kill</span></span></span><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">信号对它无效，必须从父进程入手。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">少量僵尸不用管？可以，但要警惕！</span></span></font></span></b><span><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">单个僵尸无害，但要排查父进程是否有</span></span></font><span><span style="background-color:#ffffff;">bug</span></span><font face="等线"><span><span style="background-color:#ffffff;">，避免后续堆积。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">父进程是</span></span></font><span><span style="background-color:#ffffff;">init</span></span><font face="等线"><span><span style="background-color:#ffffff;">就安全？不一定！</span></span></font></span></b><span><span><span style="background-color:#ffffff;">init</span></span><font face="等线"><span><span style="background-color:#ffffff;">会定期回收，但长期存在</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">init</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">接管的僵尸，说明原父进程频繁崩溃，需查原进程稳定性。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:#ffffff;">总结</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">僵尸进程的本质是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">父进程没尽责</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，危害虽不直接，但积累后会瘫痪系统。记住核心解决逻辑：</span></span></font></span><b><span><font face="等线"><span><span style="background-color:#ffffff;">找父进程</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">让父进程回收</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">预防下次发生</span></span></font></span></b><span><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:#ffffff;">下次遇到僵尸进程，对照思维导图一步步来，轻松解决！觉得有用的话，点赞</span></span></font><span><span style="background-color:#ffffff;">+</span></span><font face="等线"><span><span style="background-color:#ffffff;">分享，让更多运维小伙伴避坑～</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[填补全球连接空白，LoRa协议如何往空天地一体化通信发展？]]></title>    <link>https://www.elecfans.com/d/7638250.html</link>    <guid>https://www.elecfans.com/d/7638250.html</guid>    <pubDate>2026-02-04 17:41:00</pubDate>    <description><![CDATA[<div class="vditor-preview__action"/><div class="vditor-reset"><p>随着万物互联愿景的持续推进，<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>终端的部署场景正快速向森林、沙漠、远洋、极地等人口稀疏甚至无人区域延伸。</p><p>尽管地面<a href="https://www.elecfans.com/tongxin/" target="_blank"><u>通信网络</u></a>依托高密度基站建设，已实现约95%的人口覆盖率，但其覆盖能力本质上仍受制于人口分布与基础设施条件，难以在上述区域实现直接、连续的网络连接，这也成为了制约<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>规模化发展的重要因素之一。<br/> 在此背景下，具备全域覆盖能力的卫星通信正逐渐成为地面网络的重要补充。卫星通信不依赖传统的地面基站设施，能够直接覆盖传统通信网络难以触达的区域，与低功耗广域物联网技术相结合，可在成本、功耗与覆盖能力之间实现有效平衡。</p><p>例如， <a href="https://www.elecfans.com/tags/lora/" target="_blank"><u>LoRa</u></a>WAN卫星通信方案通过引入基于LR-FHSS（长距离跳频扩频）的低轨卫星直连技术，就能够在保持低功耗、低速率特性的同时，实现空天地一体化的物联网通信体系，可广泛适用于资产追踪、<a href="https://m.elecfans.com/v/tag/1453/" target="_blank"><u>环境监测</u></a>及海事航运等应用场景。<br/><img src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFCSAJID7AAEERHbcvzY402.png" alt="RFM92-LR.png"/></p><p><a href="https://bbs.elecfans.com/group_65" target="_blank"><u>RF</u></a>M92LR正是在上述应用需求背景下推出的一款低功耗LoRa模块。该模块由华普微基于LR1121芯片自主研发，面向广域物联网及卫星通信场景，在频段支持、功耗控制与通信灵活性等方面都进行了针对性的优化。<br/><img src="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFBuAC43JAAKyhr-1fME932.jpg" alt="RFM92-l功能框图.jpg"/></p><p>RFM92LR——典型应用电路</p><p><strong>在频段架构设计上</strong> ，RFM92LR覆盖<a href="https://m.hqchip.com/app/1525" target="_blank"><u>Sub</u></a>-GHz和2.<a href="https://m.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>Hz的ISM频段，以及卫星S波段，并支持灵活切换发射频段，可有效简化硬件结构，提高系统集成度和成本效益。</p><p>同时，RFM92LR还兼容LoRa、(G)FSK 调制方式及<a href="https://www.elecfans.com/tags/sigfox/" target="_blank"><u>Sigfox</u></a>协议，能够适应不同区域的频谱环境和多样化的应用需求。</p><p>RFM92LR覆盖的S-Band频段位于UHF与<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>微波</u></a>频段之间，兼具较好的传播距离与穿透性能，同时包含卫星通信常用频率范围，可为低轨卫星物联网应用提供良好的物理层支持，能够在远程和复杂环境下实现稳定、可靠的数据传输。</p><p><strong>在运行功耗方面</strong> ，RFM92LR可根据具体需求灵活调节发射功率（13dBm、14dBm与22dBm），发射<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>低至28mA @13dBm 2.4G、30mA @14dBm Sub-1G、110mA @22dBm Sub-1G；接收电流低至6.8mA（2.4GHz模式）、8mA（Sub-GHz模式）。</p><p>此外，RFM92LR的休眠电流仅为1μA，可为<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>等长续航应用场景提供有力支撑。</p><p><strong>在传输速率方面</strong> ，针对不同场景需求，RFM92LR可提供灵活的数据传输速率选择（最大速率：62.5kb/s@LoRa Sub-1G、101.5kb/s@LoRa 2.4G、300kb/s@GFSK），并能合理优化网络资源，提高物联网通信系统的稳定性，进一步增强其信号的抗干扰能力。</p><p><strong>在接收灵敏度方面</strong> ，当RFM92LR的通信带宽为125KHz、扩频因子为SF12时，实测接收灵敏度低至-138dBm（Sub-GHz频段）。</p><p>该特性保证了<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>的可靠接收，有效解决了物联网设备在广域覆盖下信号稳定性方面的难题。</p><p><strong>在硬件设计方面</strong> ，RFM92LR内置32MHz无源晶振，确保了<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>信号的稳定输出，为模块的正常运行提供了可靠的时钟基准。</p><p>RFM92LR还采用了Sub-GHz/2.4GHz双<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>天线</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>设计，方便用户根据实际应用场景和需求，灵活选择使用Sub-GHz频段或2.4GHz频段进行通信。</p><p>此外，RFM92LR模块还在安全性与标准兼容性上做了充分考量，全面符合LoRa联盟定义的LoRaWAN标准规范，支持业界主流的AES-128加密/解密<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，并严格遵循联盟规范处理DevEUI、JoinEUI等核心设备身份参数，确保设备在LoRaWAN生态中具备可靠的互操作性与合法身份。</p><p>审核编辑 黄宇</p></div>]]></description></item><item>    <title><![CDATA[从代码到实践：ARMv8 PMUv3性能监控的实际应用解析]]></title>    <link>https://www.elecfans.com/d/7401380.html</link>    <guid>https://www.elecfans.com/d/7401380.html</guid>    <pubDate>2026-02-04 17:43:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<h2>
		</h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">本文结合</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pe<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>rf</u></a>_event.c</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码片段，聚焦实际开发场景，将通过以下内容展开：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具与代码的底层关联逻辑及用法</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">常见问题（事件不支持、计数不准等）的排查案例</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">新<a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>适配与定制化监控的实现方式</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">用户态性能监控工具开发要点</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">5.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">调试流程与代码关联的可视化解析（含流程图）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">6.</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心内容脑图梳理</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-aAEi4gAAh6kwqQrrc287.png" alt="wKgZO2kal-aAEi4gAAh6kwqQrrc287.png"/><h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、性能工具的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">幕后推手</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">如何依赖这段代码？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具的所有性能统计与采样功能，均依赖</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf_event.c</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">实现的硬件交互逻辑，核心关联场景如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></b><b><span><span><span style="background-color:rgb(255,255,255);">perf stat</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：基础性能计数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">以</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf stat -e <a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>cpu</u></a>-cycles ./app</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例，代码执行流程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">事件映射</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1378" target="_blank"><u>arm</u></a>v8_pmuv3_map_event</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">将上层</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">cpu-cycles</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PERF_COUNT_HW_CPU_CYCLES</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）映射为硬件事件</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">ARMV8_PMUV3_PERFCTR_CPU_CYCLES</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计数器分配</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_get_event_idx</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">优先为周期事件分配专属</span></span></font><span><span style="background-color:rgb(255,255,255);">64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数器（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">ARMV8_IDX_CYCLE_COUN<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>R</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计<a href="https://www.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>制</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_enable_event</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置计数器类型（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_write_event_type</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）并启动计数；程序结束后，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_re<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">读取值，经</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_unbias_long_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修正偏置后返回给</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></b><b><span><span><span style="background-color:rgb(255,255,255);">perf record</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：采样与热点分析</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">以</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf record -e instruc<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ons -c 1000000 ./app</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（每百万条指令采样）为例：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">溢出配置</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_write_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置计数器初始值（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">0x1000000 - 1000000</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），确保触发溢出中断。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断处理</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：计数器溢出后，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_handle_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">读取溢出状态（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmovsclr_el0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），暂停</span></span></font><span><span style="background-color:rgb(255,255,255);">PMU</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">避免数据</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">skew</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，调用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf_event_overflow</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">生成采样数据（含指令地址、<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>状态）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">数据输出</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：采样数据写入文件，后续可通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf report</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">解析热点函数。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、实际开发中的问题排查：从现象到代码</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">案例</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">提示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“event not supported”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（事件不支持）</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf stat -e l1d_cache_misses ./app</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">报错，事件无法识别。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查流程</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认事件映射</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：检查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8_pmuv3_perf_cache_map</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">L1D</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">读未命中事件是否映射为</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">ARMV8_PMUV3_PERFCTR_L1D_CACHE_REFILL</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（代码中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">[C(L1D)][C(OP_READ)][C(RESULT_MISS)]</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的配置）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证硬件支持</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_probe_pmu</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmceid0_el0</span></span></span><span><span><span style="background-color:rgb(255,255,255);">/</span></span></span><span><span><span style="background-color:rgb(255,255,255);">pmceid1_el0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器生成</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmceid_bitmap</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">ARMV8_PMUV3_PERFCTR_L1D_CACHE_REFILL</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应的</span></span></font><span><span style="background-color:rgb(255,255,255);">bit</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">未置位，说明硬件不支持该事件。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">处理器专属适配</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：若为特定处理器（如</span></span></font><span><span style="background-color:rgb(255,255,255);">Cortex-A53</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），检查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8_a53_perf_cache_map</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">是否补充了该事件的非通用映射（部分处理器事件定义与标准不同）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">案例</span></span></font><span><span style="background-color:rgb(255,255,255);">2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：计数结果远小于预期（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">64</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数器异常）</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">监控长时间运行程序，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">cpu-cycles</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计数仅为</span></span></font><span><span style="background-color:rgb(255,255,255);">1e6</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（远低于</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">CPU</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">频率</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">×</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">运行时间）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查流程</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位事件判断</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_event_is_64bit</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认事件是否启用</span></span></font><span><span style="background-color:rgb(255,255,255);">64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数；若硬件不支持原生</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">64</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_has_long_event</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">返回</span></span></font><span><span style="background-color:rgb(255,255,255);">false</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">链式计数器</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">逻辑（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_write_hw_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中高低</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位拼接是否正确）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">偏置处理验证</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_bias_long_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需为</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数器置位高</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">32</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">value |= GENMASK(63, 32)</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），若遗漏会导致高位丢失；</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_unbias_long_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需清除高</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位，确保上层读取正确。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断完整性</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_handle_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需同时处理链式计数器的高低位溢出，若仅处理高位，会导致计数不连续。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">案例</span></span></font><span><span style="background-color:rgb(255,255,255);">3</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：用户态程序无法读取计数器（权限问题）</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自定义工具通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf_event_open</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">打开事件后，读取计数返回</span></span></font><span><span style="background-color:rgb(255,255,255);">0</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">或权限错误。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查流程</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">用户访问开关</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：检查</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">sysctl_perf_user_<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>cess</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">sysctl kernel.perf_user_access</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看），需设为</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">以允许用户态访问（对应代码中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8_pmu_sysctl_table</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的配置）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器配置</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_enable_user_access</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需设置</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmuserenr_el0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">ARMV8_PMU_USERENR_ER | ARMV8_PMU_USERENR_CR</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），若未配置，用户态读取会触发陷阱。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">事件标记</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：事件需带有</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PERF_EVENT_FLAG_USER_READ_CNT</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">标记（代码中</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">event-&gt;hw.flags</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置），否则</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_user_event_idx</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">会拒绝用户态访问。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、新处理器适配：从代码到落地</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为新</span></span></font><span><span style="background-color:rgb(255,255,255);">ARMv8</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">处理器（如定制化</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Cortex-A78</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）适配性能监控，需修改以下核心逻辑：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">新增专属事件映射</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若处理器有特有事件（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“LLC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">预取命中</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需定义专属映射表：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 新处理器专属缓存事件映射</span></span></code><code><span><span class="code-snippet__keyword">static</span><span class="code-snippet__keyword">const</span>unsigned armv8_custom_perf_cache_map</span></code><code><span>  [<span class="code-snippet__meta">PERF_COUNT_HW_CACHE_MAX</span>]</span></code><code><span>  [<span class="code-snippet__meta">PERF_COUNT_HW_CACHE_OP_MAX</span>]</span></code><code><span>  [<span class="code-snippet__meta">PERF_COUNT_HW_CACHE_RESULT_MAX</span>] = {</span></code><code><span>  PERF_CACHE_MAP_ALL_UNSUPPORTED,</span></code><code><span>  [<span class="code-snippet__meta">C(LLC)</span>][C(OP_PREFETCH)][C(RESULT_HIT)] = CUSTOM_PERFCTR_LLC_PREFETCH_HIT,<span class="code-snippet__comment">// 特有事件</span></span></code><code><span>};</span></code></pre>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">实现事件映射函数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关联通用映射与专属映射：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__built_in">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">armv8_custom_map_event</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__keyword">struct</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">perf_event *</span></span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__keyword">event</span></span></span><span class="code-snippet__function">)</span>{</span></code><code><span> <span class="code-snippet__keyword">return</span>__armv8_pmuv3_map_event(<span class="code-snippet__keyword">event</span>, NULL, &amp;armv8_custom_perf_cache_map);</span></code><code><span>}</span></code></pre>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">注册处理器初始化函数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过宏</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PMUV3_INIT_<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SIM</u></a>PLE</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">绑定初始化逻辑：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>PMUV3_INIT_SIMPLE(armv8_custom)<span class="code-snippet__comment">// 生成armv8_custom_pmu_init函数</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__keyword">static</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__built_in">int</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">armv8_custom_pmu_init</span></span><span class="code-snippet__function">(</span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__keyword">struct</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">arm_pmu *cpu_pmu</span></span><span class="code-snippet__function">)</span>{</span></code><code><span> <span class="code-snippet__keyword">return</span>armv8_pmu_init_nogroups(cpu_pmu,<span class="code-snippet__string">"armv8_custom"</span>, armv8_custom_map_event);</span></code><code><span>}</span></code></pre>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">扩展硬件探测逻辑</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">在</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">__armv8pmu_probe_pmu</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中读取处理器特有寄存器（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmceid2_el0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），扩展</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmceid_bitmap</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">以支持新事件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">// 新增特有寄存器读取</span></span></code><code><span><span class="code-snippet__keyword">if</span>(cpu_pmu-&gt;pmuver &gt;= ID_AA64DFR0_EL1_PMUVer_V3P6) {</span></code><code><span> <span class="code-snippet__type">u32</span><span class="code-snippet__variable">pmceid2</span><span class="code-snippet__operator">=</span>read_sysreg(pmceid2_el0);</span></code><code><span>  bitmap_from_arr32(cpu_pmu-&gt;pmceid_bitmap +<span class="code-snippet__number">64</span>, &amp;pmceid2,<span class="code-snippet__number">32</span>);<span class="code-snippet__comment">// 扩展bitmap</span></span></code><code><span>}</span></code></pre>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、用户态监控工具开发：基于代码的能力扩展</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若需开发轻量用户态工具（替代</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">部分功能），可基于以下代码逻辑设计核心流程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">事件创建（</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">perf_event_open</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具调用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf_event_open</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">传入事件类型（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PERF_COUNT_HW_CPU_CYCLES</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），内核调用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_get_event_idx</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">分配计数器，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_set_event_filter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置过滤条件（如仅监控用户态：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">config_base |= ARMV8_PMU_EXCLUDE_EL1</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计数读取（</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">read</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具通过</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">read</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统调用读取计数，内核最终调用</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_read_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，经</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_unbias_long_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修正后返回值。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">采样处理（</span></span></font></span></b><b><span><span><span style="background-color:rgb(255,255,255);">mmap</span></span></span></b><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若设置采样周期（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">attr.sample_period</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），计数器溢出时，</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_handle_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">生成采样数据并写入</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">mmap</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">共享内存，工具可实时读取解析（如获取热点指令地址）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、调试流程可视化：从问题到代码的映射</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">针对</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">计数偏小</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">这一高频问题，结合代码逻辑的调试流程如下，每个节点均标注了需重点关注的函数与寄存器：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-aAVkbkAAAX0h4K-rI701.png" alt="wKgZO2kal-aAVkbkAAAX0h4K-rI701.png"/><h3>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">流程图关键说明</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位事件判断</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_event_is_64bit</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过事件类型（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PERF_COUNT_HW_CPU_CYCLES</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）和硬件能力（</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_has_long_event</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">）决定是否启用链式计数。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">链式计数器拼接</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_write_hw_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需将</span></span></font><span><span style="background-color:rgb(255,255,255);">64</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位周期值拆分为高低</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">32</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位，分别写入两个通用计数器（如</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">PMCCNTR_EL0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的扩展计数器）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断处理验证</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_handle_irq</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需读取</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmovsr</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（溢出状态寄存器），确认高低位计数器的溢出标志均被处理，避免漏计。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">4.</span></span></span></span><b><span><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位偏置修正</span></span></font></span></b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_bias_long_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">置位高</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位是为了防止</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">32</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数器溢出时，符号扩展导致的数值错误（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">0xFFFFFFFE</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">被解析为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">- 2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">而非</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">4294967294</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">六、核心内容脑图梳理</span></span></font></span></b></h2>
	<p>
		</p>
	<h2>
		<b><span><font face="等线"><span><img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-eAE9BiAAIe0E4sf4k912.png" alt="wKgZO2kal-eAE9BiAAIe0E4sf4k912.png"/></span></font></span></b></h2>
	<h2>
		<b><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">七、总结</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span><span><span style="background-color:rgb(255,255,255);">perf_event.c</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">不仅是</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具的底层支撑，更是</span></span></font><span><span style="background-color:rgb(255,255,255);">ARMv8</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">性能监控的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">实操手册</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">。其核心价值在于将硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PMU</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的复杂特性（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">64</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位计数、中断溢出）封装为上层可调用的<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，而调试的关键则是打通</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">现象</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">代码</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">→</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的链路</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">例如从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">计数偏小</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">定位到</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">armv8pmu_write_hw_counter</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的拼接逻辑，从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">权限错误</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">关联到</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">pmuserenr_el0</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">寄存器配置。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span><font face="等线"><span><span style="background-color:rgb(255,255,255);">掌握这些细节后，<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>不仅能高效解决</span></span></font></span><span><span><span style="background-color:rgb(255,255,255);">perf</span></span></span><span><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具的使用问题，更能基于此实现定制化监控（如新增处理器特有事件、开发轻量用户态工具），最终从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">工具使用者</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">升级为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">性能调优专家</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ARMv8</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台的系统优化提供坚实支撑。</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[ESP32-S2-MINI-2：高性能、高集成度的物联网Wi-Fi模组解析]]></title>    <link>https://www.elecfans.com/d/7638253.html</link>    <guid>https://www.elecfans.com/d/7638253.html</guid>    <pubDate>2026-02-04 17:43:00</pubDate>    <description><![CDATA[<p>
	<a href="https://m.elecfans.com/v/tag/509/" target="_blank"><u>ESP32</u></a>-S2-MINI-2是一款紧凑的2.4 GHz <a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>(802.11 b/g/n)模块，内置ESP32-S2 系列芯片（版本v1.0），搭载X<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>nsa单核32位LX7<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>。该模块通过芯片叠封技术集成4MB flash，并支持额外叠封2MB PS<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>RAM</u></a>，提供多达37个GPIO<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>以及丰富的周边外设，同时配备板载<a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a><a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>天线</u></a>或外部天线<a href="https://m.hqchip.com/app/1515" target="_blank"><u>连接器</u></a>，适用于各种<a href="https://bbs.elecfans.com/group_57" target="_blank"><u>物联网</u></a>应用场景。</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B7/wKgZPGmDFNCALcS0AAEKvqCwCfc575.png" alt="wKgZPGmDFNCALcS0AAEKvqCwCfc575.png"/></p>
<p>
	<strong>核心技术特性</strong></p>
<p>
	<strong><a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a>和片上系统</strong></p>
<p>
	内置ESP32-S2FH4或ESP32-S2FN4R2芯片，Xtensa单核32位 LX7<a href="https://m.hqchip.com/app/1382" target="_blank"><u>微处理器</u></a>，支持高达240MHz的<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率</p>
<p>
	128KB <a href="https://www.elecfans.com/tags/rom/" target="_blank"><u>ROM</u></a></p>
<p>
	320KB SRAM</p>
<p>
	16KB RTC SRAM</p>
<p>
	4MB flash</p>
<p>
	2MB PSRAM（仅ESP32-S2FN4R2 芯片）</p>
<p>
	<br/>
	</p>
<p>
	<strong>WiFi</strong></p>
<p>
	802.11b/g/n</p>
<p>
	802.11n模式下数据速率高达150 Mbps</p>
<p>
	帧聚合(TX/RX A-MPDU, RX A-MSDU)</p>
<p>
	0.4µs保护间隔</p>
<p>
	工作信道<a href="https://www.hqchip.com/tags" target="_blank"><u>中心</u></a>频率范围：2412~2484 MHz</p>
<p>
	<br/>
	</p>
<p>
	<strong>其他特性</strong></p>
<p>
	高达37个GPIO</p>
<p>
	40 MHz集成晶振</p>
<p>
	ESP32-S2-MINI-2：板载PCB天线</p>
<p>
	工作电压/供电电压：3.0~3.6V</p>
<p>
	工作环境温度：–40~85°C</p>
<p>
	<br/>
	</p>
<p>
	<strong>动能世纪整理应用场景</strong></p>
<p>
	凭借其强大的处理能力、丰富的硬件接口与稳定的无线性能，ESP32-S2-MINI-2适用于多个领域：</p>
<p>
	<a href="https://www.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>与<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>：智能灯具、家电控制、<a href="https://www.elecfans.com/tags/语音识别/" target="_blank"><u>语音识别</u></a>设备</p>
<p>
	工业与商业应用：<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a><a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>、POS机、服务<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a></p>
<p>
	传感与数据采集：低功耗<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>节点、<a href="https://m.elecfans.com/v/tag/1453/" target="_blank"><u>环境监测</u></a>数据记录器</p>
<p>
	多媒体与交互：<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>设备、图像识别终端、触摸感应人机界面</p>
<p>
	专业领域：医疗监护设备、智慧农业监测系统、视频流传输装置</p>
<p>
	<img src="https://file1.elecfans.com//web3/M00/4A/B7/wKgZO2mDFNCAL5ViAALnES0paeU538.png" alt="wKgZO2mDFNCAL5ViAALnES0paeU538.png"/></p>
<p>
	<strong>总结</strong></p>
<p>
	ESP32-S2-MINI-2 以其高效的Wi-Fi连接、丰富的GPIO接口和灵活的内存配置，成为物联网<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>的理想选择，助力您的项目从概念到实现无缝推进。如果您在集成或应用过程中遇到任何疑问，或者需要电子物料也可以联系笔者dnsj0820 。</p>
<p>
	​审核编辑 黄宇</p>]]></description></item><item>    <title><![CDATA[RK平台UART开发！从驱动配置到测试全流程]]></title>    <link>https://www.elecfans.com/d/7401379.html</link>    <guid>https://www.elecfans.com/d/7401379.html</guid>    <pubDate>2026-02-04 17:44:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（通用异步收发传输器）是实现设备间数据交互的关键<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，广泛应用于调试、<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a><a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>等场景。<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）平台针对不同操作系统（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_emb_1.html" target="_blank"><u>RT-Thread</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）提供了完善的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发支持，本文将结合官方开发指南，从功能特点、驱动配置、测试验证三个维度，带大家快速掌握</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发技巧，文末还附上知识脑图方便梳理思路～</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、</span></span></font><span><span style="background-color:rgb(255,255,255);">RK UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心功能特点</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">无论基于</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">还是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RT-Thread</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">均以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">16550A</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">串口标准为基础，核心功能保持一致，实际支持情况需以具体芯片手册为准：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">数据格式灵活</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：支持</span></span></font><span><span style="background-color:rgb(255,255,255);">5-8</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">位数据位、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1/1.5/2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">位停止位，仅支持奇校验</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">偶校验（不支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">mark/sp<a href="https://www.hqchip.com/app/1703" target="_blank"><u>ac</u></a>e</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">校验）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">高效传输能力</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：自带</span></span></font><span><span style="background-color:rgb(255,255,255);">32</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">字节或</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">64</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">字节的收发</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">FIFO</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，最高支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">4M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">波特率（需配合芯片时钟分频策略），支持中断传输和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">传输两种模式。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">增强功能支持</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：部分</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块支持硬件自动流控（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTS+CTS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）和串口唤醒系统（需修改</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">trust</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">固件）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统下</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发实战</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统中，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">普通串口</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制台</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">两种使用场景，配置流程差异较大，以下以常用的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux 4.4/4.19</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核为例说明。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（一）普通串口配置：三步搞定驱动与参数</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">普通串口适用于设备间数据通信（如与传感器、模块交互），核心是完成驱动路径确认、配置项开启和</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数修改。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">明确驱动路径</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Linux 3.10</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核使用独立驱动文件</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/tty/serial/rk_serial.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">；</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux 4.4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">及以上内核采用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8250</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">通用串口驱动，核心文件包括：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/tty/serial/8250/8250_core.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（驱动核心）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/tty/serial/8250/8250_dw.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">Synopsis DesignWare</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">适配）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/tty/serial/8250/8250_dma.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">DMA</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">功能支持）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">2. menuconfig</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启配置</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">进入内核配置界面，按以下路径勾选</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">相关选项，建议使用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK <a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>K</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">默认配置：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>Device Drivers<span class="code-snippet__comment">---&gt;</span></span></code><code><span><span class="code-snippet__type">Character</span>devices<span class="code-snippet__comment">---&gt;</span></span></code><code><span>  Serial drivers<span class="code-snippet__comment">---&gt;</span></span></code><code><span>   [<span class="code-snippet__operator">*</span>]<span class="code-snippet__number">8250</span><span class="code-snippet__operator">/</span><span class="code-snippet__number">16550</span><span class="code-snippet__keyword">and</span>compa<a href="https://www.elecfans.com/tags/ti/" target="_blank"><u>ti</u></a>ble serial support（勾选<span class="code-snippet__number">8250</span>驱动）</span></code><code><span>   [<span class="code-snippet__operator">*</span>] Rockchip serial port support（RK专属选项）</span></code></pre>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">3. DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">参数配置（关键！）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（设备树）用于定义</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件资源，以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK3568</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例，典型配置如下，</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">仅允许修改标注的可配置参数</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-WAVkVfAAAfD26eyVM735.png" alt="wKgZO2kal-WAVkVfAAAfD26eyVM735.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>&amp;uart1 {</span></code><code><span>  compatible =<span class="code-snippet__string">"rockchip,rk3568-uart"</span>,<span class="code-snippet__string">"snps,dw-apb-uart"</span>;</span></code><code><span>  reg = &lt;<span class="code-snippet__number">0x0</span><span class="code-snippet__number">0xfe650000</span><span class="code-snippet__number">0x0</span><span class="code-snippet__number">0x100</span>&gt;;<span class="code-snippet__regexp">//</span>硬件地址（不可修改）</span></code><code><span>  interrupts = <gic_spi class="code-snippet__number">117</gic_spi></span>IRQ_TYPE_LEVEL_HIGH&gt;;<span class="code-snippet__regexp">//</span>中断号（不可修改）</code><code><span>  clocks = &lt;&amp;cru SCLK_UART1&gt;, &lt;&amp;cru PCLK_UART1&gt;;<span class="code-snippet__regexp">//</span><a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>（不可修改）</span></code><code><span>  clock-names =<span class="code-snippet__string">"bau<a href="https://www.hqchip.com/app/1703" target="_blank"><u>dc</u></a>lk"</span>,<span class="code-snippet__string">"apb_pclk"</span>;<span class="code-snippet__regexp">//</span>时钟名称（不可修改）</span></code><code><span>  reg-<span class="code-snippet__keyword">shift</span>= &lt;<span class="code-snippet__number">2</span>&gt;;<span class="code-snippet__regexp">//</span><a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>移位（不可修改）</span></code><code><span>  reg-io-width = &lt;<span class="code-snippet__number">4</span>&gt;;<span class="code-snippet__regexp">//</span>寄存器宽度（不可修改）</span></code><code><span> </span></code><code><span>  // 可配置参数<span class="code-snippet__number">1</span>：DMA使能/关闭</span></code><code><span>  dma-names =<span class="code-snippet__string">"tx"</span>,<span class="code-snippet__string">"rx"</span>;<span class="code-snippet__regexp">//</span><span class="code-snippet__string">"tx"</span>/<span class="code-snippet__string">"rx"</span>开启，<span class="code-snippet__string">"!tx"</span>/<span class="code-snippet__string">"!rx"</span>关闭</span></code><code><span>  // 可配置参数<span class="code-snippet__number">2</span>：引脚复用（含流控引脚）</span></code><code><span>  <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-names =<span class="code-snippet__string">"default"</span>;</span></code><code><span>  pinctrl-<span class="code-snippet__number">0</span>= &lt;&amp;uart1m0_xfer &amp;uart1m0_ctsn &amp;uart1m0_rtsn&gt;;<span class="code-snippet__regexp">//</span>开启流控引脚</span></code><code><span>  // 可配置参数<span class="code-snippet__number">3</span>：模块使能/关闭</span></code><code><span>  status =<span class="code-snippet__string">"okay"</span>;<span class="code-snippet__regexp">//</span><span class="code-snippet__string">"okay"</span>开启，<span class="code-snippet__string">"disabled"</span>关闭</span></code><code><span>  // 可配置参数<span class="code-snippet__number">4</span>：串口唤醒（需配合trust固件）</span></code><code><span>  wakeup-source;</span></code><code><span>};</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">示例需求</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：开启</span></span></font><span><span style="background-color:rgb(255,255,255);">RK3568 UART1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，启用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和硬件流控。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改后</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：如上配置，确保</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">dma-names</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">为</span></span></font><span><span style="background-color:rgb(255,255,255);">"tx"/"rx"</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">pinctrl-0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">包含流控引脚，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">status</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为</span></span></font><span><span style="background-color:rgb(255,255,255);">"okay"</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">波特率配置与设备注册</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">波特率计算</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">波特率</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">=</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">工作时钟源</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">内部分频系数</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">/ 16</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，驱动会自动根据配置的波特率获取时钟，常用波特率（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">115200</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">921600</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.5M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">3M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">4M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）均稳定支持。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备注册验证</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：系统启动后，若日志出现</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">fe650000.serial: ttyS1 at MMIO 0xfe650000 (irq = 67, base_baud = 1500000) is a 16550A</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明设备注册成功，对应节点为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/ttyS1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（可通过</span></span></font><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">aliases</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改编号）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（二）控制台配置：作为系统调试接口</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制台串口用于输出系统日志、执行调试命令，基于</span></span></font><span><span style="background-color:rgb(255,255,255);">fiq_debugger</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">实现，以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART2</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动路径</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Linux 3.10</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">arch/<a href="https://www.hqchip.com/app/1378" target="_blank"><u>arm</u></a>/mach-rockchip/rk_fiq_debugger.c</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Linux 4.4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">及以上：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/soc/rockchip/rk_fiq_debugger.c</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心驱动文件：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drivers/staging/<a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>android</u></a>/fiq_debugger/fiq_debugger.c</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置流程</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">menuconfig</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>Device Drivers ---&gt;</span></code><code><span><span class="code-snippet__selector-attr">[*]</span>Staging drivers ---&gt;</span></code><code><span> <span class="code-snippet__selector-attr">[*]</span>Android ---&gt;</span></code><code><span>  <span class="code-snippet__selector-attr">[*]</span>Rockchip FIQ Debugger</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：需禁用对应普通串口，配置</span></span></font><span><span style="background-color:rgb(255,255,255);">bootargs</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">fiq-debugger</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>chosen: chosen {</span></code><code><span>  bootargs =<span class="code-snippet__string">"earlycon=uart8250,mmio32,0xfe660000 console=ttyFIQ0"</span>;<span class="code-snippet__comment">// 指向控制台设备</span></span></code><code><span>};</span></code><code><span>fiq-debugger {</span></code><code><span>  compatible =<span class="code-snippet__string">"rockchip,fiq-debugger"</span>;</span></code><code><span>  rockchip,serial-id = &lt;<span class="code-snippet__number">2</span>&gt;;<span class="code-snippet__comment">// 使用UART2</span></span></code><code><span>  rockchip,wake-irq = &lt;<span class="code-snippet__number">0</span>&gt;;</span></code><code><span>  rockchip,irq-mode-enable = &lt;<span class="code-snippet__number">1</span>&gt;;<span class="code-snippet__comment">// 1=IRQ模式，0=FIQ模式</span></span></code><code><span>  rockchip,baudra<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a> = &lt;<span class="code-snippet__number">1500000</span>&gt;;<span class="code-snippet__comment">// 仅支持115200或1.5M</span></span></code><code><span>  interrupts = <gic_spi class="code-snippet__number">252</gic_spi></span>IRQ_TYPE_LEVEL_LOW&gt;;</code><code><span>  pinctrl-names =<span class="code-snippet__string">"default"</span>;</span></code><code><span>  pinctrl<span class="code-snippet__number">-0</span>= &lt;&amp;uart2m0_xfer&gt;;</span></code><code><span>  status =<span class="code-snippet__string">"okay"</span>;</span></code><code><span>};</span></code><code><span>&amp;uart2 {</span></code><code><span>  status =<span class="code-snippet__string">"disabled"</span>;<span class="code-snippet__comment">// 禁用普通串口模式</span></span></code><code><span>};</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">pa<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a>eter.txt</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux 3.10/4.4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">需添加）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__attr">CMDLINE</span>:<span class="code-snippet__variable">console</span>=ttyFIQ0 androidboot.<span class="code-snippet__property">console</span>=ttyFIQ0</span></code></pre>
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（三）</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试：用官方工具验证</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">瑞芯微提供测试程序</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">ts_uart.uart</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">及测试文件</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">send_0x55</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">send_00_ff</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（可联系</span></span></font><span><span style="background-color:rgb(255,255,255);">FAE</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">获取），测试步骤如下：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">准备工作</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：通过</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>B</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">推送文件到开发板并赋予权限：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>adb root &amp;&amp; adb remount</span></code><code><span>adb push ts_uart.uart /data</span></code><code><span>adb push send_0x55 /data &amp;&amp; adb push send_00_ff /data</span></code><code><span>adb shell<span class="code-snippet__string">"su -c chmod +x /data/ts_uart.uart"</span></span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试发送</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：向</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/ttyS1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">发送</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">send_0x55</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件，波特率</span></span></font><span><span style="background-color:rgb(255,255,255);">1.5M</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，关闭流控：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__attribute">adb</span>shell<span class="code-snippet__string">"/data/ts_uart.uart s /data/send_0x55 1500000 0 0 0 /dev/ttyS1"</span></span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过</span></span></font><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a></span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">转</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块连接</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，用串口工具（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">SecureCRT</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）接收数据，验证发送是否正常。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试自发自收</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：无需外部硬件，验证串口内部收发一致性：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__attribute">adb</span>shell<span class="code-snippet__string">"/data/ts_uart.uart m /data/send_00_ff 1500000 0 0 0 /dev/ttyS1"</span></span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若日志显示</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">send:1172, receive:1172 total:1172</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，说明收发一致，测试通过。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试流控</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：验证</span></span></font><span><span style="background-color:rgb(255,255,255);">RTS/CTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件流控：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">拉高</span></span></font><span><span style="background-color:rgb(255,255,255);">CTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚电平，执行发送命令，数据应阻塞；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">释放</span></span></font><span><span style="background-color:rgb(255,255,255);">CTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">为低电平，阻塞数据应继续发送；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测量</span></span></font><span><span style="background-color:rgb(255,255,255);">RTS</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">引脚电平，确认能正常高低切换。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、</span></span></font><span><span style="background-color:rgb(255,255,255);">RT-Thread</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统下</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发实战</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RT-Thread</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">作为轻量级实时操作系统，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RK UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置更简洁，核心是开启驱动、配置设备节点和测试验证。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（一）代码路径与配置</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">核心代码路径</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">串口框架：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">components/drivers/serial/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">serial.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">serial.h</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">适配层：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">bsp/rockchip-pisces/drivers/drv_uart.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">drv_uart.h</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试程序：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">bsp/rockchip-common/tests/term<a href="https://www.elecfans.com/tags/ios/" target="_blank"><u>ios</u></a>_test.c</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启</span></span></font><span><span style="background-color:rgb(255,255,255);">UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：进入</span></span></font><span><span style="background-color:rgb(255,255,255);">RT-Thread</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置界面，勾选需要的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">设备：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>RT-Thread bsp drivers ---&gt;</span></code><code><span> RT-Thread rockchip common drivers ---&gt;</span></code><code><span> <span class="code-snippet__selector-attr">[*]</span>Enable UART</span></code><code><span> <span class="code-snippet__selector-attr">[*]</span>Enable UART0</span></code><code><span> <span class="code-snippet__selector-attr">[*]</span>Enable UART2</span></code><code><span>  // 根据需求勾选其他UART（如UART1、UART3）</span></code></pre>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">配置完成后，系统会生成</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/uart0</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">/dev/uart2</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">等设备节点，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">list_device</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">命令可查看：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>msh<span class="code-snippet__operator">&gt;</span>list_device</span></code><code><span>device    type    <span class="code-snippet__keyword">ref</span>count</span></code><code><span><span class="code-snippet__comment">------    -------------------- ----------</span></span></code><code><span>uart2    <span class="code-snippet__type">Character</span>Device  <span class="code-snippet__number">0</span></span></code><code><span>uart0    <span class="code-snippet__type">Character</span>Device  <span class="code-snippet__number">0</span></span></code></pre>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（二）串口测试与控制台配置</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">开启测试程序</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>RT<span class="code-snippet__operator">-</span>Thread bsp test<span class="code-snippet__keyword">case</span><span class="code-snippet__comment">---&gt;</span></span></code><code><span> [<span class="code-snippet__operator">*</span>] Enable BSP Common TEST</span></code><code><span> [<span class="code-snippet__operator">*</span>] Enable BSP Common UART TEST</span></code><code><span>RT<span class="code-snippet__operator">-</span>Thread Components<span class="code-snippet__comment">---&gt;</span></span></code><code><span> Device virtual file<span class="code-snippet__keyword">system</span><span class="code-snippet__comment">---&gt;</span></span></code><code><span>  [<span class="code-snippet__operator">*</span>]<span class="code-snippet__keyword">Using</span>device virtual file<span class="code-snippet__keyword">system</span></span></code><code><span>  [<span class="code-snippet__operator">*</span>]<span class="code-snippet__keyword">Using</span>devfs<span class="code-snippet__keyword">for</span>device objects</span></code><code><span> POSIX layer<span class="code-snippet__keyword">and</span>C standard library<span class="code-snippet__comment">---&gt;</span></span></code><code><span>  [<span class="code-snippet__operator">*</span>] Enable termios feature</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">测试命令</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">接收数据：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">termtest r /dev/uart4 115200</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（从</span></span></font><span><span style="background-color:rgb(255,255,255);">uart4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">接收，波特率</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">115200</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">发送数据：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">termtest s /dev/uart4 115200</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（向</span></span></font><span><span style="background-color:rgb(255,255,255);">uart4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">发送）</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">收发双向测试：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">termtest t /dev/uart4 115200</span></span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">控制台配置</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：将</span></span></font><span><span style="background-color:rgb(255,255,255);">UART2</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设为控制台，输出</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rt_kprintf</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">日志：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__variable">RT</span>-<span class="code-snippet__title">Thread</span><span class="code-snippet__title">Kernel</span>---&gt;</span></code><code><span><span class="code-snippet__title">Kernel</span><span class="code-snippet__title">Device</span><span class="code-snippet__title">Object</span>---&gt;</span></code><code><span>  [*]<span class="code-snippet__title">Using</span><span class="code-snippet__variable">console</span><span class="code-snippet__keyword">for</span>rt_kprintf</span></code><code><span>  (<span class="code-snippet__number">128</span>) the buffer size<span class="code-snippet__keyword">for</span><span class="code-snippet__variable">console</span>log printf</span></code><code><span>  (uart2) the device name<span class="code-snippet__keyword">for</span><span class="code-snippet__variable">console</span></span></code><code><span>  (<span class="code-snippet__number">1500000</span>) the baud rate<span class="code-snippet__keyword">for</span><span class="code-snippet__variable">console</span></span></code></pre>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（三）波特率支持</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RT-Thread</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">下，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.5M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">及以下波特率可稳定支持，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1.5M</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">以上需结合芯片时钟树实际测试，确保数据传输稳定性。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、</span></span></font><span><span style="background-color:rgb(255,255,255);">RK UART</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">开发知识脑图</span></span></font></span></b></h2>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9B/wKgZO2kal-aAO7S3AAKaEj77BWU563.png" alt="wKgZO2kal-aAO7S3AAKaEj77BWU563.png"/><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、开发注意事项</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">硬件差异</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：不同</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">功能可能裁剪（如部分不支持</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DMA</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">或流控），需优先参考对应芯片手册。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">资源冲突</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：控制台模式与普通串口模式互斥，启用</span></span></font><span><span style="background-color:rgb(255,255,255);">fiq_debugger</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">后需禁用对应普通串口节点。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">DMA</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">使用场景</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：仅当数据量极大时，</span></span></font><span><span style="background-color:rgb(255,255,255);">DMA</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">才能明显减轻</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">负载，普通场景建议用中断模式（启动更快、资源消耗少）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">掌握以上内容，即可轻松应对</span></span></font><span><span style="background-color:rgb(255,255,255);">RK</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">平台</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">UART</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">在不同系统下的开发需求，无论是调试接口还是设备通信，都能高效实现～</span></span></font></span></p>
	<p>
		</p>
</div>
<div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[探索MAX3058/MAX3059：高性能CAN收发器的卓越之选]]></title>    <link>https://www.elecfans.com/d/7638257.html</link>    <guid>https://www.elecfans.com/d/7638257.html</guid>    <pubDate>2026-02-04 17:45:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638257" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDFL-AaDwXAANtjsBalTQ695.pdf"/><h1>探索MAX3058/MAX3059：高性能<a href="https://www.hqchip.com/app/2004" target="_blank"><u>CAN</u></a><a href="https://www.hqchip.com/app/1809" target="_blank"><u>收发器</u></a>的卓越之选</h1>
<p>在当今电子技术飞速发展的时代，CAN（Controller Area Network）总线凭借其高可靠性、实时性和抗干扰能力，在<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>、<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>、<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>等众多领域得到了广泛应用。而CAN收发器作为CAN总线系统中的关键组件，其性能直接影响着整个系统的稳定性和数据传输效率。今天，我们就来深入探讨一款备受关注的CAN收发器——MAX3058/MAX3059。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638257" target="_blank">MAX3059ASA+T.pdf</a></p>
<h2>产品概述</h2>
<p>MAX3058/MAX3059是由<a href="https://bbs.elecfans.com/group_264" target="_blank"><u>MAXIM</u></a>推出的两款5V、1Mbps、低供电电流的CAN收发器，主要用于CAN协议<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>与总线物理线路之间的<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>。它们特别适用于打印机和电信背板等应用，能够满足高达1Mbps的数据传输速率需求。这两款器件为总线提供差分发送能力，并为CAN控制器提供差分接收能力，确保了数据的可靠传输。</p>
<h3>一、产品概述</h3>
<p>MAX3058/MAX3059是MAXIM推出的5V、1Mbps、低供电电流的CAN收发器，主要用于打印机和电信背板等应用场景，可实现CAN协议控制器与总线物理线路之间的接口功能，为总线提供差分发送能力，为CAN控制器提供差分接收能力。</p>
<h3>二、产品特性</h3>
<h4>（一）输出特性</h4>
<ul>
<li>MAX3058输出共模范围为 -7V至 +12V，MAX3059输出共模范围为 0V至VCC。</li>
<li>MAX3059内置开关终端<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，适用于JetLink应用。</li>
</ul>
<h4>（二）工作模式</h4>
<ul>
<li><strong>MAX3058</strong>：具备高速、斜率控制、待机和关机四种模式。</li>
<li><strong>MAX3059</strong>：具备高速、斜率控制和关机三种模式。
<ul>
<li><strong>高速模式</strong>：数据速率可达1Mbps，建议使用屏蔽双绞线以避免EMI问题。</li>
<li><strong>斜率控制模式</strong>：可优化高达500kbps数据速率的压摆率，降低EMI，允许使用非屏蔽双绞线或平行线作为总线线路。电阻选择公式为 (R_{<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>}(k Omega) approx 12,500 /(最大速度，kbps))。</li>
<li><strong>待机模式（仅MAX3058）</strong>：发射器关闭，<a href="https://m.hqchip.com/app/1847" target="_blank"><u>接收器</u></a>进入低<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>模式，检测到显性位时，RXD切换到低电平。</li>
<li><strong>关机模式</strong>：发射器和接收器均关闭，MAX3058关机电流为1µA，MAX3059为5µA。</li>
</ul></li>
</ul>
<h4>（三）保护特性</h4>
<ul>
<li>具备热关断功能，当结温超过 +160°C时，设备关闭，温度降至 +135°C时恢复，热关断时CANH和CANL呈隐性状态，所有IC功能禁用。</li>
<li>CANH和CANL输出短路电流受限，可防止过度功耗。</li>
<li>提供 ±12kV的人体模型<a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a>保护。</li>
</ul>
<h3>三、<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>参数</h3>
<h4>（一）绝对最大额定值</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>数值</th>
</tr>
</thead>
<tbody>
<tr>
<td>VCC至GND</td>
<td>-0.3V至 +6V</td>
</tr>
<tr>
<td>TXD、RS、SHDN、<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>RM至GND</td>
<td>-0.3V至 +6V</td>
</tr>
<tr>
<td>RXD至GND</td>
<td>-0.3V至 +6V</td>
</tr>
<tr>
<td>CANH、CANL至GND（MAX3058）</td>
<td>-7.5V至 +12.5V</td>
</tr>
<tr>
<td>CANH、CANL至GND（MAX3059）</td>
<td>-0.3V至 (VCC + 0.3V)</td>
</tr>
<tr>
<td>连续功耗（TA = +70°C），8引脚SO封装（+70°C以上每升高1°C降额5.9mW）</td>
<td>470mW</td>
</tr>
<tr>
<td>工作温度范围</td>
<td>-40°C至 +125°C</td>
</tr>
<tr>
<td>最大结温</td>
<td>+150°C</td>
</tr>
<tr>
<td>存储温度范围</td>
<td>-65°C至 +150°C</td>
</tr>
<tr>
<td>引脚焊接温度（10s）</td>
<td>+300°C</td>
</tr>
</tbody>
</table>
<h4>（二）直流电气特性</h4>
<p>包括<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电流、静态电流、热关断阈值等参数，具体数值可参考文档中的表格。例如，在显性状态下电源电流典型值为40mA，隐性状态下为2mA；待机模式下MAX3058静态电流典型值为15µA。</p>
<h4>（三）时序特性</h4>
<p>涉及各种延迟时间，如TXD到总线激活延迟、总线到接收器激活延迟等，延迟时间与工作模式和电阻设置有关。例如，在高速模式下（<a href="https://m.elecfans.com/v/tag/3668/" target="_blank"><u>VR</u></a>S = 0V），TXD到总线激活延迟最大为50ns。</p>
<h3>四、引脚说明</h3>
<table>
<thead>
<tr>
<th>引脚（MAX3058/MAX3059）</th>
<th>名称</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>TXD</td>
<td>发送数据输入，CMOS/TTL兼容，有内部75kΩ上拉电阻</td>
</tr>
<tr>
<td>2</td>
<td>GND</td>
<td>接地</td>
</tr>
<tr>
<td>3</td>
<td>VCC</td>
<td>电源电压，需用0.1µF<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>旁路到GND</td>
</tr>
<tr>
<td>4</td>
<td>RXD</td>
<td>接收数据输出，CMOS/TTL兼容</td>
</tr>
<tr>
<td>5（仅MAX3058）</td>
<td>SHDN</td>
<td>关机输入，CMOS/TTL兼容，高电平进入关机模式，有内部75kΩ下拉电阻到GND</td>
</tr>
<tr>
<td>5（仅MAX3059）</td>
<td>TERM</td>
<td>终端输入，CMOS/TTL兼容，高电平或浮空时用120Ω电阻跨接CANH和CANL进行终端匹配，低电平断开该电阻，有内部75kΩ上拉电阻到VCC</td>
</tr>
<tr>
<td>6</td>
<td>CANL</td>
<td>CAN总线低电平线</td>
</tr>
<tr>
<td>7</td>
<td>CANH</td>
<td>CAN总线高电平线</td>
</tr>
<tr>
<td>8</td>
<td>RS</td>
<td>模式选择输入，低电平或接地为高速模式；接电阻到GND可控制输出斜率；MAX3058高电平进入待机模式，MAX3059高于0.75 x VCC进入关机模式</td>
</tr>
</tbody>
</table>
<h3>五、应用信息</h3>
<h4>（一）降低EMI和反射</h4>
<p>斜率控制模式下，CANH和CANL输出压摆率受限，可降低EMI和电缆不适当终端引起的反射。在多节点CAN应用中，应采用点对点布线方案，总线两端用120Ω电阻终端匹配，避免使用星形配置，尽量减小分支长度。</p>
<h4>（二）电源和旁路</h4>
<p>无需特殊布局考虑，使用0.1µF陶瓷电容靠近IC安装，引脚长度短、走线宽度宽，将VCC旁路到GND。</p>
<h3>六、总结</h3>
<p>MAX3058/MAX3059以其丰富的工作模式、出色的电气性能和完善的保护特性，成为了CAN总线通信系统中的优秀选择。在实际应用中，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们可根据具体需求，如数据速率、EMI要求、功耗等，合理选择器件和工作模式，并注意布线和电源旁路等细节，以充分发挥器件的性能。各位<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在使用过程中，是否遇到过类似器件的兼容性问题呢？欢迎在评论区分享你的经验与见解。 </p>]]></description></item><item>    <title><![CDATA[探索 LTC2859/LTC2861：高性能 RS485 收发器的技术魅力]]></title>    <link>https://www.elecfans.com/d/7638258.html</link>    <guid>https://www.elecfans.com/d/7638258.html</guid>    <pubDate>2026-02-04 17:45:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638258" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZPGmDFL-AXg0TAAU-IHiY-WY183.pdf"/><h1>探索 LTC2859/LTC2861：高性能 <a href="https://www.hqchip.com/app/1809" target="_blank"><u>RS485</u></a> <a href="https://www.hqchip.com/app/1809" target="_blank"><u>收发器</u></a>的技术魅力</h1>
<p>在现代<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>、楼宇自动化以及数据<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>等领域，<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>485 通信因其出色的抗干扰能力和长距离传输特性，得到了广泛应用。而 LTC2859/LTC2861 作为高性能的 RS485 收发器，更是为<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>们提供了强大的技术支持。今天，我们就来深入了解一下这两款收发器的特性、应用及相关技术要点。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638258" target="_blank">LTC2859CDD#TRPBF.pdf</a></p>
<h2>产品概述</h2>
<p>LTC2859 和 LTC2861 是低功耗、20Mbps 的 RS485/422 收发器，工作于 5V <a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>。它们具有一系列令人瞩目的特性，使其在众多同类产品中脱颖而出。</p>
<h2>特性亮点</h2>
<h3>集成可切换终端<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a></h3>
<p>这两款收发器集成了逻辑可选的 120Ω 终端电阻，通过逻辑控制就能轻松改变线路终端，优化收发器网络性能，这在实际应用中大大提高了设计的灵活性。</p>
<h3>高速数据传输</h3>
<p>最大数据速率可达 20Mbps，满足高速数据通信需求。同时，还具备 250kbps 的低 EMI 模式，可有效控制高频 EMI 辐射，适用于对<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性要求较高的场合。</p>
<h3>强大的 <a href="https://www.elecfans.com/tags/esd保护/" target="_blank"><u>ESD 保护</u></a></h3>
<p>能承受 ±15kV（人体模型）的 <a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a> 冲击，且不会出现闩锁或损坏，增强了产品在复杂电磁环境下的可靠性。</p>
<h3>高输入阻抗与多节点支持</h3>
<p><a href="https://m.hqchip.com/app/1847" target="_blank"><u>接收器</u></a>具有高输入阻抗，C -、I - 等级型号支持多达 256 个节点，为大规模网络通信提供了可能。</p>
<h3>热关断与限流保护</h3>
<p>通过对所有输出进行限流和热关断功能，防止总线争用或故障导致的过度功耗，保护器件安全。</p>
<h3>低功耗设计</h3>
<p>在接收模式下，最大工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅 900µA，还具备延迟微功耗关断功能，最大电流 5µA，有效降低了系统功耗。</p>
<h2>产品选型与应用</h2>
<h3>产品选型</h3>
<table>
<thead>
<tr>
<th>PART NUMBER</th>
<th>DUPLEX</th>
<th>PACKAGE</th>
</tr>
</thead>
<tbody>
<tr>
<td>LTC2861</td>
<td>Full</td>
<td>SSOP - 16, DFN - 12</td>
</tr>
</tbody>
</table>
<p>工程师可根据具体应用需求，如是否需要全双工通信、对封装尺寸的要求等，选择合适的型号和封装。</p>
<h3>应用场景</h3>
<p>适用于低功耗 RS485/<a href="https://m.hqchip.com/app/1809" target="_blank"><u>RS422</u></a> 收发器、电平<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>、背板收发器等多种应用场景。</p>
<h2><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>与开关特性</h2>
<h3>电气特性</h3>
<p>涵盖了驱动、接收、逻辑和电源等多个方面的参数。例如，驱动的差分输出电压在不同负载和电源条件下有明确的指标，接收器的输入电流、<a href="https://www.elecfans.com/tags/阈值电压/" target="_blank"><u>阈值电压</u></a>等也有详细规定。这些参数为工程师进行<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>和性能评估提供了重要依据。</p>
<h3>开关特性</h3>
<p>在正常模式和 SLO 模式下，对最大数据速率、输入输出延迟、上升下降时间等参数都有具体要求。如正常模式下最大数据速率可达 20Mbps，SLO 模式下为 250kbps，不同模式的特性差异满足了多样化的应用需求。</p>
<p>这些参考资料从不同角度对RS485相关内容进行了阐述，包括RS485总线理论、存在的问题及解决方案，保护RS485收发器的防雷器设计，影响MOS管开关速度的因素，以及RS485保护组件、接收器电路等方面的发明创造。这为我们进一步分析RS485收发器开关特性的影响因素提供了多维度的视角。下面我们结合这些内容，来探讨影响LTC2859/LTC2861开关特性的可能因素。</p>
<h2>开关特性影响因素分析</h2>
<h3>外部负载与<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>完整性</h3>
<p>从参考资料中可知，RS485总线存在阻抗不连续和信号反射问题，这同样会影响LTC2859/LTC2861的开关特性。当外部负载的阻抗与收发器不匹配时，会导致信号反射，反射信号可能触发接收器输入端的<a href="https://m.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>，使接收器收到错误信号，影响开关速度和数据传输的准确性。因此，在设计电路时，要确保负载阻抗与收发器的特性阻抗相匹配，尽量减少信号反射。</p>
<h3>共模电压与接地问题</h3>
<p>RS485<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>采用差分方式传输信号，但收发器只有在共模电压不超出一定范围（-7V至 +12V）的条件下才能正常工作。如果共模电压超出此范围，会影响通信的可靠性，甚至损坏接口。在实际应用中，要注意RS485通信链路的信号接地，避免因接地问题导致共模电压异常，从而影响LTC2859/LTC2861的开关特性。</p>
<h3>布线与布局</h3>
<p>PC 板的布线和布局对收发器的开关特性也有重要影响。参考资料中提到，RS485 网络拓扑一般采用终端匹配的总线型结构，从总线到每个节点的引出线长度应尽量短，以减少反射信号对总线信号的影响。对于 LTC2859/LTC2861，连接信号 A/B 和 Z/Y（LTC2861）的 PC 板走线应对称且尽量短，以保持良好的差分信号完整性。同时，要注意将输出线远离敏感输入线，减少反馈效应引起的噪声、抖动或振荡。</p>
<h3>电源与旁路<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a></h3>
<p>电源的稳定性和旁路电容的选择也会影响开关特性。一个稳定的电源对于收发器的正常工作至关重要。参考资料虽未直接提及对开关特性的影响，但不稳定的电源可能导致信号波动，影响开关速度和准确性。此外，推荐在 (V_{CC}) 引脚附近使用 0.1µF 的旁路电容，以减少电源噪声，提高电源的稳定性，从而优化开关特性。</p>
<h3>温度因素</h3>
<p>温度对电子元件的性能有显著影响。从 LTC2859/LTC2861 的电气和开关特性参数中可以看出，很多参数是在特定温度条件下给出的。温度变化可能会导致元件的参数发生变化，如电阻值、电容值等，进而影响开关速度和信号质量。因此，在实际应用中，要考虑环境温度对收发器开关特性的影响，必要时采取散热或温度补偿措施。</p>
<h2>典型应用案例</h2>
<h3>多节点网络</h3>
<p>在多节点网络中，LTC2859/LTC2861 的高输入阻抗和多节点支持特性得到了充分发挥。通过合理配置终端电阻和控制信号，可实现高效、稳定的通信。例如，在一个工业自动化<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>中，多个<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>和执行器通过 RS485 总线连接，LTC2859/LTC2861 作为收发器，能够可靠地传输数据，确保系统的正常运行。</p>
<h3>高速数据传输</h3>
<p>在需要高速数据传输的场合，如数据采集系统，LTC2859/LTC2861 的 20Mbps 数据速率可满足快速数据采集和传输的需求。同时，其 ESD 保护和热关断功能，保证了在复杂环境下的可靠性。</p>
<h2>设计注意事项</h2>
<h3>布局布线</h3>
<ul>
<li>采用接地平面布局，确保信号回流路径最短，减少电磁干扰。</li>
<li>信号 A/B 和 Z/Y（LTC2861）的走线应对称且短，避免信号失真。</li>
<li>逻辑输入和输出线应远离敏感信号，防止干扰。
<h3>电源处理</h3></li>
<li>在 (V_{CC}) 引脚附近放置 0.1µF 旁路电容，小于四分之一英寸距离，以稳定电源。</li>
<li>考虑电源的纹波和噪声，必要时采用滤波电路。
<h3>终端电阻配置</h3>
<p>根据实际应用需求，合理配置终端电阻，确保信号的反射最小化。</p></li>
</ul>
<h2>总结</h2>
<p>LTC2859/LTC2861 以其卓越的性能和丰富的特性，为 RS485 通信应用提供了理想的解决方案。在设计过程中，工程师需要充分考虑其特性和应用场景，合理布局布线、处理电源和配置终端电阻，以实现最佳的性能和可靠性。同时，要关注开关特性的影响因素，采取相应的措施进行优化。希望本文能为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>在使用 LTC2859/LTC2861 进行设计时提供有价值的参考。你在实际应用中是否遇到过类似收发器的问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[Infineon 8Mb EXCELON™ LP F-RAM：高性能非易失性存储解决方案]]></title>    <link>https://www.elecfans.com/d/7638259.html</link>    <guid>https://www.elecfans.com/d/7638259.html</guid>    <pubDate>2026-02-04 17:45:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638259" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFMCAC0iXAAgGZo4Jids493.pdf"/><h1>Infineon 8Mb EXCELON™ LP F-<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>RAM</u></a>：高性能非易失性存储解决方案</h1>
<p>在电子设计领域，非易失性存储器的选择至关重要，它直接影响着系统的数据存储可靠性和性能。今天，我们来深入了解<a href="https://www.elecfans.com/tags/英飞凌/" target="_blank"><u>英飞凌</u></a>（Infineon）的两款 8Mb EXCELON™ LP 铁电随机存取存储器（F-RAM）——CY15B108QI 和 CY15V108QI，探讨它们的特性、功能以及在实际应用中的优势。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638259" target="_blank">CY15V108QI-20LPXC.pdf</a></p>
<h2>产品特性亮点</h2>
<h3>1. 卓越的存储性能</h3>
<ul>
<li><strong>大容量与高耐久性</strong>：这两款 F-RAM 逻辑上组织为 1024K × 8，提供 8-Mbit 的存储容量。其具有几乎无限的读写耐久性，可达 (10^{15}) 次读写操作，这意味着在长期使用中，数据的写入和读取不会受到次数的限制，大大提高了存储器的使用寿命。</li>
<li><strong>长久的数据保留</strong>：数据保留时间长达 151 年，即使在长时间断电的情况下，数据也能可靠保存，为数据的长期存储提供了坚实的保障。</li>
<li><strong>即时非易失性写入技术</strong>：英飞凌的即时非易失性写入技术使得数据写入操作无需等待，与传统的串行闪存和 EEP<a href="https://www.elecfans.com/tags/rom/" target="_blank"><u>ROM</u></a> 相比，消除了写入延迟，提高了系统的响应速度。</li>
</ul>
<h3>2. 快速的串行<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a></h3>
<ul>
<li><strong>高速 SPI <a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a></strong>：支持高达 20 MHz 的 SPI <a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率，能够实现高速的数据传输。同时，它支持 SPI 模式 0 (0, 0) 和模式 3 (1, 1)，与大多数微<a href="https://www.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>的 SPI 接口兼容，方便系统集成。</li>
</ul>
<h3>3. 完善的写保护机制</h3>
<ul>
<li><strong>硬件与软件双重保护</strong>：提供了硬件保护（通过 Wri<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a> Protect (WP) 引脚）和软件保护（通过 Write Disable (WRDI) 指令）两种方式，还支持软件块保护，可对 1/4、1/2 或整个存储阵列进行保护，有效防止数据被意外修改。</li>
</ul>
<h3>4. 独特的标识与存储功能</h3>
<ul>
<li><strong>设备 ID 和序列号</strong>：每个设备都有唯一的制造商 ID、产品 ID 和序列号，方便设备的识别和管理。</li>
<li><strong>专用特殊扇区</strong>：设有 256 字节的专用特殊扇区 F-RAM，可进行独立的读写操作，并且存储的内容能够承受多达三次标准回流焊接周期，保证了数据的稳定性。</li>
</ul>
<h3>5. 低功耗与宽电压运行</h3>
<ul>
<li><strong>低功耗设计</strong>：在不同的工作模式下，功耗都非常低。例如，在 20 MHz 时钟频率下，典型工作<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>仅为 1.3 mA，待机电流为 3.5 µA，深度掉电模式电流为 0.90 µA，休眠模式电流为 0.1 µA，有效降低了系统的功耗。</li>
<li><strong>宽电压范围</strong>：CY15V108QI 的工作电压范围为 (V<em>{DD}=1.71 ~V) 至 1.89 V，CY15B108QI 的工作电压范围为 (V</em>{DD}=1.8 ~V) 至 3.6V，能够适应不同的<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>环境。</li>
</ul>
<h3>6. 广泛的温度适应性</h3>
<ul>
<li><strong>商业与工业级温度范围</strong>：支持商业级（0°C 至 +70°C）和工业级（–40°C 至 +85°C）的工作温度范围，适用于各种不同的应用场景。</li>
</ul>
<h3>7. 环保封装</h3>
<ul>
<li><strong>RoHS 合规</strong>：产品符合有害物质限制（RoHS）标准，环保且安全。</li>
<li><strong>多种封装选择</strong>：提供 8 引脚网格阵列四方扁平无引脚（GQFN）封装（NRND）和 8 引脚超薄细间距焊盘网格阵列（UFLGA）封装，方便不同的 <a href="https://www.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a> 布局需求。</li>
</ul>
<h2>功能详细解析</h2>
<h3>1. 引脚定义与功能</h3>
<table>
<thead>
<tr>
<th>引脚名称</th>
<th>I/O 类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CS</td>
<td>输入</td>
<td>芯片选择，低电平有效。当 CS 为高电平时，设备进入低功耗待机模式；当 CS 为低电平时，设备被激活。</td>
</tr>
<tr>
<td>SCK</td>
<td>输入</td>
<td>串行时钟，所有的输入输出操作都与该时钟同步。输入数据在时钟上升沿锁存，输出数据在时钟下降沿输出。</td>
</tr>
<tr>
<td>SI</td>
<td>输入</td>
<td>串行输入，所有数据通过该引脚输入到设备。</td>
</tr>
<tr>
<td>SO</td>
<td>输出</td>
<td>串行输出，在读取操作时输出数据，其他时间处于高阻态。</td>
</tr>
<tr>
<td>WP</td>
<td>输入</td>
<td>写保护，低电平有效。当状态<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>中的 WPEN 位设置为 ‘1’ 时，该引脚可防止对状态寄存器进行写操作。</td>
</tr>
<tr>
<td>DNU</td>
<td>不使用</td>
<td>该引脚不使用，可悬空或连接到 (V_{DD})。</td>
</tr>
<tr>
<td>(V_{SS})</td>
<td>电源</td>
<td>设备接地引脚。</td>
</tr>
<tr>
<td>(V_{DD})</td>
<td>电源</td>
<td>设备电源输入引脚。</td>
</tr>
</tbody>
</table>
<h3>2. SPI 总线与通信</h3>
<ul>
<li><strong>SPI 从设备</strong>：CY15X108QI 作为 SPI 从设备，可与 SPI 主设备进行高速通信。许多常见的<a href="https://www.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a>都具有硬件 SPI <a href="https://m.hqchip.com/app/1808" target="_blank"><u>端口</u></a>，可直接与该设备接口；对于没有 SPI 端口的微控制器，也可以使用普通端口引脚来<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a> SPI 接口。</li>
<li><strong>SPI 协议与模式</strong>：SPI 协议通过操作码（opcode）来控制，支持 SPI 模式 0 和模式 3。在这两种模式下，数据在 SCK 上升沿开始时钟输入到 F-RAM。</li>
</ul>
<h3>3. 命令结构与操作</h3>
<ul>
<li><strong>写使能控制</strong>：通过 WREN 命令设置写使能锁存器，允许进行后续的写操作；通过 WRDI 命令重置写使能锁存器，禁止写操作。</li>
<li><strong>寄存器访问</strong>：可通过 RDSR 命令读取状态寄存器的内容，了解写保护功能的当前状态；通过 W<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>R 命令写入状态寄存器，更改写保护配置。</li>
<li><strong>内存读写操作</strong>：WRITE 命令用于向内存写入数据，RE<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a> 和 FAST_READ 命令用于从内存读取数据。其中，FAST_READ 命令提供了与串行闪存设备的操作码兼容性。</li>
<li><strong>特殊扇区访问</strong>：SSWR 命令用于向 256 字节的特殊扇区写入数据，SSRD 命令用于从特殊扇区读取数据。</li>
<li><strong>标识与序列号操作</strong>：RDID 命令用于读取设备的制造商 ID 和产品 ID，RUID 命令用于读取设备的唯一 ID，WRSN 命令用于写入序列号，RDSN 命令用于读取序列号。</li>
<li><strong>低功耗模式</strong>：DPD 命令用于进入深度掉电模式，HBN 命令用于进入休眠模式，可有效降低设备的功耗。</li>
</ul>
<h2><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性与性能参数</h2>
<h3>1. 最大额定值</h3>
<p>为了确保设备的正常工作和使用寿命，需要注意其最大额定值。例如，存储温度范围为 –65°C 至 +125°C，电源电压范围根据不同型号有所不同，CY15V108QI 为 –0.5 V 至 +2.4 V，CY15B108QI 为 –0.5 V 至 +4.1 V 等。</p>
<h3>2. 工作范围</h3>
<p>两款产品分别支持商业级和工业级的工作温度范围，并且具有不同的电源电压范围，用户可根据实际应用需求进行选择。</p>
<h3>3. <a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a> 电气特性</h3>
<p>在不同的工作条件下，设备的电源电流、待机电流、深度掉电电流等参数都有明确的规定。例如，在 20 MHz 时钟频率下，典型工作电流在 1.3 mA 至 1.75 mA 之间，待机电流在 3.5 µA 至 110 µA 之间。</p>
<h3>4. 数据保留与耐久性</h3>
<p>数据保留时间根据环境温度的不同而有所变化，在 60°C 环境下可达 151 年；读写耐久性可达 (10^{15}) 次，几乎可以满足任何应用的需求。</p>
<h3>5. <a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>与热阻</h3>
<p>输出引脚电容和输入引脚电容都有相应的规定，同时不同封装的热阻也有所不同，这些参数对于 PCB 设计和散热设计具有重要的参考价值。</p>
<h3>6. <a href="https://www.hqchip.com/app/1703" target="_blank"><u>AC</u></a> 测试条件与开关特性</h3>
<p>规定了输入脉冲电平、上升和下降时间、输入和输出时序参考电平以及输出负载电容等测试条件，同时给出了 SCK 时钟频率、时钟高电平和低电平时间、芯片选择设置和保持时间等开关特性参数。</p>
<h3>7. 电源周期时序</h3>
<p>包括电源上电到首次访问的时间、电源上升和下降速率、进入和退出深度掉电模式及休眠模式的时间等参数，确保设备在电源变化时能够稳定工作。</p>
<h2>应用场景与优势</h2>
<h3>1. 数据采集系统</h3>
<p>在数据采集系统中，需要频繁地写入数据，传统的串行闪存和 EEPROM 由于写入速度慢，可能会导致数据丢失。而 CY15X108QI 具有几乎无限的读写耐久性和即时非易失性写入技术，能够快速、可靠地记录数据，确保数据的完整性。</p>
<h3>2. <a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>领域</h3>
<p>在工业控制中，对数据的实时性和可靠性要求很高。CY15X108QI 的高速写入性能和宽温度范围适应性，使其能够在恶劣的工业环境下稳定工作，有效避免因写入延迟而导致的控制失误。</p>
<h3>3. 其他应用</h3>
<p>还可应用于智能电表、医疗设备、<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>等领域，为这些领域的数据存储提供了高性能、可靠的解决方案。</p>
<h2>总结</h2>
<p>英飞凌的 CY15B108QI 和 CY15V108QI 8Mb EXCELON™ LP F-RAM 以其卓越的性能、完善的功能和低功耗设计，为<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>提供了一种理想的非易失性存储解决方案。在实际应用中，它能够显著提高系统的性能和可靠性，降低开发成本和维护难度。如果你正在寻找一款高性能的非易失性存储器，不妨考虑一下这两款产品。</p>
<p>各位<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>朋友们，在你们的项目中，是否也遇到过对非易失性存储器性能要求较高的情况呢？你们是如何选择和应用存储器的呢？欢迎在评论区分享你们的经验和见解。 </p>]]></description></item><item>    <title><![CDATA[高速通信的利器：ISL4486与ISL81486收发器深度解析]]></title>    <link>https://www.elecfans.com/d/7638260.html</link>    <guid>https://www.elecfans.com/d/7638260.html</guid>    <pubDate>2026-02-04 17:45:00</pubDate>    <description><![CDATA[<input type="hidden" id="annex0_7638260" value="https://file1.elecfans.com/web3/M00/4A/B7/wKgZO2mDFMCAEMZnAAv_IqY0o7U634.pdf"/><h1>高速<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>的利器：ISL4486与ISL81486<a href="https://www.hqchip.com/app/1809" target="_blank"><u>收发器</u></a>深度解析</h1>
<p>在当今高速通信的时代，对于<a href="https://www.elecfans.com/v/tag/125/" target="_blank"><u>电子工程师</u></a>而言，选择一款性能卓越的收发器至关重要。今天我们就来深入剖析<a href="https://www.elecfans.com/tags/intersil/" target="_blank"><u>Intersil</u></a>公司的两款明星产品：ISL4486和ISL81486，它们都是5V供电的单收发器，适用于<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a> - 485和RS - 422标准的平衡通信，在高速PROFIBUS等应用中表现出色。</p><p>文件下载：<a href="javascript:;" data-annex="annex0_7638260" target="_blank">ISL81486IBZ-T.pdf</a></p>
<h2>产品亮点</h2>
<h3>宽电压范围与高输出电压</h3>
<p>许多同类竞争产品在<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>电压方面较为苛刻，而ISL4486和ISL81486可在10%容差的电源（4.5V - 5.5V）下稳定工作。在这个电源范围内，它们能提供至少2.3V的差分输出电压。在众多竞品规定的5%容差下，ISL4486能向54Ω总负载提供高达2.5V的差分<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，这意味着在40Mbps的超高数据速率下，它能实现更远的传输距离和更好的数据完整性。</p>
<h3>高速数据传输能力</h3>
<p>两款产品都具备高速数据传输能力，ISL4486的数据速率高达40Mbps，ISL81486也能达到30Mbps，满足了高速PROFIBUS应用的需求。</p>
<h3>低偏斜特性</h3>
<p>在S<a href="https://www.elecfans.com/tags/csi/" target="_blank"><u>CSI</u></a>应用中，ISL4486的低接收器和发射器部件间偏斜特性使其成为高速并行应用的理想选择。在需要同时捕获大量比特的应用场景中，其低比特间偏斜可减轻数据锁存信号的时序约束。</p>
<h3>低负载与多设备兼容性</h3>
<p>这两款器件对RS - 485总线呈现“0.6单位负载”，这一特性允许网络上最多连接50个收发器，大大提高了系统的灵活性和扩展性。</p>
<h3>安全可靠的设计</h3>
<p><a href="https://m.hqchip.com/app/1847" target="_blank"><u>接收器</u></a>输入采用了“开路失效保护”设计，当接收器输入悬空时，能确保接收器输出为逻辑高电平。同时，<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>输出具备短路保护功能，即使电压超过电源电压也能正常工作。此外，片上热关断电路可在功耗过大时禁用驱动器输出，防止器件损坏。</p>
<h2>订购信息与封装</h2>
<table>
<thead>
<tr>
<th>部件编号（品牌）</th>
<th>温度范围 (°C)</th>
<th>封装</th>
<th>封装图纸编号</th>
</tr>
</thead>
<tbody>
<tr>
<td>ISL4486IB (4486IB)</td>
<td>-40 到 85</td>
<td>8引脚 SOIC</td>
<td>M8.15</td>
</tr>
<tr>
<td>ISL4486IBZ (4486IB) （见注释）</td>
<td>-40 到 85</td>
<td>8引脚 SOIC（无铅）</td>
<td>M8.15</td>
</tr>
<tr>
<td>ISL4486IU (4486)</td>
<td>-40 到 85</td>
<td>8引脚 MSOP</td>
<td>M8.118</td>
</tr>
<tr>
<td>ISL4486IUZ (4486) （见注释）</td>
<td>-40 到 85</td>
<td>8引脚 MSOP（无铅）</td>
<td>M8.118</td>
</tr>
<tr>
<td>ISL81486IB (81486IB)</td>
<td>-40 到 85</td>
<td>8引脚 SOIC</td>
<td>M8.15</td>
</tr>
<tr>
<td>ISL81486IBZ (81486IB) （见注释）</td>
<td>-40 到 85</td>
<td>8引脚 SOIC（无铅）</td>
<td>M8.15</td>
</tr>
<tr>
<td>ISL81486IU (1486)</td>
<td>-40 到 85</td>
<td>8引脚 MSOP</td>
<td>M8.118</td>
</tr>
<tr>
<td>ISL81486IUZ (1486) （见注释）</td>
<td>-40 到 85</td>
<td>8引脚 MSOP（无铅）</td>
<td>M8.118</td>
</tr>
</tbody>
</table>
<p>需要注意的是，在部件编号后添加 “-T” 后缀可选择卷带包装。Intersil的无铅产品采用特殊的无铅材料，适用于SnPb和无铅焊接操作。</p>
<h2><a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性与性能曲线</h2>
<h3>直流特性</h3>
<p>在直流特性方面，驱动器的差分输出电压在不同负载和电源电压条件下表现出色。例如，在无负载时，驱动器差分输出电压可达电源电压；在有负载时，根据不同的负载<a href="https://www.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和电源电压，输出电压也能满足设计要求。</p>
<h3>开关特性</h3>
<p>开关特性同样值得关注，两款产品的驱动器输入到输出传播延迟、驱动器使能和禁用时间等参数都表现优秀，确保了高速数据的准确传输。</p>
<h3>性能曲线</h3>
<p>通过典型性能曲线，我们可以直观地了解产品在不同条件下的性能表现。比如，在不同温度下，驱动器输出<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>、差分输出电压、传播延迟等参数的变化情况，这有助于<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>在实际设计中更好地考虑温度因素对产品性能的影响。</p>
<h2>应用场景广泛</h2>
<h3>RS - 485与RS - 422标准应用</h3>
<p>RS - 485和RS - 422是用于长距离或嘈杂环境的差分（平衡）数据传输标准。RS - 422是RS - 485的子集，RS - 485是真正的多点标准，允许在每条总线上最多连接32个单位负载设备（驱动器和接收器的任意组合）。而ISL4486和ISL81486能很好地满足这些标准的要求，在长距离数据传输中发挥重要作用。</p>
<h3>具体应用领域</h3>
<ul>
<li><strong>SCSI “Fast 40” 驱动和接收器</strong>：其低偏斜特性使其非常适合SCSI应用，能够满足高速并行数据传输的需求。</li>
<li><strong>PROFIBUS DP和FMS网络</strong>：高速数据传输能力和大差分输出电压使其能够在PROFIBUS网络中稳定工作，实现高效的数据通信。</li>
<li><strong>工厂自动化、现场总线网络、安全网络、建筑环境<a href="https://www.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>和工业/过程控制网络</strong>：这些领域通常需要长距离、高速、可靠的数据传输，ISL4486和ISL81486凭借其优秀的性能，能够为这些系统提供稳定的通信支持。</li>
</ul>
<h2><a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>与布局建议</h2>
<h3>电缆选择</h3>
<p>双绞线是RS - 485、RS - 422和PROFIBUS网络的首选电缆。它能将噪声和<a href="https://www.elecfans.com/tags/电磁感应/" target="_blank"><u>电磁感应</u></a>电压作为共模信号接收，而器件的差分接收器可有效抑制这些共模信号。</p>
<h3>数据速率与电缆长度</h3>
<p>RS - 485/RS - 422网络的最大系统数据速率会随传输长度的增加而降低。根据相关规范，数据速率超过3Mbps的网络，电缆长度应限制在100m以内，并建议使用“Type A”电缆。不过，ISL4486凭借其大差分输出摆幅、快速转换时间和高驱动电流输出级，在标准“CAT5”电缆上以40Mbps的速率传输时，传输距离可超过400英尺（121m）。</p>
<h3>终端匹配</h3>
<p>为了减少反射，使用这些高速数据速率收发器时，正确的终端匹配至关重要。在点对点或点对多点（总线上有单个驱动器）网络中，应在离驱动器最远的一端用特性阻抗（“CAT5”电缆通常为120Ω，“Type A”电缆为220Ω）对主电缆进行端接。在多接收器应用中，连接接收器到主电缆的分支应尽可能短。多点（多驱动器）系统则要求在主电缆的两端都用特性阻抗进行端接。</p>
<h2>总结</h2>
<p>Intersil的ISL4486和ISL81486收发器以其宽电压范围、高速数据传输能力、低偏斜特性、低负载和安全可靠的设计等优点，成为高速通信领域的理想选择。它们在众多应用场景中都能发挥出色的性能，为电子工程师在设计高速通信系统时提供了可靠的解决方案。你在实际设计中是否遇到过类似收发器的应用问题呢？欢迎在评论区分享你的经验和见解。 </p>]]></description></item>  </channel></rss>