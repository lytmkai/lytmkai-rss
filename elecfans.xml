<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>电子发烧友 - 最近文章</title>      <link>https://www.elecfans.com/article/special/</link>      <description>电子发烧友</description>      <generator>python elecfans.py @Pi20</generator>      <item>    <title><![CDATA[无桥功率因数校正（PFC）拓扑演进及碳化硅（SiC）MOSFET应用研究]]></title>    <link>https://www.elecfans.com/d/7634110.html</link>    <guid>https://www.elecfans.com/d/7634110.html</guid>    <pubDate>2026-02-01 12:29:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	无桥功率因数校正（<a href="https://m.hqchip.com/app/1717" target="_blank"><u>PFC</u></a>）拓扑演进及碳化硅（SiC）<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>应用研究报告</p>
<p style="text-indent:2em;">
	B<a href="https://www.elecfans.com/tags/asic/" target="_blank"><u>ASiC</u></a> Semiconductor基本<a href="https://m.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>一级代理商倾佳电子（Changer <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>ch）是一家专注于功率半导体和<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a><a href="https://www.hqchip.com/app/1544" target="_blank"><u>汽车连接器</u></a>的分销商。主要服务于中国工业<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>、<a href="https://bbs.elecfans.com/group_934" target="_blank"><u>电力电子</u></a>设备和新能源汽车产业链。倾佳电子聚焦于新能源、交通电动化和数字化转型三大方向，代理并力推BASiC基本半导体SiC碳化硅MOSFET单管，SiC碳化硅MOSFET<a href="https://m.hqchip.com/app/2047" target="_blank"><u>功率模块</u></a>，SiC模块驱动板等功率半导体器件以及新能源汽车连接器。﻿</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZPGl-8hCAIRv2ADAZGgntTc8824.png" style="width:400px;height:223px;" alt="wKgZPGl-8hCAIRv2ADAZGgntTc8824.png"/></p>
<p style="text-indent:2em;">
	倾佳电子杨茜致力于推动国产SiC碳化硅模块在电力电子应用中全面取代进口<a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a>模块，助力电力电子行业自主可控和产业升级！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET功率器件三个必然，勇立功率半导体器件变革潮头：</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET模块全面取代IGBT模块和IPM模块的必然趋势！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET单管全面取代IGBT单管和大于650V的<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>硅MOSFET的必然趋势！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住650V SiC碳化硅MOSFET单管全面取代SJ超结MOSFET和高压GaN 器件的必然趋势</p>
<p style="text-indent:2em;">
	1. 摘要</p>
<p style="text-indent:2em;">
	随着全球能效法规（如80 PLUS <a href="https://bbs.elecfans.com/group_715" target="_blank"><u>Ti</u></a>tanium、欧盟ErP指令）的日益严苛以及电力电子系统对高功率密度的迫切需求，传统的<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>-<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>转换架构正经历着一场深刻的变革。倾佳电子杨茜对无桥功率因数校正（Bridgeless Power Factor Correction, 简称无桥PFC）技术的发展演进进行详尽的梳理与深度剖析。倾佳电子杨茜追溯了从传统有桥Boost PFC到图腾柱（Totem-Pole）无桥PFC的拓扑演化逻辑，重点分析了共模噪声（EMI）抑制与反向恢复损耗等核心技术瓶颈的突破过程。倾佳电子杨茜探讨了无桥PFC拓扑在直流（DC）微网及电动汽车（EV）双向充放电（V2G）应用中作为DC-DC升压<a href="https://m.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>的复用性与控制策略。最后，结合基本半导体（BASiC Semiconductor）的B3M与AB3M系列SiC MOSFET产品数据，量化评估了宽禁带半导体材料在解决图腾柱PFC“硬开关”难题中的决定性价值，涵盖了低反向恢复电荷（Qrr​）、银烧结工艺及开尔文源极（Kelvin Source）封装等关键技术特征。</p>
<p style="text-indent:2em;">
	2. 引言：功率变换的效率瓶颈与无桥化的驱动力</p>
<p style="text-indent:2em;">
	2.1 <a href="https://www.hqchip.com/app/1717" target="_blank"><u>功率因数</u></a>校正的必要性与传统架构的局限</p>
<p style="text-indent:2em;">
	在现代电力电子系统中，AC-DC变换器是连接电网与电子负载的咽喉。为了减少对电网的谐波污染并提高电能利用率，有源功率因数校正（Active PFC）电路成为了<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a>（S<a href="https://www.elecfans.com/tags/mps/" target="_blank"><u>MPS</u></a>）、<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>电源及数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>电源的标准配置。</p>
<p style="text-indent:2em;">
	传统的Boost PFC拓扑长期占据主导地位。其结构由一个由四个<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>组成的<a href="https://www.hqchip.com/app/1565" target="_blank"><u>整流桥</u></a>和一个后级Boost DC-DC变换器构成。在这种架构中，<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>在任意时刻都必须流经整流桥中的两个二极管以及Boost级的功率开关管或二极管。这意味着在电流通路上始终存在三个半导体器件的压降 。</p>
<p style="text-indent:2em;">
	对于高压输入（220Vac），二极管的导通损耗尚可接受；但在低压大电流输入（如85Vac，满载）工况下，整流桥的导通损耗会显著恶化。典型的硅<a href="https://m.hqchip.com/app/1557" target="_blank"><u>整流二极管</u></a>正向压降（VF​）约为0.8V-1.0V，两只二极管串联即产生1.6V-2.0V的压降。在千瓦级功率下，仅整流桥引入的效率损失就可达1.5%至2% 。这一物理极限使得传统有桥PFC难以企及96%以上的钛金级（Titanium）系统效率目标。</p>
<p style="text-indent:2em;">
	2.2 “无桥化”的理论基础与演进动因</p>
<p style="text-indent:2em;">
	为了突破整流桥的效率天花板，电力电子学界提出了“无桥”（Bridgeless）概念。其核心思想是消除输入侧固定的二极管整流桥，利用开关管自身的体二极管或<a href="https://www.hqchip.com/app/1852" target="_blank"><u>同步整流</u></a>特性来兼顾整流与升压功能，从而减少电流通路中的半导体器件数量。</p>
<p style="text-indent:2em;">
	无桥PFC的发展并非一蹴而就，而是经历了一系列拓扑演变，旨在平衡效率、电磁干扰（EMI）性能、<a href="https://www.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>数量与控制复杂度。这一演进过程不仅是电路拓扑的革新，更是半导体材料技术进步的直接体现。</p>
<p style="text-indent:2em;">
	3. 无桥PFC拓扑架构的发展演进深度解析</p>
<p style="text-indent:2em;">
	无桥PFC的演进路线是一部与共模噪声（Common Mode Noise）和反向恢复（Reverse Recovery）做斗争的历史。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-8giASvC7ADUcuBwf7EU674.png" style="width:400px;height:223px;" alt="wKgZO2l-8giASvC7ADUcuBwf7EU674.png"/></p>
<p style="text-indent:2em;">
	3.1 早期尝试：双Boost无桥PFC（Dual Boost PFC）</p>
<p style="text-indent:2em;">
	早期的无桥PFC方案通常被称为双Boost拓扑。其基本结构是将Boost电感分裂为两个独立的绕组（或两个分立电感），分别置于火线（L）和零线（N）上。</p>
<p style="text-indent:2em;">
	3.1.1 <a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a></p>
<p style="text-indent:2em;">
	<strong>正半周</strong>：当AC输入为正时，连接在L线的MOSFET（S1）进行高频开关动作，与L线电感（L1）和Boost二极管（D1）构成Boost电路。此时，电流的回路由连接在N线的MOSFET（S2）的体二极管提供。</p>
<p style="text-indent:2em;">
	<strong>负半周</strong>：当AC输入为负时，S2进行高频开关，与L2和D2构成Boost电路，电流回路由S1的体二极管提供。</p>
<p style="text-indent:2em;">
	3.1.2 性能与缺陷</p>
<p style="text-indent:2em;">
	双Boost拓扑成功将导通路径上的半导体器件从3个减少到2个，显著降低了导通损耗 。然而，该拓扑存在致命的EMI缺陷。 由于输出直流母线的地电位（DC-）相对于交流输入（AC Line）是浮动的。在开关管高频动作时，DC-对地的寄生<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>上会产生剧烈的高频电压跳变（dv/dt），导致极高的共模噪声 。为了通过<a href="https://www.elecfans.com/tags/emc/" target="_blank"><u>EMC</u></a>标准，设计者不得不使用体积庞大的共模扼流圈，这往往抵消了效率提升带来的体积优势。此外，电感利用率低（每个电感仅半个周期工作）也是其弊端之一 。</p>
<p style="text-indent:2em;">
	3.2 过渡方案：半无桥PFC（Semi-Bridgeless PFC）</p>
<p style="text-indent:2em;">
	为了解决双Boost拓扑的EMI问题，业界提出了半无桥拓扑。通过在输入端增加两个低速二极管，将DC-电位在工频周期内钳位至AC输入端，从而抑制了高频共模电压的浮动 。</p>
<p style="text-indent:2em;">
	虽然这种方案改善了EMI性能并简化了电压采样，但它重新引入了额外的二极管，增加了元件数量和成本，且并未完全实现无桥化的高功率密度潜力。它更多被视为一种折衷的过渡方案。</p>
<p style="text-indent:2em;">
	3.3 终极形态：图腾柱无桥PFC（Totem-Pole PFC）</p>
<p style="text-indent:2em;">
	图腾柱PFC被公认为单相PFC拓扑的终极形态。其结构极其简洁：由两个桥臂构成，一个为高频开关臂（Fast Leg），一个为工频换向臂（Slow Leg）。</p>
<p style="text-indent:2em;">
	3.3.1 拓扑结构与工作模态</p>
<p style="text-indent:2em;">
	<strong>慢速臂（Slow Leg）</strong> ：通常由两个普通硅MOSFET（或二极管）组成（Q3, Q4），工作在电网频率（50/60Hz）。在AC正半周，Q4导通，将N线连接至DC-；在负半周，Q3导通，将L线连接至DC-。其作用相当于一个受控的整流器，且由于只在过零点切换，开关损耗几乎为零。</p>
<p style="text-indent:2em;">
	<strong>快速臂（Fast Leg）</strong> ：由两个高压开关管（Q1, Q2）组成，工作在高频（65kHz~100kHz+）。它们交替进行Boost升压操作。</p>
<p style="text-indent:2em;">
	<strong>工作机制</strong>：在正半周，Q2作为主开关管进行PWM调制，Q1作为同步整流管（或Boost二极管）；在负半周，角色互换，Q1为主开关，Q2为同步整流。</p>
<p style="text-indent:2em;">
	3.3.2 硅基时代的“阿喀琉斯之踵”</p>
<p style="text-indent:2em;">
	尽管图腾柱PFC在理论上拥有最少的器件数（仅4个开关，无整流桥）和最高的效率潜力，但在硅基半导体时代，它长期无法投入实际应用，特别是在连续导通模式（CCM）下 。</p>
<p style="text-indent:2em;">
	<strong>反向恢复问题</strong>：在CCM模式下，当主开关管（例如Q2）开通瞬间，续流管（Q1）的体二极管正处于导通状态。由于硅MOSFET（即使是超结SuperJunction MOSFET）的体二极管存在显著的反向恢复电荷（Qrr​），在强制关断时会产生巨大的反向恢复电流（Irrm​）。这不仅会导致极高的开通损耗（Eon​），甚至可能直接导致桥臂直通炸机 。</p>
<p style="text-indent:2em;">
	<strong>妥协</strong>：为了使用硅器件，设计者只能选择临界导通模式（CrM/TCM），利用零电流开关（ZCS）来避免反向恢复。但这限制了功率等级（通常&lt;300W），且变频控制复杂，纹波电流大，难以应用于大功率OBC或服务器电源。</p>
<p style="text-indent:2em;">
	3.4 交错并联图腾柱（Interleaved Totem-Pole）</p>
<p style="text-indent:2em;">
	对于大功率应用（如6.6kW或11kW OBC），单相图腾柱的纹波电流过大。交错并联技术通过并联两个或多个相位互差180度的高频桥臂，在输入端实现纹波电流的抵消，从而减小输入<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>的体积并分散热应力 。</p>
<p style="text-indent:2em;">
	4. 无桥PFC作为DC-DC升压转换器的应用深度研究</p>
<p style="text-indent:2em;">
	本章将从拓扑等效性、双向能量流动及V2G应用三个维度进行深入论证。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZPGl-8iKATgtuAD5bDGZ8ctw111.png" style="width:400px;height:223px;" alt="wKgZPGl-8iKATgtuAD5bDGZ8ctw111.png"/></p>
<p style="text-indent:2em;">
	4.1 拓扑的本质等效性</p>
<p style="text-indent:2em;">
	从电路拓扑学的角度分析，无桥PFC（特别是图腾柱架构）在本质上就是一个<strong>双向DC-DC转换器</strong>。</p>
<p style="text-indent:2em;">
	<strong>Boost结构</strong>：图腾柱的高频臂实际上是一个半桥结构。当输入源为DC时（例如电池），该结构完全等同于一个同步Boost转换器 。</p>
<p style="text-indent:2em;">
	<strong>控制视角的差异</strong>：PFC与DC-DC Boost的区别仅在于控制策略。PFC的控制目标是让电感电流跟随正弦波形的AC输入电压；而DC-DC Boost的控制目标是维持电感电流或输出电压为恒定直流值。</p>
<p style="text-indent:2em;">
	<strong>硬件复用</strong>：在物理硬件上，两者的功率级（电感、开关管、电容）是完全通用的。这意味着同一套电路既可以做AC-DC PFC，也可以做DC-DC Boost。</p>
<p style="text-indent:2em;">
	4.2 双向操作与V2G（Vehicle-to-Grid）应用</p>
<p style="text-indent:2em;">
	在电动汽车车载充电机（OBC）应用中，无桥图腾柱PFC是实现双向充放电的关键架构。</p>
<p style="text-indent:2em;">
	4.2.1 G2V模式（Grid-to-Vehicle，整流/升压）</p>
<p style="text-indent:2em;">
	在此模式下，电路作为AC-DC PFC运行。电网交流电经过慢速臂整流，快速臂进行Boost升压，将电压提升至400V或800V直流母线电压，为后级隔离DC-DC供电以给电池充电 。</p>
<p style="text-indent:2em;">
	4.2.2 V2G模式（Vehicle-to-Grid，逆变/降压）</p>
<p style="text-indent:2em;">
	在此模式下，能量从电池流向电网。此时，电路工作在逆变模式。</p>
<p style="text-indent:2em;">
	<strong>DC侧看</strong>：高压直流母线是输入源。</p>
<p style="text-indent:2em;">
	<strong>动作</strong>：高频臂进行PWM开关，将直流电压“斩波”成正弦脉宽调制波（SPWM）。</p>
<p style="text-indent:2em;">
	<strong>AC侧看</strong>：电感作为滤波元件，向电网注入正弦电流。</p>
<p style="text-indent:2em;">
	<strong>等效性</strong>：虽然系统层面是逆变（DC-AC），但在每个开关周期内，高频臂实际上是在执行Buck（降压）操作（当电流流向电网时，电压从高压母线降至瞬时网压）。</p>
<p style="text-indent:2em;">
	4.2.3 纯DC-DC升压应用</p>
<p style="text-indent:2em;">
	无桥PFC电路完全可以用作纯DC-DC升压转换器。例如，在光伏储能系统中，或在电动汽车内部作为升压模块。</p>
<p style="text-indent:2em;">
	<strong>工作机制</strong>：若输入连接直流源（如400V电池），慢速臂的开关管根据输入极性固定导通（例如Q4常通，Q3常断），此时电路退化为一个标准的同步Boost转换器。高频臂的下管（Q2）作为主<a href="https://www.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>占空比，上管（Q1）作为同步整流管 。</p>
<p style="text-indent:2em;">
	<strong>优势</strong>：相比于传统Boost，由于采用了同步整流（SiC MOSFET），其效率远高于使用二极管续流的非同步Boost。且交错并联的图腾柱结构可以提供极低的电流纹波和大功率处理能力（&gt;10kW） 。</p>
<p style="text-indent:2em;">
	4.3 限制与挑战</p>
<p style="text-indent:2em;">
	将PFC复用为DC-DC升压转换器时需注意热设计。在AC-DC模式下，功率器件的热负荷随正弦波变化；而在纯DC模式下，热负荷是持续恒定的，且集中在特定的器件上（取决于DC输入极性），可能导致某些器件过热，需要针对最恶劣工况进行热设计 。</p>
<p style="text-indent:2em;">
	5. SiC MOSFET在无桥PFC中的应用价值深度剖析</p>
<p style="text-indent:2em;">
	无桥图腾柱PFC从理论走向工业标准，完全得益于宽禁带（WBG）材料，尤其是碳化硅（SiC）MOSFET的商业化成熟。本章将结合**基本半导体（BASiC Semiconductor）**的具体产品参数，量化分析SiC的应用价值。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/73/wKgZPGkMni-ADgGPAAZBCcVTtdY142.png" style="width:600px;height:338px;" alt="wKgZPGkMni-ADgGPAAZBCcVTtdY142.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/73/wKgZPGkMni-AbrBVAAdeBCDwANQ685.png" style="width:600px;height:338px;" alt="wKgZPGkMni-AbrBVAAdeBCDwANQ685.png"/></p>
<p style="text-indent:2em;">
	5.1 彻底解决体二极管反向恢复问题</p>
<p style="text-indent:2em;">
	这是SiC MOSFET在图腾柱PFC中不可替代的核心价值。</p>
<p style="text-indent:2em;">
	<strong>物理机制</strong>：硅（Si）MOSFET的体二极管是PN结结构，关断时需要抽取大量的少子（少数载流子），导致巨大的反向恢复电荷（Qrr​）。而SiC MOSFET虽然也有体二极管，但由于SiC材料的特性，其少子寿命极短，且多数现代SiC MOSFET（如基本半导体的第三代技术）通过结构优化或集成<a href="https://www.hqchip.com/app/1558" target="_blank"><u>肖特基</u></a>二极管（SBD），使其反向恢复行为接近理想二极管。</p>
<p style="text-indent:2em;">
	<strong>数据对比</strong>：典型的650V硅超结MOSFET的Qrr​可能高达几千nC，而同规格的SiC MOSFET（如基本半导体<strong>B3M025065L</strong>）的Qrr​通常在几十nC量级，降低了90%以上 。</p>
<p style="text-indent:2em;">
	<strong>系统影响</strong>：Qrr​的消除使得图腾柱PFC可以在CCM模式下高效运行，无需复杂的软开关（ZVS）控制，直接简化了控制算法并提升了系统鲁棒性 。</p>
<p style="text-indent:2em;">
	5.2 极低的导通电阻与高温稳定性</p>
<p style="text-indent:2em;">
	SiC材料的高临界击穿场强允许在相同耐压下使用更薄、掺杂浓度更高的漂移层，从而显著降低比导通电阻。</p>
<p style="text-indent:2em;">
	<strong>产品分析</strong>：参考基本半导体<strong>B3M010C075Z</strong>数据手册 。</p>
<p style="text-indent:2em;">
	<strong>规格</strong>：750V耐压，导通电阻仅<strong>10mΩ</strong>。</p>
<p style="text-indent:2em;">
	<strong>价值</strong>：在处理大电流（如240A @ 25°C）时，极低的RDS(on)​意味着极低的导通损耗（I2R）。相比于传统40-60mΩ的硅器件，损耗降低了75%以上。</p>
<p style="text-indent:2em;">
	<strong>温度系数</strong>：SiC的<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>随温度上升的幅度远小于硅。B3M010C075Z在175°C结温下的电阻仅为12.5mΩ ，这种高温稳定性对于电动汽车等恶劣环境至关重要。</p>
<p style="text-indent:2em;">
	5.3 高频开关能力与功率密度提升</p>
<p style="text-indent:2em;">
	SiC MOSFET极低的开关损耗（Eon​,Eoff​）允许系统工作在更高的开关频率（65kHz - 200kHz+）。</p>
<p style="text-indent:2em;">
	<strong>磁性元件小型化</strong>：频率的提升直接减小了Boost电感的体积和重量。对于OBC应用，这意味着更高的功率密度（kW/L）。</p>
<p style="text-indent:2em;">
	<strong>数据支撑</strong>：基本半导体<strong>AB3M025065CQ</strong>（650V, 25mΩ）的数据手册明确指出其优势在于“实现更高的开关频率”和“增加功率密度” 。其低输入电容（Ciss​）和低栅极电荷（Qg​）降低了驱动损耗，使得高频驱动成为可能 。</p>
<p style="text-indent:2em;">
	5.4 1200V器件在800V系统中的战略地位</p>
<p style="text-indent:2em;">
	随着电动汽车向800V高压平台演进，PFC级需要承受更高的电压应力。</p>
<p style="text-indent:2em;">
	<strong>硅的局限</strong>：650V硅MOSFET无法直接用于800V系统，必须采用复杂的三电平拓扑（如Vienna整流器）或串联结构。</p>
<p style="text-indent:2em;">
	<strong>SiC的优势</strong>：基本半导体推出的<strong>B3M011C120Z</strong>（1200V, 11mΩ） 允许在800V系统中继续使用简单的两电平图腾柱拓扑。这极大地简化了<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>，减少了器件数量，并提高了可靠性 。</p>
<p style="text-indent:2em;">
	6. 关键封装技术：释放SiC潜能的催化剂</p>
<p style="text-indent:2em;">
	仅仅有好的芯片是不够的，封装技术决定了SiC性能的发挥上限。通过分析基本半导体的产品文档，我们可以看到几项关键封装技术的应用。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/7C/wKgZO2kNRDWAKQieAAYnoo8wfus549.png" style="width:600px;height:338px;" alt="wKgZO2kNRDWAKQieAAYnoo8wfus549.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/7A/wKgZO2kNOcaAM2aAAAb4RMnV7os303.png" style="width:600px;height:338px;" alt="wKgZO2kNOcaAM2aAAAb4RMnV7os303.png"/></p>
<p style="text-indent:2em;">
	6.1 开尔文源极（Kelvin Source）连接</p>
<p style="text-indent:2em;">
	在高频开关过程中，源极引脚上的寄生电感（Ls​）会产生感应电压（V=Ls​⋅di/dt），这个电压会抵消<a href="https://m.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>电压，减缓开关速度并增加损耗。</p>
<p style="text-indent:2em;">
	<strong>技术应用</strong>：基本半导体的<strong>B3M011C120Z</strong>（TO-247-4封装） 和<strong>B3M025065L</strong>（TOLL封装） 均采用了开尔文源极设计（独立的<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>n 3或Pin 2）。</p>
<p style="text-indent:2em;">
	<strong>价值</strong>：将驱动回路与功率回路解耦，消除了源极电感对开关速度的负反馈，从而显著降低了开关损耗（尤其是Eon​），并防止了误导通 。</p>
<p style="text-indent:2em;">
	6.2 银烧结（Silver Sintering）工艺</p>
<p style="text-indent:2em;">
	为了应对SiC的高工作温度和高功率密度，传统的焊料芯片贴装已成为热阻瓶颈。</p>
<p style="text-indent:2em;">
	<strong>技术应用</strong>：基本半导体在<strong>B3M010C075Z</strong>等高性能器件中明确标注采用了“银烧结工艺”（Silver Sintering applied）。</p>
<p style="text-indent:2em;">
	<strong>价值</strong>：银烧结层的热导率远高于锡铅焊料，显著降低了结到壳的热阻（Rth(j−c)​降低至0.20 K/W ）。这使得芯片产生的热量能更快导出，提升了器件的电流处理能力和热循环可靠性，完全匹配车规级（AQG-324）的高可靠性要求 。</p>
<p style="text-indent:2em;">
	6.3 顶部散热（Top-Side Cooling）封装</p>
<p style="text-indent:2em;">
	在紧凑型户储及阳台光储设计中，<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>底部的散热空间往往受限。</p>
<p style="text-indent:2em;">
	<strong>技术应用</strong>：基本半导体的<strong>AB3M025065CQ</strong>采用了<strong>QDPAK</strong>封装 ，<strong>B3M040065B</strong>采用了<strong>TOLT</strong>封装 。</p>
<p style="text-indent:2em;">
	<strong>价值</strong>：这些封装将散热面置于器件顶部，允许散热器直接压装在器件表面，而不经过PCB。这不仅大幅降低了热阻，还优化了<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>布局，实现了电热分离，是高密度户储及阳台光储的主流选择 。</p>
<p style="text-indent:2em;">
	7. 数据驱动的对比分析</p>
<p style="text-indent:2em;">
	为了直观展示SiC MOSFET在无桥PFC中的优势，下表对比了不同技术方案在关键指标上的差异。</p>
<p style="text-indent:2em;">
	表1：传统Boost PFC vs. 硅基图腾柱 vs. SiC图腾柱</p>
<p style="text-indent:2em;">
	</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>性能指标</strong></th>
			<th style="padding:12px 7px;">
				<strong>传统有桥 Boost PFC</strong></th>
			<th style="padding:12px 7px;">
				<strong>硅基无桥图腾柱 (CrM)</strong></th>
			<th style="padding:12px 7px;">
				<strong>SiC基无桥图腾柱 (CCM)</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>导通路径器件数</strong></td>
			<td style="padding:12px 7px;">
				3 (2二极管 + 1开关)</td>
			<td style="padding:12px 7px;">
				2 (1慢管 + 1快管)</td>
			<td style="padding:12px 7px;">
				2 (1慢管 + 1快管)</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>峰值效率</strong></td>
			<td style="padding:12px 7px;">
				~96-97%</td>
			<td style="padding:12px 7px;">
				~97-98%</td>
			<td style="padding:12px 7px;">
				<strong>&gt;99%</strong></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>功率限制</strong></td>
			<td style="padding:12px 7px;">
				受限于整流桥散热</td>
			<td style="padding:12px 7px;">
				受限于峰值电流 (CrM)</td>
			<td style="padding:12px 7px;">
				<strong>极高 (可达22kW+)</strong></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>控制复杂度</strong></td>
			<td style="padding:12px 7px;">
				低 (<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>控制)</td>
			<td style="padding:12px 7px;">
				高 (需变频控制)</td>
			<td style="padding:12px 7px;">
				中/高 (数字控制)</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>器件反向恢复</strong></td>
			<td style="padding:12px 7px;">
				不敏感 (二极管阻断)</td>
			<td style="padding:12px 7px;">
				敏感 (需ZVS/ZCS)</td>
			<td style="padding:12px 7px;">
				<strong>极低 (SiC特性)</strong></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>适用场景</strong></td>
			<td style="padding:12px 7px;">
				低成本<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a></td>
			<td style="padding:12px 7px;">
				中功率 (&lt;3kW)</td>
			<td style="padding:12px 7px;">
				<strong>大功率 OBC, 服务器电源</strong></td>
		</tr></tbody></table><p>
	</p>
<p style="text-indent:2em;">
	表2：基本半导体SiC MOSFET关键参数解析</p>
<p style="text-indent:2em;">
	</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>型号</strong></th>
			<th style="padding:12px 7px;">
				<strong>电压 (VDS​)</strong></th>
			<th style="padding:12px 7px;">
				<strong>电流 (ID​ @25°C)</strong></th>
			<th style="padding:12px 7px;">
				<strong>RDS(on)​ (Typ)</strong></th>
			<th style="padding:12px 7px;">
				<strong>封装</strong></th>
			<th style="padding:12px 7px;">
				<strong>关键技术特征</strong></th>
			<th style="padding:12px 7px;">
				<strong>目标应用</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>B3M010C075Z</strong></td>
			<td style="padding:12px 7px;">
				750 V</td>
			<td style="padding:12px 7px;">
				240 A</td>
			<td style="padding:12px 7px;">
				10 mΩ</td>
			<td style="padding:12px 7px;">
				TO-247-4</td>
			<td style="padding:12px 7px;">
				银烧结, 开尔文源</td>
			<td style="padding:12px 7px;">
				超充桩, <a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>B3M011C120Z</strong></td>
			<td style="padding:12px 7px;">
				1200 V</td>
			<td style="padding:12px 7px;">
				223 A</td>
			<td style="padding:12px 7px;">
				11 mΩ</td>
			<td style="padding:12px 7px;">
				TO-247-4</td>
			<td style="padding:12px 7px;">
				1200V高压, 开尔文源</td>
			<td style="padding:12px 7px;">
				800V EV, 光伏</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>AB3M025065CQ</strong></td>
			<td style="padding:12px 7px;">
				650 V</td>
			<td style="padding:12px 7px;">
				115 A</td>
			<td style="padding:12px 7px;">
				25 mΩ</td>
			<td style="padding:12px 7px;">
				QDPAK</td>
			<td style="padding:12px 7px;">
				顶部散热, 车规级</td>
			<td style="padding:12px 7px;">
				OBC, DCDC</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>B3M025065L</strong></td>
			<td style="padding:12px 7px;">
				650 V</td>
			<td style="padding:12px 7px;">
				108 A</td>
			<td style="padding:12px 7px;">
				25 mΩ</td>
			<td style="padding:12px 7px;">
				TOLL</td>
			<td style="padding:12px 7px;">
				紧凑贴片, 低电感</td>
			<td style="padding:12px 7px;">
				服务器电源</td>
		</tr></tbody></table><p>
	</p>
<p style="text-indent:2em;">
	8. 系统设计挑战与未来展望</p>
<p style="text-indent:2em;">
	尽管SiC图腾柱PFC具有巨大优势，但在实际工程应用中仍面临挑战：</p>
<p style="text-indent:2em;">
	8.1 驱动与保护</p>
<p style="text-indent:2em;">
	SiC MOSFET的栅极驱动需要精细设计。虽然其门槛电压（Vth​）较低，但在高速开关时容易受干扰误导通。因此，必须使用具有米勒钳位（Miller Clamp）功能的驱动器，并通常需要负压关断（如-3V至-5V）以提高抗干扰能力 。基本半导体的<strong>BTD25350</strong>系列<a href="https://m.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>正是为此设计，集成了这些保护功能。</p>
<p style="text-indent:2em;">
	8.2 EMI滤波器设计</p>
<p style="text-indent:2em;">
	虽然图腾柱PFC消除了双Boost拓扑的严重共模噪声，但在高频开关（特别是SiC的高dv/dt）下，差模和共模噪声依然存在。设计需要优化PCB布局，减小开关环路面积，并配合多级EMI滤波器 。</p>
<p style="text-indent:2em;">
	8.3 成本与普及</p>
<p style="text-indent:2em;">
	SiC器件的成本仍高于硅器件。然而，从系统层面看（System Level Cost），由于电感、电容和散热器的显著减小，以及能效提升带来的运营成本降低（OPEX），SiC方案在3kW以上的大功率应用中已具备极高的性价比 。</p>
<p style="text-indent:2em;">
	9. 结论</p>
<p style="text-indent:2em;">
	无桥PFC技术的发展是一场由效率需求驱动、由半导体材料技术实现的电力电子革命。从早期的双Boost拓扑探索，到如今SiC赋能的图腾柱架构成为主流，这一演进路径清晰地展示了技术进步的逻辑。</p>
<p style="text-indent:2em;">
	<strong>拓扑演进</strong>：已从理论上的“无桥”走向了工程实用的“图腾柱”，彻底打破了硅整流桥的效率桎梏。</p>
<p style="text-indent:2em;">
	<strong>升压应用</strong>：无桥PFC在拓扑上等效于双向DC-DC变换器，完全具备DC-DC升压能力，是实现电动汽车V2G功能和直流微网<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>的关键技术。</p>
<p style="text-indent:2em;">
	<strong>SiC的核心价值</strong>：SiC MOSFET不仅仅是性能更好的开关，它是图腾柱PFC能够工作在CCM模式下的<strong>先决条件</strong>。基本半导体的B3M/AB3M系列产品，通过低RDS(on)​、低Qrr​以及银烧结、开尔文源极、顶部散热等先进封装技术，完美解决了传统硅基方案的热失控和开关损耗痛点，为实现99%以上效率的下一代电源系统提供了坚实的硬件基础。</p>
<p style="text-indent:2em;">
	在未来的电力电子版图中，随着800V高压平台的普及和对双向能量传输需求的增加，基于SiC MOSFET的无桥图腾柱架构将占据绝对的统治地</p>]]></description></item><item>    <title><![CDATA[无功补偿选型指南：SVG与电容各有所长，按需选择更划算]]></title>    <link>https://www.elecfans.com/d/7634118.html</link>    <guid>https://www.elecfans.com/d/7634118.html</guid>    <pubDate>2026-02-01 12:44:00</pubDate>    <description><![CDATA[<p>
	在工业与商业配电的无功补偿领域，静止无功发生器（SVG）和传统<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>补偿柜是两款主流设备。二者没有绝对的优劣之分，只有是否适配的区别。对于大多数负载稳定的用户来说，传统电容补偿柜凭借高性价比与低运维成本，是更具实用性的选择。</p>
<p>
	SVG的优势十分突出，它的响应速度极快，能够毫秒级跟踪负载变化。面对电弧炉、轧钢机这类负载波动剧烈的场景，SVG可以精准且快速地调节无功功率，保障电网电压稳定。同时，SVG的补偿精度高，还能实现容性与感性双向补偿，特别适合对供电质量要求严苛的大型工业场景。</p>
<p>
	但从成本角度考量，电容补偿柜的优势更为明显。同等容量下，SVG的采购成本是电容补偿柜的10倍以上。以 200kvar的补偿需求为例，电容补偿柜采购价约 2万元，而 SVG的报价通常在 12万元以上。这笔差价对于中小企业而言，是一笔不小的开支。</p>
<p>
	在运行能耗方面，两者的差距同样显著。SVG属于<a href="https://bbs.elecfans.com/group_934" target="_blank"><u>电力电子</u></a>设备，自身功耗较高，通常占额定容量的 2%-3%。一台 200kvar的 SVG，年耗电量可达 43200度，按工业电价 0.75元 /度计算，年电费约 32400元。传统电容补偿柜的损耗主要来自介质损耗，200kvar的电容补偿柜年耗电量仅 4320度，年电费仅 3240元。单是电费一项，电容补偿柜每年就能比 SVG节省 29160元。</p>
<p>
	运维难度上，电容补偿柜也更胜一筹。它的结构简单，核心元件是<a href="https://m.hqchip.com/app/855" target="_blank"><u>电容器</u></a>和电抗器，日常维护只需做好除尘和定期检测。即便出现故障，本地<a href="https://www.elecfans.com/v/tag/162/" target="_blank"><u>电工</u></a>就能处理，配件采购方便且价格低廉。SVG的内部结构复杂，包含大量 <a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a>模块和<a href="https://www.elecfans.com/soft/data/4-10/" target="_blank"><u>控制电路</u></a>板，对运行环境要求严苛。一旦出现故障，往往需要厂家派专业<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>上门<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>，不仅响应周期长，还会产生额外的差旅和人工成本。</p>
<p>
	某电子加工厂的选型案例就很有代表性。该厂的生产线负载稳定，最初为了 “一步到位”采购了 SVG，不仅前期投入高出传统电容补偿柜数倍，运行一年下来仅设备自身耗电的电费就多花了近 3万元。更让企业头疼的是，这套 SVG运行到第三年时出现了核心模块故障，需要联系厂家派专业工程师上门检修。从报修到问题彻底解决，前后耗时近半个月。这期间生产线因无功补偿失效导致<a href="https://www.hqchip.com/app/1717" target="_blank"><u>功率因数</u></a>不达标，单月就产生了上万元的力调电费罚款。经历这次故障后，再次发生故障时该厂果断将 SVG更换为电容补偿柜，新设备不仅完全满足功率因数达标要求，每年还能省下大笔电费，日常运维也省心不少。</p>
<p>
	其实，无功补偿选型的核心是匹配自身负载特性。如果你的企业属于负载快速波动的大型工业场景，SVG的精准补偿能力能发挥最大价值；但如果是普通工厂、商场、写字楼这类负载稳定的场景，传统电容补偿柜的高性价比、低能耗、易维护优势，能实实在在帮你降本增效。</p>
<p>
	选对无功补偿设备，既能满足电网要求，又能省下真金白银。根据自身需求理性选择，才是最明智的决策。</p>
<p>
	如果您也存在无功补偿困惑及功率因数不达标烦恼，请随时咨询易控宝技术团队，我们为您提供专业解决方案！</p>
<p>
	欢迎光临TB小店：电力控制仪表行，原厂现货供应易控宝JKG-K<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>/JKG-KAZ光伏四象限无功补偿<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>、高采低补无功补偿控制器、<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>定制无功补偿控制器，公司提供远程视频技术指导，若问题没解决，可退货退款。</p>]]></description></item><item>    <title><![CDATA[群芯微电子可控硅光耦产品线介绍]]></title>    <link>https://www.elecfans.com/d/7634146.html</link>    <guid>https://www.elecfans.com/d/7634146.html</guid>    <pubDate>2026-02-01 13:46:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<a href="https://m.hqchip.com/app/2046" target="_blank"><u>可控硅</u></a><a href="https://www.elecfans.com/yuanqijian/guangou/" target="_blank"><u>光耦</u></a>产品线介绍</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6V-AA3xMAAAbGlCZ_xQ709.png" alt="503255e2-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6WCAGAn4AAClhDUPJbE636.jpg" alt="508a515c-fd73-11f0-92de-92fbcf53809c.jpg"/></p>
<p style="text-indent:2em;">
	可控硅光耦原理图和封装</p>
<p style="text-indent:2em;">
	可控硅光耦是一种高效、可靠的隔离<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>件，专为在低压控制电路与<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>交流负载之间建立安全连接而设计。它能够直接驱动外部大功率<a href="https://m.hqchip.com/app/2046" target="_blank"><u>晶闸管</u></a>，适用于对120V/240V/380V交流负载(单相/三相)进行控制，是替代复杂分立驱动方案的理想选择。可控硅光耦作为一种能够直接对交流电进行控制的<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>电子元器件</u></a>，在<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>中可大幅简化结构、提高可靠性，广泛应用于家电、<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>、照明调控等场景，是实现交流负载安全、低噪声、紧凑型控制的优选解决方案。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6WCAJdHgAAB-_CSZ0yE759.png" alt="50e0c8ca-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	可控硅光耦工作示意图</p>
<p style="text-indent:2em;">
	核心要点</p>
<p style="text-indent:2em;">
	基本构成：由一个发光<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>(<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>)和一个光控可控硅组成。</p>
<p style="text-indent:2em;">
	根据触发相位控制方式，分为两大类型：</p>
<p style="text-indent:2em;">
	过零相位触发型(过零可控硅)</p>
<p style="text-indent:2em;">
	随机相位触发型(非过零可控硅)</p>
<p style="text-indent:2em;">
	一、过零相位触发型</p>
<p style="text-indent:2em;">
	核心特征：内置过零检测模块，只在交流电压过零点(电压为零时)触发导通。</p>
<p style="text-indent:2em;">
	关键优势：</p>
<p style="text-indent:2em;">
	抗干扰强：天然屏蔽了非过零期间的各种干扰<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。</p>
<p style="text-indent:2em;">
	无冲击：导通瞬间电压和<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>最低，能彻底避免浪涌电流对负载和电路本身的冲击。</p>
<p style="text-indent:2em;">
	高可靠性：开关过程对负载友好，<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>应力小。</p>
<p style="text-indent:2em;">
	设计目的：实现稳定、无冲击、高可靠性的纯<a href="https://www.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>。</p>
<p style="text-indent:2em;">
	典型应用：对稳定性、抗干扰性和负载保护要求高的通断控制场景(如固态继电器、设备<a href="https://m.hqchip.com/app/1708" target="_blank"><u>电源开关</u></a>等)。</p>
<p style="text-indent:2em;">
	二、随机相位触发型</p>
<p style="text-indent:2em;">
	核心特征：允许在交流电的任意相位(角度)触发导通。</p>
<p style="text-indent:2em;">
	关键能力：通过控制触发相位(移相)，可以实现对输出电压的连续、精细调节。</p>
<p style="text-indent:2em;">
	主要代价/挑战：</p>
<p style="text-indent:2em;">
	易受干扰：非过零触发机制本身无干扰屏蔽。</p>
<p style="text-indent:2em;">
	存在冲击：在非零点导通时会产生较大的瞬时电压/电流冲击(浪涌)。</p>
<p style="text-indent:2em;">
	设计复杂：必须额外设计电路来妥善处理干扰和导通冲击问题。</p>
<p style="text-indent:2em;">
	设计目的：实现<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、连续可调的功率控制。</p>
<p style="text-indent:2em;">
	典型应用：需要平滑调节的调光、调速、调温、调功率等场景。</p>
<p style="text-indent:2em;">
	核心区别与并存意义：</p>
<p style="text-indent:2em;">
	本质区别：两者的核心区别源于其不同的设计目的与应用需求。</p>
<p style="text-indent:2em;">
	优化路径：</p>
<p style="text-indent:2em;">
	过零型优化了 “无冲击、高可靠性的开关” 路径。</p>
<p style="text-indent:2em;">
	非过零型优化了 “高精度、连续可调的功率控制” 路径。</p>
<p style="text-indent:2em;">
	<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>选择：两者并存，为工程师在解决不同问题时提供了两种侧重点不同的技术优化路径。</p>
<p style="text-indent:2em;">
	共性优势与应用领域</p>
<p style="text-indent:2em;">
	共同工作特性：两种类型的可控硅光耦，均在交流电的电压过零点时自然关断(截止)。</p>
<p style="text-indent:2em;">
	核心设计优势：此特性结合各自的触发方式，共同实现了安全与高效的功率控制。</p>
<p style="text-indent:2em;">
	应用领域：</p>
<p style="text-indent:2em;">
	家用电器：如洗衣机(<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>)、风扇(调速)、电热设备(温控)等。</p>
<p style="text-indent:2em;">
	工业控制：用于<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>驱动、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>控制、设备开关等。</p>
<p style="text-indent:2em;">
	照明系统：特别是需要调光功能的场景。</p>
<p style="text-indent:2em;">
	提供的解决方案价值：为客户提供了灵活(不同类型满足不同需求)、稳定(过零关断降低风险)、低噪声(减少电磁干扰和电流冲击)的功率控制解决方案。</p>
<p style="text-indent:2em;">
	家用电器</p>
<p style="text-indent:2em;">
	智能电表</p>
<p style="text-indent:2em;">
	<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a></p>
<p style="text-indent:2em;">
	灯光控制器</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6WCAKahMAAFKRvf3sAI258.png" alt="529561b2-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	26Q1可控硅光耦产品型号总览图</p>
<p style="text-indent:2em;">
	我司可控硅光耦产品线提供全面、可靠的交流负载驱动解决方案，为您的设计保驾护航。我们的产品线全面覆盖从250V至800V的断态电压等级，以满足从消费级到工业级设备的不同耐压需求。同时，全系列明确区分为过零型(ZC)与非过零型(NZC)，分别致力于实现超低EMI的安静开关与精准的相位控制，精准匹配从家电控制到调光调速等多元化场景。</p>
<p style="text-indent:2em;">
	重要封装介绍</p>
<p style="text-indent:2em;">
	我司的DIP5、DIP5-M、SMD5采用内缩式结构设计，可将基板完全收纳入封装内部进行彻底保护，从而从物理根源上隔绝环境干扰。这一设计与市场上常见的仅在外部切断<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>n 5的简易方案有着本质区别，能为您的系统提供更可靠、更稳定的抗干扰保障。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6WCACRYsAAApMX5MARU885.png" alt="52ec6660-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	DIP5封装外形尺寸</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6WCAY0cCAAArwaNkID4142.png" alt="5345fdd8-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	DIP5-M封装外形尺寸</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6WGAHFq3AAAZQrvBkfk345.png" alt="539d222a-fd73-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	SMD5封装外形尺寸</p>
<p style="text-indent:2em;">
	公司介绍</p>
<p style="text-indent:2em;">
	宁波群芯微电子股份有限公司成立于2018年7月，总部位于宁波杭州湾新区，是国家级专精特新“小巨人”企业，公司主要从事光耦和光传感产品的研发、生产和销售业务。公司主要产品包括光耦、光继电器等，广泛应用于<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车、储能、光伏、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>以及工业控制等领域。公司的核心团队成员来自国内外大型<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>公司，在<a href="https://www.elecfans.com/v/tag/123/" target="_blank"><u>集成电路</u></a>芯片设计、工艺制程、<a href="https://bbs.elecfans.com/group_53" target="_blank"><u>封装测试</u></a>及应用方面拥有丰富的经验。</p>
<p style="text-indent:2em;">
	公司在<a href="https://www.elecfans.com/v/tag/2800/" target="_blank"><u>光电</u></a>产品<a href="https://bbs.elecfans.com/group_1149" target="_blank"><u>芯片技术</u></a>和相应封装测试技术方面已有数十年的沉淀与积累，拥有专业的研发工程技术团队，是国内少数光耦元件获得CQC、UL、VDE、AEC-Q101等多项国内外产品品质与安全<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>的企业，公司顺利通过IATF 16949体系认证，光耦产品的设计与制造达到车规级标准。</p>]]></description></item><item>    <title><![CDATA[慧能泰新一代超低功耗高效供电控制器HUSB363A介绍]]></title>    <link>https://www.elecfans.com/d/7634149.html</link>    <guid>https://www.elecfans.com/d/7634149.html</guid>    <pubDate>2026-02-01 13:49:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	是时候给你的充电器“升级大脑”了。</p>
<p style="text-indent:2em;">
	超低功耗</p>
<p style="text-indent:2em;">
	安全高效</p>
<p style="text-indent:2em;">
	小体积</p>
<p style="text-indent:2em;">
	......</p>
<p style="text-indent:2em;">
	这大概就是传说中的“别人家的孩子(芯片)”吧!</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6peAZm3cABAFv_M5N1k823.png" alt="a86f319a-fcfa-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	图1：H<a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a>363A Demo</p>
<p style="text-indent:2em;">
	为满足不同产品的设计需求，HUSB363A提供QFN4x4-16L和QFN4x4-24L两种紧凑型封装可选。HUSB363A和HUSB363等芯片<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>n to pin管脚兼容，可以直接升级替换HUSB363。</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6peAeUpDAADsJw4zWXA554.png" alt="a8dacc0c-fcfa-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	图2：HUSB363A引脚定义</p>
<p style="text-indent:2em;">
	HUSB363A集成了<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>环和电压环，不需要外置TL431，外围电路简洁。</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6piASgURAACsXhw8_UA374.png" alt="a93651d0-fcfa-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	图3：HUSB363A QFN-16L封装典型应用电路</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6piAG6zQAADh-oCeXsc837.png" alt="a99ab27e-fcfa-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	图4：HUSB363A QFN-24L封装典型应用电路</p>
<p style="text-indent:2em;">
	HUSB363A待机功耗低至100 uA，这意味着即使充电器长期插在插座上，其能耗也几乎可以忽略不计。</p>
<p style="text-indent:2em;">
	HUSB363A创新性地集成了SR DRAIN电压检测功能，可以实现LPS、<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>高低压侦测。有效防止采样<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>单点失效等异常情况对设备造成损害，为用户的设备安全保驾护航。</p>
<p style="text-indent:2em;">
	HUSB363A支持外部VSNS分压反馈，可以实现更高电压输出，不被芯片耐压限制。可应用于两轮车、三轮车、四轮车充电器，电动工具充电器，扫地机充电器中。慧能泰还推出了使用HUSB363A作为通用握手协议的一整套中大功率AC<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a><a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>适配器/充电机方案。</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6piAByxKAAK_R3AwgYg812.png" alt="a9fb430a-fcfa-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	图5：慧能泰中大功率ACDC电源适配器/充电机方案</p>
<p style="text-indent:2em;">
	HUSB363A特性</p>
<p style="text-indent:2em;">
	支持PPS的USB <a href="https://www.elecfans.com/tags/type-c/" target="_blank"><u>Type-C</u></a> PD供电控制器</p>
<p style="text-indent:2em;">
	– 符合USB Type-C Rev.2.4</p>
<p style="text-indent:2em;">
	– 符合USB PD Rev.3.2</p>
<p style="text-indent:2em;">
	支持多种DPDM充电协议</p>
<p style="text-indent:2em;">
	– BC 1.2 DCP和Divider 3</p>
<p style="text-indent:2em;">
	– QC 4/QC 4+、QC 2.0/3.0/3+</p>
<p style="text-indent:2em;">
	– AFC、FCP、SCP</p>
<p style="text-indent:2em;">
	– PE 1.1+/2.0</p>
<p style="text-indent:2em;">
	– Apple 2.4A</p>
<p style="text-indent:2em;">
	– UFCS</p>
<p style="text-indent:2em;">
	集成高端NMOS门极驱动和继电器驱动</p>
<p style="text-indent:2em;">
	超低阻抗采样电阻采集输出电流</p>
<p style="text-indent:2em;">
	支持VBUS弱上拉，对于Type-C转Ligh<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>ng线可以实现休眠</p>
<p style="text-indent:2em;">
	支持轻载检测电流低至5~10 mA</p>
<p style="text-indent:2em;">
	支持高阻抗Type-C线兼容性提升</p>
<p style="text-indent:2em;">
	GPIO灵活可配实现客制化需求</p>
<p style="text-indent:2em;">
	支持硬件线补，动态负载响应更快</p>
<p style="text-indent:2em;">
	两路PWM通道，可用于风扇调速控制</p>
<p style="text-indent:2em;">
	<a href="https://m.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>内核自带20 kB MTP存储空间</p>
<p style="text-indent:2em;">
	完备的故障保护机制：过压保护、过流保护、短路保护、过温保护、欠压保护、CC过压保护及热关断</p>
<p style="text-indent:2em;">
	可配置<a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a>从机/主机模式</p>
<p style="text-indent:2em;">
	内置11位 <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a></p>
<p style="text-indent:2em;">
	±3 kV HBM <a href="https://www.hqchip.com/app/1587" target="_blank"><u>ESD</u></a></p>
<p style="text-indent:2em;">
	免费送样</p>
<p style="text-indent:2em;">
	Hyne<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>k</p>
<p style="text-indent:2em;">
	HUSB363A现已开放样品申请，可扫描下方二维码或点击文末“阅读原文”申请免费样品。更多优质产品信息，欢迎联系我们了解。</p>
<p style="text-indent:2em;">
	关于慧能泰半导体</p>
<p style="text-indent:2em;">
	深圳慧能泰<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>科技有限公司是一家专注于智慧能源控制技术的公司，主要面向智能快充和数字能源领域，提供高性能数模混合芯片产品。公司总部设立在深圳前海，同时在上海、浙江杭州、美国加州设有研发<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>。慧能泰的核心研发团队来自国内外顶尖半导体公司，拥有强大的研发创新能力。公司现已获多项授权专利，拥有独立自主知识产权，并于2020年被评为“高新技术企业”，2023年获评国家级专精特新“小巨人”企业。</p>
<p style="text-indent:2em;">
	目前，慧能泰已完成了围绕USB Type-C生态链的整体产品布局，开发并量产了多款产品：供电端的多系列PD Source协议芯片，受电端的高性能PD Sink(PD 诱骗芯片)、Type-C<a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a><a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>(CC <a href="https://www.elecfans.com/tags/Cirrus logic/" target="_blank"><u>Logic</u></a>)，线缆端的USB eMarker(电子标签芯片)。成立以来，慧能泰连续推出多款业界领先的产品并广受市场欢迎。公司芯片出货量逾10亿颗，标杆性客户有联想、小米、<a href="https://www.elecfans.com/tags/三星/" target="_blank"><u>三星</u></a>、HP、贝尔金和努比亚等。同时，慧能泰也致力于提高能源利用效率、研究能源控制技术，借助自身的技术研发优势，面向ICT(<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>服务器)、数据中心、光伏<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>、储能等工业应用，研发<a href="https://www.elecfans.com/tags/数字电源/" target="_blank"><u>数字电源</u></a><a href="https://m.hqchip.com/app/1730" target="_blank"><u>控制芯片</u></a>、<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a><a href="https://www.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>、电源转换芯片和模块等产品。</p>
<p style="text-indent:2em;">
	慧能泰半导体肩负着“芯智慧 芯能源，共建绿色未来”的使命，立志成为业界领先的智慧能源控制技术供应商。</p>]]></description></item><item>    <title><![CDATA[润石科技推出8位单通道AD转换芯片RS1507S]]></title>    <link>https://www.elecfans.com/d/7634152.html</link>    <guid>https://www.elecfans.com/d/7634152.html</guid>    <pubDate>2026-02-01 13:55:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>1507S是一款8位单通道<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>转换芯片，采用<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>peline架构设计，带有片上跟踪和保持电路，支持全差分输入或者单端输入，最高转换速率支持125MSPS，在整个工作电压和工作温度范围内具有出色的动态性能。</p>
<p style="text-indent:2em;">
	RS1507S模数转换芯片工作电压支持2.7V至3.6V，8位并行数据输出<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，兼容TTL/CMOS电平，并内置了一个精准的1.25V参考电压，也可以通过外部对应通道参考电压输入引脚输入需要的基准电压来调整<a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>内核的基准电压，从而根据采样需要调整ADC的满量程范围。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6zqAQYg3AALp4bWyNgk319.png" alt="3b334322-fcf6-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	RS1507S对标AD9283的参数指标设计，并根据工艺和用户具体应用做了适当的优化和取舍，在工艺满足的前提下尽可能提升参数性能，以使其能满足更多的应用场景，真正做到兼容替换。</p>
<p style="text-indent:2em;">
	其主要特性如下：</p>
<p style="text-indent:2em;">
	Ø单通道，8位，最高125MSPS；</p>
<p style="text-indent:2em;">
	Ø低功耗：71mW @ 125MSPS</p>
<p style="text-indent:2em;">
	Ø片内基准参考电压和采样保持</p>
<p style="text-indent:2em;">
	Ø<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>带宽475MHz</p>
<p style="text-indent:2em;">
	ØSNR=46.5dB@41MHz &amp; 76MSPS</p>
<p style="text-indent:2em;">
	Ø1Vpp模拟输入电压范围</p>
<p style="text-indent:2em;">
	Ø单电源3V工作，支持2.7V~3.6V电压范围</p>
<p style="text-indent:2em;">
	Ø待机功耗1.0mW  </p>
<p style="text-indent:2em;">
	ØINL: ±0.7LSB(Typ)</p>
<p style="text-indent:2em;">
	ØDNL: ±0.6LSB(Typ)</p>
<p style="text-indent:2em;">
	ØG<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>n Error: ±2.5%FS(Typ)</p>
<p style="text-indent:2em;">
	Ø工业级工作温度范围：-40°C ~ 85°C。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZO2l-6zuAbFI-AAMRdapviUw736.png" alt="3b8e8c28-fcf6-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-6zuABeO4AAB3qB5mSA0644.png" alt="3bffe328-fcf6-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	RS1507S封装和管脚定义</p>
<p style="text-indent:2em;">
	RS1507S采用20脚SSOP 封装，管脚定义完全兼容AD9283，欢迎各界<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>朋友索样评测。</p>]]></description></item><item>    <title><![CDATA[新唐科技推出基于Arm Cortex-M55内核的NuMicro M5531系列微控制器]]></title>    <link>https://www.elecfans.com/d/7634155.html</link>    <guid>https://www.elecfans.com/d/7634155.html</guid>    <pubDate>2026-02-01 13:58:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<strong>新唐 M5531 <a href="https://m.hqchip.com/app/1380" target="_blank"><u>微控制器</u></a></strong><strong style="text-indent:2em;">硬核实力赋能智能未来</strong></p>
<p style="text-indent:2em;">
	在<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>、智能物联与边缘计算飞速演进的当下，市场对微控制器（<a href="https://m.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>）的性能、功耗、安全性及扩展性提出了更高要求。新唐科技深耕MCU领域多年，依托深厚技术积淀与精准市场洞察，推出基于<a href="https://www.hqchip.com/app/1378" target="_blank"><u>Arm</u></a> Cortex-M55内核的M5531系列高性能MCU，以“性能跃升+功耗优化+安全加固+场景适配”全维优势，为各行业智能升级注入强劲动力，树立MCU应用新标杆。</p>
<p align="center">
	<img alt="5064f904-fdb2-11f0-92de-92fbcf53809c.png" src="https://file1.elecfans.com/web3/M00/4A/33/wKgZPGl-7KyAdNI7AAEAVDVMjho735.png"/></p>
<p style="text-indent:2em;">
	<strong>核心架构革新：性能与能效双重突破</strong></p>
<p style="text-indent:2em;">
	M5531系列的核心竞争力，源于底层架构的深度优化与前沿技术集成。其搭载的Arm Cortex-M55内核，运行频率高达220MHz，峰值算力达371 DMIPS，正常运行功耗仅94.5μA/MHz，彻底破解“高性能与低功耗不可兼得”的行业痛点。</p>
<p style="text-indent:2em;">
	内核级Helium M-profile向量扩展技术，为算力再添助力，可高效适配<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>处理、图像图形处理、<a href="https://www.hqchip.com/app/1537" target="_blank"><u>音频</u></a>处理等应用场景。配合双精度FPU、64KB I-TCM、128KB D-TCM及64位AXI总线，实现代码执行与数据传输并行高效，完全消除算力瓶颈。</p>
<p style="text-indent:2em;">
	<strong>全栈安全防护：筑牢智能设备信任根基</strong></p>
<p style="text-indent:2em;">
	万物互联时代，设备安全与数据加密已成刚需。M5531系列构建从启动到运行的全链路安全防护体系，集成TrustZone安全扩展技术，实现安全与非安全区域硬件级隔离，有效抵御恶意攻击与数据泄露；Secure Boot安全启动功能作为信任根，确保固件启动的完整性与合法性，从源头阻断恶意代码注入。</p>
<p style="text-indent:2em;">
	硬件级加密引擎是其安全核心，包含伪随机数发生器（PRNG）并支持AES、ECC、<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>A、SHA/HMAC等主流加密<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，搭配真随机数生成器（TRNG）、密钥存储单元（Key Store）及密钥派生功能（KDF），可满足金融支付、<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>、<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>传输等高强度加密需求。此外，XOM、OTP功能及防篡改引脚设计，进一步强化固件保护与设备防破解能力，全方位保障终端设备与数据安全。</p>
<p style="text-indent:2em;">
	<strong>灵活扩展设计：适配多元场景应用</strong></p>
<p style="text-indent:2em;">
	M5531系列以丰富硬件配置与灵活扩展能力，覆盖工业、物联网、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>等多领域。存储方面，搭载2MB双bank Flash与1.5MB S<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>RAM</u></a>，双bank Flash支持无缝OTA升级，规避断电风险，大容量SRAM可减少外部存储依赖，降低BOM成本；低功耗域集成8KB LPSRAM及专用外设、<a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>DMA</u></a>与<a href="https://www.elecfans.com/tags/定时器/" target="_blank"><u>定时器</u></a>，可在休眠模式下完成外设与SRAM数据采集，休眠功耗低至6.1μA，深度休眠仅0.64μA，适配电池供电便携设备。</p>
<p style="text-indent:2em;">
	全面的外设<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>拓宽了应用边界：支持10/100M<a href="https://www.hqchip.com/app/1720" target="_blank"><u>以太网</u></a>、<a href="https://www.hqchip.com/app/2004" target="_blank"><u>CAN</u></a> FD、<a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a> HS/FS OTG、I3C等高速<a href="https://www.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>，实现设备间及设备与云端的高速数据交互；12位5MSPS <a href="https://www.elecfans.com/tags/adc/" target="_blank"><u>ADC</u></a>、2MSPS LP<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>C及1MSPS <a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>DAC</u></a>，配合4组<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://www.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>，精准适配<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a><a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>采集、模拟量控制场景；最多9组SPI接口、Camera IF、DMIC、QEI等外设，可满足HMI、<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机控制</u></a>、图像音频采集等复杂需求。系列提供LQFP64、LQFP128、LQFP176三种封装，实现性能与空间的最优平衡。</p>
<p style="text-indent:2em;">
	<strong>场景深度赋能：加速行业智能升级</strong></p>
<p style="text-indent:2em;">
	凭借全维优势，M5531系列在多行业展现强劲应用潜力。工业领域，其高性能内核与丰富外设可支撑工业网关、运动<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>等设备，实现多协议转换、<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>控制与高速数据传输，220MHz算力可流畅运行<a href="https://m.elecfans.com/v/tag/1019/" target="_blank"><u>FreeRTOS</u></a>、Zephyr等<a href="https://www.elecfans.com/tags/RTOS/" target="_blank"><u>RTOS</u></a>系统，满足工业级实时性要求；智能物联领域，可应用于<a href="https://www.elecfans.com/v/tag/1453/" target="_blank"><u>环境监测</u></a>终端、能源存储网关、消防报警控制器，加密引擎与低功耗设计保障数据安全与设备长效运行。</p>
<p style="text-indent:2em;">
	消费电子与汽车后装市场同样是其核心应用场景：便携打印机中，1.5MB内置SRAM可省去外部RAM扩展；带屏的三模磁轴键盘设备中，可实现磁轴按键高扫描速率；车载惯性导航系统中，双精度FPU高效处理精准导航算法，配合CAN FD总线与多<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>接口，完美适配车载数据交互需求。</p>
<p style="text-indent:2em;">
	<strong>竞争优势凸显：完善生态护航研发</strong></p>
<p style="text-indent:2em;">
	完善的开发生态大幅降低研发门槛。新唐科技提供<a href="https://www.elecfans.com/tags/keil/" target="_blank"><u>Keil</u></a> MDK Nuvoton Edi<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>on - Full Cortex-M开发平台，搭配NuMaker-M5531评估板（集成Nu-Link2-Me<a href="https://www.elecfans.com/tags/仿真器/" target="_blank"><u>仿真器</u></a>，支持<a href="https://bbs.elecfans.com/group_724" target="_blank"><u>Arduino</u></a>扩展接口），便于快速搭建原型验证。同时提供FreeRTOS/Zephyr/RT Thread等RTOS代码、完善的BSP包，以及EmWin、<a href="https://www.elecfans.com/v/tag/1073/" target="_blank"><u>LVGL</u></a>等GUI库支持和视频文档教程，<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>可基于成熟生态二次开发，显著缩短产品研发周期。</p>
<p style="text-indent:2em;">
	NuMicro M5531系列MCU凭借Cortex-M55内核的卓越性能、全栈安全防护、灵活扩展接口及完善生态支持，提供兼具性能、功耗与性价比的解决方案，成为工业自动化、智能物联、消费电子等领域智能设备的核心引擎。</p>
<p style="text-indent:2em;">
	未来，新唐科技将持续深耕MCU技术创新，以更贴合市场需求的产品与服务，助力各行业加速智能升级，共赴万物互联的智能新纪元。</p>]]></description></item><item>    <title><![CDATA[FCE1100芯片助力博尔森R系列EtherCAT磁致伸缩位移传感器批量生产]]></title>    <link>https://www.elecfans.com/d/7584276.html</link>    <guid>https://www.elecfans.com/d/7584276.html</guid>    <pubDate>2026-02-01 14:14:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	博尔森R系列EtherCAT磁致伸缩位移<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>作为<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>领域的高速实时位置反馈设备，其<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>模块性能直接决定系统同步精度与数据传输效率。传统方案多采用进口倍福ET1100芯片，存在供应链依赖、成本高企、技术支持响应慢等问题。北京方芯<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>推出的FCE1100国产EtherCAT从站<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>芯片，凭借与ET1100的<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>n-to-pin兼容、全自主IP内核、高速实时通信能力及工业级可靠性，成为博尔森R系列传感器批量生产的理想选择，以下是详细应用解析。</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com//web3/M00/46/91/wKgZPGlhzbiAPbIrAAVcNnffl18611.png" alt="wKgZPGlhzbiAPbIrAAVcNnffl18611.png"/></p>
<p style="text-indent:2em;">
	一、FCE1100芯片核心特性与博尔森R系列传感器适配性</p>
<p style="text-indent:2em;">
	1. FCE1100芯片核心技术参数及适配价值</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com//web3/M00/46/8F/wKgZO2lhzbiAIfIaAANT0VtXXlk636.png" alt="wKgZO2lhzbiAIfIaAANT0VtXXlk636.png"/></p>
<p style="text-indent:2em;">
	FCE1100作为对标倍福ET1100的国产EtherCAT从站控制器<a href="https://bbs.elecfans.com/zhuti_fpga_1.html" target="_blank"><u>ASIC</u></a>芯片，具备4个可配置为MII/LVDS的<a href="https://www.hqchip.com/app/1720" target="_blank"><u>以太网</u></a><a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a>，8个FMMU单元与8个SM同步管理器通道，内置4KB控制寄存器及8KB过程数据存储器，支持64位分布式<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>(<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>)功能，通信周期可达微秒级，完美匹配博尔森R系列传感器对高速实时数据传输的需求。</p>
<p style="text-indent:2em;">
	该芯片采用工业级设计，工作温度覆盖-40℃~85℃，可适应港口、矿山、冶金等恶劣工业环境，与博尔森传感器IP67防护等级形成双重保障。其自主研发的IP核心实现了与ET1100的完全pin-to-pin兼容，无需修改<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>板设计即可直接替换，大幅降低博尔森传感器批量改造的研发成本与周期。</p>
<p style="text-indent:2em;">
	FCE1100支持标准EtherCAT协议，兼容CoE、FoE、EoE等应用层协议，可无缝对接倍福TwinCAT、贝加莱Automation Studio等主流工控软件，与博尔森R系列传感器的协议兼容性要求高度契合，确保系统集成的便捷性与稳定性。</p>
<p style="text-indent:2em;">
	2. 与博尔森R系列EtherCAT传感器的适配逻辑</p>
<p style="text-indent:2em;">
	博尔森R系列EtherCAT磁致伸缩位移传感器的工作核心流程为“位移检测→<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>处理→EtherCAT协议转换→高速数据传输”，FCE1100在这一流程中承担关键的协议处理与数据传输角色。</p>
<p style="text-indent:2em;">
	具体来看，博尔森传感器通过波导丝与磁环的磁场交互完成位移检测后，由内置<a href="https://m.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>(如<a href="https://www.elecfans.com/v/tag/751/" target="_blank"><u>STM32</u></a>F4系列)计算出绝对位置数据，FCE1100接收该数据后，通过EtherCAT协议转换为工业以太网数据帧，以≤100μs的通信周期传输至上位控制器。同时，芯片的64位分布式时钟功能可实现多传感器间的精准同步，同步精度达±1μs，满足博尔森R系列传感器在多轴协同控制场景下的同步需求。</p>
<p style="text-indent:2em;">
	此外，FCE1100支持FoE文件传输协议，可实现博尔森传感器固件的远程升级；支持CoE协议，可通过EtherCAT总线实现传感器参数的在线配置与故障诊断，如远程设置零点、量程、滤波参数等，无需现场<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>设备，与博尔森“智能诊断、便捷维护”的设计理念高度契合。</p>
<p style="text-indent:2em;">
	二、FCE1100在博尔森R系列传感器中的应用优势</p>
<p style="text-indent:2em;">
	1. 全链路国产化，构建自主可控供应链</p>
<p style="text-indent:2em;">
	FCE1100作为国产芯片，可与博尔森R系列传感器的国产化核心<a href="https://www.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>(波导丝、换能器、MCU、<a href="https://www.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>芯片等)形成完整的国产供应链体系，彻底摆脱对进口ET1100芯片的依赖，解决工业传感器通信模块“卡脖子”问题。</p>
<p style="text-indent:2em;">
	在批量生产场景下，FCE1100交付周期稳定在4周以内，不受国际供应链波动、贸易壁垒等因素影响，结合博尔森成熟的生产体系，可确保年产10万台以上传感器的稳定供应，大幅提升生产计划的灵活性。</p>
<p style="text-indent:2em;">
	方芯半导体提供完善的技术支持与本地化服务，响应时间≤24小时，相比进口芯片厂商的技术支持效率提升50%，可快速解决博尔森传感器批量生产中的技术问题，降低研发与生产风险。</p>
<p style="text-indent:2em;">
	2. 成本优化，提升批量生产竞争力</p>
<p style="text-indent:2em;">
	成本控制方面，FCE1100的采购成本较进口ET1100降低40%-60%，按博尔森年产5万台R系列传感器计算，仅EtherCAT芯片环节就能年节省采购成本超800万元，大幅降低批量生产的物料成本压力。</p>
<p style="text-indent:2em;">
	设计成本上，FCE1100与ET1100的pin-to-pin兼容特性，使博尔森无需重新设计PCB板，直接替换芯片即可完成升级，节省研发周期3-6个月，降低设计成本约30万元。测试成本也能得到有效优化，FCE1100内置的自诊断功能可简化批量生产时的通信性能测试流程，测试效率提升40%以上，契合博尔森“高效量产、品质可控”的生产需求。</p>
<p style="text-indent:2em;">
	3. 性能升级，强化传感器系统集成能力</p>
<p style="text-indent:2em;">
	通信性能方面，FCE1100支持100Mbit/s高速以太网传输，通信周期可达50μs，较传统现场总线(如Profibus-DP)提升10倍以上，可满足博尔森R系列传感器在高速运动控制场景下的实时位置反馈需求。</p>
<p style="text-indent:2em;">
	多传感器组网能力显著增强，FCE1100的4个以太网端口可灵活配置为线型、星型、树型等拓扑结构，支持最多254个从站设备级联，适配博尔森传感器在大型生产线、多轴<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>等复杂系统中的批量应用，简化布线设计，降低系统集成成本。</p>
<p style="text-indent:2em;">
	分布式时钟同步精度达±1μs，可实现多台博尔森传感器的精准同步测量，在同步控制精度要求高的应用场景(如同步液压系统、多轴联动设备)中，大幅提升系统控制精度，减少同步误差导致的生产损耗。</p>
<p style="text-indent:2em;">
	三、批量应用实施要点与硬件设计方案</p>
<p style="text-indent:2em;">
	1. 硬件<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>方案</p>
<p style="text-indent:2em;">
	（1）核心电路连接</p>
<p style="text-indent:2em;">
	FCE1100与博尔森R系列传感器内置MCU的连接采用32位并行<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>或SPI接口，并行接口通信速率可达100MHz，SPI接口支持最高20MHz通信速率，确保位移数据的快速传输，避免通信延迟导致的测量滞后。</p>
<p style="text-indent:2em;">
	以太网接口设计上，FCE1100的4个端口可配置为2个主端口(MII/LVDS)用于EtherCAT总线连接，2个从端口用于扩展，端口需添加<a href="https://www.hqchip.com/app/1587" target="_blank"><u>TVS</u></a><a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>实现防雷击保护，添加共模扼流圈抑制电磁干扰，与博尔森传感器的<a href="https://www.elecfans.com/tags/emc/" target="_blank"><u>EMC</u></a>防护设计形成协同，确保在工业强干扰环境中稳定工作。</p>
<p style="text-indent:2em;">
	<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计采用5V/3.3V双电源供电，在VDD引脚添加10μF+0.1μF的去耦电容组合，降低电源纹波对芯片通信性能的影响，这一设计与博尔森传感器的低功耗电源方案相适配，有效减少系统发热。</p>
<p style="text-indent:2em;">
	（2）拓扑结构设计（多传感器组网）</p>
<p style="text-indent:2em;">
	在大型设备批量应用场景中，可采用FCE1100的线型拓扑结构实现多台博尔森R系列传感器的级联。具体连接方式为：将前级传感器FCE1100的输出端口与后级传感器的输入端口依次连接，所有传感器共享一条EtherCAT总线，通过分布式时钟实现精准同步。</p>
<p style="text-indent:2em;">
	这种设计可大幅减少上位控制器的<a href="https://www.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>占用，原本控制N台传感器需要N个以太网端口，采用EtherCAT总线后仅需1个端口，简化了系统集成设计，降低了硬件成本与故障率，特别适配博尔森多传感器协同工作的场景需求。</p>
<p style="text-indent:2em;">
	2. 软件<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>与配置流程</p>
<p style="text-indent:2em;">
	（1）基础初始化配置</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com//web3/M00/46/91/wKgZPGlhzbmAV3_KAAJvrMF9x5o616.png" alt="wKgZPGlhzbmAV3_KAAJvrMF9x5o616.png"/></p>
<p style="text-indent:2em;">
	软件初始化阶段需完成EtherCAT协议参数、分布式时钟、同步管理器等核心配置，确保芯片按博尔森R系列传感器需求工作。例如，若博尔森R系列传感器需配置为CoE协议，通信周期100μs，同步管理器SM0用于过程数据输入，SM1用于过程数据输出，可通过以下初始化流程实现：</p>
<p style="text-indent:2em;">
	配置FCE1100的网络参数，设置从站地址与通信速率</p>
<p style="text-indent:2em;">
	初始化分布式时钟，设置主站同步模式与同步周期</p>
<p style="text-indent:2em;">
	配置同步管理器SM0/SM1的缓冲区地址与大小</p>
<p style="text-indent:2em;">
	启用CoE协议，注册对象字典，映射位移数据到过程数据区</p>
<p style="text-indent:2em;">
	（2）批量生产校准方案</p>
<p style="text-indent:2em;">
	批量生产时的校准流程直接决定博尔森R系列传感器的测量精度与通信稳定性，需严格执行以下步骤：</p>
<p style="text-indent:2em;">
	位移校准：将传感器置于0mm、50%量程、100%量程三个位置，通过EtherCAT总线读取位置数据，修正线性误差，确保测量精度≤±0.01%FS</p>
<p style="text-indent:2em;">
	通信校准：测试传感器在不同通信周期(50μs、100μs、200μs)下的数据传输稳定性，确保无丢包、无延迟</p>
<p style="text-indent:2em;">
	同步校准：多台传感器级联时，通过分布式时钟同步功能校准各传感器的同步误差，确保同步精度≤±1μs</p>
<p style="text-indent:2em;">
	ESI文件配置：生成符合ETG规范的ESI文件，包含传感器型号、厂商信息、对象字典等，确保与上位控制器的无缝对接</p>
<p style="text-indent:2em;">
	借助FCE1100的FoE协议，可实现校准参数的批量下载，大幅提升博尔森传感器批量生产的校准效率，校准时间缩短60%以上。</p>
<p style="text-indent:2em;">
	3. 批量生产工艺优化</p>
<p style="text-indent:2em;">
	PCB布局设计需遵循“数字与<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>分离”原则，FCE1100芯片应靠近以太网接口，缩短<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>传输路径，减少信号衰减与干扰；数字地与模拟地分开布线，采用单点接地方式，降低数字电路噪声对通信信号的影响。</p>
<p style="text-indent:2em;">
	封装选择采用QFP-100封装，其散热性能优异，能适配博尔森R系列传感器的紧凑空间设计；若传感器应用于户外高温、高振动场景，可添加散热片进一步提升散热效果，确保芯片在极端环境下的稳定性。</p>
<p style="text-indent:2em;">
	防护设计方面，博尔森传感器外壳已确保防护等级达IP67，FCE1100芯片所在的PCB板需涂覆三防漆，增强抗粉尘、潮湿、油污的能力，与博尔森传感器的全密封防护设计形成协同，确保批量应用时的设备可靠性。</p>
<p style="text-indent:2em;">
	四、典型应用案例：博尔森R系列传感器批量改造（港口卸船机场景）</p>
<p style="text-indent:2em;">
	1. 应用背景</p>
<p style="text-indent:2em;">
	某港口<a href="https://www.elecfans.com/v/tag/1268/" target="_blank"><u>机械制造</u></a>商批量采购博尔森R系列EtherCAT磁致伸缩位移传感器，配套用于卸船机多组泥门液压缸行程检测。该系列传感器原采用进口倍福ET1100芯片，在批量生产与应用过程中暴露出诸多问题：一是芯片采购周期长，通常需要10-12周，严重影响生产计划的灵活性；二是成本压力大，单台传感器的EtherCAT芯片采购成本超120元，按年产5000台计算，仅芯片成本就达60万元；三是技术支持响应慢，进口厂商技术支持周期≥72小时，无法及时解决生产中的技术问题。</p>
<p style="text-indent:2em;">
	2. FCE1100替代方案实施</p>
<p style="text-indent:2em;">
	该制造商联合博尔森技术团队，对R系列传感器进行批量改造，采用FCE1100芯片替代进口ET1100。具体配置为：传感器型号选用博尔森R-0500，量程0-500mm，适配泥门液压缸行程；通信协议为EtherCAT CoE，通信周期100μs；传感器防护等级达IP67，可耐受液压油腐蚀；批量应用规模为5000台/年。</p>
<p style="text-indent:2em;">
	改造过程中，利用FCE1100与ET1100的pin-to-pin兼容特性，无需修改PCB板设计，仅替换芯片并更新固件即可完成升级，研发周期缩短至1个月，大幅降低了改造难度与成本。</p>
<p style="text-indent:2em;">
	3. 应用效果验证</p>
<p style="text-indent:2em;">
	成本控制方面，改造前单台博尔森R系列传感器EtherCAT芯片成本125元，改造后采用FCE1100仅需50元，单台成本降低60%，按年产5000台计算，年节省成本37.5万元，大幅缓解了批量生产的成本压力。</p>
<p style="text-indent:2em;">
	交付周期上，FCE1100芯片采购周期仅为2-4周，较进口芯片缩短70%，生产计划的灵活性显著提升，可快速响应客户的订单需求。</p>
<p style="text-indent:2em;">
	通信性能与同步精度得到大幅优化，改造前多传感器同步误差达±5μs，改造后同步精度≤±1μs，泥门开度控制精度提升5倍，卸料量控制更精准，年减少物料浪费超40吨，充分发挥了博尔森传感器±0.01%FS的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>优势。</p>
<p style="text-indent:2em;">
	设备可靠性也显著提升，改造前传感器年故障率2.8%，改造后降至0.6%，降低78.6%，售后服务成本与客户投诉率大幅减少，进一步巩固了博尔森传感器“稳定可靠”的市场口碑。</p>
<p style="text-indent:2em;">
	五、批量应用注意事项与风险控制</p>
<p style="text-indent:2em;">
	1. 关键技术风险规避</p>
<p style="text-indent:2em;">
	分布式时钟同步是批量应用的关键技术难点，需在生产过程中对每台博尔森传感器进行时钟校准，记录不同温度下的同步误差数据，通过MCU软件<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>实现温度补偿，确保传感器在全工况温度范围内同步精度稳定。</p>
<p style="text-indent:2em;">
	<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性方面，需在博尔森传感器电源输入端添加EMI<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，EtherCAT通信线采用屏蔽双绞线，减少工业现场电磁干扰对通信信号的影响，避免出现数据丢包、延迟等问题。</p>
<p style="text-indent:2em;">
	<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>安装误差也需严格控制，确保博尔森传感器测量杆与液压缸活塞的同轴度≤0.5mm，防止磁环磁场偏移影响位移测量精度，进而导致FCE1100传输数据失真，这一要求与博尔森传感器内置安装的技术规范完全契合。</p>
<p style="text-indent:2em;">
	2. 批量生产质量管控</p>
<p style="text-indent:2em;">
	芯片入厂检测环节，博尔森建立了严格的供应商审核机制，对每批次FCE1100芯片进行抽样测试，重点检测通信速率、同步精度、协议兼容性等核心指标，不合格批次禁止入库，从源头保障芯片质量。</p>
<p style="text-indent:2em;">
	生产过程中设置专门的通信性能测试工位，采用自动化测试设备检测FCE1100的EtherCAT通信性能，包括通信周期、同步精度、数据完整性等，及时发现芯片焊接不良、引脚虚焊等问题，避免故障产品流入下一道工序。</p>
<p style="text-indent:2em;">
	出厂全检环节，对每台博尔森传感器进行量程、线性、精度、通信性能等全项目测试，测试数据实时留存，建立完善的产品质量追溯体系，确保批量生产的产品质量一致性，符合博尔森“高品质、高可靠”的产品标准。</p>
<p style="text-indent:2em;">
	六、应用价值总结</p>
<p style="text-indent:2em;">
	FCE1100国产EtherCAT芯片在博尔森R系列磁致伸缩位移传感器批量应用中，实现了技术性能、供应链安全、成本控制三大核心目标的平衡。其与ET1100的pin-to-pin兼容特性大幅降低了批量改造的研发成本与周期，高速实时通信能力与分布式时钟同步功能强化了博尔森传感器的系统集成能力，国产身份保障了批量生产时的稳定供应，同时大幅降低了生产成本。</p>
<p style="text-indent:2em;">
	对于博尔森而言，采用FCE1100芯片不仅提升了其EtherCAT磁致伸缩传感器的市场竞争力，更完善了全链路国产化供应链体系，进一步强化了“国产高精度传感器领军品牌”的市场定位。对于港口机械、矿山设备、石油化工等领域的博尔森传感器用户而言，批量应用该方案可获得更具性价比、更稳定可靠的测量产品，降低运维成本。此次合作也为工业传感器通信模块的国产化替代提供了成功范例，助力行业实现自主可控、高效发展。</p>
<p style="text-indent:2em;">
	选型建议</p>
<p style="text-indent:2em;">
	博尔森高速实时控制场景（如多轴协同设备、同步液压系统，适配R系列）建议优先选择FCE1100芯片，确保通信实时性与同步精度；成本敏感型批量应用场景（如通用工业自动化，适配博尔森X系列通用型传感器），可搭配FCE1100的简化版FCE1000芯片，在满足基本通信需求的前提下进一步控制成本；多传感器大规模组网场景（如大型生产线、港口机械，适配博尔森R系列总线型传感器），应充分利用FCE1100的4端口设计与分布式时钟功能，简化系统集成设计，降低布线成本与故障率。</p>]]></description></item><item>    <title><![CDATA[TPC2201国产DAC芯片在博尔森磁致伸缩位移传感器批量应用]]></title>    <link>https://www.elecfans.com/d/7584288.html</link>    <guid>https://www.elecfans.com/d/7584288.html</guid>    <pubDate>2026-02-01 14:17:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	博尔森磁致伸缩位移<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>作为<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>领域的<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>测量设备，其<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>量输出模块的性能直接决定位移反馈精度与系统稳定性。传统方案多采用进口<a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>DAC</u></a>芯片(如<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>AD</u></a>5422)，存在供应链风险高、成本居高不下等问题。思瑞浦推出的TPC2201国产16位高精度DAC芯片，凭借全集成设计、HART协议支持、宽温工作范围及工业级可靠性，与博尔森磁致伸缩位移传感器的核心特性完美适配，成为博尔森传感器批量生产的理想选择，以下是详细应用解析。</p>
<p style="text-indent:2em;">
	一、TPC2201 DAC芯片核心特性与博尔森传感器适配性</p>
<p style="text-indent:2em;">
	TPC2201芯片核心技术参数及博尔森传感器适配价值</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com//web3/M00/46/8F/wKgZO2lhztCAHGfaAAFiXqXKqJw983.png" alt="wKgZO2lhztCAHGfaAAFiXqXKqJw983.png"/></p>
<p style="text-indent:2em;">
	从分辨率来看，TPC2201具备16位高精度，拥有65536个刻度，这一性能可充分满足博尔森磁致伸缩位移传感器±0.01%FS的精度要求，能够支持≤0.5μm的微小位移精准反馈，与博尔森传感器的微米级测量能力形成完美匹配，确保位移测量的细腻度与准确性。在输出类型上，该芯片支持单通道0-20mA/4-20mA<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>输出，同时兼容±10V/0-10V/0-5V电压输出，可直接适配工业标准模拟量<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，无需额外添加<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>转换模块就能对接<a href="https://bbs.elecfans.com/group_999" target="_blank"><u>PLC</u></a>/<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>S系统，完美契合博尔森传感器对多类型信号输出的兼容需求，简化了传感器与<a href="https://m.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>的集成流程。</p>
<p style="text-indent:2em;">
	精度表现方面，TPC2201在25℃环境下总不可调整误差≤0.06%FSR，电流输出温漂低至±5.5ppm FSR/°C，电压输出温漂更是仅为±1.5ppm FSR/°C，如此优异的温漂特性可确保博尔森传感器在-40℃~85℃的宽温环境中测量精度稳定。博尔森传感器本身具备-40℃~150℃的宽温工作能力，搭配TPC2201后，可进一步提升全温区精度稳定性，有效避免温度变化导致的位移误差，适配户外、工业炉窑等复杂温度工况。<a href="https://www.elecfans.com/v/tag/13179/" target="_blank"><u>通信接口</u></a>采用SPI协议，且支持菊花链模式，这一设计能简化博尔森多传感器组网的布线工作，降低批量生产时<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>板的设计复杂度，提升生产效率。</p>
<p style="text-indent:2em;">
	保护功能上，芯片集成了电压输出短路保护、150℃过温报警功能，同时具备片上报警与CRC校验机制，这些功能可显著提升博尔森传感器的抗故障能力，与博尔森传感器IP67/IP68的高防护等级形成互补，符合工业设备安全标准，能有效降低批量生产后的设备故障率。工作温度范围覆盖-40℃~125℃，完全可以匹配博尔森传感器的全场景应用需求;封装形式提供TPSSOP-24与QFN-20两种选择，可适配博尔森不同尺寸传感器的设计需求，无论是博尔森MHM/MHT系列内置式传感器的紧凑空间，还是GB系列外置式传感器的安装方案都能满足。</p>
<p style="text-indent:2em;">
	与博尔森磁致伸缩传感器的完美适配逻辑</p>
<p style="text-indent:2em;">
	博尔森磁致伸缩传感器的工作核心流程为“位移→时间测量→<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>→DAC转换→模拟量输出”，TPC2201在这一流程中承担着关键的数模转换与信号输出角色。具体来看，博尔森传感器通过波导丝与磁环的磁场交互完成位移检测后，由传感器内置<a href="https://m.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>(如<a href="https://www.elecfans.com/v/tag/751/" target="_blank"><u>STM32</u></a>F4系列)输出绝对位置数字信号(如SSI协议数据)，TPC2201接收该数字信号后，将其高精度转换为4-20mA等工业标准模拟量信号，直接供给PLC/DCS系统使用。</p>
<p style="text-indent:2em;">
	同时，芯片集成的HART协议可实现博尔森传感器参数的远程配置与故障诊断，比如远程完成零点校准、量程设置等操作，无需现场<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>设备，这与博尔森传感器“调试便捷、诊断高效”的设计理念高度契合。此外，片上集成的多重保护功能，能保障博尔森传感器在过载、短路、高温等异常工况下安全运行，避免因芯片损坏导致的测量中断，进一步强化了博尔森传感器“稳定可靠、长寿命”的核心优势。</p>
<p style="text-indent:2em;">
	二、TPC2201在博尔森传感器中的应用优势</p>
<p style="text-indent:2em;">
	全链路国产化协同，保障供应链安全</p>
<p style="text-indent:2em;">
	TPC2201作为国产芯片，可与博尔森磁致伸缩传感器的国产化核心<a href="https://www.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>形成完整的国产供应链体系。博尔森传感器已实现波导丝、换能器、MCU等核心部件的全国产化，搭配TPC2201国产DAC芯片后，彻底摆脱对进口DAC芯片的依赖，解决工业传感器核心元器件“卡脖子”问题。在批量生产场景下，TPC2201交付周期稳定，通常不超过4周，结合博尔森成熟的生产体系，能有效保障生产计划的顺利推进，降低因芯片短缺导致的生产停滞风险。</p>
<p style="text-indent:2em;">
	成本优化，提升博尔森传感器批量竞争力</p>
<p style="text-indent:2em;">
	成本控制方面，TPC2201的采购成本较进口AD5422降低30%-50%，按博尔森年产10万台传感器计算，仅DAC芯片环节就能年节省采购成本超500万元，大幅降低批量生产的物料成本压力。设计成本上，芯片片上集成了基准电压源、输出<a href="https://www.elecfans.com/tags/放大器/" target="_blank"><u>放大器</u></a>、<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>等多个功能模块，无需额外外接大量元器件，可减少博尔森传感器PCB板上至少15个元器件的使用，不仅降低了BOM成本，还简化了硬件设计流程，缩短了产品研发周期。</p>
<p style="text-indent:2em;">
	测试成本也能得到有效优化，TPC2201内置的自校准功能与CRC校验机制，可简化博尔森传感器批量生产时的出厂测试流程，无需额外搭建复杂的校准与检测平台，测试效率提升30%以上，契合博尔森“高效量产、品质可控”的生产需求。</p>
<p style="text-indent:2em;">
	性能升级，强化博尔森传感器环境适应性</p>
<p style="text-indent:2em;">
	抗干扰能力方面，SPI<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>接口的CRC校验功能可有效抵御工业现场<a href="https://www.elecfans.com/v/tag/2471/" target="_blank"><u>变频器</u></a>、液压泵等设备产生的电磁干扰，避免数字信号传输过程中出现错误，确保博尔森传感器位移反馈数据的准确性。这与博尔森传感器内置的抗电磁干扰设计形成双重保障，使传感器在复杂工业环境中仍能稳定工作。</p>
<p style="text-indent:2em;">
	宽温稳定输出特性使其能在-40℃~125℃的极端温度环境下稳定工作，搭配博尔森传感器的宽温设计，在港口、矿山等户外低温场景，或工业炉窑周边的高温环境中，都能保持测量精度不漂移。此外，芯片的故障自诊断功能可实时监测输出信号异常，配合博尔森传感器的<a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a>故障状态指示功能，实现故障快速定位，降低批量应用时的设备维护难度与售后成本。</p>
<p style="text-indent:2em;">
	三、批量应用实施要点与硬件设计方案</p>
<p style="text-indent:2em;">
	硬件<a href="https://www.elecfans.com/v/tag/167/" target="_blank"><u>电路设计</u></a>方案</p>
<p style="text-indent:2em;">
	(1)核心电路连接</p>
<p style="text-indent:2em;">
	<img src="https://file1.elecfans.com//web3/M00/46/91/wKgZPGlhztCAfyu1AAHOiR0axeM042.png" alt="wKgZPGlhztCAfyu1AAHOiR0axeM042.png"/></p>
<p style="text-indent:2em;">
	SPI通信接口设计上，TPC2201的SCK、<a href="https://www.elecfans.com/tags/sdi/" target="_blank"><u>SDI</u></a>、<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>O、CS引脚需与博尔森传感器内置MCU(如STM32F4系列)的对应引脚直接连接，该接口支持最高10MHz的通信速率，能确保位移数据的实时转换与传输，避免因通信延迟导致的测量滞后。模拟量输出端，电流输出引脚(IOUT)需通过0.1μF滤波<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>接地，以减少高频噪声对输出信号的干扰;电压输出引脚(VOUT)则需串联100Ω限流<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>，防止短路时过大电流损坏芯片。</p>
<p style="text-indent:2em;">
	<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计采用5V/3.3V双电源供电，在VDD引脚添加10μF+0.1μF的去耦电容组合，确保电源输出稳定，降低电源纹波对数模转换精度的影响，这一设计与博尔森传感器的低功耗电源方案相适配，有效减少系统发热。</p>
<p style="text-indent:2em;">
	(2)菊花链模式应用(多传感器组网)</p>
<p style="text-indent:2em;">
	在港口卸船机、盾构机等多执行机构的批量应用场景中，可通过TPC2201的菊花链功能实现单MCU控制多台博尔森传感器，大幅优化布线设计。具体连接方式为：将前级博尔森传感器TPC2201的SDO引脚与后级传感器的SDI引脚依次连接，所有传感器共享一条SCK<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>线，通过独立的CS引脚实现片选控制。这种设计可显著减少MCU IO口的占用量，原本控制N台传感器需要4×N个IO口，采用菊花链模式后仅需4+N个IO口，简化了批量生产时的布线复杂度，降低了PCB板设计成本与故障率，特别适配博尔森多传感器协同工作的场景需求。</p>
<p style="text-indent:2em;">
	软件<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>与校准流程</p>
<p style="text-indent:2em;">
	(1)基础初始化配置</p>
<p style="text-indent:2em;">
	软件初始化阶段需完成输出类型、量程、保护功能等核心参数的配置，确保芯片按博尔森传感器需求工作。例如，若博尔森MHM系列传感器需输出4-20mA电流信号，适配0-500mm量程，同时启用CRC校验与过温报警功能，可通过以下初始化函数实现(代码示例)：</p>
<p style="text-indent:2em;">
	// TPC2201初始化函数示例(适配博尔森MHM系列传感器)</p>
<p style="text-indent:2em;">
	void TPC2201_Init(void) { // 配置输出类型为4-20mA电流输出</p>
<p style="text-indent:2em;">
	TPC2201_Wri<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>Reg(0x01, 0x0001); // 配置量程为0-500mm(对应4-20mA，适配博尔森MHM-0500型号) TPC2201_WriteReg(0x02, 0x01F4); // 启用CRC校验与过温报警</p>
<p style="text-indent:2em;">
	TPC2201_WriteReg(0x03, 0x8001); }</p>
<p style="text-indent:2em;">
	(2)批量生产校准方案</p>
<p style="text-indent:2em;">
	批量生产时的校准流程直接决定博尔森传感器的测量精度，需严格执行零点校准、满量程校准与线性校准三个核心步骤。零点校准阶段，将博尔森传感器置于全关位置(0mm)，向TPC2201写入对应数字量(如0x0000)，确保芯片输出标准的4mA信号;满量程校准阶段，将传感器置于全开位置(如500mm)，写入对应数字量(如0xFFFF)，确保输出20mA标准信号;线性校准采用三点校准法，分别对0%、50%、100%三个开度位置进行校准，修正传感器的线性误差。借助TPC2201的16位高分辨率，可实现精细校准，确保博尔森传感器线性精度≤±0.01%FS，符合其高精度测量的产品定位。</p>
<p style="text-indent:2em;">
	批量生产工艺优化</p>
<p style="text-indent:2em;">
	PCB布局设计需遵循“模拟与数字分离”的原则，TPC2201芯片应靠近博尔森传感器模拟量输出接口，缩短信号传输路径，减少信号衰减与干扰;数字地与模拟地分开布线，采用单点接地方式，降低数字电路噪声对模拟量输出的影响。封装选择需结合博尔森传感器安装场景，批量生产时优先选择QFN-20封装，其体积仅为3mm×3mm，能适配博尔森MHM/MHT系列内置式传感器的紧凑空间;若传感器应用于户外高温、高振动场景，可选择TPSSOP-24封装，其散热性能更优，能提升芯片在极端环境下的稳定性，适配博尔森GB系列<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>抗振型传感器的应用需求。</p>
<p style="text-indent:2em;">
	防护设计方面，博尔森传感器外壳已确保防护等级达IP67，TPC2201芯片所在的PCB板需涂覆三防漆，增强抗粉尘、潮湿、油污的能力，避免工业恶劣环境对芯片造成腐蚀或短路，与博尔森传感器的全密封防护设计形成协同，确保批量应用时的设备可靠性。</p>
<p style="text-indent:2em;">
	四、典型应用案例：博尔森MHM系列传感器批量改造(泥门液压缸场景)</p>
<p style="text-indent:2em;">
	应用背景</p>
<p style="text-indent:2em;">
	某港口<a href="https://www.elecfans.com/v/tag/1268/" target="_blank"><u>机械制造</u></a>商批量采购博尔森MHM系列内置式磁致伸缩传感器，配套用于卸船机泥门液压缸行程检测。该系列传感器原采用进口AD5422 DAC芯片，在批量生产与应用过程中暴露出诸多问题：一是芯片采购周期长，通常需要8-10周，严重影响生产计划的灵活性，经常出现因芯片短缺导致的产能闲置;二是成本压力大，单台传感器的DAC芯片采购成本超80元，按年产5000台计算，仅芯片成本就达40万元;三是性能稳定性不足，部分批次芯片存在温漂超标问题，在冬季低温环境下，泥门开度反馈误差达±2%，影响卸料量控制精度，增加了物料浪费与设备过载风险。</p>
<p style="text-indent:2em;">
	TPC2201替代方案实施</p>
<p style="text-indent:2em;">
	该制造商联合博尔森技术团队，对MHM系列传感器进行批量改造，采用TPC2201 DAC芯片替代进口AD5422。具体配置为：传感器型号选用博尔森MHM-0500，量程0-500mm，适配泥门液压缸的实际行程;输出信号选用4-20mA电流输出，对应0-100%泥门开度;传感器防护等级达IP67，可耐受液压油腐蚀;批量应用规模为5000台/年。改造过程中，同步完成了传感器硬件电路的重新设计、软件校准流程的优化，以及生产工艺的调整，确保TPC2201芯片与博尔森传感器的波导丝、换能器等核心部件完美适配。</p>
<p style="text-indent:2em;">
	应用效果验证</p>
<p style="text-indent:2em;">
	成本控制方面，改造前单台博尔森MHM传感器DAC芯片成本82元，改造后采用TPC2201仅需38元，单台成本降低53.7%，按年产5000台计算，年节省成本22万元，大幅缓解了批量生产的成本压力。交付周期上，TPC2201芯片采购周期仅为2-4周，较进口芯片缩短60%，生产计划的灵活性显著提升，可快速响应客户的订单需求。</p>
<p style="text-indent:2em;">
	测量精度得到大幅优化，改造前低温环境下开度反馈误差达±2%，改造后全温范围误差≤±0.5%，精度提升4倍，泥门卸料量控制更精准，年减少物料浪费超30吨，充分发挥了博尔森传感器±0.01%FS的高精度优势。设备可靠性也显著提升，改造前传感器年故障率3.2%，改造后降至0.8%，降低75%，售后服务成本与客户投诉率大幅减少，进一步巩固了博尔森传感器“稳定可靠”的市场口碑。</p>
<p style="text-indent:2em;">
	五、批量应用注意事项与风险控制</p>
<p style="text-indent:2em;">
	关键技术风险规避</p>
<p style="text-indent:2em;">
	温漂补偿是批量应用的关键技术难点，需在生产过程中对每台博尔森传感器进行-40℃~85℃的全温区校准，记录不同温度下的误差数据，结合TPC2201的温漂特性，通过MCU软件<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>实现二次温度补偿，确保传感器在全工况温度范围内测量精度稳定，匹配博尔森传感器的宽温工作需求。<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性方面，需在博尔森传感器电源输入端添加EMI<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，SPI通信线采用屏蔽双绞线，减少工业现场电磁干扰对DAC输出信号的影响，避免出现信号跳变、失真等问题。</p>
<p style="text-indent:2em;">
	<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>安装误差也需严格控制，确保博尔森传感器测量杆与液压缸活塞的同轴度≤0.5mm，防止磁环磁场偏移影响位移测量精度，进而导致TPC2201输出信号失真。这一要求与博尔森传感器内置安装的技术规范完全契合，可通过标准化安装工装保障实施。</p>
<p style="text-indent:2em;">
	批量生产质量管控</p>
<p style="text-indent:2em;">
	芯片入厂检测环节，博尔森建立了严格的供应商审核机制，对每批次TPC2201芯片进行抽样测试，重点检测精度、温漂、输出稳定性等核心指标，不合格批次禁止入库，从源头保障芯片质量。生产过程中设置专门的PCB板测试工位，采用自动化测试设备检测TPC2201的通信接口与模拟量输出性能，及时发现焊接不良、引脚虚焊等问题，避免故障产品流入下一道工序。</p>
<p style="text-indent:2em;">
	出厂全检环节，对每台博尔森传感器进行量程、线性、精度、温漂等全项目测试，测试数据实时留存，建立完善的产品质量追溯体系，确保批量生产的产品质量一致性，符合博尔森“高品质、高可靠”的产品标准。</p>
<p style="text-indent:2em;">
	六、应用价值总结</p>
<p style="text-indent:2em;">
	TPC2201国产DAC芯片在博尔森磁致伸缩位移传感器批量应用中，实现了技术性能、供应链安全、成本控制三大核心目标的平衡。其16位高精度转换能力可充分匹配博尔森传感器的高精度测量需求，全集成设计简化了硬件开发流程与生产工艺，国产身份保障了批量生产时的稳定供应，同时大幅降低了生产成本。</p>
<p style="text-indent:2em;">
	对于博尔森而言，采用TPC2201芯片不仅提升了其磁致伸缩传感器的市场竞争力，更完善了全链路国产化供应链体系，进一步强化了“国产高精度传感器领军品牌”的市场定位。对于港口机械、矿山设备、石油化工等领域的博尔森传感器用户而言，批量应用该方案可获得更具性价比、更稳定可靠的测量产品，降低运维成本。此次合作也为工业传感器核心元器件的国产化替代提供了成功范例，助力行业实现自主可控、高效发展。</p>
<p style="text-indent:2em;">
	选型建议</p>
<p style="text-indent:2em;">
	博尔森高精度应用场景(如阀门开度控制、液压缸行程检测，适配MHM/MHT系列)建议优先选择TPC2201(16位)，确保测量精度与稳定性;成本敏感型批量应用场景(如通用机械位移检测，适配博尔森X系列通用型传感器)，可搭配TPC2200(12位)芯片，在满足基本精度需求的前提下进一步控制成本;多传感器组网场景(如多缸协同控制，适配博尔森GB系列、R系列总线型传感器)，应充分利用TPC2201的菊花链功能，简化系统集成设计，降低布线成本与故障率。</p>]]></description></item><item>    <title><![CDATA[拉绳位移传感器中编码器与电位器的核心区别]]></title>    <link>https://www.elecfans.com/d/7584289.html</link>    <guid>https://www.elecfans.com/d/7584289.html</guid>    <pubDate>2026-02-01 14:20:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	拉绳位移<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>的核心是通过拉绳牵引卷筒旋转，将直线位移转化为旋转运动，再由旋转检测元件（<a href="https://www.elecfans.com/tags/编码器/" target="_blank"><u>编码器</u></a>或<a href="https://www.hqchip.com/app/1261" target="_blank"><u>电位器</u></a>）输出位移<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。两者的本质差异源于测量原理的不同——电位器是接触式<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>测量，编码器是非接触式数字测量，这直接决定了它们在精度、寿命、环境适应性等关键维度的表现，以下是详细对比分析：</p>
<p style="text-indent:2em;">
	一、核心测量原理与结构差异</p>
<p style="text-indent:2em;">
	1. 电位器式拉绳传感器（拉线电位器）</p>
<p style="text-indent:2em;">
	其检测核心是多圈绕线电位器或薄膜电位器，属于接触式测量：</p>
<p style="text-indent:2em;">
	卷筒旋转时，带动电位器的电刷在<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>膜上同步滑动，通过改变电刷与电阻膜的接触位置，输出与位移成正比的模拟电压信号（如0-10V、1-5V）。</p>
<p style="text-indent:2em;">
	结构上无复杂电子元件，仅由拉绳、卷筒、弹簧复位机构和电位器组成，原理简单、体积小巧、成本低廉。</p>
<p style="text-indent:2em;">
	核心局限在于电刷与电阻膜的物理接触，这是后续磨损、寿命缩短的根本原因。</p>
<p style="text-indent:2em;">
	2. 编码器式拉绳传感器（拉线编码器）</p>
<p style="text-indent:2em;">
	其检测核心是旋转编码器（<a href="https://www.elecfans.com/v/tag/4854/" target="_blank"><u>光学</u></a>或磁性原理），属于非接触式测量：</p>
<p style="text-indent:2em;">
	卷筒旋转时，带动编码器的码盘（光学码盘或磁性码盘）转动，编码器通过读取码盘的刻度信息，输出数字脉冲信号（增量式编码器，A/B/Z相）或绝对位置信号（绝对式编码器，SSI、Profinet、EtherCAT等）。</p>
<p style="text-indent:2em;">
	结构上在拉线电位器基础上，用编码器替代电位器，光学编码器需搭配<a href="https://www.elecfans.com/v/tag/2800/" target="_blank"><u>光电</u></a>发射/接收元件，磁性编码器需搭配磁头，电子结构更复杂。</p>
<p style="text-indent:2em;">
	核心优势在于编码器传感元件无物理接触（码盘与读取元件不接触），从根源上避免了磨损问题。</p>
<p style="text-indent:2em;">
	二、关键性能与特性对比</p>
<p style="text-indent:2em;">
	1. 测量精度与分辨率</p>
<p style="text-indent:2em;">
	电位器式：精度受电阻膜一致性、电刷接触稳定性影响，通常为±0.5%~±1%FS，分辨率较低（由电阻膜的刻线密度决定，一般为满量程的0.1%~0.5%），且随着电刷磨损，精度会逐渐漂移。</p>
<p style="text-indent:2em;">
	编码器式：精度由编码器的码盘精度决定，光学编码器精度可达±0.01%~±0.1%FS，磁性编码器可达±0.1%~±0.3%FS；分辨率极高，增量式编码器可做到微米级（如每转10000脉冲），绝对式编码器分辨率由位数决定（如16位对应65536个刻度），且精度长期稳定，不受磨损影响。</p>
<p style="text-indent:2em;">
	2. 使用寿命与可靠性</p>
<p style="text-indent:2em;">
	电位器式：寿命完全由电刷磨损速度决定，低频次使用场景（如每天≤10次循环）下，寿命约10万~50万次；高频次往复场景（如自动化生产线）下，寿命可能缩短至1万次以内，电刷磨损后会出现信号跳变、输出不稳定，甚至完全失效。</p>
<p style="text-indent:2em;">
	编码器式：编码器传感元件无磨损，寿命由<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>结构（拉绳、卷筒、弹簧）决定，非接触式光学/磁性编码器的<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>寿命可达1000万次以上，部分工业级型号甚至支持2000万次循环，在高频次工况下可靠性远超电位器式。</p>
<p style="text-indent:2em;">
	3. 抗干扰能力与信号稳定性</p>
<p style="text-indent:2em;">
	电位器式：输出模拟电压信号，抗电磁干扰能力弱，工业现场的<a href="https://www.elecfans.com/v/tag/2471/" target="_blank"><u>变频器</u></a>、<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>等设备产生的电磁噪声，会导致信号漂移、波动，需额外加装屏蔽电缆和滤波电路，否则无法稳定工作。</p>
<p style="text-indent:2em;">
	编码器式：输出<a href="https://m.hqchip.com/app/1381" target="_blank"><u>数字信号</u></a>（脉冲或总线），抗电磁干扰能力强，信号传输过程中不易受噪声影响，无需复杂滤波即可稳定传输，尤其适合多设备组网的工业场景（如通过Profinet/EtherCAT总线传输数据）。</p>
<p style="text-indent:2em;">
	4. 环境适应性</p>
<p style="text-indent:2em;">
	电位器式：对环境敏感，粉尘、油污会附着在电阻膜表面，导致电刷接触不良；潮湿环境易造成电阻膜腐蚀；高温会加速电阻膜老化，仅适用于洁净、干燥、常温的场景（如实验室简易设备）。</p>
<p style="text-indent:2em;">
	编码器式：工业级编码器通常具备IP65~IP67防护等级，光学编码器可通过密封设计隔绝粉尘油污，磁性编码器耐粉尘、抗振动能力更强；工作温度范围可达-40℃~85℃，能适应车间、矿山、港口等恶劣工业环境。</p>
<p style="text-indent:2em;">
	5. 输出信号与系统适配性</p>
<p style="text-indent:2em;">
	电位器式：仅支持模拟量输出（0-10V电压、4-20mA<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>），适配传统<a href="https://bbs.elecfans.com/group_999" target="_blank"><u>PLC</u></a>的模拟量输入模块，无法直接接入数字<a href="https://m.elecfans.com/v/tag/8966/" target="_blank"><u>控制系统</u></a>，且不支持远程参数配置和故障诊断。</p>
<p style="text-indent:2em;">
	编码器式：输出信号灵活，增量式编码器支持A/B/Z脉冲输出，绝对式编码器支持SSI同步串行信号、Profinet/EtherCAT总线信号，可直接对接运动<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>、数字PLC，支持远程监控、固件升级和故障自诊断，适配智能化<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>系统。</p>
<p style="text-indent:2em;">
	三、维护需求与成本对比</p>
<p style="text-indent:2em;">
	1. 维护成本</p>
<p style="text-indent:2em;">
	电位器式：维护频繁，需定期清洁电阻膜表面的粉尘油污，电刷磨损后需整体更换电位器，长期使用的维护成本较高；且故障后需现场拆机更换，影响设备运行效率。</p>
<p style="text-indent:2em;">
	编码器式：基本无需电气维护，仅需定期检查机械结构（如拉绳张力、卷筒磨损、弹簧疲劳），拉绳断裂后可单独更换拉绳，无需更换编码器核心部件，长期维护成本低。</p>
<p style="text-indent:2em;">
	2. 采购成本</p>
<p style="text-indent:2em;">
	电位器式：硬件成本低，单台价格通常为编码器式的1/3~1/5，适合成本敏感、低频次使用的场景。</p>
<p style="text-indent:2em;">
	编码器式：硬件成本高，尤其是绝对式总线型编码器，价格远高于电位器式，但高频次、长寿命的特性可降低长期使用的综合成本（减少停机和更换次数）。</p>
<p style="text-indent:2em;">
	四、适用场景对比</p>
<p style="text-indent:2em;">
	1. 电位器式拉绳传感器适用场景</p>
<p style="text-indent:2em;">
	实验室简易位移测量、教学设备；</p>
<p style="text-indent:2em;">
	成本敏感、低频次动作的民用设备（如小型升降平台、手动调节装置）；</p>
<p style="text-indent:2em;">
	洁净、干燥、无电磁干扰的轻载场景。</p>
<p style="text-indent:2em;">
	2. 编码器式拉绳传感器适用场景</p>
<p style="text-indent:2em;">
	<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>生产线、高频次往复运动设备（如<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>、分拣线）；</p>
<p style="text-indent:2em;">
	恶劣工业环境（粉尘、油污、高温、振动），如工程机械臂、港口闸门、矿山设备；</p>
<p style="text-indent:2em;">
	<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>位移控制、多设备组网同步控制场景（如同步液压系统、多轴联动设备）。</p>
<p style="text-indent:2em;">
	总结</p>
<p style="text-indent:2em;">
	拉绳位移传感器中电位器与编码器的选择，核心是平衡成本与工况需求：</p>
<p style="text-indent:2em;">
	</p>
<p style="text-indent:2em;">
	若追求低成本、低频次使用，且环境洁净，电位器式是经济之选；</p>
<p style="text-indent:2em;">
	若需高频次、高精度、长寿命运行，或适配恶劣工业环境与智能化系统，编码器式是唯一可靠选择。</p>
<p style="text-indent:2em;">
	从工业自动化的发展趋势来看，编码器式拉绳传感器凭借数字信号、高可靠性的优势，正在逐步替代电位器式传感器，成为工业位移测量的主流方案。</p>]]></description></item><item>    <title><![CDATA[电液伺服作动器为何标配磁致伸缩位移传感器]]></title>    <link>https://www.elecfans.com/d/6976406.html</link>    <guid>https://www.elecfans.com/d/6976406.html</guid>    <pubDate>2026-02-01 14:22:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	电液伺服作动器之所以标配磁致伸缩位移<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>，主要原因在于作动器本身需要实现<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>、稳定和可靠的闭环控制，而磁致伸缩位移传感器正好具备这些关键特性：</p>
<p style="text-indent:2em;">
	1. 闭环控制的必要条件</p>
<p align="center">
	<img src="https://file1.elecfans.com//web3/M00/2B/73/wKgZPGisPW2AaAZRAANEWT6btMg946.jpg" style="width:500px;height:281px;" alt="wKgZPGisPW2AaAZRAANEWT6btMg946.jpg"/></p>
<p style="text-indent:2em;">
	电液伺服作动器由电信号控制伺服阀/比例阀，驱动液压缸直线运动。</p>
<p style="text-indent:2em;">
	若没有位移反馈，系统只能“开环”，只能发出流量/压力指令，却无法精确知道阀杆或活塞位置 → 会导致定位误差、滞后和漂移。</p>
<p style="text-indent:2em;">
	磁致伸缩位移传感器提供绝对位置反馈，让<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>(<a href="https://bbs.elecfans.com/group_999" target="_blank"><u>PLC</u></a>/<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>S/伺服<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>)能够实时对比目标位置和实际位置，形成闭环伺服系统，实现高精度定位。</p>
<p style="text-indent:2em;">
	2. 为什么必须用磁致伸缩而不是其他传感器</p>
<p align="center">
	<img src="https://file1.elecfans.com//web3/M00/2B/84/wKgZO2isPW2AXkdaAAL3G9Xwp7A788.jpg" style="width:500px;height:500px;" alt="wKgZO2isPW2AXkdaAAL3G9Xwp7A788.jpg"/></p>
<p style="text-indent:2em;">
	非接触测量：磁环与波导杆磁<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>，无<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>摩擦，寿命长，适合伺服系统长期连续运行。</p>
<p style="text-indent:2em;">
	绝对式反馈：掉电重启无需回零，不会丢失阀门位置，对关键阀门尤为重要。</p>
<p style="text-indent:2em;">
	高精度 &amp; 高分辨率：可达微米级，满足电厂、石化等场合对阀位 0.1%FS 甚至更高的控制要求。</p>
<p style="text-indent:2em;">
	抗干扰能力强：支持 4–20 mA、SSI、Profibus、Profinet、EtherCAT 等工业<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，能在强电磁干扰的电液环境中稳定传输。</p>
<p style="text-indent:2em;">
	耐<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>/高温环境：可直接内置于液压缸中，防护等级 IP67/IP68，耐压封装确保在高压油腔内可靠工作。</p>
<p style="text-indent:2em;">
	3. 电液伺服作动器的典型应用需求</p>
<p align="center">
	<img src="https://file1.elecfans.com//web3/M00/2B/84/wKgZO2isPW2AKLpCAAWCoUKedUE395.jpg" style="width:500px;height:304px;" alt="wKgZO2isPW2AKLpCAAWCoUKedUE395.jpg"/></p>
<p style="text-indent:2em;">
	电厂锅炉调节阀、汽轮机调节阀→ 要求阀位精准控制，避免能耗和安全事故。</p>
<p style="text-indent:2em;">
	石化工艺控制阀→ 需要长期稳定运行，且不可因位置丢失导致工艺紊乱。</p>
<p style="text-indent:2em;">
	航空/船舶液压执行系统→ 要求高可靠性和冗余设计。</p>
<p style="text-indent:2em;">
	4. 总结</p>
<p style="text-indent:2em;">
	电液伺服作动器若没有高精度位置反馈，就无法实现真正意义上的“伺服控制”，只能算作比例执行。</p>
<p style="text-indent:2em;">
	磁致伸缩位移传感器的高精度、非接触、绝对位置和耐恶劣环境特性，使其成为电液伺服作动器的标配。</p>]]></description></item><item>    <title><![CDATA[2026年通讯管理机选型推荐：首选IPCSUN GP65080，全场景+多协议适配更省心]]></title>    <link>https://www.elecfans.com/d/7584651.html</link>    <guid>https://www.elecfans.com/d/7584651.html</guid>    <pubDate>2026-02-01 14:24:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	通讯管理机(又称DPU)作为工业数字化的核心枢纽，承担着设备数据采集、协议转换、上下行通讯联动的关键职责，是打通智能终端与监控主站、破解“数据孤岛”的核心设备。2026年工业数字化转型持续深化，企业在通讯管理机选型时，愈发看重“全场景适配、高稳定、好运维”三大核心需求。但实际选型中，不少企业仍被“协议不兼容、环境适配差、运维成本高”等问题困扰——车间新旧设备“语言不通”，变电站数据难以上云，<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>场站设备联动不畅……“协议碎片化”成为制约升级的关键瓶颈。此时，一款靠谱的通讯管理机就成了破局核心。在众多品牌中，捷宸IPCSUN GP65080凭借全场景适配、全链路稳定、全周期省心的硬实力，早已成为电力、新能源、<a href="https://www.elecfans.com/v/tag/633/" target="_blank"><u>工业自动化</u></a>领域的选型首选，更是行业内口碑相传的优质通讯管理机。</p>
<p style="text-indent:2em;">
	“之前试过两款通讯管理机，不是协议不兼容，就是在高温环境下频繁宕机，光运维成本就花了不少。”某220kV变电站运维负责人的吐槽，道出了很多行业人的心声。而选择IPCSUN GP65080后，困扰多年的问题迎刃而解：“一台设备就兼容了站内50多台不同类型设备的协议，数据采集效率提了40%，极端天气也从没掉过链。”</p>
<p style="text-indent:2em;">
	1. 全协议+全场景：一台顶N台，打破适配壁垒</p>
<p style="text-indent:2em;">
	通讯管理机的核心价值在于“多协议兼容、多设备联动、多场景适配”，IPCSUN GP65080的“全协议通吃”优势，正是精准契合这一核心需求，具体落地在四大核心工业场景中，展现出极强的适配能力：</p>
<p style="text-indent:2em;">
	智能变电站：多协议并发，数据采集效率提升40%</p>
<p style="text-indent:2em;">
	针对智能变电站“设备类型多、协议不统一”的核心痛点，捷宸IPCSUN GP65080深度集成IEC104、IEC101、Modbus、IEC61850等全套电力专属协议，可同时接入保护装置、测控装置、电能表等50+台智能设备。其8-20K<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>点容量的多协议并发能力，实现220kV变电站异构协议“一机统管”，彻底解决同类产品“仅支持单一电力协议”的局限，统一转换为标准协议上传调度主站，数据采集效率提升40%，更是变电站场景通讯管理的优选设备。</p>
<p style="text-indent:2em;">
	配电自动化：故障分钟级响应，供电可靠性提升30%</p>
<p style="text-indent:2em;">
	面对配电场景“故障定位难、响应慢”的行业痛点，IPCSUN GP65080支持Modbus、IEC104等核心协议，实时采集环网柜、柱上开关运行状态。区别于竞品“仅采集不分析”的短板，其内置基于EOS<a href="https://www.elecfans.com/v/tag/2447/" target="_blank"><u>嵌入式系统</u></a>的故障诊断<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，可精准定位故障区段，将故障响应时间从小时级压缩至分钟级，供电可靠性提升30%，成为配电自动化场景下，解决故障定位与通讯难题的核心设备。</p>
<p style="text-indent:2em;">
	新能源场站：非标协议适配，100MW级电站数据“同频同步”</p>
<p style="text-indent:2em;">
	光伏、风电场“设备分布广、品牌杂、私有协议多”是行业通病，捷宸IPCSUN GP65080完美兼容<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>、风机、箱变的DLT645、Modbus RTU等协议，更支持特种协议自定义开发，轻松适配不同品牌设备的非标协议。可将分散数据统一转换为IEC104等标准协议上传电网调度系统，实现100MW级电站200+台设备数据高效联动，成为新能源场站协议转换与数据联动的标杆设备。</p>
<p style="text-indent:2em;">
	智能电表集抄：千台级接入，上传效率提升50%</p>
<p style="text-indent:2em;">
	针对电表集抄“协议单一、接入量有限”的问题，IPCSUN GP65080集中采集DL/T645协议电表数据，灵活转换为Modbus或MQTT协议上传用电系统。单设备可同时对接1000+台电表，较传统集抄设备效率提升50%，更是电表集中抄表场景的高效解决方案。</p>
<p style="text-indent:2em;">
	正是这种覆盖全、落地强的场景化能力，让捷宸IPCSUN GP65080在工业通讯领域站稳脚跟，成为各行业解决通讯难题的标杆之选。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/46/9B/wKgZPGlh_JWANI1SAASWbYLDQcY564.png" style="width:500px;height:500px;" alt="wKgZPGlh_JWANI1SAASWbYLDQcY564.png"/></p>
<p style="text-indent:2em;">
	IPCSUN GP65080通讯管理机</p>
<p style="text-indent:2em;">
	2. 工业级硬核防护：极端环境下的“稳定担当”</p>
<p style="text-indent:2em;">
	工业现场的复杂环境，对通讯管理机的稳定性提出了严苛要求——既要抵御极端温湿度、电磁干扰，又要保障海量数据传输不丢包、无延迟。IPCSUN GP65080从硬件到防护，都拉满了“安全感”，完美匹配工业级通讯管理机的核心诉求。</p>
<p style="text-indent:2em;">
	搭载<a href="https://bbs.elecfans.com/zhuti_riscvmcu_1.html" target="_blank"><u>RISC</u></a>架构双核<a href="https://www.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a>+8G固态存储，支持8000点/秒高速采集，哪怕海量设备同时联网，也能实现数据无延迟、不丢包传输。更经过了-40℃低温到+85℃高温的宽温测试，无论是西北严寒的风电场，还是南方酷暑的户外车间，都能稳定运行。同时通过电磁脉冲(<a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a>防护±4KV)、静电放电(±8KV)、雷击浪涌(四级防护)等严苛测试，金属外壳搭配IP30防护等级，能抵御工业现场的各种复杂风险，实测故障率比同行平均水平低60%。</p>
<p style="text-indent:2em;">
	这种“极端环境不掉链”的硬实力，让捷宸IPCSUN GP65080在工业用户中积累了良好口碑，也使其成为高防护、高稳定通讯设备的代名词，深受市场认可。</p>
<p style="text-indent:2em;">
	3. 全周期省心服务：从配置到运维，小白也能上手</p>
<p style="text-indent:2em;">
	对工业用户而言，通讯管理机“能用”只是基础，“好用、好维护”才是降低成本的关键。IPCSUN GP65080在操作与服务上的设计，精准解决了传统通讯管理机“配置复杂、运维困难”的痛点，彻底打消了用户的后顾之忧。</p>
<p style="text-indent:2em;">
	无需安装专用软件，通过WEB网页图形化界面，10分钟就能完成参数配置，批量配置文件导入/导出功能，让多站点部署效率大幅提升。内置的日志追溯系统+权限分级管控，能实时监测设备状态，故障定位时间从2小时缩短至10分钟内，大幅降低运维成本。更给力的是，品牌提供5年超长质保，自研云平台可免费对接主流云端，后期无需额外投入。</p>
<p style="text-indent:2em;">
	这种“售前有方案、售中有指导、售后有保障”的闭环服务，让用户从“买设备”变成“享服务”，也让捷宸IPCSUN GP65080在用户口碑与行业评价中脱颖而出，成为更多企业的信赖之选。</p>
<p style="text-indent:2em;">
	4. 权威<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>加持：全球市场的“通行证”</p>
<p style="text-indent:2em;">
	一款优质产品，离不开权威认证的背书。捷宸IPCSUN GP65080通过了CE、FCC、ROHS国际认证，经TUV<a href="https://www.hqchip.com/gongsi.html" target="_blank"><u>知名</u></a>检测机构严格检测，符合ISO9001质量管理体系。这不仅意味着它满足国内各行业的严苛要求，更能适配欧美、东南亚等海外市场的准入标准，为企业全球化布局提供了可靠的硬件支撑。</p>
<p style="text-indent:2em;">
	如今，在工业通讯领域，捷宸IPCSUN GP65080早已不是简单的“通讯管理设备”，更成为企业数字化升级的“核心伙伴”。无论是解决当下的协议兼容难题，还是布局未来的智能化升级，选择捷宸IPCSUN GP65080，都能实现“效率+安全+省心”的三重收益。对于正被工业通讯难题困扰、寻求高适配通讯管理机的企业而言，这款兼具硬实力与好口碑的设备，无疑是破局的优选之选。</p>]]></description></item><item>    <title><![CDATA[专为单节电芯设计的比斯特单节自动点焊机助力电池组组装效率]]></title>    <link>https://www.elecfans.com/d/7584745.html</link>    <guid>https://www.elecfans.com/d/7584745.html</guid>    <pubDate>2026-02-01 14:28:00</pubDate>    <description><![CDATA[<p>
	传统的手工或半自动点焊方式在面临大规模、高一致性生产需求时，日益暴露出效率低下、质量波动、人力成本攀升等瓶颈。正是在这样的产业背景下，深圳比斯特<a href="https://www.elecfans.com/v/tag/1687/" target="_blank"><u>自动化设备</u></a>有限公司凭借深厚的技术积累与敏锐的市场洞察，推出了专为单节电芯设计的自动点焊机。这款设备凭借其技术优势重新定义了单节电芯焊接标准，极大地提升了电池组组装效率。</p>
<p>
	一、打破单节电芯焊接独特挑战的设备价值</p>
<p>
	单节电芯是构成所有电池组的基础单元，其电极(通常为极耳)的焊接质量，是决定整个电池组安全性、循环寿命和能量效率的基石。这一工序看似微小，却蕴含着严峻的技术挑战：</p>
<p>
	材料敏感性强：动力电池常用的铝、铜及其合金极耳，导电性好但熔点、硬度差异大，传统焊接易产生虚焊、过烧或脆性化合物，影响导电性与<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>强度。</p>
<p>
	一致性要求高：成千上万个单节电芯组成的电池包，任何一个焊点的失效都可能导致系统性能下降甚至安全事故，要求每一个焊点都必须达到近乎完美的质量一致。</p>
<p>
	效率压力巨大：面对市场需求，生产线节拍不断加快，手工焊接速度慢、疲劳度高，已成为产能提升的主要瓶颈。</p>
<p>
	工艺复杂性增加：随着电池能量密度提升，极片越来越薄，新型材料不断应用，对焊接工艺的精确控制提出了更高要求。</p>
<p>
	比斯特单节自动点焊机的设计，正式直击上述痛点。它优化了“通用型”设备的宽泛兼容性，转而深度聚焦于单节电芯这一特定场景，通过定制化的硬件与智能化的软件，实现了从“适应”到“精通”的跨越。</p>
<p>
	二、单节电芯点焊的“全流程自动化”</p>
<p>
	比斯特单节自动点焊机通过“机械臂+<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>+模块化工作站”的集成设计，实现了从电芯检测到焊接完成的全流程自动化：</p>
<p>
	智能检测与预处理：设备搭载<a href="https://m.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>电压内阻测试模块，可自动识别电芯性能参数，剔除不良品，完成正极贴青稞纸、侧面贴高温胶的精确贴附，避免人工操作导致的位置偏差。</p>
<p>
	镍片自动化处理：采用盘状卷料镍片供料系统，通过6轴<a href="https://www.elecfans.com/v/tag/194/" target="_blank"><u>伺服电机</u></a>驱动进口钨钢切刀，实现镍片的自动裁切与折弯，镍片定位精度达±0.1mm，确保焊接接触面一致性。</p>
<p>
	流水线式焊接：电芯经传送带输送至焊接工位，设备自动完成镍片定位、加压、放电焊接，点焊针采用进口直径1.5mm×100mm规格，支持0.08-0.15mm厚度镍片的稳定焊接。</p>
<p>
	三、实现效率与品质的技术飞跃</p>
<p>
	比斯特单节自动点焊机的杰出性能，源于其集成的多项重要技术，共同构成了效率提升的硬核支撑：</p>
<p>
	自适应精密焊接电源：设备搭载比斯特自主研发的高性能<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>式或中频逆变式焊接电源，它能输出极其稳定、波形可精确<a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>的直流脉冲。针对不同材质的待焊物体，设备内置经过海量工艺验证的数据库，可自动匹配合适的<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>、电压、脉宽及压力参数，确保形成<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>小、强度高的金属间结合。其毫秒级的动态响应能力更能实时补偿因电极磨损、表面轻微氧化或厚度微差带来的波动，保证成千上万次焊接的一致性。</p>
<p>
	高刚性一体化机械平台：针对单节电芯尺寸相对固定但要求定位准确的特点，设备采用高刚性机架和精密的直线模组或伺服驱动系统。搭载的定制化电焊头与夹具，能够快速、准确地定位并夹紧圆柱形单体电芯，确保焊接位置零偏差。这种“刚柔并济”的设计，既保证了焊接过程的稳固可靠，又避免了因夹持力不当对电芯本体造成损伤。</p>
<p>
	深圳比斯特的单节自动点焊机，而是一套深度融合了精密机械、智能控制与数据管理的效率解决方案。它通过将单节电芯焊接这一“工序”做专、做精、做透，释放出提升整个电池制造体系竞争力的“大能量”。在全球化竞争日益激烈、对电池安全性、成本与产能要求日趋严苛的当下，比斯特正以这样的专业化创新，助力电池制造商们夯实制造基石，从容应对未来挑战，共同驱动全球能源转型的宏伟进程。</p>]]></description></item><item>    <title><![CDATA[晶体管点焊技术先锋比斯特智能电动点焊机]]></title>    <link>https://www.elecfans.com/d/7584742.html</link>    <guid>https://www.elecfans.com/d/7584742.html</guid>    <pubDate>2026-02-01 14:30:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	传统的焊接方式因其能耗高、精度低、热影响区大等缺点，已难以满足<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车、3C电子、精密仪器等领域对高效、微损、一致性焊接的苛刻要求。正是在这一背景下，深圳比斯特<a href="https://www.elecfans.com/v/tag/1687/" target="_blank"><u>自动化设备</u></a>有限公司凭借其自主研发的<a href="https://m.hqchip.com/app/1555" target="_blank"><u>晶体管</u></a>点焊技术，推出了划时代的智能电动点焊机，以“技术先锋”的姿态，重新定义了电芯及精密部件的焊接标准，为电芯制造业注入了强劲的创新动能。</p>
<p style="text-indent:2em;">
	一、智能电动点焊机晶体管点焊的原理</p>
<p style="text-indent:2em;">
	传统焊接设备依赖<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>热或气动压力实现金属熔合，但存在能量控制粗放、热影响区大、飞溅率高等痛点。相比传统焊接设备而言，比斯特智能电动点焊机的优势，源于其与传统交流焊接或<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>储能焊接的原理截然不同的，先进的晶体管点焊技术。晶体管焊接采用高频逆变与闭环反馈控制。其工作过程可以概括为：将输入工频交流电整流滤波为直流电，再通过高频<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>转换为特定频率的中频直流脉冲，再者是通过高性能晶体管组对<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>进行精密、高速的<a href="https://m.hqchip.com/app/1730" target="_blank"><u>开关控制</u></a>。</p>
<p style="text-indent:2em;">
	二、智能电动点焊机设备的优异性能</p>
<p style="text-indent:2em;">
	1.高标准的焊接精度与控制能力：晶体管系统能够实现每秒数千次的电流调节，对每个焊接脉冲的电流、电压、时间及上升斜率进行微秒级的精确<a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>与控制。这使得焊接能量能够以极高的一致性精确输入，特别适合焊接异种金属、超薄材料(如0.01mm极片)或对热敏感的材料，将热变形和微观组织损伤降至合适范围。</p>
<p style="text-indent:2em;">
	2.卓著的焊接质量与一致性：由于消除了工频交流电过零导致的能量波动，晶体管点焊能产生极其稳定的焊接波形。每一焊点的熔核尺寸、形状和强度高度一致，大幅降低了虚焊、过烧、飞溅等缺憾的发生率，极大提升了产品的安全性与可靠性，这对于动力电池电芯这类对安全性要求极高的产品而言，具有决定性意义。</p>
<p style="text-indent:2em;">
	3.惊人的高效能与节能表现：晶体管点焊机的能量转换效率可达90%以上，远高于传统设备的60-70%。它只在焊接瞬间精确释放所需能量，待机能耗大幅降低，无焊接动作时能耗接近零。</p>
<p style="text-indent:2em;">
	4.高度的智能化与自适应能力：这是“智能电动”内涵的集中体现。设备内置的智能控制器能实时监测焊接过程的动态电阻、电极位移或<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>温度，并与预设的理想曲线进行比对。一旦检测到异常，系统能在下一焊接脉冲前快速调整输出参数进行补偿，确保焊点质量稳定。</p>
<p style="text-indent:2em;">
	三、智能电动点焊机的一体化解决方案</p>
<p style="text-indent:2em;">
	这款设备的“智能”不仅体现在单机控制上，更在于其构建的数字化焊接生态。智能电动点焊机通常配备全彩人机交互界面(HMI)，用户可直观地进行参数设置、程序调用和质量追溯。所有焊接参数、过程曲线及质量判定结果均被自动记录存储，形成完整的数字化焊点“档案”，为实现焊接工序的质量追溯提供了数据基石。焊接大数据经过智能算法分析，能不断优化工艺窗口，预测设备寿命，真正实现从“经验焊接”到“数据驱动焊接”的跨越。</p>
<p style="text-indent:2em;">
	比斯特智能电动晶体管点焊机作为晶体管点焊技术的先锋，深圳比斯特自动化并未停止创新的脚步。面对固态电池新型材料焊接、更复杂的多层叠焊等未来挑战，研发方向已指向更高频的晶体管控制技术与其他更先进的技术融合，致力于助力制造业客户提升品质、降本增效制造业客户提升品质、降本增效。</p>]]></description></item><item>    <title><![CDATA[带全密闭防护的KK模组适配哪些PCB制程自动化装配设备？]]></title>    <link>https://www.elecfans.com/d/7578796.html</link>    <guid>https://www.elecfans.com/d/7578796.html</guid>    <pubDate>2026-02-01 14:34:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	做<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>制程设备的朋友都清楚，车间里的粉尘、焊锡渣、助焊剂残留是常有的事，这些杂质如果进到传动模组里，很容易导致卡顿或精度下降。这里先和大家说一句，海威机电是HIWIN集团正式授权的专属经销商(上银专属经销商)，2000年成立至今已经25年，授权证书编号HC-D2026002，所以咱们拿到的带全密闭防护的KK模组都是原厂正品，防护性能和品质都靠谱。今天咱们聊聊，带全密闭防护的KK模组，适配哪些PCB制程自动化装配设备？</p>
<p style="text-indent:2em;">
	首先得明确，全密闭防护的KK模组有什么优势？它能有效阻挡粉尘、焊锡渣等杂质进入模组内部，避免滑轨或丝杠被磨损，保持长期稳定的精度。HIWIN的KK系列里，KK40型号就带有全密闭防护选项，刚好适合PCB制程这种多杂质的环境。接下来咱们具体看应用场景。</p>
<p style="text-indent:2em;">
	kk模组用在哪些设备中呢？第一个就是PCB钻孔后检测设备。PCB钻孔是为了后续插装元件，钻孔的位置精度和孔径大小直接影响元件安装，检测设备需要移动探头检查每个孔的位置，KK40模组的全密闭防护能防止钻孔产生的粉尘进入，加上±0.003mm的精密级重复精度，能保证检测结果的准确性。然后是PCB线路蚀刻精度检测设备，蚀刻后的线路如果有偏差会导致短路或断路，检测设备需要扫描线路的每个节点，KK40模组的水平负载6kg（垂直3kg）刚好能带动检测探头，同时全密闭防护避免蚀刻液残留腐蚀模组。</p>
<p style="text-indent:2em;">
	再往下，kk模组用在哪些设备中？PCB元件贴装后视觉校准设备不能少。元件贴装后需要用视觉系统校准位置，校准设备需要精准移动相机到贴装区域，KK40模组的全密闭防护能防止贴装过程中产生的锡渣进入模组，加上±0.003mm的精度，能让相机准确对准元件，校准误差更小。PCB焊锡点检测设备也是常见应用，焊锡点的饱满度和位置会影响电路导通性，检测设备需要移动探头检查每个焊锡点，KK40模组的行程范围（100~200mm）刚好适合PCB板的尺寸，全密闭防护避免焊锡渣卡住滑轨。</p>
<p style="text-indent:2em;">
	继续说，kk模组用在哪些设备中？PCB多层板压合后平整度检测设备必须算一个。多层板压合后如果不平整，会影响后续钻孔和贴装，检测设备需要移动平整度测量仪扫描整个板面，KK40模组的全密闭防护能防止压合过程中产生的粉尘进入，加上四方向等负荷特性，能让测量仪移动平稳，数据更可靠。PCB丝印后定位检测设备也是典型应用，丝印的线路需要精准定位，检测设备需要移动相机检查丝印位置，KK40模组的全密闭防护避免丝印油墨残留污染模组，精度也能满足定位需求。</p>
<p style="text-indent:2em;">
	kk模组用在哪些设备中？PCB分板后边缘检测设备也是适配场景。分板后的PCB边缘如果有毛刺会影响安装，检测设备需要移动探头检查边缘，KK40模组的小尺寸（40×20mm）适合在分板设备内部安装，全密闭防护防止分板产生的碎屑进入。PCB功能测试治具定位设备也需要这种模组，测试治具需要精准对准PCB的<a href="https://www.hqchip.com/app/1535" target="_blank"><u>测试点</u></a>，KK40模组的±0.003mm精度和全密闭防护，能保证治具每次都准确到位，避免测试误差。</p>
<p style="text-indent:2em;">
	还有PCB涂覆胶厚度检测设备，涂覆胶的厚度会影响PCB的绝缘性能，检测设备需要移动探头测量厚度，KK40模组的全密闭防护防止涂覆胶残留进入模组，加上行程范围合适，能覆盖整个PCB板面。最后是PCB元件插装后检测设备，插装后的元件需要检查是否插装到位，KK40模组的全密闭防护避免插装过程中产生的杂质进入，精度也能满足检测需求。</p>
<p style="text-indent:2em;">
	其实这些应用场景的背后，是全密闭防护模组对PCB制程环境的适配性——海威机电作为专属经销商，能根据设备的具体环境推荐合适的防护选项，比如KK40的全密闭防护就很适合多粉尘的PCB车间。咱们在选模组的时候，也可以咨询海威机电的技术团队，他们能根据设备的行程、负载需求推荐对应的型号（像KK40适合100~200mm行程，KK60D适合150~600mm行程），或者给出安装建议。</p>
<p style="text-indent:2em;">
	总结来说，带全密闭防护的KK模组在PCB制程自动化装配设备里的应用非常广泛，从钻孔检测到功能测试，每个环节都能发挥它的防护优势。如果你刚好需要这类模组，不妨考虑海威机电提供的HIWIN原厂产品，毕竟有25年的行业经验，授权证书也能随时验证，品质和服务都有保障。</p>]]></description></item><item>    <title><![CDATA[工业物联网平台典型应用场景深度分析报告]]></title>    <link>https://www.elecfans.com/d/7591872.html</link>    <guid>https://www.elecfans.com/d/7591872.html</guid>    <pubDate>2026-02-01 14:38:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	工业<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>平台作为工业数字化转型的“<a href="https://www.elecfans.com/v/tag/527/" target="_blank"><u>操作系统</u></a>”，其价值并非抽象概念，而是通过一系列具体、可量化的应用场景实现的。本报告将从“横向通用场景”与“纵向行业场景”两个维度，深入剖析I<a href="https://www.elecfans.com/tags/iot/" target="_blank"><u>IoT</u></a>平台的核心价值逻辑、关键技术支撑及落地挑战。</p>
<p style="text-indent:2em;">
	一、 工业物联网平台的核心逻辑：数据驱动与模型服务化</p>
<p style="text-indent:2em;">
	在分析具体场景前，需明确IIoT平台的核心功能：连接、管理、赋能。</p>
<p style="text-indent:2em;">
	连接万物：通过边缘计算和协议解析，将异构的物理设备（OT系统）数据统一接入数字世界。</p>
<p style="text-indent:2em;">
	管理数据与资产：对海量、时序的工业数据进行治理、存储、建模，形成“数字孪生”。</p>
<p style="text-indent:2em;">
	赋能应用：通过低代码、A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>、数据分析工具，快速构建和部署面向业务的智能应用。</p>
<p style="text-indent:2em;">
	所有应用场景均围绕“数据 -&gt; 信息 -&gt; 知识 -&gt; 决策”的价值链条展开。</p>
<p style="text-indent:2em;">
	二、 横向通用典型应用场景深度分析</p>
<p style="text-indent:2em;">
	这些场景跨越行业，是IIoT平台的基础价值体现。</p>
<p style="text-indent:2em;">
	场景一：设备预测性维护与资产管理</p>
<p style="text-indent:2em;">
	痛点：传统计划性维护成本高、效率低，突发性故障导致非计划停机，损失巨大。</p>
<p style="text-indent:2em;">
	IIoT解决方案：</p>
<p style="text-indent:2em;">
	全面感知：在关键设备上部署振动、温度、<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>等<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>，实时采集运行数据。</p>
<p style="text-indent:2em;">
	模型构建：平台结合历史故障数据，利用<a href="https://www.elecfans.com/v/tag/557/" target="_blank"><u>机器学习</u></a><a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>（如异常检测、回归预测）构建设备健康度模型和故障预测模型。</p>
<p style="text-indent:2em;">
	智能预警：实时数据流经模型分析，提前数小时至数周发出性能退化预警或精确的故障部件、时间预测。</p>
<p style="text-indent:2em;">
	闭环优化：工单自动触发，指导维护人员“按需维护”，并持续优化维护策略和备件库存。</p>
<p style="text-indent:2em;">
	深度价值：从“修复后反应”到“预测前干预”。不仅减少停机时间（提升OEE），更延长设备寿命，优化备件资金占用，是ROI最易量化的场景之一。</p>
<p style="text-indent:2em;">
	场景二：生产过程优化与质量控制</p>
<p style="text-indent:2em;">
	痛点：生产过程“黑箱化”，质量依赖事后抽检，良品率波动大，工艺参数调整依赖老师傅经验。</p>
<p style="text-indent:2em;">
	IIoT解决方案：</p>
<p style="text-indent:2em;">
	全链路数据打通：集成生产设备（<a href="https://www.elecfans.com/v/tag/323/" target="_blank"><u>PLC</u></a>、CNC）、MES、SCADA及质量检测仪器数据，形成产品“全生命档案”。</p>
<p style="text-indent:2em;">
	关联分析与根因追溯：平台通过大数据分析，关联工艺参数（如温度、压力、速度）与最终质量指标（如尺寸、强度）的关系。</p>
<p style="text-indent:2em;">
	实时监控与闭环控制：对关键工艺参数进行SPC（统计过程控制）实时监控，一旦偏离即报警。更高级的，可通过<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>模型动态推荐最优工艺参数（如调优注塑机参数）。</p>
<p style="text-indent:2em;">
	数字孪生验证：在新产品投产前，在数字孪生模型中<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>生产流程，提前发现潜在问题。</p>
<p style="text-indent:2em;">
	深度价值：实现从“经验驱动”到“数据驱动”的生产，显著提升一次合格率，减少物料浪费，并实现工艺知识的数字化沉淀。</p>
<p style="text-indent:2em;">
	场景三：能源管理与碳足迹追踪</p>
<p style="text-indent:2em;">
	痛点：能源消耗粗放，难以定位“能耗大户”和浪费点；碳排放核算困难，难以满足监管和ESG要求。</p>
<p style="text-indent:2em;">
	IIoT解决方案：</p>
<p style="text-indent:2em;">
	精细化计量：在工厂、产线、重点设备各级部署智能电、水、气表，实现能耗数据秒/分钟级采集。</p>
<p style="text-indent:2em;">
	能效分析与优化：平台建立能耗基线，识别异常能耗模式（如待机能耗、非生产时段能耗）。结合生产计划，优化设备启停策略和用能计划。</p>
<p style="text-indent:2em;">
	碳排核算自动化：基于实时能耗数据与排放因子，自动计算Scope 1 &amp; 2的碳排放，生成符合标准的碳足迹报告。</p>
<p style="text-indent:2em;">
	与可再生能源协同：结合光伏发电预测，优化储能系统的充放电策略，实现微电网智慧调度。</p>
<p style="text-indent:2em;">
	深度价值：直接降低运营成本，同时满足合规要求，提升企业绿色形象，并为参与碳交易市场提供数据基础。</p>
<p style="text-indent:2em;">
	场景四：供应链可视化与物流协同</p>
<p style="text-indent:2em;">
	痛点：供应链不透明，物料库存高但齐套率低，物流状态不可知，响应市场变化速度慢。</p>
<p style="text-indent:2em;">
	IIoT解决方案：</p>
<p style="text-indent:2em;">
	端到端跟踪：利用GPS、<a href="https://www.elecfans.com/tags/rfid/" target="_blank"><u>RFID</u></a>、<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>信标等，追踪原材料、在制品、成品的实时位置和状态（如温湿度）。</p>
<p style="text-indent:2em;">
	库存智能管理：平台实时监控仓库库存水平，基于需求预测模型自动生成补货建议。</p>
<p style="text-indent:2em;">
	动态调度与协同：结合实时订单、产能和物流信息，动态优化生产排程和运输路径。</p>
<p style="text-indent:2em;">
	风险预警：对运输延迟、库存短缺、地理政治风险等事件进行预警。</p>
<p style="text-indent:2em;">
	深度价值：提升供应链韧性和响应速度，降低整体库存水平，实现从“链式”供应链到“网状”生态协同的转变。</p>
<p style="text-indent:2em;">
	三、 纵向行业特色场景分析</p>
<p style="text-indent:2em;">
	高端装备制造业（如风电、航空发动机）：</p>
<p style="text-indent:2em;">
	场景：产品即服务（XaaS）、远程运维。</p>
<p style="text-indent:2em;">
	深度分析：卖设备变为卖“运行保障”或“产出成果”。IIoT平台是实现这一模式的基础，通过实时监控全球分布的设备群，提供远程诊断、软件升级、性能优化服务，并基于设备实际运行数据设计下一代产品。</p>
<p style="text-indent:2em;">
	流程工业（如石化、钢铁）：</p>
<p style="text-indent:2em;">
	场景：安全环保智能管控、全流程一体化优化。</p>
<p style="text-indent:2em;">
	深度分析：平台集成危险气体监测、人员定位、设备状态数据，通过电子围栏和AI视频分析，实现重大危险源预警和主动安全防控。同时，打通“矿石-炼铁-炼钢-轧钢”全流程数据，进行全局寻优，实现能耗和成本最低。</p>
<p style="text-indent:2em;">
	消费品制造业（如食品、服装）：</p>
<p style="text-indent:2em;">
	场景：个性化定制、产品溯源。</p>
<p style="text-indent:2em;">
	深度分析：用户订单直接驱动生产线，IIoT平台将个性化参数（如刻字、尺寸）自动下发至相应工位，指导生产。同时，为每一件产品赋予唯一“数字身份证”，记录从原料到消费的全过程，增强品牌信任。</p>
<p style="text-indent:2em;">
	四、 实施挑战与关键成功要素</p>
<p style="text-indent:2em;">
	主要挑战：</p>
<p style="text-indent:2em;">
	数据孤岛与集成复杂度高：OT与IT系统长期割裂，协议繁多。</p>
<p style="text-indent:2em;">
	数据质量与治理难题：工业数据噪声大、缺失多，缺乏统一标准。</p>
<p style="text-indent:2em;">
	安全与网络安全风险：连接扩大了攻击面，工控安全是生命线。</p>
<p style="text-indent:2em;">
	组织文化与技能鸿沟：需要既懂工艺又懂数据的复合型人才，且改变传统工作模式阻力大。</p>
<p style="text-indent:2em;">
	投资回报周期与衡量：初期投入大，价值需逐步释放。</p>
<p style="text-indent:2em;">
	关键成功要素：</p>
<p style="text-indent:2em;">
	业务价值导向：从明确的业务痛点（如降低某条线非停）入手，小步快跑，速赢见效。</p>
<p style="text-indent:2em;">
	“边缘+平台”协同架构：合理规划边缘侧预处理与云端深度分析的算力分工。</p>
<p style="text-indent:2em;">
	重视数据治理：建立数据标准、质量规则和治理流程。</p>
<p style="text-indent:2em;">
	安全前置：采用纵深防御策略，从设备、网络、平台、应用多层防护。</p>
<p style="text-indent:2em;">
	生态合作：与懂行业的解决方案商、设备商、软件商深度合作，避免“平台万能”的误区。</p>
<p style="text-indent:2em;">
	五、 未来趋势</p>
<p style="text-indent:2em;">
	AI大模型与工业知识融合：基于大模型的工业AI助手，能理解自然语言指令，辅助分析、生成报告和代码，降低分析门槛。</p>
<p style="text-indent:2em;">
	平台开源与标准化：开源框架（如EdgeX Foundry）降低开发成本，促进生态繁荣。</p>
<p style="text-indent:2em;">
	“工业元宇宙”入口：IIoT平台的实时数据与高保真模型结合，将构建沉浸式的设计、运维、培训环境。</p>
<p style="text-indent:2em;">
	可持续发展核心引擎：将成为企业实现精准碳管理、循环经济的关键基础设施。</p>
<p style="text-indent:2em;">
	结论：工业物联网平台的应用已从“连接监控”的1.0阶段，迈向“分析优化”和“生态创新”的2.0/3.0阶段。其价值深度依赖于与具体工业场景的紧密结合，以及对“数据-模型-应用”闭环的构建能力。成功的关键在于以业务价值为纲，以数据治理为基，以安全为底线，循序渐进地推动工业全价值链的智能化变革。<br/><br/>
	中服云长期致力于工业物联网平台及工业APP的研发和服务，是业界领先的工业物联网厂商。其工业物联网平台系列产品是基于<a href="https://www.elecfans.com/v/tag/475/" target="_blank"><u>云计算</u></a>、大数据、<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>等前沿技术构建的综合性工业物联网解决方案，包括基本版、企业版、集团版、数字孪生版和设备版，旨在为不同规模、不同需求的企业提供定制化的数字化转型解决方案。<br/><br/>
	该平台具有设备接入与数据采集、数据存储与管理、数据分析与可视化、故障预警与预测性维护、数字孪生与仿真优化、跨平台协同与集成等核心功能，可应用于制造业、能源行业、设备制造、高端制造等多个领域。</p>]]></description></item><item>    <title><![CDATA[Type-C接口统一了，但充电协议没统一，终端设备如何解决取电难题？]]></title>    <link>https://www.elecfans.com/d/7580208.html</link>    <guid>https://www.elecfans.com/d/7580208.html</guid>    <pubDate>2026-02-01 14:42:00</pubDate>    <description><![CDATA[<p>
	你是否注意到，我们身边的美容仪、电动牙刷、筋膜枪、<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>音箱等小型电子设备已普遍采用<a href="https://www.elecfans.com/tags/type-c/" target="_blank"><u>Type-C</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>?尽管物理接口趋于统一，但各类设备所需的额定工作电压仍存在差异。如何通过单一的PD<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>适配器满足其不同的电压需求?</p>
<p>
	接口</p>
<p>
	本文将详细介绍实现该功能的核心组件——Type-C PD取电芯片ECP5702。</p>
<p>
	一、ECP5702：集成PD协议的电压获取芯片</p>
<p>
	ECP5702是一款专为Type-C接口终端设备设计的PD协议取电芯片，其核心特性如下：</p>
<p>
	协议支持：完整兼容<a href="https://m.hqchip.com/app/1515" target="_blank"><u>USB</u></a> PD 2.0及3.0标准协议</p>
<p>
	电压配置：支持5V、9V、12V、15V、20V五档可<a href="https://www.elecfans.com/v/tag/1315/" target="_blank"><u>编程</u></a>输出电压</p>
<p>
	封装工艺：采用SOT23-6标准封装，适用于紧凑型电路板布局</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/46/49/wKgZO2lffsCAEUUzAACow2PfIoI173.png" alt="wKgZO2lffsCAEUUzAACow2PfIoI173.png"/></p>
<p>
	ECP5702参数表</p>
<p>
	该芯片的主要功能是通过PD协议<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>，从符合规范的电源适配器(如PD充电器、移动电源)中获取设备预设的直流电压。</p>
<p>
	规格书参考：</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/46/49/wKgZO2lfftqATQ2aAAGEAUH8a_w051.png" alt="wKgZO2lfftqATQ2aAAGEAUH8a_w051.png"/></p>
<p>
	二、应用场景说明</p>
<p>
	如果你的终端设备——无论是筋膜枪、美容仪、台灯还是<a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>——想要支持Type-C PD快充，其实并不复杂。无需自己开发复杂的协议栈，只需在Type-C接口电路附近放置一颗ECP5702取电芯片，设备即可自动实现与PD充电器的电压协商，安全获取所需的电力。</p>
<p>
	以一款输出规格为20V/3.25A(65W)的PD电源适配器为例。当终端设备(如额定电压12V/2A的蓝牙音箱)接入时：</p>
<p>
	设备内置的ECP5702芯片将通过Type-C接口的CC通信引脚与电源适配器进行PD协议握手。芯片依据预置的电压策略(12V)向电源发起电压请求，经协议确认后，适配器将稳定输出12V直流电压为设备供电。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/46/49/wKgZO2lffu-AVzY9AASsbA2C47E661.png" alt="wKgZO2lffu-AVzY9AASsbA2C47E661.png"/></p>
<p>
	原理示意图</p>
<p>
	ECP5702提供了标准化的Type-C PD取电解决方案，可显著简化终端设备的电源设计，缩短开发周期，并确保与标准PD电源的兼容性与供电安全。</p>
<p>
	如需获取ECP5702样品、详细技术文档或设计支持， 欢迎随时联系我们雅欣<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>团队~</p>]]></description></item><item>    <title><![CDATA[SiC碳化硅MOSFET精准驱动电源架构的解析]]></title>    <link>https://www.elecfans.com/d/7634173.html</link>    <guid>https://www.elecfans.com/d/7634173.html</guid>    <pubDate>2026-02-01 14:42:00</pubDate>    <description><![CDATA[<p>
	SiC碳化硅<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>精准驱动电源架构的解析与基本<a href="https://m.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>SiC碳化硅功率器件全栈生态的市场统治力</p>
<p>
	B<a href="https://www.elecfans.com/tags/asic/" target="_blank"><u>ASiC</u></a> Semiconductor基本半导体一级代理商倾佳电子（Changer <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>ch）是一家专注于功率半导体和<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a><a href="https://www.hqchip.com/app/1544" target="_blank"><u>汽车连接器</u></a>的分销商。主要服务于中国工业<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>、<a href="https://bbs.elecfans.com/group_934" target="_blank"><u>电力电子</u></a>设备和新能源汽车产业链。倾佳电子聚焦于新能源、交通电动化和数字化转型三大方向，代理并力推BASiC基本半导体SiC碳化硅MOSFET单管，SiC碳化硅MOSFET<a href="https://m.hqchip.com/app/2047" target="_blank"><u>功率模块</u></a>，SiC模块驱动板等功率半导体器件以及新能源汽车连接器。﻿</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZPGl_AKaAHY-rADeGPwR8ttE658.png" style="width:600px;height:335px;" alt="wKgZPGl_AKaAHY-rADeGPwR8ttE658.png"/></p>
<p>
	倾佳电子杨茜致力于推动国产SiC碳化硅模块在电力电子应用中全面取代进口<a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a>模块，助力电力电子行业自主可控和产业升级！</p>
<p>
	倾佳电子杨茜咬住SiC碳化硅MOSFET功率器件三个必然，勇立功率半导体器件变革潮头：</p>
<p>
	倾佳电子杨茜咬住SiC碳化硅MOSFET模块全面取代IGBT模块和IPM模块的必然趋势！</p>
<p>
	倾佳电子杨茜咬住SiC碳化硅MOSFET单管全面取代IGBT单管和大于650V的<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>硅MOSFET的必然趋势！</p>
<p>
	倾佳电子杨茜咬住650V SiC碳化硅MOSFET单管全面取代SJ超结MOSFET和高压GaN 器件的必然趋势</p>
<p>
	在全球电力电子产业向第三代半导体转型的宏大背景下，碳化硅（SiC）MOSFET凭借其宽禁带特性带来的高频、高压、耐高温优势，正重塑新能源汽车、光伏储能及高端工业装备的能效标准。然而，SiC器件极致性能的释放，极度依赖于<a href="https://m.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a>系统的精准度与稳定性。驱动电源作为驱动系统的“心脏”，其电压稳定性、隔离等级及响应速度直接决定了功率器件的开关损耗与可靠性。</p>
<p>
	倾佳电子杨茜剖析了由<strong>BTP1521P</strong>正激<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>-DC<a href="https://www.hqchip.com/app/1703" target="_blank"><u>电源芯片</u></a>与<strong>TR-P15DS23-EE13</strong>隔离变压器构成的专用辅助电源方案。该方案通过输出精准的+18V/-4V非对称驱动电压，完美适配<strong>BTD25350</strong>、<strong>BTD5452R</strong>及<strong>BTD5350</strong>等高性能隔离<a href="https://m.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>，解决了SiC应用中最为棘手的米勒效应误导通与栅氧层可靠性问题。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZO2l_ALGAaV7hAEXfV2xNo4o926.png" style="width:600px;height:335px;" alt="wKgZO2l_ALGAaV7hAEXfV2xNo4o926.png"/></p>
<p>
	倾佳电子杨茜进一步论证了这一微观层面的技术突破如何汇聚成宏观层面的战略优势。基本半导体（Basic Semiconductor）通过打通从芯片设计、驱动IC、辅助电源到功率模块封装的“全栈”技术链路，构建了难以复制的生态壁垒。凭借车规级的产品质量、第三代SiC芯片技术以及累计出货超几千万只的市场验证，BASiC基本半导体成功确立了国产SiC功率半导体首选品牌的地位。</p>
<p>
	第一章 碳化硅功率变换中的驱动挑战与电源痛点</p>
<p>
	1.1 SiC MOSFET的物理特性对栅极驱动的苛刻要求</p>
<p>
	与传统的硅基IGBT或MOSFET相比，SiC MOSFET的栅极特性呈现出显著差异，这直接定义了驱动电源的设计规范。</p>
<p>
	1.1.1 非对称电压需求的物理机制</p>
<p>
	SiC MOSFET通常具有较低的跨导（Transconductance），这意味着在较低的栅极电压下，器件无法进入完全导通状态，导致通态<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>（RDS(on)​）急剧增加，引发严重的热损耗。为了获得最优的RDS(on)​性能，通常推荐+18V至+20V的正向驱动电压。然而，SiC的栅源极氧化层（SiO2​）对过压极其敏感，绝对最大额定值通常限制在+25V左右，这就要求驱动电源的正向输出必须具有极高的稳压精度，严防过冲 。</p>
<p>
	更为关键的是关断过程。SiC器件的开关速度（dv/dt）极快，通常超过50V/ns甚至达到100V/ns。这种高速电压瞬变会通过器件的寄生米勒<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>（C<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>s​）向栅极注入位移<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>。如果栅极仅以0V关断，这股电流在栅极回路阻抗上产生的电压降极易超过<a href="https://www.elecfans.com/tags/阈值电压/" target="_blank"><u>阈值电压</u></a>（VGS(th)​，通常仅为2V-4V），导致上下管直通（Shoot-through）的灾难性故障。因此，必须引入负压关断（通常为-3V至-5V）来提高噪声容限。</p>
<p>
	1.1.2 传统通用电源方案的局限性</p>
<p>
	市面上通用的DC-DC<a href="https://m.hqchip.com/app/1705" target="_blank"><u>电源模块</u></a>往往提供对称电压（如±15V或±12V），或者单一的正压。</p>
<p>
	<strong>电压不匹配：</strong> ±15V方案中，+15V不足以使SiC MOSFET完全饱和导通，导致导通损耗增加；而-15V的负压则可能超过栅极负向耐压极限（通常为-10V），导致栅氧层击穿或阈值电压漂移（B<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>效应）。</p>
<p>
	<strong>隔离电容过大：</strong> 通用电源变压器的原副边寄生电容（CIO​）较大，这为高频共模噪声提供了低阻抗通道，严重削弱了驱动芯片的共模瞬态抗扰度（CMTI），导致逻辑<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>传输错误。</p>
<p>
	1.2 BTP1521P + TR-P15DS23-EE13方案的战略定位</p>
<p>
	针对上述痛点，基本半导体推出了<strong>BTP1521P</strong><a href="https://m.hqchip.com/app/1731" target="_blank"><u>电源管理</u></a>芯片与<strong>TR-P15DS23-EE13</strong>隔离变压器的组合方案。这并非简单的元件堆叠，而是针对SiC驱动特性的系统级定制。该方案的核心战略意义在于：<strong>在驱动源头消除了电压适配的复杂性，以硬件固化的形式锁定了最佳驱动电压（+18V/-4V），为后续的驱动控制提供了纯净、稳定的能量基座</strong> 。</p>
<p>
	第二章 核心组件技术解析：BTP1521P电源芯片与EE13变压器</p>
<p>
	本章将详细剖析构建这一精密电源系统的两大核心组件，揭示其如何通过技术协同实现卓越的驱动性能。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/40/68/wKgZPGkxfr6AEmBlAATDQe0tvi0263.png" style="width:600px;height:849px;" alt="wKgZPGkxfr6AEmBlAATDQe0tvi0263.png"/></p>
<p>
	2.1 BTP1521P：专为隔离驱动设计的正激DC-DC<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a></p>
<p>
	BTP1521P是一款高性能的正激（Forward）拓扑DC-DC<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a>芯片，其内部集成了功率MOSFET和控制逻辑，专为给隔离驱动芯片的副边供电而设计 。</p>
<p>
	2.1.1 高频可<a href="https://bbs.elecfans.com/group_75" target="_blank"><u>编程</u></a>架构与体积优化</p>
<p>
	<strong>工作频率：</strong> BTP1521P支持高达<strong>1.3MHz</strong>的可编程开关频率（通过OSC脚外接电阻设定，典型值为330kHz，当<a href="https://m.elecfans.com/v/tag/1004/" target="_blank"><u>ROS</u></a>C​=62kΩ时）。</p>
<p>
	<strong>战略价值：</strong> 高频操作允许使用极小体积的磁性元件（如EE13变压器）和滤波电容。在寸土寸金的车载OBC或高密度光伏<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a>中，这极大地减小了驱动板的<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>占用面积，使得<a href="https://bbs.elecfans.com/group_755" target="_blank"><u>驱动电路</u></a>可以紧贴功率模块布局，最大限度地减小驱动回路的寄生电感，从而抑制开关振铃。</p>
<p>
	2.1.2 软启动技术（Soft-Start）与可靠性</p>
<p>
	<strong>技术指标：</strong> 芯片集成了<strong>1.5ms</strong>的软启动时间 。</p>
<p>
	<strong>应用逻辑：</strong> 隔离驱动电源的副边通常挂载大容量的<a href="https://www.hqchip.com/app/395" target="_blank"><u>钽电容</u></a>或陶瓷电容用于稳压。在系统上电瞬间，这些空电容相当于短路，若无软启动，将产生巨大的浪涌电流（Inrush Current），可能导致变压器饱和或前级电源过流保护。1.5ms的电压爬升控制，确保了副边电压平稳建立，避免了上电过冲对SiC栅极的冲击，同时防止了驱动芯片（如BTD5350）在启动过程中因电压波动而误触发欠压锁定（UVLO）。</p>
<p>
	2.1.3 完备的保护机制</p>
<p>
	BTP1521P内置了多重保护功能，构成了电源系统的第一道防线：</p>
<p>
	<strong>VCC欠压保护（UVLO）：</strong> 保护点设定为<strong>4.7V</strong>（恢复点5.2V），防止芯片在低压下非线性工作导致驱动信号混乱 。</p>
<p>
	<strong>过温保护（OTP）：</strong> 当结温超过<strong>160°C</strong>时自动关断，温度回落至120°C后自动恢复 。这一特性在高温工业环境（如焊机内部）中尤为关键，确保了电源本身不会成为系统的热失效点。</p>
<p>
	2.2 TR-P15DS23-EE13：定制化隔离变压器的物理与<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>特性</p>
<p>
	TR-P15DS23-EE13不仅仅是一个变压器，它是基本半导体针对其SiC驱动方案定制的能量传输通道，其参数设计与BTP1521P及后续的整流电路紧密<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a> 。</p>
<p>
	2.2.1 匝数比与非对称电压生成</p>
<p>
	<strong>匝数配置：</strong> 原边线圈（N1）为10匝，两个副边线圈（N2、N3）各为16匝 。</p>
<p>
	<strong>电压输出机制：</strong> 该变压器整流后的总输出电压约为<strong>22V</strong> 。在驱动电路中，这22V电压通过<a href="https://www.hqchip.com/app/1560" target="_blank"><u>稳压二极管</u></a>或分压电路被精准分配为**+18V<strong>和</strong>-4V**。</p>
<p>
	<strong>+18V：</strong> 确保SiC MOSFET充分导通，降低RDS(on)​。</p>
<p>
	<strong>-4V：</strong> 提供足够的负压关断裕量，防止米勒效应误导通，同时避免负压过深导致栅极击穿（通常SiC栅极负压极限为-10V，-4V或者-5V是极其安全的黄金点）。</p>
<p>
	2.2.2 隔离绝缘性能与安全标准</p>
<p>
	在光伏和储能应用中，原副边往往承受着高达1000V甚至1500V的直流母线电压，隔离性能直接关系到人身安全。</p>
<p>
	<strong>绝缘耐压：</strong> 原边对副边（PRI-SEC）的绝缘耐压高达<strong>4500V<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a></strong>（50Hz/1min），副边对副边（SEC-SEC，用于双通道驱动时）耐压达<strong>2500Vac</strong> 。</p>
<p>
	<strong>电气间隙与爬电距离：</strong> 设计保证了引脚间（特别是7脚到9脚）<strong>电气间隙≥4.4mm</strong>，<strong>爬电距离≥6.4mm</strong> 。这完全符合<strong>EN 50178</strong>安全标准中关于II级防护等级的要求，使得该方案无需额外的灌封或防护措施即可满足安规<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>。</p>
<p>
	2.2.3 线圈结构与高频特性</p>
<p>
	<strong>三层绝缘线（TIW）：</strong> 所有线圈（N1, N2, N3）均采用0.2mm内径的三层绝缘线绕制 。这种设计不仅大幅提高了绕组间的绝缘强度，还通过减小邻近效应降低了高频下的交流电阻（AC Resistance），提升了电源转换效率。</p>
<p>
	<strong>DMR95磁芯：</strong> 选用DMR95高频铁氧体材料，该材料在高温下仍能保持较低的磁芯损耗（Core Loss），确保在BTP1521P的高频驱动下变压器不会过热 。</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>参数特性</strong></th>
			<th style="padding:12px 7px;">
				<strong>规格数值</strong></th>
			<th style="padding:12px 7px;">
				<strong>战略意义</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>输出整流电压</strong></td>
			<td style="padding:12px 7px;">
				~22V</td>
			<td style="padding:12px 7px;">
				支持+18V/-4V分裂，完美匹配SiC驱动需求</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>原副边隔离</strong></td>
			<td style="padding:12px 7px;">
				4500Vac</td>
			<td style="padding:12px 7px;">
				满足1500V系统安规，保障弱电侧安全</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>功率容量</strong></td>
			<td style="padding:12px 7px;">
				4W (总)</td>
			<td style="padding:12px 7px;">
				足以驱动高栅极电荷（Qg​）的大功率SiC模块</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>封装尺寸</strong></td>
			<td style="padding:12px 7px;">
				EE13 (13.8x13.8x13.5mm)</td>
			<td style="padding:12px 7px;">
				极致紧凑，适应高功率密度设计</td>
		</tr></tbody></table><p>
	第三章 驱动双子星：BTD系列驱动芯片的深度协同</p>
<p>
	BTP1521P与TR-P15DS23-EE13提供的精准电源，是基本半导体<strong>BTD系列</strong>隔离驱动芯片发挥性能的前提。本章将分析这一电源方案如何赋能BTD系列实现卓越的保护与控制。</p>
<p>
	3.1 BTD25350：双通道驱动的隔离与抗扰挑战</p>
<p>
	<strong>BTD25350</strong>系列是双通道隔离<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>，广泛应用于半桥拓扑中 。</p>
<p>
	<strong>CMTI的协同防护：</strong> BTD25350具备高达<strong>150kV/us</strong>的共模瞬态抗扰度（CMTI）。然而，如果隔离电源变压器的原副边寄生电容过大，高频共模噪声就会通过变压器耦合干扰原边逻辑。TR-P15DS23-EE13采用的三层绝缘线和优化的绕组结构，极大地降低了原副边耦合电容（CIO​通常&lt;10pF），从而确保了BTD25350在高dv/dt开关环境下依然能保持信号完整性，不发生逻辑翻转。</p>
<p>
	<strong>独立双通道供电：</strong> BTP1521P配合TR-P15DS23的双副边绕组（N2, N3），单颗变压器即可为BTD25350的两个通道提供两组完全隔离的+18V/-4V电源。这种**“一拖二”**的架构极大地简化了双通道驱动电路的设计，降低了BOM成本。</p>
<p>
	3.2 BTD5452R：智能保护功能的电源依赖</p>
<p>
	<strong>BTD5452R</strong>是一款集成了米勒钳位、去饱和保护（DESAT）及软关断功能的智能驱动芯片 。其复杂的保护逻辑对电源稳定性提出了极高要求。</p>
<p>
	3.2.1 欠压锁定（UVLO）与电源时序</p>
<p>
	BTD5452R对副边电源（VDD-VEE）具有严格的UVLO监控机制。其推荐工作电压范围为13V-30V。</p>
<p>
	<strong>正压欠压：</strong> 如果正压低于阈值（如12V），芯片会锁定输出并拉低RDY引脚 。BTP1521P的稳压特性确保了VDD始终稳定在+18V（相对源极），远离UVLO阈值，防止了因电源波动导致的误保护。</p>
<p>
	<strong>负压稳定性：</strong> BTD5452R要求VEE为负值。TR-P15DS23提供的-4V负压不仅用于关断，还为内部<a href="https://m.hqchip.com/app/1737" target="_blank"><u>比较器</u></a>提供了参考电平。</p>
<p>
	3.2.2 DESAT保护与电压精度</p>
<p>
	DESAT保护是通过监测MOSFET导通时的VDS​电压来判断是否发生短路。检测阈值通常设定在9V左右 。</p>
<p>
	<strong>关联性：</strong> SiC MOSFET的导通电阻RDS(on)​与栅极电压VGS​强相关。如果驱动电压从+18V跌落至+15V，RDS(on)​会显著上升，导致正常工作电流下的VDS​增加，可能误触发DESAT保护。BTP1521P提供的强劲驱动功率（6W）和低内阻特性，确保了在大电流开关瞬间驱动电压不跌落，从而保证了DESAT检测的准确性。</p>
<p>
	3.2.3 主动米勒钳位（Active Miller Clamp）</p>
<p>
	BTD5452R内置了1A吸电流能力的米勒钳位功能 。</p>
<p>
	<strong><a href="https://m.elecfans.com/v/tag/773/" target="_blank"><u>工作原理</u></a>：</strong> 在关断阶段，当栅极电压降至2V以下时，钳位管导通，将栅极直接拉到VEE。</p>
<p>
	<strong>电源协同：</strong> 此时，TR-P15DS23提供的**-4V** VEE电位至关重要。钳位到-4V比钳位到0V能提供更强的抗干扰能力，彻底“钉死”栅极电压，防止米勒电容耦合导致的寄生导通。</p>
<p>
	3.3 BTD5350：单通道驱动的灵活配置</p>
<p>
	对于<strong>BTD5350</strong>系列（特别是带米勒钳位的BTD5350M版本），其应用场景往往对体积要求严格 。BTP1521P的DFN3*3封装与EE13变压器的紧凑组合，使得单通道驱动模块可以做得非常小巧，能够直接焊接在功率模块的引脚旁，最大程度减小栅极回路面积。</p>
<p>
	第四章 全栈SiC解决方案的市场认同逻辑</p>
<p>
	基本半导体之所以能成为国产SiC首选品牌，不仅仅是因为其单个芯片性能优越，更在于其构建了**“芯片+电源+驱动+模块”**的完整技术闭环。这种“全栈”（Full-Stack）策略在市场上产生了深远的化学反应。</p>
<p>
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZPGl_AMOAcJslADkQmbT-ozY647.png" style="width:600px;height:335px;" alt="wKgZPGl_AMOAcJslADkQmbT-ozY647.png"/></p>
<p>
	4.1 解决碎片化痛点，降低客户研发门槛</p>
<p>
	在传统的SiC应用开发中，客户往往面临供应链碎片化的痛苦：</p>
<p>
	从A供应商买SiC模块；</p>
<p>
	从B供应商选驱动IC；</p>
<p>
	自己设计或寻找C供应商的辅助电源方案；</p>
<p>
	定制变压器。</p>
<p>
	这种模式下，各组件之间的匹配性需要客户自己验证。例如，驱动电压是否匹配？变压器隔离电容是否超标？驱动电流是否足够？ 基本半导体提供的<strong>BTP1521P + TR-P15DS23 + BTDxxxx + Pcore模块</strong>的全栈方案，实际上是提供了一套<strong>经过原厂验证的参考设计</strong>（如BSRD-2503-ES02、BSRD-2427-ES02 ）。客户无需再为变压器选型和负压产生电路头疼，直接复用该方案即可确保驱动系统与功率器件的完美匹配。这种**“交钥匙”**式的服务极大缩短了客户的研发周期，降低了试错成本。</p>
<p>
	4.2 性能的极致挖掘与可靠性保障</p>
<p>
	因为拥有芯片级的底层数据，基本半导体比任何第三方驱动厂商都更懂自家SiC MOSFET的特性。</p>
<p>
	<strong>定制化匹配：</strong> TR-P15DS23的+18V/-4V输出并非通用标准，而是基本半导体根据其第三代SiC芯片的栅氧特性量身定制的。这确保了器件在全生命周期内工作在最佳性能点，既不过压损伤寿命，也不欠压增加损耗。</p>
<p>
	<strong>车规级验证：</strong> BTP1521P和BTD系列驱动均采用了严格的质量管控体系。配合通过AQG324认证的车规级碳化硅模块（如Pcore™系列），整个链路的可靠性得到了系统级保障 。在新能源汽车主驱逆变器这种对可靠性要求苛刻的场景中，全栈自研的底气使得基本半导体能够提供更完善的失效分析和技术支持。</p>
<p>
	4.3 供应链安全与国产化替代的战略高地</p>
<p>
	在半导体供应链波动加剧的国际环境下，基本半导体的全栈能力意味着<strong>供应链主权</strong>。</p>
<p>
	<strong>自主可控：</strong> 从功率芯片的流片，到驱动IC的设计，再到辅助电源的关键物料，基本半导体实现了高度的自主化。特别是TR-P15DS23这类关键磁性元件的标准化供应，避免了客户因定制变压器交期长、产能受限而导致的停产风险。</p>
<p>
	<strong>成本竞争力：</strong> 垂直整合带来了成本优化的空间。相比于采购昂贵的进口驱动方案，基本半导体的打包方案在保证性能的前提下，提供了极具竞争力的系统成本优势，这对于对成本敏感的光伏和<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>客户极具吸引力。</p>
<p>
	第五章 市场表现与行业认可</p>
<p>
	基本半导体的全栈战略已经转化为实实在在的市场份额和行业荣誉。</p>
<p>
	5.1 市场份额与出货量</p>
<p>
	据统计，基本半导体已累计出货超过几千<strong>万只</strong>碳化硅功率器件，服务全球超过<strong>600家</strong>客户 。在竞争激烈的国产SiC模块市场，基本半导体凭借Pcore™系列车规模块和工业级模块，其产品广泛应用于电固态变压器SST、储能变流器PCS、Hybrid inverter混合逆变器、户储、工商业储能PCS、构网型储能PCS、集中式大储PCS、商用车电驱动、矿卡电驱动、风电变流器、数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>HVDC、<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>DC储能、服务器电源、重卡电驱动、大巴电驱动、中央空调<a href="https://www.elecfans.com/v/tag/2471/" target="_blank"><u>变频器</u></a>等核心领域。</p>
<p>
	5.2 标杆客户的深度合作</p>
<p>
	<strong>工业领域：</strong> 获得风电/光伏巨头<strong>颁发的“最佳协同奖”以及</strong>的“优秀合作奖” 。这些来自头部终端客户的奖项，是对基本半导体产品质量、交付能力及技术服务的最强背书。</p>
<p>
	第六章 结论</p>
<p>
	综上所述，<strong>BTP1521P</strong>电源芯片与<strong>TR-P15DS23-EE13</strong>隔离变压器的组合，绝非简单的电源物料堆砌，而是基本半导体深思熟虑的战略布局。</p>
<p>
	<strong>技术层面：</strong> 它们构建了一个高频、高隔离、电压精准的驱动能量中枢，完美解决了SiC MOSFET对负压关断、米勒钳位和高频隔离的严苛需求，释放了<strong>BTD系列</strong>驱动芯片和SiC功率器件的极致性能。</p>
<p>
	<strong>产品层面：</strong> 它们构成了基本半导体**“全栈SiC解决方案”**的基石。通过提供从控制器、变压器、驱动器到功率模块的一站式方案，基本半导体解决了客户的系统集成难题，降低了研发门槛，提升了系统可靠性。</p>
<p>
	<strong>市场层面：</strong> 这种技术闭环带来的高性能、高可靠性和供应链安全，使得基本半导体在国产替代的浪潮中脱颖而出，赢得了从Tier-1车厂到能源巨头的广泛信赖，无可争议地成为国产SiC功率半导体的领军品牌。</p>
<p>
	在未来的电力电子竞争中，基本半导体这种“以点带面、系统协同”的全栈模式，必将成为推动SiC碳化硅技术大规模普及的核心引擎。</p>
<p>
	附录：关键技术参数对照表</p>
<p>
	表1：驱动电源系统核心参数</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>组件</strong></th>
			<th style="padding:12px 7px;">
				<strong>参数项</strong></th>
			<th style="padding:12px 7px;">
				<strong>规格数值</strong></th>
			<th style="padding:12px 7px;">
				<strong>针对SiC驱动的优化意义</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>BTP1521P</strong></td>
			<td style="padding:12px 7px;">
				拓扑结构</td>
			<td style="padding:12px 7px;">
				正激 (Forward)</td>
			<td style="padding:12px 7px;">
				相比反激，输出纹波更小，电压更稳定</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				工作频率</td>
			<td style="padding:12px 7px;">
				可达 1.3MHz</td>
			<td style="padding:12px 7px;">
				减小变压器体积，远离IGBT/MOS开关频率干扰</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				软启动</td>
			<td style="padding:12px 7px;">
				1.5ms</td>
			<td style="padding:12px 7px;">
				防止上电浪涌电流冲击，保护副边电容</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				UVLO阈值</td>
			<td style="padding:12px 7px;">
				4.7V</td>
			<td style="padding:12px 7px;">
				确保芯片在稳定电压下工作，防止逻辑错误</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>TR-P15DS23</strong></td>
			<td style="padding:12px 7px;">
				输出电压</td>
			<td style="padding:12px 7px;">
				整流后 ~22V</td>
			<td style="padding:12px 7px;">
				分裂为+18V/-4V，完美匹配SiC栅极耐压</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				隔离耐压</td>
			<td style="padding:12px 7px;">
				4500Vac</td>
			<td style="padding:12px 7px;">
				满足1500V光伏/800V汽车系统的高压安规要求</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				爬电距离</td>
			<td style="padding:12px 7px;">
				6.4mm</td>
			<td style="padding:12px 7px;">
				符合EN 50178标准，无需额外灌封</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				绕组结构</td>
			<td style="padding:12px 7px;">
				10:16:16</td>
			<td style="padding:12px 7px;">
				双副边设计，单变压器驱动半桥上下管</td>
		</tr></tbody></table><p>
	表2：BTD系列驱动芯片保护功能映射</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>驱动型号</strong></th>
			<th style="padding:12px 7px;">
				<strong>核心功能</strong></th>
			<th style="padding:12px 7px;">
				<strong>电源系统的支持作用</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>BTD5452R</strong></td>
			<td style="padding:12px 7px;">
				DESAT保护</td>
			<td style="padding:12px 7px;">
				+18V稳定电压确保RDS(on)​恒定，避免DESAT误触发</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				米勒钳位</td>
			<td style="padding:12px 7px;">
				-4V负压提供低阻抗回路，确保钳位有效性</td>
		</tr><tr><td style="padding:12px 7px;">
				</td>
			<td style="padding:12px 7px;">
				UVLO</td>
			<td style="padding:12px 7px;">
				电源平稳的软启动防止RDY信号反复跳变</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>BTD25350</strong></td>
			<td style="padding:12px 7px;">
				高CMTI</td>
			<td style="padding:12px 7px;">
				变压器低原副边电容设计，配合驱动实现150kV/us抗扰</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>BTD5350</strong></td>
			<td style="padding:12px 7px;">
				分离输出</td>
			<td style="padding:12px 7px;">
				提供足够的瞬态电流能力，支持分别调节开通/关断速度</td>
		</tr></tbody></table><br/>]]></description></item><item>    <title><![CDATA[电磁兼容RS103整改：“结构-滤波-接地”的黄金法则]]></title>    <link>https://www.elecfans.com/d/7624382.html</link>    <guid>https://www.elecfans.com/d/7624382.html</guid>    <pubDate>2026-02-01 14:59:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	深圳南柯电子｜<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a><a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>103整改："结构-滤波-接地"的黄金法则</p>
<p style="text-indent:2em;">
	在军用电子设备、航空航天装备等高可靠性领域，电磁兼容性（<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>EMC</u></a>）是决定产品能否在复杂电磁环境中稳定运行的核心指标。其中，RS103作为GJB151B标准中的关键测试项，通过<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a><a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>线、<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>基站、雷达等强电磁干扰场景，直接考核设备在10kHz-40GHz频段内的抗辐射干扰能力。然而，据统计，约60%的军用设备在首次RS103测试中因<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>中断、功能异常等问题未达标，整改成本占研发总投入的15%-20%。本文深圳南柯电子小编将探讨电磁兼容RS103整改的相关内容，深入解析其核心方法论。</p>
<p style="text-indent:2em;">
	一、电磁兼容RS103整改的测试原理：超宽频段下的“电磁生存压力测试”</p>
<p style="text-indent:2em;">
	RS103本质是电场辐射敏感度测试，其核心逻辑是通过双锥<a href="https://bbs.elecfans.com/group_1219" target="_blank"><u>天线</u></a>、对数周期天线等设备，在<a href="https://bbs.elecfans.com/zhuti_rf_1.html" target="_blank"><u>微波</u></a>暗室中模拟高压线下2米处的极端电磁环境。测试覆盖10kHz-40GHz超宽频段，涵盖短波电台、5G基站、<a href="https://www.elecfans.com/v/tag/4084/" target="_blank"><u>毫米波雷达</u></a>等典型干扰源。根据GJB151B标准，设备需在50V/m、100V/m、200V/m三档场强下持续暴露1小时，期间功能性能指标偏差不得超过10%。</p>
<p style="text-indent:2em;">
	典型测试场景：</p>
<p style="text-indent:2em;">
	1、某型<a href="https://www.elecfans.com/v/tag/12732/" target="_blank"><u>无人机</u></a>在200V/m场强下，GPS模块因1.2GHz频段干扰导致定位偏移超500米；</p>
<p style="text-indent:2em;">
	2、机载平板<a href="https://m.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>在150-300MHz频段出现屏幕回退，经诊断为按键排线<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>干扰引发处理器异常。</p>
<p style="text-indent:2em;">
	二、电磁兼容RS103整改的失效模式解析：三大典型问题与根源定位</p>
<p style="text-indent:2em;">
	1、通信中断：高频耦合的“隐形杀手”</p>
<p style="text-indent:2em;">
	（1）案例：某机载设备在150-300MHz频段出现屏幕回退，诊断发现按键排线未加滤波措施，耦合200V/m场强后直接干扰<a href="https://www.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>。</p>
<p style="text-indent:2em;">
	（2）整改方案</p>
<p style="text-indent:2em;">
	①在排线加装扁平铁氧体磁环，利用其高频阻抗特性抑制干扰；</p>
<p style="text-indent:2em;">
	②在处理器I/O管脚焊接330pF滤波<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，谐振频率300MHz，形成低通滤波效应。</p>
<p style="text-indent:2em;">
	2、功能异常：共模干扰的“连锁反应”</p>
<p style="text-indent:2em;">
	（1）案例：某装置在CS116脉冲注入测试中，因<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>线与<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>线捆扎导致显示器黑屏，根源为共模电压转化为差模干扰。</p>
<p style="text-indent:2em;">
	（2）整改方案</p>
<p style="text-indent:2em;">
	①分离电源线与信号线走线，减少互感耦合；</p>
<p style="text-indent:2em;">
	②采用屏蔽丝网连接机壳地与信号地，降低地环路阻抗；</p>
<p style="text-indent:2em;">
	③电缆外层增加金属丝网并360°端接，抑制高频辐射干扰。</p>
<p style="text-indent:2em;">
	3、性能退化：屏蔽设计不足的“累积效应”</p>
<p style="text-indent:2em;">
	（1）案例：某型<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>在50V/m场强下输出信号漂移超标，经分析为前端电路屏蔽体存在1mm缝隙，导致电磁泄漏。</p>
<p style="text-indent:2em;">
	（2）整改方案</p>
<p style="text-indent:2em;">
	①设计筛状结构屏蔽体，既保证信号采集又衰减电磁波；</p>
<p style="text-indent:2em;">
	②屏蔽体与线缆连接部位采用导电胶填充，确保电连续性；</p>
<p style="text-indent:2em;">
	③增加机箱盖板与侧壁接缝处的铜质簧片，提升屏蔽效能。</p>
<p style="text-indent:2em;">
	三、电磁兼容RS103整改的技术路径：屏蔽、滤波、接地的“黄金三角”</p>
<p style="text-indent:2em;">
	1、结构屏蔽：物理隔离的“第一道防线”</p>
<p style="text-indent:2em;">
	（1）材料选择：采用导电橡胶、金属丝网等材料填充缝隙，确保屏蔽体表面<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>＜0.1Ω/sq；</p>
<p style="text-indent:2em;">
	（2）孔径设计：屏蔽体开孔直径需小于λ/20，例如40GHz频段孔径需＜0.375mm；</p>
<p style="text-indent:2em;">
	（3）端接工艺：屏蔽电缆与航插连接处采用360°端接，接触电阻＜1mΩ，避免“天线效应”。</p>
<p style="text-indent:2em;">
	2、电源与信号滤波：高频噪声的“精准拦截”</p>
<p style="text-indent:2em;">
	（1）电源滤波：在设备电源入口加装π型<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，典型参数为L=10μH、C=100nF，可抑制10kHz-100MHz干扰；</p>
<p style="text-indent:2em;">
	（2）信号滤波：在敏感信号路径加装铁氧体磁环或电容，形成低通滤波网络；</p>
<p style="text-indent:2em;">
	（3）布局优化：滤波器需靠近干扰源安装，减少未滤波段长度，避免“二次污染”。</p>
<p style="text-indent:2em;">
	3、接地优化：地环路干扰的“终极破解”</p>
<p style="text-indent:2em;">
	（1）单点接地：适用于低频电路，通过星型接地网络减少地环路；</p>
<p style="text-indent:2em;">
	（2）多点接地：高频电路采用混合接地，例如将机箱地与信号地通过0Ω电阻连接，降低阻抗；</p>
<p style="text-indent:2em;">
	（3）接地电阻：确保设备接地电阻＜0.1Ω，避免因地电位差引发干扰。</p>
<p style="text-indent:2em;">
	四、电磁兼容RS103整改的系统化建议：从研发到测试的全流程管控</p>
<p style="text-indent:2em;">
	1、研发阶段：EMC<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>预测风险</p>
<p style="text-indent:2em;">
	（1）利用HFSS、CST等工具建立设备3D模型，模拟10kHz-40GHz频段内的电磁场分布；</p>
<p style="text-indent:2em;">
	（2）在<a href="https://bbs.elecfans.com/group_1221" target="_blank"><u>PCB设计</u></a>阶段融入屏蔽、接地规范，例如将高速信号线布置在内层，减少辐射泄漏。</p>
<p style="text-indent:2em;">
	2、测试阶段：闭环化问题解决</p>
<p style="text-indent:2em;">
	（1）建立“摸底测试-问题定位-整改验证”流程，结合排除法、互换法、诊断测试法快速定位问题；</p>
<p style="text-indent:2em;">
	（2）制定标准化整改方案库，例如针对屏幕回退问题直接调用“排线滤波+<a href="https://www.elecfans.com/tags/电容滤波/" target="_blank"><u>电容滤波</u></a>”组合方案。</p>
<p style="text-indent:2em;">
	3、资源整合：专业化团队与工具</p>
<p style="text-indent:2em;">
	（1）实验室选择：优先选择具备C<a href="https://www.elecfans.com/tags/nas/" target="_blank"><u>NAS</u></a>/CMA资质、3米法电波暗室的机构（如北京都兴科思检测技术有限公司）；</p>
<p style="text-indent:2em;">
	（2）工具配置：配备EMS抗干扰诊断系统、近场探头、频谱分析仪等专业设备；</p>
<p style="text-indent:2em;">
	（3）团队建设：培养具备电磁场理论、<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>、结构工艺的复合型整改<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>。</p>
<p style="text-indent:2em;">
	综上所述，RS103整改是电磁兼容领域的“硬骨头”，其复杂性源于超宽频段、极端场强、多源干扰的叠加效应。然而，电磁兼容RS103整改通过系统化方法论与全流程管控，企业可将整改成本降低30%以上，同时将产品通过率提升至90%。随着5G、<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>等技术的普及，电磁兼容RS103整改的重要性将进一步凸显，成为高可靠性电子设备“出海”的必备通行证。</p>]]></description></item><item>    <title><![CDATA[电子产品EMC整改：助力从定位到优化的系统性解决方案]]></title>    <link>https://www.elecfans.com/d/7556125.html</link>    <guid>https://www.elecfans.com/d/7556125.html</guid>    <pubDate>2026-02-01 15:01:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	电子产品<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>EMC</u></a>整改：助力从定位到优化的系统性解决方案｜南柯电子</p>
<p style="text-indent:2em;">
	在<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a><a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>、<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>和智能汽车快速发展的今天，电子产品的<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性（EMC）已成为决定产品可靠性的核心指标。据统计，全球每年因EMC问题导致的设备召回损失超过200亿美元，而70%的EMC故障可通过系统性整改避免。本文南柯电子小编将探讨电子产品EMC整改的相关内容，结合<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>、<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>、<a href="https://bbs.elecfans.com/group_78" target="_blank"><u>汽车电子</u></a>等领域的典型案例，解析其完整技术路径。</p>
<p style="text-indent:2em;">
	一、电子产品EMC整改的精准定位：三步锁定干扰源</p>
<p style="text-indent:2em;">
	1、频谱分析仪频点扫描法</p>
<p style="text-indent:2em;">
	通过频谱分析仪对设备工作频段进行全频段扫描，可快速定位超标频点。例如某无线路由器在2.<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>Hz频段辐射超标，通过频谱分析发现其<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a>的二次谐波是主要干扰源。<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>通过在<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>输出端增加镍锌磁环<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，将高频噪声衰减12dB，成功通过FCC认证；</p>
<p style="text-indent:2em;">
	2、元件固有频率分析法</p>
<p style="text-indent:2em;">
	针对晶振、<a href="https://www.hqchip.com/app/1729" target="_blank"><u>DDR</u></a>内存等关键元件，需分析其工作频率及谐波。某工业控制器因12MHz晶振的三次谐波导致辐射超标，通过将晶振布局远离I/O<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，并在<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>线上增加100Ω串联<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和100pF并联<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>，形成RC滤波网络，使辐射强度降低18dB；</p>
<p style="text-indent:2em;">
	3、模块隔离排除法</p>
<p style="text-indent:2em;">
	采用分区域断电测试，可快速定位干扰模块。某医疗设备在断开<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>驱动模块后辐射降低25dB，进一步检查发现其<a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a><a href="https://www.elecfans.com/soft/data/4-15/" target="_blank"><u>开关电路</u></a>缺少缓冲电容，导致di/dt突变产生强电磁辐射。通过增加10nF/1kV陶瓷电容，将辐射值控制在标准限值内。</p>
<p style="text-indent:2em;">
	二、电子产品EMC整改的传播路径阻断：三维立体防控体系</p>
<p style="text-indent:2em;">
	1、传导干扰抑制技术</p>
<p style="text-indent:2em;">
	（1）共模滤波：在电源输入端增加锰锌磁环<a href="https://www.hqchip.com/app/1119" target="_blank"><u>共模电感</u></a>，可有效抑制低频共模噪声。某服务器电源通过增加10mH共模电感，将传导干扰从50dBμV降至15dBμV；</p>
<p style="text-indent:2em;">
	（2）差模滤波：采用X电容与差<a href="https://www.elecfans.com/v/tag/1180/" target="_blank"><u>模电</u></a>感组合，可抑制电源线上的差模噪声。某通信设备在<a href="https://www.hqchip.com/app/1703" target="_blank"><u>DC</u></a>-DC<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>输出端增加2.2μF X电容和5mH差模电感，使差模噪声衰减22dB；</p>
<p style="text-indent:2em;">
	（3）π型滤波网络：结合X电容、Y电容和电感形成低通滤波器。某<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车充电模块在输入端增加π型滤波器，将开关频率及其谐波抑制40dB以上。</p>
<p style="text-indent:2em;">
	2、辐射干扰屏蔽技术</p>
<p style="text-indent:2em;">
	（1）金属屏蔽罩：对关键部件如开关电源、<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>模块增加铜质屏蔽罩，可降低辐射强度15-20dB。某<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>路由器通过优化屏蔽罩接地设计，使2.4GHz频段辐射余量从-3dB提升至+5dB；</p>
<p style="text-indent:2em;">
	（2）屏蔽电缆应用：采用双绞屏蔽线缆替代普通线缆，可使辐射泄漏降低10-15dB。某工业总线系统通过更换屏蔽电缆，将传导干扰从50dBμV降至10dBμV；</p>
<p style="text-indent:2em;">
	（3）缝隙处理技术：在设备外壳缝隙处粘贴导电泡棉或铜箔，可提高屏蔽连续性。某医疗设备通过在机箱缝隙处增加0.5mm厚导电泡棉，使辐射泄漏降低12dB。</p>
<p style="text-indent:2em;">
	3、<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>干扰隔离技术</p>
<p style="text-indent:2em;">
	（1）电场耦合抑制：通过增加地线隔离带或追加滤波电容，可降低电场耦合干扰。某<a href="https://bbs.elecfans.com/group_1221" target="_blank"><u>PCB设计</u></a>中，将高速<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>线与<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电路间距从0.5mm增加至2mm，并增加0.1μF滤波电容，使串扰降低25dB；</p>
<p style="text-indent:2em;">
	（2）磁场耦合抑制：采用扭绞线缆或增加磁环，可破坏磁场耦合路径。某电机驱动系统通过在电源线上增加镍锌磁环，将400Hz磁场干扰衰减18dB。</p>
<p style="text-indent:2em;">
	三、电子产品EMC整改的系统优化：从设计到生产的全程管控</p>
<p style="text-indent:2em;">
	1、<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>优化</p>
<p style="text-indent:2em;">
	（1）低噪声元件选型：选择具有低开关噪声的<a href="https://m.hqchip.com/app/1705" target="_blank"><u>电源模块</u></a>，如采用软开关技术的DC-DC转换器，可降低EMI产生量30%以上；</p>
<p style="text-indent:2em;">
	（2）拓扑结构优化：在开关电源中增加缓冲电路，可抑制开关管关断时的电压尖峰。某电源设计通过增加缓冲电路，使开关噪声降低20dB；</p>
<p style="text-indent:2em;">
	（3）时钟电路设计：采用展频技术可分散时钟信号的能量集中度。某<a href="https://www.elecfans.com/soft/data/30-91/" target="_blank"><u>FPGA</u></a>板卡通过集成SSCG模块，使时钟谐波辐射降低15dB。</p>
<p style="text-indent:2em;">
	2、<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局优化</p>
<p style="text-indent:2em;">
	（1）分层设计策略：采用四层板设计，将电源层与地层相邻布置，可降低信号线阻抗30%以上。某高速<a href="https://m.elecfans.com/v/tag/8791/" target="_blank"><u>数字电路</u></a>通过优化层叠结构，使信号完整性问题减少25%；</p>
<p style="text-indent:2em;">
	（2）关键信号隔离：将高频信号线与敏感信号线垂直交叉布置，可降低耦合干扰。某射频电路通过优化布线，使邻近信道干扰降低12dB；</p>
<p style="text-indent:2em;">
	（3）接地层设计：在高频电路中采用网格状接地层，可降低接地阻抗。某5G基站PCB通过增加接地过孔密度，使接地阻抗从50mΩ降至10mΩ。</p>
<p style="text-indent:2em;">
	3、生产过程控制</p>
<p style="text-indent:2em;">
	（1）焊接工艺优化：控制回流焊温度曲线，可避免元件虚焊导致的接触不良。某SMT生产线通过优化温度曲线，将元件虚焊率从5%降至0.2%；</p>
<p style="text-indent:2em;">
	（2）质量检测体系：建立严格的EMC测试流程，包括传导发射、辐射发射、静电放电等测试项目。某企业通过引入自动化测试系统，使测试效率提升40%；</p>
<p style="text-indent:2em;">
	（3）文档标准化管理：建立EMC设计规范和测试报告模板，可为后续产品开发提供参考。某企业通过标准化管理，使新产品EMC一次性通过率从60%提升至90%。</p>
<p style="text-indent:2em;">
	综上所述，电子产品EMC整改遵循"早期介入成本低"的黄金法则。数据显示，在设计阶段解决EMC问题的成本是量产阶段整改的1/10，是售后<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>的1/100。某汽车电子企业通过在新产品研发阶段引入电子产品EMC整改<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>分析，使产品开发周期缩短30%，测试通过率提升至95%。这充分证明，将电子产品EMC整改理念融入产品设计全流程，是提升产品竞争力的关键路径。</p>]]></description></item><item>    <title><![CDATA[工业电子EMC整改：从源头到系统的电磁兼容性方案]]></title>    <link>https://www.elecfans.com/d/7545819.html</link>    <guid>https://www.elecfans.com/d/7545819.html</guid>    <pubDate>2026-02-01 15:03:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	工业电子<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>EMC</u></a>整改：从源头到系统的<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性方案｜深圳南柯电子</p>
<p style="text-indent:2em;">
	在工业4.0与智能制造浪潮下，工业电子设备正朝着高频化、集成化、智能化方向加速演进。然而，复杂的电磁环境（如<a href="https://m.elecfans.com/v/tag/2471/" target="_blank"><u>变频器</u></a>、伺服<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>、<a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>设备共存）导致设备间电磁干扰（EMI）问题频发，轻则引发数据传输错误，重则导致设备停机甚至安全事故。</p>
<p style="text-indent:2em;">
	一、工业电子EMC整改的精准定位：EMC问题的"诊断三板斧"</p>
<p style="text-indent:2em;">
	工业设备EMC问题通常表现为辐射发射超标、抗扰度不足或传导干扰超限，其根源可能涉及<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>、<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局、屏蔽接地等多个环节。整改的首要任务是通过科学方法定位问题根源：</p>
<p style="text-indent:2em;">
	1、频谱分析法</p>
<p style="text-indent:2em;">
	使用频谱分析仪对设备进行全频段扫描，结合近场探头定位高频噪声源。例如某<a href="https://m.elecfans.com/v/tag/204/" target="_blank"><u>工业控制</u></a>器在36MHz频点辐射超标，通过频谱分析发现其12MHz晶振的三次谐波是主要干扰源，通过调整晶振布局并增加滤波电路后问题解决；</p>
<p style="text-indent:2em;">
	2、排除法</p>
<p style="text-indent:2em;">
	通过模块化隔离测试定位干扰源。某医疗设备在断开<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>驱动模块后辐射值骤降，确认电机驱动电路的PWM调制<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>是主要干扰源，后续通过优化开关管驱动电阻和增加<a href="https://www.hqchip.com/app/1119" target="_blank"><u>共模电感</u></a>实现合规；</p>
<p style="text-indent:2em;">
	3、<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>环路分析法</p>
<p style="text-indent:2em;">
	针对<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a>等高频电路，重点分析电流环路面积与频率的关系。某Buck<a href="https://www.hqchip.com/app/1718" target="_blank"><u>转换器</u></a>因输入回路面积过大导致150kHz-3MHz传导超标，通过缩短高频电流路径并增加π型<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>后通过测试。</p>
<p style="text-indent:2em;">
	二、工业电子EMC整改的系统级优化：从元件到整机的EMC设计</p>
<p style="text-indent:2em;">
	EMC整改需遵循"抑制干扰源、切断<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>路径、保护敏感设备"的三原则，结合工业设备特点实施针对性措施：</p>
<p style="text-indent:2em;">
	1、滤波技术：构建多级防护体系</p>
<p style="text-indent:2em;">
	（1）<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>端滤波：在工业设备电源输入端增加π型滤波器（如锰锌磁环+X/Y<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>组合），可有效抑制150kHz-30MHz频段的传导干扰。某伺服驱动器通过增加共模电感（感量10mH）和X电容（2.2μF），将传导噪声从50dBμV降至10dBμV；</p>
<p style="text-indent:2em;">
	（2）信号端滤波：对高速信号线（如<a href="https://www.hqchip.com/app/2004" target="_blank"><u>CAN</u></a>总线、<a href="https://m.hqchip.com/app/1720" target="_blank"><u>以太网</u></a><a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>）采用磁珠+RC滤波组合。某工业总线通过在信号线上串联100Ω<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和100pF电容，将1.2GHz辐射超标频点降低8dB；</p>
<p style="text-indent:2em;">
	（3）<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>电路滤波：针对晶振等时钟源，采用磁珠+大电容+<a href="https://www.elecfans.com/tags/高频电容/" target="_blank"><u>高频电容</u></a>的滤波方式。某<a href="https://www.elecfans.com/soft/data/30-91/" target="_blank"><u>FPGA</u></a>板卡通过增加RC滤波（R=100Ω，C=100pF），将时钟信号谐波干扰降低15dB。</p>
<p style="text-indent:2em;">
	2、接地设计：构建低阻抗回流路径</p>
<p style="text-indent:2em;">
	（1）单点接地：适用于低频电路（&lt;3MHz），如模拟电路、电源电路。某5G基站通过单点接地设计，将3.5GHz频点辐射降低10dB；</p>
<p style="text-indent:2em;">
	（2）多点接地：高频电路（&gt;300kHz）需采用多点接地形成等电位平面。某工业控制器在<a href="https://m.elecfans.com/v/tag/8791/" target="_blank"><u>数字电路</u></a>部分采用多层PCB内层接地层，将信号完整性（SI）问题减少30%；</p>
<p style="text-indent:2em;">
	（3）混合接地：结合单点与多点接地优势，如某设备在<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>电路采用单点接地、数字电路采用多点接地，有效抑制混合干扰。</p>
<p style="text-indent:2em;">
	3、屏蔽技术：阻断空间辐射传播</p>
<p style="text-indent:2em;">
	（1）金属屏蔽罩：对开关电源、<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>模块等关键部件增加金属屏蔽罩，并确保良好接地。某<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>路由器通过屏蔽罩将2.<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>Hz频点辐射降低15dB；</p>
<p style="text-indent:2em;">
	（2）屏蔽电缆：使用双绞屏蔽电缆或同轴电缆减少线缆辐射。某工业总线通过更换屏蔽电缆，将传导干扰从50dBμV降至10dBμV；</p>
<p style="text-indent:2em;">
	（3）缝隙处理：在设备外壳缝隙处贴附导电泡棉或铜箔，提高屏蔽连续性。某医疗设备通过增加导电泡棉，将辐射泄漏降低10dB。</p>
<p style="text-indent:2em;">
	三、工业电子EMC整改的场景专项优化：应对复杂电磁环境</p>
<p style="text-indent:2em;">
	工业环境具有强干扰、高可靠性要求的特点，需针对典型场景实施专项优化：</p>
<p style="text-indent:2em;">
	1、变频器与伺服系统EMC优化</p>
<p style="text-indent:2em;">
	（1）输入侧滤波：在变频器输入端增加LC滤波器，抑制电源谐波。某注塑机通过增加输入滤波器，将THD（总谐波失真）从28%降至5%；</p>
<p style="text-indent:2em;">
	（2）输出侧滤波：在电机电缆上加装正弦波滤波器，减少dV/dt对电机的绝缘损伤。某<a href="https://m.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>机床通过滤波器将电机端电压上升时间从0.1μs延长至5μs，延长电机寿命30%；</p>
<p style="text-indent:2em;">
	（3）接地优化：采用"三点接地"方案（变频器接地、电机接地、驱动器接地分开），避免地环路干扰。某起重机通过优化接地，将控制信号误动作率降低90%。</p>
<p style="text-indent:2em;">
	2、无线通信设备抗干扰设计</p>
<p style="text-indent:2em;">
	（1）频谱规划：避免工业无线设备（如Wi-Fi、<a href="https://www.elecfans.com/tags/zigbee/" target="_blank"><u>ZigBee</u></a>）与变频器、伺服驱动器频段重叠。某智能工厂通过将Wi-Fi频段调整至<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>Hz，避免与2.4GHz工业设备干扰；</p>
<p style="text-indent:2em;">
	（2）<a href="https://bbs.elecfans.com/group_1219" target="_blank"><u>天线</u></a>优化：采用定向天线减少空间辐射，并通过天线隔离度测试确保设备间距符合要求。某AGV小车通过增加天线隔离度，将<a href="https://www.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>中断率从5%降至0.1%；</p>
<p style="text-indent:2em;">
	（3）软件抗干扰：采用跳频扩频（FHSS）技术，如<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>设备通过在79个1MHz子信道上快速跳变，有效避免工业环境干扰。</p>
<p style="text-indent:2em;">
	四、工业电子EMC整改的"黄金法则"</p>
<p style="text-indent:2em;">
	1、早介入原则：在产品设计阶段融入EMC理念，比后期整改节省80%成本。某企业通过在新产品研发阶段采用EMC<a href="https://bbs.elecfans.com/zhuti_proteus_1.html" target="_blank"><u>仿真</u></a>工具，将整改周期从3个月缩短至2周；</p>
<p style="text-indent:2em;">
	2、分层治理原则：从元件级（如选择低噪声器件）、板级（PCB布局优化）、系统级（屏蔽接地设计）分层实施整改，避免"头痛医头"的局部优化；</p>
<p style="text-indent:2em;">
	3、数据驱动原则：建立EMC测试数据库，记录问题频点、整改措施及效果，为后续产品提供参考。某企业通过积累500+案例数据，将新产品的EMC一次通过率从60%提升至95%。</p>
<p style="text-indent:2em;">
	结语</p>
<p style="text-indent:2em;">
	工业电子EMC整改的设备是一项系统性工程，需结合电磁理论、电路设计、材料科学等多学科知识，通过"定位-分析-优化-验证"的闭环流程实现。随着工业互联网、5G等技术的普及，工业电子EMC整改设计已成为产品竞争力的核心要素之一。企业需建立完善的工业电子EMC整改管理体系，从设计源头把控质量，才能在激烈的国际竞争中占据先机。</p>]]></description></item><item>    <title><![CDATA[物联照明EMC整改：从技术攻坚到系统化升级的全面指南]]></title>    <link>https://www.elecfans.com/d/7534465.html</link>    <guid>https://www.elecfans.com/d/7534465.html</guid>    <pubDate>2026-02-01 15:04:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	物联照明<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>EMC</u></a>整改：从技术攻坚到系统化升级的全面指南｜南柯电子</p>
<p style="text-indent:2em;">
	在智慧城市与<a href="https://www.elecfans.com/v/tag/663/" target="_blank"><u>智能家居</u></a>加速落地的背景下，物联照明设备凭借远程控制、智能调光、能耗监测等功能成为市场主流。然而，高频<a href="https://www.hqchip.com/app/1703" target="_blank"><u>开关电源</u></a>、<a href="https://www.elecfans.com/v/tag/1252/" target="_blank"><u>无线通信</u></a>模块及<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>电路的密集集成，导致<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性（EMC）问题频发，轻则引发设备误动作，重则干扰其他电子设备正常工作。据统计，2025年全球灯具因EMC问题导致的市场召回率较2020年上升37%，辐射超标、谐波<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>超限、静电抗扰度不足成为三大核心痛点。本文南柯电子小编将探讨物联照明EMC整改的相关内容，深入解析其全链路解决方案。</p>
<p style="text-indent:2em;">
	一、物联照明EMC整改的精准定位：从干扰源到<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>路径的全频段扫描</p>
<p style="text-indent:2em;">
	EMC问题的本质是电磁能量失衡引发的干扰传递，其形成机制可拆解为干扰源、耦合路径与敏感设备三大要素。高频开关电源的PWM调制<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>、无线模块的<a href="https://m.elecfans.com/v/tag/105/" target="_blank"><u>射频</u></a>辐射、传感器电路的<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>信号是主要噪声源。例如，某品牌智能灯泡因未采用软启动技术，启动瞬间产生120dBμV的脉冲干扰，超出EN55015标准限值25dB。</p>
<p style="text-indent:2em;">
	二、物联照明EMC整改的硬件优化：从<a href="https://bbs.elecfans.com/zhuti_dianlu_1.html" target="_blank"><u>电路设计</u></a>到屏蔽材料的系统性升级</p>
<p style="text-indent:2em;">
	1、<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>设计：主动式<a href="https://m.hqchip.com/app/1717" target="_blank"><u>PFC</u></a>与高频PWM调制</p>
<p style="text-indent:2em;">
	（1）主动式PFC电路：以UCC28019<a href="https://www.hqchip.com/app/1730" target="_blank"><u>控制芯片</u></a>为核心的升压PFC电路，可将<a href="https://m.hqchip.com/app/1717" target="_blank"><u>功率因数</u></a>提升至0.99，3次谐波抑制率达40dB。某企业通过该方案，使额定功率20W的<a href="https://m.hqchip.com/app/1721" target="_blank"><u>LED</u></a>灯具满足GB 17625.1-2022 Class C标准；</p>
<p style="text-indent:2em;">
	（2）高频PWM调制：将驱动频率从20kHz提升至100kHz后，5次谐波幅度下降22dB，显著降低低频噪声。</p>
<p style="text-indent:2em;">
	2、滤波网络：多级防护体系构建</p>
<p style="text-indent:2em;">
	（1）输入端滤波：采用π型<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>，电感选用磁芯饱和电流大于实际工作电流20%的型号，<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>选用低ESR<a href="https://www.hqchip.com/app/1139" target="_blank"><u>电解电容</u></a>与<a href="https://www.hqchip.com/app/398" target="_blank"><u>MLCC</u></a>陶瓷电容并联；</p>
<p style="text-indent:2em;">
	（2）输出端滤波：增加共模扼流圈，其阻抗在150kHz-30MHz频段需≥100Ω。某智能灯具通过该措施，将传导干扰从75dBμV降至50dBμV。</p>
<p style="text-indent:2em;">
	3、<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>布局：关键信号与电源路径优化</p>
<p style="text-indent:2em;">
	（1）时钟电路布局：远离I/O<a href="https://m.hqchip.com/app/1787" target="_blank"><u>接口</u></a>，采用单点接地，地线宽度≥2mm；信号线采用差分布线，间距≥3倍线宽，长度差≤λ/20。某<a href="https://bbs.elecfans.com/group_941" target="_blank"><u>LED驱动</u></a>板通过优化布局，将差模辐射从65dBμV降至42dBμV；</p>
<p style="text-indent:2em;">
	（2）电源路径优化：缩短高频电流路径，减少环路面积。例如，将<a href="https://www.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>与<a href="https://m.hqchip.com/app/1705" target="_blank"><u>电源模块</u></a>的布局距离缩短30%，可降低辐射干扰强度。</p>
<p style="text-indent:2em;">
	4、屏蔽技术：材料与工艺的精细化控制</p>
<p style="text-indent:2em;">
	（1）金属外壳屏蔽：铝合金材质配合导电泡棉，缝隙宽度需≤λ/20；</p>
<p style="text-indent:2em;">
	（2）关键电路屏蔽罩：对无线模块等敏感电路采用铜箔屏蔽罩，接地引脚数量≥4个。某智能灯具通过将接地阻抗从0.5Ω降至0.1Ω，使静电放电抗扰度从2kV提升至8kV。</p>
<p style="text-indent:2em;">
	三、物联照明EMC整改的软件协同：从展频技术到<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>辅助诊断的智能调控</p>
<p style="text-indent:2em;">
	1、展频技术</p>
<p style="text-indent:2em;">
	通过随机调制开关频率，将频谱能量分散至更宽频带。某驱动芯片采用±4%的展频范围后，峰值辐射降低15dB；</p>
<p style="text-indent:2em;">
	2、跳频技术</p>
<p style="text-indent:2em;">
	动态切换工作频率，避开敏感频段。例如，某无线模块在2.<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a>Hz频段内动态跳频，避免与<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>信号冲突；</p>
<p style="text-indent:2em;">
	3、数字滤波<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a></p>
<p style="text-indent:2em;">
	在信号采集端植入IIR低通滤波器，可抑制高频噪声。例如，某智能灯具的传感器数据误差率从12%降至2%；</p>
<p style="text-indent:2em;">
	4、AI辅助诊断系统</p>
<p style="text-indent:2em;">
	通过<a href="https://www.elecfans.com/v/tag/557/" target="_blank"><u>机器学习</u></a>分析测试数据，自动定位干扰源。某企业开发的EMC智能诊断系统，将干扰源定位时间从72小时缩短至2小时，显著提升整改效率。</p>
<p style="text-indent:2em;">
	四、物联照明EMC整改的测试验证：从预测试到标准适配的全流程管控</p>
<p style="text-indent:2em;">
	1、预测试迭代</p>
<p style="text-indent:2em;">
	在第三方实验室完成3轮摸底测试，使用频谱分析仪与暗室进行辐射测试，电流探头（如<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>ktronix TCP0030）进行传导测试。某企业通过预测试发现，其灯具在9kHz-30MHz频段的骚扰电压超标8dB，经优化滤波电路后通过正式测试。</p>
<p style="text-indent:2em;">
	2、标准适配</p>
<p style="text-indent:2em;">
	（1）欧盟：EN55015、EN61547、EN61000-3-2；</p>
<p style="text-indent:2em;">
	（2）北美：FCC Part 15B、ANSI C63.4；</p>
<p style="text-indent:2em;">
	（3）中国：GB/T 17743、GB/T 17625.1。</p>
<p style="text-indent:2em;">
	五、物联照明EMC整改的企业合规策略：从成本控制到零组件协同的长期规划</p>
<p style="text-indent:2em;">
	1、成本优化策略</p>
<p style="text-indent:2em;">
	优先采用PCB布局优化，其次选滤波器等外挂元件。某医疗设备厂商通过优化时钟电路布局，减少60%的屏蔽材料使用，单机成本下降15美元；</p>
<p style="text-indent:2em;">
	2、供应链协同管理</p>
<p style="text-indent:2em;">
	要求供应商提供<a href="https://m.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>EMC测试报告，确保零组件级合规。例如，某企业通过建立供应商EMC评级体系，将元器件级合规率从70%提升至95%；</p>
<p style="text-indent:2em;">
	3、知识库建设与人才培训</p>
<p style="text-indent:2em;">
	建立EMC知识库，定期培训<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>掌握最新标准。某企业通过该机制，使产品一次通过率从65%提升至92%，显著降低返工成本。</p>
<p style="text-indent:2em;">
	综上所述，随着<a href="https://www.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>与<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>的普及，物联照明EMC整改设计将向更低功耗、更高集成度方向发展。未来，企业需构建“硬件-软件-测试-合规”四位一体的物联照明EMC整改管理体系，通过持续创新赢得市场先机。例如，通过物联照明EMC整改合同能源管理模式，不仅解决了城市路灯改造的资金难题，更通过物联网、大数据和<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>技术的融合应用，让城市照明从简单的“点亮”升级为智慧的“感知”，为智慧城市建设奠定了坚实基础。</p>]]></description></item><item>    <title><![CDATA[珠海多创充电桩剩余电流传感器：硬核技术助力充电桩认证通关！]]></title>    <link>https://www.elecfans.com/d/7617845.html</link>    <guid>https://www.elecfans.com/d/7617845.html</guid>    <pubDate>2026-02-01 15:14:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	随着<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>汽车产业的高速迭代，<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>3C强制<a href="https://bbs.elecfans.com/group_776" target="_blank"><u>认证</u></a>实施进入倒计时，从早期的CQC认证到如今3C强制标准的全面收紧，政策层面不断抬高行业准入门槛，对充电桩的安全防护技术提出了更为严苛的创新要求。在这场关乎安全与合规的行业变革中，珠海多创科技凭借三年深耕沉淀，用硬核实力为众多桩企及汽车配件企业的3C认证之路保驾护航。</p>
<p style="text-indent:2em;">
	作为国家级高新技术企业、广东省专精特新中小企业，珠海多创自2018年成立以来，便聚焦高性能磁传感芯片与<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a><a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>模组的核心研发，依托由国家级特聘教授、国家科技进步二等奖获得者领衔的技术团队，以及与西安交通大学等高校共建的智能<a href="https://bbs.elecfans.com/zhuti_control_1.html" target="_blank"><u>传感技术</u></a>研究院，构建起从材料创新到工艺革新的完整技术体系，累计斩获130余项专利及软件著作权，为产品的技术领先性奠定了坚实基础。</p>
<p style="text-indent:2em;">
	三年市场深耕，见证实力沉淀。截至目前，珠海多创已成功服务充电桩企业、充电桩主板方案商及车企客户70余家、各类充电桩剩余电流传感器月出货量稳定突破10万套，凭借规模化交付能力与稳定的产品品质，成为华南地区乃至全国充电桩传感器领域的核心供应商。在政策合规层面，公司率先完成技术迭代，其A+6剩余电流传感器已助力多家桩企及汽车配件企业的充电桩产品顺利通过3C认证，解决了企业在强制认证中的核心技术痛点，成为行业合规升级的“助推器”。</p>
<p style="text-indent:2em;">
	市场的认可，是产品品质最有力的佐证。仅在珠三角地区，珠海多创的剩余电流传感器已广泛应用于 4000 多个充电站，尤其在深圳、东莞、广州充电桩产业集群中，历经长期户外复杂环境的运营检验，创下零故障运行的行业佳绩。从模式二随车充到模式三7KW/22KW交流充电桩，这款传感器始终以稳定可靠的性能守护每一次充电过程的安全，用硬核实力诠释了 “充电桩安全卫士” 的核心价值。</p>]]></description></item><item>    <title><![CDATA[长城汽车定制车机字体全球免费商用]]></title>    <link>https://www.elecfans.com/d/7634189.html</link>    <guid>https://www.elecfans.com/d/7634189.html</guid>    <pubDate>2026-02-01 15:15:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，长城汽车正式宣布，其自研的定制车机字体“长城黑体”即日起更名为“长城共享体”，并面向全球设计者、<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>及企业开放免费商用版权，用户可通过长城汽车官方网站获取。</p>
<p style="text-indent:2em;">
	此举不仅是长城汽车将“安全”技术理念从驾驶领域延伸至数字交互层面的重要举措，也是其践行全球化战略与“廉信创变共分享”企业价值观的关键一步，旨在以开放姿态推动行业设计标准与安全意识的共同提升。</p>
<p style="text-indent:2em;">
	为驾驶而生，一款字体的使命进化</p>
<p style="text-indent:2em;">
	“长城共享体”的诞生，始于长城汽车对驾驶安全与用户体验的极致追求。在智能座舱时代，车机屏幕成为关键交互界面，而字体作为信息传递的基础载体，其清晰度、易读性直接关系到行车安全。与传统静态字体不同，车机字体需在车辆震动、多视角观看、环境光线剧烈变化等复杂动态场景下，依然保持稳定的瞬时识别效率。</p>
<p style="text-indent:2em;">
	为此，长城汽车与全球<a href="https://m.hqchip.com/gongsi.html" target="_blank"><u>知名</u></a>字体公司蒙纳（Monotype）及著名字体设计师小林章合作，成为国内首家原创设计中文车机字体的汽车品牌。设计团队以“降低识别负荷、保障驾驶安全”为核心，进行了大量人机工学测试，以确保字体在极端条件下的可读性。测试数据显示，“长城共享体”相较普通字体，能有效减少用户约30%的阅读时长，为关键时刻的驾驶决策争取宝贵时间。</p>
<p style="text-indent:2em;">
	兼顾全球视野与东方美学，从设计基因到工程实现</p>
<p style="text-indent:2em;">
	“长城共享体”不仅是安全工具，也是品牌美学的延伸。字体设计从东方美学中汲取灵感，运用中宫微调、统一圆角转折等技巧，在保证笔画结构简洁开放的同时，为字符内部营造了充裕的“呼吸感”，兼顾了不同子品牌车型的美学差异。</p>
<p style="text-indent:2em;">
	更名并开放版权的核心动力在于其庞大的语言支持体系。字体首期已包含约3500个中文常用字及拉丁字体。陆续上线的二期字库将实现全球化覆盖，计划包含约2.2万个中文生僻字，并扩展至超过170种语言版本（含约137种小语种），如俄语、阿拉伯语、泰语等，每种语言均提供多种字重。</p>
<p style="text-indent:2em;">
	设计团队对多语种字符组合、超长文本在车机界面中的适配进行了深度优化，确保了全球用户在座舱内都能获得统一、清晰、安全的视觉交互体验。当前，长城共享体已在国内及海外多款车型上搭载。</p>
<p style="text-indent:2em;">
	从私有资产到公共资源：免费共享引领产业范式进化</p>
<p style="text-indent:2em;">
	长城汽车开创性地研发车机字体并免费开放商用版权，标志着汽车产业正从<a href="https://m.elecfans.com/v/tag/1268/" target="_blank"><u>机械制造</u></a>向“数字生活空间”的构建深化。字体作为品牌视觉身份与用户体验的底层要素，其专业化进程已引发行业关注。</p>
<p style="text-indent:2em;">
	此次将“长城黑体”更名为“长城共享体”并向全球开放版权，意味着长城汽车将这项关乎安全与美学的技术成果，从企业私有资产转变为行业公共资源。这不仅能够降低全行业的设计门槛与成本，更能将经过严苛驾驶环境验证的安全设计标准推向更广阔的应用领域，惠及更多用户。</p>
<p style="text-indent:2em;">
	未来，长城汽车将持续迭代并维护“长城共享体”。在细节处的持续投入与共享，正是对“廉信创变共分享”理念的最好践行。长城汽车愿与全球伙伴携手，共同推动智能出行体验向更安全、更包容的方向演进。</p>]]></description></item><item>    <title><![CDATA[长城汽车荣获杜比2025年度杰出汽车合作伙伴大奖]]></title>    <link>https://www.elecfans.com/d/7634190.html</link>    <guid>https://www.elecfans.com/d/7634190.html</guid>    <pubDate>2026-02-01 15:18:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月29日，长城汽车凭借卓越的杜比全景声车载体验，一举荣获杜比所颁发的“杰出汽车合作伙伴”大奖。</p>
<p style="text-indent:2em;">
	全球<a href="https://m.hqchip.com/app/1537" target="_blank"><u>音频</u></a>技术领域领军者杜比的认可，是对长城汽车极致车载沉浸式听觉体验的深度褒奖。长城汽车与杜比秉持共同的技术追求，历经长期联合研发与反复调校，将前沿音频技术与车载场景深度融合，打造出兼具沉浸感与差异化的座舱听觉体验，为用户重构车内影音娱乐新维度。</p>
<p style="text-indent:2em;">
	作为杜比在汽车领域重磅的合作伙伴大奖，有力印证了长城汽车坚持“以用户为<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>”、打造出色的车载影音体验的研发理念。</p>
<p style="text-indent:2em;">
	双方合作的关键成果已率先应用于魏牌全新蓝山、全新高山等高端车型。这些车型依托长城汽车自研的7.1.4声道布局、23个高性能扬声器以及2440W峰值功率的音响系统，并融合了杜比基于对象的空间音频技术，能够精准定位声音对象，营造出立体逼真的三维声场，为用户带来超越影院级的沉浸式体验，因此广受市场与用户的好评。</p>
<p style="text-indent:2em;">
	长城汽车始终将技术创新作为核心竞争力，在车载声学领域持续深耕，通过Coffee <a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a> Sound自研音响平台与全栈技术布局，构建起从硬件深度合作、<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>优化到场景适配的完整技术体系。此次斩获殊荣，既是对过往合作成果的总结，更是双方深化合作、探索车载音频技术新可能的起点。</p>
<p style="text-indent:2em;">
	面对未来，长城汽车将继续携手杜比，探索车载声学技术的无限可能。双方将致力于将更多元化的内容生态、更智能的音频算法融入智能座舱，推动车载影音从“听得见”向“听得好”、“听得沉浸”持续进化，为全球用户带来更具科技感与沉浸感的驾乘享受，持续引领汽车行业车载影音技术的发展方向。</p>]]></description></item><item>    <title><![CDATA[长城汽车2026年1月大事记回顾]]></title>    <link>https://www.elecfans.com/d/7634193.html</link>    <guid>https://www.elecfans.com/d/7634193.html</guid>    <pubDate>2026-02-01 15:20:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<strong>01</strong><strong>｜长城头条</strong></p>
<p style="text-indent:2em;">
	1月16日，长城汽车致敬活字印刷术暨长城归元平台全球首发。归元平台是原生<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>全动力汽车平台，以“动力革命、原生智变、安全革新”三大自我革命构建面向全球的底层能力，为全球用户带来品质更高、成本更低的用车体验。</p>
<p style="text-indent:2em;">
	基于【归元平台】首个高端技术序列【归元S】打造的AI豪华六座旗舰-魏牌V9X，即将揭晓！</p>
<p style="text-indent:2em;">
	魏牌蓝山及全新坦克500成为央视新闻2026年春晚新媒体指定用车。</p>
<p style="text-indent:2em;">
	1月1日，长城汽车发布2025年12月销量数据。2025年12月，长城汽车销售新车124,020辆，其中海外销售57,418辆，同比增长39.05%。2025年，长城汽车销售新车1,323,672辆，同比增长7.33%，再创新高，<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>车型销售403,653辆，同比增长25.44%，刷新纪录，海外销售506,066辆，同比增长11.68%，再创历史新高。</p>
<p style="text-indent:2em;">
	1月6日-9日，长城汽车连续第二年参加CES国际<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>展，本次携VLA大模型、Hi4智能电混四驱技术、自研V8发动机等众多前沿技术成果及4款重磅车型亮相，以开放谦逊的姿态参与全球对话，在世界舞台展示中国汽车品牌的技术深度与文化温度。</p>
<p style="text-indent:2em;">
	<strong>02</strong><strong>｜奖项荣誉</strong></p>
<p style="text-indent:2em;">
	全新坦克500入选第六届央视汽车风云盛典“盐城嘉年华”代表车型。</p>
<p style="text-indent:2em;">
	坦克300连续五年（2021-2025年）获得中国越野SUV销量冠军。坦克500连续四年获得中国30万元级以上豪华越野销量第一。</p>
<p style="text-indent:2em;">
	1月29日，长城汽车凭借卓越的杜比全景声车载体验，获得杜比“杰出汽车合作伙伴”大奖。</p>]]></description></item><item>    <title><![CDATA[理想汽车2026年1月交付27668辆]]></title>    <link>https://www.elecfans.com/d/7634194.html</link>    <guid>https://www.elecfans.com/d/7634194.html</guid>    <pubDate>2026-02-01 15:21:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	2026年2月1日，理想汽车公布2026年1月交付数据。2026年1月，理想汽车交付新车27,668辆。截至2026年1月31日，理想汽车历史累计交付量为1,567,883辆。</p>
<p style="text-indent:2em;">
	“1月，我们向用户推送了OTA 8.2版本系统更新，带来40项新增功能和25项体验优化，辅助驾驶、智能空间和智能电动体验全面升级。强化版VLA司机大模型对物理世界的思考和理解能力迎来质变，城区复杂路况的应对更接近真人驾驶。新上线的宠物模式和<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>艺术相框功能广受用户喜爱，非常多的用户创作和分享AI宠物屏保，回忆和爱宠的治愈时刻。我始终相信AI带来的生产力变革，将极大地加速智能电动车向具身智能产品进化，为理想汽车创造更大的机遇。感谢用户和伙伴长期以来的信任和支持，我们会不负期待，把握机遇、主动积极迎接挑战，持续为用户提供更主动、更聪明、更有温度的服务。”理想汽车董事长兼CEO李想说。</p>
<p style="text-indent:2em;">
	截至2026年1月31日，理想汽车在全国已有547家零售<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>，覆盖159个城市；售后<a href="https://www.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>中心及授权服务中心547家，覆盖221个城市。理想汽车在全国已投入使用3966座理想超充站，拥有21,945个<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>。</p>
<p style="text-indent:2em;">
	</p>]]></description></item><item>    <title><![CDATA[东风汽车双车摘得“世界十佳”殊荣]]></title>    <link>https://www.elecfans.com/d/7634199.html</link>    <guid>https://www.elecfans.com/d/7634199.html</guid>    <pubDate>2026-02-01 15:26:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月28日，第七届世界智能汽车颁奖仪式在北京举行，东风汽车两款车型凭借卓越的智能化表现荣膺“世界十佳”，东风奕派eπ007+获评“第七届世界十佳智能汽车”，东风奕派纳米06获评“世界十佳汽车智能座舱”。</p>
<p style="text-indent:2em;">
	东风奕派eπ007+</p>
<p style="text-indent:2em;">
	东风奕派eπ007+搭载东风天元智舱2.0与天元T200辅助驾驶系统，全系标配<a href="https://www.elecfans.com/tags/高通/" target="_blank"><u>高通</u></a>骁龙8295P芯片，算力跃升数倍，带来“秒级触达、丝滑流畅”的响应体验，双<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>大模型智能语音助手，支持全时免唤醒、多音区独立交互与跨音区对话继承。</p>
<p style="text-indent:2em;">
	在智能驾驶方面，eπ007+全系标配激光雷达以L2.9级智能辅助驾驶系统，覆盖高速、城区与泊车全场景，高速NOA导航辅助驾驶，能从容应对自动上下匝道、隧道通行与拥堵跟车，城区ICA+支持红绿灯路口通行与自动绕障，泊车场景更提供跨层记忆泊车，断头路泊车与循迹倒车等功能，轻松化解各类停车难题。</p>
<p style="text-indent:2em;">
	东风奕派纳米06</p>
<p style="text-indent:2em;">
	东风奕派纳米06搭载东风“太极大模型”与天元T100辅助驾驶系统，致力于构建全场景智能交互生态，在座舱便捷体验上实现400毫秒极速响应的全场景AI语音，支持10秒内连续执行8个指令，无信号场景下仍可精准离线控车。</p>
<p style="text-indent:2em;">
	东风奕派纳米06搭载东风全新HMI 2.0定制化框架，支持灵动分屏与布局自由调整，适配多元使用需求，360度全景影像与倒车影像辅助，同泊车系统形成安全互补，打造10万级纯电SUV座舱价值标杆，精准响应用户真实需求与情绪价值。</p>
<p style="text-indent:2em;">
	双车摘得“世界十佳”殊荣是智能化技术实力的硬核见证，更是深耕用户出行需求的成果彰显，东风汽车将继续以创新为翼，筑牢智能出行技术护城河，为用户带来更懂生活的智慧出行新选择。</p>]]></description></item><item>    <title><![CDATA[2025年东风汽车发明专利授权量达3442件]]></title>    <link>https://www.elecfans.com/d/7634200.html</link>    <guid>https://www.elecfans.com/d/7634200.html</guid>    <pubDate>2026-02-01 15:31:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，中汽信科发布了《2025年中国汽车专利数据统计研究报告》，数据显示，2025年，东风汽车发明专利授权量达3442件，连续四年位居自主整车集团首位。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/35/wKgZPGl_AhiAZKY-AAKIDbKpx44243.png" alt="56d9b40a-fdc1-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	发明专利公开量5404件，同样位列自主整车集团第一，印证了东风汽车源源不断的创新产出，为高质量发展构筑起坚实的专利护城河。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZO2l_AhmAI43PAAJGfCF2lJI336.png" alt="57420ef6-fdc1-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	不仅如此，此前发布的“2025汽车专利创新指数”显示，2025年，东风汽车有效专利量13103件，专利创新指数位居自主整车集团第二。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/35/wKgZPGl_AhmARGS9AAI4Mf3VbBk534.png" alt="579d03f6-fdc1-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	其中，东风汽车在智能网联领域拥有有效专利2049件，位列该领域专利创新指数自主整车集团第一，展现出东风在智能网联前沿赛道的深厚技术积累与领先优势。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/35/wKgZPGl_AhqACnfpAAI94ILkda4383.png" alt="57f47eba-fdc1-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	专利领跑、体系筑基、创新成势 东风汽车以高价值专利驱动科技跃迁</p>
<p style="text-indent:2em;">
	依据中汽信科发布的历年中国汽车专利数据统计分析，“十四五”期间，东风汽车发明专利连续3年领跑中国车企，稳居中国自主整车集团第一。</p>
<p style="text-indent:2em;">
	2022年以发明专利授权量2357件位列自主整车集团第一；</p>
<p style="text-indent:2em;">
	2023年以发明专利授权量提升至2816件，蝉联榜首；</p>
<p style="text-indent:2em;">
	2024年以2166件发明专利保持持续领先。</p>
<p style="text-indent:2em;">
	截至2025年12月，东风汽车累计拥有有效专利2.83万余件，其中发明专利13679件。近三年来，年均发明专利申请量保持在5300件以上，占比超85%。围绕“科技跃迁”战略，东风汽车持续强化智能网联与<a href="https://m.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>领域专利布局，相关发明专利公开量占比已从2022年的39%提升至2025年的55%以上，专利质量与核心关键技术掌控能力显著增强。</p>
<p style="text-indent:2em;">
	未来，东风汽车将进一步推动高价值专利的产业化应用，持续强化关键领域专利布局，构建开放协同的创新生态，以系统的专利实力与持续的技术领先，制胜“十五五”发展新赛道。</p>]]></description></item><item>    <title><![CDATA[汉威科技柔性传感电子皮肤入选2025具身智能十大创新产品和技术]]></title>    <link>https://www.elecfans.com/d/7634204.html</link>    <guid>https://www.elecfans.com/d/7634204.html</guid>    <pubDate>2026-02-01 15:35:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	导读</p>
<p style="text-indent:2em;">
	行业认可！汉威科技柔性传感电子皮肤入选2025具身智能十大创新产品和技术。</p>
<p style="text-indent:2em;">
	汉威柔性传感电子皮肤入选2025具身智能十大创新产品和技术</p>
<p style="text-indent:2em;">
	2026年1月30日，由中华人民共和国工业和信息化部主管的中国电子报，综合考察技术、市场、创新性等多维度指标，发布2025具身智能创新产品和技术，汉威科技集团柔性传感电子皮肤成为十大入选产品和技术之一。</p>
<p style="text-indent:2em;">
	汉威科技集团是国内最早布局柔性触觉<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>的企业，现已构建稳定的纳米敏感材料体系，掌握柔性压阻、柔性压电、柔性电容、柔性汗液四大核心技术，具备大面积阵列设计、敏感材料及导电墨水合成制备、大面积印刷电子批量制造等核心能力，拥有年产1000万支柔性传感器的超净印刷线和组装线，打造了多品种、多量程柔性触觉传感器矩阵，已取得百余项核心专利。</p>
<p style="text-indent:2em;">
	汉威柔性传感电子皮肤以自主研发创新的柔性基底材料与微纳传感单元为核心，搭载自主研发的<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>校准<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>，可精准捕获压力、应变、温度等多种物理量，具有高贴合、超弹性、耐弯折、高生物相容性、可定制等优势，性能对标人类皮肤，厚度不足0.3mm，弯曲寿命超100万次，灵敏度0.1kPa、响应速度＜1ms，核心性能达国际先进水平。</p>
<p style="text-indent:2em;">
	柔性传感大有可为</p>
<p style="text-indent:2em;">
	在具身智能领域，汉威柔性传感电子皮肤可集成于<a href="https://bbs.elecfans.com/group_756" target="_blank"><u>机器人</u></a>灵巧手的指尖、指腹、手掌等部位，为其感知接触力度、物体形状、纹理、温度等信息提供实时数据。</p>
<p style="text-indent:2em;">
	在医疗健康领域，可贴敷于人体皮肤，实时监测心率、血压、汗液成分等生理指标，为慢性病管理、康复评估提供精准数据；还能与假肢集成，<a href="https://www.elecfans.com/analog/" target="_blank"><u>模拟</u></a>触觉感知，帮助截肢患者恢复触感反馈。</p>
<p style="text-indent:2em;">
	在工业检测领域，可附着于<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>臂、管道等曲面设备，检测压力、应变、温度等参数，实现设备健康状态的实时监测与故障预警。</p>
<p style="text-indent:2em;">
	在智能穿戴与<a href="https://www.elecfans.com/soft/data/39-96/" target="_blank"><u>消费电子</u></a>场景，能适配可弯曲屏幕、智能手环等产品，拓展人机交互模式。</p>
<p style="text-indent:2em;">
	随着具身智能等产业的快速发展，柔性传感电子皮肤将在更多前沿领域大放异彩并发挥重要作用。</p>
<p style="text-indent:2em;">
	“五感”产品矩阵赋能具身智能</p>
<p style="text-indent:2em;">
	与此同时，汉威科技集团基于IDM模式，建立了涵盖芯片设计、敏感材料、<a href="https://bbs.elecfans.com/group_53" target="_blank"><u>封装测试</u></a>全链条的多门类传感器研产体系。在具身智能领域，已经打造了行业领先的“触觉-嗅觉-平衡-力控-视觉”五大系列传感器产品，包括柔性传感器、电子鼻传感器、惯性测量单元、多维力传感器、玻璃微熔应变片、非制冷<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>热成像模组等，可应用于电子皮肤、环境气体检测、姿态检测、力矩测量、目标识别等场景。</p>
<p style="text-indent:2em;">
	目前，汉威科技集团已与上海开普勒机器人、青岛征和工业等具身智能产业链企业开展战略合作，相关产品已在多家知名具身智能机器人企业实现小批应用。</p>
<p style="text-indent:2em;">
	未来，汉威科技集团将持续深耕具身智能传感领域，为行业提供先进的多模态感知<a href="https://m.elecfans.com/v/tag/222/" target="_blank"><u>产品方案</u></a>，助推具身智能机器人感知能力向更高阶迈进。</p>]]></description></item><item>    <title><![CDATA[隔离DC-DC：DAB和LLC技术特点及发展趋势]]></title>    <link>https://www.elecfans.com/d/7634203.html</link>    <guid>https://www.elecfans.com/d/7634203.html</guid>    <pubDate>2026-02-01 15:36:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	隔离<a href="https://m.hqchip.com/app/1703" target="_blank"><u>DC</u></a>-DC：DAB和LLC技术特点及发展趋势与基本<a href="https://m.hqchip.com/gongsi.html" target="_blank"><u>半导体</u></a>SiC碳化硅功率器件的赋能作用</p>
<p style="text-indent:2em;">
	B<a href="https://www.elecfans.com/tags/asic/" target="_blank"><u>ASiC</u></a> Semiconductor基本半导体一级代理商倾佳电子（Changer <a href="https://www.elecfans.com/tags/te/" target="_blank"><u>Te</u></a>ch）是一家专注于功率半导体和<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a><a href="https://www.hqchip.com/app/1544" target="_blank"><u>汽车连接器</u></a>的分销商。主要服务于中国工业<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>、<a href="https://bbs.elecfans.com/group_934" target="_blank"><u>电力电子</u></a>设备和新能源汽车产业链。倾佳电子聚焦于新能源、交通电动化和数字化转型三大方向，代理并力推BASiC基本半导体SiC碳化硅<a href="https://www.elecfans.com/tags/mosfet/" target="_blank"><u>MOSFET</u></a>单管，SiC碳化硅MOSFET<a href="https://m.hqchip.com/app/2047" target="_blank"><u>功率模块</u></a>，SiC模块驱动板等功率半导体器件以及新能源汽车连接器。﻿</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/35/wKgZPGl_BO6AY_f6AEAt1UYHY-w007.png" style="width:600px;height:335px;" alt="wKgZPGl_BO6AY_f6AEAt1UYHY-w007.png"/></p>
<p style="text-indent:2em;">
	倾佳电子杨茜致力于推动国产SiC碳化硅模块在电力电子应用中全面取代进口<a href="https://m.hqchip.com/app/2048" target="_blank"><u>IGBT</u></a>模块，助力电力电子行业自主可控和产业升级！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET功率器件三个必然，勇立功率半导体器件变革潮头：</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET模块全面取代IGBT模块和IPM模块的必然趋势！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住SiC碳化硅MOSFET单管全面取代IGBT单管和大于650V的<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>硅MOSFET的必然趋势！</p>
<p style="text-indent:2em;">
	倾佳电子杨茜咬住650V SiC碳化硅MOSFET单管全面取代SJ超结MOSFET和高压GaN 器件的必然趋势！</p>
<p style="text-indent:2em;">
	1. 绪论：能源变革下的功率转换新范式</p>
<p style="text-indent:2em;">
	在全球能源结构向低碳化、<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>化转型的宏大背景下，电力电子技术正经历着一场深刻的架构性变革。随着电动汽车（EV）渗透率的指数级增长以及新型<a href="https://www.elecfans.com/v/tag/4675/" target="_blank"><u>电力系统</u></a>对储能（ESS）需求的爆发，电网与终端设备之间的能量交互模式已从传统的单向流动演变为复杂的双向互动。在这一变革中，作为连接高压直流母线与电池/负载端的关键纽带，隔离型DC-DC变换器（Isolated DC-DC Converter）扮演着“终极<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>”的核心角色。</p>
<p style="text-indent:2em;">
	1.1 高压快充与双向互动的技术挑战</p>
<p style="text-indent:2em;">
	当前，电动汽车充电基础设施正处于从400V平台向800V甚至更高电压架构演进的关键窗口期。这一趋势旨在通过提高电压来降低<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>，从而减少线缆损耗并缩短充电时间。然而，电压等级的提升对功率变换器的绝缘耐压、转换效率以及功率密度提出了前所未有的挑战。</p>
<p style="text-indent:2em;">
	与此同时，V2G（Vehicle-to-Grid）技术的落地要求车载充电机（OBC）和地面直流快充桩必须具备双向功率传输能力。这不仅要求变换器在正向充电模式下具备高效的降压（Buck）特性，还要求其在反向放电模式下具备稳定的升压（Boost）能力，且需在宽电压范围内保持软开关（Soft-switching）运行，以降低电磁干扰（EMI）并提升系统寿命。</p>
<p style="text-indent:2em;">
	1.2 第三代半导体的催化效应</p>
<p style="text-indent:2em;">
	宽禁带（WBG）半导体，特别是碳化硅（SiC）器件的成熟，为突破传统硅基器件的物理极限提供了可能。SiC MOSFET具备高耐压、低导通电阻（RDS(on)​）和极低的开关损耗，使得开关频率从传统的20kHz-50kHz跃升至100kHz-500kHz甚至更高。高频化直接带来了磁性元件（变压器、电感）体积的显著缩小，从而大幅提升了功率密度（&gt;3kW/L）。</p>
<p style="text-indent:2em;">
	然而，SiC器件极高的开关速度（dv/dt&gt;100V/ns）也带来了严重的寄生参数敏感性、驱动干扰和EMI问题。传统的离散型（Discrete）设计方案在应对这些挑战时显得力不从心，往往需要漫长的调试周期和复杂的<a href="https://www.elecfans.com/tags/保护电路/" target="_blank"><u>保护电路</u></a>设计。</p>
<p style="text-indent:2em;">
	1.3 报告主旨与结构</p>
<p style="text-indent:2em;">
	倾佳电子杨茜剖析隔离型DC-DC变换器的两大主流拓扑——双有源桥（DAB）和LLC谐振变换器——的技术内核、优劣势对比及未来演进趋势。同时，倾佳电子杨茜重点探讨以基本半导体（BASiC Semiconductor）为代表的国产功率半导体企业，如何通过提供集成了高性能SiC模块、专用<a href="https://m.hqchip.com/app/1787" target="_blank"><u>驱动芯片</u></a>及即插即用驱动板的“全栈式”功率解决方案，解决高频SiC应用的工程痛点，赋能下一代高效能源转换系统。</p>
<p style="text-indent:2em;">
	2. 隔离型DC-DC变换器的核心拓扑解析</p>
<p style="text-indent:2em;">
	在双向隔离DC-DC变换器的技术路线之争中，相移全桥（PSFB）因其副边<a href="https://m.hqchip.com/app/1557" target="_blank"><u>整流二极管</u></a>的反向恢复问题和滞后臂软开关范围窄的局限性，在双向应用中逐渐被边缘化。取而代之的是具备全范围软开关潜力的LLC谐振变换器和控制灵活的双有源桥（DAB）变换器。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZO2l_BPWANRq4ADq556mpiFU498.png" style="width:600px;height:335px;" alt="wKgZO2l_BPWANRq4ADq556mpiFU498.png"/></p>
<p style="text-indent:2em;">
	2.1 LLC谐振变换器：效率的极致追求</p>
<p style="text-indent:2em;">
	LLC谐振变换器因其卓越的效率表现，长期以来是服务器电源和<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>电源的首选拓扑。在双向流动的需求下，其衍生拓扑CLLC（Capacitor-Inductor-Inductor-Capacitor）应运而生。</p>
<p style="text-indent:2em;">
	2.1.1 拓扑结构与运行机理</p>
<p style="text-indent:2em;">
	传统LLC拓扑由原边开关网络、谐振槽路（谐振电感Lr​、励磁电感Lm​、谐振<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>Cr​）和副边整流网络组成。其核心机制是利用谐振槽路的阻抗特性随频率变化的规律，通过频率调制（FM）来调节电压增益。</p>
<p style="text-indent:2em;">
	<strong>原边零电压开通（ZVS）：</strong> 在开关管开通前，谐振电流流经体<a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a>，将漏源电压箝位至零，从而消除开通损耗。这对于高压SiC器件尤为重要，因为高压下的寄生电容储能（Eoss​=21​Coss​Vds2​）如果以热量形式释放，将造成巨大的损耗。</p>
<p style="text-indent:2em;">
	<strong>副边零电流关断（ZCS）：</strong> 当开关频率小于谐振频率时，副边整流管（或<a href="https://www.hqchip.com/app/1852" target="_blank"><u>同步整流</u></a>MOSFET）在电流自然过零时关断，消除了反向恢复损耗。</p>
<p style="text-indent:2em;">
	2.1.2 双向CLLC的对称性优势</p>
<p style="text-indent:2em;">
	为了实现双向能量流动，CLLC拓扑在副边也引入了谐振电感和电容，形成对称的谐振腔结构。这种对称性使得变换器在正向充电和反向放电模式下具有相似的增益曲线，非常适合电池电压波动范围宽（例如400V平台电池从250V到450V变化）的应用场景。</p>
<p style="text-indent:2em;">
	2.1.3 技术瓶颈与挑战</p>
<p style="text-indent:2em;">
	尽管LLC/CLLC在谐振点附近能实现超过98%的峰值效率，但其频率敏感性是一把双刃剑：</p>
<p style="text-indent:2em;">
	<strong>宽范围调压困难：</strong> 当输入输出电压比偏离变压器匝比（即增益偏离1）时，开关频率需要大幅偏移。过宽的频率范围（例如80kHz-300kHz）给磁性元件的设计和EMI<a href="https://www.elecfans.com/tags/滤波器/" target="_blank"><u>滤波器</u></a>的优化带来了极大困难。</p>
<p style="text-indent:2em;">
	<strong>轻载稳压问题：</strong> 在轻载条件下，LLC的增益对频率不敏感，往往需要采用间歇工作模式（Bu<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>t Mode），这会引入低频纹波和噪声。</p>
<p style="text-indent:2em;">
	2.2 双有源桥（DAB）变换器：控制的艺术</p>
<p style="text-indent:2em;">
	双有源桥（DAB）变换器由原副边两个全桥电路通过高频变压器和辅助电感（或漏感）连接而成。与LLC的频率调制不同，DAB主要采用固定频率的移相控制（Phase Shift Modulation, PSM）。</p>
<p style="text-indent:2em;">
	2.2.1 功率传输模型</p>
<p style="text-indent:2em;">
	DAB的功率传输由原副边电压的相位差ϕ决定，其传输功率P可近似表示为：</p>
<p style="text-indent:2em;">
	P=2πfs​LnV1​V2​​ϕ(1−π∣ϕ∣​)</p>
<p style="text-indent:2em;">
	其中，n为变压器匝比，V1​,V2​为<a href="https://www.hqchip.com/app/1808" target="_blank"><u>端口</u></a>电压，fs​为开关频率，L为等效电感。这种线性可控的功率流特性使得DAB在控制逻辑上比LLC更为直观和简单。</p>
<p style="text-indent:2em;">
	2.2.2 调制策略的演进</p>
<p style="text-indent:2em;">
	<strong>单重移相（SPS）：</strong> 最基础的控制方式，仅调节原副边桥臂间的相位。SPS控制简单，但在电压匹配度差（V1​=nV2​）或轻载时，回流功率（Re<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a><a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>ve Power）巨大，导致<a href="https://www.hqchip.com/app/1718" target="_blank"><u>RMS</u></a>电流增加，导通损耗剧增，且容易丢失ZVS特性。</p>
<p style="text-indent:2em;">
	<strong>多重移相（EPS/DPS/TPS）：</strong> 为解决SPS的痛点，业界发展出了扩展移相（EPS）、双重移相（DPS）和三重移相（TPS）控制。这些策略通过在电桥内部引入额外的内移相角，增加了控制自由度，可以优化电流波形，扩展ZVS范围，并显著降低轻载下的环流损耗。</p>
<p style="text-indent:2em;">
	2.2.3 DAB在宽范围应用中的优势</p>
<p style="text-indent:2em;">
	DAB最显著的优势在于其对宽电压范围的适应能力。通过先进的调制策略，DAB可以在不改变开关频率的情况下，实现极宽的升降压范围，这对于配合800V超充架构中不同电压等级电池的兼容性至关重要。此外，DAB天然的模块化对称结构使其非常适合通过输入串联输出并联（ISOP）的方式构建兆瓦级固态变压器（SST）。</p>
<p style="text-indent:2em;">
	3. DAB与LLC的技术特征深度横向评测</p>
<p style="text-indent:2em;">
	在选择“终极对接”方案时，<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>必须在效率、控制复杂度和<a href="https://bbs.elecfans.com/group_40" target="_blank"><u>电磁兼容</u></a>性之间进行权衡。下表详细对比了两种拓扑的关键技术指标：</p>
<p style="text-indent:2em;">
	</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>关键技术指标</strong></th>
			<th style="padding:12px 7px;">
				<strong>LLC / CLLC 谐振变换器</strong></th>
			<th style="padding:12px 7px;">
				<strong>双有源桥 (DAB) 变换器</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>控制变量</strong></td>
			<td style="padding:12px 7px;">
				开关频率 (FM)</td>
			<td style="padding:12px 7px;">
				移相角 (PWM)</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>峰值效率</strong></td>
			<td style="padding:12px 7px;">
				<strong>极高 (&gt;98%)</strong> ，特别是在谐振点附近</td>
			<td style="padding:12px 7px;">
				高，但通常略低于LLC，受限于关断损耗</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>轻载效率</strong></td>
			<td style="padding:12px 7px;">
				优异，天然保持ZVS能力</td>
			<td style="padding:12px 7px;">
				较差，ZVS范围受负载电流限制，需复杂控制优化</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>电压增益范围</strong></td>
			<td style="padding:12px 7px;">
				有限，偏离谐振点效率下降快</td>
			<td style="padding:12px 7px;">
				<strong>极宽</strong>，通过移相和PWM占空比灵活调节</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>EMI 特性</strong></td>
			<td style="padding:12px 7px;">
				频谱扩散（难滤波），由于频率变化范围大</td>
			<td style="padding:12px 7px;">
				<strong>固定频率</strong>（易滤波），频谱能量集中</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>器件应力</strong></td>
			<td style="padding:12px 7px;">
				电流波形接近正弦，RMS电流较小</td>
			<td style="padding:12px 7px;">
				电流波形为梯形或三角形，RMS电流较大</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>控制复杂度</strong></td>
			<td style="padding:12px 7px;">
				复杂（频率与增益非线性关系）</td>
			<td style="padding:12px 7px;">
				中等（线性度好，但多重移相<a href="https://m.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>复杂）</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>双向能力</strong></td>
			<td style="padding:12px 7px;">
				需CLLC对称结构，设计复杂</td>
			<td style="padding:12px 7px;">
				<strong>天然支持</strong>，结构完全对称</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>典型应用场景</strong></td>
			<td style="padding:12px 7px;">
				固定比例DCX，服务器电源，OBC</td>
			<td style="padding:12px 7px;">
				直流快充桩，V2G，储能PCS，固态变压器</td>
		</tr></tbody></table><p>
	</p>
<p style="text-indent:2em;">
	<strong>深度洞察：</strong></p>
<p style="text-indent:2em;">
	<strong>效率与范围的博弈：</strong> LLC是“定点打击”的专家，在额定工况下效率无敌；DAB是“全域覆盖”的通才，在电压波动剧烈的场景下表现更稳健。</p>
<p style="text-indent:2em;">
	<strong>SiC的赋能效应：</strong> SiC器件的引入改变了DAB的竞争格局。由于SiC MOSFET极低的Qrr​（反向恢复电荷）和Coss​，即使在DAB丢失ZVS的硬开关工况下，其开关损耗也远低于硅基IGBT，这使得DAB的“短板”被大幅补齐，从而使其宽范围调节的优势更加凸显。</p>
<p style="text-indent:2em;">
	4. 隔离DC-DC技术的发展趋势</p>
<p style="text-indent:2em;">
	随着第三代半导体成本的下降和算力的提升，隔离DC-DC技术正呈现出融合与智能化的新趋势。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/4A/34/wKgZO2l_BP2AIPTVAEKXUrys9Tg908.png" style="width:600px;height:335px;" alt="wKgZO2l_BP2AIPTVAEKXUrys9Tg908.png"/></p>
<p style="text-indent:2em;">
	4.1 拓扑融合：LLC-DAB混合架构</p>
<p style="text-indent:2em;">
	为了兼得LLC的高效率和DAB的宽范围，学术界和工业界开始探索<strong>LLC-DAB混合拓扑</strong>。这种架构通常利用DAB副边的全桥结构来驱动谐振槽路，或者通过模式切换（Mode Switching）策略，在标称电压下运行LLC模式以获最高效率，在电压瞬变或极端比例下切换至DAB模式以维持稳压能力。这种双模（Dual-Mode）控制策略预计将在高端EV<a href="https://www.elecfans.com/tags/充电桩/" target="_blank"><u>充电桩</u></a>中得到应用。</p>
<p style="text-indent:2em;">
	4.2 磁集成技术的极致化</p>
<p style="text-indent:2em;">
	为了进一步提升功率密度，将变压器与谐振电感（LLC中）或平波电感（DAB中）集成的<strong>磁集成技术</strong>（Integrated Magnetics）成为主流。通过利用变压器的漏感作为谐振电感，可以减少磁性元件数量。然而，这对变压器绕组工艺的一致性和寄生参<a href="https://m.elecfans.com/v/tag/949/" target="_blank"><u>数控</u></a>制提出了极高要求，也反向要求<a href="https://bbs.elecfans.com/group_755" target="_blank"><u>驱动电路</u></a>具备更高的精度和抗干扰能力。</p>
<p style="text-indent:2em;">
	4.3 智能化与预测控制</p>
<p style="text-indent:2em;">
	随着<a href="https://m.hqchip.com/app/1379" target="_blank"><u>MCU</u></a>/<a href="https://m.hqchip.com/app/1378" target="_blank"><u>DSP</u></a>算力的提升，基于模型预测控制（MPC）的方案开始进入视野。通过实时计算下一周期的最优移相角或频率，变换器可以实现极快的动态响应，有效应对电网侧的频率波动或负载侧的突卸。</p>
<p style="text-indent:2em;">
	5. 基本半导体（BASiC）SiC功率器件的赋能作用：从器件到子系统的跨越</p>
<p style="text-indent:2em;">
	理论上优越的拓扑结构，若没有高性能的物理实现，也仅仅是空中楼阁。在SiC时代，极高的di/dt和dv/dt使得传统的“分立器件+通用驱动+<a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a>自行布局”的开发模式面临巨大挑战：</p>
<p style="text-indent:2em;">
	<strong>寄生电感噩梦：</strong> 几十纳亨（nH）的回路电感在SiC的高速开关下会产生数百伏的电压尖峰，直接击穿器件。</p>
<p style="text-indent:2em;">
	<strong>驱动保护延迟：</strong> 传统的DESAT保护响应时间往往过慢，无法在SiC短路后的微秒级安全工作区（SOA）内及时关断。</p>
<p style="text-indent:2em;">
	<strong>EMI干扰：</strong> 高频共模噪声容易<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>至低压控制侧，导致驱动<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>误触发。</p>
<p style="text-indent:2em;">
	基本半导体（BASiC Semiconductor）通过提供“全栈式”的功率解决方案——涵盖SiC模块、专用驱动芯片及集成化驱动板——有效地解决了上述痛点，实现了对传统分立方案的降维打击。</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/73/wKgZPGkMni-ADgGPAAZBCcVTtdY142.png" style="width:600px;height:338px;" alt="wKgZPGkMni-ADgGPAAZBCcVTtdY142.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/73/wKgZPGkMni-AbrBVAAdeBCDwANQ685.png" style="width:600px;height:338px;" alt="wKgZPGkMni-AbrBVAAdeBCDwANQ685.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	</p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/7C/wKgZO2kNRDWAKQieAAYnoo8wfus549.png" style="width:600px;height:338px;" alt="wKgZO2kNRDWAKQieAAYnoo8wfus549.png"/></p>
<p style="text-indent:2em;">
	</p>
<p align="center">
	<img src="https://file1.elecfans.com/web3/M00/3A/7A/wKgZO2kNOcaAM2aAAAb4RMnV7os303.png" style="width:600px;height:338px;" alt="wKgZO2kNOcaAM2aAAAb4RMnV7os303.png"/></p>
<p style="text-indent:2em;">
	5.1 工业级SiC模块：坚实的功率基石</p>
<p style="text-indent:2em;">
	基本半导体的工业级SiC模块专为苛刻的重载循环设计，其封装形式和电气特性与DAB/LLC拓扑高度契合。</p>
<p style="text-indent:2em;">
	<strong>多样化的封装选择：</strong></p>
<p style="text-indent:2em;">
	<strong>34mm封装（80A/160A @ 1200V）：</strong> 这一工业标准封装使得现有的IGBT系统可以平滑升级至SiC，无需更改<a href="https://m.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>结构设计。其半桥配置直接对应DAB和LLC的一个桥臂，简化了布局。</p>
<p style="text-indent:2em;">
	<strong>62mm封装（540A @ 1200V）：</strong> 针对百千瓦级以上的超充桩设计。在这样大的电流下，低杂散电感设计至关重要。该模块提供了极低的通态<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>和优化的内部布局，大幅降低了高频下的开关损耗。</p>
<p style="text-indent:2em;">
	<strong>E2B封装（240A）：</strong> 专为高功率密度设计，平衡了体积与散热性能，适合紧凑型PCS系统。</p>
<p style="text-indent:2em;">
	<strong>拓扑适应性：</strong> 所有这些模块均采用**半桥（Half-Bridge）**配置。这并非巧合，因为半桥是构建全桥（DAB的原副边各需两个半桥）和LLC原边逆变级的基本单元。这种模块化设计极大地简化了复杂拓扑的硬件实现难度。</p>
<p style="text-indent:2em;">
	5.2 专用驱动芯片（BTD系列）：SiC的智能大脑</p>
<p style="text-indent:2em;">
	为了驾驭SiC的狂野性能，基本半导体开发了BTD系列隔离驱动芯片，集成了多项针对宽禁带器件的保护技术。</p>
<p style="text-indent:2em;">
	<strong>BTD5452R（单通道）：</strong></p>
<p style="text-indent:2em;">
	<strong>强驱动能力：</strong> 提供5A拉电流/9A灌电流，能够快速充放电大功率模块的结电容，保证高频下的波形陡度。</p>
<p style="text-indent:2em;">
	<strong>250kV/us CMTI：</strong> 这一指标是行业平均水平的两倍以上。在DAB/LLC中，桥臂中点电压会以极高速度跳变，低CMTI的<a href="https://m.hqchip.com/app/1847" target="_blank"><u>驱动器</u></a>会发生“闩锁”或误动作，导致直通炸机。BTD5452R的高抗扰度确保了系统的坚如磐石。</p>
<p style="text-indent:2em;">
	<strong>有源米勒箝位（Active Miller Clamp）：</strong> 在DAB变换器中，当对管高速开通时，通过米勒电容（Cgd​）耦合的电流极易导致关断管误导通。BTD5452R集成的米勒箝位功能，在关断期间主动将栅极拉低至负压，彻底杜绝了这一隐患，且无需复杂的负压电源设计。</p>
<p style="text-indent:2em;">
	<strong>软关断（Soft Turn-Off）：</strong> 当检测到短路（DESAT）时，芯片不会立即硬关断（这会导致巨大的V=L⋅di/dt过压），而是采用软关断策略，缓慢释放栅极电荷，保护昂贵的SiC模块不被过压击穿。</p>
<p style="text-indent:2em;">
	<strong>BTD25350x（双通道）：</strong> 提供5000<a href="https://m.elecfans.com/v/tag/3668/" target="_blank"><u>Vr</u></a>ms的加强绝缘，满足V2G应用中电网侧与电池侧的安规隔离要求。其具备独立的开通/关断电阻引脚（MS版本），允许工程师精细调节开关速度，以平衡效率与EMI。</p>
<p style="text-indent:2em;">
	5.3 集成化驱动板（BSRD系列）：终极的“即插即用”</p>
<p style="text-indent:2em;">
	BSRD系列驱动板是基本半导体“全栈替代”策略的集大成者。它们不仅仅是参考设计，而是可以作为工业标准组件直接部署的物理子系统。</p>
<p style="text-indent:2em;">
	<strong>BSRD-2427-ES02（适配34mm模块）：</strong></p>
<p style="text-indent:2em;">
	<strong>深度集成：</strong> 板载了隔离<a href="https://www.elecfans.com/tags/dc/dc/" target="_blank"><u>DC/DC</u></a>电源（输出+18V/-3.6V典型SiC驱动电压）、UVLO保护和米勒箝位电路。这意味着用户无需再为辅助电源和保护逻辑花费任何设计精力。</p>
<p style="text-indent:2em;">
	<strong>零环路电感设计：</strong> 该驱动板设计为直接安装在34mm模块的功率端子上。这种物理上的“零距离”接触，消除了传统导线连接带来的栅极回路电感，从根本上抑制了栅极振铃，使得80kHz甚至更高的开关频率成为可能。</p>
<p style="text-indent:2em;">
	<strong>BSRD-2503-ES02（适配62mm模块）：</strong></p>
<p style="text-indent:2em;">
	<strong>高功率驱动：</strong> 提供单通道2W的驱动功率，足以驱动540A的大功率模块在高频（最高300kHz）下工作。</p>
<p style="text-indent:2em;">
	<strong>灵活配置：</strong> 板载预留了多组并联的栅极电阻焊盘（Ron​/Roff​），允许工程师针对特定的DAB或LLC参数（如ZVS范围、死区时间）进行精细调校，这是分立方案难以具备的工程便利性。</p>
<p style="text-indent:2em;">
	<strong>全面防护：</strong> 集成了原副边电源欠压保护，防止因控制电源波动导致的SiC器件线性区发热损坏，确保了兆瓦级系统的可靠性。</p>
<p style="text-indent:2em;">
	6. 全栈方案的价值主张：从“拼积木”到“交付性能”</p>
<p style="text-indent:2em;">
	基本半导体的“模块+芯片+板卡”全栈方案，实际上重新定义了电力电子系统的开发流程。</p>
<p style="text-indent:2em;">
	6.1 解决寄生参数的“黑盒化”</p>
<p style="text-indent:2em;">
	在DAB变换器设计中，寄生电感是效率杀手。分立设计需要工程师在PCB Layout上进行无数次迭代以减小几纳亨的电感。BASiC的BSRD板卡与模块的配合经过了原厂的阻抗匹配和电磁场优化，将寄生参数问题封装在“黑盒”内部，交付给用户的是一个经过验证的、干净的开关波形。</p>
<p style="text-indent:2em;">
	6.2 热与保护的协同设计</p>
<p style="text-indent:2em;">
	SiC芯片的热容比IGBT小，短路耐受时间（SCWT）短（通常&lt;3us）。分立驱动方案很难精准匹配这一时间窗口。BASiC的驱动板配合其自研驱动芯片，将DESAT检测阈值和消隐时间与自家模块的特性曲线完美匹配，实现了保护的“既不误报，也不迟报”。</p>
<p style="text-indent:2em;">
	6.3 加速产品上市周期</p>
<p style="text-indent:2em;">
	对于固态变压器SST、储能变流器PCS厂商而言，采用BASiC的全栈方案意味着：</p>
<p style="text-indent:2em;">
	<strong>省去了驱动电路设计与调试时间：</strong> 这一点通常占据硬件开发周期的30%-40%。</p>
<p style="text-indent:2em;">
	<strong>降低了供应链管理难度：</strong> 从采购几十种分立<a href="https://www.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>转变为采购一个标准组件。</p>
<p style="text-indent:2em;">
	<strong>提升了系统可靠性：</strong> 工业级的集成设计经过了更严格的环境与老化测试。</p>
<p style="text-indent:2em;">
	7. 结论</p>
<p style="text-indent:2em;">
	隔离DC-DC变换器的未来属于高频、高效与双向互动。LLC谐振变换器以其极致的效率在定点运行场景中不可替代，而DAB变换器则凭借其宽范围调节能力和控制灵活性在V2G和储能领域占据高地。两者的技术演进正朝着混合拓扑和更高集成度的方向发展。</p>
<p style="text-indent:2em;">
	在这一进程中，物理层的实现难度呈指数级上升。基本半导体通过提供包含高性能SiC模块（E2B/34mm/62mm）、高抗扰驱动芯片（BTD系列）以及即插即用驱动板（BSRD系列）的<strong>全栈式功率解决方案</strong>，成功地屏蔽了底层的物理实现复杂性。这种方案不仅不仅大幅降低了高压高频系统的开发门槛，更通过深度的软硬件协同优化，释放了SiC材料的全部潜能，为构建下一代高功率密度、高可靠性的绿色能源基础设施提供了强有力的赋能。</p>
<p style="text-indent:2em;">
	关键数据总结表</p>
<p style="text-indent:2em;">
	</p>
<table style="background-color:rgb(255,255,255);border-bottom:1px solid rgb(246,246,246);border-left:1px solid rgb(246,246,246);border-right:1px solid rgb(246,246,246);border-top:1px solid rgb(246,246,246);"><thead><tr><th style="padding:12px 7px;">
				<strong>参数维度</strong></th>
			<th style="padding:12px 7px;">
				<strong>LLC 谐振变换器</strong></th>
			<th style="padding:12px 7px;">
				<strong>双有源桥 (DAB)</strong></th>
			<th style="padding:12px 7px;">
				<strong>BASiC BTD5452R 驱动芯片</strong></th>
			<th style="padding:12px 7px;">
				<strong>BASiC BSRD-2503 驱动板</strong></th>
		</tr></thead><tbody><tr><td style="padding:12px 7px;">
				<strong>核心优势</strong></td>
			<td style="padding:12px 7px;">
				峰值效率 &gt;98%</td>
			<td style="padding:12px 7px;">
				宽范围双向控制</td>
			<td style="padding:12px 7px;">
				高集成保护 (DESAT/Miller)</td>
			<td style="padding:12px 7px;">
				62mm模块即插即用集成</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>主要短板</strong></td>
			<td style="padding:12px 7px;">
				轻载稳压难，频率范围宽</td>
			<td style="padding:12px 7px;">
				轻载硬开关，环流大</td>
			<td style="padding:12px 7px;">
				N/A</td>
			<td style="padding:12px 7px;">
				频率上限受限于模块 (300kHz)</td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>关键使能指标</strong></td>
			<td style="padding:12px 7px;">
				频率控制精度</td>
			<td style="padding:12px 7px;">
				移相精度 &amp; 死区优化</td>
			<td style="padding:12px 7px;">
				<strong>250 kV/</strong><strong>μ</strong><strong>s CMTI</strong></td>
			<td style="padding:12px 7px;">
				<strong>150 kV/</strong><strong>μ</strong><strong>s CMTI</strong></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>目标应用</strong></td>
			<td style="padding:12px 7px;">
				数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>，固定比例DCX</td>
			<td style="padding:12px 7px;">
				SST，储能ESS</td>
			<td style="padding:12px 7px;">
				SiC <a href="https://m.hqchip.com/app/1715" target="_blank"><u>栅极驱动</u></a></td>
			<td style="padding:12px 7px;">
				大功率工业<a href="https://www.elecfans.com/tags/逆变器/" target="_blank"><u>逆变器</u></a></td>
		</tr><tr><td style="padding:12px 7px;">
				<strong>保护机制</strong></td>
			<td style="padding:12px 7px;">
				频率限制</td>
			<td style="padding:12px 7px;">
				死区补偿</td>
			<td style="padding:12px 7px;">
				<strong>有源米勒箝位，软关断</strong></td>
			<td style="padding:12px 7px;">
				<strong>集成UVLO，米勒箝位</strong></td>
		</tr></tbody></table><p>
	</p>
<p style="text-indent:2em;">
	综上所述，基本半导体的全栈方案不仅是产品的组合，更是对电力电子设计方法论的一次革新，它使得系统集成商能够将精力从“如何点亮开关”转移到“如何优化系统能量流”这一更高维度的价值创造上来。</p>]]></description></item><item>    <title><![CDATA[曙光云携手Moltbot革新行业智能体]]></title>    <link>https://www.elecfans.com/d/7634207.html</link>    <guid>https://www.elecfans.com/d/7634207.html</guid>    <pubDate>2026-02-01 15:37:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，曙光云正式宣布完成与开源<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>代理项目Moltbot（原Clawdbot）的全面集成，推出国内首个面向行业智能体的“云智一体”个性化解决方案。这一举措既是对行业同类布局的积极回应，更依托曙光云在政务、工业、矿业等领域的深厚积淀，为企业用户提供了更具垂直性的集成解决方案，开启行业智能体“个人化”新篇章。</p>
<p style="text-indent:2em;">
	此次集成后，曙光云用户可在5分钟内于云端部署专属Moltbot智能助手，直接对接曙光云现有的行业大模型与数据处理能力，高效实现智能化办公与业务协同。</p>
<p style="text-indent:2em;">
	作为2026年初的现象级开源项目，Moltbot与传统聊天型AI不同，Moltbot主打“真正能做事的AI”，具备强大的主动执行能力——可实现日历管理、应用消息发送、航班登机手续办理，还能完成文件读写、shell命令执行、浏览器控制等操作。同时，Moltbot秉持“本地优先”理念，用户数据可留存于自身设备，无需上传至平台服务器，精准契合当下隐私保护需求。</p>
<p style="text-indent:2em;">
	相较于其他侧重通用场景的集成方案，曙光云的差异化优势集中在行业智能体与个人助手的深度融合。此次集成并非简单将Moltbot部署至云端，而是将其与曙光云现有行业智能体平台深度联动：以云为基础，提供底层算力、数据工程工具、模型开发工具等核心支撑；以AI为核心，整合传统识别<a href="https://www.elecfans.com/v/tag/2562/" target="_blank"><u>算法</u></a>、基础大模型、垂类大模型等多元能力。用户既能借助Moltbot实现日程管理、消息发送等通用功能，也能调用曙光云在特定行业的专业化解决方案，例如煤炭行业，曙光云已构建覆盖掘进、综采、运输等10个专业、25个智能化应用场景的完整服务体系。</p>
<p style="text-indent:2em;">
	为降低行业用户使用门槛，曙光云将Moltbot以应用镜像形式入驻轻量应用服务器。用户只需在控制台选择Moltbot镜像、配置相应A<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>密钥，即可快速启用专属AI助手，成功解决自建Agent方案的三大核心痛点——部署零门槛、模型即插即用、消息通道原生集成。对于已使用曙光云服务的政府及企业用户而言，无需额外采购硬件或进行复杂配置，就能轻松享受前沿<a href="https://www.elecfans.com/soft/data/42-102/" target="_blank"><u>AI技术</u></a>带来的效率提升。</p>
<p style="text-indent:2em;">
	安全性与隐私保护是企业使用AI服务的首要考量，曙光云对此给出了全方位解决方案。Moltbot本身为开源项目，代码安全性可被任意机构审查，曙光云在此基础上，叠加企业级安全保障措施：以国产硬件为底座，构建安全可信的基础运行环境，支持多重安全加密，针对业务全生命周期，全方位保障数据、网络、应用等各层次安全。此外，方案支持私有化部署，企业可在内部网络运行Moltbot，确保敏感数据不脱离企业环境，尤其适配政府、金融等对数据主权有严格要求的行业。</p>
<p style="text-indent:2em;">
	随着AI智能体技术的不断成熟，每个企业拥有多个专属AI员工、分工负责客户服务、内部管理、数据分析等任务将成为常态。而曙光云正在构建的通算智算一体化云平台，将持续推动行业智能体向更个性化、更专业化、更安全化的方向发展。</p>]]></description></item><item>    <title><![CDATA[软通动力亮相2026全球数字经济大会首场活动]]></title>    <link>https://www.elecfans.com/d/7634210.html</link>    <guid>https://www.elecfans.com/d/7634210.html</guid>    <pubDate>2026-02-01 15:41:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月30日，“2026全球数字经济大会首场活动——京港数字经济合作<a href="https://www.elecfans.com/article/bbs/" target="_blank"><u>论坛</u></a>”在京隆重召开。本次论坛以“京港接力·赋能出海”为主题，由北京市经济和信息化局、香港投资推广署联合主办，旨在深化京港两地数字经济合作，助力企业拓展国际市场。作为中国领先的全栈智能化产品与服务提供商，软通动力董事长兼首席执行官刘天文受邀出席，并发表“从软件服务到全栈智能——智能化、自主化、国际化的转型实践”的主旨演讲，深度分享了软通动力在智能化时代的战略思考与实践成果。</p>
<p style="text-indent:2em;">
	洞察时代机遇，筑牢三大支柱，构建<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>产业闭环</p>
<p style="text-indent:2em;">
	当前世界经济增长逻辑正在重构，科技创新，尤其是<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>，已成为穿越经济周期的确定性主线。面对“AI+”技术浪潮，软通动力开启转型进程，正逐步从传统的IT服务领军企业向以“软硬一体、全栈智能”为核心战略的AI进化型企业进发。</p>
<p style="text-indent:2em;">
	演讲中，刘天文表示，软通动力正致力于构建覆盖“算力-模型-终端”的完整闭环，以满足企业级市场在AI应用、智能终端及AI基础设施方面的巨大需求。这一战略不仅是对市场趋势的精准把握，更是软通动力引领产业智能化升级的必由之路。</p>
<p style="text-indent:2em;">
	围绕“全栈智能”战略，刘天文详细阐述了软通动力在计算智能、场景智能和终端智能三大核心领域的布局与实践：</p>
<p style="text-indent:2em;">
	计算智能：筑牢自主可控的“物理底座”。 软通动力以京津冀智造基地为基石，构筑了“智算<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>+OS+服务器”三大自主支柱产品体系。通过推出“天元智算调度平台”、基于开源<a href="https://m.elecfans.com/v/tag/40/" target="_blank"><u>鸿蒙</u></a>和开源欧拉的自有<a href="https://www.elecfans.com/v/tag/527/" target="_blank"><u>操作系统</u></a>发行版（软通天鸿、软通天鹤），以及全线智算硬件产品，为客户提供一站式AI算力基础设施，确保企业智能化转型的安全感与自主权。</p>
<p style="text-indent:2em;">
	场景智能：构建垂直行业的“超级大脑”。 软通动力打造“企业AI工厂”，通过模型、智能体、数据与场景的高效整合，利用“Agen<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>c AI + Physical AI + Science AI”打通智能决策到实体执行的闭环，使场景产生数据，数据反哺模型，形成AI飞轮，让AI越用越聪明，实现全价值链的模型驱动决策，构建可持续的智能竞争力。目前，该模式已在科技、制造、金融、零售等行业落地，显著提升了客户的生产效率与决策质量，实现了从“数字化”到“智能化”的跨越。</p>
<p style="text-indent:2em;">
	终端智能：抢占无处不在的“数据入口”。 软通动力以“OS+大模型”驱动终端进化，布局从信创PC、AI PC到AIoT智能生态产品及具身智能机器人的全栈产品线，旨在重塑千行万业的交互入口，抢占智能时代的数据制高点。</p>
<p style="text-indent:2em;">
	这种“软硬一体、全栈智能”的战略闭环，使得软通动力进化为连接底层技术、行业场景与终端用户的“生态<a href="https://www.hqchip.com/app/1515" target="_blank"><u>连接器</u></a>”：计算智能为软件提供了强大性能与安全底座，锁定了客户基础设施入口；场景智能用软件为硬件机体赋予灵魂，并不断反哺数据以优化模型，解决“最后一公里”难题；终端智能拓宽了商业边界，源源不断地产生数据与需求，驱动底层算力的迭代。</p>
<p style="text-indent:2em;">
	深化国际合作，共谱出海新篇章</p>
<p style="text-indent:2em;">
	本次论坛聚焦“赋能出海”，与软通动力的国际化战略不谋而合。在“一带一路”政策指引下，公司正积极探索智能时代的出海新路径。结合当前软通动力的出海实践，刘天文向与会嘉宾分享了其心得：</p>
<p style="text-indent:2em;">
	一方面，公司加速硬件供应链的全球化跃迁，推动从“中国制造”到“中国智造”的升级；另一方面，在软件与服务领域，公司坚持“随船出海”策略，将中国在数字化、智能化方面的成功实践转化为全球标杆，并在海外加速建设AI实验室与研发中心，实现技术、产品与生态的全面本土化输出。</p>
<p style="text-indent:2em;">
	在刘天文看来，智能化转型是一场马拉松。软通动力将坚定“全栈智能”方向，锻造产业闭环，携手合作伙伴，共同推动全球智能化浪潮，为经济社会的高质量发展注入强劲动力。</p>
<p style="text-indent:2em;">
	务实创新，共筑协同发展新平台</p>
<p style="text-indent:2em;">
	在围绕数字经济企业出海赋能、产业智能化转型、国产化创新实践等核心议题进行前沿洞察与实践经验分享之外，本次论坛作为2026全球数字经济大会的开年首场活动，大会主办方还向参会嘉宾详实介绍了大会整体框架及系列征集计划，涵盖专题论坛、应用场景、国际合作需求、新技术新产品首发首秀等多类合作征集方向，并在现场正式启动“2026全球数字经济创新大赛”计划，刘天文与参会嘉宾共同为该计划开启点亮仪式，标志着全球数字合作迈向更务实、更机制化的新阶段。</p>
<p style="text-indent:2em;">
	未来，软通动力将在国家“十五五”规划的政策指导下，围绕“人工智能+”行动，继续发挥在人工智能、开源生态及全球化服务方面的优势，深化京港及国际间的数字经济合作，助力更多中国企业在全球范围内实现价值跃升。</p>]]></description></item><item>    <title><![CDATA[华盛昌DT-1982H手持式声学成像仪在工业巡检领域的应用优势]]></title>    <link>https://www.elecfans.com/d/7634211.html</link>    <guid>https://www.elecfans.com/d/7634211.html</guid>    <pubDate>2026-02-01 15:47:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	在工业4.0浪潮推动下，电力、制造、石油化工等领域正加速向智能化、精细化运维转型，传统人工巡检与单一功能检测设备已难以满足企业“安全高效、提前预警、降本增效”的核心需求。声学成像仪作为工业“可视化听诊器”，其精准度、效率与场景适配能力，直接决定运维体系的智能化水平。</p>
<p style="text-indent:2em;">
	华盛昌DT-1982H手持式声学成像仪，以<a href="https://www.hqchip.com/app/1252" target="_blank"><u>高精度</u></a>声学阵列与智能算法为核心，集多场景检测与智能分析于一体，实现从故障发现、精准定位、智能诊断到数据输出的全流程闭环，为工业巡检提供一体化解决方案，驱动运维模式从“事后<a href="https://m.elecfans.com/v/tag/1215/" target="_blank"><u>维修</u></a>”向“预测性维护”的战略升级。</p>
<p style="text-indent:2em;">
	PART 01</p>
<p style="text-indent:2em;">
	三重痛点交织，巡检效能亟待突破</p>
<p style="text-indent:2em;">
	当前工业巡检领域正面临三重核心挑战：一是隐性故障难预判，电力设备局部放电、管道微小气体泄漏等隐性问题，依赖人工巡检或常规设备难以早期识别，易从轻微隐患演变为停机事故；二是故障定位效率低，工业现场背景噪声复杂，多声源干扰下，传统设备难以锁定故障核心位置，且易受检测人员经验影响，误诊率居高不下；三是性能成本难平衡，中小企业性价比需求凸显，进口高端设备价格高昂，国产入门机型功能阉割，难以平衡性能与成本。</p>
<p style="text-indent:2em;">
	与此同时，双碳政策推进、安全生产合规强化，进一步倒逼企业升级检测手段。在电力行业，<a href="https://www.elecfans.com/v/tag/873/" target="_blank"><u>高压</u></a>设备局放隐患需提前预警以规避停电事故；在制造业，压缩空气泄漏导致的能源浪费占比居高不下，亟需精准量化与治理；在石油化工、市政燃气领域，有毒有害、易燃易爆气体泄漏的快速定位，直接关系到人员安全与生产稳定。</p>
<p style="text-indent:2em;">
	PART 02</p>
<p style="text-indent:2em;">
	DT-1982H：化声为形，便携智检</p>
<p style="text-indent:2em;">
	面对行业需求变革，华盛昌依托成熟的声学检测技术，推出专业级手持式声学成像仪DT-1982H。</p>
<p style="text-indent:2em;">
	设备配置128个高灵敏度数字<a href="https://m.elecfans.com/v/tag/7888/" target="_blank"><u>MEMS</u></a>麦克风阵列，2kHz~100kHz的宽广频率可调范围及0.3米~150米远距离测量能力，可快速定位并诊断局部放电、气体泄漏以及噪声异响定位等问题，适配电力、化工、制造业等多领域的复杂检测需求。</p>
<p style="text-indent:2em;">
	01.强大核心，精准定位</p>
<p style="text-indent:2em;">
	精密阵列，声源无处遁形：内置128个高灵敏数字MEMS麦克风阵列，具备一致性好、抗干扰能力强的优势，确保在复杂工业噪声环境中仍能精准提取目标声源<a href="https://m.hqchip.com/app/1072" target="_blank"><u>信号</u></a>，实现精确的声源可视化定位。</p>
<p style="text-indent:2em;">
	宽频可调范围，应对复杂场景：工作频率可在2kHz~100kHz的宽范围内调节，既能捕捉人耳可听的异常噪声，也能精准捕获超声波信号（如局放和微泄漏）。</p>
<p style="text-indent:2em;">
	超远测距，安全高效：0.3米~150米的测量距离，允许操作人员在安全距离外对高空、高压或危险区域设备进行检测，大幅提升巡检安全性与覆盖效率。</p>
<p style="text-indent:2em;">
	02.三大检测模式，破解场景化痛点</p>
<p style="text-indent:2em;">
	DT-1982H集成局放检测、气体泄漏检测、<a href="https://www.elecfans.com/v/tag/1472/" target="_blank"><u>机械</u></a>异响检测三大核心模式，精准覆盖工业场景常见故障类型，以“诊断精准化、数据量化、操作高效化”为核心，破解传统检测难题。</p>
<p style="text-indent:2em;">
	局部放电检测：智能诊断，安全高效</p>
<p style="text-indent:2em;">
	局部放电是高压电气设备绝缘劣化的早期征兆，传统巡检普遍存在预警滞后、定位模糊、无法区分放电类型等痛点，易诱发绝缘击穿、非计划停电等重大事故。</p>
<p style="text-indent:2em;">
	DT-1982H依托可视化声学成像技术，可快速定位放电点位，支持智能PRPD图谱分析，自动识别电晕、沿面、悬浮三种典型放电类型并评估严重程度，实现自动化、精准化检测与诊断，提前预警绝缘老化、击穿风险，为<a href="https://m.elecfans.com/v/tag/2364/" target="_blank"><u>电气</u></a>设备安全运维提供前置保障。</p>
<p style="text-indent:2em;">
	压缩气体泄漏检测：量化节能，一目了然</p>
<p style="text-indent:2em;">
	工业气体泄漏是工厂中隐形的“能源黑洞”，传统肥皂水涂抹法效率低下，无法实现复杂管线系统性筛查，且缺乏量化数据支撑能耗管理。</p>
<p style="text-indent:2em;">
	DT-1982H最小可识别80ml/min（2bar 0.3m）的微小泄漏，既能快速定位泄漏点位，又能实时计算并显示泄漏流量及经济损失，为能源管理提供精准数据依据。搭配聚焦模式可有效屏蔽工业背景噪声，在密集管线中精准锁定泄漏源，广泛适配压缩空气管道、阀门、气动工具、气体储罐等设备，助力企业降低气体泄漏能耗损失。</p>
<p style="text-indent:2em;">
	机械异响定位：精准溯源，故障预警</p>
<p style="text-indent:2em;">
	轴承磨损、齿轮损伤等旋转机械故障在早期会发出特征异响，但在嘈杂的工业环境下，仅凭人耳或听音棒难以从混合噪声中分离并精确定位故障源。</p>
<p style="text-indent:2em;">
	DT-1982H可精准捕捉设备磨损、松动等引发的异常声响，搭配单声源、多声源（最多3点）、全息三种定位模式，适配设备密集场景的多故障点同步排查。可检测<a href="https://bbs.elecfans.com/zhuti_dianji_1.html" target="_blank"><u>电机</u></a>、轴承、齿轮箱、风机、泵体等旋转机械的异响故障，推动运维从“事后维修”向“事前预警”转型，大幅降低维修成本与停机时长。</p>
<p style="text-indent:2em;">
	03.操作便捷，智能高效</p>
<p style="text-indent:2em;">
	两种成像模式与定位：提供全屏显示与聚焦显示两种成像模式，聚焦功能可精准锁定重点区域，屏蔽无关噪声云图干扰，让故障声源更清晰可见。同时，具备单声源、多声源（最多3点）、全息分布三种定位模式，全息模式能动态展示声音分布并调节动态范围，满足不同场景下的声源分析需求。</p>
<p style="text-indent:2em;">
	全屏模式与聚焦模式</p>
<p style="text-indent:2em;">
	三种定位模式：全息、多声源、单声源</p>
<p style="text-indent:2em;">
	一体化数据管理：设备配备5英寸高清触摸屏与1300万像素高清摄像头，支持拍照、录像，并通过<a href="https://www.elecfans.com/tags/wi-fi/" target="_blank"><u>Wi-Fi</u></a>、<a href="https://www.elecfans.com/tags/蓝牙/" target="_blank"><u>蓝牙</u></a>或<a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a>快速导出数据，便于后续分析与汇报。</p>
<p style="text-indent:2em;">
	单手可持，持久续航：采用可拆卸电池设计，标配双电池，支持现场快速更换，单块续航≥4小时，满足全天高强度巡检。</p>
<p style="text-indent:2em;">
	PART 03</p>
<p style="text-indent:2em;">
	场景化落地赋能，彰显国产智检实力</p>
<p style="text-indent:2em;">
	DT-1982H深度适配四大核心行业场景，精准匹配不同领域的运维诉求，以技术赋能场景落地：</p>
<p style="text-indent:2em;">
	电力行业：适用于变电站、输电线路、配电房、<a href="https://m.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>电站等场景，检测高压开关柜内部局放、绝缘子污秽放电、电缆接头绝缘缺陷、变压器局部放电等故障。</p>
<p style="text-indent:2em;">
	制造业：快速定位压缩空气管道、阀门、气动工具等设备的微小泄漏，通过量化数据助力企业管控能耗；精准诊断电机、泵体等旋转设备的异响故障，提前锁定轴承磨损、齿轮损伤等问题。</p>
<p style="text-indent:2em;">
	化工/油气行业：远距离排查易燃易爆气体泄漏，精准锁定泄漏源，规避高危安全隐患。</p>
<p style="text-indent:2em;">
	建筑/暖通行业：高效检测空调系统、制冷设备的冷媒泄漏，以及风机、水泵等机电设备的运行故障。</p>
<p style="text-indent:2em;">
	工业智能化转型的核心，在于以精准技术打破运维瓶颈，以数据能力激活管理价值。DT-1982H以全场景适配、高精度诊断、智能化赋能的核心优势，成为工业运维升级的可靠装备，为电力、化工、制造业等领域筑牢安全生产防线，实现降本增效与提质赋能。</p>
<p style="text-indent:2em;">
	未来，华盛昌将持续深耕工业检测场景，以技术创新响应行业需求，助力更多企业迈入智能运维新生态，为中国制造高质量发展注入强劲动力。</p>]]></description></item><item>    <title><![CDATA[RK3588平台串口配置修改指南：切换至串口8]]></title>    <link>https://www.elecfans.com/d/7401471.html</link>    <guid>https://www.elecfans.com/d/7401471.html</guid>    <pubDate>2026-02-01 16:37:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		<b><span style="font-family:Arial;font-weight:bold;font-size:18pt;"><span>一、背景与需求说明</span></span></b></h1>
	<p>
		<br/>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在<a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，串口作为基础调试<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>至关重要。本文档针对</span></font><span>RK3588</span><font face="等线"><span>平台，详细介绍如何将系统默认串口修改为串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>（</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a>8</span></font><font face="等线"><span>），包括</span></font><font face="Arial"><span>U-Boot</span></font><font face="等线"><span>阶段和内核阶段的配置调整。该修改适用于需要使用额外串口进行调试或<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>的场景，例如当默认串口被其他功能占用时，需重新映射控制台到串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>。</span></font></span></p>
	
		<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>二、修改涉及的关键文件与原理</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.1</span><font face="等线"><span>内核设备树配置（</span></font><font face="Arial"><span>rk3588-<a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>linux</u></a>.dtsi</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">--- a/kernel/arch/<a href="https://www.hqchip.com/app/1378" target="_blank"><u>arm</u></a>64/boot/dts/<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>/rk3588-linux.dtsi</span></span></code><code><span><span class="code-snippet__comment">+++ b/kernel/arch/arm64/boot/dts/rockchip/rk3588-linux.dtsi</span></span></code><code><span><span class="code-snippet__meta">@@ -12,7 +12,7 @@</span>aliases {</span></code><code><span>    };</span></code><code><span/></code><code><span>    chosen: chosen {</span></code><code><span><span class="code-snippet__deletion">-        bootargs = "earlycon=uart8250,mmio32,0xfeb50000 console=ttyFIQ0 irqchip.gicv3_pseudo_nmi=0 root=PARTUUID=614e0000-0000 rw rootw<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>t rcupda<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>.rcu_expedited=1 rcu_nocbs=all mtdparts=sfc_nor:0x00040000@0x00180000(vnvm),0x00800000@0x00800000(uboot)";</span></span></code><code><span><span class="code-snippet__addition">+        bootargs = "earlycon=uart8250,mmio32,0xfeb50000 console=ttyFIQ0 console=ttyS8,1500000n8 irqchip.gicv3_pseudo_nmi=0 root=PARTUUID=614e0000-0000 rw rootwait rcupdate.rcu_expedited=1 rcu_nocbs=all mtdparts=sfc_nor:0x00040000@0x00180000(vnvm),0x00800000@0x00800000(uboot)";</span></span></code><code><span>    };</span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>关键修改说明</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>bootargs</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>中新增</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>console=ttyS8,1500000n8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>参数</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>ttyS8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>表示使用串口</span></font><span>8</span><font face="等线"><span>作为控制台</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>1500000n8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>定义波特率为</span></font><span>1500000</span><font face="等线"><span>，数据位</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>位，无校验位，</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>位停止位</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>earlycon=uart8250,mmio32,0xfeb50000</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>用于早期控制台初始化，指定串口<a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>基地址</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.2 U-Boot</span><font face="等线"><span>设备树配置（</span></font><font face="Arial"><span>rk3588-u-boot.dtsi</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">--- a/u-boot/arch/arm/dts/rk3588-u-boot.dtsi</span></span></code><code><span><span class="code-snippet__comment">+++ b/u-boot/arch/arm/dts/rk3588-u-boot.dtsi</span></span></code><code><span><span class="code-snippet__meta">@@ -44,11 +44,26 @@</span></span></code><code><span><span class="code-snippet__meta">@@ -160,6 +175,14 @@</span></span></code><code><span>    status = "okay";</span></code><code><span>};</span></code><code><span/></code><code><span><span class="code-snippet__addition">+&amp;uart8 {</span></span></code><code><span><span class="code-snippet__addition">+    clock-frequency = &lt;24000000&gt;;</span></span></code><code><span><span class="code-snippet__addition">+    u-boot,dm-spl;</span></span></code><code><span><span class="code-snippet__addition">+    <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-names = "default";</span></span></code><code><span><span class="code-snippet__addition">+    status = "okay";    </span></span></code><code><span><span class="code-snippet__addition">+    pinctrl-0 = &lt;&amp;uart8m0_xfer&gt;;</span></span></code><code><span><span class="code-snippet__addition">+};</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span>&amp;hw_decompress {</span></code><code><span>    u-boot,dm-spl;</span></code><code><span>    status = "okay";</span></code><code><span><span class="code-snippet__meta">@@ -304,6 +327,11 @@</span></span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>关键修改说明</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>启用</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>uart8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>设备节点：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>clock-frequency = &lt;24000000&gt;</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：设置串口<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>频率为</span></font><span>24MHz</span><font face="等线"><span>，用于波特率计算</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>u-boot,dm-spl</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：标记该串口用于</span></font><span>U-Boot SPL</span><font face="等线"><span>（</span></font><font face="Arial"><span>Secondary Prog<a href="https://www.elecfans.com/tags/ram/" target="_blank"><u>ram</u></a> Lo<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>er</span></font><font face="等线"><span>）阶段</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>pinctrl-0 = &lt;&amp;uart8m0_xfer&gt;</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：指定串口</span></font><span>8</span><font face="等线"><span>的引脚复用配置，需确保与硬件设计一致</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>该配置使</span></font><span>U-Boot</span><font face="等线"><span>在启动阶段能够初始化并使用串口</span></font><font face="Arial"><span>8</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.3 U-Boot CLI</span><font face="等线"><span>代码修改（</span></font><font face="Arial"><span>cli.c</span></font><font face="等线"><span>）</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span>--- a/u-boot/common/cli.c</span></code><code><span>+++ b/u-boot/common/cli.c</span></code><code><span>@@<span class="code-snippet__number">-15</span>,<span class="code-snippet__number">6</span>+<span class="code-snippet__number">15</span>,<span class="code-snippet__number">10</span>@@</span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><console.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><fdtdec.h/></span></span></span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><malloc.h/></span></span></span></code><code><span>+<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><serial.h/></span></span></span></code><code><span>+<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><dm.h/></span></span></span></code><code><span>+<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><dm/></span></span></span></code><code><span>+<span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">include</span></span><span class="code-snippet__meta"/><span class="code-snippet__meta"><span class="code-snippet__string"><dm/></span></span></span></code><code><span/></code><code><span>DECLARE_GLOBAL_DATA_PTR;</span></code><code><span/></code><code><span>@@<span class="code-snippet__number">-218</span>,<span class="code-snippet__number">6</span>+<span class="code-snippet__number">222</span>,<span class="code-snippet__number">16</span>@@ err:</span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">ifndef</span></span><span class="code-snippet__meta">CONFIG_CONSOLE_DISABLE_CLI</span></span></code><code><span><span class="code-snippet__function"><span class="code-snippet__type">void</span></span><span class="code-snippet__function"/><span class="code-snippet__function"><span class="code-snippet__title">cli_loop</span></span><span class="code-snippet__function"><span class="code-snippet__params">(</span></span><span class="code-snippet__function"><span class="code-snippet__params"><span class="code-snippet__type">void</span></span></span><span class="code-snippet__function"><span class="code-snippet__params">)</span></span></span></code><code><span>{</span></code><code><span>+    <span class="code-snippet__keyword">struct</span><span class="code-snippet__title">udevice</span>*uart_dev;</span></code><code><span>+    <span class="code-snippet__built_in">writel</span>(<span class="code-snippet__number">0x00ff00aa</span>,<span class="code-snippet__number">0xfd5f8088</span>);</span></code><code><span>+    <span class="code-snippet__keyword">if</span>(<span class="code-snippet__built_in">uclass_get_device_by_seq</span>(UCLASS_SERIAL,<span class="code-snippet__number">8</span>, &amp;uart_dev))</span></code><code><span>+        <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"uart: fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a> to get devicen"</span>);</span></code><code><span>+    <span class="code-snippet__keyword">else</span></span></code><code><span>+        <span class="code-snippet__built_in">printf</span>(<span class="code-snippet__string">"uart: got devicen"</span>);</span></code><code><span>+    <span class="code-snippet__built_in">serial_dev_setbrg</span>(uart_dev,<span class="code-snippet__number">1500000</span>);</span></code><code><span>+    </span></code><code><span>+    gd-&gt;flags |= GD_FLG_SERIAL_READY;</span></code><code><span>+    gd-&gt;cur_serial_dev = uart_dev;</span></code><code><span><span class="code-snippet__meta">#</span><span class="code-snippet__meta"><span class="code-snippet__keyword">ifdef</span></span><span class="code-snippet__meta">CONFIG_HUSH_PA<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>RS</u></a>ER</span></span></code><code><span>    <span class="code-snippet__built_in">parse_file_outer</span>();</span></code><code><span>    <span class="code-snippet__comment">/* This point is never re<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>hed */</span></span></code></pre>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>关键修改说明</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>新增头文件包含：</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>serial.h</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>dm.h</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>等，用于串口设备管理</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>通过</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>uclass_get_device_by_seq(UCLASS_SERIAL, 8, &amp;uart_dev)</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>获取串口</span></font><span>8</span><font face="等线"><span>设备句柄</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>serial_dev_setbrg(uart_dev, 1500000)</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>设置波特率为</span></font><span>1500000</span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>更新全局数据结构</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>gd</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，标记串口已准备就绪并设置为当前串口设备</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>三、完整修改步骤与实现流程</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.1</span><font face="等线"><span>内核配置修改流程</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>定位设备树文件</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>进入内核源码目录：</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>cd kernel/arch/arm64/boot/dts/rockchip/</span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>修改</span></font><span>bootargs</span><font face="等线"><span>参数</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>使用文本编辑器打开</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>rk3588-linux.dtsi</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，在</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>chosen</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>节点中添加</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>console=ttyS8,1500000n8</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，确保内核启动时使用串口</span></font><span>8</span><font face="等线"><span>作为控制台。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.2 U-Boot</span><font face="等线"><span>配置修改流程</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>定位</span></font><span>U-Boot</span><font face="等线"><span>设备树文件</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>进入</span></font><span>U-Boot</span><font face="等线"><span>源码目录：</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>cd u-boot/arch/arm/dts/</span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>启用串口</span></font><span>8</span><font face="等线"><span>设备节点</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>打开</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>rk3588-u-boot.dtsi</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，添加</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>&amp;uart8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>节点配置，包括时钟频率、引脚控制和状态设置，确保</span></font><span>U-Boot</span><font face="等线"><span>阶段能初始化串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>修改</span></font><span>CLI</span><font face="等线"><span>代码初始化串口</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>进入</span></font><span>U-Boot</span><font face="等线"><span>源码目录：</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>cd u-boot/common/</span></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>打开</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>cli.c</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，添加串口设备获取、波特率设置及全局数据更新逻辑，确保</span></font><span>U-Boot</span><font face="等线"><span>命令行使用串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>四、硬件连接与引脚配置说明</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>4.1</span><font face="等线"><span>串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>硬件连接要求</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>控制器基地址</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：根据设备树配置，串口</span></font><span>8</span><font face="等线"><span>的基地址为</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>0xfeb50000</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（由</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>earlycon=uart8250,mmio32,0xfeb50000</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指定）</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>引脚复用</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：需确保</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>uart8m0_xfer</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>引脚配置与硬件设计一致，通常包括：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>TXD8</span><font face="等线"><span>（发送引脚）</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>RXD8</span><font face="等线"><span>（接收引脚）</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>GND</span><font face="等线"><span>（接地）</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>五、验证与调试方法</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>5.1 U-Boot</span><font face="等线"><span>阶段验证</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>启动日志检查</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>连接串口</span></font><span>8</span><font face="等线"><span>到调试终端（波特率</span></font><font face="Arial"><span>1500000</span></font><font face="等线"><span>，</span></font><font face="Arial"><span>8N1</span></font><font face="等线"><span>），重启设备后观察</span></font><font face="Arial"><span>U-Boot</span></font><font face="等线"><span>输出：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若配置正确，</span></font><span>U-Boot</span><font face="等线"><span>启动时会输出</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>uart: got device</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>日志</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>命令行提示符（如</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>=&gt;</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）应出现在串口</span></font><span>8</span><font face="等线"><span>终端</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>串口设备查询</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在</span></font><span>U-Boot</span><font face="等线"><span>命令行中执行：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">printenv</span>console</span></code><code><span><span class="code-snippet__comment"># 应输出类似 "console=ttyS8,1500000"</span></span></code><code><span>dev list | grep serial</span></code><code><span><span class="code-snippet__comment"># 应显示串口 8 设备已注册</span></span></code></pre>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>5.2</span><font face="等线"><span>内核阶段验证</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>内核日志检查</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>内核启动后，串口</span></font><span>8</span><font face="等线"><span>应输出完整的启动日志（</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>dmesg</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>内容），并显示</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>ttyS8</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>设备初始化信息：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__selector-attr">[  0.000000]</span>console<span class="code-snippet__selector-attr">[ttyS8]</span>enabled</span></code><code><span><span class="code-snippet__selector-attr">[  1.234567]</span>serial8250.<span class="code-snippet__number">8</span>: ttyS8 at MMIO<span class="code-snippet__number">0</span>xfeb50000 (irq =<span class="code-snippet__number">123</span>) is a<span class="code-snippet__number">16550</span>A</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>串口设备测试</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在系统中执行：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>检查串口设备是否存在</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>ls /dev/ttyS8</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>测试串口通信（例如向串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>发送数据）</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>echo "Test Data" &gt; /dev/ttyS8</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>5.3</span><font face="等线"><span>常见故障排除</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>无输出问题</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>a.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>检查硬件连接是否正确，引脚是否短路或虚接</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>b.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>确认串口</span></font><span>8</span><font face="等线"><span>的时钟频率（</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>24MHz</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）与波特率（</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>1500000</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）计算是否正确</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>c.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>检查设备树中的</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>status</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>是否为</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>"okay"</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，确保设备未被禁用</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>波特率异常</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>确认</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>serial_dev_setbrg</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>和</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>console</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>参数中的波特率一致</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>检查</span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span>clock-frequency</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>设置是否与硬件时钟匹配</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>通过以上步骤，可在</span></font><span>RK3588</span><font face="等线"><span>平台成功将系统串口修改为串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>，实现</span></font><font face="Arial"><span>U-Boot</span></font><font face="等线"><span>和内核阶段的串口重定向，满足特定硬件调试与通信需求。</span></font></span><span style="font-family:'等线';font-size:11pt;"><font face="等线"><span>重要说明，</span></font><font face="Arial"><span>uboot</span></font><font face="等线"><span>阶段的并没有完全修改为串口</span></font><font face="Arial"><span>8</span></font><font face="等线"><span>，如需完全显示</span></font><font face="Arial"><span>log</span></font><font face="等线"><span>，还需要修改其他，比如</span></font><font face="Arial"><span><a href="https://m.hqchip.com/app/1729" target="_blank"><u>ddr</u></a>.bin</span></font><font face="等线"><span>文件等。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[揭秘！三步让Debian系统编译速度起飞，告别重复下载资源的烦恼]]></title>    <link>https://www.elecfans.com/d/7401456.html</link>    <guid>https://www.elecfans.com/d/7401456.html</guid>    <pubDate>2026-02-01 16:43:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="font-size:14px;background-color:rgb(255,255,255);">在</span></span></font><span><span style="font-size:14px;background-color:rgb(255,255,255);">Debian</span></span><font face="等线"><span><span style="font-size:14px;background-color:rgb(255,255,255);">系统编译的过程中，重复构建系统和动态下载相关资源往往会消耗大量时间，拖慢开发和部署进度。今天，我们就通过分析一组代码修改，来探索如何优化</span></span></font><font face="Arial"><span><span style="font-size:14px;background-color:rgb(255,255,255);">Debian</span></span></font><font face="等线"><span><span style="font-size:14px;background-color:rgb(255,255,255);">系统编译，实现高效编译，减少不必要的时间浪费。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、痛点剖析：重复编译的</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时间黑洞</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在以往的</span></span></font><span><span style="background-color:rgb(255,255,255);">Debian</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统编译流程中，每次编译都需要重新构建系统，从网络动态下载各种资源。这不仅对网络环境有较高要求，而且大量重复的下载和构建操作，会让编译过程变得漫长又繁琐。无论是开发新功能，还是进行系统更新，这样的低效率都让人头疼不已。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、代码解析：优化方案的核心逻辑</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">我们来看具体的代码修改，它为优化</span></span></font><span><span style="background-color:rgb(255,255,255);">Debian</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统编译提供了清晰的思路。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">新增</span></span></font><span><span style="background-color:rgb(255,255,255);">mk-debian-rootfs-patch.sh</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">脚本</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：这个新脚本定义了目标根文件系统目录</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">TARGET_ROOTFS_DIR</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">，并执行一系列关键操作。首先，它删除已存在的目标根文件系统目录，然后解压</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a>024</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-debian-base-*.tar.gz</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件。这里的关键在于，通过将编译所需的基础系统打包成</span></span></font><span><span style="background-color:rgb(255,255,255);">tar</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件，避免了重复从网络下载资源。接着，它将</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">overlay</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件夹的内容复制到目标根文件系统目录，并对文件所有者进行修复。这一系列操作，为后续的编译提供了稳定且完整的基础环境。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">#!/bin/bash -e</span></span></code><code><span><span class="code-snippet__comment"># Directory cont<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>ns the target rootfs</span></span></code><code><span>TARGET_ROOTFS_DIR=<span class="code-snippet__string">"binary"</span></span></code><code><span><span class="code-snippet__built_in">echo</span><span class="code-snippet__string">"Linux024 mk-debian-rootfs-patch.sh"</span></span></code><code><span>sudo<span class="code-snippet__built_in">rm</span>-<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>rf</u></a><span class="code-snippet__variable">$TARGET_ROOTFS_DIR</span></span></code><code><span><span class="code-snippet__comment">#如果需要重新构建系统直接把该镜像文件删掉再重新编译即可，系统会重新编译mk-rootfs-bullseye.sh</span></span></code><code><span>sudo tar -xpf RN01-debian-base-*.tar.gz</span></code><code><span><span class="code-snippet__comment"># overlay folder</span></span></code><code><span>sudo<span class="code-snippet__built_in">cp</span>-rpf overlay/*<span class="code-snippet__variable">$TARGET_ROOTFS_DIR</span>/</span></code><code><span>ID=$(<span class="code-snippet__built_in">stat</span>--format %u<span class="code-snippet__variable">$TARGET_ROOTFS_DIR</span>)</span></code><code><span><span class="code-snippet__built_in">cat</span>&lt;&lt; <span class="code-snippet__string">EOF | sudo chroot $TARGET_ROOTFS_DIR</span></span></code><code><span># Fixup owne<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a></span></code><code><span>EOF</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改</span></span></font><span><span style="background-color:rgb(255,255,255);">mk-rootfs-bullseye.sh</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">脚本</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：在这个脚本中，新增了将目标根文件系统目录打包成</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">Linux024</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-debian-base-2025-03-10.tar.gz</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件的操作。这样，在后续编译过程中，如果这个打包文件存在，就可以直接使用，而无需重新构建基础系统，大大节省了时间。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__built_in">rm</span>-rf /var/cache/</span></code><code><span><span class="code-snippet__built_in">rm</span>-rf /packages/</span></code><code><span>EOF</span></code><code><span>+</span></code><code><span>+sudo tar zcf Linux024-debian-base-2025-03-10.tar.gz<span class="code-snippet__variable">$TARGET_ROOTFS_DIR</span></span></code><code><span> No newline at end of file</span></code></pre>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">调整</span></span></font><span><span style="background-color:rgb(255,255,255);">mk-rootfs.sh</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">脚本</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：该脚本通过判断</span></span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">Linux024</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-debian-base*.tar.gz</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件是否存在，来决定执行不同的操作。如果文件不存在，就按照常规方式执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">VERSION=debug ARCH=$ARCH./$DEBIAN_SCRIPT</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">进行编译；如果文件存在，则直接执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">./mk-debian-rootfs-patch.sh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，利用已有的基础系统打包文件进行快速编译，跳过重复的资源下载和基础系统构建步骤。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__function"><span class="code-snippet__title">build_debian</span></span>()</span></code><code><span>{</span></code><code><span>    sed -i<span class="code-snippet__string">"s#(http://)[^/]*#1</span><span class="code-snippet__string"><span class="code-snippet__variable">$RK_DEBIAN_MIRROR</span></span><span class="code-snippet__string">#"</span><span class="code-snippet__string">"</span><span class="code-snippet__string"><span class="code-snippet__variable">$DEBIAN_SCRIPT</span></span><span class="code-snippet__string">"</span></span></code><code><span>}</span></code><code><span>+   <span class="code-snippet__keyword">if</span>[ ! -e Linux024-debian-base*.tar.gz ];<span class="code-snippet__keyword">then</span></span></code><code><span>    VERSION=debug ARCH=<span class="code-snippet__variable">$ARCH</span>./<span class="code-snippet__variable">$DEBIAN_SCRIPT</span></span></code><code><span>+   <span class="code-snippet__keyword">else</span></span></code><code><span>+    ./mk-debian-rootfs-patch.sh</span></code><code><span>+   <span class="code-snippet__keyword">fi</span></span></code><code><span>+</span></code><code><span>    ./mk-image.sh</span></code><code><span>   <span class="code-snippet__keyword">if</span>! [ -r<span class="code-snippet__string">"</span><span class="code-snippet__string"><span class="code-snippet__variable">$RK_LOG_DIR</span></span><span class="code-snippet__string">/post-rootfs.log"</span>];<span class="code-snippet__keyword">then</span></span></code></pre>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、实践指南：轻松上手优化编译</span></span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">准备工作</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：将</span></span></font><span><span style="background-color:rgb(255,255,255);">Debian</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统编译所需的基础环境打包成Linux024</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">-debian-base-*.tar.gz</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件，并放置在合适的目录下。同时，确保</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">overlay</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">文件夹包含了必要的配置和文件。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">修改脚本</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：按照上述代码修改内容，更新</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mk-debian-rootfs-patch.sh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mk-rootfs-bullseye.sh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">mk-rootfs.sh</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">脚本。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行编译</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">：执行编译命令时，系统会自动判断是否存在已有的基础系统打包文件。如果存在，就会快速利用它进行编译；如果不存在，则会正常构建基础系统并打包，为后续编译做好准备。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">通过以上优化方案，我们成功解决了</span></span></font><span><span style="background-color:rgb(255,255,255);">Debian</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统编译过程中重复构建和资源下载的问题，大幅提升了编译效率。无论是日常开发，还是大规模系统部署，都能让你的工作事半功倍。赶紧试试这些优化技巧，告别漫长的编译等待吧！如果你在实践过程中有任何疑问，或者发现了更好的优化方法，欢迎在评论区留言分享，我们一起探索</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Debian</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统编译的更多可能！</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[RK3588平台双存储（SPI+PCIE）OTA升级方案教学文档]]></title>    <link>https://www.elecfans.com/d/7401454.html</link>    <guid>https://www.elecfans.com/d/7401454.html</guid>    <pubDate>2026-02-01 16:46:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">一、方案概述</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">背景与目标</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">在<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>设备中，单一存储介质可能存在容量限制或可靠性风险。</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">平台的双存储</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">OTA</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">升级方案支持</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI NAND/NOR</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE S<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">混合部署场景，通过统一升级引擎实现跨存储设备的固件管理，解决多存储介质下的升级兼容性问题，同时保障升级过程的安全性与可靠性。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">核心特性</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">混合存储支持</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：同时适配</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设备）与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（块设备）存储，支持不同类型分区独立升级。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">固件格式扩展</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：新增多存储固件格式，兼容原有单存储固件。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">精细化存储识别</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：每个分区独立标记存储类型（</span></span></font><span><span style="background-color:#ffffff;">MTD /</span></span><font face="等线"><span><span style="background-color:#ffffff;">非</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），替代全局判断。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">安全校验增强</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：针对不同存储类型优化校验逻辑，确保数据完整性。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">二、环境配置与编译准备</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.1 Buildroot</span></span><font face="等线"><span><span style="background-color:#ffffff;">配置（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">rk3588.config</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">开启升级功能并指定新升级引擎，确保编译时包含必要组件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">开启升级相关功能</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">BR2_PACKAGE_RECOVERY=y</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">使用新升级程序（替代原有流程）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">BR2_PACKAGE_RECOVERY_USE_UPDATEENGINE=y</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">编译</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">recovery</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">二进制文件</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">BR2_PACKAGE_RECOVERY_RECOVERYBIN=y</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">编译新升级引擎二进制文件</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">BR2_PACKAGE_RECOVERY_UPDATEENGINEBIN=y</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">关闭</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">UI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（适用于无显示场景）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">BR2_PACKAGE_RECOVERY_NO_UI=y</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">依赖调整（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">glibc.mk</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">为兼容双存储升级引擎，将</span></span></font><span><span style="background-color:#ffffff;">glibc</span></span><font face="等线"><span><span style="background-color:#ffffff;">版本从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2.38</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">降级至</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2.31</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">原版本</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># GLIBC_VERSION = 2.38-27-g750a45a783906a19591fb8ff6b7841470f1f5701</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">调整后版本</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GLIBC_VERSION = 2.31-54-g6fdf971c9dbf7<a href="https://www.elecfans.com/tags/dac/" target="_blank"><u>dac</u></a>9bea552113fe4694015bbc4d</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<i><span style="font-family:Arial;font-style:italic;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">注：版本调整需根据实际兼容性测试结果确认。</span></span></font></span></i></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">三、核心技术实现</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储类型定义与标识</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.1.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储类型枚举（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">rkimage.h</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">定义支持的存储类型，包含</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">typedef enum {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_FLASH_CODE = 1&lt;&lt;0, </span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">闪存</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_EMMC_CODE = 1&lt;&lt;1, </span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">// eMMC</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_SD0_CODE = 1&lt;&lt;2, </span></span><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">// SD</span></span><font face="等线"><span><span style="background-color:#ffffff;">卡</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_SD1_CODE = 1&lt;&lt;3, </span></span><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">// SD</span></span><font face="等线"><span><span style="background-color:#ffffff;">卡</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_SPINOR_CODE = 1&lt;&lt;9, </span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">// SPI NOR</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设备）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_SPINAND_CODE = 1&lt;&lt;8, </span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">// SPI NAND</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设备）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_<a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a>_CODE = 1&lt;&lt;7, </span></span><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">// USB</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">STORAGE_PCIE_CODE = 1&lt;&lt;11 </span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">// PCIE</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储（块设备）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">其他存储类型</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">...</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">} STORAGE_CODE;</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.1.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">固件<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>标识（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">defineHe<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>er.h</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">通过标签区分固件类型：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">多存储固件标签（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI+PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">等混合存储）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#define SSFW_TAG 0x57465353</span></span><span><span><span style="background-color:#ffffff;"/></span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">普通单存储固件标签</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#define RKFW_TAG 0x57464B52</span></span><span><span><span style="background-color:#ffffff;"/></span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">多存储固件格式设计</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">双存储固件采用</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">分层打包结构</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，外层为容器，内层包含各存储设备的独立固件：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">update_ssfw.img</span></span><font face="等线"><span><span style="background-color:#ffffff;">（外层容器）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">├── STORAGE_FW_HDR</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（头部，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4KB</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── tag: SSFW_TAG</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（标识多存储固件）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── head_size:</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">头部大小</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── entry_count:</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储设备数量（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">└── entry_size:</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">每个存储条目的大小</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">├── STORAGE_ENTRY</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（条目表，可变长）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── [SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储条目</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">]</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── storage: STORAGE_SPINAND_CODE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（存储类型）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">├── offset: SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件在内层的偏移量</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">└── size: SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件大小</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">└── [PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储条目</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">]</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">├── storage: STORAGE_PCIE_CODE</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">├── offset: PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件在内层的偏移量</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">│</span></span><span><span><span style="background-color:#ffffff;">  </span></span></span><span><span style="background-color:#ffffff;">└── size: PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件大小</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">├── SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件（内层，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RKFW</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">格式）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">└── PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件（内层，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RKFW</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">格式）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.3</span></span><font face="等线"><span><span style="background-color:#ffffff;">固件解析流程</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.3.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">解析入口（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">rkimage.c</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">analy<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>cImage</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">函数根据固件标签判断类型，分支处理：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">int analyticImage(const char *filepath, PRKIMAGE_HDR phdr, PRKIMAGE_STORAGE image_storage, int num) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">读取固件头部标签</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">if (rkimage_tag == SSFW_TAG) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">解析多存储固件（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI+PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">return analyticDualStorageImage(filepath, phdr, image_storage, num);</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">} else if (rkimage_tag == RKFW_TAG) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">解析普通单存储固件</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">return analyticRKFWImage(filepath, phdr, 0, fileSize);</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">}</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">}</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.3.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">多存储固件解析（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">analyticDualStorageImage</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">读取外层容器头部，验证</span></span></font><span><span style="background-color:#ffffff;">SSFW_TAG</span></span><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">解析条目表，获取</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件的偏移量与大小；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">分别解析内层</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">固件和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件（调用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">analyticRKFWImage</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">4.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">整合所有分区信息，并标记每个分区的存储类型（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储的分区（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI NAND</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）标记为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd = true</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">PCIE</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储的分区标记为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd = false</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">3.4</span></span><font face="等线"><span><span style="background-color:#ffffff;">升级执行适配</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.4.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">存储类型感知的烧写逻辑（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">flash_image.c</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">将全局存储类型判断改为</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">分区级判断</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，适配</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（块设备）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">原逻辑：全局判断是否为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">MTD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设备</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">// if (is_sdboot || is_usbboot || !isMtdDevice()) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">新逻辑：使用当前分区的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">is_mtd</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">属性</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">if (is_sdboot || is_usbboot || !pcmd-&gt;is_mtd) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">块设备操作（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储）：直接写入</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/dev/block</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">路径</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">} else {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">// MTD</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备操作（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储）：通过</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">mtd-utils</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">工具操作</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">}</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.4.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">校验逻辑适配（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">md5sum.c</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">comparefile</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">函数增加</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">参数，根据存储类型选择校验方式：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">新增</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">is_mtd</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">参数</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">bool comparefile(..., bool is_mtd) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">if (is_mtd) {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">// MTD</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备校验（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储）：使用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">mtd</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">读取<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a></span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">checkdata_mtd(dest_path, md5sum_dest, dest_offset, checkSize);</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">} else {</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">//</span></span><font face="等线"><span><span style="background-color:#ffffff;">块设备校验（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储）：使用普通文件读取接口</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;">   </span></span></span><span><span style="background-color:#ffffff;">checkdata(dest_path, md5sum_dest, dest_offset, checkSize);</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;">}</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">}</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><span><span style="background-color:#ffffff;">3.4.3</span></span><font face="等线"><span><span style="background-color:#ffffff;">升级流程整合（</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">update.c</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">升级前解析固件时，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">image_storage</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">记录各分区的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">属性；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">升级执行时，为每个分区的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">update_cmd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">设置</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">调用烧写函数（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">flash_normal</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">flash_bootloader</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）和校验函数（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">comparefile</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）时，传入</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">参数，确保操作与存储类型匹配。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">四、关键技术点总结</span></span></font></span></b></h2>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">技术点</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">作用</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">实现方式</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">多存储固件格式</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">支持</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件打包</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">外层</span></span></font><span><span style="background-color:#ffffff;">SSFW</span></span><font face="等线"><span><span style="background-color:#ffffff;">容器</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">+</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">内层</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">RKFW</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固件</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">分区级存储标识</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">区分每个分区的存储类型</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">属性（</span></span></font><span><span style="background-color:#ffffff;">true=SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">false=PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">动态烧写适配</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">针对存储类型选择操作接口</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">块设备直接写入</span></span></font><span><span style="background-color:#ffffff;">/ MTD</span></span><font face="等线"><span><span style="background-color:#ffffff;">设备通过</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">mtd-utils</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">校验逻辑适配</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">确保不同存储类型的校验准确性</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">根据</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">is_mtd</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">选择校验方法</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">五、测试与验证</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">5.1</span></span><font face="等线"><span><span style="background-color:#ffffff;">测试场景</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">基础功能测试</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：分别升级</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">存储的分区，验证单独升级有效性；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">混合升级测试</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：同时升级</span></span></font><span><span style="background-color:#ffffff;">SPI</span></span><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">uboot</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）和</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">rootfs</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）分区，验证跨存储协同；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">容错测试</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：升级中断后重启，检查是否支持断点续传或回滚；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">4.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">兼容性测试</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：验证对原有单存储固件（</span></span></font><span><span style="background-color:#ffffff;">RKFW_TAG</span></span><font face="等线"><span><span style="background-color:#ffffff;">）的兼容能力。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancSATQrJAAA7LJ_L6VY686.png" alt="wKgZO2kancSATQrJAAA7LJ_L6VY686.png"/><img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancSAIIldAABA4FqOeL0554.png" alt="wKgZO2kancSAIIldAABA4FqOeL0554.png"/><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">5.2</span></span><font face="等线"><span><span style="background-color:#ffffff;">验证指标</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">升级成功率：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">≥99.5%</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1000</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">次测试）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">升级速度：</span></span></font><span><span style="background-color:#ffffff;">SPI NAND</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">≥8MB/s</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE SSD</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">≥30MB/s</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">校验准确性：</span></span></font><span><span style="background-color:#ffffff;">100%</span></span><font face="等线"><span><span style="background-color:#ffffff;">识别数据篡改（通过人工修改固件测试）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">六、总结</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">本方案通过扩展固件格式、引入分区级存储标识、适配动态烧写与校验逻辑，实现了</span></span></font><span><span style="background-color:#ffffff;">RK3588</span></span><font face="等线"><span><span style="background-color:#ffffff;">平台</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">与</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">PCIE</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">双存储的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">OTA</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">升级。方案兼顾兼容性与灵活性，可满足复杂存储场景下的升级需求，为多存储设备的<a href="https://m.elecfans.com/v/tag/2447/" target="_blank"><u>嵌入式系统</u></a>提供可靠的固件更新能力。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[PCIe设备概率性识别失败？这3个核心原因与排查思路]]></title>    <link>https://www.elecfans.com/d/7401453.html</link>    <guid>https://www.elecfans.com/d/7401453.html</guid>    <pubDate>2026-02-01 16:47:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>与服务器开发中，</span></font><span>PCIe</span><font face="等线"><span>（</span></font><font face="Arial"><span>PCI Express</span></font><font face="等线"><span>）<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>早已成为连接高速外设的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>标配</span></font><font face="Arial"><span>”——</span></font><font face="等线"><span>小到</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>无线网卡、</span></font><font face="Arial"><span>S<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a></span></font><font face="等线"><span>，大到</span></font><font face="Arial"><span><a href="https://bbs.elecfans.com/zhuti_fpga_1.html" target="_blank"><u>FPGA</u></a></span></font><font face="等线"><span>加速卡、显卡，都依赖它实现高速数据传输。但不少<a href="https://bbs.elecfans.com/zhuti_lecture_1.html" target="_blank"><u>工程师</u></a>都会遇到一个棘手问题：</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>设备有时能正常识别，有时却突然</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>失联</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，这种</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>概率性识别失败</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>的故障，比必现故障更难排查，往往卡在硬件设计或调试环节浪费大量时间。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>今天我们就从</span></font><span>PCIe</span><font face="等线"><span>接口的核心原理入手，<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>开发中的关键注意事项，并针对</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原理图一致性</span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>电感干扰</span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>串口<a href="https://www.elecfans.com/tags/电流/" target="_blank"><u>电流</u></a>倒灌</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>这三个高频故障点，给出具体的排查方案，帮你快速定位问题。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancOAMmVPAAEE5etexlg515.png" alt="wKgZO2kancOAMmVPAAEE5etexlg515.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>一、先搞懂：</span></font><span>PCIe</span><font face="等线"><span>接口为什么能</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>高速又稳定</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>？</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>要排查识别失败问题，首先得明白</span></font><span>PCIe</span><font face="等线"><span>的工作逻辑</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>它的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>稳定</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>依赖硬件<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>、供电、枚举流程的协同，任何一个环节的微小偏差，都可能导致</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>概率性故障</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1. PCIe</span><font face="等线"><span>的核心架构：从</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>拓扑</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>到</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>枚举</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>采用</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>点对点串行拓扑</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，由</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>根复合体（</span></font><span>Root Comple</span></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>x</span><font face="等线"><span>，比如</span></font><font face="Arial"><span>PU</span></font><font face="等线"><span>内的</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span><a href="https://m.hqchip.com/app/1716" target="_blank"><u>控制器</u></a>）</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>、</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>端点设备（</span></font><span>Endpoint</span><font face="等线"><span>，比如</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>网卡）</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>、</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><a href="https://m.elecfans.com/v/tag/1392/" target="_blank"><u>交换机</u></a>（</span></font><span>Switch</span><font face="等线"><span>，扩展多设备）</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>组成，每个设备通过</span></font><font face="Arial"><span>“Lane</span></font><font face="等线"><span>（通道）</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>传输数据（常见</span></font><font face="Arial"><span>x1/x4/x8/x16</span></font><font face="等线"><span>通道，通道数越多速度越快）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>而设备能否被识别，关键在于</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>枚举流程</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>1.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>系统上电后，根复合体先初始化</span></font><span>PCIe</span><font face="等线"><span>总线；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>2.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>根复合体发送</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>枚举命令</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，扫描总线上的端点设备；</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>C</span></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>3.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>端点设备收到命令后，返回自身的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>配置空间信息</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（如设备</span></font><font face="Arial"><span>ID</span></font><font face="等线"><span>、厂商</span></font><font face="Arial"><span>ID</span></font><font face="等线"><span>、接口类型）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>4.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>根复合体根据配置信息，为设备分配总线号、内存地址空间，完成识别。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>整个过程对</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>信号时序</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>和</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>供电稳定性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>要求极高</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>若信号延迟超标、供电电压波动，就可能导致枚举</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>偶发超时</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，设备自然无法识别。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2. PCIe</span><font face="等线"><span>的信号与供电：</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>差分之美</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>与</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>电压红线</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>信号特性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font><span>PCIe</span><font face="等线"><span>用</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>差分信号</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>传输数据（一对反向的信号线，如</span></font><font face="Arial"><span>TX+/-</span></font><font face="等线"><span>、</span></font><font face="Arial"><span>RX+/-</span></font><font face="等线"><span>），这种设计能抵消外界干扰，但也对硬件设计提出严格要求：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>差分对的线长必须匹配（误差通常要求</span></font><font face="Arial"><span>≤5mm</span></font><font face="等线"><span>）、阻抗需严格控制（通常为</span></font><font face="Arial"><span>100Ω±10%</span></font><font face="等线"><span>），若线长不匹配或阻抗突变，会导致信号反射，出现</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>时好时坏</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的传输问题。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>供电要求</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font><span>PCIe</span><font face="等线"><span>设备需要多种稳定电压供电（如</span></font><font face="Arial"><span>12V</span></font><font face="等线"><span>主供电、</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>辅助供电、</span></font><font face="Arial"><span>1.8V/1.05V</span></font><font face="等线"><span>核心供电），且电压波动范围有明确限制（如</span></font><font face="Arial"><span>12V</span></font><font face="等线"><span>允许</span></font><font face="Arial"><span>±8%</span></font><font face="等线"><span>，</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>允许</span></font><font face="Arial"><span>±5%</span></font><font face="等线"><span>）。一旦供电电压跌落或出现尖峰噪声，设备可能无法完成初始化，导致识别失败。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>二、开发避坑：</span></font><span>PCIe</span><font face="等线"><span>硬件设计的</span></font><font face="Arial"><span>3</span></font><font face="等线"><span>个</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>生死线</span></font><font face="Arial"><span>”</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>概率性识别失败，</span></font><span>90%</span><font face="等线"><span>的问题出在硬件设计阶段。在画原理图、做</span></font><font face="Arial"><span><a href="https://m.elecfans.com/v/tag/82/" target="_blank"><u>PCB</u></a></span></font><font face="等线"><span>时，这三个关键点必须严格把控，否则后期调试会陷入</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>无头苍蝇</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>状态。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1.</span><font face="等线"><span>严格遵循</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>官方参考设计</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，拒绝</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>想当然修改</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>控制器厂商（如</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/intel/" target="_blank"><u>Intel</u></a></span></font><font face="等线"><span>、</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/amd/" target="_blank"><u>AMD</u></a></span></font><font face="等线"><span>、</span></font><font face="Arial"><span><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></font><font face="等线"><span>、</span></font><font face="Arial"><span>Nvidia</span></font><font face="等线"><span>）会提供详细的</span></font><font face="Arial"><span>“PCIe</span></font><font face="等线"><span>接口参考设计</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，包括原理图、</span></font><font face="Arial"><span>PCB</span></font><font face="等线"><span>布局指南、物料选型建议。很多工程师为了</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>简化设计</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>或</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>适配现有物料</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，会私自修改原理图（比如更换复位芯片、调整供电电路），这往往是概率性故障的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>埋雷点</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>比如某</span></font><span>Rockchip</span><font face="等线"><span>平台开发中，工程师将</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>复位信号的上拉<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>从</span></font><font face="Arial"><span>4.7kΩ</span></font><font face="等线"><span>改为</span></font><font face="Arial"><span>10kΩ</span></font><font face="等线"><span>，导致复位信号上升沿过缓，系统枚举时偶尔检测不到复位完成信号，设备就会</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>随机失联</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>核心原则</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：原理图中的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>复位电路、供电时序电路、<a href="https://www.elecfans.com/tags/时钟/" target="_blank"><u>时钟</u></a>电路、差分信号匹配电阻</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，必须</span></font><font face="Arial"><span>1:1</span></font><font face="等线"><span>对照官方参考设计，任何修改都需先与厂商</span></font><font face="Arial"><span>FAE</span></font><font face="等线"><span>确认。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.</span><font face="等线"><span>电感选型与布局：别让</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>滤波元件</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>变成</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>干扰源</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>供电电路中，通常会用电感实现</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>滤波</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>和</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>储能</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（比如在</span></font><font face="Arial"><span>12V</span></font><font face="等线"><span>转</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>Buck</span></font><font face="等线"><span>电路中），但电感若选型不当或布局错误，会成为</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>信号干扰器</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>选型错误：若电感的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>寄生<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a></span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>寄生电阻</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>过大，会在供电线上引入低频噪声，干扰</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>设备的核心供电；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>布局错误：若电感靠近</span></font><span>PCIe</span><font face="等线"><span>差分信号线（距离＜</span></font><font face="Arial"><span>3mm</span></font><font face="等线"><span>），电感工作时产生的磁场会<a href="https://www.elecfans.com/tags/耦合/" target="_blank"><u>耦合</u></a>到差分信号中，破坏信号完整性，导致传输误码率升高，枚举偶尔失败。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>避坑建议</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：优先选用厂商参考设计中推荐的电感型号（如</span></font><span><a href="https://www.elecfans.com/tags/tdk/" target="_blank"><u>TDK</u></a></span><font face="等线"><span>的</span></font><font face="Arial"><span>SLF</span></font><font face="等线"><span>系列、</span></font><font face="Arial"><span>Murata</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>LQM</span></font><font face="等线"><span>系列），且电感与</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>差分信号线的距离需</span></font><font face="Arial"><span>≥5mm</span></font><font face="等线"><span>，同时避免电感与差分对平行布局。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3. debug</span><font face="等线"><span>串口：别让</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>调试工具</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>变成</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>供电杀手</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>很多工程师习惯在开发板上预留</span></font><span>debug</span><font face="等线"><span>串口（如</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></font><font face="等线"><span>转</span></font><font face="Arial"><span><a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a></span></font><font face="等线"><span>），方便打印日志调试，但很少注意：</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>串口接上<a href="https://www.elecfans.com/v/tag/1247/" target="_blank"><u>电脑</u></a>时，可能会发生</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>电流倒灌</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，干扰</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>供电</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原理很简单：电脑</span></font><span>USB</span><font face="等线"><span>口的输出电压通常为</span></font><font face="Arial"><span>5V/3.3V</span></font><font face="等线"><span>，而开发板上</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>设备的辅助供电也是</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>。若两者的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>地电位</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>存在差异（比如电脑接地不良，开发板接外部<a href="https://www.hqchip.com/app.html" target="_blank"><u>电源</u></a>），就会形成</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>电位差</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，导致电流从</span></font><font face="Arial"><span>USB</span></font><font face="等线"><span>口倒灌到</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>供电回路中</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>轻则导致</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>供电电压被拉低（比如从</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>跌到</span></font><font face="Arial"><span>3.1V</span></font><font face="等线"><span>以下），重则烧毁供电芯片，直接让设备无法上电。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancSAbg4-AAYXa_8RXGQ310.png" alt="wKgZO2kancSAbg4-AAYXa_8RXGQ310.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>调试注意</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>接</span></font><span>debug</span><font face="等线"><span>串口前，确认电脑与开发板的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>地</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>是否共地（比如用<a href="https://www.elecfans.com/v/tag/796/" target="_blank"><u>万用表</u></a>测两者的</span></font><font face="Arial"><span>GND</span></font><font face="等线"><span>引脚，电位差应</span></font><font face="Arial"><span>≤0.1V</span></font><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若需独立供电（开发板用外部电源，电脑单独供电），建议在串口的</span></font><span>VCC</span><font face="等线"><span>引脚串一个</span></font><font face="Arial"><span>“</span></font><font face="等线"><span><a href="https://m.hqchip.com/app/1554" target="_blank"><u>二极管</u></a></span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（如</span></font><font face="Arial"><span>SS14</span></font><font face="等线"><span>），防止电流倒灌。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>三、实战排查：</span></font><span>3</span><font face="等线"><span>个高频故障的定位方法</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>当遇到</span></font><span>PCIe</span><font face="等线"><span>设备概率性识别失败时，不用盲目换设备、改代码，按以下步骤排查，能快速锁定问题。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1.</span><font face="等线"><span>排查</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原理图一致性</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：从源头排除设计缺陷</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>概率性故障若出现在批量生产阶段，先优先核对原理图与官方参考设计的差异：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>工具辅助</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：用</span></font><span>Altium Designer</span><font face="等线"><span>、</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/Cadence/" target="_blank"><u>Cadence</u></a></span></font><font face="等线"><span>等工具的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原理图比较功能</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，将自己的设计与官方参考图逐页对比，重点关注：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>复位电路：复位芯片型号、上拉</span></font><span>/</span><font face="等线"><span>下拉电阻阻值、复位延迟参数；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>供电电路：<a href="https://www.hqchip.com/app/1703" target="_blank"><u>电源芯片</u></a>型号、电感</span></font><span>/</span><font face="等线"><span>电容参数、电压反馈电阻阻值；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>差分信号：是否有匹配电阻（通常为</span></font><span>50Ω</span><font face="等线"><span>或</span></font><font face="Arial"><span>100Ω</span></font><font face="等线"><span>）、电阻位置是否在靠近设备端（官方一般要求匹配电阻靠近端点设备，减少信号反射）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>实物核对</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：对照</span></font><span>BOM</span><font face="等线"><span>表，检查焊接的物料型号是否与原理图一致（比如电容容值、电阻阻值是否错焊），避免</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原理图对了，但物料贴错了</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的低级错误。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.</span><font face="等线"><span>排查</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>电感干扰</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：用<a href="https://m.elecfans.com/v/tag/577/" target="_blank"><u>示波器</u></a>看信号</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>健康度</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若怀疑电感影响信号，可通过</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>信号测试</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>验证：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>测差分信号眼图</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：用示波器（需支持差分探头）连接</span></font><span>PCIe</span><font face="等线"><span>的</span></font><font face="Arial"><span>TX+/-</span></font><font face="等线"><span>或</span></font><font face="Arial"><span>RX+/-</span></font><font face="等线"><span>信号，采集信号眼图</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>若眼图</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>眼高</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>不足（低于标准值的</span></font><font face="Arial"><span>80%</span></font><font face="等线"><span>）、</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>眼宽</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>过窄，或存在明显的噪声尖峰，说明信号被干扰，需检查电感布局是否违规，或更换低寄生参数的电感。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>测供电噪声</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：用示波器测</span></font><span>PCIe</span><font face="等线"><span>设备的</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>辅助供电电压，若电压波动超过</span></font><font face="Arial"><span>±5%</span></font><font face="等线"><span>（比如</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>跌到</span></font><font face="Arial"><span>3.1V</span></font><font face="等线"><span>以下），或存在频率在</span></font><font face="Arial"><span>100kHz~1MHz</span></font><font face="等线"><span>的低频噪声，大概率是电感滤波效果差，需更换电感或增加滤波电容（如在供电端并联</span></font><font face="Arial"><span>10μF+0.1μF</span></font><font face="等线"><span>的电容组合）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.</span><font face="等线"><span>排查</span></font><font face="Arial"><span>“debug</span></font><font face="等线"><span>串口电流倒灌</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：测供电电位差</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若接上</span></font><span>debug</span><font face="等线"><span>串口后，</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>识别失败概率明显升高，可按以下步骤验证：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>断电测试</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：断开开发板外部电源，只接</span></font><span>debug</span><font face="等线"><span>串口的</span></font><font face="Arial"><span>USB</span></font><font face="等线"><span>线，用万用表测</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>设备的</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>供电引脚</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>若有电压（比如测到</span></font><font face="Arial"><span>2.5V</span></font><font face="等线"><span>），说明存在电流倒灌（</span></font><font face="Arial"><span>USB</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>通过串口倒灌到</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>供电回路）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>通电测试</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：接好开发板外部电源，再接</span></font><span>debug</span><font face="等线"><span>串口，用示波器测</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>供电电压</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>若接上串口后，电压出现明显跌落（如从</span></font><font face="Arial"><span>3.3V</span></font><font face="等线"><span>跌到</span></font><font face="Arial"><span>3.0V</span></font><font face="等线"><span>），需在串口</span></font><font face="Arial"><span>VCC</span></font><font face="等线"><span>引脚串二极管，或改用</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>只传数据、不供电</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的串口线（断开</span></font><font face="Arial"><span>USB</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>VCC</span></font><font face="等线"><span>引脚）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>四、总结：</span></font><span>PCIe</span><font face="等线"><span>识别稳定的核心</span></font><font face="Arial"><span>——“</span></font><font face="等线"><span>细节不妥协</span></font><font face="Arial"><span>”</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>PCIe</span><font face="等线"><span>设备的概率性识别失败，看似</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>偶发</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，实则是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件设计细节不到位</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的必然结果。总结下来，关键就三句话：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>参考设计别乱改</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：原理图、物料选型严格遵循厂商指南，不轻易</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>简化</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>或</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>替代</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>信号供电要盯紧</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：差分信号的线长、阻抗，供电的电压稳定性，用工具实测验证，不凭</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>感觉</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>判断；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>调试环节防意外</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font><span>debug</span><font face="等线"><span>串口、外部设备接入时，先考虑电位差、电流倒灌风险，避免</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>调试工具变故障源</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancSAS1BhAAVYSofqtKA509.png" alt="wKgZO2kancSAS1BhAAVYSofqtKA509.png"/><p style="margin-left:14.4pt;">
		</p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>其实</span></font><span>PCIe</span><font face="等线"><span>接口的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>稳定性</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>并不可怕，只要在设计初期把好</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原理图、选型、布局</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>三关，调试时用工具精准定位，就能轻松避开概率性故障的坑。你在开发中还遇到过哪些</span></font><font face="Arial"><span>PCIe</span></font><font face="等线"><span>识别问题？欢迎在评论区留言讨论！</span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[内核配置项引发网络性能下降的深度剖析]]></title>    <link>https://www.elecfans.com/d/7401452.html</link>    <guid>https://www.elecfans.com/d/7401452.html</guid>    <pubDate>2026-02-01 16:48:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1 style="background:rgb(255,255,255);">
		</h1>
	
		<p>
			</p>
	<h2 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>一、引言</span></font></span></b></h2>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>在<a href="https://m.elecfans.com/v/tag/2447/" target="_blank"><u>嵌入式系统</u></a>开发中，内核配置对系统性能起着关键作用。近期在对基于</span></font><span><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span><font face="等线"><span>平台的</span></font><font face="Arial"><span><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></font><font face="等线"><span>内核配置调试时，发现三个内核跟踪器配置项（</span></font></span><span><span>CONFIG_IRQSOFF_TR<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a>ER</span></span><span><font face="等线"><span>、</span></font></span><span><span>CONFIG_PREEMPT_TRACER</span></span><span><font face="等线"><span>、</span></font></span><span><span>CONFIG_SCHED_TRACER</span></span><span><span/><font face="等线"><span>）的启用，竟导致网络性能下降约</span></font><span>10%</span><font face="等线"><span>，关闭后借助</span></font></span><span><span>ipe<a href="https://bbs.elecfans.com/group_65" target="_blank"><u>rf</u></a>3</span></span><span><span/><font face="等线"><span>测试丢包问题消失。本文将深入剖析这几个配置项的用途，以及为何它们会影响网络性能。</span></font></span></p>
	<p style="background:rgb(255,255,255);">
		</p>
	<p>
		</p>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancOARRxQAAMOwjbCJqs571.png" alt="wKgZO2kancOARRxQAAMOwjbCJqs571.png"/><h2 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>二、相关内核配置项解析</span></font></span></b></h2>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（一）</span></font></span></b><b><span><span>CONFIG_IRQSOFF_TRACER</span></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>功能用途</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>该配置项用于启用</span></font><font face="Arial"><span>“IRQ</span></font><font face="等线"><span>关闭</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>跟踪器，主要作用是跟踪系统中关闭中断（</span></font><font face="Arial"><span>IRQ</span></font><font face="等线"><span>）的代码路径。当内核执行一些对时序要求极高、需避免中断干扰的关键操作时（如某些硬件<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>的原子性配置），会暂时关闭中断。</span></font></span><span><span>IRQSOFF_TRACER</span></span><span><span/><font face="等线"><span>会记录从关闭中断开始，到重新开启中断为止的这段时间内的内核执行细节，包括代码执行路径、耗时等，方便<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>分析因关闭中断可能引发的延迟问题，排查实时性相关故障</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>工作机制</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>启用后，内核会在中断关闭和开启的关键节点插入追踪代码，这些代码会记录时间戳、当前执行上下文等信息。随着系统运行，不断采集并暂存这些跟踪数据，供后续借助</span></font></span><span><span>ftrace</span></span><span><span/><font face="等线"><span>等工具进行分析。这一过程会额外增加内核代码执行的指令数，带来一定的计算开销。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（二）</span></font></span></b><b><span><span>CONFIG_PREEMPT_TRACER</span></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>功能用途</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>用于启用</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>抢占</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>跟踪器，聚焦于跟踪内核的抢占行为。</span></font><font face="Arial"><span>Linux</span></font><font face="等线"><span>内核支持可抢占调度（在配置了</span></font></span><span><span>CONFIG_PREEMPT</span></span><span><span/><font face="等线"><span>等相关抢占特性基础上），</span></font></span><span><span>PREEMPT_TRACER</span></span><span><span/><font face="等线"><span>能够记录内核线程被抢占的时机、抢占前后的线程状态等信息，助力开发者优化内核调度的实时性，解决因抢占不合理导致的延迟问题</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>工作机制</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>在内核调度器的关键逻辑处（如决定是否抢占当前线程时），插入跟踪点，记录调度相关的线程</span></font><span>ID</span><font face="等线"><span>、优先级、时间等数据。每次抢占发生或尝试抢占时，都会触发这些跟踪逻辑，这无疑会增加调度器的执行负担，因为原本简洁的调度判断流程，现在要额外处理跟踪数据的记录操作。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（三）</span></font></span></b><b><span><span>CONFIG_SCHED_TRACER</span></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>功能用途</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>作为</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>调度</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>跟踪器，用于全面跟踪内核调度器的行为。它不仅关注抢占，还会记录线程的调度入队、出队、切换等整个生命周期的调度事件，能详细呈现调度器如何选择下一个要执行的线程、线程的等待时长、调度延迟情况等，是分析调度性能瓶颈、优化调度策略的有力工具 。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>工作机制</span></font></span></b><span><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>在调度器的众多关键函数（如</span></font></span><span><span>schedule()</span></span><span><span/><font face="等线"><span>、线程入队函数、出队函数等）中植入跟踪代码，每次调度事件发生时，收集并存储大量调度相关元数据（如线程状态变化、调度延迟统计等）。这使得调度器的执行流程变得更为复杂，执行时间被延长，因为要频繁处理跟踪数据的采集和存储。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>三、对网络性能影响的深度分析</span></font></span></b></h2>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（一）内核资源竞争角度</span></font></span></b></h3>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>网络数据的收发，依赖内核网络协议栈的处理，而协议栈的运行离不开内核调度、中断等机制的协同。当启用上述三个跟踪器后：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>中断处理受干扰</span></font></span></b><span><font face="等线"><span>：</span></font></span><span><span>CONFIG_IRQSOFF_TRACER</span></span><span><span/><font face="等线"><span>增加了中断关闭与开启过程的开销，网络数据接收往往依赖中断触发（如网卡收到数据包触发中断，通知内核处理）。若中断处理因跟踪代码插入而延迟，会导致网卡接收队列中的数据包不能及时被内核取走，队列溢出风险增加，进而引发丢包。即使未丢包，也会因处理延迟导致网络延迟增大，影响吞吐量。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>调度效率降低</span></font></span></b><span><font face="等线"><span>：</span></font></span><span><span>CONFIG_PREEMPT_TRACER</span></span><span><span/><font face="等线"><span>和</span></font></span><span><span>CONFIG_SCHED_TRACER</span></span><span><span/><font face="等线"><span>让内核调度器负载加重。网络协议栈中的线程（如负责数据包转发、协议处理的内核线程）的调度会变得不顺畅。比如，当一个网络线程需要被调度执行来处理紧急数据包时，调度器可能因忙于处理跟踪数据记录，而不能及时响应调度请求，导致网络处理线程等待时间过长，数据包处理不及时，影响网络吞吐量，甚至引发丢包（当队列满时）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（二）性能开销叠加角度</span></font></span></b></h3>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>三个跟踪器各自都会带来一定的内核性能开销，且这些开销在网络高负载场景下会相互叠加、放大：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>跟踪代码的执行涉及大量的内存访问（如记录跟踪数据到内存缓冲区）、条件判断（判断是否触发跟踪逻辑）等操作，会占用</span></font><span><a href="https://m.elecfans.com/v/tag/132/" target="_blank"><u>CPU</u></a></span><font face="等线"><span>周期。网络处理本身对</span></font><font face="Arial"><span>CPU</span></font><font face="等线"><span>资源需求较高（如数据包的校验、协议解析等），当</span></font><font face="Arial"><span>CPU</span></font><font face="等线"><span>被跟踪逻辑大量占用时，网络协议栈可用的</span></font><font face="Arial"><span>CPU</span></font><font face="等线"><span>资源减少，处理能力下降。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>在高网络吞吐量场景下，网络中断触发频繁、调度事件增多，跟踪器被触发的频率也会大幅上升。原本每个跟踪点的微小开销，会因高频率触发而累积成显著的性能损耗，最终体现为网络性能的明显下降，如测试中出现的约</span></font><span>10%</span><font face="等线"><span>吞吐量降低，以及丢包现象（当资源紧张到一定程度时）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（三）与</span></font></span></b><b><span><span>iperf3</span></span></b><b><span><span/><font face="等线"><span>测试的关联</span></font></span></b></h3>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><span>iperf3</span></span><span><span/><font face="等线"><span>是常用的网络性能测试工具，用于测试网络带宽、丢包率等指标。当启用三个跟踪器时，内核在处理</span></font></span><span><span>iperf3</span></span><span><span/><font face="等线"><span>产生的大量网络数据包时，受上述资源竞争和性能开销影响，无法高效处理数据包：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span><font face="等线"><span>发送端，内核协议栈可能因调度延迟，不能及时将</span></font></span><span><span>iperf3</span></span><span><span/><font face="等线"><span>生成的数据包发送出去，导致发送速率受限；接收端，因中断处理、调度问题，无法及时接收和处理数据包，使得数据包在接收队列堆积，触发丢包机制（如队列满后丢弃新到达的数据包</span></font><font face="等线"><span>）。而关闭跟踪器后，内核摆脱了额外的性能开销和资源竞争干扰，能更高效地处理</span></font></span><span><span>iperf3</span></span><span><span/><font face="等线"><span>测试的数据包，丢包问题消失，网络性能恢复正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>四、总结与建议</span></font></span></b></h2>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（一）总结</span></font></span></b></h3>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><span>CONFIG_IRQSOFF_TRACER</span></span><span><font face="等线"><span>、</span></font></span><span><span>CONFIG_PREEMPT_TRACER</span></span><span><font face="等线"><span>、</span></font></span><span><span>CONFIG_SCHED_TRACER</span></span><span><span/><font face="等线"><span>这三个配置项，主要用于内核调试阶段，辅助开发者分析中断、抢占、调度相关的实时性问题。但它们通过增加内核中断处理、调度过程的开销，引发资源竞争和性能损耗叠加，在网络高负载场景下，对依赖内核高效调度和中断响应的网络处理流程产生干扰，最终导致网络性能下降、丢包等问题。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3 style="background:rgb(255,255,255);">
		<b><span><font face="等线"><span>（二）建议</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>调试阶段</span></font></span></b><span><font face="等线"><span>：在系统开发调试初期，若需分析内核实时性、调度等问题，可临时启用这些跟踪器，借助</span></font></span><span><span>ftrace</span></span><span><span/><font face="等线"><span>等工具采集数据进行问题排查。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;background:rgb(255,255,255);">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span><font face="等线"><span>生产阶段</span></font></span></b><span><font face="等线"><span>：当系统进入生产环境或需要保障网络等关键性能时，务必关闭这些调试性质的跟踪器配置，避免其带来的性能损耗影响系统整体功能，确保网络、调度等核心功能高效运行</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="background:rgb(255,255,255);">
		<span><font face="等线"><span>通过对这几个内核配置项的深入剖析，我们清晰认识到内核调试配置对系统性能的潜在影响，在实际开发中需根据场景合理取舍，保障系统性能与功能的平衡。</span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[Linux串口操作指南：3步搞定设置，告别乱码与回显干扰]]></title>    <link>https://www.elecfans.com/d/7401451.html</link>    <guid>https://www.elecfans.com/d/7401451.html</guid>    <pubDate>2026-02-01 16:52:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在</span></font><span><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span><font face="等线"><span>系统下调试串口（如</span></font><font face="Arial"><span><a href="https://www.hqchip.com/app/1809" target="_blank"><u>RS232</u></a>/485</span></font><font face="等线"><span>）时，新手常面临两类典型问题：发送数据出现乱码、终端回显干扰接收结果。实际上，仅需通过系统自带的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指令完成基础配置，配合双终端测试，即可快速实现稳定的串口<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>。本文基于通用操作场景，总结一套</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>即学即用</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的串口设置与测试方案。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>一、核心痛点解析：为何需配置串口参数？</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>直接使用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>echo</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>发送数据、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cat</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>接收数据前，串口默认配置存在三类影响通信的问题：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>乱码问题</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：默认启用的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>模式会将</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>换行符（</span></font><font face="Arial"><span>n</span></font><font face="等线"><span>）</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>自动转换为</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回车</span></font><font face="Arial"><span>+</span></font><font face="等线"><span>换行（</span></font><font face="Arial"><span>rn</span></font><font face="等线"><span>）</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，若对接设备不兼容该格式，接收端会出现乱码；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>回显干扰</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：默认</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>echo</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>模式会重复显示输入字符（如发送</span></font><font face="Arial"><span>“123”</span></font><font face="等线"><span>时，终端会额外回显</span></font><font face="Arial"><span>“123”</span></font><font face="等线"><span>），导致接收端获取的数据混入冗余内容；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>缓冲延迟</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：默认</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>规范模式下，数据需等待</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回车</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>指令才会发送，实时性较差，测试过程中无法即时查看传输结果。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>针对上述问题，核心配置指令（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -icanon</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）可实现精准解决。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancOANHg8AAFaJLtHqI8983.png" alt="wKgZO2kancOANHg8AAFaJLtHqI8983.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>二、</span></font><span>Linux</span><font face="等线"><span>串口操作</span></font><font face="Arial"><span>3</span></font><font face="等线"><span>步方案（含指令解析）</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>第一步：确认串口设备，避免操作错误</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>首先通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>ls</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>命令查看系统中已识别的串口设备（常见路径为</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS*</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>或</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/tty<a href="https://www.hqchip.com/app/1515" target="_blank"><u>USB</u></a>*</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，前者为硬件串口，后者为</span></font><span>USB</span><font face="等线"><span>转串口设备），示例如下：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>列出系统中所有</span></font><font face="Arial"><span>ttyS</span></font><font face="等线"><span>类串口设备，确认目标串口存在</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>ls -l /dev/ttyS*</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>示例输出</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（确认</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口存在）：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>crw-rw---- 1 root dialout 4, 64 2025-09-01 10:00 /dev/ttyS0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="border-left:2.25pt solid rgb(187,191,196);padding:0pt 0pt 0pt 0pt;">
		<span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><font face="等线"><span>注意：若执行命令时提示</span></font><font face="Arial"><span>“Permission denied”</span></font><font face="等线"><span>，后续所有操作需添加</span></font></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span>sudo</span></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span/><font face="等线"><span>权限，或切换至</span></font><span>root</span><font face="等线"><span>用户（通过</span></font></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span>su -</span></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span/><font face="等线"><span>指令）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>第二步：用</span></font><span>stty</span><font face="等线"><span>配置串口，解决乱码与回显</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>基于</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口，针对不同通信需求，分两类场景进行配置，覆盖多数测试场景：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>场景</span></font><span>1</span><font face="等线"><span>：通用测试（解决乱码</span></font><font face="Arial"><span>+</span></font><font face="等线"><span>关闭回显）</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>适用于多数串口通信场景，通过关闭回显和换行转换，避免基础通信问题：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>核心指令：配置</span></font><font face="Arial"><span>/dev/ttyS0</span></font><font face="等线"><span>，关闭回显（</span></font><font face="Arial"><span>-echo</span></font><font face="等线"><span>）、关闭换行符转换（</span></font><font face="Arial"><span>-onlcr</span></font><font face="等线"><span>）</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -onlcr</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>指令解析</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>stty</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font><span>Linux</span><font face="等线"><span>系统自带的串口参数配置工具；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>-F /dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：指定待配置的串口设备路径（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-F</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>为</span></font><font face="Arial"><span>“File”</span></font><font face="等线"><span>缩写，用于明确操作对象）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>-echo</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：关闭</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>输入回显</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>功能</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>发送数据时，终端不再重复显示发送内容，避免干扰接收端数据读取；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>-onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：关闭</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>输出换行转回车</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>功能（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>全称</span></font><font face="Arial"><span>“Output NewLine to Carriage Return”</span></font><font face="等线"><span>）</span></font><font face="Arial"><span>——</span></font><font face="等线"><span>禁用后，换行符（</span></font><font face="Arial"><span>n</span></font><font face="等线"><span>）将直接发送，不额外转换为</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回车</span></font><font face="Arial"><span>+</span></font><font face="等线"><span>换行</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，解决格式不兼容导致的乱码。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>场景</span></font><span>2</span><font face="等线"><span>：实时传输测试（低延迟</span></font><font face="Arial"><span>+</span></font><font face="等线"><span>关闭回显）</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>针对<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>数据采集、实时指令下发等对传输延迟要求较高的场景，需额外关闭</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>规范模式，启用</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原始模式</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>进阶指令：配置</span></font><font face="Arial"><span>/dev/ttyS0</span></font><font face="等线"><span>，关闭回显（</span></font><font face="Arial"><span>-echo</span></font><font face="等线"><span>）、关闭规范模式（</span></font><font face="Arial"><span>-icanon</span></font><font face="等线"><span>）</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -icanon</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>关键补充</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>-icanon</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：关闭规范模式，进入</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>原始模式</span></font><font face="Arial"><span>”——</span></font><font face="等线"><span>数据无需等待</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回车</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>指令，发送后立即传输，实时性显著提升，测试中可即时观察接收结果；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若需固定波特率（如</span></font><span>9600</span><font face="等线"><span>、</span></font><font face="Arial"><span>115200</span></font><font face="等线"><span>），可在指令末尾追加波特率参数，示例：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -icanon 9600</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（串口波特率需与对接设备保持一致，否则会出现乱码）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>验证配置有效性</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>配置完成后，通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指令查看</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>当前参数，确认目标配置已生效：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>查看</span></font><font face="Arial"><span>/dev/ttyS0</span></font><font face="等线"><span>的当前配置，重点确认</span></font><font face="Arial"><span>-echo</span></font><font face="等线"><span>、</span></font><font face="Arial"><span>-onlcr</span></font><font face="等线"><span>、</span></font><font face="Arial"><span>-icanon</span></font><font face="等线"><span>是否存在</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>正确输出特征</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：参数列表中显示</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-echo</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（回显关闭）、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（换行转换关闭）、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-icanon</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（规范模式关闭，若配置该参数），无</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>echo</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>原始参数。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>第三步：双终端实战测试，验证通信稳定性</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>配置完成后，打开两个终端，分别执行</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>接收</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>和</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>发送</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>操作，验证</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口通信是否正常：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>终端</span></font><span>1</span><font face="等线"><span>：接收端（监听串口数据）</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>将</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>设为接收端，通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cat</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指令持续读取串口数据：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>终端</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>执行：持续接收</span></font><font face="Arial"><span>/dev/ttyS0</span></font><font face="等线"><span>串口的数据</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>cat /dev/ttyS0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="border-left:2.25pt solid rgb(187,191,196);padding:0pt 0pt 0pt 0pt;">
		<span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><font face="等线"><span>提示：</span></font></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span>cat</span></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span/><font face="等线"><span>指令会保持阻塞状态以等待数据，需终止时按</span></font></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span>Ctrl+C</span></span><span style="font-family:Arial;color:rgb(143,149,158);font-size:11pt;"><span/><font face="等线"><span>即可。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>终端</span></font><span>2</span><font face="等线"><span>：发送端（发送测试数据）</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在另一个终端中，向</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口发送测试数据（如</span></font><font face="Arial"><span>“<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>st_data”</span></font><font face="等线"><span>）：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>#</span><font face="等线"><span>终端</span></font><font face="Arial"><span>2</span></font><font face="等线"><span>执行：向</span></font><font face="Arial"><span>/dev/ttyS0</span></font><font face="等线"><span>串口发送</span></font><font face="Arial"><span>“test_data”</span></font><font face="等线"><span>（</span></font><font face="Arial"><span>-n</span></font><font face="等线"><span>选项避免自动追加换行符）</span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>echo -n "test_data" &gt; /dev/ttyS0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>预期结果</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：终端</span></font><span>1</span><font face="等线"><span>会即时显示</span></font><font face="Arial"><span>“test_data”</span></font><font face="等线"><span>，无乱码、无冗余回显内容，表明串口配置正确且通信正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>进阶：回环测试（无外部设备时自测）</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若暂无对接设备，可通过</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回环测试</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>验证串口自身功能是否正常：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>1.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>用导线短接</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>对应的</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>TX</span><font face="等线"><span>引脚</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（发送引脚）与</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>RX</span><font face="等线"><span>引脚</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（接收引脚）（需参考硬件手册确认引脚定义，如部分设备中</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>的</span></font><span>TX</span><font face="等线"><span>为</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>PI</u></a>N10</span></font><font face="等线"><span>、</span></font><font face="Arial"><span>RX</span></font><font face="等线"><span>为</span></font><font face="Arial"><span>PIN9</span></font><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>2.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>终端</span></font><span>1</span><font face="等线"><span>执行：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cat /dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（持续接收数据）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>3.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>终端</span></font><span>2</span><font face="等线"><span>执行：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>echo -n "loop_test" &gt; /dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（发送测试数据）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>4.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若终端</span></font><span>1</span><font face="等线"><span>成功接收</span></font><font face="Arial"><span>“loop_test”</span></font><font face="等线"><span>，说明</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口硬件功能正常。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>三、常见问题解决方案（新手必看）</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>问题</span></font><span>1</span><font face="等线"><span>：执行指令提示</span></font><font face="Arial"><span>“Permission denied”</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原因：当前用户无</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>串口的读写权限；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>解决方案：通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>chmod</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指令临时赋予全用户读写权限，示例：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>sudo chmod 666 /dev/ttyS0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>问题</span></font><span>2</span><font face="等线"><span>：配置后仍出现乱码</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原因：串口波特率、数据位、校验位与对接设备不匹配（如本地配置为</span></font><span>9600</span><font face="等线"><span>波特率，对接设备为</span></font><font face="Arial"><span>115200</span></font><font face="等线"><span>波特率）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>解决方案：统一双方参数，以</span></font><span>9600</span><font face="等线"><span>波特率为例，配置指令：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -onlcr 9600</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>问题</span></font><span>3</span><font face="等线"><span>：指令无报错，但接收端无数据</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原因</span></font><span>1</span><font face="等线"><span>：物理连接异常（如</span></font><font face="Arial"><span>TX/RX</span></font><font face="等线"><span>引脚接反、未共地）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原因</span></font><span>2</span><font face="等线"><span>：</span></font><font face="Arial"><span>SELinux</span></font><font face="等线"><span>拦截（</span></font><font face="Arial"><span>CentOS</span></font><font face="等线"><span>、</span></font><font face="Arial"><span>RHEL</span></font><font face="等线"><span>等系统默认启用</span></font><font face="Arial"><span>SELinux</span></font><font face="等线"><span>，可能限制串口操作）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>解决方案：检查物理接线是否正确；临时关闭</span></font><span>SELinux</span><font face="等线"><span>（仅用于测试），指令：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>sudo setenforce 0</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>问题</span></font><span>4</span><font face="等线"><span>：发送数据后，接收端延迟较长才显示</span></font></span></b></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原因：未关闭</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>规范模式，数据滞留在缓冲区，需等待</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>回车</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>触发发送；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>解决方案：添加</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>参数配置串口，指令：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>stty -F /dev/ttyS0 -echo -onlcr -icanon</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>四、方案优势总结</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>简洁高效</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：无需安装第三方工具（如</span></font><span>minicom</span><font face="等线"><span>），仅依赖系统自带的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>stty</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>echo</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cat</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>指令，新手可在</span></font><span>5</span><font face="等线"><span>分钟内掌握基础操作；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>精准避坑</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-echo</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>解决回显干扰、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-onlcr</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>解决乱码、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>-icanon</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>解决实时性问题，三个核心参数覆盖</span></font><span>90%</span><font face="等线"><span>以上的串口测试场景；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>通用性强</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：适用于硬件串口（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS*</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）与</span></font><span>USB</span><font face="等线"><span>转串口（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyUSB*</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），仅需替换串口路径即可复用操作流程。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若在串口调试过程中遇到其他问题，可通过查看系统日志（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>dmesg | grep ttyS0</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）进一步定位故障，或参考硬件手册确认串口引脚与参数配置。</span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[RK3576内核485控制引脚修改解析]]></title>    <link>https://www.elecfans.com/d/7401450.html</link>    <guid>https://www.elecfans.com/d/7401450.html</guid>    <pubDate>2026-02-01 16:53:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>一、先明确核心目标：修改要解决什么问题？</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><a href="https://www.elecfans.com/tags/rs-485/" target="_blank"><u>RS-485</u></a></span><font face="等线"><span>是半双工<a href="https://m.elecfans.com/v/tag/1301/" target="_blank"><u>通信</u></a>，需要</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>个</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>方向控制</span></font><font face="Arial"><span>GPIO”</span></font><font face="等线"><span>（高电平</span></font><font face="Arial"><span>=</span></font><font face="等线"><span>发送，低电平</span></font><font face="Arial"><span>=</span></font><font face="等线"><span>接收）。传统方案中，应用层必须手动：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>1.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>发送前设置</span></font><span>GPIO</span><font face="等线"><span>高电平</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>切发送模式；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>2.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>发送完成后等数据发完</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>再设</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>低电平</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>切接收模式；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若时序错（如没等数据发完就切接收），必然丢包。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>修改核心是：</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>让内核在</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>发送数据</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的关键节点自动控制这个</span></font><font face="Arial"><span>GPIO</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，应用层只需要调用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>wri<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>()</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>发数据，无需管方向切换。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKAJVkmAAAh6iVKS-k162.png" alt="wKgZO2kancKAJVkmAAAh6iVKS-k162.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>二、逐文件<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>修改：改了什么？为什么这么改？</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1.</span><font face="等线"><span>设备树修改（</span></font><font face="Arial"><span>rk3576-evb1.dtsi</span></font><font face="等线"><span>）：给</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></font><font face="等线"><span>绑定</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>控制</span></font><font face="Arial"><span>GPIO</span></font></span></b></h3>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+&amp;uart5 {</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>status = "okay";</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span><a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>nctrl-names = "default";</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>485_ctrl_gpio = &lt;&amp;gpio3 RK_PD6 GPIO_ACTIVE_HIGH&gt;;</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>pinctrl-0 = &lt;&amp;uart5m0_xfer&gt;;</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+};</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+&amp;uart11 {</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>status = "okay";</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>pinctrl-names = "default";</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>485_ctrl_gpio = &lt;&amp;gpio3 RK_PD7 GPIO_ACTIVE_HIGH&gt;;</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+</span><span><span>   </span></span><span>pinctrl-0 = &lt;&amp;uart11m0_xfer&gt;;</span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>+};</span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>改了什么？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>给</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart5</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>和</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart11</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>两个串口，各加</span></font><span>1</span><font face="等线"><span>个</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>485_ctrl_gpio</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>属性：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>uart5</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>绑定</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio3</span><font face="等线"><span>的</span></font><font face="Arial"><span>PD6</span></font><font face="等线"><span>引脚</span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart11</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>绑定</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio3</span><font face="等线"><span>的</span></font><font face="Arial"><span>PD7</span></font><font face="等线"><span>引脚</span></font></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>GPIO_<a href="https://m.hqchip.com/app/1703" target="_blank"><u>AC</u></a><a href="https://bbs.elecfans.com/group_715" target="_blank"><u>TI</u></a>VE_HIGH</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>表示：</span></font><span>GPIO</span><font face="等线"><span>高电平时，</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>进入</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>发送模式</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>启用串口（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>status = "okay"</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）并指定引脚配置（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>pinctrl-0 = &lt;&amp;uart5m0_xfer&gt;</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>为什么这么改？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>设备树是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件与驱动的桥梁</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：需要告诉内核</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>哪个</span></font><font face="Arial"><span>UART</span></font><font face="等线"><span>对应哪个</span></font><font face="Arial"><span>GPIO”</span></font><font face="等线"><span>，否则驱动不知道该控制哪个引脚；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>后续驱动代码（</span></font><span>8250_dw.c</span><font face="等线"><span>）会通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>of_get_named_gpio</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>读取这个属性，建立</span></font><span>UART</span><font face="等线"><span>与</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>控制</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>的关联。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.</span><font face="等线"><span>驱动初始化修改（</span></font><font face="Arial"><span>8250_dw.c</span></font><font face="等线"><span>）：读取</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>配置并初始化</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__addition">+#include <linux/></span></span></code><code><span><span class="code-snippet__addition">+#include <linux/></span></span></code><code><span><span class="code-snippet__meta">@@ -570,9 +572,11 @@</span>static int dw8250_probe(struct platform_device *pdev)</span></code><code><span>    struct device *dev = &amp;pdev-&gt;dev;</span></code><code><span>    struct dw8250_data *data;</span></code><code><span>    struct resource *regs;</span></code><code><span><span class="code-snippet__addition">+    struct device_node *nd = dev-&gt;of_node;</span></span></code><code><span>    int irq;</span></code><code><span>    int err;</span></code><code><span>    u32 val;</span></code><code><span><span class="code-snippet__addition">+    int gpio_ctrl;</span></span></code><code><span><span class="code-snippet__meta">@@ -610,6 +614,14 @@</span>static int dw8250_probe(struct platform_device *pdev)</span></code><code><span>    data-&gt;data.<a href="https://www.elecfans.com/tags/dma/" target="_blank"><u>dma</u></a>.fn = dw8250_fallback_dma_filter;</span></code><code><span>    data-&gt;pdata = device_get_match_data(p-&gt;dev);</span></code><code><span>    p-&gt;private_data = &amp;data-&gt;data;</span></code><code><span><span class="code-snippet__addition">+    gpio_ctrl = of_get_named_gpio(nd, "485_ctrl_gpio", 0);</span></span></code><code><span><span class="code-snippet__addition">+    if (gpio_ctrl &gt; 0)</span></span></code><code><span><span class="code-snippet__addition">+    {</span></span></code><code><span><span class="code-snippet__addition">+        data-&gt;flags = 0xabcd;</span></span></code><code><span><span class="code-snippet__addition">+        data-&gt;dir_gpio_pin = gpio_ctrl;</span></span></code><code><span><span class="code-snippet__addition">+        gpio_direction_output(gpio_ctrl, 0);</span></span></code><code><span><span class="code-snippet__addition">+        gpio_set_value(gpio_ctrl, 0);</span></span></code><code><span><span class="code-snippet__addition">+    }</span></span></code></pre>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>改了什么？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>1.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>新增头文件：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio.h</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>和</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>of_gpio.h</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>是内核操作</span></font><span>GPIO</span><font face="等线"><span>的必备<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>2.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>读取设备树</span></font><span>GPIO</span><font face="等线"><span>：通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>of_get_named_gpio(nd, "485_ctrl_gpio", 0)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，从设备树读取你定义的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>485_ctrl_gpio</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>引脚号；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>3.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>初始化</span></font><span>GPIO</span><font face="等线"><span>状态：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若读取到有效</span></font><span>GPIO</span><font face="等线"><span>（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio_ctrl &gt; 0</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），给</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>dw8250_data</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>结构体设标记（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>data-&gt;flags = 0xabcd</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，用于后续识别</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>这是</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>串口</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>存储</span></font><span>GPIO</span><font face="等线"><span>引脚号（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>data-&gt;dir_gpio_pin = gpio_ctrl</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>设</span></font><span>GPIO</span><font face="等线"><span>为输出模式（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio_direction_output</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），并初始化为低电平（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio_set_value(gpio_ctrl, 0)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>初始是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>接收模式</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，避免上电就误发。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>为什么这么改？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>这是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>驱动层与硬件建立连接</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的关键：设备树只是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>声明</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，驱动需要通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>probe</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>函数</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>读取声明并初始化硬件</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>初始设为低电平（接收模式）是安全设计：防止设备上电时</span></font><span>GPIO</span><font face="等线"><span>随机电平导致</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>总线被占用，干扰其他设备。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.</span><font face="等线"><span>数据结构扩展（</span></font><font face="Arial"><span>8250_dwlib.h</span></font><font face="等线"><span>）：存储</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>控制状态</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__meta">@@ -50,6 +50,8 @@</span>struct dw8250_data {</span></code><code><span>#endif</span></code><code><span>    unsigned int        skip_autocfg:1;</span></code><code><span>    unsigned int        uart_16550_compatible:1;</span></code><code><span><span class="code-snippet__addition">+    int flags;</span></span></code><code><span><span class="code-snippet__addition">+    int dir_gpio_pin;</span></span></code><code><span>};</span></code></pre>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>改了什么？</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>dw8250_data</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>结构体（</span></font><span>RK</span><font face="等线"><span>平台</span></font><font face="Arial"><span>UART</span></font><font face="等线"><span>驱动的核心数据结构）中，新增两个字段：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>flags</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：标记是否为</span></font><span>485</span><font face="等线"><span>串口（用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>0xabcd</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>作为识别值）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>dir_gpio_pin</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：存储</span></font><span>485</span><font face="等线"><span>方向控制</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>的引脚号。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>为什么这么改？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>内核驱动的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>数据结构是状态的载体</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>dw8250_data</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>原本只存</span></font><span>UART</span><font face="等线"><span>基础配置，现在要控制</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>，必须新增字段存储</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>是否是</span></font><font face="Arial"><span>485”</span></font><font face="等线"><span>和</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>控制哪个</span></font><font face="Arial"><span>GPIO”</span></font><font face="等线"><span>；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>后续发送数据时（</span></font><span>8250_port.c</span><font face="等线"><span>），需要通过这个结构体获取</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>信息，才能控制方向。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>4.</span><font face="等线"><span>发送逻辑修改（</span></font><font face="Arial"><span>8250_port.c</span></font><font face="等线"><span>）：自动切换收发方向</span></font></span></b></h3>
	<p>
		</p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__addition">+// #include "8250.h"</span></span></code><code><span><span class="code-snippet__addition">+#include "8250_dwlib.h"</span></span></code><code><span><span class="code-snippet__addition">+#include <linux/></span></span></code><code><span><span class="code-snippet__addition">+#include <linux/></span></span></code><code><span><span class="code-snippet__meta">@@ -1833,6 +1835,7 @@</span>void serial8250_tx_chars(struct uart_8250_port *up)</span></code><code><span>    struct uart_port *port = &amp;up-&gt;port;</span></code><code><span>    struct circ_buf *xmit = &amp;port-&gt;state-&gt;xmit;</span></code><code><span>    int count;</span></code><code><span><span class="code-snippet__addition">+    struct dw8250_data* p_data = (struct dw8250_data*)(port-&gt;private_data);</span></span></code><code><span><span class="code-snippet__meta">@@ -1848,6 +1851,14 @@</span>void serial8250_tx_chars(struct uart_8250_port *up)</span></code><code><span>    }</span></code><code><span>    count = up-&gt;tx_lo<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>sz;</span></code><code><span><span class="code-snippet__addition">+    if(0xabcd == p_data-&gt;flags)</span></span></code><code><span><span class="code-snippet__addition">+    {</span></span></code><code><span><span class="code-snippet__addition">+        if (gpio_get_value(p_data-&gt;dir_gpio_pin) != 1)</span></span></code><code><span><span class="code-snippet__addition">+        {</span></span></code><code><span><span class="code-snippet__addition">+            gpio_set_value(p_data-&gt;dir_gpio_pin, 1);</span></span></code><code><span><span class="code-snippet__addition">+            printk("this uart is 485, set rts gpio %d value 1n", p_data-&gt;dir_gpio_pin);</span></span></code><code><span><span class="code-snippet__addition">+        }    </span></span></code><code><span><span class="code-snippet__addition">+    }</span></span></code><code><span><span class="code-snippet__meta">@@ -1884,7 +1895,30 @@</span>void serial8250_tx_chars(struct uart_8250_port *up)</span></code><code><span>    if (uart_circ_empty(xmit) &amp;&amp; !(up-&gt;capabilities &amp; UART_CAP_RPM))</span></code><code><span><span class="code-snippet__deletion">-        __stop_tx(up);</span></span></code><code><span><span class="code-snippet__addition">+    {</span></span></code><code><span><span class="code-snippet__addition">+         __stop_tx(up);</span></span></code><code><span><span class="code-snippet__addition">+        if(0xabcd == p_data-&gt;flags)</span></span></code><code><span><span class="code-snippet__addition">+        {</span></span></code><code><span><span class="code-snippet__addition">+            unsigned int lsr;</span></span></code><code><span><span class="code-snippet__addition">+            int loop_count = 200;</span></span></code><code><span><span class="code-snippet__addition">+            while(loop_count)</span></span></code><code><span><span class="code-snippet__addition">+            {</span></span></code><code><span><span class="code-snippet__addition">+                loop_count--;</span></span></code><code><span><span class="code-snippet__addition">+                lsr=serial_port_in(port,UART_LSR);</span></span></code><code><span><span class="code-snippet__addition">+                if(((lsr &amp; UART_LSR_TEMT) == UART_LSR_TEMT))</span></span></code><code><span><span class="code-snippet__addition">+                    break;</span></span></code><code><span><span class="code-snippet__addition">+                mdelay(1);</span></span></code><code><span><span class="code-snippet__addition">+            }</span></span></code><code><span><span class="code-snippet__addition">+            if(loop_count&lt;0)</span></span></code><code><span><span class="code-snippet__addition">+            {</span></span></code><code><span><span class="code-snippet__addition">+                printk("timeout w<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>ai</u></a>t 485 send %dn",p_data-&gt;dir_gpio_pin);</span></span></code><code><span><span class="code-snippet__addition">+            }</span></span></code><code><span><span class="code-snippet__addition">+            </span></span></code><code><span><span class="code-snippet__addition">+            gpio_set_value(p_data-&gt;dir_gpio_pin, 0);</span></span></code><code><span><span class="code-snippet__addition">+            printk("this uart is 485, set rts gpio %d value 0n", p_data-&gt;dir_gpio_pin);</span></span></code><code><span><span class="code-snippet__addition">+                </span></span></code><code><span><span class="code-snippet__addition">+        }</span></span></code><code><span><span class="code-snippet__addition">+    }    </span></span></code></pre>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>改了什么？</span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>这是最核心的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>自动控制</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>逻辑，分两个阶段：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>发送前：切到发送模式</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>先通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>port-&gt;private_data</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>拿到</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>dw8250_data</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>结构体（之前在</span></font><span>probe</span><font face="等线"><span>函数中绑定）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>检查</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>flags == 0xabcd</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（确认是</span></font><span>485</span><font face="等线"><span>串口），且</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>当前不是高电平</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>设</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>为高电平（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio_set_value(1)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>打印日志，提示</span></font><font face="Arial"><span>“485</span></font><font face="等线"><span>串口已切发送模式</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>发送后：切回接收模式</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>当发送缓冲区为空（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart_circ_empty(xmit)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），先调用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>__stop_tx</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>停止发送；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>然后循环检查</span></font><span>UART</span><font face="等线"><span>的</span></font><font face="Arial"><span>LSR</span></font><font face="等线"><span><a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>serial_port_in(port,UART_LSR)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>等待</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>UART_LSR_TEMT</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>位（发送移位寄存器空）</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>确保硬件已把最后</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>个字节发完（避免数据残留）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:57.6pt;">
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>最多等</span></font><span>200ms</span><font face="等线"><span>（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>loop_count=200</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），超时打印错误日志；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>最后设</span></font><span>GPIO</span><font face="等线"><span>为低电平（</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>gpio_set_value(0)</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），切回接收模式，打印日志。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span>为什么这么改？</span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>解决传统应用层控制的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>时序痛点</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：应用层无法精确判断</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件是否真的发完数据</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，而内核能直接读</span></font><font face="Arial"><span>UART</span></font><font face="等线"><span>寄存器（</span></font><font face="Arial"><span>LSR</span></font><font face="等线"><span>），确保数据发完再切接收；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><span>200ms</span><font face="等线"><span>超时是容错设计：防止硬件异常时</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>一直处于发送模式，阻塞总线。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>三、修改带来的</span></font><span>3</span><font face="等线"><span>个核心优势（纯代码层面总结）</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>应用层彻底解放</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：无需再写</span></font><span>GPIO</span><font face="等线"><span>控制代码（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>ioctl</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>设</span></font><span>GPIO</span><font face="等线"><span>电平、猜延时等），调用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>write()</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>发数据即可，内核自动搞定方向切换；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>时序绝对精准</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：通过读取</span></font><span>UART</span><font face="等线"><span>硬件寄存器（</span></font><font face="Arial"><span>LSR_TEMT</span></font><font face="等线"><span>）判断发送完成，比应用层</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>usleep</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（靠经验猜延时）可靠</span></font><span>100%</span><font face="等线"><span>，不会丢包；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>硬件适配灵活</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：若换</span></font><span>485</span><font face="等线"><span>控制引脚，只需改设备树（</span></font><font face="Arial"><span>dtsi</span></font><font face="等线"><span>）的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>485_ctrl_gpio</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，驱动和应用层无需动</span></font><font face="Arial"><span>→</span></font><font face="等线"><span>符合</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>硬件与软件解耦</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的内核设计思想。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>四、<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>需注意的</span></font><span>2</span><font face="等线"><span>个细节</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>GPIO</span><font face="等线"><span>引脚唯一性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart5</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>用</span></font><span>GPIO3_PD6</span><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>uart11</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>用</span></font><span>GPIO3_PD7</span><font face="等线"><span>，需确保这两个</span></font><font face="Arial"><span>GPIO</span></font><font face="等线"><span>没被其他硬件（如</span></font><font face="Arial"><span>SPI</span></font><font face="等线"><span>、</span></font><font face="Arial"><span><a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a></span></font><font face="等线"><span>）占用，否则会导致引脚冲突；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>超时参数调整</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>loop_count=200</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（</span></font><span>200ms</span><font face="等线"><span>）是通用值，若</span></font><font face="Arial"><span>485</span></font><font face="等线"><span>波特率极低（如</span></font><font face="Arial"><span>2400</span></font><font face="等线"><span>），</span></font><font face="Arial"><span>1</span></font><font face="等线"><span>个字节发送时间长，可适当增大</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>loop_count</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，避免超时误判。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[Android 14→15内置可执行程序：从“野路子”到“正规军”的进化]]></title>    <link>https://www.elecfans.com/d/7401449.html</link>    <guid>https://www.elecfans.com/d/7401449.html</guid>    <pubDate>2026-02-01 16:54:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>一、先看两组代码的直观区别</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a> 14</span><font face="等线"><span>方案（</span></font><font face="Arial"><span>PRODUCT_COPY_FILES</span></font><font face="等线"><span>）：</span></font></span></b></h3>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKAZFfeAACFH6I8aDg852.png" alt="wKgZO2kancKAZFfeAACFH6I8aDg852.png"/><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>核心逻辑</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：直接把文件从源码目录拷贝到系统分区（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/system/bin</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），像</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>复制粘贴</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>一样简单。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>Android 15</span><font face="等线"><span>方案（</span></font><font face="Arial"><span>PRODUCT_PACKAGES</span></font><font face="等线"><span>）：</span></font></span></b></h3>
	<p>
		</p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKAR4viAACczlg43Vg869.png" alt="wKgZO2kancKAR4viAACczlg43Vg869.png"/><p>
		<b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>核心逻辑</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：先通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>Android.bp</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>定义</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>模块</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span><a href="https://www.hqchip.com/app/2004" target="_blank"><u>can</u></a>config</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>是一个预构建可执行程序模块），再把模块名加入打包清单，由构建系统统一管理。</span></font></span></p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>终端路径：</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKAc9fuAAAEWSDYanI290.png" alt="wKgZO2kancKAc9fuAAAEWSDYanI290.png"/><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>二、为什么</span></font><span>Android 15</span><font face="等线"><span>要</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>淘汰</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>直接拷贝？</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>这不是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>功能删减</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，而是</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>Android</span><font face="等线"><span>系统安全、构建效率、硬件适配三重进化</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>的必然结果：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>安全升级：从</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>放养</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>到</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>强监管</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>Android 14</span><font face="等线"><span>时代</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：直接拷贝文件，系统不会校验</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>这个程序能不能在设备上运行</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（比如</span></font><font face="Arial"><span>x86</span></font><font face="等线"><span>程序拷贝到</span></font><font face="Arial"><span><a href="https://www.hqchip.com/app/1378" target="_blank"><u>ARM</u></a></span></font><font face="等线"><span>设备），也不管</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>程序有没有危险权限</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>（比如偷偷读写系统文件）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>Android 15</span><font face="等线"><span>时代</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：强制要求</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>模块化声明</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，构建系统会自动检查：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span/></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>架构兼容性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：程序必须是设备支持的架构（如</span></font><span>RK3576</span><font face="等线"><span>的</span></font><font face="Arial"><span>arm64</span></font><font face="等线"><span>）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span/></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>权限合法性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：通过</span></font><span>SE<a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span><font face="等线"><span>上下文配置，限制程序能做什么（比如只允许访问串口）；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>◦</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span/></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>依赖完整性</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：如果程序依赖其他库（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>libcan.so</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），必须明确声明，否则编译报错。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>构建系统进化：</span></font><span>Soong</span><font face="等线"><span>取代传统</span></font><font face="Arial"><span>Make</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>Android 15</span><font face="等线"><span>全面拥抱</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>Soong</span><font face="等线"><span>构建系统</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>Android.bp</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>替代</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>Android.mk</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），它像</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>智能管家</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>传统方式（</span></font><span>PRODUCT_COPY_FILES</span><font face="等线"><span>）</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：只管拷贝，不管</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>程序是否能运行</span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>依赖是否完整</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>，出问题全靠<a href="https://bbs.elecfans.com/group_1231" target="_blank"><u>开发者</u></a>人肉排查；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>模块方式（</span></font><span>PRODUCT_PACKAGES</span><font face="等线"><span>）</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cc_prebuilt_binary</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>等规则，自动处理</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>权限、依赖、架构</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>问题，甚至能帮你发现</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>程序是</span></font><font face="Arial"><span>x86</span></font><font face="等线"><span>格式，设备是</span></font><font face="Arial"><span>arm64”</span></font><font face="等线"><span>这种低级错误。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>硬件适配：<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>瑞芯微</u></a>等芯片厂商的倒逼</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>以瑞芯微</span></font><span>RK3576</span><font face="等线"><span>为例：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>芯片的</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>ISP</span><font face="等线"><span>、串口、摄像头</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>等硬件，对驱动和工具的依赖管理要求更严格；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>直接拷贝的程序，可能因</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>没加载依赖库</span></font><font face="Arial"><span>”“</span></font><font face="等线"><span>权限不够</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>导致硬件功能失效；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>模块化声明能强制关联</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>驱动、库、权限</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，确保硬件功能正常工作。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>三、开发者必须注意的</span></font><span>3</span><font face="等线"><span>个核心点</span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>1.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>必须学会写</span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>Android.bp</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>（模块声明）</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>以</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cansend</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>为例，需在同级目录创建</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>Android.bp</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;width:577px;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>cc_prebuilt_binary {</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>name: "cansend",</span><span><span>    </span></span><span>//</span><font face="等线"><span>模块名，必须和</span></font><font face="Arial"><span>PRODUCT_PACKAGES</span></font><font face="等线"><span>里的名字一致</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>srcs: ["cansend"],</span><span><span>  </span></span><span>//</span><font face="等线"><span>可执行程序的路径</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>installable: true,</span><span><span>  </span></span><span>//</span><font face="等线"><span>允许安装到系统分区</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>file_con<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>te</u></a>xts: "cansend_contexts", // SELinux</span><font face="等线"><span>上下文配置</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>target: {</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span>   </span></span><span>android_arm64: { enabled: true }, //</span><font face="等线"><span>只编译到</span></font><font face="Arial"><span>arm64</span></font><font face="等线"><span>架构</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span> </span></span><span>},</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>}</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>•</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>关键作用</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：告诉构建系统</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>这个程序是谁、能装在哪、该有什么权限</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>。</span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKABIyxAACuwutTSLY224.png" alt="wKgZO2kancKABIyxAACuwutTSLY224.png"/><p style="margin-left:14.4pt;">
		</p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>2.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>SELinux</span><font face="等线"><span>配置是</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>必答题</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>Android 15</span><font face="等线"><span>的</span></font><font face="Arial"><span>SELinux</span></font><font face="等线"><span>会</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>严格拦截未授权操作</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，必须为程序配置上下文：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span># cansend_contexts</span><font face="等线"><span>文件内容</span><span><span/></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>/system/bin/cansend usystem_file:s0</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若程序要访问串口（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>/dev/ttyS8</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），还需额外添加</span></font><span>SELinux</span><font face="等线"><span>策略（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>allow cansend serial_device:chr_file write;</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>），否则会报</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>avc: denied</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>错误。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span>3.</span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span>动态库依赖要</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>明明白白</span></font><font face="Arial"><span>”</span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>如果</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cansend</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>依赖</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>libcan.so</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，不能只拷贝</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cansend</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>，还需：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>1.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>用</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cc_prebuilt_library_shared</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>声明</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>libcan.so</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>模块；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>2.</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>在</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cansend</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>的</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>Android.bp</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>中通过</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>shared_libs</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>关联：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span>shared_libs: ["libcan"],</span><span><span/></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>否则设备运行时会报错</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>cannot lo<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a> library: libcan.so</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>四、实战建议：从</span></font><span>Android 14</span><font face="等线"><span>迁移到</span></font><font face="Arial"><span>15</span></font><font face="等线"><span>的步骤</span></font></span></b></h2>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>1.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>整理可执行程序</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：把</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>canconfig</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>candump</span></span><span style="font-family:Arial;font-size:11pt;"><span/><font face="等线"><span>等程序放到统一目录（如</span></font></span><span style="font-family:Arial;font-size:11pt;"><span>device/<a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>rockchip</u></a>/cantools</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>）。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>2.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>为每个程序写</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span>Android.bp</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：按模块规则声明，配置架构、权限、</span></font><span>SELinux</span><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>3.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>修改</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span>PRODUCT_PACKAGES</span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：替换原来的文件路径，改为模块名。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span>4.</span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>编译验证</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td>
					<p>
						<span>系统配置:</span></p>
					<p>
						<span>export LC_ALL=C</span></p>
					<p>
						<span>source <a href="https://m.elecfans.com/v/tag/852/" target="_blank"><u>java</u></a>env.sh</span></p>
					<p>
						<span>source build/envsetup.sh   </span></p>
					<p>
						<span>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-<a href="https://www.elecfans.com/tags/amd/" target="_blank"><u>amd</u></a>64</span></p>
					<p>
						<span>export PATH=$JAVA_HOME/bin:$PATH</span></p>
					<p>
						<span>export PATH=$ANDROID_BUILD_TOP/prebuilts/clang/host/linux-x86/clang-r487747c/bin:$PATH</span></p>
					<p>
						<span>export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/lib/tools.jar</span></p>
					<p>
						<span>lunch rk3576_u-ap4a-userdebug</span></p>
					<p>
						</p>
					<p>
						<span>一键编译:</span></p>
					<p>
						</p>
					<p>
						<span>./build.sh -AUCKu -d rk3576-evb1-v10 -J 16</span></p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>若报错，优先检查</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>架构是否匹配</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span>SELinux</span><font face="等线"><span>策略是否缺失</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>、</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>依赖是否声明</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span>结语：系统越严，开发越规范</span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span>Android 15</span><font face="等线"><span>对可执行程序的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>模块化</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>要求，本质是</span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span>系统安全和开发效率的双向奔赴</span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>：</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>对用户：避免非法程序破坏系统；</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span>•</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>对开发者：减少</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>运行时崩溃</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的</span></font><font face="Arial"><span>Debug</span></font><font face="等线"><span>成本。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>跟上这个变化，你会发现：曾经的</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>野路子</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>虽然快，但</span></font><font face="Arial"><span>“</span></font><font face="等线"><span>正规军</span></font><font face="Arial"><span>”</span></font><font face="等线"><span>的方式更稳、更可持续。</span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span>（觉得有用？欢迎转发给需要适配</span></font><span>Android 15</span><font face="等线"><span>的同行～）</span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[嵌入式新手必看！GPIO调试从0到1：计算、操作、排错全指南]]></title>    <link>https://www.elecfans.com/d/7401447.html</link>    <guid>https://www.elecfans.com/d/7401447.html</guid>    <pubDate>2026-02-01 16:55:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">在<a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">（通用输入输出口）是最基础也最常用的硬件<a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a></span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">小到控制一颗</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.hqchip.com/app/1721" target="_blank"><u>LED</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">亮灭、读取一个按键状态，大到驱动<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>、控制外设，都离不开</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。但对新手来说，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">怎么确定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的编号？</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">怎么手动控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">电平？</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">为什么</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">用不了？</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">这些问题常常让人头疼。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">今天就从</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号计算</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">用户空间手动控制</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">占用冲突排查</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">三个核心环节，手把手教新手搞定</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">调试，全程结合</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">平台实操案例（其他平台逻辑通用），看完就能上手！</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancKAGuDqAAAd-4ZyqhQ457.png" alt="wKgZO2kancKAGuDqAAAd-4ZyqhQ457.png"/><p>
		</p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">一、先搞懂：</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">编号规则</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是啥？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>芯片的</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">通常按</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（组）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ Group</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（子组）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ <a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>Pi</u></a>n</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（引脚）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">分层管理，比如常见的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“GPIO1_D0”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，每个部分都对应具体的数值，我们需要通过固定公式计算出</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">内核识别的</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（比如</span></span></font><span><span style="background-color:#ffffff;">56</span></span><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">125</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），才能后续操作。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">先明确三个关键概念（以</span></span></font><span><span style="background-color:#ffffff;">Rockchip</span></span><font face="等线"><span><span style="background-color:#ffffff;">芯片为例）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Bank</span></span><font face="等线"><span><span style="background-color:#ffffff;">（主组）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：芯片会把</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">分成多个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">…</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），每个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">包含</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">32</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个引脚（固定），编号范围</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">[0,4]</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Group</span></span><font face="等线"><span><span style="background-color:#ffffff;">（子组）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：每个</span></span></font><span><span style="background-color:#ffffff;">Bank</span></span><font face="等线"><span><span style="background-color:#ffffff;">又分成</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">4</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Group</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，对应字母</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">A/B/C/D</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，分别对应编号</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">0/1/2/3</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（比如</span></span></font><span><span style="background-color:#ffffff;">A=0</span></span><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">B=1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">C=2</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D=3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），每个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Group</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">包含</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个引脚（固定）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">X</span></span><font face="等线"><span><span style="background-color:#ffffff;">（子组内引脚号）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：每个</span></span></font><span><span style="background-color:#ffffff;">Group</span></span><font face="等线"><span><span style="background-color:#ffffff;">里的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个引脚，编号</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">[0,7]</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（比如</span></span></font><span><span style="background-color:#ffffff;">D0</span></span><font face="等线"><span><span style="background-color:#ffffff;">对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">…</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D7</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">7</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">核心公式：计算</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">已知某个</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Bank+Group+X”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，就能算出内核识别的唯一编号，公式分两步：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">计算</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">Group</span></span><font face="等线"><span><span style="background-color:#ffffff;">内偏移量</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">number = Group × 8 + X</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（因每个</span></span></font><span><span style="background-color:#ffffff;">Group</span></span><font face="等线"><span><span style="background-color:#ffffff;">有</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">8</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">计算</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">最终</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pin = Bank × 32 + number</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（因每个</span></span></font><span><span style="background-color:#ffffff;">Bank</span></span><font face="等线"><span><span style="background-color:#ffffff;">有</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">32</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">实操案例：</span></span></font><span><span style="background-color:#ffffff;">GPIO1_D0</span></span><font face="等线"><span><span style="background-color:#ffffff;">怎么算？</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">以开头提到的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“GPIO1_D0”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">为例，一步步<a href="https://m.elecfans.com/v/tag/899/" target="_blank"><u>拆解</u></a>：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">拆分参数：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Bank = 1</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1 →</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">主组编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Group = 3</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Group 3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">A=0/B=1/C=2/D=3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:36pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">◦</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">X = 0</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">D0 →</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">子组内第</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">计算</span></span></font><span><span style="background-color:#ffffff;">Group</span></span><font face="等线"><span><span style="background-color:#ffffff;">内偏移量：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">number = 3 × 8 + 0 = 24</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">计算最终</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pin = 1 × 32 + 24 = 56</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">��</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">结论：</span></span></font><span><span style="background-color:#ffffff;">GPIO1_D0</span></span><font face="等线"><span><span style="background-color:#ffffff;">对应的内核编号是</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">56</span></span></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，后续操作都要用这个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“56”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">来指定引脚。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">新手注意：别踩这</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">个计算坑！</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">坑</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Group</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">对应错误（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">A=0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">不是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）！比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1_A1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Group</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">不是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，否则会算错编号；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">坑</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">编号从</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">开始！比如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO0_C3</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，不是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，每个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">固定</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">32</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，别多算或少算。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">二、实操：用</span></span></font><span><span style="background-color:#ffffff;">sysfs</span></span><font face="等线"><span><span style="background-color:#ffffff;">手动控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a></span></span><font face="等线"><span><span style="background-color:#ffffff;">内核提供了</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">sysfs</span></span><font face="等线"><span><span style="background-color:#ffffff;">文件系统接口</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，新手不需要写驱动，直接通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">echo</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">cat</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">指令就能控制</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">，步骤超简单！核心路径是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/class/gpio/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，所有操作都围绕这个目录下的文件展开。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">前提：确认</span></span></font><span><span style="background-color:#ffffff;">sysfs GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">已启用</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">先检查系统是否支持</span></span></font><span><span style="background-color:#ffffff;">sysfs GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">（大部分嵌入式</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Linux/<a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">系统默认开启）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">sysfs GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">目录是否存在</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">ls /sys/class/gpio/</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若能看到</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">export</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">unexport</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">gpiochip0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">等文件</span></span></font><span><span style="background-color:#ffffff;">/</span></span><font face="等线"><span><span style="background-color:#ffffff;">目录，说明支持；若没有，需重新编译内核，开启</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">CONFIG_GPIO_SYSFS</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">选项。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：导出</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（告诉内核</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">我要操作这个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">导出</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是让内核把指定编号的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">暴露到</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">sysfs</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">中，生成对应的控制目录。比如要操作编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">125</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">导出</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO125</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">echo</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">&gt; export</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 125 &gt; /sys/class/gpio/export</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">成功：会在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/class/gpio/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">下生成</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">gpio125</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">目录，里面包含</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">direc<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>on</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（方向）、</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">value</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">（电平）等文件；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">失败（报错</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Device or resource busy”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）：说明这个</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">已被其他驱动占用（后面会讲怎么排查）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：设置</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">方向（输入</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">输出）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">有两种工作模式：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">输入（</span></span></font><span><span style="background-color:#ffffff;">in</span></span><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">输出（</span></span></font><span><span style="background-color:#ffffff;">out</span></span><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，需先指定方向：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">设置为输出模式（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">echo out &gt; gpioXXX/direction</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo out &gt; /sys/class/gpio/gpio125/direction</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">若需要设置为输入模式（比如读按键）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># echo in &gt; /sys/class/gpio/gpio125/direction</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">验证方向：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">cat /sys/class/gpio/gpio125/direction</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，会输出</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">out</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">in</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">3</span></span><font face="等线"><span><span style="background-color:#ffffff;">：控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">电平（输出模式）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">读取电平（输入模式）</span></span></font></span></b></h3>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">情况</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">：输出模式（比如控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">电平只有两种：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">高电平（</span></span></font><span><span style="background-color:#ffffff;">1</span></span><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"/></span><font face="等线"><span><span style="background-color:#ffffff;">和</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">低电平（</span></span></font><span><span style="background-color:#ffffff;">0</span></span><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">value</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">文件控制：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">设置为高电平（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">echo 1 &gt; value</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 1 &gt; /sys/class/gpio/gpio125/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">设置为低电平（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">echo 0 &gt; value</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 0 &gt; /sys/class/gpio/gpio125/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">验证电平：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">cat /sys/class/gpio/gpio125/value</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，会输出</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">或</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">情况</span></span></font><span><span style="background-color:#ffffff;">2</span></span><font face="等线"><span><span style="background-color:#ffffff;">：输入模式（比如读按键）</span></span></font></span></b></h4>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">接了按键（一端接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，一端接地），设置为输入后，直接读</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">value</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">即可：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">读取</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">输入电平（按下按键可能为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，松开为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，取决于硬件电路）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">cat /sys/class/gpio/gpio125/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">步骤</span></span></font><span><span style="background-color:#ffffff;">4</span></span><font face="等线"><span><span style="background-color:#ffffff;">：释放</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（不用时清理）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">操作完成后，建议</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">释放</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">” GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，避免占用资源：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">释放</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO125</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">echo</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">&gt; unexport</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 125 &gt; /sys/class/gpio/unexport</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">释放后，</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/class/gpio/gpio125</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">目录会被删除。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">三、关键：查看</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">占用与复用（排错核心）</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">新手最常遇到的问题：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">导出</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">时提示忙（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">busy</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设置电平没反应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，本质是</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">被占用</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">——</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">可能被其他驱动（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/uart/" target="_blank"><u>UART</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;"><a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>I2C</u></a></span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）复用，或已被其他进程导出。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">下面两个</span></span></font><span><span style="background-color:#ffffff;">debug</span></span><font face="等线"><span><span style="background-color:#ffffff;">命令，能帮你快速定位问题！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">debug/gpio</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">占用状态</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">内核提供了</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/kernel/debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">文件，能直观看到所有</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">是否占用、方向、电平</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">整体状态</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">cat /sys/kernel/debug/gpio</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">输出解读（重点看这几列）：</span></span></font></span></b></h4>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIOs 32-63, platform/pinctrl, gpio1:</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">gpio-56 (</span></span><span><span><span style="background-color:#ffffff;">         </span></span></span><span><span style="background-color:#ffffff;">|gpio1-d0</span></span><span><span><span style="background-color:#ffffff;">    </span></span></span><span><span style="background-color:#ffffff;">) out hi</span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;"># GPIO56</span></span><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1_D0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），输出高电平，未被其他驱动占用</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">gpio-57 (</span></span><span><span><span style="background-color:#ffffff;">         </span></span></span><span><span style="background-color:#ffffff;">|spi1_cs0</span></span><span><span><span style="background-color:#ffffff;">    </span></span></span><span><span style="background-color:#ffffff;">) out lo</span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;"># GPIO57</span></span><font face="等线"><span><span style="background-color:#ffffff;">被</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI1_CS0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">驱动占用（复用为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">片选）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIOs 64-95, platform/pinctrl, gpio2:</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span><span style="background-color:#ffffff;"/></span></span><span><span style="background-color:#ffffff;">gpio-125 (</span></span><span><span><span style="background-color:#ffffff;">        </span></span></span><span><span style="background-color:#ffffff;">|export</span></span><span><span><span style="background-color:#ffffff;">     </span></span></span><span><span style="background-color:#ffffff;">) out hi</span></span><span><span><span style="background-color:#ffffff;"> </span></span></span><span><span style="background-color:#ffffff;"># GPIO125</span></span><font face="等线"><span><span style="background-color:#ffffff;">已被</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">export</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（我们手动导出的），输出高电平</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">关键信息提取：</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若某</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">后面跟着</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“|xxx”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">|spi1_cs0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）：说明被</span></span></font><span><span style="background-color:#ffffff;">xxx</span></span><font face="等线"><span><span style="background-color:#ffffff;">驱动复用，无法再作为普通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">使用；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若某</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">后面是</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“|export”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">：说明已被手动导出，需先</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">unexport</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">才能重新操作；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">out hi</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">out lo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：输出模式下的电平；</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">in hi</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">/</span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">in lo</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：输入模式下的当前电平。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pinmux-pins</span></span></span></b><b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><span><span style="background-color:#ffffff;">Pin</span></span><font face="等线"><span><span style="background-color:#ffffff;">脚复用详情</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">如果想知道某个</span></span></font><span><span style="background-color:#ffffff;">GPIO “</span></span><font face="等线"><span><span style="background-color:#ffffff;">还能复用成什么功能</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，或</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">当前复用功能是谁</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，需要看</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pinmux-pins</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">文件（路径因芯片不同略有差异，</span></span></font><span><span style="background-color:#ffffff;">Rockchip</span></span><font face="等线"><span><span style="background-color:#ffffff;">平台通常在</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">下）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">#</span></span><font face="等线"><span><span style="background-color:#ffffff;">查看</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">脚复用情况（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Rockchip</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">平台示例路径）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">cat /sys/kernel/debug/pinctrl/pinctrl-rockchip-pinctrl/pinmux-pins</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">输出解读（重点看</span></span></font><span><span style="background-color:#ffffff;">GPIO1_D0</span></span><font face="等线"><span><span style="background-color:#ffffff;">对应的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）：</span></span></font></span></b></h4>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Pin 56 (gpio1-d0): rockchip,pins@10000000 10000000.pinctrl:gpio1-d0 (GPIO function)</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">Pin 57 (gpio1-d1): rockchip,pins@10000000 10000000.pinctrl:spi1-cs0 (SPI1_CS0 function)</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h4>
		<b><span style="font-family:Arial;font-weight:bold;font-size:14pt;"><font face="等线"><span><span style="background-color:#ffffff;">关键信息提取：</span></span></font></span></b></h4>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">Pin 56</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：对应</span></span></font><span><span style="background-color:#ffffff;">GPIO1_D0</span></span><font face="等线"><span><span style="background-color:#ffffff;">，当前复用为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“GPIO function”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（普通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">功能），可用；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;background:rgb(0,255,255);"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">Pin 57</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：对应</span></span></font><span><span style="background-color:#ffffff;">GPIO1_D1</span></span><font face="等线"><span><span style="background-color:#ffffff;">，当前复用为</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“SPI1_CS0 function”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">SPI</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">片选功能），不可作为普通</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">若想修改复用功能：需在设备树（</span></span></font><span><span style="background-color:#ffffff;">DTS</span></span><font face="等线"><span><span style="background-color:#ffffff;">）中修改对应</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pinmux</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">配置，重新编译设备树。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">四、新手常见问题</span></span></font><span><span style="background-color:#ffffff;">&amp;</span></span><font face="等线"><span><span style="background-color:#ffffff;">解决方案</span></span></font></span></b></h2>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">问题现象</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">可能原因</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:1pt solid rgb(222,224,227);border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">解决方案</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">导出</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">报错</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“Device or resource busy”</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1. GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">已被其他驱动复用（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">UART</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2. GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">已被其他进程</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">export</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">看是否有</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">设置电平后硬件没反应</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1. GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">编号算错；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2.</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">方向设置错误（输入模式下无法改电平）；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">3.</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">硬件电路问题（如</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">正负极接反）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">重新核对</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank/Group/X</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，计算编号；</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">2.</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">确认</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">direction</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">out</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><span><span style="background-color:#ffffff;">3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">用<a href="https://www.elecfans.com/v/tag/796/" target="_blank"><u>万用表</u></a>测</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">引脚电平，排除硬件问题</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">输入模式下读不到正确电平</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">方向没设为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">in</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">硬件没上拉</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">下拉<a href="https://m.hqchip.com/app/485" target="_blank"><u>电阻</u></a>（按键悬空时电平不稳定）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">重新设置</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">direction</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">为</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">in</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">；</span></span></font><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">在设备树中开启</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的上拉</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">/</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">下拉（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">bias-pull-up</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr><tr><td style="padding:3pt 6pt 1.5pt;border-left:1pt solid rgb(222,224,227);border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">找不到</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">/sys/kernel/debug/gpio</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">内核没开启</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">CONFIG_DEBUG_FS</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">选项</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
				<td style="padding:3pt 6pt 1.5pt;border-left:none;border-right:1pt solid rgb(222,224,227);border-top:none;border-bottom:1pt solid rgb(222,224,227);" valign="top" width="184">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">重新编译内核，开启</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">CONFIG_DEBUG_FS</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">，并挂载</span></span></font><span><span style="background-color:#ffffff;">debugfs</span></span><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">mount -t debugfs debugfs /sys/kernel/debug</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">五、实战案例：用</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">控制一颗</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">光说不练假把式，我们以</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1_D0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">56</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）接的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">亮灭</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">为例，走一遍完整流程：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">硬件连接</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">LED</span></span><font face="等线"><span><span style="background-color:#ffffff;">正极</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">串联</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">1kΩ</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">电阻</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→ GPIO1_D0</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Pin56</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:#ffffff;">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">LED</span></span><font face="等线"><span><span style="background-color:#ffffff;">负极</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">接地（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GND</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:#ffffff;">2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">软件操作（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Linux</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">系统）</span></span></font></span></b></h3>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 1.</span></span><font face="等线"><span><span style="background-color:#ffffff;">计算</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">编号：</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO1_D0 → 56</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（前面已算过）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 2.</span></span><font face="等线"><span><span style="background-color:#ffffff;">导出</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO56</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 56 &gt; /sys/class/gpio/export</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 3.</span></span><font face="等线"><span><span style="background-color:#ffffff;">设置为输出模式</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo out &gt; /sys/class/gpio/gpio56/direction</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 4.</span></span><font face="等线"><span><span style="background-color:#ffffff;">点亮</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">（高电平，因</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">正极接</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 1 &gt; /sys/class/gpio/gpio56/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 5. 5</span></span><font face="等线"><span><span style="background-color:#ffffff;">秒后熄灭</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">sleep 5</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 0 &gt; /sys/class/gpio/gpio56/value</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;"># 6.</span></span><font face="等线"><span><span style="background-color:#ffffff;">释放</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">GPIO56</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">echo 56 &gt; /sys/class/gpio/unexport</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">��</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">效果：执行指令后，</span></span></font><span><span style="background-color:#ffffff;">LED</span></span><font face="等线"><span><span style="background-color:#ffffff;">先亮</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">5</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">秒，然后熄灭，完美！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:#ffffff;">六、总结：</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">调试核心流程</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">新手调试</span></span></font><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">，记住</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">先算编号</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">再查占用</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">后操作</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">的三步法：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">1.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">算编号</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：根据</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“GPIOx_YY”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">拆分</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">Bank/Group/X</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，用公式</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pin=Bank×32 + Group×8 + X</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">计算；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">2.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">查占用</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">cat /sys/kernel/debug/gpio</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">看是否被占用，用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:#ffffff;">pinmux-pins</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">看复用功能；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-weight:bold;font-size:11pt;"><span><span><span style="background-color:#ffffff;">3.</span></span></span></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">操作</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:#ffffff;">：</span></span></font><span><span style="background-color:#ffffff;">sysfs</span></span><font face="等线"><span><span style="background-color:#ffffff;">三步曲（</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">export→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">设</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">direction→</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">控</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">value</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">），不用时</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">unexport</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:#ffffff;">GPIO</span></span><font face="等线"><span><span style="background-color:#ffffff;">是嵌入式开发的</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">“</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">敲门砖</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">”</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">，只要掌握今天的方法，无论是控制</span></span></font><font face="Arial"><span><span style="background-color:#ffffff;">LED</span></span></font><font face="等线"><span><span style="background-color:#ffffff;">、读按键，还是后续调试传感器，都能举一反三。如果在实操中遇到问题，欢迎在评论区留言，一起交流解决！</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>
<br/>]]></description></item><item>    <title><![CDATA[Linux/Android系统如何通过RTC实现自动开机？]]></title>    <link>https://www.elecfans.com/d/7401446.html</link>    <guid>https://www.elecfans.com/d/7401446.html</guid>    <pubDate>2026-02-01 16:59:00</pubDate>    <description><![CDATA[<div class="rich_media_content js_underline_content autoTypeSetting24psection">
	<h1>
		</h1>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">在<a href="https://m.elecfans.com/v/tag/232/" target="_blank"><u>嵌入式开发</u></a>中，我们经常会遇到这样的需求：设备需要在指定时间自动开机（比如<a href="https://www.elecfans.com/soft/data/55-88/" target="_blank"><u>物联网</u></a>网关定时唤醒采集数据、工业设备按班次启动、服务器远程维护后自动重启）。而实现这一功能的核心，往往离不开</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（<a href="https://www.elecfans.com/tags/实时时钟/" target="_blank"><u>实时时钟</u></a>）</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">——</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">它能在设备关机后依靠备用电池继续计时，到预设时间后触发硬件开机<a href="https://www.hqchip.com/app/1072" target="_blank"><u>信号</u></a>。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">今天就以常见的</span></span></font><span><span style="background-color:rgb(255,255,255);">HYM8563 RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片（驱动已适配</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/538/" target="_blank"><u>Linux</u></a> 6.1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">内核）为例，手把手教你在</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.elecfans.com/v/tag/502/" target="_blank"><u>Android</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统中配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机，附带完整实操指令和问题排查技巧！</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">一、先搞懂：</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机的原理</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">简单来说，</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机的核心是</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒闹钟（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Wake Al<a href="https://www.hqchip.com/app/1378" target="_blank"><u>arm</u></a></span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">功能：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统开机时，我们通过指令将「唤醒时间」写入</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片的闹钟<a href="https://www.elecfans.com/tags/寄存器/" target="_blank"><u>寄存器</u></a>；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行关机指令后，主板断电，但</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片靠备用电池继续运行，并倒计时等待唤醒时间；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">当</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">计时达到预设的唤醒时间，会输出一个硬件触发信号（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">IRQ</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">中断），触发主板开机。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">本次实操的前提是：</span></span></font></span><b><span style="font-family:Arial;font-weight:bold;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动已正常加载</span></span></font></span></b><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如文档中适配的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rtc-hym8563.c</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动，已支持唤醒闹钟功能），且主板硬件支持</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒（大部分<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>主板默认支持）。</span></span></font></span></p>
	<img src="https://file1.elecfans.com//web3/M00/3C/9E/wKgZO2kancGAZblzAACsRA_WoMo064.png" alt="wKgZO2kancGAZblzAACsRA_WoMo064.png"/><p>
		</p>
	<p>
		<span><span style="background-color:rgb(255,255,255);">代码修改：</span></span></p>
	<ul class="code-snippet__line-index code-snippet__js"><li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
			<li>
				</li>
		</ul><pre class="code-snippet__js">
<code><span><span class="code-snippet__comment">diff --git a/kernel-6.1/drivers/rtc/rtc-hym8563.c b/kernel-6.1/drivers/rtc/rtc-hym8563.c</span></span></code><code><span><span class="code-snippet__comment">index 59759e26d47..<a href="https://m.hqchip.com/app/1703" target="_blank"><u>ac</u></a>75a50aa5b 100644</span></span></code><code><span><span class="code-snippet__comment">--- a/kernel-6.1/drivers/rtc/rtc-hym8563.c</span></span></code><code><span><span class="code-snippet__comment">+++ b/kernel-6.1/drivers/rtc/rtc-hym8563.c</span></span></code><code><span><span class="code-snippet__meta">@@ -6,7 +6,7 @@</span></span></code><code><span> * Author: Heiko Stuebner <heiko/></span></code><code><span> *</span></code><code><span> * based on rtc-HYM8563</span></code><code><span><span class="code-snippet__deletion">- * Copyright (C) 2010 <a href="https://bbs.elecfans.com/zhuti_1179_1.html" target="_blank"><u>Rockchip</u></a> Electronics Co., Ltd.</span></span></code><code><span><span class="code-snippet__addition">+ * Copyright (C) 2010 ROCKCHIP, Inc.</span></span></code><code><span> */</span></code>
<code><span>#include <linux/></span></code><code><span><span class="code-snippet__meta">@@ -14,6 +14,7 @@</span></span></code><code><span>#include <linux/></span></code><code><span>#include <linux/></span></code><code><span>#include <linux/></span></code><code><span><span class="code-snippet__addition">+#include <linux/></span></span></code>
<code><span>#define HYM8563_CTL10x00</span></code><code><span>#define HYM8563_CTL1_<a href="https://www.elecfans.com/tags/te/" target="_blank"><u>TE</u></a>STBIT(7)</span></code><code><span><span class="code-snippet__meta">@@ -74,8 +75,6 @@</span></span></code><code><span>#define HYM8563_TMR_CTL_MASK3</span></code>
<code><span>#define HYM8563_TMR_CNT0x0f</span></code><code><span><span class="code-snippet__deletion">-#define HYM8563_TMR_MAXCNT0xff</span></span></code><code><span><span class="code-snippet__deletion">-#define HYM8563_TMR_CFG(HYM8563_TMR_CTL_ENABLE | HYM8563_TMR_CTL_1)</span></span></code>
<code><span>struct hym8563 {</span></code><code><span>struct <a href="https://www.elecfans.com/tags/i2c/" target="_blank"><u>i2c</u></a>_client*client;</span></code><code><span><span class="code-snippet__meta">@@ -83,10 +82,11 @@</span>struct hym8563 {</span></code><code><span>#ifdef CONFIG_COMMON_CLK</span></code><code><span>struct clk_hwclkout_hw;</span></code><code><span>#endif</span></code><code><span><span class="code-snippet__deletion">-int alarm_or_<a href="https://bbs.elecfans.com/group_715" target="_blank"><u>ti</u></a>mer_irq;</span></span></code><code><span><span class="code-snippet__deletion">-int alarm_tm_sec;</span></span></code><code><span>};</span></code>
<code><span><span class="code-snippet__addition">+static struct i2c_client *mClient = NULL;</span></span></code><code><span><span class="code-snippet__addition">+static struct rtc_wkalrm __alarm;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span>/*</span></code><code><span> * RTC handling</span></code><code><span> */</span></code><code><span><span class="code-snippet__meta">@@ -98,8 +98,6 @@</span>static int hym8563_rtc_re<a href="https://bbs.elecfans.com/zhuti_1472_1.html" target="_blank"><u>ad</u></a>_time(struct device *dev, struct rtc_time *tm)</span></code><code><span>int ret;</span></code>
<code><span>ret = i2c_smbus_read_i2c_block_data(client, HYM8563_SEC, 7, buf);</span></code><code><span><span class="code-snippet__deletion">-if (ret &lt; 0)</span></span></code><code><span><span class="code-snippet__deletion">-return ret;</span></span></code>
<code><span>tm-&gt;tm_sec = bcd2bin(buf[0] &amp; HYM8563_SEC_MASK);</span></code><code><span>tm-&gt;tm_min = bcd2bin(buf[1] &amp; HYM8563_MIN_MASK);</span></code><code><span><span class="code-snippet__meta">@@ -112,6 +110,15 @@</span>static int hym8563_rtc_read_time(struct device *dev, struct rtc_time *tm)</span></code><code><span>return 0;</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__addition">+int hym8563_rtc_read_time_ex(struct rtc_time *tm) {</span></span></code><code><span><span class="code-snippet__addition">+if(mClient == NULL) {</span></span></code><code><span><span class="code-snippet__addition">+printk("%s fai<a href="https://www.hqchip.com/app/1721" target="_blank"><u>led</u></a>n", __func__);</span></span></code><code><span><span class="code-snippet__addition">+return -1;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+return hym8563_rtc_read_time(&amp;mClient-&gt;dev, tm);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+EXPORT_SYMBOL(hym8563_rtc_read_time_ex);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span>static int hym8563_rtc_set_time(struct device *dev, struct rtc_time *tm)</span></code><code><span>{</span></code><code><span>struct i2c_client *client = to_i2c_client(dev);</span></code><code><span><span class="code-snippet__meta">@@ -156,26 +163,29 @@</span>static int hym8563_rtc_set_time(struct device *dev, struct rtc_time *tm)</span></code><code><span>return 0;</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__addition">+int hym8563_rtc_set_time_ex(struct rtc_time *tm) {</span></span></code><code><span><span class="code-snippet__addition">+if(mClient == NULL) {</span></span></code><code><span><span class="code-snippet__addition">+printk("%s failedn", __func__);</span></span></code><code><span><span class="code-snippet__addition">+return -1;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+return hym8563_rtc_set_time(&amp;mClient-&gt;dev, tm);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+EXPORT_SYMBOL(hym8563_rtc_set_time_ex);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span>static int hym8563_rtc_alarm_irq_enable(struct device *dev,</span></code><code><span>unsigned int enabled)</span></code><code><span>{</span></code><code><span>struct i2c_client *client = to_i2c_client(dev);</span></code><code><span><span class="code-snippet__deletion">-struct hym8563 *hym8563 = i2c_get_clientdata(client);</span></span></code><code><span>int data;</span></code>
<code><span>data = i2c_smbus_read_byte_data(client, HYM8563_CTL2);</span></code><code><span>if (data &lt; 0)</span></code><code><span>return data;</span></code>
<code><span><span class="code-snippet__deletion">-if (enabled) {</span></span></code><code><span><span class="code-snippet__deletion">-if (hym8563-&gt;alarm_or_timer_irq)</span></span></code><code><span><span class="code-snippet__deletion">-data |= HYM8563_CTL2_TIE;</span></span></code><code><span><span class="code-snippet__deletion">-else</span></span></code><code><span><span class="code-snippet__deletion">-data |= HYM8563_CTL2_<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>E;</span></span></code><code><span><span class="code-snippet__deletion">-} else {</span></span></code><code><span><span class="code-snippet__deletion">-data &amp;= ~HYM8563_CTL2_TIE;</span></span></code><code><span><span class="code-snippet__addition">+if (enabled)</span></span></code><code><span><span class="code-snippet__addition">+data |= HYM8563_CTL2_AIE;</span></span></code><code><span><span class="code-snippet__addition">+else</span></span></code><code><span>data &amp;= ~HYM8563_CTL2_AIE;</span></code><code><span><span class="code-snippet__deletion">-}</span></span></code>
<code><span>return i2c_smbus_write_byte_data(client, HYM8563_CTL2, data);</span></code><code><span>};</span></code><code><span><span class="code-snippet__meta">@@ -183,7 +193,6 @@</span>static int hym8563_rtc_alarm_irq_enable(struct device *dev,</span></code><code><span>static int hym8563_rtc_read_alarm(struct device *dev, struct rtc_wkalrm *alm)</span></code><code><span>{</span></code><code><span>struct i2c_client *client = to_i2c_client(dev);</span></code><code><span><span class="code-snippet__deletion">-struct hym8563 *hym8563 = i2c_get_clientdata(client);</span></span></code><code><span>struct rtc_time *alm_tm = &amp;alm-&gt;time;</span></code><code><span>u8 buf[4];</span></code><code><span>int ret;</span></code><code><span><span class="code-snippet__meta">@@ -192,7 +201,8 @@</span>static int hym8563_rtc_read_alarm(struct device *dev, struct rtc_wkalrm *alm)</span></code><code><span>if (ret &lt; 0)</span></code><code><span>return ret;</span></code>
<code><span><span class="code-snippet__deletion">-alm_tm-&gt;tm_sec = hym8563-&gt;alarm_tm_sec;</span></span></code><code><span><span class="code-snippet__addition">+/* The alarm only has a minute accuracy */</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_sec = 0;</span></span></code>
<code><span>alm_tm-&gt;tm_min = (buf[0] &amp; HYM8563_ALM_BIT_DISABLE) ?</span></code><code><span>-1 :</span></code><code><span><span class="code-snippet__meta">@@ -211,7 +221,7 @@</span>static int hym8563_rtc_read_alarm(struct device *dev, struct rtc_wkalrm *alm)</span></code><code><span>if (ret &lt; 0)</span></code><code><span>return ret;</span></code>
<code><span><span class="code-snippet__deletion">-if (ret &amp; (HYM8563_CTL2_AIE | HYM8563_CTL2_TIE))</span></span></code><code><span><span class="code-snippet__addition">+if (ret &amp; HYM8563_CTL2_AIE)</span></span></code><code><span>alm-&gt;enabled = 1;</span></code>
<code><span>return 0;</span></code><code><span><span class="code-snippet__meta">@@ -220,45 +230,37 @@</span>static int hym8563_rtc_read_alarm(struct device *dev, struct rtc_wkalrm *alm)</span></code><code><span>static int hym8563_rtc_set_alarm(struct device *dev, struct rtc_wkalrm *alm)</span></code><code><span>{</span></code><code><span>struct i2c_client *client = to_i2c_client(dev);</span></code><code><span><span class="code-snippet__deletion">-struct hym8563 *hym8563 = i2c_get_clientdata(client);</span></span></code><code><span>struct rtc_time *alm_tm = &amp;alm-&gt;time;</span></code><code><span><span class="code-snippet__deletion">-struct rtc_time tm;</span></span></code><code><span><span class="code-snippet__deletion">-time64_t now, alarm, interval;</span></span></code><code><span>u8 buf[4];</span></code><code><span>int ret;</span></code>
<code><span><span class="code-snippet__deletion">-ret = i2c_smbus_write_byte_data(client, HYM8563_TMR_CNT, 0);</span></span></code><code><span><span class="code-snippet__deletion">-if (ret &lt; 0)</span></span></code><code><span><span class="code-snippet__deletion">-return ret;</span></span></code><code><span><span class="code-snippet__addition">+/*</span></span></code><code><span><span class="code-snippet__addition">+ * The alarm has no seconds so deal with it</span></span></code><code><span><span class="code-snippet__addition">+ */</span></span></code><code><span><span class="code-snippet__addition">+if (alm_tm-&gt;tm_sec) {</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_sec = 0;</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_min++;</span></span></code><code><span><span class="code-snippet__addition">+if (alm_tm-&gt;tm_min &gt;= 60) {</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_min = 0;</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_hour++;</span></span></code><code><span><span class="code-snippet__addition">+if (alm_tm-&gt;tm_hour &gt;= 24) {</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_hour = 0;</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_mday++;</span></span></code><code><span><span class="code-snippet__addition">+if (alm_tm-&gt;tm_mday &gt; 31)</span></span></code><code><span><span class="code-snippet__addition">+alm_tm-&gt;tm_mday = 0;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code>
<code><span><span class="code-snippet__deletion">-ret = i2c_smbus_write_byte_data(client, HYM8563_CTL2, 0);</span></span></code><code><span><span class="code-snippet__addition">+ret = i2c_smbus_read_byte_data(client, HYM8563_CTL2);</span></span></code><code><span>if (ret &lt; 0)</span></code><code><span>return ret;</span></code>
<code><span><span class="code-snippet__deletion">-ret = hym8563_rtc_read_time(dev, &amp;tm);</span></span></code><code><span><span class="code-snippet__addition">+ret &amp;= ~HYM8563_CTL2_AIE;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+ret = i2c_smbus_write_byte_data(client, HYM8563_CTL2, ret);</span></span></code><code><span>if (ret &lt; 0)</span></code><code><span>return ret;</span></code><code><span><span class="code-snippet__deletion">-alarm = rtc_tm_to_time64(alm_tm);</span></span></code><code><span><span class="code-snippet__deletion">-now = rtc_tm_to_time64(&amp;tm);</span></span></code><code><span><span class="code-snippet__deletion">-interval = alarm - now;</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span><span class="code-snippet__deletion">-/* store alarm tm_sec */</span></span></code><code><span><span class="code-snippet__deletion">-hym8563-&gt;alarm_tm_sec = alm_tm-&gt;tm_sec;</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span><span class="code-snippet__deletion">-dev_info(dev, "%s: now:  %ptRn", __func__, &amp;tm);</span></span></code><code><span><span class="code-snippet__deletion">-dev_info(dev, "%s: ex<a href="https://www.elecfans.com/tags/pi/" target="_blank"><u>pi</u></a>red:%ptRn", __func__, alm_tm);</span></span></code><code><span><span class="code-snippet__deletion">-if (interval &lt; HYM8563_TMR_MAXCNT) {</span></span></code><code><span><span class="code-snippet__deletion">-hym8563-&gt;alarm_or_timer_irq = 1;</span></span></code><code><span><span class="code-snippet__deletion">-/* set timer */</span></span></code><code><span><span class="code-snippet__deletion">-i2c_smbus_write_byte_data(client, HYM8563_TMR_CNT, (u8)interval);</span></span></code><code><span><span class="code-snippet__deletion">-dev_info(&amp;client-&gt;dev, "%s: set %dm%ds timer, interval=%dsn",</span></span></code><code><span><span class="code-snippet__deletion">- __func__, ((u8)interval)/60, ((u8)interval)%60, (u8)interval);</span></span></code><code><span><span class="code-snippet__deletion">-} else {</span></span></code><code><span><span class="code-snippet__deletion">-hym8563-&gt;alarm_or_timer_irq = 0;</span></span></code><code><span><span class="code-snippet__deletion">-/* set alarm */</span></span></code><code><span><span class="code-snippet__deletion">-alm_tm-&gt;tm_sec = 0;</span></span></code><code><span><span class="code-snippet__deletion">-dev_info(dev, "%s: set alarm %ptRn", __func__, alm_tm);</span></span></code><code><span><span class="code-snippet__deletion">-}</span></span></code>
<code><span>buf[0] = (alm_tm-&gt;tm_min &lt; 60 &amp;&amp; alm_tm-&gt;tm_min &gt;= 0) ?</span></code><code><span>bin2bcd(alm_tm-&gt;tm_min) : HYM8563_ALM_BIT_DISABLE;</span></code><code><span><span class="code-snippet__meta">@@ -287,6 +289,103 @@</span>static const struct rtc_class_ops hym8563_rtc_ops = {</span></code><code><span>.set_alarm= hym8563_rtc_set_alarm,</span></code><code><span>};</span></code>
<code><span><span class="code-snippet__addition">+static int get_num(char *buf) {</span></span></code><code><span><span class="code-snippet__addition">+char *index_start = buf;</span></span></code><code><span><span class="code-snippet__addition">+int max_size;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+if(buf == NULL)</span></span></code><code><span><span class="code-snippet__addition">+return 0xff;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+max_size = strlen(buf);</span></span></code><code><span><span class="code-snippet__addition">+while('9' &lt; *index_start || *index_start &lt; '0') {</span></span></code><code><span><span class="code-snippet__addition">+index_start++;</span></span></code><code><span><span class="code-snippet__addition">+if(index_start - buf &gt; max_size)</span></span></code><code><span><span class="code-snippet__addition">+return 0xff;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+return <a href="https://m.hqchip.com/app/1522" target="_blank"><u>sim</u></a>ple_strtol(index_start, NULL, 10);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static void get_alarm_from_usr(const char *buf) {</span></span></code><code><span><span class="code-snippet__addition">+char *min_index, *hour_index, *mday_index, *wday_index;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+min_index = st<a href="https://www.elecfans.com/tags/rs/" target="_blank"><u>rs</u></a>tr(buf, "min");</span></span></code><code><span><span class="code-snippet__addition">+hour_index = strstr(buf, "hour");</span></span></code><code><span><span class="code-snippet__addition">+mday_index = strstr(buf, "mday");</span></span></code><code><span><span class="code-snippet__addition">+wday_index = strstr(buf, "wday");</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+__alarm.time.tm_min = get_num(min_index);</span></span></code><code><span><span class="code-snippet__addition">+__alarm.time.tm_hour = get_num(hour_index);</span></span></code><code><span><span class="code-snippet__addition">+__alarm.time.tm_mday = get_num(mday_index);</span></span></code><code><span><span class="code-snippet__addition">+__alarm.time.tm_wday = get_num(wday_index);</span></span></code><code><span><span class="code-snippet__addition">+__alarm.enabled = 1;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t alarm_store(struct device *cd, struct device_attribute *attr,const char *buf, size_t count) {</span></span></code><code><span><span class="code-snippet__addition">+get_alarm_from_usr(buf);</span></span></code><code><span><span class="code-snippet__addition">+hym8563_rtc_set_alarm(&amp;mClient-&gt;dev, &amp;__alarm);</span></span></code><code><span><span class="code-snippet__addition">+return count;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t alarm_show(struct device *cd, struct device_attribute *attr, char *buf) {</span></span></code><code><span><span class="code-snippet__addition">+if(__alarm.enabled)</span></span></code><code><span><span class="code-snippet__addition">+return sprin<a href="https://www.hqchip.com/app/1522" target="_blank"><u>tf</u></a>(buf, "alarm is enabled! wday:%d,mday:%d,hour:%d,min:%dn",</span></span></code><code><span><span class="code-snippet__addition">+__alarm.time.tm_wday, __alarm.time.tm_mday, __alarm.time.tm_hour, __alarm.time.tm_min);</span></span></code><code><span><span class="code-snippet__addition">+return sprintf(buf, "alarm is disabled!n");</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static DEVICE_ATTR_RW(alarm);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t enable_store(struct device *cd, struct device_attribute *attr,const char *buf, size_t count) {</span></span></code><code><span><span class="code-snippet__addition">+if(simple_strtoul(buf, NULL, 10)) {</span></span></code><code><span><span class="code-snippet__addition">+__alarm.enabled = 1;</span></span></code><code><span><span class="code-snippet__addition">+hym8563_rtc_alarm_irq_enable(&amp;mClient-&gt;dev, 1);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+else {</span></span></code><code><span><span class="code-snippet__addition">+__alarm.enabled = 0;</span></span></code><code><span><span class="code-snippet__addition">+hym8563_rtc_alarm_irq_enable(&amp;mClient-&gt;dev, 0);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+return count;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t enable_show(struct device *cd, struct device_attribute *attr, char *buf) {</span></span></code><code><span><span class="code-snippet__addition">+return sprintf(buf, "%dn", __alarm.enabled);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static DEVICE_ATTR_RW(enable);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t time_show(struct device *cd, struct device_attribute *attr, char *buf) {</span></span></code><code><span><span class="code-snippet__addition">+struct rtc_time tm;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+hym8563_rtc_read_time(&amp;mClient-&gt;dev, &amp;tm);</span></span></code><code><span><span class="code-snippet__addition">+return sprintf(buf,"%d/%d/%d %02d:%02d:%02d wday:%dn",</span></span></code><code><span><span class="code-snippet__addition">+tm.tm_year + 1900, tm.tm_mon + 1, tm.tm_mday, tm.tm_hour, tm.tm_min, tm.tm_sec, tm.tm_wday);</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static ssize_t time_store(struct device *cd, struct device_attribute *attr,const char *buf, size_t count) {</span></span></code><code><span><span class="code-snippet__addition">+return count;</span></span></code><code><span><span class="code-snippet__addition">+}</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static DEVICE_ATTR_RW(time);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static struct attribute *time_ctrl_attrs[] = {</span></span></code><code><span><span class="code-snippet__addition">+&amp;dev_attr_alarm.attr,</span></span></code><code><span><span class="code-snippet__addition">+&amp;dev_attr_enable.attr,</span></span></code><code><span><span class="code-snippet__addition">+&amp;dev_attr_time.attr,</span></span></code><code><span><span class="code-snippet__addition">+NULL,</span></span></code><code><span><span class="code-snippet__addition">+};</span></span></code><code><span><span class="code-snippet__addition">+ATTRIBUTE_GROUPS(time_ctrl);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+static struct class time_ctrl_class = {</span></span></code><code><span><span class="code-snippet__addition">+.name = "time_ctrl",</span></span></code><code><span><span class="code-snippet__addition">+.class_groups = time_ctrl_groups,</span></span></code><code><span><span class="code-snippet__addition">+};</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span>/*</span></code><code><span> * Handling of the clkout</span></code><code><span> */</span></code><code><span><span class="code-snippet__meta">@@ -371,10 +470,12 @@</span>static int hym8563_clkout_prepare(struct clk_hw *hw)</span></code><code><span>return hym8563_clkout_control(hw, 1);</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__addition">+/*</span></span></code><code><span>static void hym8563_clkout_unprepare(struct clk_hw *hw)</span></code><code><span>{</span></code><code><span>hym8563_clkout_control(hw, 0);</span></code><code><span>}</span></code><code><span><span class="code-snippet__addition">+*/</span></span></code>
<code><span>static int hym8563_clkout_is_prepared(struct clk_hw *hw)</span></code><code><span>{</span></code><code><span><span class="code-snippet__meta">@@ -390,7 +491,7 @@</span>static int hym8563_clkout_is_prepared(struct clk_hw *hw)</span></code>
<code><span>static const struct clk_ops hym8563_clkout_ops = {</span></code><code><span>.prepare = hym8563_clkout_prepare,</span></code><code><span><span class="code-snippet__deletion">-.unprepare = hym8563_clkout_unprepare,</span></span></code><code><span><span class="code-snippet__addition">+//.unprepare = hym8563_clkout_unprepare,    //clk always on,mask for fix suspend crash</span></span></code><code><span>.is_prepared = hym8563_clkout_is_prepared,</span></code><code><span>.recalc_rate = hym8563_clkout_recalc_rate,</span></code><code><span>.round_rate = hym8563_clkout_round_rate,</span></code><code><span><span class="code-snippet__meta">@@ -402,11 +503,16 @@</span>static struct clk *hym8563_clkout_register_clk(struct hym8563 *hym8563)</span></code><code><span>struct i2c_client *client = hym8563-&gt;client;</span></code><code><span>struct device_node *node = client-&gt;dev.of_node;</span></code><code><span>struct clk *clk;</span></code><code><span><span class="code-snippet__deletion">-struct clk_init_data init;</span></span></code><code><span><span class="code-snippet__addition">+struct clk_init_data init = {};</span></span></code><code><span><span class="code-snippet__addition">+int ret;</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+ret = i2c_smbus_write_byte_data(client, HYM8563_CLKOUT,0x80);</span></span></code><code><span><span class="code-snippet__addition">+if (ret &lt; 0)</span></span></code><code><span><span class="code-snippet__addition">+return ERR_PTR(ret);</span></span></code>
<code><span>init.name = "hym8563-clkout";</span></code><code><span>init.ops = &amp;hym8563_clkout_ops;</span></code><code><span><span class="code-snippet__deletion">-init.flags = CLK_IS_CRITICAL;</span></span></code><code><span><span class="code-snippet__addition">+init.flags = 0;</span></span></code><code><span>init.parent_names = NULL;</span></code><code><span>init.num_parents = 0;</span></code><code><span>hym8563-&gt;clkout_hw.init = &amp;init;</span></code><code><span><span class="code-snippet__meta">@@ -447,11 +553,7 @@</span>static irqreturn_t hym8563_irq(int irq, void *dev_id)</span></code><code><span>goto out;</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__deletion">-dev_info(&amp;client-&gt;dev, "%s: irq stat 0x%xn", __func__, data);</span></span></code><code><span>data &amp;= ~HYM8563_CTL2_AF;</span></code><code><span><span class="code-snippet__deletion">-/*clean timer irq and reset timer count down*/</span></span></code><code><span><span class="code-snippet__deletion">-data &amp;= ~HYM8563_CTL2_TF;</span></span></code><code><span><span class="code-snippet__deletion">-i2c_smbus_write_byte_data(client, HYM8563_TMR_CNT, 0);</span></span></code>
<code><span>ret = i2c_smbus_write_byte_data(client, HYM8563_CTL2, data);</span></code><code><span>if (ret &lt; 0) {</span></code><code><span><span class="code-snippet__meta">@@ -468,11 +570,6 @@</span>static int hym8563_init_device(struct i2c_client *client)</span></code><code><span>{</span></code><code><span>int ret;</span></code>
<code><span><span class="code-snippet__deletion">-ret = i2c_smbus_read_byte_data(client, HYM8563_CTL1);</span></span></code><code><span><span class="code-snippet__deletion">-if (ret &lt; 0)</span></span></code><code><span><span class="code-snippet__deletion">-dev_err(&amp;client-&gt;dev, "%s: error read i2c data %dn",</span></span></code><code><span><span class="code-snippet__deletion">-__func__, ret);</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span>/* Clear stop flag if present */</span></code><code><span>ret = i2c_smbus_write_byte_data(client, HYM8563_CTL1, 0);</span></code><code><span>if (ret &lt; 0)</span></code><code><span><span class="code-snippet__meta">@@ -495,10 +592,6 @@</span>static int hym8563_init_device(struct i2c_client *client)</span></code>
<code><span>ret &amp;= ~HYM8563_CTL2_TI_TP;</span></code>
<code><span><span class="code-snippet__deletion">-/* Reset timer cnt and Set timer countdown 1s per count */</span></span></code><code><span><span class="code-snippet__deletion">-i2c_smbus_write_byte_data(client, HYM8563_TMR_CNT, 0);</span></span></code><code><span><span class="code-snippet__deletion">-i2c_smbus_write_byte_data(client, HYM8563_TMR_CTL, HYM8563_TMR_CFG);</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span>return i2c_smbus_write_byte_data(client, HYM8563_CTL2, ret);</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__meta">@@ -522,12 +615,6 @@</span>static int hym8563_suspend(struct device *dev)</span></code><code><span>static int hym8563_resume(struct device *dev)</span></code><code><span>{</span></code><code><span>struct i2c_client *client = to_i2c_client(dev);</span></code><code><span><span class="code-snippet__deletion">-int ret;</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span><span class="code-snippet__deletion">-ret = i2c_smbus_read_byte_data(client, HYM8563_CTL1);</span></span></code><code><span><span class="code-snippet__deletion">-if (ret &lt; 0)</span></span></code><code><span><span class="code-snippet__deletion">-dev_err(&amp;client-&gt;dev, "%s: error read i2c data %dn",</span></span></code><code><span><span class="code-snippet__deletion">-__func__, ret);</span></span></code>
<code><span>if (device_may_wakeup(dev))</span></code><code><span>disable_irq_wake(client-&gt;irq);</span></code><code><span><span class="code-snippet__meta">@@ -542,6 +629,7 @@</span>static int hym8563_probe(struct i2c_client *client)</span></code><code><span>{</span></code><code><span>struct hym8563 *hym8563;</span></code><code><span>int ret;</span></code><code><span><span class="code-snippet__addition">+//int valid;</span></span></code><code><span>/*</span></code><code><span> * hym8563 initial time(2021_1_1_1200),</span></code><code><span> * avoid hym8563 read time error</span></code><code><span><span class="code-snippet__meta">@@ -555,15 +643,12 @@</span>static int hym8563_probe(struct i2c_client *client)</span></code><code><span>.tm_min = 0,</span></code><code><span>.tm_sec = 0,</span></code><code><span>};</span></code><code><span><span class="code-snippet__addition">+printk("abc rtcDBG [%s] start n ",__FUNCTION__);</span></span></code>
<code><span>hym8563 = devm_kzalloc(&amp;client-&gt;dev, sizeof(*hym8563), GFP_KERNEL);</span></code><code><span>if (!hym8563)</span></code><code><span>return -ENOMEM;</span></code>
<code><span><span class="code-snippet__deletion">-hym8563-&gt;rtc = devm_rtc_allocate_device(&amp;client-&gt;dev);</span></span></code><code><span><span class="code-snippet__deletion">-if (IS_ERR(hym8563-&gt;rtc))</span></span></code><code><span><span class="code-snippet__deletion">-return PTR_ERR(hym8563-&gt;rtc);</span></span></code><code><span><span class="code-snippet__deletion">-</span></span></code><code><span>hym8563-&gt;client = client;</span></code><code><span>i2c_set_clientdata(client, hym8563);</span></code>
<code><span><span class="code-snippet__meta">@@ -573,6 +658,7 @@</span>static int hym8563_probe(struct i2c_client *client)</span></code><code><span>return ret;</span></code><code><span>}</span></code>
<code><span><span class="code-snippet__addition">+mClient = client;</span></span></code><code><span>if (client-&gt;irq &gt; 0) {</span></code><code><span>ret = devm_request_threaded_irq(&amp;client-&gt;dev, client-&gt;irq,</span></code><code><span>NULL, hym8563_irq,</span></code><code><span><span class="code-snippet__meta">@@ -603,14 +689,22 @@</span>static int hym8563_probe(struct i2c_client *client)</span></code><code><span>  (tm_read.tm_mon == -1) || (rtc_valid_tm(&amp;tm_read) != 0))</span></code><code><span>hym8563_rtc_set_time(&amp;client-&gt;dev, &amp;tm);</span></code>
<code><span><span class="code-snippet__deletion">-hym8563-&gt;rtc-&gt;ops = &amp;hym8563_rtc_ops;</span></span></code><code><span><span class="code-snippet__deletion">-clear_bit(RTC_FEATURE_UPDATE_INTERRUPT, hym8563-&gt;rtc-&gt;features);</span></span></code><code><span><span class="code-snippet__addition">+hym8563_rtc_alarm_irq_enable(&amp;client-&gt;dev, 0);</span></span></code><code><span><span class="code-snippet__addition">+class_register(&amp;time_ctrl_class);</span></span></code><code><span><span class="code-snippet__addition">+hym8563-&gt;rtc = devm_rtc_device_register(&amp;client-&gt;dev, client-&gt;name,</span></span></code><code><span><span class="code-snippet__addition">+&amp;hym8563_rtc_ops, THIS_MODULE);</span></span></code><code><span><span class="code-snippet__addition">+if (IS_ERR(hym8563-&gt;rtc))</span></span></code><code><span><span class="code-snippet__addition">+return PTR_ERR(hym8563-&gt;rtc);</span></span></code><code><span><span class="code-snippet__addition">+</span></span></code><code><span><span class="code-snippet__addition">+/* the hym8563 alarm only supports a minute accuracy */</span></span></code><code><span><span class="code-snippet__addition">+//hym8563-&gt;rtc-&gt;uie_unsupported = 1;</span></span></code>
<code><span>#ifdef CONFIG_COMMON_CLK</span></code><code><span>hym8563_clkout_register_clk(hym8563);</span></code><code><span>#endif</span></code>
<code><span><span class="code-snippet__deletion">-return devm_rtc_register_device(hym8563-&gt;rtc);</span></span></code><code><span><span class="code-snippet__addition">+printk("abc rtcDBG [%s] end n",__FUNCTION__);</span></span></code><code><span><span class="code-snippet__addition">+return 0;</span></span></code><code><span>}</span></code>
<code><span>static const struct i2c_device_id hym8563_id[] = {</span></code><code><span><span class="code-snippet__meta">@@ -627,7 +721,7 @@</span>MODULE_DEVICE_TABLE(of, hym8563_dt_<a href="https://www.elecfans.com/tags/idt/" target="_blank"><u>idt</u></a>able);</span></code>
<code><span>static struct i2c_driver hym8563_driver = {</span></code><code><span>.driver= {</span></code><code><span><span class="code-snippet__deletion">-.name= "rtc-hym8563",</span></span></code><code><span><span class="code-snippet__addition">+.name= "haoyu,hym8563",</span></span></code><code><span>.pm= &amp;hym8563_pm_ops,</span></code><code><span>.of_match_table= hym8563_dt_idtable,</span></code><code><span>},</span></code>
</pre>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">二、</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机实操</span></span></font></span></b></h2>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一步：同步系统时间到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">首先需要确保系统时间正确，再将系统时间写入</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片（避免</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">时间错乱导致唤醒失败）。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">打开终端，执行以下两条指令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动设置系统当前时间（格式：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">YYYYMMDD HHSS</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">date -s "20241023 1100"</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">将系统时间同步到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">hwclock -w = write to RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">hwclock -w</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">��</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证：执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">hwclock -r</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">read RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），若输出时间与刚才设置的一致，说明同步成功。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第二步：配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒闹钟并关机</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">接下来设置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">多久后自动开机</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（这里以「</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分钟后唤醒」为例），然后关机等待。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">依次执行以下三条指令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">清空</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">现有唤醒闹钟配置（避免历史设置干扰）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 0 &gt; /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置唤醒时间：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">+60</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">表示</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">从当前时间起</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">60</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒后唤醒</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若要指定具体时间（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2024-10-23 1100</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），可写时间戳（需用</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">date +%s</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">计算）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo +60 &gt; /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">立即关机（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">shutdown -h now = halt now</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">shutdown -h now</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">��</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">操作后：设备会立即关机，等待约</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">分钟，即可看到系统自动开机。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第三步：验证</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒配置（可选）</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若想确认唤醒时间是否设置成功，可在关机前执行以下指令查看：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看当前</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒闹钟的时间戳（单位：秒，从</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1970-01-01</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">开始计算）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">详细信息（包括当前时间、唤醒时间、闹钟状态等）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /proc/driver/rtc</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">示例输出（</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">cat /proc/driver/rtc</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">）：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">rtc_time</span></span><span><span><span style="background-color:rgb(255,255,255);">   </span></span></span><span><span style="background-color:rgb(255,255,255);">: 1100</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">rtc_date</span></span><span><span><span style="background-color:rgb(255,255,255);">   </span></span></span><span><span style="background-color:rgb(255,255,255);">: 2024-10-23</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">alrm_time</span></span><span><span><span style="background-color:rgb(255,255,255);">  </span></span></span><span><span style="background-color:rgb(255,255,255);">: 1100</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">alrm_date</span></span><span><span><span style="background-color:rgb(255,255,255);">  </span></span></span><span><span style="background-color:rgb(255,255,255);">: 2024-10-23</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">alarm_IRQ</span></span><span><span><span style="background-color:rgb(255,255,255);">  </span></span></span><span><span style="background-color:rgb(255,255,255);">: yes</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">wakealarm</span></span><span><span><span style="background-color:rgb(255,255,255);">  </span></span></span><span><span style="background-color:rgb(255,255,255);">: 1729684980</span></span><span><span><span style="background-color:rgb(255,255,255);"/></span></span><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">对应</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2024-10-23 1100</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">的时间戳</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">三、</span></span></font><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机实操</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">系统的操作逻辑与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">一致，但部分指令格式和关机命令有差异，需注意区分。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第一步：同步系统时间到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">的</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">date</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">指令时间格式为「</span></span></font><span><span style="background-color:rgb(255,255,255);">MMDDhhmmYYYY.ss</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">」（月日时分年。秒），其他逻辑和</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">相同。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行指令：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">手动设置系统时间（格式：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">MMDDhhmmYYYY.ss</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，示例：</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">2025</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">年</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">8</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">月</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">26</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">日</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1400</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">date -s "082614302025.00"</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">将系统时间同步到</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">hwclock -w</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">��</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">验证：同样执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">hwclock -r</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，确认</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">时间与系统时间一致。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第二步：配置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒闹钟并关机</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">关机指令需用</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">reboot -p</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（</span></span></font><span><span style="background-color:rgb(255,255,255);">power off</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">），其他唤醒配置指令与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">完全相同：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">清空现有唤醒闹钟</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 0 &gt; /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">设置</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">分钟后唤醒</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo +60 &gt; /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># 3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">立即关机（</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">专用关机指令）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">reboot -p</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">��</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">操作后：设备关机，等待</span></span></font><span><span style="background-color:rgb(255,255,255);">1</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">分钟左右自动开机，效果与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">一致。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">第三步：验证配置（与</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Linux</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">相同）</span></span></font></span></b></h3>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看唤醒时间戳</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /sys/class/rtc/rtc0/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">查看</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">详细信息</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">cat /proc/driver/rtc</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">四、常见问题排查：设置后不自动开机？</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">如果按步骤操作后设备未自动唤醒，可从以下</span></span></font><span><span style="background-color:rgb(255,255,255);">4</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">个维度排查：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">1.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动是否正常加载</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">首先确认</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动已加载，以</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">HYM8563</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">为例：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"># Linux/Android</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">通用：查看是否加载</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">hym8563</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">驱动</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">lsmod | grep rtc-hym8563</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若未加载，需手动加载（需提前编译驱动为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">ko</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">模块）</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">insmod rtc-hym8563.ko</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">2.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点路径是否正确</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">部分设备的</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点可能不是</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rtc0</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">rtc1</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需先查看实际节点：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<table style="border-collapse:collapse;margin-left:-0.6pt;border:none;"><tbody><tr><td style="padding:3pt 6pt 1.5pt;border-width:1pt;border-style:solid;border-color:rgb(222,224,227);background:rgb(245,246,247);" valign="top" width="100%">
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">列出所有</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">节点</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">ls /sys/class/rtc/</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">#</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">若节点是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">rtc1</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，指令需改为：</span></span></font></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo 0 &gt; /sys/class/rtc/rtc1/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
					<p>
						<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">echo +60 &gt; /sys/class/rtc/rtc1/wakealarm</span></span></span></p>
					<p>
						</p>
					<p>
						</p>
				</td>
			</tr></tbody></table><h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">3.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">检查</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">备用电池是否正常</span></span></font></span></b></h3>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片在设备关机后需靠备用电池（如纽扣电池）供电，若电池没电或接触不良，</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">会停止计时，自然无法唤醒。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">��</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">排查：开机后执行</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">hwclock -r</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，若时间显示为</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“1970</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">年</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">或错乱，说明</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">电池没电，需更换电池。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h3>
		<b><span style="font-family:Arial;font-weight:bold;font-size:15pt;"><span><span style="background-color:rgb(255,255,255);">4.</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">确认唤醒时间格式是否正确</span></span></font></span></b></h3>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">避免直接写</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">“HHSS”</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">（如</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">echo 1100 &gt; ...</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">），需用「时间戳」或「</span></span></font><span><span style="background-color:rgb(255,255,255);">+</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">秒数」格式；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">•</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">若指定具体时间，需先计算时间戳：</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">date -d "20241023 1100" +%s</span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">，再将结果写入</span></span></font><span><span style="background-color:rgb(255,255,255);">wakealarm</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<h2>
		<b><span style="font-family:Arial;font-weight:bold;font-size:16pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">五、总结</span></span></font></span></b></h2>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">自动开机是<a href="https://m.elecfans.com/v/tag/2447/" target="_blank"><u>嵌入式系统</u></a>中非常实用的功能，核心是通过</span></span></font></span><span style="font-family:Arial;font-size:11pt;background:rgb(0,255,255);"><span><span style="background-color:rgb(255,255,255);">sysfs</span></span></span><span style="font-family:Arial;font-size:11pt;"><span><span style="background-color:rgb(255,255,255);"/></span><font face="等线"><span><span style="background-color:rgb(255,255,255);"><a href="https://www.hqchip.com/app/1787" target="_blank"><u>接口</u></a>操作</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">唤醒闹钟，步骤可归纳为：</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">1.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">同步系统时间到</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">（确保时间基准正确）；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">2.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">清空历史唤醒配置，设置新唤醒时间；</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p style="margin-left:14.4pt;">
		<span style="font-family:Arial;color:rgb(51,112,255);font-size:11pt;"><span><span><span style="background-color:rgb(255,255,255);">3.</span></span></span></span><span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">执行关机指令，等待</span></span></font><span><span style="background-color:rgb(255,255,255);">RTC</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">触发开机。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">无论是</span></span></font><span><span style="background-color:rgb(255,255,255);">Linux</span></span><font face="等线"><span><span style="background-color:rgb(255,255,255);">还是</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">Android</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">，操作逻辑一致，仅需注意指令格式和关机命令的差异。如果你的设备使用其他</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">RTC</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">芯片（如</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">DS3231</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">、</span></span></font><font face="Arial"><span><span style="background-color:rgb(255,255,255);">PCF8563</span></span></font><font face="等线"><span><span style="background-color:rgb(255,255,255);">），操作步骤也基本相同，只需确保驱动支持唤醒功能即可。</span></span></font></span></p>
	<p>
		</p>
	<p>
		</p>
	<p>
		<span style="font-family:Arial;font-size:11pt;"><font face="等线"><span><span style="background-color:rgb(255,255,255);">快去你的嵌入式设备上试试吧！如果遇到问题，欢迎在评论区留言讨论～</span></span></font></span></p>
	<p>
		</p>
</div>
<hr/><div class="wx_detail">
	<p>
		</p>
</div>]]></description></item><item>    <title><![CDATA[工业一体机在无人自助洗宠机中的应用]]></title>    <link>https://www.elecfans.com/d/7633620.html</link>    <guid>https://www.elecfans.com/d/7633620.html</guid>    <pubDate>2026-02-01 17:02:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	工业一体机在无人自助洗宠机中扮演着核心控制与智能化管理的角色，通过集成硬件稳定性、环境适应性、自动化控制、安全防护及数据分析等功能，推动设备向高效、安全、智能的方向发展。以下是具体应用分析：</p>
<p style="text-indent:2em;">
	一、硬件稳定性与环境适应性</p>
<p style="text-indent:2em;">
	抗振动与宽温设计</p>
<p style="text-indent:2em;">
	洗宠机需应对喷淋、烘干等设备的振动，以及户外或室内复杂温度环境(如-10℃至60℃)。工业一体机采用防震布局和工业级<a href="https://www.hqchip.com/ic/0" target="_blank"><u>元器件</u></a>(如宽温主板、固态硬盘)，确保在振动和极端温度下稳定运行，避免性能下降或故障。</p>
<p style="text-indent:2em;">
	防尘防水与密封设计</p>
<p style="text-indent:2em;">
	针对洗宠过程中的水雾和毛发，工业一体机通常采用IP65级防尘防水设计，纯平面板无缝隙，防止液体侵入。<a href="https://www.elecfans.com/soft/data/21-22/" target="_blank"><u>嵌入式</u></a>安装方式进一步避免后盖进水，延长设备寿命。</p>
<p style="text-indent:2em;">
	低功耗与长续航</p>
<p style="text-indent:2em;">
	洗宠机需24小时待机，工业一体机通过低功耗设计(如待机功率&lt;10W)和电源管理技术，降低能耗，减少运营成本，同时支持长时间稳定运行。</p>
<p style="text-indent:2em;">
	二、自动化控制与流程优化</p>
<p style="text-indent:2em;">
	多任务并行处理</p>
<p style="text-indent:2em;">
	工业一体机配备高性能<a href="https://m.hqchip.com/app/1381" target="_blank"><u>处理器</u></a>(如<a href="https://www.elecfans.com/v/tag/9979/" target="_blank"><u>4G</u></a> <a href="https://m.hqchip.com/app/1729" target="_blank"><u>DDR</u></a>3内存、64G S<a href="https://m.hqchip.com/app/1522" target="_blank"><u>SD</u></a>存储)，支持同时运行支付系统、<a href="https://m.elecfans.com/v/tag/117/" target="_blank"><u>传感器</u></a>数据采集、设备控制(如喷淋、烘干、消毒)等多任务，确保洗宠流程高效流畅。</p>
<p style="text-indent:2em;">
	传感器集成与实时监测</p>
<p style="text-indent:2em;">
	液位管理：通过光电液位传感器精准检测水位，缺水时自动停止并提示加水。</p>
<p style="text-indent:2em;">
	生命监测：舱内生命传感器(如<a href="https://www.elecfans.com/tags/红外/" target="_blank"><u>红外</u></a>、压力传感)24小时监测是否有宠物或儿童被遗留，检测到生命迹象时自动开启舱门，防止窒息风险。</p>
<p style="text-indent:2em;">
	健康监测：部分机型配备皮肤扫描功能，<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>识别真菌感染、寄生虫痕迹，并提供肥胖指数记录。</p>
<p style="text-indent:2em;">
	执行器控制与个性化适配</p>
<p style="text-indent:2em;">
	驱动水泵、喷淋头、烘干风机等设备，按预设程序完成清洗、烘干、消毒等步骤。</p>
<p style="text-indent:2em;">
	根据宠物品种、体重、毛发长度自动调整喷淋压力、水温(如35-42℃)及烘干风速，提升清洁效率并减少宠物应激反应。</p>
<p style="text-indent:2em;">
	三、安全防护与应急机制</p>
<p style="text-indent:2em;">
	多重安全设计</p>
<p style="text-indent:2em;">
	防夹伤系统：结合红外感应与压力传感技术，确保舱门在洗护过程中不会意外关闭，避免夹伤或困住宠物。</p>
<p style="text-indent:2em;">
	急停按钮：遇到紧急情况(如宠物恐慌)时，主人可一键停止所有操作。</p>
<p style="text-indent:2em;">
	防浪涌设计：保护设备免受电压波动影响，避免损坏。</p>
<p style="text-indent:2em;">
	远程监控与故障预警</p>
<p style="text-indent:2em;">
	通过4G/<a href="https://m.elecfans.com/v/tag/1225/" target="_blank"><u>5G</u></a>网络或工业路由器，将设备状态(如水位、故障代码)、销售数据实时传输至云端。</p>
<p style="text-indent:2em;">
	运营商可远程查看设备运行情况，及时处理异常(如缺水、堵塞)，并支持远程调试和固件升级，减少现场维护需求。</p>
<p style="text-indent:2em;">
	四、智能化管理与数据分析</p>
<p style="text-indent:2em;">
	用户交互与支付系统</p>
<p style="text-indent:2em;">
	触控界面：<a href="https://www.elecfans.com/tags/电容/" target="_blank"><u>电容</u></a>触摸屏支持灵敏操作，用户可通过屏幕选择洗宠模式(如基础清洁、深度护理)、支付方式(微信、支付宝、刷卡)并查看消费明细。</p>
<p style="text-indent:2em;">
	语音引导：部分系统集成语音提示，引导用户操作或处理异常情况。</p>
<p style="text-indent:2em;">
	按需计费：支持按时间或用水量计费，精度到角，并生成支付二维码。</p>
<p style="text-indent:2em;">
	数据驱动运营优化</p>
<p style="text-indent:2em;">
	系统记录用户消费习惯(如高峰时段、偏好模式)，为运营商提供数据支持。</p>
<p style="text-indent:2em;">
	根据历史数据调整洗护液配比、优化设备布局(如喷淋头角度)，或联动宠物医疗、保险等服务，形成生态闭环。</p>]]></description></item><item>    <title><![CDATA[中软国际携手华为云举办2025年度生态合作伙伴答谢会]]></title>    <link>https://www.elecfans.com/d/7634247.html</link>    <guid>https://www.elecfans.com/d/7634247.html</guid>    <pubDate>2026-02-01 17:05:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	<span style="text-indent:2em;">1月29日，由中软国际联合华为云举办的“2025年度生态合作伙伴答谢会”在西安及厦门联合举行。陕西华为云销售伙伴发展部部长张魁、福建华为云销售伙伴发展部部长汤爽、中软国际副总裁，<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>GC研究院院长万如意、中软国际陕西云业务部总经理张科等领导及百名核心伙伴、客户应邀出席活动。会议回顾了2025年中软国际及华为云生态市场进展与成果，并围绕Agent时代组织变革、AI+生态落地路径等议题展开深度交流。</span></p>
<p style="text-indent:2em;">
	陕西华为云销售伙伴发展部部长张魁表示，华为云始终深耕“根”技术，为生态合作构筑可信的基石。面对伙伴面临的技术门槛，华为云通过推出自有大模型及创新的Token调用模式，显著降低AI集成与应用难度，使技术更易触达。华为云致力于构建开放生态，以技术赋能伙伴灵活服务于千行百业，在商业逻辑重塑的过程中，共同推动产业升级与转型。</p>
<p style="text-indent:2em;">
	福建华为云销售伙伴发展部部长汤爽在活动致辞中表示，华为云感谢所有合作伙伴长期以来的支持与信任。智能时代正在给华为云以及伙伴带来巨大的机遇和挑战，过去几年，华为云经历了快速发展和战略调整，目前正聚焦321战略，加大AI及算力产业投入。未来，华为云将进一步优化产品和服务，简化商务流程，以更敏捷的方式响应市场智能化需求。华为云期待与生态伙伴继续携手共进，在数字化转型浪潮中实现长期共赢，共同推进产业智能升级。</p>
<p style="text-indent:2em;">
	中软国际副总裁，AIGC研究院院长万如意在主题演讲中表示，面对AI算力投入与实效产出间的巨大鸿沟，关键在于跨越技术与组织之间的断层。中软国际计划推出的“Boot-camp共创”模式，正是为此设计的敏捷实战方案。该模式将采用高强度、短周期的<a href="https://www.elecfans.com/v/tag/10353/" target="_blank"><u>黑客</u></a>松形式，聚焦客户真实业务场景，在短期内驱动跨职能团队完成从数据到AI原型的端到端验证。这一过程不仅将让客户在短期内看见技术落地与流程重塑的闭环效果，也将推动生态伙伴从项目交付转向联合价值共创，帮助伙伴与中软国际建立更敏捷、更紧密的共拓机制，共同打造可复制、可推广的行业级AI解决方案。</p>
<p style="text-indent:2em;">
	中软国际陕西区云业务部总经理张科在活动分享中表示，2026年是AI规模化落地关键之年，中软国际将紧密依托华为云平台，通过资源共享与能力互补，全面支持生态伙伴发展。通过围绕能源、电力、大企业等核心领域，助力伙伴深入业务场景，协同破解行业难题。此外，中软国际将与伙伴共建生态，在“深耕”中实现价值共赢，确保伙伴能切实抓牢AI应用带来的增长机遇和数智蓝海。</p>
<p style="text-indent:2em;">
	中软国际持续将践行“能力共生、商业共赢”的生态合作目标，与各行业的领先伙伴紧密合作、深度协同，推动<a href="https://www.elecfans.com/soft/data/42-102/" target="_blank"><u>AI技术</u></a>在千行百业的落地应用，携手合作伙伴共赴"云"上新征程。</p>]]></description></item><item>    <title><![CDATA[中软国际荣膺2025年度北京华为云“云霄阁”精英伙伴成员]]></title>    <link>https://www.elecfans.com/d/7634248.html</link>    <guid>https://www.elecfans.com/d/7634248.html</guid>    <pubDate>2026-02-01 17:07:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，华为云北京伙伴大会在北京成功举办，本次大会以“同心·共行·致远”为主题，对2025年度做出卓越贡献的伙伴进行表彰。中软国际荣膺2025年度北京华为云“云霄阁”精英伙伴成员，并荣获“创跃奖”“最佳生态合作奖”“优秀拓渠个人奖”。</p>
<p style="text-indent:2em;">
	作为华为云定向受邀的“云霄阁”精英伙伴成员，华为北京总经理张东亚在伙伴寄语中表示，“敬价值二代之深耕，贺拓客开疆之勇。纸短情长，愿共赴万里鹏程。”华为云将通过更精细化政策，更针对性的支持，赋能伙伴不断成长，携手伙伴共创共赢，全方位构建更具活力与共赢价值的生态。此外，华为云北京总经理王彬、华为云生态发展与运营部部长陶志强为中软国际进行颁奖。</p>
<p style="text-indent:2em;">
	目前，中软国际在华为云业务领域保持强劲竞争力，华为云公有云业绩持续占据领先位势。通过聚焦行业场景化突破与专项深度运营，中软国际围绕华为昇腾<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>云服务、数据库及安全等重点产品与解决方案，与华为云紧密协同，持续牵引高价值客户上云，推动华为云高阶产品在企业核心场景中落地，共同构建协同共进、持续增长的生态合作典范。</p>
<p style="text-indent:2em;">
	2025年，中软国际为各行业客户提供了极具竞争力的“AI行业云”服务，携手客户伙伴打造了领先的行业解决方案。制造领域，依托Cloudpond昇腾云解决方案，助力信泰集团实现生产流程化、质量检测智能化及供应链管理高效化。交通领域，与成都公交集团共同开展“公交驾驶行为AI分析平台”项目建设，通过打造高效、安全、智能的AI系统，推动驾驶行为监管向智能化全面升级。教育领域，助力北京理工大学（珠海校区）基于昇腾AI云服务DeepSeek满血版大模型展开科研及教学创新，将前沿技术应用至哲学社会科学研究中。零售领域，签约茅台的“i茅台”<a href="https://www.elecfans.com/v/tag/40/" target="_blank"><u>鸿蒙</u></a>改造项目，显著提升企业的整体运营效率，为智慧零售行业开辟全新的AI交互模式。医药领域，借助高性价比的AI云服务，助力北京某生物公司应对新一代基因测序技术应用中产生的海量数据存储、计算及安全挑战，有效支撑了相关科研技术的持续发展。</p>
<p style="text-indent:2em;">
	在同期举行的华为云中国区解决方案发布会上，中软国际云智能业务集团电网销业务部总经理王春玉代表公司进行了案例分享。中软国际依托华为云Flexus X柔性算力与X-Turbo应用加速等独特技术优势，在激烈竞争中成功签约某大型生物医药集团，并助力该客户实现综合成本降低30%。</p>
<p style="text-indent:2em;">
	未来，中软国际将持续联合华为云在AI创新的机遇下，共同挖掘数智化转型的市场潜力，加速AI应用在各行业落地进程，为各行各业客户提供极具竞争力的“AI行业云”服务。</p>]]></description></item><item>    <title><![CDATA[润和软件入选2025年南京市工业和信息化发展专项资金项目]]></title>    <link>https://www.elecfans.com/d/7634251.html</link>    <guid>https://www.elecfans.com/d/7634251.html</guid>    <pubDate>2026-02-01 17:09:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，2025年南京市工业和信息化发展专项资金项目（第三批）名单正式公布。江苏润和软件股份有限公司（以下简称“润和软件”）申报的“基于开源欧拉的企业级<a href="https://m.elecfans.com/v/tag/527/" target="_blank"><u>操作系统</u></a>HopeOS项目”（以下简称“HopeOS”）成功入选，获得专项资金支持。这标志着公司在开源操作系统领域的创新能力与产业化价值获得了高度认可，彰显了公司以开源技术为国产操作系统的商业化发展注入了新动能。</p>
<p style="text-indent:2em;">
	2025年南京市工业和信息化发展专项资金公示</p>
<p style="text-indent:2em;">
	HopeOS以开源欧拉为技术基座，构建起覆盖<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>原生与边缘智能两大场景的云边产品体系；依托开源生态沉淀与行业落地经验，形成“标准化产品+行业深度定制”的双轮驱动模式，以深度定制化解决方案赋能千行百业数字化转型。</p>
<p style="text-indent:2em;">
	标准化产品矩阵：覆盖核心场景的稳定底座</p>
<p style="text-indent:2em;">
	HopeOS服务器版操作系统：聚焦数据<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>AI算力场景，为模型大规模训练、推理及云边AI任务协同提供稳定、高性能的基础软件平台。</p>
<p style="text-indent:2em;">
	HopeOS边缘版操作系统：聚焦边缘智能场景，具备高性能、高智能、高可靠、高实时、高安全的核心特性，为智能制造、智慧科研及智慧政务等多元场景的数智化转型提供了底座支撑。</p>
<p style="text-indent:2em;">
	行业深度定制解决方案：精准破解细分领域差异化痛点</p>
<p style="text-indent:2em;">
	依托HopeOS技术积淀及全行业落地实践，润和软件推出“云边智能底座统一操作系统深度定制解决方案”。该方案以HopeOS为核心技术底座，覆盖服务器、边缘两大场景，为行业客户提供全流程定制化操作系统服务；以“通用产品为基、定制服务赋能”模式，摒弃通用产品的同质化局限，以“一对一”定制模式精准匹配行业客户的核心需求与实际场景，助力客户实现操作系统的深度适配与数智场景优化。</p>
<p style="text-indent:2em;">
	目前润和软件已向全球用户成功交付数十款深度定制的操作系统行业发行版，覆盖工业、金融、公共安全、电力、<a href="https://www.elecfans.com/v/tag/293/" target="_blank"><u>新能源</u></a>、智能制造、生物医药、电信、互联网、科研等领域。</p>
<p style="text-indent:2em;">
	依托开源技术创新与深度定制化服务的双重优势，润和软件已在千行百业打造了众多成功案例，成为推动产业数智化转型的重要实践者与赋能者。</p>
<p style="text-indent:2em;">
	安平：为某头部客户定制海量大数据分析及AI场景的操作系统行业发行版，打造智能、可靠的数字底座，已在31个省成功落地。</p>
<p style="text-indent:2em;">
	云厂商：为某行业头部客户提供公有云场景的国产操作系统行业发行版，助力客户国产、数智化创新。</p>
<p style="text-indent:2em;">
	科研：为多家顶级科研、航天航空院所提供云边智能底座解决方案。通过对服务器、边缘智能操作系统的行业深度定制，成功落地统一云边智能操作系统平台，深度赋能产学研协同创新。</p>
<p style="text-indent:2em;">
	金融：面向量化与极速交易场景，为多家行业头部客户定制操作系统行业发行版，精准赋能金融业务智能化转型。</p>
<p style="text-indent:2em;">
	电力：为某电力头部客户定制操作系统行业发行版，为电力二次设备提供智能运维与安全保障。</p>
<p style="text-indent:2em;">
	未来，润和软件将持续深耕开源欧拉生态，以技术创新为核心驱动力，优化HopeOS标准化系列产品的性能与生态适配能力；着重深化基于HopeOS的全场景、深度定制化能力，推动国产操作系统从“可用”向“好用、易用”迈进，为产业数字化底座注入更可靠、更灵活的核心动能。</p>
<p style="text-indent:2em;">
	江苏润和软件股份有限公司（简称“润和软件”）成立于2006年，2012年在深圳证券交易所创业板上市（证券代码：300339），是首批国家规划布局内重点软件企业、全国文明单位。公司总部位于南京，在北京、上海、深圳、香港等22个国内主要城市设有研发中心或分子公司，在日本、新加坡、美国等国设有海外分支机构，全球员工约17000人，拥有全球化的技术整合、客户响应与服务到达能力。</p>
<p style="text-indent:2em;">
	秉承“做民族软件脊梁，担世界进步责任”使命，润和软件致力成为“中国数智技术与服务创新的引领者”，通过国产化、数字化、智能化创新技术，软硬件一体化解决方案能力及全生命周期软件服务体系，激活行业新动能、发展新质生产力，助力广大客户数字化转型和智能化升级。</p>]]></description></item><item>    <title><![CDATA[润和软件旗下润开鸿获得中国互联网投资基金战略投资]]></title>    <link>https://www.elecfans.com/d/7634254.html</link>    <guid>https://www.elecfans.com/d/7634254.html</guid>    <pubDate>2026-02-01 17:14:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	近日，江苏润和软件股份有限公司旗下子公司江苏润开鸿数字科技有限公司（以下简称“润开鸿”）获得中国互联网投资基金（简称“中网投”）战略投资。</p>
<p style="text-indent:2em;">
	中网投是国务院批准设立，中央网信办与财政部共同发起的国家级产业投资基金，聚焦国家战略方向，秉承“补短板、锻长板、布前沿”投资策略，对国产<a href="https://m.elecfans.com/v/tag/527/" target="_blank"><u>操作系统</u></a>与基础软硬件、网络安全、<a href="https://m.elecfans.com/v/tag/150/" target="_blank"><u>人工智能</u></a>、产业数字化等领域高度关注。</p>
<p style="text-indent:2em;">
	润开鸿是江苏润和软件股份有限公司旗下专注<a href="https://www.elecfans.com/v/tag/40/" target="_blank"><u>鸿蒙</u></a>方向的专业技术公司及终端操作系统发行版提供商，聚焦基于开源鸿蒙、<a href="https://www.elecfans.com/v/tag/228/" target="_blank"><u>HarmonyOS</u></a>的新一代国产自主数字底座，面向以垂直行业为代表的千行百业提供深度融合行业特征与业务场景的终端商用设备操作系统发行版及解决方案，致力于以开源鸿蒙行业发行版驱动和牵引行业硬件与终端设备的创新，为行业创造新“智”生产工具。</p>
<p style="text-indent:2em;">
	本轮融资是对润开鸿坚定推进以开源鸿蒙为代表的国产数字底座技术创新、生态布局及产业拓展的价值认可。通过战略投资，中网投将支持润开鸿在开源鸿蒙领域的拓展和创新，加速推进关键核心技术突破，助推中国操作系统产业高质量发展。同时，本次战略投资也将为润开鸿在以开源鸿蒙为代表的关键根技术研发突破和产业扩容方面带来资本及生态的强劲助力，凭借中网投的平台赋能，不仅有助于进一步加速润开鸿在开源鸿蒙自主根技术的操作系统能力研发与行业场景创新的步伐，更在资源整合、市场拓展方面提供重要助力。</p>
<p style="text-indent:2em;">
	未来，润开鸿将持续加大研发投入，深化行业和生态赋能，“以鸿蒙的产业化，牵引产业的鸿蒙化”，推动国产数字化底座的创新与发展。</p>
<p style="text-indent:2em;">
	润开鸿是开源鸿蒙生态的重要参与方，通过本轮投资，支持润开鸿在开源鸿蒙领域的拓展和创新，为保障我国长期信息安全，服务网络强国、数字中国建设发挥重要作用。中网投秉承支持关键核心技术突破的使命，希望借助此次战略投资，助推中国操作系统产业高质量发展。<img src="https://file1.elecfans.com/web3/M00/4A/36/wKgZPGl_Gi6ALmZLAAABTl1U_-A414.png" alt="ec707084-fdc7-11f0-92de-92fbcf53809c.png"/></p>
<p style="text-indent:2em;">
	<span style="text-indent:2em;">江苏润和软件股份有限公司（简称“润和软件”）成立于2006年，2012年在深圳证券交易所创业板上市（证券代码：300339），是首批国家规划布局内重点软件企业、全国文明单位。公司总部位于南京，在北京、上海、深圳、香港等22个国内主要城市设有研发<a href="https://m.hqchip.com/tags" target="_blank"><u>中心</u></a>或分子公司，在日本、新加坡、美国等国设有海外分支机构，全球员工约17000人，拥有全球化的技术整合、客户响应与服务到达能力。</span></p>
<p style="text-indent:2em;">
	秉承“做民族软件脊梁，担世界进步责任”使命，润和软件致力成为“中国数智技术与服务创新的引领者”，通过国产化、数字化、智能化创新技术，软硬件一体化解决方案能力及全生命周期软件服务体系，激活行业新动能、发展新质生产力，助力广大客户数字化转型和智能化升级。</p>]]></description></item><item>    <title><![CDATA[中兴通讯与京东签署战略合作协议]]></title>    <link>https://www.elecfans.com/d/7634256.html</link>    <guid>https://www.elecfans.com/d/7634256.html</guid>    <pubDate>2026-02-01 17:18:00</pubDate>    <description><![CDATA[<p style="text-indent:2em;">
	1月30日，中兴通讯与京东签署战略合作协议，明确未来三年中兴通讯在京东全渠道实现销售额突破百亿的战略目标。双方将基于各自优势，推动中兴通讯旗下中兴、努比亚、红魔三大品牌与京东的战略合作，落地多品牌协同战略。根据协议，双方将不断深化国代合作模式、提升全渠道合作效率、共建<a href="https://www.elecfans.com/tags/ai/" target="_blank"><u>AI</u></a>体验生态，推动智能终端行业发展。同时，京东也将依托在零售、科技、金融等领域的优势以及京东超级供应链，助力中兴通讯产品与服务创新，共同探索增长新路径。</p>
<p style="text-indent:2em;">
	在合作模式方面，基于战略性全国总代理（国代）合作模式，未来双方明确将<a href="https://m.elecfans.com/v/tag/107/" target="_blank"><u>手机</u></a>、平板、随身WiFi等核心品类纳入专项国代合作范畴，推动合作从单品包销升级为全品类生态共建。中兴通讯将基于京东用户洞察能力与全渠道布局优势，双方将共同助力销售规模实现稳步增长。通过“核心品类引领、关联品类协同”这一全新形式，深化全品类发展布局，推动核心国代品类销售量级翻倍。</p>
<p style="text-indent:2em;">
	在全渠道合作方面，中兴通讯与京东进行全渠道业务的规模化拓展与高质量运营。线上以京东自营为核心阵地，为消费者提供高效履约服务体验；线下依托京东MALL、京东之家等门店，为红魔、努比亚旗舰产品开设品牌专属体验区，为消费者带来沉浸式场景化体验，实现全链路消费闭环。此外，双方还将重点推动三方品牌商家发展，通过流量、运营、资源等全方位扶持，为消费者带来更多选择空间。</p>
<p style="text-indent:2em;">
	在共建AI体验生态方面，双方将推进在<a href="https://www.elecfans.com/soft/data/42-102/" target="_blank"><u>AI技术</u></a>、<a href="https://m.elecfans.com/v/tag/475/" target="_blank"><u>云计算</u></a>等领域的合作。以京东JoyAI大模型全栈能力赋能中兴“AI for All”生态布局，聚焦手机、电竞设备、智能穿戴等核心终端品类，推动AI技术普及与体验升级。此前，由京东数字人技术自主打造、深度搭载京东JoyAI大模型的虚拟IP红魔姬Mora，已在京东直播平台完成数字人直播首秀。双方还将围绕数字人直播、智能客服等展开合作，优化中兴智能终端的产品消费体验，提升用户从选购到使用的全流程服务体验。此外，京东通过白条分期服务、消费品以旧换新、国家贴息等优惠举措，也将进一步降低消费门槛。</p>
<p style="text-indent:2em;">
	在签约现场，中兴通讯终端事业部相关负责人表示，京东是中兴通讯重要的战略合作伙伴，多年来持续将优质智能终端产品带给用户。相信随着这次的战略合作落地，能够让中兴系优质产品更精准触达目标客群，更将以联合创新为抓手，持续强化旗下各品牌差异化<a href="https://m.hqchip.com/tags" target="_blank"><u>标签</u></a>与核心竞争力，向着未来三年中兴通讯在京东全渠道销售额突破百亿的战略目标稳步迈进。</p>
<p style="text-indent:2em;">
	未来，中兴通讯与京东将携手并进，不断为广大消费者提供更丰富优质的产品，更高效的服务体验，让每个人都能享受科技带来的美好生活。同时，面对新机遇、新挑战，双方也将不断探索行业高质量发展之路，为整个产业创造更大的价值。</p>]]></description></item>  </channel></rss>